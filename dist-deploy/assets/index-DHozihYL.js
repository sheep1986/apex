var hB=Object.defineProperty;var fB=(e,r,s)=>r in e?hB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var li=(e,r,s)=>fB(e,typeof r!="symbol"?r+"":r,s);function pB(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var jb={exports:{}},nh={},Nb={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function xB(){if(R_)return zt;R_=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function y(z,Q,Ae){this.props=z,this.context=Q,this.refs=w,this.updater=Ae||v}y.prototype.isReactComponent={},y.prototype.setState=function(z,Q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Q,"setState")},y.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=y.prototype;function C(z,Q,Ae){this.props=z,this.context=Q,this.refs=w,this.updater=Ae||v}var S=C.prototype=new N;S.constructor=C,b(S,y.prototype),S.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(z,Q,Ae){var de,Z={},be=null,ke=null;if(Q!=null)for(de in Q.ref!==void 0&&(ke=Q.ref),Q.key!==void 0&&(be=""+Q.key),Q)A.call(Q,de)&&!T.hasOwnProperty(de)&&(Z[de]=Q[de]);var Ie=arguments.length-2;if(Ie===1)Z.children=Ae;else if(1<Ie){for(var ce=Array(Ie),Ce=0;Ce<Ie;Ce++)ce[Ce]=arguments[Ce+2];Z.children=ce}if(z&&z.defaultProps)for(de in Ie=z.defaultProps,Ie)Z[de]===void 0&&(Z[de]=Ie[de]);return{$$typeof:e,type:z,key:be,ref:ke,props:Z,_owner:E.current}}function L(z,Q){return{$$typeof:e,type:z.type,key:Q,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function R(z){var Q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Ae){return Q[Ae]})}var I=/\/+/g;function B(z,Q){return typeof z=="object"&&z!==null&&z.key!=null?R(""+z.key):Q.toString(36)}function H(z,Q,Ae,de,Z){var be=typeof z;(be==="undefined"||be==="boolean")&&(z=null);var ke=!1;if(z===null)ke=!0;else switch(be){case"string":case"number":ke=!0;break;case"object":switch(z.$$typeof){case e:case r:ke=!0}}if(ke)return ke=z,Z=Z(ke),z=de===""?"."+B(ke,0):de,k(Z)?(Ae="",z!=null&&(Ae=z.replace(I,"$&/")+"/"),H(Z,Q,Ae,"",function(Ce){return Ce})):Z!=null&&(V(Z)&&(Z=L(Z,Ae+(!Z.key||ke&&ke.key===Z.key?"":(""+Z.key).replace(I,"$&/")+"/")+z)),Q.push(Z)),1;if(ke=0,de=de===""?".":de+":",k(z))for(var Ie=0;Ie<z.length;Ie++){be=z[Ie];var ce=de+B(be,Ie);ke+=H(be,Q,Ae,ce,Z)}else if(ce=g(z),typeof ce=="function")for(z=ce.call(z),Ie=0;!(be=z.next()).done;)be=be.value,ce=de+B(be,Ie++),ke+=H(be,Q,Ae,ce,Z);else if(be==="object")throw Q=String(z),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return ke}function F(z,Q,Ae){if(z==null)return z;var de=[],Z=0;return H(z,de,"","",function(be){return Q.call(Ae,be,Z++)}),de}function U(z){if(z._status===-1){var Q=z._result;Q=Q(),Q.then(function(Ae){(z._status===0||z._status===-1)&&(z._status=1,z._result=Ae)},function(Ae){(z._status===0||z._status===-1)&&(z._status=2,z._result=Ae)}),z._status===-1&&(z._status=0,z._result=Q)}if(z._status===1)return z._result.default;throw z._result}var O={current:null},$={transition:null},W={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:$,ReactCurrentOwner:E};function q(){throw Error("act(...) is not supported in production builds of React.")}return zt.Children={map:F,forEach:function(z,Q,Ae){F(z,function(){Q.apply(this,arguments)},Ae)},count:function(z){var Q=0;return F(z,function(){Q++}),Q},toArray:function(z){return F(z,function(Q){return Q})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},zt.Component=y,zt.Fragment=s,zt.Profiler=n,zt.PureComponent=C,zt.StrictMode=a,zt.Suspense=d,zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,zt.act=q,zt.cloneElement=function(z,Q,Ae){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var de=b({},z.props),Z=z.key,be=z.ref,ke=z._owner;if(Q!=null){if(Q.ref!==void 0&&(be=Q.ref,ke=E.current),Q.key!==void 0&&(Z=""+Q.key),z.type&&z.type.defaultProps)var Ie=z.type.defaultProps;for(ce in Q)A.call(Q,ce)&&!T.hasOwnProperty(ce)&&(de[ce]=Q[ce]===void 0&&Ie!==void 0?Ie[ce]:Q[ce])}var ce=arguments.length-2;if(ce===1)de.children=Ae;else if(1<ce){Ie=Array(ce);for(var Ce=0;Ce<ce;Ce++)Ie[Ce]=arguments[Ce+2];de.children=Ie}return{$$typeof:e,type:z.type,key:Z,ref:be,props:de,_owner:ke}},zt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},zt.createElement=M,zt.createFactory=function(z){var Q=M.bind(null,z);return Q.type=z,Q},zt.createRef=function(){return{current:null}},zt.forwardRef=function(z){return{$$typeof:l,render:z}},zt.isValidElement=V,zt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:U}},zt.memo=function(z,Q){return{$$typeof:m,type:z,compare:Q===void 0?null:Q}},zt.startTransition=function(z){var Q=$.transition;$.transition={};try{z()}finally{$.transition=Q}},zt.unstable_act=q,zt.useCallback=function(z,Q){return O.current.useCallback(z,Q)},zt.useContext=function(z){return O.current.useContext(z)},zt.useDebugValue=function(){},zt.useDeferredValue=function(z){return O.current.useDeferredValue(z)},zt.useEffect=function(z,Q){return O.current.useEffect(z,Q)},zt.useId=function(){return O.current.useId()},zt.useImperativeHandle=function(z,Q,Ae){return O.current.useImperativeHandle(z,Q,Ae)},zt.useInsertionEffect=function(z,Q){return O.current.useInsertionEffect(z,Q)},zt.useLayoutEffect=function(z,Q){return O.current.useLayoutEffect(z,Q)},zt.useMemo=function(z,Q){return O.current.useMemo(z,Q)},zt.useReducer=function(z,Q,Ae){return O.current.useReducer(z,Q,Ae)},zt.useRef=function(z){return O.current.useRef(z)},zt.useState=function(z){return O.current.useState(z)},zt.useSyncExternalStore=function(z,Q,Ae){return O.current.useSyncExternalStore(z,Q,Ae)},zt.useTransition=function(){return O.current.useTransition()},zt.version="18.3.1",zt}var I_;function Xu(){return I_||(I_=1,Nb.exports=xB()),Nb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function yB(){if(D_)return nh;D_=1;var e=Xu(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,m){var h,f={},g=null,v=null;m!==void 0&&(g=""+m),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(h in d)a.call(d,h)&&!i.hasOwnProperty(h)&&(f[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)f[h]===void 0&&(f[h]=d[h]);return{$$typeof:r,type:l,key:g,ref:v,props:f,_owner:n.current}}return nh.Fragment=s,nh.jsx=o,nh.jsxs=o,nh}var L_;function vB(){return L_||(L_=1,jb.exports=yB()),jb.exports}var t=vB(),p=Xu();const le=gn(p),xx=pB({__proto__:null,default:le},[p]);var rg={},Sb={exports:{}},Wa={},Cb={exports:{}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function bB(){return $_||($_=1,function(e){function r($,W){var q=$.length;$.push(W);e:for(;0<q;){var z=q-1>>>1,Q=$[z];if(0<n(Q,W))$[z]=W,$[q]=Q,q=z;else break e}}function s($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var W=$[0],q=$.pop();if(q!==W){$[0]=q;e:for(var z=0,Q=$.length,Ae=Q>>>1;z<Ae;){var de=2*(z+1)-1,Z=$[de],be=de+1,ke=$[be];if(0>n(Z,q))be<Q&&0>n(ke,Z)?($[z]=ke,$[be]=q,z=be):($[z]=Z,$[de]=q,z=de);else if(be<Q&&0>n(ke,q))$[z]=ke,$[be]=q,z=be;else break e}}return W}function n($,W){var q=$.sortIndex-W.sortIndex;return q!==0?q:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],m=[],h=1,f=null,g=3,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var W=s(m);W!==null;){if(W.callback===null)a(m);else if(W.startTime<=$)a(m),W.sortIndex=W.expirationTime,r(d,W);else break;W=s(m)}}function k($){if(w=!1,S($),!b)if(s(d)!==null)b=!0,U(A);else{var W=s(m);W!==null&&O(k,W.startTime-$)}}function A($,W){b=!1,w&&(w=!1,N(M),M=-1),v=!0;var q=g;try{for(S(W),f=s(d);f!==null&&(!(f.expirationTime>W)||$&&!R());){var z=f.callback;if(typeof z=="function"){f.callback=null,g=f.priorityLevel;var Q=z(f.expirationTime<=W);W=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===s(d)&&a(d),S(W)}else a(d);f=s(d)}if(f!==null)var Ae=!0;else{var de=s(m);de!==null&&O(k,de.startTime-W),Ae=!1}return Ae}finally{f=null,g=q,v=!1}}var E=!1,T=null,M=-1,L=5,V=-1;function R(){return!(e.unstable_now()-V<L)}function I(){if(T!==null){var $=e.unstable_now();V=$;var W=!0;try{W=T(!0,$)}finally{W?B():(E=!1,T=null)}}else E=!1}var B;if(typeof C=="function")B=function(){C(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=I,B=function(){F.postMessage(null)}}else B=function(){y(I,0)};function U($){T=$,E||(E=!0,B())}function O($,W){M=y(function(){$(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,U(A))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var q=g;g=W;try{return $()}finally{g=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=g;g=$;try{return W()}finally{g=q}},e.unstable_scheduleCallback=function($,W,q){var z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?z+q:z):q=z,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,$={id:h++,callback:W,priorityLevel:$,startTime:q,expirationTime:Q,sortIndex:-1},q>z?($.sortIndex=q,r(m,$),s(d)===null&&$===s(m)&&(w?(N(M),M=-1):w=!0,O(k,q-z))):($.sortIndex=Q,r(d,$),b||v||(b=!0,U(A))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var W=g;return function(){var q=g;g=W;try{return $.apply(this,arguments)}finally{g=q}}}}(kb)),kb}var z_;function wB(){return z_||(z_=1,Cb.exports=bB()),Cb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function jB(){if(F_)return Wa;F_=1;var e=Xu(),r=wB();function s(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(n[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(c){return d.call(f,c)?!0:d.call(h,c)?!1:m.test(c)?f[c]=!0:(h[c]=!0,!1)}function v(c,u,x,j){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,u,x,j){if(u===null||typeof u>"u"||v(c,u,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(c,u,x,j,_,P,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=_,this.mustUseProperty=x,this.propertyName=c,this.type=u,this.sanitizeURL=P,this.removeEmptyString=D}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new w(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];y[u]=new w(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new w(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new w(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new w(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new w(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new w(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new w(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new w(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(N,C);y[u]=new w(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(N,C);y[u]=new w(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(N,C);y[u]=new w(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new w(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new w(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,u,x,j){var _=y.hasOwnProperty(u)?y[u]:null;(_!==null?_.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,x,_,j)&&(x=null),j||_===null?g(u)&&(x===null?c.removeAttribute(u):c.setAttribute(u,""+x)):_.mustUseProperty?c[_.propertyName]=x===null?_.type===3?!1:"":x:(u=_.attributeName,j=_.attributeNamespace,x===null?c.removeAttribute(u):(_=_.type,x=_===3||_===4&&x===!0?"":""+x,j?c.setAttributeNS(j,u,x):c.setAttribute(u,x))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),$=Symbol.iterator;function W(c){return c===null||typeof c!="object"?null:(c=$&&c[$]||c["@@iterator"],typeof c=="function"?c:null)}var q=Object.assign,z;function Q(c){if(z===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+c}var Ae=!1;function de(c,u){if(!c||Ae)return"";Ae=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(fe){var j=fe}Reflect.construct(c,[],u)}else{try{u.call()}catch(fe){j=fe}c.call(u.prototype)}else{try{throw Error()}catch(fe){j=fe}c()}}catch(fe){if(fe&&j&&typeof fe.stack=="string"){for(var _=fe.stack.split(`
`),P=j.stack.split(`
`),D=_.length-1,G=P.length-1;1<=D&&0<=G&&_[D]!==P[G];)G--;for(;1<=D&&0<=G;D--,G--)if(_[D]!==P[G]){if(D!==1||G!==1)do if(D--,G--,0>G||_[D]!==P[G]){var re=`
`+_[D].replace(" at new "," at ");return c.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",c.displayName)),re}while(1<=D&&0<=G);break}}}finally{Ae=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?Q(c):""}function Z(c){switch(c.tag){case 5:return Q(c.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return c=de(c.type,!1),c;case 11:return c=de(c.type.render,!1),c;case 1:return c=de(c.type,!0),c;default:return""}}function be(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case E:return"Portal";case L:return"Profiler";case M:return"StrictMode";case B:return"Suspense";case H:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case R:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case I:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case F:return u=c.displayName||null,u!==null?u:be(c.type)||"Memo";case U:u=c._payload,c=c._init;try{return be(c(u))}catch{}}return null}function ke(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ie(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ce(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(c){var u=ce(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),j=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var _=x.get,P=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return _.call(this)},set:function(D){j=""+D,P.call(this,D)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(D){j=""+D},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function Te(c){c._valueTracker||(c._valueTracker=Ce(c))}function te(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),j="";return c&&(j=ce(c)?c.checked?"true":"false":c.value),c=j,c!==x?(u.setValue(c),!0):!1}function we(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Oe(c,u){var x=u.checked;return q({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function Ue(c,u){var x=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;x=Ie(u.value!=null?u.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ie(c,u){u=u.checked,u!=null&&S(c,"checked",u,!1)}function Ge(c,u){ie(c,u);var x=Ie(u.value),j=u.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Ot(c,u.type,x):u.hasOwnProperty("defaultValue")&&Ot(c,u.type,Ie(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function Ct(c,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,x||u===c.value||(c.value=u),c.defaultValue=u}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Ot(c,u,x){(u!=="number"||we(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var Nt=Array.isArray;function me(c,u,x,j){if(c=c.options,u){u={};for(var _=0;_<x.length;_++)u["$"+x[_]]=!0;for(x=0;x<c.length;x++)_=u.hasOwnProperty("$"+c[x].value),c[x].selected!==_&&(c[x].selected=_),_&&j&&(c[x].defaultSelected=!0)}else{for(x=""+Ie(x),u=null,_=0;_<c.length;_++){if(c[_].value===x){c[_].selected=!0,j&&(c[_].defaultSelected=!0);return}u!==null||c[_].disabled||(u=c[_])}u!==null&&(u.selected=!0)}}function Be(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function kt(c,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(s(92));if(Nt(x)){if(1<x.length)throw Error(s(93));x=x[0]}u=x}u==null&&(u=""),x=u}c._wrapperState={initialValue:Ie(x)}}function Ht(c,u){var x=Ie(u.value),j=Ie(u.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),u.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function _t(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function vr(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gr(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?vr(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var br,bs=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,j,_){MSApp.execUnsafeLocalFunction(function(){return c(u,x,j,_)})}:c}(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=br.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Er(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Os=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(c){Os.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),Ke[u]=Ke[c]})});function ts(c,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||Ke.hasOwnProperty(c)&&Ke[c]?(""+u).trim():u+"px"}function hs(c,u){c=c.style;for(var x in u)if(u.hasOwnProperty(x)){var j=x.indexOf("--")===0,_=ts(x,u[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,_):c[x]=_}}var pt=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(c,u){if(u){if(pt[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(s(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(s(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(s(61))}if(u.style!=null&&typeof u.style!="object")throw Error(s(62))}}function It(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function ne(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ye=null,Fe=null,it=null;function vt(c){if(c=Vm(c)){if(typeof ye!="function")throw Error(s(280));var u=c.stateNode;u&&(u=xp(u),ye(c.stateNode,c.type,u))}}function Zt(c){Fe?it?it.push(c):it=[c]:Fe=c}function wt(){if(Fe){var c=Fe,u=it;if(it=Fe=null,vt(c),u)for(c=0;c<u.length;c++)vt(u[c])}}function ra(c,u){return c(u)}function sa(){}var aa=!1;function Ai(c,u,x){if(aa)return c(u,x);aa=!0;try{return ra(c,u,x)}finally{aa=!1,(Fe!==null||it!==null)&&(sa(),wt())}}function wr(c,u){var x=c.stateNode;if(x===null)return null;var j=xp(x);if(j===null)return null;x=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(s(231,u,typeof x));return x}var ws=!1;if(l)try{var na={};Object.defineProperty(na,"passive",{get:function(){ws=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{ws=!1}function bn(c,u,x,j,_,P,D,G,re){var fe=Array.prototype.slice.call(arguments,3);try{u.apply(x,fe)}catch(Me){this.onError(Me)}}var js=!1,Da=null,Kt=!1,Ei=null,$t={onError:function(c){js=!0,Da=c}};function tr(c,u,x,j,_,P,D,G,re){js=!1,Da=null,bn.apply($t,arguments)}function _e(c,u,x,j,_,P,D,G,re){if(tr.apply(this,arguments),js){if(js){var fe=Da;js=!1,Da=null}else throw Error(s(198));Kt||(Kt=!0,Ei=fe)}}function Ze(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function Pt(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function At(c){if(Ze(c)!==c)throw Error(s(188))}function Wr(c){var u=c.alternate;if(!u){if(u=Ze(c),u===null)throw Error(s(188));return u!==c?null:c}for(var x=c,j=u;;){var _=x.return;if(_===null)break;var P=_.alternate;if(P===null){if(j=_.return,j!==null){x=j;continue}break}if(_.child===P.child){for(P=_.child;P;){if(P===x)return At(_),c;if(P===j)return At(_),u;P=P.sibling}throw Error(s(188))}if(x.return!==j.return)x=_,j=P;else{for(var D=!1,G=_.child;G;){if(G===x){D=!0,x=_,j=P;break}if(G===j){D=!0,j=_,x=P;break}G=G.sibling}if(!D){for(G=P.child;G;){if(G===x){D=!0,x=P,j=_;break}if(G===j){D=!0,j=P,x=_;break}G=G.sibling}if(!D)throw Error(s(189))}}if(x.alternate!==j)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?c:u}function Ti(c){return c=Wr(c),c!==null?Xn(c):null}function Xn(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=Xn(c);if(u!==null)return u;c=c.sibling}return null}var La=r.unstable_scheduleCallback,Qa=r.unstable_cancelCallback,wn=r.unstable_shouldYield,co=r.unstable_requestPaint,rr=r.unstable_now,el=r.unstable_getCurrentPriorityLevel,je=r.unstable_ImmediatePriority,ze=r.unstable_UserBlockingPriority,ot=r.unstable_NormalPriority,lt=r.unstable_LowPriority,yr=r.unstable_IdlePriority,jt=null,Xt=null;function Ms(c){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(jt,c,void 0,(c.current.flags&128)===128)}catch{}}var Y=Math.clz32?Math.clz32:Sr,ve=Math.log,dr=Math.LN2;function Sr(c){return c>>>=0,c===0?32:31-(ve(c)/dr|0)|0}var Dr=64,Ks=4194304;function jn(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function uo(c,u){var x=c.pendingLanes;if(x===0)return 0;var j=0,_=c.suspendedLanes,P=c.pingedLanes,D=x&268435455;if(D!==0){var G=D&~_;G!==0?j=jn(G):(P&=D,P!==0&&(j=jn(P)))}else D=x&~_,D!==0?j=jn(D):P!==0&&(j=jn(P));if(j===0)return 0;if(u!==0&&u!==j&&(u&_)===0&&(_=j&-j,P=u&-u,_>=P||_===16&&(P&4194240)!==0))return u;if((j&4)!==0&&(j|=x&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=j;0<u;)x=31-Y(u),_=1<<x,j|=c[x],u&=~_;return j}function Zf(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(c,u){for(var x=c.suspendedLanes,j=c.pingedLanes,_=c.expirationTimes,P=c.pendingLanes;0<P;){var D=31-Y(P),G=1<<D,re=_[D];re===-1?((G&x)===0||(G&j)!==0)&&(_[D]=Zf(G,u)):re<=u&&(c.expiredLanes|=G),P&=~G}}function _d(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function jm(){var c=Dr;return Dr<<=1,(Dr&4194240)===0&&(Dr=64),c}function Pd(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function tl(c,u,x){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Y(u),c[u]=x}function tp(c,u){var x=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var _=31-Y(x),P=1<<_;u[_]=0,j[_]=-1,c[_]=-1,x&=~P}}function Ad(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var j=31-Y(x),_=1<<j;_&u|c[j]&u&&(c[j]|=u),x&=~_}}var sr=0;function Nm(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Sm,Ed,Cm,km,_m,Td=!1,hc=[],Qn=null,Zn=null,ei=null,rl=new Map,sl=new Map,ti=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pm(c,u){switch(c){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":rl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(u.pointerId)}}function al(c,u,x,j,_,P){return c===null||c.nativeEvent!==P?(c={blockedOn:u,domEventName:x,eventSystemFlags:j,nativeEvent:P,targetContainers:[_]},u!==null&&(u=Vm(u),u!==null&&Ed(u)),c):(c.eventSystemFlags|=j,u=c.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),c)}function sp(c,u,x,j,_){switch(u){case"focusin":return Qn=al(Qn,c,u,x,j,_),!0;case"dragenter":return Zn=al(Zn,c,u,x,j,_),!0;case"mouseover":return ei=al(ei,c,u,x,j,_),!0;case"pointerover":var P=_.pointerId;return rl.set(P,al(rl.get(P)||null,c,u,x,j,_)),!0;case"gotpointercapture":return P=_.pointerId,sl.set(P,al(sl.get(P)||null,c,u,x,j,_)),!0}return!1}function Am(c){var u=gc(c.target);if(u!==null){var x=Ze(u);if(x!==null){if(u=x.tag,u===13){if(u=Pt(x),u!==null){c.blockedOn=u,_m(c.priority,function(){Cm(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function fc(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=Tm(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);Lt=j,x.target.dispatchEvent(j),Lt=null}else return u=Vm(x),u!==null&&Ed(u),c.blockedOn=x,!1;u.shift()}return!0}function Em(c,u,x){fc(c)&&x.delete(u)}function ap(){Td=!1,Qn!==null&&fc(Qn)&&(Qn=null),Zn!==null&&fc(Zn)&&(Zn=null),ei!==null&&fc(ei)&&(ei=null),rl.forEach(Em),sl.forEach(Em)}function nl(c,u){c.blockedOn===u&&(c.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ap)))}function il(c){function u(_){return nl(_,c)}if(0<hc.length){nl(hc[0],c);for(var x=1;x<hc.length;x++){var j=hc[x];j.blockedOn===c&&(j.blockedOn=null)}}for(Qn!==null&&nl(Qn,c),Zn!==null&&nl(Zn,c),ei!==null&&nl(ei,c),rl.forEach(u),sl.forEach(u),x=0;x<ti.length;x++)j=ti[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<ti.length&&(x=ti[0],x.blockedOn===null);)Am(x),x.blockedOn===null&&ti.shift()}var mo=k.ReactCurrentBatchConfig,pc=!0;function np(c,u,x,j){var _=sr,P=mo.transition;mo.transition=null;try{sr=1,Od(c,u,x,j)}finally{sr=_,mo.transition=P}}function ip(c,u,x,j){var _=sr,P=mo.transition;mo.transition=null;try{sr=4,Od(c,u,x,j)}finally{sr=_,mo.transition=P}}function Od(c,u,x,j){if(pc){var _=Tm(c,u,x,j);if(_===null)mv(c,u,j,We,x),Pm(c,j);else if(sp(_,c,u,x,j))j.stopPropagation();else if(Pm(c,j),u&4&&-1<rp.indexOf(c)){for(;_!==null;){var P=Vm(_);if(P!==null&&Sm(P),P=Tm(c,u,x,j),P===null&&mv(c,u,j,We,x),P===_)break;_=P}_!==null&&j.stopPropagation()}else mv(c,u,j,null,x)}}var We=null;function Tm(c,u,x,j){if(We=null,c=ne(j),c=gc(c),c!==null)if(u=Ze(c),u===null)c=null;else if(x=u.tag,x===13){if(c=Pt(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return We=c,null}function Md(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(el()){case je:return 1;case ze:return 4;case ot:case lt:return 16;case yr:return 536870912;default:return 16}default:return 16}}var ur=null,Lr=null,ho=null;function Om(){if(ho)return ho;var c,u=Lr,x=u.length,j,_="value"in ur?ur.value:ur.textContent,P=_.length;for(c=0;c<x&&u[c]===_[c];c++);var D=x-c;for(j=1;j<=D&&u[x-j]===_[P-j];j++);return ho=_.slice(c,1<j?1-j:void 0)}function op(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function lp(){return!0}function j4(){return!1}function Za(c){function u(x,j,_,P,D){this._reactName=x,this._targetInst=_,this.type=j,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var G in c)c.hasOwnProperty(G)&&(x=c[G],this[G]=x?x(P):P[G]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?lp:j4,this.isPropagationStopped=j4,this}return q(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=lp)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=lp)},persist:function(){},isPersistent:lp}),u}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xy=Za(Rd),Mm=q({},Rd,{view:0,detail:0}),FU=Za(Mm),Qy,Zy,Rm,cp=q({},Mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rm&&(Rm&&c.type==="mousemove"?(Qy=c.screenX-Rm.screenX,Zy=c.screenY-Rm.screenY):Zy=Qy=0,Rm=c),Qy)},movementY:function(c){return"movementY"in c?c.movementY:Zy}}),N4=Za(cp),UU=q({},cp,{dataTransfer:0}),BU=Za(UU),WU=q({},Mm,{relatedTarget:0}),ev=Za(WU),VU=q({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),qU=Za(VU),HU=q({},Rd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),KU=Za(HU),GU=q({},Rd,{data:0}),S4=Za(GU),YU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QU(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=XU[c])?!!u[c]:!1}function tv(){return QU}var ZU=q({},Mm,{key:function(c){if(c.key){var u=YU[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=op(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?JU[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(c){return c.type==="keypress"?op(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?op(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),e9=Za(ZU),t9=q({},cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C4=Za(t9),r9=q({},Mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),s9=Za(r9),a9=q({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),n9=Za(a9),i9=q({},cp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),o9=Za(i9),l9=[9,13,27,32],rv=l&&"CompositionEvent"in window,Im=null;l&&"documentMode"in document&&(Im=document.documentMode);var c9=l&&"TextEvent"in window&&!Im,k4=l&&(!rv||Im&&8<Im&&11>=Im),_4=" ",P4=!1;function A4(c,u){switch(c){case"keyup":return l9.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E4(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Id=!1;function d9(c,u){switch(c){case"compositionend":return E4(u);case"keypress":return u.which!==32?null:(P4=!0,_4);case"textInput":return c=u.data,c===_4&&P4?null:c;default:return null}}function u9(c,u){if(Id)return c==="compositionend"||!rv&&A4(c,u)?(c=Om(),ho=Lr=ur=null,Id=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return k4&&u.locale!=="ko"?null:u.data;default:return null}}var m9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T4(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!m9[c.type]:u==="textarea"}function O4(c,u,x,j){Zt(j),u=fp(u,"onChange"),0<u.length&&(x=new Xy("onChange","change",null,x,j),c.push({event:x,listeners:u}))}var Dm=null,Lm=null;function h9(c){J4(c,0)}function dp(c){var u=Fd(c);if(te(u))return c}function f9(c,u){if(c==="change")return u}var M4=!1;if(l){var sv;if(l){var av="oninput"in document;if(!av){var R4=document.createElement("div");R4.setAttribute("oninput","return;"),av=typeof R4.oninput=="function"}sv=av}else sv=!1;M4=sv&&(!document.documentMode||9<document.documentMode)}function I4(){Dm&&(Dm.detachEvent("onpropertychange",D4),Lm=Dm=null)}function D4(c){if(c.propertyName==="value"&&dp(Lm)){var u=[];O4(u,Lm,c,ne(c)),Ai(h9,u)}}function p9(c,u,x){c==="focusin"?(I4(),Dm=u,Lm=x,Dm.attachEvent("onpropertychange",D4)):c==="focusout"&&I4()}function g9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return dp(Lm)}function x9(c,u){if(c==="click")return dp(u)}function y9(c,u){if(c==="input"||c==="change")return dp(u)}function v9(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var ri=typeof Object.is=="function"?Object.is:v9;function $m(c,u){if(ri(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),j=Object.keys(u);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var _=x[j];if(!d.call(u,_)||!ri(c[_],u[_]))return!1}return!0}function L4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function $4(c,u){var x=L4(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=u&&j>=u)return{node:x,offset:u-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=L4(x)}}function z4(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?z4(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function F4(){for(var c=window,u=we();u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=we(c.document)}return u}function nv(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function b9(c){var u=F4(),x=c.focusedElem,j=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&z4(x.ownerDocument.documentElement,x)){if(j!==null&&nv(x)){if(u=j.start,c=j.end,c===void 0&&(c=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(c,x.value.length);else if(c=(u=x.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var _=x.textContent.length,P=Math.min(j.start,_);j=j.end===void 0?P:Math.min(j.end,_),!c.extend&&P>j&&(_=j,j=P,P=_),_=$4(x,P);var D=$4(x,j);_&&D&&(c.rangeCount!==1||c.anchorNode!==_.node||c.anchorOffset!==_.offset||c.focusNode!==D.node||c.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),c.removeAllRanges(),P>j?(c.addRange(u),c.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),c.addRange(u)))}}for(u=[],c=x;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)c=u[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var w9=l&&"documentMode"in document&&11>=document.documentMode,Dd=null,iv=null,zm=null,ov=!1;function U4(c,u,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ov||Dd==null||Dd!==we(j)||(j=Dd,"selectionStart"in j&&nv(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),zm&&$m(zm,j)||(zm=j,j=fp(iv,"onSelect"),0<j.length&&(u=new Xy("onSelect","select",null,u,x),c.push({event:u,listeners:j}),u.target=Dd)))}function up(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var Ld={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},lv={},B4={};l&&(B4=document.createElement("div").style,"AnimationEvent"in window||(delete Ld.animationend.animation,delete Ld.animationiteration.animation,delete Ld.animationstart.animation),"TransitionEvent"in window||delete Ld.transitionend.transition);function mp(c){if(lv[c])return lv[c];if(!Ld[c])return c;var u=Ld[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in B4)return lv[c]=u[x];return c}var W4=mp("animationend"),V4=mp("animationiteration"),q4=mp("animationstart"),H4=mp("transitionend"),K4=new Map,G4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(c,u){K4.set(c,u),i(u,[c])}for(var cv=0;cv<G4.length;cv++){var dv=G4[cv],j9=dv.toLowerCase(),N9=dv[0].toUpperCase()+dv.slice(1);ol(j9,"on"+N9)}ol(W4,"onAnimationEnd"),ol(V4,"onAnimationIteration"),ol(q4,"onAnimationStart"),ol("dblclick","onDoubleClick"),ol("focusin","onFocus"),ol("focusout","onBlur"),ol(H4,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fm));function Y4(c,u,x){var j=c.type||"unknown-event";c.currentTarget=x,_e(j,u,void 0,c),c.currentTarget=null}function J4(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],_=j.event;j=j.listeners;e:{var P=void 0;if(u)for(var D=j.length-1;0<=D;D--){var G=j[D],re=G.instance,fe=G.currentTarget;if(G=G.listener,re!==P&&_.isPropagationStopped())break e;Y4(_,G,fe),P=re}else for(D=0;D<j.length;D++){if(G=j[D],re=G.instance,fe=G.currentTarget,G=G.listener,re!==P&&_.isPropagationStopped())break e;Y4(_,G,fe),P=re}}}if(Kt)throw c=Ei,Kt=!1,Ei=null,c}function Tr(c,u){var x=u[yv];x===void 0&&(x=u[yv]=new Set);var j=c+"__bubble";x.has(j)||(X4(u,c,2,!1),x.add(j))}function uv(c,u,x){var j=0;u&&(j|=4),X4(x,c,j,u)}var hp="_reactListening"+Math.random().toString(36).slice(2);function Um(c){if(!c[hp]){c[hp]=!0,a.forEach(function(x){x!=="selectionchange"&&(S9.has(x)||uv(x,!1,c),uv(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[hp]||(u[hp]=!0,uv("selectionchange",!1,u))}}function X4(c,u,x,j){switch(Md(u)){case 1:var _=np;break;case 4:_=ip;break;default:_=Od}x=_.bind(null,u,x,c),_=void 0,!ws||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),j?_!==void 0?c.addEventListener(u,x,{capture:!0,passive:_}):c.addEventListener(u,x,!0):_!==void 0?c.addEventListener(u,x,{passive:_}):c.addEventListener(u,x,!1)}function mv(c,u,x,j,_){var P=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var D=j.tag;if(D===3||D===4){var G=j.stateNode.containerInfo;if(G===_||G.nodeType===8&&G.parentNode===_)break;if(D===4)for(D=j.return;D!==null;){var re=D.tag;if((re===3||re===4)&&(re=D.stateNode.containerInfo,re===_||re.nodeType===8&&re.parentNode===_))return;D=D.return}for(;G!==null;){if(D=gc(G),D===null)return;if(re=D.tag,re===5||re===6){j=P=D;continue e}G=G.parentNode}}j=j.return}Ai(function(){var fe=P,Me=ne(x),Re=[];e:{var Ee=K4.get(c);if(Ee!==void 0){var qe=Xy,Xe=c;switch(c){case"keypress":if(op(x)===0)break e;case"keydown":case"keyup":qe=e9;break;case"focusin":Xe="focus",qe=ev;break;case"focusout":Xe="blur",qe=ev;break;case"beforeblur":case"afterblur":qe=ev;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=N4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=BU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=s9;break;case W4:case V4:case q4:qe=qU;break;case H4:qe=n9;break;case"scroll":qe=FU;break;case"wheel":qe=o9;break;case"copy":case"cut":case"paste":qe=KU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=C4}var Qe=(u&4)!==0,rs=!Qe&&c==="scroll",oe=Qe?Ee!==null?Ee+"Capture":null:Ee;Qe=[];for(var ae=fe,ue;ae!==null;){ue=ae;var De=ue.stateNode;if(ue.tag===5&&De!==null&&(ue=De,oe!==null&&(De=wr(ae,oe),De!=null&&Qe.push(Bm(ae,De,ue)))),rs)break;ae=ae.return}0<Qe.length&&(Ee=new qe(Ee,Xe,null,x,Me),Re.push({event:Ee,listeners:Qe}))}}if((u&7)===0){e:{if(Ee=c==="mouseover"||c==="pointerover",qe=c==="mouseout"||c==="pointerout",Ee&&x!==Lt&&(Xe=x.relatedTarget||x.fromElement)&&(gc(Xe)||Xe[fo]))break e;if((qe||Ee)&&(Ee=Me.window===Me?Me:(Ee=Me.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,qe?(Xe=x.relatedTarget||x.toElement,qe=fe,Xe=Xe?gc(Xe):null,Xe!==null&&(rs=Ze(Xe),Xe!==rs||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(qe=null,Xe=fe),qe!==Xe)){if(Qe=N4,De="onMouseLeave",oe="onMouseEnter",ae="mouse",(c==="pointerout"||c==="pointerover")&&(Qe=C4,De="onPointerLeave",oe="onPointerEnter",ae="pointer"),rs=qe==null?Ee:Fd(qe),ue=Xe==null?Ee:Fd(Xe),Ee=new Qe(De,ae+"leave",qe,x,Me),Ee.target=rs,Ee.relatedTarget=ue,De=null,gc(Me)===fe&&(Qe=new Qe(oe,ae+"enter",Xe,x,Me),Qe.target=ue,Qe.relatedTarget=rs,De=Qe),rs=De,qe&&Xe)t:{for(Qe=qe,oe=Xe,ae=0,ue=Qe;ue;ue=$d(ue))ae++;for(ue=0,De=oe;De;De=$d(De))ue++;for(;0<ae-ue;)Qe=$d(Qe),ae--;for(;0<ue-ae;)oe=$d(oe),ue--;for(;ae--;){if(Qe===oe||oe!==null&&Qe===oe.alternate)break t;Qe=$d(Qe),oe=$d(oe)}Qe=null}else Qe=null;qe!==null&&Q4(Re,Ee,qe,Qe,!1),Xe!==null&&rs!==null&&Q4(Re,rs,Xe,Qe,!0)}}e:{if(Ee=fe?Fd(fe):window,qe=Ee.nodeName&&Ee.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ee.type==="file")var et=f9;else if(T4(Ee))if(M4)et=y9;else{et=g9;var ct=p9}else(qe=Ee.nodeName)&&qe.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(et=x9);if(et&&(et=et(c,fe))){O4(Re,et,x,Me);break e}ct&&ct(c,Ee,fe),c==="focusout"&&(ct=Ee._wrapperState)&&ct.controlled&&Ee.type==="number"&&Ot(Ee,"number",Ee.value)}switch(ct=fe?Fd(fe):window,c){case"focusin":(T4(ct)||ct.contentEditable==="true")&&(Dd=ct,iv=fe,zm=null);break;case"focusout":zm=iv=Dd=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,U4(Re,x,Me);break;case"selectionchange":if(w9)break;case"keydown":case"keyup":U4(Re,x,Me)}var dt;if(rv)e:{switch(c){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Id?A4(c,x)&&(gt="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(gt="onCompositionStart");gt&&(k4&&x.locale!=="ko"&&(Id||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Id&&(dt=Om()):(ur=Me,Lr="value"in ur?ur.value:ur.textContent,Id=!0)),ct=fp(fe,gt),0<ct.length&&(gt=new S4(gt,c,null,x,Me),Re.push({event:gt,listeners:ct}),dt?gt.data=dt:(dt=E4(x),dt!==null&&(gt.data=dt)))),(dt=c9?d9(c,x):u9(c,x))&&(fe=fp(fe,"onBeforeInput"),0<fe.length&&(Me=new S4("onBeforeInput","beforeinput",null,x,Me),Re.push({event:Me,listeners:fe}),Me.data=dt))}J4(Re,u)})}function Bm(c,u,x){return{instance:c,listener:u,currentTarget:x}}function fp(c,u){for(var x=u+"Capture",j=[];c!==null;){var _=c,P=_.stateNode;_.tag===5&&P!==null&&(_=P,P=wr(c,x),P!=null&&j.unshift(Bm(c,P,_)),P=wr(c,u),P!=null&&j.push(Bm(c,P,_))),c=c.return}return j}function $d(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Q4(c,u,x,j,_){for(var P=u._reactName,D=[];x!==null&&x!==j;){var G=x,re=G.alternate,fe=G.stateNode;if(re!==null&&re===j)break;G.tag===5&&fe!==null&&(G=fe,_?(re=wr(x,P),re!=null&&D.unshift(Bm(x,re,G))):_||(re=wr(x,P),re!=null&&D.push(Bm(x,re,G)))),x=x.return}D.length!==0&&c.push({event:u,listeners:D})}var C9=/\r\n?/g,k9=/\u0000|\uFFFD/g;function Z4(c){return(typeof c=="string"?c:""+c).replace(C9,`
`).replace(k9,"")}function pp(c,u,x){if(u=Z4(u),Z4(c)!==u&&x)throw Error(s(425))}function gp(){}var hv=null,fv=null;function pv(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,_9=typeof clearTimeout=="function"?clearTimeout:void 0,ek=typeof Promise=="function"?Promise:void 0,P9=typeof queueMicrotask=="function"?queueMicrotask:typeof ek<"u"?function(c){return ek.resolve(null).then(c).catch(A9)}:gv;function A9(c){setTimeout(function(){throw c})}function xv(c,u){var x=u,j=0;do{var _=x.nextSibling;if(c.removeChild(x),_&&_.nodeType===8)if(x=_.data,x==="/$"){if(j===0){c.removeChild(_),il(u);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=_}while(x);il(u)}function ll(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function tk(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}var zd=Math.random().toString(36).slice(2),Oi="__reactFiber$"+zd,Wm="__reactProps$"+zd,fo="__reactContainer$"+zd,yv="__reactEvents$"+zd,E9="__reactListeners$"+zd,T9="__reactHandles$"+zd;function gc(c){var u=c[Oi];if(u)return u;for(var x=c.parentNode;x;){if(u=x[fo]||x[Oi]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=tk(c);c!==null;){if(x=c[Oi])return x;c=tk(c)}return u}c=x,x=c.parentNode}return null}function Vm(c){return c=c[Oi]||c[fo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Fd(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(s(33))}function xp(c){return c[Wm]||null}var vv=[],Ud=-1;function cl(c){return{current:c}}function Or(c){0>Ud||(c.current=vv[Ud],vv[Ud]=null,Ud--)}function Cr(c,u){Ud++,vv[Ud]=c.current,c.current=u}var dl={},ia=cl(dl),$a=cl(!1),xc=dl;function Bd(c,u){var x=c.type.contextTypes;if(!x)return dl;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var _={},P;for(P in x)_[P]=u[P];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=_),_}function za(c){return c=c.childContextTypes,c!=null}function yp(){Or($a),Or(ia)}function rk(c,u,x){if(ia.current!==dl)throw Error(s(168));Cr(ia,u),Cr($a,x)}function sk(c,u,x){var j=c.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var _ in j)if(!(_ in u))throw Error(s(108,ke(c)||"Unknown",_));return q({},x,j)}function vp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||dl,xc=ia.current,Cr(ia,c),Cr($a,$a.current),!0}function ak(c,u,x){var j=c.stateNode;if(!j)throw Error(s(169));x?(c=sk(c,u,xc),j.__reactInternalMemoizedMergedChildContext=c,Or($a),Or(ia),Cr(ia,c)):Or($a),Cr($a,x)}var po=null,bp=!1,bv=!1;function nk(c){po===null?po=[c]:po.push(c)}function O9(c){bp=!0,nk(c)}function ul(){if(!bv&&po!==null){bv=!0;var c=0,u=sr;try{var x=po;for(sr=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}po=null,bp=!1}catch(_){throw po!==null&&(po=po.slice(c+1)),La(je,ul),_}finally{sr=u,bv=!1}}return null}var Wd=[],Vd=0,wp=null,jp=0,Nn=[],Sn=0,yc=null,go=1,xo="";function vc(c,u){Wd[Vd++]=jp,Wd[Vd++]=wp,wp=c,jp=u}function ik(c,u,x){Nn[Sn++]=go,Nn[Sn++]=xo,Nn[Sn++]=yc,yc=c;var j=go;c=xo;var _=32-Y(j)-1;j&=~(1<<_),x+=1;var P=32-Y(u)+_;if(30<P){var D=_-_%5;P=(j&(1<<D)-1).toString(32),j>>=D,_-=D,go=1<<32-Y(u)+_|x<<_|j,xo=P+c}else go=1<<P|x<<_|j,xo=c}function wv(c){c.return!==null&&(vc(c,1),ik(c,1,0))}function jv(c){for(;c===wp;)wp=Wd[--Vd],Wd[Vd]=null,jp=Wd[--Vd],Wd[Vd]=null;for(;c===yc;)yc=Nn[--Sn],Nn[Sn]=null,xo=Nn[--Sn],Nn[Sn]=null,go=Nn[--Sn],Nn[Sn]=null}var en=null,tn=null,$r=!1,si=null;function ok(c,u){var x=Pn(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=c,u=c.deletions,u===null?(c.deletions=[x],c.flags|=16):u.push(x)}function lk(c,u){switch(c.tag){case 5:var x=c.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,en=c,tn=ll(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,en=c,tn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=yc!==null?{id:go,overflow:xo}:null,c.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=Pn(18,null,null,0),x.stateNode=u,x.return=c,c.child=x,en=c,tn=null,!0):!1;default:return!1}}function Nv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Sv(c){if($r){var u=tn;if(u){var x=u;if(!lk(c,u)){if(Nv(c))throw Error(s(418));u=ll(x.nextSibling);var j=en;u&&lk(c,u)?ok(j,x):(c.flags=c.flags&-4097|2,$r=!1,en=c)}}else{if(Nv(c))throw Error(s(418));c.flags=c.flags&-4097|2,$r=!1,en=c}}}function ck(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;en=c}function Np(c){if(c!==en)return!1;if(!$r)return ck(c),$r=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!pv(c.type,c.memoizedProps)),u&&(u=tn)){if(Nv(c))throw dk(),Error(s(418));for(;u;)ok(c,u),u=ll(u.nextSibling)}if(ck(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(u===0){tn=ll(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}c=c.nextSibling}tn=null}}else tn=en?ll(c.stateNode.nextSibling):null;return!0}function dk(){for(var c=tn;c;)c=ll(c.nextSibling)}function qd(){tn=en=null,$r=!1}function Cv(c){si===null?si=[c]:si.push(c)}var M9=k.ReactCurrentBatchConfig;function qm(c,u,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(s(309));var j=x.stateNode}if(!j)throw Error(s(147,c));var _=j,P=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(D){var G=_.refs;D===null?delete G[P]:G[P]=D},u._stringRef=P,u)}if(typeof c!="string")throw Error(s(284));if(!x._owner)throw Error(s(290,c))}return c}function Sp(c,u){throw c=Object.prototype.toString.call(u),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function uk(c){var u=c._init;return u(c._payload)}function mk(c){function u(oe,ae){if(c){var ue=oe.deletions;ue===null?(oe.deletions=[ae],oe.flags|=16):ue.push(ae)}}function x(oe,ae){if(!c)return null;for(;ae!==null;)u(oe,ae),ae=ae.sibling;return null}function j(oe,ae){for(oe=new Map;ae!==null;)ae.key!==null?oe.set(ae.key,ae):oe.set(ae.index,ae),ae=ae.sibling;return oe}function _(oe,ae){return oe=vl(oe,ae),oe.index=0,oe.sibling=null,oe}function P(oe,ae,ue){return oe.index=ue,c?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<ae?(oe.flags|=2,ae):ue):(oe.flags|=2,ae)):(oe.flags|=1048576,ae)}function D(oe){return c&&oe.alternate===null&&(oe.flags|=2),oe}function G(oe,ae,ue,De){return ae===null||ae.tag!==6?(ae=gb(ue,oe.mode,De),ae.return=oe,ae):(ae=_(ae,ue),ae.return=oe,ae)}function re(oe,ae,ue,De){var et=ue.type;return et===T?Me(oe,ae,ue.props.children,De,ue.key):ae!==null&&(ae.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===U&&uk(et)===ae.type)?(De=_(ae,ue.props),De.ref=qm(oe,ae,ue),De.return=oe,De):(De=Gp(ue.type,ue.key,ue.props,null,oe.mode,De),De.ref=qm(oe,ae,ue),De.return=oe,De)}function fe(oe,ae,ue,De){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ue.containerInfo||ae.stateNode.implementation!==ue.implementation?(ae=xb(ue,oe.mode,De),ae.return=oe,ae):(ae=_(ae,ue.children||[]),ae.return=oe,ae)}function Me(oe,ae,ue,De,et){return ae===null||ae.tag!==7?(ae=_c(ue,oe.mode,De,et),ae.return=oe,ae):(ae=_(ae,ue),ae.return=oe,ae)}function Re(oe,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=gb(""+ae,oe.mode,ue),ae.return=oe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ue=Gp(ae.type,ae.key,ae.props,null,oe.mode,ue),ue.ref=qm(oe,null,ae),ue.return=oe,ue;case E:return ae=xb(ae,oe.mode,ue),ae.return=oe,ae;case U:var De=ae._init;return Re(oe,De(ae._payload),ue)}if(Nt(ae)||W(ae))return ae=_c(ae,oe.mode,ue,null),ae.return=oe,ae;Sp(oe,ae)}return null}function Ee(oe,ae,ue,De){var et=ae!==null?ae.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return et!==null?null:G(oe,ae,""+ue,De);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return ue.key===et?re(oe,ae,ue,De):null;case E:return ue.key===et?fe(oe,ae,ue,De):null;case U:return et=ue._init,Ee(oe,ae,et(ue._payload),De)}if(Nt(ue)||W(ue))return et!==null?null:Me(oe,ae,ue,De,null);Sp(oe,ue)}return null}function qe(oe,ae,ue,De,et){if(typeof De=="string"&&De!==""||typeof De=="number")return oe=oe.get(ue)||null,G(ae,oe,""+De,et);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case A:return oe=oe.get(De.key===null?ue:De.key)||null,re(ae,oe,De,et);case E:return oe=oe.get(De.key===null?ue:De.key)||null,fe(ae,oe,De,et);case U:var ct=De._init;return qe(oe,ae,ue,ct(De._payload),et)}if(Nt(De)||W(De))return oe=oe.get(ue)||null,Me(ae,oe,De,et,null);Sp(ae,De)}return null}function Xe(oe,ae,ue,De){for(var et=null,ct=null,dt=ae,gt=ae=0,Ds=null;dt!==null&&gt<ue.length;gt++){dt.index>gt?(Ds=dt,dt=null):Ds=dt.sibling;var ar=Ee(oe,dt,ue[gt],De);if(ar===null){dt===null&&(dt=Ds);break}c&&dt&&ar.alternate===null&&u(oe,dt),ae=P(ar,ae,gt),ct===null?et=ar:ct.sibling=ar,ct=ar,dt=Ds}if(gt===ue.length)return x(oe,dt),$r&&vc(oe,gt),et;if(dt===null){for(;gt<ue.length;gt++)dt=Re(oe,ue[gt],De),dt!==null&&(ae=P(dt,ae,gt),ct===null?et=dt:ct.sibling=dt,ct=dt);return $r&&vc(oe,gt),et}for(dt=j(oe,dt);gt<ue.length;gt++)Ds=qe(dt,oe,gt,ue[gt],De),Ds!==null&&(c&&Ds.alternate!==null&&dt.delete(Ds.key===null?gt:Ds.key),ae=P(Ds,ae,gt),ct===null?et=Ds:ct.sibling=Ds,ct=Ds);return c&&dt.forEach(function(bl){return u(oe,bl)}),$r&&vc(oe,gt),et}function Qe(oe,ae,ue,De){var et=W(ue);if(typeof et!="function")throw Error(s(150));if(ue=et.call(ue),ue==null)throw Error(s(151));for(var ct=et=null,dt=ae,gt=ae=0,Ds=null,ar=ue.next();dt!==null&&!ar.done;gt++,ar=ue.next()){dt.index>gt?(Ds=dt,dt=null):Ds=dt.sibling;var bl=Ee(oe,dt,ar.value,De);if(bl===null){dt===null&&(dt=Ds);break}c&&dt&&bl.alternate===null&&u(oe,dt),ae=P(bl,ae,gt),ct===null?et=bl:ct.sibling=bl,ct=bl,dt=Ds}if(ar.done)return x(oe,dt),$r&&vc(oe,gt),et;if(dt===null){for(;!ar.done;gt++,ar=ue.next())ar=Re(oe,ar.value,De),ar!==null&&(ae=P(ar,ae,gt),ct===null?et=ar:ct.sibling=ar,ct=ar);return $r&&vc(oe,gt),et}for(dt=j(oe,dt);!ar.done;gt++,ar=ue.next())ar=qe(dt,oe,gt,ar.value,De),ar!==null&&(c&&ar.alternate!==null&&dt.delete(ar.key===null?gt:ar.key),ae=P(ar,ae,gt),ct===null?et=ar:ct.sibling=ar,ct=ar);return c&&dt.forEach(function(mB){return u(oe,mB)}),$r&&vc(oe,gt),et}function rs(oe,ae,ue,De){if(typeof ue=="object"&&ue!==null&&ue.type===T&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:e:{for(var et=ue.key,ct=ae;ct!==null;){if(ct.key===et){if(et=ue.type,et===T){if(ct.tag===7){x(oe,ct.sibling),ae=_(ct,ue.props.children),ae.return=oe,oe=ae;break e}}else if(ct.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===U&&uk(et)===ct.type){x(oe,ct.sibling),ae=_(ct,ue.props),ae.ref=qm(oe,ct,ue),ae.return=oe,oe=ae;break e}x(oe,ct);break}else u(oe,ct);ct=ct.sibling}ue.type===T?(ae=_c(ue.props.children,oe.mode,De,ue.key),ae.return=oe,oe=ae):(De=Gp(ue.type,ue.key,ue.props,null,oe.mode,De),De.ref=qm(oe,ae,ue),De.return=oe,oe=De)}return D(oe);case E:e:{for(ct=ue.key;ae!==null;){if(ae.key===ct)if(ae.tag===4&&ae.stateNode.containerInfo===ue.containerInfo&&ae.stateNode.implementation===ue.implementation){x(oe,ae.sibling),ae=_(ae,ue.children||[]),ae.return=oe,oe=ae;break e}else{x(oe,ae);break}else u(oe,ae);ae=ae.sibling}ae=xb(ue,oe.mode,De),ae.return=oe,oe=ae}return D(oe);case U:return ct=ue._init,rs(oe,ae,ct(ue._payload),De)}if(Nt(ue))return Xe(oe,ae,ue,De);if(W(ue))return Qe(oe,ae,ue,De);Sp(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ae!==null&&ae.tag===6?(x(oe,ae.sibling),ae=_(ae,ue),ae.return=oe,oe=ae):(x(oe,ae),ae=gb(ue,oe.mode,De),ae.return=oe,oe=ae),D(oe)):x(oe,ae)}return rs}var Hd=mk(!0),hk=mk(!1),Cp=cl(null),kp=null,Kd=null,kv=null;function _v(){kv=Kd=kp=null}function Pv(c){var u=Cp.current;Or(Cp),c._currentValue=u}function Av(c,u,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),c===x)break;c=c.return}}function Gd(c,u){kp=c,kv=Kd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Fa=!0),c.firstContext=null)}function Cn(c){var u=c._currentValue;if(kv!==c)if(c={context:c,memoizedValue:u,next:null},Kd===null){if(kp===null)throw Error(s(308));Kd=c,kp.dependencies={lanes:0,firstContext:c}}else Kd=Kd.next=c;return u}var bc=null;function Ev(c){bc===null?bc=[c]:bc.push(c)}function fk(c,u,x,j){var _=u.interleaved;return _===null?(x.next=x,Ev(u)):(x.next=_.next,_.next=x),u.interleaved=x,yo(c,j)}function yo(c,u){c.lanes|=u;var x=c.alternate;for(x!==null&&(x.lanes|=u),x=c,c=c.return;c!==null;)c.childLanes|=u,x=c.alternate,x!==null&&(x.childLanes|=u),x=c,c=c.return;return x.tag===3?x.stateNode:null}var ml=!1;function Tv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pk(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function vo(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function hl(c,u,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(er&2)!==0){var _=j.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),j.pending=u,yo(c,x)}return _=j.interleaved,_===null?(u.next=u,Ev(j)):(u.next=_.next,_.next=u),j.interleaved=u,yo(c,x)}function _p(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Ad(c,x)}}function gk(c,u){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var _=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var D={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?_=P=D:P=P.next=D,x=x.next}while(x!==null);P===null?_=P=u:P=P.next=u}else _=P=u;x={baseState:j.baseState,firstBaseUpdate:_,lastBaseUpdate:P,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}function Pp(c,u,x,j){var _=c.updateQueue;ml=!1;var P=_.firstBaseUpdate,D=_.lastBaseUpdate,G=_.shared.pending;if(G!==null){_.shared.pending=null;var re=G,fe=re.next;re.next=null,D===null?P=fe:D.next=fe,D=re;var Me=c.alternate;Me!==null&&(Me=Me.updateQueue,G=Me.lastBaseUpdate,G!==D&&(G===null?Me.firstBaseUpdate=fe:G.next=fe,Me.lastBaseUpdate=re))}if(P!==null){var Re=_.baseState;D=0,Me=fe=re=null,G=P;do{var Ee=G.lane,qe=G.eventTime;if((j&Ee)===Ee){Me!==null&&(Me=Me.next={eventTime:qe,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Xe=c,Qe=G;switch(Ee=u,qe=x,Qe.tag){case 1:if(Xe=Qe.payload,typeof Xe=="function"){Re=Xe.call(qe,Re,Ee);break e}Re=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Qe.payload,Ee=typeof Xe=="function"?Xe.call(qe,Re,Ee):Xe,Ee==null)break e;Re=q({},Re,Ee);break e;case 2:ml=!0}}G.callback!==null&&G.lane!==0&&(c.flags|=64,Ee=_.effects,Ee===null?_.effects=[G]:Ee.push(G))}else qe={eventTime:qe,lane:Ee,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Me===null?(fe=Me=qe,re=Re):Me=Me.next=qe,D|=Ee;if(G=G.next,G===null){if(G=_.shared.pending,G===null)break;Ee=G,G=Ee.next,Ee.next=null,_.lastBaseUpdate=Ee,_.shared.pending=null}}while(!0);if(Me===null&&(re=Re),_.baseState=re,_.firstBaseUpdate=fe,_.lastBaseUpdate=Me,u=_.shared.interleaved,u!==null){_=u;do D|=_.lane,_=_.next;while(_!==u)}else P===null&&(_.shared.lanes=0);Nc|=D,c.lanes=D,c.memoizedState=Re}}function xk(c,u,x){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var j=c[u],_=j.callback;if(_!==null){if(j.callback=null,j=x,typeof _!="function")throw Error(s(191,_));_.call(j)}}}var Hm={},Mi=cl(Hm),Km=cl(Hm),Gm=cl(Hm);function wc(c){if(c===Hm)throw Error(s(174));return c}function Ov(c,u){switch(Cr(Gm,u),Cr(Km,c),Cr(Mi,Hm),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Gr(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Gr(u,c)}Or(Mi),Cr(Mi,u)}function Yd(){Or(Mi),Or(Km),Or(Gm)}function yk(c){wc(Gm.current);var u=wc(Mi.current),x=Gr(u,c.type);u!==x&&(Cr(Km,c),Cr(Mi,x))}function Mv(c){Km.current===c&&(Or(Mi),Or(Km))}var Vr=cl(0);function Ap(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rv=[];function Iv(){for(var c=0;c<Rv.length;c++)Rv[c]._workInProgressVersionPrimary=null;Rv.length=0}var Ep=k.ReactCurrentDispatcher,Dv=k.ReactCurrentBatchConfig,jc=0,qr=null,Ns=null,Rs=null,Tp=!1,Ym=!1,Jm=0,R9=0;function oa(){throw Error(s(321))}function Lv(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!ri(c[x],u[x]))return!1;return!0}function $v(c,u,x,j,_,P){if(jc=P,qr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ep.current=c===null||c.memoizedState===null?$9:z9,c=x(j,_),Ym){P=0;do{if(Ym=!1,Jm=0,25<=P)throw Error(s(301));P+=1,Rs=Ns=null,u.updateQueue=null,Ep.current=F9,c=x(j,_)}while(Ym)}if(Ep.current=Rp,u=Ns!==null&&Ns.next!==null,jc=0,Rs=Ns=qr=null,Tp=!1,u)throw Error(s(300));return c}function zv(){var c=Jm!==0;return Jm=0,c}function Ri(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?qr.memoizedState=Rs=c:Rs=Rs.next=c,Rs}function kn(){if(Ns===null){var c=qr.alternate;c=c!==null?c.memoizedState:null}else c=Ns.next;var u=Rs===null?qr.memoizedState:Rs.next;if(u!==null)Rs=u,Ns=c;else{if(c===null)throw Error(s(310));Ns=c,c={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},Rs===null?qr.memoizedState=Rs=c:Rs=Rs.next=c}return Rs}function Xm(c,u){return typeof u=="function"?u(c):u}function Fv(c){var u=kn(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=Ns,_=j.baseQueue,P=x.pending;if(P!==null){if(_!==null){var D=_.next;_.next=P.next,P.next=D}j.baseQueue=_=P,x.pending=null}if(_!==null){P=_.next,j=j.baseState;var G=D=null,re=null,fe=P;do{var Me=fe.lane;if((jc&Me)===Me)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),j=fe.hasEagerState?fe.eagerState:c(j,fe.action);else{var Re={lane:Me,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?(G=re=Re,D=j):re=re.next=Re,qr.lanes|=Me,Nc|=Me}fe=fe.next}while(fe!==null&&fe!==P);re===null?D=j:re.next=G,ri(j,u.memoizedState)||(Fa=!0),u.memoizedState=j,u.baseState=D,u.baseQueue=re,x.lastRenderedState=j}if(c=x.interleaved,c!==null){_=c;do P=_.lane,qr.lanes|=P,Nc|=P,_=_.next;while(_!==c)}else _===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function Uv(c){var u=kn(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=x.dispatch,_=x.pending,P=u.memoizedState;if(_!==null){x.pending=null;var D=_=_.next;do P=c(P,D.action),D=D.next;while(D!==_);ri(P,u.memoizedState)||(Fa=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),x.lastRenderedState=P}return[P,j]}function vk(){}function bk(c,u){var x=qr,j=kn(),_=u(),P=!ri(j.memoizedState,_);if(P&&(j.memoizedState=_,Fa=!0),j=j.queue,Bv(Nk.bind(null,x,j,c),[c]),j.getSnapshot!==u||P||Rs!==null&&Rs.memoizedState.tag&1){if(x.flags|=2048,Qm(9,jk.bind(null,x,j,_,u),void 0,null),Is===null)throw Error(s(349));(jc&30)!==0||wk(x,u,_)}return _}function wk(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=qr.updateQueue,u===null?(u={lastEffect:null,stores:null},qr.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function jk(c,u,x,j){u.value=x,u.getSnapshot=j,Sk(u)&&Ck(c)}function Nk(c,u,x){return x(function(){Sk(u)&&Ck(c)})}function Sk(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!ri(c,x)}catch{return!0}}function Ck(c){var u=yo(c,1);u!==null&&oi(u,c,1,-1)}function kk(c){var u=Ri();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:c},u.queue=c,c=c.dispatch=L9.bind(null,qr,c),[u.memoizedState,c]}function Qm(c,u,x,j){return c={tag:c,create:u,destroy:x,deps:j,next:null},u=qr.updateQueue,u===null?(u={lastEffect:null,stores:null},qr.updateQueue=u,u.lastEffect=c.next=c):(x=u.lastEffect,x===null?u.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,u.lastEffect=c)),c}function _k(){return kn().memoizedState}function Op(c,u,x,j){var _=Ri();qr.flags|=c,_.memoizedState=Qm(1|u,x,void 0,j===void 0?null:j)}function Mp(c,u,x,j){var _=kn();j=j===void 0?null:j;var P=void 0;if(Ns!==null){var D=Ns.memoizedState;if(P=D.destroy,j!==null&&Lv(j,D.deps)){_.memoizedState=Qm(u,x,P,j);return}}qr.flags|=c,_.memoizedState=Qm(1|u,x,P,j)}function Pk(c,u){return Op(8390656,8,c,u)}function Bv(c,u){return Mp(2048,8,c,u)}function Ak(c,u){return Mp(4,2,c,u)}function Ek(c,u){return Mp(4,4,c,u)}function Tk(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Ok(c,u,x){return x=x!=null?x.concat([c]):null,Mp(4,4,Tk.bind(null,u,c),x)}function Wv(){}function Mk(c,u){var x=kn();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&Lv(u,j[1])?j[0]:(x.memoizedState=[c,u],c)}function Rk(c,u){var x=kn();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&Lv(u,j[1])?j[0]:(c=c(),x.memoizedState=[c,u],c)}function Ik(c,u,x){return(jc&21)===0?(c.baseState&&(c.baseState=!1,Fa=!0),c.memoizedState=x):(ri(x,u)||(x=jm(),qr.lanes|=x,Nc|=x,c.baseState=!0),u)}function I9(c,u){var x=sr;sr=x!==0&&4>x?x:4,c(!0);var j=Dv.transition;Dv.transition={};try{c(!1),u()}finally{sr=x,Dv.transition=j}}function Dk(){return kn().memoizedState}function D9(c,u,x){var j=xl(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},Lk(c))$k(u,x);else if(x=fk(c,u,x,j),x!==null){var _=Ca();oi(x,c,j,_),zk(x,u,j)}}function L9(c,u,x){var j=xl(c),_={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(Lk(c))$k(u,_);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var D=u.lastRenderedState,G=P(D,x);if(_.hasEagerState=!0,_.eagerState=G,ri(G,D)){var re=u.interleaved;re===null?(_.next=_,Ev(u)):(_.next=re.next,re.next=_),u.interleaved=_;return}}catch{}finally{}x=fk(c,u,_,j),x!==null&&(_=Ca(),oi(x,c,j,_),zk(x,u,j))}}function Lk(c){var u=c.alternate;return c===qr||u!==null&&u===qr}function $k(c,u){Ym=Tp=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function zk(c,u,x){if((x&4194240)!==0){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Ad(c,x)}}var Rp={readContext:Cn,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},$9={readContext:Cn,useCallback:function(c,u){return Ri().memoizedState=[c,u===void 0?null:u],c},useContext:Cn,useEffect:Pk,useImperativeHandle:function(c,u,x){return x=x!=null?x.concat([c]):null,Op(4194308,4,Tk.bind(null,u,c),x)},useLayoutEffect:function(c,u){return Op(4194308,4,c,u)},useInsertionEffect:function(c,u){return Op(4,2,c,u)},useMemo:function(c,u){var x=Ri();return u=u===void 0?null:u,c=c(),x.memoizedState=[c,u],c},useReducer:function(c,u,x){var j=Ri();return u=x!==void 0?x(u):u,j.memoizedState=j.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},j.queue=c,c=c.dispatch=D9.bind(null,qr,c),[j.memoizedState,c]},useRef:function(c){var u=Ri();return c={current:c},u.memoizedState=c},useState:kk,useDebugValue:Wv,useDeferredValue:function(c){return Ri().memoizedState=c},useTransition:function(){var c=kk(!1),u=c[0];return c=I9.bind(null,c[1]),Ri().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,x){var j=qr,_=Ri();if($r){if(x===void 0)throw Error(s(407));x=x()}else{if(x=u(),Is===null)throw Error(s(349));(jc&30)!==0||wk(j,u,x)}_.memoizedState=x;var P={value:x,getSnapshot:u};return _.queue=P,Pk(Nk.bind(null,j,P,c),[c]),j.flags|=2048,Qm(9,jk.bind(null,j,P,x,u),void 0,null),x},useId:function(){var c=Ri(),u=Is.identifierPrefix;if($r){var x=xo,j=go;x=(j&~(1<<32-Y(j)-1)).toString(32)+x,u=":"+u+"R"+x,x=Jm++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=R9++,u=":"+u+"r"+x.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},z9={readContext:Cn,useCallback:Mk,useContext:Cn,useEffect:Bv,useImperativeHandle:Ok,useInsertionEffect:Ak,useLayoutEffect:Ek,useMemo:Rk,useReducer:Fv,useRef:_k,useState:function(){return Fv(Xm)},useDebugValue:Wv,useDeferredValue:function(c){var u=kn();return Ik(u,Ns.memoizedState,c)},useTransition:function(){var c=Fv(Xm)[0],u=kn().memoizedState;return[c,u]},useMutableSource:vk,useSyncExternalStore:bk,useId:Dk,unstable_isNewReconciler:!1},F9={readContext:Cn,useCallback:Mk,useContext:Cn,useEffect:Bv,useImperativeHandle:Ok,useInsertionEffect:Ak,useLayoutEffect:Ek,useMemo:Rk,useReducer:Uv,useRef:_k,useState:function(){return Uv(Xm)},useDebugValue:Wv,useDeferredValue:function(c){var u=kn();return Ns===null?u.memoizedState=c:Ik(u,Ns.memoizedState,c)},useTransition:function(){var c=Uv(Xm)[0],u=kn().memoizedState;return[c,u]},useMutableSource:vk,useSyncExternalStore:bk,useId:Dk,unstable_isNewReconciler:!1};function ai(c,u){if(c&&c.defaultProps){u=q({},u),c=c.defaultProps;for(var x in c)u[x]===void 0&&(u[x]=c[x]);return u}return u}function Vv(c,u,x,j){u=c.memoizedState,x=x(j,u),x=x==null?u:q({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var Ip={isMounted:function(c){return(c=c._reactInternals)?Ze(c)===c:!1},enqueueSetState:function(c,u,x){c=c._reactInternals;var j=Ca(),_=xl(c),P=vo(j,_);P.payload=u,x!=null&&(P.callback=x),u=hl(c,P,_),u!==null&&(oi(u,c,_,j),_p(u,c,_))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var j=Ca(),_=xl(c),P=vo(j,_);P.tag=1,P.payload=u,x!=null&&(P.callback=x),u=hl(c,P,_),u!==null&&(oi(u,c,_,j),_p(u,c,_))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=Ca(),j=xl(c),_=vo(x,j);_.tag=2,u!=null&&(_.callback=u),u=hl(c,_,j),u!==null&&(oi(u,c,j,x),_p(u,c,j))}};function Fk(c,u,x,j,_,P,D){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,P,D):u.prototype&&u.prototype.isPureReactComponent?!$m(x,j)||!$m(_,P):!0}function Uk(c,u,x){var j=!1,_=dl,P=u.contextType;return typeof P=="object"&&P!==null?P=Cn(P):(_=za(u)?xc:ia.current,j=u.contextTypes,P=(j=j!=null)?Bd(c,_):dl),u=new u(x,P),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ip,c.stateNode=u,u._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=_,c.__reactInternalMemoizedMaskedChildContext=P),u}function Bk(c,u,x,j){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,j),u.state!==c&&Ip.enqueueReplaceState(u,u.state,null)}function qv(c,u,x,j){var _=c.stateNode;_.props=x,_.state=c.memoizedState,_.refs={},Tv(c);var P=u.contextType;typeof P=="object"&&P!==null?_.context=Cn(P):(P=za(u)?xc:ia.current,_.context=Bd(c,P)),_.state=c.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Vv(c,u,P,x),_.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Ip.enqueueReplaceState(_,_.state,null),Pp(c,x,_,j),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308)}function Jd(c,u){try{var x="",j=u;do x+=Z(j),j=j.return;while(j);var _=x}catch(P){_=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:u,stack:_,digest:null}}function Hv(c,u,x){return{value:c,source:null,stack:x??null,digest:u??null}}function Kv(c,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var U9=typeof WeakMap=="function"?WeakMap:Map;function Wk(c,u,x){x=vo(-1,x),x.tag=3,x.payload={element:null};var j=u.value;return x.callback=function(){Bp||(Bp=!0,lb=j),Kv(c,u)},x}function Vk(c,u,x){x=vo(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var _=u.value;x.payload=function(){return j(_)},x.callback=function(){Kv(c,u)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){Kv(c,u),typeof j!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),x}function qk(c,u,x){var j=c.pingCache;if(j===null){j=c.pingCache=new U9;var _=new Set;j.set(u,_)}else _=j.get(u),_===void 0&&(_=new Set,j.set(u,_));_.has(x)||(_.add(x),c=tB.bind(null,c,u,x),u.then(c,c))}function Hk(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Kk(c,u,x,j,_){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=vo(-1,1),u.tag=2,hl(x,u,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=_,c)}var B9=k.ReactCurrentOwner,Fa=!1;function Sa(c,u,x,j){u.child=c===null?hk(u,null,x,j):Hd(u,c.child,x,j)}function Gk(c,u,x,j,_){x=x.render;var P=u.ref;return Gd(u,_),j=$v(c,u,x,j,P,_),x=zv(),c!==null&&!Fa?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~_,bo(c,u,_)):($r&&x&&wv(u),u.flags|=1,Sa(c,u,j,_),u.child)}function Yk(c,u,x,j,_){if(c===null){var P=x.type;return typeof P=="function"&&!pb(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=P,Jk(c,u,P,j,_)):(c=Gp(x.type,null,j,u,u.mode,_),c.ref=u.ref,c.return=u,u.child=c)}if(P=c.child,(c.lanes&_)===0){var D=P.memoizedProps;if(x=x.compare,x=x!==null?x:$m,x(D,j)&&c.ref===u.ref)return bo(c,u,_)}return u.flags|=1,c=vl(P,j),c.ref=u.ref,c.return=u,u.child=c}function Jk(c,u,x,j,_){if(c!==null){var P=c.memoizedProps;if($m(P,j)&&c.ref===u.ref)if(Fa=!1,u.pendingProps=j=P,(c.lanes&_)!==0)(c.flags&131072)!==0&&(Fa=!0);else return u.lanes=c.lanes,bo(c,u,_)}return Gv(c,u,x,j,_)}function Xk(c,u,x){var j=u.pendingProps,_=j.children,P=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Qd,rn),rn|=x;else{if((x&1073741824)===0)return c=P!==null?P.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,Cr(Qd,rn),rn|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=P!==null?P.baseLanes:x,Cr(Qd,rn),rn|=j}else P!==null?(j=P.baseLanes|x,u.memoizedState=null):j=x,Cr(Qd,rn),rn|=j;return Sa(c,u,_,x),u.child}function Qk(c,u){var x=u.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function Gv(c,u,x,j,_){var P=za(x)?xc:ia.current;return P=Bd(u,P),Gd(u,_),x=$v(c,u,x,j,P,_),j=zv(),c!==null&&!Fa?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~_,bo(c,u,_)):($r&&j&&wv(u),u.flags|=1,Sa(c,u,x,_),u.child)}function Zk(c,u,x,j,_){if(za(x)){var P=!0;vp(u)}else P=!1;if(Gd(u,_),u.stateNode===null)Lp(c,u),Uk(u,x,j),qv(u,x,j,_),j=!0;else if(c===null){var D=u.stateNode,G=u.memoizedProps;D.props=G;var re=D.context,fe=x.contextType;typeof fe=="object"&&fe!==null?fe=Cn(fe):(fe=za(x)?xc:ia.current,fe=Bd(u,fe));var Me=x.getDerivedStateFromProps,Re=typeof Me=="function"||typeof D.getSnapshotBeforeUpdate=="function";Re||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==j||re!==fe)&&Bk(u,D,j,fe),ml=!1;var Ee=u.memoizedState;D.state=Ee,Pp(u,j,D,_),re=u.memoizedState,G!==j||Ee!==re||$a.current||ml?(typeof Me=="function"&&(Vv(u,x,Me,j),re=u.memoizedState),(G=ml||Fk(u,x,G,j,Ee,re,fe))?(Re||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=re),D.props=j,D.state=re,D.context=fe,j=G):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{D=u.stateNode,pk(c,u),G=u.memoizedProps,fe=u.type===u.elementType?G:ai(u.type,G),D.props=fe,Re=u.pendingProps,Ee=D.context,re=x.contextType,typeof re=="object"&&re!==null?re=Cn(re):(re=za(x)?xc:ia.current,re=Bd(u,re));var qe=x.getDerivedStateFromProps;(Me=typeof qe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==Re||Ee!==re)&&Bk(u,D,j,re),ml=!1,Ee=u.memoizedState,D.state=Ee,Pp(u,j,D,_);var Xe=u.memoizedState;G!==Re||Ee!==Xe||$a.current||ml?(typeof qe=="function"&&(Vv(u,x,qe,j),Xe=u.memoizedState),(fe=ml||Fk(u,x,fe,j,Ee,Xe,re)||!1)?(Me||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(j,Xe,re),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(j,Xe,re)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||G===c.memoizedProps&&Ee===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ee===c.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=Xe),D.props=j,D.state=Xe,D.context=re,j=fe):(typeof D.componentDidUpdate!="function"||G===c.memoizedProps&&Ee===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&Ee===c.memoizedState||(u.flags|=1024),j=!1)}return Yv(c,u,x,j,P,_)}function Yv(c,u,x,j,_,P){Qk(c,u);var D=(u.flags&128)!==0;if(!j&&!D)return _&&ak(u,x,!1),bo(c,u,P);j=u.stateNode,B9.current=u;var G=D&&typeof x.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,c!==null&&D?(u.child=Hd(u,c.child,null,P),u.child=Hd(u,null,G,P)):Sa(c,u,G,P),u.memoizedState=j.state,_&&ak(u,x,!0),u.child}function e_(c){var u=c.stateNode;u.pendingContext?rk(c,u.pendingContext,u.pendingContext!==u.context):u.context&&rk(c,u.context,!1),Ov(c,u.containerInfo)}function t_(c,u,x,j,_){return qd(),Cv(_),u.flags|=256,Sa(c,u,x,j),u.child}var Jv={dehydrated:null,treeContext:null,retryLane:0};function Xv(c){return{baseLanes:c,cachePool:null,transitions:null}}function r_(c,u,x){var j=u.pendingProps,_=Vr.current,P=!1,D=(u.flags&128)!==0,G;if((G=D)||(G=c!==null&&c.memoizedState===null?!1:(_&2)!==0),G?(P=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(_|=1),Cr(Vr,_&1),c===null)return Sv(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=j.children,c=j.fallback,P?(j=u.mode,P=u.child,D={mode:"hidden",children:D},(j&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=D):P=Yp(D,j,0,null),c=_c(c,j,x,null),P.return=u,c.return=u,P.sibling=c,u.child=P,u.child.memoizedState=Xv(x),u.memoizedState=Jv,c):Qv(u,D));if(_=c.memoizedState,_!==null&&(G=_.dehydrated,G!==null))return W9(c,u,D,j,G,_,x);if(P){P=j.fallback,D=u.mode,_=c.child,G=_.sibling;var re={mode:"hidden",children:j.children};return(D&1)===0&&u.child!==_?(j=u.child,j.childLanes=0,j.pendingProps=re,u.deletions=null):(j=vl(_,re),j.subtreeFlags=_.subtreeFlags&14680064),G!==null?P=vl(G,P):(P=_c(P,D,x,null),P.flags|=2),P.return=u,j.return=u,j.sibling=P,u.child=j,j=P,P=u.child,D=c.child.memoizedState,D=D===null?Xv(x):{baseLanes:D.baseLanes|x,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=c.childLanes&~x,u.memoizedState=Jv,j}return P=c.child,c=P.sibling,j=vl(P,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=x),j.return=u,j.sibling=null,c!==null&&(x=u.deletions,x===null?(u.deletions=[c],u.flags|=16):x.push(c)),u.child=j,u.memoizedState=null,j}function Qv(c,u){return u=Yp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function Dp(c,u,x,j){return j!==null&&Cv(j),Hd(u,c.child,null,x),c=Qv(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function W9(c,u,x,j,_,P,D){if(x)return u.flags&256?(u.flags&=-257,j=Hv(Error(s(422))),Dp(c,u,D,j)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(P=j.fallback,_=u.mode,j=Yp({mode:"visible",children:j.children},_,0,null),P=_c(P,_,D,null),P.flags|=2,j.return=u,P.return=u,j.sibling=P,u.child=j,(u.mode&1)!==0&&Hd(u,c.child,null,D),u.child.memoizedState=Xv(D),u.memoizedState=Jv,P);if((u.mode&1)===0)return Dp(c,u,D,null);if(_.data==="$!"){if(j=_.nextSibling&&_.nextSibling.dataset,j)var G=j.dgst;return j=G,P=Error(s(419)),j=Hv(P,j,void 0),Dp(c,u,D,j)}if(G=(D&c.childLanes)!==0,Fa||G){if(j=Is,j!==null){switch(D&-D){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(j.suspendedLanes|D))!==0?0:_,_!==0&&_!==P.retryLane&&(P.retryLane=_,yo(c,_),oi(j,c,_,-1))}return fb(),j=Hv(Error(s(421))),Dp(c,u,D,j)}return _.data==="$?"?(u.flags|=128,u.child=c.child,u=rB.bind(null,c),_._reactRetry=u,null):(c=P.treeContext,tn=ll(_.nextSibling),en=u,$r=!0,si=null,c!==null&&(Nn[Sn++]=go,Nn[Sn++]=xo,Nn[Sn++]=yc,go=c.id,xo=c.overflow,yc=u),u=Qv(u,j.children),u.flags|=4096,u)}function s_(c,u,x){c.lanes|=u;var j=c.alternate;j!==null&&(j.lanes|=u),Av(c.return,u,x)}function Zv(c,u,x,j,_){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:_}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=j,P.tail=x,P.tailMode=_)}function a_(c,u,x){var j=u.pendingProps,_=j.revealOrder,P=j.tail;if(Sa(c,u,j.children,x),j=Vr.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&s_(c,x,u);else if(c.tag===19)s_(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(Cr(Vr,j),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(x=u.child,_=null;x!==null;)c=x.alternate,c!==null&&Ap(c)===null&&(_=x),x=x.sibling;x=_,x===null?(_=u.child,u.child=null):(_=x.sibling,x.sibling=null),Zv(u,!1,_,x,P);break;case"backwards":for(x=null,_=u.child,u.child=null;_!==null;){if(c=_.alternate,c!==null&&Ap(c)===null){u.child=_;break}c=_.sibling,_.sibling=x,x=_,_=c}Zv(u,!0,x,null,P);break;case"together":Zv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Lp(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function bo(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),Nc|=u.lanes,(x&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(s(153));if(u.child!==null){for(c=u.child,x=vl(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=vl(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function V9(c,u,x){switch(u.tag){case 3:e_(u),qd();break;case 5:yk(u);break;case 1:za(u.type)&&vp(u);break;case 4:Ov(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,_=u.memoizedProps.value;Cr(Cp,j._currentValue),j._currentValue=_;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(Cr(Vr,Vr.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?r_(c,u,x):(Cr(Vr,Vr.current&1),c=bo(c,u,x),c!==null?c.sibling:null);Cr(Vr,Vr.current&1);break;case 19:if(j=(x&u.childLanes)!==0,(c.flags&128)!==0){if(j)return a_(c,u,x);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Cr(Vr,Vr.current),j)break;return null;case 22:case 23:return u.lanes=0,Xk(c,u,x)}return bo(c,u,x)}var n_,eb,i_,o_;n_=function(c,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},eb=function(){},i_=function(c,u,x,j){var _=c.memoizedProps;if(_!==j){c=u.stateNode,wc(Mi.current);var P=null;switch(x){case"input":_=Oe(c,_),j=Oe(c,j),P=[];break;case"select":_=q({},_,{value:void 0}),j=q({},j,{value:void 0}),P=[];break;case"textarea":_=Be(c,_),j=Be(c,j),P=[];break;default:typeof _.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=gp)}Na(x,j);var D;x=null;for(fe in _)if(!j.hasOwnProperty(fe)&&_.hasOwnProperty(fe)&&_[fe]!=null)if(fe==="style"){var G=_[fe];for(D in G)G.hasOwnProperty(D)&&(x||(x={}),x[D]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(n.hasOwnProperty(fe)?P||(P=[]):(P=P||[]).push(fe,null));for(fe in j){var re=j[fe];if(G=_!=null?_[fe]:void 0,j.hasOwnProperty(fe)&&re!==G&&(re!=null||G!=null))if(fe==="style")if(G){for(D in G)!G.hasOwnProperty(D)||re&&re.hasOwnProperty(D)||(x||(x={}),x[D]="");for(D in re)re.hasOwnProperty(D)&&G[D]!==re[D]&&(x||(x={}),x[D]=re[D])}else x||(P||(P=[]),P.push(fe,x)),x=re;else fe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,G=G?G.__html:void 0,re!=null&&G!==re&&(P=P||[]).push(fe,re)):fe==="children"?typeof re!="string"&&typeof re!="number"||(P=P||[]).push(fe,""+re):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(n.hasOwnProperty(fe)?(re!=null&&fe==="onScroll"&&Tr("scroll",c),P||G===re||(P=[])):(P=P||[]).push(fe,re))}x&&(P=P||[]).push("style",x);var fe=P;(u.updateQueue=fe)&&(u.flags|=4)}},o_=function(c,u,x,j){x!==j&&(u.flags|=4)};function Zm(c,u){if(!$r)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function la(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(u)for(var _=c.child;_!==null;)x|=_.lanes|_.childLanes,j|=_.subtreeFlags&14680064,j|=_.flags&14680064,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)x|=_.lanes|_.childLanes,j|=_.subtreeFlags,j|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=j,c.childLanes=x,u}function q9(c,u,x){var j=u.pendingProps;switch(jv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(u),null;case 1:return za(u.type)&&yp(),la(u),null;case 3:return j=u.stateNode,Yd(),Or($a),Or(ia),Iv(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Np(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,si!==null&&(ub(si),si=null))),eb(c,u),la(u),null;case 5:Mv(u);var _=wc(Gm.current);if(x=u.type,c!==null&&u.stateNode!=null)i_(c,u,x,j,_),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(s(166));return la(u),null}if(c=wc(Mi.current),Np(u)){j=u.stateNode,x=u.type;var P=u.memoizedProps;switch(j[Oi]=u,j[Wm]=P,c=(u.mode&1)!==0,x){case"dialog":Tr("cancel",j),Tr("close",j);break;case"iframe":case"object":case"embed":Tr("load",j);break;case"video":case"audio":for(_=0;_<Fm.length;_++)Tr(Fm[_],j);break;case"source":Tr("error",j);break;case"img":case"image":case"link":Tr("error",j),Tr("load",j);break;case"details":Tr("toggle",j);break;case"input":Ue(j,P),Tr("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!P.multiple},Tr("invalid",j);break;case"textarea":kt(j,P),Tr("invalid",j)}Na(x,P),_=null;for(var D in P)if(P.hasOwnProperty(D)){var G=P[D];D==="children"?typeof G=="string"?j.textContent!==G&&(P.suppressHydrationWarning!==!0&&pp(j.textContent,G,c),_=["children",G]):typeof G=="number"&&j.textContent!==""+G&&(P.suppressHydrationWarning!==!0&&pp(j.textContent,G,c),_=["children",""+G]):n.hasOwnProperty(D)&&G!=null&&D==="onScroll"&&Tr("scroll",j)}switch(x){case"input":Te(j),Ct(j,P,!0);break;case"textarea":Te(j),_t(j);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(j.onclick=gp)}j=_,u.updateQueue=j,j!==null&&(u.flags|=4)}else{D=_.nodeType===9?_:_.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=vr(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=D.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=D.createElement(x,{is:j.is}):(c=D.createElement(x),x==="select"&&(D=c,j.multiple?D.multiple=!0:j.size&&(D.size=j.size))):c=D.createElementNS(c,x),c[Oi]=u,c[Wm]=j,n_(c,u,!1,!1),u.stateNode=c;e:{switch(D=It(x,j),x){case"dialog":Tr("cancel",c),Tr("close",c),_=j;break;case"iframe":case"object":case"embed":Tr("load",c),_=j;break;case"video":case"audio":for(_=0;_<Fm.length;_++)Tr(Fm[_],c);_=j;break;case"source":Tr("error",c),_=j;break;case"img":case"image":case"link":Tr("error",c),Tr("load",c),_=j;break;case"details":Tr("toggle",c),_=j;break;case"input":Ue(c,j),_=Oe(c,j),Tr("invalid",c);break;case"option":_=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},_=q({},j,{value:void 0}),Tr("invalid",c);break;case"textarea":kt(c,j),_=Be(c,j),Tr("invalid",c);break;default:_=j}Na(x,_),G=_;for(P in G)if(G.hasOwnProperty(P)){var re=G[P];P==="style"?hs(c,re):P==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&bs(c,re)):P==="children"?typeof re=="string"?(x!=="textarea"||re!=="")&&Er(c,re):typeof re=="number"&&Er(c,""+re):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(n.hasOwnProperty(P)?re!=null&&P==="onScroll"&&Tr("scroll",c):re!=null&&S(c,P,re,D))}switch(x){case"input":Te(c),Ct(c,j,!1);break;case"textarea":Te(c),_t(c);break;case"option":j.value!=null&&c.setAttribute("value",""+Ie(j.value));break;case"select":c.multiple=!!j.multiple,P=j.value,P!=null?me(c,!!j.multiple,P,!1):j.defaultValue!=null&&me(c,!!j.multiple,j.defaultValue,!0);break;default:typeof _.onClick=="function"&&(c.onclick=gp)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return la(u),null;case 6:if(c&&u.stateNode!=null)o_(c,u,c.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(s(166));if(x=wc(Gm.current),wc(Mi.current),Np(u)){if(j=u.stateNode,x=u.memoizedProps,j[Oi]=u,(P=j.nodeValue!==x)&&(c=en,c!==null))switch(c.tag){case 3:pp(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&pp(j.nodeValue,x,(c.mode&1)!==0)}P&&(u.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[Oi]=u,u.stateNode=j}return la(u),null;case 13:if(Or(Vr),j=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if($r&&tn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)dk(),qd(),u.flags|=98560,P=!1;else if(P=Np(u),j!==null&&j.dehydrated!==null){if(c===null){if(!P)throw Error(s(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(s(317));P[Oi]=u}else qd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;la(u),P=!1}else si!==null&&(ub(si),si=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Vr.current&1)!==0?Ss===0&&(Ss=3):fb())),u.updateQueue!==null&&(u.flags|=4),la(u),null);case 4:return Yd(),eb(c,u),c===null&&Um(u.stateNode.containerInfo),la(u),null;case 10:return Pv(u.type._context),la(u),null;case 17:return za(u.type)&&yp(),la(u),null;case 19:if(Or(Vr),P=u.memoizedState,P===null)return la(u),null;if(j=(u.flags&128)!==0,D=P.rendering,D===null)if(j)Zm(P,!1);else{if(Ss!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(D=Ap(c),D!==null){for(u.flags|=128,Zm(P,!1),j=D.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=x,x=u.child;x!==null;)P=x,c=j,P.flags&=14680066,D=P.alternate,D===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=D.childLanes,P.lanes=D.lanes,P.child=D.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=D.memoizedProps,P.memoizedState=D.memoizedState,P.updateQueue=D.updateQueue,P.type=D.type,c=D.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return Cr(Vr,Vr.current&1|2),u.child}c=c.sibling}P.tail!==null&&rr()>Zd&&(u.flags|=128,j=!0,Zm(P,!1),u.lanes=4194304)}else{if(!j)if(c=Ap(D),c!==null){if(u.flags|=128,j=!0,x=c.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),Zm(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!$r)return la(u),null}else 2*rr()-P.renderingStartTime>Zd&&x!==1073741824&&(u.flags|=128,j=!0,Zm(P,!1),u.lanes=4194304);P.isBackwards?(D.sibling=u.child,u.child=D):(x=P.last,x!==null?x.sibling=D:u.child=D,P.last=D)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=rr(),u.sibling=null,x=Vr.current,Cr(Vr,j?x&1|2:x&1),u):(la(u),null);case 22:case 23:return hb(),j=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(rn&1073741824)!==0&&(la(u),u.subtreeFlags&6&&(u.flags|=8192)):la(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function H9(c,u){switch(jv(u),u.tag){case 1:return za(u.type)&&yp(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Yd(),Or($a),Or(ia),Iv(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return Mv(u),null;case 13:if(Or(Vr),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(s(340));qd()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Or(Vr),null;case 4:return Yd(),null;case 10:return Pv(u.type._context),null;case 22:case 23:return hb(),null;case 24:return null;default:return null}}var $p=!1,ca=!1,K9=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Xd(c,u){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Yr(c,u,j)}else x.current=null}function tb(c,u,x){try{x()}catch(j){Yr(c,u,j)}}var l_=!1;function G9(c,u){if(hv=pc,c=F4(),nv(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var _=j.anchorOffset,P=j.focusNode;j=j.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var D=0,G=-1,re=-1,fe=0,Me=0,Re=c,Ee=null;t:for(;;){for(var qe;Re!==x||_!==0&&Re.nodeType!==3||(G=D+_),Re!==P||j!==0&&Re.nodeType!==3||(re=D+j),Re.nodeType===3&&(D+=Re.nodeValue.length),(qe=Re.firstChild)!==null;)Ee=Re,Re=qe;for(;;){if(Re===c)break t;if(Ee===x&&++fe===_&&(G=D),Ee===P&&++Me===j&&(re=D),(qe=Re.nextSibling)!==null)break;Re=Ee,Ee=Re.parentNode}Re=qe}x=G===-1||re===-1?null:{start:G,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(fv={focusedElem:c,selectionRange:x},pc=!1,Ye=u;Ye!==null;)if(u=Ye,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ye=c;else for(;Ye!==null;){u=Ye;try{var Xe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var Qe=Xe.memoizedProps,rs=Xe.memoizedState,oe=u.stateNode,ae=oe.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:ai(u.type,Qe),rs);oe.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var ue=u.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(De){Yr(u,u.return,De)}if(c=u.sibling,c!==null){c.return=u.return,Ye=c;break}Ye=u.return}return Xe=l_,l_=!1,Xe}function eh(c,u,x){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _=j=j.next;do{if((_.tag&c)===c){var P=_.destroy;_.destroy=void 0,P!==void 0&&tb(u,x,P)}_=_.next}while(_!==j)}}function zp(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==u)}}function rb(c){var u=c.ref;if(u!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof u=="function"?u(c):u.current=c}}function c_(c){var u=c.alternate;u!==null&&(c.alternate=null,c_(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[Oi],delete u[Wm],delete u[yv],delete u[E9],delete u[T9])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function d_(c){return c.tag===5||c.tag===3||c.tag===4}function u_(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||d_(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function sb(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(c,u):x.insertBefore(c,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(c,x)):(u=x,u.appendChild(c)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=gp));else if(j!==4&&(c=c.child,c!==null))for(sb(c,u,x),c=c.sibling;c!==null;)sb(c,u,x),c=c.sibling}function ab(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(ab(c,u,x),c=c.sibling;c!==null;)ab(c,u,x),c=c.sibling}var Gs=null,ni=!1;function fl(c,u,x){for(x=x.child;x!==null;)m_(c,u,x),x=x.sibling}function m_(c,u,x){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(jt,x)}catch{}switch(x.tag){case 5:ca||Xd(x,u);case 6:var j=Gs,_=ni;Gs=null,fl(c,u,x),Gs=j,ni=_,Gs!==null&&(ni?(c=Gs,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Gs.removeChild(x.stateNode));break;case 18:Gs!==null&&(ni?(c=Gs,x=x.stateNode,c.nodeType===8?xv(c.parentNode,x):c.nodeType===1&&xv(c,x),il(c)):xv(Gs,x.stateNode));break;case 4:j=Gs,_=ni,Gs=x.stateNode.containerInfo,ni=!0,fl(c,u,x),Gs=j,ni=_;break;case 0:case 11:case 14:case 15:if(!ca&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_=j=j.next;do{var P=_,D=P.destroy;P=P.tag,D!==void 0&&((P&2)!==0||(P&4)!==0)&&tb(x,u,D),_=_.next}while(_!==j)}fl(c,u,x);break;case 1:if(!ca&&(Xd(x,u),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(G){Yr(x,u,G)}fl(c,u,x);break;case 21:fl(c,u,x);break;case 22:x.mode&1?(ca=(j=ca)||x.memoizedState!==null,fl(c,u,x),ca=j):fl(c,u,x);break;default:fl(c,u,x)}}function h_(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new K9),u.forEach(function(j){var _=sB.bind(null,c,j);x.has(j)||(x.add(j),j.then(_,_))})}}function ii(c,u){var x=u.deletions;if(x!==null)for(var j=0;j<x.length;j++){var _=x[j];try{var P=c,D=u,G=D;e:for(;G!==null;){switch(G.tag){case 5:Gs=G.stateNode,ni=!1;break e;case 3:Gs=G.stateNode.containerInfo,ni=!0;break e;case 4:Gs=G.stateNode.containerInfo,ni=!0;break e}G=G.return}if(Gs===null)throw Error(s(160));m_(P,D,_),Gs=null,ni=!1;var re=_.alternate;re!==null&&(re.return=null),_.return=null}catch(fe){Yr(_,u,fe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)f_(u,c),u=u.sibling}function f_(c,u){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ii(u,c),Ii(c),j&4){try{eh(3,c,c.return),zp(3,c)}catch(Qe){Yr(c,c.return,Qe)}try{eh(5,c,c.return)}catch(Qe){Yr(c,c.return,Qe)}}break;case 1:ii(u,c),Ii(c),j&512&&x!==null&&Xd(x,x.return);break;case 5:if(ii(u,c),Ii(c),j&512&&x!==null&&Xd(x,x.return),c.flags&32){var _=c.stateNode;try{Er(_,"")}catch(Qe){Yr(c,c.return,Qe)}}if(j&4&&(_=c.stateNode,_!=null)){var P=c.memoizedProps,D=x!==null?x.memoizedProps:P,G=c.type,re=c.updateQueue;if(c.updateQueue=null,re!==null)try{G==="input"&&P.type==="radio"&&P.name!=null&&ie(_,P),It(G,D);var fe=It(G,P);for(D=0;D<re.length;D+=2){var Me=re[D],Re=re[D+1];Me==="style"?hs(_,Re):Me==="dangerouslySetInnerHTML"?bs(_,Re):Me==="children"?Er(_,Re):S(_,Me,Re,fe)}switch(G){case"input":Ge(_,P);break;case"textarea":Ht(_,P);break;case"select":var Ee=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!P.multiple;var qe=P.value;qe!=null?me(_,!!P.multiple,qe,!1):Ee!==!!P.multiple&&(P.defaultValue!=null?me(_,!!P.multiple,P.defaultValue,!0):me(_,!!P.multiple,P.multiple?[]:"",!1))}_[Wm]=P}catch(Qe){Yr(c,c.return,Qe)}}break;case 6:if(ii(u,c),Ii(c),j&4){if(c.stateNode===null)throw Error(s(162));_=c.stateNode,P=c.memoizedProps;try{_.nodeValue=P}catch(Qe){Yr(c,c.return,Qe)}}break;case 3:if(ii(u,c),Ii(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{il(u.containerInfo)}catch(Qe){Yr(c,c.return,Qe)}break;case 4:ii(u,c),Ii(c);break;case 13:ii(u,c),Ii(c),_=c.child,_.flags&8192&&(P=_.memoizedState!==null,_.stateNode.isHidden=P,!P||_.alternate!==null&&_.alternate.memoizedState!==null||(ob=rr())),j&4&&h_(c);break;case 22:if(Me=x!==null&&x.memoizedState!==null,c.mode&1?(ca=(fe=ca)||Me,ii(u,c),ca=fe):ii(u,c),Ii(c),j&8192){if(fe=c.memoizedState!==null,(c.stateNode.isHidden=fe)&&!Me&&(c.mode&1)!==0)for(Ye=c,Me=c.child;Me!==null;){for(Re=Ye=Me;Ye!==null;){switch(Ee=Ye,qe=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:eh(4,Ee,Ee.return);break;case 1:Xd(Ee,Ee.return);var Xe=Ee.stateNode;if(typeof Xe.componentWillUnmount=="function"){j=Ee,x=Ee.return;try{u=j,Xe.props=u.memoizedProps,Xe.state=u.memoizedState,Xe.componentWillUnmount()}catch(Qe){Yr(j,x,Qe)}}break;case 5:Xd(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){x_(Re);continue}}qe!==null?(qe.return=Ee,Ye=qe):x_(Re)}Me=Me.sibling}e:for(Me=null,Re=c;;){if(Re.tag===5){if(Me===null){Me=Re;try{_=Re.stateNode,fe?(P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(G=Re.stateNode,re=Re.memoizedProps.style,D=re!=null&&re.hasOwnProperty("display")?re.display:null,G.style.display=ts("display",D))}catch(Qe){Yr(c,c.return,Qe)}}}else if(Re.tag===6){if(Me===null)try{Re.stateNode.nodeValue=fe?"":Re.memoizedProps}catch(Qe){Yr(c,c.return,Qe)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===c)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===c)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===c)break e;Me===Re&&(Me=null),Re=Re.return}Me===Re&&(Me=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:ii(u,c),Ii(c),j&4&&h_(c);break;case 21:break;default:ii(u,c),Ii(c)}}function Ii(c){var u=c.flags;if(u&2){try{e:{for(var x=c.return;x!==null;){if(d_(x)){var j=x;break e}x=x.return}throw Error(s(160))}switch(j.tag){case 5:var _=j.stateNode;j.flags&32&&(Er(_,""),j.flags&=-33);var P=u_(c);ab(c,P,_);break;case 3:case 4:var D=j.stateNode.containerInfo,G=u_(c);sb(c,G,D);break;default:throw Error(s(161))}}catch(re){Yr(c,c.return,re)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function Y9(c,u,x){Ye=c,p_(c)}function p_(c,u,x){for(var j=(c.mode&1)!==0;Ye!==null;){var _=Ye,P=_.child;if(_.tag===22&&j){var D=_.memoizedState!==null||$p;if(!D){var G=_.alternate,re=G!==null&&G.memoizedState!==null||ca;G=$p;var fe=ca;if($p=D,(ca=re)&&!fe)for(Ye=_;Ye!==null;)D=Ye,re=D.child,D.tag===22&&D.memoizedState!==null?y_(_):re!==null?(re.return=D,Ye=re):y_(_);for(;P!==null;)Ye=P,p_(P),P=P.sibling;Ye=_,$p=G,ca=fe}g_(c)}else(_.subtreeFlags&8772)!==0&&P!==null?(P.return=_,Ye=P):g_(c)}}function g_(c){for(;Ye!==null;){var u=Ye;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ca||zp(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!ca)if(x===null)j.componentDidMount();else{var _=u.elementType===u.type?x.memoizedProps:ai(u.type,x.memoizedProps);j.componentDidUpdate(_,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&xk(u,P,j);break;case 3:var D=u.updateQueue;if(D!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}xk(u,D,x)}break;case 5:var G=u.stateNode;if(x===null&&u.flags&4){x=G;var re=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&x.focus();break;case"img":re.src&&(x.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var fe=u.alternate;if(fe!==null){var Me=fe.memoizedState;if(Me!==null){var Re=Me.dehydrated;Re!==null&&il(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ca||u.flags&512&&rb(u)}catch(Ee){Yr(u,u.return,Ee)}}if(u===c){Ye=null;break}if(x=u.sibling,x!==null){x.return=u.return,Ye=x;break}Ye=u.return}}function x_(c){for(;Ye!==null;){var u=Ye;if(u===c){Ye=null;break}var x=u.sibling;if(x!==null){x.return=u.return,Ye=x;break}Ye=u.return}}function y_(c){for(;Ye!==null;){var u=Ye;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{zp(4,u)}catch(re){Yr(u,x,re)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var _=u.return;try{j.componentDidMount()}catch(re){Yr(u,_,re)}}var P=u.return;try{rb(u)}catch(re){Yr(u,P,re)}break;case 5:var D=u.return;try{rb(u)}catch(re){Yr(u,D,re)}}}catch(re){Yr(u,u.return,re)}if(u===c){Ye=null;break}var G=u.sibling;if(G!==null){G.return=u.return,Ye=G;break}Ye=u.return}}var J9=Math.ceil,Fp=k.ReactCurrentDispatcher,nb=k.ReactCurrentOwner,_n=k.ReactCurrentBatchConfig,er=0,Is=null,fs=null,Ys=0,rn=0,Qd=cl(0),Ss=0,th=null,Nc=0,Up=0,ib=0,rh=null,Ua=null,ob=0,Zd=1/0,wo=null,Bp=!1,lb=null,pl=null,Wp=!1,gl=null,Vp=0,sh=0,cb=null,qp=-1,Hp=0;function Ca(){return(er&6)!==0?rr():qp!==-1?qp:qp=rr()}function xl(c){return(c.mode&1)===0?1:(er&2)!==0&&Ys!==0?Ys&-Ys:M9.transition!==null?(Hp===0&&(Hp=jm()),Hp):(c=sr,c!==0||(c=window.event,c=c===void 0?16:Md(c.type)),c)}function oi(c,u,x,j){if(50<sh)throw sh=0,cb=null,Error(s(185));tl(c,x,j),((er&2)===0||c!==Is)&&(c===Is&&((er&2)===0&&(Up|=x),Ss===4&&yl(c,Ys)),Ba(c,j),x===1&&er===0&&(u.mode&1)===0&&(Zd=rr()+500,bp&&ul()))}function Ba(c,u){var x=c.callbackNode;ep(c,u);var j=uo(c,c===Is?Ys:0);if(j===0)x!==null&&Qa(x),c.callbackNode=null,c.callbackPriority=0;else if(u=j&-j,c.callbackPriority!==u){if(x!=null&&Qa(x),u===1)c.tag===0?O9(b_.bind(null,c)):nk(b_.bind(null,c)),P9(function(){(er&6)===0&&ul()}),x=null;else{switch(Nm(j)){case 1:x=je;break;case 4:x=ze;break;case 16:x=ot;break;case 536870912:x=yr;break;default:x=ot}x=P_(x,v_.bind(null,c))}c.callbackPriority=u,c.callbackNode=x}}function v_(c,u){if(qp=-1,Hp=0,(er&6)!==0)throw Error(s(327));var x=c.callbackNode;if(eu()&&c.callbackNode!==x)return null;var j=uo(c,c===Is?Ys:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||u)u=Kp(c,j);else{u=j;var _=er;er|=2;var P=j_();(Is!==c||Ys!==u)&&(wo=null,Zd=rr()+500,Cc(c,u));do try{Z9();break}catch(G){w_(c,G)}while(!0);_v(),Fp.current=P,er=_,fs!==null?u=0:(Is=null,Ys=0,u=Ss)}if(u!==0){if(u===2&&(_=_d(c),_!==0&&(j=_,u=db(c,_))),u===1)throw x=th,Cc(c,0),yl(c,j),Ba(c,rr()),x;if(u===6)yl(c,j);else{if(_=c.current.alternate,(j&30)===0&&!X9(_)&&(u=Kp(c,j),u===2&&(P=_d(c),P!==0&&(j=P,u=db(c,P))),u===1))throw x=th,Cc(c,0),yl(c,j),Ba(c,rr()),x;switch(c.finishedWork=_,c.finishedLanes=j,u){case 0:case 1:throw Error(s(345));case 2:kc(c,Ua,wo);break;case 3:if(yl(c,j),(j&130023424)===j&&(u=ob+500-rr(),10<u)){if(uo(c,0)!==0)break;if(_=c.suspendedLanes,(_&j)!==j){Ca(),c.pingedLanes|=c.suspendedLanes&_;break}c.timeoutHandle=gv(kc.bind(null,c,Ua,wo),u);break}kc(c,Ua,wo);break;case 4:if(yl(c,j),(j&4194240)===j)break;for(u=c.eventTimes,_=-1;0<j;){var D=31-Y(j);P=1<<D,D=u[D],D>_&&(_=D),j&=~P}if(j=_,j=rr()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*J9(j/1960))-j,10<j){c.timeoutHandle=gv(kc.bind(null,c,Ua,wo),j);break}kc(c,Ua,wo);break;case 5:kc(c,Ua,wo);break;default:throw Error(s(329))}}}return Ba(c,rr()),c.callbackNode===x?v_.bind(null,c):null}function db(c,u){var x=rh;return c.current.memoizedState.isDehydrated&&(Cc(c,u).flags|=256),c=Kp(c,u),c!==2&&(u=Ua,Ua=x,u!==null&&ub(u)),c}function ub(c){Ua===null?Ua=c:Ua.push.apply(Ua,c)}function X9(c){for(var u=c;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var _=x[j],P=_.getSnapshot;_=_.value;try{if(!ri(P(),_))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function yl(c,u){for(u&=~ib,u&=~Up,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var x=31-Y(u),j=1<<x;c[x]=-1,u&=~j}}function b_(c){if((er&6)!==0)throw Error(s(327));eu();var u=uo(c,0);if((u&1)===0)return Ba(c,rr()),null;var x=Kp(c,u);if(c.tag!==0&&x===2){var j=_d(c);j!==0&&(u=j,x=db(c,j))}if(x===1)throw x=th,Cc(c,0),yl(c,u),Ba(c,rr()),x;if(x===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,kc(c,Ua,wo),Ba(c,rr()),null}function mb(c,u){var x=er;er|=1;try{return c(u)}finally{er=x,er===0&&(Zd=rr()+500,bp&&ul())}}function Sc(c){gl!==null&&gl.tag===0&&(er&6)===0&&eu();var u=er;er|=1;var x=_n.transition,j=sr;try{if(_n.transition=null,sr=1,c)return c()}finally{sr=j,_n.transition=x,er=u,(er&6)===0&&ul()}}function hb(){rn=Qd.current,Or(Qd)}function Cc(c,u){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,_9(x)),fs!==null)for(x=fs.return;x!==null;){var j=x;switch(jv(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&yp();break;case 3:Yd(),Or($a),Or(ia),Iv();break;case 5:Mv(j);break;case 4:Yd();break;case 13:Or(Vr);break;case 19:Or(Vr);break;case 10:Pv(j.type._context);break;case 22:case 23:hb()}x=x.return}if(Is=c,fs=c=vl(c.current,null),Ys=rn=u,Ss=0,th=null,ib=Up=Nc=0,Ua=rh=null,bc!==null){for(u=0;u<bc.length;u++)if(x=bc[u],j=x.interleaved,j!==null){x.interleaved=null;var _=j.next,P=x.pending;if(P!==null){var D=P.next;P.next=_,j.next=D}x.pending=j}bc=null}return c}function w_(c,u){do{var x=fs;try{if(_v(),Ep.current=Rp,Tp){for(var j=qr.memoizedState;j!==null;){var _=j.queue;_!==null&&(_.pending=null),j=j.next}Tp=!1}if(jc=0,Rs=Ns=qr=null,Ym=!1,Jm=0,nb.current=null,x===null||x.return===null){Ss=1,th=u,fs=null;break}e:{var P=c,D=x.return,G=x,re=u;if(u=Ys,G.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,Me=G,Re=Me.tag;if((Me.mode&1)===0&&(Re===0||Re===11||Re===15)){var Ee=Me.alternate;Ee?(Me.updateQueue=Ee.updateQueue,Me.memoizedState=Ee.memoizedState,Me.lanes=Ee.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var qe=Hk(D);if(qe!==null){qe.flags&=-257,Kk(qe,D,G,P,u),qe.mode&1&&qk(P,fe,u),u=qe,re=fe;var Xe=u.updateQueue;if(Xe===null){var Qe=new Set;Qe.add(re),u.updateQueue=Qe}else Xe.add(re);break e}else{if((u&1)===0){qk(P,fe,u),fb();break e}re=Error(s(426))}}else if($r&&G.mode&1){var rs=Hk(D);if(rs!==null){(rs.flags&65536)===0&&(rs.flags|=256),Kk(rs,D,G,P,u),Cv(Jd(re,G));break e}}P=re=Jd(re,G),Ss!==4&&(Ss=2),rh===null?rh=[P]:rh.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var oe=Wk(P,re,u);gk(P,oe);break e;case 1:G=re;var ae=P.type,ue=P.stateNode;if((P.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(pl===null||!pl.has(ue)))){P.flags|=65536,u&=-u,P.lanes|=u;var De=Vk(P,G,u);gk(P,De);break e}}P=P.return}while(P!==null)}S_(x)}catch(et){u=et,fs===x&&x!==null&&(fs=x=x.return);continue}break}while(!0)}function j_(){var c=Fp.current;return Fp.current=Rp,c===null?Rp:c}function fb(){(Ss===0||Ss===3||Ss===2)&&(Ss=4),Is===null||(Nc&268435455)===0&&(Up&268435455)===0||yl(Is,Ys)}function Kp(c,u){var x=er;er|=2;var j=j_();(Is!==c||Ys!==u)&&(wo=null,Cc(c,u));do try{Q9();break}catch(_){w_(c,_)}while(!0);if(_v(),er=x,Fp.current=j,fs!==null)throw Error(s(261));return Is=null,Ys=0,Ss}function Q9(){for(;fs!==null;)N_(fs)}function Z9(){for(;fs!==null&&!wn();)N_(fs)}function N_(c){var u=__(c.alternate,c,rn);c.memoizedProps=c.pendingProps,u===null?S_(c):fs=u,nb.current=null}function S_(c){var u=c;do{var x=u.alternate;if(c=u.return,(u.flags&32768)===0){if(x=q9(x,u,rn),x!==null){fs=x;return}}else{if(x=H9(x,u),x!==null){x.flags&=32767,fs=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Ss=6,fs=null;return}}if(u=u.sibling,u!==null){fs=u;return}fs=u=c}while(u!==null);Ss===0&&(Ss=5)}function kc(c,u,x){var j=sr,_=_n.transition;try{_n.transition=null,sr=1,eB(c,u,x,j)}finally{_n.transition=_,sr=j}return null}function eB(c,u,x,j){do eu();while(gl!==null);if((er&6)!==0)throw Error(s(327));x=c.finishedWork;var _=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0;var P=x.lanes|x.childLanes;if(tp(c,P),c===Is&&(fs=Is=null,Ys=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Wp||(Wp=!0,P_(ot,function(){return eu(),null})),P=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||P){P=_n.transition,_n.transition=null;var D=sr;sr=1;var G=er;er|=4,nb.current=null,G9(c,x),f_(x,c),b9(fv),pc=!!hv,fv=hv=null,c.current=x,Y9(x),co(),er=G,sr=D,_n.transition=P}else c.current=x;if(Wp&&(Wp=!1,gl=c,Vp=_),P=c.pendingLanes,P===0&&(pl=null),Ms(x.stateNode),Ba(c,rr()),u!==null)for(j=c.onRecoverableError,x=0;x<u.length;x++)_=u[x],j(_.value,{componentStack:_.stack,digest:_.digest});if(Bp)throw Bp=!1,c=lb,lb=null,c;return(Vp&1)!==0&&c.tag!==0&&eu(),P=c.pendingLanes,(P&1)!==0?c===cb?sh++:(sh=0,cb=c):sh=0,ul(),null}function eu(){if(gl!==null){var c=Nm(Vp),u=_n.transition,x=sr;try{if(_n.transition=null,sr=16>c?16:c,gl===null)var j=!1;else{if(c=gl,gl=null,Vp=0,(er&6)!==0)throw Error(s(331));var _=er;for(er|=4,Ye=c.current;Ye!==null;){var P=Ye,D=P.child;if((Ye.flags&16)!==0){var G=P.deletions;if(G!==null){for(var re=0;re<G.length;re++){var fe=G[re];for(Ye=fe;Ye!==null;){var Me=Ye;switch(Me.tag){case 0:case 11:case 15:eh(8,Me,P)}var Re=Me.child;if(Re!==null)Re.return=Me,Ye=Re;else for(;Ye!==null;){Me=Ye;var Ee=Me.sibling,qe=Me.return;if(c_(Me),Me===fe){Ye=null;break}if(Ee!==null){Ee.return=qe,Ye=Ee;break}Ye=qe}}}var Xe=P.alternate;if(Xe!==null){var Qe=Xe.child;if(Qe!==null){Xe.child=null;do{var rs=Qe.sibling;Qe.sibling=null,Qe=rs}while(Qe!==null)}}Ye=P}}if((P.subtreeFlags&2064)!==0&&D!==null)D.return=P,Ye=D;else e:for(;Ye!==null;){if(P=Ye,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:eh(9,P,P.return)}var oe=P.sibling;if(oe!==null){oe.return=P.return,Ye=oe;break e}Ye=P.return}}var ae=c.current;for(Ye=ae;Ye!==null;){D=Ye;var ue=D.child;if((D.subtreeFlags&2064)!==0&&ue!==null)ue.return=D,Ye=ue;else e:for(D=ae;Ye!==null;){if(G=Ye,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:zp(9,G)}}catch(et){Yr(G,G.return,et)}if(G===D){Ye=null;break e}var De=G.sibling;if(De!==null){De.return=G.return,Ye=De;break e}Ye=G.return}}if(er=_,ul(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(jt,c)}catch{}j=!0}return j}finally{sr=x,_n.transition=u}}return!1}function C_(c,u,x){u=Jd(x,u),u=Wk(c,u,1),c=hl(c,u,1),u=Ca(),c!==null&&(tl(c,1,u),Ba(c,u))}function Yr(c,u,x){if(c.tag===3)C_(c,c,x);else for(;u!==null;){if(u.tag===3){C_(u,c,x);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(pl===null||!pl.has(j))){c=Jd(x,c),c=Vk(u,c,1),u=hl(u,c,1),c=Ca(),u!==null&&(tl(u,1,c),Ba(u,c));break}}u=u.return}}function tB(c,u,x){var j=c.pingCache;j!==null&&j.delete(u),u=Ca(),c.pingedLanes|=c.suspendedLanes&x,Is===c&&(Ys&x)===x&&(Ss===4||Ss===3&&(Ys&130023424)===Ys&&500>rr()-ob?Cc(c,0):ib|=x),Ba(c,u)}function k_(c,u){u===0&&((c.mode&1)===0?u=1:(u=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var x=Ca();c=yo(c,u),c!==null&&(tl(c,u,x),Ba(c,x))}function rB(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),k_(c,x)}function sB(c,u){var x=0;switch(c.tag){case 13:var j=c.stateNode,_=c.memoizedState;_!==null&&(x=_.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(u),k_(c,x)}var __;__=function(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps||$a.current)Fa=!0;else{if((c.lanes&x)===0&&(u.flags&128)===0)return Fa=!1,V9(c,u,x);Fa=(c.flags&131072)!==0}else Fa=!1,$r&&(u.flags&1048576)!==0&&ik(u,jp,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;Lp(c,u),c=u.pendingProps;var _=Bd(u,ia.current);Gd(u,x),_=$v(null,u,j,c,_,x);var P=zv();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,za(j)?(P=!0,vp(u)):P=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Tv(u),_.updater=Ip,u.stateNode=_,_._reactInternals=u,qv(u,j,c,x),u=Yv(null,u,j,!0,P,x)):(u.tag=0,$r&&P&&wv(u),Sa(null,u,_,x),u=u.child),u;case 16:j=u.elementType;e:{switch(Lp(c,u),c=u.pendingProps,_=j._init,j=_(j._payload),u.type=j,_=u.tag=nB(j),c=ai(j,c),_){case 0:u=Gv(null,u,j,c,x);break e;case 1:u=Zk(null,u,j,c,x);break e;case 11:u=Gk(null,u,j,c,x);break e;case 14:u=Yk(null,u,j,ai(j.type,c),x);break e}throw Error(s(306,j,""))}return u;case 0:return j=u.type,_=u.pendingProps,_=u.elementType===j?_:ai(j,_),Gv(c,u,j,_,x);case 1:return j=u.type,_=u.pendingProps,_=u.elementType===j?_:ai(j,_),Zk(c,u,j,_,x);case 3:e:{if(e_(u),c===null)throw Error(s(387));j=u.pendingProps,P=u.memoizedState,_=P.element,pk(c,u),Pp(u,j,null,x);var D=u.memoizedState;if(j=D.element,P.isDehydrated)if(P={element:j,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){_=Jd(Error(s(423)),u),u=t_(c,u,j,x,_);break e}else if(j!==_){_=Jd(Error(s(424)),u),u=t_(c,u,j,x,_);break e}else for(tn=ll(u.stateNode.containerInfo.firstChild),en=u,$r=!0,si=null,x=hk(u,null,j,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(qd(),j===_){u=bo(c,u,x);break e}Sa(c,u,j,x)}u=u.child}return u;case 5:return yk(u),c===null&&Sv(u),j=u.type,_=u.pendingProps,P=c!==null?c.memoizedProps:null,D=_.children,pv(j,_)?D=null:P!==null&&pv(j,P)&&(u.flags|=32),Qk(c,u),Sa(c,u,D,x),u.child;case 6:return c===null&&Sv(u),null;case 13:return r_(c,u,x);case 4:return Ov(u,u.stateNode.containerInfo),j=u.pendingProps,c===null?u.child=Hd(u,null,j,x):Sa(c,u,j,x),u.child;case 11:return j=u.type,_=u.pendingProps,_=u.elementType===j?_:ai(j,_),Gk(c,u,j,_,x);case 7:return Sa(c,u,u.pendingProps,x),u.child;case 8:return Sa(c,u,u.pendingProps.children,x),u.child;case 12:return Sa(c,u,u.pendingProps.children,x),u.child;case 10:e:{if(j=u.type._context,_=u.pendingProps,P=u.memoizedProps,D=_.value,Cr(Cp,j._currentValue),j._currentValue=D,P!==null)if(ri(P.value,D)){if(P.children===_.children&&!$a.current){u=bo(c,u,x);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var G=P.dependencies;if(G!==null){D=P.child;for(var re=G.firstContext;re!==null;){if(re.context===j){if(P.tag===1){re=vo(-1,x&-x),re.tag=2;var fe=P.updateQueue;if(fe!==null){fe=fe.shared;var Me=fe.pending;Me===null?re.next=re:(re.next=Me.next,Me.next=re),fe.pending=re}}P.lanes|=x,re=P.alternate,re!==null&&(re.lanes|=x),Av(P.return,x,u),G.lanes|=x;break}re=re.next}}else if(P.tag===10)D=P.type===u.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(s(341));D.lanes|=x,G=D.alternate,G!==null&&(G.lanes|=x),Av(D,x,u),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===u){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}Sa(c,u,_.children,x),u=u.child}return u;case 9:return _=u.type,j=u.pendingProps.children,Gd(u,x),_=Cn(_),j=j(_),u.flags|=1,Sa(c,u,j,x),u.child;case 14:return j=u.type,_=ai(j,u.pendingProps),_=ai(j.type,_),Yk(c,u,j,_,x);case 15:return Jk(c,u,u.type,u.pendingProps,x);case 17:return j=u.type,_=u.pendingProps,_=u.elementType===j?_:ai(j,_),Lp(c,u),u.tag=1,za(j)?(c=!0,vp(u)):c=!1,Gd(u,x),Uk(u,j,_),qv(u,j,_,x),Yv(null,u,j,!0,c,x);case 19:return a_(c,u,x);case 22:return Xk(c,u,x)}throw Error(s(156,u.tag))};function P_(c,u){return La(c,u)}function aB(c,u,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(c,u,x,j){return new aB(c,u,x,j)}function pb(c){return c=c.prototype,!(!c||!c.isReactComponent)}function nB(c){if(typeof c=="function")return pb(c)?1:0;if(c!=null){if(c=c.$$typeof,c===I)return 11;if(c===F)return 14}return 2}function vl(c,u){var x=c.alternate;return x===null?(x=Pn(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function Gp(c,u,x,j,_,P){var D=2;if(j=c,typeof c=="function")pb(c)&&(D=1);else if(typeof c=="string")D=5;else e:switch(c){case T:return _c(x.children,_,P,u);case M:D=8,_|=8;break;case L:return c=Pn(12,x,u,_|2),c.elementType=L,c.lanes=P,c;case B:return c=Pn(13,x,u,_),c.elementType=B,c.lanes=P,c;case H:return c=Pn(19,x,u,_),c.elementType=H,c.lanes=P,c;case O:return Yp(x,_,P,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:D=10;break e;case R:D=9;break e;case I:D=11;break e;case F:D=14;break e;case U:D=16,j=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return u=Pn(D,x,u,_),u.elementType=c,u.type=j,u.lanes=P,u}function _c(c,u,x,j){return c=Pn(7,c,j,u),c.lanes=x,c}function Yp(c,u,x,j){return c=Pn(22,c,j,u),c.elementType=O,c.lanes=x,c.stateNode={isHidden:!1},c}function gb(c,u,x){return c=Pn(6,c,null,u),c.lanes=x,c}function xb(c,u,x){return u=Pn(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function iB(c,u,x,j,_){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=j,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function yb(c,u,x,j,_,P,D,G,re){return c=new iB(c,u,x,G,re),u===1?(u=1,P===!0&&(u|=8)):u=0,P=Pn(3,null,null,u),c.current=P,P.stateNode=c,P.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(P),c}function oB(c,u,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:j==null?null:""+j,children:c,containerInfo:u,implementation:x}}function A_(c){if(!c)return dl;c=c._reactInternals;e:{if(Ze(c)!==c||c.tag!==1)throw Error(s(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(za(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(c.tag===1){var x=c.type;if(za(x))return sk(c,x,u)}return u}function E_(c,u,x,j,_,P,D,G,re){return c=yb(x,j,!0,c,_,P,D,G,re),c.context=A_(null),x=c.current,j=Ca(),_=xl(x),P=vo(j,_),P.callback=u??null,hl(x,P,_),c.current.lanes=_,tl(c,_,j),Ba(c,j),c}function Jp(c,u,x,j){var _=u.current,P=Ca(),D=xl(_);return x=A_(x),u.context===null?u.context=x:u.pendingContext=x,u=vo(P,D),u.payload={element:c},j=j===void 0?null:j,j!==null&&(u.callback=j),c=hl(_,u,D),c!==null&&(oi(c,_,D,P),_p(c,_,D)),D}function Xp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function T_(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function vb(c,u){T_(c,u),(c=c.alternate)&&T_(c,u)}function lB(){return null}var O_=typeof reportError=="function"?reportError:function(c){console.error(c)};function bb(c){this._internalRoot=c}Qp.prototype.render=bb.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(s(409));Jp(c,u,null,null)},Qp.prototype.unmount=bb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Sc(function(){Jp(null,c,null,null)}),u[fo]=null}};function Qp(c){this._internalRoot=c}Qp.prototype.unstable_scheduleHydration=function(c){if(c){var u=km();c={blockedOn:null,target:c,priority:u};for(var x=0;x<ti.length&&u!==0&&u<ti[x].priority;x++);ti.splice(x,0,c),x===0&&Am(c)}};function wb(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Zp(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function M_(){}function cB(c,u,x,j,_){if(_){if(typeof j=="function"){var P=j;j=function(){var fe=Xp(D);P.call(fe)}}var D=E_(u,j,c,0,null,!1,!1,"",M_);return c._reactRootContainer=D,c[fo]=D.current,Um(c.nodeType===8?c.parentNode:c),Sc(),D}for(;_=c.lastChild;)c.removeChild(_);if(typeof j=="function"){var G=j;j=function(){var fe=Xp(re);G.call(fe)}}var re=yb(c,0,!1,null,null,!1,!1,"",M_);return c._reactRootContainer=re,c[fo]=re.current,Um(c.nodeType===8?c.parentNode:c),Sc(function(){Jp(u,re,x,j)}),re}function eg(c,u,x,j,_){var P=x._reactRootContainer;if(P){var D=P;if(typeof _=="function"){var G=_;_=function(){var re=Xp(D);G.call(re)}}Jp(u,D,c,_)}else D=cB(x,u,c,_,j);return Xp(D)}Sm=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var x=jn(u.pendingLanes);x!==0&&(Ad(u,x|1),Ba(u,rr()),(er&6)===0&&(Zd=rr()+500,ul()))}break;case 13:Sc(function(){var j=yo(c,1);if(j!==null){var _=Ca();oi(j,c,1,_)}}),vb(c,1)}},Ed=function(c){if(c.tag===13){var u=yo(c,134217728);if(u!==null){var x=Ca();oi(u,c,134217728,x)}vb(c,134217728)}},Cm=function(c){if(c.tag===13){var u=xl(c),x=yo(c,u);if(x!==null){var j=Ca();oi(x,c,u,j)}vb(c,u)}},km=function(){return sr},_m=function(c,u){var x=sr;try{return sr=c,u()}finally{sr=x}},ye=function(c,u,x){switch(u){case"input":if(Ge(c,x),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var j=x[u];if(j!==c&&j.form===c.form){var _=xp(j);if(!_)throw Error(s(90));te(j),Ge(j,_)}}}break;case"textarea":Ht(c,x);break;case"select":u=x.value,u!=null&&me(c,!!x.multiple,u,!1)}},ra=mb,sa=Sc;var dB={usingClientEntryPoint:!1,Events:[Vm,Fd,xp,Zt,wt,mb]},ah={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uB={bundleType:ah.bundleType,version:ah.version,rendererPackageName:ah.rendererPackageName,rendererConfig:ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ti(c),c===null?null:c.stateNode},findFiberByHostInstance:ah.findFiberByHostInstance||lB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tg.isDisabled&&tg.supportsFiber)try{jt=tg.inject(uB),Xt=tg}catch{}}return Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dB,Wa.createPortal=function(c,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wb(u))throw Error(s(200));return oB(c,u,null,x)},Wa.createRoot=function(c,u){if(!wb(c))throw Error(s(299));var x=!1,j="",_=O_;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=yb(c,1,!1,null,null,x,!1,j,_),c[fo]=u.current,Um(c.nodeType===8?c.parentNode:c),new bb(u)},Wa.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=Ti(u),c=c===null?null:c.stateNode,c},Wa.flushSync=function(c){return Sc(c)},Wa.hydrate=function(c,u,x){if(!Zp(u))throw Error(s(200));return eg(null,c,u,!0,x)},Wa.hydrateRoot=function(c,u,x){if(!wb(c))throw Error(s(405));var j=x!=null&&x.hydratedSources||null,_=!1,P="",D=O_;if(x!=null&&(x.unstable_strictMode===!0&&(_=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onRecoverableError!==void 0&&(D=x.onRecoverableError)),u=E_(u,null,c,1,x??null,_,!1,P,D),c[fo]=u.current,Um(c),j)for(c=0;c<j.length;c++)x=j[c],_=x._getVersion,_=_(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,_]:u.mutableSourceEagerHydrationData.push(x,_);return new Qp(u)},Wa.render=function(c,u,x){if(!Zp(u))throw Error(s(200));return eg(null,c,u,!1,x)},Wa.unmountComponentAtNode=function(c){if(!Zp(c))throw Error(s(40));return c._reactRootContainer?(Sc(function(){eg(null,null,c,!1,function(){c._reactRootContainer=null,c[fo]=null})}),!0):!1},Wa.unstable_batchedUpdates=mb,Wa.unstable_renderSubtreeIntoContainer=function(c,u,x,j){if(!Zp(x))throw Error(s(200));if(c==null||c._reactInternals===void 0)throw Error(s(38));return eg(c,u,x,!1,j)},Wa.version="18.3.1-next-f1338f8080-20240426",Wa}var U_;function xO(){if(U_)return Sb.exports;U_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Sb.exports=jB(),Sb.exports}var B_;function NB(){if(B_)return rg;B_=1;var e=xO();return rg.createRoot=e.createRoot,rg.hydrateRoot=e.hydrateRoot,rg}var SB=NB();const CB=gn(SB);var Jl=xO();const kB=gn(Jl);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zh.apply(this,arguments)}var Dl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dl||(Dl={}));const W_="popstate";function _B(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:o,hash:l}=a.location;return oN("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Jg(n)}return AB(r,s,null,e)}function is(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function yO(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function PB(){return Math.random().toString(36).substr(2,8)}function V_(e,r){return{usr:e.state,key:e.key,idx:r}}function oN(e,r,s,a){return s===void 0&&(s=null),zh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Qu(r):r,{state:s,key:r&&r.key||a||PB()})}function Jg(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Qu(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function AB(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Dl.Pop,d=null,m=h();m==null&&(m=0,o.replaceState(zh({},o.state,{idx:m}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Dl.Pop;let y=h(),N=y==null?null:y-m;m=y,d&&d({action:l,location:w.location,delta:N})}function g(y,N){l=Dl.Push;let C=oN(w.location,y,N);m=h()+1;let S=V_(C,m),k=w.createHref(C);try{o.pushState(S,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(k)}i&&d&&d({action:l,location:w.location,delta:1})}function v(y,N){l=Dl.Replace;let C=oN(w.location,y,N);m=h();let S=V_(C,m),k=w.createHref(C);o.replaceState(S,"",k),i&&d&&d({action:l,location:w.location,delta:0})}function b(y){let N=n.location.origin!=="null"?n.location.origin:n.location.href,C=typeof y=="string"?y:Jg(y);return C=C.replace(/ $/,"%20"),is(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let w={get action(){return l},get location(){return e(n,o)},listen(y){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(W_,f),d=y,()=>{n.removeEventListener(W_,f),d=null}},createHref(y){return r(n,y)},createURL:b,encodeLocation(y){let N=b(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:v,go(y){return o.go(y)}};return w}var q_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(q_||(q_={}));function EB(e,r,s){return s===void 0&&(s="/"),TB(e,r,s)}function TB(e,r,s,a){let n=typeof r=="string"?Qu(r):r,i=Fh(n.pathname||"/",s);if(i==null)return null;let o=vO(e);OB(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let m=VB(i);l=UB(o[d],m)}return l}function vO(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(is(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let m=zl([a,d.relativePath]),h=s.concat(d);i.children&&i.children.length>0&&(is(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),vO(i.children,r,h,m)),!(i.path==null&&!i.index)&&r.push({path:m,score:zB(m,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of bO(i.path))n(i,o,d)}),r}function bO(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=bO(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function OB(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:FB(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const MB=/^:[\w-]+$/,RB=3,IB=2,DB=1,LB=10,$B=-2,H_=e=>e==="*";function zB(e,r){let s=e.split("/"),a=s.length;return s.some(H_)&&(a+=$B),r&&(a+=IB),s.filter(n=>!H_(n)).reduce((n,i)=>n+(MB.test(i)?RB:i===""?DB:LB),a)}function FB(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function UB(e,r,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],m=l===a.length-1,h=i==="/"?r:r.slice(i.length)||"/",f=BB({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),g=d.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:zl([i,f.pathname]),pathnameBase:GB(zl([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=zl([i,f.pathnameBase]))}return o}function BB(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=WB(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((m,h,f)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[f];return v&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function WB(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),yO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function VB(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return yO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Fh(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function qB(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Qu(e):e;return{pathname:s?s.startsWith("/")?s:HB(s,r):r,search:YB(a),hash:JB(n)}}function HB(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function _b(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KB(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function cS(e,r){let s=KB(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function dS(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Qu(e):(n=zh({},e),is(!n.pathname||!n.pathname.includes("?"),_b("?","pathname","search",n)),is(!n.pathname||!n.pathname.includes("#"),_b("#","pathname","hash",n)),is(!n.search||!n.search.includes("#"),_b("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let f=r.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;n.pathname=g.join("/")}l=f>=0?r[f]:"/"}let d=qB(n,l),m=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}const zl=e=>e.join("/").replace(/\/\/+/g,"/"),GB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wO=["post","put","patch","delete"];new Set(wO);const QB=["get",...wO];new Set(QB);const ZB={state:"unblocked",proceed:void 0,reset:void 0,location:void 0};/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ed.apply(this,arguments)}const uS=p.createContext(null),eW=p.createContext(null),Xl=p.createContext(null),yx=p.createContext(null),ro=p.createContext({outlet:null,matches:[],isDataRoute:!1}),jO=p.createContext(null);function tW(e,r){let{relative:s}=r===void 0?{}:r;Zu()||is(!1);let{basename:a,navigator:n}=p.useContext(Xl),{hash:i,pathname:o,search:l}=SO(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:zl([a,o])),n.createHref({pathname:d,search:l,hash:i})}function Zu(){return p.useContext(yx)!=null}function Ql(){return Zu()||is(!1),p.useContext(yx).location}function NO(e){p.useContext(Xl).static||p.useLayoutEffect(e)}function Nr(){let{isDataRoute:e}=p.useContext(ro);return e?gW():rW()}function rW(){Zu()||is(!1);let e=p.useContext(uS),{basename:r,future:s,navigator:a}=p.useContext(Xl),{matches:n}=p.useContext(ro),{pathname:i}=Ql(),o=JSON.stringify(cS(n,s.v7_relativeSplatPath)),l=p.useRef(!1);return NO(()=>{l.current=!0}),p.useCallback(function(m,h){if(h===void 0&&(h={}),!l.current)return;if(typeof m=="number"){a.go(m);return}let f=dS(m,JSON.parse(o),i,h.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:zl([r,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[r,a,o,i,e])}const sW=p.createContext(null);function aW(e){let r=p.useContext(ro).outlet;return r&&p.createElement(sW.Provider,{value:e},r)}function uf(){let{matches:e}=p.useContext(ro),r=e[e.length-1];return r?r.params:{}}function SO(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=p.useContext(Xl),{matches:n}=p.useContext(ro),{pathname:i}=Ql(),o=JSON.stringify(cS(n,a.v7_relativeSplatPath));return p.useMemo(()=>dS(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function nW(e,r){return iW(e,r)}function iW(e,r,s,a){Zu()||is(!1);let{navigator:n}=p.useContext(Xl),{matches:i}=p.useContext(ro),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let m=Ql(),h;if(r){var f;let y=typeof r=="string"?Qu(r):r;d==="/"||(f=y.pathname)!=null&&f.startsWith(d)||is(!1),h=y}else h=m;let g=h.pathname||"/",v=g;if(d!=="/"){let y=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=EB(e,{pathname:v}),w=uW(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:zl([d,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:zl([d,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,a);return r&&w?p.createElement(yx.Provider,{value:{location:ed({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Dl.Pop}},w):w}function oW(){let e=hW(),r=XB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),s?p.createElement("pre",{style:n},s):null,null)}const lW=p.createElement(oW,null);class cW extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?p.createElement(ro.Provider,{value:this.props.routeContext},p.createElement(jO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dW(e){let{routeContext:r,match:s,children:a}=e,n=p.useContext(uS);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(ro.Provider,{value:r},a)}function uW(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||is(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:g,errors:v}=s,b=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let v,b=!1,w=null,y=null;s&&(v=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||lW,d&&(m<0&&g===0?(xW("route-fallback"),b=!0,y=null):m===g&&(b=!0,y=f.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,g+1)),C=()=>{let S;return v?S=w:b?S=y:f.route.Component?S=p.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,p.createElement(dW,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:S})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(cW,{location:s.location,revalidation:s.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var CO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CO||{}),kO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kO||{});function _O(e){let r=p.useContext(uS);return r||is(!1),r}function PO(e){let r=p.useContext(eW);return r||is(!1),r}function mW(e){let r=p.useContext(ro);return r||is(!1),r}function AO(e){let r=mW(),s=r.matches[r.matches.length-1];return s.route.id||is(!1),s.route.id}function hW(){var e;let r=p.useContext(jO),s=PO(),a=AO();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}let fW=0;function pW(e){let{router:r,basename:s}=_O(CO.UseBlocker),a=PO(kO.UseBlocker),[n,i]=p.useState(""),o=p.useCallback(l=>{if(typeof e!="function")return!!e;if(s==="/")return e(l);let{currentLocation:d,nextLocation:m,historyAction:h}=l;return e({currentLocation:ed({},d,{pathname:Fh(d.pathname,s)||d.pathname}),nextLocation:ed({},m,{pathname:Fh(m.pathname,s)||m.pathname}),historyAction:h})},[s,e]);return p.useEffect(()=>{let l=String(++fW);return i(l),()=>r.deleteBlocker(l)},[r]),p.useEffect(()=>{n!==""&&r.getBlocker(n,o)},[r,n,o]),n&&a.blockers.has(n)?a.blockers.get(n):ZB}function gW(){let{router:e}=_O(),r=AO(),s=p.useRef(!1);return NO(()=>{s.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,ed({fromRouteId:r},i)))},[e,r])}const K_={};function xW(e,r,s){K_[e]||(K_[e]=!0)}function yW(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function EO(e){let{to:r,replace:s,state:a,relative:n}=e;Zu()||is(!1);let{future:i,static:o}=p.useContext(Xl),{matches:l}=p.useContext(ro),{pathname:d}=Ql(),m=Nr(),h=dS(r,cS(l,i.v7_relativeSplatPath),d,n==="path"),f=JSON.stringify(h);return p.useEffect(()=>m(JSON.parse(f),{replace:s,state:a,relative:n}),[m,f,n,s,a]),null}function vW(e){return aW(e.context)}function mt(e){is(!1)}function bW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=Dl.Pop,navigator:i,static:o=!1,future:l}=e;Zu()&&is(!1);let d=r.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:d,navigator:i,static:o,future:ed({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=Qu(a));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:b="default"}=a,w=p.useMemo(()=>{let y=Fh(h,d);return y==null?null:{location:{pathname:y,search:f,hash:g,state:v,key:b},navigationType:n}},[d,h,f,g,v,b,n]);return w==null?null:p.createElement(Xl.Provider,{value:m},p.createElement(yx.Provider,{children:s,value:w}))}function wW(e){let{children:r,location:s}=e;return nW(lN(r),s)}new Promise(()=>{});function lN(e,r){r===void 0&&(r=[]);let s=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...r,n];if(a.type===p.Fragment){s.push.apply(s,lN(a.props.children,i));return}a.type!==mt&&is(!1),!a.props.index||!a.props.children||is(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=lN(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},cN.apply(this,arguments)}function jW(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function NW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SW(e,r){return e.button===0&&(!r||r==="_self")&&!NW(e)}function dN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function CW(e,r){let s=dN(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const kW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_W="6";try{window.__reactRouterVersion=_W}catch{}const PW="startTransition",G_=xx[PW];function AW(e){let{basename:r,children:s,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=_B({window:n,v5Compat:!0}));let o=i.current,[l,d]=p.useState({action:o.action,location:o.location}),{v7_startTransition:m}=a||{},h=p.useCallback(f=>{m&&G_?G_(()=>d(f)):d(f)},[d,m]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>yW(a),[a]),p.createElement(bW,{basename:r,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const EW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OW=p.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:m,preventScrollReset:h,viewTransition:f}=r,g=jW(r,kW),{basename:v}=p.useContext(Xl),b,w=!1;if(typeof m=="string"&&TW.test(m)&&(b=m,EW))try{let S=new URL(window.location.href),k=m.startsWith("//")?new URL(S.protocol+m):new URL(m),A=Fh(k.pathname,v);k.origin===S.origin&&A!=null?m=A+k.search+k.hash:w=!0}catch{}let y=tW(m,{relative:n}),N=MW(m,{replace:o,state:l,target:d,preventScrollReset:h,relative:n,viewTransition:f});function C(S){a&&a(S),S.defaultPrevented||N(S)}return p.createElement("a",cN({},g,{href:b||y,onClick:w||i?a:C,ref:s,target:d}))});var Y_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var J_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function MW(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,d=Nr(),m=Ql(),h=SO(e,{relative:o});return p.useCallback(f=>{if(SW(f,s)){f.preventDefault();let g=a!==void 0?a:Jg(m)===Jg(h);d(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[m,d,h,a,n,s,e,i,o,l])}function RW(e){let r=p.useRef(dN(e)),s=p.useRef(!1),a=Ql(),n=p.useMemo(()=>CW(a.search,s.current?null:r.current),[a.search]),i=Nr(),o=p.useCallback((l,d)=>{const m=dN(typeof l=="function"?l(n):l);s.current=!0,i("?"+m,d)},[i,n]);return[n,o]}var IW=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function TO({packageName:e,customMessages:r}){let s=e;function a(i,o){if(!o)return`${s}: ${i}`;let l=i;const d=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const m of d){const h=(o[m[1]]||"").toString();l=l.replace(`{{${m[1]}}}`,h)}return`${s}: ${l}`}const n={...IW,...r};return{setPackageName({packageName:i}){return typeof i=="string"&&(s=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(a(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(a(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(a(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(a(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(a(n.MissingClerkProvider,i))},throw(i){throw new Error(a(i))}}}var OO=Object.defineProperty,DW=Object.getOwnPropertyDescriptor,LW=Object.getOwnPropertyNames,$W=Object.prototype.hasOwnProperty,zW=(e,r)=>{for(var s in r)OO(e,s,{get:r[s],enumerable:!0})},FW=(e,r,s,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of LW(r))!$W.call(e,n)&&n!==s&&OO(e,n,{get:()=>r[n],enumerable:!(a=DW(r,n))||a.enumerable});return e},UW=(e,r,s)=>(FW(e,r,"default"),s),BW={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},WW=new Set(["first_factor","second_factor","multi_factor"]),VW=new Set(["strict_mfa","strict","moderate","lax"]),qW=e=>typeof e=="number"&&e>0,HW=e=>WW.has(e),KW=e=>VW.has(e),Pb=e=>e.replace(/^(org:)*/,"org:"),GW=(e,r)=>{const{orgId:s,orgRole:a,orgPermissions:n}=r;return!e.role&&!e.permission||!s||!a||!n?null:e.permission?n.includes(Pb(e.permission)):e.role?Pb(a)===Pb(e.role):null},X_=(e,r)=>{const{org:s,user:a}=JW(e),[n,i]=r.split(":"),o=i||n;return n==="org"?s.includes(o):n==="user"?a.includes(o):[...s,...a].includes(o)},YW=(e,r)=>{const{features:s,plans:a}=r;return e.feature&&s?X_(s,e.feature):e.plan&&a?X_(a,e.plan):null},JW=e=>{const r=e?e.split(",").map(s=>s.trim()):[];return{org:r.filter(s=>s.split(":")[0].includes("o")).map(s=>s.split(":")[1]),user:r.filter(s=>s.split(":")[0].includes("u")).map(s=>s.split(":")[1])}},XW=e=>{if(!e)return!1;const r=n=>typeof n=="string"?BW[n]:n,s=typeof e=="string"&&KW(e),a=typeof e=="object"&&HW(e.level)&&qW(e.afterMinutes);return s||a?r.bind(null,e):!1},QW=(e,{factorVerificationAge:r})=>{if(!e.reverification||!r)return null;const s=XW(e.reverification);if(!s)return null;const{level:a,afterMinutes:n}=s(),[i,o]=r,l=i!==-1?n>i:null,d=o!==-1?n>o:null;switch(a){case"first_factor":return l;case"second_factor":return o!==-1?d:l;case"multi_factor":return o===-1?l:l&&d}},ZW=e=>r=>{if(!e.userId)return!1;const s=YW(r,e),a=GW(r,e),n=QW(r,e);return[s||a,n].some(i=>i===null)?[s||a,n].some(i=>i===!0):[s||a,n].every(i=>i===!0)},eV=({authObject:{sessionId:e,sessionStatus:r,userId:s,actor:a,orgId:n,orgRole:i,orgSlug:o,signOut:l,getToken:d,has:m,sessionClaims:h},options:{treatPendingAsSignedOut:f=!0}})=>{if(e===void 0&&s===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:s,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:d};if(e===null&&s===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:s,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(f&&r==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(e&&h&&s&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:n,orgRole:i,orgSlug:o||null,has:m,signOut:l,getToken:d};if(e&&h&&s&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:null,orgRole:null,orgSlug:null,has:m,signOut:l,getToken:d}},MO=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,tV=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],RO="pk_live_",rV="pk_test_";function IO(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function Q_(e,r={}){if(e=e||"",!e||!uN(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!uN(e))throw new Error("Publishable key not valid.");return null}const s=e.startsWith(RO)?"production":"development";let a;try{a=MO(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!IO(a)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let n=a.slice(0,-1);return r.proxyUrl?n=r.proxyUrl:s!=="development"&&r.domain&&r.isSatellite&&(n=`clerk.${r.domain}`),{instanceType:s,frontendApi:n}}function uN(e=""){try{if(!(e.startsWith(RO)||e.startsWith(rV)))return!1;const s=e.split("_");if(s.length!==3)return!1;const a=s[2];if(!a)return!1;const n=MO(a);return IO(n)}catch{return!1}}function sV(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const s=typeof r=="string"?r:r.hostname;let a=e.get(s);return a===void 0&&(a=tV.some(n=>s.endsWith(n)),e.set(s,a)),a}}}var aV="METHOD_CALLED";function DO(e,r){return{event:aV,payload:{method:e,...r}}}var Ab={exports:{}},Eb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function nV(){if(Z_)return Eb;Z_=1;var e=Xu();function r(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,g){var v=g(),b=a({inst:{value:v,getSnapshot:g}}),w=b[0].inst,y=b[1];return i(function(){w.value=v,w.getSnapshot=g,d(w)&&y({inst:w})},[f,v,g]),n(function(){return d(w)&&y({inst:w}),f(function(){d(w)&&y({inst:w})})},[f]),o(v),v}function d(f){var g=f.getSnapshot;f=f.value;try{var v=g();return!s(f,v)}catch{return!0}}function m(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return Eb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Eb}var eP;function LO(){return eP||(eP=1,Ab.exports=nV()),Ab.exports}var mS=LO();const $O=0,zO=1,FO=2,tP=3;var rP=Object.prototype.hasOwnProperty;function mN(e,r){var s,a;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&mN(e[a],r[a]););return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(rP.call(e,s)&&++a&&!rP.call(r,s)||!(s in r)||!mN(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}const hi=new WeakMap,Ll=()=>{},ks=Ll(),Xg=Object,Dt=e=>e===ks,In=e=>typeof e=="function",$o=(e,r)=>({...e,...r}),UO=e=>In(e.then),Tb={},sg={},hS="undefined",mf=typeof window!=hS,hN=typeof document!=hS,iV=mf&&"Deno"in window,oV=()=>mf&&typeof window.requestAnimationFrame!=hS,El=(e,r)=>{const s=hi.get(e);return[()=>!Dt(r)&&e.get(r)||Tb,a=>{if(!Dt(r)){const n=e.get(r);r in sg||(sg[r]=n),s[5](r,$o(n,a),n||Tb)}},s[6],()=>!Dt(r)&&r in sg?sg[r]:!Dt(r)&&e.get(r)||Tb]};let fN=!0;const lV=()=>fN,[pN,gN]=mf&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ll,Ll],cV=()=>{const e=hN&&document.visibilityState;return Dt(e)||e!=="hidden"},dV=e=>(hN&&document.addEventListener("visibilitychange",e),pN("focus",e),()=>{hN&&document.removeEventListener("visibilitychange",e),gN("focus",e)}),uV=e=>{const r=()=>{fN=!0,e()},s=()=>{fN=!1};return pN("online",r),pN("offline",s),()=>{gN("online",r),gN("offline",s)}},mV={isOnline:lV,isVisible:cV},hV={initFocus:dV,initReconnect:uV},sP=!le.useId,Uh=!mf||iV,fV=e=>oV()?window.requestAnimationFrame(e):setTimeout(e,1),Th=Uh?p.useEffect:p.useLayoutEffect,Ob=typeof navigator<"u"&&navigator.connection,aP=!Uh&&Ob&&(["slow-2g","2g"].includes(Ob.effectiveType)||Ob.saveData),ag=new WeakMap,pV=e=>Xg.prototype.toString.call(e),Mb=(e,r)=>e===`[object ${r}]`;let gV=0;const xN=e=>{const r=typeof e,s=pV(e),a=Mb(s,"Date"),n=Mb(s,"RegExp"),i=Mb(s,"Object");let o,l;if(Xg(e)===e&&!a&&!n){if(o=ag.get(e),o)return o;if(o=++gV+"~",ag.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=xN(e[l])+",";ag.set(e,o)}if(i){o="#";const d=Xg.keys(e).sort();for(;!Dt(l=d.pop());)Dt(e[l])||(o+=l+":"+xN(e[l])+",");ag.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},Ru=e=>{if(In(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?xN(e):"",[e,r]};let xV=0;const yN=()=>++xV;async function BO(...e){const[r,s,a,n]=e,i=$o({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let o=i.populateCache;const l=i.rollbackOnError;let d=i.optimisticData;const m=g=>typeof l=="function"?l(g):l!==!1,h=i.throwOnError;if(In(s)){const g=s,v=[],b=r.keys();for(const w of b)!/^\$(inf|sub)\$/.test(w)&&g(r.get(w)._k)&&v.push(w);return Promise.all(v.map(f))}return f(s);async function f(g){const[v]=Ru(g);if(!v)return;const[b,w]=El(r,v),[y,N,C,S]=hi.get(r),k=()=>{const H=y[v];return(In(i.revalidate)?i.revalidate(b().data,g):i.revalidate!==!1)&&(delete C[v],delete S[v],H&&H[0])?H[0](FO).then(()=>b().data):b().data};if(e.length<3)return k();let A=a,E,T=!1;const M=yN();N[v]=[M,0];const L=!Dt(d),V=b(),R=V.data,I=V._c,B=Dt(I)?R:I;if(L&&(d=In(d)?d(B,R):d,w({data:d,_c:B})),In(A))try{A=A(B)}catch(H){E=H,T=!0}if(A&&UO(A))if(A=await A.catch(H=>{E=H,T=!0}),M!==N[v][0]){if(T)throw E;return A}else T&&L&&m(E)&&(o=!0,w({data:B,_c:ks}));if(o&&!T)if(In(o)){const H=o(A,B);w({data:H,error:ks,_c:ks})}else w({data:A,error:ks,_c:ks});if(N[v][1]=yN(),Promise.resolve(k()).then(()=>{w({_c:ks})}),T){if(h)throw E;return}return A}}const nP=(e,r)=>{for(const s in e)e[s][0]&&e[s][0](r)},WO=(e,r)=>{if(!hi.has(e)){const s=$o(hV,r),a=Object.create(null),n=BO.bind(ks,e);let i=Ll;const o=Object.create(null),l=(h,f)=>{const g=o[h]||[];return o[h]=g,g.push(f),()=>g.splice(g.indexOf(f),1)},d=(h,f,g)=>{e.set(h,f);const v=o[h];if(v)for(const b of v)b(f,g)},m=()=>{if(!hi.has(e)&&(hi.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,d,l]),!Uh)){const h=s.initFocus(setTimeout.bind(ks,nP.bind(ks,a,$O))),f=s.initReconnect(setTimeout.bind(ks,nP.bind(ks,a,zO)));i=()=>{h&&h(),f&&f(),hi.delete(e)}}};return m(),[e,n,m,i]}return[e,hi.get(e)[4]]},yV=(e,r,s,a,n)=>{const i=s.errorRetryCount,o=n.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!Dt(i)&&o>i||setTimeout(a,l,n)},vV=mN,[hf,VO]=WO(new Map),qO=$o({onLoadingSlow:Ll,onSuccess:Ll,onError:Ll,onErrorRetry:yV,onDiscarded:Ll,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:aP?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:aP?5e3:3e3,compare:vV,isPaused:()=>!1,cache:hf,mutate:VO,fallback:{}},mV),HO=(e,r)=>{const s=$o(e,r);if(r){const{use:a,fallback:n}=e,{use:i,fallback:o}=r;a&&i&&(s.use=a.concat(i)),n&&o&&(s.fallback=$o(n,o))}return s},vN=p.createContext({}),bV=e=>{const{value:r}=e,s=p.useContext(vN),a=In(r),n=p.useMemo(()=>a?r(s):r,[a,s,r]),i=p.useMemo(()=>a?n:HO(s,n),[a,s,n]),o=n&&n.provider,l=p.useRef(ks);o&&!l.current&&(l.current=WO(o(i.cache||hf),n));const d=l.current;return d&&(i.cache=d[0],i.mutate=d[1]),Th(()=>{if(d)return d[2]&&d[2](),d[3]},[]),p.createElement(vN.Provider,$o(e,{value:i}))},KO="$inf$",GO=mf&&window.__SWR_DEVTOOLS_USE__,wV=GO?window.__SWR_DEVTOOLS_USE__:[],jV=()=>{GO&&(window.__SWR_DEVTOOLS_REACT__=le)},YO=e=>In(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],JO=()=>$o(qO,p.useContext(vN)),NV=(e,r)=>{const[s,a]=Ru(e),[,,,n]=hi.get(hf);if(n[s])return n[s];const i=r(a);return n[s]=i,i},SV=e=>(r,s,a)=>e(r,s&&((...i)=>{const[o]=Ru(r),[,,,l]=hi.get(hf);if(o.startsWith(KO))return s(...i);const d=l[o];return Dt(d)?s(...i):(delete l[o],d)}),a),CV=wV.concat(SV),kV=e=>function(...s){const a=JO(),[n,i,o]=YO(s),l=HO(a,o);let d=e;const{use:m}=l,h=(m||[]).concat(CV);for(let f=h.length;f--;)d=h[f](d);return d(n,i||l.fetcher||null,l)},_V=(e,r,s)=>{const a=r[e]||(r[e]=[]);return a.push(s),()=>{const n=a.indexOf(s);n>=0&&(a[n]=a[a.length-1],a.pop())}},PV=(e,r)=>(...s)=>{const[a,n,i]=YO(s),o=(i.use||[]).concat(r);return e(a,n,{...i,use:o})};jV();const AV=()=>{},EV=AV(),bN=Object,iP=e=>e===EV,TV=e=>typeof e=="function",ng=new WeakMap,OV=e=>bN.prototype.toString.call(e),Rb=(e,r)=>e===`[object ${r}]`;let MV=0;const wN=e=>{const r=typeof e,s=OV(e),a=Rb(s,"Date"),n=Rb(s,"RegExp"),i=Rb(s,"Object");let o,l;if(bN(e)===e&&!a&&!n){if(o=ng.get(e),o)return o;if(o=++MV+"~",ng.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=wN(e[l])+",";ng.set(e,o)}if(i){o="#";const d=bN.keys(e).sort();for(;!iP(l=d.pop());)iP(e[l])||(o+=l+":"+wN(e[l])+",");ng.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},RV=e=>{if(TV(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?wN(e):"",[e,r]},IV=e=>RV(e)[0],Ib=le.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}}),Db={dedupe:!0},DV=(e,r,s)=>{const{cache:a,compare:n,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:d,refreshInterval:m,refreshWhenHidden:h,refreshWhenOffline:f,keepPreviousData:g}=s,[v,b,w,y]=hi.get(a),[N,C]=Ru(e),S=p.useRef(!1),k=p.useRef(!1),A=p.useRef(N),E=p.useRef(r),T=p.useRef(s),M=()=>T.current,L=()=>M().isVisible()&&M().isOnline(),[V,R,I,B]=El(a,N),H=p.useRef({}).current,F=Dt(o)?Dt(s.fallback)?ks:s.fallback[N]:o,U=(we,Oe)=>{for(const Ue in H){const ie=Ue;if(ie==="data"){if(!n(we[ie],Oe[ie])&&(!Dt(we[ie])||!n(Z,Oe[ie])))return!1}else if(Oe[ie]!==we[ie])return!1}return!0},O=p.useMemo(()=>{const we=!N||!r?!1:Dt(l)?M().isPaused()||i?!1:d!==!1:l,Oe=Nt=>{const me=$o(Nt);return delete me._k,we?{isValidating:!0,isLoading:!0,...me}:me},Ue=V(),ie=B(),Ge=Oe(Ue),Ct=Ue===ie?Ge:Oe(ie);let Ot=Ge;return[()=>{const Nt=Oe(V());return U(Nt,Ot)?(Ot.data=Nt.data,Ot.isLoading=Nt.isLoading,Ot.isValidating=Nt.isValidating,Ot.error=Nt.error,Ot):(Ot=Nt,Nt)},()=>Ct]},[a,N]),$=mS.useSyncExternalStore(p.useCallback(we=>I(N,(Oe,Ue)=>{U(Ue,Oe)||we()}),[a,N]),O[0],O[1]),W=!S.current,q=v[N]&&v[N].length>0,z=$.data,Q=Dt(z)?F&&UO(F)?Ib(F):F:z,Ae=$.error,de=p.useRef(Q),Z=g?Dt(z)?Dt(de.current)?Q:de.current:z:Q,be=q&&!Dt(Ae)?!1:W&&!Dt(l)?l:M().isPaused()?!1:i?Dt(Q)?!1:d:Dt(Q)||d,ke=!!(N&&r&&W&&be),Ie=Dt($.isValidating)?ke:$.isValidating,ce=Dt($.isLoading)?ke:$.isLoading,Ce=p.useCallback(async we=>{const Oe=E.current;if(!N||!Oe||k.current||M().isPaused())return!1;let Ue,ie,Ge=!0;const Ct=we||{},Ot=!w[N]||!Ct.dedupe,Nt=()=>sP?!k.current&&N===A.current&&S.current:N===A.current,me={isValidating:!1,isLoading:!1},Be=()=>{R(me)},kt=()=>{const _t=w[N];_t&&_t[1]===ie&&delete w[N]},Ht={isValidating:!0};Dt(V().data)&&(Ht.isLoading=!0);try{if(Ot&&(R(Ht),s.loadingTimeout&&Dt(V().data)&&setTimeout(()=>{Ge&&Nt()&&M().onLoadingSlow(N,s)},s.loadingTimeout),w[N]=[Oe(C),yN()]),[Ue,ie]=w[N],Ue=await Ue,Ot&&setTimeout(kt,s.dedupingInterval),!w[N]||w[N][1]!==ie)return Ot&&Nt()&&M().onDiscarded(N),!1;me.error=ks;const _t=b[N];if(!Dt(_t)&&(ie<=_t[0]||ie<=_t[1]||_t[1]===0))return Be(),Ot&&Nt()&&M().onDiscarded(N),!1;const vr=V().data;me.data=n(vr,Ue)?vr:Ue,Ot&&Nt()&&M().onSuccess(Ue,N,s)}catch(_t){kt();const vr=M(),{shouldRetryOnError:Gr}=vr;vr.isPaused()||(me.error=_t,Ot&&Nt()&&(vr.onError(_t,N,vr),(Gr===!0||In(Gr)&&Gr(_t))&&(!M().revalidateOnFocus||!M().revalidateOnReconnect||L())&&vr.onErrorRetry(_t,N,vr,br=>{const bs=v[N];bs&&bs[0]&&bs[0](tP,br)},{retryCount:(Ct.retryCount||0)+1,dedupe:!0})))}return Ge=!1,Be(),!0},[N,a]),Te=p.useCallback((...we)=>BO(a,A.current,...we),[]);if(Th(()=>{E.current=r,T.current=s,Dt(z)||(de.current=z)}),Th(()=>{if(!N)return;const we=Ce.bind(ks,Db);let Oe=0;M().revalidateOnFocus&&(Oe=Date.now()+M().focusThrottleInterval);const ie=_V(N,v,(Ge,Ct={})=>{if(Ge==$O){const Ot=Date.now();M().revalidateOnFocus&&Ot>Oe&&L()&&(Oe=Ot+M().focusThrottleInterval,we())}else if(Ge==zO)M().revalidateOnReconnect&&L()&&we();else{if(Ge==FO)return Ce();if(Ge==tP)return Ce(Ct)}});return k.current=!1,A.current=N,S.current=!0,R({_k:C}),be&&(w[N]||(Dt(Q)||Uh?we():fV(we))),()=>{k.current=!0,ie()}},[N]),Th(()=>{let we;function Oe(){const ie=In(m)?m(V().data):m;ie&&we!==-1&&(we=setTimeout(Ue,ie))}function Ue(){!V().error&&(h||M().isVisible())&&(f||M().isOnline())?Ce(Db).then(Oe):Oe()}return Oe(),()=>{we&&(clearTimeout(we),we=-1)}},[m,h,f,N]),p.useDebugValue(Z),i&&Dt(Q)&&N){if(!sP&&Uh)throw new Error("Fallback data is required when using Suspense in SSR.");E.current=r,T.current=s,k.current=!1;const we=y[N];if(!Dt(we)){const Oe=Te(we);Ib(Oe)}if(Dt(Ae)){const Oe=Ce(Db);Dt(Z)||(Oe.status="fulfilled",Oe.value=!0),Ib(Oe)}else throw Ae}return{mutate:Te,get data(){return H.data=!0,Z},get error(){return H.error=!0,Ae},get isValidating(){return H.isValidating=!0,Ie},get isLoading(){return H.isLoading=!0,ce}}},LV=Xg.defineProperty(bV,"defaultValue",{value:qO}),fS=kV(DV),$V=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:LV,default:fS,mutate:VO,preload:NV,unstable_serialize:IV,useSWRConfig:JO},Symbol.toStringTag,{value:"Module"})),zV=()=>{},FV=zV(),jN=Object,oP=e=>e===FV,UV=e=>typeof e=="function",ig=new WeakMap,BV=e=>jN.prototype.toString.call(e),Lb=(e,r)=>e===`[object ${r}]`;let WV=0;const NN=e=>{const r=typeof e,s=BV(e),a=Lb(s,"Date"),n=Lb(s,"RegExp"),i=Lb(s,"Object");let o,l;if(jN(e)===e&&!a&&!n){if(o=ig.get(e),o)return o;if(o=++WV+"~",ig.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=NN(e[l])+",";ig.set(e,o)}if(i){o="#";const d=jN.keys(e).sort();for(;!oP(l=d.pop());)oP(e[l])||(o+=l+":"+NN(e[l])+",");ig.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},VV=e=>{if(UV(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?NN(e):"",[e,r]},qV=e=>VV(e?e(0,null):null)[0],$b=Promise.resolve(),HV=e=>(r,s,a)=>{const n=p.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:d=!1,revalidateFirstPage:m=!0,revalidateOnMount:h=!1,parallel:f=!1}=a,[,,,g]=hi.get(hf);let v;try{v=qV(r),v&&(v=KO+v)}catch{}const[b,w,y]=El(i,v),N=p.useCallback(()=>Dt(b()._l)?o:b()._l,[i,v,o]);mS.useSyncExternalStore(p.useCallback(M=>v?y(v,()=>{M()}):()=>{},[i,v]),N,N);const C=p.useCallback(()=>{const M=b()._l;return Dt(M)?o:M},[v,o]),S=p.useRef(C());Th(()=>{if(!n.current){n.current=!0;return}v&&w({_l:d?S.current:C()})},[v,i]);const k=h&&!n.current,A=e(v,async M=>{const L=b()._i,V=b()._r;w({_r:ks});const R=[],I=C(),[B]=El(i,M),H=B().data,F=[];let U=null;for(let O=0;O<I;++O){const[$,W]=Ru(r(O,f?null:U));if(!$)break;const[q,z]=El(i,$);let Q=q().data;const Ae=l||L||Dt(Q)||m&&!O&&!Dt(H)||k||H&&!Dt(H[O])&&!a.compare(H[O],Q);if(s&&(typeof V=="function"?V(Q,W):Ae)){const de=async()=>{if(!($ in g))Q=await s(W);else{const be=g[$];delete g[$],Q=await be}z({data:Q,_k:W}),R[O]=Q};f?F.push(de):await de()}else R[O]=Q;f||(U=Q)}return f&&await Promise.all(F.map(O=>O())),w({_i:ks}),R},a),E=p.useCallback(function(M,L){const V=typeof L=="boolean"?{revalidate:L}:L||{},R=V.revalidate!==!1;return v?(R&&(Dt(M)?w({_i:!0,_r:V.revalidate}):w({_i:!1,_r:V.revalidate})),arguments.length?A.mutate(M,{...V,revalidate:R}):A.mutate()):$b},[v,i]),T=p.useCallback(M=>{if(!v)return $b;const[,L]=El(i,v);let V;if(In(M)?V=M(C()):typeof M=="number"&&(V=M),typeof V!="number")return $b;L({_l:V}),S.current=V;const R=[],[I]=El(i,v);let B=null;for(let H=0;H<V;++H){const[F]=Ru(r(H,B)),[U]=El(i,F),O=F?U().data:ks;if(Dt(O))return E(I().data);R.push(O),B=O}return E(R)},[v,i,E,C]);return{size:C(),setSize:T,mutate:E,get data(){return A.data},get error(){return A.error},get isValidating(){return A.isValidating},get isLoading(){return A.isLoading}}},KV=PV(fS,HV);var lP=Object.prototype.hasOwnProperty;function cP(e,r,s){for(s of e.keys())if(Oh(s,r))return s}function Oh(e,r){var s,a,n;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&Oh(e[a],r[a]););return a===-1}if(s===Set){if(e.size!==r.size)return!1;for(a of e)if(n=a,n&&typeof n=="object"&&(n=cP(r,n),!n)||!r.has(n))return!1;return!0}if(s===Map){if(e.size!==r.size)return!1;for(a of e)if(n=a[0],n&&typeof n=="object"&&(n=cP(r,n),!n)||!Oh(a[1],r.get(n)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),r=new Uint8Array(r);else if(s===DataView){if((a=e.byteLength)===r.byteLength)for(;a--&&e.getInt8(a)===r.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===r.byteLength)for(;a--&&e[a]===r[a];);return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(lP.call(e,s)&&++a&&!lP.call(r,s)||!(s in r)||!Oh(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}function GV(e,r){if(!e)throw typeof r=="string"?new Error(r):new Error(`${r.displayName} not found`)}var so=(e,r)=>{const{assertCtxFn:s=GV}={},a=le.createContext(void 0);return a.displayName=e,[a,()=>{const o=le.useContext(a);return s(o,`${e} not found`),o.value},()=>{const o=le.useContext(a);return o?o.value:{}}]},pS={};zW(pS,{useSWR:()=>fS,useSWRInfinite:()=>KV});UW(pS,$V);var[XO,QO]=so("ClerkInstanceContext"),[YV,JV]=so("UserContext"),[XV,i1e]=so("ClientContext"),[QV,o1e]=so("SessionContext");le.createContext({});var[ZV,l1e]=so("CheckoutContext"),eq=({children:e,...r})=>le.createElement(ZV.Provider,{value:{value:r}},e),[tq,c1e]=so("OrganizationContext"),rq=({children:e,organization:r,swrConfig:s})=>le.createElement(pS.SWRConfig,{value:s},le.createElement(tq.Provider,{value:{value:{organization:r}}},e));function ZO(e){if(!le.useContext(XO)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?le.useLayoutEffect:le.useEffect;var dP="useUser";function gS(){var s;ZO(dP);const e=JV();return(s=QO().telemetry)==null||s.record(DO(dP)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var uP=Oh,sq=e=>{const r=p.useRef(e);return p.useEffect(()=>{r.current=e},[e]),r.current},sn=(e,r,s)=>{const a=!!s,n=p.useRef(s);p.useEffect(()=>{n.current=s},[s]),p.useEffect(()=>{if(!a||!e)return()=>{};const i=(...o)=>{n.current&&n.current(...o)};return e.on(r,i),()=>{e.off(r,i)}},[a,r,e,n])},eM=le.createContext(null);eM.displayName="ElementsContext";var aq=(e,r)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${r} in an <Elements> provider.`);return e},Qg=e=>e!==null&&typeof e=="object",nq=(e,r,s)=>Qg(e)?Object.keys(e).reduce((a,n)=>{const i=!Qg(r)||!tM(e[n],r[n]);return s.includes(n)?(i&&console.warn(`Unsupported prop change: options.${n} is not a mutable property.`),a):i?{...a||{},[n]:e[n]}:a},null):null,mP="[object Object]",tM=(e,r)=>{if(!Qg(e)||!Qg(r))return e===r;const s=Array.isArray(e),a=Array.isArray(r);if(s!==a)return!1;const n=Object.prototype.toString.call(e)===mP,i=Object.prototype.toString.call(r)===mP;if(n!==i)return!1;if(!n&&!s)return e===r;const o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;const d={};for(let v=0;v<o.length;v+=1)d[o[v]]=!0;for(let v=0;v<l.length;v+=1)d[l[v]]=!0;const m=Object.keys(d);if(m.length!==o.length)return!1;const h=e,f=r,g=v=>tM(h[v],f[v]);return m.every(g)},hP=e=>{const r=le.useContext(eM);return aq(r,e)},iq=e=>e.charAt(0).toUpperCase()+e.slice(1),oq=(e,r)=>{const s=`${iq(e)}Element`,i=r?o=>{hP(`mounts <${s}>`);const{id:l,className:d}=o;return le.createElement("div",{id:l,className:d})}:({id:o,className:l,fallback:d,options:m={},onBlur:h,onFocus:f,onReady:g,onChange:v,onEscape:b,onClick:w,onLoadError:y,onLoaderStart:N,onNetworksChange:C,onConfirm:S,onCancel:k,onShippingAddressChange:A,onShippingRateChange:E})=>{const T=hP(`mounts <${s}>`),M="elements"in T?T.elements:null,[L,V]=le.useState(null),R=le.useRef(null),I=le.useRef(null),[B,H]=p.useState(!1);sn(L,"blur",h),sn(L,"focus",f),sn(L,"escape",b),sn(L,"click",w),sn(L,"loaderror",y),sn(L,"loaderstart",N),sn(L,"networkschange",C),sn(L,"confirm",S),sn(L,"cancel",k),sn(L,"shippingaddresschange",A),sn(L,"shippingratechange",E),sn(L,"change",v);let F;g&&(F=()=>{H(!0),g(L)}),sn(L,"ready",F),le.useLayoutEffect(()=>{if(R.current===null&&I.current!==null&&M){let O=null;M&&(O=M.create(e,m)),R.current=O,V(O),O&&O.mount(I.current)}},[M,m]);const U=sq(m);return le.useEffect(()=>{if(!R.current)return;const O=nq(m,U,["paymentRequest"]);O&&"update"in R.current&&R.current.update(O)},[m,U]),le.useLayoutEffect(()=>()=>{if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}},[]),le.createElement(le.Fragment,null,!B&&d,le.createElement("div",{id:o,className:l,ref:I}))};return i.displayName=s,i.__elementType=e,i},lq=typeof window>"u";oq("payment",lq);so("StripeLibsContext");so("PaymentElementContext");so("StripeUtilsContext");var Ui=TO({packageName:"@clerk/clerk-react"});function cq(e){Ui.setMessages(e).setPackageName(e)}var[dq,uq]=so("AuthContext"),mq=XO,rM=QO,hq="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",fq=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,pq="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",zb="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",gq="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",xq="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",yq="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",vq="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",bq=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,wq=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,jq=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,Nq="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Sq="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Cq="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",kq="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",_q="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",Pq="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",Aq="Missing props. <UserButton.Action /> component requires the following props: label.",sM=e=>{ZO(()=>{Ui.throwMissingClerkProviderError({source:e})})},aM=e=>new Promise(r=>{const s=a=>{["ready","degraded"].includes(a)&&(r(),e.off("status",s))};e.on("status",s,{notify:!0})}),Eq=e=>async r=>(await aM(e),e.session?e.session.getToken(r):null),Tq=e=>async(...r)=>(await aM(e),e.signOut(...r)),Oq=(e={})=>{var r,s;sM("useAuth");const{treatPendingAsSignedOut:a,...n}=e??{},i=n;let l=uq();l.sessionId===void 0&&l.userId===void 0&&(l=i??{});const d=rM(),m=p.useCallback(Eq(d),[d]),h=p.useCallback(Tq(d),[d]);return(r=d.telemetry)==null||r.record(DO("useAuth",{treatPendingAsSignedOut:a})),Mq({...l,getToken:m,signOut:h},{treatPendingAsSignedOut:a??((s=d.__internal_getOption)==null?void 0:s.call(d,"treatPendingAsSignedOut"))})};function Mq(e,{treatPendingAsSignedOut:r=!0}={}){const{userId:s,orgId:a,orgRole:n,has:i,signOut:o,getToken:l,orgPermissions:d,factorVerificationAge:m,sessionClaims:h}=e??{},f=p.useCallback(v=>i?i(v):ZW({userId:s,orgId:a,orgRole:n,orgPermissions:d,factorVerificationAge:m,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(v),[i,s,a,n,d,m]),g=eV({authObject:{...e,getToken:l,signOut:o,has:f},options:{treatPendingAsSignedOut:r}});return g||Ui.throw(pq)}var Kr=(e,r)=>{const a=(typeof r=="string"?r:r==null?void 0:r.component)||e.displayName||e.name||"Component";e.displayName=a;const n=typeof r=="string"?void 0:r,i=o=>{sM(a||"withClerk");const l=rM();return!l.loaded&&!(n!=null&&n.renderWhileLoading)?null:le.createElement(e,{...o,component:a,clerk:l})};return i.displayName=`withClerk(${a})`,i},Rq=()=>{try{return!1}catch{}return!1},Iq=()=>{try{return!1}catch{}return!1},Dq=()=>{try{return!0}catch{}return!1},fP=new Set,xS=(e,r,s)=>{const a=Iq()||Dq(),n=e;fP.has(n)||a||(fP.add(n),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${r}`))};Kr(({clerk:e,...r})=>{const{client:s,session:a}=e,n=s.signedInSessions?s.signedInSessions.length>0:s.activeSessions&&s.activeSessions.length>0;return le.useEffect(()=>{a===null&&n?e.redirectToAfterSignOut():e.redirectToSignIn(r)},[]),null},"RedirectToSignIn");Kr(({clerk:e,...r})=>(le.useEffect(()=>{e.redirectToSignUp(r)},[]),null),"RedirectToSignUp");Kr(({clerk:e})=>(le.useEffect(()=>{xS("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Kr(({clerk:e})=>(le.useEffect(()=>{xS("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Kr(({clerk:e})=>(le.useEffect(()=>{xS("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Kr(({clerk:e,...r})=>(le.useEffect(()=>{e.handleRedirectCallback(r)},[]),null),"AuthenticateWithRedirectCallback");var _a=e=>{Rq()&&console.error(`Clerk: ${e}`)};function Fb(e,r,s){if(typeof e=="function")return e(r);if(typeof e<"u")return e;if(typeof s<"u")return s}var pP=(e,...r)=>{const s={...e};for(const a of r)delete s[a];return s},vx=e=>r=>{try{return le.Children.only(e)}catch{return Ui.throw(fq(r))}},bx=(e,r)=>(e||(e=r),typeof e=="string"&&(e=le.createElement("button",null,e)),e),wx=e=>(...r)=>{if(e&&typeof e=="function")return e(...r)};function Lq(e){return typeof e=="function"}var og=new Map;function $q(e,r,s=1){le.useEffect(()=>{const a=og.get(e)||0;return a==s?Ui.throw(r):(og.set(e,a+1),()=>{og.set(e,(og.get(e)||1)-1)})},[])}function zq(e,r,s){const a=e.displayName||e.name||r||"Component",n=i=>($q(r,s),le.createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${a})`,n}var Mh=e=>{const r=Array(e.length).fill(null),[s,a]=p.useState(r);return e.map((n,i)=>({id:n.id,mount:o=>a(l=>l.map((d,m)=>m===i?o:d)),unmount:()=>a(o=>o.map((l,d)=>d===i?null:l)),portal:()=>le.createElement(le.Fragment,null,s[i]?Jl.createPortal(n.component,s[i]):null)}))},ka=(e,r)=>!!e&&le.isValidElement(e)&&(e==null?void 0:e.type)===r,nM=(e,r)=>lM({children:e,reorderItemsLabels:["account","security"],LinkComponent:pf,PageComponent:ff,MenuItemsComponent:Nx,componentName:"UserProfile"},r),iM=(e,r)=>lM({children:e,reorderItemsLabels:["general","members"],LinkComponent:Cx,PageComponent:Sx,componentName:"OrganizationProfile"},r),oM=e=>{const r=[],s=[Cx,Sx,Nx,ff,pf];return le.Children.forEach(e,a=>{s.some(n=>ka(a,n))||r.push(a)}),r},lM=(e,r)=>{const{children:s,LinkComponent:a,PageComponent:n,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:d=!1}=r||{},m=[];le.Children.forEach(s,C=>{if(!ka(C,n)&&!ka(C,a)&&!ka(C,i)){C&&!d&&_a(bq(l));return}const{props:S}=C,{children:k,label:A,url:E,labelIcon:T}=S;if(ka(C,n))if(gP(S,o))m.push({label:A});else if(Ub(S))m.push({label:A,labelIcon:T,children:k,url:E});else{_a(wq(l));return}if(ka(C,a))if(Bb(S))m.push({label:A,labelIcon:T,url:E});else{_a(jq(l));return}});const h=[],f=[],g=[];m.forEach((C,S)=>{if(Ub(C)){h.push({component:C.children,id:S}),f.push({component:C.labelIcon,id:S});return}Bb(C)&&g.push({component:C.labelIcon,id:S})});const v=Mh(h),b=Mh(f),w=Mh(g),y=[],N=[];return m.forEach((C,S)=>{if(gP(C,o)){y.push({label:C.label});return}if(Ub(C)){const{portal:k,mount:A,unmount:E}=v.find(V=>V.id===S),{portal:T,mount:M,unmount:L}=b.find(V=>V.id===S);y.push({label:C.label,url:C.url,mount:A,unmount:E,mountIcon:M,unmountIcon:L}),N.push(k),N.push(T);return}if(Bb(C)){const{portal:k,mount:A,unmount:E}=w.find(T=>T.id===S);y.push({label:C.label,url:C.url,mountIcon:A,unmountIcon:E}),N.push(k);return}}),{customPages:y,customPagesPortals:N}},gP=(e,r)=>{const{children:s,label:a,url:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},Ub=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!!r&&!!a&&!!n&&!!s},Bb=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!r&&!!a&&!!n&&!!s},Fq=e=>Uq({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:Nx,MenuActionComponent:dM,MenuLinkComponent:uM,UserProfileLinkComponent:pf,UserProfilePageComponent:ff}),Uq=({children:e,MenuItemsComponent:r,MenuActionComponent:s,MenuLinkComponent:a,UserProfileLinkComponent:n,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],d=[],m=[];le.Children.forEach(e,b=>{if(!ka(b,r)&&!ka(b,n)&&!ka(b,i)){b&&_a(Nq);return}if(ka(b,n)||ka(b,i))return;const{props:w}=b;le.Children.forEach(w.children,y=>{if(!ka(y,s)&&!ka(y,a)){y&&_a(Sq);return}const{props:N}=y,{label:C,labelIcon:S,href:k,onClick:A,open:E}=N;if(ka(y,s))if(xP(N,o))l.push({label:C});else if(Wb(N)){const T={label:C,labelIcon:S};if(A!==void 0)l.push({...T,onClick:A});else if(E!==void 0)l.push({...T,open:E.startsWith("/")?E:`/${E}`});else{_a("Custom menu item must have either onClick or open property");return}}else{_a(Aq);return}if(ka(y,a))if(Vb(N))l.push({label:C,labelIcon:S,href:k});else{_a(Pq);return}})});const h=[],f=[];l.forEach((b,w)=>{Wb(b)&&h.push({component:b.labelIcon,id:w}),Vb(b)&&f.push({component:b.labelIcon,id:w})});const g=Mh(h),v=Mh(f);return l.forEach((b,w)=>{if(xP(b,o)&&d.push({label:b.label}),Wb(b)){const{portal:y,mount:N,unmount:C}=g.find(k=>k.id===w),S={label:b.label,mountIcon:N,unmountIcon:C};"onClick"in b?S.onClick=b.onClick:"open"in b&&(S.open=b.open),d.push(S),m.push(y)}if(Vb(b)){const{portal:y,mount:N,unmount:C}=v.find(S=>S.id===w);d.push({label:b.label,href:b.href,mountIcon:N,unmountIcon:C}),m.push(y)}}),{customMenuItems:d,customMenuItemsPortals:m}},xP=(e,r)=>{const{children:s,label:a,onClick:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},Wb=e=>{const{label:r,labelIcon:s,onClick:a,open:n}=e;return!!s&&!!r&&(typeof a=="function"||typeof n=="string")},Vb=e=>{const{label:r,href:s,labelIcon:a}=e;return!!s&&!!a&&!!r};function Bq(e){const{root:r=document==null?void 0:document.body,selector:s,timeout:a=0}=e;return new Promise((n,i)=>{if(!r){i(new Error("No root element provided"));return}let o=r;if(s&&(o=r==null?void 0:r.querySelector(s)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){n();return}const d=new MutationObserver(m=>{for(const h of m)if(h.type==="childList"&&(!o&&s&&(o=r==null?void 0:r.querySelector(s)),o!=null&&o.childElementCount&&o.childElementCount>0)){d.disconnect(),n();return}});d.observe(r,{childList:!0,subtree:!0}),a>0&&setTimeout(()=>{d.disconnect(),i(new Error("Timeout waiting for element children"))},a)})}function xn(e){const r=p.useRef(),[s,a]=p.useState("rendering");return p.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!r.current&&(r.current=Bq({selector:`[data-clerk-component="${e}"]`}).then(()=>{a("rendered")}).catch(()=>{a("error")}))},[e]),s}var lg=e=>"mount"in e,yP=e=>"open"in e,vP=e=>e==null?void 0:e.map(({mountIcon:r,unmountIcon:s,...a})=>a),Oa=class extends le.PureComponent{constructor(){super(...arguments),this.rootRef=le.createRef()}componentDidUpdate(e){var r,s,a,n;if(!lg(e)||!lg(this.props))return;const i=pP(e.props,"customPages","customMenuItems","children"),o=pP(this.props.props,"customPages","customMenuItems","children"),l=((r=i.customPages)==null?void 0:r.length)!==((s=o.customPages)==null?void 0:s.length),d=((a=i.customMenuItems)==null?void 0:a.length)!==((n=o.customMenuItems)==null?void 0:n.length),m=vP(e.props.customMenuItems),h=vP(this.props.props.customMenuItems);(!uP(i,o)||!uP(m,h)||l||d)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(lg(this.props)&&this.props.mount(this.rootRef.current,this.props.props),yP(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(lg(this.props)&&this.props.unmount(this.rootRef.current),yP(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,r={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return le.createElement(le.Fragment,null,!e&&le.createElement("div",{...r}),this.props.children)}},jx=e=>{var r,s;return le.createElement(le.Fragment,null,(r=e==null?void 0:e.customPagesPortals)==null?void 0:r.map((a,n)=>p.createElement(a,{key:n})),(s=e==null?void 0:e.customMenuItemsPortals)==null?void 0:s.map((a,n)=>p.createElement(a,{key:n})))},Wq=Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),Vq=Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function ff({children:e}){return _a(gq),le.createElement(le.Fragment,null,e)}function pf({children:e}){return _a(xq),le.createElement(le.Fragment,null,e)}var qq=Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=nM(a.children);return le.createElement(le.Fragment,null,i&&s,le.createElement(Oa,{component:r,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},le.createElement(jx,{customPagesPortals:d})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(qq,{Page:ff,Link:pf});var cM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Hq=Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=nM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.userProfileProps||{},{customPages:l}),{customMenuItems:h,customMenuItemsPortals:f}=Fq(a.children),g=oM(a.children),v={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...a,userProfileProps:m,customMenuItems:h}},b={customPagesPortals:d,customMenuItemsPortals:f};return le.createElement(cM.Provider,{value:v},i&&s,e.loaded&&le.createElement(Oa,{component:r,...v,hideRootHtmlElement:!!a.__experimental_asProvider,rootProps:o},a.__experimental_asProvider?g:null,le.createElement(jx,{...b})))},{component:"UserButton",renderWhileLoading:!0});function Nx({children:e}){return _a(Cq),le.createElement(le.Fragment,null,e)}function dM({children:e}){return _a(kq),le.createElement(le.Fragment,null,e)}function uM({children:e}){return _a(_q),le.createElement(le.Fragment,null,e)}function Kq(e){const r=p.useContext(cM),s={...r,props:{...r.props,...e}};return le.createElement(Oa,{...s})}Object.assign(Hq,{UserProfilePage:ff,UserProfileLink:pf,MenuItems:Nx,Action:dM,Link:uM,__experimental_Outlet:Kq});function Sx({children:e}){return _a(yq),le.createElement(le.Fragment,null,e)}function Cx({children:e}){return _a(vq),le.createElement(le.Fragment,null,e)}var Gq=Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=iM(a.children);return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},le.createElement(jx,{customPagesPortals:d})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(Gq,{Page:Sx,Link:Cx});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var mM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Yq=Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=iM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.organizationProfileProps||{},{customPages:l}),h=oM(a.children),f={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...a,organizationProfileProps:m},rootProps:o,component:r};return e.__experimental_prefetchOrganizationSwitcher(),le.createElement(mM.Provider,{value:f},le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{...f,hideRootHtmlElement:!!a.__experimental_asProvider},a.__experimental_asProvider?h:null,le.createElement(jx,{customPagesPortals:d}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Jq(e){const r=p.useContext(mM),s={...r,props:{...r.props,...e}};return le.createElement(Oa,{...s})}Object.assign(Yq,{OrganizationProfilePage:Sx,OrganizationProfileLink:Cx,__experimental_Outlet:Jq});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Kr(({clerk:e,component:r,fallback:s,...a})=>{const i=xn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return le.createElement(le.Fragment,null,i&&s,e.loaded&&le.createElement(Oa,{component:r,mount:e.mountTaskSelectOrganization,unmount:e.unmountTaskSelectOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"TaskSelectOrganization",renderWhileLoading:!0});var hM=e=>{throw TypeError(e)},yS=(e,r,s)=>r.has(e)||hM("Cannot "+s),Hr=(e,r,s)=>(yS(e,r,"read from private field"),s?s.call(e):r.get(e)),Mc=(e,r,s)=>r.has(e)?hM("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),tu=(e,r,s,a)=>(yS(e,r,"write to private field"),r.set(e,s),s),qb=(e,r,s)=>(yS(e,r,"access private method"),s),Xq=(e,r="5.77.0")=>{if(e)return e;const s=Qq(r);return s?s==="snapshot"?"5.77.0":s:Zq(r)},Qq=e=>{var r;return(r=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:r[1]},Zq=e=>e.trim().replace(/^v/,"").split(".")[0];function eH(e){return e?tH(e)||fM(e):!0}function tH(e){return/^http(s)?:\/\//.test(e||"")}function fM(e){return e.startsWith("/")}function rH(e){return e?fM(e)?new URL(e,window.location.origin).toString():e:""}function sH(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var aH={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},nH=100,pM=async e=>new Promise(r=>setTimeout(r,e)),gM=(e,r)=>r?e*(1+Math.random()):e,iH=e=>{let r=0;const s=()=>{const a=e.initialDelay,n=e.factor;let i=a*Math.pow(n,r);return i=gM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await pM(s()),r++}},oH=async(e,r={})=>{let s=0;const{shouldRetry:a,initialDelay:n,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:d}={...aH,...r},m=iH({initialDelay:n,maxDelayBetweenRetries:i,factor:o,jitter:d});for(;;)try{return await e()}catch(h){if(s++,!a(h,s))throw h;l&&s===1?await pM(gM(nH,d)):await m()}},lH="loadScript cannot be called when document does not exist",cH="loadScript cannot be called without a src";async function dH(e="",r){const{async:s,defer:a,beforeLoad:n,crossOrigin:i,nonce:o}=r||{};return oH(()=>new Promise((d,m)=>{e||m(new Error(cH)),(!document||!document.body)&&m(lH);const h=document.createElement("script");i&&h.setAttribute("crossorigin",i),h.async=s||!1,h.defer=a||!1,h.addEventListener("load",()=>{h.remove(),d(h)}),h.addEventListener("error",()=>{h.remove(),m()}),h.src=e,h.nonce=o,n==null||n(h),document.body.appendChild(h)}),{shouldRetry:(d,m)=>m<=5})}var xM="Clerk: Failed to load Clerk",{isDevOrStagingUrl:uH}=sV(),yM=TO({packageName:"@clerk/shared"});function mH(e){yM.setPackageName({packageName:e})}function SN(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function bP(e){return new Promise((r,s)=>{let a=!1;const n=(m,h)=>{clearTimeout(m),clearInterval(h)},i=()=>{a||SN()&&(a=!0,n(l,d),r(null))},l=setTimeout(()=>{a||(a=!0,n(l,d),SN()?r(null):s(new Error(xM)))},e);i();const d=setInterval(()=>{if(a){clearInterval(d);return}i()},100)})}var hH=async e=>{const r=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(SN())return null;if(document.querySelector("script[data-clerk-js-script]"))return bP(r);if(!(e!=null&&e.publishableKey))return yM.throwMissingPublishableKeyError(),null;const a=bP(r);return dH(fH(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:gH(e)}).catch(()=>{throw new Error(xM)}),a},fH=e=>{var h,f;const{clerkJSUrl:r,clerkJSVariant:s,clerkJSVersion:a,proxyUrl:n,domain:i,publishableKey:o}=e;if(r)return r;let l="";n&&eH(n)?l=rH(n).replace(/http(s)?:\/\//,""):i&&!uH(((h=Q_(o))==null?void 0:h.frontendApi)||"")?l=sH(i):l=((f=Q_(o))==null?void 0:f.frontendApi)||"";const d=s?`${s.replace(/\.+$/,"")}.`:"",m=Xq(a);return`https://${l}/npm/@clerk/clerk-js@${m}/dist/clerk.${d}browser.js`},pH=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},gH=e=>r=>{const s=pH(e);for(const a in s)r.setAttribute(a,s[a])},xH=(e,r,s)=>!e&&s?yH(s):vH(r),yH=e=>{const r=e.userId,s=e.user,a=e.sessionId,n=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,d=e.orgId,m=e.orgRole,h=e.orgPermissions,f=e.orgSlug,g=e.actor,v=e.factorVerificationAge;return{userId:r,user:s,sessionId:a,session:o,sessionStatus:n,sessionClaims:i,organization:l,orgId:d,orgRole:m,orgPermissions:h,orgSlug:f,actor:g,factorVerificationAge:v}},vH=e=>{var w,y,N,C;const r=e.user?e.user.id:e.user,s=e.user,a=e.session?e.session.id:e.session,n=e.session,i=(w=e.session)==null?void 0:w.status,o=e.session?(N=(y=e.session.lastActiveToken)==null?void 0:y.jwt)==null?void 0:N.claims:null,l=e.session?e.session.factorVerificationAge:null,d=n==null?void 0:n.actor,m=e.organization,h=e.organization?e.organization.id:e.organization,f=m==null?void 0:m.slug,g=m&&((C=s==null?void 0:s.organizationMemberships)==null?void 0:C.find(S=>S.organization.id===h)),v=g&&g.permissions,b=g&&g.role;return{userId:r,user:s,sessionId:a,session:n,sessionStatus:i,sessionClaims:o,organization:m,orgId:h,orgRole:b,orgSlug:f,orgPermissions:v,actor:d,factorVerificationAge:l}};function wP(){return typeof window<"u"}var jP=(e,r,s,a,n)=>{const{notify:i}=n||{};let o=e.get(s);o||(o=[],e.set(s,o)),o.push(a),i&&r.has(s)&&a(r.get(s))},NP=(e,r,s)=>(e.get(r)||[]).map(a=>a(s)),SP=(e,r,s)=>{const a=e.get(r);a&&(s?a.splice(a.indexOf(s)>>>0,1):e.set(r,[]))},bH=()=>{const e=new Map,r=new Map,s=new Map;return{on:(...n)=>jP(e,r,...n),prioritizedOn:(...n)=>jP(s,r,...n),emit:(n,i)=>{r.set(n,i),NP(s,n,i),NP(e,n,i)},off:(...n)=>SP(e,...n),prioritizedOff:(...n)=>SP(s,...n),internal:{retrieveListeners:n=>e.get(n)||[]}}},cg={Status:"status"},wH=()=>bH();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Kr(({clerk:e,children:r,...s})=>{const{signUpFallbackRedirectUrl:a,forceRedirectUrl:n,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:d,withSignUp:m,oauthFlow:h,...f}=s;r=bx(r,"Sign in");const g=vx(r)("SignInButton"),v=()=>{const y={forceRedirectUrl:n,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:o,initialValues:d,withSignUp:m,oauthFlow:h};return l==="modal"?e.openSignIn({...y,appearance:s.appearance}):e.redirectToSignIn({...y,signInFallbackRedirectUrl:i,signInForceRedirectUrl:n})},w={...f,onClick:async y=>(g&&typeof g=="object"&&"props"in g&&await wx(g.props.onClick)(y),v())};return le.cloneElement(g,w)},{component:"SignInButton",renderWhileLoading:!0});Kr(({clerk:e,children:r,...s})=>{const{redirectUrl:a,...n}=s;r=bx(r,"Sign in with Metamask");const i=vx(r)("SignInWithMetamaskButton"),o=async()=>{async function m(){await e.authenticateWithMetamask({redirectUrl:a||void 0})}m()},d={...n,onClick:async m=>(await wx(i.props.onClick)(m),o())};return le.cloneElement(i,d)},{component:"SignInWithMetamask",renderWhileLoading:!0});Kr(({clerk:e,children:r,...s})=>{const{redirectUrl:a="/",signOutOptions:n,...i}=s;r=bx(r,"Sign out");const o=vx(r)("SignOutButton"),l=()=>e.signOut({redirectUrl:a,...n}),m={...i,onClick:async h=>(await wx(o.props.onClick)(h),l())};return le.cloneElement(o,m)},{component:"SignOutButton",renderWhileLoading:!0});var jH=Kr(({clerk:e,children:r,...s})=>{const{fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:d,oauthFlow:m,...h}=s;r=bx(r,"Sign up");const f=vx(r)("SignUpButton"),g=()=>{const w={fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:d,oauthFlow:m};return l==="modal"?e.openSignUp({...w,appearance:s.appearance,unsafeMetadata:s.unsafeMetadata}):e.redirectToSignUp({...w,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:n})},b={...h,onClick:async w=>(f&&typeof f=="object"&&"props"in f&&await wx(f.props.onClick)(w),g())};return le.cloneElement(f,b)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var NH={name:"@clerk/clerk-react",version:"5.37.0",environment:"production"},Lg,vu,bu,_l,So,Tl,Ch,$g,vM=class bM{constructor(r){Mc(this,Ch),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskSelectOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Mc(this,Lg,"loading"),Mc(this,vu),Mc(this,bu),Mc(this,_l),Mc(this,So,wH()),this.buildSignInUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterSignOutUrl",n)},this.buildNewSubscriptionRedirectUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",n)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",n)},this.buildUserProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildUserProfileUrl",n)},this.buildCreateOrganizationUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildCreateOrganizationUrl",n)},this.buildOrganizationProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildOrganizationProfileUrl",n)},this.buildWaitlistUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildWaitlistUrl",n)},this.buildUrlWithAuth=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("handleUnauthenticated",n)},this.on=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...n);Hr(this,So).on(...n)},this.off=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...n);Hr(this,So).off(...n)},this.addOnLoaded=n=>{this.loadedListeners.push(n),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(n=>n()),this.loadedListeners=[]},this.beforeLoad=n=>{if(!n)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=n=>{var i;if(!n)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=n,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=n.addListener(l)}),(i=Hr(this,So).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&n.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&n.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&n.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&n.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&n.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&n.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&n.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&n.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&n.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&n.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&n.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{n.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{n.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{n.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{n.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{n.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{n.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{n.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{n.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{n.__internal_mountOAuthConsent(l,o)}),this.premountTaskSelectOrganizationNodes.forEach((o,l)=>{n.mountTaskSelectOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Hr(this,So).emit(cg.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...n)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...n)},this.__unstable__updateProps=async n=>{const i=await qb(this,Ch,$g).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(n)},this.__internal_navigateToTaskIfAvailable=async n=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(n):Promise.reject(),this.setActive=n=>this.clerkjs?this.clerkjs.setActive(n):Promise.reject(),this.openSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(n):this.preopenSignIn=n},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(n):this.preopenCheckout=n},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(n):this.preopenPlanDetails=n},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(n):this.preopenSubscriptionDetails=n??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(n):this.preopenUserVerification=n},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=n=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(n):this.preopenOneTap=n},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(n):this.preopenUserProfile=n},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(n):this.preopenOrganizationProfile=n},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(n):this.preopenCreateOrganization=n},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(n):this.preOpenWaitlist=n},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(n):this.preopenSignUp=n},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(n,i):this.premountSignInNodes.set(n,i)},this.unmountSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(n):this.premountSignInNodes.delete(n)},this.mountSignUp=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(n,i):this.premountSignUpNodes.set(n,i)},this.unmountSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(n):this.premountSignUpNodes.delete(n)},this.mountUserProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(n,i):this.premountUserProfileNodes.set(n,i)},this.unmountUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(n):this.premountUserProfileNodes.delete(n)},this.mountOrganizationProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(n,i):this.premountOrganizationProfileNodes.set(n,i)},this.unmountOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(n):this.premountOrganizationProfileNodes.delete(n)},this.mountCreateOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(n,i):this.premountCreateOrganizationNodes.set(n,i)},this.unmountCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(n):this.premountCreateOrganizationNodes.delete(n)},this.mountOrganizationSwitcher=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(n,i):this.premountOrganizationSwitcherNodes.set(n,i)},this.unmountOrganizationSwitcher=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(n):this.premountOrganizationSwitcherNodes.delete(n)},this.__experimental_prefetchOrganizationSwitcher=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",n)},this.mountOrganizationList=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(n,i):this.premountOrganizationListNodes.set(n,i)},this.unmountOrganizationList=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(n):this.premountOrganizationListNodes.delete(n)},this.mountUserButton=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(n,i):this.premountUserButtonNodes.set(n,i)},this.unmountUserButton=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(n):this.premountUserButtonNodes.delete(n)},this.mountWaitlist=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(n,i):this.premountWaitlistNodes.set(n,i)},this.unmountWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(n):this.premountWaitlistNodes.delete(n)},this.mountPricingTable=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(n,i):this.premountPricingTableNodes.set(n,i)},this.unmountPricingTable=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(n):this.premountPricingTableNodes.delete(n)},this.mountApiKeys=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(n,i):this.premountApiKeysNodes.set(n,i)},this.unmountApiKeys=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(n):this.premountApiKeysNodes.delete(n)},this.__internal_mountOAuthConsent=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(n,i):this.premountOAuthConsentNodes.set(n,i)},this.__internal_unmountOAuthConsent=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(n):this.premountOAuthConsentNodes.delete(n)},this.mountTaskSelectOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskSelectOrganization(n,i):this.premountTaskSelectOrganizationNodes.set(n,i)},this.unmountTaskSelectOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskSelectOrganization(n):this.premountTaskSelectOrganizationNodes.delete(n)},this.addListener=n=>{if(this.clerkjs)return this.clerkjs.addListener(n);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(n);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(n))};return this.premountAddListenerCalls.set(n,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(n)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToUserProfile",n)},this.redirectToAfterSignUp=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToAfterSignUp",n)},this.redirectToAfterSignIn=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignIn",n)},this.redirectToAfterSignOut=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignOut",n)},this.redirectToOrganizationProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToOrganizationProfile",n)},this.redirectToCreateOrganization=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToCreateOrganization",n)},this.redirectToWaitlist=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToWaitlist",n)},this.handleRedirectCallback=async n=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(n)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(n,i)=>{var o;const l=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(n,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async n=>(await qb(this,Ch,$g).call(this)).authenticateWithGoogleOneTap(n),this.__internal_loadStripeJs=async()=>(await qb(this,Ch,$g).call(this)).__internal_loadStripeJs(),this.createOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:s=null,publishableKey:a}=r||{};tu(this,_l,a),tu(this,bu,r==null?void 0:r.proxyUrl),tu(this,vu,r==null?void 0:r.domain),this.options=r,this.Clerk=s,this.mode=wP()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=NH),Hr(this,So).emit(cg.Status,"loading"),Hr(this,So).prioritizedOn(cg.Status,n=>tu(this,Lg,n)),Hr(this,_l)&&this.loadClerkJS()}get publishableKey(){return Hr(this,_l)}get loaded(){var r;return((r=this.clerkjs)==null?void 0:r.loaded)||!1}get status(){var r;return this.clerkjs?((r=this.clerkjs)==null?void 0:r.status)||(this.clerkjs.loaded?"ready":"loading"):Hr(this,Lg)}static getOrCreateInstance(r){return(!wP()||!Hr(this,Tl)||r.Clerk&&Hr(this,Tl).Clerk!==r.Clerk||Hr(this,Tl).publishableKey!==r.publishableKey)&&tu(this,Tl,new bM(r)),Hr(this,Tl)}static clearInstance(){tu(this,Tl,null)}get domain(){return typeof window<"u"&&window.location?Fb(Hr(this,vu),new URL(window.location.href),""):typeof Hr(this,vu)=="function"?Ui.throw(zb):Hr(this,vu)||""}get proxyUrl(){return typeof window<"u"&&window.location?Fb(Hr(this,bu),new URL(window.location.href),""):typeof Hr(this,bu)=="function"?Ui.throw(zb):Hr(this,bu)||""}__internal_getOption(r){var s,a;return(s=this.clerkjs)!=null&&s.__internal_getOption?(a=this.clerkjs)==null?void 0:a.__internal_getOption(r):this.options[r]}get sdkMetadata(){var r;return((r=this.clerkjs)==null?void 0:r.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var r;return(r=this.clerkjs)==null?void 0:r.instanceType}get frontendApi(){var r;return((r=this.clerkjs)==null?void 0:r.frontendApi)||""}get isStandardBrowser(){var r;return((r=this.clerkjs)==null?void 0:r.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Fb(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Ui.throw(zb):!1}async loadClerkJS(){var r;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Hr(this,_l),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;Lq(this.Clerk)?(s=new this.Clerk(Hr(this,_l),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(s),await s.load(this.options)):(s=this.Clerk,s.loaded||(this.beforeLoad(s),await s.load(this.options))),global.Clerk=s}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await hH({...this.options,publishableKey:Hr(this,_l),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(r=global.Clerk)!=null&&r.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(s){const a=s;Hr(this,So).emit(cg.Status,"error"),console.error(a.stack||a.message||a);return}}}get version(){var r;return(r=this.clerkjs)==null?void 0:r.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var r;return(r=this.clerkjs)==null?void 0:r.billing}get apiKeys(){var r;return(r=this.clerkjs)==null?void 0:r.apiKeys}__unstable__setEnvironment(...r){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(r);else return}};Lg=new WeakMap;vu=new WeakMap;bu=new WeakMap;_l=new WeakMap;So=new WeakMap;Tl=new WeakMap;Ch=new WeakSet;$g=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Mc(vM,Tl);var CP=vM;function SH(e){const{isomorphicClerkOptions:r,initialState:s,children:a}=e,{isomorphicClerk:n,clerkStatus:i}=CH(r),[o,l]=le.useState({client:n.client,session:n.session,user:n.user,organization:n.organization});le.useEffect(()=>n.addListener(I=>l({...I})),[]);const d=xH(n.loaded,o,s),m=le.useMemo(()=>({value:n}),[i]),h=le.useMemo(()=>({value:o.client}),[o.client]),{sessionId:f,sessionStatus:g,sessionClaims:v,session:b,userId:w,user:y,orgId:N,actor:C,organization:S,orgRole:k,orgSlug:A,orgPermissions:E,factorVerificationAge:T}=d,M=le.useMemo(()=>({value:{sessionId:f,sessionStatus:g,sessionClaims:v,userId:w,actor:C,orgId:N,orgRole:k,orgSlug:A,orgPermissions:E,factorVerificationAge:T}}),[f,g,w,C,N,k,A,T,v==null?void 0:v.__raw]),L=le.useMemo(()=>({value:b}),[f,b]),V=le.useMemo(()=>({value:y}),[w,y]),R=le.useMemo(()=>({value:{organization:S}}),[N,S]);return le.createElement(mq.Provider,{value:m},le.createElement(XV.Provider,{value:h},le.createElement(QV.Provider,{value:L},le.createElement(rq,{...R.value},le.createElement(dq.Provider,{value:M},le.createElement(YV.Provider,{value:V},le.createElement(eq,{value:void 0},a)))))))}var CH=e=>{const r=le.useRef(CP.getOrCreateInstance(e)),[s,a]=le.useState(r.current.status);return le.useEffect(()=>{r.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),le.useEffect(()=>{r.current.__unstable__updateProps({options:e})},[e.localization]),le.useEffect(()=>(r.current.on("status",a),()=>{r.current&&r.current.off("status",a),CP.clearInstance()}),[]),{isomorphicClerk:r.current,clerkStatus:s}};function kH(e){const{initialState:r,children:s,__internal_bypassMissingPublishableKey:a,...n}=e,{publishableKey:i="",Clerk:o}=n;return!o&&!a&&(i?i&&!uN(i)&&Ui.throwInvalidPublishableKeyError({key:i}):Ui.throwMissingPublishableKeyError()),le.createElement(SH,{initialState:r,isomorphicClerkOptions:n},s)}var wM=zq(kH,"ClerkProvider",hq);wM.displayName="ClerkProvider";cq({packageName:"@clerk/clerk-react"});mH("@clerk/clerk-react");p.createContext(null);const _H="modulepreload",PH=function(e){return"/"+e},kP={},Un=function(r,s,a){let n=Promise.resolve();if(s&&s.length>0){let o=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(s.map(m=>{if(m=PH(m),m in kP)return;kP[m]=!0;const h=m.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":_H,h||(g.as="script"),g.crossOrigin="",g.href=m,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},AH=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>Un(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class vS extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class EH extends vS{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class _P extends vS{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class PP extends vS{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var CN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(CN||(CN={}));var TH=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class OH{constructor(r,{headers:s={},customFetch:a,region:n=CN.Any}={}){this.url=r,this.headers=s,this.region=n,this.fetch=AH(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var a;return TH(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let l={},{region:d}=s;d||(d=this.region);const m=new URL(`${this.url}/${r}`);d&&d!=="any"&&(l["x-region"]=d,m.searchParams.set("forceFunctionRegion",d));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(m.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h}).catch(w=>{throw new EH(w)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new _P(f);if(!f.ok)throw new PP(f);let v=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield f.json():v==="application/octet-stream"?b=yield f.blob():v==="text/event-stream"?b=f:v==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof PP||n instanceof _P?n.context:void 0}}})}}var Ls={},ru={},su={},au={},nu={},iu={},MH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Iu=MH();const RH=Iu.fetch,jM=Iu.fetch.bind(Iu),NM=Iu.Headers,IH=Iu.Request,DH=Iu.Response,em=Object.freeze(Object.defineProperty({__proto__:null,Headers:NM,Request:IH,Response:DH,default:jM,fetch:RH},Symbol.toStringTag,{value:"Module"})),LH=gB(em);var dg={},AP;function SM(){if(AP)return dg;AP=1,Object.defineProperty(dg,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return dg.default=e,dg}var EP;function CM(){if(EP)return iu;EP=1;var e=iu&&iu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(iu,"__esModule",{value:!0});const r=e(LH),s=e(SM());class a{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,f,g;let v=null,b=null,w=null,y=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const A=await m.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=A:b=JSON.parse(A))}const S=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(f=m.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,y=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await m.text();try{v=JSON.parse(S),Array.isArray(v)&&m.status===404&&(b=[],v=null,y=200,N="OK")}catch{m.status===404&&S===""?(y=204,N="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,y=200,N="OK"),v&&this.shouldThrowOnError)throw new s.default(v)}return{error:v,data:b,count:w,status:y,statusText:N}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,f,g;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(f=m==null?void 0:m.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=m==null?void 0:m.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,o)}returns(){return this}overrideTypes(){return this}}return iu.default=a,iu}var TP;function kM(){if(TP)return nu;TP=1;var e=nu&&nu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nu,"__esModule",{value:!0});const r=e(CM());class s extends r.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,m=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(m,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:m="text"}={}){var h;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${g}"; options=${f};`,m==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return nu.default=s,nu}var OP;function bS(){if(OP)return au;OP=1;var e=au&&au.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(au,"__esModule",{value:!0});const r=e(kM());class s extends r.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const m=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${d}fts${m}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return au.default=s,au}var MP;function _M(){if(MP)return su;MP=1;var e=su&&su.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(su,"__esModule",{value:!0});const r=e(bS());class s{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=i,this.schema=o,this.fetch=l}select(n,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let d=!1;const m=(n??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",m),o&&(this.headers.Prefer=`count=${o}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const l="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(n)){const m=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(m.length>0){const h=[...new Set(m)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){const m="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),this.headers.Prefer=l.join(","),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return su.default=s,su}var ih={},oh={},RP;function $H(){return RP||(RP=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.version=void 0,oh.version="0.0.0-automated"),oh}var IP;function zH(){if(IP)return ih;IP=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.DEFAULT_HEADERS=void 0;const e=$H();return ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ih}var DP;function FH(){if(DP)return ru;DP=1;var e=ru&&ru.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ru,"__esModule",{value:!0});const r=e(_M()),s=e(bS()),a=zH();class n{constructor(o,{headers:l={},schema:d,fetch:m}={}){this.url=o,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),l),this.schemaName=d,this.fetch=m}from(o){const l=new URL(`${this.url}/${o}`);return new r.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:m=!1,count:h}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let v;d||m?(f=d?"HEAD":"GET",Object.entries(l).filter(([w,y])=>y!==void 0).map(([w,y])=>[w,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([w,y])=>{g.searchParams.append(w,y)})):(f="POST",v=l);const b=Object.assign({},this.headers);return h&&(b.Prefer=`count=${h}`),new s.default({method:f,url:g,headers:b,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return ru.default=n,ru}var LP;function UH(){if(LP)return Ls;LP=1;var e=Ls&&Ls.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.PostgrestError=Ls.PostgrestBuilder=Ls.PostgrestTransformBuilder=Ls.PostgrestFilterBuilder=Ls.PostgrestQueryBuilder=Ls.PostgrestClient=void 0;const r=e(FH());Ls.PostgrestClient=r.default;const s=e(_M());Ls.PostgrestQueryBuilder=s.default;const a=e(bS());Ls.PostgrestFilterBuilder=a.default;const n=e(kM());Ls.PostgrestTransformBuilder=n.default;const i=e(CM());Ls.PostgrestBuilder=i.default;const o=e(SM());return Ls.PostgrestError=o.default,Ls.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ls}var BH=UH();const WH=gn(BH),{PostgrestClient:VH,PostgrestQueryBuilder:d1e,PostgrestFilterBuilder:u1e,PostgrestTransformBuilder:m1e,PostgrestBuilder:h1e,PostgrestError:f1e}=WH;function qH(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const HH=qH(),KH="2.11.15",GH=`realtime-js/${KH}`,YH="1.0.0",PM=1e4,JH=1e3;var Rh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rh||(Rh={}));var da;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(da||(da={}));var ui;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ui||(ui={}));var kN;(function(e){e.websocket="websocket"})(kN||(kN={}));var zc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zc||(zc={}));class XH{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(r.slice(o,o+n));o=o+n;const d=a.decode(r.slice(o,o+i));o=o+i;const m=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:l,event:d,payload:m}}}class AM{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kr||(kr={}));const $P=(e,r,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((i,o)=>(i[o]=QH(o,e,r,n),i),{})},QH=(e,r,s,a)=>{const n=r.find(l=>l.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!a.includes(i)?EM(i,o):_N(o)},EM=(e,r)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return rK(r,s)}switch(e){case kr.bool:return ZH(r);case kr.float4:case kr.float8:case kr.int2:case kr.int4:case kr.int8:case kr.numeric:case kr.oid:return eK(r);case kr.json:case kr.jsonb:return tK(r);case kr.timestamp:return sK(r);case kr.abstime:case kr.date:case kr.daterange:case kr.int4range:case kr.int8range:case kr.money:case kr.reltime:case kr.text:case kr.time:case kr.timestamptz:case kr.timetz:case kr.tsrange:case kr.tstzrange:return _N(r);default:return _N(r)}},_N=e=>e,ZH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eK=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},tK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},rK=(e,r)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>EM(r,l))}return e},sK=e=>typeof e=="string"?e.replace(" ","T"):e,TM=e=>{let r=e;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class Hb{constructor(r,s,a={},n=PM){this.channel=r,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var zP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zP||(zP={}));class Ih{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ih.syncState(this.state,n,i,o),this.pendingDiffs.forEach(d=>{this.state=Ih.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ih.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,n){const i=this.cloneDeep(r),o=this.transformState(s),l={},d={};return this.map(i,(m,h)=>{o[m]||(d[m]=h)}),this.map(o,(m,h)=>{const f=i[m];if(f){const g=h.map(y=>y.presence_ref),v=f.map(y=>y.presence_ref),b=h.filter(y=>v.indexOf(y.presence_ref)<0),w=f.filter(y=>g.indexOf(y.presence_ref)<0);b.length>0&&(l[m]=b),w.length>0&&(d[m]=w)}else l[m]=h}),this.syncDiff(i,{joins:l,leaves:d},a,n)}static syncDiff(r,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,d)=>{var m;const h=(m=r[l])!==null&&m!==void 0?m:[];if(r[l]=this.cloneDeep(d),h.length>0){const f=r[l].map(v=>v.presence_ref),g=h.filter(v=>f.indexOf(v.presence_ref)<0);r[l].unshift(...g)}a(l,h,d)}),this.map(o,(l,d)=>{let m=r[l];if(!m)return;const h=d.map(f=>f.presence_ref);m=m.filter(f=>h.indexOf(f.presence_ref)<0),r[l]=m,n(l,m,d),m.length===0&&delete r[l]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const n=r[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FP||(FP={}));var UP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(UP||(UP={}));var ko;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ko||(ko={}));class wS{constructor(r,s={config:{}},a){this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=da.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Hb(this,ui.join,this.params,this.timeout),this.rejoinTimer=new AM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=da.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=da.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ih(this),this.broadcastEndpointURL=TM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==da.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>r==null?void 0:r(ko.CHANNEL_ERROR,h)),this._onClose(()=>r==null?void 0:r(ko.CLOSED));const d={},m={broadcast:i,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){r==null||r(ko.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,b=[];for(let w=0;w<v;w++){const y=g[w],{filter:{event:N,schema:C,table:S,filter:k}}=y,A=h&&h[w];if(A&&A.event===N&&A.schema===C&&A.table===S&&A.filter===k)b.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=da.errored,r==null||r(ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,r&&r(ko.SUBSCRIBED);return}}).receive("error",h=>{this.state=da.errored,r==null||r(ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this._on(r,s,a)}async send(r,s={}){var a,n;if(!this._canPush()&&r.type==="broadcast"){const{event:i,payload:o}=r,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=m.body)===null||n===void 0?void 0:n.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=da.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Hb(this,ui.leave,{},r),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Hb(this,r,s,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var n,i;const o=r.toLocaleLowerCase(),{close:l,error:d,leave:m,join:h}=ui;if(a&&[l,d,m,h].indexOf(o)>=0&&a!==this._joinRef())return;let g=this._onMessage(o,s,a);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(v=>{var b,w,y;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(w=v.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(v=>v.callback(g,a)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var b,w,y,N,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,A=(b=v.filter)===null||b===void 0?void 0:b.event;return k&&((w=s.ids)===null||w===void 0?void 0:w.includes(k))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(C=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return k==="*"||k===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:w,table:y,commit_timestamp:N,type:C,errors:S}=b;g=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:N,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(b))}v.callback(g,a)})}_isClosed(){return this.state===da.closed}_isJoined(){return this.state===da.joined}_isJoining(){return this.state===da.joining}_isLeaving(){return this.state===da.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const n=r.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&wS.isEqual(n.filter,s))}),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(ui.close,{},r)}_onError(r){this._on(ui.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=da.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=$P(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=$P(r.columns,r.old_record)),s}}const BP=()=>{},aK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nK{constructor(r,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=PM,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=BP,this.ref=0,this.logger=BP,this.conn=null,this.sendBuffer=[],this.serializer=new XH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Un(async()=>{const{default:d}=await Promise.resolve().then(()=>em);return{default:d}},void 0).then(({default:d})=>d(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${r}/${kN.websocket}`,this.httpEndpoint=TM(r),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new AM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=HH),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YH}))}disconnect(r,s){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Rh.connecting:return zc.Connecting;case Rh.open:return zc.Open;case Rh.closing:return zc.Closing;default:return zc.Closed}}isConnected(){return this.connectionState()===zc.Open}channel(r,s={config:{}}){const a=`realtime:${r}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new wS(`realtime:${r}`,s,this);return this.channels.push(i),i}}push(r){const{topic:s,event:a,payload:n,ref:i}=r,o=()=>{this.encode(r,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){let s=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:GH};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(ui.access_token,{access_token:s})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(JH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,s=>{let{topic:a,event:n,payload:i,ref:o}=s;a==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(a)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(ui.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${r}${a}${n}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([aK],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class jS extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function $s(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iK extends jS{constructor(r,s){super(r),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class PN extends jS{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var oK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const OM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>Un(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},lK=()=>oK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Un(()=>Promise.resolve().then(()=>em),void 0)).Response:Response}),AN=e=>{if(Array.isArray(e))return e.map(s=>AN(s));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[n]=AN(a)}),r};var xd=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const Kb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cK=(e,r,s)=>xd(void 0,void 0,void 0,function*(){const a=yield lK();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{r(new iK(Kb(n),e.status||500))}).catch(n=>{r(new PN(Kb(n),n))}):r(new PN(Kb(e),e))}),dK=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),a&&(n.body=JSON.stringify(a)),Object.assign(Object.assign({},n),s))};function gf(e,r,s,a,n,i){return xd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,dK(r,a,n,i)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>cK(d,l,a))})})}function Zg(e,r,s,a){return xd(this,void 0,void 0,function*(){return gf(e,"GET",r,s,a)})}function Ol(e,r,s,a,n){return xd(this,void 0,void 0,function*(){return gf(e,"POST",r,a,n,s)})}function uK(e,r,s,a,n){return xd(this,void 0,void 0,function*(){return gf(e,"PUT",r,a,n,s)})}function mK(e,r,s,a){return xd(this,void 0,void 0,function*(){return gf(e,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function MM(e,r,s,a,n){return xd(this,void 0,void 0,function*(){return gf(e,"DELETE",r,a,n,s)})}var Va=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const hK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fK{constructor(r,s={},a,n){this.url=r,this.headers=s,this.bucketId=a,this.fetch=OM(n)}uploadOrUpdate(r,s,a,n){return Va(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},WP),n);let l=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const m=this._removeEmptyFolders(s),h=this._getFinalPath(m),f=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:r,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield f.json();return f.ok?{data:{path:m,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if($s(i))return{data:null,error:i};throw i}})}upload(r,s,a){return Va(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,n){return Va(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let d;const m=Object.assign({upsert:WP.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",m.cacheControl)):(d=a,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:d,headers:h}),g=yield f.json();return f.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if($s(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(r,s){return Va(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ol(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new jS("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}update(r,s,a){return Va(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return Va(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}copy(r,s,a){return Va(this,void 0,void 0,function*(){try{return{data:{path:(yield Ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}createSignedUrl(r,s,a){return Va(this,void 0,void 0,function*(){try{let n=this._getFinalPath(r),i=yield Ol(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}createSignedUrls(r,s,a){return Va(this,void 0,void 0,function*(){try{const n=yield Ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}download(r,s){return Va(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(r);return{data:yield(yield Zg(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if($s(l))return{data:null,error:l};throw l}})}info(r){return Va(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield Zg(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:AN(a),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}exists(r){return Va(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield mK(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if($s(a)&&a instanceof PN){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});d!==""&&n.push(d);let m=n.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${m}`)}}}remove(r){return Va(this,void 0,void 0,function*(){try{return{data:yield MM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}list(r,s,a){return Va(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},hK),s),{prefix:r||""});return{data:yield Ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const pK="2.7.1",gK={"X-Client-Info":`storage-js/${pK}`};var ou=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class xK{constructor(r,s={},a){this.url=r,this.headers=Object.assign(Object.assign({},gK),s),this.fetch=OM(a)}listBuckets(){return ou(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}getBucket(r){return ou(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return ou(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}updateBucket(r,s){return ou(this,void 0,void 0,function*(){try{return{data:yield uK(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}emptyBucket(r){return ou(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}deleteBucket(r){return ou(this,void 0,void 0,function*(){try{return{data:yield MM(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}}class yK extends xK{constructor(r,s={},a){super(r,s,a)}from(r){return new fK(this.url,this.headers,r,this.fetch)}}const vK="2.52.1";let kh="";typeof Deno<"u"?kh="deno":typeof document<"u"?kh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kh="react-native":kh="node";const bK={"X-Client-Info":`supabase-js-${kh}/${vK}`},wK={headers:bK},jK={schema:"public"},NK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SK={};var CK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const kK=e=>{let r;return e?r=e:typeof fetch>"u"?r=jM:r=fetch,(...s)=>r(...s)},_K=()=>typeof Headers>"u"?NM:Headers,PK=(e,r,s)=>{const a=kK(s),n=_K();return(i,o)=>CK(void 0,void 0,void 0,function*(){var l;const d=(l=yield r())!==null&&l!==void 0?l:e;let m=new n(o==null?void 0:o.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(i,Object.assign(Object.assign({},o),{headers:m}))})};var AK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};function EK(e){return e.endsWith("/")?e:e+"/"}function TK(e,r){var s,a;const{db:n,auth:i,realtime:o,global:l}=e,{db:d,auth:m,realtime:h,global:f}=r,g={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>AK(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const RM="2.71.1",wu=30*1e3,EN=3,Gb=EN*wu,OK="http://localhost:9999",MK="supabase.auth.token",RK={"X-Client-Info":`gotrue-js/${RM}`},TN="X-Supabase-Api-Version",IM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DK=10*60*1e3;class NS extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function Et(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LK extends NS{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function $K(e){return Et(e)&&e.name==="AuthApiError"}class DM extends NS{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Zl extends NS{constructor(r,s,a,n){super(r,a,n),this.name=s,this.status=a}}class Pl extends Zl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zK(e){return Et(e)&&e.name==="AuthSessionMissingError"}class ug extends Zl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mg extends Zl{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class hg extends Zl{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FK(e){return Et(e)&&e.name==="AuthImplicitGrantRedirectError"}class VP extends Zl{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ON extends Zl{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Yb(e){return Et(e)&&e.name==="AuthRetryableFetchError"}class qP extends Zl{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class MN extends Zl{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HP=` 	
\r=`.split(""),UK=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<HP.length;r+=1)e[HP[r].charCodeAt(0)]=-2;for(let r=0;r<e0.length;r+=1)e[e0[r].charCodeAt(0)]=r;return e})();function KP(e,r,s){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(e0[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(e0[a]),r.queuedBits-=6}}function LM(e,r,s){const a=UK[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function GP(e){const r=[],s=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{VK(o,a,s)};for(let o=0;o<e.length;o+=1)LM(e.charCodeAt(o),n,i);return r.join("")}function BK(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WK(e,r){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}BK(a,r)}}function VK(e,r,s){if(r.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function qK(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};for(let n=0;n<e.length;n+=1)LM(e.charCodeAt(n),s,a);return new Uint8Array(r)}function HK(e){const r=[];return WK(e,s=>r.push(s)),new Uint8Array(r)}function KK(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};return e.forEach(n=>KP(n,s,a)),KP(null,s,a),r.join("")}function GK(e){return Math.round(Date.now()/1e3)+e}function YK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const ci=()=>typeof window<"u"&&typeof document<"u",Pc={tested:!1,writable:!1},$M=()=>{if(!ci())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pc.tested)return Pc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pc.tested=!0,Pc.writable=!0}catch{Pc.tested=!0,Pc.writable=!1}return Pc.writable};function JK(e){const r={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{r[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{r[n]=a}),r}const zM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>Un(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},XK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ju=async(e,r,s)=>{await e.setItem(r,JSON.stringify(s))},Ac=async(e,r)=>{const s=await e.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},wl=async(e,r)=>{await e.removeItem(r)};class kx{constructor(){this.promise=new kx.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}kx.promiseConstructor=Promise;function Jb(e){const r=e.split(".");if(r.length!==3)throw new MN("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!IK.test(r[a]))throw new MN("JWT not in base64url format");return{header:JSON.parse(GP(r[0])),payload:JSON.parse(GP(r[1])),signature:qK(r[2]),raw:{header:r[0],payload:r[1]}}}async function QK(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function ZK(e,r){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){n(o);return}}})()})}function eG(e){return("0"+e.toString(16)).substr(-2)}function tG(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(r),Array.from(r,eG).join("")}async function rG(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function sG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await rG(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lu(e,r,s=!1){const a=tG();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await ju(e,`${r}-code-verifier`,n);const i=await sG(a);return[i,a===i?"plain":"s256"]}const aG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nG(e){const r=e.headers.get(TN);if(!r||!r.match(aG))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function iG(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function oG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cu(e){if(!lG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xb(){const e={};return new Proxy(e,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YP(e){return JSON.parse(JSON.stringify(e))}var cG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};const Rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dG=[502,503,504];async function JP(e){var r;if(!XK(e))throw new ON(Rc(e),0);if(dG.includes(e.status))throw new ON(Rc(e),e.status);let s;try{s=await e.json()}catch(i){throw new DM(Rc(i),i)}let a;const n=nG(e);if(n&&n.getTime()>=IM["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new qP(Rc(s),e.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Pl}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qP(Rc(s),e.status,s.weak_password.reasons);throw new LK(Rc(s),e.status||500,a)}const uG=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function Ut(e,r,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[TN]||(i[TN]=IM["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await mG(e,r,s+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function mG(e,r,s,a,n,i){const o=uG(r,a,n,i);let l;try{l=await e(s,Object.assign({},o))}catch(d){throw console.error(d),new ON(Rc(d),0)}if(l.ok||await JP(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await JP(d)}}function Co(e){var r;let s=null;gG(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=GK(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:s,user:a},error:null}}function XP(e){const r=Co(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function Rl(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function hG(e){return{data:e,error:null}}function fG(e){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=e,o=cG(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function pG(e){return e}function gG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qb=["global","local","others"];var xG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};class yG{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=zM(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=Qb[0]){if(Qb.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qb.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Rl})}catch(a){if(Et(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=xG(r,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:fG,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Et(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Rl})}catch(s){if(Et(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,n,i,o,l,d;try{const m={nextPage:null,lastPage:0,total:0},h=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=r==null?void 0:r.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:pG});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);m[`${y}Page`]=w}),m.total=parseInt(g)),{data:Object.assign(Object.assign({},f),m),error:null}}catch(m){if(Et(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){cu(r);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Rl})}catch(s){if(Et(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){cu(r);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Rl})}catch(a){if(Et(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){cu(r);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Rl})}catch(a){if(Et(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){cu(r.userId);try{const{data:s,error:a}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(Et(s))return{data:null,error:s};throw s}}async _deleteFactor(r){cu(r.userId),cu(r.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Et(s))return{data:null,error:s};throw s}}}function QP(e={}){return{getItem:r=>e[r]||null,setItem:(r,s)=>{e[r]=s},removeItem:r=>{delete e[r]}}}function vG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const du={debug:!!(globalThis&&$M()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FM extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class bG extends FM{}async function wG(e,r,s){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),du.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{du.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(r===0)throw du.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(du.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}vG();const jG={url:OK,storageKey:MK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ZP(e,r,s){return await s()}const uu={};class Bh{constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bh.nextInstanceID,Bh.nextInstanceID+=1,this.instanceID>0&&ci()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},jG),r);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new yG({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=zM(n.fetch),this.lock=n.lock||ZP,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ci()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=wG:this.lock=ZP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:$M()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=QP(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=QP(this.memoryStorage)),ci()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=uu[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=uu[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${RM}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=JK(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),ci()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),FK(i)){const d=(r=i.details)===null||r===void 0?void 0:r.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Et(s)?{error:s}:{error:new DM("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,n;try{const i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.captchaToken}},xform:Co}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(Et(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var s,a,n;try{let i;if("email"in r){const{email:h,password:f,options:g}=r;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await lu(this.storage,this.storageKey)),i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:b},xform:Co})}else if("phone"in r){const{phone:h,password:f,options:g}=r;i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Co})}else throw new mg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(Et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let s;if("email"in r){const{email:i,password:o,options:l}=r;s=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:XP})}else if("phone"in r){const{phone:i,password:o,options:l}=r;s=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:XP})}else throw new mg("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ug}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,n,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=r.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,a,n,i,o,l,d,m,h,f,g,v;let b,w;if("message"in r)b=r.message,w=r.signature;else{const{chain:y,wallet:N,statement:C,options:S}=r;let k;if(ci())if(typeof N=="object")k=N;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))k=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const A=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in k&&k.signIn){const E=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),C?{statement:C}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(n=(a=S==null?void 0:S.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(h=S==null?void 0:S.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:y,error:N}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:KK(w)},!((g=r.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=r.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Co});if(N)throw N;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ug}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:N})}catch(y){if(Et(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(r){const s=await Ac(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Co});if(await wl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ug}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Et(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=r,l=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Co}),{data:d,error:m}=l;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ug}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,n,i,o;try{if("email"in r){const{email:l,options:d}=r;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await lu(this.storage,this.storageKey));const{error:f}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in r){const{phone:l,options:d}=r,{data:m,error:h}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new mg("You must provide either an email or phone number.")}catch(l){if(Et(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(r){var s,a;try{let n,i;"options"in r&&(n=(s=r.options)===null||s===void 0?void 0:s.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Co});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,m=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(n){if(Et(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(r){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await lu(this.storage,this.storageKey)),await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=r==null?void 0:r.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hG})}catch(i){if(Et(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new Pl;const{error:n}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:n,options:i}=r,{error:o}=await Ut(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:n,options:i}=r,{data:o,error:l}=await Ut(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new mg("You must provide either an email or phone number and a type")}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Ac(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Gb:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await Ac(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=Xb()}if(this.storage.isServer&&r.user){let o=this.suppressGetSessionWarning;r=new Proxy(r,{get:(d,m,h)=>(!o&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:r},error:null}}const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Rl}):await this._useSession(async s=>{var a,n,i;const{data:o,error:l}=s;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pl}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Rl})})}catch(s){if(Et(s))return zK(s)&&(await this._removeSession(),await wl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Pl;const o=n.session;let l=null,d=null;this.flowType==="pkce"&&r.email!=null&&([l,d]=await lu(this.storage,this.storageKey));const{data:m,error:h}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Rl});if(h)throw h;return o.user=m.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(Et(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Pl;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=Jb(r.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:l,error:d}=await this._callRefreshToken(r.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(r.access_token);if(d)throw d;i={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Et(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:o,error:l}=s;if(l)throw l;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Pl;const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!ci())throw new hg("No browser detected.");if(r.error||r.error_description||r.error_code)throw new hg(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new VP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hg("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new VP("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(r.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:m}=r;if(!i||!l||!o||!m)throw new hg("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const v=g-h;v*1e3<=wu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const b=g-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const N={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(a){if(Et(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Ac(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!($K(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return r!=="others"&&(await this._removeSession(),await wl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=YK(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(r))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await lu(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Et(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(Et(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,d,m,h;const{data:f,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=r.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(m=f.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return ci()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Et(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await ZK(async n=>(n>0&&await QK(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Co})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Yb(i)&&Date.now()+o-a<wu})}catch(a){if(this._debug(s,"error",a),Et(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),ci()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Ac(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Ac(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ju(this.userStorage,this.storageKey+"-user",o)),n.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:Xb()}else if(n&&!n.user&&!n.user){const o=await Ac(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await wl(this.storage,this.storageKey+"-user"),await ju(this.storage,this.storageKey,n)):n.user=Xb()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Gb;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Gb}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Yb(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new Pl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new kx;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new Pl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),Et(i)){const o={session:null,error:i};return Yb(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(r,s,a=!0){const n=`#_notifyAllSubscribers(${r})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,s)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await ju(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=YP(n);await ju(this.storage,this.storageKey,i)}else{const n=YP(s);await ju(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await wl(this.storage,this.storageKey),await wl(this.storage,this.storageKey+"-code-verifier"),await wl(this.storage,this.storageKey+"-user"),this.userStorage&&await wl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ci()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),wu);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-r)/wu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${wu}ms, refresh threshold is ${EN} ticks`),n<=EN&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof FM)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ci()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await lu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${n.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Ut(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:d,error:m}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((n=d==null?void 0:d.totp)===null||n===void 0)&&n.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Ut(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Et(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Ut(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Et(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(r==null?void 0:r.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:n},error:i}=r;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jb(n.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(l=>l.kid===r);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===r),a&&this.jwks_cached_at+DK>n)return a;const{data:i,error:o}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};a=v.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:d}}=Jb(a);s!=null&&s.allowExpired||iG(i.exp);const m=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:v}=await this.getUser(a);if(v)throw v;return{data:{claims:i,header:n,signature:o},error:null}}const h=oG(n.alg),f=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,HK(`${l}.${d}`)))throw new MN("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}}}Bh.nextInstanceID=0;const NG=Bh;class SG extends NG{constructor(r){super(r)}}var CG=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class kG{constructor(r,s,a){var n,i,o;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=EK(r),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:jK,realtime:SK,auth:Object.assign(Object.assign({},NK),{storageKey:m}),global:wK},f=TK(a??{},h);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=PK(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new VH(new URL("rest/v1",d).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new OH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new yK(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return CG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:d},m,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SG({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),m),storageKey:i,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new nK(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _G=(e,r,s)=>new kG(e,r,s);function PG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}PG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AG="https://twigokrtbvigiqnaybfy.supabase.co",EG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24";let Zb;function SS(){if(!Zb){if(typeof window>"u")throw new Error("Supabase client can only be used in the browser");Zb=_G(AG,EG,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,storageKey:"sb-twigokrtbvigiqnaybfy-auth-token",detectSessionInUrl:!0}})}return Zb}const ua=new Proxy({},{get(e,r,s){const a=SS();return Reflect.get(a,r,s)}}),Ft=SS();console.log(" Supabase client initialized:",!!Ft);console.log(" Supabase URL:","https://twigokrtbvigiqnaybfy.supabase.co");class TG{get client(){return Ft}async getOrganizations(){console.log(" SupabaseService.getOrganizations called");const{data:r,error:s}=await Ft.from("organizations").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase query result:",{data:r,error:s}),s)throw console.error(" Supabase error in getOrganizations:",s),s;return console.log(" Returning organizations:",(r==null?void 0:r.length)||0),r}async getOrganization(r){const{data:s,error:a}=await Ft.from("organizations").select("*").eq("id",r).single();if(a)throw a;return s}async createOrganization(r){const{data:s,error:a}=await Ft.from("organizations").insert(r).select().single();if(a)throw a;return s}async updateOrganization(r,s){const{data:a,error:n}=await Ft.from("organizations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUsers(r){let s=Ft.from("users").select("*").order("created_at",{ascending:!1});r&&(s=s.eq("organization_id",r));const{data:a,error:n}=await s;if(n)throw n;return a}async getUserByClerkId(r){console.log(" getUserByClerkId called with:",r);try{const{data:s,error:a}=await Ft.from("users").select("*").eq("clerk_id",r).single();if(console.log(" Query result:",{data:s,error:a}),a){if(a.code==="PGRST116")return console.log(" No user found with clerk_id:",r),null;throw console.error(" Full error:",a),a}return s}catch(s){throw console.error(" getUserByClerkId error:",s),s}}async getUserById(r){var n;console.log(" getUserById called with:",r);const{data:s,error:a}=await Ft.from("users").select(`
        *,
        organizations(
          id,
          name,
          slug
        )
      `).eq("id",r).single();return a?(console.error(" getUserById error:",a),a.code==="PGRST116"&&console.log(" No user found with ID:",r),null):s?(console.log(" Found user:",s.email,"Role:",s.role),{...s,organizationName:(n=s.organizations)==null?void 0:n.name}):(console.log(" No user found with ID:",r),null)}async getUserByEmail(r){console.log(" getUserByEmail called with:",r);try{console.log(" Attempting simple query...");const{data:s,error:a}=await Ft.from("users").select("*").eq("email",r).single();if(console.log(" Query completed - Data:",!!s,"Error:",!!a),a){if(console.error(" Query error:",a),console.log("Error details:",{code:a.code,details:a.details,hint:a.hint,message:a.message}),a.code==="PGRST116")return console.log(" No user found"),null;throw a}if(!s)return console.log(" No user found with email:",r),null;if(console.log(" Found user:",s.email,"Role:",s.role,"ID:",s.id),s.organization_id)try{const{data:n}=await Ft.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}catch(n){console.warn("Could not fetch organization:",n)}return s}catch(s){throw console.error(" getUserByEmail failed:",s),s}}async getUserByEmailFallback(r){console.log(" Using fallback query (no joins)...");try{const{data:s,error:a}=await Ft.from("users").select("*").eq("email",r).single();if(a)throw console.error(" Fallback query error:",a),a;if(!s)return console.log(" No user found in fallback"),null;if(console.log(" Fallback query successful:",s.email,"Role:",s.role),s.organization_id){const{data:n}=await Ft.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}return s}catch(s){throw console.error(" Fallback query failed:",s),s}}async createUser(r){const{data:s,error:a}=await Ft.from("users").insert(r).select().single();if(a)throw a;return s}async updateUser(r,s){const{data:a,error:n}=await Ft.from("users").update(s).eq("id",r).select().single();if(n)throw n;return a}async syncUserFromClerk(r,s){var i,o,l;const a=await this.getUserByClerkId(r.id),n={clerk_id:r.id,first_name:r.firstName||"",last_name:r.lastName||"",email:((i=r.primaryEmailAddress)==null?void 0:i.emailAddress)||"",avatar_url:r.imageUrl,email_verified:((l=(o=r.primaryEmailAddress)==null?void 0:o.verification)==null?void 0:l.status)==="verified",last_login_at:new Date().toISOString()};return a?await this.updateUser(a.id,n):await this.createUser({...n,organization_id:s,role:"client_user",permissions:{},status:"active",timezone:"UTC",language:"en"})}async getCampaigns(r){const{data:s,error:a}=await Ft.from("campaigns").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async getCampaign(r){const{data:s,error:a}=await Ft.from("campaigns").select("*").eq("id",r).single();if(a)throw a;return s}async createCampaign(r){const{data:s,error:a}=await Ft.from("campaigns").insert(r).select().single();if(a)throw a;return s}async updateCampaign(r,s){const{data:a,error:n}=await Ft.from("campaigns").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteCampaign(r){const{error:s}=await Ft.from("campaigns").delete().eq("id",r);if(s)throw s}async getLeads(r,s){let a=Ft.from("leads").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(a=a.eq("campaign_id",s));const{data:n,error:i}=await a;if(i)throw i;return n}async createLead(r){const{data:s,error:a}=await Ft.from("leads").insert(r).select().single();if(a)throw a;return s}async updateLead(r,s){const{data:a,error:n}=await Ft.from("leads").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteLead(r){const{error:s}=await Ft.from("leads").delete().eq("id",r);if(s)throw s}async bulkCreateLeads(r){const{data:s,error:a}=await Ft.from("leads").insert(r).select();if(a)throw a;return s}async getCalls(r,s,a){let n=Ft.from("calls").select(`
        *,
        leads(*),
        campaigns(*)
      `).eq("organization_id",r).order("started_at",{ascending:!1});s&&(n=n.eq("campaign_id",s)),a&&(n=n.eq("lead_id",a));const{data:i,error:o}=await n;if(o)throw o;return i}async createCall(r){const{data:s,error:a}=await Ft.from("calls").insert(r).select().single();if(a)throw a;return s}async updateCall(r,s){const{data:a,error:n}=await Ft.from("calls").update(s).eq("id",r).select().single();if(n)throw n;return a}async getVapiIntegrations(r){const{data:s,error:a}=await Ft.from("vapi_integrations").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async createVapiIntegration(r){const{data:s,error:a}=await Ft.from("vapi_integrations").insert(r).select().single();if(a)throw a;return s}async updateVapiIntegration(r,s){const{data:a,error:n}=await Ft.from("vapi_integrations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUserSettings(r){const{data:s,error:a}=await Ft.from("user_settings").select("*").eq("user_id",r).single();if(a&&a.code!=="PGRST116")throw a;return s}async upsertUserSettings(r){const{data:s,error:a}=await Ft.from("user_settings").upsert(r).select().single();if(a)throw a;return s}async getNotifications(r,s,a=!1){let n=Ft.from("notifications").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(n=n.eq("user_id",s)),a&&(n=n.eq("read",!1));const{data:i,error:o}=await n;if(o)throw o;return i}async createNotification(r){const{data:s,error:a}=await Ft.from("notifications").insert(r).select().single();if(a)throw a;return s}async markNotificationAsRead(r){const{data:s,error:a}=await Ft.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",r).select().single();if(a)throw a;return s}async markAllNotificationsAsRead(r,s){let a=Ft.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("organization_id",r).eq("read",!1);s&&(a=a.eq("user_id",s));const{error:n}=await a;if(n)throw n}async getCampaignAnalytics(r,s,a){let n=Ft.from("calls").select(`
        *,
        campaigns(*),
        leads(*)
      `).eq("organization_id",r);s&&(n=n.eq("campaign_id",s)),a&&(n=n.gte("started_at",a.start).lte("started_at",a.end));const{data:i,error:o}=await n;if(o)throw o;return i}async getOrganizationStats(r){const[s,a,n,i]=await Promise.all([this.getCampaigns(r),this.getLeads(r),this.getCalls(r),this.getUsers(r)]);return{totalCampaigns:s.length,activeCampaigns:s.filter(o=>o.status==="active").length,totalLeads:a.length,qualifiedLeads:a.filter(o=>o.qualification_status==="qualified").length,totalCalls:n.length,completedCalls:n.filter(o=>o.status==="completed").length,totalUsers:i.length,activeUsers:i.filter(o=>o.status==="active").length}}}const Du=new TG,ku=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:Du},Symbol.toStringTag,{value:"Module"}));p.createContext(void 0);function xf(){var n,i,o;const[e,r]=p.useState(null),[s,a]=p.useState(!1);{const l=gS();if(p.useEffect(()=>{l.isSignedIn&&l.user&&!s&&(a(!0),Du.getUserByClerkId(l.user.id).then(async d=>{var m;if(!d&&((m=l.user.primaryEmailAddress)!=null&&m.emailAddress)){const h=await Du.getUserByEmail(l.user.primaryEmailAddress.emailAddress);r(h)}else r(d)}).catch(d=>{var m;(m=d.message)!=null&&m.includes("404")||console.error(" Error fetching db user:",d)}))},[l.isSignedIn,(n=l.user)==null?void 0:n.id,s]),!l.isSignedIn||!l.user)return{isSignedIn:!1,user:null,isLoaded:l.isLoaded};if(!e){const d=(i=l.user.primaryEmailAddress)==null?void 0:i.emailAddress;let m="client_user",h=null;return d==="sean@artificialmedia.co.uk"?(m="platform_owner",h="47a8e3ea-cd34-4746-a786-dd31e8f8105e"):d==="seanwentz99@gmail.com"&&(m="client_admin",h="2566d8c5-2245-4a3c-b539-4cea21a07d9b"),{isSignedIn:!0,isLoaded:!0,user:{id:l.user.id,firstName:l.user.firstName||"",lastName:l.user.lastName||"",fullName:l.user.fullName||"",email:d||"",emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:m,organization_id:h,organizationName:null}}}return{isSignedIn:!0,isLoaded:!0,user:{id:e.id,clerkId:l.user.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(o=e.organizations)==null?void 0:o.name,...e}}}}function Ma(){var s;const[e,r]=p.useState(null);{const a=Oq(),{user:n}=gS();return p.useEffect(()=>{a.isSignedIn&&n&&Du.getUserByClerkId(n.id).then(i=>r(i)).catch(i=>console.error("Error fetching db user:",i))},[a.isSignedIn,n==null?void 0:n.id]),{isLoaded:a.isLoaded,isSignedIn:a.isSignedIn&&!!e,user:a.isSignedIn&&n&&e?{id:e.id,clerkId:n.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:n.emailAddresses,primaryEmailAddress:n.primaryEmailAddress,imageUrl:n.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(s=e.organizations)==null?void 0:s.name,...e}:null,signOut:a.signOut,getToken:a.getToken}}}const UM=p.createContext(void 0),OG=({children:e})=>{const[r,s]=p.useState(null),[a,n]=p.useState(null),{user:i,isLoaded:o}=xf();return p.useEffect(()=>{var d,m,h,f;const l=(i==null?void 0:i.id)||(i==null?void 0:i.email)||null;if(o&&i&&l!==a){n(l),console.log(" MinimalUserProvider: User data received:",{email:i.email,role:i.role,firstName:i.firstName||i.first_name,lastName:i.lastName||i.last_name,organization_id:i.organization_id});const g=((d=i.primaryEmailAddress)==null?void 0:d.emailAddress)||((h=(m=i.emailAddresses)==null?void 0:m[0])==null?void 0:h.emailAddress)||i.email||"user@example.com",v={firstName:i.firstName||i.first_name||"User",lastName:i.lastName||i.last_name||"",organizationName:i.organizationName||((f=i.organizations)==null?void 0:f.name)||"Organization",organization_id:i.organization_id,email:g,role:i.role||"client_user"};console.log(" MinimalUserProvider: Setting user context:",v),s(v)}else o&&!i&&a!==null&&(n(null),s(null))},[i==null?void 0:i.id,i==null?void 0:i.email,o,a]),t.jsx(UM.Provider,{value:{userContext:r,setUserContext:s},children:e})},ao=()=>{const e=p.useContext(UM);if(!e)throw new Error("useUserContext must be used within a MinimalUserProvider");return e};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BM=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=p.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>p.createElement("svg",{ref:d,...RG,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:BM("lucide",n),...l},[...o.map(([m,h])=>p.createElement(m,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,r)=>{const s=p.forwardRef(({className:a,...n},i)=>p.createElement(IG,{ref:i,iconNode:r,className:BM(`lucide-${MG(e)}`,a),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Se("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Se("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Se("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Se("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Se("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Se("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Se("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Se("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Se("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Se("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Se("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Se("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Se("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Se("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Se("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Se("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Se("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Se("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Se("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Se("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Se("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Se("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Se("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Se("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Se("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Se("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Se("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function rA(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Mx(...e){return r=>{let s=!1;const a=e.map(n=>{const i=rA(n,r);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():rA(e[n],null)}}}}function ut(...e){return p.useCallback(Mx(...e),e)}function nd(e){const r=uY(e),s=p.forwardRef((a,n)=>{const{children:i,...o}=a,l=p.Children.toArray(i),d=l.find(hY);if(d){const m=d.props.children,h=l.map(f=>f===d?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:f);return t.jsx(r,{...o,ref:n,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return t.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}var dY=nd("Slot");function uY(e){const r=p.forwardRef((s,a)=>{const{children:n,...i}=s;if(p.isValidElement(n)){const o=pY(n),l=fY(i,n.props);return n.type!==p.Fragment&&(l.ref=a?Mx(a,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var JM=Symbol("radix.slottable");function mY(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=JM,r}function hY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JM}function fY(e,r){const s={...r};for(const a in r){const n=e[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const d=i(...l);return n(...l),d}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function pY(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function XM(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=XM(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Jt(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=XM(e))&&(a&&(a+=" "),a+=r);return a}const sA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aA=Jt,vf=(e,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return aA(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=r,o=Object.keys(n).map(m=>{const h=s==null?void 0:s[m],f=i==null?void 0:i[m];if(h===null)return null;const g=sA(h)||sA(f);return n[m][g]}),l=s&&Object.entries(s).reduce((m,h)=>{let[f,g]=h;return g===void 0||(m[f]=g),m},{}),d=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:f,className:g,...v}=h;return Object.entries(v).every(b=>{let[w,y]=b;return Array.isArray(y)?y.includes({...i,...l}[w]):{...i,...l}[w]===y})?[...m,f,g]:m},[]);return aA(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)},CS="-",gY=e=>{const r=yY(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(CS);return l[0]===""&&l.length!==1&&l.shift(),QM(l,r)||xY(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},QM=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const s=e[0],a=r.nextPart.get(s),n=a?QM(e.slice(1),a):void 0;if(n)return n;if(r.validators.length===0)return;const i=e.join(CS);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nA=/^\[(.+)\]$/,xY=e=>{if(nA.test(e)){const r=nA.exec(e)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},yY=e=>{const{theme:r,prefix:s}=e,a={nextPart:new Map,validators:[]};return bY(Object.entries(e.classGroups),s).forEach(([i,o])=>{LN(o,a,i,r)}),a},LN=(e,r,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?r:iA(r,n);i.classGroupId=s;return}if(typeof n=="function"){if(vY(n)){LN(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{LN(o,iA(r,i),s,a)})})},iA=(e,r)=>{let s=e;return r.split(CS).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},vY=e=>e.isThemeGetter,bY=(e,r)=>r?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[s,n]}):e,wY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),r++,r>e&&(r=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},ZM="!",jY=e=>{const{separator:r,experimentalParseClassName:s}=e,a=r.length===1,n=r[0],i=r.length,o=l=>{const d=[];let m=0,h=0,f;for(let y=0;y<l.length;y++){let N=l[y];if(m===0){if(N===n&&(a||l.slice(y,y+i)===r)){d.push(l.slice(h,y)),h=y+i;continue}if(N==="/"){f=y;continue}}N==="["?m++:N==="]"&&m--}const g=d.length===0?l:l.substring(h),v=g.startsWith(ZM),b=v?g.substring(1):g,w=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:w}};return s?l=>s({className:l,parseClassName:o}):o},NY=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},SY=e=>({cache:wY(e.cacheSize),parseClassName:jY(e),...gY(e)}),CY=/\s+/,kY=(e,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=r,i=[],o=e.trim().split(CY);let l="";for(let d=o.length-1;d>=0;d-=1){const m=o[d],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}=s(m);let b=!!v,w=a(b?g.substring(0,v):g);if(!w){if(!b){l=m+(l.length>0?" "+l:l);continue}if(w=a(g),!w){l=m+(l.length>0?" "+l:l);continue}b=!1}const y=NY(h).join(":"),N=f?y+ZM:y,C=N+w;if(i.includes(C))continue;i.push(C);const S=n(w,b);for(let k=0;k<S.length;++k){const A=S[k];i.push(N+A)}l=m+(l.length>0?" "+l:l)}return l};function _Y(){let e=0,r,s,a="";for(;e<arguments.length;)(r=arguments[e++])&&(s=eR(r))&&(a&&(a+=" "),a+=s);return a}const eR=e=>{if(typeof e=="string")return e;let r,s="";for(let a=0;a<e.length;a++)e[a]&&(r=eR(e[a]))&&(s&&(s+=" "),s+=r);return s};function PY(e,...r){let s,a,n,i=o;function o(d){const m=r.reduce((h,f)=>f(h),e());return s=SY(m),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const m=a(d);if(m)return m;const h=kY(d,s);return n(d,h),h}return function(){return i(_Y.apply(null,arguments))}}const Mr=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},tR=/^\[(?:([a-z-]+):)?(.+)\]$/i,AY=/^\d+\/\d+$/,EY=new Set(["px","full","screen"]),TY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jo=e=>_u(e)||EY.has(e)||AY.test(e),jl=e=>sm(e,"length",WY),_u=e=>!!e&&!Number.isNaN(Number(e)),ew=e=>sm(e,"number",_u),lh=e=>!!e&&Number.isInteger(Number(e)),DY=e=>e.endsWith("%")&&_u(e.slice(0,-1)),Mt=e=>tR.test(e),Nl=e=>TY.test(e),LY=new Set(["length","size","percentage"]),$Y=e=>sm(e,LY,rR),zY=e=>sm(e,"position",rR),FY=new Set(["image","url"]),UY=e=>sm(e,FY,qY),BY=e=>sm(e,"",VY),ch=()=>!0,sm=(e,r,s)=>{const a=tR.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},WY=e=>OY.test(e)&&!MY.test(e),rR=()=>!1,VY=e=>RY.test(e),qY=e=>IY.test(e),HY=()=>{const e=Mr("colors"),r=Mr("spacing"),s=Mr("blur"),a=Mr("brightness"),n=Mr("borderColor"),i=Mr("borderRadius"),o=Mr("borderSpacing"),l=Mr("borderWidth"),d=Mr("contrast"),m=Mr("grayscale"),h=Mr("hueRotate"),f=Mr("invert"),g=Mr("gap"),v=Mr("gradientColorStops"),b=Mr("gradientColorStopPositions"),w=Mr("inset"),y=Mr("margin"),N=Mr("opacity"),C=Mr("padding"),S=Mr("saturate"),k=Mr("scale"),A=Mr("sepia"),E=Mr("skew"),T=Mr("space"),M=Mr("translate"),L=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Mt,r],I=()=>[Mt,r],B=()=>["",jo,jl],H=()=>["auto",_u,Mt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Mt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[_u,Mt];return{cacheSize:500,separator:":",theme:{colors:[ch],spacing:[jo,jl],blur:["none","",Nl,Mt],brightness:z(),borderColor:[e],borderRadius:["none","","full",Nl,Mt],borderSpacing:I(),borderWidth:B(),contrast:z(),grayscale:W(),hueRotate:z(),invert:W(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[DY,jl],inset:R(),margin:R(),opacity:z(),padding:I(),saturate:z(),scale:z(),sepia:W(),skew:z(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[Nl]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Mt]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lh,Mt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",lh,Mt]}],"grid-cols":[{"grid-cols":[ch]}],"col-start-end":[{col:["auto",{span:["full",lh,Mt]},Mt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ch]}],"row-start-end":[{row:["auto",{span:[lh,Mt]},Mt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,r]}],"min-w":[{"min-w":[Mt,r,"min","max","fit"]}],"max-w":[{"max-w":[Mt,r,"none","full","min","max","fit","prose",{screen:[Nl]},Nl]}],h:[{h:[Mt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Nl,jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ew]}],"font-family":[{font:[ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",_u,ew]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jo,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jo,jl]}],"underline-offset":[{"underline-offset":["auto",jo,Mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),zY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$Y]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:U()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[jo,Mt]}],"outline-w":[{outline:[jo,jl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[jo,jl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nl,BY]}],"shadow-color":[{shadow:[ch]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Nl,Mt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[lh,Mt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[jo,jl,ew]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KY=PY(HY);function $e(...e){return KY(Jt(e))}function tw(e){const r=new Date(e);return isNaN(r.getTime())?"Invalid Date":r.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}const kS=vf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-600 hover:bg-gray-700 text-white shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-700 bg-transparent hover:bg-gray-600/10 hover:border-gray-600 text-gray-300 hover:text-white",secondary:"bg-gray-800 text-white hover:bg-gray-700 border border-gray-700 hover:border-gray-600",ghost:"hover:bg-gray-800 text-gray-300 hover:text-white",link:"text-gray-400 underline-offset-4 hover:underline hover:text-gray-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=p.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},i)=>{const o=a?dY:"button";return t.jsx(o,{className:$e(kS({variant:r,size:s,className:e})),ref:i,...n})});K.displayName="Button";const GY=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class YY extends le.Component{constructor(s){super(s);li(this,"handleReload",()=>{window.location.reload()});li(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error(" ErrorBoundary caught an error:",s),console.error(" Component stack:",a.componentStack),this.setState({error:s,errorInfo:a})}render(){return this.state.hasError?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-6",children:t.jsxs("div",{className:"w-full max-w-md rounded-xl border border-red-500/20 bg-gray-900 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500/10",children:t.jsx(va,{className:"h-8 w-8 text-red-400"})})}),t.jsx("h1",{className:"mb-2 text-2xl font-bold text-white",children:"Oops! Something went wrong"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"We encountered an unexpected error. Don't worry, your data is safe."}),t.jsxs("div",{className:"mb-6 space-y-3",children:[t.jsxs(K,{onClick:this.handleReload,className:"w-full bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-pink/80 hover:to-brand-magenta/80",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),t.jsxs(K,{onClick:this.handleGoHome,variant:"outline",className:"w-full border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Ox,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]}),t.jsxs("details",{className:"text-left",children:[t.jsx("summary",{className:"mb-2 cursor-pointer text-sm text-gray-500 hover:text-gray-400",children:"View Technical Details"}),t.jsxs("div",{className:"mt-2 rounded-lg bg-gray-800 p-4",children:[t.jsx("pre",{className:"max-h-32 overflow-auto text-xs text-red-400",children:GY(this.state.error)}),this.state.errorInfo&&t.jsx("pre",{className:"mt-2 max-h-32 overflow-auto text-xs text-gray-500",children:this.state.errorInfo.componentStack})]})]}),t.jsx("div",{className:"mt-6 border-t border-gray-800 pt-4",children:t.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support."})})]})}):this.props.children}}const oA=({children:e})=>{const r=Ql(),{isLoaded:s,isSignedIn:a}=Ma();return s?a?t.jsx(t.Fragment,{children:e}):t.jsx(EO,{to:"/login",state:{from:r},replace:!0}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})},JY=(e,r,s,a)=>{var i,o,l,d;const n=[s,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);Gc(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(d=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&d.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},lA={},$N=(e,r,s,a)=>{Gc(s)&&lA[s]||(Gc(s)&&(lA[s]=new Date),JY(e,r,s,a))},sR=(e,r)=>()=>{if(e.isInitialized)r();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),r()};e.on("initialized",s)}},zN=(e,r,s)=>{e.loadNamespaces(r,sR(e,s))},cA=(e,r,s,a)=>{if(Gc(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(r)>-1)return zN(e,s,a);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(r,sR(e,a))},XY=(e,r,s={})=>!r.languages||!r.languages.length?($N(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),Gc=e=>typeof e=="string",QY=e=>typeof e=="object"&&e!==null,ZY=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tJ=e=>eJ[e],rJ=e=>e.replace(ZY,tJ);let sJ={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:rJ};const aJ=()=>sJ;let nJ;const iJ=()=>nJ,oJ=p.createContext();class lJ{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const cJ=(e,r)=>{const s=p.useRef();return p.useEffect(()=>{s.current=e},[e,r]),s.current},aR=(e,r,s,a)=>e.getFixedT(r,s,a),dJ=(e,r,s,a)=>p.useCallback(aR(e,r,s,a),[e,r,s,a]),yn=(e,r={})=>{var k,A,E,T;const{i18n:s}=r,{i18n:a,defaultNS:n}=p.useContext(oJ)||{},i=s||a||iJ();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new lJ),!i){$N(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const M=(V,R)=>Gc(R)?R:QY(R)&&Gc(R.defaultValue)?R.defaultValue:Array.isArray(V)?V[V.length-1]:V,L=[M,{},!1];return L.t=M,L.i18n={},L.ready=!1,L}(k=i.options.react)!=null&&k.wait&&$N(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...aJ(),...i.options.react,...r},{useSuspense:l,keyPrefix:d}=o;let m=e||n||((A=i.options)==null?void 0:A.defaultNS);m=Gc(m)?[m]:m||["translation"],(T=(E=i.reportNamespaces).addUsedNamespaces)==null||T.call(E,m);const h=(i.isInitialized||i.initializedStoreOnce)&&m.every(M=>XY(M,i,o)),f=dJ(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),g=()=>f,v=()=>aR(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),[b,w]=p.useState(g);let y=m.join();r.lng&&(y=`${r.lng}${y}`);const N=cJ(y),C=p.useRef(!0);p.useEffect(()=>{const{bindI18n:M,bindI18nStore:L}=o;C.current=!0,!h&&!l&&(r.lng?cA(i,r.lng,m,()=>{C.current&&w(v)}):zN(i,m,()=>{C.current&&w(v)})),h&&N&&N!==y&&C.current&&w(v);const V=()=>{C.current&&w(v)};return M&&(i==null||i.on(M,V)),L&&(i==null||i.store.on(L,V)),()=>{C.current=!1,i&&M&&(M==null||M.split(" ").forEach(R=>i.off(R,V))),L&&i&&L.split(" ").forEach(R=>i.store.off(R,V))}},[i,y]),p.useEffect(()=>{C.current&&h&&w(g)},[i,d,h]);const S=[b,i,h];if(S.t=b,S.i18n=i,S.ready=h,h||!h&&!l)return S;throw new Promise(M=>{r.lng?cA(i,r.lng,m,()=>M()):zN(i,m,()=>M())})};function Le(e,r,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e==null||e(n),s===!1||!n.defaultPrevented)return r==null?void 0:r(n)}}function uJ(e,r){const s=p.createContext(r),a=i=>{const{children:o,...l}=i,d=p.useMemo(()=>l,Object.values(l));return t.jsx(s.Provider,{value:d,children:o})};a.displayName=e+"Provider";function n(i){const o=p.useContext(s);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function qs(e,r=[]){let s=[];function a(i,o){const l=p.createContext(o),d=s.length;s=[...s,o];const m=f=>{var N;const{scope:g,children:v,...b}=f,w=((N=g==null?void 0:g[e])==null?void 0:N[d])||l,y=p.useMemo(()=>b,Object.values(b));return t.jsx(w.Provider,{value:y,children:v})};m.displayName=i+"Provider";function h(f,g){var w;const v=((w=g==null?void 0:g[e])==null?void 0:w[d])||l,b=p.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,h]}const n=()=>{const i=s.map(o=>p.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return n.scopeName=e,[a,mJ(n,...r)]}function mJ(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:m})=>{const f=d(i)[`__scope${m}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return s.scopeName=r.scopeName,s}var ls=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},hJ=xx[" useInsertionEffect ".trim().toString()]||ls;function vi({prop:e,defaultProp:r,onChange:s=()=>{},caller:a}){const[n,i,o]=fJ({defaultProp:r,onChange:s}),l=e!==void 0,d=l?e:n;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,a])}const m=p.useCallback(h=>{var f;if(l){const g=pJ(h)?h(e):h;g!==e&&((f=o.current)==null||f.call(o,g))}else i(h)},[l,e,i,o]);return[d,m]}function fJ({defaultProp:e,onChange:r}){const[s,a]=p.useState(e),n=p.useRef(s),i=p.useRef(r);return hJ(()=>{i.current=r},[r]),p.useEffect(()=>{var o;n.current!==s&&((o=i.current)==null||o.call(i,s),n.current=s)},[s,n]),[s,a,i]}function pJ(e){return typeof e=="function"}var gJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=gJ.reduce((e,r)=>{const s=nd(`Primitive.${r}`),a=p.forwardRef((n,i)=>{const{asChild:o,...l}=n,d=o?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function _S(e,r){e&&Jl.flushSync(()=>e.dispatchEvent(r))}function bf(e){const r=e+"CollectionProvider",[s,a]=qs(r),[n,i]=s(r,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:y,children:N}=w,C=le.useRef(null),S=le.useRef(new Map).current;return t.jsx(n,{scope:y,itemMap:S,collectionRef:C,children:N})};o.displayName=r;const l=e+"CollectionSlot",d=nd(l),m=le.forwardRef((w,y)=>{const{scope:N,children:C}=w,S=i(l,N),k=ut(y,S.collectionRef);return t.jsx(d,{ref:k,children:C})});m.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",g=nd(h),v=le.forwardRef((w,y)=>{const{scope:N,children:C,...S}=w,k=le.useRef(null),A=ut(y,k),E=i(h,N);return le.useEffect(()=>(E.itemMap.set(k,{ref:k,...S}),()=>void E.itemMap.delete(k))),t.jsx(g,{[f]:"",ref:A,children:C})});v.displayName=h;function b(w){const y=i(e+"CollectionConsumer",w);return le.useCallback(()=>{const C=y.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((E,T)=>S.indexOf(E.ref.current)-S.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:m,ItemSlot:v},b,a]}var xJ=p.createContext(void 0);function yd(e){const r=p.useContext(xJ);return e||r||"ltr"}function Zr(e){const r=p.useRef(e);return p.useEffect(()=>{r.current=e}),p.useMemo(()=>(...s)=>{var a;return(a=r.current)==null?void 0:a.call(r,...s)},[])}function yJ(e,r=globalThis==null?void 0:globalThis.document){const s=Zr(e);p.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var vJ="DismissableLayer",FN="dismissableLayer.update",bJ="dismissableLayer.pointerDownOutside",wJ="dismissableLayer.focusOutside",dA,nR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wf=p.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,m=p.useContext(nR),[h,f]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),b=ut(r,T=>f(T)),w=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(y),C=h?w.indexOf(h):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,k=C>=N,A=NJ(T=>{const M=T.target,L=[...m.branches].some(V=>V.contains(M));!k||L||(n==null||n(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),E=SJ(T=>{const M=T.target;[...m.branches].some(V=>V.contains(M))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return yJ(T=>{C===m.layers.size-1&&(a==null||a(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),p.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(dA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),uA(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=dA)}},[h,g,s,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),uA())},[h,m]),p.useEffect(()=>{const T=()=>v({});return document.addEventListener(FN,T),()=>document.removeEventListener(FN,T)},[]),t.jsx(He.div,{...d,ref:b,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,A.onPointerDownCapture)})});wf.displayName=vJ;var jJ="DismissableLayerBranch",iR=p.forwardRef((e,r)=>{const s=p.useContext(nR),a=p.useRef(null),n=ut(r,a);return p.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),t.jsx(He.div,{...e,ref:n})});iR.displayName=jJ;function NJ(e,r=globalThis==null?void 0:globalThis.document){const s=Zr(e),a=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){oR(bJ,s,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=d,r.addEventListener("click",n.current,{once:!0})):d()}else r.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",n.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function SJ(e,r=globalThis==null?void 0:globalThis.document){const s=Zr(e),a=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!a.current&&oR(wJ,s,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function uA(){const e=new CustomEvent(FN);document.dispatchEvent(e)}function oR(e,r,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?_S(n,i):n.dispatchEvent(i)}var CJ=wf,kJ=iR,rw=0;function PS(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mA()),document.body.insertAdjacentElement("beforeend",e[1]??mA()),rw++,()=>{rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),rw--}},[])}function mA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sw="focusScope.autoFocusOnMount",aw="focusScope.autoFocusOnUnmount",hA={bubbles:!1,cancelable:!0},_J="FocusScope",Rx=p.forwardRef((e,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,d]=p.useState(null),m=Zr(n),h=Zr(i),f=p.useRef(null),g=ut(r,w=>d(w)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let w=function(S){if(v.paused||!l)return;const k=S.target;l.contains(k)?f.current=k:Al(f.current,{select:!0})},y=function(S){if(v.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||Al(f.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Al(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const C=new MutationObserver(N);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),C.disconnect()}}},[a,l,v.paused]),p.useEffect(()=>{if(l){pA.add(v);const w=document.activeElement;if(!l.contains(w)){const N=new CustomEvent(sw,hA);l.addEventListener(sw,m),l.dispatchEvent(N),N.defaultPrevented||(PJ(MJ(lR(l)),{select:!0}),document.activeElement===w&&Al(l))}return()=>{l.removeEventListener(sw,m),setTimeout(()=>{const N=new CustomEvent(aw,hA);l.addEventListener(aw,h),l.dispatchEvent(N),N.defaultPrevented||Al(w??document.body,{select:!0}),l.removeEventListener(aw,h),pA.remove(v)},0)}}},[l,m,h,v]);const b=p.useCallback(w=>{if(!s&&!a||v.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(y&&N){const C=w.currentTarget,[S,k]=AJ(C);S&&k?!w.shiftKey&&N===k?(w.preventDefault(),s&&Al(S,{select:!0})):w.shiftKey&&N===S&&(w.preventDefault(),s&&Al(k,{select:!0})):N===C&&w.preventDefault()}},[s,a,v.paused]);return t.jsx(He.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Rx.displayName=_J;function PJ(e,{select:r=!1}={}){const s=document.activeElement;for(const a of e)if(Al(a,{select:r}),document.activeElement!==s)return}function AJ(e){const r=lR(e),s=fA(r,e),a=fA(r.reverse(),e);return[s,a]}function lR(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function fA(e,r){for(const s of e)if(!EJ(s,{upTo:r}))return s}function EJ(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TJ(e){return e instanceof HTMLInputElement&&"select"in e}function Al(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&TJ(e)&&r&&e.select()}}var pA=OJ();function OJ(){let e=[];return{add(r){const s=e[0];r!==s&&(s==null||s.pause()),e=gA(e,r),e.unshift(r)},remove(r){var s;e=gA(e,r),(s=e[0])==null||s.resume()}}}function gA(e,r){const s=[...e],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function MJ(e){return e.filter(r=>r.tagName!=="A")}var RJ=xx[" useId ".trim().toString()]||(()=>{}),IJ=0;function Bi(e){const[r,s]=p.useState(RJ());return ls(()=>{s(a=>a??String(IJ++))},[e]),r?`radix-${r}`:""}const DJ=["top","right","bottom","left"],Hl=Math.min,ln=Math.max,i0=Math.round,fg=Math.floor,Wi=e=>({x:e,y:e}),LJ={left:"right",right:"left",bottom:"top",top:"bottom"},$J={start:"end",end:"start"};function UN(e,r,s){return ln(e,Hl(r,s))}function Fo(e,r){return typeof e=="function"?e(r):e}function Uo(e){return e.split("-")[0]}function am(e){return e.split("-")[1]}function AS(e){return e==="x"?"y":"x"}function ES(e){return e==="y"?"height":"width"}const zJ=new Set(["top","bottom"]);function zi(e){return zJ.has(Uo(e))?"y":"x"}function TS(e){return AS(zi(e))}function FJ(e,r,s){s===void 0&&(s=!1);const a=am(e),n=TS(e),i=ES(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=o0(o)),[o,o0(o)]}function UJ(e){const r=o0(e);return[BN(e),r,BN(r)]}function BN(e){return e.replace(/start|end/g,r=>$J[r])}const xA=["left","right"],yA=["right","left"],BJ=["top","bottom"],WJ=["bottom","top"];function VJ(e,r,s){switch(e){case"top":case"bottom":return s?r?yA:xA:r?xA:yA;case"left":case"right":return r?BJ:WJ;default:return[]}}function qJ(e,r,s,a){const n=am(e);let i=VJ(Uo(e),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),r&&(i=i.concat(i.map(BN)))),i}function o0(e){return e.replace(/left|right|bottom|top/g,r=>LJ[r])}function HJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function cR(e){return typeof e!="number"?HJ(e):{top:e,right:e,bottom:e,left:e}}function l0(e){const{x:r,y:s,width:a,height:n}=e;return{width:a,height:n,top:s,left:r,right:r+a,bottom:s+n,x:r,y:s}}function vA(e,r,s){let{reference:a,floating:n}=e;const i=zi(r),o=TS(r),l=ES(o),d=Uo(r),m=i==="y",h=a.x+a.width/2-n.width/2,f=a.y+a.height/2-n.height/2,g=a[l]/2-n[l]/2;let v;switch(d){case"top":v={x:h,y:a.y-n.height};break;case"bottom":v={x:h,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:f};break;case"left":v={x:a.x-n.width,y:f};break;default:v={x:a.x,y:a.y}}switch(am(r)){case"start":v[o]-=g*(s&&m?-1:1);break;case"end":v[o]+=g*(s&&m?-1:1);break}return v}const KJ=async(e,r,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(r));let m=await o.getElementRects({reference:e,floating:r,strategy:n}),{x:h,y:f}=vA(m,a,d),g=a,v={},b=0;for(let w=0;w<l.length;w++){const{name:y,fn:N}=l[w],{x:C,y:S,data:k,reset:A}=await N({x:h,y:f,initialPlacement:a,placement:g,strategy:n,middlewareData:v,rects:m,platform:o,elements:{reference:e,floating:r}});h=C??h,f=S??f,v={...v,[y]:{...v[y],...k}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(m=A.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:n}):A.rects),{x:h,y:f}=vA(m,g,d)),w=-1)}return{x:h,y:f,placement:g,strategy:n,middlewareData:v}};async function Vh(e,r){var s;r===void 0&&(r={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:v=0}=Fo(r,e),b=cR(v),y=l[g?f==="floating"?"reference":"floating":f],N=l0(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(y)))==null||s?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:m,rootBoundary:h,strategy:d})),C=f==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=l0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:d}):C);return{top:(N.top-A.top+b.top)/k.y,bottom:(A.bottom-N.bottom+b.bottom)/k.y,left:(N.left-A.left+b.left)/k.x,right:(A.right-N.right+b.right)/k.x}}const GJ=e=>({name:"arrow",options:e,async fn(r){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:d}=r,{element:m,padding:h=0}=Fo(e,r)||{};if(m==null)return{};const f=cR(h),g={x:s,y:a},v=TS(n),b=ES(v),w=await o.getDimensions(m),y=v==="y",N=y?"top":"left",C=y?"bottom":"right",S=y?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[v]-g[v]-i.floating[b],A=g[v]-i.reference[v],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m));let T=E?E[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(E)))&&(T=l.floating[S]||i.floating[b]);const M=k/2-A/2,L=T/2-w[b]/2-1,V=Hl(f[N],L),R=Hl(f[C],L),I=V,B=T-w[b]-R,H=T/2-w[b]/2+M,F=UN(I,H,B),U=!d.arrow&&am(n)!=null&&H!==F&&i.reference[b]/2-(H<I?V:R)-w[b]/2<0,O=U?H<I?H-I:H-B:0;return{[v]:g[v]+O,data:{[v]:F,centerOffset:H-F-O,...U&&{alignmentOffset:O}},reset:U}}}),YJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:m}=r,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...y}=Fo(e,r);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const N=Uo(n),C=zi(l),S=Uo(l)===l,k=await(d.isRTL==null?void 0:d.isRTL(m.floating)),A=g||(S||!w?[o0(l)]:UJ(l)),E=b!=="none";!g&&E&&A.push(...qJ(l,w,b,k));const T=[l,...A],M=await Vh(r,y),L=[];let V=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&L.push(M[N]),f){const H=FJ(n,o,k);L.push(M[H[0]],M[H[1]])}if(V=[...V,{placement:n,overflows:L}],!L.every(H=>H<=0)){var R,I;const H=(((R=i.flip)==null?void 0:R.index)||0)+1,F=T[H];if(F&&(!(f==="alignment"?C!==zi(F):!1)||V.every($=>$.overflows[0]>0&&zi($.placement)===C)))return{data:{index:H,overflows:V},reset:{placement:F}};let U=(I=V.filter(O=>O.overflows[0]<=0).sort((O,$)=>O.overflows[1]-$.overflows[1])[0])==null?void 0:I.placement;if(!U)switch(v){case"bestFit":{var B;const O=(B=V.filter($=>{if(E){const W=zi($.placement);return W===C||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:B[0];O&&(U=O);break}case"initialPlacement":U=l;break}if(n!==U)return{reset:{placement:U}}}return{}}}};function bA(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function wA(e){return DJ.some(r=>e[r]>=0)}const JJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...n}=Fo(e,r);switch(a){case"referenceHidden":{const i=await Vh(r,{...n,elementContext:"reference"}),o=bA(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wA(o)}}}case"escaped":{const i=await Vh(r,{...n,altBoundary:!0}),o=bA(i,s.floating);return{data:{escapedOffsets:o,escaped:wA(o)}}}default:return{}}}}},dR=new Set(["left","top"]);async function XJ(e,r){const{placement:s,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Uo(s),l=am(s),d=zi(s)==="y",m=dR.has(o)?-1:1,h=i&&d?-1:1,f=Fo(r,e);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),d?{x:v*h,y:g*m}:{x:g*m,y:v*h}}const QJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=r,d=await XJ(r,e);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+d.x,y:i+d.y,data:{...d,placement:o}}}}},ZJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:s,y:a,placement:n}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:N,y:C}=y;return{x:N,y:C}}},...d}=Fo(e,r),m={x:s,y:a},h=await Vh(r,d),f=zi(Uo(n)),g=AS(f);let v=m[g],b=m[f];if(i){const y=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=v+h[y],S=v-h[N];v=UN(C,v,S)}if(o){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",C=b+h[y],S=b-h[N];b=UN(C,b,S)}const w=l.fn({...r,[g]:v,[f]:b});return{...w,data:{x:w.x-s,y:w.y-a,enabled:{[g]:i,[f]:o}}}}}},eX=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:d=!0,crossAxis:m=!0}=Fo(e,r),h={x:s,y:a},f=zi(n),g=AS(f);let v=h[g],b=h[f];const w=Fo(l,r),y=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const S=g==="y"?"height":"width",k=i.reference[g]-i.floating[S]+y.mainAxis,A=i.reference[g]+i.reference[S]-y.mainAxis;v<k?v=k:v>A&&(v=A)}if(m){var N,C;const S=g==="y"?"width":"height",k=dR.has(Uo(n)),A=i.reference[f]-i.floating[S]+(k&&((N=o.offset)==null?void 0:N[f])||0)+(k?0:y.crossAxis),E=i.reference[f]+i.reference[S]+(k?0:((C=o.offset)==null?void 0:C[f])||0)-(k?y.crossAxis:0);b<A?b=A:b>E&&(b=E)}return{[g]:v,[f]:b}}}},tX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var s,a;const{placement:n,rects:i,platform:o,elements:l}=r,{apply:d=()=>{},...m}=Fo(e,r),h=await Vh(r,m),f=Uo(n),g=am(n),v=zi(n)==="y",{width:b,height:w}=i.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,y=g==="end"?"top":"bottom");const C=w-h.top-h.bottom,S=b-h.left-h.right,k=Hl(w-h[y],C),A=Hl(b-h[N],S),E=!r.middlewareData.shift;let T=k,M=A;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(M=S),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(T=C),E&&!g){const V=ln(h.left,0),R=ln(h.right,0),I=ln(h.top,0),B=ln(h.bottom,0);v?M=b-2*(V!==0||R!==0?V+R:ln(h.left,h.right)):T=w-2*(I!==0||B!==0?I+B:ln(h.top,h.bottom))}await d({...r,availableWidth:M,availableHeight:T});const L=await o.getDimensions(l.floating);return b!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function Ix(){return typeof window<"u"}function nm(e){return uR(e)?(e.nodeName||"").toLowerCase():"#document"}function mn(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function io(e){var r;return(r=(uR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function uR(e){return Ix()?e instanceof Node||e instanceof mn(e).Node:!1}function bi(e){return Ix()?e instanceof Element||e instanceof mn(e).Element:!1}function Xi(e){return Ix()?e instanceof HTMLElement||e instanceof mn(e).HTMLElement:!1}function jA(e){return!Ix()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mn(e).ShadowRoot}const rX=new Set(["inline","contents"]);function jf(e){const{overflow:r,overflowX:s,overflowY:a,display:n}=wi(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!rX.has(n)}const sX=new Set(["table","td","th"]);function aX(e){return sX.has(nm(e))}const nX=[":popover-open",":modal"];function Dx(e){return nX.some(r=>{try{return e.matches(r)}catch{return!1}})}const iX=["transform","translate","scale","rotate","perspective"],oX=["transform","translate","scale","rotate","perspective","filter"],lX=["paint","layout","strict","content"];function OS(e){const r=MS(),s=bi(e)?wi(e):e;return iX.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||oX.some(a=>(s.willChange||"").includes(a))||lX.some(a=>(s.contain||"").includes(a))}function cX(e){let r=Kl(e);for(;Xi(r)&&!$u(r);){if(OS(r))return r;if(Dx(r))return null;r=Kl(r)}return null}function MS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dX=new Set(["html","body","#document"]);function $u(e){return dX.has(nm(e))}function wi(e){return mn(e).getComputedStyle(e)}function Lx(e){return bi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kl(e){if(nm(e)==="html")return e;const r=e.assignedSlot||e.parentNode||jA(e)&&e.host||io(e);return jA(r)?r.host:r}function mR(e){const r=Kl(e);return $u(r)?e.ownerDocument?e.ownerDocument.body:e.body:Xi(r)&&jf(r)?r:mR(r)}function qh(e,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const n=mR(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=mn(n);if(i){const l=WN(o);return r.concat(o,o.visualViewport||[],jf(n)?n:[],l&&s?qh(l):[])}return r.concat(n,qh(n,[],s))}function WN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hR(e){const r=wi(e);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const n=Xi(e),i=n?e.offsetWidth:s,o=n?e.offsetHeight:a,l=i0(s)!==i||i0(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function RS(e){return bi(e)?e:e.contextElement}function Pu(e){const r=RS(e);if(!Xi(r))return Wi(1);const s=r.getBoundingClientRect(),{width:a,height:n,$:i}=hR(r);let o=(i?i0(s.width):s.width)/a,l=(i?i0(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const uX=Wi(0);function fR(e){const r=mn(e);return!MS()||!r.visualViewport?uX:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function mX(e,r,s){return r===void 0&&(r=!1),!s||r&&s!==mn(e)?!1:r}function id(e,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=RS(e);let o=Wi(1);r&&(a?bi(a)&&(o=Pu(a)):o=Pu(e));const l=mX(i,s,a)?fR(i):Wi(0);let d=(n.left+l.x)/o.x,m=(n.top+l.y)/o.y,h=n.width/o.x,f=n.height/o.y;if(i){const g=mn(i),v=a&&bi(a)?mn(a):a;let b=g,w=WN(b);for(;w&&a&&v!==b;){const y=Pu(w),N=w.getBoundingClientRect(),C=wi(w),S=N.left+(w.clientLeft+parseFloat(C.paddingLeft))*y.x,k=N.top+(w.clientTop+parseFloat(C.paddingTop))*y.y;d*=y.x,m*=y.y,h*=y.x,f*=y.y,d+=S,m+=k,b=mn(w),w=WN(b)}}return l0({width:h,height:f,x:d,y:m})}function IS(e,r){const s=Lx(e).scrollLeft;return r?r.left+s:id(io(e)).left+s}function pR(e,r,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),n=a.left+r.scrollLeft-(s?0:IS(e,a)),i=a.top+r.scrollTop;return{x:n,y:i}}function hX(e){let{elements:r,rect:s,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=io(a),l=r?Dx(r.floating):!1;if(a===o||l&&i)return s;let d={scrollLeft:0,scrollTop:0},m=Wi(1);const h=Wi(0),f=Xi(a);if((f||!f&&!i)&&((nm(a)!=="body"||jf(o))&&(d=Lx(a)),Xi(a))){const v=id(a);m=Pu(a),h.x=v.x+a.clientLeft,h.y=v.y+a.clientTop}const g=o&&!f&&!i?pR(o,d,!0):Wi(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-d.scrollLeft*m.x+h.x+g.x,y:s.y*m.y-d.scrollTop*m.y+h.y+g.y}}function fX(e){return Array.from(e.getClientRects())}function pX(e){const r=io(e),s=Lx(e),a=e.ownerDocument.body,n=ln(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ln(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+IS(e);const l=-s.scrollTop;return wi(a).direction==="rtl"&&(o+=ln(r.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function gX(e,r){const s=mn(e),a=io(e),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(n){i=n.width,o=n.height;const m=MS();(!m||m&&r==="fixed")&&(l=n.offsetLeft,d=n.offsetTop)}return{width:i,height:o,x:l,y:d}}const xX=new Set(["absolute","fixed"]);function yX(e,r){const s=id(e,!0,r==="fixed"),a=s.top+e.clientTop,n=s.left+e.clientLeft,i=Xi(e)?Pu(e):Wi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=n*i.x,m=a*i.y;return{width:o,height:l,x:d,y:m}}function NA(e,r,s){let a;if(r==="viewport")a=gX(e,s);else if(r==="document")a=pX(io(e));else if(bi(r))a=yX(r,s);else{const n=fR(e);a={x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}return l0(a)}function gR(e,r){const s=Kl(e);return s===r||!bi(s)||$u(s)?!1:wi(s).position==="fixed"||gR(s,r)}function vX(e,r){const s=r.get(e);if(s)return s;let a=qh(e,[],!1).filter(l=>bi(l)&&nm(l)!=="body"),n=null;const i=wi(e).position==="fixed";let o=i?Kl(e):e;for(;bi(o)&&!$u(o);){const l=wi(o),d=OS(o);!d&&l.position==="fixed"&&(n=null),(i?!d&&!n:!d&&l.position==="static"&&!!n&&xX.has(n.position)||jf(o)&&!d&&gR(e,o))?a=a.filter(h=>h!==o):n=l,o=Kl(o)}return r.set(e,a),a}function bX(e){let{element:r,boundary:s,rootBoundary:a,strategy:n}=e;const o=[...s==="clippingAncestors"?Dx(r)?[]:vX(r,this._c):[].concat(s),a],l=o[0],d=o.reduce((m,h)=>{const f=NA(r,h,n);return m.top=ln(f.top,m.top),m.right=Hl(f.right,m.right),m.bottom=Hl(f.bottom,m.bottom),m.left=ln(f.left,m.left),m},NA(r,l,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function wX(e){const{width:r,height:s}=hR(e);return{width:r,height:s}}function jX(e,r,s){const a=Xi(r),n=io(r),i=s==="fixed",o=id(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const d=Wi(0);function m(){d.x=IS(n)}if(a||!a&&!i)if((nm(r)!=="body"||jf(n))&&(l=Lx(r)),a){const v=id(r,!0,i,r);d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}else n&&m();i&&!a&&n&&m();const h=n&&!a&&!i?pR(n,l):Wi(0),f=o.left+l.scrollLeft-d.x-h.x,g=o.top+l.scrollTop-d.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function nw(e){return wi(e).position==="static"}function SA(e,r){if(!Xi(e)||wi(e).position==="fixed")return null;if(r)return r(e);let s=e.offsetParent;return io(e)===s&&(s=s.ownerDocument.body),s}function xR(e,r){const s=mn(e);if(Dx(e))return s;if(!Xi(e)){let n=Kl(e);for(;n&&!$u(n);){if(bi(n)&&!nw(n))return n;n=Kl(n)}return s}let a=SA(e,r);for(;a&&aX(a)&&nw(a);)a=SA(a,r);return a&&$u(a)&&nw(a)&&!OS(a)?s:a||cX(e)||s}const NX=async function(e){const r=this.getOffsetParent||xR,s=this.getDimensions,a=await s(e.floating);return{reference:jX(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function SX(e){return wi(e).direction==="rtl"}const CX={convertOffsetParentRelativeRectToViewportRelativeRect:hX,getDocumentElement:io,getClippingRect:bX,getOffsetParent:xR,getElementRects:NX,getClientRects:fX,getDimensions:wX,getScale:Pu,isElement:bi,isRTL:SX};function yR(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function kX(e,r){let s=null,a;const n=io(e);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const m=e.getBoundingClientRect(),{left:h,top:f,width:g,height:v}=m;if(l||r(),!g||!v)return;const b=fg(f),w=fg(n.clientWidth-(h+g)),y=fg(n.clientHeight-(f+v)),N=fg(h),S={rootMargin:-b+"px "+-w+"px "+-y+"px "+-N+"px",threshold:ln(0,Hl(1,d))||1};let k=!0;function A(E){const T=E[0].intersectionRatio;if(T!==d){if(!k)return o();T?o(!1,T):a=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!yR(m,e.getBoundingClientRect())&&o(),k=!1}try{s=new IntersectionObserver(A,{...S,root:n.ownerDocument})}catch{s=new IntersectionObserver(A,S)}s.observe(e)}return o(!0),i}function _X(e,r,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,m=RS(e),h=n||i?[...m?qh(m):[],...qh(r)]:[];h.forEach(N=>{n&&N.addEventListener("scroll",s,{passive:!0}),i&&N.addEventListener("resize",s)});const f=m&&l?kX(m,s):null;let g=-1,v=null;o&&(v=new ResizeObserver(N=>{let[C]=N;C&&C.target===m&&v&&(v.unobserve(r),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(r)})),s()}),m&&!d&&v.observe(m),v.observe(r));let b,w=d?id(e):null;d&&y();function y(){const N=id(e);w&&!yR(w,N)&&s(),w=N,b=requestAnimationFrame(y)}return s(),()=>{var N;h.forEach(C=>{n&&C.removeEventListener("scroll",s),i&&C.removeEventListener("resize",s)}),f==null||f(),(N=v)==null||N.disconnect(),v=null,d&&cancelAnimationFrame(b)}}const PX=QJ,AX=ZJ,EX=YJ,TX=tX,OX=JJ,CA=GJ,MX=eX,RX=(e,r,s)=>{const a=new Map,n={platform:CX,...s},i={...n.platform,_c:a};return KJ(e,r,{...n,platform:i})};var IX=typeof document<"u",DX=function(){},zg=IX?p.useLayoutEffect:DX;function c0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let s,a,n;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!c0(e[a],r[a]))return!1;return!0}if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!c0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function vR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kA(e,r){const s=vR(e);return Math.round(r*s)/s}function iw(e){const r=p.useRef(e);return zg(()=>{r.current=e}),r}function LX(e){e===void 0&&(e={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[h,f]=p.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[g,v]=p.useState(a);c0(g,a)||v(a);const[b,w]=p.useState(null),[y,N]=p.useState(null),C=p.useCallback($=>{$!==E.current&&(E.current=$,w($))},[]),S=p.useCallback($=>{$!==T.current&&(T.current=$,N($))},[]),k=i||b,A=o||y,E=p.useRef(null),T=p.useRef(null),M=p.useRef(h),L=d!=null,V=iw(d),R=iw(n),I=iw(m),B=p.useCallback(()=>{if(!E.current||!T.current)return;const $={placement:r,strategy:s,middleware:g};R.current&&($.platform=R.current),RX(E.current,T.current,$).then(W=>{const q={...W,isPositioned:I.current!==!1};H.current&&!c0(M.current,q)&&(M.current=q,Jl.flushSync(()=>{f(q)}))})},[g,r,s,R,I]);zg(()=>{m===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[m]);const H=p.useRef(!1);zg(()=>(H.current=!0,()=>{H.current=!1}),[]),zg(()=>{if(k&&(E.current=k),A&&(T.current=A),k&&A){if(V.current)return V.current(k,A,B);B()}},[k,A,B,V,L]);const F=p.useMemo(()=>({reference:E,floating:T,setReference:C,setFloating:S}),[C,S]),U=p.useMemo(()=>({reference:k,floating:A}),[k,A]),O=p.useMemo(()=>{const $={position:s,left:0,top:0};if(!U.floating)return $;const W=kA(U.floating,h.x),q=kA(U.floating,h.y);return l?{...$,transform:"translate("+W+"px, "+q+"px)",...vR(U.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:W,top:q}},[s,l,U.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:B,refs:F,elements:U,floatingStyles:O}),[h,B,F,U,O])}const $X=e=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:n}=typeof e=="function"?e(s):e;return a&&r(a)?a.current!=null?CA({element:a.current,padding:n}).fn(s):{}:a?CA({element:a,padding:n}).fn(s):{}}}},zX=(e,r)=>({...PX(e),options:[e,r]}),FX=(e,r)=>({...AX(e),options:[e,r]}),UX=(e,r)=>({...MX(e),options:[e,r]}),BX=(e,r)=>({...EX(e),options:[e,r]}),WX=(e,r)=>({...TX(e),options:[e,r]}),VX=(e,r)=>({...OX(e),options:[e,r]}),qX=(e,r)=>({...$X(e),options:[e,r]});var HX="Arrow",bR=p.forwardRef((e,r)=>{const{children:s,width:a=10,height:n=5,...i}=e;return t.jsx(He.svg,{...i,ref:r,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});bR.displayName=HX;var KX=bR;function Nf(e){const[r,s]=p.useState(void 0);return ls(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;o=m.inlineSize,l=m.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),r}var DS="Popper",[wR,$x]=qs(DS),[GX,jR]=wR(DS),NR=e=>{const{__scopePopper:r,children:s}=e,[a,n]=p.useState(null);return t.jsx(GX,{scope:r,anchor:a,onAnchorChange:n,children:s})};NR.displayName=DS;var SR="PopperAnchor",CR=p.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:a,...n}=e,i=jR(SR,s),o=p.useRef(null),l=ut(r,o);return p.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:t.jsx(He.div,{...n,ref:l})});CR.displayName=SR;var LS="PopperContent",[YX,JX]=wR(LS),kR=p.forwardRef((e,r)=>{var ke,Ie,ce,Ce,Te,te;const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...w}=e,y=jR(LS,s),[N,C]=p.useState(null),S=ut(r,we=>C(we)),[k,A]=p.useState(null),E=Nf(k),T=(E==null?void 0:E.width)??0,M=(E==null?void 0:E.height)??0,L=a+(i!=="center"?"-"+i:""),V=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(m)?m:[m],I=R.length>0,B={padding:V,boundary:R.filter(QX),altBoundary:I},{refs:H,floatingStyles:F,placement:U,isPositioned:O,middlewareData:$}=LX({strategy:"fixed",placement:L,whileElementsMounted:(...we)=>_X(...we,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[zX({mainAxis:n+M,alignmentAxis:o}),d&&FX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?UX():void 0,...B}),d&&BX({...B}),WX({...B,apply:({elements:we,rects:Oe,availableWidth:Ue,availableHeight:ie})=>{const{width:Ge,height:Ct}=Oe.reference,Ot=we.floating.style;Ot.setProperty("--radix-popper-available-width",`${Ue}px`),Ot.setProperty("--radix-popper-available-height",`${ie}px`),Ot.setProperty("--radix-popper-anchor-width",`${Ge}px`),Ot.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),k&&qX({element:k,padding:l}),ZX({arrowWidth:T,arrowHeight:M}),g&&VX({strategy:"referenceHidden",...B})]}),[W,q]=AR(U),z=Zr(b);ls(()=>{O&&(z==null||z())},[O,z]);const Q=(ke=$.arrow)==null?void 0:ke.x,Ae=(Ie=$.arrow)==null?void 0:Ie.y,de=((ce=$.arrow)==null?void 0:ce.centerOffset)!==0,[Z,be]=p.useState();return ls(()=>{N&&be(window.getComputedStyle(N).zIndex)},[N]),t.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:O?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(Ce=$.transformOrigin)==null?void 0:Ce.x,(Te=$.transformOrigin)==null?void 0:Te.y].join(" "),...((te=$.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(YX,{scope:s,placedSide:W,onArrowChange:A,arrowX:Q,arrowY:Ae,shouldHideArrow:de,children:t.jsx(He.div,{"data-side":W,"data-align":q,...w,ref:S,style:{...w.style,animation:O?void 0:"none"}})})})});kR.displayName=LS;var _R="PopperArrow",XX={top:"bottom",right:"left",bottom:"top",left:"right"},PR=p.forwardRef(function(r,s){const{__scopePopper:a,...n}=r,i=JX(_R,a),o=XX[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(KX,{...n,ref:s,style:{...n.style,display:"block"}})})});PR.displayName=_R;function QX(e){return e!==null}var ZX=e=>({name:"transformOrigin",options:e,fn(r){var y,N,C;const{placement:s,rects:a,middlewareData:n}=r,o=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[m,h]=AR(s),f={start:"0%",center:"50%",end:"100%"}[h],g=(((N=n.arrow)==null?void 0:N.x)??0)+l/2,v=(((C=n.arrow)==null?void 0:C.y)??0)+d/2;let b="",w="";return m==="bottom"?(b=o?f:`${g}px`,w=`${-d}px`):m==="top"?(b=o?f:`${g}px`,w=`${a.floating.height+d}px`):m==="right"?(b=`${-d}px`,w=o?f:`${v}px`):m==="left"&&(b=`${a.floating.width+d}px`,w=o?f:`${v}px`),{data:{x:b,y:w}}}});function AR(e){const[r,s="center"]=e.split("-");return[r,s]}var ER=NR,TR=CR,OR=kR,MR=PR,eQ="Portal",Sf=p.forwardRef((e,r)=>{var l;const{container:s,...a}=e,[n,i]=p.useState(!1);ls(()=>i(!0),[]);const o=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?kB.createPortal(t.jsx(He.div,{...a,ref:r}),o):null});Sf.displayName=eQ;function tQ(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var wa=e=>{const{present:r,children:s}=e,a=rQ(r),n=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),i=ut(a.ref,sQ(n));return typeof s=="function"||a.isPresent?p.cloneElement(n,{ref:i}):null};wa.displayName="Presence";function rQ(e){const[r,s]=p.useState(),a=p.useRef(null),n=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,d]=tQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=pg(a.current);i.current=l==="mounted"?m:"none"},[l]),ls(()=>{const m=a.current,h=n.current;if(h!==e){const g=i.current,v=pg(m);e?d("MOUNT"):v==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(h&&g!==v?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,d]),ls(()=>{if(r){let m;const h=r.ownerDocument.defaultView??window,f=v=>{const w=pg(a.current).includes(v.animationName);if(v.target===r&&w&&(d("ANIMATION_END"),!n.current)){const y=r.style.animationFillMode;r.style.animationFillMode="forwards",m=h.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=y)})}},g=v=>{v.target===r&&(i.current=pg(a.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{h.clearTimeout(m),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,s(m)},[])}}function pg(e){return(e==null?void 0:e.animationName)||"none"}function sQ(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ow="rovingFocusGroup.onEntryFocus",aQ={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[VN,RR,nQ]=bf(Cf),[iQ,im]=qs(Cf,[nQ]),[oQ,lQ]=iQ(Cf),IR=p.forwardRef((e,r)=>t.jsx(VN.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(VN.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(cQ,{...e,ref:r})})}));IR.displayName=Cf;var cQ=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...f}=e,g=p.useRef(null),v=ut(r,g),b=yd(i),[w,y]=vi({prop:o,defaultProp:l??null,onChange:d,caller:Cf}),[N,C]=p.useState(!1),S=Zr(m),k=RR(s),A=p.useRef(!1),[E,T]=p.useState(0);return p.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(ow,S),()=>M.removeEventListener(ow,S)},[S]),t.jsx(oQ,{scope:s,orientation:a,dir:b,loop:n,currentTabStopId:w,onItemFocus:p.useCallback(M=>y(M),[y]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>T(M=>M-1),[]),children:t.jsx(He.div,{tabIndex:N||E===0?-1:0,"data-orientation":a,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{A.current=!0}),onFocus:Le(e.onFocus,M=>{const L=!A.current;if(M.target===M.currentTarget&&L&&!N){const V=new CustomEvent(ow,aQ);if(M.currentTarget.dispatchEvent(V),!V.defaultPrevented){const R=k().filter(U=>U.focusable),I=R.find(U=>U.active),B=R.find(U=>U.id===w),F=[I,B,...R].filter(Boolean).map(U=>U.ref.current);$R(F,h)}}A.current=!1}),onBlur:Le(e.onBlur,()=>C(!1))})})}),DR="RovingFocusGroupItem",LR=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,d=Bi(),m=i||d,h=lQ(DR,s),f=h.currentTabStopId===m,g=RR(s),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:w}=h;return p.useEffect(()=>{if(a)return v(),()=>b()},[a,v,b]),t.jsx(VN.ItemSlot,{scope:s,id:m,focusable:a,active:n,children:t.jsx(He.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:r,onMouseDown:Le(e.onMouseDown,y=>{a?h.onItemFocus(m):y.preventDefault()}),onFocus:Le(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:Le(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=mQ(y,h.orientation,h.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=g().filter(k=>k.focusable).map(k=>k.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const k=S.indexOf(y.currentTarget);S=h.loop?hQ(S,k+1):S.slice(k+1)}setTimeout(()=>$R(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});LR.displayName=DR;var dQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uQ(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mQ(e,r,s){const a=uQ(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return dQ[a]}function $R(e,r=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function hQ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var $S=IR,zS=LR,fQ=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},mu=new WeakMap,gg=new WeakMap,xg={},lw=0,zR=function(e){return e&&(e.host||zR(e.parentNode))},pQ=function(e,r){return r.map(function(s){if(e.contains(s))return s;var a=zR(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},gQ=function(e,r,s,a){var n=pQ(r,Array.isArray(e)?e:[e]);xg[s]||(xg[s]=new WeakMap);var i=xg[s],o=[],l=new Set,d=new Set(n),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};n.forEach(m);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))h(g);else try{var v=g.getAttribute(a),b=v!==null&&v!=="false",w=(mu.get(g)||0)+1,y=(i.get(g)||0)+1;mu.set(g,w),i.set(g,y),o.push(g),w===1&&b&&gg.set(g,!0),y===1&&g.setAttribute(s,"true"),b||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(r),l.clear(),lw++,function(){o.forEach(function(f){var g=mu.get(f)-1,v=i.get(f)-1;mu.set(f,g),i.set(f,v),g||(gg.has(f)||f.removeAttribute(a),gg.delete(f)),v||f.removeAttribute(s)}),lw--,lw||(mu=new WeakMap,mu=new WeakMap,gg=new WeakMap,xg={})}},FS=function(e,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=fQ(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),gQ(a,n,s,"aria-hidden")):function(){return null}},$i=function(){return $i=Object.assign||function(r){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},$i.apply(this,arguments)};function FR(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function xQ(e,r,s){if(s||arguments.length===2)for(var a=0,n=r.length,i;a<n;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var Fg="right-scroll-bar-position",Ug="width-before-scroll-bar",yQ="with-scroll-bars-hidden",vQ="--removed-body-scroll-bar-size";function cw(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function bQ(e,r){var s=p.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=r,s.facade}var wQ=typeof window<"u"?p.useLayoutEffect:p.useEffect,_A=new WeakMap;function jQ(e,r){var s=bQ(null,function(a){return e.forEach(function(n){return cw(n,a)})});return wQ(function(){var a=_A.get(s);if(a){var n=new Set(a),i=new Set(e),o=s.current;n.forEach(function(l){i.has(l)||cw(l,null)}),i.forEach(function(l){n.has(l)||cw(l,o)})}_A.set(s,e)},[e]),s}function NQ(e){return e}function SQ(e,r){r===void 0&&(r=NQ);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=r(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var d=function(){var h=o;o=[],h.forEach(i)},m=function(){return Promise.resolve().then(d)};m(),s={push:function(h){o.push(h),m()},filter:function(h){return o=o.filter(h),s}}}};return n}function CQ(e){e===void 0&&(e={});var r=SQ(null);return r.options=$i({async:!0,ssr:!1},e),r}var UR=function(e){var r=e.sideCar,s=FR(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,$i({},s))};UR.isSideCarExport=!0;function kQ(e,r){return e.useMedium(r),UR}var BR=CQ(),dw=function(){},zx=p.forwardRef(function(e,r){var s=p.useRef(null),a=p.useState({onScrollCapture:dw,onWheelCapture:dw,onTouchMoveCapture:dw}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,f=e.shards,g=e.sideCar,v=e.noRelative,b=e.noIsolation,w=e.inert,y=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,S=e.gapMode,k=FR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,E=jQ([s,r]),T=$i($i({},k),n);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:BR,removeScrollBar:m,shards:f,noRelative:v,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:s,gapMode:S}),o?p.cloneElement(p.Children.only(l),$i($i({},T),{ref:E})):p.createElement(C,$i({},T,{className:d,ref:E}),l))});zx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zx.classNames={fullWidth:Ug,zeroRight:Fg};var _Q=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=_Q();return r&&e.setAttribute("nonce",r),e}function AQ(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function EQ(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var TQ=function(){var e=0,r=null;return{add:function(s){e==0&&(r=PQ())&&(AQ(r,s),EQ(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},OQ=function(){var e=TQ();return function(r,s){p.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},WR=function(){var e=OQ(),r=function(s){var a=s.styles,n=s.dynamic;return e(a,n),null};return r},MQ={left:0,top:0,right:0,gap:0},uw=function(e){return parseInt(e||"",10)||0},RQ=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],n=r[e==="padding"?"paddingRight":"marginRight"];return[uw(s),uw(a),uw(n)]},IQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MQ;var r=RQ(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},DQ=WR(),Au="data-scroll-locked",LQ=function(e,r,s,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(yQ,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Au,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Ug,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Fg," .").concat(Fg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Ug," .").concat(Ug,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Au,`] {
    `).concat(vQ,": ").concat(l,`px;
  }
`)},PA=function(){var e=parseInt(document.body.getAttribute(Au)||"0",10);return isFinite(e)?e:0},$Q=function(){p.useEffect(function(){return document.body.setAttribute(Au,(PA()+1).toString()),function(){var e=PA()-1;e<=0?document.body.removeAttribute(Au):document.body.setAttribute(Au,e.toString())}},[])},zQ=function(e){var r=e.noRelative,s=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;$Q();var i=p.useMemo(function(){return IQ(n)},[n]);return p.createElement(DQ,{styles:LQ(i,!r,n,s?"":"!important")})},qN=!1;if(typeof window<"u")try{var yg=Object.defineProperty({},"passive",{get:function(){return qN=!0,!0}});window.addEventListener("test",yg,yg),window.removeEventListener("test",yg,yg)}catch{qN=!1}var hu=qN?{passive:!1}:!1,FQ=function(e){return e.tagName==="TEXTAREA"},VR=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!FQ(e)&&s[r]==="visible")},UQ=function(e){return VR(e,"overflowY")},BQ=function(e){return VR(e,"overflowX")},AA=function(e,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=qR(e,a);if(n){var i=HR(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},WQ=function(e){var r=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[r,s,a]},VQ=function(e){var r=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[r,s,a]},qR=function(e,r){return e==="v"?UQ(r):BQ(r)},HR=function(e,r){return e==="v"?WQ(r):VQ(r)},qQ=function(e,r){return e==="h"&&r==="rtl"?-1:1},HQ=function(e,r,s,a,n){var i=qQ(e,window.getComputedStyle(r).direction),o=i*a,l=s.target,d=r.contains(l),m=!1,h=o>0,f=0,g=0;do{if(!l)break;var v=HR(e,l),b=v[0],w=v[1],y=v[2],N=w-y-i*b;(b||N)&&qR(e,l)&&(f+=N,g+=b);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&l!==document.body||d&&(r.contains(l)||r===l));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(m=!0),m},vg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},EA=function(e){return[e.deltaX,e.deltaY]},TA=function(e){return e&&"current"in e?e.current:e},KQ=function(e,r){return e[0]===r[0]&&e[1]===r[1]},GQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},YQ=0,fu=[];function JQ(e){var r=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),n=p.useState(YQ++)[0],i=p.useState(WR)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var w=xQ([e.lockRef.current],(e.shards||[]).map(TA),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var N=vg(w),C=s.current,S="deltaX"in w?w.deltaX:C[0]-N[0],k="deltaY"in w?w.deltaY:C[1]-N[1],A,E=w.target,T=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in w&&T==="h"&&E.type==="range")return!1;var M=AA(T,E);if(!M)return!0;if(M?A=T:(A=T==="v"?"h":"v",M=AA(T,E)),!M)return!1;if(!a.current&&"changedTouches"in w&&(S||k)&&(a.current=A),!A)return!0;var L=a.current||A;return HQ(L,y,w,L==="h"?S:k)},[]),d=p.useCallback(function(w){var y=w;if(!(!fu.length||fu[fu.length-1]!==i)){var N="deltaY"in y?EA(y):vg(y),C=r.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&KQ(A.delta,N)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var S=(o.current.shards||[]).map(TA).filter(Boolean).filter(function(A){return A.contains(y.target)}),k=S.length>0?l(y,S[0]):!o.current.noIsolation;k&&y.cancelable&&y.preventDefault()}}},[]),m=p.useCallback(function(w,y,N,C){var S={name:w,delta:y,target:N,should:C,shadowParent:XQ(N)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(k){return k!==S})},1)},[]),h=p.useCallback(function(w){s.current=vg(w),a.current=void 0},[]),f=p.useCallback(function(w){m(w.type,EA(w),w.target,l(w,e.lockRef.current))},[]),g=p.useCallback(function(w){m(w.type,vg(w),w.target,l(w,e.lockRef.current))},[]);p.useEffect(function(){return fu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,hu),document.addEventListener("touchmove",d,hu),document.addEventListener("touchstart",h,hu),function(){fu=fu.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,hu),document.removeEventListener("touchmove",d,hu),document.removeEventListener("touchstart",h,hu)}},[]);var v=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:GQ(n)}):null,v?p.createElement(zQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XQ(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const QQ=kQ(BR,JQ);var Fx=p.forwardRef(function(e,r){return p.createElement(zx,$i({},e,{ref:r,sideCar:QQ}))});Fx.classNames=zx.classNames;var HN=["Enter"," "],ZQ=["ArrowDown","PageUp","Home"],KR=["ArrowUp","PageDown","End"],eZ=[...ZQ,...KR],tZ={ltr:[...HN,"ArrowRight"],rtl:[...HN,"ArrowLeft"]},rZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kf="Menu",[Hh,sZ,aZ]=bf(kf),[vd,GR]=qs(kf,[aZ,$x,im]),Ux=$x(),YR=im(),[nZ,bd]=vd(kf),[iZ,_f]=vd(kf),JR=e=>{const{__scopeMenu:r,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=Ux(r),[d,m]=p.useState(null),h=p.useRef(!1),f=Zr(i),g=yd(n);return p.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),t.jsx(ER,{...l,children:t.jsx(nZ,{scope:r,open:s,onOpenChange:f,content:d,onContentChange:m,children:t.jsx(iZ,{scope:r,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:o,children:a})})})};JR.displayName=kf;var oZ="MenuAnchor",US=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=Ux(s);return t.jsx(TR,{...n,...a,ref:r})});US.displayName=oZ;var BS="MenuPortal",[lZ,XR]=vd(BS,{forceMount:void 0}),QR=e=>{const{__scopeMenu:r,forceMount:s,children:a,container:n}=e,i=bd(BS,r);return t.jsx(lZ,{scope:r,forceMount:s,children:t.jsx(wa,{present:s||i.open,children:t.jsx(Sf,{asChild:!0,container:n,children:a})})})};QR.displayName=BS;var Wn="MenuContent",[cZ,WS]=vd(Wn),ZR=p.forwardRef((e,r)=>{const s=XR(Wn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=bd(Wn,e.__scopeMenu),o=_f(Wn,e.__scopeMenu);return t.jsx(Hh.Provider,{scope:e.__scopeMenu,children:t.jsx(wa,{present:a||i.open,children:t.jsx(Hh.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(dZ,{...n,ref:r}):t.jsx(uZ,{...n,ref:r})})})})}),dZ=p.forwardRef((e,r)=>{const s=bd(Wn,e.__scopeMenu),a=p.useRef(null),n=ut(r,a);return p.useEffect(()=>{const i=a.current;if(i)return FS(i)},[]),t.jsx(VS,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),uZ=p.forwardRef((e,r)=>{const s=bd(Wn,e.__scopeMenu);return t.jsx(VS,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),mZ=nd("MenuContent.ScrollLock"),VS=p.forwardRef((e,r)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:v,disableOutsideScroll:b,...w}=e,y=bd(Wn,s),N=_f(Wn,s),C=Ux(s),S=YR(s),k=sZ(s),[A,E]=p.useState(null),T=p.useRef(null),M=ut(r,T,y.onContentChange),L=p.useRef(0),V=p.useRef(""),R=p.useRef(0),I=p.useRef(null),B=p.useRef("right"),H=p.useRef(0),F=b?Fx:p.Fragment,U=b?{as:mZ,allowPinchZoom:!0}:void 0,O=W=>{var ke,Ie;const q=V.current+W,z=k().filter(ce=>!ce.disabled),Q=document.activeElement,Ae=(ke=z.find(ce=>ce.ref.current===Q))==null?void 0:ke.textValue,de=z.map(ce=>ce.textValue),Z=SZ(de,q,Ae),be=(Ie=z.find(ce=>ce.textValue===Z))==null?void 0:Ie.ref.current;(function ce(Ce){V.current=Ce,window.clearTimeout(L.current),Ce!==""&&(L.current=window.setTimeout(()=>ce(""),1e3))})(q),be&&setTimeout(()=>be.focus())};p.useEffect(()=>()=>window.clearTimeout(L.current),[]),PS();const $=p.useCallback(W=>{var z,Q;return B.current===((z=I.current)==null?void 0:z.side)&&kZ(W,(Q=I.current)==null?void 0:Q.area)},[]);return t.jsx(cZ,{scope:s,searchRef:V,onItemEnter:p.useCallback(W=>{$(W)&&W.preventDefault()},[$]),onItemLeave:p.useCallback(W=>{var q;$(W)||((q=T.current)==null||q.focus(),E(null))},[$]),onTriggerLeave:p.useCallback(W=>{$(W)&&W.preventDefault()},[$]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback(W=>{I.current=W},[]),children:t.jsx(F,{...U,children:t.jsx(Rx,{asChild:!0,trapped:n,onMountAutoFocus:Le(i,W=>{var q;W.preventDefault(),(q=T.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx(wf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:v,children:t.jsx($S,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:A,onCurrentTabStopIdChange:E,onEntryFocus:Le(d,W=>{N.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(OR,{role:"menu","aria-orientation":"vertical","data-state":pI(y.open),"data-radix-menu-content":"",dir:N.dir,...C,...w,ref:M,style:{outline:"none",...w.style},onKeyDown:Le(w.onKeyDown,W=>{const z=W.target.closest("[data-radix-menu-content]")===W.currentTarget,Q=W.ctrlKey||W.altKey||W.metaKey,Ae=W.key.length===1;z&&(W.key==="Tab"&&W.preventDefault(),!Q&&Ae&&O(W.key));const de=T.current;if(W.target!==de||!eZ.includes(W.key))return;W.preventDefault();const be=k().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);KR.includes(W.key)&&be.reverse(),jZ(be)}),onBlur:Le(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(L.current),V.current="")}),onPointerMove:Le(e.onPointerMove,Kh(W=>{const q=W.target,z=H.current!==W.clientX;if(W.currentTarget.contains(q)&&z){const Q=W.clientX>H.current?"right":"left";B.current=Q,H.current=W.clientX}}))})})})})})})});ZR.displayName=Wn;var hZ="MenuGroup",qS=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{role:"group",...a,ref:r})});qS.displayName=hZ;var fZ="MenuLabel",eI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});eI.displayName=fZ;var d0="MenuItem",OA="menu.itemSelect",Bx=p.forwardRef((e,r)=>{const{disabled:s=!1,onSelect:a,...n}=e,i=p.useRef(null),o=_f(d0,e.__scopeMenu),l=WS(d0,e.__scopeMenu),d=ut(r,i),m=p.useRef(!1),h=()=>{const f=i.current;if(!s&&f){const g=new CustomEvent(OA,{bubbles:!0,cancelable:!0});f.addEventListener(OA,v=>a==null?void 0:a(v),{once:!0}),_S(f,g),g.defaultPrevented?m.current=!1:o.onClose()}};return t.jsx(tI,{...n,ref:d,disabled:s,onClick:Le(e.onClick,h),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),m.current=!0},onPointerUp:Le(e.onPointerUp,f=>{var g;m.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:Le(e.onKeyDown,f=>{const g=l.searchRef.current!=="";s||g&&f.key===" "||HN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Bx.displayName=d0;var tI=p.forwardRef((e,r)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=e,o=WS(d0,s),l=YR(s),d=p.useRef(null),m=ut(r,d),[h,f]=p.useState(!1),[g,v]=p.useState("");return p.useEffect(()=>{const b=d.current;b&&v((b.textContent??"").trim())},[i.children]),t.jsx(Hh.ItemSlot,{scope:s,disabled:a,textValue:n??g,children:t.jsx(zS,{asChild:!0,...l,focusable:!a,children:t.jsx(He.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:m,onPointerMove:Le(e.onPointerMove,Kh(b=>{a?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,Kh(b=>o.onItemLeave(b))),onFocus:Le(e.onFocus,()=>f(!0)),onBlur:Le(e.onBlur,()=>f(!1))})})})}),pZ="MenuCheckboxItem",rI=p.forwardRef((e,r)=>{const{checked:s=!1,onCheckedChange:a,...n}=e;return t.jsx(oI,{scope:e.__scopeMenu,checked:s,children:t.jsx(Bx,{role:"menuitemcheckbox","aria-checked":u0(s)?"mixed":s,...n,ref:r,"data-state":KS(s),onSelect:Le(n.onSelect,()=>a==null?void 0:a(u0(s)?!0:!s),{checkForDefaultPrevented:!1})})})});rI.displayName=pZ;var sI="MenuRadioGroup",[gZ,xZ]=vd(sI,{value:void 0,onValueChange:()=>{}}),aI=p.forwardRef((e,r)=>{const{value:s,onValueChange:a,...n}=e,i=Zr(a);return t.jsx(gZ,{scope:e.__scopeMenu,value:s,onValueChange:i,children:t.jsx(qS,{...n,ref:r})})});aI.displayName=sI;var nI="MenuRadioItem",iI=p.forwardRef((e,r)=>{const{value:s,...a}=e,n=xZ(nI,e.__scopeMenu),i=s===n.value;return t.jsx(oI,{scope:e.__scopeMenu,checked:i,children:t.jsx(Bx,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":KS(i),onSelect:Le(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,s)},{checkForDefaultPrevented:!1})})})});iI.displayName=nI;var HS="MenuItemIndicator",[oI,yZ]=vd(HS,{checked:!1}),lI=p.forwardRef((e,r)=>{const{__scopeMenu:s,forceMount:a,...n}=e,i=yZ(HS,s);return t.jsx(wa,{present:a||u0(i.checked)||i.checked===!0,children:t.jsx(He.span,{...n,ref:r,"data-state":KS(i.checked)})})});lI.displayName=HS;var vZ="MenuSeparator",cI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});cI.displayName=vZ;var bZ="MenuArrow",dI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=Ux(s);return t.jsx(MR,{...n,...a,ref:r})});dI.displayName=bZ;var wZ="MenuSub",[p1e,uI]=vd(wZ),_h="MenuSubTrigger",mI=p.forwardRef((e,r)=>{const s=bd(_h,e.__scopeMenu),a=_f(_h,e.__scopeMenu),n=uI(_h,e.__scopeMenu),i=WS(_h,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,m={__scopeMenu:e.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),t.jsx(US,{asChild:!0,...m,children:t.jsx(tI,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":pI(s.open),...e,ref:Mx(r,n.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,Kh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:Le(e.onPointerLeave,Kh(f=>{var v,b;h();const g=(v=s.content)==null?void 0:v.getBoundingClientRect();if(g){const w=(b=s.content)==null?void 0:b.dataset.side,y=w==="right",N=y?-5:5,C=g[y?"left":"right"],S=g[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:C,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:C,y:g.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,f=>{var v;const g=i.searchRef.current!=="";e.disabled||g&&f.key===" "||tZ[a.dir].includes(f.key)&&(s.onOpenChange(!0),(v=s.content)==null||v.focus(),f.preventDefault())})})})});mI.displayName=_h;var hI="MenuSubContent",fI=p.forwardRef((e,r)=>{const s=XR(Wn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=bd(Wn,e.__scopeMenu),o=_f(Wn,e.__scopeMenu),l=uI(hI,e.__scopeMenu),d=p.useRef(null),m=ut(r,d);return t.jsx(Hh.Provider,{scope:e.__scopeMenu,children:t.jsx(wa,{present:a||i.open,children:t.jsx(Hh.Slot,{scope:e.__scopeMenu,children:t.jsx(VS,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:m,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Le(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Le(e.onKeyDown,h=>{var v;const f=h.currentTarget.contains(h.target),g=rZ[o.dir].includes(h.key);f&&g&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});fI.displayName=hI;function pI(e){return e?"open":"closed"}function u0(e){return e==="indeterminate"}function KS(e){return u0(e)?"indeterminate":e?"checked":"unchecked"}function jZ(e){const r=document.activeElement;for(const s of e)if(s===r||(s.focus(),document.activeElement!==r))return}function NZ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}function SZ(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=NZ(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function CZ(e,r){const{x:s,y:a}=e;let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],d=r[o],m=l.x,h=l.y,f=d.x,g=d.y;h>a!=g>a&&s<(f-m)*(a-h)/(g-h)+m&&(n=!n)}return n}function kZ(e,r){if(!r)return!1;const s={x:e.clientX,y:e.clientY};return CZ(s,r)}function Kh(e){return r=>r.pointerType==="mouse"?e(r):void 0}var _Z=JR,PZ=US,AZ=QR,EZ=ZR,TZ=qS,OZ=eI,MZ=Bx,RZ=rI,IZ=aI,DZ=iI,LZ=lI,$Z=cI,zZ=dI,FZ=mI,UZ=fI,Wx="DropdownMenu",[BZ,g1e]=qs(Wx,[GR]),Ra=GR(),[WZ,gI]=BZ(Wx),xI=e=>{const{__scopeDropdownMenu:r,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=Ra(r),m=p.useRef(null),[h,f]=vi({prop:n,defaultProp:i??!1,onChange:o,caller:Wx});return t.jsx(WZ,{scope:r,triggerId:Bi(),triggerRef:m,contentId:Bi(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),modal:l,children:t.jsx(_Z,{...d,open:h,onOpenChange:f,dir:a,modal:l,children:s})})};xI.displayName=Wx;var yI="DropdownMenuTrigger",vI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=e,i=gI(yI,s),o=Ra(s);return t.jsx(PZ,{asChild:!0,...o,children:t.jsx(He.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Mx(r,i.triggerRef),onPointerDown:Le(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Le(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vI.displayName=yI;var VZ="DropdownMenuPortal",bI=e=>{const{__scopeDropdownMenu:r,...s}=e,a=Ra(r);return t.jsx(AZ,{...a,...s})};bI.displayName=VZ;var wI="DropdownMenuContent",jI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=gI(wI,s),i=Ra(s),o=p.useRef(!1);return t.jsx(EZ,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:r,onCloseAutoFocus:Le(e.onCloseAutoFocus,l=>{var d;o.current||(d=n.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!n.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jI.displayName=wI;var qZ="DropdownMenuGroup",NI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(TZ,{...n,...a,ref:r})});NI.displayName=qZ;var HZ="DropdownMenuLabel",SI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(OZ,{...n,...a,ref:r})});SI.displayName=HZ;var KZ="DropdownMenuItem",CI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(MZ,{...n,...a,ref:r})});CI.displayName=KZ;var GZ="DropdownMenuCheckboxItem",kI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(RZ,{...n,...a,ref:r})});kI.displayName=GZ;var YZ="DropdownMenuRadioGroup",JZ=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(IZ,{...n,...a,ref:r})});JZ.displayName=YZ;var XZ="DropdownMenuRadioItem",_I=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(DZ,{...n,...a,ref:r})});_I.displayName=XZ;var QZ="DropdownMenuItemIndicator",PI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(LZ,{...n,...a,ref:r})});PI.displayName=QZ;var ZZ="DropdownMenuSeparator",AI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx($Z,{...n,...a,ref:r})});AI.displayName=ZZ;var eee="DropdownMenuArrow",tee=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(zZ,{...n,...a,ref:r})});tee.displayName=eee;var ree="DropdownMenuSubTrigger",EI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(FZ,{...n,...a,ref:r})});EI.displayName=ree;var see="DropdownMenuSubContent",TI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(UZ,{...n,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TI.displayName=see;var aee=xI,nee=vI,iee=bI,OI=jI,oee=NI,MI=SI,RI=CI,II=kI,DI=_I,LI=PI,$I=AI,zI=EI,FI=TI;const ji=aee,Ni=nee,lee=oee,cee=p.forwardRef(({className:e,inset:r,children:s,...a},n)=>t.jsxs(zI,{ref:n,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...a,children:[s,t.jsx(no,{className:"ml-auto"})]}));cee.displayName=zI.displayName;const dee=p.forwardRef(({className:e,...r},s)=>t.jsx(FI,{ref:s,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));dee.displayName=FI.displayName;const qn=p.forwardRef(({className:e,sideOffset:r=4,style:s,...a},n)=>t.jsx(iee,{children:t.jsx(OI,{ref:n,sideOffset:r,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),style:{backgroundColor:"#111827 !important",borderColor:"#374151 !important",color:"#f9fafb !important",border:"1px solid #374151 !important",opacity:"1 !important",...s},...a})}));qn.displayName=OI.displayName;const Yt=p.forwardRef(({className:e,inset:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsx(RI,{ref:o,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 outline-none data-[disabled]:pointer-events-none [&>svg]:size-4 [&>svg]:shrink-0","[&:active]:bg-transparent [&:focus]:bg-transparent [&[data-highlighted]]:bg-transparent [&]:bg-transparent [&]:hover:bg-transparent",r&&"pl-8",e),style:{backgroundColor:"transparent !important",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i}));Yt.displayName=RI.displayName;const uee=p.forwardRef(({className:e,children:r,checked:s,style:a,onMouseEnter:n,onMouseLeave:i,...o},l)=>t.jsxs(II,{ref:l,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,style:{backgroundColor:"transparent",color:"#d1d5db",...a},onMouseEnter:d=>{console.log("Mouse enter - setting background to #374151"),d.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",n==null||n(d)},onMouseLeave:d=>{d.currentTarget.style.setProperty("background-color","transparent","important"),d.currentTarget.style.setProperty("background","transparent","important"),d.currentTarget.style.setProperty("color","#d1d5db","important"),i==null||i(d)},...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(LI,{children:t.jsx(tm,{className:"h-4 w-4"})})}),r]}));uee.displayName=II.displayName;const mee=p.forwardRef(({className:e,children:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsxs(DI,{ref:o,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),style:{backgroundColor:"transparent",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(LI,{children:t.jsx(qM,{className:"h-2 w-2 fill-current"})})}),r]}));mee.displayName=DI.displayName;const UI=p.forwardRef(({className:e,inset:r,...s},a)=>t.jsx(MI,{ref:a,className:$e("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...s}));UI.displayName=MI.displayName;const GS=p.forwardRef(({className:e,...r},s)=>t.jsx($I,{ref:s,className:$e("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));GS.displayName=$I.displayName;function hee(){return mS.useSyncExternalStore(fee,()=>!0,()=>!1)}function fee(){return()=>{}}var YS="Avatar",[pee,x1e]=qs(YS),[gee,BI]=pee(YS),WI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,...a}=e,[n,i]=p.useState("idle");return t.jsx(gee,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:t.jsx(He.span,{...a,ref:r})})});WI.displayName=YS;var VI="AvatarImage",qI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=BI(VI,s),l=xee(a,i),d=Zr(m=>{n(m),o.onImageLoadingStatusChange(m)});return ls(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?t.jsx(He.img,{...i,ref:r,src:a}):null});qI.displayName=VI;var HI="AvatarFallback",KI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,i=BI(HI,s),[o,l]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(He.span,{...n,ref:r}):null});KI.displayName=HI;function MA(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xee(e,{referrerPolicy:r,crossOrigin:s}){const a=hee(),n=p.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=p.useState(()=>MA(i,e));return ls(()=>{l(MA(i,e))},[i,e]),ls(()=>{const d=f=>()=>{l(f)};if(!i)return;const m=d("loaded"),h=d("error");return i.addEventListener("load",m),i.addEventListener("error",h),r&&(i.referrerPolicy=r),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",m),i.removeEventListener("error",h)}},[i,s,r]),o}var GI=WI,YI=qI,JI=KI;const zu=p.forwardRef(({className:e,...r},s)=>t.jsx(GI,{ref:s,className:$e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));zu.displayName=GI.displayName;const Fu=p.forwardRef(({className:e,...r},s)=>t.jsx(YI,{ref:s,className:$e("aspect-square h-full w-full",e),...r}));Fu.displayName=YI.displayName;const Uu=p.forwardRef(({className:e,...r},s)=>t.jsx(JI,{ref:s,className:$e("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Uu.displayName=JI.displayName;const yee=vf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:e,variant:r,...s}){return t.jsx("div",{className:$e(yee({variant:r}),e),...s})}const J=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));J.displayName="Card";const pe=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("flex flex-col space-y-1.5 p-6",e),...r}));pe.displayName="CardHeader";const xe=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("font-semibold leading-none tracking-tight",e),...r}));xe.displayName="CardTitle";const qt=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));qt.displayName="CardDescription";const X=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("p-6 pt-0",e),...r}));X.displayName="CardContent";const vee=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("flex items-center p-6 pt-0",e),...r}));vee.displayName="CardFooter";const bee="https://api.vapi.ai";class wee{constructor(){li(this,"baseURL",bee);li(this,"apiKey",null);li(this,"organizationId",null);console.log(" VAPI Service initialized - requires organization credentials to make API calls")}async initializeWithOrganization(r){var s;try{this.organizationId=r;const a=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),n=await fetch(`${window.location.origin}/api/vapi-credentials`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""}});if(!n.ok)return console.warn(" Failed to fetch VAPI credentials for organization"),!1;const i=await n.json();return i.hasApiKey&&((s=i.credentials)!=null&&s.vapi_api_key)?(this.apiKey=i.credentials.vapi_api_key,console.log(" VAPI service initialized with organization credentials"),!0):i.hasApiKey?(console.warn(" VAPI API key exists but user lacks permission to view it"),!1):(console.warn(" No VAPI API key configured for this organization"),!1)}catch(a){return console.error(" Error initializing VAPI service with organization:",a),!1}}isInitialized(){return!!(this.apiKey&&this.organizationId)}getOrganizationId(){return this.organizationId}async request(r,s={}){if(!this.isInitialized())throw new Error("VAPI Service not initialized. Call initializeWithOrganization() first.");const a=`${this.baseURL}${r}`,n={Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json",...s.headers};try{const i=await fetch(a,{...s,headers:n});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`VAPI API Error: ${i.status} - ${o.message||"Unknown error"}`)}return await i.json()}catch(i){throw console.error("VAPI Service Error:",i),i}}async getAssistants(){return this.request("/assistant")}async getAssistant(r){return this.request(`/assistant/${r}`)}async createAssistant(r){return this.request("/assistant",{method:"POST",body:JSON.stringify(r)})}async updateAssistant(r,s){return this.request(`/assistant/${r}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteAssistant(r){await this.request(`/assistant/${r}`,{method:"DELETE"})}async getCalls(r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([n,i])=>{i&&s.append(n,i.toString())});const a=s.toString();return this.request(`/call${a?`?${a}`:""}`)}async getCall(r){return this.request(`/call/${r}`)}async createCall(r){return this.request("/call",{method:"POST",body:JSON.stringify(r)})}async getPhoneNumbers(){return this.request("/phone-number")}async getPhoneNumber(r){return this.request(`/phone-number/${r}`)}async getCallAnalytics(r){const s=await this.getCalls(r);return this.aggregateCallData(s)}aggregateCallData(r){const s=r.length,a=r.filter(m=>m.status==="ended"&&m.duration&&m.duration>30).length,n=r.reduce((m,h)=>m+(h.duration||0),0),i=r.reduce((m,h)=>m+(h.cost||0),0),o=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.sentiment)||"neutral";return m[f]++,m},{positive:0,negative:0,neutral:0}),l=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.outcome)||"unknown";return m[f]=(m[f]||0)+1,m},{}),d=Array.from({length:24},(m,h)=>({hour:h,count:r.filter(f=>f.startedAt?new Date(f.startedAt).getHours()===h:!1).length}));return{totalCalls:s,successfulCalls:a,averageDuration:n/(s||1),totalCost:i,sentimentBreakdown:o,outcomeBreakdown:l,callsByHour:d,conversionRate:a/(s||1)*100}}async verifyWebhook(r,s,a){try{const i=(await Un(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).createHmac("sha256",a).update(s).digest("hex");return r===i}catch{return!1}}async subscribeToCallUpdates(r,s){const a=setInterval(async()=>{try{const n=await this.getCall(r);s({type:"status-update",call:n,timestamp:new Date().toISOString()})}catch(n){console.error("Error polling call updates:",n)}},2e3);return()=>clearInterval(a)}scoreLeadFromCall(r){var n,i,o,l;let s=50;const a=[];if(r.duration&&(r.duration>300?(s+=20,a.push({factor:"Long Call Duration",impact:20,description:"Engaged in lengthy conversation"})):r.duration>120?(s+=10,a.push({factor:"Good Call Duration",impact:10,description:"Reasonable conversation length"})):r.duration<30&&(s-=15,a.push({factor:"Short Call Duration",impact:-15,description:"Very brief interaction"}))),((n=r.analysis)==null?void 0:n.sentiment)==="positive"?(s+=15,a.push({factor:"Positive Sentiment",impact:15,description:"Showed positive attitude during call"})):((i=r.analysis)==null?void 0:i.sentiment)==="negative"&&(s-=10,a.push({factor:"Negative Sentiment",impact:-10,description:"Expressed negative sentiment"})),(o=r.analysis)!=null&&o.followUpRequired&&(s+=10,a.push({factor:"Follow-up Interest",impact:10,description:"Expressed interest in follow-up"})),(l=r.analysis)!=null&&l.intent){const d=r.analysis.intent.toLowerCase();d.includes("purchase")||d.includes("buy")?(s+=25,a.push({factor:"Purchase Intent",impact:25,description:"Showed buying intent"})):(d.includes("interested")||d.includes("learn"))&&(s+=15,a.push({factor:"Learning Intent",impact:15,description:"Interested in learning more"}))}return{score:Math.max(0,Math.min(100,s)),factors:a}}async launchCampaign(r){const s=r.leads.length;return{success:!0,campaignId:`campaign_${Date.now()}`,scheduledCalls:s}}async launchProductionCampaign(r){if(!r.leads||r.leads.length===0)throw new Error("No leads provided for campaign");if(!this.apiKey)throw new Error("VAPI API key not configured");return this.launchCampaign(r)}}const KN=new wee,RA=e=>{let r;const s=new Set,a=(m,h)=>{const f=typeof m=="function"?m(r):m;if(!Object.is(f,r)){const g=r;r=h??(typeof f!="object"||f===null)?f:Object.assign({},r,f),s.forEach(v=>v(r,g))}},n=()=>r,l={setState:a,getState:n,getInitialState:()=>d,subscribe:m=>(s.add(m),()=>s.delete(m))},d=r=e(a,n,l);return l},jee=e=>e?RA(e):RA,Nee=e=>e;function See(e,r=Nee){const s=le.useSyncExternalStore(e.subscribe,le.useCallback(()=>r(e.getState()),[e,r]),le.useCallback(()=>r(e.getInitialState()),[e,r]));return le.useDebugValue(s),s}const Cee=e=>{const r=jee(e),s=a=>See(r,a);return Object.assign(s,r),s},kee=e=>Cee;function XI(e,r){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,r==null?void 0:r.reviver),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,r==null?void 0:r.replacer)),removeItem:n=>s.removeItem(n)}}const GN=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(a){return GN(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return GN(a)(s)}}}},_ee=(e,r)=>(s,a,n)=>{let i={storage:XI(()=>localStorage),partialize:w=>w,version:0,merge:(w,y)=>({...y,...w}),...r},o=!1;const l=new Set,d=new Set;let m=i.storage;if(!m)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...w)},a,n);const h=()=>{const w=i.partialize({...a()});return m.setItem(i.name,{state:w,version:i.version})},f=n.setState;n.setState=(w,y)=>{f(w,y),h()};const g=e((...w)=>{s(...w),h()},a,n);n.getInitialState=()=>g;let v;const b=()=>{var w,y;if(!m)return;o=!1,l.forEach(C=>{var S;return C((S=a())!=null?S:g)});const N=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(w=a())!=null?w:g))||void 0;return GN(m.getItem.bind(m))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate){const S=i.migrate(C.state,C.version);return S instanceof Promise?S.then(k=>[!0,k]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var S;const[k,A]=C;if(v=i.merge(A,(S=a())!=null?S:g),s(v,!0),k)return h()}).then(()=>{N==null||N(v,void 0),v=a(),o=!0,d.forEach(C=>C(v))}).catch(C=>{N==null||N(void 0,C)})};return n.persist={setOptions:w=>{i={...i,...w},w.storage&&(m=w.storage)},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(d.add(w),()=>{d.delete(w)})},i.skipHydration||b(),v||g},Pee=_ee,IA={categories:[],types:[],priorities:[],sources:[],unreadOnly:!1},Aee={categories:{calls:!0,performance:!0,system:!0,billing:!0,campaigns:!0,security:!0},emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:{enabled:!1,start:"22:00",end:"08:00"}},om=kee()(Pee((e,r)=>({notifications:[],filters:IA,maxNotifications:25,preferences:Aee,addNotification:s=>{const a=`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...s,id:a,timestamp:new Date,read:!1,priority:s.priority||"medium",category:s.category||"system",source:s.source||"unknown"};return e(i=>{const o=[n,...i.notifications];return o.length>i.maxNotifications&&o.splice(i.maxNotifications),{notifications:o}}),s.autoHide&&s.hideAfter&&setTimeout(()=>{r().removeNotification(a)},s.hideAfter),a},removeNotification:s=>{e(a=>({notifications:a.notifications.filter(n=>n.id!==s)}))},markAsRead:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!0}:n)}))},markAsUnread:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!1}:n)}))},markAllAsRead:()=>{e(s=>({notifications:s.notifications.map(a=>({...a,read:!0}))}))},clearAll:()=>{e({notifications:[]})},clearByCategory:s=>{e(a=>({notifications:a.notifications.filter(n=>n.category!==s)}))},clearByType:s=>{e(a=>({notifications:a.notifications.filter(n=>n.type!==s)}))},clearOld:s=>{const a=new Date;a.setDate(a.getDate()-s),e(n=>({notifications:n.notifications.filter(i=>(i.timestamp instanceof Date?i.timestamp:new Date(i.timestamp))>a||i.persistent)}))},setFilters:s=>{e(a=>({filters:{...a.filters,...s}}))},resetFilters:()=>{e({filters:IA})},getFilteredNotifications:()=>{const{notifications:s,filters:a}=r();return s.filter(n=>{if(a.categories.length>0&&!a.categories.includes(n.category)||a.types.length>0&&!a.types.includes(n.type)||a.priorities.length>0&&!a.priorities.includes(n.priority)||a.sources.length>0&&!a.sources.includes(n.source)||a.unreadOnly&&n.read)return!1;if(a.dateRange){const i=n.timestamp;if(i<a.dateRange.start||i>a.dateRange.end)return!1}return!0})},getStats:()=>{const{notifications:s}=r(),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),i=new Date(n);i.setDate(i.getDate()-7);const o=new Date(a.getFullYear(),a.getMonth(),1),l={total:s.length,unread:s.filter(d=>!d.read).length,byCategory:{system:0,calls:0,campaigns:0,performance:0,billing:0,security:0},byType:{success:0,error:0,warning:0,info:0,system:0,campaign:0,billing:0},byPriority:{low:0,medium:0,high:0,urgent:0},recentActivity:{today:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=n).length,thisWeek:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=i).length,thisMonth:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=o).length}};return s.forEach(d=>{l.byCategory[d.category]++,l.byType[d.type]++,l.byPriority[d.priority]++}),l},getUnreadCount:()=>r().notifications.filter(s=>!s.read).length,getNotificationsByCategory:s=>r().notifications.filter(a=>a.category===s),getNotificationsByType:s=>r().notifications.filter(a=>a.type===s),getNotificationsByPriority:s=>r().notifications.filter(a=>a.priority===s),getRecentNotifications:s=>r().notifications.slice(0,s),setMaxNotifications:s=>{e(a=>{const n=a.notifications.slice(0,s);return{maxNotifications:s,notifications:n}})},updatePreferences:s=>{e(a=>({preferences:{...a.preferences,...s}}))}}),{name:"apex-notifications",storage:XI(()=>localStorage,{reviver:(e,r)=>e==="timestamp"&&typeof r=="string"?new Date(r):r,replacer:(e,r)=>r}),partialize:e=>({notifications:e.notifications.slice(0,25),maxNotifications:e.maxNotifications})})),Ec={success:(e,r,s)=>({type:"success",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:5e3,...s}),error:(e,r,s)=>({type:"error",title:e,message:r,priority:"high",category:"system",source:"app",persistent:!0,...s}),warning:(e,r,s)=>({type:"warning",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:8e3,...s}),info:(e,r,s)=>({type:"info",title:e,message:r,priority:"low",category:"system",source:"app",autoHide:!0,hideAfter:4e3,...s}),system:(e,r,s)=>({type:"system",title:e,message:r,priority:"medium",category:"system",source:"system",...s}),campaign:(e,r,s)=>({type:"campaign",title:e,message:r,priority:"medium",category:"campaigns",source:"campaign-manager",...s}),billing:(e,r,s)=>({type:"billing",title:e,message:r,priority:"medium",category:"billing",source:"billing",...s})},Eee=()=>{const e=om(r=>r.addNotification);return{success:(r,s,a)=>e(Ec.success(r,s,a)),error:(r,s,a)=>e(Ec.error(r,s,a)),warning:(r,s,a)=>e(Ec.warning(r,s,a)),info:(r,s,a)=>e(Ec.info(r,s,a)),system:(r,s,a)=>e(Ec.system(r,s,a)),campaign:(r,s,a)=>e(Ec.campaign(r,s,a)),billing:(r,s,a)=>e(Ec.billing(r,s,a))}};function Tee(){var y,N,C;const{t:e}=yn("components"),r=Nr(),{signOut:s}=Ma(),{user:a}=xf(),{userContext:n}=ao(),{addNotification:i}=om(),[o,l]=p.useState(!1),[d,m]=p.useState({credits:0,totalCalls:0,monthlySpend:0,lastSync:new Date,status:"disconnected",accounts:[]}),[h,f]=p.useState(!1),g=async()=>{f(!0);try{const S=await KN.getCalls({limit:100}),k=await KN.getCallAnalytics();m({credits:0,totalCalls:k.totalCalls||0,monthlySpend:k.totalCost||0,lastSync:new Date,status:"connected",accounts:[]})}catch(S){console.error("Failed to sync VAPI data:",S),m(k=>({...k,status:"error"}))}finally{f(!1)}};p.useEffect(()=>{},[]);const v=async()=>{try{await s(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(S){console.error("Sign out error:",S),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},b=()=>{switch(d.status){case"connected":return t.jsx(yt,{className:"h-3 w-3 text-gray-400"});case"syncing":return t.jsx(as,{className:"h-3 w-3 animate-spin text-blue-400"});case"error":return t.jsx(Gt,{className:"h-3 w-3 text-red-400"});default:return t.jsx(Gt,{className:"h-3 w-3 text-gray-400"})}},w=()=>{const S=new Date().getHours(),k=(n==null?void 0:n.firstName)||(a==null?void 0:a.firstName)||"User";return S<12?e("user_dropdown.good_morning",{name:k}):S<17?e("user_dropdown.good_afternoon",{name:k}):e("user_dropdown.good_evening",{name:k})};return t.jsxs(ji,{open:o,onOpenChange:l,children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",className:$e("relative h-10 rounded-lg px-3 transition-all duration-200","hover:bg-gray-800 focus:bg-gray-800 focus:ring-2 focus:ring-gray-500/20",o&&"bg-gray-800"),children:t.jsxs("div",{className:"flex items-center space-x-2 max-w-[200px]",children:[t.jsxs(zu,{className:"h-8 w-8 ring-2 ring-gray-700 transition-all hover:ring-gray-500/50 flex-shrink-0",children:[t.jsx(Fu,{src:a==null?void 0:a.imageUrl,alt:(a==null?void 0:a.fullName)||""}),t.jsx(Uu,{className:"bg-gray-600 font-medium text-white",children:((y=a==null?void 0:a.firstName)==null?void 0:y[0])||"U"})]}),t.jsxs("div",{className:"hidden flex-col items-start lg:flex min-w-0 flex-1",children:[t.jsx("span",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:(a==null?void 0:a.firstName)||"User"}),t.jsx("span",{className:"text-xs text-gray-400 truncate max-w-[100px]",children:(n==null?void 0:n.role)||"User"})]}),t.jsx(ss,{className:$e("h-4 w-4 text-gray-400 transition-transform duration-200 flex-shrink-0",o&&"rotate-180")})]})})}),t.jsxs(qn,{className:"w-80 border-gray-700 bg-gray-900/95 p-0 shadow-xl",align:"end",children:[t.jsx("div",{className:"border-b border-gray-700 bg-gradient-to-r from-gray-600/10 to-gray-700/10 p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(zu,{className:"h-12 w-12 ring-2 ring-gray-500/30",children:[t.jsx(Fu,{src:a==null?void 0:a.imageUrl,alt:(a==null?void 0:a.fullName)||""}),t.jsx(Uu,{className:"bg-gray-600 text-lg font-bold text-white",children:((N=a==null?void 0:a.firstName)==null?void 0:N[0])||"U"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-base font-medium text-white",children:w()}),t.jsx("p",{className:"text-sm text-gray-300",children:a==null?void 0:a.fullName}),t.jsx("p",{className:"text-xs text-gray-400",children:(C=a==null?void 0:a.primaryEmailAddress)==null?void 0:C.emailAddress}),t.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[t.jsx(Ne,{variant:"outline",className:"border-gray-500/30 text-xs text-gray-400",children:(n==null?void 0:n.role)||"User"}),(n==null?void 0:n.organizationName)&&t.jsxs(Ne,{variant:"outline",className:"border-blue-500/30 text-xs text-blue-400",children:[t.jsx(lr,{className:"mr-1 h-3 w-3"}),n.organizationName]})]})]})]})}),t.jsxs("div",{className:"border-b border-gray-700 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-white",children:e("user_dropdown.account_overview")}),t.jsxs(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-gray-400 hover:text-white",onClick:g,disabled:h,children:[h?t.jsx(as,{className:"h-3 w-3 animate-spin"}):t.jsx(as,{className:"h-3 w-3"}),e("user_dropdown.sync")]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:e("user_dropdown.total_credits")}),t.jsx("p",{className:"text-lg font-bold text-gray-400",children:d.credits>0?d.credits.toLocaleString():"N/A"})]}),t.jsx(Fr,{className:"h-5 w-5 text-gray-400"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:e("user_dropdown.total_calls")}),t.jsx("p",{className:"text-lg font-bold text-blue-400",children:d.totalCalls>0?d.totalCalls.toLocaleString():"N/A"})]}),t.jsx(xt,{className:"h-5 w-5 text-blue-400"})]})})})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[b(),t.jsxs("span",{className:"text-gray-400",children:[e("user_dropdown.vapi_status"),":"," ",d.status==="connected"?e("user_dropdown.connected"):d.status==="syncing"?e("user_dropdown.syncing"):d.status==="error"?e("user_dropdown.connection_error"):e("user_dropdown.disconnected")]})]}),t.jsxs("span",{className:"text-gray-500",children:[e("user_dropdown.last_sync"),": ",d.lastSync.toLocaleTimeString()]})]}),d.accounts.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"mb-2 text-xs text-gray-400",children:e("user_dropdown.connected_accounts")}),t.jsx("div",{className:"space-y-1",children:d.accounts.map(S=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-300",children:S.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-400",children:S.credits.toLocaleString()}),t.jsx("span",{className:"text-gray-500",children:""}),t.jsx("span",{className:"text-blue-400",children:S.calls})]})]},S.id))})]})]}),t.jsxs("div",{className:"p-2",children:[t.jsxs(lee,{children:[t.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{r("/api-keys"),l(!1)},children:[t.jsx(rd,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:e("user_dropdown.api_keys")})]}),t.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{r("/billing"),l(!1)},children:[t.jsx(Gi,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:e("user_dropdown.billing_credits")})]}),(n==null?void 0:n.role)==="platform_owner"&&t.jsxs(t.Fragment,{children:[t.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{r("/platform"),l(!1)},children:[t.jsx(Px,{className:"mr-3 h-4 w-4 text-yellow-400"}),t.jsx("span",{className:"text-gray-200",children:e("user_dropdown.platform_admin")})]}),t.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{r("/system-health"),l(!1)},children:[t.jsx(xs,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:e("user_dropdown.security_health")})]})]}),t.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{r("/settings"),l(!1)},children:[t.jsx(os,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:e("user_dropdown.settings")})]})]}),t.jsx(GS,{className:"my-2 bg-gray-700"}),t.jsxs(Yt,{className:"cursor-pointer text-red-400 hover:bg-red-900/20 focus:bg-red-900/20",onClick:v,children:[t.jsx(JG,{className:"mr-3 h-4 w-4"}),t.jsx("span",{children:e("user_dropdown.sign_out")})]})]}),t.jsx("div",{className:"border-t border-gray-700 bg-gray-800/50 p-3",children:t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[t.jsx("span",{children:e("user_dropdown.apex_platform")}),t.jsxs(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:text-white",onClick:()=>window.open("https://docs.apex.ai","_blank"),children:[t.jsx(Yi,{className:"mr-1 h-3 w-3"}),e("user_dropdown.docs")]})]})})]})]})}const QI=6048e5,Oee=864e5,bg=43200,DA=1440,LA=Symbol.for("constructDateFrom");function Bo(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&LA in e?e[LA](r):e instanceof Date?new e.constructor(r):new Date(r)}function Vs(e,r){return Bo(r||e,e)}let Mee={};function Pf(){return Mee}function Gh(e,r){var l,d,m,h;const s=Pf(),a=(r==null?void 0:r.weekStartsOn)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,n=Vs(e,r==null?void 0:r.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function m0(e,r){return Gh(e,{...r,weekStartsOn:1})}function ZI(e,r){const s=Vs(e,r==null?void 0:r.in),a=s.getFullYear(),n=Bo(s,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=m0(n),o=Bo(s,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=m0(o);return s.getTime()>=i.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function h0(e){const r=Vs(e),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+e-+s}function Vx(e,...r){const s=Bo.bind(null,e||r.find(a=>typeof a=="object"));return r.map(s)}function $A(e,r){const s=Vs(e,r==null?void 0:r.in);return s.setHours(0,0,0,0),s}function Ree(e,r,s){const[a,n]=Vx(s==null?void 0:s.in,e,r),i=$A(a),o=$A(n),l=+i-h0(i),d=+o-h0(o);return Math.round((l-d)/Oee)}function Iee(e,r){const s=ZI(e,r),a=Bo(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),m0(a)}function Bg(e,r){const s=+Vs(e)-+Vs(r);return s<0?-1:s>0?1:s}function Dee(e){return Bo(e,Date.now())}function Lee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $ee(e){return!(!Lee(e)&&typeof e!="number"||isNaN(+Vs(e)))}function zee(e,r,s){const[a,n]=Vx(s==null?void 0:s.in,e,r),i=a.getFullYear()-n.getFullYear(),o=a.getMonth()-n.getMonth();return i*12+o}function Fee(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function Uee(e,r){return+Vs(e)-+Vs(r)}function Bee(e,r){const s=Vs(e,r==null?void 0:r.in);return s.setHours(23,59,59,999),s}function Wee(e,r){const s=Vs(e,r==null?void 0:r.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function Vee(e,r){const s=Vs(e,r==null?void 0:r.in);return+Bee(s,r)==+Wee(s,r)}function qee(e,r,s){const[a,n,i]=Vx(s==null?void 0:s.in,e,e,r),o=Bg(n,i),l=Math.abs(zee(n,i));if(l<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*l);let d=Bg(n,i)===-o;Vee(a)&&l===1&&Bg(a,i)===1&&(d=!1);const m=o*(l-+d);return m===0?0:m}function Hee(e,r,s){const a=Uee(e,r)/1e3;return Fee(s==null?void 0:s.roundingMethod)(a)}function Kee(e,r){const s=Vs(e,r==null?void 0:r.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Gee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yee=(e,r,s)=>{let a;const n=Gee[e];return typeof n=="string"?a=n:r===1?a=n.one:a=n.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function mw(e){return(r={})=>{const s=r.width?String(r.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Jee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zee={date:mw({formats:Jee,defaultWidth:"full"}),time:mw({formats:Xee,defaultWidth:"full"}),dateTime:mw({formats:Qee,defaultWidth:"full"})},ete={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tte=(e,r,s,a)=>ete[e];function dh(e){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return n[i]}}const rte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ste={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ate={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ite={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ote={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lte=(e,r)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},cte={ordinalNumber:lte,era:dh({values:rte,defaultWidth:"wide"}),quarter:dh({values:ste,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dh({values:ate,defaultWidth:"wide"}),day:dh({values:nte,defaultWidth:"wide"}),dayPeriod:dh({values:ite,defaultWidth:"wide",formattingValues:ote,defaultFormattingWidth:"wide"})};function uh(e){return(r,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?ute(l,f=>f.test(o)):dte(l,f=>f.test(o));let m;m=e.valueCallback?e.valueCallback(d):d,m=s.valueCallback?s.valueCallback(m):m;const h=r.slice(o.length);return{value:m,rest:h}}}function dte(e,r){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r(e[s]))return s}function ute(e,r){for(let s=0;s<e.length;s++)if(r(e[s]))return s}function mte(e){return(r,s={})=>{const a=r.match(e.matchPattern);if(!a)return null;const n=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=r.slice(n.length);return{value:o,rest:l}}}const hte=/^(\d+)(th|st|nd|rd)?/i,fte=/\d+/i,pte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gte={any:[/^b/i,/^(a|c)/i]},xte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yte={any:[/1/i,/2/i,/3/i,/4/i]},vte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ste={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cte={ordinalNumber:mte({matchPattern:hte,parsePattern:fte,valueCallback:e=>parseInt(e,10)}),era:uh({matchPatterns:pte,defaultMatchWidth:"wide",parsePatterns:gte,defaultParseWidth:"any"}),quarter:uh({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:yte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uh({matchPatterns:vte,defaultMatchWidth:"wide",parsePatterns:bte,defaultParseWidth:"any"}),day:uh({matchPatterns:wte,defaultMatchWidth:"wide",parsePatterns:jte,defaultParseWidth:"any"}),dayPeriod:uh({matchPatterns:Nte,defaultMatchWidth:"any",parsePatterns:Ste,defaultParseWidth:"any"})},eD={code:"en-US",formatDistance:Yee,formatLong:Zee,formatRelative:tte,localize:cte,match:Cte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kte(e,r){const s=Vs(e,r==null?void 0:r.in);return Ree(s,Kee(s))+1}function _te(e,r){const s=Vs(e,r==null?void 0:r.in),a=+m0(s)-+Iee(s);return Math.round(a/QI)+1}function tD(e,r){var h,f,g,v;const s=Vs(e,r==null?void 0:r.in),a=s.getFullYear(),n=Pf(),i=(r==null?void 0:r.firstWeekContainsDate)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,o=Bo((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Gh(o,r),d=Bo((r==null?void 0:r.in)||e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const m=Gh(d,r);return+s>=+l?a+1:+s>=+m?a:a-1}function Pte(e,r){var l,d,m,h;const s=Pf(),a=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,n=tD(e,r),i=Bo((r==null?void 0:r.in)||e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Gh(i,r)}function Ate(e,r){const s=Vs(e,r==null?void 0:r.in),a=+Gh(s,r)-+Pte(s,r);return Math.round(a/QI)+1}function fr(e,r){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return s+a}const Sl={y(e,r){const s=e.getFullYear(),a=s>0?s:1-s;return fr(r==="yy"?a%100:a,r.length)},M(e,r){const s=e.getMonth();return r==="M"?String(s+1):fr(s+1,2)},d(e,r){return fr(e.getDate(),r.length)},a(e,r){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,r){return fr(e.getHours()%12||12,r.length)},H(e,r){return fr(e.getHours(),r.length)},m(e,r){return fr(e.getMinutes(),r.length)},s(e,r){return fr(e.getSeconds(),r.length)},S(e,r){const s=r.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return fr(n,r.length)}},pu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zA={G:function(e,r,s){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,r,s){if(r==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return Sl.y(e,r)},Y:function(e,r,s,a){const n=tD(e,a),i=n>0?n:1-n;if(r==="YY"){const o=i%100;return fr(o,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):fr(i,r.length)},R:function(e,r){const s=ZI(e);return fr(s,r.length)},u:function(e,r){const s=e.getFullYear();return fr(s,r.length)},Q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return fr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return fr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,s){const a=e.getMonth();switch(r){case"M":case"MM":return Sl.M(e,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,s){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return fr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,s,a){const n=Ate(e,a);return r==="wo"?s.ordinalNumber(n,{unit:"week"}):fr(n,r.length)},I:function(e,r,s){const a=_te(e);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):fr(a,r.length)},d:function(e,r,s){return r==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Sl.d(e,r)},D:function(e,r,s){const a=kte(e);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):fr(a,r.length)},E:function(e,r,s){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return fr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return fr(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,r,s){const a=e.getDay(),n=a===0?7:a;switch(r){case"i":return String(n);case"ii":return fr(n,r.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,s){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,r,s){const a=e.getHours();let n;switch(a===12?n=pu.noon:a===0?n=pu.midnight:n=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,r,s){const a=e.getHours();let n;switch(a>=17?n=pu.evening:a>=12?n=pu.afternoon:a>=4?n=pu.morning:n=pu.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,r,s){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Sl.h(e,r)},H:function(e,r,s){return r==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Sl.H(e,r)},K:function(e,r,s){const a=e.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):fr(a,r.length)},k:function(e,r,s){let a=e.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):fr(a,r.length)},m:function(e,r,s){return r==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Sl.m(e,r)},s:function(e,r,s){return r==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Sl.s(e,r)},S:function(e,r){return Sl.S(e,r)},X:function(e,r,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return UA(a);case"XXXX":case"XX":return Ic(a);case"XXXXX":case"XXX":default:return Ic(a,":")}},x:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"x":return UA(a);case"xxxx":case"xx":return Ic(a);case"xxxxx":case"xxx":default:return Ic(a,":")}},O:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+FA(a,":");case"OOOO":default:return"GMT"+Ic(a,":")}},z:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+FA(a,":");case"zzzz":default:return"GMT"+Ic(a,":")}},t:function(e,r,s){const a=Math.trunc(+e/1e3);return fr(a,r.length)},T:function(e,r,s){return fr(+e,r.length)}};function FA(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+r+fr(i,2)}function UA(e,r){return e%60===0?(e>0?"-":"+")+fr(Math.abs(e)/60,2):Ic(e,r)}function Ic(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=fr(Math.trunc(a/60),2),i=fr(a%60,2);return s+n+r+i}const BA=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},rD=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ete=(e,r)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return BA(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",BA(a,r)).replace("{{time}}",rD(n,r))},Tte={p:rD,P:Ete},Ote=/^D+$/,Mte=/^Y+$/,Rte=["D","DD","YY","YYYY"];function Ite(e){return Ote.test(e)}function Dte(e){return Mte.test(e)}function Lte(e,r,s){const a=$te(e,r,s);if(console.warn(a),Rte.includes(e))throw new RangeError(a)}function $te(e,r,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ute=/^'([^]*?)'?$/,Bte=/''/g,Wte=/[a-zA-Z]/;function hw(e,r,s){var h,f,g,v;const a=Pf(),n=a.locale??eD,i=a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((v=(g=a.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=Vs(e,s==null?void 0:s.in);if(!$ee(l))throw new RangeError("Invalid time value");let d=r.match(Fte).map(b=>{const w=b[0];if(w==="p"||w==="P"){const y=Tte[w];return y(b,n.formatLong)}return b}).join("").match(zte).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Vte(b)};if(zA[w])return{isToken:!0,value:b};if(w.match(Wte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const m={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(b=>{if(!b.isToken)return b.value;const w=b.value;(Dte(w)||Ite(w))&&Lte(w,r,String(e));const y=zA[w[0]];return y(l,w,n.localize,m)}).join("")}function Vte(e){const r=e.match(Ute);return r?r[1].replace(Bte,"'"):e}function qte(e,r,s){const a=Pf(),n=(s==null?void 0:s.locale)??a.locale??eD,i=2520,o=Bg(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o}),[d,m]=Vx(s==null?void 0:s.in,...o>0?[r,e]:[e,r]),h=Hee(m,d),f=(h0(m)-h0(d))/1e3,g=Math.round((h-f)/60);let v;if(g<2)return s!=null&&s.includeSeconds?h<5?n.formatDistance("lessThanXSeconds",5,l):h<10?n.formatDistance("lessThanXSeconds",10,l):h<20?n.formatDistance("lessThanXSeconds",20,l):h<40?n.formatDistance("halfAMinute",0,l):h<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):g===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",g,l);if(g<45)return n.formatDistance("xMinutes",g,l);if(g<90)return n.formatDistance("aboutXHours",1,l);if(g<DA){const b=Math.round(g/60);return n.formatDistance("aboutXHours",b,l)}else{if(g<i)return n.formatDistance("xDays",1,l);if(g<bg){const b=Math.round(g/DA);return n.formatDistance("xDays",b,l)}else if(g<bg*2)return v=Math.round(g/bg),n.formatDistance("aboutXMonths",v,l)}if(v=qee(m,d),v<12){const b=Math.round(g/bg);return n.formatDistance("xMonths",b,l)}else{const b=v%12,w=Math.trunc(v/12);return b<3?n.formatDistance("aboutXYears",w,l):b<9?n.formatDistance("overXYears",w,l):n.formatDistance("almostXYears",w+1,l)}}function f0(e,r){return qte(e,Dee(e),r)}function Yh(e,[r,s]){return Math.min(s,Math.max(r,e))}function Hte(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var JS="ScrollArea",[sD,y1e]=qs(JS),[Kte,Gn]=sD(JS),aD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,d]=p.useState(null),[m,h]=p.useState(null),[f,g]=p.useState(null),[v,b]=p.useState(null),[w,y]=p.useState(null),[N,C]=p.useState(0),[S,k]=p.useState(0),[A,E]=p.useState(!1),[T,M]=p.useState(!1),L=ut(r,R=>d(R)),V=yd(n);return t.jsx(Kte,{scope:s,type:a,dir:V,scrollHideDelay:i,scrollArea:l,viewport:m,onViewportChange:h,content:f,onContentChange:g,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:A,onScrollbarXEnabledChange:E,scrollbarY:w,onScrollbarYChange:y,scrollbarYEnabled:T,onScrollbarYEnabledChange:M,onCornerWidthChange:C,onCornerHeightChange:k,children:t.jsx(He.div,{dir:V,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});aD.displayName=JS;var nD="ScrollAreaViewport",iD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=e,o=Gn(nD,s),l=p.useRef(null),d=ut(r,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(He.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});iD.displayName=nD;var oo="ScrollAreaScrollbar",XS=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Gn(oo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?t.jsx(Gte,{...a,ref:r,forceMount:s}):n.type==="scroll"?t.jsx(Yte,{...a,ref:r,forceMount:s}):n.type==="auto"?t.jsx(oD,{...a,ref:r,forceMount:s}):n.type==="always"?t.jsx(QS,{...a,ref:r}):null});XS.displayName=oo;var Gte=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Gn(oo,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(wa,{present:s||i,children:t.jsx(oD,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Yte=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Gn(oo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Hx(()=>d("SCROLL_END"),100),[l,d]=Hte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,n.scrollHideDelay,d]),p.useEffect(()=>{const m=n.viewport,h=i?"scrollLeft":"scrollTop";if(m){let f=m[h];const g=()=>{const v=m[h];f!==v&&(d("SCROLL"),o()),f=v};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[n.viewport,i,d,o]),t.jsx(wa,{present:s||l!=="hidden",children:t.jsx(QS,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:Le(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),oD=p.forwardRef((e,r)=>{const s=Gn(oo,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",d=Hx(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?m:h)}},10);return Bu(s.viewport,d),Bu(s.content,d),t.jsx(wa,{present:a||i,children:t.jsx(QS,{"data-state":i?"visible":"hidden",...n,ref:r})})}),QS=p.forwardRef((e,r)=>{const{orientation:s="vertical",...a}=e,n=Gn(oo,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=mD(l.viewport,l.content),h={...a,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function f(g,v){return tre(g,o.current,l,v)}return s==="horizontal"?t.jsx(Jte,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,v=WA(g,l,n.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}}):s==="vertical"?t.jsx(Xte,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,v=WA(g,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}}):null}),Jte=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=Gn(oo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=ut(r,d,i.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(cD,{"data-orientation":"horizontal",...n,ref:m,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),fD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:g0(o.paddingLeft),paddingEnd:g0(o.paddingRight)}})}})}),Xte=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=Gn(oo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=ut(r,d,i.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(cD,{"data-orientation":"vertical",...n,ref:m,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),fD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:g0(o.paddingTop),paddingEnd:g0(o.paddingBottom)}})}})}),[Qte,lD]=sD(oo),cD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:h,onResize:f,...g}=e,v=Gn(oo,s),[b,w]=p.useState(null),y=ut(r,L=>w(L)),N=p.useRef(null),C=p.useRef(""),S=v.viewport,k=a.content-a.viewport,A=Zr(h),E=Zr(d),T=Hx(f,10);function M(L){if(N.current){const V=L.clientX-N.current.left,R=L.clientY-N.current.top;m({x:V,y:R})}}return p.useEffect(()=>{const L=V=>{const R=V.target;(b==null?void 0:b.contains(R))&&A(V,k)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[S,b,k,A]),p.useEffect(E,[a,E]),Bu(b,T),Bu(v.content,T),t.jsx(Qte,{scope:s,scrollbar:b,hasThumb:n,onThumbChange:Zr(i),onThumbPointerUp:Zr(o),onThumbPositionChange:E,onThumbPointerDown:Zr(l),children:t.jsx(He.div,{...g,ref:y,style:{position:"absolute",...g.style},onPointerDown:Le(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),N.current=b.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),M(L))}),onPointerMove:Le(e.onPointerMove,M),onPointerUp:Le(e.onPointerUp,L=>{const V=L.target;V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=C.current,v.viewport&&(v.viewport.style.scrollBehavior=""),N.current=null})})})}),p0="ScrollAreaThumb",dD=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=lD(p0,e.__scopeScrollArea);return t.jsx(wa,{present:s||n.hasThumb,children:t.jsx(Zte,{ref:r,...a})})}),Zte=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,style:a,...n}=e,i=Gn(p0,s),o=lD(p0,s),{onThumbPositionChange:l}=o,d=ut(r,f=>o.onThumbChange(f)),m=p.useRef(void 0),h=Hx(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(h(),!m.current){const v=rre(f,l);m.current=v,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,h,l]),t.jsx(He.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Le(e.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),b=f.clientX-v.left,w=f.clientY-v.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:Le(e.onPointerUp,o.onThumbPointerUp)})});dD.displayName=p0;var ZS="ScrollAreaCorner",uD=p.forwardRef((e,r)=>{const s=Gn(ZS,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?t.jsx(ere,{...e,ref:r}):null});uD.displayName=ZS;var ere=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,...a}=e,n=Gn(ZS,s),[i,o]=p.useState(0),[l,d]=p.useState(0),m=!!(i&&l);return Bu(n.scrollbarX,()=>{var f;const h=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(h),d(h)}),Bu(n.scrollbarY,()=>{var f;const h=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(h),o(h)}),m?t.jsx(He.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function g0(e){return e?parseInt(e,10):0}function mD(e,r){const s=e/r;return isNaN(s)?0:s}function qx(e){const r=mD(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*r;return Math.max(a,18)}function tre(e,r,s,a="ltr"){const n=qx(s),i=n/2,o=r||i,l=n-o,d=s.scrollbar.paddingStart+o,m=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,f=a==="ltr"?[0,h]:[h*-1,0];return hD([d,m],f)(e)}function WA(e,r,s="ltr"){const a=qx(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,o=r.content-r.viewport,l=i-a,d=s==="ltr"?[0,o]:[o*-1,0],m=Yh(e,d);return hD([0,o],[0,l])(m)}function hD(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function fD(e,r){return e>0&&e<r}var rre=(e,r=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&r(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function Hx(e,r){const s=Zr(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function Bu(e,r){const s=Zr(r);ls(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,s])}var pD=aD,sre=iD,are=uD;const x0=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(pD,{ref:a,className:$e("relative overflow-hidden",e),...s,children:[t.jsx(sre,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(gD,{}),t.jsx(are,{})]}));x0.displayName=pD.displayName;const gD=p.forwardRef(({className:e,orientation:r="vertical",...s},a)=>t.jsx(XS,{ref:a,orientation:r,className:$e("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(dD,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));gD.displayName=XS.displayName;const Pe=p.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:$e("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:a,...s}));Pe.displayName="Input";const nre={success:yt,error:Gt,warning:va,info:Vt,system:ns,campaign:or,billing:Fr,calls:xt,performance:Bs,security:xs,message:Ji,update:as},VA={system:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/20",icon:"text-purple-500"},calls:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",icon:"text-blue-500"},campaigns:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",icon:"text-emerald-500"},performance:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"text-orange-500"},billing:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/20",icon:"text-yellow-500"},security:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20",icon:"text-red-500"}},ire={low:{color:"bg-gray-400",pulse:!1},medium:{color:"bg-blue-500",pulse:!1},high:{color:"bg-orange-500",pulse:!0},urgent:{color:"bg-red-500",pulse:!0}},ore=le.memo(function({notification:r,onMarkAsRead:s,onRemove:a,onAction:n}){var v;const{t:i}=yn("components"),[o,l]=p.useState(!1),d=nre[r.type]||Vt,m=VA[r.category]||VA.system,h=ire[r.priority],f=f0(r.timestamp,{addSuffix:!0}),g=()=>{r.action&&(n==null||n(r.action),r.action.href&&window.open(r.action.href,"_blank"),r.action.callback&&r.action.callback())};return t.jsxs("div",{className:$e("group relative cursor-pointer rounded-lg border p-3 transition-all duration-200","hover:border-gray-600/50 hover:bg-gray-800/30",!r.read&&"border-gray-700/30 bg-gray-800/20",r.read&&"border-gray-800/30 bg-transparent"),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>!r.read&&s(r.id),children:[t.jsx("div",{className:$e("absolute left-2 top-2 h-2 w-2 rounded-full",h.color,h.pulse&&"animate-pulse")}),!r.read&&t.jsx("div",{className:"absolute right-2 top-2 h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsxs("div",{className:"ml-4 flex items-start gap-3",children:[t.jsx("div",{className:$e("flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg transition-all duration-200",m.bg,m.border,"border"),children:t.jsx(d,{className:$e("h-4 w-4",m.icon)})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:$e("text-sm font-semibold leading-tight transition-colors duration-200",r.read?"text-gray-300":"text-white",o&&"text-emerald-400"),children:r.title}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsx(Ne,{variant:"outline",className:$e("border-0 px-2 py-0.5 text-xs font-medium",m.bg,m.text),children:r.category}),t.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(Rt,{className:"h-3 w-3"}),f]})]})]}),t.jsxs("div",{className:$e("flex items-center gap-1 opacity-0 transition-opacity duration-200",o&&"opacity-100"),children:[r.action&&t.jsxs(K,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-emerald-400 hover:bg-emerald-500/10 hover:text-emerald-300",onClick:b=>{b.stopPropagation(),g()},children:[r.action.label,t.jsx(Yi,{className:"ml-1 h-3 w-3"})]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:bg-white/10 hover:text-white",onClick:b=>b.stopPropagation(),children:t.jsx(rm,{className:"h-3 w-3"})})}),t.jsxs(qn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsx(Yt,{onClick:b=>{b.stopPropagation(),r.read,s(r.id)},className:"text-gray-300 hover:bg-white/10 hover:text-white",children:r.read?t.jsxs(t.Fragment,{children:[t.jsx(ha,{className:"mr-2 h-4 w-4"}),i("notifications.mark_as_unread")]}):t.jsxs(t.Fragment,{children:[t.jsx(Rr,{className:"mr-2 h-4 w-4"}),i("notifications.mark_as_read")]})}),t.jsxs(Yt,{onClick:b=>{b.stopPropagation(),a(r.id)},className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),i("notifications.remove")]})]})]})]})]}),t.jsx("p",{className:"mb-3 line-clamp-2 text-sm leading-relaxed text-gray-400",children:r.message}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500",children:r.source}),((v=r.metadata)==null?void 0:v.tags)&&t.jsx("div",{className:"flex items-center gap-1",children:r.metadata.tags.slice(0,2).map((b,w)=>t.jsx(Ne,{variant:"outline",className:"border-gray-700 px-1.5 py-0 text-xs text-gray-400",children:b},w))})]})]})]})]})});function lre(){const{t:e}=yn("components"),r=Nr(),[s,a]=p.useState(!1),[n,i]=p.useState(""),[o,l]=p.useState("all"),{notifications:d,markAsRead:m,markAllAsRead:h,removeNotification:f,clearAll:g,getUnreadCount:v,getFilteredNotifications:b}=om(),w=v(),y=le.useMemo(()=>[...d.filter(E=>{const T=n===""||E.title.toLowerCase().includes(n.toLowerCase())||E.message.toLowerCase().includes(n.toLowerCase())||E.source.toLowerCase().includes(n.toLowerCase()),M=o==="all"||o==="unread"&&!E.read||o==="read"&&E.read;return T&&M})].sort((E,T)=>{if(E.read!==T.read)return E.read?1:-1;const M=E.timestamp instanceof Date?E.timestamp:new Date(E.timestamp);return(T.timestamp instanceof Date?T.timestamp:new Date(T.timestamp)).getTime()-M.getTime()}).slice(0,50),[d,n,o]),N=le.useCallback(k=>{m(k)},[m]),C=le.useCallback(k=>{f(k)},[f]),S=k=>{k!=null&&k.href&&window.open(k.href,"_blank"),k!=null&&k.callback&&k.callback()};return t.jsxs(ji,{open:s,onOpenChange:a,children:[t.jsx(Ni,{asChild:!0,children:t.jsxs("div",{className:"relative h-10 w-10 cursor-pointer inline-flex items-center justify-center bg-transparent border-none outline-none focus:outline-none",children:[t.jsx(Oo,{className:$e("h-5 w-5 transition-colors duration-200",s?"text-emerald-400":"text-gray-300 hover:text-white")}),w>0&&t.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 animate-pulse rounded-full bg-emerald-500 shadow-lg"})]})}),t.jsxs(qn,{className:"w-96 border-gray-700/50 bg-gray-900/95 p-0 shadow-2xl backdrop-blur-sm",align:"end",sideOffset:8,children:[t.jsx("div",{className:"relative border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[t.jsx(zo,{className:"h-4 w-4 text-gray-400"}),e("notifications.title")]}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:w>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-500"}),w===1?e("notifications.new_notifications",{count:w}):e("notifications.new_notifications_plural",{count:w})]}):e("notifications.all_caught_up")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[w>0&&t.jsxs(K,{variant:"ghost",size:"sm",onClick:h,className:"h-7 px-2 text-xs text-gray-300 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:[t.jsx(IN,{className:"mr-1 h-3 w-3"}),e("notifications.mark_all_read")]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 transition-all duration-200 hover:bg-white/10 hover:text-white",children:t.jsx(os,{className:"h-4 w-4"})})}),t.jsxs(qn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsxs(Yt,{onClick:g,className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),e("notifications.clear_all")]}),t.jsxs(Yt,{className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(os,{className:"mr-2 h-4 w-4"}),e("notifications.notification_settings")]})]})]})]})]})}),t.jsxs("div",{className:"space-y-2 border-b border-gray-800/30 p-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx(Pe,{placeholder:e("notifications.search_placeholder"),value:n,onChange:k=>i(k.target.value),className:"h-8 border-gray-700/50 bg-gray-800/50 pl-8 text-xs text-white transition-all duration-200 placeholder:text-gray-500 focus:border-gray-600 focus:ring-0"})]}),t.jsx("div",{className:"flex items-center gap-1",children:["all","unread","read"].map(k=>t.jsxs(K,{variant:o===k?"default":"ghost",size:"sm",onClick:()=>l(k),className:$e("h-6 px-2 text-xs capitalize transition-all duration-200",o===k?"bg-gray-700 text-white hover:bg-gray-600":"text-gray-400 hover:bg-gray-800/50 hover:text-white"),children:[e(`notifications.filter_${k}`),k==="unread"&&w>0&&t.jsx(Ne,{className:"ml-1 border-0 bg-emerald-500 px-1 py-0 text-xs text-white",children:w})]},k))})]}),t.jsx(x0,{className:"h-80",children:t.jsx("div",{className:"p-1",children:y.length>0?t.jsx("div",{className:"space-y-1 p-2",children:y.map(k=>t.jsx(ore,{notification:k,onMarkAsRead:N,onRemove:C,onAction:S},k.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Oo,{className:"mx-auto mb-4 h-16 w-16 opacity-30"}),t.jsx(zo,{className:"absolute -right-1 -top-1 h-6 w-6 animate-pulse text-emerald-400"})]}),t.jsx("p",{className:"mb-2 text-lg font-medium",children:e(n?"notifications.no_matching":"notifications.all_clear")}),t.jsx("p",{className:"max-w-xs text-center text-sm text-gray-600",children:e(n?"notifications.try_adjusting":"notifications.no_new_right_now")})]})})}),t.jsxs("div",{className:"border-t border-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Us,{className:"h-3 w-3"}),t.jsxs("span",{children:[e("notifications.last_updated"),": ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{children:[y.length," ",e("notifications.shown")]}),t.jsx("span",{children:""}),t.jsxs("span",{children:[d.length," ",e("notifications.total")]})]})]}),t.jsx(K,{variant:"ghost",className:"mt-3 w-full h-9 text-sm text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>{a(!1),r("/notifications")},children:e("notifications.view_all_notifications")})]})]})]})}const cre=[{title:"Platform Overview",titleKey:"platform_overview",url:"/platform",icon:Ox,isActive:e=>e==="/platform"||e==="/platform-owner"},{title:"Organizations",titleKey:"organizations",url:"/organizations",icon:lr,isActive:e=>e==="/organizations"||e.startsWith("/organization")},{title:"User Management",titleKey:"user_management",url:"/user-management",icon:ql,isActive:e=>e==="/user-management"},{title:"Platform Analytics",titleKey:"platform_analytics",url:"/platform-analytics",icon:ba,isActive:e=>e==="/platform-analytics"},{title:"Support Tickets",titleKey:"support_tickets",url:"/support-tickets",icon:Wh,isActive:e=>e==="/support-tickets"},{title:"System Health",titleKey:"system_health",url:"/system-health",icon:Us,isActive:e=>e==="/system-health"},{title:"Security & Audit",titleKey:"security_audit",url:"/audit-logs",icon:xs,isActive:e=>e==="/audit-logs"}],dre=[{title:"Agency Dashboard",titleKey:"agency_dashboard",url:"/agency",icon:Ox,isActive:e=>e==="/agency"},{title:"Client Management",titleKey:"client_management",url:"/clients",icon:lr,isActive:e=>e==="/clients"||e.startsWith("/client/")},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:or,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:ba,isActive:e=>e==="/analytics"},{title:"Team",titleKey:"team",url:"/team-management",icon:bt,isActive:e=>e==="/team-management"},{title:"Billing",titleKey:"billing",url:"/billing",icon:Gi,isActive:e=>e==="/billing"},{title:"Settings",titleKey:"settings",url:"/settings",icon:os,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],ure=[{title:"Dashboard",titleKey:"dashboard",url:"/dashboard",icon:Ox,isActive:e=>e==="/dashboard"},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:or,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"CRM",titleKey:"crm",url:"/crm",icon:Ax,isActive:e=>e==="/crm"},{title:"Appointments",titleKey:"appointments",url:"/appointments",icon:_s,isActive:e=>e==="/appointments"},{title:"All Calls",titleKey:"all_calls",url:"/all-calls",icon:r0,isActive:e=>e==="/all-calls"},{title:"Live Monitor",titleKey:"live_monitor",url:"/live-calls",icon:eY,isActive:e=>e==="/live-calls"},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:ba,isActive:e=>e==="/analytics"},{title:"Cost Analytics",titleKey:"cost_analytics",url:"/cost-analytics",icon:Fr,isActive:e=>e==="/cost-analytics"},{title:"Team",titleKey:"team_management",url:"/team-management",icon:bt,isActive:e=>e==="/team-management"},{title:"Organization",titleKey:"organization",url:"/organization-settings",icon:lr,isActive:e=>e==="/organization-settings",adminOnly:!0},{title:"Settings",titleKey:"settings",url:"/settings",icon:os,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],mre=()=>{var h,f,g;const{t:e}=yn(),r=Ql(),s=Nr(),{userContext:a}=ao(),{addNotification:n,notifications:i}=om(),[o,l]=p.useState(!1),{user:d}=gS();p.useEffect(()=>{var y;const v=(y=d==null?void 0:d.primaryEmailAddress)==null?void 0:y.emailAddress,w=["/dashboard","/campaigns","/crm","/all-calls","/live-calls"].some(N=>r.pathname.startsWith(N));v==="sean@artificialmedia.co.uk"&&w&&(console.log(" Redirecting platform owner away from client path to /platform"),s("/platform",{replace:!0}))},[d,r.pathname,s]),p.useEffect(()=>{i.length===0&&(console.log(" Layout: Initializing demo notifications"),n({type:"success",title:"Campaign Performance Alert",message:"Summer Sale campaign exceeded target conversion rate by 15%! Great job on the optimization.",category:"campaigns",priority:"medium",source:"Campaign Engine",read:!1,action:{label:"View Campaign",href:"/campaigns"}}),n({type:"warning",title:"Low Credit Balance",message:"VAPI credits running low. Current balance: 150 credits. Consider topping up.",category:"billing",priority:"high",source:"Billing System",read:!1,action:{label:"Add Credits",href:"/billing"}}),n({type:"info",title:"System Update Complete",message:"Platform has been updated to v2.1.3 with improved call quality and new analytics features.",category:"system",priority:"low",source:"System",read:!0}))},[i.length,n]);const m=p.useMemo(()=>{var b;const v=(b=a==null?void 0:a.role)==null?void 0:b.toLowerCase();switch(console.log(" Layout: Determining menu for role:",v),v){case"platform_owner":return cre;case"agency_owner":case"agency_admin":case"agency_user":return dre;case"client_admin":case"client_user":default:return ure}},[a==null?void 0:a.role]);return t.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>l(!1)}),t.jsxs("div",{className:`group relative transition-all duration-300 ease-in-out z-50 ${o?"fixed inset-y-0 left-0 w-[280px] md:relative md:w-16 md:hover:w-[280px]":"hidden md:block md:w-16 md:hover:w-[280px]"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-xl border-r border-cyan-400/10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-400/5 to-transparent pointer-events-none"}),t.jsxs("div",{className:"relative h-full flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-400 to-blue-500 shadow-lg shadow-cyan-400/20 flex-shrink-0",children:t.jsx(ns,{className:"h-6 w-6 text-black font-bold"})}),t.jsxs("div",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap overflow-hidden ${o?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[t.jsx("h1",{className:"text-xl font-bold text-cyan-400 uppercase tracking-wider",children:"Apex AI"}),t.jsx("p",{className:"text-xs text-white/60",children:e("navigation:voice_platform")})]})]})}),t.jsx("div",{className:"flex-1 py-5",children:t.jsx("nav",{className:"space-y-1",children:m.map(v=>{if(v.adminOnly&&(a==null?void 0:a.role)!=="client_admin"&&(a==null?void 0:a.role)!=="platform_owner")return null;const b=v.isActive(r.pathname);return t.jsxs(OW,{to:v.url,onClick:()=>l(!1),className:`
                      nav-item flex items-center px-4 py-3.5 text-sm font-medium transition-all duration-300 
                      border-l-3 relative mx-2 rounded-lg
                      ${b?"bg-cyan-400/10 text-cyan-400 border-l-cyan-400":"text-white/70 border-l-transparent hover:bg-cyan-400/5 hover:text-cyan-400 hover:border-l-cyan-400/30"}
                    `,children:[b&&t.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-transparent via-cyan-400 to-transparent"}),t.jsx(v.icon,{className:`
                      h-5 w-5 flex-shrink-0 transition-all duration-300
                      ${b?"text-cyan-400":"text-white/60 group-hover:text-cyan-400"}
                    `}),t.jsx("span",{className:`ml-3 tracking-wide whitespace-nowrap overflow-hidden transition-opacity duration-300 ${o?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:e(`navigation:${v.titleKey}`)}),v.badge&&t.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded-full animate-pulse opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:v.badge})]},v.title)})})}),t.jsx("div",{className:"p-4 border-t border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center font-semibold text-black text-sm flex-shrink-0",children:[((h=a==null?void 0:a.firstName)==null?void 0:h[0])||"U",((f=a==null?void 0:a.lastName)==null?void 0:f[0])||"U"]}),t.jsxs("div",{className:"ml-3 flex-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap overflow-hidden",children:[t.jsxs("div",{className:"text-sm font-semibold text-white",children:[(a==null?void 0:a.firstName)||"User"," ",(a==null?void 0:a.lastName)||""]}),t.jsx("div",{className:"text-xs text-white/60",children:((g=a==null?void 0:a.role)==null?void 0:g.replace(/_/g," ").replace(/\b\w/g,v=>v.toUpperCase()))||"User"})]})]})})]})]}),t.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-gray-900/50 via-black to-gray-900/50",children:[t.jsxs("header",{className:"h-[70px] bg-black/95 backdrop-blur-xl border-b border-cyan-400/10 flex items-center justify-between px-4 sm:px-6 lg:px-8 relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>l(!o),children:t.jsx(QG,{className:"h-5 w-5"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white tracking-wide",children:(()=>{const v=m.find(b=>b.isActive(r.pathname));return e(v?`navigation:${v.titleKey}`:"navigation:dashboard")})()})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-5",children:[t.jsx(lre,{}),t.jsx(Tee,{})]})]}),t.jsx("main",{className:"flex-1 overflow-auto bg-black",children:t.jsx(vW,{})})]})]})},hre=1,fre=1e6;let fw=0;function pre(){return fw=(fw+1)%Number.MAX_SAFE_INTEGER,fw.toString()}const pw=new Map,qA=e=>{if(pw.has(e))return;const r=setTimeout(()=>{pw.delete(e),Dh({type:"REMOVE_TOAST",toastId:e})},fre);pw.set(e,r)},gre=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,hre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?qA(s):e.toasts.forEach(a=>{qA(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)}}},Wg=[];let Vg={toasts:[]};function Dh(e){Vg=gre(Vg,e),Wg.forEach(r=>{r(Vg)})}function xD({...e}){const r=pre(),s=n=>Dh({type:"UPDATE_TOAST",toast:{...n,id:r}}),a=()=>Dh({type:"DISMISS_TOAST",toastId:r});return Dh({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:n=>{n||a()}}}),{id:r,dismiss:a,update:s}}function ds(){const[e,r]=p.useState(Vg);return p.useEffect(()=>(Wg.push(r),()=>{const s=Wg.indexOf(r);s>-1&&Wg.splice(s,1)}),[e]),{...e,toast:xD,dismiss:s=>Dh({type:"DISMISS_TOAST",toastId:s})}}var yD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xre="VisuallyHidden",e2=p.forwardRef((e,r)=>t.jsx(He.span,{...e,ref:r,style:{...yD,...e.style}}));e2.displayName=xre;var t2="ToastProvider",[r2,yre,vre]=bf("Toast"),[vD,v1e]=qs("Toast",[vre]),[bre,Kx]=vD(t2),bD=e=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,d]=p.useState(null),[m,h]=p.useState(0),f=p.useRef(!1),g=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${t2}\`. Expected non-empty \`string\`.`),t.jsx(r2.Provider,{scope:r,children:t.jsx(bre,{scope:r,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:m,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>h(v=>v+1),[]),onToastRemove:p.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};bD.displayName=t2;var wD="ToastViewport",wre=["F8"],YN="toast.viewportPause",JN="toast.viewportResume",jD=p.forwardRef((e,r)=>{const{__scopeToast:s,hotkey:a=wre,label:n="Notifications ({hotkey})",...i}=e,o=Kx(wD,s),l=yre(s),d=p.useRef(null),m=p.useRef(null),h=p.useRef(null),f=p.useRef(null),g=ut(r,f,o.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;p.useEffect(()=>{const y=N=>{var S;a.length!==0&&a.every(k=>N[k]||N.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),p.useEffect(()=>{const y=d.current,N=f.current;if(b&&y&&N){const C=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(YN);N.dispatchEvent(E),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(JN);N.dispatchEvent(E),o.isClosePausedRef.current=!1}},k=E=>{!y.contains(E.relatedTarget)&&S()},A=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",C),y.addEventListener("focusout",k),y.addEventListener("pointermove",C),y.addEventListener("pointerleave",A),window.addEventListener("blur",C),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",C),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",C),y.removeEventListener("pointerleave",A),window.removeEventListener("blur",C),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const w=p.useCallback(({tabbingDirection:y})=>{const C=l().map(S=>{const k=S.ref.current,A=[k,...Rre(k)];return y==="forwards"?A:A.reverse()});return(y==="forwards"?C.reverse():C).flat()},[l]);return p.useEffect(()=>{const y=f.current;if(y){const N=C=>{var A,E,T;const S=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!S){const M=document.activeElement,L=C.shiftKey;if(C.target===y&&L){(A=m.current)==null||A.focus();return}const I=w({tabbingDirection:L?"backwards":"forwards"}),B=I.findIndex(H=>H===M);gw(I.slice(B+1))?C.preventDefault():L?(E=m.current)==null||E.focus():(T=h.current)==null||T.focus()}};return y.addEventListener("keydown",N),()=>y.removeEventListener("keydown",N)}},[l,w]),t.jsxs(kJ,{ref:d,role:"region","aria-label":n.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&t.jsx(XN,{ref:m,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"forwards"});gw(y)}}),t.jsx(r2.Slot,{scope:s,children:t.jsx(He.ol,{tabIndex:-1,...i,ref:g})}),b&&t.jsx(XN,{ref:h,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"backwards"});gw(y)}})]})});jD.displayName=wD;var ND="ToastFocusProxy",XN=p.forwardRef((e,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=Kx(ND,s);return t.jsx(e2,{"aria-hidden":!0,tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:o=>{var m;const l=o.relatedTarget;!((m=i.viewport)!=null&&m.contains(l))&&a()}})});XN.displayName=ND;var Af="Toast",jre="toast.swipeStart",Nre="toast.swipeMove",Sre="toast.swipeCancel",Cre="toast.swipeEnd",SD=p.forwardRef((e,r)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,d]=vi({prop:a,defaultProp:n??!0,onChange:i,caller:Af});return t.jsx(wa,{present:s||l,children:t.jsx(Pre,{open:l,...o,ref:r,onClose:()=>d(!1),onPause:Zr(e.onPause),onResume:Zr(e.onResume),onSwipeStart:Le(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});SD.displayName=Af;var[kre,_re]=vD(Af,{onClose(){}}),Pre=p.forwardRef((e,r)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:m,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:v,...b}=e,w=Kx(Af,s),[y,N]=p.useState(null),C=ut(r,H=>N(H)),S=p.useRef(null),k=p.useRef(null),A=n||w.duration,E=p.useRef(0),T=p.useRef(A),M=p.useRef(0),{onToastAdd:L,onToastRemove:V}=w,R=Zr(()=>{var F;(y==null?void 0:y.contains(document.activeElement))&&((F=w.viewport)==null||F.focus()),o()}),I=p.useCallback(H=>{!H||H===1/0||(window.clearTimeout(M.current),E.current=new Date().getTime(),M.current=window.setTimeout(R,H))},[R]);p.useEffect(()=>{const H=w.viewport;if(H){const F=()=>{I(T.current),m==null||m()},U=()=>{const O=new Date().getTime()-E.current;T.current=T.current-O,window.clearTimeout(M.current),d==null||d()};return H.addEventListener(YN,U),H.addEventListener(JN,F),()=>{H.removeEventListener(YN,U),H.removeEventListener(JN,F)}}},[w.viewport,A,d,m,I]),p.useEffect(()=>{i&&!w.isClosePausedRef.current&&I(A)},[i,A,w.isClosePausedRef,I]),p.useEffect(()=>(L(),()=>V()),[L,V]);const B=p.useMemo(()=>y?TD(y):null,[y]);return w.viewport?t.jsxs(t.Fragment,{children:[B&&t.jsx(Are,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),t.jsx(kre,{scope:s,onClose:R,children:Jl.createPortal(t.jsx(r2.ItemSlot,{scope:s,children:t.jsx(CJ,{asChild:!0,onEscapeKeyDown:Le(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||R(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Le(e.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:Le(e.onPointerMove,H=>{if(!S.current)return;const F=H.clientX-S.current.x,U=H.clientY-S.current.y,O=!!k.current,$=["left","right"].includes(w.swipeDirection),W=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,q=$?W(0,F):0,z=$?0:W(0,U),Q=H.pointerType==="touch"?10:2,Ae={x:q,y:z},de={originalEvent:H,delta:Ae};O?(k.current=Ae,wg(Nre,f,de,{discrete:!1})):HA(Ae,w.swipeDirection,Q)?(k.current=Ae,wg(jre,h,de,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(F)>Q||Math.abs(U)>Q)&&(S.current=null)}),onPointerUp:Le(e.onPointerUp,H=>{const F=k.current,U=H.target;if(U.hasPointerCapture(H.pointerId)&&U.releasePointerCapture(H.pointerId),k.current=null,S.current=null,F){const O=H.currentTarget,$={originalEvent:H,delta:F};HA(F,w.swipeDirection,w.swipeThreshold)?wg(Cre,v,$,{discrete:!0}):wg(Sre,g,$,{discrete:!0}),O.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Are=e=>{const{__scopeToast:r,children:s,...a}=e,n=Kx(Af,r),[i,o]=p.useState(!1),[l,d]=p.useState(!1);return Ore(()=>o(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:t.jsx(Sf,{asChild:!0,children:t.jsx(e2,{...a,children:i&&t.jsxs(t.Fragment,{children:[n.label," ",s]})})})},Ere="ToastTitle",CD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});CD.displayName=Ere;var Tre="ToastDescription",kD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});kD.displayName=Tre;var _D="ToastAction",PD=p.forwardRef((e,r)=>{const{altText:s,...a}=e;return s.trim()?t.jsx(ED,{altText:s,asChild:!0,children:t.jsx(s2,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${_D}\`. Expected non-empty \`string\`.`),null)});PD.displayName=_D;var AD="ToastClose",s2=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e,n=_re(AD,s);return t.jsx(ED,{asChild:!0,children:t.jsx(He.button,{type:"button",...a,ref:r,onClick:Le(e.onClick,n.onClose)})})});s2.displayName=AD;var ED=p.forwardRef((e,r)=>{const{__scopeToast:s,altText:a,...n}=e;return t.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:r})});function TD(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),Mre(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...TD(a))}}),r}function wg(e,r,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?_S(n,i):n.dispatchEvent(i)}var HA=(e,r,s=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return r==="left"||r==="right"?i&&a>s:!i&&n>s};function Ore(e=()=>{}){const r=Zr(e);ls(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function Mre(e){return e.nodeType===e.ELEMENT_NODE}function Rre(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function gw(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var Ire=bD,OD=jD,MD=SD,RD=CD,ID=kD,DD=PD,LD=s2;const Dre=Ire,$D=p.forwardRef(({className:e,...r},s)=>t.jsx(OD,{ref:s,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));$D.displayName=OD.displayName;const Lre=vf("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),zD=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx(MD,{ref:a,className:$e(Lre({variant:r}),e),...s}));zD.displayName=MD.displayName;const $re=p.forwardRef(({className:e,...r},s)=>t.jsx(DD,{ref:s,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",e),...r}));$re.displayName=DD.displayName;const FD=p.forwardRef(({className:e,...r},s)=>t.jsx(LD,{ref:s,className:$e("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...r,children:t.jsx(St,{className:"h-4 w-4"})}));FD.displayName=LD.displayName;const UD=p.forwardRef(({className:e,...r},s)=>t.jsx(RD,{ref:s,className:$e("text-sm font-semibold [&+div]:text-xs",e),...r}));UD.displayName=RD.displayName;const BD=p.forwardRef(({className:e,...r},s)=>t.jsx(ID,{ref:s,className:$e("text-sm opacity-90",e),...r}));BD.displayName=ID.displayName;function zre(){const{toasts:e}=ds();return t.jsxs(Dre,{children:[e.map(function({id:r,title:s,description:a,action:n,...i}){return t.jsxs(zD,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(UD,{children:s}),a&&t.jsx(BD,{children:a})]}),n,t.jsx(FD,{})]},r)}),t.jsx($D,{})]})}var xw={},yw={},KA;function Fre(){return KA||(KA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r}(yw)),yw}var vw={},GA;function WD(){return GA||(GA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r}(vw)),vw}var bw={},YA;function VD(){return YA||(YA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r}(bw)),bw}var ww={},JA;function a2(){return JA||(JA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){const a=[],n=s.length;if(n===0)return a;let i=0,o="",l="",d=!1;for(s.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const m=s[i];l?m==="\\"&&i+1<n?(i++,o+=s[i]):m===l?l="":o+=m:d?m==='"'||m==="'"?l=m:m==="]"?(d=!1,a.push(o),o=""):o+=m:m==="["?(d=!0,o&&(a.push(o),o="")):m==="."?o&&(a.push(o),o=""):o+=m,i++}return o&&a.push(o),a}e.toPath=r}(ww)),ww}var XA;function n2(){return XA||(XA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Fre(),s=WD(),a=VD(),n=a2();function i(l,d,m){if(l==null)return m;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?s.isDeepKey(d)?i(l,n.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const h=l[d];return h===void 0?m:h}default:{if(Array.isArray(d))return o(l,d,m);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?m:h}}}function o(l,d,m){if(d.length===0)return m;let h=l;for(let f=0;f<d.length;f++){if(h==null||r.isUnsafeProperty(d[f]))return m;h=h[d[f]]}return h===void 0?m:h}e.get=i}(xw)),xw}var jw,QA;function Ure(){return QA||(QA=1,jw=n2().get),jw}var Bre=Ure();const Gl=gn(Bre);var Nw={exports:{}},mr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function Wre(){if(ZA)return mr;ZA=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case e:switch(y=y.type,y){case s:case n:case a:case m:case h:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case d:case g:case f:case i:return y;default:return N}}case r:return N}}}return mr.ContextConsumer=o,mr.ContextProvider=i,mr.Element=e,mr.ForwardRef=d,mr.Fragment=s,mr.Lazy=g,mr.Memo=f,mr.Portal=r,mr.Profiler=n,mr.StrictMode=a,mr.Suspense=m,mr.SuspenseList=h,mr.isAsyncMode=function(){return!1},mr.isConcurrentMode=function(){return!1},mr.isContextConsumer=function(y){return w(y)===o},mr.isContextProvider=function(y){return w(y)===i},mr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},mr.isForwardRef=function(y){return w(y)===d},mr.isFragment=function(y){return w(y)===s},mr.isLazy=function(y){return w(y)===g},mr.isMemo=function(y){return w(y)===f},mr.isPortal=function(y){return w(y)===r},mr.isProfiler=function(y){return w(y)===n},mr.isStrictMode=function(y){return w(y)===a},mr.isSuspense=function(y){return w(y)===m},mr.isSuspenseList=function(y){return w(y)===h},mr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===s||y===n||y===a||y===m||y===h||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===f||y.$$typeof===i||y.$$typeof===o||y.$$typeof===d||y.$$typeof===b||y.getModuleId!==void 0)},mr.typeOf=w,mr}var eE;function Vre(){return eE||(eE=1,Nw.exports=Wre()),Nw.exports}var qre=Vre(),Fs=e=>e===0?0:e>0?1:-1,Ja=e=>typeof e=="number"&&e!=+e,Fc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ve=e=>(typeof e=="number"||e instanceof Number)&&!Ja(e),Qi=e=>Ve(e)||typeof e=="string",Hre=0,Jh=e=>{var r=++Hre;return"".concat(e||"").concat(r)},Ea=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(r)&&typeof r!="string")return a;var i;if(Fc(r)){if(s==null)return a;var o=r.indexOf("%");i=s*parseFloat(r.slice(0,o))/100}else i=+r;return Ja(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},qD=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},tE=(e,r)=>Ve(e)&&Ve(r)?s=>e+s*(r-e):()=>r;function ea(e,r,s){return Ve(e)&&Ve(r)?e+s*(r-e):r}function HD(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):Gl(a,r))===s)}var Ar=e=>e===null||typeof e>"u",Ef=e=>Ar(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Kre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function i2(e){if(typeof e!="string")return!1;var r=Kre;return r.includes(e)}var Gre=["viewBox","children"],rE=["points","pathLength"],Sw={svg:Gre,polygon:rE,polyline:rE},o2=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(p.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{i2(n)&&(a[n]=i=>s[n](s,i))}),a},Yre=(e,r,s)=>a=>(e(r,s,a),null),Gx=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];i2(n)&&typeof i=="function"&&(a||(a={}),a[n]=Yre(i,r,s))}),a},Jre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function KD(e){if(typeof e!="string")return!1;var r=Jre;return r.includes(e)}function Si(e){var r=Object.entries(e).filter(s=>{var[a]=s;return KD(a)});return Object.fromEntries(r)}var sE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",aE=null,Cw=null,GD=e=>{if(e===aE&&Array.isArray(Cw))return Cw;var r=[];return p.Children.forEach(e,s=>{Ar(s)||(qre.isFragment(s)?r=r.concat(GD(s.props.children)):r.push(s))}),Cw=r,aE=e,r};function Tf(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>sE(n)):a=[sE(r)],GD(e).forEach(n=>{var i=Gl(n,"type.displayName")||Gl(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}var Yx=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Xre=(e,r,s,a)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=a&&(Sw==null?void 0:Sw[a]))!==null&&n!==void 0?n:[],o=r.startsWith("data-"),l=typeof e!="function"&&(!!a&&i.includes(r)||KD(r)),d=!!s&&i2(r);return o||l||d},Pr=(e,r,s)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var o;Xre((o=a)===null||o===void 0?void 0:o[i],i,r,s)&&(n[i]=a[i])}),n},Qre=["children","width","height","viewBox","className","style","title","desc"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},QN.apply(null,arguments)}function Zre(e,r){if(e==null)return{};var s,a,n=ese(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ese(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var YD=p.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:o,style:l,title:d,desc:m}=e,h=Zre(e,Qre),f=i||{width:a,height:n,x:0,y:0},g=Jt("recharts-surface",o);return p.createElement("svg",QN({},Pr(h,!0,"svg"),{className:g,width:a,height:n,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:r}),p.createElement("title",null,d),p.createElement("desc",null,m),s)}),tse=["children","className"];function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ZN.apply(null,arguments)}function rse(e,r){if(e==null)return{};var s,a,n=sse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var cs=p.forwardRef((e,r)=>{var{children:s,className:a}=e,n=rse(e,tse),i=Jt("recharts-layer",a);return p.createElement("g",ZN({className:i},Pr(n,!0),{ref:r}),s)}),ase=p.createContext(null);function _r(e){return function(){return e}}const JD=Math.cos,y0=Math.sin,Ci=Math.sqrt,v0=Math.PI,Jx=2*v0,e1=Math.PI,t1=2*e1,Dc=1e-6,nse=t1-Dc;function XD(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function ise(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return XD;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class ose{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?XD:ise(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,o){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-r,m=n-s,h=o-r,f=l-s,g=h*h+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(g>Dc)if(!(Math.abs(f*d-m*h)>Dc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let v=a-o,b=n-l,w=d*d+m*m,y=v*v+b*b,N=Math.sqrt(w),C=Math.sqrt(g),S=i*Math.tan((e1-Math.acos((w+g-y)/(2*N*C)))/2),k=S/C,A=S/N;Math.abs(k-1)>Dc&&this._append`L${r+k*h},${s+k*f}`,this._append`A${i},${i},0,0,${+(f*v>h*b)},${this._x1=r+A*d},${this._y1=s+A*m}`}}arc(r,s,a,n,i,o){if(r=+r,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),d=a*Math.sin(n),m=r+l,h=s+d,f=1^o,g=o?n-i:i-n;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Dc||Math.abs(this._y1-h)>Dc)&&this._append`L${m},${h}`,a&&(g<0&&(g=g%t1+t1),g>nse?this._append`A${a},${a},0,1,${f},${r-l},${s-d}A${a},${a},0,1,${f},${this._x1=m},${this._y1=h}`:g>Dc&&this._append`A${a},${a},0,${+(g>=e1)},${f},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function l2(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new ose(r)}function c2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QD(e){this._context=e}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Xx(e){return new QD(e)}function ZD(e){return e[0]}function eL(e){return e[1]}function tL(e,r){var s=_r(!0),a=null,n=Xx,i=null,o=l2(l);e=typeof e=="function"?e:e===void 0?ZD:_r(e),r=typeof r=="function"?r:r===void 0?eL:_r(r);function l(d){var m,h=(d=c2(d)).length,f,g=!1,v;for(a==null&&(i=n(v=o())),m=0;m<=h;++m)!(m<h&&s(f=d[m],m,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,m,d),+r(f,m,d));if(v)return i=null,v+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),l):e},l.y=function(d){return arguments.length?(r=typeof d=="function"?d:_r(+d),l):r},l.defined=function(d){return arguments.length?(s=typeof d=="function"?d:_r(!!d),l):s},l.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),l):n},l.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),l):a},l}function jg(e,r,s){var a=null,n=_r(!0),i=null,o=Xx,l=null,d=l2(m);e=typeof e=="function"?e:e===void 0?ZD:_r(+e),r=typeof r=="function"?r:_r(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?eL:_r(+s);function m(f){var g,v,b,w=(f=c2(f)).length,y,N=!1,C,S=new Array(w),k=new Array(w);for(i==null&&(l=o(C=d())),g=0;g<=w;++g){if(!(g<w&&n(y=f[g],g,f))===N)if(N=!N)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=v;--b)l.point(S[b],k[b]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+e(y,g,f),k[g]=+r(y,g,f),l.point(a?+a(y,g,f):S[g],s?+s(y,g,f):k[g]))}if(C)return l=null,C+""||null}function h(){return tL().defined(n).curve(o).context(i)}return m.x=function(f){return arguments.length?(e=typeof f=="function"?f:_r(+f),a=null,m):e},m.x0=function(f){return arguments.length?(e=typeof f=="function"?f:_r(+f),m):e},m.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:_r(+f),m):a},m.y=function(f){return arguments.length?(r=typeof f=="function"?f:_r(+f),s=null,m):r},m.y0=function(f){return arguments.length?(r=typeof f=="function"?f:_r(+f),m):r},m.y1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:_r(+f),m):s},m.lineX0=m.lineY0=function(){return h().x(e).y(r)},m.lineY1=function(){return h().x(e).y(s)},m.lineX1=function(){return h().x(a).y(r)},m.defined=function(f){return arguments.length?(n=typeof f=="function"?f:_r(!!f),m):n},m.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),m):o},m.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),m):i},m}class rL{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function lse(e){return new rL(e,!0)}function cse(e){return new rL(e,!1)}const d2={draw(e,r){const s=Ci(r/v0);e.moveTo(s,0),e.arc(0,0,s,0,Jx)}},dse={draw(e,r){const s=Ci(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},sL=Ci(1/3),use=sL*2,mse={draw(e,r){const s=Ci(r/use),a=s*sL;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},hse={draw(e,r){const s=Ci(r),a=-s/2;e.rect(a,a,s,s)}},fse=.8908130915292852,aL=y0(v0/10)/y0(7*v0/10),pse=y0(Jx/10)*aL,gse=-JD(Jx/10)*aL,xse={draw(e,r){const s=Ci(r*fse),a=pse*s,n=gse*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const o=Jx*i/5,l=JD(o),d=y0(o);e.lineTo(d*s,-l*s),e.lineTo(l*a-d*n,d*a+l*n)}e.closePath()}},kw=Ci(3),yse={draw(e,r){const s=-Ci(r/(kw*3));e.moveTo(0,s*2),e.lineTo(-kw*s,-s),e.lineTo(kw*s,-s),e.closePath()}},An=-.5,En=Ci(3)/2,r1=1/Ci(12),vse=(r1/2+1)*3,bse={draw(e,r){const s=Ci(r/vse),a=s/2,n=s*r1,i=a,o=s*r1+s,l=-i,d=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(An*a-En*n,En*a+An*n),e.lineTo(An*i-En*o,En*i+An*o),e.lineTo(An*l-En*d,En*l+An*d),e.lineTo(An*a+En*n,An*n-En*a),e.lineTo(An*i+En*o,An*o-En*i),e.lineTo(An*l+En*d,An*d-En*l),e.closePath()}};function wse(e,r){let s=null,a=l2(n);e=typeof e=="function"?e:_r(e||d2),r=typeof r=="function"?r:_r(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:_r(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:_r(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function b0(){}function w0(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function nL(e){this._context=e}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:w0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function jse(e){return new nL(e)}function iL(e){this._context=e}iL.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:w0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Nse(e){return new iL(e)}function oL(e){this._context=e}oL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:w0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Sse(e){return new oL(e)}function lL(e){this._context=e}lL.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function Cse(e){return new lL(e)}function nE(e){return e<0?-1:1}function iE(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(s-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(nE(i)+nE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function oE(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function _w(e,r,s){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*r,i-l,o-l*s,i,o)}function j0(e){this._context=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_w(this,this._t0,oE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,_w(this,oE(this,s=iE(this,e,r)),s);break;default:_w(this,this._t0,s=iE(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function cL(e){this._context=new dL(e)}(cL.prototype=Object.create(j0.prototype)).point=function(e,r){j0.prototype.point.call(this,r,e)};function dL(e){this._context=e}dL.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function kse(e){return new j0(e)}function _se(e){return new cL(e)}function uL(e){this._context=e}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=lE(e),n=lE(r),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],r[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function lE(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(n[s-1]=o[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function Pse(e){return new uL(e)}function Qx(e,r){this._context=e,this._t=r}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function Ase(e){return new Qx(e,.5)}function Ese(e){return new Qx(e,0)}function Tse(e){return new Qx(e,1)}function Wu(e,r){if((o=e.length)>1)for(var s=1,a,n,i=e[r[0]],o,l=i.length;s<o;++s)for(n=i,i=e[r[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function s1(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Ose(e,r){return e[r]}function Mse(e){const r=[];return r.key=e,r}function Rse(){var e=_r([]),r=s1,s=Wu,a=Ose;function n(i){var o=Array.from(e.apply(this,arguments),Mse),l,d=o.length,m=-1,h;for(const f of i)for(l=0,++m;l<d;++l)(o[l][m]=[0,+a(f,o[l].key,m,i)]).data=f;for(l=0,h=c2(r(o));l<d;++l)o[h[l]].index=l;return s(o,h),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:_r(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:_r(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?s1:typeof i=="function"?i:_r(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??Wu,n):s},n}function Ise(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<a;++s)e[s][n][1]/=o}Wu(e,r)}}function Dse(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}Wu(e,r)}}function Lse(e,r){if(!(!((o=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,d=0,m=0;l<o;++l){for(var h=e[r[l]],f=h[a][1]||0,g=h[a-1][1]||0,v=(f-g)/2,b=0;b<l;++b){var w=e[r[b]],y=w[a][1]||0,N=w[a-1][1]||0;v+=y-N}d+=f,m+=v*f}n[a-1][1]+=n[a-1][0]=s,d&&(s-=m/d)}n[a-1][1]+=n[a-1][0]=s,Wu(e,r)}}var $se=["type","size","sizeType"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},a1.apply(null,arguments)}function cE(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dE(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?cE(Object(s),!0).forEach(function(a){zse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zse(e,r,s){return(r=Fse(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Fse(e){var r=Use(e,"string");return typeof r=="symbol"?r:r+""}function Use(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bse(e,r){if(e==null)return{};var s,a,n=Wse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var mL={symbolCircle:d2,symbolCross:dse,symbolDiamond:mse,symbolSquare:hse,symbolStar:xse,symbolTriangle:yse,symbolWye:bse},Vse=Math.PI/180,qse=e=>{var r="symbol".concat(Ef(e));return mL[r]||d2},Hse=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Vse;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Kse=(e,r)=>{mL["symbol".concat(Ef(e))]=r},hL=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=Bse(e,$se),i=dE(dE({},n),{},{type:r,size:s,sizeType:a}),o=()=>{var f=qse(r),g=wse().type(f).size(Hse(s,a,r));return g()},{className:l,cx:d,cy:m}=i,h=Pr(i,!0);return d===+d&&m===+m&&s===+s?p.createElement("path",a1({},h,{className:Jt("recharts-symbols",l),transform:"translate(".concat(d,", ").concat(m,")"),d:o()})):null};hL.registerSymbol=Kse;var Pw={},Aw={},uE;function Gse(){return uE||(uE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const o=s[i],l=a(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}e.uniqBy=r}(Aw)),Aw}var Ew={},mE;function fL(){return mE||(mE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r}(Ew)),Ew}var Tw={},Ow={},Mw={},hE;function Yse(){return hE||(hE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r}(Mw)),Mw}var fE;function u2(){return fE||(fE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Yse();function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s}(Ow)),Ow}var Rw={},pE;function Jse(){return pE||(pE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r}(Rw)),Rw}var gE;function Xse(){return gE||(gE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=u2(),s=Jse();function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a}(Tw)),Tw}var Iw={},Dw={},xE;function Qse(){return xE||(xE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=n2();function s(a){return function(n){return r.get(n,a)}}e.property=s}(Dw)),Dw}var Lw={},$w={},zw={},Fw={},yE;function pL(){return yE||(yE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r}(Fw)),Fw}var Uw={},vE;function gL(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r}(Uw)),Uw}var Bw={},bE;function m2(){return bE||(bE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r}(Bw)),Bw}var wE;function Zse(){return wE||(wE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=h2(),s=pL(),a=gL(),n=m2();function i(f,g,v){return typeof v!="function"?r.isMatch(f,g):o(f,g,function b(w,y,N,C,S,k){const A=v(w,y,N,C,S,k);return A!==void 0?!!A:o(w,y,b,k)},new Map)}function o(f,g,v,b){if(g===f)return!0;switch(typeof g){case"object":return l(f,g,v,b);case"function":return Object.keys(g).length>0?o(f,{...g},v,b):n.eq(f,g);default:return s.isObject(f)?typeof g=="string"?g==="":!0:n.eq(f,g)}}function l(f,g,v,b){if(g==null)return!0;if(Array.isArray(g))return m(f,g,v,b);if(g instanceof Map)return d(f,g,v,b);if(g instanceof Set)return h(f,g,v,b);const w=Object.keys(g);if(f==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(g))return b.get(g)===f;b&&b.set(g,f);try{for(let y=0;y<w.length;y++){const N=w[y];if(!a.isPrimitive(f)&&!(N in f)||g[N]===void 0&&f[N]!==void 0||g[N]===null&&f[N]!==null||!v(f[N],g[N],N,f,g,b))return!1}return!0}finally{b&&b.delete(g)}}function d(f,g,v,b){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,y]of g.entries()){const N=f.get(w);if(v(N,y,w,f,g,b)===!1)return!1}return!0}function m(f,g,v,b){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let y=0;y<g.length;y++){const N=g[y];let C=!1;for(let S=0;S<f.length;S++){if(w.has(S))continue;const k=f[S];let A=!1;if(v(k,N,y,f,g,b)&&(A=!0),A){w.add(S),C=!0;break}}if(!C)return!1}return!0}function h(f,g,v,b){return g.size===0?!0:f instanceof Set?m([...f],[...g],v,b):!1}e.isMatchWith=i,e.isSetMatch=h}(zw)),zw}var jE;function h2(){return jE||(jE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Zse();function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s}($w)),$w}var Ww={},Vw={},qw={},NE;function xL(){return NE||(NE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r}(qw)),qw}var Hw={},SE;function f2(){return SE||(SE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r}(Hw)),Hw}var Kw={},CE;function p2(){return CE||(CE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",f="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",w="[object DataView]",y="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",k="[object BigUint64Array]",A="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",M="[object BigInt64Array]",L="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=k,e.booleanTag=n,e.dataViewTag=w,e.dateTag=l,e.errorTag=b,e.float32ArrayTag=L,e.float64ArrayTag=V,e.functionTag=f,e.int16ArrayTag=E,e.int32ArrayTag=T,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=a,e.objectTag=v,e.regexpTag=r,e.setTag=m,e.stringTag=s,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=S,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=N}(Kw)),Kw}var Gw={},kE;function eae(){return kE||(kE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r}(Gw)),Gw}var _E;function yL(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=xL(),s=f2(),a=p2(),n=gL(),i=eae();function o(h,f){return l(h,void 0,h,new Map,f)}function l(h,f,g,v=new Map,b=void 0){const w=b==null?void 0:b(h,f,g,v);if(w!==void 0)return w;if(n.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const y=new Array(h.length);v.set(h,y);for(let N=0;N<h.length;N++)y[N]=l(h[N],N,g,v,b);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;v.set(h,y);for(const[N,C]of h)y.set(N,l(C,N,g,v,b));return y}if(h instanceof Set){const y=new Set;v.set(h,y);for(const N of h)y.add(l(N,void 0,g,v,b));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,y);for(let N=0;N<h.length;N++)y[N]=l(h[N],N,g,v,b);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,y),d(y,h,g,v,b),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return v.set(h,y),d(y,h,g,v,b),y}if(h instanceof Blob){const y=new Blob([h],{type:h.type});return v.set(h,y),d(y,h,g,v,b),y}if(h instanceof Error){const y=new h.constructor;return v.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,d(y,h,g,v,b),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return v.set(h,y),d(y,h,g,v,b),y}return h}function d(h,f,g=h,v,b){const w=[...Object.keys(f),...r.getSymbols(f)];for(let y=0;y<w.length;y++){const N=w[y],C=Object.getOwnPropertyDescriptor(h,N);(C==null||C.writable)&&(h[N]=l(f[N],N,g,v,b))}}function m(h){switch(s.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d}(Vw)),Vw}var PE;function tae(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=yL();function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s}(Ww)),Ww}var AE;function rae(){return AE||(AE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=h2(),s=tae();function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a}(Lw)),Lw}var Yw={},Jw={},Xw={},EE;function sae(){return EE||(EE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=yL(),s=p2();function a(n,i){return r.cloneDeepWith(n,(o,l,d,m)=>{const h=i==null?void 0:i(o,l,d,m);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const f=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(f,n),f}case s.argumentsTag:{const f={};return r.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a}(Xw)),Xw}var TE;function aae(){return TE||(TE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=sae();function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s}(Jw)),Jw}var Qw={},Zw={},OE;function vL(){return OE||(OE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s}(Zw)),Zw}var ej={},ME;function nae(){return ME||(ME=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=f2();function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s}(ej)),ej}var RE;function iae(){return RE||(RE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=WD(),s=vL(),a=nae(),n=a2();function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&r.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=n.toPath(l):d=[l],d.length===0)return!1;let m=o;for(let h=0;h<d.length;h++){const f=d[h];if((m==null||!Object.hasOwn(m,f))&&!((Array.isArray(m)||a.isArguments(m))&&s.isIndex(f)&&f<m.length))return!1;m=m[f]}return!0}e.has=i}(Qw)),Qw}var IE;function oae(){return IE||(IE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=h2(),s=VD(),a=aae(),n=n2(),i=iae();function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=s.toKey(l);break}}return d=a.cloneDeep(d),function(m){const h=n.get(m,l);return h===void 0?i.has(m,l):d===void 0?h===void 0:r.isMatch(h,d)}}e.matchesProperty=o}(Yw)),Yw}var DE;function lae(){return DE||(DE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=fL(),s=Qse(),a=rae(),n=oae();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return s.property(o)}}e.iteratee=i}(Iw)),Iw}var LE;function cae(){return LE||(LE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Gse(),s=fL(),a=Xse(),n=lae();function i(o,l=s.identity){return a.isArrayLikeObject(o)?r.uniqBy(Array.from(o),n.iteratee(l)):[]}e.uniqBy=i}(Pw)),Pw}var tj,$E;function dae(){return $E||($E=1,tj=cae().uniqBy),tj}var uae=dae();const zE=gn(uae);function mae(e,r,s){return r===!0?zE(e,s):typeof r=="function"?zE(e,r):e}var rj={exports:{}},sj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function hae(){if(FE)return sj;FE=1;var e=Xu(),r=LO();function s(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:s,n=r.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return sj.useSyncExternalStoreWithSelector=function(m,h,f,g,v){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function N(E){if(!C){if(C=!0,S=E,E=g(E),v!==void 0&&w.hasValue){var T=w.value;if(v(T,E))return k=T}return k=E}if(T=k,a(S,E))return T;var M=g(E);return v!==void 0&&v(T,M)?(S=E,T):(S=E,k=M)}var C=!1,S,k,A=f===void 0?null:f;return[function(){return N(h())},A===null?void 0:function(){return N(A())}]},[h,f,g,v]);var y=n(m,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=y},[y]),d(y),y},sj}var UE;function fae(){return UE||(UE=1,rj.exports=hae()),rj.exports}var pae=fae(),g2=p.createContext(null),gae=e=>e,us=()=>{var e=p.useContext(g2);return e?e.store.dispatch:gae},qg=()=>{},xae=()=>qg,yae=(e,r)=>e===r;function tt(e){var r=p.useContext(g2);return pae.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:xae,r?r.store.getState:qg,r?r.store.getState:qg,r?e:qg,yae)}function vae(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function bae(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function wae(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var BE=e=>Array.isArray(e)?e:[e];function jae(e){const r=Array.isArray(e[0])?e[0]:e;return wae(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function Nae(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var Sae=class{constructor(e){this.value=e}deref(){return this.value}},Cae=typeof WeakRef<"u"?WeakRef:Sae,kae=0,WE=1;function Ng(){return{s:kae,v:void 0,o:null,p:null}}function bL(e,r={}){let s=Ng();const{resultEqualityCheck:a}=r;let n,i=0;function o(){var f;let l=s;const{length:d}=arguments;for(let g=0,v=d;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const y=w.get(b);y===void 0?(l=Ng(),w.set(b,l)):l=y}else{let w=l.p;w===null&&(l.p=w=new Map);const y=w.get(b);y===void 0?(l=Ng(),w.set(b,l)):l=y}}const m=l;let h;if(l.s===WE)h=l.v;else if(h=e.apply(null,arguments),i++,a){const g=((f=n==null?void 0:n.deref)==null?void 0:f.call(n))??n;g!=null&&a(g,h)&&(h=g,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new Cae(h):h}return m.s=WE,m.v=h,h}return o.clearCache=()=>{s=Ng(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function _ae(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,o=0,l,d={},m=n.pop();typeof m=="object"&&(d=m,m=n.pop()),vae(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...s,...d},{memoize:f,memoizeOptions:g=[],argsMemoize:v=bL,argsMemoizeOptions:b=[]}=h,w=BE(g),y=BE(b),N=jae(n),C=f(function(){return i++,m.apply(null,arguments)},...w),S=v(function(){o++;const A=Nae(N,arguments);return l=C.apply(null,A),l},...y);return Object.assign(S,{resultFunc:m,memoizedResultFunc:C,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:v})};return Object.assign(a,{withTypes:()=>a}),a}var he=_ae(bL),Pae=Object.assign((e,r=he)=>{bae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((o,l,d)=>(o[s[d]]=l,o),{}))},{withTypes:()=>Pae}),aj={},nj={},ij={},VE;function Aae(){return VE||(VE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const o=r(a),l=r(n);if(o===l&&o===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=s}(ij)),ij}var oj={},lj={},qE;function wL(){return qE||(qE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r}(lj)),lj}var HE;function Eae(){return HE||(HE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=wL(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=n}(oj)),oj}var KE;function Tae(){return KE||(KE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Aae(),s=Eae(),a=a2();function n(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const m=(v,b)=>{let w=v;for(let y=0;y<b.length&&w!=null;++y)w=w[b[y]];return w},h=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:m(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?m(b,v):typeof b=="object"?b[v]:b,f=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||s.isKey(v)?v:{key:v,path:a.toPath(v)}));return i.map(v=>({original:v,criteria:f.map(b=>h(b,v))})).slice().sort((v,b)=>{for(let w=0;w<f.length;w++){const y=r.compareValues(v.criteria[w],b.criteria[w],l[w]);if(y!==0)return y}return 0}).map(v=>v.original)}e.orderBy=n}(nj)),nj}var cj={},GE;function Oae(){return GE||(GE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),o=(l,d)=>{for(let m=0;m<l.length;m++){const h=l[m];Array.isArray(h)&&d<i?o(h,d+1):n.push(h)}};return o(s,0),n}e.flatten=r}(cj)),cj}var dj={},YE;function jL(){return YE||(YE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=vL(),s=u2(),a=pL(),n=m2();function i(o,l,d){return a.isObject(d)&&(typeof l=="number"&&s.isArrayLike(d)&&r.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?n.eq(d[l],o):!1}e.isIterateeCall=i}(dj)),dj}var JE;function Mae(){return JE||(JE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Tae(),s=Oae(),a=jL();function n(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,s.flatten(o),["asc"])}e.sortBy=n}(aj)),aj}var uj,XE;function Rae(){return XE||(XE=1,uj=Mae().sortBy),uj}var Iae=Rae();const Zx=gn(Iae);var NL=e=>e.legend.settings,Dae=e=>e.legend.size,Lae=e=>e.legend.payload;he([Lae,NL],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?Zx(a,s):a});var Sg=1;function $ae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>Sg||Math.abs(o.left-r.left)>Sg||Math.abs(o.top-r.top)>Sg||Math.abs(o.width-r.width)>Sg)&&s({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Xs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zae=typeof Symbol=="function"&&Symbol.observable||"@@observable",QE=zae,mj=()=>Math.random().toString(36).substring(7).split("").join("."),Fae={INIT:`@@redux/INIT${mj()}`,REPLACE:`@@redux/REPLACE${mj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mj()}`},N0=Fae;function x2(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function SL(e,r,s){if(typeof e!="function")throw new Error(Xs(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Xs(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Xs(1));return s(SL)(e,r)}let a=e,n=r,i=new Map,o=i,l=0,d=!1;function m(){o===i&&(o=new Map,i.forEach((y,N)=>{o.set(N,y)}))}function h(){if(d)throw new Error(Xs(3));return n}function f(y){if(typeof y!="function")throw new Error(Xs(4));if(d)throw new Error(Xs(5));let N=!0;m();const C=l++;return o.set(C,y),function(){if(N){if(d)throw new Error(Xs(6));N=!1,m(),o.delete(C),i=null}}}function g(y){if(!x2(y))throw new Error(Xs(7));if(typeof y.type>"u")throw new Error(Xs(8));if(typeof y.type!="string")throw new Error(Xs(17));if(d)throw new Error(Xs(9));try{d=!0,n=a(n,y)}finally{d=!1}return(i=o).forEach(C=>{C()}),y}function v(y){if(typeof y!="function")throw new Error(Xs(10));a=y,g({type:N0.REPLACE})}function b(){const y=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Xs(11));function C(){const k=N;k.next&&k.next(h())}return C(),{unsubscribe:y(C)}},[QE](){return this}}}return g({type:N0.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:v,[QE]:b}}function Uae(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:N0.INIT})>"u")throw new Error(Xs(12));if(typeof s(void 0,{type:N0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xs(13))})}function CL(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const o=r[i];typeof e[o]=="function"&&(s[o]=e[o])}const a=Object.keys(s);let n;try{Uae(s)}catch(i){n=i}return function(o={},l){if(n)throw n;let d=!1;const m={};for(let h=0;h<a.length;h++){const f=a[h],g=s[f],v=o[f],b=g(v,l);if(typeof b>"u")throw l&&l.type,new Error(Xs(14));m[f]=b,d=d||b!==v}return d=d||a.length!==Object.keys(o).length,d?m:o}}function S0(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function Bae(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(Xs(15))};const o={getState:n.getState,dispatch:(d,...m)=>i(d,...m)},l=e.map(d=>d(o));return i=S0(...l)(n.dispatch),{...n,dispatch:i}}}function kL(e){return x2(e)&&"type"in e&&typeof e.type=="string"}var _L=Symbol.for("immer-nothing"),ZE=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function fi(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vu=Object.getPrototypeOf;function od(e){return!!e&&!!e[fn]}function Wo(e){var r;return e?PL(e)||Array.isArray(e)||!!e[ZE]||!!((r=e.constructor)!=null&&r[ZE])||ty(e)||ry(e):!1}var Wae=Object.prototype.constructor.toString();function PL(e){if(!e||typeof e!="object")return!1;const r=Vu(e);if(r===null)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===Wae}function C0(e,r){ey(e)===0?Reflect.ownKeys(e).forEach(s=>{r(s,e[s],e)}):e.forEach((s,a)=>r(a,s,e))}function ey(e){const r=e[fn];return r?r.type_:Array.isArray(e)?1:ty(e)?2:ry(e)?3:0}function n1(e,r){return ey(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function AL(e,r,s){const a=ey(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function Vae(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function ty(e){return e instanceof Map}function ry(e){return e instanceof Set}function Lc(e){return e.copy_||e.base_}function i1(e,r){if(ty(e))return new Map(e);if(ry(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=PL(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[fn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const o=n[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Vu(e),a)}else{const a=Vu(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function y2(e,r=!1){return sy(e)||od(e)||!Wo(e)||(ey(e)>1&&(e.set=e.add=e.clear=e.delete=qae),Object.freeze(e),r&&Object.entries(e).forEach(([s,a])=>y2(a,!0))),e}function qae(){fi(2)}function sy(e){return Object.isFrozen(e)}var Hae={};function ld(e){const r=Hae[e];return r||fi(0,e),r}var Xh;function EL(){return Xh}function Kae(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eT(e,r){r&&(ld("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function o1(e){l1(e),e.drafts_.forEach(Gae),e.drafts_=null}function l1(e){e===Xh&&(Xh=e.parent_)}function tT(e){return Xh=Kae(Xh,e)}function Gae(e){const r=e[fn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function rT(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[fn].modified_&&(o1(r),fi(4)),Wo(e)&&(e=k0(r,e),r.parent_||_0(r,e)),r.patches_&&ld("Patches").generateReplacementPatches_(s[fn].base_,e,r.patches_,r.inversePatches_)):e=k0(r,s,[]),o1(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==_L?e:void 0}function k0(e,r,s){if(sy(r))return r;const a=r[fn];if(!a)return C0(r,(n,i)=>sT(e,a,r,n,i,s)),r;if(a.scope_!==e)return r;if(!a.modified_)return _0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,o=!1;a.type_===3&&(i=new Set(n),n.clear(),o=!0),C0(i,(l,d)=>sT(e,a,n,l,d,s,o)),_0(e,n,!1),s&&e.patches_&&ld("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function sT(e,r,s,a,n,i,o){if(od(n)){const l=i&&r&&r.type_!==3&&!n1(r.assigned_,a)?i.concat(a):void 0,d=k0(e,n,l);if(AL(s,a,d),od(d))e.canAutoFreeze_=!1;else return}else o&&s.add(n);if(Wo(n)&&!sy(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;k0(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,a)&&_0(e,n)}}function _0(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&y2(r,s)}function Yae(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:EL(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=v2;s&&(n=[a],i=Qh);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=o,l}var v2={get(e,r){if(r===fn)return e;const s=Lc(e);if(!n1(s,r))return Jae(e,s,r);const a=s[r];return e.finalized_||!Wo(a)?a:a===hj(e.base_,r)?(fj(e),e.copy_[r]=d1(a,e)):a},has(e,r){return r in Lc(e)},ownKeys(e){return Reflect.ownKeys(Lc(e))},set(e,r,s){const a=TL(Lc(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=hj(Lc(e),r),i=n==null?void 0:n[fn];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(Vae(s,n)&&(s!==void 0||n1(e.base_,r)))return!0;fj(e),c1(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return hj(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,fj(e),c1(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Lc(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){fi(11)},getPrototypeOf(e){return Vu(e.base_)},setPrototypeOf(){fi(12)}},Qh={};C0(v2,(e,r)=>{Qh[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});Qh.deleteProperty=function(e,r){return Qh.set.call(this,e,r,void 0)};Qh.set=function(e,r,s){return v2.set.call(this,e[0],r,s,e[0])};function hj(e,r){const s=e[fn];return(s?Lc(s):e)[r]}function Jae(e,r,s){var n;const a=TL(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function TL(e,r){if(!(r in e))return;let s=Vu(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=Vu(s)}}function c1(e){e.modified_||(e.modified_=!0,e.parent_&&c1(e.parent_))}function fj(e){e.copy_||(e.copy_=i1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const o=this;return function(d=i,...m){return o.produce(d,h=>s.call(this,h,...m))}}typeof s!="function"&&fi(6),a!==void 0&&typeof a!="function"&&fi(7);let n;if(Wo(r)){const i=tT(this),o=d1(r,void 0);let l=!0;try{n=s(o),l=!1}finally{l?o1(i):l1(i)}return eT(i,a),rT(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===_L&&(n=void 0),this.autoFreeze_&&y2(n,!0),a){const i=[],o=[];ld("Patches").generateReplacementPatches_(r,n,i,o),a(i,o)}return n}else fi(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(o,...l)=>this.produceWithPatches(o,d=>r(d,...l));let a,n;return[this.produce(r,s,(o,l)=>{a=o,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wo(e)||fi(8),od(e)&&(e=Ro(e));const r=tT(this),s=d1(e,void 0);return s[fn].isManual_=!0,l1(r),s}finishDraft(e,r){const s=e&&e[fn];(!s||!s.isManual_)&&fi(9);const{scope_:a}=s;return eT(a,r),rT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=ld("Patches").applyPatches_;return od(e)?a(e,r):this.produce(e,n=>a(n,r))}};function d1(e,r){const s=ty(e)?ld("MapSet").proxyMap_(e,r):ry(e)?ld("MapSet").proxySet_(e,r):Yae(e,r);return(r?r.scope_:EL()).drafts_.push(s),s}function Ro(e){return od(e)||fi(10,e),OL(e)}function OL(e){if(!Wo(e)||sy(e))return e;const r=e[fn];let s;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=i1(e,r.scope_.immer_.useStrictShallowCopy_)}else s=i1(e,!0);return C0(s,(a,n)=>{AL(s,a,OL(n))}),r&&(r.finalized_=!1),s}var pn=new Xae,ML=pn.produce;pn.produceWithPatches.bind(pn);pn.setAutoFreeze.bind(pn);pn.setUseStrictShallowCopy.bind(pn);pn.applyPatches.bind(pn);pn.createDraft.bind(pn);pn.finishDraft.bind(pn);function RL(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var Qae=RL(),Zae=RL,ene=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?S0:S0.apply(null,arguments)};function Hn(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(hn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>kL(a)&&a.type===e,s}var IL=class Ph extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Ph.prototype)}static get[Symbol.species](){return Ph}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Ph(...r[0].concat(this)):new Ph(...r.concat(this))}};function aT(e){return Wo(e)?ML(e,()=>{}):e}function Cg(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function tne(e){return typeof e=="boolean"}var rne=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let o=new IL;return s&&(tne(s)?o.push(Qae):o.push(Zae(s.extraArgument))),o},sne="RTK_autoBatch",nT=e=>r=>{setTimeout(r,e)},ane=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nT(10):e.type==="callback"?e.queueNotification:nT(e.timeout),m=()=>{o=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const f=()=>n&&h(),g=a.subscribe(f);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var f;try{return n=!((f=h==null?void 0:h.meta)!=null&&f[sne]),i=!n,i&&(o||(o=!0,d(m))),a.dispatch(h)}finally{n=!0}}})},nne=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new IL(e);return a&&n.push(ane(typeof a=="object"?a:void 0)),n};function ine(e){const r=rne(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof s=="function")l=s;else if(x2(s))l=CL(s);else throw new Error(hn(1));let d;typeof a=="function"?d=a(r):d=r();let m=S0;n&&(m=ene({trace:!1,...typeof n=="object"&&n}));const h=Bae(...d),f=nne(h);let g=typeof o=="function"?o(f):f();const v=m(...g);return SL(l,i,v)}function DL(e){const r={},s=[];let a;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(hn(28));if(l in r)throw new Error(hn(29));return r[l]=o,n},addMatcher(i,o){return s.push({matcher:i,reducer:o}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}function one(e){return typeof e=="function"}function lne(e,r){let[s,a,n]=DL(r),i;if(one(e))i=()=>aT(e());else{const l=aT(e);i=()=>l}function o(l=i(),d){let m=[s[d.type],...a.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[n]),m.reduce((h,f)=>{if(f)if(od(h)){const v=f(h,d);return v===void 0?h:v}else{if(Wo(h))return ML(h,g=>f(g,d));{const g=f(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return o.getInitialState=i,o}var cne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dne=(e=21)=>{let r="",s=e;for(;s--;)r+=cne[Math.random()*64|0];return r},une=Symbol.for("rtk-slice-createasyncthunk");function mne(e,r){return`${e}/${r}`}function hne({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[une];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(hn(11));const l=(typeof n.reducers=="function"?n.reducers(pne()):n.reducers)||{},d=Object.keys(l),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,A){const E=typeof k=="string"?k:k.type;if(!E)throw new Error(hn(12));if(E in m.sliceCaseReducersByType)throw new Error(hn(13));return m.sliceCaseReducersByType[E]=A,h},addMatcher(k,A){return m.sliceMatchers.push({matcher:k,reducer:A}),h},exposeAction(k,A){return m.actionCreators[k]=A,h},exposeCaseReducer(k,A){return m.sliceCaseReducersByName[k]=A,h}};d.forEach(k=>{const A=l[k],E={reducerName:k,type:mne(i,k),createNotation:typeof n.reducers=="function"};xne(A)?vne(E,A,h,r):gne(E,A,h)});function f(){const[k={},A=[],E=void 0]=typeof n.extraReducers=="function"?DL(n.extraReducers):[n.extraReducers],T={...k,...m.sliceCaseReducersByType};return lne(n.initialState,M=>{for(let L in T)M.addCase(L,T[L]);for(let L of m.sliceMatchers)M.addMatcher(L.matcher,L.reducer);for(let L of A)M.addMatcher(L.matcher,L.reducer);E&&M.addDefaultCase(E)})}const g=k=>k,v=new Map,b=new WeakMap;let w;function y(k,A){return w||(w=f()),w(k,A)}function N(){return w||(w=f()),w.getInitialState()}function C(k,A=!1){function E(M){let L=M[k];return typeof L>"u"&&A&&(L=Cg(b,E,N)),L}function T(M=g){const L=Cg(v,A,()=>new WeakMap);return Cg(L,M,()=>{const V={};for(const[R,I]of Object.entries(n.selectors??{}))V[R]=fne(I,M,()=>Cg(b,M,N),A);return V})}return{reducerPath:k,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const S={name:i,reducer:y,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...C(o),injectInto(k,{reducerPath:A,...E}={}){const T=A??o;return k.inject({reducerPath:T,reducer:y},E),{...S,...C(T,!0)}}};return S}}function fne(e,r,s,a){function n(i,...o){let l=r(i);return typeof l>"u"&&a&&(l=s()),e(l,...o)}return n.unwrapped=e,n}var vn=hne();function pne(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function gne({type:e,reducerName:r,createNotation:s},a,n){let i,o;if("reducer"in a){if(s&&!yne(a))throw new Error(hn(17));i=a.reducer,o=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,o?Hn(e,o):Hn(e))}function xne(e){return e._reducerDefinitionType==="asyncThunk"}function yne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vne({type:e,reducerName:r},s,a,n){if(!n)throw new Error(hn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:m,options:h}=s,f=n(e,i,h);a.exposeAction(r,f),o&&a.addCase(f.fulfilled,o),l&&a.addCase(f.pending,l),d&&a.addCase(f.rejected,d),m&&a.addMatcher(f.settled,m),a.exposeCaseReducer(r,{fulfilled:o||kg,pending:l||kg,rejected:d||kg,settled:m||kg})}function kg(){}var bne="task",LL="listener",$L="completed",b2="cancelled",wne=`task-${b2}`,jne=`task-${$L}`,u1=`${LL}-${b2}`,Nne=`${LL}-${$L}`,ay=class{constructor(e){li(this,"name","TaskAbortError");li(this,"message");this.code=e,this.message=`${bne} ${b2} (reason: ${e})`}},w2=(e,r)=>{if(typeof e!="function")throw new TypeError(hn(32))},P0=()=>{},zL=(e,r=P0)=>(e.catch(r),e),FL=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),Yc=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},Jc=e=>{if(e.aborted){const{reason:r}=e;throw new ay(r)}};function UL(e,r){let s=P0;return new Promise((a,n)=>{const i=()=>n(new ay(e.reason));if(e.aborted){i();return}s=FL(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=P0})}var Sne=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof ay?"cancelled":"rejected",error:s}}finally{r==null||r()}},A0=e=>r=>zL(UL(e,r).then(s=>(Jc(e),s))),BL=e=>{const r=A0(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Eu}=Object,iT={},ny="listenerMiddleware",Cne=(e,r)=>{const s=a=>FL(e,()=>Yc(a,e.reason));return(a,n)=>{w2(a);const i=new AbortController;s(i);const o=Sne(async()=>{Jc(e),Jc(i.signal);const l=await a({pause:A0(i.signal),delay:BL(i.signal),signal:i.signal});return Jc(i.signal),l},()=>Yc(i,jne));return n!=null&&n.autoJoin&&r.push(o.catch(P0)),{result:A0(e)(o),cancel(){Yc(i,wne)}}}},kne=(e,r)=>{const s=async(a,n)=>{Jc(r);let i=()=>{};const l=[new Promise((d,m)=>{let h=e({predicate:a,effect:(f,g)=>{g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}});i=()=>{h(),m()}})];n!=null&&l.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await UL(r,Promise.race(l));return Jc(r),d}finally{i()}};return(a,n)=>zL(s(a,n))},WL=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=Hn(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(hn(21));return w2(i),{predicate:n,type:r,effect:i}},VL=Eu(e=>{const{type:r,predicate:s,effect:a}=WL(e);return{id:dne(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(hn(22))}}},{withTypes:()=>VL}),oT=(e,r)=>{const{type:s,effect:a,predicate:n}=WL(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},m1=e=>{e.pending.forEach(r=>{Yc(r,u1)})},_ne=e=>()=>{e.forEach(m1),e.clear()},lT=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},qL=Eu(Hn(`${ny}/add`),{withTypes:()=>qL}),Pne=Hn(`${ny}/removeAll`),HL=Eu(Hn(`${ny}/remove`),{withTypes:()=>HL}),Ane=(...e)=>{console.error(`${ny}/error`,...e)},Of=(e={})=>{const r=new Map,{extra:s,onError:a=Ane}=e;w2(a);const n=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),f=>{h.unsubscribe(),f!=null&&f.cancelActive&&m1(h)}),i=h=>{const f=oT(r,h)??VL(h);return n(f)};Eu(i,{withTypes:()=>i});const o=h=>{const f=oT(r,h);return f&&(f.unsubscribe(),h.cancelActive&&m1(f)),!!f};Eu(o,{withTypes:()=>o});const l=async(h,f,g,v)=>{const b=new AbortController,w=kne(i,b.signal),y=[];try{h.pending.add(b),await Promise.resolve(h.effect(f,Eu({},g,{getOriginalState:v,condition:(N,C)=>w(N,C).then(Boolean),take:w,delay:BL(b.signal),pause:A0(b.signal),extra:s,signal:b.signal,fork:Cne(b.signal,y),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,C,S)=>{N!==b&&(Yc(N,u1),S.delete(N))})},cancel:()=>{Yc(b,u1),h.pending.delete(b)},throwIfCancelled:()=>{Jc(b.signal)}})))}catch(N){N instanceof ay||lT(a,N,{raisedBy:"effect"})}finally{await Promise.all(y),Yc(b,Nne),h.pending.delete(b)}},d=_ne(r);return{middleware:h=>f=>g=>{if(!kL(g))return f(g);if(qL.match(g))return i(g.payload);if(Pne.match(g)){d();return}if(HL.match(g))return o(g.payload);let v=h.getState();const b=()=>{if(v===iT)throw new Error(hn(23));return v};let w;try{if(w=f(g),r.size>0){const y=h.getState(),N=Array.from(r.values());for(const C of N){let S=!1;try{S=C.predicate(g,y,v)}catch(k){S=!1,lT(a,k,{raisedBy:"predicate"})}S&&l(C,g,h,b)}}}finally{v=iT}return w},startListening:i,stopListening:o,clearListeners:d}};function hn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ene={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KL=vn({name:"chartLayout",initialState:Ene,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){e.margin.top=r.payload.top,e.margin.right=r.payload.right,e.margin.bottom=r.payload.bottom,e.margin.left=r.payload.left},setScale(e,r){e.scale=r.payload}}}),{setMargin:Tne,setLayout:One,setChartSize:Mne,setScale:Rne}=KL.actions,Ine=KL.reducer;function cT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(s),!0).forEach(function(a){Dne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dne(e,r,s){return(r=Lne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Lne(e){var r=$ne(e,"string");return typeof r=="symbol"?r:r+""}function $ne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var E0=Math.PI/180,zne=e=>e*180/Math.PI,gs=(e,r,s,a)=>({x:e+Math.cos(-E0*a)*s,y:r+Math.sin(-E0*a)*s}),GL=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Fne=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},Une=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,o=Fne({x:s,y:a},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(s-n)/o,d=Math.acos(l);return a>i&&(d=2*Math.PI-d),{radius:o,angle:zne(d),angleInRadian:d}},Bne=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},Wne=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return e+o*360},Vne=(e,r)=>{var{x:s,y:a}=e,{radius:n,angle:i}=Une({x:s,y:a},r),{innerRadius:o,outerRadius:l}=r;if(n<o||n>l||n===0)return null;var{startAngle:d,endAngle:m}=Bne(r),h=i,f;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;f=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;f=h>=m&&h<=d}return f?dT(dT({},r),{},{radius:n,angle:Wne(h,r)}):null};function YL(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function uT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rn(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uT(Object(s),!0).forEach(function(a){qne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qne(e,r,s){return(r=Hne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Hne(e){var r=Kne(e,"string");return typeof r=="symbol"?r:r+""}function Kne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function xr(e,r,s){return Ar(e)||Ar(r)?s:Qi(r)?Gl(e,r,s):typeof r=="function"?r(e):s}var Gne=(e,r,s,a,n)=>{var i,o=-1,l=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<l;d++){var m=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Fs(h-m)!==Fs(f-h)){var v=[];if(Fs(f-h)===Fs(n[1]-n[0])){g=f;var b=h+n[1]-n[0];v[0]=Math.min(b,(b+m)/2),v[1]=Math.max(b,(b+m)/2)}else{g=m;var w=f+n[1]-n[0];v[0]=Math.min(h,(w+h)/2),v[1]=Math.max(h,(w+h)/2)}var y=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){({index:o}=s[d]);break}}else{var N=Math.min(m,f),C=Math.max(m,f);if(e>(N+h)/2&&e<=(C+h)/2){({index:o}=s[d]);break}}}else if(r){for(var S=0;S<l;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){({index:o}=r[S]);break}}return o},Yne=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:o,layout:l}=r;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Ve(e[i]))return Rn(Rn({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Ve(e[o]))return Rn(Rn({},e),{},{[o]:e[o]+(n||0)})}return e},lo=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",JL=(e,r,s,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,o=e.map(l=>(l.coordinate===r&&(n=!0),l.coordinate===s&&(i=!0),l.coordinate));return n||o.push(r),i||o.push(s),o},XL=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:m,tickCount:h,ticks:f,niceTicks:g,axisType:v}=e;if(!o)return null;var b=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=n==="category"&&o.bandwidth?o.bandwidth()/b:0;if(w=v==="angleAxis"&&i&&i.length>=2?Fs(i[0]-i[1])*2*w:w,f||g){var y=(f||g||[]).map((N,C)=>{var S=a?a.indexOf(N):N;return{coordinate:o(S)+w,value:N,offset:w,index:C}});return y.filter(N=>!Ja(N.coordinate))}return d&&m?m.map((N,C)=>({coordinate:o(N)+w,value:N,index:C,offset:w})):o.ticks&&h!=null?o.ticks(h).map((N,C)=>({coordinate:o(N)+w,value:N,offset:w,index:C})):o.domain().map((N,C)=>({coordinate:o(N)+w,value:a?a[N]:N,index:C,offset:w}))},mT=1e-4,Jne=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-mT,i=Math.max(a[0],a[1])+mT,o=e(r[0]),l=e(r[s-1]);(o<n||o>i||l<n||l>i)&&e.domain([r[0],r[s-1]])}},Xne=(e,r)=>{if(!r||r.length!==2||!Ve(r[0])||!Ve(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!Ve(e[0])||e[0]<s)&&(n[0]=s),(!Ve(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},Qne=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,o=0;o<r;++o){var l=Ja(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=n,e[o][s][1]=n+l,n=e[o][s][1]):(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1])}},Zne=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var o=Ja(e[i][s][1])?e[i][s][0]:e[i][s][1];o>=0?(e[i][s][0]=n,e[i][s][1]=n+o,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},eie={sign:Qne,expand:Ise,none:Wu,silhouette:Dse,wiggle:Lse,positive:Zne},tie=(e,r,s)=>{var a=eie[s],n=Rse().keys(r).value((i,o)=>+xr(i,o,0)).order(s1).offset(a);return n(e)};function QL(e){return e==null?void 0:String(e)}function T0(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:o}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Ar(n[r.dataKey])){var l=HD(s,"value",n[r.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=xr(n,Ar(o)?r.dataKey:o);return Ar(d)?null:r.scale(d)}var hT=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:o}=e;if(r.type==="category")return s[o]?s[o].coordinate+a:null;var l=xr(i,r.dataKey,r.scale.domain()[o]);return Ar(l)?null:r.scale(l)-n/2+a},rie=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},sie=e=>{var r=e.flat(2).filter(Ve);return[Math.min(...r),Math.max(...r)]},aie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],nie=(e,r,s)=>{if(e!=null)return aie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:o}=i,l=o.reduce((d,m)=>{var h=YL(m,r,s),f=sie(h);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},fT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cd=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=Zx(r,h=>h.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var d=n[o],m=n[o-1];i=Math.min((d.coordinate||0)-(m.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function gT(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return Rn(Rn({},r),{},{dataKey:s,payload:a,value:n,name:i})}function tc(e,r){if(e)return String(e);if(typeof r=="string")return r}function iie(e,r,s,a,n){if(s==="horizontal"||s==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:e,y:r}:null}return a?Vne({x:e,y:r},a):null}var oie=(e,r,s,a)=>{var n=r.find(m=>m&&m.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:o}=a;return Rn(Rn(Rn({},a),gs(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:d}=a;return Rn(Rn(Rn({},a),gs(a.cx,a.cy,l,d)),{},{angle:d,radius:l})}return{x:0,y:0}},lie=(e,r)=>r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius,Go=e=>e.layout.width,Yo=e=>e.layout.height,cie=e=>e.layout.scale,ZL=e=>e.layout.margin,j2=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),N2=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),e8="data-recharts-item-index",t8="data-recharts-item-data-key",iy=60;function xT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?xT(Object(s),!0).forEach(function(a){die(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function die(e,r,s){return(r=uie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function uie(e){var r=mie(e,"string");return typeof r=="symbol"?r:r+""}function mie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hie=e=>e.brush.height,Ps=he([Go,Yo,ZL,hie,j2,N2,NL,Dae],(e,r,s,a,n,i,o,l)=>{var d=i.reduce((b,w)=>{var{orientation:y}=w;if(!w.mirror&&!w.hide){var N=typeof w.width=="number"?w.width:iy;return Cl(Cl({},b),{},{[y]:b[y]+N})}return b},{left:s.left||0,right:s.right||0}),m=n.reduce((b,w)=>{var{orientation:y}=w;return!w.mirror&&!w.hide?Cl(Cl({},b),{},{[y]:Gl(b,"".concat(y))+w.height}):b},{top:s.top||0,bottom:s.bottom||0}),h=Cl(Cl({},m),d),f=h.bottom;h.bottom+=a,h=Yne(h,o,l);var g=e-h.left-h.right,v=r-h.top-h.bottom;return Cl(Cl({brushBottom:f},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),fie=he(Ps,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r8=he(Go,Yo,(e,r)=>({x:0,y:0,width:e,height:r})),pie=p.createContext(null),ja=()=>p.useContext(pie)!=null,oy=e=>e.brush,ly=he([oy,Ps,ZL],(e,r,s)=>({height:e.height,x:Ve(e.x)?e.x:r.left,y:Ve(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:Ve(e.width)?e.width:r.width})),S2=()=>{var e,r=ja(),s=tt(fie),a=tt(ly),n=(e=tt(oy))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},gie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},s8=()=>{var e;return(e=tt(Ps))!==null&&e!==void 0?e:gie},a8=()=>tt(Go),n8=()=>tt(Yo),Bt=e=>e.layout.layoutType,Mf=()=>tt(Bt),xie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i8=vn({name:"legend",initialState:xie,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload(e,r){e.payload.push(r.payload)},removeLegendPayload(e,r){var s=Ro(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)}}}),{setLegendSize:b1e,setLegendSettings:w1e,addLegendPayload:o8,removeLegendPayload:l8}=i8.actions,yie=i8.reducer;function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},h1.apply(null,arguments)}function yT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yT(Object(s),!0).forEach(function(a){vie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function vie(e,r,s){return(r=bie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function bie(e){var r=wie(e,"string");return typeof r=="symbol"?r:r+""}function wie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jie(e){return Array.isArray(e)&&Qi(e[0])&&Qi(e[1])?e.join(" ~ "):e}var Nie=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:f,accessibilityLayer:g=!1}=e,v=()=>{if(i&&i.length){var A={padding:0,margin:0},E=(l?Zx(i,l):i).map((T,M)=>{if(T.type==="none")return null;var L=T.formatter||o||jie,{value:V,name:R}=T,I=V,B=R;if(L){var H=L(V,R,T,M,i);if(Array.isArray(H))[I,B]=H;else if(H!=null)I=H;else return null}var F=pj({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:F},Qi(B)?p.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Qi(B)?p.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,p.createElement("span",{className:"recharts-tooltip-item-value"},I),p.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:A},E)}return null},b=pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=pj({margin:0},n),y=!Ar(h),N=y?h:"",C=Jt("recharts-default-tooltip",d),S=Jt("recharts-tooltip-label",m);y&&f&&i!==void 0&&i!==null&&(N=f(h,i));var k=g?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",h1({className:C,style:b},k),p.createElement("p",{className:S,style:w},p.isValidElement(N)?N:"".concat(N)),v())},mh="recharts-tooltip-wrapper",Sie={visibility:"hidden"};function Cie(e){var{coordinate:r,translateX:s,translateY:a}=e;return Jt(mh,{["".concat(mh,"-right")]:Ve(s)&&r&&Ve(r.x)&&s>=r.x,["".concat(mh,"-left")]:Ve(s)&&r&&Ve(r.x)&&s<r.x,["".concat(mh,"-bottom")]:Ve(a)&&r&&Ve(r.y)&&a>=r.y,["".concat(mh,"-top")]:Ve(a)&&r&&Ve(r.y)&&a<r.y})}function vT(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:m}=e;if(i&&Ve(i[a]))return i[a];var h=s[a]-l-(n>0?n:0),f=s[a]+n;if(r[a])return o[a]?h:f;var g=d[a];if(g==null)return 0;if(o[a]){var v=h,b=g;return v<b?Math.max(f,g):Math.max(h,g)}if(m==null)return 0;var w=f+l,y=g+m;return w>y?Math.max(h,g):Math.max(f,g)}function kie(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function _ie(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,m,h,f;return o.height>0&&o.width>0&&s?(h=vT({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=vT({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),m=kie({translateX:h,translateY:f,useTranslate3d:l})):m=Sie,{cssProperties:m,cssClasses:Cie({translateX:h,translateY:f,coordinate:s})}}function bT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _g(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?bT(Object(s),!0).forEach(function(a){f1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function f1(e,r,s){return(r=Pie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Pie(e){var r=Aie(e,"string");return typeof r=="symbol"?r:r+""}function Aie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Eie extends p.PureComponent{constructor(){super(...arguments),f1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),f1(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:m,position:h,reverseDirection:f,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:w,innerRef:y,hasPortalFromProps:N}=this.props,{cssClasses:C,cssProperties:S}=_ie({allowEscapeViewBox:s,coordinate:o,offsetTopLeft:m,position:h,reverseDirection:f,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:v}),k=N?{}:_g(_g({transition:d&&r?"transform ".concat(a,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0}),A=_g(_g({},k),{},{visibility:!this.state.dismissed&&r&&l?"visible":"hidden"},b);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:y},i)}}var Tie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rc={isSsr:Tie()},c8=()=>tt(e=>e.rootProps.accessibilityLayer);function ta(e){return Number.isFinite(e)}function qu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},p1.apply(null,arguments)}function wT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function jT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?wT(Object(s),!0).forEach(function(a){Oie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Oie(e,r,s){return(r=Mie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mie(e){var r=Rie(e,"string");return typeof r=="symbol"?r:r+""}function Rie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var NT={curveBasisClosed:Nse,curveBasisOpen:Sse,curveBasis:jse,curveBumpX:lse,curveBumpY:cse,curveLinearClosed:Cse,curveLinear:Xx,curveMonotoneX:kse,curveMonotoneY:_se,curveNatural:Pse,curveStep:Ase,curveStepAfter:Tse,curveStepBefore:Ese},Pg=e=>ta(e.x)&&ta(e.y),hh=e=>e.x,fh=e=>e.y,Iie=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(Ef(e));return(s==="curveMonotone"||s==="curveBump")&&r?NT["".concat(s).concat(r==="vertical"?"Y":"X")]:NT[s]||Xx},Die=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,o=Iie(r,n),l=i?s.filter(Pg):s,d;if(Array.isArray(a)){var m=i?a.filter(f=>Pg(f)):a,h=l.map((f,g)=>jT(jT({},f),{},{base:m[g]}));return n==="vertical"?d=jg().y(fh).x1(hh).x0(f=>f.base.x):d=jg().x(hh).y1(fh).y0(f=>f.base.y),d.defined(Pg).curve(o),d(h)}return n==="vertical"&&Ve(a)?d=jg().y(fh).x1(hh).x0(a):Ve(a)?d=jg().x(hh).y1(fh).y0(a):d=tL().x(hh).y(fh),d.defined(Pg).curve(o),d(l)},Tu=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?Die(e):a;return p.createElement("path",p1({},Si(e),o2(e),{className:Jt("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Lie=["x","y","top","left","width","height","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},g1.apply(null,arguments)}function ST(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $ie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ST(Object(s),!0).forEach(function(a){zie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ST(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zie(e,r,s){return(r=Fie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Fie(e){var r=Uie(e,"string");return typeof r=="symbol"?r:r+""}function Uie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bie(e,r){if(e==null)return{};var s,a,n=Wie(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wie(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Vie=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),qie=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:o=0,className:l}=e,d=Bie(e,Lie),m=$ie({x:r,y:s,top:a,left:n,width:i,height:o},d);return!Ve(r)||!Ve(s)||!Ve(i)||!Ve(o)||!Ve(a)||!Ve(n)?null:p.createElement("path",g1({},Pr(m,!0),{className:Jt("recharts-cross",l),d:Vie(r,s,i,o,a,n)}))};function Hie(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function CT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Kie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?CT(Object(s),!0).forEach(function(a){Gie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gie(e,r,s){return(r=Yie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Yie(e){var r=Jie(e,"string");return typeof r=="symbol"?r:r+""}function Jie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ia(e,r){var s=Kie({},e),a=r,n=Object.keys(r),i=n.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),s);return i}var gj={},xj={},yj={},kT;function Xie(){return kT||(kT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){if(!s||typeof s!="object")return!1;const a=Object.getPrototypeOf(s);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(s)==="[object Object]":!1}e.isPlainObject=r}(yj)),yj}var _T;function Qie(){return _T||(_T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Xie(),s=xL(),a=f2(),n=p2(),i=m2();function o(m,h,f){return l(m,h,void 0,void 0,void 0,void 0,f)}function l(m,h,f,g,v,b,w){const y=w(m,h,f,g,v,b);if(y!==void 0)return y;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return d(m,h,b,w)}return d(m,h,b,w)}function d(m,h,f,g){if(Object.is(m,h))return!0;let v=a.getTag(m),b=a.getTag(h);if(v===n.argumentsTag&&(v=n.objectTag),b===n.argumentsTag&&(b=n.objectTag),v!==b)return!1;switch(v){case n.stringTag:return m.toString()===h.toString();case n.numberTag:{const N=m.valueOf(),C=h.valueOf();return i.eq(N,C)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(m.valueOf(),h.valueOf());case n.regexpTag:return m.source===h.source&&m.flags===h.flags;case n.functionTag:return m===h}f=f??new Map;const w=f.get(m),y=f.get(h);if(w!=null&&y!=null)return w===h;f.set(m,h),f.set(h,m);try{switch(v){case n.mapTag:{if(m.size!==h.size)return!1;for(const[N,C]of m.entries())if(!h.has(N)||!l(C,h.get(N),N,m,h,f,g))return!1;return!0}case n.setTag:{if(m.size!==h.size)return!1;const N=Array.from(m.values()),C=Array.from(h.values());for(let S=0;S<N.length;S++){const k=N[S],A=C.findIndex(E=>l(k,E,void 0,m,h,f,g));if(A===-1)return!1;C.splice(A,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let N=0;N<m.length;N++)if(!l(m[N],h[N],N,m,h,f,g))return!1;return!0}case n.arrayBufferTag:return m.byteLength!==h.byteLength?!1:d(new Uint8Array(m),new Uint8Array(h),f,g);case n.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:d(new Uint8Array(m),new Uint8Array(h),f,g);case n.errorTag:return m.name===h.name&&m.message===h.message;case n.objectTag:{if(!(d(m.constructor,h.constructor,f,g)||r.isPlainObject(m)&&r.isPlainObject(h)))return!1;const C=[...Object.keys(m),...s.getSymbols(m)],S=[...Object.keys(h),...s.getSymbols(h)];if(C.length!==S.length)return!1;for(let k=0;k<C.length;k++){const A=C[k],E=m[A];if(!Object.hasOwn(h,A))return!1;const T=h[A];if(!l(E,T,A,m,h,f,g))return!1}return!0}default:return!1}}finally{f.delete(m),f.delete(h)}}e.isEqualWith=o}(xj)),xj}var vj={},PT;function Zie(){return PT||(PT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(){}e.noop=r}(vj)),vj}var AT;function eoe(){return AT||(AT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Qie(),s=Zie();function a(n,i){return r.isEqualWith(n,i,s.noop)}e.isEqual=a}(gj)),gj}var bj,ET;function toe(){return ET||(ET=1,bj=eoe().isEqual),bj}var roe=toe();const soe=gn(roe);var O0=1e-4,d8=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],u8=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),TT=(e,r)=>s=>{var a=d8(e,r);return u8(a,s)},aoe=(e,r)=>s=>{var a=d8(e,r),n=[...a.map((i,o)=>i*o).slice(1),0];return u8(n,s)},OT=function(){for(var r,s,a,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[r,a,s,n]=[0,0,1,1];break;case"ease":[r,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[r,a,s,n]=[.42,0,1,1];break;case"ease-out":[r,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[r,a,s,n]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([r,a,s,n]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([r,a,s,n]=o);var m=TT(r,s),h=TT(a,n),f=aoe(r,s),g=b=>b>1?1:b<0?0:b,v=b=>{for(var w=b>1?1:b,y=w,N=0;N<8;++N){var C=m(y)-w,S=f(y);if(Math.abs(C-w)<O0||S<O0)return h(y);y=g(y-C/S)}return h(y)};return v.isStepper=!1,v},noe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(o,l,d)=>{var m=-(o-l)*s,h=d*a,f=d+(m-h)*n/1e3,g=d*n/1e3+o;return Math.abs(g-l)<O0&&Math.abs(f)<O0?[l,0]:[g,f]};return i.isStepper=!0,i.dt=n,i},m8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OT(e);case"spring":return noe();default:if(e.split("(")[0]==="cubic-bezier")return OT(e)}return typeof e=="function"?e:null};function MT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function RT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?MT(Object(s),!0).forEach(function(a){ioe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ioe(e,r,s){return(r=ooe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ooe(e){var r=loe(e,"string");return typeof r=="symbol"?r:r+""}function loe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var coe=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),doe=(e,r,s)=>e.map(a=>"".concat(coe(a)," ").concat(r,"ms ").concat(s)).join(","),uoe=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),Zh=(e,r)=>Object.keys(r).reduce((s,a)=>RT(RT({},s),{},{[a]:e(a,r[a])}),{});function IT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IT(Object(s),!0).forEach(function(a){moe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function moe(e,r,s){return(r=hoe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function hoe(e){var r=foe(e,"string");return typeof r=="symbol"?r:r+""}function foe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var M0=(e,r,s)=>e+(r-e)*s,x1=e=>{var{from:r,to:s}=e;return r!==s},h8=(e,r,s)=>{var a=Zh((n,i)=>{if(x1(i)){var[o,l]=e(i.from,i.to,i.velocity);return Qs(Qs({},i),{},{from:o,velocity:l})}return i},r);return s<1?Zh((n,i)=>x1(i)?Qs(Qs({},i),{},{velocity:M0(i.velocity,a[n].velocity,s),from:M0(i.from,a[n].from,s)}):i,r):h8(e,a,s-1)};function poe(e,r,s,a,n,i){var o,l=a.reduce((g,v)=>Qs(Qs({},g),{},{[v]:{from:e[v],velocity:0,to:r[v]}}),{}),d=()=>Zh((g,v)=>v.from,l),m=()=>!Object.values(l).filter(x1).length,h=null,f=g=>{o||(o=g);var v=g-o,b=v/s.dt;l=h8(s,l,b),n(Qs(Qs(Qs({},e),r),d())),o=g,m()||(h=i.setTimeout(f))};return()=>(h=i.setTimeout(f),()=>{h()})}function goe(e,r,s,a,n,i,o){var l=null,d=n.reduce((f,g)=>Qs(Qs({},f),{},{[g]:[e[g],r[g]]}),{}),m,h=f=>{m||(m=f);var g=(f-m)/a,v=Zh((w,y)=>M0(...y,s(g)),d);if(i(Qs(Qs(Qs({},e),r),v)),g<1)l=o.setTimeout(h);else{var b=Zh((w,y)=>M0(...y,s(1)),d);i(Qs(Qs(Qs({},e),r),b))}};return()=>(l=o.setTimeout(h),()=>{l()})}const f8=(e,r,s,a,n,i)=>{var o=uoe(e,r);return s.isStepper===!0?poe(e,r,s,o,n,i):goe(e,r,s,a,o,n,i)};function xoe(e){var r,s=()=>null,a=!1,n=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...m]=l;if(typeof d=="number"){n=e.setTimeout(i.bind(null,m),d);return}i(d),n=e.setTimeout(i.bind(null,m));return}typeof o=="string"&&(r=o,s(r)),typeof o=="object"&&(r=o,s(r)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,n&&(n(),n=null),i(o)},subscribe:o=>(s=o,()=>{s=()=>null}),getTimeoutController:()=>e}}class yoe{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=o=>{o-a>=s?r(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function voe(){return xoe(new yoe)}var boe=p.createContext(voe);function p8(e,r){var s=p.useContext(boe);return p.useMemo(()=>r??s(e),[e,r,s])}var woe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y1.apply(null,arguments)}function joe(e,r){if(e==null)return{};var s,a,n=Noe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Noe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function DT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function kl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?DT(Object(s),!0).forEach(function(a){Uc(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):DT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uc(e,r,s){return(r=Soe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Soe(e){var r=Coe(e,"string");return typeof r=="symbol"?r:r+""}function Coe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class C2 extends p.PureComponent{constructor(r,s){super(r,s),Uc(this,"mounted",!1),Uc(this,"manager",void 0),Uc(this,"stopJSAnimation",null),Uc(this,"unSubscribe",null);var{isActive:a,attributeName:n,from:i,to:o,children:l,duration:d,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||d<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:s}=this.props;this.mounted=!0,!(!r||!s)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:s,canBegin:a,attributeName:n,shouldReAnimate:i,to:o,from:l}=this.props,{style:d}=this.state;if(a){if(!s){var m={style:n?{[n]:o}:o};this.state&&d&&(n&&d[n]!==o||!n&&d!==o)&&this.setState(m);return}if(!(soe(r.to,o)&&r.canBegin&&r.isActive)){var h=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=h||i?l:r.to;if(this.state&&d){var g={style:n?{[n]:f}:f};(n&&d[n]!==f||!n&&d!==f)&&this.setState(g)}this.runAnimation(kl(kl({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:s,to:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d}=r,m=f8(s,a,m8(i),n,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([d,o,h,n,l])}runAnimation(r){var{begin:s,duration:a,attributeName:n,to:i,easing:o,onAnimationStart:l,onAnimationEnd:d,children:m}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof m=="function"||o==="spring"){this.runJSAnimation(r);return}var h=n?{[n]:i}:i,f=doe(Object.keys(h),a,o);this.manager.start([l,s,kl(kl({},h),{},{transition:f}),a,d])}render(){var r=this.props,{children:s,begin:a,duration:n,attributeName:i,easing:o,isActive:l,from:d,to:m,canBegin:h,onAnimationEnd:f,shouldReAnimate:g,onAnimationReStart:v,animationManager:b}=r,w=joe(r,woe),y=p.Children.count(s),N=this.state.style;if(typeof s=="function")return s(N);if(!l||y===0||n<=0)return s;var C=S=>{var{style:k={},className:A}=S.props,E=p.cloneElement(S,kl(kl({},w),{},{style:kl(kl({},k),N),className:A}));return E};return y===1?C(p.Children.only(s)):p.createElement("div",null,p.Children.map(s,S=>C(S)))}}Uc(C2,"displayName","Animate");Uc(C2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function R0(e){var r,s=p8((r=e.attributeName)!==null&&r!==void 0?r:Object.keys(e.to).join(","),e.animationManager);return p.createElement(C2,y1({},e,{animationManager:s}))}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},I0.apply(null,arguments)}var LT=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),o=a>=0?1:-1,l=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,m;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],f=0,g=4;f<g;f++)h[f]=n[f]>i?i:n[f];m="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+l*h[0],",").concat(r)),m+="L ".concat(e+s-l*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+o*h[1])),m+="L ".concat(e+s,",").concat(r+a-o*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-l*h[2],",").concat(r+a)),m+="L ".concat(e+l*h[3],",").concat(r+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-o*h[3])),m+="Z"}else if(i>0&&n===+n&&n>0){var v=Math.min(i,n);m="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+s-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+s,",").concat(r+o*v,`
            L `).concat(e+s,",").concat(r+a-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+s-l*v,",").concat(r+a,`
            L `).concat(e+l*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(r+a-o*v," Z")}else m="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return m},koe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g8=e=>{var r=Ia(e,koe),s=p.useRef(null),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&n(N)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:w}=r;if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var y=Jt("recharts-rectangle",h);return w?p.createElement(R0,{canBegin:a>0,from:{width:l,height:d,x:i,y:o},to:{width:l,height:d,x:i,y:o},duration:g,animationEasing:f,isActive:w},N=>{var{width:C,height:S,x:k,y:A}=N;return p.createElement(R0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:f},p.createElement("path",I0({},Pr(r,!0),{className:y,d:LT(k,A,C,S,m),ref:s})))}):p.createElement("path",I0({},Pr(r,!0),{className:y,d:LT(i,o,l,d,m)}))};function x8(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,o=gs(r,s,a,n),l=gs(r,s,a,i);return{points:[o,l],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},v1.apply(null,arguments)}var _oe=(e,r)=>{var s=Fs(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},Ag=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,m=l*(o?1:-1)+a,h=Math.asin(l/m)/E0,f=d?n:n+i*h,g=gs(r,s,m,f),v=gs(r,s,a,f),b=d?n-i*h:n,w=gs(r,s,m*Math.cos(h*E0),b);return{center:g,circleTangency:v,lineTangency:w,theta:h}},y8=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:o}=e,l=_oe(i,o),d=i+l,m=gs(r,s,n,i),h=gs(r,s,n,d),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=gs(r,s,a,i),v=gs(r,s,a,d);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},Poe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:m}=e,h=Fs(m-d),{circleTangency:f,lineTangency:g,theta:v}=Ag({cx:r,cy:s,radius:n,angle:d,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:b,lineTangency:w,theta:y}=Ag({cx:r,cy:s,radius:n,angle:m,sign:-h,cornerRadius:i,cornerIsExternal:l}),N=l?Math.abs(d-m):Math.abs(d-m)-v-y;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):y8({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var{circleTangency:S,lineTangency:k,theta:A}=Ag({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:E,lineTangency:T,theta:M}=Ag({cx:r,cy:s,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),L=l?Math.abs(d-m):Math.abs(d-m)-A-M;if(L<0&&i===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},Aoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v8=e=>{var r=Ia(e,Aoe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h,className:f}=r;if(i<n||m===h)return null;var g=Jt("recharts-sector",f),v=i-n,b=Ea(o,v,0,!0),w;return b>0&&Math.abs(m-h)<360?w=Poe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h}):w=y8({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:m,endAngle:h}),p.createElement("path",v1({},Pr(r,!0),{className:g,d:w}))};function Eoe(e,r,s){var a,n,i,o;if(e==="horizontal")a=r.x,i=a,n=s.top,o=s.top+s.height;else if(e==="vertical")n=r.y,o=n,a=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var{cx:l,cy:d,innerRadius:m,outerRadius:h,angle:f}=r,g=gs(l,d,m,f),v=gs(l,d,h,f);a=g.x,n=g.y,i=v.x,o=v.y}else return x8(r);return[{x:a,y:n},{x:i,y:o}]}var wj={},jj={},Nj={},$T;function Toe(){return $T||($T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=wL();function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s}(Nj)),Nj}var zT;function Ooe(){return zT||(zT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Toe();function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s}(jj)),jj}var FT;function Moe(){return FT||(FT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=jL(),s=Ooe();function a(n,i,o){o&&typeof o!="number"&&r.isIterateeCall(n,i,o)&&(i=o=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),o=o===void 0?n<i?1:-1:s.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),d=new Array(l);for(let m=0;m<l;m++)d[m]=n,n+=o;return d}e.range=a}(wj)),wj}var Sj,UT;function Roe(){return UT||(UT=1,Sj=Moe().range),Sj}var Ioe=Roe();const b8=gn(Ioe);function Ul(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Doe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function k2(e){let r,s,a;e.length!==2?(r=Ul,s=(l,d)=>Ul(e(l),d),a=(l,d)=>e(l)-d):(r=e===Ul||e===Doe?e:Loe,s=e,a=e);function n(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<0?m=f+1:h=f}while(m<h)}return m}function i(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<=0?m=f+1:h=f}while(m<h)}return m}function o(l,d,m=0,h=l.length){const f=n(l,d,m,h-1);return f>m&&a(l[f-1],d)>-a(l[f],d)?f-1:f}return{left:n,center:o,right:i}}function Loe(){return 0}function w8(e){return e===null?NaN:+e}function*$oe(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const zoe=k2(Ul),Rf=zoe.right;k2(w8).center;class BT extends Map{constructor(r,s=Boe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(WT(this,r))}has(r){return super.has(WT(this,r))}set(r,s){return super.set(Foe(this,r),s)}delete(r){return super.delete(Uoe(this,r))}}function WT({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function Foe({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Uoe({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Boe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Woe(e=Ul){if(e===Ul)return j8;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function j8(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const Voe=Math.sqrt(50),qoe=Math.sqrt(10),Hoe=Math.sqrt(2);function D0(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=Voe?10:i>=qoe?5:i>=Hoe?2:1;let l,d,m;return n<0?(m=Math.pow(10,-n)/o,l=Math.round(e*m),d=Math.round(r*m),l/m<e&&++l,d/m>r&&--d,m=-m):(m=Math.pow(10,n)*o,l=Math.round(e/m),d=Math.round(r/m),l*m<e&&++l,d*m>r&&--d),d<l&&.5<=s&&s<2?D0(e,r,s*2):[l,d,m]}function b1(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,o]=a?D0(r,e,s):D0(e,r,s);if(!(i>=n))return[];const l=i-n+1,d=new Array(l);if(a)if(o<0)for(let m=0;m<l;++m)d[m]=(i-m)/-o;else for(let m=0;m<l;++m)d[m]=(i-m)*o;else if(o<0)for(let m=0;m<l;++m)d[m]=(n+m)/-o;else for(let m=0;m<l;++m)d[m]=(n+m)*o;return d}function w1(e,r,s){return r=+r,e=+e,s=+s,D0(e,r,s)[2]}function j1(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?w1(r,e,s):w1(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function VT(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function qT(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function N8(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?j8:Woe(n);a>s;){if(a-s>600){const d=a-s+1,m=r-s+1,h=Math.log(d),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(d-f)/d)*(m-d/2<0?-1:1),v=Math.max(s,Math.floor(r-m*f/d+g)),b=Math.min(a,Math.floor(r+(d-m)*f/d+g));N8(e,r,v,b,n)}const i=e[r];let o=s,l=a;for(ph(e,s,r),n(e[a],i)>0&&ph(e,s,a);o<l;){for(ph(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?ph(e,s,l):(++l,ph(e,l,a)),l<=r&&(s=l+1),r<=l&&(a=l-1)}return e}function ph(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function Koe(e,r,s){if(e=Float64Array.from($oe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return qT(e);if(r>=1)return VT(e);var a,n=(a-1)*r,i=Math.floor(n),o=VT(N8(e,i).subarray(0,i+1)),l=qT(e.subarray(i+1));return o+(l-o)*(n-i)}}function Goe(e,r,s=w8){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function Yoe(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function Yn(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Jo(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const N1=Symbol("implicit");function _2(){var e=new BT,r=[],s=[],a=N1;function n(i){let o=e.get(i);if(o===void 0){if(a!==N1)return a;e.set(i,o=r.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new BT;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return _2(r,s).unknown(a)},Yn.apply(n,arguments),n}function P2(){var e=_2().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,o,l=!1,d=0,m=0,h=.5;delete e.unknown;function f(){var g=r().length,v=n<a,b=v?n:a,w=v?a:n;i=(w-b)/Math.max(1,g-d+m*2),l&&(i=Math.floor(i)),b+=(w-b-i*(g-d))*h,o=i*(1-d),l&&(b=Math.round(b),o=Math.round(o));var y=Yoe(g).map(function(N){return b+i*N});return s(v?y.reverse():y)}return e.domain=function(g){return arguments.length?(r(g),f()):r()},e.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,f()):[a,n]},e.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,f()):l},e.padding=function(g){return arguments.length?(d=Math.min(1,m=+g),f()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),f()):d},e.paddingOuter=function(g){return arguments.length?(m=+g,f()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),f()):h},e.copy=function(){return P2(r(),[a,n]).round(l).paddingInner(d).paddingOuter(m).align(h)},Yn.apply(f(),arguments)}function S8(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return S8(r())},e}function Joe(){return S8(P2.apply(null,arguments).paddingInner(1))}function A2(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function C8(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function If(){}var ef=.7,L0=1/ef,Ou="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xoe=/^#([0-9a-f]{3,8})$/,Qoe=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),Zoe=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),ele=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${tf}\\)$`),tle=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${tf}\\)$`),rle=new RegExp(`^hsl\\(${tf},${Vi},${Vi}\\)$`),sle=new RegExp(`^hsla\\(${tf},${Vi},${Vi},${tf}\\)$`),HT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A2(If,rf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KT,formatHex:KT,formatHex8:ale,formatHsl:nle,formatRgb:GT,toString:GT});function KT(){return this.rgb().formatHex()}function ale(){return this.rgb().formatHex8()}function nle(){return k8(this).formatHsl()}function GT(){return this.rgb().formatRgb()}function rf(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=Xoe.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?YT(r):s===3?new Ka(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Eg(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Eg(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Qoe.exec(e))?new Ka(r[1],r[2],r[3],1):(r=Zoe.exec(e))?new Ka(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=ele.exec(e))?Eg(r[1],r[2],r[3],r[4]):(r=tle.exec(e))?Eg(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=rle.exec(e))?QT(r[1],r[2]/100,r[3]/100,1):(r=sle.exec(e))?QT(r[1],r[2]/100,r[3]/100,r[4]):HT.hasOwnProperty(e)?YT(HT[e]):e==="transparent"?new Ka(NaN,NaN,NaN,0):null}function YT(e){return new Ka(e>>16&255,e>>8&255,e&255,1)}function Eg(e,r,s,a){return a<=0&&(e=r=s=NaN),new Ka(e,r,s,a)}function ile(e){return e instanceof If||(e=rf(e)),e?(e=e.rgb(),new Ka(e.r,e.g,e.b,e.opacity)):new Ka}function S1(e,r,s,a){return arguments.length===1?ile(e):new Ka(e,r,s,a??1)}function Ka(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}A2(Ka,S1,C8(If,{brighter(e){return e=e==null?L0:Math.pow(L0,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ka(Xc(this.r),Xc(this.g),Xc(this.b),$0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JT,formatHex:JT,formatHex8:ole,formatRgb:XT,toString:XT}));function JT(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}`}function ole(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}${Bc((isNaN(this.opacity)?1:this.opacity)*255)}`}function XT(){const e=$0(this.opacity);return`${e===1?"rgb(":"rgba("}${Xc(this.r)}, ${Xc(this.g)}, ${Xc(this.b)}${e===1?")":`, ${e})`}`}function $0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bc(e){return e=Xc(e),(e<16?"0":"")+e.toString(16)}function QT(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new pi(e,r,s,a)}function k8(e){if(e instanceof pi)return new pi(e.h,e.s,e.l,e.opacity);if(e instanceof If||(e=rf(e)),!e)return new pi;if(e instanceof pi)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),o=NaN,l=i-n,d=(i+n)/2;return l?(r===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-r)/l+2:o=(r-s)/l+4,l/=d<.5?i+n:2-i-n,o*=60):l=d>0&&d<1?0:o,new pi(o,l,d,e.opacity)}function lle(e,r,s,a){return arguments.length===1?k8(e):new pi(e,r,s,a??1)}function pi(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}A2(pi,lle,C8(If,{brighter(e){return e=e==null?L0:Math.pow(L0,e),new pi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new pi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new Ka(Cj(e>=240?e-240:e+120,n,a),Cj(e,n,a),Cj(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new pi(ZT(this.h),Tg(this.s),Tg(this.l),$0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$0(this.opacity);return`${e===1?"hsl(":"hsla("}${ZT(this.h)}, ${Tg(this.s)*100}%, ${Tg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ZT(e){return e=(e||0)%360,e<0?e+360:e}function Tg(e){return Math.max(0,Math.min(1,e||0))}function Cj(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const E2=e=>()=>e;function cle(e,r){return function(s){return e+s*r}}function dle(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function ule(e){return(e=+e)==1?_8:function(r,s){return s-r?dle(r,s,e):E2(isNaN(r)?s:r)}}function _8(e,r){var s=r-e;return s?cle(e,s):E2(isNaN(e)?r:e)}const e5=function e(r){var s=ule(r);function a(n,i){var o=s((n=S1(n)).r,(i=S1(i)).r),l=s(n.g,i.g),d=s(n.b,i.b),m=_8(n.opacity,i.opacity);return function(h){return n.r=o(h),n.g=l(h),n.b=d(h),n.opacity=m(h),n+""}}return a.gamma=e,a}(1);function mle(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function hle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fle(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=lm(e[o],r[o]);for(;o<s;++o)i[o]=r[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function ple(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function z0(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function gle(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=lm(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var C1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kj=new RegExp(C1.source,"g");function xle(e){return function(){return e}}function yle(e){return function(r){return e(r)+""}}function vle(e,r){var s=C1.lastIndex=kj.lastIndex=0,a,n,i,o=-1,l=[],d=[];for(e=e+"",r=r+"";(a=C1.exec(e))&&(n=kj.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,d.push({i:o,x:z0(a,n)})),s=kj.lastIndex;return s<r.length&&(i=r.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?yle(d[0].x):xle(r):(r=d.length,function(m){for(var h=0,f;h<r;++h)l[(f=d[h]).i]=f.x(m);return l.join("")})}function lm(e,r){var s=typeof r,a;return r==null||s==="boolean"?E2(r):(s==="number"?z0:s==="string"?(a=rf(r))?(r=a,e5):vle:r instanceof rf?e5:r instanceof Date?ple:hle(r)?mle:Array.isArray(r)?fle:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?gle:z0)(e,r)}function T2(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function ble(e,r){r===void 0&&(r=e,e=lm);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function wle(e){return function(){return e}}function F0(e){return+e}var t5=[0,1];function Pa(e){return e}function k1(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:wle(isNaN(r)?NaN:.5)}function jle(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function Nle(e,r,s){var a=e[0],n=e[1],i=r[0],o=r[1];return n<a?(a=k1(n,a),i=s(o,i)):(a=k1(a,n),i=s(i,o)),function(l){return i(a(l))}}function Sle(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)n[o]=k1(e[o],e[o+1]),i[o]=s(r[o],r[o+1]);return function(l){var d=Rf(e,l,1,a)-1;return i[d](n[d](l))}}function Df(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cy(){var e=t5,r=t5,s=lm,a,n,i,o=Pa,l,d,m;function h(){var g=Math.min(e.length,r.length);return o!==Pa&&(o=jle(e[0],e[g-1])),l=g>2?Sle:Nle,d=m=null,f}function f(g){return g==null||isNaN(g=+g)?i:(d||(d=l(e.map(a),r,s)))(a(o(g)))}return f.invert=function(g){return o(n((m||(m=l(r,e.map(a),z0)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,F0),h()):e.slice()},f.range=function(g){return arguments.length?(r=Array.from(g),h()):r.slice()},f.rangeRound=function(g){return r=Array.from(g),s=T2,h()},f.clamp=function(g){return arguments.length?(o=g?!0:Pa,h()):o!==Pa},f.interpolate=function(g){return arguments.length?(s=g,h()):s},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,v){return a=g,n=v,h()}}function O2(){return cy()(Pa,Pa)}function Cle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function U0(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function Hu(e){return e=U0(Math.abs(e)),e?e[1]:NaN}function kle(e,r){return function(s,a){for(var n=s.length,i=[],o=0,l=e[0],d=0;n>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(s.substring(n-=l,n+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function _le(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var Ple=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sf(e){if(!(r=Ple.exec(e)))throw new Error("invalid format: "+e);var r;return new M2({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}sf.prototype=M2.prototype;function M2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}M2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ale(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var P8;function Ele(e,r){var s=U0(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(P8=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+U0(e,Math.max(0,r+i-1))[0]}function r5(e,r){var s=U0(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const s5={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cle,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>r5(e*100,r),r:r5,s:Ele,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a5(e){return e}var n5=Array.prototype.map,i5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tle(e){var r=e.grouping===void 0||e.thousands===void 0?a5:kle(n5.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?a5:_le(n5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(f){f=sf(f);var g=f.fill,v=f.align,b=f.sign,w=f.symbol,y=f.zero,N=f.width,C=f.comma,S=f.precision,k=f.trim,A=f.type;A==="n"?(C=!0,A="g"):s5[A]||(S===void 0&&(S=12),k=!0,A="g"),(y||g==="0"&&v==="=")&&(y=!0,g="0",v="=");var E=w==="$"?s:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=w==="$"?a:/[%p]/.test(A)?o:"",M=s5[A],L=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function V(R){var I=E,B=T,H,F,U;if(A==="c")B=M(R)+B,R="";else{R=+R;var O=R<0||1/R<0;if(R=isNaN(R)?d:M(Math.abs(R),S),k&&(R=Ale(R)),O&&+R==0&&b!=="+"&&(O=!1),I=(O?b==="("?b:l:b==="-"||b==="("?"":b)+I,B=(A==="s"?i5[8+P8/3]:"")+B+(O&&b==="("?")":""),L){for(H=-1,F=R.length;++H<F;)if(U=R.charCodeAt(H),48>U||U>57){B=(U===46?n+R.slice(H+1):R.slice(H))+B,R=R.slice(0,H);break}}}C&&!y&&(R=r(R,1/0));var $=I.length+R.length+B.length,W=$<N?new Array(N-$+1).join(g):"";switch(C&&y&&(R=r(W+R,W.length?N-B.length:1/0),W=""),v){case"<":R=I+R+B+W;break;case"=":R=I+W+R+B;break;case"^":R=W.slice(0,$=W.length>>1)+I+R+B+W.slice($);break;default:R=W+I+R+B;break}return i(R)}return V.toString=function(){return f+""},V}function h(f,g){var v=m((f=sf(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Hu(g)/3)))*3,w=Math.pow(10,-b),y=i5[8+b/3];return function(N){return v(w*N)+y}}return{format:m,formatPrefix:h}}var Og,R2,A8;Ole({thousands:",",grouping:[3],currency:["$",""]});function Ole(e){return Og=Tle(e),R2=Og.format,A8=Og.formatPrefix,Og}function Mle(e){return Math.max(0,-Hu(Math.abs(e)))}function Rle(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hu(r)/3)))*3-Hu(Math.abs(e)))}function Ile(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Hu(r)-Hu(e))+1}function E8(e,r,s,a){var n=j1(e,r,s),i;switch(a=sf(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=Rle(n,o))&&(a.precision=i),A8(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Ile(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Mle(n))&&(a.precision=i-(a.type==="%")*2);break}}return R2(a)}function sc(e){var r=e.domain;return e.ticks=function(s){var a=r();return b1(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return E8(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,o=a[n],l=a[i],d,m,h=10;for(l<o&&(m=o,o=l,l=m,m=n,n=i,i=m);h-- >0;){if(m=w1(o,l,s),m===d)return a[n]=o,a[i]=l,r(a);if(m>0)o=Math.floor(o/m)*m,l=Math.ceil(l/m)*m;else if(m<0)o=Math.ceil(o*m)/m,l=Math.floor(l*m)/m;else break;d=m}return e},e}function T8(){var e=O2();return e.copy=function(){return Df(e,T8())},Yn.apply(e,arguments),sc(e)}function O8(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,F0),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return O8(e).unknown(r)},e=arguments.length?Array.from(e,F0):[0,1],sc(s)}function M8(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),e[s]=r.floor(n),e[a]=r.ceil(i),e}function o5(e){return Math.log(e)}function l5(e){return Math.exp(e)}function Dle(e){return-Math.log(-e)}function Lle(e){return-Math.exp(-e)}function $le(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zle(e){return e===10?$le:e===Math.E?Math.exp:r=>Math.pow(e,r)}function Fle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function c5(e){return(r,s)=>-e(-r,s)}function I2(e){const r=e(o5,l5),s=r.domain;let a=10,n,i;function o(){return n=Fle(a),i=zle(a),s()[0]<0?(n=c5(n),i=c5(i),e(Dle,Lle)):e(o5,l5),r}return r.base=function(l){return arguments.length?(a=+l,o()):a},r.domain=function(l){return arguments.length?(s(l),o()):s()},r.ticks=l=>{const d=s();let m=d[0],h=d[d.length-1];const f=h<m;f&&([m,h]=[h,m]);let g=n(m),v=n(h),b,w;const y=l==null?10:+l;let N=[];if(!(a%1)&&v-g<y){if(g=Math.floor(g),v=Math.ceil(v),m>0){for(;g<=v;++g)for(b=1;b<a;++b)if(w=g<0?b/i(-g):b*i(g),!(w<m)){if(w>h)break;N.push(w)}}else for(;g<=v;++g)for(b=a-1;b>=1;--b)if(w=g>0?b/i(-g):b*i(g),!(w<m)){if(w>h)break;N.push(w)}N.length*2<y&&(N=b1(m,h,y))}else N=b1(g,v,Math.min(v-g,y)).map(i);return f?N.reverse():N},r.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=sf(d)).precision==null&&(d.trim=!0),d=R2(d)),l===1/0)return d;const m=Math.max(1,a*l/r.ticks().length);return h=>{let f=h/i(Math.round(n(h)));return f*a<a-.5&&(f*=a),f<=m?d(h):""}},r.nice=()=>s(M8(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function R8(){const e=I2(cy()).domain([1,10]);return e.copy=()=>Df(e,R8()).base(e.base()),Yn.apply(e,arguments),e}function d5(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function u5(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function D2(e){var r=1,s=e(d5(r),u5(r));return s.constant=function(a){return arguments.length?e(d5(r=+a),u5(r)):r},sc(s)}function I8(){var e=D2(cy());return e.copy=function(){return Df(e,I8()).constant(e.constant())},Yn.apply(e,arguments)}function m5(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function Ule(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ble(e){return e<0?-e*e:e*e}function L2(e){var r=e(Pa,Pa),s=1;function a(){return s===1?e(Pa,Pa):s===.5?e(Ule,Ble):e(m5(s),m5(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},sc(r)}function $2(){var e=L2(cy());return e.copy=function(){return Df(e,$2()).exponent(e.exponent())},Yn.apply(e,arguments),e}function Wle(){return $2.apply(null,arguments).exponent(.5)}function h5(e){return Math.sign(e)*e*e}function Vle(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function D8(){var e=O2(),r=[0,1],s=!1,a;function n(i){var o=Vle(e(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return e.invert(h5(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,F0)).map(h5)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return D8(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},Yn.apply(n,arguments),sc(n)}function L8(){var e=[],r=[],s=[],a;function n(){var o=0,l=Math.max(1,r.length);for(s=new Array(l-1);++o<l;)s[o-1]=Goe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Rf(s,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return L8().domain(e).range(r).unknown(a)},Yn.apply(i,arguments)}function $8(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function o(d){return d!=null&&d<=d?n[Rf(a,d,0,s)]:i}function l(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*r-(d-s)*e)/(s+1);return o}return o.domain=function(d){return arguments.length?([e,r]=d,e=+e,r=+r,l()):[e,r]},o.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,l()):n.slice()},o.invertExtent=function(d){var m=n.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=s?[a[s-1],r]:[a[m-1],a[m]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return $8().domain([e,r]).range(n).unknown(i)},Yn.apply(sc(o),arguments)}function z8(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[Rf(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return z8().domain(e).range(r).unknown(s)},Yn.apply(n,arguments)}const _j=new Date,Pj=new Date;function As(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const d=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let m;do d.push(m=new Date(+i)),r(i,l),e(i);while(m<i&&i<o);return d},n.filter=i=>As(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),s&&(n.count=(i,o)=>(_j.setTime(+i),Pj.setTime(+o),e(_j),e(Pj),Math.floor(s(_j,Pj))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const B0=As(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);B0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?As(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):B0);B0.range;const Eo=1e3,$n=Eo*60,To=$n*60,Vo=To*24,z2=Vo*7,f5=Vo*30,Aj=Vo*365,Wc=As(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Eo)},(e,r)=>(r-e)/Eo,e=>e.getUTCSeconds());Wc.range;const F2=As(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Eo)},(e,r)=>{e.setTime(+e+r*$n)},(e,r)=>(r-e)/$n,e=>e.getMinutes());F2.range;const U2=As(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*$n)},(e,r)=>(r-e)/$n,e=>e.getUTCMinutes());U2.range;const B2=As(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Eo-e.getMinutes()*$n)},(e,r)=>{e.setTime(+e+r*To)},(e,r)=>(r-e)/To,e=>e.getHours());B2.range;const W2=As(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*To)},(e,r)=>(r-e)/To,e=>e.getUTCHours());W2.range;const Lf=As(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*$n)/Vo,e=>e.getDate()-1);Lf.range;const dy=As(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Vo,e=>e.getUTCDate()-1);dy.range;const F8=As(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Vo,e=>Math.floor(e/Vo));F8.range;function wd(e){return As(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*$n)/z2)}const uy=wd(0),W0=wd(1),qle=wd(2),Hle=wd(3),Ku=wd(4),Kle=wd(5),Gle=wd(6);uy.range;W0.range;qle.range;Hle.range;Ku.range;Kle.range;Gle.range;function jd(e){return As(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/z2)}const my=jd(0),V0=jd(1),Yle=jd(2),Jle=jd(3),Gu=jd(4),Xle=jd(5),Qle=jd(6);my.range;V0.range;Yle.range;Jle.range;Gu.range;Xle.range;Qle.range;const V2=As(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());V2.range;const q2=As(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q2.range;const qo=As(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:As(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});qo.range;const Ho=As(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:As(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});Ho.range;function U8(e,r,s,a,n,i){const o=[[Wc,1,Eo],[Wc,5,5*Eo],[Wc,15,15*Eo],[Wc,30,30*Eo],[i,1,$n],[i,5,5*$n],[i,15,15*$n],[i,30,30*$n],[n,1,To],[n,3,3*To],[n,6,6*To],[n,12,12*To],[a,1,Vo],[a,2,2*Vo],[s,1,z2],[r,1,f5],[r,3,3*f5],[e,1,Aj]];function l(m,h,f){const g=h<m;g&&([m,h]=[h,m]);const v=f&&typeof f.range=="function"?f:d(m,h,f),b=v?v.range(m,+h+1):[];return g?b.reverse():b}function d(m,h,f){const g=Math.abs(h-m)/f,v=k2(([,,y])=>y).right(o,g);if(v===o.length)return e.every(j1(m/Aj,h/Aj,f));if(v===0)return B0.every(Math.max(j1(m,h,f),1));const[b,w]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return b.every(w)}return[l,d]}const[Zle,ece]=U8(Ho,q2,my,F8,W2,U2),[tce,rce]=U8(qo,V2,uy,Lf,B2,F2);function Ej(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tj(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gh(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function sce(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,m=xh(n),h=yh(n),f=xh(i),g=yh(i),v=xh(o),b=yh(o),w=xh(l),y=yh(l),N=xh(d),C=yh(d),S={a:O,A:$,b:W,B:q,c:null,d:b5,e:b5,f:kce,g:Dce,G:$ce,H:Nce,I:Sce,j:Cce,L:B8,m:_ce,M:Pce,p:z,q:Q,Q:N5,s:S5,S:Ace,u:Ece,U:Tce,V:Oce,w:Mce,W:Rce,x:null,X:null,y:Ice,Y:Lce,Z:zce,"%":j5},k={a:Ae,A:de,b:Z,B:be,c:null,d:w5,e:w5,f:Wce,g:Zce,G:tde,H:Fce,I:Uce,j:Bce,L:V8,m:Vce,M:qce,p:ke,q:Ie,Q:N5,s:S5,S:Hce,u:Kce,U:Gce,V:Yce,w:Jce,W:Xce,x:null,X:null,y:Qce,Y:ede,Z:rde,"%":j5},A={a:V,A:R,b:I,B,c:H,d:y5,e:y5,f:vce,g:x5,G:g5,H:v5,I:v5,j:pce,L:yce,m:fce,M:gce,p:L,q:hce,Q:wce,s:jce,S:xce,u:lce,U:cce,V:dce,w:oce,W:uce,x:F,X:U,y:x5,Y:g5,Z:mce,"%":bce};S.x=E(s,S),S.X=E(a,S),S.c=E(r,S),k.x=E(s,k),k.X=E(a,k),k.c=E(r,k);function E(ce,Ce){return function(Te){var te=[],we=-1,Oe=0,Ue=ce.length,ie,Ge,Ct;for(Te instanceof Date||(Te=new Date(+Te));++we<Ue;)ce.charCodeAt(we)===37&&(te.push(ce.slice(Oe,we)),(Ge=p5[ie=ce.charAt(++we)])!=null?ie=ce.charAt(++we):Ge=ie==="e"?" ":"0",(Ct=Ce[ie])&&(ie=Ct(Te,Ge)),te.push(ie),Oe=we+1);return te.push(ce.slice(Oe,we)),te.join("")}}function T(ce,Ce){return function(Te){var te=gh(1900,void 0,1),we=M(te,ce,Te+="",0),Oe,Ue;if(we!=Te.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Ce&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Oe=Tj(gh(te.y,0,1)),Ue=Oe.getUTCDay(),Oe=Ue>4||Ue===0?V0.ceil(Oe):V0(Oe),Oe=dy.offset(Oe,(te.V-1)*7),te.y=Oe.getUTCFullYear(),te.m=Oe.getUTCMonth(),te.d=Oe.getUTCDate()+(te.w+6)%7):(Oe=Ej(gh(te.y,0,1)),Ue=Oe.getDay(),Oe=Ue>4||Ue===0?W0.ceil(Oe):W0(Oe),Oe=Lf.offset(Oe,(te.V-1)*7),te.y=Oe.getFullYear(),te.m=Oe.getMonth(),te.d=Oe.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Ue="Z"in te?Tj(gh(te.y,0,1)).getUTCDay():Ej(gh(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Ue+5)%7:te.w+te.U*7-(Ue+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Tj(te)):Ej(te)}}function M(ce,Ce,Te,te){for(var we=0,Oe=Ce.length,Ue=Te.length,ie,Ge;we<Oe;){if(te>=Ue)return-1;if(ie=Ce.charCodeAt(we++),ie===37){if(ie=Ce.charAt(we++),Ge=A[ie in p5?Ce.charAt(we++):ie],!Ge||(te=Ge(ce,Te,te))<0)return-1}else if(ie!=Te.charCodeAt(te++))return-1}return te}function L(ce,Ce,Te){var te=m.exec(Ce.slice(Te));return te?(ce.p=h.get(te[0].toLowerCase()),Te+te[0].length):-1}function V(ce,Ce,Te){var te=v.exec(Ce.slice(Te));return te?(ce.w=b.get(te[0].toLowerCase()),Te+te[0].length):-1}function R(ce,Ce,Te){var te=f.exec(Ce.slice(Te));return te?(ce.w=g.get(te[0].toLowerCase()),Te+te[0].length):-1}function I(ce,Ce,Te){var te=N.exec(Ce.slice(Te));return te?(ce.m=C.get(te[0].toLowerCase()),Te+te[0].length):-1}function B(ce,Ce,Te){var te=w.exec(Ce.slice(Te));return te?(ce.m=y.get(te[0].toLowerCase()),Te+te[0].length):-1}function H(ce,Ce,Te){return M(ce,r,Ce,Te)}function F(ce,Ce,Te){return M(ce,s,Ce,Te)}function U(ce,Ce,Te){return M(ce,a,Ce,Te)}function O(ce){return o[ce.getDay()]}function $(ce){return i[ce.getDay()]}function W(ce){return d[ce.getMonth()]}function q(ce){return l[ce.getMonth()]}function z(ce){return n[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function Ae(ce){return o[ce.getUTCDay()]}function de(ce){return i[ce.getUTCDay()]}function Z(ce){return d[ce.getUTCMonth()]}function be(ce){return l[ce.getUTCMonth()]}function ke(ce){return n[+(ce.getUTCHours()>=12)]}function Ie(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ce=E(ce+="",S);return Ce.toString=function(){return ce},Ce},parse:function(ce){var Ce=T(ce+="",!1);return Ce.toString=function(){return ce},Ce},utcFormat:function(ce){var Ce=E(ce+="",k);return Ce.toString=function(){return ce},Ce},utcParse:function(ce){var Ce=T(ce+="",!0);return Ce.toString=function(){return ce},Ce}}}var p5={"-":"",_:" ",0:"0"},Hs=/^\s*\d+/,ace=/^%/,nce=/[\\^$*+?|[\]().{}]/g;function cr(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function ice(e){return e.replace(nce,"\\$&")}function xh(e){return new RegExp("^(?:"+e.map(ice).join("|")+")","i")}function yh(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function oce(e,r,s){var a=Hs.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function lce(e,r,s){var a=Hs.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function cce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function dce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function uce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function g5(e,r,s){var a=Hs.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function x5(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function mce(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function hce(e,r,s){var a=Hs.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function fce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function y5(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function pce(e,r,s){var a=Hs.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function v5(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function gce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function xce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function yce(e,r,s){var a=Hs.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function vce(e,r,s){var a=Hs.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function bce(e,r,s){var a=ace.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function wce(e,r,s){var a=Hs.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function jce(e,r,s){var a=Hs.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function b5(e,r){return cr(e.getDate(),r,2)}function Nce(e,r){return cr(e.getHours(),r,2)}function Sce(e,r){return cr(e.getHours()%12||12,r,2)}function Cce(e,r){return cr(1+Lf.count(qo(e),e),r,3)}function B8(e,r){return cr(e.getMilliseconds(),r,3)}function kce(e,r){return B8(e,r)+"000"}function _ce(e,r){return cr(e.getMonth()+1,r,2)}function Pce(e,r){return cr(e.getMinutes(),r,2)}function Ace(e,r){return cr(e.getSeconds(),r,2)}function Ece(e){var r=e.getDay();return r===0?7:r}function Tce(e,r){return cr(uy.count(qo(e)-1,e),r,2)}function W8(e){var r=e.getDay();return r>=4||r===0?Ku(e):Ku.ceil(e)}function Oce(e,r){return e=W8(e),cr(Ku.count(qo(e),e)+(qo(e).getDay()===4),r,2)}function Mce(e){return e.getDay()}function Rce(e,r){return cr(W0.count(qo(e)-1,e),r,2)}function Ice(e,r){return cr(e.getFullYear()%100,r,2)}function Dce(e,r){return e=W8(e),cr(e.getFullYear()%100,r,2)}function Lce(e,r){return cr(e.getFullYear()%1e4,r,4)}function $ce(e,r){var s=e.getDay();return e=s>=4||s===0?Ku(e):Ku.ceil(e),cr(e.getFullYear()%1e4,r,4)}function zce(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+cr(r/60|0,"0",2)+cr(r%60,"0",2)}function w5(e,r){return cr(e.getUTCDate(),r,2)}function Fce(e,r){return cr(e.getUTCHours(),r,2)}function Uce(e,r){return cr(e.getUTCHours()%12||12,r,2)}function Bce(e,r){return cr(1+dy.count(Ho(e),e),r,3)}function V8(e,r){return cr(e.getUTCMilliseconds(),r,3)}function Wce(e,r){return V8(e,r)+"000"}function Vce(e,r){return cr(e.getUTCMonth()+1,r,2)}function qce(e,r){return cr(e.getUTCMinutes(),r,2)}function Hce(e,r){return cr(e.getUTCSeconds(),r,2)}function Kce(e){var r=e.getUTCDay();return r===0?7:r}function Gce(e,r){return cr(my.count(Ho(e)-1,e),r,2)}function q8(e){var r=e.getUTCDay();return r>=4||r===0?Gu(e):Gu.ceil(e)}function Yce(e,r){return e=q8(e),cr(Gu.count(Ho(e),e)+(Ho(e).getUTCDay()===4),r,2)}function Jce(e){return e.getUTCDay()}function Xce(e,r){return cr(V0.count(Ho(e)-1,e),r,2)}function Qce(e,r){return cr(e.getUTCFullYear()%100,r,2)}function Zce(e,r){return e=q8(e),cr(e.getUTCFullYear()%100,r,2)}function ede(e,r){return cr(e.getUTCFullYear()%1e4,r,4)}function tde(e,r){var s=e.getUTCDay();return e=s>=4||s===0?Gu(e):Gu.ceil(e),cr(e.getUTCFullYear()%1e4,r,4)}function rde(){return"+0000"}function j5(){return"%"}function N5(e){return+e}function S5(e){return Math.floor(+e/1e3)}var gu,H8,K8;sde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sde(e){return gu=sce(e),H8=gu.format,gu.parse,K8=gu.utcFormat,gu.utcParse,gu}function ade(e){return new Date(e)}function nde(e){return e instanceof Date?+e:+new Date(+e)}function H2(e,r,s,a,n,i,o,l,d,m){var h=O2(),f=h.invert,g=h.domain,v=m(".%L"),b=m(":%S"),w=m("%I:%M"),y=m("%I %p"),N=m("%a %d"),C=m("%b %d"),S=m("%B"),k=m("%Y");function A(E){return(d(E)<E?v:l(E)<E?b:o(E)<E?w:i(E)<E?y:a(E)<E?n(E)<E?N:C:s(E)<E?S:k)(E)}return h.invert=function(E){return new Date(f(E))},h.domain=function(E){return arguments.length?g(Array.from(E,nde)):g().map(ade)},h.ticks=function(E){var T=g();return e(T[0],T[T.length-1],E??10)},h.tickFormat=function(E,T){return T==null?A:m(T)},h.nice=function(E){var T=g();return(!E||typeof E.range!="function")&&(E=r(T[0],T[T.length-1],E??10)),E?g(M8(T,E)):h},h.copy=function(){return Df(h,H2(e,r,s,a,n,i,o,l,d,m))},h}function ide(){return Yn.apply(H2(tce,rce,qo,V2,uy,Lf,B2,F2,Wc,H8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ode(){return Yn.apply(H2(Zle,ece,Ho,q2,my,dy,W2,U2,Wc,K8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hy(){var e=0,r=1,s,a,n,i,o=Pa,l=!1,d;function m(f){return f==null||isNaN(f=+f)?d:o(n===0?.5:(f=(i(f)-s)*n,l?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([e,r]=f,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),m):[e,r]},m.clamp=function(f){return arguments.length?(l=!!f,m):l},m.interpolator=function(f){return arguments.length?(o=f,m):o};function h(f){return function(g){var v,b;return arguments.length?([v,b]=g,o=f(v,b),m):[o(0),o(1)]}}return m.range=h(lm),m.rangeRound=h(T2),m.unknown=function(f){return arguments.length?(d=f,m):d},function(f){return i=f,s=f(e),a=f(r),n=s===a?0:1/(a-s),m}}function ac(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function G8(){var e=sc(hy()(Pa));return e.copy=function(){return ac(e,G8())},Jo.apply(e,arguments)}function Y8(){var e=I2(hy()).domain([1,10]);return e.copy=function(){return ac(e,Y8()).base(e.base())},Jo.apply(e,arguments)}function J8(){var e=D2(hy());return e.copy=function(){return ac(e,J8()).constant(e.constant())},Jo.apply(e,arguments)}function K2(){var e=L2(hy());return e.copy=function(){return ac(e,K2()).exponent(e.exponent())},Jo.apply(e,arguments)}function lde(){return K2.apply(null,arguments).exponent(.5)}function X8(){var e=[],r=Pa;function s(a){if(a!=null&&!isNaN(a=+a))return r((Rf(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Ul),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>Koe(e,i/a))},s.copy=function(){return X8(r).domain(e)},Jo.apply(s,arguments)}function fy(){var e=0,r=.5,s=1,a=1,n,i,o,l,d,m=Pa,h,f=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-i)*(a*w<a*i?l:d),m(f?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,r,s]=w,n=h(e=+e),i=h(r=+r),o=h(s=+s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,v):[e,r,s]},v.clamp=function(w){return arguments.length?(f=!!w,v):f},v.interpolator=function(w){return arguments.length?(m=w,v):m};function b(w){return function(y){var N,C,S;return arguments.length?([N,C,S]=y,m=ble(w,[N,C,S]),v):[m(0),m(.5),m(1)]}}return v.range=b(lm),v.rangeRound=b(T2),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return h=w,n=w(e),i=w(r),o=w(s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,v}}function Q8(){var e=sc(fy()(Pa));return e.copy=function(){return ac(e,Q8())},Jo.apply(e,arguments)}function Z8(){var e=I2(fy()).domain([.1,1,10]);return e.copy=function(){return ac(e,Z8()).base(e.base())},Jo.apply(e,arguments)}function e6(){var e=D2(fy());return e.copy=function(){return ac(e,e6()).constant(e.constant())},Jo.apply(e,arguments)}function G2(){var e=L2(fy());return e.copy=function(){return ac(e,G2()).exponent(e.exponent())},Jo.apply(e,arguments)}function cde(){return G2.apply(null,arguments).exponent(.5)}const Ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:P2,scaleDiverging:Q8,scaleDivergingLog:Z8,scaleDivergingPow:G2,scaleDivergingSqrt:cde,scaleDivergingSymlog:e6,scaleIdentity:O8,scaleImplicit:N1,scaleLinear:T8,scaleLog:R8,scaleOrdinal:_2,scalePoint:Joe,scalePow:$2,scaleQuantile:L8,scaleQuantize:$8,scaleRadial:D8,scaleSequential:G8,scaleSequentialLog:Y8,scaleSequentialPow:K2,scaleSequentialQuantile:X8,scaleSequentialSqrt:lde,scaleSequentialSymlog:J8,scaleSqrt:Wle,scaleSymlog:I8,scaleThreshold:z8,scaleTime:ide,scaleUtc:ode,tickFormat:E8},Symbol.toStringTag,{value:"Module"}));var nc=e=>e.chartData,Y2=he([nc],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),$f=(e,r,s,a)=>a?Y2(e):nc(e);function Yu(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(ta(r)&&ta(s))return!0}return!1}function C5(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function dde(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ta(s))n=s;else if(typeof s=="function")return;if(ta(a))i=a;else if(typeof a=="function")return;var o=[n,i];if(Yu(o))return o}}function ude(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(Yu(a))return C5(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(n==="auto")r!=null&&(o=Math.min(...r));else if(Ve(n))o=n;else if(typeof n=="function")try{r!=null&&(o=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&fT.test(n)){var d=fT.exec(n);if(d==null||r==null)o=void 0;else{var m=+d[1];o=r[0]-m}}else o=r==null?void 0:r[0];if(i==="auto")r!=null&&(l=Math.max(...r));else if(Ve(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&pT.test(i)){var h=pT.exec(i);if(h==null||r==null)l=void 0;else{var f=+h[1];l=r[1]+f}}else l=r==null?void 0:r[1];var g=[o,l];if(Yu(g))return r==null?g:C5(g,r,s)}}}var cm=1e9,mde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X2,zr=!0,Kn="[DecimalError] ",Qc=Kn+"Invalid argument: ",J2=Kn+"Exponent out of range: ",dm=Math.floor,$c=Math.pow,hde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,un,zs=1e7,Ir=7,t6=9007199254740991,q0=dm(t6/Ir),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Ir;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Je.dividedBy=Je.div=function(e){return Io(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var r=this,s=r.constructor;return jr(Io(r,new s(e),0,1),s.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return ys(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(un))throw Error(Kn+"NaN");if(s.s<1)throw Error(Kn+(s.s?"NaN":"-Infinity"));return s.eq(un)?new a(0):(zr=!1,r=Io(af(s,i),af(e,i),i),zr=!0,jr(r,n))};Je.minus=Je.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?a6(r,e):r6(r,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Kn+"NaN");return s.s?(zr=!1,r=Io(s,e,0,1).times(e),zr=!0,s.minus(r)):jr(new a(s),n)};Je.naturalExponential=Je.exp=function(){return s6(this)};Je.naturalLogarithm=Je.ln=function(){return af(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?r6(r,e):a6(r,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qc+e);if(r=ys(n)+1,a=n.d.length-1,s=a*Ir+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Je.squareRoot=Je.sqrt=function(){var e,r,s,a,n,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Kn+"NaN")}for(e=ys(l),zr=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=Fi(l.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=dm((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new d(r)):a=new d(n.toString()),s=d.precision,n=o=s+3;;)if(i=a,a=i.plus(Io(l,i,o+2)).times(.5),Fi(i.d).slice(0,o)===(r=Fi(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(jr(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(r!="9999")break;o+=4}return zr=!0,jr(a,s)};Je.times=Je.mul=function(e){var r,s,a,n,i,o,l,d,m,h=this,f=h.constructor,g=h.d,v=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,s=h.e+e.e,d=g.length,m=v.length,d<m&&(i=g,g=v,v=i,o=d,d=m,m=o),i=[],o=d+m,a=o;a--;)i.push(0);for(a=m;--a>=0;){for(r=0,n=d+a;n>a;)l=i[n]+v[a]*g[n-a-1]+r,i[n--]=l%zs|0,r=l/zs|0;i[n]=(i[n]+r)%zs|0}for(;!i[--o];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,zr?jr(e,f.precision):e};Je.toDecimalPlaces=Je.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(Zi(e,0,cm),r===void 0?r=a.rounding:Zi(r,0,8),jr(s,e+ys(s)+1,r))};Je.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=dd(a,!0):(Zi(e,0,cm),r===void 0?r=n.rounding:Zi(r,0,8),a=jr(new n(a),e+1,r),s=dd(a,!0,e+1)),s};Je.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?dd(n):(Zi(e,0,cm),r===void 0?r=i.rounding:Zi(r,0,8),a=jr(new i(n),e+ys(n)+1,r),s=dd(a.abs(),!1,e+ys(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Je.toInteger=Je.toint=function(){var e=this,r=e.constructor;return jr(new r(e),ys(e)+1,r.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var r,s,a,n,i,o,l=this,d=l.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(un);if(l=new d(l),!l.s){if(e.s<1)throw Error(Kn+"Infinity");return l}if(l.eq(un))return l;if(a=d.precision,e.eq(un))return jr(l,a);if(r=e.e,s=e.d.length-1,o=r>=s,i=l.s,o){if((s=h<0?-h:h)<=t6){for(n=new d(un),r=Math.ceil(a/Ir+4),zr=!1;s%2&&(n=n.times(l),_5(n.d,r)),s=dm(s/2),s!==0;)l=l.times(l),_5(l.d,r);return zr=!0,e.s<0?new d(un).div(n):jr(n,a)}}else if(i<0)throw Error(Kn+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,l.s=1,zr=!1,n=e.times(af(l,a+m)),zr=!0,n=s6(n),n.s=i,n};Je.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=ys(n),a=dd(n,s<=i.toExpNeg||s>=i.toExpPos)):(Zi(e,1,cm),r===void 0?r=i.rounding:Zi(r,0,8),n=jr(new i(n),e,r),s=ys(n),a=dd(n,e<=s||s<=i.toExpNeg,e)),a};Je.toSignificantDigits=Je.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(Zi(e,1,cm),r===void 0?r=a.rounding:Zi(r,0,8)),jr(new a(s),e,r)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=ys(e),s=e.constructor;return dd(e,r<=s.toExpNeg||r>=s.toExpPos)};function r6(e,r){var s,a,n,i,o,l,d,m,h=e.constructor,f=h.precision;if(!e.s||!r.s)return r.s||(r=new h(e)),zr?jr(r,f):r;if(d=e.d,m=r.d,o=e.e,n=r.e,d=d.slice(),i=o-n,i){for(i<0?(a=d,i=-i,l=m.length):(a=m,n=o,l=d.length),o=Math.ceil(f/Ir),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=m.length,l-i<0&&(i=l,a=m,m=d,d=a),s=0;i;)s=(d[--i]=d[i]+m[i]+s)/zs|0,d[i]%=zs;for(s&&(d.unshift(s),++n),l=d.length;d[--l]==0;)d.pop();return r.d=d,r.e=n,zr?jr(r,f):r}function Zi(e,r,s){if(e!==~~e||e<r||e>s)throw Error(Qc+e)}function Fi(e){var r,s,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,r=1;r<n;r++)a=e[r]+"",s=Ir-a.length,s&&(i+=Ml(s)),i+=a;o=e[r],a=o+"",s=Ir-a.length,s&&(i+=Ml(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Io=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%zs|0,o=i/zs|0;return o&&a.unshift(o),a}function r(a,n,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=n[l]){d=a[l]>n[l]?1:-1;break}return d}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*zs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,d,m,h,f,g,v,b,w,y,N,C,S,k,A,E,T,M,L=a.constructor,V=a.s==n.s?1:-1,R=a.d,I=n.d;if(!a.s)return new L(a);if(!n.s)throw Error(Kn+"Division by zero");for(d=a.e-n.e,T=I.length,A=R.length,v=new L(V),b=v.d=[],m=0;I[m]==(R[m]||0);)++m;if(I[m]>(R[m]||0)&&--d,i==null?C=i=L.precision:o?C=i+(ys(a)-ys(n))+1:C=i,C<0)return new L(0);if(C=C/Ir+2|0,m=0,T==1)for(h=0,I=I[0],C++;(m<A||h)&&C--;m++)S=h*zs+(R[m]||0),b[m]=S/I|0,h=S%I|0;else{for(h=zs/(I[0]+1)|0,h>1&&(I=e(I,h),R=e(R,h),T=I.length,A=R.length),k=T,w=R.slice(0,T),y=w.length;y<T;)w[y++]=0;M=I.slice(),M.unshift(0),E=I[0],I[1]>=zs/2&&++E;do h=0,l=r(I,w,T,y),l<0?(N=w[0],T!=y&&(N=N*zs+(w[1]||0)),h=N/E|0,h>1?(h>=zs&&(h=zs-1),f=e(I,h),g=f.length,y=w.length,l=r(f,w,g,y),l==1&&(h--,s(f,T<g?M:I,g))):(h==0&&(l=h=1),f=I.slice()),g=f.length,g<y&&f.unshift(0),s(w,f,y),l==-1&&(y=w.length,l=r(I,w,T,y),l<1&&(h++,s(w,T<y?M:I,y))),y=w.length):l===0&&(h++,w=[0]),b[m++]=h,l&&w[0]?w[y++]=R[k]||0:(w=[R[k]],y=1);while((k++<A||w[0]!==void 0)&&C--)}return b[0]||b.shift(),v.e=d,jr(v,o?i+ys(v)+1:i)}}();function s6(e,r){var s,a,n,i,o,l,d=0,m=0,h=e.constructor,f=h.precision;if(ys(e)>16)throw Error(J2+ys(e));if(!e.s)return new h(un);for(zr=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(a=Math.log($c(2,m))/Math.LN10*2+5|0,l+=a,s=n=i=new h(un),h.precision=l;;){if(n=jr(n.times(e),l),s=s.times(++d),o=i.plus(Io(n,s,l)),Fi(o.d).slice(0,l)===Fi(i.d).slice(0,l)){for(;m--;)i=jr(i.times(i),l);return h.precision=f,r==null?(zr=!0,jr(i,f)):i}i=o}}function ys(e){for(var r=e.e*Ir,s=e.d[0];s>=10;s/=10)r++;return r}function Oj(e,r,s){if(r>e.LN10.sd())throw zr=!0,s&&(e.precision=s),Error(Kn+"LN10 precision limit exceeded");return jr(new e(e.LN10),r)}function Ml(e){for(var r="";e--;)r+="0";return r}function af(e,r){var s,a,n,i,o,l,d,m,h,f=1,g=10,v=e,b=v.d,w=v.constructor,y=w.precision;if(v.s<1)throw Error(Kn+(v.s?"NaN":"-Infinity"));if(v.eq(un))return new w(0);if(r==null?(zr=!1,m=y):m=r,v.eq(10))return r==null&&(zr=!0),Oj(w,m);if(m+=g,w.precision=m,s=Fi(b),a=s.charAt(0),i=ys(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)v=v.times(e),s=Fi(v.d),a=s.charAt(0),f++;i=ys(v),a>1?(v=new w("0."+s),i++):v=new w(a+"."+s.slice(1))}else return d=Oj(w,m+2,y).times(i+""),v=af(new w(a+"."+s.slice(1)),m-g).plus(d),w.precision=y,r==null?(zr=!0,jr(v,y)):v;for(l=o=v=Io(v.minus(un),v.plus(un),m),h=jr(v.times(v),m),n=3;;){if(o=jr(o.times(h),m),d=l.plus(Io(o,new w(n),m)),Fi(d.d).slice(0,m)===Fi(l.d).slice(0,m))return l=l.times(2),i!==0&&(l=l.plus(Oj(w,m+2,y).times(i+""))),l=Io(l,new w(f),m),w.precision=y,r==null?(zr=!0,jr(l,y)):l;l=d,n+=2}}function k5(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=dm(s/Ir),e.d=[],a=(s+1)%Ir,s<0&&(a+=Ir),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Ir;a<n;)e.d.push(+r.slice(a,a+=Ir));r=r.slice(a),a=Ir-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),zr&&(e.e>q0||e.e<-q0))throw Error(J2+s)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,r,s){var a,n,i,o,l,d,m,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Ir,n=r,m=f[h=0];else{if(h=Math.ceil((a+1)/Ir),i=f.length,h>=i)return e;for(m=i=f[h],o=1;i>=10;i/=10)o++;a%=Ir,n=a-Ir+o}if(s!==void 0&&(i=$c(10,o-n-1),l=m/i%10|0,d=r<0||f[h+1]!==void 0||m%i,d=s<4?(l||d)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||d||s==6&&(a>0?n>0?m/$c(10,o-n):0:f[h-1])%10&1||s==(e.s<0?8:7))),r<1||!f[0])return d?(i=ys(e),f.length=1,r=r-i-1,f[0]=$c(10,(Ir-r%Ir)%Ir),e.e=dm(-r/Ir)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=h,i=1,h--):(f.length=h+1,i=$c(10,Ir-a),f[h]=n>0?(m/$c(10,o-n)%$c(10,n)|0)*i:0),d)for(;;)if(h==0){(f[0]+=i)==zs&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=zs)break;f[h--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(zr&&(e.e>q0||e.e<-q0))throw Error(J2+ys(e));return e}function a6(e,r){var s,a,n,i,o,l,d,m,h,f,g=e.constructor,v=g.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new g(e),zr?jr(r,v):r;if(d=e.d,f=r.d,a=r.e,m=e.e,d=d.slice(),o=m-a,o){for(h=o<0,h?(s=d,o=-o,l=f.length):(s=f,a=m,l=d.length),n=Math.max(Math.ceil(v/Ir),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=d.length,l=f.length,h=n<l,h&&(l=n),n=0;n<l;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}o=0}for(h&&(s=d,d=f,f=s,r.s=-r.s),l=d.length,n=f.length-l;n>0;--n)d[l++]=0;for(n=f.length;n>o;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=zs-1;--d[i],d[n]+=zs}d[n]-=f[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(r.d=d,r.e=a,zr?jr(r,v):r):new g(0)}function dd(e,r,s){var a,n=ys(e),i=Fi(e.d),o=i.length;return r?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ml(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Ml(-n-1)+i,s&&(a=s-o)>0&&(i+=Ml(a))):n>=o?(i+=Ml(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+Ml(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=Ml(a))),e.s<0?"-"+i:i}function _5(e,r){if(e.length>r)return e.length=r,!0}function n6(e){var r,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Qc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return k5(o,i.toString())}else if(typeof i!="string")throw Error(Qc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,hde.test(i))k5(o,i);else throw Error(Qc+i)}if(n.prototype=Je,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=n6,n.config=n.set=fde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function fde(e){if(!e||typeof e!="object")throw Error(Kn+"Object expected");var r,s,a,n=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(dm(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(Qc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Qc+s+": "+a);return this}var X2=n6(mde);un=new X2(1);const pr=X2;var pde=e=>e,i6={},o6=e=>e===i6,P5=e=>function r(){return arguments.length===0||arguments.length===1&&o6(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},l6=(e,r)=>e===1?r:P5(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(o=>o!==i6).length;return i>=e?r(...a):l6(e-i,P5(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var m=a.map(h=>o6(h)?l.shift():h);return r(...m,...l)}))}),py=e=>l6(e.length,e),_1=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},gde=py((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),xde=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return pde;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},P1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),c6=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((o,l)=>{var d;return o===((d=r)===null||d===void 0?void 0:d[l])})||(r=n,s=e(...n)),s}};function d6(e){var r;return e===0?r=1:r=Math.floor(new pr(e).abs().log(10).toNumber())+1,r}function u6(e,r,s){for(var a=new pr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}py((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});py((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});py((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var m6=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},h6=(e,r,s)=>{if(e.lte(0))return new pr(0);var a=d6(e.toNumber()),n=new pr(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new pr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),d=l.mul(n);return r?new pr(d.toNumber()):new pr(Math.ceil(d.toNumber()))},yde=(e,r,s)=>{var a=new pr(1),n=new pr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new pr(10).pow(d6(e)-1),n=new pr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new pr(Math.floor(e)))}else e===0?n=new pr(Math.floor((r-1)/2)):s||(n=new pr(Math.floor(e)));var o=Math.floor((r-1)/2),l=xde(gde(d=>n.add(new pr(d-o).mul(a)).toNumber()),_1);return l(0,r)},f6=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var o=h6(new pr(s).sub(r).div(a-1),n,i),l;r<=0&&s>=0?l=new pr(0):(l=new pr(r).add(s).div(2),l=l.sub(new pr(l).mod(o)));var d=Math.ceil(l.sub(r).div(o).toNumber()),m=Math.ceil(new pr(s).sub(l).div(o).toNumber()),h=d+m+1;return h>a?f6(r,s,a,n,i+1):(h<a&&(m=s>0?m+(a-h):m,d=s>0?d:d+(a-h)),{step:o,tickMin:l.sub(new pr(d).mul(o)),tickMax:l.add(new pr(m).mul(o))})};function vde(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=m6([r,s]);if(o===-1/0||l===1/0){var d=l===1/0?[o,..._1(0,a-1).map(()=>1/0)]:[..._1(0,a-1).map(()=>-1/0),l];return r>s?P1(d):d}if(o===l)return yde(o,a,n);var{step:m,tickMin:h,tickMax:f}=f6(o,l,i,n,0),g=u6(h,f.add(new pr(.1).mul(m)),m);return r>s?P1(g):g}function bde(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=m6([s,a]);if(i===-1/0||o===1/0)return[s,a];if(i===o)return[i];var l=Math.max(r,2),d=h6(new pr(o).sub(i).div(l-1),n,0),m=[...u6(new pr(i),new pr(o),d),o];return n===!1&&(m=m.map(h=>Math.round(h))),s>a?P1(m):m}var wde=c6(vde),jde=c6(bde),p6=e=>e.rootProps.maxBarSize,Nde=e=>e.rootProps.barGap,g6=e=>e.rootProps.barCategoryGap,Sde=e=>e.rootProps.barSize,zf=e=>e.rootProps.stackOffset,Q2=e=>e.options.chartName,Z2=e=>e.rootProps.syncId,x6=e=>e.rootProps.syncMethod,eC=e=>e.options.eventEmitter,_o={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},on={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gy=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},Cde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_o.angleAxisId,includeHidden:!1,name:void 0,reversed:_o.reversed,scale:_o.scale,tick:_o.tick,tickCount:void 0,ticks:void 0,type:_o.type,unit:void 0},kde={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:on.type,unit:void 0},_de={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_o.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_o.scale,tick:_o.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Pde={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:"category",unit:void 0},tC=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?_de:Cde,rC=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?Pde:kde,xy=e=>e.polarOptions,sC=he([Go,Yo,Ps],GL),y6=he([xy,sC],(e,r)=>{if(e!=null)return Ea(e.innerRadius,r,0)}),v6=he([xy,sC],(e,r)=>{if(e!=null)return Ea(e.outerRadius,r,r*.8)}),Ade=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},b6=he([xy],Ade);he([tC,b6],gy);var w6=he([sC,y6,v6],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});he([rC,w6],gy);var j6=he([Bt,xy,y6,v6,Go,Yo],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:o,cy:l,startAngle:d,endAngle:m}=r;return{cx:Ea(o,n,n/2),cy:Ea(l,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:m,clockWise:!1}}}),Br=(e,r)=>r,Ff=(e,r,s)=>s;function yy(e){return e==null?void 0:e.id}var Es=e=>{var r=Bt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},um=e=>e.tooltip.settings.axisId,Ts=e=>{var r=Es(e),s=um(e);return Uf(e,r,s)};function N6(e,r,s){var{chartData:a=[]}=r,n=s==null?void 0:s.dataKey,i=new Map;return e.forEach(o=>{var l,d=(l=o.data)!==null&&l!==void 0?l:a;if(!(d==null||d.length===0)){var m=yy(o);d.forEach((h,f)=>{var g=n==null?f:String(xr(h,n,null)),v=xr(h,o.dataKey,0),b;i.has(g)?b=i.get(g):b={},Object.assign(b,{[m]:v}),i.set(g,b)})}}),Array.from(i.values())}function vy(e){return e.stackId!=null&&e.dataKey!=null}function A5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function H0(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?A5(Object(s),!0).forEach(function(a){Ede(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ede(e,r,s){return(r=Tde(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Tde(e){var r=Ode(e,"string");return typeof r=="symbol"?r:r+""}function Ode(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var A1=[0,"auto"],an={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xo=(e,r)=>{var s=e.cartesianAxis.xAxis[r];return s??an},nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:A1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iy},ic=(e,r)=>{var s=e.cartesianAxis.yAxis[r];return s??nn},Mde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aC=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??Mde},ms=(e,r,s)=>{switch(r){case"xAxis":return Xo(e,s);case"yAxis":return ic(e,s);case"zAxis":return aC(e,s);case"angleAxis":return tC(e,s);case"radiusAxis":return rC(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Rde=(e,r,s)=>{switch(r){case"xAxis":return Xo(e,s);case"yAxis":return ic(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Uf=(e,r,s)=>{switch(r){case"xAxis":return Xo(e,s);case"yAxis":return ic(e,s);case"angleAxis":return tC(e,s);case"radiusAxis":return rC(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},S6=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function nC(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var Bf=e=>e.graphicalItems.cartesianItems,Ide=he([Br,Ff],nC),iC=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),Wf=he([Bf,ms,Ide],iC),C6=he([Wf],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(vy)),k6=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),_6=he([Wf],k6),oC=e=>e.map(r=>r.data).filter(Boolean).flat(1),Dde=he([Wf],oC),lC=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},cC=he([Dde,$f],lC),dC=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:xr(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:xr(n,a)}))):e.map(a=>({value:a})),by=he([cC,ms,Wf],dC);function P6(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Nd(e){return e.filter(r=>Qi(r)||r instanceof Date).map(Number).filter(r=>Ja(r)===!1)}function Lde(e,r,s){return!s||typeof r!="number"||Ja(r)?[]:s.length?Nd(s.flatMap(a=>{var n=xr(e,a.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!ta(i)||!ta(o)))return[r-i,r+o]})):[]}var $de=he([C6,$f,Ts],N6),A6=(e,r,s)=>{var a={},n=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,d=l.map(yy);return[o,{stackedData:tie(e,d,s),graphicalItems:l}]}))},nf=he([$de,C6,zf],A6),E6=(e,r,s)=>{var{dataStartIndex:a,dataEndIndex:n}=r;if(s!=="zAxis"){var i=nie(e,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},zde=he([nf,nc,Br],E6),T6=(e,r,s,a,n)=>s.length>0?e.flatMap(i=>s.flatMap(o=>{var l,d,m=(l=a[o.id])===null||l===void 0?void 0:l.filter(f=>P6(n,f)),h=xr(i,(d=r.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:h,errorDomain:Lde(i,h,m)}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(i=>({value:xr(i,r.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),wy=e=>e.errorBars,O6=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>P6(s,a));he([_6,wy,Br],O6);var Fde=he([cC,ms,_6,wy,Br],T6);function Ude(e){var{value:r}=e;if(Qi(r)||r instanceof Date)return r}var E5=e=>{var r=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),s=Nd(r);if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Bde=(e,r,s)=>{var a=e.map(Ude).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&qD(a))?b8(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},uC=e=>{var r;if(e==null||!("domain"in e))return A1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Nd(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:A1},K0=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},M6=e=>e.referenceElements.dots,mm=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),Wde=he([M6,Br,Ff],mm),R6=e=>e.referenceElements.areas,Vde=he([R6,Br,Ff],mm),I6=e=>e.referenceElements.lines,qde=he([I6,Br,Ff],mm),D6=(e,r)=>{var s=Nd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Hde=he(Wde,Br,D6),L6=(e,r)=>{var s=Nd(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Kde=he([Vde,Br],L6),$6=(e,r)=>{var s=Nd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Gde=he(qde,Br,$6),Yde=he(Hde,Gde,Kde,(e,r,s)=>K0(e,s,r)),z6=he([ms],uC),mC=(e,r,s,a,n,i,o)=>{var l=dde(r,e.allowDataOverflow);if(l!=null)return l;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",m=d?K0(s,n,E5(a)):K0(n,E5(a));return ude(r,m,e.allowDataOverflow)},Jde=he([ms,z6,zde,Fde,Yde,Bt,Br],mC),Xde=[0,1],hC=(e,r,s,a,n,i,o)=>{if(!((e==null||s==null||s.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,m=lo(r,i);return m&&l==null?b8(0,s.length):d==="category"?Bde(a,e,m):n==="expand"?Xde:o}},fC=he([ms,Bt,cC,by,zf,Br,Jde],hC),F6=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Ef(i));return l in Ah?l:"point"}}},hm=he([ms,Bt,S6,Q2,Br],F6);function Qde(e){if(e!=null){if(e in Ah)return Ah[e]();var r="scale".concat(Ef(e));if(r in Ah)return Ah[r]()}}function pC(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Qde(r);if(n!=null){var i=n.domain(s).range(a);return Jne(i),i}}}var gC=(e,r,s)=>{var a=uC(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Yu(e))return wde(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Yu(e))return jde(e,r.tickCount,r.allowDecimals)}},xC=he([fC,Uf,hm],gC),yC=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Yu(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],o=r[1],l=s[s.length-1];return[Math.min(n,i),Math.max(o,l)]}return r},Zde=he([ms,fC,xC,Br],yC),eue=he(by,ms,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Nd(e.map(l=>l.value))).sort((l,d)=>l-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];s=Math.min(s,o)}return s/n}}),U6=he(eue,Bt,g6,Ps,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!ta(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var o=Ea(s,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),tue=(e,r)=>{var s=Xo(e,r);return s==null||typeof s.padding!="string"?0:U6(e,"xAxis",r,s.padding)},rue=(e,r)=>{var s=ic(e,r);return s==null||typeof s.padding!="string"?0:U6(e,"yAxis",r,s.padding)},sue=he(Xo,tue,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),aue=he(ic,rue,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),nue=he([Ps,sue,ly,oy,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),iue=he([Ps,Bt,aue,ly,oy,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:o}=n;return i?[a.height-o.bottom,o.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Vf=(e,r,s,a)=>{var n;switch(r){case"xAxis":return nue(e,s,a);case"yAxis":return iue(e,s,a);case"zAxis":return(n=aC(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return b6(e);case"radiusAxis":return w6(e,s);default:return}},B6=he([ms,Vf],gy),fm=he([ms,hm,Zde,B6],pC);he([Wf,wy,Br],O6);function W6(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var jy=(e,r)=>r,Ny=(e,r,s)=>s,oue=he(j2,jy,Ny,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(W6)),lue=he(N2,jy,Ny,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(W6)),V6=(e,r)=>({width:e.width,height:r.height}),cue=(e,r)=>{var s=typeof r.width=="number"?r.width:iy;return{width:s,height:e.height}},q6=he(Ps,Xo,V6),due=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},uue=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},mue=he(Yo,Ps,oue,jy,Ny,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=V6(r,l);o==null&&(o=due(r,a,e));var m=a==="top"&&!n||a==="bottom"&&n;i[l.id]=o-Number(m)*d.height,o+=(m?-1:1)*d.height}),i}),hue=he(Go,Ps,lue,jy,Ny,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=cue(r,l);o==null&&(o=uue(r,a,e));var m=a==="left"&&!n||a==="right"&&n;i[l.id]=o-Number(m)*d.width,o+=(m?-1:1)*d.width}),i}),fue=(e,r)=>{var s=Ps(e),a=Xo(e,r);if(a!=null){var n=mue(e,a.orientation,a.mirror),i=n[r];return i==null?{x:s.left,y:0}:{x:s.left,y:i}}},pue=(e,r)=>{var s=Ps(e),a=ic(e,r);if(a!=null){var n=hue(e,a.orientation,a.mirror),i=n[r];return i==null?{x:0,y:s.top}:{x:i,y:s.top}}},H6=he(Ps,ic,(e,r)=>{var s=typeof r.width=="number"?r.width:iy;return{width:s,height:e.height}}),T5=(e,r,s)=>{switch(r){case"xAxis":return q6(e,s).width;case"yAxis":return H6(e,s).height;default:return}},K6=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=s,l=lo(e,a),d=r.map(m=>m.value);if(o&&l&&i==="category"&&n&&qD(d))return d}},vC=he([Bt,by,ms,Br],K6),G6=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,o=lo(e,a);if(o&&(n==="number"||i!=="auto"))return r.map(l=>l.value)}},bC=he([Bt,by,Uf,Br],G6),O5=he([Bt,Rde,hm,fm,vC,bC,Vf,xC,Br],(e,r,s,a,n,i,o,l,d)=>{if(r==null)return null;var m=lo(e,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:m,niceTicks:l,range:o,realScaleType:s,scale:a}}),gue=(e,r,s,a,n,i,o,l,d)=>{if(!(r==null||a==null)){var m=lo(e,d),{type:h,ticks:f,tickCount:g}=r,v=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,b=h==="category"&&a.bandwidth?a.bandwidth()/v:0;b=d==="angleAxis"&&i!=null&&i.length>=2?Fs(i[0]-i[1])*2*b:b;var w=f||n;if(w){var y=w.map((N,C)=>{var S=o?o.indexOf(N):N;return{index:C,coordinate:a(S)+b,value:N,offset:b}});return y.filter(N=>!Ja(N.coordinate))}return m&&l?l.map((N,C)=>({coordinate:a(N)+b,value:N,index:C,offset:b})):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+b,value:N,offset:b})):a.domain().map((N,C)=>({coordinate:a(N)+b,value:o?o[N]:N,index:C,offset:b}))}},Y6=he([Bt,Uf,hm,fm,xC,Vf,vC,bC,Br],gue),xue=(e,r,s,a,n,i,o)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var l=lo(e,o),{tickCount:d}=r,m=0;return m=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Fs(a[0]-a[1])*2*m:m,l&&i?i.map((h,f)=>({coordinate:s(h)+m,value:h,index:f,offset:m})):s.ticks?s.ticks(d).map(h=>({coordinate:s(h)+m,value:h,offset:m})):s.domain().map((h,f)=>({coordinate:s(h)+m,value:n?n[h]:h,index:f,offset:m}))}},eo=he([Bt,Uf,fm,Vf,vC,bC,Br],xue),to=he(ms,fm,(e,r)=>{if(!(e==null||r==null))return H0(H0({},e),{},{scale:r})}),yue=he([ms,hm,fC,B6],pC);he((e,r,s)=>aC(e,s),yue,(e,r)=>{if(!(e==null||r==null))return H0(H0({},e),{},{scale:r})});var vue=he([Bt,j2,N2],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),J6=e=>e.options.defaultTooltipEventType,X6=e=>e.options.validateTooltipEventTypes;function Q6(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function wC(e,r){var s=J6(e),a=X6(e);return Q6(r,s,a)}function bue(e){return tt(r=>wC(r,e))}var Z6=(e,r)=>{var s,a=Number(r);if(!(Ja(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},wue=e=>e.tooltip.settings,Il={active:!1,index:null,dataKey:void 0,coordinate:void 0},jue={itemInteraction:{click:Il,hover:Il},axisInteraction:{click:Il,hover:Il},keyboardInteraction:Il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},e$=vn({name:"tooltip",initialState:jue,reducers:{addTooltipEntrySettings(e,r){e.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(e,r){var s=Ro(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:Nue,removeTooltipEntrySettings:Sue,setTooltipSettingsState:Cue,setActiveMouseOverItemIndex:t$,mouseLeaveItem:kue,mouseLeaveChart:r$,setActiveClickItemIndex:_ue,setMouseOverAxisIndex:s$,setMouseClickAxisIndex:Pue,setSyncInteraction:E1,setKeyboardInteraction:T1}=e$.actions,Aue=e$.reducer;function M5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Mg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?M5(Object(s),!0).forEach(function(a){Eue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Eue(e,r,s){return(r=Tue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Tue(e){var r=Oue(e,"string");return typeof r=="symbol"?r:r+""}function Oue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Mue(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Rue(e){return e.index!=null}var a$=(e,r,s,a)=>{if(r==null)return Il;var n=Mue(e,r,s);if(n==null)return Il;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Rue(n)){if(i)return Mg(Mg({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Mg(Mg({},Il),{},{coordinate:n.coordinate})},jC=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!ta(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},n$=(e,r,s,a,n,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],m=d==null?void 0:l(d.positions,i);if(m!=null)return m;var h=n==null?void 0:n[Number(i)];if(h)switch(s){case"horizontal":return{x:h.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},i$=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},qf=e=>e.options.tooltipPayloadSearcher,pm=e=>e.tooltip;function R5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function I5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?R5(Object(s),!0).forEach(function(a){Iue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Iue(e,r,s){return(r=Due(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Due(e){var r=Lue(e,"string");return typeof r=="symbol"?r:r+""}function Lue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $ue(e,r){return e??r}var o$=(e,r,s,a,n,i,o)=>{if(!(r==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:m,dataEndIndex:h}=s,f=[];return e.reduce((g,v)=>{var b,{dataDefinedOnItem:w,settings:y}=v,N=$ue(w,l),C=Array.isArray(N)?YL(N,m,h):N,S=(b=y==null?void 0:y.dataKey)!==null&&b!==void 0?b:a==null?void 0:a.dataKey,k=y==null?void 0:y.nameKey,A;if(a!=null&&a.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?A=HD(C,a.dataKey,n):A=i(C,r,d,k),Array.isArray(A))A.forEach(T=>{var M=I5(I5({},y),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});g.push(gT({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:xr(T.payload,T.dataKey),name:T.name}))});else{var E;g.push(gT({tooltipEntrySettings:y,dataKey:S,payload:A,value:xr(A,S),name:(E=xr(A,k))!==null&&E!==void 0?E:y==null?void 0:y.name}))}return g},f)}},NC=he([Ts,Bt,S6,Q2,Es],F6),zue=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),Fue=he([Es,um],nC),Hf=he([zue,Ts,Fue],iC),Uue=he([Hf],e=>e.filter(vy)),Bue=he([Hf],oC),gm=he([Bue,nc],lC),Wue=he([Uue,nc,Ts],N6),SC=he([gm,Ts,Hf],dC),Vue=he([Ts],uC),que=he([Hf],e=>e.filter(vy)),Hue=he([Wue,que,zf],A6),Kue=he([Hue,nc,Es],E6),Gue=he([Hf],k6),Yue=he([gm,Ts,Gue,wy,Es],T6),Jue=he([M6,Es,um],mm),Xue=he([Jue,Es],D6),Que=he([R6,Es,um],mm),Zue=he([Que,Es],L6),eme=he([I6,Es,um],mm),tme=he([eme,Es],$6),rme=he([Xue,tme,Zue],K0),sme=he([Ts,Vue,Kue,Yue,rme,Bt,Es],mC),l$=he([Ts,Bt,gm,SC,zf,Es,sme],hC),ame=he([l$,Ts,NC],gC),nme=he([Ts,l$,ame,Es],yC),c$=e=>{var r=Es(e),s=um(e),a=!1;return Vf(e,r,s,a)},d$=he([Ts,c$],gy),u$=he([Ts,NC,nme,d$],pC),ime=he([Bt,SC,Ts,Es],K6),ome=he([Bt,SC,Ts,Es],G6),lme=(e,r,s,a,n,i,o,l)=>{if(r){var{type:d}=r,m=lo(e,l);if(a){var h=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=d==="category"&&a.bandwidth?a.bandwidth()/h:0;return f=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Fs(n[0]-n[1])*2*f:f,m&&o?o.map((g,v)=>({coordinate:a(g)+f,value:g,index:v,offset:f})):a.domain().map((g,v)=>({coordinate:a(g)+f,value:i?i[g]:g,index:v,offset:f}))}}},Qo=he([Bt,Ts,NC,u$,c$,ime,ome,Es],lme),CC=he([J6,X6,wue],(e,r,s)=>Q6(s.shared,e,r)),m$=e=>e.tooltip.settings.trigger,kC=e=>e.tooltip.settings.defaultIndex,Sy=he([pm,CC,m$,kC],a$),Yl=he([Sy,gm],jC),h$=he([Qo,Yl],Z6),f$=he([Sy],e=>{if(e)return e.dataKey}),p$=he([pm,CC,m$,kC],i$),cme=he([Go,Yo,Bt,Ps,Qo,kC,p$,qf],n$),dme=he([Sy,cme],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),ume=he([Sy],e=>e.active),mme=he([p$,Yl,nc,Ts,h$,qf,CC],o$),hme=he([mme],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function D5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function L5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D5(Object(s),!0).forEach(function(a){fme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fme(e,r,s){return(r=pme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function pme(e){var r=gme(e,"string");return typeof r=="symbol"?r:r+""}function gme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xme=()=>tt(Ts),yme=()=>{var e=xme(),r=tt(Qo),s=tt(u$);return cd(L5(L5({},e),{},{scale:s}),r)},g$=()=>tt(Q2),_C=(e,r)=>r,x$=(e,r,s)=>s,PC=(e,r,s,a)=>a,vme=he(Qo,e=>Zx(e,r=>r.coordinate)),AC=he([pm,_C,x$,PC],a$),y$=he([AC,gm],jC),bme=(e,r,s)=>{if(r!=null){var a=pm(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},v$=he([pm,_C,x$,PC],i$),G0=he([Go,Yo,Bt,Ps,Qo,PC,v$,qf],n$),wme=he([AC,G0],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),b$=he(Qo,y$,Z6),jme=he([v$,y$,nc,Ts,b$,qf,_C],o$),Nme=he([AC],e=>({isActive:e.active,activeIndex:e.index})),Sme=(e,r,s,a,n,i,o,l)=>{if(!(!e||!r||!a||!n||!i)){var d=iie(e.chartX,e.chartY,r,s,l);if(d){var m=lie(d,r),h=Gne(m,o,i,a,n),f=oie(r,i,h,d);return{activeIndex:String(h),activeCoordinate:f}}}};function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},O1.apply(null,arguments)}function $5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$5(Object(s),!0).forEach(function(a){Cme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cme(e,r,s){return(r=kme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kme(e){var r=_me(e,"string");return typeof r=="symbol"?r:r+""}function _me(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pme(e){var{coordinate:r,payload:s,index:a,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:d,chartName:m}=e,h=r,f=s,g=a;if(!l||!h||m!=="ScatterChart"&&d!=="axis")return null;var v,b;if(m==="ScatterChart")v=h,b=qie;else if(m==="BarChart")v=Hie(o,h,n,i),b=g8;else if(o==="radial"){var{cx:w,cy:y,radius:N,startAngle:C,endAngle:S}=x8(h);v={cx:w,cy:y,startAngle:C,endAngle:S,innerRadius:N,outerRadius:N},b=v8}else v={points:Eoe(o,h,n)},b=Tu;var k=typeof l=="object"&&"className"in l?l.className:void 0,A=Rg(Rg(Rg(Rg({stroke:"#ccc",pointerEvents:"none"},n),v),Pr(l,!1)),{},{payload:f,payloadIndex:g,className:Jt("recharts-tooltip-cursor",k)});return p.isValidElement(l)?p.cloneElement(l,A):p.createElement(b,A)}function Ame(e){var r=yme(),s=s8(),a=Mf(),n=g$();return p.createElement(Pme,O1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var w$=p.createContext(null),Eme=()=>p.useContext(w$),Mj={exports:{}},z5;function Tme(){return z5||(z5=1,function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function i(d,m,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new n(h,f||d,g),b=s?s+m:m;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function o(d,m){--d._eventsCount===0?d._events=new a:delete d._events[m]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var m=[],h,f;if(this._eventsCount===0)return m;for(f in h=this._events)r.call(h,f)&&m.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},l.prototype.listeners=function(m){var h=s?s+m:m,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,b=new Array(v);g<v;g++)b[g]=f[g].fn;return b},l.prototype.listenerCount=function(m){var h=s?s+m:m,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(m,h,f,g,v,b){var w=s?s+m:m;if(!this._events[w])return!1;var y=this._events[w],N=arguments.length,C,S;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,f),!0;case 4:return y.fn.call(y.context,h,f,g),!0;case 5:return y.fn.call(y.context,h,f,g,v),!0;case 6:return y.fn.call(y.context,h,f,g,v,b),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];y.fn.apply(y.context,C)}else{var k=y.length,A;for(S=0;S<k;S++)switch(y[S].once&&this.removeListener(m,y[S].fn,void 0,!0),N){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,h);break;case 3:y[S].fn.call(y[S].context,h,f);break;case 4:y[S].fn.call(y[S].context,h,f,g);break;default:if(!C)for(A=1,C=new Array(N-1);A<N;A++)C[A-1]=arguments[A];y[S].fn.apply(y[S].context,C)}}return!0},l.prototype.on=function(m,h,f){return i(this,m,h,f,!1)},l.prototype.once=function(m,h,f){return i(this,m,h,f,!0)},l.prototype.removeListener=function(m,h,f,g){var v=s?s+m:m;if(!this._events[v])return this;if(!h)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===h&&(!g||b.once)&&(!f||b.context===f)&&o(this,v);else{for(var w=0,y=[],N=b.length;w<N;w++)(b[w].fn!==h||g&&!b[w].once||f&&b[w].context!==f)&&y.push(b[w]);y.length?this._events[v]=y.length===1?y[0]:y:o(this,v)}return this},l.prototype.removeAllListeners=function(m){var h;return m?(h=s?s+m:m,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l}(Mj)),Mj.exports}var Ome=Tme();const Mme=gn(Ome);var of=new Mme,M1="recharts.syncEvent.tooltip",F5="recharts.syncEvent.brush";function Cy(e,r){if(r){var s=Number.parseInt(r,10);if(!Ja(s))return e==null?void 0:e[s]}}var Rme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},j$=vn({name:"options",initialState:Rme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ime=j$.reducer,{createEventEmitter:Dme}=j$.actions;function Lme(e){return e.tooltip.syncInteraction}var $me={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},N$=vn({name:"chartData",initialState:$me,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:U5,setDataStartEndIndexes:zme,setComputedData:j1e}=N$.actions,Fme=N$.reducer,S$=()=>{};function Ume(){var e=tt(Z2),r=tt(eC),s=us(),a=tt(x6),n=tt(Qo),i=Mf(),o=S2(),l=tt(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return S$;var d=(m,h,f)=>{if(r!==f&&e===m){if(a==="index"){s(h);return}if(n!=null){var g;if(typeof a=="function"){var v={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},b=a(n,v);g=n[b]}else a==="value"&&(g=n.find(E=>String(E.value)===h.payload.label));var{coordinate:w}=h.payload;if(g==null||h.payload.active===!1||w==null||o==null){s(E1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:N}=w,C=Math.min(y,o.x+o.width),S=Math.min(N,o.y+o.height),k={x:i==="horizontal"?g.coordinate:C,y:i==="horizontal"?S:g.coordinate},A=E1({active:h.payload.active,coordinate:k,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});s(A)}}};return of.on(M1,d),()=>{of.off(M1,d)}},[l,s,r,e,a,n,i,o])}function Bme(){var e=tt(Z2),r=tt(eC),s=us();p.useEffect(()=>{if(e==null)return S$;var a=(n,i,o)=>{r!==o&&e===n&&s(zme(i))};return of.on(F5,a),()=>{of.off(F5,a)}},[s,r,e])}function Wme(){var e=us();p.useEffect(()=>{e(Dme())},[e]),Ume(),Bme()}function Vme(e,r,s,a,n,i){var o=tt(g=>bme(g,e,r)),l=tt(eC),d=tt(Z2),m=tt(x6),h=tt(Lme),f=h==null?void 0:h.active;p.useEffect(()=>{if(!f&&d!=null&&l!=null){var g=E1({active:i,coordinate:s,dataKey:o,index:n,label:typeof a=="number"?String(a):a});of.emit(M1,d,g,l)}},[f,s,o,n,a,l,d,m,i])}function B5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function W5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?B5(Object(s),!0).forEach(function(a){qme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qme(e,r,s){return(r=Hme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Hme(e){var r=Kme(e,"string");return typeof r=="symbol"?r:r+""}function Kme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gme(e){return e.dataKey}function Yme(e,r){return p.isValidElement(e)?p.cloneElement(e,r):typeof e=="function"?p.createElement(e,r):p.createElement(Nie,r)}var V5=[],Jme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zn(e){var r=Ia(e,Jme),{active:s,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:d,offset:m,payloadUniqBy:h,position:f,reverseDirection:g,useTranslate3d:v,wrapperStyle:b,cursor:w,shared:y,trigger:N,defaultIndex:C,portal:S,axisId:k}=r,A=us(),E=typeof C=="number"?String(C):C;p.useEffect(()=>{A(Cue({shared:y,trigger:N,axisId:k,active:s,defaultIndex:E}))},[A,y,N,k,s,E]);var T=S2(),M=c8(),L=bue(y),{activeIndex:V,isActive:R}=tt(Z=>Nme(Z,L,N,E)),I=tt(Z=>jme(Z,L,N,E)),B=tt(Z=>b$(Z,L,N,E)),H=tt(Z=>wme(Z,L,N,E)),F=I,U=Eme(),O=s??R,[$,W]=$ae([F,O]),q=L==="axis"?B:void 0;Vme(L,N,H,q,V,O);var z=S??U;if(z==null)return null;var Q=F??V5;O||(Q=V5),l&&Q.length&&(Q=mae(F.filter(Z=>Z.value!=null&&(Z.hide!==!0||r.includeHidden)),h,Gme));var Ae=Q.length>0,de=p.createElement(Eie,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:d,active:O,coordinate:H,hasPayload:Ae,offset:m,position:f,reverseDirection:g,useTranslate3d:v,viewBox:T,wrapperStyle:b,lastBoundingBox:$,innerRef:W,hasPortalFromProps:!!S},Yme(o,W5(W5({},r),{},{payload:Q,label:q,active:O,coordinate:H,accessibilityLayer:M})));return p.createElement(p.Fragment,null,Jl.createPortal(de,z),O&&p.createElement(Ame,{cursor:w,tooltipEventType:L,coordinate:H,payload:F,index:V}))}var Rj={},Ij={},Dj={},q5;function Xme(){return q5||(q5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),h=()=>{l!==null&&(s.apply(o,l),o=void 0,l=null)},f=()=>{m&&h(),w()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},a)},b=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{b(),o=void 0,l=null},y=()=>{h()},N=function(...C){if(n!=null&&n.aborted)return;o=this,l=C;const S=g==null;v(),d&&S&&h()};return N.schedule=v,N.cancel=w,N.flush=y,n==null||n.addEventListener("abort",w,{once:!0}),N}e.debounce=r}(Dj)),Dj}var H5;function Qme(){return H5||(H5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Xme();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,m=Array(2);o&&(m[0]="leading"),l&&(m[1]="trailing");let h,f=null;const g=r.debounce(function(...w){h=a.apply(this,w),f=null},n,{edges:m}),v=function(...w){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(h=a.apply(this,w),f=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},b=()=>(g.flush(),h);return v.cancel=g.cancel,v.flush=b,v}e.debounce=s}(Ij)),Ij}var K5;function Zme(){return K5||(K5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Qme();function s(a,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return r.debounce(a,n,{leading:o,maxWait:n,trailing:l})}e.throttle=s}(Rj)),Rj}var Lj,G5;function ehe(){return G5||(G5=1,Lj=Zme().throttle),Lj}var the=ehe();const rhe=gn(the);var Lh=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function Y5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $j(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Y5(Object(s),!0).forEach(function(a){she(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Y5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function she(e,r,s){return(r=ahe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ahe(e){var r=nhe(e,"string");return typeof r=="symbol"?r:r+""}function nhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Fn=p.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:d,children:m,debounce:h=0,id:f,className:g,onResize:v,style:b={}}=e,w=p.useRef(null),y=p.useRef();y.current=v,p.useImperativeHandle(r,()=>w.current);var[N,C]=p.useState({containerWidth:a.width,containerHeight:a.height}),S=p.useCallback((A,E)=>{C(T=>{var M=Math.round(A),L=Math.round(E);return T.containerWidth===M&&T.containerHeight===L?T:{containerWidth:M,containerHeight:L}})},[]);p.useEffect(()=>{var A=L=>{var V,{width:R,height:I}=L[0].contentRect;S(R,I),(V=y.current)===null||V===void 0||V.call(y,R,I)};h>0&&(A=rhe(A,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(A),{width:T,height:M}=w.current.getBoundingClientRect();return S(T,M),E.observe(w.current),()=>{E.disconnect()}},[S,h]);var k=p.useMemo(()=>{var{containerWidth:A,containerHeight:E}=N;if(A<0||E<0)return null;Lh(Fc(n)||Fc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),Lh(!s||s>0,"The aspect(%s) must be greater than zero.",s);var T=Fc(n)?A:n,M=Fc(i)?E:i;return s&&s>0&&(T?M=T/s:M&&(T=M*s),d&&M>d&&(M=d)),Lh(T>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,M,n,i,o,l,s),p.Children.map(m,L=>p.cloneElement(L,{width:T,height:M,style:$j({width:T,height:M},L.props.style)}))},[s,m,i,d,l,o,N,n]);return p.createElement("div",{id:f?"".concat(f):void 0,className:Jt("recharts-responsive-container",g),style:$j($j({},b),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:w},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),Sd=e=>null;Sd.displayName="Cell";function ihe(e,r,s){return(r=ohe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ohe(e){var r=lhe(e,"string");return typeof r=="symbol"?r:r+""}function lhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class che{constructor(r){ihe(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function J5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dhe(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?J5(Object(s),!0).forEach(function(a){uhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function uhe(e,r,s){return(r=mhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function mhe(e){var r=hhe(e,"string");return typeof r=="symbol"?r:r+""}function hhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fhe={cacheSize:2e3,enableCache:!0},C$=dhe({},fhe),X5=new che(C$.cacheSize),phe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q5="recharts_measurement_span";function ghe(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",l=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l)}var Z5=(e,r)=>{try{var s=document.getElementById(Q5);s||(s=document.createElement("span"),s.setAttribute("id",Q5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,phe,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},$h=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||rc.isSsr)return{width:0,height:0};if(!C$.enableCache)return Z5(r,s);var a=ghe(r,s),n=X5.get(a);if(n)return n;var i=Z5(r,s);return X5.set(a,i),i},e3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,k$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vhe=Object.keys(k$),Su="NaN";function bhe(e,r){return e*k$[r]}class qa{static parse(r){var s,[,a,n]=(s=yhe.exec(r))!==null&&s!==void 0?s:[];return new qa(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,Ja(r)&&(this.unit=""),s!==""&&!xhe.test(s)&&(this.num=NaN,this.unit=""),vhe.includes(s)&&(this.num=bhe(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new qa(NaN,""):new qa(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new qa(NaN,""):new qa(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new qa(NaN,""):new qa(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new qa(NaN,""):new qa(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ja(this.num)}}function _$(e){if(e.includes(Su))return Su;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=e3.exec(r))!==null&&s!==void 0?s:[],o=qa.parse(a??""),l=qa.parse(i??""),d=n==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return Su;r=r.replace(e3,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,[,h,f,g]=(m=t3.exec(r))!==null&&m!==void 0?m:[],v=qa.parse(h??""),b=qa.parse(g??""),w=f==="+"?v.add(b):v.subtract(b);if(w.isNaN())return Su;r=r.replace(t3,w.toString())}return r}var r3=/\(([^()]*)\)/;function whe(e){for(var r=e,s;(s=r3.exec(r))!=null;){var[,a]=s;r=r.replace(r3,_$(a))}return r}function jhe(e){var r=e.replace(/\s+/g,"");return r=whe(r),r=_$(r),r}function Nhe(e){try{return jhe(e)}catch{return Su}}function zj(e){var r=Nhe(e.slice(5,-1));return r===Su?"":r}var She=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Che=["dx","dy","angle","className","breakAll"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R1.apply(null,arguments)}function s3(e,r){if(e==null)return{};var s,a,n=khe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function khe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var P$=/[ \f\n\r\t\v\u2028\u2029]+/,A$=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Ar(r)||(s?n=r.toString().split(""):n=r.toString().split(P$));var i=n.map(l=>({word:l,width:$h(l,a).width})),o=s?0:$h("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},_he=(e,r,s,a,n)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,m=Ve(i),h=o,f=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((I,B)=>{var{word:H,width:F}=B,U=I[I.length-1];if(U&&(a==null||n||U.width+F+s<Number(a)))U.words.push(H),U.width+=F+s;else{var O={words:[H],width:F};I.push(O)}return I},[])},g=f(r),v=V=>V.reduce((R,I)=>R.width>I.width?R:I);if(!m||n)return g;var b=g.length>i||v(g).width>Number(a);if(!b)return g;for(var w="",y=V=>{var R=h.slice(0,V),I=A$({breakAll:d,style:l,children:R+w}).wordsWithComputedWidth,B=f(I),H=B.length>i||v(B).width>Number(a);return[H,B]},N=0,C=h.length-1,S=0,k;N<=C&&S<=h.length-1;){var A=Math.floor((N+C)/2),E=A-1,[T,M]=y(E),[L]=y(A);if(!T&&!L&&(N=A+1),T&&L&&(C=A-1),!T&&L){k=M;break}S++}return k||g},a3=e=>{var r=Ar(e)?[]:e.toString().split(P$);return[{words:r}]},Phe=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:o}=e;if((r||s)&&!rc.isSsr){var l,d,m=A$({breakAll:i,children:a,style:n});if(m){var{wordsWithComputedWidth:h,spaceWidth:f}=m;l=h,d=f}else return a3(a);return _he({breakAll:i,children:a,maxLines:o,style:n},l,d,r,s)}return a3(a)},n3="#808080",ky=p.forwardRef((e,r)=>{var{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:d="end",fill:m=n3}=e,h=s3(e,She),f=p.useMemo(()=>Phe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:g,dy:v,angle:b,className:w,breakAll:y}=h,N=s3(h,Che);if(!Qi(s)||!Qi(a))return null;var C=s+(Ve(g)?g:0),S=a+(Ve(v)?v:0),k;switch(d){case"start":k=zj("calc(".concat(i,")"));break;case"middle":k=zj("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:k=zj("calc(".concat(f.length-1," * -").concat(n,")"));break}var A=[];if(o){var E=f[0].width,{width:T}=h;A.push("scale(".concat(Ve(T)?T/E:1,")"))}return b&&A.push("rotate(".concat(b,", ").concat(C,", ").concat(S,")")),A.length&&(N.transform=A.join(" ")),p.createElement("text",R1({},Pr(N,!0),{ref:r,x:C,y:S,className:Jt("recharts-text",w),textAnchor:l,fill:m.includes("url")?n3:m}),f.map((M,L)=>{var V=M.words.join(y?"":" ");return p.createElement("tspan",{x:C,dy:L===0?k:n,key:"".concat(V,"-").concat(L)},V)}))});ky.displayName="Text";var Ahe=["offset"],Ehe=["labelRef"];function i3(e,r){if(e==null)return{};var s,a,n=The(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function The(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function o3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Jr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?o3(Object(s),!0).forEach(function(a){Ohe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ohe(e,r,s){return(r=Mhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mhe(e){var r=Rhe(e,"string");return typeof r=="symbol"?r:r+""}function Rhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Po.apply(null,arguments)}var Ihe=e=>{var{value:r,formatter:s}=e,a=Ar(e.children)?r:e.children;return typeof s=="function"?s(a):a},EC=e=>e!=null&&typeof e=="function",Dhe=(e,r)=>{var s=Fs(r-e),a=Math.min(Math.abs(r-e),360);return s*a},Lhe=(e,r,s,a)=>{var{position:n,offset:i,className:o}=e,{cx:l,cy:d,innerRadius:m,outerRadius:h,startAngle:f,endAngle:g,clockWise:v}=a,b=(m+h)/2,w=Dhe(f,g),y=w>=0?1:-1,N,C;n==="insideStart"?(N=f+y*i,C=v):n==="insideEnd"?(N=g-y*i,C=!v):n==="end"&&(N=g+y*i,C=v),C=w<=0?C:!C;var S=gs(l,d,b,N),k=gs(l,d,b,N+(C?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Ar(e.id)?Jh("recharts-radial-line-"):e.id;return p.createElement("text",Po({},s,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:E,d:A})),p.createElement("textPath",{xlinkHref:"#".concat(E)},r))},$he=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,m=(l+d)/2;if(s==="outside"){var{x:h,y:f}=gs(a,n,o+r,m);return{x:h,y:f,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x:v,y:b}=gs(a,n,g,m);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},zhe=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,{x:i,y:o,width:l,height:d}=r,m=d>=0?1:-1,h=m*a,f=m>0?"end":"start",g=m>0?"start":"end",v=l>=0?1:-1,b=v*a,w=v>0?"end":"start",y=v>0?"start":"end";if(n==="top"){var N={x:i+l/2,y:o-m*a,textAnchor:"middle",verticalAnchor:f};return Jr(Jr({},N),s?{height:Math.max(o-s.y,0),width:l}:{})}if(n==="bottom"){var C={x:i+l/2,y:o+d+h,textAnchor:"middle",verticalAnchor:g};return Jr(Jr({},C),s?{height:Math.max(s.y+s.height-(o+d),0),width:l}:{})}if(n==="left"){var S={x:i-b,y:o+d/2,textAnchor:w,verticalAnchor:"middle"};return Jr(Jr({},S),s?{width:Math.max(S.x-s.x,0),height:d}:{})}if(n==="right"){var k={x:i+l+b,y:o+d/2,textAnchor:y,verticalAnchor:"middle"};return Jr(Jr({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:d}:{})}var A=s?{width:l,height:d}:{};return n==="insideLeft"?Jr({x:i+b,y:o+d/2,textAnchor:y,verticalAnchor:"middle"},A):n==="insideRight"?Jr({x:i+l-b,y:o+d/2,textAnchor:w,verticalAnchor:"middle"},A):n==="insideTop"?Jr({x:i+l/2,y:o+h,textAnchor:"middle",verticalAnchor:g},A):n==="insideBottom"?Jr({x:i+l/2,y:o+d-h,textAnchor:"middle",verticalAnchor:f},A):n==="insideTopLeft"?Jr({x:i+b,y:o+h,textAnchor:y,verticalAnchor:g},A):n==="insideTopRight"?Jr({x:i+l-b,y:o+h,textAnchor:w,verticalAnchor:g},A):n==="insideBottomLeft"?Jr({x:i+b,y:o+d-h,textAnchor:y,verticalAnchor:f},A):n==="insideBottomRight"?Jr({x:i+l-b,y:o+d-h,textAnchor:w,verticalAnchor:f},A):n&&typeof n=="object"&&(Ve(n.x)||Fc(n.x))&&(Ve(n.y)||Fc(n.y))?Jr({x:i+Ea(n.x,l),y:o+Ea(n.y,d),textAnchor:"end",verticalAnchor:"end"},A):Jr({x:i+l/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Fhe=e=>"cx"in e&&Ve(e.cx);function cn(e){var{offset:r=5}=e,s=i3(e,Ahe),a=Jr({offset:r},s),{viewBox:n,position:i,value:o,children:l,content:d,className:m="",textBreakAll:h,labelRef:f}=a,g=tt(j6),v=S2(),b=i==="center"?v:g??v,w=n||b;if(!w||Ar(o)&&Ar(l)&&!p.isValidElement(d)&&typeof d!="function")return null;var y=Jr(Jr({},a),{},{viewBox:w});if(p.isValidElement(d)){var{labelRef:N}=y,C=i3(y,Ehe);return p.cloneElement(d,C)}var S;if(typeof d=="function"){if(S=p.createElement(d,y),p.isValidElement(S))return S}else S=Ihe(a);var k=Fhe(w),A=Pr(a,!0);if(k&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Lhe(a,S,A,w);var E=k?$he(w,a.offset,a.position):zhe(a,w);return p.createElement(ky,Po({ref:f,className:Jt("recharts-label",m)},A,E,{breakAll:h}),S)}cn.displayName="Label";var E$=e=>{var{cx:r,cy:s,angle:a,startAngle:n,endAngle:i,r:o,radius:l,innerRadius:d,outerRadius:m,x:h,y:f,top:g,left:v,width:b,height:w,clockWise:y,labelViewBox:N}=e;if(N)return N;if(Ve(b)&&Ve(w)){if(Ve(h)&&Ve(f))return{x:h,y:f,width:b,height:w};if(Ve(g)&&Ve(v))return{x:g,y:v,width:b,height:w}}if(Ve(h)&&Ve(f))return{x:h,y:f,width:0,height:0};if(Ve(r)&&Ve(s))return{cx:r,cy:s,startAngle:n||a||0,endAngle:i||a||0,innerRadius:d||0,outerRadius:m||l||o||0,clockWise:y};if(e.viewBox)return e.viewBox},Uhe=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?p.createElement(cn,Po({key:"label-implicit"},a)):Qi(e)?p.createElement(cn,Po({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===cn?p.cloneElement(e,Jr({key:"label-implicit"},a)):p.createElement(cn,Po({key:"label-implicit",content:e},a)):EC(e)?p.createElement(cn,Po({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(cn,Po({},e,{key:"label-implicit"},a)):null},Bhe=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var{children:n,labelRef:i}=r,o=E$(r),l=Tf(n,cn).map((m,h)=>p.cloneElement(m,{viewBox:s||o,key:"label-".concat(h)}));if(!a)return l;var d=Uhe(r.label,s||o,i);return[d,...l]};cn.parseViewBox=E$;cn.renderCallByParent=Bhe;var Fj={},Uj={},l3;function Whe(){return l3||(l3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r}(Uj)),Uj}var Bj={},c3;function Vhe(){return c3||(c3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r}(Bj)),Bj}var d3;function qhe(){return d3||(d3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Whe(),s=Vhe(),a=u2();function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n}(Fj)),Fj}var Wj,u3;function Hhe(){return u3||(u3=1,Wj=qhe().last),Wj}var Khe=Hhe();const Ghe=gn(Khe);var Yhe=["valueAccessor"],Jhe=["data","dataKey","clockWise","id","textBreakAll"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Y0.apply(null,arguments)}function m3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function h3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?m3(Object(s),!0).forEach(function(a){Xhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Xhe(e,r,s){return(r=Qhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Qhe(e){var r=Zhe(e,"string");return typeof r=="symbol"?r:r+""}function Zhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function f3(e,r){if(e==null)return{};var s,a,n=efe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function efe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var tfe=e=>Array.isArray(e.value)?Ghe(e.value):e.value;function Do(e){var{valueAccessor:r=tfe}=e,s=f3(e,Yhe),{data:a,dataKey:n,clockWise:i,id:o,textBreakAll:l}=s,d=f3(s,Jhe);return!a||!a.length?null:p.createElement(cs,{className:"recharts-label-list"},a.map((m,h)=>{var f=Ar(n)?r(m,h):xr(m&&m.payload,n),g=Ar(o)?{}:{id:"".concat(o,"-").concat(h)};return p.createElement(cn,Y0({},Pr(m,!0),d,g,{parentViewBox:m.parentViewBox,value:f,textBreakAll:l,viewBox:cn.parseViewBox(Ar(i)?m:h3(h3({},m),{},{clockWise:i})),key:"label-".concat(h),index:h}))}))}Do.displayName="LabelList";function rfe(e,r){return e?e===!0?p.createElement(Do,{key:"labelList-implicit",data:r}):p.isValidElement(e)||EC(e)?p.createElement(Do,{key:"labelList-implicit",data:r,content:e}):typeof e=="object"?p.createElement(Do,Y0({data:r},e,{key:"labelList-implicit"})):null:null}function sfe(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var{children:a}=e,n=Tf(a,Do).map((o,l)=>p.cloneElement(o,{data:r,key:"labelList-".concat(l)}));if(!s)return n;var i=rfe(e.label,r);return[i,...n]}Do.renderCallByParent=sfe;function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},I1.apply(null,arguments)}var TC=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=Jt("recharts-dot",n);return r===+r&&s===+s&&a===+a?p.createElement("circle",I1({},Si(e),o2(e),{className:i,cx:r,cy:s,r:a})):null},T$=e=>e.graphicalItems.polarItems,afe=he([Br,Ff],nC),OC=he([T$,ms,afe],iC),nfe=he([OC],oC),MC=he([nfe,Y2],lC),ife=he([MC,ms,OC],dC),ofe=he([MC,ms,OC],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,o=xr(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:xr(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),p3=()=>{},lfe=he([ms,z6,p3,ofe,p3,Bt,Br],mC),O$=he([ms,Bt,MC,ife,zf,Br,lfe],hC),cfe=he([O$,ms,hm],gC);he([ms,O$,cfe,Br],yC);var dfe={radiusAxis:{},angleAxis:{}},M$=vn({name:"polarAxis",initialState:dfe,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:N1e,removeRadiusAxis:S1e,addAngleAxis:C1e,removeAngleAxis:k1e}=M$.actions,ufe=M$.reducer;function g3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function x3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?g3(Object(s),!0).forEach(function(a){mfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function mfe(e,r,s){return(r=hfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function hfe(e){var r=ffe(e,"string");return typeof r=="symbol"?r:r+""}function ffe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var pfe=(e,r)=>r,RC=he([T$,pfe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),gfe=[],IC=(e,r,s)=>(s==null?void 0:s.length)===0?gfe:s,R$=he([Y2,RC,IC],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>x3(x3({},r.presentationProps),i.props))),n!=null)return n}}),xfe=he([R$,RC,IC],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,o=xr(a,r.nameKey,r.name),l;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=r.fill,{value:tc(o,r.dataKey),color:l,payload:a,type:r.legendType}})}),yfe=he([R$,RC,IC,Ps],(e,r,s,a)=>{if(!(r==null||e==null))return upe({offset:a,pieSettings:r,displayedData:e,cells:s})}),Vj={},y3;function vfe(){return y3||(y3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r}(Vj)),Vj}var qj,v3;function bfe(){return v3||(v3=1,qj=vfe().isPlainObject),qj}var wfe=bfe();const jfe=gn(wfe);function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},J0.apply(null,arguments)}var b3=(e,r,s,a,n)=>{var i=s-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+s,",").concat(r),o+="L ".concat(e+s-i/2,",").concat(r+n),o+="L ".concat(e+s-i/2-a,",").concat(r+n),o+="L ".concat(e,",").concat(r," Z"),o},Nfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sfe=e=>{var r=Ia(e,Nfe),s=p.useRef(),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var y=s.current.getTotalLength();y&&n(y)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:d,height:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:v,isUpdateAnimationActive:b}=r;if(i!==+i||o!==+o||l!==+l||d!==+d||m!==+m||l===0&&d===0||m===0)return null;var w=Jt("recharts-trapezoid",h);return b?p.createElement(R0,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:i,y:o},to:{upperWidth:l,lowerWidth:d,height:m,x:i,y:o},duration:g,animationEasing:f,isActive:b},y=>{var{upperWidth:N,lowerWidth:C,height:S,x:k,y:A}=y;return p.createElement(R0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:f},p.createElement("path",J0({},Pr(r,!0),{className:w,d:b3(k,A,N,C,S),ref:s})))}):p.createElement("g",null,p.createElement("path",J0({},Pr(r,!0),{className:w,d:b3(i,o,l,d,m)})))},Cfe=["option","shapeType","propTransformer","activeClassName","isActive"];function kfe(e,r){if(e==null)return{};var s,a,n=_fe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _fe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function w3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function X0(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?w3(Object(s),!0).forEach(function(a){Pfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Pfe(e,r,s){return(r=Afe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Afe(e){var r=Efe(e,"string");return typeof r=="symbol"?r:r+""}function Efe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Tfe(e,r){return X0(X0({},r),e)}function Ofe(e,r){return e==="symbols"}function j3(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return p.createElement(g8,s);case"trapezoid":return p.createElement(Sfe,s);case"sector":return p.createElement(v8,s);case"symbols":if(Ofe(r))return p.createElement(hL,s);break;default:return null}}function Mfe(e){return p.isValidElement(e)?e.props:e}function I$(e){var{option:r,shapeType:s,propTransformer:a=Tfe,activeClassName:n="recharts-active-shape",isActive:i}=e,o=kfe(e,Cfe),l;if(p.isValidElement(r))l=p.cloneElement(r,X0(X0({},o),Mfe(r)));else if(typeof r=="function")l=r(o);else if(jfe(r)&&typeof r!="boolean"){var d=a(r,o);l=p.createElement(j3,{shapeType:s,elementProps:d})}else{var m=o;l=p.createElement(j3,{shapeType:s,elementProps:m})}return i?p.createElement(cs,{className:n},l):l}var DC=(e,r)=>{var s=us();return(a,n)=>i=>{e==null||e(a,n,i),s(t$({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},LC=e=>{var r=us();return(s,a)=>n=>{e==null||e(s,a,n),r(kue())}},$C=(e,r)=>{var s=us();return(a,n)=>i=>{e==null||e(a,n,i),s(_ue({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function _y(e){var{fn:r,args:s}=e,a=us(),n=ja();return p.useEffect(()=>{if(!n){var i=r(s);return a(Nue(i)),()=>{a(Sue(i))}}},[r,s,a,n]),null}var D$=()=>{};function zC(e){var{legendPayload:r}=e,s=us(),a=ja();return p.useEffect(()=>a?D$:(s(o8(r)),()=>{s(l8(r))}),[s,a,r]),null}function Rfe(e){var{legendPayload:r}=e,s=us(),a=tt(Bt);return p.useEffect(()=>a!=="centric"&&a!=="radial"?D$:(s(o8(r)),()=>{s(l8(r))}),[s,a,r]),null}function Py(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=p.useRef(Jh(r)),a=p.useRef(e);return a.current!==e&&(s.current=Jh(r),a.current=e),s.current}var Hj,Ife=()=>{var[e]=p.useState(()=>Jh("uid-"));return e},Dfe=(Hj=xx.useId)!==null&&Hj!==void 0?Hj:Ife;function Lfe(e,r){var s=Dfe();return r||(e?"".concat(e,"-").concat(s):s)}var $fe=p.createContext(void 0),Ay=e=>{var{id:r,type:s,children:a}=e,n=Lfe("recharts-".concat(s),r);return p.createElement($fe.Provider,{value:n},a(n))},zfe={cartesianItems:[],polarItems:[]},L$=vn({name:"graphicalItems",initialState:zfe,reducers:{addCartesianGraphicalItem(e,r){e.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(e,r){var{prev:s,next:a}=r.payload,n=Ro(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,r){var s=Ro(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},addPolarGraphicalItem(e,r){e.polarItems.push(r.payload)},removePolarGraphicalItem(e,r){var s=Ro(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)}}}),{addCartesianGraphicalItem:Ffe,replaceCartesianGraphicalItem:Ufe,removeCartesianGraphicalItem:Bfe,addPolarGraphicalItem:Wfe,removePolarGraphicalItem:Vfe}=L$.actions,qfe=L$.reducer;function FC(e){var r=us(),s=p.useRef(null);return p.useEffect(()=>{s.current===null?r(Ffe(e)):s.current!==e&&r(Ufe({prev:s.current,next:e})),s.current=e},[r,e]),p.useEffect(()=>()=>{s.current&&(r(Bfe(s.current)),s.current=null)},[r]),null}function Hfe(e){var r=us();return p.useEffect(()=>(r(Wfe(e)),()=>{r(Vfe(e))}),[r,e]),null}function Kfe(){}var Gfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},N3={t:0},Kj={t:1};function Ey(e){var r=Ia(e,Gfe),{isActive:s,canBegin:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:m}=r,h=p8("JavascriptAnimate",r.animationManager),[f,g]=p.useState(s?N3:Kj),v=p.useRef(null);return p.useEffect(()=>{s||g(Kj)},[s]),p.useEffect(()=>{if(!s||!a)return Kfe;var b=f8(N3,Kj,m8(i),n,g,h.getTimeoutController()),w=()=>{v.current=b()};return h.start([d,o,w,n,l]),()=>{h.stop(),v.current&&v.current(),l()}},[s,a,n,i,o,d,l,h]),m(f.t)}var Yfe=["onMouseEnter","onClick","onMouseLeave"],Jfe=["id"],Xfe=["id"];function UC(e,r){if(e==null)return{};var s,a,n=Qfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function S3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Xr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?S3(Object(s),!0).forEach(function(a){Zfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zfe(e,r,s){return(r=epe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function epe(e){var r=tpe(e,"string");return typeof r=="symbol"?r:r+""}function tpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ko.apply(null,arguments)}function rpe(e){var r=p.useMemo(()=>Tf(e.children,Sd),[e.children]),s=tt(a=>xfe(a,e.id,r));return s==null?null:p.createElement(Rfe,{legendPayload:s})}function spe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:s,name:tc(l,r),hide:d,type:m,color:o,unit:""}}}var ape=(e,r)=>e>r?"start":e<r?"end":"middle",npe=(e,r,s)=>typeof r=="function"?r(e):Ea(r,s,s*.8),ipe=(e,r,s)=>{var{top:a,left:n,width:i,height:o}=r,l=GL(i,o),d=n+Ea(e.cx,i,i/2),m=a+Ea(e.cy,o,o/2),h=Ea(e.innerRadius,l,0),f=npe(s,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:m,innerRadius:h,outerRadius:f,maxRadius:g}},ope=(e,r)=>{var s=Fs(r-e),a=Math.min(Math.abs(r-e),360);return s*a},lpe=(e,r)=>{if(p.isValidElement(e))return p.cloneElement(e,r);if(typeof e=="function")return e(r);var s=Jt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Tu,Ko({},r,{type:"linear",className:s}))},cpe=(e,r,s)=>{if(p.isValidElement(e))return p.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),p.isValidElement(a)))return a;var n=Jt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(ky,Ko({},r,{alignmentBaseline:"middle",className:n}),a)};function dpe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=s;if(!a||!n||!r)return null;var l=Si(s),d=Pr(n,!1),m=Pr(i,!1),h=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,f=r.map((g,v)=>{var b=(g.startAngle+g.endAngle)/2,w=gs(g.cx,g.cy,g.outerRadius+h,b),y=Xr(Xr(Xr(Xr({},l),g),{},{stroke:"none"},d),{},{index:v,textAnchor:ape(w.x,g.cx)},w),N=Xr(Xr(Xr(Xr({},l),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[gs(g.cx,g.cy,g.outerRadius,b),w],key:"line"});return p.createElement(cs,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},i&&lpe(i,N),cpe(n,y,xr(g,o)))});return p.createElement(cs,{className:"recharts-pie-labels"},f)}function $$(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n,showLabels:i}=e,o=tt(Yl),{onMouseEnter:l,onClick:d,onMouseLeave:m}=n,h=UC(n,Yfe),f=DC(l,n.dataKey),g=LC(m),v=$C(d,n.dataKey);return r==null?null:p.createElement(p.Fragment,null,r.map((b,w)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&r.length!==1)return null;var y=s&&String(w)===o,N=o?a:null,C=y?s:N,S=Xr(Xr({},b),{},{stroke:b.stroke,tabIndex:-1,[e8]:w,[t8]:n.dataKey});return p.createElement(cs,Ko({tabIndex:-1,className:"recharts-pie-sector"},Gx(h,b,w),{onMouseEnter:f(b,w),onMouseLeave:g(b,w),onClick:v(b,w),key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(w)}),p.createElement(I$,Ko({option:C,isActive:y,shapeType:"sector"},S)))}),p.createElement(dpe,{sectors:r,props:n,showLabels:i}))}function upe(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:m,nameKey:h,tooltipType:f}=s,g=Math.abs(s.minAngle),v=ope(l,d),b=Math.abs(v),w=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,y=a.filter(E=>xr(E,m,0)!==0).length,N=(b>=360?y:y-1)*w,C=b-y*g-N,S=a.reduce((E,T)=>{var M=xr(T,m,0);return E+(Ve(M)?M:0)},0),k;if(S>0){var A;k=a.map((E,T)=>{var M=xr(E,m,0),L=xr(E,h,T),V=ipe(s,i,E),R=(Ve(M)?M:0)/S,I,B=Xr(Xr({},E),n&&n[T]&&n[T].props);T?I=A.endAngle+Fs(v)*w*(M!==0?1:0):I=l;var H=I+Fs(v)*((M!==0?g:0)+R*C),F=(I+H)/2,U=(V.innerRadius+V.outerRadius)/2,O=[{name:L,value:M,payload:B,dataKey:m,type:f}],$=gs(V.cx,V.cy,U,F);return A=Xr(Xr(Xr(Xr({},s.presentationProps),{},{percent:R,cornerRadius:o,name:L,tooltipPayload:O,midAngle:F,middleRadius:U,tooltipPosition:$},B),V),{},{value:xr(E,m),startAngle:I,endAngle:H,payload:B,paddingAngle:Fs(v)*w}),A})}return k}function mpe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:d,inactiveShape:m,onAnimationStart:h,onAnimationEnd:f}=r,g=Py(r,"recharts-pie-"),v=s.current,[b,w]=p.useState(!0),y=p.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),N=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(Ey,{begin:i,duration:o,isActive:n,easing:l,onAnimationStart:N,onAnimationEnd:y,key:g},C=>{var S=[],k=a&&a[0],A=k.startAngle;return a.forEach((E,T)=>{var M=v&&v[T],L=T>0?Gl(E,"paddingAngle",0):0;if(M){var V=tE(M.endAngle-M.startAngle,E.endAngle-E.startAngle),R=Xr(Xr({},E),{},{startAngle:A+L,endAngle:A+V(C)+L});S.push(R),A=R.endAngle}else{var{endAngle:I,startAngle:B}=E,H=tE(0,I-B),F=H(C),U=Xr(Xr({},E),{},{startAngle:A+L,endAngle:A+F+L});S.push(U),A=U.endAngle}}),s.current=S,p.createElement(cs,null,p.createElement($$,{sectors:S,activeShape:d,inactiveShape:m,allOtherPieProps:r,showLabels:!b}))})}function hpe(e){var{sectors:r,isAnimationActive:s,activeShape:a,inactiveShape:n}=e,i=p.useRef(null),o=i.current;return s&&r&&r.length&&(!o||o!==r)?p.createElement(mpe,{props:e,previousSectorsRef:i}):p.createElement($$,{sectors:r,activeShape:a,inactiveShape:n,allOtherPieProps:e,showLabels:!0})}function fpe(e){var{hide:r,className:s,rootTabIndex:a}=e,n=Jt("recharts-pie",s);return r?null:p.createElement(cs,{tabIndex:a,className:n},p.createElement(hpe,e))}var ppe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!rc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function gpe(e){var{id:r}=e,s=UC(e,Jfe),a=p.useMemo(()=>Tf(e.children,Sd),[e.children]),n=tt(i=>yfe(i,r,a));return p.createElement(p.Fragment,null,p.createElement(_y,{fn:spe,args:Xr(Xr({},e),{},{sectors:n})}),p.createElement(fpe,Ko({},s,{sectors:n})))}function Ty(e){var r=Ia(e,ppe),{id:s}=r,a=UC(r,Xfe),n=Si(a);return p.createElement(Ay,{id:s,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(Hfe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),p.createElement(rpe,Ko({},a,{id:i})),p.createElement(gpe,Ko({},a,{id:i})),a.children))}Ty.displayName="Pie";var xpe=he([Ps],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ype=he([xpe,Go,Yo],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Oy=()=>tt(ype),vpe=()=>tt(hme);function C3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function k3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?C3(Object(s),!0).forEach(function(a){bpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bpe(e,r,s){return(r=wpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function wpe(e){var r=jpe(e,"string");return typeof r=="symbol"?r:r+""}function jpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Npe=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var o=k3(k3({index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Pr(n,!1)),o2(n)),l;return p.isValidElement(n)?l=p.cloneElement(n,o):typeof n=="function"?l=n(o):l=p.createElement(TC,o),p.createElement(cs,{className:"recharts-active-dot"},l)};function D1(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n}=e,i=tt(Yl),o=vpe();if(r==null||o==null)return null;var l=r.find(d=>o.includes(d.payload));return Ar(l)?null:Npe({point:l,childIndex:Number(i),mainColor:s,dataKey:n,activeDot:a})}var Spe="Invariant failed";function Cpe(e,r){throw new Error(Spe)}var kpe=["x","y"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},L1.apply(null,arguments)}function _3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_3(Object(s),!0).forEach(function(a){_pe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function _pe(e,r,s){return(r=Ppe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ppe(e){var r=Ape(e,"string");return typeof r=="symbol"?r:r+""}function Ape(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Epe(e,r){if(e==null)return{};var s,a,n=Tpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Tpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ope(e,r){var{x:s,y:a}=e,n=Epe(e,kpe),i="".concat(s),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),m="".concat(r.height||n.height),h=parseInt(m,10),f="".concat(r.width||n.width),g=parseInt(f,10);return vh(vh(vh(vh(vh({},r),n),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:g,name:r.name,radius:r.radius})}function z$(e){return p.createElement(I$,L1({shapeType:"rectangle",propTransformer:Ope,activeClassName:"recharts-active-bar"},e))}var Mpe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Ve(r))return r;var i=Ve(a)||Ar(a);return i?r(a,n):(i||Cpe(),s)}},Rpe={},F$=vn({name:"errorBars",initialState:Rpe,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:_1e,removeErrorBar:P1e}=F$.actions,Ipe=F$.reducer,Dpe=["children"];function Lpe(e,r){if(e==null)return{};var s,a,n=$pe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $pe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var zpe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Fpe=p.createContext(zpe);function U$(e){var{children:r}=e,s=Lpe(e,Dpe);return p.createElement(Fpe.Provider,{value:s},r)}function My(e,r){var s,a,n=tt(m=>Xo(m,e)),i=tt(m=>ic(m,r)),o=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:an.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:nn.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function BC(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=Oy(),{needClipX:i,needClipY:o,needClip:l}=My(r,s);if(!l)return null;var{x:d,y:m,width:h,height:f}=n;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:i?d:d-h/2,y:o?m:m-f/2,width:i?h:h*2,height:o?f:f*2}))}var Upe=["onMouseEnter","onMouseLeave","onClick"],Bpe=["value","background","tooltipPosition"],Wpe=["id"],Vpe=["onMouseEnter","onClick","onMouseLeave"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ju.apply(null,arguments)}function P3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ga(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?P3(Object(s),!0).forEach(function(a){qpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qpe(e,r,s){return(r=Hpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Hpe(e){var r=Kpe(e,"string");return typeof r=="symbol"?r:r+""}function Kpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Q0(e,r){if(e==null)return{};var s,a,n=Gpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Ype=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:tc(s,r),payload:e}]};function Jpe(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:tc(i,r),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Xpe(e){var r=tt(Yl),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,m=Q0(i,Upe),h=DC(o,a),f=LC(l),g=$C(d,a);if(!n||s==null)return null;var v=Pr(n,!1);return p.createElement(p.Fragment,null,s.map((b,w)=>{var{value:y,background:N,tooltipPosition:C}=b,S=Q0(b,Bpe);if(!N)return null;var k=h(b,w),A=f(b,w),E=g(b,w),T=ga(ga(ga(ga(ga({option:n,isActive:String(w)===r},S),{},{fill:"#eee"},N),v),Gx(m,b,w)),{},{onMouseEnter:k,onMouseLeave:A,onClick:E,dataKey:a,index:w,className:"recharts-bar-background-rectangle"});return p.createElement(z$,Ju({key:"background-bar-".concat(w)},T))}))}function B$(e){var{data:r,props:s,showLabels:a}=e,n=Si(s),{id:i}=n,o=Q0(n,Wpe),{shape:l,dataKey:d,activeBar:m}=s,h=tt(Yl),f=tt(f$),{onMouseEnter:g,onClick:v,onMouseLeave:b}=s,w=Q0(s,Vpe),y=DC(g,d),N=LC(b),C=$C(v,d);return r?p.createElement(p.Fragment,null,r.map((S,k)=>{var A=m&&String(k)===h&&(f==null||d===f),E=A?m:l,T=ga(ga(ga({},o),S),{},{isActive:A,option:E,index:k,dataKey:d});return p.createElement(cs,Ju({className:"recharts-bar-rectangle"},Gx(w,S,k),{onMouseEnter:y(S,k),onMouseLeave:N(S,k),onClick:C(S,k),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(k)}),p.createElement(z$,T))}),a&&Do.renderCallByParent(s,r)):null}function Qpe(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=r,f=s.current,g=Py(r,"recharts-bar-"),[v,b]=p.useState(!1),w=p.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),y=p.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return p.createElement(Ey,{begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:w,onAnimationStart:y,key:g},N=>{var C=N===1?a:a==null?void 0:a.map((S,k)=>{var A=f&&f[k];if(A)return ga(ga({},S),{},{x:ea(A.x,S.x,N),y:ea(A.y,S.y,N),width:ea(A.width,S.width,N),height:ea(A.height,S.height,N)});if(n==="horizontal"){var E=ea(0,S.height,N);return ga(ga({},S),{},{y:S.y+S.height-E,height:E})}var T=ea(0,S.width,N);return ga(ga({},S),{},{width:T})});return N>0&&(s.current=C??null),C==null?null:p.createElement(cs,null,p.createElement(B$,{props:r,data:C,showLabels:!v}))})}function Zpe(e){var{data:r,isAnimationActive:s}=e,a=p.useRef(null);return s&&r&&r.length&&(a.current==null||a.current!==r)?p.createElement(Qpe,{previousRectanglesRef:a,props:e}):p.createElement(B$,{props:e,data:r,showLabels:!0})}var W$=0,ege=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:xr(e,r)}};class tge extends p.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:d,id:m}=this.props;if(r)return null;var h=Jt("recharts-bar",n),f=m;return p.createElement(cs,{className:h,id:m},l&&p.createElement("defs",null,p.createElement(BC,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(cs,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Xpe,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),p.createElement(Zpe,this.props)),this.props.children)}}var rge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!rc.isSsr,legendType:"rect",minPointSize:W$,xAxisId:0,yAxisId:0};function sge(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:f}=My(r,s),g=Mf(),v=ja(),b=Tf(e.children,Sd),w=tt(C=>Ege(C,r,s,v,e.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var y,N=w==null?void 0:w[0];return N==null||N.height==null||N.width==null?y=0:y=g==="vertical"?N.height/2:N.width/2,p.createElement(U$,{xAxisId:r,yAxisId:s,data:w,dataPointFormatter:ege,errorBarOffset:y},p.createElement(tge,Ju({},e,{layout:g,needClip:f,data:w,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function age(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:f,offset:g,cells:v}=e,b=r==="horizontal"?l:o,w=h?b.scale.domain():null,y=rie({numericAxis:b});return f.map((N,C)=>{var S,k,A,E,T,M;h?S=Xne(h[C],w):(S=xr(N,s),Array.isArray(S)||(S=[y,S]));var L=Mpe(a,W$)(S[1],C);if(r==="horizontal"){var V,[R,I]=[l.scale(S[0]),l.scale(S[1])];k=hT({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:C}),A=(V=I??R)!==null&&V!==void 0?V:void 0,E=n.size;var B=R-I;if(T=Ja(B)?0:B,M={x:k,y:g.top,width:E,height:g.height},Math.abs(L)>0&&Math.abs(T)<Math.abs(L)){var H=Fs(T||L)*(Math.abs(L)-Math.abs(T));A-=H,T+=H}}else{var[F,U]=[o.scale(S[0]),o.scale(S[1])];if(k=F,A=hT({axis:l,ticks:m,bandSize:i,offset:n.offset,entry:N,index:C}),E=U-F,T=n.size,M={x:g.left,y:A,width:g.width,height:T},Math.abs(L)>0&&Math.abs(E)<Math.abs(L)){var O=Fs(E||L)*(Math.abs(L)-Math.abs(E));E+=O}}if(k==null||A==null||E==null||T==null)return null;var $=ga(ga({},N),{},{x:k,y:A,width:E,height:T,value:h?S:S[1],payload:N,background:M,tooltipPosition:{x:k+E/2,y:A+T/2}},v&&v[C]&&v[C].props);return $}).filter(Boolean)}function lf(e){var r=Ia(e,rge),s=ja();return p.createElement(Ay,{id:r.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(zC,{legendPayload:Ype(r)}),p.createElement(_y,{fn:Jpe,args:r}),p.createElement(FC,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:QL(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),p.createElement(sge,Ju({},r,{id:a}))))}lf.displayName="Bar";function A3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ig(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?A3(Object(s),!0).forEach(function(a){nge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nge(e,r,s){return(r=ige(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ige(e){var r=oge(e,"string");return typeof r=="symbol"?r:r+""}function oge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var lge=(e,r)=>r,cge=(e,r,s)=>s,dge=(e,r,s,a)=>a,uge=(e,r,s,a,n)=>n,Kf=he([Bf,uge],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),mge=he([Kf],e=>e==null?void 0:e.maxBarSize),hge=(e,r,s,a,n,i)=>i,E3=(e,r,s)=>{var a=s??e;if(!Ar(a))return Ea(a,r,0)},fge=he([Bt,Bf,lge,cge,dge],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),pge=(e,r,s,a)=>{var n=Bt(e);return n==="horizontal"?nf(e,"yAxis",s,a):nf(e,"xAxis",r,a)},gge=(e,r,s)=>{var a=Bt(e);return a==="horizontal"?T5(e,"xAxis",r):T5(e,"yAxis",s)},xge=(e,r,s)=>{var a={},n=e.filter(vy),i=e.filter(m=>m.stackId==null),o=n.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),l=Object.entries(o).map(m=>{var[h,f]=m,g=f.map(b=>b.dataKey),v=E3(r,s,f[0].barSize);return{stackId:h,dataKeys:g,barSize:v}}),d=i.map(m=>{var h=[m.dataKey].filter(g=>g!=null),f=E3(r,s,m.barSize);return{stackId:void 0,dataKeys:h,barSize:f}});return[...l,...d]},yge=he([fge,Sde,gge],xge),vge=(e,r,s,a,n)=>{var i,o,l=Kf(e,r,s,a,n);if(l!=null){var d=Bt(e),m=p6(e),{maxBarSize:h}=l,f=Ar(h)?m:h,g,v;return d==="horizontal"?(g=to(e,"xAxis",r,a),v=eo(e,"xAxis",r,a)):(g=to(e,"yAxis",s,a),v=eo(e,"yAxis",s,a)),(i=(o=cd(g,v,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},V$=(e,r,s,a)=>{var n=Bt(e),i,o;return n==="horizontal"?(i=to(e,"xAxis",r,a),o=eo(e,"xAxis",r,a)):(i=to(e,"yAxis",s,a),o=eo(e,"yAxis",s,a)),cd(i,o)};function bge(e,r,s,a,n){var i=a.length;if(!(i<1)){var o=Ea(e,s,0,!0),l,d=[];if(ta(a[0].barSize)){var m=!1,h=s/i,f=a.reduce((N,C)=>N+(C.barSize||0),0);f+=(i-1)*o,f>=s&&(f-=(i-1)*o,o=0),f>=s&&h>0&&(m=!0,h*=.9,f=i*h);var g=(s-f)/2>>0,v={offset:g-o,size:0};l=a.reduce((N,C)=>{var S,k={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v.offset+v.size+o,size:m?h:(S=C.barSize)!==null&&S!==void 0?S:0}},A=[...N,k];return v=A[A.length-1].position,A},d)}else{var b=Ea(r,s,0,!0);s-2*b-(i-1)*o<=0&&(o=0);var w=(s-2*b-(i-1)*o)/i;w>1&&(w>>=0);var y=ta(n)?Math.min(w,n):w;l=a.reduce((N,C,S)=>[...N,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b+(w+o)*S+(w-y)/2,size:y}}],d)}return l}}var wge=(e,r,s,a,n,i,o)=>{var l=Ar(o)?r:o,d=bge(s,a,n!==i?n:i,e,l);return n!==i&&d!=null&&(d=d.map(m=>Ig(Ig({},m),{},{position:Ig(Ig({},m.position),{},{offset:m.position.offset-n/2})}))),d},jge=he([yge,p6,Nde,g6,vge,V$,mge],wge),Nge=(e,r,s,a)=>to(e,"xAxis",r,a),Sge=(e,r,s,a)=>to(e,"yAxis",s,a),Cge=(e,r,s,a)=>eo(e,"xAxis",r,a),kge=(e,r,s,a)=>eo(e,"yAxis",s,a),_ge=he([jge,Kf],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),Pge=(e,r)=>{var s=yy(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===s)}}}},Age=he([pge,Kf],Pge),Ege=he([Ps,Nge,Sge,Cge,kge,_ge,Bt,$f,V$,Age,Kf,hge],(e,r,s,a,n,i,o,l,d,m,h,f)=>{var{chartData:g,dataStartIndex:v,dataEndIndex:b}=l;if(!(h==null||i==null||o!=="horizontal"&&o!=="vertical"||r==null||s==null||a==null||n==null||d==null)){var{data:w}=h,y;if(w!=null&&w.length>0?y=w:y=g==null?void 0:g.slice(v,b+1),y!=null)return age({layout:o,barSettings:h,pos:i,bandSize:d,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,stackedData:m,displayedData:y,offset:e,cells:f})}}),q$=e=>{var{chartData:r}=e,s=us(),a=ja();return p.useEffect(()=>a?()=>{}:(s(U5(r)),()=>{s(U5(void 0))}),[r,s,a]),null},T3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},H$=vn({name:"brush",initialState:T3,reducers:{setBrushSettings(e,r){return r.payload==null?T3:r.payload}}}),{setBrushSettings:A1e}=H$.actions,Tge=H$.reducer;function Oge(e,r,s){return(r=Mge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mge(e){var r=Rge(e,"string");return typeof r=="symbol"?r:r+""}function Rge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class WC{static create(r){return new WC(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}Oge(WC,"EPS",1e-4);function Ige(e){return(e%180+180)%180}var Dge=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ige(n),o=i*Math.PI/180,l=Math.atan(a/s),d=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(d)},Lge={dots:[],areas:[],lines:[]},K$=vn({name:"referenceElements",initialState:Lge,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Ro(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Ro(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Ro(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:E1e,removeDot:T1e,addArea:O1e,removeArea:M1e,addLine:R1e,removeLine:I1e}=K$.actions,$ge=K$.reducer,zge=p.createContext(void 0),Fge=e=>{var{children:r}=e,[s]=p.useState("".concat(Jh("recharts"),"-clip")),a=Oy();if(a==null)return null;var{x:n,y:i,width:o,height:l}=a;return p.createElement(zge.Provider,{value:s},p.createElement("defs",null,p.createElement("clipPath",{id:s},p.createElement("rect",{x:n,y:i,height:l,width:o}))),r)};function Gj(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function G$(e,r,s){if(r<1)return[];if(r===1&&s===void 0)return e;for(var a=[],n=0;n<e.length;n+=r)a.push(e[n]);return a}function Uge(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return Dge(a,s)}function Bge(e,r,s){var a=s==="width",{x:n,y:i,width:o,height:l}=e;return r===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function Z0(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function Wge(e,r){return G$(e,r+1)}function Vge(e,r,s,a,n){for(var i=(a||[]).slice(),{start:o,end:l}=r,d=0,m=1,h=o,f=function(){var b=a==null?void 0:a[d];if(b===void 0)return{v:G$(a,m)};var w=d,y,N=()=>(y===void 0&&(y=s(b,w)),y),C=b.coordinate,S=d===0||Z0(e,C,N,h,l);S||(d=0,h=o,m+=1),S&&(h=C+e*(N()/2+n),d+=m)},g;m<=i.length;)if(g=f(),g)return g.v;return[]}function O3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ma(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?O3(Object(s),!0).forEach(function(a){qge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qge(e,r,s){return(r=Hge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Hge(e){var r=Kge(e,"string");return typeof r=="symbol"?r:r+""}function Kge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gge(e,r,s,a,n){for(var i=(a||[]).slice(),o=i.length,{start:l}=r,{end:d}=r,m=function(g){var v=i[g],b,w=()=>(b===void 0&&(b=s(v,g)),b);if(g===o-1){var y=e*(v.coordinate+e*w()/2-d);i[g]=v=ma(ma({},v),{},{tickCoord:y>0?v.coordinate-y*e:v.coordinate})}else i[g]=v=ma(ma({},v),{},{tickCoord:v.coordinate});var N=Z0(e,v.tickCoord,w,l,d);N&&(d=v.tickCoord-e*(w()/2+n),i[g]=ma(ma({},v),{},{isShow:!0}))},h=o-1;h>=0;h--)m(h);return i}function Yge(e,r,s,a,n,i){var o=(a||[]).slice(),l=o.length,{start:d,end:m}=r;if(i){var h=a[l-1],f=s(h,l-1),g=e*(h.coordinate+e*f/2-m);o[l-1]=h=ma(ma({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var v=Z0(e,h.tickCoord,()=>f,d,m);v&&(m=h.tickCoord-e*(f/2+n),o[l-1]=ma(ma({},h),{},{isShow:!0}))}for(var b=i?l-1:l,w=function(C){var S=o[C],k,A=()=>(k===void 0&&(k=s(S,C)),k);if(C===0){var E=e*(S.coordinate-e*A()/2-d);o[C]=S=ma(ma({},S),{},{tickCoord:E<0?S.coordinate-E*e:S.coordinate})}else o[C]=S=ma(ma({},S),{},{tickCoord:S.coordinate});var T=Z0(e,S.tickCoord,A,d,m);T&&(d=S.tickCoord+e*(A()/2+n),o[C]=ma(ma({},S),{},{isShow:!0}))},y=0;y<b;y++)w(y);return o}function VC(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:m,unit:h,angle:f}=e;if(!n||!n.length||!a)return[];if(Ve(d)||rc.isSsr){var g;return(g=Wge(n,Ve(d)?d:0))!==null&&g!==void 0?g:[]}var v=[],b=l==="top"||l==="bottom"?"width":"height",w=h&&b==="width"?$h(h,{fontSize:r,letterSpacing:s}):{width:0,height:0},y=(S,k)=>{var A=typeof m=="function"?m(S.value,k):S.value;return b==="width"?Uge($h(A,{fontSize:r,letterSpacing:s}),w,f):$h(A,{fontSize:r,letterSpacing:s})[b]},N=n.length>=2?Fs(n[1].coordinate-n[0].coordinate):1,C=Bge(i,N,b);return d==="equidistantPreserveStart"?Vge(N,C,y,n,o):(d==="preserveStart"||d==="preserveStartEnd"?v=Yge(N,C,y,n,o,d==="preserveStartEnd"):v=Gge(N,C,y,n,o),v.filter(S=>S.isShow))}var Jge=["viewBox"],Xge=["viewBox"];function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Cu.apply(null,arguments)}function M3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?M3(Object(s),!0).forEach(function(a){qC(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function R3(e,r){if(e==null)return{};var s,a,n=Qge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function qC(e,r,s){return(r=Zge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zge(e){var r=e0e(e,"string");return typeof r=="symbol"?r:r+""}function e0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class oc extends p.Component{constructor(r){super(r),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,s){var{viewBox:a}=r,n=R3(r,Jge),i=this.props,{viewBox:o}=i,l=R3(i,Xge);return!Gj(a,o)||!Gj(n,l)||!Gj(s,this.state)}getTickLineCoord(r){var{x:s,y:a,width:n,height:i,orientation:o,tickSize:l,mirror:d,tickMargin:m}=this.props,h,f,g,v,b,w,y=d?-1:1,N=r.tickSize||l,C=Ve(r.tickCoord)?r.tickCoord:r.coordinate;switch(o){case"top":h=f=r.coordinate,v=a+ +!d*i,g=v-y*N,w=g-y*m,b=C;break;case"left":g=v=r.coordinate,f=s+ +!d*n,h=f-y*N,b=h-y*m,w=C;break;case"right":g=v=r.coordinate,f=s+ +d*n,h=f+y*N,b=h+y*m,w=C;break;default:h=f=r.coordinate,v=a+ +d*i,g=v+y*N,w=g+y*m,b=C;break}return{line:{x1:h,y1:g,x2:f,y2:v},tick:{x:b,y:w}}}getTickTextAnchor(){var{orientation:r,mirror:s}=this.props,a;switch(r){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:r,mirror:s}=this.props;switch(r){case"left":case"right":return"middle";case"top":return s?"start":"end";default:return s?"end":"start"}}renderAxisLine(){var{x:r,y:s,width:a,height:n,orientation:i,mirror:o,axisLine:l}=this.props,d=Cs(Cs(Cs({},Pr(this.props,!1)),Pr(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);d=Cs(Cs({},d),{},{x1:r,y1:s+m*n,x2:r+a,y2:s+m*n})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=Cs(Cs({},d),{},{x1:r+h*a,y1:s,x2:r+h*a,y2:s+n})}return p.createElement("line",Cu({},d,{className:Jt("recharts-cartesian-axis-line",Gl(l,"className"))}))}static renderTickItem(r,s,a){var n,i=Jt(s.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(r))n=p.cloneElement(r,Cs(Cs({},s),{},{className:i}));else if(typeof r=="function")n=r(Cs(Cs({},s),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=Jt(o,r.className)),n=p.createElement(ky,Cu({},s,{className:o}),a)}return n}renderTicks(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:d,padding:m}=this.props,h=VC(Cs(Cs({},this.props),{},{ticks:a}),r,s),f=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Si(this.props),b=Pr(o,!1),w=Cs(Cs({},v),{},{fill:"none"},Pr(n,!1)),y=h.map((N,C)=>{var{line:S,tick:k}=this.getTickLineCoord(N),A=Cs(Cs(Cs(Cs({textAnchor:f,verticalAnchor:g},v),{},{stroke:"none",fill:i},b),k),{},{index:C,payload:N,visibleTicksCount:h.length,tickFormatter:l,padding:m});return p.createElement(cs,Cu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Gx(this.props,N,C)),n&&p.createElement("line",Cu({},w,S,{className:Jt("recharts-cartesian-axis-tick-line",Gl(n,"className"))})),o&&oc.renderTickItem(o,A,"".concat(typeof l=="function"?l(N.value,C):N.value).concat(d||"")))});return y.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:r,width:s,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(cs,{className:Jt("recharts-cartesian-axis",n),ref:l=>{if(l){var d=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var m=d[0];if(m){var h=window.getComputedStyle(m).fontSize,f=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),cn.renderCallByParent(this.props))}}qC(oc,"displayName","CartesianAxis");qC(oc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var t0e=["x1","y1","x2","y2","key"],r0e=["offset"],s0e=["xAxisId","yAxisId"],a0e=["xAxisId","yAxisId"];function I3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?I3(Object(s),!0).forEach(function(a){n0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function n0e(e,r,s){return(r=i0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function i0e(e){var r=o0e(e,"string");return typeof r=="symbol"?r:r+""}function o0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vc.apply(null,arguments)}function ex(e,r){if(e==null)return{};var s,a,n=l0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var c0e=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function Y$(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var{x1:a,y1:n,x2:i,y2:o,key:l}=r,d=ex(r,t0e),m=Si(d),{offset:h}=m,f=ex(m,r0e);s=p.createElement("line",Vc({},f,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function d0e(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ex(e,s0e),d=n.map((m,h)=>{var f=xa(xa({},l),{},{x1:r,y1:m,x2:r+s,y2:m,key:"line-".concat(h),index:h});return Y$(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function u0e(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ex(e,a0e),d=n.map((m,h)=>{var f=xa(xa({},l),{},{x1:m,y1:r,x2:m,y2:r+s,key:"line-".concat(h),index:h});return Y$(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function m0e(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!r||!r.length)return null;var m=l.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var v=!m[g+1],b=v?n+o-f:m[g+1]-f;if(b<=0)return null;var w=g%r.length;return p.createElement("rect",{key:"react-".concat(g),y:f,x:a,height:b,width:i,stroke:"none",fill:r[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function h0e(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:o,height:l,verticalPoints:d}=e;if(!r||!s||!s.length)return null;var m=d.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var v=!m[g+1],b=v?n+o-f:m[g+1]-f;if(b<=0)return null;var w=g%s.length;return p.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:b,height:l,stroke:"none",fill:s[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var f0e=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return JL(VC(xa(xa(xa({},oc.defaultProps),s),{},{ticks:XL(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},p0e=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return JL(VC(xa(xa(xa({},oc.defaultProps),s),{},{ticks:XL(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},g0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qi(e){var r=a8(),s=n8(),a=s8(),n=xa(xa({},Ia(e,g0e)),{},{x:Ve(e.x)?e.x:a.left,y:Ve(e.y)?e.y:a.top,width:Ve(e.width)?e.width:a.width,height:Ve(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:m,height:h,syncWithTicks:f,horizontalValues:g,verticalValues:v}=n,b=ja(),w=tt(L=>O5(L,"xAxis",i,b)),y=tt(L=>O5(L,"yAxis",o,b));if(!Ve(m)||m<=0||!Ve(h)||h<=0||!Ve(l)||l!==+l||!Ve(d)||d!==+d)return null;var N=n.verticalCoordinatesGenerator||f0e,C=n.horizontalCoordinatesGenerator||p0e,{horizontalPoints:S,verticalPoints:k}=n;if((!S||!S.length)&&typeof C=="function"){var A=g&&g.length,E=C({yAxis:y?xa(xa({},y),{},{ticks:A?g:y.ticks}):void 0,width:r,height:s,offset:a},A?!0:f);Lh(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(S=E)}if((!k||!k.length)&&typeof N=="function"){var T=v&&v.length,M=N({xAxis:w?xa(xa({},w),{},{ticks:T?v:w.ticks}):void 0,width:r,height:s,offset:a},T?!0:f);Lh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(k=M)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(c0e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),p.createElement(m0e,Vc({},n,{horizontalPoints:S})),p.createElement(h0e,Vc({},n,{verticalPoints:k})),p.createElement(d0e,Vc({},n,{offset:a,horizontalPoints:S,xAxis:w,yAxis:y})),p.createElement(u0e,Vc({},n,{offset:a,verticalPoints:k,xAxis:w,yAxis:y})))}qi.displayName="CartesianGrid";var J$=(e,r,s,a)=>to(e,"xAxis",r,a),X$=(e,r,s,a)=>eo(e,"xAxis",r,a),Q$=(e,r,s,a)=>to(e,"yAxis",s,a),Z$=(e,r,s,a)=>eo(e,"yAxis",s,a),x0e=he([Bt,J$,Q$,X$,Z$],(e,r,s,a,n)=>lo(e,"xAxis")?cd(r,a,!1):cd(s,n,!1)),y0e=(e,r,s,a,n)=>n;function v0e(e){return e.type==="line"}var b0e=he([Bf,y0e],(e,r)=>e.filter(v0e).find(s=>s.id===r)),w0e=he([Bt,J$,Q$,X$,Z$,b0e,x0e,$f],(e,r,s,a,n,i,o,l)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:h}=l;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:f,data:g}=i,v;if(g!=null&&g.length>0?v=g:v=d==null?void 0:d.slice(m,h+1),v!=null)return B0e({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:o,displayedData:v})}}),j0e=["id"],N0e=["type","layout","connectNulls","needClip"],S0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function D3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function mi(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D3(Object(s),!0).forEach(function(a){C0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function C0e(e,r,s){return(r=k0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function k0e(e){var r=_0e(e,"string");return typeof r=="symbol"?r:r+""}function _0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function HC(e,r){if(e==null)return{};var s,a,n=P0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function P0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ud.apply(null,arguments)}var A0e=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:tc(s,r),payload:e}]};function E0e(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:tc(o,r),hide:l,type:e.tooltipType,color:e.stroke,unit:d}}}var ez=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function T0e(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var O0e=(e,r,s)=>{var a=s.reduce((f,g)=>f+g);if(!a)return ez(r,e);for(var n=Math.floor(e/a),i=e%a,o=r-e,l=[],d=0,m=0;d<s.length;m+=s[d],++d)if(m+s[d]>i){l=[...s.slice(0,d),i-m];break}var h=l.length%2===0?[0,o]:[o];return[...T0e(s,n),...l,...h].map(f=>"".concat(f,"px")).join(", ")};function M0e(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Jt("recharts-line-dot",typeof e!="boolean"?e.className:"");s=p.createElement(TC,ud({},r,{className:a}))}return s}function R0e(e,r){return e==null?!1:r?!0:e.length===1}function I0e(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!R0e(s,n))return null;var{id:l}=a,d=HC(a,j0e),m=Yx(n),h=Si(d),f=Pr(n,!0),g=s.map((b,w)=>{var y=mi(mi(mi({key:"dot-".concat(w),r:3},h),f),{},{index:w,cx:b.x,cy:b.y,dataKey:i,value:b.value,payload:b.payload,points:s});return M0e(n,y)}),v={clipPath:o?"url(#clipPath-".concat(m?"":"dots-").concat(r,")"):void 0};return p.createElement(cs,ud({className:"recharts-line-dots",key:"dots"},v),g)}function $1(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i,showLabels:o}=e,{type:l,layout:d,connectNulls:m,needClip:h}=i,f=HC(i,N0e),g=mi(mi({},Pr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:d,connectNulls:m,strokeDasharray:n??i.strokeDasharray});return p.createElement(p.Fragment,null,(a==null?void 0:a.length)>1&&p.createElement(Tu,ud({},g,{pathRef:s})),p.createElement(I0e,{points:a,clipPathId:r,props:i}),o&&Do.renderCallByParent(i,a))}function D0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function L0e(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,animateNewValues:g,width:v,height:b,onAnimationEnd:w,onAnimationStart:y}=s,N=n.current,C=Py(s,"recharts-line-"),[S,k]=p.useState(!1),A=p.useCallback(()=>{typeof w=="function"&&w(),k(!1)},[w]),E=p.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]),T=D0e(a.current),M=i.current;return p.createElement(Ey,{begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:A,onAnimationStart:E,key:C},L=>{var V=ea(M,T+M,L),R=Math.min(V,T),I;if(l){var B="".concat(l).split(/[,\s]+/gim).map(U=>parseFloat(U));I=O0e(R,T,B)}else I=ez(T,R);if(N){var H=N.length/o.length,F=L===1?o:o.map((U,O)=>{var $=Math.floor(O*H);if(N[$]){var W=N[$];return mi(mi({},U),{},{x:ea(W.x,U.x,L),y:ea(W.y,U.y,L)})}return g?mi(mi({},U),{},{x:ea(v*2,U.x,L),y:ea(b/2,U.y,L)}):mi(mi({},U),{},{x:U.x,y:U.y})});return n.current=F,p.createElement($1,{props:s,points:F,clipPathId:r,pathRef:a,showLabels:!S,strokeDasharray:I})}return L>0&&T>0&&(n.current=o,i.current=R),p.createElement($1,{props:s,points:o,clipPathId:r,pathRef:a,showLabels:!S,strokeDasharray:I})})}function $0e(e){var{clipPathId:r,props:s}=e,{points:a,isAnimationActive:n}=s,i=p.useRef(null),o=p.useRef(0),l=p.useRef(null),d=i.current;return n&&a&&a.length&&d!==a?p.createElement(L0e,{props:s,clipPathId:r,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):p.createElement($1,{props:s,points:a,clipPathId:r,pathRef:l,showLabels:!0})}var z0e=(e,r)=>({x:e.x,y:e.y,value:e.value,errorVal:xr(e.payload,r)});class F0e extends p.Component{render(){var r,{hide:s,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:d,left:m,width:h,height:f,id:g,needClip:v}=this.props;if(s)return null;var b=Jt("recharts-line",i),w=g,{r:y=3,strokeWidth:N=2}=(r=Pr(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=Yx(a),S=y*2+N;return p.createElement(p.Fragment,null,p.createElement(cs,{className:b},v&&p.createElement("defs",null,p.createElement(BC,{clipPathId:w,xAxisId:o,yAxisId:l}),!C&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:m-S/2,y:d-S/2,width:h+S,height:f+S}))),p.createElement($0e,{props:this.props,clipPathId:w}),p.createElement(U$,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:z0e,errorBarOffset:0},this.props.children)),p.createElement(D1,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var tz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!rc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function U0e(e){var r=Ia(e,tz),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:m,isAnimationActive:h,label:f,legendType:g,xAxisId:v,yAxisId:b,id:w}=r,y=HC(r,S0e),{needClip:N}=My(v,b),C=Oy(),S=Mf(),k=ja(),A=tt(V=>w0e(V,v,b,k,w));if(S!=="horizontal"&&S!=="vertical"||A==null||C==null)return null;var{height:E,width:T,x:M,y:L}=C;return p.createElement(F0e,ud({},y,{id:w,connectNulls:l,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:h,hide:m,label:f,legendType:g,xAxisId:v,yAxisId:b,points:A,layout:S,height:E,width:T,left:M,top:L,needClip:N}))}function B0e(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((m,h)=>{var f=xr(m,o);if(r==="horizontal"){var g=T0({axis:s,ticks:n,bandSize:l,entry:m,index:h}),v=Ar(f)?null:a.scale(f);return{x:g,y:v,value:f,payload:m}}var b=Ar(f)?null:s.scale(f),w=T0({axis:a,ticks:i,bandSize:l,entry:m,index:h});return b==null||w==null?null:{x:b,y:w,value:f,payload:m}}).filter(Boolean)}function tx(e){var r=Ia(e,tz),s=ja();return p.createElement(Ay,{id:r.id,type:"line"},a=>p.createElement(p.Fragment,null,p.createElement(zC,{legendPayload:A0e(r)}),p.createElement(_y,{fn:E0e,args:r}),p.createElement(FC,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),p.createElement(U0e,ud({},r,{id:a}))))}tx.displayName="Line";var rz=(e,r,s,a)=>to(e,"xAxis",r,a),sz=(e,r,s,a)=>eo(e,"xAxis",r,a),az=(e,r,s,a)=>to(e,"yAxis",s,a),nz=(e,r,s,a)=>eo(e,"yAxis",s,a),W0e=he([Bt,rz,az,sz,nz],(e,r,s,a,n)=>lo(e,"xAxis")?cd(r,a,!1):cd(s,n,!1)),V0e=(e,r,s,a,n)=>n,iz=he([Bf,V0e],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),q0e=(e,r,s,a,n)=>{var i,o=iz(e,r,s,a,n);if(o!=null){var l=Bt(e),d=lo(l,"xAxis"),m;if(d?m=nf(e,"yAxis",s,a):m=nf(e,"xAxis",r,a),m!=null){var{stackId:h}=o,f=yy(o);if(!(h==null||f==null)){var g=(i=m[h])===null||i===void 0?void 0:i.stackedData;return g==null?void 0:g.find(v=>v.key===f)}}}},H0e=he([Bt,rz,az,sz,nz,q0e,$f,W0e,iz],(e,r,s,a,n,i,o,l,d)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:f}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:g}=d,v;if(g&&g.length>0?v=g:v=m==null?void 0:m.slice(h,f+1),v!=null){var b=void 0;return mxe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:d,stackedData:i,displayedData:v,chartBaseValue:b,bandSize:l})}}}),K0e=["id"],G0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function oz(e,r){if(e==null)return{};var s,a,n=Y0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Y0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function L3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qc(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L3(Object(s),!0).forEach(function(a){J0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function J0e(e,r,s){return(r=X0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function X0e(e){var r=Q0e(e,"string");return typeof r=="symbol"?r:r+""}function Q0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Lo.apply(null,arguments)}function rx(e,r){return e&&e!=="none"?e:r}var Z0e=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:rx(a,n),value:tc(s,r),payload:e}]};function exe(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:tc(o,r),hide:l,type:e.tooltipType,color:rx(a,i),unit:d}}}var txe=(e,r)=>{var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Jt("recharts-area-dot",typeof e!="boolean"?e.className:"");s=p.createElement(TC,Lo({},r,{className:a}))}return s};function rxe(e,r){return e==null?!1:r?!0:e.length===1}function sxe(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:o}=a;if(!rxe(s,i))return null;var l=Yx(i),d=Si(a),m=Pr(i,!0),h=s.map((g,v)=>{var b=qc(qc(qc({key:"dot-".concat(v),r:3},d),m),{},{index:v,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:s});return txe(i,b)}),f={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return p.createElement(cs,Lo({className:"recharts-area-dots"},f),h)}function z1(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i,showLabels:o}=e,{layout:l,type:d,stroke:m,connectNulls:h,isRange:f}=i,{id:g}=i,v=oz(i,K0e),b=Si(v);return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(cs,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},p.createElement(Tu,Lo({},b,{id:g,points:r,connectNulls:h,type:d,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),m!=="none"&&p.createElement(Tu,Lo({},b,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:r})),m!=="none"&&f&&p.createElement(Tu,Lo({},b,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:s}))),p.createElement(sxe,{points:r,props:v,clipPathId:n}),o&&Do.renderCallByParent(v,r))}function axe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,o=a[a.length-1].y;if(!ta(i)||!ta(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.x||0));return Ve(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.x||0),d)),Ve(d)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function nxe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,o=a[a.length-1].x;if(!ta(i)||!ta(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.y||0));return Ve(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.y||0),d)),Ve(d)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function ixe(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?p.createElement(axe,{alpha:r,points:a,baseLine:n,strokeWidth:i}):p.createElement(nxe,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function oxe(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,onAnimationStart:g,onAnimationEnd:v}=a,b=Py(a,"recharts-area-"),[w,y]=p.useState(!0),N=p.useCallback(()=>{typeof v=="function"&&v(),y(!1)},[v]),C=p.useCallback(()=>{typeof g=="function"&&g(),y(!0)},[g]),S=n.current,k=i.current;return p.createElement(Ey,{begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:N,onAnimationStart:C,key:b},A=>{if(S){var E=S.length/o.length,T=A===1?o:o.map((L,V)=>{var R=Math.floor(V*E);if(S[R]){var I=S[R];return qc(qc({},L),{},{x:ea(I.x,L.x,A),y:ea(I.y,L.y,A)})}return L}),M;return Ve(l)?M=ea(k,l,A):Ar(l)||Ja(l)?M=ea(k,0,A):M=l.map((L,V)=>{var R=Math.floor(V*E);if(Array.isArray(k)&&k[R]){var I=k[R];return qc(qc({},L),{},{x:ea(I.x,L.x,A),y:ea(I.y,L.y,A)})}return L}),A>0&&(n.current=T,i.current=M),p.createElement(z1,{points:T,baseLine:M,needClip:r,clipPathId:s,props:a,showLabels:!w})}return A>0&&(n.current=o,i.current=l),p.createElement(cs,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(s)},p.createElement(ixe,{alpha:A,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),p.createElement(cs,{clipPath:"url(#animationClipPath-".concat(s,")")},p.createElement(z1,{points:o,baseLine:l,needClip:r,clipPathId:s,props:a,showLabels:!0})))})}function lxe(e){var{needClip:r,clipPathId:s,props:a}=e,{points:n,baseLine:i,isAnimationActive:o}=a,l=p.useRef(null),d=p.useRef(),m=l.current,h=d.current;return o&&n&&n.length&&(m!==n||h!==i)?p.createElement(oxe,{needClip:r,clipPathId:s,props:a,previousPointsRef:l,previousBaselineRef:d}):p.createElement(z1,{points:n,baseLine:i,needClip:r,clipPathId:s,props:a,showLabels:!0})}class cxe extends p.PureComponent{render(){var r,{hide:s,dot:a,points:n,className:i,top:o,left:l,needClip:d,xAxisId:m,yAxisId:h,width:f,height:g,id:v,baseLine:b}=this.props;if(s)return null;var w=Jt("recharts-area",i),y=v,{r:N=3,strokeWidth:C=2}=(r=Pr(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=Yx(a),k=N*2+C;return p.createElement(p.Fragment,null,p.createElement(cs,{className:w},d&&p.createElement("defs",null,p.createElement(BC,{clipPathId:y,xAxisId:m,yAxisId:h}),!S&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:l-k/2,y:o-k/2,width:f+k,height:g+k}))),p.createElement(lxe,{needClip:d,clipPathId:y,props:this.props})),p.createElement(D1,{points:n,mainColor:rx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(b)&&p.createElement(D1,{points:b,mainColor:rx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var lz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!rc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function dxe(e){var r,s=Ia(e,lz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,fill:m,fillOpacity:h,hide:f,isAnimationActive:g,legendType:v,stroke:b,xAxisId:w,yAxisId:y}=s,N=oz(s,G0e),C=Mf(),S=g$(),{needClip:k}=My(w,y),A=ja(),{points:E,isRange:T,baseLine:M}=(r=tt(H=>H0e(H,w,y,A,e.id)))!==null&&r!==void 0?r:{},L=Oy();if(C!=="horizontal"&&C!=="vertical"||L==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:V,width:R,x:I,y:B}=L;return!E||!E.length?null:p.createElement(cxe,Lo({},N,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:M,connectNulls:l,dot:d,fill:m,fillOpacity:h,height:V,hide:f,layout:C,isAnimationActive:g,isRange:T,legendType:v,needClip:k,points:E,stroke:b,width:R,left:I,top:B,xAxisId:w,yAxisId:y}))}var uxe=(e,r,s,a,n)=>{var i=s??r;if(Ve(i))return i;var o=e==="horizontal"?n:a,l=o.scale.domain();if(o.type==="number"){var d=Math.max(l[0],l[1]),m=Math.min(l[0],l[1]);return i==="dataMin"?m:i==="dataMax"||d<0?d:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function mxe(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:d,displayedData:m,dataStartIndex:h,xAxisTicks:f,yAxisTicks:g,bandSize:v}=e,b=n&&n.length,w=uxe(i,o,s,l,d),y=i==="horizontal",N=!1,C=m.map((k,A)=>{var E;b?E=n[h+A]:(E=xr(k,a),Array.isArray(E)?N=!0:E=[w,E]);var T=E[1]==null||b&&!r&&xr(k,a)==null;return y?{x:T0({axis:l,ticks:f,bandSize:v,entry:k,index:A}),y:T?null:d.scale(E[1]),value:E,payload:k}:{x:T?null:l.scale(E[1]),y:T0({axis:d,ticks:g,bandSize:v,entry:k,index:A}),value:E,payload:k}}),S;return b||N?S=C.map(k=>{var A=Array.isArray(k.value)?k.value[0]:null;return y?{x:k.x,y:A!=null&&k.y!=null?d.scale(A):null,payload:k.payload}:{x:A!=null?l.scale(A):null,y:k.y,payload:k.payload}}):S=y?d.scale(w):l.scale(w),{points:C,baseLine:S,isRange:N}}function md(e){var r=Ia(e,lz),s=ja();return p.createElement(Ay,{id:r.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(zC,{legendPayload:Z0e(r)}),p.createElement(_y,{fn:exe,args:r}),p.createElement(FC,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:QL(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),p.createElement(dxe,Lo({},r,{id:a}))))}md.displayName="Area";function $3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function z3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$3(Object(s),!0).forEach(function(a){hxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hxe(e,r,s){return(r=fxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function fxe(e){var r=pxe(e,"string");return typeof r=="symbol"?r:r+""}function pxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var gxe={xAxis:{},yAxis:{},zAxis:{}},cz=vn({name:"cartesianAxis",initialState:gxe,reducers:{addXAxis(e,r){e.xAxis[r.payload.id]=r.payload},removeXAxis(e,r){delete e.xAxis[r.payload.id]},addYAxis(e,r){e.yAxis[r.payload.id]=r.payload},removeYAxis(e,r){delete e.yAxis[r.payload.id]},addZAxis(e,r){e.zAxis[r.payload.id]=r.payload},removeZAxis(e,r){delete e.zAxis[r.payload.id]},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload;e.yAxis[s]&&(e.yAxis[s]=z3(z3({},e.yAxis[s]),{},{width:a}))}}}),{addXAxis:xxe,removeXAxis:yxe,addYAxis:vxe,removeYAxis:bxe,addZAxis:D1e,removeZAxis:L1e,updateYAxisWidth:wxe}=cz.actions,jxe=cz.reducer,Nxe=["children"],Sxe=["dangerouslySetInnerHTML","ticks"];function dz(e,r,s){return(r=Cxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Cxe(e){var r=kxe(e,"string");return typeof r=="symbol"?r:r+""}function kxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},F1.apply(null,arguments)}function uz(e,r){if(e==null)return{};var s,a,n=_xe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _xe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Pxe(e){var r=us(),s=p.useMemo(()=>{var{children:i}=e,o=uz(e,Nxe);return o},[e]),a=tt(i=>Xo(i,s.id)),n=s===a;return p.useEffect(()=>(r(xxe(s)),()=>{r(yxe(s))}),[s,r]),n?e.children:null}var Axe=e=>{var{xAxisId:r,className:s}=e,a=tt(r8),n=ja(),i="xAxis",o=tt(v=>fm(v,i,r,n)),l=tt(v=>Y6(v,i,r,n)),d=tt(v=>q6(v,r)),m=tt(v=>fue(v,r));if(d==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,g=uz(e,Sxe);return p.createElement(oc,F1({},g,{scale:o,x:m.x,y:m.y,width:d.width,height:d.height,className:Jt("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l}))},Exe=e=>{var r,s,a,n,i;return p.createElement(Pxe,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(Axe,e))};class xi extends p.Component{render(){return p.createElement(Exe,this.props)}}dz(xi,"displayName","XAxis");dz(xi,"defaultProps",{allowDataOverflow:an.allowDataOverflow,allowDecimals:an.allowDecimals,allowDuplicatedCategory:an.allowDuplicatedCategory,height:an.height,hide:!1,mirror:an.mirror,orientation:an.orientation,padding:an.padding,reversed:an.reversed,scale:an.scale,tickCount:an.tickCount,type:an.type,xAxisId:0});var Txe=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(r){r.forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=s?s.getBoundingClientRect().width:0,d=n+i,m=o+d+l+(s?a:0);return Math.round(m)}return 0},Oxe=["dangerouslySetInnerHTML","ticks"];function mz(e,r,s){return(r=Mxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mxe(e){var r=Rxe(e,"string");return typeof r=="symbol"?r:r+""}function Rxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},U1.apply(null,arguments)}function Ixe(e,r){if(e==null)return{};var s,a,n=Dxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Lxe(e){var r=us();return p.useEffect(()=>(r(vxe(e)),()=>{r(bxe(e))}),[e,r]),null}var $xe=e=>{var r,{yAxisId:s,className:a,width:n,label:i}=e,o=p.useRef(null),l=p.useRef(null),d=tt(r8),m=ja(),h=us(),f="yAxis",g=tt(S=>fm(S,f,s,m)),v=tt(S=>H6(S,s)),b=tt(S=>pue(S,s)),w=tt(S=>Y6(S,f,s,m));if(p.useLayoutEffect(()=>{var S;if(!(n!=="auto"||!v||EC(i)||p.isValidElement(i))){var k=o.current,A=k==null||(S=k.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:E,tickMargin:T}=k.props,M=Txe({ticks:A,label:l.current,labelGapWithTick:5,tickSize:E,tickMargin:T});Math.round(v.width)!==Math.round(M)&&h(wxe({id:s,width:M}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,v==null?void 0:v.width,v,h,i,s,n]),v==null||b==null)return null;var{dangerouslySetInnerHTML:y,ticks:N}=e,C=Ixe(e,Oxe);return p.createElement(oc,U1({},C,{ref:o,labelRef:l,scale:g,x:b.x,y:b.y,width:v.width,height:v.height,className:Jt("recharts-".concat(f," ").concat(f),a),viewBox:d,ticks:w}))},zxe=e=>{var r,s,a,n,i;return p.createElement(p.Fragment,null,p.createElement(Lxe,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement($xe,e))},Fxe={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,hide:!1,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tickCount:nn.tickCount,type:nn.type,width:nn.width,yAxisId:0};class yi extends p.Component{render(){return p.createElement(zxe,this.props)}}mz(yi,"displayName","YAxis");mz(yi,"defaultProps",Fxe);var Yj={exports:{}},Jj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F3;function Uxe(){if(F3)return Jj;F3=1;var e=Xu();function r(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var s=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Jj.useSyncExternalStoreWithSelector=function(d,m,h,f,g){var v=n(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=o(function(){function y(A){if(!N){if(N=!0,C=A,A=f(A),g!==void 0&&b.hasValue){var E=b.value;if(g(E,A))return S=E}return S=A}if(E=S,s(C,A))return E;var T=f(A);return g!==void 0&&g(E,T)?(C=A,E):(C=A,S=T)}var N=!1,C,S,k=h===void 0?null:h;return[function(){return y(m())},k===null?void 0:function(){return y(k())}]},[m,h,f,g]);var w=a(d,v[0],v[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},Jj}var U3;function Bxe(){return U3||(U3=1,Yj.exports=Uxe()),Yj.exports}Bxe();function Wxe(e){e()}function Vxe(){let e=null,r=null;return{clear(){e=null,r=null},notify(){Wxe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var B3={notify(){},get:()=>[]};function qxe(e,r){let s,a=B3,n=0,i=!1;function o(w){h();const y=a.subscribe(w);let N=!1;return()=>{N||(N=!0,y(),f())}}function l(){a.notify()}function d(){b.onStateChange&&b.onStateChange()}function m(){return i}function h(){n++,s||(s=e.subscribe(d),a=Vxe())}function f(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=B3)}function g(){i||(i=!0,h())}function v(){i&&(i=!1,f())}const b={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:m,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>a};return b}var Hxe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kxe=Hxe(),Gxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Yxe=Gxe(),Jxe=()=>Kxe||Yxe?p.useLayoutEffect:p.useEffect,Xxe=Jxe(),Xj=Symbol.for("react-redux-context"),Qj=typeof globalThis<"u"?globalThis:{};function Qxe(){if(!p.createContext)return{};const e=Qj[Xj]??(Qj[Xj]=new Map);let r=e.get(p.createContext);return r||(r=p.createContext(null),e.set(p.createContext,r)),r}var Zxe=Qxe();function eye(e){const{children:r,context:s,serverState:a,store:n}=e,i=p.useMemo(()=>{const d=qxe(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),o=p.useMemo(()=>n.getState(),[n]);Xxe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=s||Zxe;return p.createElement(l.Provider,{value:i},r)}var tye=eye,rye=(e,r)=>r,KC=he([rye,Bt,j6,Es,d$,Qo,vme,Ps],Sme),GC=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},hz=Hn("mouseClick"),fz=Of();fz.startListening({actionCreator:hz,effect:(e,r)=>{var s=e.payload,a=KC(r.getState(),GC(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(Pue({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var B1=Hn("mouseMove"),pz=Of();pz.startListening({actionCreator:B1,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=wC(a,a.tooltip.settings.shared),i=KC(a,GC(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(s$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(r$()))}});function sye(e,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var W3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},gz=vn({name:"rootProps",initialState:W3,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:W3.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className}}}),aye=gz.reducer,{updateOptions:nye}=gz.actions,xz=vn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:iye}=xz.actions,oye=xz.reducer,yz=Hn("keyDown"),vz=Hn("focus"),YC=Of();YC.startListening({actionCreator:yz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(jC(n,gm(s))),l=Qo(s);if(i==="Enter"){var d=G0(s,"axis","hover",String(n.index));r.dispatch(T1({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var m=vue(s),h=m==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,g=o+f*h;if(!(l==null||g>=l.length||g<0)){var v=G0(s,"axis","hover",String(g));r.dispatch(T1({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});YC.startListening({actionCreator:vz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",o=G0(s,"axis","hover",String(i));r.dispatch(T1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var On=Hn("externalEvent"),bz=Of();bz.startListening({actionCreator:On,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:dme(s),activeDataKey:f$(s),activeIndex:Yl(s),activeLabel:h$(s),activeTooltipIndex:Yl(s),isTooltipActive:ume(s)};e.payload.handler(a,e.payload.reactEvent)}}});var lye=he([pm],e=>e.tooltipItemPayloads),cye=he([lye,qf,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var o=r(i,s);return o}}}),wz=Hn("touchMove"),jz=Of();jz.startListening({actionCreator:wz,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=wC(a,a.tooltip.settings.shared);if(n==="axis"){var i=KC(a,GC({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(s$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=s.touches[0],d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(e8),h=(o=d.getAttribute(t8))!==null&&o!==void 0?o:void 0,f=cye(r.getState(),m,h);r.dispatch(t$({activeDataKey:h,activeIndex:m,activeCoordinate:f}))}}});var dye=CL({brush:Tge,cartesianAxis:jxe,chartData:Fme,errorBars:Ipe,graphicalItems:qfe,layout:Ine,legend:yie,options:Ime,polarAxis:ufe,polarOptions:oye,referenceElements:$ge,rootProps:aye,tooltip:Aue}),uye=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ine({reducer:dye,preloadedState:r,middleware:a=>a({serializableCheck:!1}).concat([fz.middleware,pz.middleware,YC.middleware,bz.middleware,jz.middleware]),devTools:{serialize:{replacer:sye},name:"recharts-".concat(s)}})};function Nz(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=ja(),i=p.useRef(null);if(n)return s;i.current==null&&(i.current=uye(r,a));var o=g2;return p.createElement(tye,{context:o,store:i.current},s)}function Sz(e){var{layout:r,width:s,height:a,margin:n}=e,i=us(),o=ja();return p.useEffect(()=>{o||(i(One(r)),i(Mne({width:s,height:a})),i(Tne(n)))},[i,o,r,s,a,n]),null}function Cz(e){var r=us();return p.useEffect(()=>{r(nye(e))},[r,e]),null}var mye=["children"];function hye(e,r){if(e==null)return{};var s,a,n=fye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sx.apply(null,arguments)}var pye={width:"100%",height:"100%"},gye=p.forwardRef((e,r)=>{var s=a8(),a=n8(),n=c8();if(!qu(s)||!qu(a))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,m,h;return typeof o.tabIndex=="number"?m=o.tabIndex:m=n?0:void 0,typeof o.role=="string"?h=o.role:h=n?"application":void 0,p.createElement(YD,sx({},o,{title:l,desc:d,role:h,tabIndex:m,width:s,height:a,style:pye,ref:r}),i)}),xye=e=>{var{children:r}=e,s=tt(ly);if(!s)return null;var{width:a,height:n,y:i,x:o}=s;return p.createElement(YD,{width:a,height:n,x:o,y:i},r)},V3=p.forwardRef((e,r)=>{var{children:s}=e,a=hye(e,mye),n=ja();return n?p.createElement(xye,null,s):p.createElement(gye,sx({ref:r},a),s)});function yye(){var e=us(),[r,s]=p.useState(null),a=tt(cie);return p.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;ta(i)&&i!==a&&e(Rne(i))}},[r,e,a]),s}function q3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vye(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?q3(Object(s),!0).forEach(function(a){bye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bye(e,r,s){return(r=wye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function wye(e){var r=jye(e,"string");return typeof r=="symbol"?r:r+""}function jye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Nye=p.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:f,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:w,style:y,width:N}=e,C=us(),[S,k]=p.useState(null),[A,E]=p.useState(null);Wme();var T=yye(),M=p.useCallback(Q=>{T(Q),typeof r=="function"&&r(Q),k(Q),E(Q)},[T,r,k,E]),L=p.useCallback(Q=>{C(hz(Q)),C(On({handler:i,reactEvent:Q}))},[C,i]),V=p.useCallback(Q=>{C(B1(Q)),C(On({handler:m,reactEvent:Q}))},[C,m]),R=p.useCallback(Q=>{C(r$()),C(On({handler:h,reactEvent:Q}))},[C,h]),I=p.useCallback(Q=>{C(B1(Q)),C(On({handler:f,reactEvent:Q}))},[C,f]),B=p.useCallback(()=>{C(vz())},[C]),H=p.useCallback(Q=>{C(yz(Q.key))},[C]),F=p.useCallback(Q=>{C(On({handler:o,reactEvent:Q}))},[C,o]),U=p.useCallback(Q=>{C(On({handler:l,reactEvent:Q}))},[C,l]),O=p.useCallback(Q=>{C(On({handler:d,reactEvent:Q}))},[C,d]),$=p.useCallback(Q=>{C(On({handler:g,reactEvent:Q}))},[C,g]),W=p.useCallback(Q=>{C(On({handler:w,reactEvent:Q}))},[C,w]),q=p.useCallback(Q=>{C(wz(Q)),C(On({handler:b,reactEvent:Q}))},[C,b]),z=p.useCallback(Q=>{C(On({handler:v,reactEvent:Q}))},[C,v]);return p.createElement(w$.Provider,{value:S},p.createElement(ase.Provider,{value:A},p.createElement("div",{className:Jt("recharts-wrapper",a),style:vye({position:"relative",cursor:"default",width:N,height:n},y),onClick:L,onContextMenu:F,onDoubleClick:U,onFocus:B,onKeyDown:H,onMouseDown:O,onMouseEnter:V,onMouseLeave:R,onMouseMove:I,onMouseUp:$,onTouchEnd:z,onTouchMove:q,onTouchStart:W,ref:M},s)))}),Sye=["children","className","width","height","style","compact","title","desc"];function Cye(e,r){if(e==null)return{};var s,a,n=kye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var kz=p.forwardRef((e,r)=>{var{children:s,className:a,width:n,height:i,style:o,compact:l,title:d,desc:m}=e,h=Cye(e,Sye),f=Si(h);return l?p.createElement(V3,{otherAttributes:f,title:d,desc:m},s):p.createElement(Nye,{className:a,style:o,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(V3,{otherAttributes:f,title:d,desc:m,ref:r},p.createElement(Fge,null,s)))}),_ye=["width","height"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},W1.apply(null,arguments)}function Pye(e,r){if(e==null)return{};var s,a,n=Aye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Aye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Eye={top:5,right:5,bottom:5,left:5},Tye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eye,reverseStackOrder:!1,syncMethod:"index"},JC=p.forwardRef(function(r,s){var a,n=Ia(r.categoricalChartProps,Tye),{width:i,height:o}=n,l=Pye(n,_ye);if(!qu(i)||!qu(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,categoricalChartProps:g}=r,v={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Nz,{preloadedState:{options:v},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:d},p.createElement(q$,{chartData:g.data}),p.createElement(Sz,{width:i,height:o,layout:n.layout,margin:n.margin}),p.createElement(Cz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(kz,W1({},l,{width:i,height:o,ref:s})))}),Oye=["axis"],_z=p.forwardRef((e,r)=>p.createElement(JC,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oye,tooltipPayloadSearcher:Cy,categoricalChartProps:e,ref:r})),Mye=["axis","item"],XC=p.forwardRef((e,r)=>p.createElement(JC,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mye,tooltipPayloadSearcher:Cy,categoricalChartProps:e,ref:r}));function Rye(e){var r=us();return p.useEffect(()=>{r(iye(e))},[r,e]),null}var Iye=["width","height","layout"];function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},V1.apply(null,arguments)}function Dye(e,r){if(e==null)return{};var s,a,n=Lye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Lye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var $ye={top:5,right:5,bottom:5,left:5},zye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$ye,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Fye=p.forwardRef(function(r,s){var a,n=Ia(r.categoricalChartProps,zye),{width:i,height:o,layout:l}=n,d=Dye(n,Iye);if(!qu(i)||!qu(o))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g}=r,v={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(Nz,{preloadedState:{options:v},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:m},p.createElement(q$,{chartData:n.data}),p.createElement(Sz,{width:i,height:o,layout:l,margin:n.margin}),p.createElement(Cz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Rye,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),p.createElement(kz,V1({width:i,height:o},d,{ref:s})))}),Uye=["item"],Bye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},QC=p.forwardRef((e,r)=>{var s=Ia(e,Bye);return p.createElement(Fye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Uye,tooltipPayloadSearcher:Cy,categoricalChartProps:s,ref:r})}),Wye=["axis"],Ry=p.forwardRef((e,r)=>p.createElement(JC,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wye,tooltipPayloadSearcher:Cy,categoricalChartProps:e,ref:r}));const Vye=[{name:"Summer Sale",success:78},{name:"Product Launch",success:65},{name:"Customer Win-back",success:82},{name:"Holiday Promo",success:91},{name:"Lead Nurture",success:73}],qye=[{id:1,contact:"John Smith",campaign:"Summer Sale",duration:"3:45",status:"completed"},{id:2,contact:"Sarah Johnson",campaign:"Product Launch",duration:"2:30",status:"in-progress"},{id:3,contact:"Mike Davis",campaign:"Customer Win-back",duration:"5:12",status:"completed"},{id:4,contact:"Emily Brown",campaign:"Holiday Promo",duration:"1:55",status:"completed"},{id:5,contact:"David Wilson",campaign:"Lead Nurture",duration:"4:20",status:"missed"}];function Hye(){console.log("Dashboard component rendering...");const{t:e}=yn("dashboard");e("chart_labels.monday"),e("chart_labels.tuesday"),e("chart_labels.wednesday"),e("chart_labels.thursday"),e("chart_labels.friday"),e("chart_labels.saturday"),e("chart_labels.sunday"),e("chart_labels.connected"),e("chart_labels.voicemail"),e("chart_labels.busy"),e("chart_labels.failed");const r=[{date:e("chart_labels.monday"),calls:320},{date:e("chart_labels.tuesday"),calls:450},{date:e("chart_labels.wednesday"),calls:380},{date:e("chart_labels.thursday"),calls:520},{date:e("chart_labels.friday"),calls:480},{date:e("chart_labels.saturday"),calls:350},{date:e("chart_labels.sunday"),calls:290}],s=Nr(),{userContext:a}=ao(),{user:n}=xf();ds();const[i,o]=p.useState(new Date),[l,d]=p.useState("all"),[m,h]=p.useState("all"),[f]=p.useState(8),[g,v]=p.useState(12543),[b,w]=p.useState(72.5),[y,N]=p.useState(1502.34),[C,S]=p.useState(437),[k,A]=p.useState(12.8);p.useEffect(()=>{console.log("Dashboard useEffect running...");const M=setInterval(()=>{o(new Date)},1e3);return()=>clearInterval(M)},[]),p.useEffect(()=>{const M=setInterval(()=>{v(L=>L+Math.floor(Math.random()*3)),w(L=>Math.max(70,Math.min(80,L+(Math.random()-.5)*2))),N(L=>L+Math.random()*.5),S(L=>L+(Math.random()>.7?1:0)),A(L=>Math.max(20,Math.min(30,L+(Math.random()-.5)*1)))},3e4);return()=>clearInterval(M)},[]);const E=[{title:e("stats.total_calls"),value:"12,543",change:"+12.5%",icon:xt,color:"purple"},{title:e("stats.active_campaigns"),value:"24",change:"+3",icon:or,color:"emerald"},{title:e("stats.conversion_rate"),value:"32.8%",change:"+5.2%",icon:Bs,color:"pink"},{title:e("stats.revenue"),value:"$45,231",change:"+18.7%",icon:Fr,color:"blue"}],T=()=>{const M=new Date().getHours();return M<12?e("welcome.good_morning"):M<18?e("welcome.good_afternoon"):e("welcome.good_evening")};return t.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-black",children:t.jsxs("div",{className:"w-full mt-8 space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:e("title")}),t.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[T(),", ",(a==null?void 0:a.firstName)||(n==null?void 0:n.firstName)||e("welcome.default_name"),"!  ",i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(K,{onClick:()=>s("/campaigns"),className:"bg-emerald-600 font-medium text-white transition-all duration-200 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),e("quick_actions.create_campaign")]})})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:E.map(M=>t.jsx(J,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:M.title}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:M.value}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:`text-xs font-medium ${M.change.startsWith("+")?"text-pink-400":"text-red-400"}`,children:M.change}),t.jsx("span",{className:"text-xs text-gray-500",children:e("stats.weekly_growth")})]})]}),t.jsx("div",{className:`rounded-lg border p-3 ${M.color==="purple"?"border-purple-500/20 bg-purple-500/10":M.color==="emerald"?"border-emerald-500/20 bg-emerald-500/10":M.color==="pink"?"border-pink-500/20 bg-pink-500/10":M.color==="blue"?"border-blue-500/20 bg-blue-500/10":"border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(M.icon,{className:`h-5 w-5 ${M.color==="purple"?"text-purple-400":M.color==="emerald"?"text-emerald-400":M.color==="pink"?"text-pink-400":M.color==="blue"?"text-blue-400":"text-gray-300"}`})})]})})},M.title))}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(pe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(xe,{className:"text-lg font-semibold text-white",children:e("charts.call_volume")}),t.jsx(qt,{className:"text-sm text-gray-400",children:e("charts.last_7_days")})]}),t.jsx(X,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(Ry,{data:r,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:0})]})}),t.jsx(qi,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(xi,{dataKey:"date",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(yi,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(zn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#fff"}}),t.jsx(md,{type:"monotone",dataKey:"calls",stroke:"#ec4899",fillOpacity:1,fill:"url(#colorCalls)"})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(pe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(xe,{className:"text-lg font-semibold text-white",children:e("charts.campaign_performance")}),t.jsx(qt,{className:"text-sm text-gray-400",children:e("charts.success_rate_by_campaign")})]}),t.jsx(X,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(XC,{data:Vye,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:.9}),t.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:1})]})}),t.jsx(qi,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(xi,{dataKey:"name",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(yi,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(zn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.9)",border:"1px solid rgba(236, 72, 153, 0.5)",borderRadius:"8px",backdropFilter:"blur(12px)",boxShadow:"0 8px 32px rgba(236, 72, 153, 0.2)"},labelStyle:{color:"#fff"},cursor:{fill:"rgba(236, 72, 153, 0.1)"}}),t.jsx(lf,{dataKey:"success",fill:"url(#barGradient)",radius:[8,8,0,0]})]})})})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsx(pe,{className:"border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-lg font-semibold text-white",children:e("calls.title")}),t.jsx(qt,{className:"text-sm text-gray-400",children:e("recent_activity.title")})]}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>s("/all-calls"),className:"text-gray-400 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:e("recent_activity.view_all")})]})}),t.jsx(X,{className:"p-0",children:t.jsx("div",{className:"divide-y divide-gray-800/30",children:qye.map(M=>t.jsxs("div",{className:"group flex cursor-pointer items-center justify-between px-4 py-3 transition-all duration-200 hover:bg-gray-800/30",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${M.status==="completed"?"border border-pink-500/20 bg-pink-500/10":M.status==="in-progress"?"border border-blue-500/20 bg-blue-500/10":"border border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(xt,{className:`h-4 w-4 ${M.status==="completed"?"text-pink-400":M.status==="in-progress"?"text-blue-400":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:M.contact}),t.jsx("p",{className:"text-xs text-gray-400",children:M.campaign})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-white",children:M.duration}),t.jsx("p",{className:`text-xs ${M.status==="completed"?"text-pink-400":M.status==="in-progress"?"text-blue-400":"text-gray-400"}`,children:M.status==="completed"?e("calls.completed"):M.status==="in-progress"?e("calls.in_progress"):M.status==="missed"?e("calls.missed"):M.status})]}),t.jsx(no,{className:"h-3 w-3 text-gray-500 transition-all duration-200 group-hover:text-gray-300"})]})]},M.id))})})]})]})})}function Gf(e){const r=p.useRef({value:e,previous:e});return p.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Kye=[" ","Enter","ArrowUp","ArrowDown"],Gye=[" ","Enter"],hd="Select",[Iy,Dy,Yye]=bf(hd),[xm,$1e]=qs(hd,[Yye,$x]),Ly=$x(),[Jye,lc]=xm(hd),[Xye,Qye]=xm(hd),Pz=e=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:m,name:h,autoComplete:f,disabled:g,required:v,form:b}=e,w=Ly(r),[y,N]=p.useState(null),[C,S]=p.useState(null),[k,A]=p.useState(!1),E=yd(m),[T,M]=vi({prop:a,defaultProp:n??!1,onChange:i,caller:hd}),[L,V]=vi({prop:o,defaultProp:l,onChange:d,caller:hd}),R=p.useRef(null),I=y?b||!!y.closest("form"):!0,[B,H]=p.useState(new Set),F=Array.from(B).map(U=>U.props.value).join(";");return t.jsx(ER,{...w,children:t.jsxs(Jye,{required:v,scope:r,trigger:y,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:Bi(),value:L,onValueChange:V,open:T,onOpenChange:M,dir:E,triggerPointerDownPosRef:R,disabled:g,children:[t.jsx(Iy.Provider,{scope:r,children:t.jsx(Xye,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{H(O=>new Set(O).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{H(O=>{const $=new Set(O);return $.delete(U),$})},[]),children:s})}),I?t.jsxs(Qz,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:L,onChange:U=>V(U.target.value),disabled:g,form:b,children:[L===void 0?t.jsx("option",{value:""}):null,Array.from(B)]},F):null]})})};Pz.displayName=hd;var Az="SelectTrigger",Ez=p.forwardRef((e,r)=>{const{__scopeSelect:s,disabled:a=!1,...n}=e,i=Ly(s),o=lc(Az,s),l=o.disabled||a,d=ut(r,o.onTriggerChange),m=Dy(s),h=p.useRef("touch"),[f,g,v]=e7(w=>{const y=m().filter(S=>!S.disabled),N=y.find(S=>S.value===o.value),C=t7(y,w,N);C!==void 0&&o.onValueChange(C.value)}),b=w=>{l||(o.onOpenChange(!0),v()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return t.jsx(TR,{asChild:!0,...i,children:t.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Zz(o.value)?"":void 0,...n,ref:d,onClick:Le(n.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&b(w)}),onPointerDown:Le(n.onPointerDown,w=>{h.current=w.pointerType;const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Le(n.onKeyDown,w=>{const y=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(y&&w.key===" ")&&Kye.includes(w.key)&&(b(),w.preventDefault())})})})});Ez.displayName=Az;var Tz="SelectValue",Oz=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=e,d=lc(Tz,s),{onValueNodeHasChildrenChange:m}=d,h=i!==void 0,f=ut(r,d.onValueNodeChange);return ls(()=>{m(h)},[m,h]),t.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:Zz(d.value)?t.jsx(t.Fragment,{children:o}):i})});Oz.displayName=Tz;var Zye="SelectIcon",Mz=p.forwardRef((e,r)=>{const{__scopeSelect:s,children:a,...n}=e;return t.jsx(He.span,{"aria-hidden":!0,...n,ref:r,children:a||""})});Mz.displayName=Zye;var eve="SelectPortal",Rz=e=>t.jsx(Sf,{asChild:!0,...e});Rz.displayName=eve;var fd="SelectContent",Iz=p.forwardRef((e,r)=>{const s=lc(fd,e.__scopeSelect),[a,n]=p.useState();if(ls(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?Jl.createPortal(t.jsx(Dz,{scope:e.__scopeSelect,children:t.jsx(Iy.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Lz,{...e,ref:r})});Iz.displayName=fd;var di=10,[Dz,cc]=xm(fd),tve="SelectContentImpl",rve=nd("SelectContent.RemoveScroll"),Lz=p.forwardRef((e,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:w,avoidCollisions:y,...N}=e,C=lc(fd,s),[S,k]=p.useState(null),[A,E]=p.useState(null),T=ut(r,ke=>k(ke)),[M,L]=p.useState(null),[V,R]=p.useState(null),I=Dy(s),[B,H]=p.useState(!1),F=p.useRef(!1);p.useEffect(()=>{if(S)return FS(S)},[S]),PS();const U=p.useCallback(ke=>{const[Ie,...ce]=I().map(te=>te.ref.current),[Ce]=ce.slice(-1),Te=document.activeElement;for(const te of ke)if(te===Te||(te==null||te.scrollIntoView({block:"nearest"}),te===Ie&&A&&(A.scrollTop=0),te===Ce&&A&&(A.scrollTop=A.scrollHeight),te==null||te.focus(),document.activeElement!==Te))return},[I,A]),O=p.useCallback(()=>U([M,S]),[U,M,S]);p.useEffect(()=>{B&&O()},[B,O]);const{onOpenChange:$,triggerPointerDownPosRef:W}=C;p.useEffect(()=>{if(S){let ke={x:0,y:0};const Ie=Ce=>{var Te,te;ke={x:Math.abs(Math.round(Ce.pageX)-(((Te=W.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((te=W.current)==null?void 0:te.y)??0))}},ce=Ce=>{ke.x<=10&&ke.y<=10?Ce.preventDefault():S.contains(Ce.target)||$(!1),document.removeEventListener("pointermove",Ie),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",ce,{capture:!0})}}},[S,$,W]),p.useEffect(()=>{const ke=()=>$(!1);return window.addEventListener("blur",ke),window.addEventListener("resize",ke),()=>{window.removeEventListener("blur",ke),window.removeEventListener("resize",ke)}},[$]);const[q,z]=e7(ke=>{const Ie=I().filter(Te=>!Te.disabled),ce=Ie.find(Te=>Te.ref.current===document.activeElement),Ce=t7(Ie,ke,ce);Ce&&setTimeout(()=>Ce.ref.current.focus())}),Q=p.useCallback((ke,Ie,ce)=>{const Ce=!F.current&&!ce;(C.value!==void 0&&C.value===Ie||Ce)&&(L(ke),Ce&&(F.current=!0))},[C.value]),Ae=p.useCallback(()=>S==null?void 0:S.focus(),[S]),de=p.useCallback((ke,Ie,ce)=>{const Ce=!F.current&&!ce;(C.value!==void 0&&C.value===Ie||Ce)&&R(ke)},[C.value]),Z=a==="popper"?q1:$z,be=Z===q1?{side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:w,avoidCollisions:y}:{};return t.jsx(Dz,{scope:s,content:S,viewport:A,onViewportChange:E,itemRefCallback:Q,selectedItem:M,onItemLeave:Ae,itemTextRefCallback:de,focusSelectedItem:O,selectedItemText:V,position:a,isPositioned:B,searchRef:q,children:t.jsx(Fx,{as:rve,allowPinchZoom:!0,children:t.jsx(Rx,{asChild:!0,trapped:C.open,onMountAutoFocus:ke=>{ke.preventDefault()},onUnmountAutoFocus:Le(n,ke=>{var Ie;(Ie=C.trigger)==null||Ie.focus({preventScroll:!0}),ke.preventDefault()}),children:t.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ke=>ke.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:t.jsx(Z,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ke=>ke.preventDefault(),...N,...be,onPlaced:()=>H(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Le(N.onKeyDown,ke=>{const Ie=ke.ctrlKey||ke.altKey||ke.metaKey;if(ke.key==="Tab"&&ke.preventDefault(),!Ie&&ke.key.length===1&&z(ke.key),["ArrowUp","ArrowDown","Home","End"].includes(ke.key)){let Ce=I().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ke.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ke.key)){const Te=ke.target,te=Ce.indexOf(Te);Ce=Ce.slice(te+1)}setTimeout(()=>U(Ce)),ke.preventDefault()}})})})})})})});Lz.displayName=tve;var sve="SelectItemAlignedPosition",$z=p.forwardRef((e,r)=>{const{__scopeSelect:s,onPlaced:a,...n}=e,i=lc(fd,s),o=cc(fd,s),[l,d]=p.useState(null),[m,h]=p.useState(null),f=ut(r,T=>h(T)),g=Dy(s),v=p.useRef(!1),b=p.useRef(!0),{viewport:w,selectedItem:y,selectedItemText:N,focusSelectedItem:C}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&m&&w&&y&&N){const T=i.trigger.getBoundingClientRect(),M=m.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(i.dir!=="rtl"){const Te=V.left-M.left,te=L.left-Te,we=T.left-te,Oe=T.width+we,Ue=Math.max(Oe,M.width),ie=window.innerWidth-di,Ge=Yh(te,[di,Math.max(di,ie-Ue)]);l.style.minWidth=Oe+"px",l.style.left=Ge+"px"}else{const Te=M.right-V.right,te=window.innerWidth-L.right-Te,we=window.innerWidth-T.right-te,Oe=T.width+we,Ue=Math.max(Oe,M.width),ie=window.innerWidth-di,Ge=Yh(te,[di,Math.max(di,ie-Ue)]);l.style.minWidth=Oe+"px",l.style.right=Ge+"px"}const R=g(),I=window.innerHeight-di*2,B=w.scrollHeight,H=window.getComputedStyle(m),F=parseInt(H.borderTopWidth,10),U=parseInt(H.paddingTop,10),O=parseInt(H.borderBottomWidth,10),$=parseInt(H.paddingBottom,10),W=F+U+B+$+O,q=Math.min(y.offsetHeight*5,W),z=window.getComputedStyle(w),Q=parseInt(z.paddingTop,10),Ae=parseInt(z.paddingBottom,10),de=T.top+T.height/2-di,Z=I-de,be=y.offsetHeight/2,ke=y.offsetTop+be,Ie=F+U+ke,ce=W-Ie;if(Ie<=de){const Te=R.length>0&&y===R[R.length-1].ref.current;l.style.bottom="0px";const te=m.clientHeight-w.offsetTop-w.offsetHeight,we=Math.max(Z,be+(Te?Ae:0)+te+O),Oe=Ie+we;l.style.height=Oe+"px"}else{const Te=R.length>0&&y===R[0].ref.current;l.style.top="0px";const we=Math.max(de,F+w.offsetTop+(Te?Q:0)+be)+ce;l.style.height=we+"px",w.scrollTop=Ie-de+w.offsetTop}l.style.margin=`${di}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=I+"px",a==null||a(),requestAnimationFrame(()=>v.current=!0)}},[g,i.trigger,i.valueNode,l,m,w,y,N,i.dir,a]);ls(()=>S(),[S]);const[k,A]=p.useState();ls(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const E=p.useCallback(T=>{T&&b.current===!0&&(S(),C==null||C(),b.current=!1)},[S,C]);return t.jsx(nve,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:E,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:t.jsx(He.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});$z.displayName=sve;var ave="SelectPopperPosition",q1=p.forwardRef((e,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=di,...i}=e,o=Ly(s);return t.jsx(OR,{...o,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});q1.displayName=ave;var[nve,ZC]=xm(fd,{}),H1="SelectViewport",zz=p.forwardRef((e,r)=>{const{__scopeSelect:s,nonce:a,...n}=e,i=cc(H1,s),o=ZC(H1,s),l=ut(r,i.onViewportChange),d=p.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Iy.Slot,{scope:s,children:t.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Le(n.onScroll,m=>{const h=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const v=Math.abs(d.current-h.scrollTop);if(v>0){const b=window.innerHeight-di*2,w=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(w,y);if(N<b){const C=N+v,S=Math.min(b,C),k=C-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});zz.displayName=H1;var Fz="SelectGroup",[ive,ove]=xm(Fz),lve=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Bi();return t.jsx(ive,{scope:s,id:n,children:t.jsx(He.div,{role:"group","aria-labelledby":n,...a,ref:r})})});lve.displayName=Fz;var Uz="SelectLabel",Bz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=ove(Uz,s);return t.jsx(He.div,{id:n.id,...a,ref:r})});Bz.displayName=Uz;var ax="SelectItem",[cve,Wz]=xm(ax),Vz=p.forwardRef((e,r)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=e,l=lc(ax,s),d=cc(ax,s),m=l.value===a,[h,f]=p.useState(i??""),[g,v]=p.useState(!1),b=ut(r,C=>{var S;return(S=d.itemRefCallback)==null?void 0:S.call(d,C,a,n)}),w=Bi(),y=p.useRef("touch"),N=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(cve,{scope:s,value:a,disabled:n,textId:w,isSelected:m,onItemTextChange:p.useCallback(C=>{f(S=>S||((C==null?void 0:C.textContent)??"").trim())},[]),children:t.jsx(Iy.ItemSlot,{scope:s,value:a,disabled:n,textValue:h,children:t.jsx(He.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:b,onFocus:Le(o.onFocus,()=>v(!0)),onBlur:Le(o.onBlur,()=>v(!1)),onClick:Le(o.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:Le(o.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:Le(o.onPointerDown,C=>{y.current=C.pointerType}),onPointerMove:Le(o.onPointerMove,C=>{var S;y.current=C.pointerType,n?(S=d.onItemLeave)==null||S.call(d):y.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,C=>{var S;C.currentTarget===document.activeElement&&((S=d.onItemLeave)==null||S.call(d))}),onKeyDown:Le(o.onKeyDown,C=>{var k;((k=d.searchRef)==null?void 0:k.current)!==""&&C.key===" "||(Gye.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});Vz.displayName=ax;var Eh="SelectItemText",qz=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,...i}=e,o=lc(Eh,s),l=cc(Eh,s),d=Wz(Eh,s),m=Qye(Eh,s),[h,f]=p.useState(null),g=ut(r,N=>f(N),d.onItemTextChange,N=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,N,d.value,d.disabled)}),v=h==null?void 0:h.textContent,b=p.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:y}=m;return ls(()=>(w(b),()=>y(b)),[w,y,b]),t.jsxs(t.Fragment,{children:[t.jsx(He.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jl.createPortal(i.children,o.valueNode):null]})});qz.displayName=Eh;var Hz="SelectItemIndicator",Kz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return Wz(Hz,s).isSelected?t.jsx(He.span,{"aria-hidden":!0,...a,ref:r}):null});Kz.displayName=Hz;var K1="SelectScrollUpButton",Gz=p.forwardRef((e,r)=>{const s=cc(K1,e.__scopeSelect),a=ZC(K1,e.__scopeSelect),[n,i]=p.useState(!1),o=ut(r,a.onScrollButtonChange);return ls(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollTop>0;i(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(Jz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Gz.displayName=K1;var G1="SelectScrollDownButton",Yz=p.forwardRef((e,r)=>{const s=cc(G1,e.__scopeSelect),a=ZC(G1,e.__scopeSelect),[n,i]=p.useState(!1),o=ut(r,a.onScrollButtonChange);return ls(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(Jz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Yz.displayName=G1;var Jz=p.forwardRef((e,r)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=e,i=cc("SelectScrollButton",s),o=p.useRef(null),l=Dy(s),d=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),ls(()=>{var h;const m=l().find(f=>f.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),t.jsx(He.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:Le(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Le(n.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Le(n.onPointerLeave,()=>{d()})})}),dve="SelectSeparator",Xz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return t.jsx(He.div,{"aria-hidden":!0,...a,ref:r})});Xz.displayName=dve;var Y1="SelectArrow",uve=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Ly(s),i=lc(Y1,s),o=cc(Y1,s);return i.open&&o.position==="popper"?t.jsx(MR,{...n,...a,ref:r}):null});uve.displayName=Y1;var mve="SelectBubbleInput",Qz=p.forwardRef(({__scopeSelect:e,value:r,...s},a)=>{const n=p.useRef(null),i=ut(a,n),o=Gf(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(He.select,{...s,style:{...yD,...s.style},ref:i,defaultValue:r})});Qz.displayName=mve;function Zz(e){return e===""||e===void 0}function e7(e){const r=Zr(e),s=p.useRef(""),a=p.useRef(0),n=p.useCallback(o=>{const l=s.current+o;r(l),function d(m){s.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[r]),i=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function t7(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=hve(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function hve(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var fve=Pz,r7=Ez,pve=Oz,gve=Mz,xve=Rz,s7=Iz,yve=zz,a7=Bz,n7=Vz,vve=qz,bve=Kz,i7=Gz,o7=Yz,l7=Xz;const at=fve,nt=pve,rt=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(r7,{ref:a,className:$e("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(gve,{asChild:!0,children:t.jsx(ss,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=r7.displayName;const c7=p.forwardRef(({className:e,...r},s)=>t.jsx(i7,{ref:s,className:$e("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(zG,{className:"h-4 w-4"})}));c7.displayName=i7.displayName;const d7=p.forwardRef(({className:e,...r},s)=>t.jsx(o7,{ref:s,className:$e("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(ss,{className:"h-4 w-4"})}));d7.displayName=o7.displayName;const st=p.forwardRef(({className:e,children:r,position:s="popper",...a},n)=>t.jsx(xve,{children:t.jsxs(s7,{ref:n,className:$e("relative z-[9999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,style:{zIndex:9999},...a,children:[t.jsx(c7,{}),t.jsx(yve,{className:$e("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(d7,{})]})}));st.displayName=s7.displayName;const wve=p.forwardRef(({className:e,...r},s)=>t.jsx(a7,{ref:s,className:$e("px-2 py-1.5 text-sm font-semibold",e),...r}));wve.displayName=a7.displayName;const se=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(n7,{ref:a,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm text-white outline-none hover:bg-gray-700 hover:text-white focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(bve,{children:t.jsx(tm,{className:"h-4 w-4"})})}),t.jsx(vve,{children:r})]}));se.displayName=n7.displayName;const jve=p.forwardRef(({className:e,...r},s)=>t.jsx(l7,{ref:s,className:$e("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));jve.displayName=l7.displayName;const Nve={agency_owner:"Agency Owner",agency_admin:"Agency Admin",agency_user:"Agency User",platform_admin:"Platform Admin",platform_owner:"Platform Owner",client_admin:"Client Admin",client_user:"Client User"};function Sve(){const[e,r]=p.useState([]),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,v]=p.useState("all"),{getToken:b}=Ma(),{toast:w}=ds(),y=async()=>{try{i(!0);const{supabaseService:k}=await Un(async()=>{const{supabaseService:M}=await Promise.resolve().then(()=>ku);return{supabaseService:M}},void 0);console.log(" Fetching users from Supabase...");const{data:A,error:E}=await k.client.from("users").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase response:",{users:A,error:E}),E)throw console.error(" Supabase error details:",{message:E.message,code:E.code,details:E.details,hint:E.hint}),E;const T=(A||[]).map(M=>({id:M.id,email:M.email,first_name:M.first_name||"",last_name:M.last_name||"",role:M.role||"client_user",is_active:M.is_active!==!1,organization_id:M.organization_id,organization_name:"",last_login:M.last_login,created_at:M.created_at,phone:M.phone||"",avatar_url:M.avatar_url||""}));console.log(" Transformed users:",T.length),r(T);try{const{data:M,error:L}=await k.client.from("organizations").select("*").order("name");if(console.log(" Organizations response:",{orgs:M,orgError:L}),!L&&M){a(M);const V=T.map(R=>{const I=M.find(B=>B.id===R.organization_id);return{...R,organization_name:(I==null?void 0:I.name)||""}});r(V)}}catch(M){console.warn(" Failed to fetch organizations:",M)}}catch(k){console.error(" Error fetching users from Supabase:",k),w({title:"Error",description:"Failed to load users from database. Check console for details.",variant:"destructive"}),r([])}finally{i(!1)}};p.useEffect(()=>{y()},[]);const N=async(k,A)=>{try{const{supabaseService:E}=await Un(async()=>{const{supabaseService:M}=await Promise.resolve().then(()=>ku);return{supabaseService:M}},void 0),{error:T}=await E.client.from("users").update(A).eq("id",k);if(T)throw T;await y(),w({title:"Success",description:"User updated successfully"})}catch(E){throw console.error(" Error updating user:",E),w({title:"Error",description:E.message||"Failed to update user. Please try again.",variant:"destructive"}),E}},C=async k=>{try{const{supabaseService:A}=await Un(async()=>{const{supabaseService:T}=await Promise.resolve().then(()=>ku);return{supabaseService:T}},void 0),{error:E}=await A.client.from("users").delete().eq("id",k);if(E)throw E;await y(),w({title:"Success",description:"User deleted successfully"})}catch(A){console.error(" Error deleting user:",A),w({title:"Error",description:A.message||"Failed to delete user. Please try again.",variant:"destructive"})}},S=e.filter(k=>{var L,V,R,I;const A=(((L=k.first_name)==null?void 0:L.toLowerCase())||"").includes(o.toLowerCase())||(((V=k.last_name)==null?void 0:V.toLowerCase())||"").includes(o.toLowerCase())||(((R=k.email)==null?void 0:R.toLowerCase())||"").includes(o.toLowerCase())||(((I=k.organization_name)==null?void 0:I.toLowerCase())||"").includes(o.toLowerCase()),E=d==="all"||k.role===d,T=h==="all"||h==="active"&&k.is_active||h==="inactive"&&!k.is_active,M=g==="all"||k.organization_id===g;return A&&E&&T&&M});return n?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"})}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading users..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),t.jsx("p",{className:"mt-1 text-zinc-400",children:"Manage users and their permissions across your organization"})]}),t.jsxs(K,{onClick:()=>{},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),t.jsx(bt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(k=>k.is_active).length})]}),t.jsx(ql,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Organizations"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(lr,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Admin Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(k=>k.role&&(k.role.includes("admin")||k.role.includes("owner"))).length})]}),t.jsx(xs,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(Pe,{placeholder:"Search users...",value:o,onChange:k=>l(k.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Role"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Roles"}),t.jsx(se,{value:"platform_owner",children:"Platform Owner"}),t.jsx(se,{value:"platform_admin",children:"Platform Admin"}),t.jsx(se,{value:"agency_owner",children:"Agency Owner"}),t.jsx(se,{value:"agency_admin",children:"Agency Admin"}),t.jsx(se,{value:"agency_user",children:"Agency User"})]})]}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(rt,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Status"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"active",children:"Active"}),t.jsx(se,{value:"inactive",children:"Inactive"})]})]}),t.jsxs(at,{value:g,onValueChange:v,children:[t.jsx(rt,{className:"w-48 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Organization"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Organizations"}),s.map(k=>t.jsx(se,{value:k.id,children:k.name},k.id))]})]})]})})}),t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"text-white",children:["Users (",S.length,")"]}),t.jsx(qt,{className:"text-zinc-400",children:"Manage user accounts and permissions"})]}),t.jsx(X,{children:S.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No users found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:S.map(k=>{var A,E;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-600",children:t.jsxs("span",{className:"font-medium text-white",children:[(((A=k.first_name)==null?void 0:A[0])||"").toUpperCase(),(((E=k.last_name)==null?void 0:E[0])||"").toUpperCase()]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("p",{className:"font-medium text-white",children:[k.first_name||""," ",k.last_name||""]}),t.jsx(Ne,{className:`${k.is_active?"bg-green-500":"bg-gray-500"} text-white`,children:k.is_active?"Active":"Inactive"}),t.jsx(Ne,{variant:"outline",className:"border-zinc-600 text-zinc-300",children:Nve[k.role]||k.role})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ta,{className:"mr-1 h-3 w-3"}),k.email]}),k.organization_name&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(lr,{className:"mr-1 h-3 w-3"}),k.organization_name]}),k.phone&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(xt,{className:"mr-1 h-3 w-3"}),k.phone]})]})]})]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",children:t.jsx(Ex,{className:"h-4 w-4"})})}),t.jsxs(qn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Yt,{onClick:()=>{},className:"text-zinc-300 hover:text-white",children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Edit User"]}),t.jsx(Yt,{onClick:()=>N(k.id,{is_active:!k.is_active}),className:"text-zinc-300 hover:text-white",children:k.is_active?t.jsxs(t.Fragment,{children:[t.jsx(GM,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(ql,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(Yt,{onClick:()=>C(k.id),className:"text-red-400 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]},k.id)})})})]})]})}var $y="Tabs",[Cve,z1e]=qs($y,[im]),u7=im(),[kve,e4]=Cve($y),m7=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...m}=e,h=yd(l),[f,g]=vi({prop:a,onChange:n,defaultProp:i??"",caller:$y});return t.jsx(kve,{scope:s,baseId:Bi(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:d,children:t.jsx(He.div,{dir:h,"data-orientation":o,...m,ref:r})})});m7.displayName=$y;var h7="TabsList",f7=p.forwardRef((e,r)=>{const{__scopeTabs:s,loop:a=!0,...n}=e,i=e4(h7,s),o=u7(s);return t.jsx($S,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});f7.displayName=h7;var p7="TabsTrigger",g7=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=e,o=e4(p7,s),l=u7(s),d=v7(o.baseId,a),m=b7(o.baseId,a),h=a===o.value;return t.jsx(zS,{asChild:!0,...l,focusable:!n,active:h,children:t.jsx(He.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:r,onMouseDown:Le(e.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:Le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:Le(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!n&&f&&o.onValueChange(a)})})})});g7.displayName=p7;var x7="TabsContent",y7=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=e,l=e4(x7,s),d=v7(l.baseId,a),m=b7(l.baseId,a),h=a===l.value,f=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(wa,{present:n||h,children:({present:g})=>t.jsx(He.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:m,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});y7.displayName=x7;function v7(e,r){return`${e}-trigger-${r}`}function b7(e,r){return`${e}-content-${r}`}var _ve=m7,w7=f7,j7=g7,N7=y7;const ki=_ve,Jn=p.forwardRef(({className:e,...r},s)=>t.jsx(w7,{ref:s,className:$e("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",e),...r}));Jn.displayName=w7.displayName;const ht=p.forwardRef(({className:e,...r},s)=>t.jsx(j7,{ref:s,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",e),...r}));ht.displayName=j7.displayName;const ft=p.forwardRef(({className:e,...r},s)=>t.jsx(N7,{ref:s,className:$e("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",e),...r}));ft.displayName=N7.displayName;const Pve=[{name:"Sarah Johnson",company:"TechCorp Solutions",role:"VP of Sales",quote:"The campaign automation engine is a game-changer. We set up campaigns that respect time zones, retry failed calls intelligently, and qualify leads automatically. Our sales team now focuses only on hot leads.",results:"340% increase in qualified leads"},{name:"Michael Chen",company:"Digital Marketing Pro",role:"Agency Owner",quote:"The 22 preset qualification fields saved us hours of setup time. Our AI asks the right questions every time, and the automatic lead scoring means we never miss a hot prospect.",results:"5x better conversion rates"},{name:"Emma Rodriguez",company:"Real Estate Masters",role:"Team Lead",quote:"Working hours enforcement and holiday respect features are brilliant. Our campaigns run 24/7 but only call when appropriate. The multi-phone number support handles our volume perfectly.",results:"89% contact rate improvement"}],Ave=[{icon:Hi,title:"Campaign Automation Engine",description:"Fully automated campaign execution with minute-by-minute scheduling, intelligent retry logic, and multi-phone support",highlight:"Runs every 60 seconds",details:["Respects working hours & time zones","Smart retry based on call outcomes","Round-robin phone distribution","Real-time webhook processing"]},{icon:or,title:"AI Lead Qualification",description:"22 preset fields across 9 categories with custom field support and automatic scoring",highlight:"0-100 scoring system",details:["Appointment readiness detection","Budget & timeline extraction","Authority identification","Automatic CRM actions"]},{icon:Us,title:"Real-Time Analytics",description:"Comprehensive campaign monitoring with call outcomes, lead insights, and team performance metrics",highlight:"Live dashboard updates",details:["Campaign performance tracking","Cost analytics per campaign","Lead qualification insights","Team collaboration metrics"]},{icon:YM,title:"Enterprise Integrations",description:"Seamless integration with VAPI.ai, Supabase, webhooks, and your existing tech stack",highlight:"API-first architecture",details:["VAPI.ai voice platform","Webhook event processing","CSV import/export","Clerk authentication"]}],Eve=[{number:"340%",label:"More Qualified Leads",icon:Bs},{number:"5 Min",label:"Setup Time",icon:Rt},{number:"24/7",label:"Never Stops",icon:xs},{number:"2,500+",label:"Happy Businesses",icon:bt}];function Tve(){const[e,r]=p.useState(!1),[s,a]=p.useState(0),{isSignedIn:n}=Ma(),{userContext:i}=ao(),o=Nr();p.useEffect(()=>{const d=()=>a(window.scrollY);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),p.useEffect(()=>{n&&((i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard"))},[n,i,o]);const l=()=>{n?(i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard"):o("/signup")};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[t.jsx("nav",{className:"fixed top-0 z-50 w-full border-b border-slate-700/50 bg-slate-900/80 backdrop-blur-xl",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex h-16 items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:t.jsx(ns,{className:"h-6 w-6 text-white"})}),t.jsx("span",{className:"bg-gradient-to-r from-white to-blue-400 bg-clip-text text-xl font-bold text-transparent",children:"Artificial Media"})]}),t.jsxs("div",{className:"hidden items-center space-x-8 md:flex",children:[t.jsx("a",{href:"#features",className:"text-slate-300 transition-colors hover:text-blue-400",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"text-slate-300 transition-colors hover:text-blue-400",children:"How It Works"}),t.jsx("a",{href:"#testimonials",className:"text-slate-300 transition-colors hover:text-blue-400",children:"Success Stories"}),n?t.jsx(K,{onClick:()=>{(i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard")},className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-purple-700 hover:shadow-xl",children:"Go to Dashboard"}):t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"text-slate-300 transition-colors hover:text-blue-400",onClick:()=>o("/login"),children:"Sign In"}),t.jsx("button",{onClick:()=>o("/signup"),className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-purple-700 hover:shadow-xl",children:"Start Free Trial"})]})]})]})})}),t.jsxs("section",{className:"relative overflow-hidden pb-20 pt-32",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-slate-900/20"}),t.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-blue-500/10 blur-3xl",style:{transform:`translateY(${s*.3}px)`}}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 h-96 w-96 rounded-full bg-purple-500/10 blur-3xl",style:{transform:`translateY(${s*-.2}px)`}})]}),t.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"space-y-8 text-center",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-center space-x-4",children:[t.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(d=>t.jsx(Mo,{className:"h-5 w-5 fill-current text-yellow-400"},d))}),t.jsx("span",{className:"text-slate-300",children:"Trusted by 2,500+ businesses"}),t.jsxs(Ne,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),"340% ROI Average"]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h1",{className:"text-5xl font-bold leading-tight md:text-7xl",children:[t.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Transform Your Sales with"}),t.jsx("br",{}),t.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"AI Voice Automation"})]}),t.jsxs("p",{className:"mx-auto max-w-3xl text-xl leading-relaxed text-slate-300 md:text-2xl",children:["Complete campaign automation, intelligent lead qualification, and 24/7 AI calling - all managed from one powerful platform. ",t.jsx("span",{className:"font-semibold text-blue-400",children:"340% more qualified leads"})," ","with enterprise-grade automation."]})]}),t.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[t.jsxs(K,{onClick:l,className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 text-lg font-semibold text-white shadow-xl transition-all duration-200 hover:scale-105 hover:from-blue-700 hover:to-purple-700 hover:shadow-2xl",children:["Start Free 14-Day Trial",t.jsx(RN,{className:"ml-2 h-5 w-5"})]}),t.jsxs(K,{variant:"outline",onClick:()=>r(!0),className:"rounded-xl border-slate-600 px-8 py-4 text-lg font-semibold text-slate-300 transition-all duration-200 hover:bg-slate-800",children:[t.jsx(Bn,{className:"mr-2 h-5 w-5"}),"Watch 2-Min Demo"]})]}),t.jsxs("div",{className:"mt-12 border-t border-slate-700/50 pt-8",children:[t.jsx("p",{className:"mb-6 text-sm text-slate-400",children:"No credit card required  Setup in 5 minutes  Cancel anytime"}),t.jsx("div",{className:"mt-8 grid grid-cols-2 gap-8 md:grid-cols-4",children:Eve.map((d,m)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-2 flex items-center justify-center",children:t.jsx(d.icon,{className:"mr-2 h-6 w-6 text-blue-400"})}),t.jsx("div",{className:"text-2xl font-bold text-white md:text-3xl",children:d.number}),t.jsx("div",{className:"text-sm text-slate-400",children:d.label})]},m))})]})]})})]}),t.jsx("section",{className:"bg-slate-800/50 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"See Artificial Media AI in Action"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Watch how our AI qualifies leads in real-time"})]}),t.jsx("div",{className:"mx-auto max-w-4xl",children:t.jsx(J,{className:"overflow-hidden border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-0",children:[t.jsx("div",{className:"border-b border-slate-700 bg-gradient-to-r from-green-500/20 to-blue-500/20 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-green-400"}),t.jsx("span",{className:"font-medium text-green-400",children:"AI Qualification in Progress"})]}),t.jsx(Ne,{className:"bg-green-500/20 text-green-400",children:"Active"})]})}),t.jsxs("div",{className:"space-y-4 p-6",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:"AI"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-white",children:`"Hi John, I noticed you downloaded our guide on sales automation. I'm calling to see if you're still looking to improve your outbound calling results?"`})})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-600",children:t.jsx(bt,{className:"h-4 w-4 text-white"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-slate-300",children:`"Yes, we're actually struggling with our cold calling team. We make about 500 calls per day but our conversion rate is only 2%..."`})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 rounded-lg bg-slate-800/50 p-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:"2:34"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Duration"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-green-400",children:"Positive"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Sentiment"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-blue-400",children:"85/100"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Lead Score"})]})]}),t.jsxs("div",{className:"mt-4 space-x-2",children:[t.jsx(Ne,{className:"bg-green-500/20 text-green-400",children:"Budget: Qualified"}),t.jsx(Ne,{className:"bg-blue-500/20 text-blue-400",children:"Authority: Decision Maker"}),t.jsx(Ne,{className:"bg-purple-500/20 text-purple-400",children:"Timeline: This Quarter"})]})]})]})})})]})}),t.jsx("section",{id:"features",className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Enterprise-Grade AI Sales Automation"}),t.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-300",children:"Complete campaign automation with intelligent lead qualification, powered by cutting-edge AI technology and enterprise integrations."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:Ave.map((d,m)=>t.jsx(J,{className:"group border-slate-700 bg-slate-800/50 transition-all duration-200 hover:bg-slate-800/70",children:t.jsx(X,{className:"p-8",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 transition-transform duration-200 group-hover:scale-110",children:t.jsx(d.icon,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:d.title}),t.jsx("p",{className:"mb-3 text-slate-300",children:d.description}),t.jsx(Ne,{className:"mb-3 bg-blue-500/20 text-blue-400",children:d.highlight}),d.details&&t.jsx("ul",{className:"space-y-1 text-sm text-slate-400",children:d.details.map((h,f)=>t.jsxs("li",{className:"flex items-center",children:[t.jsx(yt,{className:"mr-2 h-3 w-3 text-green-400"}),h]},f))})]})]})})},m))})]})}),t.jsx("section",{id:"how-it-works",className:"bg-slate-800/30 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"How Our AI Automation Works"}),t.jsx("p",{className:"text-lg text-slate-300",children:"From campaign creation to qualified leads in your CRM"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[{step:"1",title:"Create Campaign",description:"Set up your campaign with working hours, phone numbers, and retry logic. Upload contacts via CSV.",icon:os},{step:"2",title:"AI Starts Calling",description:"Our automation engine runs every minute, respecting time zones and business hours automatically.",icon:xt},{step:"3",title:"Qualify Leads",description:"AI extracts 22+ qualification fields, scores leads 0-100, and triggers CRM actions instantly.",icon:or},{step:"4",title:"Review & Close",description:"Hot leads appear in your dashboard. Focus on closing while AI handles the qualifying.",icon:Bs}].map((d,m)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600",children:t.jsx(d.icon,{className:"h-8 w-8 text-white"})}),t.jsxs("div",{className:"mb-2 text-2xl font-bold text-blue-400",children:["Step ",d.step]}),t.jsx("h3",{className:"mb-3 text-xl font-semibold text-white",children:d.title}),t.jsx("p",{className:"text-slate-300",children:d.description})]},m))})]})}),t.jsx("section",{className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"AI That Knows What to Ask"}),t.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-300",children:"22 preset qualification fields across 9 categories, plus unlimited custom fields. Our AI extracts the data that matters for your sales process."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[{category:"Appointment Readiness",icon:_s,fields:["Meeting Interest","Preferred Time","Calendar Availability"],color:"from-green-500 to-emerald-600"},{category:"Budget & Authority",icon:Fr,fields:["Budget Range","Decision Maker","Approval Process"],color:"from-blue-500 to-cyan-600"},{category:"Timeline & Urgency",icon:Rt,fields:["Purchase Timeline","Current Solution","Pain Points"],color:"from-purple-500 to-pink-600"},{category:"Company Details",icon:lr,fields:["Company Size","Industry","Department"],color:"from-orange-500 to-red-600"},{category:"Contact Information",icon:ql,fields:["Email Confirmation","Best Contact Time","Preferred Channel"],color:"from-teal-500 to-blue-600"},{category:"Interest Level",icon:or,fields:["Product Interest","Feature Requirements","Use Case"],color:"from-indigo-500 to-purple-600"}].map((d,m)=>t.jsxs(J,{className:"border-slate-700 bg-slate-800/50",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r ${d.color}`,children:t.jsx(d.icon,{className:"h-5 w-5 text-white"})}),t.jsx(xe,{className:"text-lg text-white",children:d.category})]})}),t.jsx(X,{children:t.jsx("ul",{className:"space-y-2",children:d.fields.map((h,f)=>t.jsxs("li",{className:"flex items-center text-sm text-slate-300",children:[t.jsx(DN,{className:"mr-2 h-4 w-4 text-green-400"}),h]},f))})})]},m))}),t.jsxs("div",{className:"mt-12 text-center",children:[t.jsx("p",{className:"mb-4 text-slate-300",children:"Plus custom fields specific to your business needs"}),t.jsxs(Ne,{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400",children:[t.jsx(zo,{className:"mr-1 h-4 w-4"}),"AI automatically detects and extracts all fields during conversations"]})]})]})}),t.jsx("section",{className:"bg-slate-800/30 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Powerful Platform Views"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Everything you need to manage campaigns, track performance, and close deals"})]}),t.jsxs(ki,{defaultValue:"campaigns",className:"w-full",children:[t.jsxs(Jn,{className:"grid w-full grid-cols-4 bg-slate-800",children:[t.jsx(ht,{value:"campaigns",className:"data-[state=active]:bg-slate-700",children:"Campaign Dashboard"}),t.jsx(ht,{value:"qualification",className:"data-[state=active]:bg-slate-700",children:"Lead Qualification"}),t.jsx(ht,{value:"analytics",className:"data-[state=active]:bg-slate-700",children:"Analytics"}),t.jsx(ht,{value:"team",className:"data-[state=active]:bg-slate-700",children:"Team Management"})]}),t.jsx(ft,{value:"campaigns",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Active Campaigns"}),t.jsx(Ne,{className:"bg-green-500/20 text-green-400",children:"Live"})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-white",children:"Q1 Outreach Campaign"}),t.jsx("span",{className:"text-sm text-slate-400",children:"2,450 / 5,000 calls"})]}),t.jsx("div",{className:"mb-2 h-2 overflow-hidden rounded-full bg-slate-700",children:t.jsx("div",{className:"h-full w-[49%] bg-gradient-to-r from-blue-500 to-purple-600"})}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-green-400",children:"342 Qualified Leads"}),t.jsx("span",{className:"text-slate-400",children:"Running 9am-5pm EST"})]})]})})]})})}),t.jsx(ft,{value:"qualification",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Lead Review Queue"}),t.jsx("div",{className:"space-y-3",children:[{name:"John Smith",score:92,company:"TechCorp",status:"Hot Lead"},{name:"Sarah Johnson",score:85,company:"StartupXYZ",status:"Qualified"},{name:"Mike Chen",score:78,company:"Digital Pro",status:"Interested"}].map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsx("p",{className:"text-sm text-slate-400",children:d.company})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Ne,{className:`${d.score>=90?"bg-green-500/20 text-green-400":d.score>=80?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:["Score: ",d.score,"/100"]}),t.jsx(Ne,{variant:"outline",children:d.status})]})]},m))})]})})}),t.jsx(ft,{value:"analytics",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Campaign Performance"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(ba,{className:"mx-auto mb-2 h-8 w-8 text-blue-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"12,543"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Total Calls"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(or,{className:"mx-auto mb-2 h-8 w-8 text-green-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"1,247"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Qualified Leads"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(Bs,{className:"mx-auto mb-2 h-8 w-8 text-purple-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"9.9%"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Conversion Rate"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(Fr,{className:"mx-auto mb-2 h-8 w-8 text-yellow-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"$0.42"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Cost per Lead"})]})]})]})})}),t.jsx(ft,{value:"team",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Team Performance"}),t.jsx("div",{className:"space-y-3",children:[{name:"Sales Team A",campaigns:3,leads:423,performance:"+12%"},{name:"Sales Team B",campaigns:2,leads:312,performance:"+8%"},{name:"Sales Team C",campaigns:4,leads:567,performance:"+15%"}].map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsxs("p",{className:"text-sm text-slate-400",children:[d.campaigns," active campaigns"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-white",children:d.leads}),t.jsx("p",{className:"text-sm text-slate-400",children:"Leads Generated"})]}),t.jsx(Ne,{className:"bg-green-500/20 text-green-400",children:d.performance})]})]},m))})]})})})]})]})}),t.jsx("section",{id:"testimonials",className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Success Stories"}),t.jsx("p",{className:"text-lg text-slate-300",children:"See how businesses are transforming their sales with Apex AI"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:Pve.map((d,m)=>t.jsx(J,{className:"border-slate-700 bg-slate-800/50",children:t.jsxs(X,{className:"p-8",children:[t.jsx("div",{className:"mb-4 flex items-center space-x-1",children:[1,2,3,4,5].map(h=>t.jsx(Mo,{className:"h-4 w-4 fill-current text-yellow-400"},h))}),t.jsxs("p",{className:"mb-6 italic text-slate-300",children:['"',d.quote,'"']}),t.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[t.jsx("div",{className:"font-semibold text-white",children:d.name}),t.jsx("div",{className:"text-sm text-slate-400",children:d.role}),t.jsx("div",{className:"text-sm text-slate-400",children:d.company}),t.jsx(Ne,{className:"mt-2 bg-green-500/20 text-green-400",children:d.results})]})]})},m))})]})}),t.jsx("section",{className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Enterprise-Ready Features"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Built for scale, security, and compliance from day one"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[{icon:Aa,title:"Time Zone Intelligence",description:"Automatically respects contact time zones and business hours across the globe",features:["DST aware","Holiday detection","Working hours enforcement"]},{icon:as,title:"Smart Retry Logic",description:"Intelligent retry strategies based on call outcomes and lead behavior",features:["No answer retry","Busy signal handling","Custom retry intervals"]},{icon:xs,title:"Enterprise Security",description:"Bank-level security with complete data isolation and encryption",features:["SOC 2 compliant","GDPR ready","Role-based access"]},{icon:YM,title:"Real-time Webhooks",description:"Instant notifications for every call event and lead update",features:["Call started/ended","Lead qualified","Custom events"]},{icon:bt,title:"Team Collaboration",description:"Built for teams with role management and performance tracking",features:["Multi-tenant","Team analytics","Permission controls"]},{icon:Ax,title:"Data Management",description:"Powerful data handling with import, export, and backup capabilities",features:["CSV import/export","API access","Automated backups"]}].map((d,m)=>t.jsx(J,{className:"border-slate-700 bg-slate-800/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-slate-700 to-slate-600",children:t.jsx(d.icon,{className:"h-6 w-6 text-white"})}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:d.title}),t.jsx("p",{className:"mb-4 text-sm text-slate-300",children:d.description}),t.jsx("ul",{className:"space-y-1",children:d.features.map((h,f)=>t.jsxs("li",{className:"flex items-center text-sm text-slate-400",children:[t.jsx(yt,{className:"mr-2 h-3 w-3 text-green-400"}),h]},f))})]})},m))})]})}),t.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 py-20",children:t.jsxs("div",{className:"mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Ready to Transform Your Sales?"}),t.jsx("p",{className:"mb-8 text-lg text-slate-300",children:"Join 2,500+ businesses using Artificial Media to automate their sales calls, qualify leads intelligently, and close more deals."}),t.jsxs(K,{onClick:l,className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 text-lg font-semibold text-white shadow-xl transition-all duration-200 hover:scale-105 hover:from-blue-700 hover:to-purple-700 hover:shadow-2xl",children:["Start Your Free 14-Day Trial",t.jsx(RN,{className:"ml-2 h-5 w-5"})]}),t.jsx("p",{className:"mt-4 text-sm text-slate-400",children:"No credit card required  5-minute setup  14-day free trial  Cancel anytime"}),t.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-8",children:[t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(xs,{className:"mr-2 h-5 w-5 text-green-400"}),t.jsx("span",{children:"GDPR Compliant"})]}),t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(Rt,{className:"mr-2 h-5 w-5 text-blue-400"}),t.jsx("span",{children:"24/7 Support"})]}),t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(Aa,{className:"mr-2 h-5 w-5 text-purple-400"}),t.jsx("span",{children:"Global Coverage"})]})]})]})}),t.jsx("footer",{className:"border-t border-slate-700 bg-slate-900 py-12",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-purple-600",children:t.jsx(ns,{className:"h-5 w-5 text-white"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"Artificial Media"})]}),t.jsxs("div",{className:"text-sm text-slate-400",children:[" 2025 Artificial Media. All rights reserved. | ",t.jsx("a",{href:"https://artificialmedia.co.uk",className:"text-blue-400 hover:text-blue-300",children:"artificialmedia.co.uk"})]})]})})}),e&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:t.jsxs("div",{className:"relative aspect-video w-full max-w-4xl rounded-xl bg-slate-900",children:[t.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 z-10 text-white hover:text-slate-300",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"flex h-full w-full items-center justify-center",children:t.jsx("p",{className:"text-white",children:"Demo video would be embedded here"})})]})})]})}function Ove(){const[e,r]=p.useState("enterprise"),a={current:{clients:5,monthlyRevenue:2995,annualRevenue:35940,infrastructureCost:150,profitMargin:95,supportTickets:25,serverLoad:15,responseTime:180},growth:{clients:50,monthlyRevenue:29950,annualRevenue:359400,infrastructureCost:2500,profitMargin:92,supportTickets:150,serverLoad:45,responseTime:220},enterprise:{clients:500,monthlyRevenue:324750,annualRevenue:3897e3,infrastructureCost:15e3,profitMargin:85,supportTickets:1200,serverLoad:75,responseTime:150}}[e],n=[{name:"Load Balancers",current:"$50/month",growth:"$200/month",enterprise:"$800/month",description:"Distribute traffic across multiple servers"},{name:"Database Cluster",current:"$100/month",growth:"$800/month",enterprise:"$4,000/month",description:"Sharded PostgreSQL with read replicas"},{name:"Application Servers",current:"$150/month",growth:"$800/month",enterprise:"$6,000/month",description:"Auto-scaling Node.js containers"},{name:"CDN & Storage",current:"$30/month",growth:"$200/month",enterprise:"$1,500/month",description:"Global content delivery network"},{name:"Monitoring & Logs",current:"$20/month",growth:"$150/month",enterprise:"$800/month",description:"Real-time monitoring and alerting"},{name:"Security & Compliance",current:"$50/month",growth:"$350/month",enterprise:"$1,900/month",description:"WAF, DDoS protection, SOC 2"}],i=[{role:"Support Team",current:1,growth:3,enterprise:12,salary:6e4,description:"24/7 customer support coverage"},{role:"DevOps Engineers",current:0,growth:1,enterprise:3,salary:14e4,description:"Infrastructure and deployment management"},{role:"Backend Developers",current:1,growth:2,enterprise:5,salary:12e4,description:"Platform development and optimization"},{role:"Sales Team",current:0,growth:2,enterprise:8,salary:8e4,description:"Client acquisition and account management"},{role:"Customer Success",current:0,growth:1,enterprise:4,salary:75e3,description:"Client onboarding and retention"}],o=[{plan:"Starter",price:299,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*299},{plan:"Professional",price:599,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*599},{plan:"Enterprise",price:1299,clients:Math.floor(a.clients*.2),total:Math.floor(a.clients*.2)*1299}];return t.jsx("div",{className:"bg-gray-950 p-4 lg:p-8",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-semibold text-white lg:text-3xl",children:[t.jsx(aY,{className:"h-6 w-6 text-emerald-500 lg:h-8 lg:w-8"}),"Scale Architecture: 500+ Clients"]}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Enterprise-grade infrastructure for massive scale"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[t.jsx(K,{variant:e==="current"?"default":"outline",onClick:()=>r("current"),className:`text-sm ${e==="current"?"bg-emerald-600":""}`,size:"sm",children:"Current (5)"}),t.jsx(K,{variant:e==="growth"?"default":"outline",onClick:()=>r("growth"),className:`text-sm ${e==="growth"?"bg-emerald-600":""}`,size:"sm",children:"Growth (50)"}),t.jsx(K,{variant:e==="enterprise"?"default":"outline",onClick:()=>r("enterprise"),className:`text-sm ${e==="enterprise"?"bg-emerald-600":""}`,size:"sm",children:"Enterprise (500+)"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 lg:gap-6",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.monthlyRevenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:["$",(a.monthlyRevenue/a.clients).toFixed(0)," per client"]})]}),t.jsx(Fr,{className:"h-6 w-6 flex-shrink-0 text-green-500 lg:h-8 lg:w-8"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Annual Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",(a.annualRevenue/1e6).toFixed(1),"M"]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[a.profitMargin,"% profit margin"]})]}),t.jsx(Bs,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Infrastructure Cost"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.infrastructureCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-orange-400",children:["$",(a.infrastructureCost/a.clients).toFixed(0)," per client"]})]}),t.jsx(s0,{className:"h-6 w-6 flex-shrink-0 text-blue-500 lg:h-8 lg:w-8"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Profit"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",((a.monthlyRevenue-a.infrastructureCost)/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"After infrastructure costs"})]}),t.jsx(or,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})})]}),t.jsxs(ki,{defaultValue:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(Jn,{className:"grid h-auto w-full grid-cols-5",children:[t.jsx(ht,{value:"infrastructure",className:"text-xs lg:text-sm",children:"Infrastructure"}),t.jsx(ht,{value:"revenue",className:"text-xs lg:text-sm",children:"Revenue Model"}),t.jsx(ht,{value:"team",className:"text-xs lg:text-sm",children:"Team Scaling"}),t.jsx(ht,{value:"automation",className:"text-xs lg:text-sm",children:"Automation"}),t.jsx(ht,{value:"roadmap",className:"text-xs lg:text-sm",children:"Roadmap"})]}),t.jsxs(ft,{value:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-4",children:t.jsx(xe,{className:"text-lg text-white lg:text-xl",children:"Infrastructure Components"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:n.map((l,d)=>t.jsxs("div",{className:"flex flex-col gap-2 rounded-lg bg-gray-800 p-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.name}),t.jsx("p",{className:"mt-1 text-xs text-gray-400 lg:text-sm",children:l.description})]}),t.jsx("div",{className:"flex-shrink-0 text-left sm:text-right",children:t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise]})})]},d))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-3",children:t.jsxs(xe,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(Ax,{className:"h-4 w-4 text-blue-500 lg:h-5 lg:w-5"}),"Database Strategy"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Sharding"}),t.jsx(Ne,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e==="enterprise"?"Required":"Optional"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Read Replicas"}),t.jsx(Ne,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Not Needed"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Connection Pooling"}),t.jsx(Ne,{className:"bg-green-500/20 text-xs text-green-400",children:"Required"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-3",children:t.jsxs(xe,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(WG,{className:"h-4 w-4 text-emerald-500 lg:h-5 lg:w-5"}),"Auto-Scaling"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Horizontal Scaling"}),t.jsx(Ne,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Essential":"Planned"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Load Balancing"}),t.jsx(Ne,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Future"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"CDN"}),t.jsx(Ne,{className:"bg-green-500/20 text-xs text-green-400",children:"Global"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-3",children:t.jsxs(xe,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(xs,{className:"h-4 w-4 text-red-500 lg:h-5 lg:w-5"}),"Security & Compliance"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"SOC 2 Type II"}),t.jsx(Ne,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Required":"In Progress"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"GDPR Compliance"}),t.jsx(Ne,{className:"bg-green-500/20 text-xs text-green-400",children:"Compliant"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"WAF & DDoS"}),t.jsx(Ne,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Protected":"Basic"})]})]})]})]})]}),t.jsx(ft,{value:"revenue",className:"space-y-4 lg:space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-4",children:t.jsx(xe,{className:"text-lg text-white lg:text-xl",children:"Revenue Breakdown"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.plan}),t.jsxs("p",{className:"text-xs text-gray-400 lg:text-sm",children:[l.clients," clients"]})]}),t.jsxs("div",{className:"flex-shrink-0 text-right",children:[t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:["$",l.total.toLocaleString(),"/mo"]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["$",l.price,"/client"]})]})]},d))})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-4",children:t.jsx(xe,{className:"text-lg text-white lg:text-xl",children:"Growth Projections"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 1 Target"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$3.9M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 2 Projection"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"1,200 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$9.4M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 3 Vision"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"2,500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$19.5M Annual Revenue"})]})]})})]})]})}),t.jsx(ft,{value:"team",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Team Scaling Requirements"})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:i.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:l.role}),t.jsx("p",{className:"text-sm text-gray-400",children:l.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-emerald-400",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise," people"]}),t.jsxs("p",{className:"text-sm text-gray-400",children:["$",(l.salary/1e3).toFixed(0),"K avg salary"]})]})]},d))})})]})}),t.jsx(ft,{value:"automation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Client Onboarding Automation"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Self-service signup flow"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic VAPI account setup"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Rt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Guided assistant creation"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Rt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Automated billing setup"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Support Automation"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"AI chatbot for tier 1 support"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic ticket routing"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Rt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Knowledge base integration"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Rt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Proactive issue detection"})]})]})]})]})}),t.jsx(ft,{value:"roadmap",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Q1 2024 (0-50 Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Core platform launch"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Support ticketing system"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Stripe billing integration"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Basic monitoring setup"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Q2-Q3 2024 (50-200 Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Database sharding"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Load balancer deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Auto-scaling implementation"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Advanced monitoring"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Q4 2024 (200-500+ Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ns,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Microservices architecture"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ns,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Global CDN deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ns,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"SOC 2 compliance"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ns,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Enterprise white-labeling"})]})]})]})]})})]}),t.jsxs(J,{className:"border-emerald-500/30 bg-gradient-to-r from-emerald-500/10 to-blue-500/10",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:" Next Steps for 500+ Client Scale"})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-emerald-400",children:"Immediate Actions (This Month)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:" Deploy to production (Vercel + Supabase Pro)"}),t.jsx("li",{children:" Implement Stripe billing automation"}),t.jsx("li",{children:" Set up monitoring with DataDog/New Relic"}),t.jsx("li",{children:" Create client onboarding automation"}),t.jsx("li",{children:" Establish support ticket workflows"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-blue-400",children:"Scale Preparation (Next 3 Months)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:" Design database sharding strategy"}),t.jsx("li",{children:" Implement horizontal auto-scaling"}),t.jsx("li",{children:" Hire DevOps engineer"}),t.jsx("li",{children:" Build enterprise white-label features"}),t.jsx("li",{children:" Start SOC 2 compliance process"})]})]})]})})]})]})})}const Ha=p.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:$e("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:s,...r}));Ha.displayName="Textarea";function Mve(){const[e,r]=p.useState(null),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState(""),[h,f]=p.useState(!1),g=p.useRef(null),v=[{id:"technical",name:"Technical Support",color:"text-blue-400",icon:ns},{id:"billing",name:"Billing & Payments",color:"text-green-400",icon:Gi},{id:"onboarding",name:"Onboarding",color:"text-emerald-400",icon:bt},{id:"feature",name:"Feature Requests",color:"text-yellow-400",icon:Mo},{id:"emergency",name:"Emergency",color:"text-red-400",icon:va}],[b,w]=p.useState([{id:"TKT-001",organizationName:"TechFlow Solutions",organizationId:"ORG-001",clientEmail:"sarah@techflow.com",clientPhone:"+1 (555) 123-4567",title:"VAPI Integration Not Working - Urgent Campaign Launch",description:"Cannot connect to VAPI API, getting 401 errors consistently. This is blocking our campaign launch.",priority:"high",status:"in-progress",category:"technical",department:"technical",assignedTo:"Mike Torres",createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T14:15:00Z",starred:!0,messages:[{id:"msg-1",author:"Sarah Johnson",authorType:"client",message:"Hi, we're having trouble with our VAPI integration. Getting consistent 401 errors when trying to make calls. This is urgent as we have a campaign launching tomorrow.",timestamp:"2024-01-20T10:30:00Z"},{id:"msg-2",author:"Apex AI Bot",authorType:"ai-bot",message:`I've detected this might be an API key issue. Let me run some diagnostics on your account... 

I found that your VAPI API key appears to be expired. I'm escalating this to our technical team for immediate assistance.`,timestamp:"2024-01-20T10:31:00Z"},{id:"msg-3",author:"Mike Torres",authorType:"support",message:"Hi Sarah! I've taken over this ticket. I can see the API key issue. I'm generating a new VAPI key for your account right now. You should have this resolved within the next 30 minutes.",timestamp:"2024-01-20T14:15:00Z"}]},{id:"TKT-002",organizationName:"Digital Dynamics",organizationId:"ORG-002",clientEmail:"mike@digitaldynamics.com",title:"Billing Inquiry - Duplicate Charge",description:"We were charged twice for our monthly subscription this month",priority:"medium",status:"open",category:"billing",department:"billing",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",messages:[{id:"msg-5",author:"Mike Chen",authorType:"client",message:"Hi, I notice we were charged $1299 twice this month on January 15th. Can you please look into this and process a refund for the duplicate charge?",timestamp:"2024-01-20T09:15:00Z"}]},{id:"TKT-003",organizationName:"Growth Partners",organizationId:"ORG-003",clientEmail:"emma@growthpartners.com",title:"New User Onboarding - Need Help Setting Up",description:"Just signed up for trial, need help with initial setup",priority:"medium",status:"open",category:"account",department:"onboarding",createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T08:00:00Z",messages:[{id:"msg-7",author:"Emma Rodriguez",authorType:"client",message:"Hi team, we just signed up for the trial. Could someone help us with the initial setup? We want to import our leads and set up our first campaign.",timestamp:"2024-01-20T08:00:00Z"}]}]),y={total:b.length,open:b.filter(E=>E.status==="open").length,inProgress:b.filter(E=>E.status==="in-progress").length,resolved:b.filter(E=>E.status==="resolved").length};p.useEffect(()=>{var E;(E=g.current)==null||E.scrollIntoView({behavior:"smooth"})},[e==null?void 0:e.messages]);const N=async()=>{if(!d.trim()||!e)return;const E={id:`msg-${Date.now()}`,author:"Sean Wentz",authorType:"support",message:d,timestamp:new Date().toISOString()};w(T=>T.map(M=>M.id===e.id?{...M,messages:[...M.messages,E],updatedAt:new Date().toISOString()}:M)),m("")},C=E=>{w(T=>T.map(M=>M.id===E?{...M,starred:!M.starred}:M))},S=E=>{switch(E){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},k=E=>{switch(E){case"open":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"waiting":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"closed":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},A=b.filter(E=>{const T=E.title.toLowerCase().includes(s.toLowerCase())||E.organizationName.toLowerCase().includes(s.toLowerCase())||E.description.toLowerCase().includes(s.toLowerCase()),M=n==="all"||E.status===n,L=o==="all"||E.department===o;return T&&M&&L});return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"mb-2 text-4xl font-bold text-white",children:"Support Command Center"}),t.jsx("p",{className:"text-gray-400",children:"Manage tickets across all departments"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(Ne,{className:"border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20 px-4 py-2 text-emerald-400",children:[y.open," Open Tickets"]}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"New Ticket"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:v.map(E=>{const T=E.icon,M=b.filter(L=>L.department===E.id);return t.jsx(J,{className:"cursor-pointer border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(T,{className:`h-5 w-5 ${E.color}`}),t.jsx("span",{className:"text-2xl font-bold text-white",children:M.length})]}),t.jsx("p",{className:"text-sm text-gray-400",children:E.name}),M.filter(L=>L.status==="open").length>0&&t.jsxs("p",{className:"mt-1 text-xs text-orange-400",children:[M.filter(L=>L.status==="open").length," open"]})]})},E.id)})}),t.jsxs("div",{className:"grid h-[800px] grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(J,{className:"h-full overflow-hidden border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(xe,{className:"text-white",children:"Inbox"}),t.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400",children:t.jsx(as,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{placeholder:"Search tickets...",value:s,onChange:E=>a(E.target.value),className:"border-gray-600 bg-gray-700 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(rt,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"open",children:"Open"}),t.jsx(se,{value:"in-progress",children:"In Progress"}),t.jsx(se,{value:"resolved",children:"Resolved"})]})]}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Departments"}),v.map(E=>t.jsx(se,{value:E.id,children:E.name},E.id))]})]})]})]})}),t.jsx(x0,{className:"flex-1",children:t.jsx("div",{className:"divide-y divide-gray-700",children:A.map(E=>{const T=v.find(M=>M.id===E.department);return t.jsxs("div",{onClick:()=>r(E),className:`cursor-pointer p-4 transition-colors hover:bg-gray-700/50 ${(e==null?void 0:e.id)===E.id?"border-l-4 border-emerald-500 bg-gray-700/50":""}`,children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("span",{className:"truncate font-medium text-white",children:E.organizationName}),t.jsxs(Ne,{className:"border-gray-500 bg-gray-600/50 text-xs text-gray-300",children:[t.jsx(HG,{className:"mr-1 h-3 w-3"}),E.id]})]}),t.jsx("p",{className:"truncate text-sm font-medium text-white",children:E.title}),t.jsx("p",{className:"mt-1 truncate text-xs text-gray-400",children:E.description})]}),t.jsx(K,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),C(E.id)},className:"text-gray-400 hover:text-yellow-400",children:t.jsx(Mo,{className:`h-4 w-4 ${E.starred?"fill-yellow-400 text-yellow-400":""}`})})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ne,{className:S(E.priority),children:E.priority}),t.jsx(Ne,{className:k(E.status),children:E.status}),T&&t.jsxs(Ne,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:[t.jsx(T.icon,{className:`mr-1 h-3 w-3 ${T.color}`}),T.name]})]}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(E.updatedAt).toLocaleDateString()})]})]},E.id)})})})]}),t.jsx("div",{className:"lg:col-span-2",children:e?t.jsxs(J,{className:"flex h-full flex-col border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e.title}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(_x,{className:"h-4 w-4"}),e.organizationName]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ta,{className:"h-4 w-4"}),e.clientEmail]}),e.clientPhone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(xt,{className:"h-4 w-4"}),e.clientPhone]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(at,{value:e.status,onValueChange:E=>{w(T=>T.map(M=>M.id===e.id?{...M,status:E}:M))},children:[t.jsx(rt,{className:"w-32 border-gray-600 bg-gray-700",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"open",children:"Open"}),t.jsx(se,{value:"in-progress",children:"In Progress"}),t.jsx(se,{value:"waiting",children:"Waiting"}),t.jsx(se,{value:"resolved",children:"Resolved"}),t.jsx(se,{value:"closed",children:"Closed"})]})]}),t.jsx(K,{variant:"ghost",size:"sm",children:t.jsx(rm,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Ne,{className:S(e.priority),children:[e.priority," priority"]}),t.jsx(Ne,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:e.category}),e.assignedTo&&t.jsxs(Ne,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:["Assigned to ",e.assignedTo]})]})]})}),t.jsx(x0,{className:"flex-1 p-6",children:t.jsxs("div",{className:"space-y-4",children:[e.messages.map(E=>t.jsx("div",{className:`flex ${E.authorType==="support"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${E.authorType==="support"?"border border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20":E.authorType==="ai-bot"?"border border-blue-600/30 bg-blue-600/20":(E.authorType==="system","border border-gray-600 bg-gray-700/50")}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[E.authorType==="ai-bot"&&t.jsx(Hi,{className:"h-4 w-4 text-blue-400"}),E.authorType==="client"&&t.jsx(vs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium text-white",children:E.author}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(E.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"whitespace-pre-wrap text-sm text-gray-200",children:E.message})]})},E.id)),t.jsx("div",{ref:g})]})}),t.jsx("div",{className:"border-t border-gray-700 p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ha,{placeholder:"Type your response...",value:d,onChange:E=>m(E.target.value),className:"resize-none border-gray-600 bg-gray-700 text-white",rows:3,onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),N())}}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(K,{size:"sm",variant:"outline",className:"border-gray-600",children:t.jsx(tY,{className:"h-4 w-4"})}),t.jsx(K,{onClick:N,disabled:!d.trim(),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:t.jsx(Vl,{className:"h-4 w-4"})})]})]})})]}):t.jsx(J,{className:"flex h-full items-center justify-center border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ji,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:"Select a Ticket"}),t.jsx("p",{className:"text-gray-400",children:"Choose a support ticket from the inbox to view details"})]})})})]})]})})}function Rve(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),[h,f]=p.useState("createdAt"),[g,v]=p.useState("desc"),{getToken:b}=Ma(),{toast:w}=ds(),y=async()=>{try{a(!0);const R=await b(),I=await fetch("http://localhost:3001/api/phone-numbers",{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const B=await I.json();r(B.phoneNumbers||[])}catch(R){console.error("Error fetching phone numbers:",R),w({title:"Error",description:"Failed to fetch phone numbers. Please try again.",variant:"destructive"})}finally{a(!1)}},N=async(R,I="US")=>{try{const B=await b(),H=await fetch("http://localhost:3001/api/phone-numbers",{method:"POST",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({areaCode:R,country:I})});if(!H.ok)throw new Error("Failed to purchase phone number");const F=await H.json();w({title:"Success",description:`Phone number ${F.phoneNumber.number} purchased successfully`}),y()}catch(B){console.error("Error purchasing phone number:",B),w({title:"Error",description:"Failed to purchase phone number. Please try again.",variant:"destructive"})}},C=async R=>{if(confirm("Are you sure you want to release this phone number? This action cannot be undone."))try{const I=await b();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to release phone number");w({title:"Success",description:"Phone number released successfully"}),y()}catch(I){console.error("Error releasing phone number:",I),w({title:"Error",description:"Failed to release phone number. Please try again.",variant:"destructive"})}},S=async(R,I)=>{try{const B=await b();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${R}/assign`,{method:"POST",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({campaignId:I})})).ok)throw new Error("Failed to assign phone number");w({title:"Success",description:"Phone number assigned successfully"}),y()}catch(B){console.error("Error assigning phone number:",B),w({title:"Error",description:"Failed to assign phone number. Please try again.",variant:"destructive"})}},k=()=>({totalNumbers:e.length,activeNumbers:e.filter(R=>R.status==="connected").length,totalCallsMade:e.reduce((R,I)=>R+I.callsMade,0),totalLeadsGenerated:e.reduce((R,I)=>R+I.leadsGenerated,0),avgConversionRate:e.length>0?e.reduce((R,I)=>R+I.conversionRate,0)/e.length:0,totalMonthlyCost:e.reduce((R,I)=>R+I.monthlyLimit*I.costPerCall,0)}),A=e.filter(R=>{var F;const I=R.number.includes(n)||((F=R.assignedCampaign)==null?void 0:F.toLowerCase().includes(n.toLowerCase())),B=o==="all"||R.status===o,H=d==="all"||R.country===d;return I&&B&&H}).sort((R,I)=>{const B=R[h],H=I[h];return typeof B=="string"&&typeof H=="string"?g==="asc"?B.localeCompare(H):H.localeCompare(B):typeof B=="number"&&typeof H=="number"?g==="asc"?B-H:H-B:0}),E=k();p.useEffect(()=>{y()},[]);const T=R=>{switch(R){case"connected":return"bg-emerald-600/20 text-emerald-400 border-emerald-600/30";case"disconnected":return"bg-red-600/20 text-red-400 border-red-600/30";case"pending":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}},M=R=>{switch(R){case"connected":return t.jsx(yt,{className:"h-3 w-3"});case"disconnected":return t.jsx(Gt,{className:"h-3 w-3"});case"pending":return t.jsx(Us,{className:"h-3 w-3"});default:return null}},L=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),V=R=>new Date(R).toLocaleDateString();return s?t.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsx("div",{className:"text-lg text-white",children:"Loading phone numbers..."})}):t.jsx("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex-shrink-0 p-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI phone numbers and calling capacity"})}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const R=prompt("Enter area code (e.g., 555):");R&&N(R)},children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Buy Number"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Total Numbers"}),t.jsx(xt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.totalNumbers}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"All numbers"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Active"}),t.jsx(ns,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.activeNumbers}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"Connected"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Calls Made"}),t.jsx(Us,{className:"h-4 w-4 text-blue-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.totalCallsMade.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total volume"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx(bt,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.totalLeadsGenerated}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful contacts"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Avg Conversion"}),t.jsx(ba,{className:"h-4 w-4 text-orange-400"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[E.avgConversionRate.toFixed(1),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Success rate"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Monthly Cost"}),t.jsx(Gi,{className:"h-4 w-4 text-yellow-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:L(E.totalMonthlyCost)}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Estimated"})]})]})]}),t.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{placeholder:"Search numbers or campaigns...",value:n,onChange:R=>i(R.target.value),className:"border-gray-700 bg-gray-800/50 pl-10 text-white placeholder-gray-400"})]}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(nt,{placeholder:"All statuses"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All statuses"}),t.jsx(se,{value:"connected",children:"Connected"}),t.jsx(se,{value:"disconnected",children:"Disconnected"}),t.jsx(se,{value:"pending",children:"Pending"})]})]}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(nt,{placeholder:"All countries"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All countries"}),t.jsx(se,{value:"US",children:"United States"}),t.jsx(se,{value:"CA",children:"Canada"}),t.jsx(se,{value:"UK",children:"United Kingdom"}),t.jsx(se,{value:"AU",children:"Australia"})]})]}),t.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-700",children:[t.jsx(DG,{className:"mr-2 h-4 w-4"}),"Sort"]})]})]}),t.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:A.length===0?t.jsx(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No phone numbers found"}),t.jsx("p",{children:"Purchase your first phone number to start making calls."})]}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const R=prompt("Enter area code (e.g., 555):");R&&N(R)},children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Buy Phone Number"]})]})}):t.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:A.map(R=>t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:[t.jsxs(pe,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xt,{className:"h-4 w-4 text-blue-400"}),t.jsx(xe,{className:"text-lg text-white",children:R.number})]}),t.jsxs(Ne,{className:`${T(R.status)} border`,children:[M(R.status),t.jsx("span",{className:"ml-1 capitalize",children:R.status})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx("span",{children:R.country}),t.jsx("span",{children:""}),t.jsx("span",{children:R.provider}),R.assignedCampaign&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"text-emerald-400",children:R.assignedCampaign})]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Usage"}),t.jsxs("span",{className:"text-white",children:[R.callsMade," / ",R.maxCalls]})]}),t.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 transition-all duration-300",style:{width:`${Math.min(R.callsMade/R.maxCalls*100,100)}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Leads Generated"}),t.jsx("div",{className:"font-semibold text-white",children:R.leadsGenerated})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Conversion Rate"}),t.jsxs("div",{className:"font-semibold text-emerald-400",children:[R.conversionRate.toFixed(1),"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Cost per Call"}),t.jsx("div",{className:"font-semibold text-white",children:L(R.costPerCall)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Limit"}),t.jsx("div",{className:"font-semibold text-white",children:R.monthlyLimit})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-2",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",V(R.createdAt)]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Ex,{className:"h-4 w-4"})})}),t.jsxs(qn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{const I=prompt("Enter campaign ID to assign:");I&&S(R.id,I)},children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Assign to Campaign"]}),t.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{},children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"View Analytics"]}),t.jsxs(Yt,{className:"text-red-400 hover:bg-red-600/20",onClick:()=>C(R.id),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Release Number"]})]})]})]})]})]},R.id))})})]})})}function S7(e,r){return function(){return e.apply(r,arguments)}}const{toString:Ive}=Object.prototype,{getPrototypeOf:t4}=Object,{iterator:zy,toStringTag:C7}=Symbol,Fy=(e=>r=>{const s=Ive.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),_i=e=>(e=e.toLowerCase(),r=>Fy(r)===e),Uy=e=>r=>typeof r===e,{isArray:ym}=Array,cf=Uy("undefined");function Yf(e){return e!==null&&!cf(e)&&e.constructor!==null&&!cf(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const k7=_i("ArrayBuffer");function Dve(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&k7(e.buffer),r}const Lve=Uy("string"),Ga=Uy("function"),_7=Uy("number"),Jf=e=>e!==null&&typeof e=="object",$ve=e=>e===!0||e===!1,Hg=e=>{if(Fy(e)!=="object")return!1;const r=t4(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(C7 in e)&&!(zy in e)},zve=e=>{if(!Jf(e)||Yf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Fve=_i("Date"),Uve=_i("File"),Bve=_i("Blob"),Wve=_i("FileList"),Vve=e=>Jf(e)&&Ga(e.pipe),qve=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((r=Fy(e))==="formdata"||r==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},Hve=_i("URLSearchParams"),[Kve,Gve,Yve,Jve]=["ReadableStream","Request","Response","Headers"].map(_i),Xve=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xf(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),ym(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(Yf(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function P7(e,r){if(Yf(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,A7=e=>!cf(e)&&e!==Hc;function J1(){const{caseless:e}=A7(this)&&this||{},r={},s=(a,n)=>{const i=e&&P7(r,n)||n;Hg(r[i])&&Hg(a)?r[i]=J1(r[i],a):Hg(a)?r[i]=J1({},a):ym(a)?r[i]=a.slice():r[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&Xf(arguments[a],s);return r}const Qve=(e,r,s,{allOwnKeys:a}={})=>(Xf(r,(n,i)=>{s&&Ga(n)?e[i]=S7(n,s):e[i]=n},{allOwnKeys:a}),e),Zve=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ebe=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},tbe=(e,r,s,a)=>{let n,i,o;const l={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=s!==!1&&t4(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},rbe=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},sbe=e=>{if(!e)return null;if(ym(e))return e;let r=e.length;if(!_7(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},abe=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&t4(Uint8Array)),nbe=(e,r)=>{const a=(e&&e[zy]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},ibe=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},obe=_i("HTMLFormElement"),lbe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),H3=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),cbe=_i("RegExp"),E7=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};Xf(s,(n,i)=>{let o;(o=r(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},dbe=e=>{E7(e,(r,s)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Ga(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ube=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return ym(e)?a(e):a(String(e).split(r)),s},mbe=()=>{},hbe=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function fbe(e){return!!(e&&Ga(e.append)&&e[C7]==="FormData"&&e[zy])}const pbe=e=>{const r=new Array(10),s=(a,n)=>{if(Jf(a)){if(r.indexOf(a)>=0)return;if(Yf(a))return a;if(!("toJSON"in a)){r[n]=a;const i=ym(a)?[]:{};return Xf(a,(o,l)=>{const d=s(o,n+1);!cf(d)&&(i[l]=d)}),r[n]=void 0,i}}return a};return s(e,0)},gbe=_i("AsyncFunction"),xbe=e=>e&&(Jf(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),T7=((e,r)=>e?setImmediate:r?((s,a)=>(Hc.addEventListener("message",({source:n,data:i})=>{n===Hc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Hc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ga(Hc.postMessage)),ybe=typeof queueMicrotask<"u"?queueMicrotask.bind(Hc):typeof process<"u"&&process.nextTick||T7,vbe=e=>e!=null&&Ga(e[zy]),ge={isArray:ym,isArrayBuffer:k7,isBuffer:Yf,isFormData:qve,isArrayBufferView:Dve,isString:Lve,isNumber:_7,isBoolean:$ve,isObject:Jf,isPlainObject:Hg,isEmptyObject:zve,isReadableStream:Kve,isRequest:Gve,isResponse:Yve,isHeaders:Jve,isUndefined:cf,isDate:Fve,isFile:Uve,isBlob:Bve,isRegExp:cbe,isFunction:Ga,isStream:Vve,isURLSearchParams:Hve,isTypedArray:abe,isFileList:Wve,forEach:Xf,merge:J1,extend:Qve,trim:Xve,stripBOM:Zve,inherits:ebe,toFlatObject:tbe,kindOf:Fy,kindOfTest:_i,endsWith:rbe,toArray:sbe,forEachEntry:nbe,matchAll:ibe,isHTMLForm:obe,hasOwnProperty:H3,hasOwnProp:H3,reduceDescriptors:E7,freezeMethods:dbe,toObjectSet:ube,toCamelCase:lbe,noop:mbe,toFiniteNumber:hbe,findKey:P7,global:Hc,isContextDefined:A7,isSpecCompliantForm:fbe,toJSONObject:pbe,isAsyncFn:gbe,isThenable:xbe,setImmediate:T7,asap:ybe,isIterable:vbe};function Tt(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ge.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const O7=Tt.prototype,M7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{M7[e]={value:e}});Object.defineProperties(Tt,M7);Object.defineProperty(O7,"isAxiosError",{value:!0});Tt.from=(e,r,s,a,n,i)=>{const o=Object.create(O7);return ge.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Tt.call(o,e.message,r,s,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const bbe=null;function X1(e){return ge.isPlainObject(e)||ge.isArray(e)}function R7(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function K3(e,r,s){return e?e.concat(r).map(function(n,i){return n=R7(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function wbe(e){return ge.isArray(e)&&!e.some(X1)}const jbe=ge.toFlatObject(ge,{},null,function(r){return/^is[A-Z]/.test(r)});function By(e,r,s){if(!ge.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=ge.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!ge.isUndefined(y[w])});const a=s.metaTokens,n=s.visitor||h,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(r);if(!ge.isFunction(n))throw new TypeError("visitor must be a function");function m(b){if(b===null)return"";if(ge.isDate(b))return b.toISOString();if(ge.isBoolean(b))return b.toString();if(!d&&ge.isBlob(b))throw new Tt("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(b)||ge.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,w,y){let N=b;if(b&&!y&&typeof b=="object"){if(ge.endsWith(w,"{}"))w=a?w:w.slice(0,-2),b=JSON.stringify(b);else if(ge.isArray(b)&&wbe(b)||(ge.isFileList(b)||ge.endsWith(w,"[]"))&&(N=ge.toArray(b)))return w=R7(w),N.forEach(function(S,k){!(ge.isUndefined(S)||S===null)&&r.append(o===!0?K3([w],k,i):o===null?w:w+"[]",m(S))}),!1}return X1(b)?!0:(r.append(K3(y,w,i),m(b)),!1)}const f=[],g=Object.assign(jbe,{defaultVisitor:h,convertValue:m,isVisitable:X1});function v(b,w){if(!ge.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(b),ge.forEach(b,function(N,C){(!(ge.isUndefined(N)||N===null)&&n.call(r,N,ge.isString(C)?C.trim():C,w,g))===!0&&v(N,w?w.concat(C):[C])}),f.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return v(e),r}function G3(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function r4(e,r){this._pairs=[],e&&By(e,this,r)}const I7=r4.prototype;I7.append=function(r,s){this._pairs.push([r,s])};I7.toString=function(r){const s=r?function(a){return r.call(this,a,G3)}:G3;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Nbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D7(e,r,s){if(!r)return e;const a=s&&s.encode||Nbe;ge.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=ge.isURLSearchParams(r)?r.toString():new r4(r,s).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Y3{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ge.forEach(this.handlers,function(a){a!==null&&r(a)})}}const L7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sbe=typeof URLSearchParams<"u"?URLSearchParams:r4,Cbe=typeof FormData<"u"?FormData:null,kbe=typeof Blob<"u"?Blob:null,_be={isBrowser:!0,classes:{URLSearchParams:Sbe,FormData:Cbe,Blob:kbe},protocols:["http","https","file","blob","url","data"]},s4=typeof window<"u"&&typeof document<"u",Q1=typeof navigator=="object"&&navigator||void 0,Pbe=s4&&(!Q1||["ReactNative","NativeScript","NS"].indexOf(Q1.product)<0),Abe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ebe=s4&&window.location.href||"http://localhost",Tbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s4,hasStandardBrowserEnv:Pbe,hasStandardBrowserWebWorkerEnv:Abe,navigator:Q1,origin:Ebe},Symbol.toStringTag,{value:"Module"})),ya={...Tbe,..._be};function Obe(e,r){return By(e,new ya.classes.URLSearchParams,{visitor:function(s,a,n,i){return ya.isNode&&ge.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function Mbe(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Rbe(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function $7(e){function r(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&ge.isArray(n)?n.length:o,d?(ge.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!ge.isObject(n[o]))&&(n[o]=[]),r(s,a,n[o],i)&&ge.isArray(n[o])&&(n[o]=Rbe(n[o])),!l)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const s={};return ge.forEachEntry(e,(a,n)=>{r(Mbe(a),n,s,0)}),s}return null}function Ibe(e,r,s){if(ge.isString(e))try{return(r||JSON.parse)(e),ge.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const Qf={transitional:L7,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=ge.isObject(r);if(i&&ge.isHTMLForm(r)&&(r=new FormData(r)),ge.isFormData(r))return n?JSON.stringify($7(r)):r;if(ge.isArrayBuffer(r)||ge.isBuffer(r)||ge.isStream(r)||ge.isFile(r)||ge.isBlob(r)||ge.isReadableStream(r))return r;if(ge.isArrayBufferView(r))return r.buffer;if(ge.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Obe(r,this.formSerializer).toString();if((l=ge.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return By(l?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),Ibe(r)):r}],transformResponse:[function(r){const s=this.transitional||Qf.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(ge.isResponse(r)||ge.isReadableStream(r))return r;if(r&&ge.isString(r)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(l){if(o)throw l.name==="SyntaxError"?Tt.from(l,Tt.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ya.classes.FormData,Blob:ya.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{Qf.headers[e]={}});const Dbe=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lbe=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||r[s]&&Dbe[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},J3=Symbol("internals");function bh(e){return e&&String(e).trim().toLowerCase()}function Kg(e){return e===!1||e==null?e:ge.isArray(e)?e.map(Kg):String(e)}function $be(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const zbe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zj(e,r,s,a,n){if(ge.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!ge.isString(r)){if(ge.isString(a))return r.indexOf(a)!==-1;if(ge.isRegExp(a))return a.test(r)}}function Fbe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function Ube(e,r){const s=ge.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,o){return this[a].call(this,r,n,i,o)},configurable:!0})})}let Ya=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(l,d,m){const h=bh(d);if(!h)throw new Error("header name must be a non-empty string");const f=ge.findKey(n,h);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||d]=Kg(l))}const o=(l,d)=>ge.forEach(l,(m,h)=>i(m,h,d));if(ge.isPlainObject(r)||r instanceof this.constructor)o(r,s);else if(ge.isString(r)&&(r=r.trim())&&!zbe(r))o(Lbe(r),s);else if(ge.isObject(r)&&ge.isIterable(r)){let l={},d,m;for(const h of r){if(!ge.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[m=h[0]]=(d=l[m])?ge.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=bh(r),r){const a=ge.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return $be(n);if(ge.isFunction(s))return s.call(this,n,a);if(ge.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=bh(r),r){const a=ge.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||Zj(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(o){if(o=bh(o),o){const l=ge.findKey(a,o);l&&(!s||Zj(a,a[l],l,s))&&(delete a[l],n=!0)}}return ge.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||Zj(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return ge.forEach(this,(n,i)=>{const o=ge.findKey(a,i);if(o){s[o]=Kg(n),delete s[i];return}const l=r?Fbe(i):String(i).trim();l!==i&&delete s[i],s[l]=Kg(n),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return ge.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&ge.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[J3]=this[J3]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=bh(o);a[l]||(Ube(n,o),a[l]=!0)}return ge.isArray(r)?r.forEach(i):i(r),this}};Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(Ya.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});ge.freezeMethods(Ya);function eN(e,r){const s=this||Qf,a=r||s,n=Ya.from(a.headers);let i=a.data;return ge.forEach(e,function(l){i=l.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function z7(e){return!!(e&&e.__CANCEL__)}function vm(e,r,s){Tt.call(this,e??"canceled",Tt.ERR_CANCELED,r,s),this.name="CanceledError"}ge.inherits(vm,Tt,{__CANCEL__:!0});function F7(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new Tt("Request failed with status code "+s.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Bbe(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function Wbe(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,o;return r=r!==void 0?r:1e3,function(d){const m=Date.now(),h=a[i];o||(o=m),s[n]=d,a[n]=m;let f=i,g=0;for(;f!==n;)g+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),m-o<r)return;const v=h&&m-h;return v?Math.round(g*1e3/v):void 0}}function Vbe(e,r){let s=0,a=1e3/r,n,i;const o=(m,h=Date.now())=>{s=h,n=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const h=Date.now(),f=h-s;f>=a?o(m,h):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const nx=(e,r,s=3)=>{let a=0;const n=Wbe(50,250);return Vbe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,m=n(d),h=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:m||void 0,estimated:m&&l&&h?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(f)},s)},X3=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},Q3=e=>(...r)=>ge.asap(()=>e(...r)),qbe=ya.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,ya.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(ya.origin),ya.navigator&&/(msie|trident)/i.test(ya.navigator.userAgent)):()=>!0,Hbe=ya.hasStandardBrowserEnv?{write(e,r,s,a,n,i){const o=[e+"="+encodeURIComponent(r)];ge.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),ge.isString(a)&&o.push("path="+a),ge.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kbe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Gbe(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function U7(e,r,s){let a=!Kbe(r);return e&&(a||s==!1)?Gbe(e,r):r}const Z3=e=>e instanceof Ya?{...e}:e;function pd(e,r){r=r||{};const s={};function a(m,h,f,g){return ge.isPlainObject(m)&&ge.isPlainObject(h)?ge.merge.call({caseless:g},m,h):ge.isPlainObject(h)?ge.merge({},h):ge.isArray(h)?h.slice():h}function n(m,h,f,g){if(ge.isUndefined(h)){if(!ge.isUndefined(m))return a(void 0,m,f,g)}else return a(m,h,f,g)}function i(m,h){if(!ge.isUndefined(h))return a(void 0,h)}function o(m,h){if(ge.isUndefined(h)){if(!ge.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function l(m,h,f){if(f in r)return a(m,h);if(f in e)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,h,f)=>n(Z3(m),Z3(h),f,!0)};return ge.forEach(Object.keys({...e,...r}),function(h){const f=d[h]||n,g=f(e[h],r[h],h);ge.isUndefined(g)&&f!==l||(s[h]=g)}),s}const B7=e=>{const r=pd({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=r;r.headers=o=Ya.from(o),r.url=D7(U7(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(ge.isFormData(s)){if(ya.hasStandardBrowserEnv||ya.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[m,...h]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...h].join("; "))}}if(ya.hasStandardBrowserEnv&&(a&&ge.isFunction(a)&&(a=a(r)),a||a!==!1&&qbe(r.url))){const m=n&&i&&Hbe.read(i);m&&o.set(n,m)}return r},Ybe=typeof XMLHttpRequest<"u",Jbe=Ybe&&function(e){return new Promise(function(s,a){const n=B7(e);let i=n.data;const o=Ya.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:m}=n,h,f,g,v,b;function w(){v&&v(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function N(){if(!y)return;const S=Ya.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:e,request:y};F7(function(T){s(T),w()},function(T){a(T),w()},A),y=null}"onloadend"in y?y.onloadend=N:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(N)},y.onabort=function(){y&&(a(new Tt("Request aborted",Tt.ECONNABORTED,e,y)),y=null)},y.onerror=function(){a(new Tt("Network Error",Tt.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||L7;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),a(new Tt(k,A.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&ge.forEach(o.toJSON(),function(k,A){y.setRequestHeader(A,k)}),ge.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),l&&l!=="json"&&(y.responseType=n.responseType),m&&([g,b]=nx(m,!0),y.addEventListener("progress",g)),d&&y.upload&&([f,v]=nx(d),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",v)),(n.cancelToken||n.signal)&&(h=S=>{y&&(a(!S||S.type?new vm(null,e,y):S),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const C=Bbe(n.url);if(C&&ya.protocols.indexOf(C)===-1){a(new Tt("Unsupported protocol "+C+":",Tt.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Xbe=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(m){if(!n){n=!0,l();const h=m instanceof Error?m:this.reason;a.abort(h instanceof Tt?h:new vm(h instanceof Error?h.message:h))}};let o=r&&setTimeout(()=>{o=null,i(new Tt(`timeout ${r} of ms exceeded`,Tt.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>ge.asap(l),d}},Qbe=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},Zbe=async function*(e,r){for await(const s of ewe(e))yield*Qbe(s,r)},ewe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},eO=(e,r,s,a)=>{const n=Zbe(e,r);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:h}=await n.next();if(m){l(),d.close();return}let f=h.byteLength;if(s){let g=i+=f;s(g)}d.enqueue(new Uint8Array(h))}catch(m){throw l(m),m}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},Wy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",W7=Wy&&typeof ReadableStream=="function",twe=Wy&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),V7=(e,...r)=>{try{return!!e(...r)}catch{return!1}},rwe=W7&&V7(()=>{let e=!1;const r=new Request(ya.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),tO=64*1024,Z1=W7&&V7(()=>ge.isReadableStream(new Response("").body)),ix={stream:Z1&&(e=>e.body)};Wy&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!ix[r]&&(ix[r]=ge.isFunction(e[r])?s=>s[r]():(s,a)=>{throw new Tt(`Response type '${r}' is not supported`,Tt.ERR_NOT_SUPPORT,a)})})})(new Response);const swe=async e=>{if(e==null)return 0;if(ge.isBlob(e))return e.size;if(ge.isSpecCompliantForm(e))return(await new Request(ya.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(e)||ge.isArrayBuffer(e))return e.byteLength;if(ge.isURLSearchParams(e)&&(e=e+""),ge.isString(e))return(await twe(e)).byteLength},awe=async(e,r)=>{const s=ge.toFiniteNumber(e.getContentLength());return s??swe(r)},nwe=Wy&&(async e=>{let{url:r,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:m,headers:h,withCredentials:f="same-origin",fetchOptions:g}=B7(e);m=m?(m+"").toLowerCase():"text";let v=Xbe([n,i&&i.toAbortSignal()],o),b;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let y;try{if(d&&rwe&&s!=="get"&&s!=="head"&&(y=await awe(h,a))!==0){let A=new Request(r,{method:"POST",body:a,duplex:"half"}),E;if(ge.isFormData(a)&&(E=A.headers.get("content-type"))&&h.setContentType(E),A.body){const[T,M]=X3(y,nx(Q3(d)));a=eO(A.body,tO,T,M)}}ge.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;b=new Request(r,{...g,signal:v,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let C=await fetch(b,g);const S=Z1&&(m==="stream"||m==="response");if(Z1&&(l||S&&w)){const A={};["status","statusText","headers"].forEach(L=>{A[L]=C[L]});const E=ge.toFiniteNumber(C.headers.get("content-length")),[T,M]=l&&X3(E,nx(Q3(l),!0))||[];C=new Response(eO(C.body,tO,T,()=>{M&&M(),w&&w()}),A)}m=m||"text";let k=await ix[ge.findKey(ix,m)||"text"](C,e);return!S&&w&&w(),await new Promise((A,E)=>{F7(A,E,{data:k,headers:Ya.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:b})})}catch(N){throw w&&w(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,e,b),{cause:N.cause||N}):Tt.from(N,N&&N.code,e,b)}}),eS={http:bbe,xhr:Jbe,fetch:nwe};ge.forEach(eS,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const rO=e=>`- ${e}`,iwe=e=>ge.isFunction(e)||e===null||e===!1,q7={getAdapter:e=>{e=ge.isArray(e)?e:[e];const{length:r}=e;let s,a;const n={};for(let i=0;i<r;i++){s=e[i];let o;if(a=s,!iwe(s)&&(a=eS[(o=String(s)).toLowerCase()],a===void 0))throw new Tt(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(rO).join(`
`):" "+rO(i[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:eS};function tN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vm(null,e)}function sO(e){return tN(e),e.headers=Ya.from(e.headers),e.data=eN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),q7.getAdapter(e.adapter||Qf.adapter)(e).then(function(a){return tN(e),a.data=eN.call(e,e.transformResponse,a),a.headers=Ya.from(a.headers),a},function(a){return z7(a)||(tN(e),a&&a.response&&(a.response.data=eN.call(e,e.transformResponse,a.response),a.response.headers=Ya.from(a.response.headers))),Promise.reject(a)})}const H7="1.11.0",Vy={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Vy[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const aO={};Vy.transitional=function(r,s,a){function n(i,o){return"[Axios v"+H7+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Tt(n(o," has been removed"+(s?" in "+s:"")),Tt.ERR_DEPRECATED);return s&&!aO[o]&&(aO[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,o,l):!0}};Vy.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function owe(e,r,s){if(typeof e!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=r[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Tt("option "+i+" must be "+d,Tt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Tt("Unknown option "+i,Tt.ERR_BAD_OPTION)}}const Gg={assertOptions:owe,validators:Vy},Di=Gg.validators;let Zc=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Y3,response:new Y3}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=pd(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Gg.assertOptions(a,{silentJSONParsing:Di.transitional(Di.boolean),forcedJSONParsing:Di.transitional(Di.boolean),clarifyTimeoutError:Di.transitional(Di.boolean)},!1),n!=null&&(ge.isFunction(n)?s.paramsSerializer={serialize:n}:Gg.assertOptions(n,{encode:Di.function,serialize:Di.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Gg.assertOptions(s,{baseUrl:Di.spelling("baseURL"),withXsrfToken:Di.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&ge.merge(i.common,i[s.method]);i&&ge.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),s.headers=Ya.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(d=d&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const m=[];this.interceptors.response.forEach(function(w){m.push(w.fulfilled,w.rejected)});let h,f=0,g;if(!d){const b=[sO.bind(this),void 0];for(b.unshift(...l),b.push(...m),g=b.length,h=Promise.resolve(s);f<g;)h=h.then(b[f++],b[f++]);return h}g=l.length;let v=s;for(f=0;f<g;){const b=l[f++],w=l[f++];try{v=b(v)}catch(y){w.call(this,y);break}}try{h=sO.call(this,v)}catch(b){return Promise.reject(b)}for(f=0,g=m.length;f<g;)h=h.then(m[f++],m[f++]);return h}getUri(r){r=pd(this.defaults,r);const s=U7(r.baseURL,r.url,r.allowAbsoluteUrls);return D7(s,r.params,r.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(r){Zc.prototype[r]=function(s,a){return this.request(pd(a||{},{method:r,url:s,data:(a||{}).data}))}});ge.forEach(["post","put","patch"],function(r){function s(a){return function(i,o,l){return this.request(pd(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Zc.prototype[r]=s(),Zc.prototype[r+"Form"]=s(!0)});let lwe=class K7{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new vm(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new K7(function(n){r=n}),cancel:r}}};function cwe(e){return function(s){return e.apply(null,s)}}function dwe(e){return ge.isObject(e)&&e.isAxiosError===!0}const tS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tS).forEach(([e,r])=>{tS[r]=e});function G7(e){const r=new Zc(e),s=S7(Zc.prototype.request,r);return ge.extend(s,Zc.prototype,r,{allOwnKeys:!0}),ge.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return G7(pd(e,n))},s}const es=G7(Qf);es.Axios=Zc;es.CanceledError=vm;es.CancelToken=lwe;es.isCancel=z7;es.VERSION=H7;es.toFormData=By;es.AxiosError=Tt;es.Cancel=es.CanceledError;es.all=function(r){return Promise.all(r)};es.spread=cwe;es.isAxiosError=dwe;es.mergeConfig=pd;es.AxiosHeaders=Ya;es.formToJSON=e=>$7(ge.isHTMLForm(e)?new FormData(e):e);es.getAdapter=q7.getAdapter;es.HttpStatusCode=tS;es.default=es;const{Axios:B1e,AxiosError:W1e,CanceledError:V1e,isCancel:q1e,CancelToken:H1e,VERSION:K1e,all:G1e,Cancel:Y1e,isAxiosError:J1e,spread:X1e,toFormData:Q1e,AxiosHeaders:Z1e,HttpStatusCode:eSe,formToJSON:tSe,getAdapter:rSe,mergeConfig:sSe}=es,uwe="https://apex-backend-august-production.up.railway.app/api/api",mwe=3e4,hwe=3,Y7=1e3;class fwe extends Error{constructor(r,s,a,n){super(r),this.status=s,this.code=a,this.details=n,this.name="ApiError"}}const J7=e=>new Promise(r=>setTimeout(r,e)),pwe=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},X7=async(e,r,s=0)=>{try{return await e(r)}catch(a){const n=a;if(s<hwe&&pwe(n)){const i=Y7*Math.pow(2,s);return await J7(i),X7(e,r,s+1)}throw a}},Q7=e=>{const r=es.create({baseURL:uwe,timeout:mwe,headers:{"Content-Type":"application/json"}});return r.interceptors.request.use(async s=>{let a=null;console.log(" API Client: Getting token...");{try{if(window.Clerk&&window.Clerk.session){const n=await window.Clerk.session.getToken();n&&(a=n,console.log(" API Client: Got Clerk token from window.Clerk"))}else e&&(a=await e(),console.log(" API Client: Got Clerk token from getToken"))}catch(n){console.warn(" Failed to get Clerk token:",n)}if(!a)try{const n=SS(),{data:{session:i}}=await n.auth.getSession();i!=null&&i.access_token?(a=i.access_token,console.log(" API Client: Got Supabase token:","***EXISTS***")):console.warn(" API Client: No Supabase session found")}catch(n){console.error(" API Client: Error getting Supabase session:",n)}a||console.warn(" No authentication token available in production mode")}return a?(s.headers.Authorization=`Bearer ${a}`,console.log(" API Client: Set Authorization header with token:",a),console.log(" API Client: Full request config:",{url:s.url,method:s.method,headers:s.headers})):console.warn(" No authentication token available - user needs to sign in"),s.headers["X-Request-ID"]=`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s},s=>(console.error(" Request Error:",s),Promise.reject(s))),r.interceptors.response.use(s=>s,async s=>{var o,l,d,m,h,f;const a=s.config;if(((o=s.response)==null?void 0:o.status)===401&&!a._retry)return a._retry=!0,console.error(" Dev Mode: 401 error - continuing without redirect"),Promise.reject(s);if(((l=s.response)==null?void 0:l.status)===429){const g=s.response.headers["retry-after"],v=g?parseInt(g)*1e3:Y7;return await J7(v),X7(r,a)}const n=(d=s.response)==null?void 0:d.data,i=new fwe((n==null?void 0:n.message)||s.message||"An unexpected error occurred",(m=s.response)==null?void 0:m.status,n==null?void 0:n.code,n);return console.error(" API Error:",{message:i.message,status:i.status,code:i.code,url:(h=s.config)==null?void 0:h.url,method:(f=s.config)==null?void 0:f.method}),Promise.reject(i)}),r},Qt=Q7(),a4=()=>{const{getToken:e}=Ma();return Q7(e)};class gwe{constructor(){li(this,"baseURL","https://apex-backend-august-production.up.railway.app/api")}async getCampaigns(){try{console.log(" VapiOutboundService: Fetching real campaigns from API");const r=await Qt.get("/vapi-outbound/campaigns");return console.log(" Got campaigns:",r.data),(r.data.campaigns||r.data||[]).map(a=>({id:a.id,apexId:a.apexId||`apex${a.id.substring(0,5)}`,name:a.name,description:a.description,status:a.status,assistantId:a.assistantId,assistantName:a.assistantName||"AI Assistant",phoneNumberId:a.phoneNumberId,createdAt:a.createdAt,updatedAt:a.updatedAt,totalLeads:a.totalLeads||0,callsCompleted:a.callsCompleted||0,totalCost:a.totalCost||0,successRate:a.successRate||0,totalCalls:a.totalCalls||0,successfulCalls:a.successfulCalls||0,callsInProgress:a.callsInProgress||0}))}catch(r){return console.error(" Error fetching campaigns:",r),[]}}async createCampaign(r){var s;try{const a=((s=r.callBehavior)==null?void 0:s.customConcurrency)||10,n={...r,max_concurrent_calls:a,callBehavior:void 0};return console.log(" Sending campaign data to backend:",n),(await Qt.post("/vapi-outbound/campaigns",n)).data.campaign}catch(a){throw console.error("Error creating campaign:",a),a}}async getCampaignDashboard(r){try{return(await Qt.get(`/vapi-outbound/campaigns/${r}`)).data}catch(s){throw console.error("Error fetching campaign dashboard:",s),s}}async uploadLeads(r,s){try{const a=new FormData;return a.append("csvFile",s),(await Qt.post(`/vapi-outbound/campaigns/${r}/upload-leads`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error uploading leads:",a),a}}async startCampaign(r){try{return console.log(" Starting campaign:",r),(await Qt.post(`/vapi-outbound/campaigns/${r}/start`)).data}catch(s){throw console.error("Error starting campaign:",s),s}}async pauseCampaign(r){try{return(await Qt.post(`/vapi-outbound/campaigns/${r}/pause`)).data}catch(s){throw console.error("Error pausing campaign:",s),s}}async resumeCampaign(r){try{return(await Qt.post(`/vapi-outbound/campaigns/${r}/resume`)).data}catch(s){throw console.error("Error resuming campaign:",s),s}}async getLiveMonitoring(r){try{return(await Qt.get(`/vapi-outbound/campaigns/${r}/live`)).data}catch(s){throw console.error("Error fetching live monitoring:",s),s}}async getCampaignResults(r){try{return(await Qt.get(`/vapi-outbound/campaigns/${r}/results`)).data}catch(s){throw console.error("Error fetching campaign results:",s),s}}async getAssistants(){var r,s;try{console.log(" VapiOutboundService.getAssistants: Making API call...");const a=await Qt.get("/vapi-data/assistants");console.log(" VapiOutboundService.getAssistants: Response:",a),console.log(" VapiOutboundService.getAssistants: Response data:",a.data),console.log(" VapiOutboundService.getAssistants: Assistants array:",a.data.assistants);const n=a.data.assistants||[];return console.log(" VapiOutboundService.getAssistants: Returning",n.length,"assistants"),n}catch(a){throw console.error(" VapiOutboundService.getAssistants: Error:",a),console.error(" Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async getPhoneNumbers(){var r,s;try{console.log(" VapiOutboundService.getPhoneNumbers: Making API call...");const a=await Qt.get("/vapi-data/phone-numbers");console.log(" VapiOutboundService.getPhoneNumbers: Response:",a),console.log(" VapiOutboundService.getPhoneNumbers: Response data:",a.data),console.log(" VapiOutboundService.getPhoneNumbers: Phone numbers array:",a.data.phoneNumbers);const n=a.data.phoneNumbers||[];return console.log(" VapiOutboundService.getPhoneNumbers: Returning",n.length,"phone numbers"),n}catch(a){throw console.error(" VapiOutboundService.getPhoneNumbers: Error:",a),console.error(" Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async downloadLeadsTemplate(){try{return(await Qt.get("/vapi-outbound/leads-template",{responseType:"blob"})).data}catch(r){throw console.error("Error downloading template:",r),r}}async getToken(){return""}formatPhoneNumber(r){const s=r.replace(/\D/g,"");return s.length===10?`+1${s}`:s.length===11&&s.startsWith("1")?`+${s}`:`+${s}`}validateLeadData(r){var n,i,o;const s=[],a=[];for(const l of r){const d=[];(n=l.firstName)!=null&&n.trim()||d.push("First name required"),(i=l.lastName)!=null&&i.trim()||d.push("Last name required"),(o=l.phone)!=null&&o.trim()||d.push("Phone number required"),l.phone&&!/^\+?[\d\s\-\(\)]+$/.test(l.phone)&&d.push("Invalid phone format"),d.length===0?s.push({...l,phone:this.formatPhoneNumber(l.phone)}):a.push({...l,errors:d})}return{valid:s,invalid:a}}async getRecentCalls(r=20){try{return console.log(" VapiOutboundService: Fetching recent calls from database"),(await Qt.get(`/calls/recent?limit=${r}`)).data.calls||[]}catch(s){return console.error("Error fetching recent calls:",s),[]}}async getCampaignCalls(r,s){try{return(await Qt.get(`/campaigns/${r}/calls?${s}`)).data}catch(a){throw console.error("Error fetching campaign calls:",a),a}}}const Dn=new gwe;var xwe="Label",Z7=p.forwardRef((e,r)=>t.jsx(He.label,{...e,ref:r,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Z7.displayName=xwe;var eF=Z7;const ywe=vf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=p.forwardRef(({className:e,...r},s)=>t.jsx(eF,{ref:s,className:$e(ywe(),e),...r}));ee.displayName=eF.displayName;var n4="Radio",[vwe,tF]=qs(n4),[bwe,wwe]=vwe(n4),rF=p.forwardRef((e,r)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:d,form:m,...h}=e,[f,g]=p.useState(null),v=ut(r,y=>g(y)),b=p.useRef(!1),w=f?m||!!f.closest("form"):!0;return t.jsxs(bwe,{scope:s,checked:n,disabled:o,children:[t.jsx(He.button,{type:"button",role:"radio","aria-checked":n,"data-state":iF(n),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:v,onClick:Le(e.onClick,y=>{n||d==null||d(),w&&(b.current=y.isPropagationStopped(),b.current||y.stopPropagation())})}),w&&t.jsx(nF,{control:f,bubbles:!b.current,name:a,value:l,checked:n,required:i,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});rF.displayName=n4;var sF="RadioIndicator",aF=p.forwardRef((e,r)=>{const{__scopeRadio:s,forceMount:a,...n}=e,i=wwe(sF,s);return t.jsx(wa,{present:a||i.checked,children:t.jsx(He.span,{"data-state":iF(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});aF.displayName=sF;var jwe="RadioBubbleInput",nF=p.forwardRef(({__scopeRadio:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ut(o,i),d=Gf(s),m=Nf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&v){const b=new Event("click",{bubbles:a});v.call(h,s),h.dispatchEvent(b)}},[d,s,a]),t.jsx(He.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nF.displayName=jwe;function iF(e){return e?"checked":"unchecked"}var Nwe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qy="RadioGroup",[Swe,aSe]=qs(qy,[im,tF]),oF=im(),lF=tF(),[Cwe,kwe]=Swe(qy),cF=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:m,loop:h=!0,onValueChange:f,...g}=e,v=oF(s),b=yd(m),[w,y]=vi({prop:i,defaultProp:n??null,onChange:f,caller:qy});return t.jsx(Cwe,{scope:s,name:a,required:o,disabled:l,value:w,onValueChange:y,children:t.jsx($S,{asChild:!0,...v,orientation:d,dir:b,loop:h,children:t.jsx(He.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:b,...g,ref:r})})})});cF.displayName=qy;var dF="RadioGroupItem",uF=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,disabled:a,...n}=e,i=kwe(dF,s),o=i.disabled||a,l=oF(s),d=lF(s),m=p.useRef(null),h=ut(r,m),f=i.value===n.value,g=p.useRef(!1);return p.useEffect(()=>{const v=w=>{Nwe.includes(w.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),t.jsx(zS,{asChild:!0,...l,focusable:!o,active:f,children:t.jsx(rF,{disabled:o,required:i.required,checked:f,...d,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:Le(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:Le(n.onFocus,()=>{var v;g.current&&((v=m.current)==null||v.click())})})})});uF.displayName=dF;var _we="RadioGroupIndicator",mF=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,...a}=e,n=lF(s);return t.jsx(aF,{...n,...a,ref:r})});mF.displayName=_we;var hF=cF,fF=uF,Pwe=mF;const $l=p.forwardRef(({className:e,...r},s)=>t.jsx(hF,{className:$e("grid gap-2",e),...r,ref:s}));$l.displayName=hF.displayName;const Zs=p.forwardRef(({className:e,...r},s)=>t.jsx(fF,{ref:s,className:$e("aspect-square h-4 w-4 rounded-full border border-zinc-200 border-zinc-900 text-zinc-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-50 dark:border-zinc-800 dark:text-zinc-50 dark:focus-visible:ring-zinc-300",e),...r,children:t.jsx(Pwe,{className:"flex items-center justify-center",children:t.jsx(qM,{className:"h-3.5 w-3.5 fill-primary"})})}));Zs.displayName=fF.displayName;var pF=["PageUp","PageDown"],gF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bm="Slider",[rS,Awe,Ewe]=bf(bm),[yF,nSe]=qs(bm,[Ewe]),[Twe,Hy]=yF(bm),vF=p.forwardRef((e,r)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[a],value:h,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:v=!1,form:b,...w}=e,y=p.useRef(new Set),N=p.useRef(0),S=o==="horizontal"?Owe:Mwe,[k=[],A]=vi({prop:h,defaultProp:m,onChange:R=>{var B;(B=[...y.current][N.current])==null||B.focus(),f(R)}}),E=p.useRef(k);function T(R){const I=$we(k,R);V(R,I)}function M(R){V(R,N.current)}function L(){const R=E.current[N.current];k[N.current]!==R&&g(k)}function V(R,I,{commit:B}={commit:!1}){const H=Bwe(i),F=Wwe(Math.round((R-a)/i)*i+a,H),U=Yh(F,[a,n]);A((O=[])=>{const $=Dwe(O,U,I);if(Uwe($,d*i)){N.current=$.indexOf(U);const W=String($)!==String(O);return W&&B&&g($),W?$:O}else return O})}return t.jsx(Twe,{scope:e.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:N,thumbs:y.current,values:k,orientation:o,form:b,children:t.jsx(rS.Provider,{scope:e.__scopeSlider,children:t.jsx(rS.Slot,{scope:e.__scopeSlider,children:t.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...w,ref:r,onPointerDown:Le(w.onPointerDown,()=>{l||(E.current=k)}),min:a,max:n,inverted:v,onSlideStart:l?void 0:T,onSlideMove:l?void 0:M,onSlideEnd:l?void 0:L,onHomeKeyDown:()=>!l&&V(a,0,{commit:!0}),onEndKeyDown:()=>!l&&V(n,k.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:I})=>{if(!l){const F=pF.includes(R.key)||R.shiftKey&&gF.includes(R.key)?10:1,U=N.current,O=k[U],$=i*F*I;V(O+$,U,{commit:!0})}}})})})})});vF.displayName=bm;var[bF,wF]=yF(bm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Owe=p.forwardRef((e,r)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...h}=e,[f,g]=p.useState(null),v=ut(r,S=>g(S)),b=p.useRef(void 0),w=yd(n),y=w==="ltr",N=y&&!i||!y&&i;function C(S){const k=b.current||f.getBoundingClientRect(),A=[0,k.width],T=i4(A,N?[s,a]:[a,s]);return b.current=k,T(S-k.left)}return t.jsx(bF,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:t.jsx(jF,{dir:w,"data-orientation":"horizontal",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const k=C(S.clientX);o==null||o(k)},onSlideMove:S=>{const k=C(S.clientX);l==null||l(k)},onSlideEnd:()=>{b.current=void 0,d==null||d()},onStepKeyDown:S=>{const A=xF[N?"from-left":"from-right"].includes(S.key);m==null||m({event:S,direction:A?-1:1})}})})}),Mwe=p.forwardRef((e,r)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...m}=e,h=p.useRef(null),f=ut(r,h),g=p.useRef(void 0),v=!n;function b(w){const y=g.current||h.current.getBoundingClientRect(),N=[0,y.height],S=i4(N,v?[a,s]:[s,a]);return g.current=y,S(w-y.top)}return t.jsx(bF,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:t.jsx(jF,{"data-orientation":"vertical",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const y=b(w.clientY);i==null||i(y)},onSlideMove:w=>{const y=b(w.clientY);o==null||o(y)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:w=>{const N=xF[v?"from-bottom":"from-top"].includes(w.key);d==null||d({event:w,direction:N?-1:1})}})})}),jF=p.forwardRef((e,r)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...m}=e,h=Hy(bm,s);return t.jsx(He.span,{...m,ref:r,onKeyDown:Le(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):pF.concat(gF).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:Le(e.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(g)?g.focus():a(f)}),onPointerMove:Le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&n(f)}),onPointerUp:Le(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),NF="SliderTrack",SF=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=Hy(NF,s);return t.jsx(He.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:r})});SF.displayName=NF;var sS="SliderRange",CF=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=Hy(sS,s),i=wF(sS,s),o=p.useRef(null),l=ut(r,o),d=n.values.length,m=n.values.map(g=>PF(g,n.min,n.max)),h=d>1?Math.min(...m):0,f=100-Math.max(...m);return t.jsx(He.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});CF.displayName=sS;var aS="SliderThumb",kF=p.forwardRef((e,r)=>{const s=Awe(e.__scopeSlider),[a,n]=p.useState(null),i=ut(r,l=>n(l)),o=p.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return t.jsx(Rwe,{...e,ref:i,index:o})}),Rwe=p.forwardRef((e,r)=>{const{__scopeSlider:s,index:a,name:n,...i}=e,o=Hy(aS,s),l=wF(aS,s),[d,m]=p.useState(null),h=ut(r,C=>m(C)),f=d?o.form||!!d.closest("form"):!0,g=Nf(d),v=o.values[a],b=v===void 0?0:PF(v,o.min,o.max),w=Lwe(a,o.values.length),y=g==null?void 0:g[l.size],N=y?zwe(y,b,l.direction):0;return p.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${N}px)`},children:[t.jsx(rS.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(He.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:v===void 0?{display:"none"}:e.style,onFocus:Le(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),f&&t.jsx(_F,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},a)]})});kF.displayName=aS;var Iwe="RadioBubbleInput",_F=p.forwardRef(({__scopeSlider:e,value:r,...s},a)=>{const n=p.useRef(null),i=ut(n,a),o=Gf(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("input",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(He.input,{style:{display:"none"},...s,ref:i,defaultValue:r})});_F.displayName=Iwe;function Dwe(e=[],r,s){const a=[...e];return a[s]=r,a.sort((n,i)=>n-i)}function PF(e,r,s){const i=100/(s-r)*(e-r);return Yh(i,[0,100])}function Lwe(e,r){return r>2?`Value ${e+1} of ${r}`:r===2?["Minimum","Maximum"][e]:void 0}function $we(e,r){if(e.length===1)return 0;const s=e.map(n=>Math.abs(n-r)),a=Math.min(...s);return s.indexOf(a)}function zwe(e,r,s){const a=e/2,i=i4([0,50],[0,a]);return(a-i(r)*s)*s}function Fwe(e){return e.slice(0,-1).map((r,s)=>e[s+1]-r)}function Uwe(e,r){if(r>0){const s=Fwe(e);return Math.min(...s)>=r}return!0}function i4(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function Bwe(e){return(String(e).split(".")[1]||"").length}function Wwe(e,r){const s=Math.pow(10,r);return Math.round(e*s)/s}var AF=vF,Vwe=SF,qwe=CF,Hwe=kF;const Ln=p.forwardRef(({className:e,...r},s)=>t.jsxs(AF,{ref:s,className:$e("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(Vwe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:t.jsx(qwe,{className:"absolute h-full bg-emerald-500"})}),t.jsx(Hwe,{className:"block h-5 w-5 rounded-full border-2 border-emerald-500 bg-white shadow-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:pointer-events-none disabled:opacity-50 hover:bg-emerald-50"})]}));Ln.displayName=AF.displayName;var Ky="Switch",[Kwe,iSe]=qs(Ky),[Gwe,Ywe]=Kwe(Ky),EF=p.forwardRef((e,r)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:m,form:h,...f}=e,[g,v]=p.useState(null),b=ut(r,S=>v(S)),w=p.useRef(!1),y=g?h||!!g.closest("form"):!0,[N,C]=vi({prop:n,defaultProp:i??!1,onChange:m,caller:Ky});return t.jsxs(Gwe,{scope:s,checked:N,disabled:l,children:[t.jsx(He.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":RF(N),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:b,onClick:Le(e.onClick,S=>{C(k=>!k),y&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})}),y&&t.jsx(MF,{control:g,bubbles:!w.current,name:a,value:d,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});EF.displayName=Ky;var TF="SwitchThumb",OF=p.forwardRef((e,r)=>{const{__scopeSwitch:s,...a}=e,n=Ywe(TF,s);return t.jsx(He.span,{"data-state":RF(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});OF.displayName=TF;var Jwe="SwitchBubbleInput",MF=p.forwardRef(({__scopeSwitch:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ut(o,i),d=Gf(s),m=Nf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&v){const b=new Event("click",{bubbles:a});v.call(h,s),h.dispatchEvent(b)}},[d,s,a]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MF.displayName=Jwe;function RF(e){return e?"checked":"unchecked"}var IF=EF,Xwe=OF;const Qr=p.forwardRef(({className:e,...r},s)=>t.jsx(IF,{className:$e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-gray-600",e),...r,ref:s,children:t.jsx(Xwe,{className:$e("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qr.displayName=IF.displayName;var Gy="Dialog",[DF,LF]=qs(Gy),[Qwe,Pi]=DF(Gy),$F=e=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),d=p.useRef(null),[m,h]=vi({prop:a,defaultProp:n??!1,onChange:i,caller:Gy});return t.jsx(Qwe,{scope:r,triggerRef:l,contentRef:d,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:s})};$F.displayName=Gy;var zF="DialogTrigger",FF=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Pi(zF,s),i=ut(r,n.triggerRef);return t.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":c4(n.open),...a,ref:i,onClick:Le(e.onClick,n.onOpenToggle)})});FF.displayName=zF;var o4="DialogPortal",[Zwe,UF]=DF(o4,{forceMount:void 0}),BF=e=>{const{__scopeDialog:r,forceMount:s,children:a,container:n}=e,i=Pi(o4,r);return t.jsx(Zwe,{scope:r,forceMount:s,children:p.Children.map(a,o=>t.jsx(wa,{present:s||i.open,children:t.jsx(Sf,{asChild:!0,container:n,children:o})}))})};BF.displayName=o4;var ox="DialogOverlay",WF=p.forwardRef((e,r)=>{const s=UF(ox,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Pi(ox,e.__scopeDialog);return i.modal?t.jsx(wa,{present:a||i.open,children:t.jsx(tje,{...n,ref:r})}):null});WF.displayName=ox;var eje=nd("DialogOverlay.RemoveScroll"),tje=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Pi(ox,s);return t.jsx(Fx,{as:eje,allowPinchZoom:!0,shards:[n.contentRef],children:t.jsx(He.div,{"data-state":c4(n.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),gd="DialogContent",VF=p.forwardRef((e,r)=>{const s=UF(gd,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Pi(gd,e.__scopeDialog);return t.jsx(wa,{present:a||i.open,children:i.modal?t.jsx(rje,{...n,ref:r}):t.jsx(sje,{...n,ref:r})})});VF.displayName=gd;var rje=p.forwardRef((e,r)=>{const s=Pi(gd,e.__scopeDialog),a=p.useRef(null),n=ut(r,s.contentRef,a);return p.useEffect(()=>{const i=a.current;if(i)return FS(i)},[]),t.jsx(qF,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,i=>i.preventDefault())})}),sje=p.forwardRef((e,r)=>{const s=Pi(gd,e.__scopeDialog),a=p.useRef(!1),n=p.useRef(!1);return t.jsx(qF,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var d,m;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((m=s.triggerRef.current)==null?void 0:m.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),qF=p.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Pi(gd,s),d=p.useRef(null),m=ut(r,d);return PS(),t.jsxs(t.Fragment,{children:[t.jsx(Rx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:t.jsx(wf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":c4(l.open),...o,ref:m,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(nje,{titleId:l.titleId}),t.jsx(oje,{contentRef:d,descriptionId:l.descriptionId})]})]})}),l4="DialogTitle",HF=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Pi(l4,s);return t.jsx(He.h2,{id:n.titleId,...a,ref:r})});HF.displayName=l4;var KF="DialogDescription",GF=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Pi(KF,s);return t.jsx(He.p,{id:n.descriptionId,...a,ref:r})});GF.displayName=KF;var YF="DialogClose",JF=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Pi(YF,s);return t.jsx(He.button,{type:"button",...a,ref:r,onClick:Le(e.onClick,()=>n.onOpenChange(!1))})});JF.displayName=YF;function c4(e){return e?"open":"closed"}var XF="DialogTitleWarning",[aje,QF]=uJ(XF,{contentName:gd,titleName:l4,docsSlug:"dialog"}),nje=({titleId:e})=>{const r=QF(XF),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},ije="DialogDescriptionWarning",oje=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QF(ije).contentName}}.`;return p.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},ZF=$F,eU=FF,tU=BF,d4=WF,u4=VF,m4=HF,h4=GF,f4=JF,rU="AlertDialog",[lje,oSe]=qs(rU,[LF]),Zo=LF(),sU=e=>{const{__scopeAlertDialog:r,...s}=e,a=Zo(r);return t.jsx(ZF,{...a,...s,modal:!0})};sU.displayName=rU;var cje="AlertDialogTrigger",aU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Zo(s);return t.jsx(eU,{...n,...a,ref:r})});aU.displayName=cje;var dje="AlertDialogPortal",nU=e=>{const{__scopeAlertDialog:r,...s}=e,a=Zo(r);return t.jsx(tU,{...a,...s})};nU.displayName=dje;var uje="AlertDialogOverlay",iU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Zo(s);return t.jsx(d4,{...n,...a,ref:r})});iU.displayName=uje;var Mu="AlertDialogContent",[mje,hje]=lje(Mu),fje=mY("AlertDialogContent"),oU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,children:a,...n}=e,i=Zo(s),o=p.useRef(null),l=ut(r,o),d=p.useRef(null);return t.jsx(aje,{contentName:Mu,titleName:lU,docsSlug:"alert-dialog",children:t.jsx(mje,{scope:s,cancelRef:d,children:t.jsxs(u4,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:Le(n.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[t.jsx(fje,{children:a}),t.jsx(gje,{contentRef:o})]})})})});oU.displayName=Mu;var lU="AlertDialogTitle",cU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Zo(s);return t.jsx(m4,{...n,...a,ref:r})});cU.displayName=lU;var dU="AlertDialogDescription",uU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Zo(s);return t.jsx(h4,{...n,...a,ref:r})});uU.displayName=dU;var pje="AlertDialogAction",mU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Zo(s);return t.jsx(f4,{...n,...a,ref:r})});mU.displayName=pje;var hU="AlertDialogCancel",fU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=hje(hU,s),i=Zo(s),o=ut(r,n);return t.jsx(f4,{...i,...a,ref:o})});fU.displayName=hU;var gje=({contentRef:e})=>{const r=`\`${Mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mu}\` by passing a \`${dU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},xje=sU,yje=aU,vje=nU,pU=iU,gU=oU,xU=mU,yU=fU,vU=cU,bU=uU;const nS=xje,iS=yje,bje=vje,wU=p.forwardRef(({className:e,...r},s)=>t.jsx(pU,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));wU.displayName=pU.displayName;const lx=p.forwardRef(({className:e,...r},s)=>t.jsxs(bje,{children:[t.jsx(wU,{}),t.jsx(gU,{ref:s,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...r})]}));lx.displayName=gU.displayName;const cx=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",e),...r});cx.displayName="AlertDialogHeader";const dx=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});dx.displayName="AlertDialogFooter";const ux=p.forwardRef(({className:e,...r},s)=>t.jsx(vU,{ref:s,className:$e("text-lg font-semibold",e),...r}));ux.displayName=vU.displayName;const mx=p.forwardRef(({className:e,...r},s)=>t.jsx(bU,{ref:s,className:$e("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));mx.displayName=bU.displayName;const hx=p.forwardRef(({className:e,...r},s)=>t.jsx(xU,{ref:s,className:$e(kS(),e),...r}));hx.displayName=xU.displayName;const fx=p.forwardRef(({className:e,...r},s)=>t.jsx(yU,{ref:s,className:$e(kS({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));fx.displayName=yU.displayName;const jU=({campaignId:e,teamMembers:r=[],invitations:s=[],onAddMember:a,onRemoveMember:n,onUpdateRole:i,onResendInvitation:o,onCancelInvitation:l,isEditable:d=!0})=>{const[m,h]=p.useState(""),[f,g]=p.useState("agent"),[v,b]=p.useState("campaign_leads"),[w,y]=p.useState(!1),{toast:N}=ds(),C=async()=>{if(!m.trim()){N({title:"Error",description:"Please enter an email address",variant:"destructive"});return}if(r.some(I=>I.email===m)||s.some(I=>I.email===m&&I.status==="pending")){N({title:"Error",description:"This email is already a team member or has a pending invitation",variant:"destructive"});return}y(!0);try{await a(m,f),h(""),g("member"),N({title:"Invitation Sent",description:`Team invitation sent to ${m}`})}catch{N({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{y(!1)}},S=async(R,I)=>{try{await n(R),N({title:"Member Removed",description:`${I} has been removed from the campaign`})}catch{N({title:"Error",description:"Failed to remove team member",variant:"destructive"})}},k=async(R,I)=>{try{await i(R,I),N({title:"Role Updated",description:"Team member role has been updated"})}catch{N({title:"Error",description:"Failed to update role",variant:"destructive"})}},A=R=>{switch(R){case"owner":return t.jsx(Px,{className:"h-4 w-4 text-yellow-500"});case"manager":return t.jsx(xs,{className:"h-4 w-4 text-blue-500"});case"agent":return t.jsx(bt,{className:"h-4 w-4 text-emerald-500"});case"viewer":return t.jsx(Rr,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(bt,{className:"h-4 w-4 text-gray-500"})}},E=R=>{switch(R){case"owner":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"agent":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"viewer":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},T=R=>{switch(R){case"active":return t.jsx(yt,{className:"h-4 w-4 text-emerald-500"});case"pending":return t.jsx(Rt,{className:"h-4 w-4 text-yellow-500"});case"declined":return t.jsx(Ki,{className:"h-4 w-4 text-red-500"});case"expired":return t.jsx(Gt,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(Rt,{className:"h-4 w-4 text-gray-500"})}},M=R=>{const I=`${window.location.origin}/invite/${R}`;navigator.clipboard.writeText(I),N({title:"Link Copied",description:"Invitation link copied to clipboard"})},L=R=>{switch(R){case"all_leads":return"Access to all CRM leads";case"campaign_leads":return"Access to campaign leads only";case"assigned_leads":return"Access to assigned leads only";case"no_access":return"No CRM access";default:return"Campaign leads only"}},V=R=>{switch(R){case"all_leads":return"text-red-400";case"campaign_leads":return"text-blue-400";case"assigned_leads":return"text-emerald-400";case"no_access":return"text-gray-400";default:return"text-blue-400"}};return t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(bt,{className:"mr-2 h-5 w-5"}),"Team Members",t.jsxs(Ne,{variant:"outline",className:"ml-2 border-gray-600 text-gray-400",children:[r.length," members"]})]})}),t.jsxs(X,{className:"space-y-6",children:[d&&t.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("h4",{className:"flex items-center text-sm font-medium text-white",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Invite Team Member"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Pe,{placeholder:"Enter email address",type:"email",value:m,onChange:R=>h(R.target.value),className:"border-gray-600 bg-gray-800 text-white",onKeyDown:R=>{R.key==="Enter"&&C()}})}),t.jsxs(at,{value:f,onValueChange:g,children:[t.jsx(rt,{className:"w-28 border-gray-600 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"manager",children:"Manager"}),t.jsx(se,{value:"agent",children:"Agent"}),t.jsx(se,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(at,{value:v,onValueChange:b,children:[t.jsx(rt,{className:"w-40 border-gray-600 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all_leads",children:"All CRM Leads"}),t.jsx(se,{value:"campaign_leads",children:"Campaign Leads"}),t.jsx(se,{value:"assigned_leads",children:"Assigned Only"}),t.jsx(se,{value:"no_access",children:"No CRM Access"})]})]}),t.jsx(K,{onClick:C,disabled:w||!m.trim(),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:w?t.jsx(Rt,{className:"h-4 w-4 animate-spin"}):t.jsx(Vl,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:`text-xs ${V(v)} ml-2`,children:[" ",L(v)]})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[" ",t.jsx("strong",{children:"Role & CRM Permissions:"}),t.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Manager:"})," Full campaign control + team management + CRM access"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Agent:"})," Campaign execution + lead management + CRM read/write"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Viewer:"})," Read-only campaign + limited CRM viewing"]})]}),t.jsxs("p",{className:"mt-2 text-xs text-blue-400",children:[" ",t.jsx("strong",{children:"CRM Access Levels:"})," All Leads (full CRM) | Campaign Leads (campaign-specific) | Assigned Only (individual leads) | No Access"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Current Members"}),r.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(bt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Invite team members to collaborate on this campaign"})]}):t.jsx("div",{className:"space-y-2",children:r.map(R=>{var I;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(zu,{className:"h-8 w-8",children:[t.jsx(Fu,{src:R.avatarUrl,alt:R.email}),t.jsx(Uu,{className:"bg-gray-700 text-gray-300",children:((I=R.firstName)==null?void 0:I[0])||R.email[0].toUpperCase()})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"text-sm font-medium text-white",children:R.firstName&&R.lastName?`${R.firstName} ${R.lastName}`:R.email}),T(R.status)]}),t.jsx("p",{className:"text-xs text-gray-400",children:R.email}),t.jsxs("p",{className:`text-xs ${V(R.crmAccessLevel||"campaign_leads")}`,children:[" ",L(R.crmAccessLevel||"campaign_leads")]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(Ne,{variant:"outline",className:E(R.role),children:[A(R.role),t.jsx("span",{className:"ml-1 capitalize",children:R.role})]}),d&&R.role!=="owner"&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(at,{value:R.role,onValueChange:B=>k(R.id,B),children:[t.jsx(rt,{className:"h-8 w-24 border-gray-600 bg-gray-800 text-xs text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"manager",children:"Manager"}),t.jsx(se,{value:"agent",children:"Agent"}),t.jsx(se,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(nS,{children:[t.jsx(iS,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",children:t.jsx(Ws,{className:"h-3 w-3"})})}),t.jsxs(lx,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(cx,{children:[t.jsx(ux,{className:"text-white",children:"Remove Team Member"}),t.jsxs(mx,{className:"text-gray-400",children:["Are you sure you want to remove ",R.email," from this campaign? They will lose access immediately."]})]}),t.jsxs(dx,{children:[t.jsx(fx,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(hx,{onClick:()=>S(R.id,R.email),className:"bg-red-600 text-white hover:bg-red-700",children:"Remove"})]})]})]})]})]})]},R.id)})})]}),s.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-2",children:s.map(R=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-yellow-500/5 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ta,{className:"h-5 w-5 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:R.email}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Invited ",new Date(R.createdAt).toLocaleDateString()," "," ","Expires ",new Date(R.expiresAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(Ne,{variant:"outline",className:E(R.role),children:[A(R.role),t.jsx("span",{className:"ml-1 capitalize",children:R.role})]}),t.jsxs(Ne,{variant:"outline",className:"border-yellow-500/30 text-yellow-400",children:[T(R.status),t.jsx("span",{className:"ml-1 capitalize",children:R.status})]}),d&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>M(R.invitationToken),className:"h-8 w-8 p-0 text-gray-400 hover:text-white",title:"Copy invitation link",children:t.jsx(dn,{className:"h-3 w-3"})}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>o(R.id),className:"h-8 w-8 p-0 text-gray-400 hover:text-emerald-400",title:"Resend invitation",children:t.jsx(Vl,{className:"h-3 w-3"})}),t.jsxs(nS,{children:[t.jsx(iS,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",title:"Cancel invitation",children:t.jsx(Ws,{className:"h-3 w-3"})})}),t.jsxs(lx,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(cx,{children:[t.jsx(ux,{className:"text-white",children:"Cancel Invitation"}),t.jsxs(mx,{className:"text-gray-400",children:["Are you sure you want to cancel the invitation for ",R.email,"?"]})]}),t.jsxs(dx,{children:[t.jsx(fx,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Keep Invitation"}),t.jsx(hx,{onClick:()=>l(R.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Cancel Invitation"})]})]})]})]})]})]},R.id))})]}),t.jsx("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/5 p-3",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(os,{className:"h-4 w-4 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400",children:"Team Management"}),t.jsxs("ul",{className:"mt-1 text-xs text-gray-300 space-y-0.5",children:[t.jsx("li",{children:" Only campaign owners and managers can invite team members"}),t.jsx("li",{children:" Team members can collaborate on campaign execution and analytics"}),t.jsx("li",{children:" Invitations expire after 7 days and can be resent"}),e&&t.jsx("li",{children:" Changes take effect immediately for this campaign"})]})]})]})})]})]})};class wje{constructor(){li(this,"baseUrl","/organization-settings")}async getSettings(){return(await Qt.get(this.baseUrl)).data}async getSetting(r){return(await Qt.get(`${this.baseUrl}/${r}`)).data}async setSetting(r,s,a=!1){await Qt.post(`${this.baseUrl}/${r}`,{value:s,encrypted:a})}async deleteSetting(r){await Qt.delete(`${this.baseUrl}/${r}`)}async bulkUpdateSettings(r){return(await Qt.put(`${this.baseUrl}/bulk`,{settings:r})).data}async getVapiCredentials(){return(await Qt.get(`${this.baseUrl}/vapi/credentials`)).data}async setVapiApiKey(r){await this.setSetting("vapi_api_key",r,!0)}async setVapiWebhookSecret(r){await this.setSetting("vapi_webhook_secret",r,!0)}async setVapiPhoneNumbers(r){await this.setSetting("vapi_phone_numbers",r,!1)}async setVapiAssistants(r){await this.setSetting("vapi_assistants",r,!1)}async setMaxConcurrentCalls(r){await this.setSetting("max_concurrent_calls",r,!1)}async setDefaultUserRole(r){await this.setSetting("default_user_role",r,!1)}async setOrganizationName(r){await this.setSetting("organization_name",r,!1)}async setBillingEmail(r){await this.setSetting("billing_email",r,!1)}async setComplianceSettings(r){await this.setSetting("compliance_settings",r,!1)}async getSettingWithFallback(r,s=null){var a;try{return(await this.getSetting(r)).value}catch(n){if(((a=n.response)==null?void 0:a.status)===404)return s;throw n}}async hasCapability(r){try{const s=await this.getSettings();switch(r){case"vapi_integration":return!!s.settings.vapi_api_key;case"webhooks":return!!s.settings.vapi_webhook_secret;case"phone_numbers":return Array.isArray(s.settings.vapi_phone_numbers)&&s.settings.vapi_phone_numbers.length>0;case"assistants":return Array.isArray(s.settings.vapi_assistants)&&s.settings.vapi_assistants.length>0;default:return!1}}catch(s){return console.error(`Error checking capability ${r}:`,s),!1}}async getCampaignDefaults(){const[r,s,a,n]=await Promise.all([this.getSettingWithFallback("max_concurrent_calls",10),this.getSettingWithFallback("default_working_hours",{enabled:!0,timezone:"America/New_York",hours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}}),this.getSettingWithFallback("compliance_settings",{tcpa_enabled:!0,do_not_call_enabled:!0,recording_consent:!0}),this.getVapiCredentials()]);return{maxConcurrentCalls:r,defaultWorkingHours:s,complianceSettings:a,vapiCredentials:n}}async testVapiConnection(){var r,s,a;try{return(await Qt.post("/vapi/test-connection")).data}catch(n){return{success:!1,message:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.message)||"Connection test failed",details:(a=n.response)==null?void 0:a.data}}}async syncVapiResources(){try{const r=await Qt.post("/vapi/sync-resources");return r.data.phoneNumbers&&await this.setVapiPhoneNumbers(r.data.phoneNumbers),r.data.assistants&&await this.setVapiAssistants(r.data.assistants),r.data}catch(r){throw console.error("Error syncing VAPI resources:",r),r}}async exportSettings(){return(await this.getSettings()).settings}async importSettings(r,s=!1){const a={};for(const[n,i]of Object.entries(r))n.includes("api_key")||n.includes("secret")||n.includes("password")||(a[n]={value:i,encrypted:!1});await this.bulkUpdateSettings(a)}}const px=new wje,jje=({onCampaignCreated:e,onCancel:r})=>{var co,rr,el;const[s,a]=p.useState(1),[n,i]=p.useState(""),[o,l]=p.useState("manual"),[d,m]=p.useState(""),[h,f]=p.useState(""),[g,v]=p.useState("later"),[b,w]=p.useState(null),[y,N]=p.useState(!1),[C,S]=p.useState("today"),[k,A]=p.useState("06:32 PM"),[E,T]=p.useState("Europe/Malta (GMT+2)"),[M,L]=p.useState([]),[V,R]=p.useState([]),[I,B]=p.useState([]),[H,F]=p.useState(!0),[U,O]=p.useState(5),[$,W]=p.useState(20),[q,z]=p.useState(!0),[Q,Ae]=p.useState(10),[de,Z]=p.useState(1),[be,ke]=p.useState("smart"),[Ie,ce]=p.useState({}),[Ce,Te]=p.useState([]),[te,we]=p.useState({minCallDuration:60,autoAcceptScore:80,requireAllFields:!1,disqualifiers:[]}),[Oe,Ue]=p.useState(!0),[ie,Ge]=p.useState("America/New_York"),[Ct,Ot]=p.useState(!0),[Nt,me]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Be,kt]=p.useState(!0),[Ht,_t]=p.useState([]),[vr,Gr]=p.useState(!0),[br,bs]=p.useState(!0),[Er,Ke]=p.useState(30),[Os,ts]=p.useState(["US"]),[hs,pt]=p.useState(!0),[Na,It]=p.useState(0),[Lt,ne]=p.useState(!1),[ye,Fe]=p.useState(""),[it,vt]=p.useState([]),[Zt,wt]=p.useState([]),[ra,sa]=p.useState(!1),[aa,Ai]=p.useState(2),[wr,ws]=p.useState(null),[na,bn]=p.useState(.18),[js,Da]=p.useState(10),[Kt,Ei]=p.useState(null);p.useEffect(()=>{s>1?(ne(!0),s===2?Fe("rateLimiting"):s===3?Fe("qualificationCriteria"):s===4?Fe("retryLogic"):s===5?Fe("workingHours"):s===6?Fe("teamManagement"):s===7&&Fe("review")):(ne(!1),Fe(""))},[s]),p.useEffect(()=>{console.log(" Assistants state updated:",I.length,"items"),I.length>0&&console.log(" First assistant:",I[0])},[I]),p.useEffect(()=>{console.log(" Phone numbers state updated:",V.length,"items"),V.length>0&&console.log(" First phone number:",V[0])},[V]),p.useRef(!1);const{toast:$t}=ds(),tr=a4();p.useEffect(()=>{Ze();const je=setTimeout(()=>{_e()},500);return()=>clearTimeout(je)},[]);const _e=async()=>{var ze,ot,lt,yr;const je=Date.now();console.log(` [${je}] Loading VAPI data for SimpleCampaignWizard...`);try{F(!0);try{const jt=await fetch("/api/health");console.log(" Backend health check:",jt.ok?"OK":"FAILED")}catch{console.error(" Backend is not running! Start it with: cd apps/backend && pnpm dev"),$t({title:"Backend Not Running",description:"Please start the backend server to load VAPI data.",variant:"destructive"}),F(!1);return}try{console.log(` [${je}] Fetching assistants...`);const jt=await tr.get("/vapi-data/assistants");console.log(" Direct assistants API response:",jt);const Xt=jt.data.assistants||[];console.log(` [${je}] Assistants extracted:`,Xt),console.log(` [${je}] Assistants length:`,Xt.length),Xt.length>0?(console.log(` [${je}] Setting assistants state with`,Xt.length,"items"),console.log(" Assistants to set:",Xt),B(Xt)):(console.log(` [${je}] No assistants data or empty array`),B([]))}catch(jt){console.error(" Failed to load assistants:",jt),console.error("Error details:",{message:jt.message,response:jt.response,status:jt.status}),B([]),(ot=(ze=jt.response)==null?void 0:ze.data)!=null&&ot.requiresConfiguration&&$t({title:"VAPI Configuration Required",description:"Please add your VAPI API key in Organization Settings to load assistants.",variant:"default"})}await new Promise(jt=>setTimeout(jt,500));try{console.log(" Fetching phone numbers...");const jt=await tr.get("/vapi-data/phone-numbers");console.log(" Direct API response:",jt);const Xt=jt.data.phoneNumbers||[];console.log(" Phone numbers extracted:",Xt),console.log(" Phone numbers length:",Xt.length),Xt.length>0?(console.log(" Setting phone numbers state with",Xt.length,"items"),console.log(" Phone numbers to set:",Xt),R(Xt),F(Ms=>!Ms),F(Ms=>!Ms)):(console.log(" No phone numbers data or empty array"),R([]))}catch(jt){console.error(" Failed to load phone numbers:",jt),console.error("Error details:",{message:jt.message,response:jt.response,status:jt.status}),R([]),(yr=(lt=jt.response)==null?void 0:lt.data)!=null&&yr.requiresConfiguration&&$t({title:"VAPI Configuration Required",description:"Please add your VAPI API key in Organization Settings to load phone numbers.",variant:"default"})}console.log(" Final VAPI data state:",{assistants:I.length,phoneNumbers:V.length})}catch(jt){console.error(" Unexpected error loading VAPI data:",jt),$t({title:"Warning",description:"Failed to load VAPI data. Please check your configuration.",variant:"destructive"})}finally{F(!1)}},Ze=async()=>{var je;try{const ze=await px.getCampaignDefaults();ze.maxConcurrentCalls&&Da(ze.maxConcurrentCalls),(je=ze.defaultWorkingHours)!=null&&je.enabled&&(Ue(!0),ze.defaultWorkingHours.timezone&&Ge(ze.defaultWorkingHours.timezone),ze.defaultWorkingHours.hours&&me(ze.defaultWorkingHours.hours)),console.log(" Organization defaults loaded successfully")}catch(ze){console.warn(" Could not load organization defaults, using built-in defaults:",ze),Da(5),W(20),Ue(!0)}};p.useEffect(()=>{s===7&&M.length>0&&Pt()},[s,M.length,aa,wr,na,js]);const Pt=()=>{const je=M.length,ze=be==="basic"?2:be==="smart"?3:5,ot=Oe?8:24,lt=je*(1+ze),yr=lt*aa,Xt=lt*aa/js*1.1/60/ot,Ms=yr*na;let Y="healthy",ve=0;wr!==null&&(wr<Ms*.5?(Y="critical",ve=Math.ceil((Ms*1.2-wr)/10)*10):wr<Ms&&(Y="warning",ve=Math.ceil((Ms*1.2-wr)/10)*10)),Ei({totalAttempts:lt,totalMinutes:Math.round(yr),totalCost:Math.round(Ms*100)/100,campaignDays:Math.round(Xt*10)/10,recommendedTopUp:ve,balanceStatus:Y})},At={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting VAPI's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},qualificationCriteria:{title:" Lead Qualification Criteria",description:" Define what makes a qualified lead for your campaign",content:`
##  What is Lead Qualification?

Lead qualification helps you automatically identify and prioritize the most promising prospects from your calling campaigns. The AI analyzes call transcripts to detect specific qualification signals you define.

###  Why Lead Qualification Matters

** Better ROI**
-  Focus follow-up efforts on most promising leads
-  Save time by auto-filtering unqualified prospects
-  Increase conversion rates by 40-60%
-  Scale your sales process efficiently

** AI-Powered Detection**
-  Automatically analyzes call transcripts
-  Tags leads based on qualification criteria
-  Scores leads on multiple dimensions
-  Customizable to your specific needs

###  Preset Qualification Fields

We provide **22 preset fields** across 9 categories that cover most common qualification scenarios:

** Appointment & Follow-up**
-  Appointment Booked (90% weight)
-  Callback Requested (30% weight)
-  Demo Requested (80% weight)

** Interest Level**
-  High Interest Expressed (70% weight)
-  Asking Detailed Questions (50% weight)
-  Use Case Mentioned (60% weight)

** Timeline**
-  Urgent Need (85% weight)
-  Timeline Mentioned (40% weight)

** Budget & Authority**
-  Budget Mentioned (75% weight)
-  Budget Qualified (85% weight)
-  Decision Maker (80% weight)
-  Authority Confirmed (40% weight)

** Pain Points**
-  Pain Point Expressed (65% weight)
-  Problem Fit Confirmed (75% weight)

** Competitor Info**
-  Using Competitor (45% weight)
-  Competitor Dissatisfaction (70% weight)

** Contact Info**
-  Email Provided (35% weight)
-  Best Time to Call (25% weight)
-  Additional Contacts (30% weight)

** Company Info**
-  Company Size Mentioned (40% weight)
-  Industry Mentioned (30% weight)
-  Company Name Confirmed (20% weight)

###  Scoring Weights Explained

Each field has a **scoring weight** (0-100%) that determines its importance:

- **90-100%**: Critical buying signals (appointments, budget qualified)
- **70-89%**: Strong indicators (high interest, pain points)
- **50-69%**: Important context (questions, use cases)
- **30-49%**: Supporting information (company details, timeline)
- **0-29%**: Nice to have (contact preferences)

###  Custom Fields

Beyond presets, you can add **unlimited custom fields** specific to your business:

**Examples:**
-  Healthcare: "Insurance Type", "Patient Volume"
-  Construction: "Project Size", "Timeline to Break Ground"
-  Software: "Current Tech Stack", "Integration Requirements"
-  Retail: "Store Locations", "Annual Revenue"

###  Winning Criteria

Define what combination of fields makes a "winning" lead:

**Minimum Call Duration**
-  Set minimum seconds for qualification (default: 60s)
-  Short calls automatically disqualified
-  Ensures meaningful conversation occurred

**Auto-Accept Score**
-  Leads scoring above threshold auto-qualify (default: 80%)
-  Speeds up lead processing
-  Focuses human review on borderline cases

**Required Fields**
-  Must-have information for qualification
-  Missing required fields = automatic review
-  Examples: Budget range, decision maker status

**Disqualifiers**
-  Automatic rejection triggers
-  Examples: "Already a customer", "Not interested"
-  Saves time on dead-end leads

###  Configuration Tips

** Start Focused**
- Begin with 5-8 critical fields
- Add more as you learn what matters
- Quality over quantity

** Monitor Performance**
- Track which fields best predict conversions
- Adjust weights based on results
- Remove fields that don't correlate

** Industry Alignment**
- Choose fields relevant to your sales process
- Consider your typical buyer journey
- Match your CRM requirements

** Balance Automation**
- Higher auto-accept threshold = fewer false positives
- Lower threshold = more leads need review
- Find your sweet spot through testing

###  Advanced Strategies

** Progressive Qualification**
- Start with basic fields
- Add detailed fields as campaign matures
- Refine based on conversion data

** Segment-Specific Criteria**
- Different criteria for enterprise vs SMB
- Industry-specific qualification
- Geographic considerations

** AI Learning**
- System improves detection over time
- Learns your specific language patterns
- Adapts to your market terminology

###  Best Practices

 **Review Sample Calls**: Listen to calls that barely qualified/disqualified
 **Iterate Quickly**: Adjust criteria based on first 50-100 calls
 **Team Alignment**: Ensure sales team agrees with criteria
 **CRM Integration**: Map fields to your CRM for seamless handoff
 **Regular Audits**: Review criteria quarterly for relevance
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** VAPI API Limits**
-  VAPI may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check VAPI account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Vapi plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Vapi dashboard
      `}},Wr=je=>{Fe(je),ne(!0)},Ti=()=>{const je=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,ze=new Blob([je],{type:"text/csv"}),ot=window.URL.createObjectURL(ze),lt=document.createElement("a");lt.href=ot,lt.download="campaign-template.csv",document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),window.URL.revokeObjectURL(ot)},Xn=je=>{var ot;const ze=(ot=je.target.files)==null?void 0:ot[0];if(ze&&ze.type==="text/csv"){w(ze);const lt=new FileReader;lt.onload=yr=>{var ve,dr;const Xt=((ve=yr.target)==null?void 0:ve.result).split(`
`),Ms=((dr=Xt[0])==null?void 0:dr.split(",").map(Sr=>Sr.trim()))||[],Y=Xt.slice(1).filter(Sr=>Sr.trim()).map(Sr=>{const Dr=Sr.split(",").map(jn=>jn.trim()),Ks={};return Ms.forEach((jn,uo)=>{Ks[jn]=Dr[uo]||""}),Ks});L(Y)},lt.readAsText(ze)}else $t({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},La=()=>{if(s===1){if(!n||!d||!h||!b){$t({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}a(2)}else s===2?a(3):s===3?a(4):s===4?a(5):s===5?a(6):s===6&&a(7)},Qa=()=>{s===7?a(6):s===6?a(5):s===5?a(4):s===4?a(3):s===3?a(2):s===2?a(1):r()},wn=async()=>{var je,ze,ot,lt;console.log(" Starting campaign creation..."),console.log("Campaign data:",{name:n,phoneNumber:d,assistant:h,csvFile:b==null?void 0:b.name,whenToSend:g}),N(!0);try{let yr={vapiCredentials:null,maxConcurrentCalls:js||5,complianceSettings:null};try{yr=await px.getCampaignDefaults(),console.log(" Got organization defaults:",yr)}catch(dr){console.warn(" Could not get organization defaults, using fallbacks:",dr)}const Xt=[{id:"current-user",email:"user@example.com",role:"owner",status:"active",firstName:"Current",lastName:"User",joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...it];let Ms;if(M.length>0){const dr=Object.keys(M[0]),Sr=M.map(Dr=>dr.map(Ks=>Dr[Ks]||"").join(","));Ms=[dr.join(","),...Sr].join(`
`)}const Y={name:n,assistantId:h,phoneNumberId:d,csvData:Ms,sendTiming:g,settings:{callsPerHour:q?$:60,callsPerMinute:q?U:10,retryAttempts:2,timeZone:ie,workingHours:{enabled:Oe,start:"09:00",end:"17:00",defaultTimezone:ie,useContactTimezone:Ct,schedule:Nt,excludeHolidays:Be,customHolidays:Ht,respectDST:vr},rateLimiting:{enabled:q,callsPerMinute:U,callsPerHour:$,customConcurrency:js,delayBetweenCalls:de},retryStrategy:be},qualificationCriteria:{selectedFields:Ie,customFields:Ce,winningCriteria:te},teamManagement:{enabled:ra||Xt.length>1,members:Xt,invitations:Zt},organizationSettings:{vapiCredentials:yr.vapiCredentials,maxConcurrentCalls:yr.maxConcurrentCalls,complianceSettings:yr.complianceSettings}};console.log(" Calling createCampaign with data:",Y);const ve=await Dn.createCampaign(Y);console.log(" Campaign created:",ve),g==="now"&&await Dn.startCampaign(ve.id),$t({title:"Campaign created",description:`Campaign "${n}" has been created successfully!`}),e(ve)}catch(yr){console.error(" Error creating campaign:",yr),console.error("Error details:",{message:yr.message,response:(je=yr.response)==null?void 0:je.data,status:(ze=yr.response)==null?void 0:ze.status});const jt=((lt=(ot=yr.response)==null?void 0:ot.data)==null?void 0:lt.message)||yr.message||"Failed to create campaign. Please try again.";$t({title:"Error",description:jt,variant:"destructive"})}finally{N(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Qa,className:"text-gray-400 hover:text-white",children:t.jsx(ec,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["New campaign ",s===2&&"- Rate Limiting",s===3&&"- Qualification Criteria",s===4&&"- Retry Logic",s===5&&"- Working Hours",s===6&&"- Team Management",s===7&&"- Review & Launch"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${s===1||Lt?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(Pe,{id:"campaign-name",value:n,onChange:je=>i(je.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${o==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>l("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="manual"?"border-emerald-500":"border-gray-600"}`,children:o==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(ee,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(at,{value:d,onValueChange:m,disabled:H,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:H?"Loading...":"Select"})}),t.jsx(st,{className:"bg-gray-800 border-gray-700",children:V.length===0?t.jsx(se,{value:"none",disabled:!0,children:"No phone numbers available"}):V.map(je=>t.jsxs(se,{value:je.id,children:[je.number," ",je.name?`(${je.name})`:""]},je.id))})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(K,{variant:"link",onClick:Ti,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Fl,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),b?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:b.name})]}),t.jsx("button",{onClick:()=>{w(null),L([])},className:"text-gray-400 hover:text-white",children:t.jsx(St,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:Xn,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs("button",{type:"button",onClick:async()=>{console.log(" Manual reload clicked"),console.log(" Current assistants state:",I),console.log(" Current phoneNumbers state:",V),console.log(" Dev auth enabled:","false"),await _e()},className:"text-xs text-emerald-500 hover:text-emerald-400",children:["Reload (",I.length,")"]})]}),t.jsxs(at,{value:h,onValueChange:f,disabled:H,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:H?"Loading...":"Select"})}),t.jsx(st,{className:"bg-gray-800 border-gray-700",children:(console.log(" Rendering assistants dropdown:",{assistantsLength:I.length,assistants:I,loadingVapiData:H}),I.length===0?t.jsx(se,{value:"none",disabled:!0,children:"No assistants available"}):I.map(je=>t.jsx(se,{value:je.id,children:je.name},je.id)))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>v("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="now"?"border-emerald-500":"border-gray-600"}`,children:g==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>v("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="later"?"border-emerald-500":"border-gray-600"}`,children:g==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),g==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(at,{value:C,onValueChange:S,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"tomorrow",children:"Tomorrow"}),t.jsx(se,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(Pe,{type:"text",value:k,onChange:je=>A(je.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(at,{value:E,onValueChange:T,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(se,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(se,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(se,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(se,{value:"Europe/London",children:"London (GMT)"}),t.jsx(se,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),g==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),s===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ns,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(ns,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>Wr("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Qr,{checked:q,onCheckedChange:z})]}),q&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>Wr("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[U," calls/min"]})]}),t.jsx(Ln,{value:[U],onValueChange:je=>O(je[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>Wr("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[$," calls/hr"]})]}),t.jsx(Ln,{value:[$],onValueChange:je=>W(je[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>Wr("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[Q," concurrent"]})]}),t.jsx(Ln,{value:[Q],onValueChange:je=>Ae(je[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>Wr("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[de,"s delay"]})]}),t.jsx(Ln,{value:[de],onValueChange:je=>Z(je[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ba,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(U*60,$)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",M.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:M.length>0?`~${Math.max(1,Math.ceil(M.length/Math.min(U*60,$)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[U,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:Q})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[de,"s"]})]})]})})]}),(U>10||Q>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(va,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),s===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(or,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lead Qualification Criteria"})]}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Define what makes a qualified lead for your campaign. AI will analyze call transcripts to detect these signals."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:"Preset Qualification Fields"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[Object.keys(Ie).filter(je=>Ie[je].enabled).length," selected"]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{category:"appointment",label:"Appointments",icon:_s,count:3},{category:"interest",label:"Interest Level",icon:or,count:3},{category:"timeline",label:"Timeline",icon:Rt,count:2},{category:"budget",label:"Budget",icon:Fr,count:4},{category:"pain_point",label:"Pain Points",icon:Gt,count:2},{category:"company",label:"Company Info",icon:lr,count:3}].map(je=>{var ze,ot,lt,yr;return t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(je.icon,{className:"w-4 h-4 text-emerald-400"}),t.jsx("h4",{className:"text-sm font-medium text-white",children:je.label}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",je.count,")"]})]}),t.jsxs("div",{className:"space-y-2",children:[je.category==="appointment"&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((ze=Ie.appointment_booked)==null?void 0:ze.enabled)||!1,onChange:jt=>ce({...Ie,appointment_booked:{enabled:jt.target.checked,weight:90}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Appointment Booked"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((ot=Ie.demo_requested)==null?void 0:ot.enabled)||!1,onChange:jt=>ce({...Ie,demo_requested:{enabled:jt.target.checked,weight:80}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Demo Requested"})]})]}),je.category==="interest"&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((lt=Ie.high_interest)==null?void 0:lt.enabled)||!1,onChange:jt=>ce({...Ie,high_interest:{enabled:jt.target.checked,weight:70}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"High Interest"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((yr=Ie.asking_questions)==null?void 0:yr.enabled)||!1,onChange:jt=>ce({...Ie,asking_questions:{enabled:jt.target.checked,weight:50}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Asking Questions"})]})]})]})]},je.category)})})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Winning Lead Criteria"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"minCallDuration",className:"text-gray-300 text-sm mb-2",children:"Minimum Call Duration (seconds)"}),t.jsx(Pe,{id:"minCallDuration",type:"number",value:te.minCallDuration,onChange:je=>we({...te,minCallDuration:parseInt(je.target.value)||60}),className:"bg-gray-950 border-gray-700 text-white"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calls shorter than this are auto-disqualified"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"autoAcceptScore",className:"text-gray-300 text-sm mb-2",children:"Auto-Accept Score (%)"}),t.jsx(Pe,{id:"autoAcceptScore",type:"number",value:te.autoAcceptScore,onChange:je=>we({...te,autoAcceptScore:parseInt(je.target.value)||80}),className:"bg-gray-950 border-gray-700 text-white"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leads scoring above this auto-qualify"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300 text-sm mb-2",children:"Disqualifier Keywords"}),t.jsx(Pe,{type:"text",placeholder:"e.g., not interested, already a customer, competitor",className:"bg-gray-950 border-gray-700 text-white",onKeyPress:je=>{if(je.key==="Enter"){const ze=je.currentTarget.value.trim();ze&&(we({...te,disqualifiers:[...te.disqualifiers,ze]}),je.currentTarget.value="")}}}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:te.disqualifiers.map((je,ze)=>t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-500/10 text-red-400",children:[je,t.jsx("button",{onClick:()=>we({...te,disqualifiers:te.disqualifiers.filter((ot,lt)=>lt!==ze)}),className:"ml-1 hover:text-red-300",children:t.jsx(St,{className:"w-3 h-3"})})]},ze))})]})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:"Custom Fields"}),t.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{Te([...Ce,{id:Date.now().toString(),name:"",weight:50,keywords:[]}])},className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Add Custom Field"]})]}),Ce.length===0?t.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No custom fields added yet. Add fields specific to your business."}):t.jsx("div",{className:"space-y-3",children:Ce.map((je,ze)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Pe,{placeholder:"Field name",value:je.name,onChange:ot=>{const lt=[...Ce];lt[ze].name=ot.target.value,Te(lt)},className:"flex-1 bg-gray-950 border-gray-700 text-white"}),t.jsx(Pe,{type:"number",placeholder:"Weight",value:je.weight,onChange:ot=>{const lt=[...Ce];lt[ze].weight=parseInt(ot.target.value)||50,Te(lt)},className:"w-20 bg-gray-950 border-gray-700 text-white"}),t.jsx("button",{onClick:()=>Te(Ce.filter((ot,lt)=>lt!==ze)),className:"p-2 text-gray-400 hover:text-red-400",children:t.jsx(St,{className:"w-4 h-4"})})]},je.id))})]})]}),s===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(or,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(or,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>Wr("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs($l,{value:be,onValueChange:je=>ke(je),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:" Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:" Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:" Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(or,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",be==="basic"&&"Basic (1-2 retries)",be==="smart"&&"Smart (3-5 retries) - Recommended",be==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),s===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Aa,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Aa,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>Wr("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Qr,{checked:Oe,onCheckedChange:Ue})]}),Oe&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(_s,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(Nt).map(([je,ze])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Qr,{checked:ze.enabled,onCheckedChange:ot=>me(lt=>({...lt,[je]:{...lt[je],enabled:ot}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:je}),ze.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(Pe,{type:"text",value:ze.start,onChange:ot=>me(lt=>({...lt,[je]:{...lt[je],start:ot.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(Pe,{type:"text",value:ze.end,onChange:ot=>me(lt=>({...lt,[je]:{...lt[je],end:ot.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!ze.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},je))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(os,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Vt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Qr,{checked:Be,onCheckedChange:kt})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Vt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Qr,{checked:vr,onCheckedChange:Gr})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Aa,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ie.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(Nt).filter(([je,ze])=>ze.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",Nt.monday.enabled?`${Nt.monday.start} - ${Nt.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Be&&"Holiday exclusion",vr&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(ns,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(or,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>Wr("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to VAPI based on their local time"})]})]}),t.jsx(Qr,{checked:hs,onCheckedChange:pt})]})}),hs&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Er}),t.jsx(Ln,{value:[Er],onValueChange:je=>Ke(je[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),Na>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Vt,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[Na," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(_s,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(je=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Os.includes(je),onChange:ze=>{ze.target.checked?ts(ot=>[...ot,je]):ts(ot=>ot.filter(lt=>lt!==je))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:je})]},je))})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(Pe,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:je=>{const ze=je.target.value.split(",").map(ot=>ot.trim()).filter(ot=>ot);_t(ze)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(_s,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ie]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",Os.length>0?Os.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Be&&"Holiday exclusion",vr&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),s===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(bt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(bt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>Wr("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Qr,{checked:ra,onCheckedChange:sa})]}),ra?t.jsx(jU,{teamMembers:it,invitations:Zt,onAddMember:async(je,ze)=>{const ot={id:`inv-${Date.now()}`,email:je,role:ze,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:ze==="manager"?"all_leads":ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:ze==="manager"||ze==="agent",delete:ze==="manager",export:ze==="manager"||ze==="agent",assign:ze==="manager"}};wt(lt=>[...lt,ot])},onRemoveMember:async je=>{vt(ze=>ze.filter(ot=>ot.id!==je))},onUpdateRole:async(je,ze)=>{vt(ot=>ot.map(lt=>lt.id===je?{...lt,role:ze,crmAccessLevel:ze==="manager"?"all_leads":ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:ze==="manager"||ze==="agent",delete:ze==="manager",export:ze==="manager"||ze==="agent",assign:ze==="manager"}}:lt))},onResendInvitation:async je=>{console.log("Resending invitation:",je)},onCancelInvitation:async je=>{wt(ze=>ze.filter(ot=>ot.id!==je))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(K,{onClick:()=>sa(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),ra&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(bt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",it.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",Zt.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",it.length+Zt.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),s===7&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ba,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(or,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",n]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:M.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:be})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Oe?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:it.length+Zt.length})]})]})]}),Kt&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Kt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Kt.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[Kt.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(js/aa).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",js]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Fr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Pe,{type:"number",value:aa,onChange:je=>Ai(Number(je.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",na.toFixed(2)]})]})]})]}),Kt&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",Kt.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Kt.totalMinutes.toLocaleString()," minutes  $",na,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(n0,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(Pe,{type:"number",placeholder:"Enter your current balance",value:wr||"",onChange:je=>ws(je.target.value?Number(je.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(Yi,{className:"w-3 h-3 ml-1"})]})]})]}),wr!==null&&Kt&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${Kt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":Kt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[Kt.balanceStatus==="healthy"?t.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):Kt.balanceStatus==="warning"?t.jsx(va,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Gt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${Kt.balanceStatus==="healthy"?"text-emerald-300":Kt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:Kt.balanceStatus==="healthy"?"Balance Healthy":Kt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",wr.toLocaleString()," | Required: $",Kt.totalCost.toLocaleString()," |",Kt.balanceStatus==="healthy"?` Surplus: $${(wr-Kt.totalCost).toLocaleString()}`:` Deficit: $${(Kt.totalCost-wr).toLocaleString()}`]})]}),Kt.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",Kt.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(Yi,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Vt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),Kt&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(zo,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:Kt.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",Kt.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:Kt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(K,{variant:"outline",onClick:Qa,disabled:y,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:s===1?"Cancel":"Back"}),t.jsx(K,{onClick:s===7?wn:La,disabled:y,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:s===7?y?"Creating...":"Launch campaign":"Next"})]})})]}),s===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:b&&M.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",M.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(M[0]||{}).map((je,ze)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:je},je))})}),t.jsx("tbody",{children:M.map((je,ze)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(je).map((ot,lt)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:ot,children:ot})},lt))},ze))})]})})}),M.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",M.length," contacts  Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),s>1&&t.jsx("div",{className:`${Lt?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Lt&&ye&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(co=At[ye])==null?void 0:co.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(rr=At[ye])==null?void 0:rr.description})]}),t.jsx("button",{onClick:()=>ne(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(St,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(el=At[ye])==null?void 0:el.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>ne(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})},Nje=({campaign:e,onCampaignUpdated:r,onCancel:s})=>{var Ei,$t,tr;const[a,n]=p.useState(1),[i,o]=p.useState(e.name||""),[l,d]=p.useState(e.campaignType==="b2b"?"b2b":e.campaignType==="b2c"?"b2c":"manual"),[m,h]=p.useState(e.phoneNumber||""),[f,g]=p.useState(e.assistantName||""),[v,b]=p.useState("later"),[w,y]=p.useState(null),[N,C]=p.useState(!1),[S,k]=p.useState("today"),[A,E]=p.useState("06:32 PM"),[T,M]=p.useState("Europe/Malta (GMT+2)"),[L,V]=p.useState([]),[R,I]=p.useState(5),[B,H]=p.useState(20),[F,U]=p.useState(!0),[O,$]=p.useState(10),[W,q]=p.useState(1),[z,Q]=p.useState("smart"),[Ae,de]=p.useState(!0),[Z,be]=p.useState("America/New_York"),[ke,Ie]=p.useState(!0),[ce,Ce]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Te,te]=p.useState(!0),[we,Oe]=p.useState([]),[Ue,ie]=p.useState(!0),[Ge,Ct]=p.useState(!0),[Ot,Nt]=p.useState(30),[me,Be]=p.useState(["US"]),[kt,Ht]=p.useState(!0),[_t,vr]=p.useState(0),[Gr,br]=p.useState(!1),[bs,Er]=p.useState(""),[Ke,Os]=p.useState([]),[ts,hs]=p.useState([]),[pt,Na]=p.useState(!1),[It,Lt]=p.useState(2),[ne,ye]=p.useState(null),[Fe,it]=p.useState(.18),[vt,Zt]=p.useState(10),[wt,ra]=p.useState(null);p.useEffect(()=>{a>1?(br(!0),a===2?Er("rateLimiting"):a===3?Er("retryLogic"):a===4?Er("workingHours"):a===5?Er("teamManagement"):a===6&&Er("review")):(br(!1),Er(""))},[a]);const{toast:sa}=ds();p.useEffect(()=>{aa()},[]);const aa=async()=>{try{const _e=await px.getCampaignDefaults();Zt(_e.maxConcurrentCalls),_e.defaultWorkingHours.enabled&&(de(!0),be(_e.defaultWorkingHours.timezone),Ce(_e.defaultWorkingHours.hours)),sa({title:"Organization Settings Loaded",description:"Campaign defaults loaded from organization settings"})}catch(_e){console.error("Error loading organization defaults:",_e)}};p.useEffect(()=>{a===6&&L.length>0&&Ai()},[a,L.length,It,ne,Fe,vt]);const Ai=()=>{const _e=L.length,Ze=z==="basic"?2:z==="smart"?3:5,Pt=Ae?8:24,At=_e*(1+Ze),Wr=At*It,Xn=At*It/vt*1.1/60/Pt,La=Wr*Fe;let Qa="healthy",wn=0;ne!==null&&(ne<La*.5?(Qa="critical",wn=Math.ceil((La*1.2-ne)/10)*10):ne<La&&(Qa="warning",wn=Math.ceil((La*1.2-ne)/10)*10)),ra({totalAttempts:At,totalMinutes:Math.round(Wr),totalCost:Math.round(La*100)/100,campaignDays:Math.round(Xn*10)/10,recommendedTopUp:wn,balanceStatus:Qa})},wr={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting VAPI's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** VAPI API Limits**
-  VAPI may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check VAPI account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Vapi plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Vapi dashboard
      `}},ws=_e=>{Er(_e),br(!0)},na=()=>{const _e=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,Ze=new Blob([_e],{type:"text/csv"}),Pt=window.URL.createObjectURL(Ze),At=document.createElement("a");At.href=Pt,At.download="campaign-template.csv",document.body.appendChild(At),At.click(),document.body.removeChild(At),window.URL.revokeObjectURL(Pt)},bn=_e=>{var Pt;const Ze=(Pt=_e.target.files)==null?void 0:Pt[0];if(Ze&&Ze.type==="text/csv"){y(Ze);const At=new FileReader;At.onload=Wr=>{var wn,co;const Xn=((wn=Wr.target)==null?void 0:wn.result).split(`
`),La=((co=Xn[0])==null?void 0:co.split(",").map(rr=>rr.trim()))||[],Qa=Xn.slice(1).filter(rr=>rr.trim()).map(rr=>{const el=rr.split(",").map(ze=>ze.trim()),je={};return La.forEach((ze,ot)=>{je[ze]=el[ot]||""}),je});V(Qa)},At.readAsText(Ze)}else sa({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},js=()=>{if(a===1){if(!i||!m||!f||!w){sa({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}n(2)}else a===2?n(3):a===3?n(4):a===4?n(5):a===5&&n(6)},Da=()=>{a===6?n(5):a===5?n(4):a===4?n(3):a===3?n(2):a===2?n(1):s()},Kt=async()=>{C(!0);try{const _e=await px.getCampaignDefaults(),Pt=[{id:(userContext==null?void 0:userContext.id)||"current-user",email:(userContext==null?void 0:userContext.email)||"",role:"owner",status:"active",firstName:userContext==null?void 0:userContext.firstName,lastName:userContext==null?void 0:userContext.lastName,joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...Ke],At={name:i,assistantId:f,phoneNumberId:m,settings:{callsPerHour:F?B:60,callsPerMinute:F?R:10,retryAttempts:2,timeZone:Z,workingHours:{enabled:Ae,start:"09:00",end:"17:00",defaultTimezone:Z,useContactTimezone:ke,schedule:ce,excludeHolidays:Te,customHolidays:we,respectDST:Ue},rateLimiting:{enabled:F,callsPerMinute:R,callsPerHour:B,customConcurrency:vt,delayBetweenCalls:W},retryStrategy:z},teamManagement:{enabled:pt||Pt.length>1,members:Pt,invitations:ts},organizationSettings:{vapiCredentials:_e.vapiCredentials,maxConcurrentCalls:_e.maxConcurrentCalls,complianceSettings:_e.complianceSettings}},Wr=await Dn.createCampaign(At);w&&await Dn.uploadLeads(Wr.id,w),v==="now"&&await Dn.startCampaign(Wr.id),sa({title:"Campaign updated",description:`Campaign "${i}" has been updated successfully!`});const Ti={...Wr,name:i,assistantName:f,phoneNumber:m,campaignType:l,settings:{...Wr.settings,callsPerHour:F?B:60,callsPerMinute:F?R:10,retryAttempts:2,timeZone:Z,workingHours:{enabled:Ae,start:"09:00",end:"17:00",defaultTimezone:Z,useContactTimezone:ke,schedule:ce,excludeHolidays:Te,customHolidays:we,respectDST:Ue}}};r(Ti)}catch(_e){console.error("Error updating campaign:",_e),sa({title:"Error",description:"Failed to update campaign. Please try again.",variant:"destructive"})}finally{C(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Da,className:"text-gray-400 hover:text-white",children:t.jsx(ec,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["Edit campaign ",a===2&&"- Rate Limiting",a===3&&"- Retry Logic",a===4&&"- Working Hours",a===5&&"- Team Management",a===6&&"- Review & Save"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${a===1||Gr?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(Pe,{id:"campaign-name",value:i,onChange:_e=>o(_e.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${l==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>d("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l==="manual"?"border-emerald-500":"border-gray-600"}`,children:l==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(ee,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(at,{value:m,onValueChange:h,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select"})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"number1",children:"+1 (555) 123-4567"}),t.jsx(se,{value:"number2",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(K,{variant:"link",onClick:na,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Fl,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),w?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:w.name})]}),t.jsx("button",{onClick:()=>{y(null),V([])},className:"text-gray-400 hover:text-white",children:t.jsx(St,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:bn,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs(at,{value:f,onValueChange:g,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select"})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"assistant1",children:"Sales Assistant"}),t.jsx(se,{value:"assistant2",children:"Support Assistant"}),t.jsx(se,{value:"assistant3",children:"Survey Assistant"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${v==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>b("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${v==="now"?"border-emerald-500":"border-gray-600"}`,children:v==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${v==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>b("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${v==="later"?"border-emerald-500":"border-gray-600"}`,children:v==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),v==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(at,{value:S,onValueChange:k,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"tomorrow",children:"Tomorrow"}),t.jsx(se,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(Pe,{type:"text",value:A,onChange:_e=>E(_e.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(at,{value:T,onValueChange:M,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(se,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(se,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(se,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(se,{value:"Europe/London",children:"London (GMT)"}),t.jsx(se,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),v==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),a===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ns,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(ns,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>ws("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Qr,{checked:F,onCheckedChange:U})]}),F&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>ws("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[R," calls/min"]})]}),t.jsx(Ln,{value:[R],onValueChange:_e=>I(_e[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>ws("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[B," calls/hr"]})]}),t.jsx(Ln,{value:[B],onValueChange:_e=>H(_e[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>ws("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[O," concurrent"]})]}),t.jsx(Ln,{value:[O],onValueChange:_e=>$(_e[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>ws("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[W,"s delay"]})]}),t.jsx(Ln,{value:[W],onValueChange:_e=>q(_e[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ba,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(R*60,B)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",L.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:L.length>0?`~${Math.max(1,Math.ceil(L.length/Math.min(R*60,B)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[R,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:O})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[W,"s"]})]})]})})]}),(R>10||O>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(va,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),a===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(or,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(or,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>ws("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs($l,{value:z,onValueChange:_e=>Q(_e),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:" Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:" Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:" Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(or,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",z==="basic"&&"Basic (1-2 retries)",z==="smart"&&"Smart (3-5 retries) - Recommended",z==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),a===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Aa,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Aa,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>ws("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Qr,{checked:Ae,onCheckedChange:de})]}),Ae&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(_s,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(ce).map(([_e,Ze])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Qr,{checked:Ze.enabled,onCheckedChange:Pt=>Ce(At=>({...At,[_e]:{...At[_e],enabled:Pt}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:_e}),Ze.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(Pe,{type:"text",value:Ze.start,onChange:Pt=>Ce(At=>({...At,[_e]:{...At[_e],start:Pt.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(Pe,{type:"text",value:Ze.end,onChange:Pt=>Ce(At=>({...At,[_e]:{...At[_e],end:Pt.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!Ze.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},_e))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(os,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Vt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Qr,{checked:Te,onCheckedChange:te})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Vt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Qr,{checked:Ue,onCheckedChange:ie})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Aa,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",Z.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(ce).filter(([_e,Ze])=>Ze.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",ce.monday.enabled?`${ce.monday.start} - ${ce.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Te&&"Holiday exclusion",Ue&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(ns,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(or,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>ws("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to VAPI based on their local time"})]})]}),t.jsx(Qr,{checked:kt,onCheckedChange:Ht})]})}),kt&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Ot}),t.jsx(Ln,{value:[Ot],onValueChange:_e=>Nt(_e[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),_t>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Vt,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[_t," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(_s,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(_e=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:me.includes(_e),onChange:Ze=>{Ze.target.checked?Be(Pt=>[...Pt,_e]):Be(Pt=>Pt.filter(At=>At!==_e))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:_e})]},_e))})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(Pe,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:_e=>{const Ze=_e.target.value.split(",").map(Pt=>Pt.trim()).filter(Pt=>Pt);Oe(Ze)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(_s,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",Z]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",me.length>0?me.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Te&&"Holiday exclusion",Ue&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),a===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(bt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(bt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>ws("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Vt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Qr,{checked:pt,onCheckedChange:Na})]}),pt?t.jsx(jU,{teamMembers:Ke,invitations:ts,onAddMember:async(_e,Ze)=>{const Pt={id:`inv-${Date.now()}`,email:_e,role:Ze,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:Ze==="manager"?"all_leads":Ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ze==="manager"||Ze==="agent",delete:Ze==="manager",export:Ze==="manager"||Ze==="agent",assign:Ze==="manager"}};hs(At=>[...At,Pt])},onRemoveMember:async _e=>{Os(Ze=>Ze.filter(Pt=>Pt.id!==_e))},onUpdateRole:async(_e,Ze)=>{Os(Pt=>Pt.map(At=>At.id===_e?{...At,role:Ze,crmAccessLevel:Ze==="manager"?"all_leads":Ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ze==="manager"||Ze==="agent",delete:Ze==="manager",export:Ze==="manager"||Ze==="agent",assign:Ze==="manager"}}:At))},onResendInvitation:async _e=>{console.log("Resending invitation:",_e)},onCancelInvitation:async _e=>{hs(Ze=>Ze.filter(Pt=>Pt.id!==_e))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(K,{onClick:()=>Na(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),pt&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(bt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",Ke.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",ts.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",Ke.length+ts.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),a===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ba,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(or,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",i]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:L.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:z})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Ae?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Ke.length+ts.length})]})]})]}),wt&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:wt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:wt.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[wt.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(vt/It).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",vt]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Fr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Pe,{type:"number",value:It,onChange:_e=>Lt(Number(_e.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",Fe.toFixed(2)]})]})]})]}),wt&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",wt.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[wt.totalMinutes.toLocaleString()," minutes  $",Fe,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(n0,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(Pe,{type:"number",placeholder:"Enter your current balance",value:ne||"",onChange:_e=>ye(_e.target.value?Number(_e.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(Yi,{className:"w-3 h-3 ml-1"})]})]})]}),ne!==null&&wt&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${wt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":wt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[wt.balanceStatus==="healthy"?t.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):wt.balanceStatus==="warning"?t.jsx(va,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Gt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${wt.balanceStatus==="healthy"?"text-emerald-300":wt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:wt.balanceStatus==="healthy"?"Balance Healthy":wt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",ne.toLocaleString()," | Required: $",wt.totalCost.toLocaleString()," |",wt.balanceStatus==="healthy"?` Surplus: $${(ne-wt.totalCost).toLocaleString()}`:` Deficit: $${(wt.totalCost-ne).toLocaleString()}`]})]}),wt.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",wt.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(Yi,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Vt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),wt&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(zo,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:wt.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",wt.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:wt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(K,{variant:"outline",onClick:Da,disabled:N,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:a===1?"Cancel":"Back"}),t.jsx(K,{onClick:a===6?Kt:js,disabled:N,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:a===6?N?"Saving...":"Save Changes":"Next"})]})})]}),a===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:w&&L.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",L.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(L[0]||{}).map((_e,Ze)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:_e},_e))})}),t.jsx("tbody",{children:L.map((_e,Ze)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(_e).map((Pt,At)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:Pt,children:Pt})},At))},Ze))})]})})}),L.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",L.length," contacts  Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),a>1&&t.jsx("div",{className:`${Gr?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Gr&&bs&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(Ei=wr[bs])==null?void 0:Ei.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:($t=wr[bs])==null?void 0:$t.description})]}),t.jsx("button",{onClick:()=>br(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(St,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(tr=wr[bs])==null?void 0:tr.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>br(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})};var p4="Progress",g4=100,[Sje,lSe]=qs(p4),[Cje,kje]=Sje(p4),NU=p.forwardRef((e,r)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=_je,...o}=e;(n||n===0)&&!nO(n)&&console.error(Pje(`${n}`,"Progress"));const l=nO(n)?n:g4;a!==null&&!iO(a,l)&&console.error(Aje(`${a}`,"Progress"));const d=iO(a,l)?a:null,m=gx(d)?i(d,l):void 0;return t.jsx(Cje,{scope:s,value:d,max:l,children:t.jsx(He.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gx(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":kU(d,l),"data-value":d??void 0,"data-max":l,...o,ref:r})})});NU.displayName=p4;var SU="ProgressIndicator",CU=p.forwardRef((e,r)=>{const{__scopeProgress:s,...a}=e,n=kje(SU,s);return t.jsx(He.div,{"data-state":kU(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});CU.displayName=SU;function _je(e,r){return`${Math.round(e/r*100)}%`}function kU(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function gx(e){return typeof e=="number"}function nO(e){return gx(e)&&!isNaN(e)&&e>0}function iO(e,r){return gx(e)&&!isNaN(e)&&e<=r&&e>=0}function Pje(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${g4}\`.`}function Aje(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${g4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _U=NU,Eje=CU;const gr=p.forwardRef(({className:e,value:r,...s},a)=>t.jsx(_U,{ref:a,className:$e("relative h-2 w-full overflow-hidden rounded-full bg-gray-800",e),...s,children:t.jsx(Eje,{className:"h-full w-full flex-1 bg-gradient-to-r from-pink-500 to-pink-600 transition-all duration-300",style:{transform:`translateX(-${100-(r||0)}%)`}})}));gr.displayName=_U.displayName;const Tje=vf("relative w-full rounded-lg border border-zinc-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-zinc-950 [&>svg~*]:pl-7 dark:border-zinc-800 dark:[&>svg]:text-zinc-50",{variants:{variant:{default:"bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),nr=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx("div",{ref:a,role:"alert",className:$e(Tje({variant:r}),e),...s}));nr.displayName="Alert";const PU=p.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:$e("mb-1 font-medium leading-none tracking-tight",e),...r}));PU.displayName="AlertTitle";const ir=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("text-sm [&_p]:leading-relaxed",e),...r}));ir.displayName="AlertDescription";const Oje=()=>{const[e,r]=p.useState({current:25,limit:50,queued:12,available:25,peak24h:47,averageUtilization:68,totalCallsToday:1247,estimatedCost:324.5}),[s,a]=p.useState([{id:"1",name:"Real Estate Outreach",activeCalls:15,queuedCalls:8,priority:"high",status:"active",budget:2e3,spent:845.3},{id:"2",name:"Insurance Follow-up",activeCalls:10,queuedCalls:4,priority:"medium",status:"active",budget:1500,spent:623.2},{id:"3",name:"Solar Panel Campaign",activeCalls:0,queuedCalls:0,priority:"low",status:"paused",budget:1e3,spent:267.8}]),[n,i]=p.useState({enabled:!0,minLimit:10,maxLimit:100,scaleUpThreshold:80,scaleDownThreshold:30,budgetLimit:1e3,peakHoursEnabled:!0,peakHours:{start:"09:00",end:"17:00"}}),[o,l]=p.useState(50),[d,m]=p.useState(!1);p.useEffect(()=>{const y=setInterval(()=>{r(N=>({...N,current:Math.max(0,N.current+Math.floor(Math.random()*6)-3),queued:Math.max(0,N.queued+Math.floor(Math.random()*4)-2),available:N.limit-N.current}))},3e3);return()=>clearInterval(y)},[]),p.useEffect(()=>{e.current/e.limit*100>85&&m(!0)},[e]);const h=()=>{const y=e.current/e.limit*100;if(y>n.scaleUpThreshold&&e.limit<n.maxLimit){const N=Math.min(n.maxLimit,e.limit+10);r(C=>({...C,limit:N,available:N-C.current})),l(N)}else if(y<n.scaleDownThreshold&&e.limit>n.minLimit){const N=Math.max(n.minLimit,e.limit-5);r(C=>({...C,limit:N,available:N-C.current})),l(N)}},f=y=>{const N=y[0];l(N),r(C=>({...C,limit:N,available:N-C.current}))},g=(y,N)=>{a(C=>C.map(S=>S.id===y?{...S,status:N==="pause"?"paused":"active"}:S))},v=y=>y<50?"text-emerald-400":y<80?"text-yellow-400":"text-red-400",b=y=>{switch(y){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},w=e.current/e.limit*100;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dynamic Concurrency Manager"}),t.jsx("p",{className:"text-gray-400",children:"Monitor and optimize Vapi org-level concurrency in real-time"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(as,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700",onClick:()=>window.open("https://dashboard.vapi.ai","_blank"),children:[t.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Vapi Dashboard"]})]})]}),d&&t.jsxs(nr,{className:"border-orange-500 bg-orange-500/10",children:[t.jsx(va,{className:"h-4 w-4"}),t.jsxs(ir,{className:"flex items-center justify-between",children:[t.jsxs("span",{children:["Nearing concurrency limit (",w.toFixed(1),"% utilized). Consider upgrading your Vapi plan."]}),t.jsx(K,{size:"sm",onClick:()=>window.open("https://dashboard.vapi.ai/billing","_blank"),className:"bg-orange-600 hover:bg-orange-700",children:"Upgrade Now"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(Us,{className:"h-4 w-4 mr-2 text-emerald-500"}),"Active Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.current}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",e.limit," limit"]}),t.jsx(gr,{value:w,className:"mt-2 h-2"})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(bt,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Queued Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.queued}),t.jsx("p",{className:"text-xs text-gray-500",children:"waiting for slots"}),e.queued>0&&t.jsx(Ne,{variant:"outline",className:"mt-2 text-xs text-yellow-400 border-yellow-400",children:"Auto-retry active"})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(HM,{className:"h-4 w-4 mr-2 text-blue-500"}),"Utilization"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:`text-2xl font-bold ${v(w)}`,children:[w.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["24h avg: ",e.averageUtilization,"%"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(ba,{className:"h-4 w-4 mr-2 text-purple-500"}),"Today's Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.totalCallsToday.toLocaleString()}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Est. cost: $",e.estimatedCost]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white flex items-center",children:[t.jsx(os,{className:"h-5 w-5 mr-2"}),"Manual Controls"]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Concurrency Limit"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[o," sessions"]})]}),t.jsx(Ln,{value:[o],onValueChange:f,max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"5 min"}),t.jsxs("span",{children:["Current: ",o]}),t.jsx("span",{children:"200 max"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(K,{variant:"outline",onClick:h,className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(ns,{className:"h-4 w-4 mr-2"}),"Auto Scale"]}),t.jsxs(K,{variant:"outline",className:"border-gray-700",onClick:()=>m(!1),children:[t.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Clear Alerts"]})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white flex items-center",children:[t.jsx(XG,{className:"h-5 w-5 mr-2"}),"Auto-scaling Rules"]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Enable Auto-scaling"}),t.jsx(Qr,{checked:n.enabled,onCheckedChange:y=>i(N=>({...N,enabled:y}))})]}),n.enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Up at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleUpThreshold,"% utilization"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Down at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleDownThreshold,"% utilization"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Min Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.minLimit," sessions"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Max Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.maxLimit," sessions"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Peak Hours Boost"}),t.jsx(Qr,{checked:n.peakHoursEnabled,onCheckedChange:y=>i(N=>({...N,peakHoursEnabled:y}))})]})]})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white flex items-center",children:[t.jsx(or,{className:"h-5 w-5 mr-2"}),"Campaign Queue Management"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-4",children:s.map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${b(y.priority)}`}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:y.name}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(xt,{className:"h-3 w-3 mr-1"}),y.activeCalls," active"]}),y.queuedCalls>0&&t.jsxs("span",{className:"flex items-center text-yellow-400",children:[t.jsx(or,{className:"h-3 w-3 mr-1"}),y.queuedCalls," queued"]}),t.jsxs("span",{children:["Priority: ",y.priority]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm text-white",children:["$",y.spent.toFixed(2)," / $",y.budget]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[(y.spent/y.budget*100).toFixed(1),"% used"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[y.status==="active"?t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>g(y.id,"pause"),className:"border-amber-600 text-amber-400 hover:bg-amber-600/20",children:[t.jsx(Lu,{className:"h-3 w-3 mr-1"}),"Pause"]}):t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>g(y.id,"resume"),className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Bn,{className:"h-3 w-3 mr-1"}),"Resume"]}),t.jsx(Ne,{variant:"outline",className:y.status==="active"?"border-emerald-600 text-emerald-400":y.status==="paused"?"border-amber-600 text-amber-400":"border-gray-600 text-gray-400",children:y.status})]})]})]},y.id))}),t.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Vt,{className:"h-5 w-5 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-1",children:"Queue Management Tips"}),t.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[t.jsx("li",{children:" High priority campaigns get queue preference"}),t.jsx("li",{children:" Vapi automatically retries queued calls for up to 1 hour"}),t.jsx("li",{children:" Pause low-priority campaigns during peak hours to prevent bottlenecks"}),t.jsx("li",{children:" Monitor budget utilization to prevent overspending"})]})]})]})})]})]})]})},rN=()=>{console.log(" VapiDashboard component is rendering!");const[e,r]=p.useState(!0),[s,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(null),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,v]=p.useState(null),[b,w]=p.useState("all"),[y,N]=p.useState([]),[C,S]=p.useState("all"),[k,A]=p.useState(!1),[E,T]=p.useState("campaigns"),{toast:M}=ds(),{userContext:L}=ao(),V=Nr();a4(),p.useEffect(()=>{console.log(" VapiDashboard: Component mounted, starting data load..."),(async()=>{try{await R()}catch(O){console.error(" VapiDashboard: Critical error during initialization:",O),a([]),i([]),l({}),A(!0),r(!1)}})()},[k]);const R=async(U=!0)=>{console.log(" VapiDashboard: Starting data load, showLoader:",U),U&&r(!0);try{console.log(" VapiDashboard: Loading real campaigns data...");const O=await Dn.getCampaigns();console.log(" VapiDashboard: Real campaigns loaded:",O),O&&Array.isArray(O)?(a(O),console.log(" Set",O.length,"real campaigns")):(console.warn("Campaigns data is not an array:",O),a([]));const $=await Dn.getRecentCalls(10);console.log(" VapiDashboard: Recent calls loaded:",$),i($||[]);const W=O.reduce((q,z)=>({totalCalls:q.totalCalls+(z.totalLeads||0),totalCost:q.totalCost+(z.totalCost||0),successfulCalls:q.successfulCalls+Math.floor((z.callsCompleted||0)*(z.successRate||0)/100),totalDuration:q.totalDuration+(z.callsCompleted||0)*120,totalCompletedCalls:q.totalCompletedCalls+(z.callsCompleted||0)}),{totalCalls:0,totalCost:0,successfulCalls:0,totalDuration:0,totalCompletedCalls:0});W.successRate=W.totalCalls>0?W.successfulCalls/W.totalCalls*100:0,W.averageDuration=W.totalCompletedCalls>0?W.totalDuration/W.totalCompletedCalls:0,W.sentimentBreakdown={positive:Math.round(W.successfulCalls*.6),neutral:Math.round(W.successfulCalls*.3),negative:Math.round(W.successfulCalls*.1)},W.sentimentBreakdown||(W.sentimentBreakdown={positive:0,neutral:0,negative:0}),W.outcomeBreakdown||(W.outcomeBreakdown={}),W.successRate||(W.successRate=0),W.totalCost||(W.totalCost=0),W.activeAssistants||(W.activeAssistants=0),l(W),A(!0)}catch(O){console.error("Error loading dashboard data:",O),a([]),i([]),l({}),M({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{U&&r(!1)}},I=async(U,O)=>{try{let $;switch(O){case"start":$=await Dn.startCampaign(U);break;case"pause":$=await Dn.pauseCampaign(U);break;case"resume":$=await Dn.resumeCampaign(U);break;default:throw new Error(`Unknown action: ${O}`)}M({title:"Success",description:`Campaign ${O}ed successfully`}),R(!1)}catch($){console.error(`Failed to ${O} campaign:`,$),M({title:"Error",description:`Failed to ${O} campaign. Please try again.`,variant:"destructive"})}},B=U=>{switch(U==null?void 0:U.toLowerCase()){case"active":return"text-emerald-400 bg-emerald-500/10 border-emerald-500/30";case"paused":return"text-amber-400 bg-amber-500/10 border-amber-500/30";case"completed":return"text-blue-400 bg-blue-500/10 border-blue-500/30";case"failed":return"text-red-400 bg-red-500/10 border-red-500/30";default:return"text-gray-400 bg-gray-500/10 border-gray-500/30"}},H=U=>{switch(U==null?void 0:U.toLowerCase()){case"active":return t.jsx(UG,{className:"h-3 w-3"});case"paused":return t.jsx(FG,{className:"h-3 w-3"});case"completed":return t.jsx(yt,{className:"h-3 w-3"});case"failed":return t.jsx(Gt,{className:"h-3 w-3"});default:return t.jsx(BG,{className:"h-3 w-3"})}},F=(s||[]).filter(U=>b==="all"?!0:b==="active"?U.status==="active":b==="paused"?U.status==="paused":!0);return e?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-400"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading campaigns dashboard..."})]})}):t.jsxs("div",{className:"w-full bg-black min-h-screen px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("h1",{className:"text-2xl font-bold text-white",children:"VAPI Dashboard"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(K,{variant:"outline",onClick:()=>R(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),"Refresh"]}),E==="campaigns"&&t.jsxs(K,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex space-x-1 bg-gray-900 p-1 rounded-lg w-fit",children:[t.jsxs("button",{onClick:()=>T("campaigns"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${E==="campaigns"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(or,{className:"mr-2 h-4 w-4 inline"}),"Campaigns"]}),t.jsxs("button",{onClick:()=>T("concurrency"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${E==="concurrency"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(HM,{className:"mr-2 h-4 w-4 inline"}),"Concurrency Manager"]})]})}),E==="campaigns"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Campaigns"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(or,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(U=>U.status==="active").length})]}),t.jsx(Bn,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Paused"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(U=>U.status==="paused").length})]}),t.jsx(Lu,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Draft"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(U=>U.status==="draft").length})]})})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"border-b border-gray-800/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-2xl font-bold text-white mb-2",children:"Campaigns"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Manage and monitor your voice AI campaigns"})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800/50 rounded-lg p-1",children:[t.jsx(K,{variant:b==="all"?"default":"ghost",size:"sm",onClick:()=>w("all"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${b==="all"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"All"}),t.jsx(K,{variant:b==="active"?"default":"ghost",size:"sm",onClick:()=>w("active"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${b==="active"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Active"}),t.jsx(K,{variant:b==="paused"?"default":"ghost",size:"sm",onClick:()=>w("paused"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${b==="paused"?"bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Paused"})]})]})}),t.jsx(X,{className:"p-0",children:F.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(or,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"mb-4 text-gray-400",children:"No campaigns found"}),t.jsxs(K,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]}):t.jsx("div",{className:"space-y-6",children:F.map((U,O)=>{var $,W;return t.jsxs("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-gray-800 bg-gradient-to-r from-gray-900/80 to-gray-800/50 p-6 backdrop-blur-sm transition-all duration-300 hover:border-gray-600 hover:shadow-xl hover:shadow-black/20",onClick:()=>V(`/campaigns/${U.id}`),children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/5 via-transparent to-pink-400/5 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:U.name}),t.jsxs("p",{className:"text-sm text-gray-400 font-medium",children:["ID: ",U.apexId||"apex00000"]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Ne,{variant:"outline",className:`${B(U.status)} px-3 py-1 text-xs font-semibold inline-flex items-center justify-center w-20`,children:[H(U.status),t.jsx("span",{className:"ml-2 capitalize",children:U.status})]}),t.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[U.status==="draft"&&t.jsxs(K,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:q=>{q.stopPropagation(),I(U.id,"start")},children:[t.jsx(Bn,{className:"mr-2 h-4 w-4"}),"Start"]}),U.status==="active"&&t.jsxs(K,{size:"sm",variant:"outline",className:"border-amber-500/30 bg-amber-500/10 text-amber-400 transition-all duration-200 hover:border-amber-400 hover:bg-amber-500/20 hover:text-amber-300",onClick:q=>{q.stopPropagation(),I(U.id,"pause")},children:[t.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Pause"]}),U.status==="paused"&&t.jsxs(K,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:q=>{q.stopPropagation(),I(U.id,"resume")},children:[t.jsx(Bn,{className:"mr-2 h-4 w-4"}),"Resume"]}),t.jsx(K,{size:"sm",variant:"ghost",onClick:q=>{q.stopPropagation(),v(U),f(!0)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(os,{className:"h-4 w-4"})}),t.jsx(K,{size:"sm",variant:"ghost",onClick:q=>{q.stopPropagation(),V(`/campaigns/${U.id}/calls`)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(Yi,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10 border border-blue-500/20",children:t.jsx(bt,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Leads"}),t.jsx("p",{className:"text-lg font-bold text-white",children:U.totalLeads||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:t.jsx(yt,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-lg font-bold text-white",children:U.callsCompleted||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10 border border-amber-500/20",children:t.jsx(Fr,{className:"h-5 w-5 text-amber-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cost"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:["$",(($=U.totalCost)==null?void 0:$.toFixed(2))||"0.00"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-pink-500/10 border border-pink-500/20",children:t.jsx(Bs,{className:"h-5 w-5 text-pink-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:[((W=U.successRate)==null?void 0:W.toFixed(1))||0,"%"]})]})]})]}),t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Progress"}),t.jsx("span",{className:"text-sm font-bold text-white",children:U.totalLeads?`${U.callsCompleted||0}/${U.totalLeads}`:"0/0"})]}),t.jsx("div",{className:"relative h-2 w-full rounded-full bg-gray-800 overflow-hidden",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-pink-500 to-pink-400 transition-all duration-700 ease-out relative overflow-hidden",style:{width:`${Math.min(U.totalLeads?(U.callsCompleted||0)/U.totalLeads*100:0,100)}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]},U.id)})})})]})]}),E==="concurrency"&&t.jsx(Oje,{}),d&&t.jsx(jje,{onCampaignCreated:U=>{m(!1),R(!1),M({title:"Campaign Created",description:`Campaign "${U.name}" has been created successfully!`})},onCancel:()=>m(!1)}),h&&g&&t.jsx(Nje,{campaign:g,onCampaignUpdated:U=>{a(O=>O.map($=>$.id===U.id?{...$,...U,updatedAt:new Date().toISOString()}:$)),f(!1),v(null),M({title:"Campaign Updated",description:`Campaign "${U.name}" has been updated successfully!`})},onCancel:()=>{f(!1),v(null)}})]})};function Mje(){const[e,r]=p.useState("overview"),{t:s}=yn(["analytics","common"]),a={organizations:{active:38,new:5,churn:2},tickets:{avgResolutionTime:2.4,satisfaction:98.2},usage:{totalCalls:125420},calls:{total:125420,successful:11e4,failed:15420}},n=[{date:"Jan 1",revenue:12500,organizations:32},{date:"Jan 7",revenue:13200,organizations:34},{date:"Jan 14",revenue:14800,organizations:37},{date:"Jan 21",revenue:15200,organizations:40},{date:"Jan 28",revenue:16900,organizations:42},{date:"Feb 4",revenue:17600,organizations:44},{date:"Feb 11",revenue:18450,organizations:45}],i=[{name:"Starter",value:18,color:"#3B82F6"},{name:"Professional",value:22,color:"#8B5CF6"},{name:"Enterprise",value:5,color:"#F59E0B"}],o=[{category:"Technical",tickets:67,avgTime:2.1},{category:"Billing",tickets:34,avgTime:1.8},{category:"Onboarding",tickets:28,avgTime:3.2},{category:"Feature Requests",tickets:27,avgTime:4.5}],l=[{name:"TechFlow Solutions",calls:12450,revenue:599,status:"active"},{name:"Digital Dynamics",calls:18200,revenue:1299,status:"active"},{name:"Growth Partners",calls:450,revenue:0,status:"trial"},{name:"Enterprise Corp",calls:25100,revenue:2499,status:"active"},{name:"StartupHub",calls:8200,revenue:299,status:"active"}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:s("analytics:subtitle")})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(K,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(_s,{className:"mr-2 h-4 w-4"}),s("analytics:export.export_report")]}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),s("analytics:dashboard.custom_dashboard")]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:s("analytics:call_analytics.total_calls")}),t.jsx("p",{className:"text-3xl font-bold text-white",children:a.calls.total.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(xt,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",a.calls.successful," ",s("analytics:call_analytics.successful_calls")]}),t.jsxs("span",{className:"text-red-400",children:["-",a.calls.failed," ",s("analytics:call_analytics.failed_calls")]})]})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:s("analytics:user_analytics.active_users")}),t.jsx("p",{className:"text-3xl font-bold text-white",children:a.organizations.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(_x,{className:"h-6 w-6 text-blue-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",a.organizations.new," new"]}),t.jsxs("span",{className:"text-red-400",children:["-",a.organizations.churn," churn"]})]})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Support Satisfaction"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[a.tickets.satisfaction,"%"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Ji,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(Rt,{className:"h-4 w-4"}),t.jsxs("span",{children:[a.tickets.avgResolutionTime,"h avg resolution"]})]})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Platform Usage"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[(a.usage.totalCalls/1e3).toFixed(1),"k"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-500/20",children:t.jsx(Us,{className:"h-6 w-6 text-orange-400"})})]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Total calls this month"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center justify-between text-white",children:["Revenue & Growth Trend",t.jsxs(Ne,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),"+21.4%"]})]})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(Ry,{data:n,children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"date",stroke:"#9CA3AF"}),t.jsx(yi,{stroke:"#9CA3AF"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(md,{type:"monotone",dataKey:"revenue",stroke:"#8B5CF6",fill:"url(#colorRevenue)",strokeWidth:2}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})})]})})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Organization Distribution by Plan"})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(QC,{children:[t.jsx(Ty,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:d=>`${d.name}: ${d.value}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:i.map((d,m)=>t.jsx(Sd,{fill:d.color},`cell-${m}`))}),t.jsx(zn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}})]})})})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Support Department Performance"})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(XC,{data:o,children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"category",stroke:"#9CA3AF"}),t.jsx(yi,{stroke:"#9CA3AF"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(lf,{dataKey:"tickets",fill:"#8B5CF6"}),t.jsx(lf,{dataKey:"avgTime",fill:"#3B82F6"})]})})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Top Organizations by Activity"})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:l.map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-700/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 to-blue-600",children:t.jsx("span",{className:"font-bold text-white",children:m+1})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[d.calls.toLocaleString()," calls this month"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",d.revenue,"/mo"]}),t.jsx(Ne,{className:`text-xs ${d.status==="active"?"border-green-500/30 bg-green-500/20 text-green-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:d.status})]})]},m))})})]})]})})}function Rje(){const[e,r]=p.useState(""),[s,a]=p.useState("all"),n=[{id:"1",name:"Sarah Johnson",company:"TechFlow Solutions",email:"sarah@techflow.com",phone:"+1 (555) 123-4567",status:"active",campaigns:3,leads:1247,calls:2847,spend:2847.5,lastActivity:"2 hours ago",rating:4.8},{id:"2",name:"Mike Chen",company:"Digital Dynamics",email:"mike@digitaldynamics.com",phone:"+1 (555) 987-6543",status:"active",campaigns:5,leads:2156,calls:4123,spend:5123.75,lastActivity:"1 hour ago",rating:4.9},{id:"3",name:"Emma Rodriguez",company:"Growth Partners",email:"emma@growthpartners.com",phone:"+1 (555) 456-7890",status:"active",campaigns:2,leads:892,calls:1654,spend:1987.25,lastActivity:"3 hours ago",rating:4.7},{id:"4",name:"David Thompson",company:"Innovate Labs",email:"david@innovatelabs.com",phone:"+1 (555) 321-6540",status:"pending",campaigns:1,leads:234,calls:456,spend:567.8,lastActivity:"1 day ago",rating:4.5},{id:"5",name:"Lisa Wang",company:"ScaleUp Ventures",email:"lisa@scaleupventures.com",phone:"+1 (555) 789-0123",status:"inactive",campaigns:0,leads:0,calls:0,spend:0,lastActivity:"1 week ago",rating:4.6}],i=n.filter(d=>{const m=d.name.toLowerCase().includes(e.toLowerCase())||d.company.toLowerCase().includes(e.toLowerCase())||d.email.toLowerCase().includes(e.toLowerCase()),h=s==="all"||d.status===s;return m&&h}),o={total:n.length,active:n.filter(d=>d.status==="active").length,pending:n.filter(d=>d.status==="pending").length,inactive:n.filter(d=>d.status==="inactive").length,totalSpend:n.reduce((d,m)=>d+m.spend,0),totalCalls:n.reduce((d,m)=>d+m.calls,0),totalLeads:n.reduce((d,m)=>d+m.leads,0)},l=d=>{switch(d){case"active":return"bg-green-500/10 text-green-400 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"inactive":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return t.jsx("div",{className:"mx-auto w-full max-w-7xl px-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:items-center md:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Clients"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your agency clients and their campaigns"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(K,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta transition-colors hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add New Client"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.total})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-900/20",children:t.jsx(lr,{className:"h-6 w-6 text-blue-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+2 this month"})})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-900/20",children:t.jsx(bt,{className:"h-6 w-6 text-green-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+1 this week"})})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(xt,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+12% this month"})})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",o.totalSpend.toLocaleString()]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(Fr,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+8% this month"})})]})})]}),t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{placeholder:"Search clients by name, company, or email...",value:e,onChange:d=>r(d.target.value),className:"border-gray-800 bg-gray-900 pl-10 text-white placeholder-gray-400"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("all"),children:["All (",o.total,")"]}),t.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("active"),children:["Active (",o.active,")"]}),t.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("pending"),children:["Pending (",o.pending,")"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(d=>t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:[t.jsxs(pe,{className:"pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(zu,{className:"h-12 w-12",children:[t.jsx(Fu,{src:d.avatar}),t.jsx(Uu,{className:"bg-gray-800 text-white",children:d.name.split(" ").map(m=>m[0]).join("")})]}),t.jsxs("div",{children:[t.jsx(xe,{className:"text-lg text-white",children:d.name}),t.jsx(qt,{className:"text-gray-400",children:d.company})]})]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsxs(qn,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Rr,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Edit Client"]}),t.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Ta,{className:"mr-2 h-4 w-4"}),"Send Message"]}),t.jsxs(Yt,{className:"text-red-400 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Remove Client"]})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx(Ne,{className:l(d.status),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),t.jsxs("div",{className:"flex items-center text-yellow-400",children:[t.jsx(Mo,{className:"h-4 w-4 fill-current"}),t.jsx("span",{className:"ml-1 text-sm",children:d.rating})]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.campaigns}),t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.leads.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Leads"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Calls"})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-800 pt-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-white",children:["$",d.spend.toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Total Spend"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-xs text-gray-300",children:d.lastActivity})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(Rr,{className:"mr-2 h-4 w-4"}),"View"]}),t.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(xt,{className:"mr-2 h-4 w-4"}),"Contact"]})]})]})]},d.id))}),i.length===0&&t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(lr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No clients found"}),t.jsx("p",{className:"mb-4 text-gray-400",children:e?"Try adjusting your search terms":"Get started by adding your first client"}),t.jsxs(K,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add New Client"]})]})})]})})}const Ije=()=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Live Calls"}),t.jsx("p",{className:"text-gray-600",children:"Monitor active calls in real-time"})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsx("div",{className:"rounded-lg border p-4 bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"John Doe"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 123-4567"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Rt,{className:"h-4 w-4"}),t.jsx("span",{children:"02:34"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(sd,{className:"h-4 w-4"}),t.jsx("span",{children:"New York, NY"})]}),t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]})]})}),t.jsx("div",{className:"rounded-lg border p-4 bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Jane Smith"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Rt,{className:"h-4 w-4"}),t.jsx("span",{children:"01:12"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(sd,{className:"h-4 w-4"}),t.jsx("span",{children:"Los Angeles, CA"})]}),t.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})]})]})}),t.jsxs("div",{className:"rounded-lg border p-8 text-center text-gray-500",children:[t.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No More Active Calls"}),t.jsx("p",{children:"All other calls have been completed."})]})]})]});function oO(){var k,A,E;const e=Nr(),{getToken:r}=Ma(),[s,a]=p.useState("7d"),[n,i]=p.useState(null),[o,l]=p.useState([]),[d,m]=p.useState(!0),[h,f]=p.useState(null),g="http://localhost:3001",v=async()=>{try{m(!0),f(null);const T=await r(),M=await fetch(`${g}/api/platform-analytics/overview`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const L=await M.json();i(L),console.log(" Platform analytics loaded:",L)}catch(T){console.error(" Error fetching platform analytics:",T),f("Failed to load platform analytics"),i({overview:{totalOrganizations:0,activeOrganizations:0,totalUsers:0,activeUsers:0,totalMRR:0,totalCalls:0,systemUptime:99.8,supportTickets:0,recentGrowth:{organizations:0,users:0,organizationGrowth:0,userGrowth:0}},charts:{weeklyGrowth:[],monthlyRevenue:[],planDistribution:{starter:0,professional:0,enterprise:0}},topOrganizations:[]})}finally{m(!1)}},b=async()=>{try{const T=await r(),M=await fetch(`${g}/api/platform-analytics/activity`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(M.ok){const L=await M.json();l(L.activity||[])}}catch(T){console.error(" Error fetching activity:",T),l([])}};p.useEffect(()=>{v(),b()},[]);const w=((k=n==null?void 0:n.charts)==null?void 0:k.weeklyGrowth)||[{date:"Mon",users:0,organizations:0},{date:"Tue",users:0,organizations:0},{date:"Wed",users:0,organizations:0},{date:"Thu",users:0,organizations:0},{date:"Fri",users:0,organizations:0},{date:"Sat",users:0,organizations:0},{date:"Sun",users:0,organizations:0}],y=((A=n==null?void 0:n.charts)==null?void 0:A.monthlyRevenue)||[{month:"Jan",revenue:0,mrr:0},{month:"Feb",revenue:0,mrr:0},{month:"Mar",revenue:0,mrr:0},{month:"Apr",revenue:0,mrr:0},{month:"May",revenue:0,mrr:0},{month:"Jun",revenue:0,mrr:0}],N=[{status:"Open",count:((E=n==null?void 0:n.overview)==null?void 0:E.supportTickets)||0,color:"#ef4444"},{status:"In Progress",count:0,color:"#eab308"},{status:"Resolved",count:0,color:"#22c55e"}],C=[{service:"API",uptime:99.9,status:"operational"},{service:"Database",uptime:99.95,status:"operational"},{service:"Auth",uptime:98.5,status:"degraded"},{service:"Storage",uptime:99.99,status:"operational"}],S=n!=null&&n.overview?{totalOrganizations:n.overview.totalOrganizations,activeUsers:n.overview.totalUsers,mrr:n.overview.totalMRR,supportTickets:n.overview.supportTickets,systemUptime:n.overview.systemUptime,activeSubscriptions:n.overview.activeOrganizations}:{totalOrganizations:0,activeUsers:0,mrr:0,supportTickets:0,systemUptime:99.8,activeSubscriptions:0};return d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("div",{className:"mx-auto mb-4 h-32 w-32 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-xl",children:"Loading platform analytics..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Overview"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor and manage your AI calling platform"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2",children:t.jsx("p",{className:"text-sm text-red-400",children:h})}),t.jsxs(K,{onClick:()=>{v(),b()},variant:"outline",size:"sm",className:"border-gray-600 text-white hover:bg-gray-700",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Organizations"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.totalOrganizations}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+8 this week"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Active Users"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeUsers.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+12% growth"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"MRR"})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(S.mrr/1e3).toFixed(0),"k"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+15% vs last month"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Support Tickets"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.supportTickets}),t.jsx("p",{className:"mt-1 text-xs text-yellow-400",children:"12 open"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"System Uptime"})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[S.systemUptime,"%"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"All systems operational"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Subscriptions"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeSubscriptions}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"89% retention"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[t.jsxs(K,{onClick:()=>e("/organizations"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(lr,{className:"h-6 w-6"}),t.jsx("span",{children:"Manage Organizations"})]}),t.jsxs(K,{onClick:()=>e("/user-management"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(ql,{className:"h-6 w-6"}),t.jsx("span",{children:"User Management"})]}),t.jsxs(K,{onClick:()=>e("/support-tickets"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(Wh,{className:"h-6 w-6"}),t.jsx("span",{children:"Support Tickets"})]}),t.jsxs(K,{onClick:()=>e("/system-health"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(Us,{className:"h-6 w-6"}),t.jsx("span",{children:"System Health"})]}),t.jsxs(K,{onClick:()=>e("/platform-monitoring"),className:"flex h-auto flex-col items-center gap-2 bg-emerald-800 p-6 text-white hover:bg-emerald-700",children:[t.jsx(s0,{className:"h-6 w-6"}),t.jsx("span",{children:"Platform Monitoring"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Bs,{className:"h-5 w-5"}),"User & Organization Growth"]})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(_z,{data:w,children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"date",stroke:"#9ca3af"}),t.jsx(yi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(tx,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2,name:"Users"}),t.jsx(tx,{type:"monotone",dataKey:"organizations",stroke:"#8b5cf6",strokeWidth:2,name:"Organizations"})]})})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Fr,{className:"h-5 w-5"}),"Revenue Trends"]})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(Ry,{data:y,children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(yi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(md,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Total Revenue"}),t.jsx(md,{type:"monotone",dataKey:"mrr",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"MRR"})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Wh,{className:"h-5 w-5"}),"Support Tickets"]})}),t.jsxs(X,{children:[t.jsx(Fn,{width:"100%",height:200,children:t.jsxs(QC,{children:[t.jsx(Ty,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"count",children:N.map((T,M)=>t.jsx(Sd,{fill:T.color},`cell-${M}`))}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})}),t.jsx("div",{className:"mt-4 space-y-2",children:N.map(T=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:T.color}}),t.jsx("span",{className:"text-gray-300",children:T.status})]}),t.jsx("span",{className:"font-medium text-white",children:T.count})]},T.status))})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(s0,{className:"h-5 w-5"}),"System Health"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-4",children:C.map(T=>t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:T.service}),t.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="operational"?t.jsx(yt,{className:"h-4 w-4 text-green-500"}):t.jsx(Gt,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"text-sm text-white",children:[T.uptime,"%"]})]})]}),t.jsx(gr,{value:T.uptime,className:"h-2"})]},T.service))}),t.jsx(K,{onClick:()=>e("/system-health"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View Details"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Us,{className:"h-5 w-5"}),"Recent Activity"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-3",children:o.length>0?o.slice(0,4).map((T,M)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ne,{className:`${T.type==="organization"?"border-blue-500/30 bg-blue-500/20 text-blue-400":"border-emerald-500/30 bg-emerald-500/20 text-emerald-400"} mt-0.5`,children:T.type==="organization"?"ORG":"USER"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white",children:T.title}),t.jsxs("p",{className:"text-xs text-gray-400",children:[T.description," - ",new Date(T.time).toLocaleDateString()]})]})]},M)):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Us,{className:"mx-auto mb-2 h-8 w-8 text-gray-600"}),t.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"})]})}),t.jsx(K,{onClick:()=>e("/audit-logs"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View All Activity"})]})]})]})]})})}function Dje(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Array(12).fill(0);let oS=1;class Lje{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const s=this.subscribers.indexOf(r);this.subscribers.splice(s,1)}),this.publish=r=>{this.subscribers.forEach(s=>s(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var s;const{message:a,...n}=r,i=typeof(r==null?void 0:r.id)=="number"||((s=r.id)==null?void 0:s.length)>0?r.id:oS++,o=this.toasts.find(d=>d.id===i),l=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...r,id:i,title:a}),{...d,...r,id:i,dismissible:l,title:a}):d):this.addToast({title:a,...n,dismissible:l,id:i}),i},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:r,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),r),this.message=(r,s)=>this.create({...s,message:r}),this.error=(r,s)=>this.create({...s,message:r,type:"error"}),this.success=(r,s)=>this.create({...s,type:"success",message:r}),this.info=(r,s)=>this.create({...s,type:"info",message:r}),this.warning=(r,s)=>this.create({...s,type:"warning",message:r}),this.loading=(r,s)=>this.create({...s,type:"loading",message:r}),this.promise=(r,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:r,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const n=Promise.resolve(r instanceof Function?r():r);let i=a!==void 0,o;const l=n.then(async m=>{if(o=["resolve",m],le.isValidElement(m))i=!1,this.create({id:a,type:"default",message:m});else if(zje(m)&&!m.ok){i=!1;const f=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,g=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,b=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...b})}else if(m instanceof Error){i=!1;const f=typeof s.error=="function"?await s.error(m):s.error,g=typeof s.description=="function"?await s.description(m):s.description,b=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...b})}else if(s.success!==void 0){i=!1;const f=typeof s.success=="function"?await s.success(m):s.success,g=typeof s.description=="function"?await s.description(m):s.description,b=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:a,type:"success",description:g,...b})}}).catch(async m=>{if(o=["reject",m],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(m):s.error,f=typeof s.description=="function"?await s.description(m):s.description,v=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...v})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((m,h)=>l.then(()=>o[0]==="reject"?h(o[1]):m(o[1])).catch(h));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(r,s)=>{const a=(s==null?void 0:s.id)||oS++;return this.create({jsx:r(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mn=new Lje,$je=(e,r)=>{const s=(r==null?void 0:r.id)||oS++;return Mn.addToast({title:e,...r,id:s}),s},zje=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Fje=$je,Uje=()=>Mn.toasts,Bje=()=>Mn.getActiveToasts(),Li=Object.assign(Fje,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:Uje,getToasts:Bje});Dje("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const sN=(e,r,s)=>{switch(r){case"starter":return[e("billing.plans.starter.features.calls",{count:"1,000"}),e("billing.plans.starter.features.teamMembers",{count:"3"}),e("billing.plans.starter.features.aiAssistants",{count:"2"}),e("billing.plans.starter.features.phoneNumbers",{count:"1"}),e("billing.plans.starter.features.analytics"),e("billing.plans.starter.features.support")];case"growth":return[e("billing.plans.growth.features.calls",{count:"10,000"}),e("billing.plans.growth.features.teamMembers",{count:"10"}),e("billing.plans.growth.features.aiAssistants",{count:"10"}),e("billing.plans.growth.features.phoneNumbers",{count:"5"}),e("billing.plans.growth.features.analytics"),e("billing.plans.growth.features.support"),e("billing.plans.growth.features.integrations")];case"enterprise":return[e("billing.plans.enterprise.features.calls"),e("billing.plans.enterprise.features.teamMembers"),e("billing.plans.enterprise.features.aiAssistants"),e("billing.plans.enterprise.features.phoneNumbers"),e("billing.plans.enterprise.features.analytics"),e("billing.plans.enterprise.features.support"),e("billing.plans.enterprise.features.sla"),e("billing.plans.enterprise.features.customFeatures")];default:return[]}},Wje=e=>[{id:"starter",name:e("billing.plans.starter.name"),description:e("billing.plans.starter.description"),price:99,interval:"month",features:sN(e,"starter"),limits:{monthly_calls:1e3,team_members:3,ai_assistants:2,phone_numbers:1,api_calls:1e4}},{id:"growth",name:e("billing.plans.growth.name"),description:e("billing.plans.growth.description"),price:299,interval:"month",recommended:!0,features:sN(e,"growth"),limits:{monthly_calls:1e4,team_members:10,ai_assistants:10,phone_numbers:5,api_calls:1e5}},{id:"enterprise",name:e("billing.plans.enterprise.name"),description:e("billing.plans.enterprise.description"),price:999,interval:"month",features:sN(e,"enterprise"),limits:{monthly_calls:-1,team_members:-1,ai_assistants:-1,phone_numbers:-1,api_calls:-1}}],Vje=()=>{Nr();const{t:e}=yn(["common"]),[r,s]=p.useState(!0),[a,n]=p.useState(null),[i,o]=p.useState([]),[l,d]=p.useState([]),[m,h]=p.useState(null);p.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const[k,A,E]=await Promise.all([Qt.get("/api/billing/subscription"),Qt.get("/api/billing/payment-methods"),Qt.get("/api/billing/history")]);n(k.data),o(A.data),d(E.data)}catch(k){console.error("Error fetching billing data:",k),Li.error(e("billing.failedToLoad"))}finally{s(!1)}},g=async k=>{try{h(k);const A=await Qt.post("/api/billing/upgrade",{plan_id:k});A.data.checkout_url?window.location.href=A.data.checkout_url:(await f(),Li.success(e("billing.subscription.upgradeSuccess")))}catch(A){console.error("Error upgrading subscription:",A),Li.error(e("billing.subscription.upgradeFailed"))}finally{h(null)}},v=async()=>{if(confirm(e("billing.subscription.cancelConfirm")))try{await Qt.post("/api/billing/cancel"),await f(),Li.success(e("billing.subscription.cancelSuccess"))}catch(k){console.error("Error cancelling subscription:",k),Li.error(e("billing.subscription.cancelFailed"))}},b=async()=>{try{const k=await Qt.post("/api/billing/payment-method/setup");k.data.setup_url&&(window.location.href=k.data.setup_url)}catch(k){console.error("Error setting up payment method:",k),Li.error(e("billing.payment.addFailed"))}},w=async k=>{if(confirm(e("billing.payment.removeConfirm")))try{await Qt.delete(`/api/billing/payment-method/${k}`),await f(),Li.success(e("billing.payment.removeSuccess"))}catch(A){console.error("Error removing payment method:",A),Li.error(e("billing.payment.removeFailed"))}},y=async k=>{try{await Qt.post(`/api/billing/payment-method/${k}/default`),await f(),Li.success(e("billing.payment.defaultSuccess"))}catch(A){console.error("Error updating default payment method:",A),Li.error(e("billing.payment.defaultFailed"))}},N=(k,A)=>A===-1?0:Math.min(k/A*100,100),C=k=>k===-1?e("billing.subscription.unlimited"):k.toLocaleString();if(r)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx(gi,{className:"h-8 w-8 animate-spin text-emerald-500"})});const S=Wje(e);return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-zinc-400",children:e("billing.description")})}),t.jsxs(ki,{defaultValue:"subscription",className:"space-y-6",children:[t.jsxs(Jn,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(ht,{value:"subscription",children:e("billing.subscription.title")}),t.jsx(ht,{value:"payment",children:e("billing.payment.title")}),t.jsx(ht,{value:"history",children:e("billing.history.title")})]}),t.jsxs(ft,{value:"subscription",className:"space-y-6",children:[a&&t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:e("billing.subscription.current")}),t.jsx(qt,{className:"text-zinc-400",children:e("billing.subscription.currentDescription")})]}),t.jsx(Ne,{className:`${a.status==="active"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-red-500/30 bg-red-500/20 text-red-400"}`,children:a.status})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e("billing.subscription.plan",{plan:a.plan_name})}),t.jsx("p",{className:"text-zinc-400",children:e("billing.subscription.renewsOn",{date:new Date(a.current_period_end).toLocaleDateString()})})]}),a.cancel_at_period_end&&t.jsxs(nr,{className:"border-red-500/30 bg-red-500/10",children:[t.jsx(Gt,{className:"h-4 w-4 text-red-400"}),t.jsx(ir,{className:"text-red-400",children:e("billing.subscription.willCancelAtPeriodEnd")})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-white",children:e("billing.subscription.usageThisPeriod")}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(xt,{className:"h-4 w-4"}),e("billing.subscription.aiCalls")]}),t.jsxs("span",{className:"text-white",children:[a.usage.calls.toLocaleString()," /"," ",C(a.limits.monthly_calls)]})]}),t.jsx(gr,{value:N(a.usage.calls,a.limits.monthly_calls),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(bt,{className:"h-4 w-4"}),e("billing.subscription.teamMembers")]}),t.jsxs("span",{className:"text-white",children:[a.usage.team_members," /"," ",C(a.limits.team_members)]})]}),t.jsx(gr,{value:N(a.usage.team_members,a.limits.team_members),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(ns,{className:"h-4 w-4"}),e("billing.subscription.aiAssistants")]}),t.jsxs("span",{className:"text-white",children:[a.usage.ai_assistants," /"," ",C(a.limits.ai_assistants)]})]}),t.jsx(gr,{value:N(a.usage.ai_assistants,a.limits.ai_assistants),className:"h-2"})]})]})]}),!a.cancel_at_period_end&&t.jsx(K,{variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:v,children:e("billing.subscription.cancel")})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e("billing.subscription.availablePlans")}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:S.map(k=>{const A=(a==null?void 0:a.plan_id)===k.id,E=a&&S.findIndex(T=>T.id===a.plan_id)<S.findIndex(T=>T.id===k.id);return t.jsxs(J,{className:`relative border-zinc-800 bg-zinc-900 ${k.recommended?"ring-2 ring-emerald-500":""}`,children:[k.recommended&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 transform",children:t.jsx(Ne,{className:"bg-emerald-500 text-white",children:e("billing.subscription.recommended")})}),t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[k.name,k.id==="enterprise"&&t.jsx(lr,{className:"h-5 w-5"}),k.id==="growth"&&t.jsx(Px,{className:"h-5 w-5 text-emerald-400"})]}),t.jsx(qt,{className:"text-zinc-400",children:k.description}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",k.price]}),t.jsxs("span",{className:"text-zinc-400",children:["/",e(`billing.subscription.${k.interval}`)]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsx("ul",{className:"space-y-2",children:k.features.map((T,M)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx(tm,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-emerald-400"}),t.jsx("span",{className:"text-zinc-300",children:T})]},M))}),A?t.jsx(K,{className:"w-full bg-zinc-800 text-zinc-400",disabled:!0,children:e("billing.subscription.currentPlan")}):t.jsx(K,{className:"w-full bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>g(k.id),disabled:m===k.id,children:m===k.id?t.jsx(gi,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[E?e("billing.subscription.upgradeTo",{plan:k.name}):e("billing.subscription.switchTo",{plan:k.name}),t.jsx(no,{className:"ml-1 h-4 w-4"})]})})]})]},k.id)})})]})]}),t.jsx(ft,{value:"payment",className:"space-y-6",children:t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:e("billing.payment.title")}),t.jsx(qt,{className:"text-zinc-400",children:e("billing.payment.description")})]}),t.jsx(K,{onClick:b,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:e("billing.payment.addMethod")})]})}),t.jsx(X,{children:i.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Gi,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:e("billing.payment.noMethods")})]}):t.jsx("div",{className:"space-y-4",children:i.map(k=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Gi,{className:"h-8 w-8 text-zinc-400"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[k.brand,"  ",k.last4]}),t.jsx("p",{className:"text-sm text-zinc-400",children:e("billing.payment.expires",{month:k.exp_month,year:k.exp_year})})]}),k.is_default&&t.jsx(Ne,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:e("billing.payment.default")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!k.is_default&&t.jsx(K,{variant:"outline",size:"sm",onClick:()=>y(k.id),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:e("billing.payment.setDefault")}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(k.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:e("billing.payment.remove")})]})]},k.id))})})]})}),t.jsx(ft,{value:"history",className:"space-y-6",children:t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:e("billing.history.title")}),t.jsx(qt,{className:"text-zinc-400",children:e("billing.history.description")})]}),t.jsx(X,{children:l.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Rt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:e("billing.history.noHistory")})]}):t.jsx("div",{className:"space-y-4",children:l.map(k=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`rounded-lg p-2 ${k.status==="paid"?"bg-emerald-500/20":"bg-yellow-500/20"}`,children:t.jsx(ba,{className:`h-5 w-5 ${k.status==="paid"?"text-emerald-400":"text-yellow-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:k.description}),t.jsx("p",{className:"text-sm text-zinc-400",children:new Date(k.date).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-white",children:["$",k.amount.toFixed(2)]}),t.jsx(Ne,{className:`${k.status==="paid"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:e(`billing.history.status.${k.status}`)})]}),k.invoice_url&&t.jsx(K,{variant:"outline",size:"sm",onClick:()=>window.open(k.invoice_url,"_blank"),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:t.jsx(Vn,{className:"h-4 w-4"})})]})]},k.id))})})]})})]})]})},Yg=p.forwardRef(({checked:e,onCheckedChange:r,onClick:s},a)=>t.jsx("div",{ref:a,onClick:n=>{s==null||s(n),r==null||r(!e)},style:{width:"12px",height:"12px",border:"1px solid white",borderRadius:"0px",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e&&t.jsx(tm,{style:{width:"8px",height:"8px",color:"black",strokeWidth:3}})}));Yg.displayName="SmallCheckbox";const Tc=({trigger:e,title:r,sortKey:s,onSort:a,onUnsort:n,onPinToggle:i,sortHistory:o=[],isPinned:l=!1,options:d,onOptionSelect:m,onHideColumn:h})=>{const[f,g]=p.useState(!1),v=p.useRef(null);p.useEffect(()=>{const w=y=>{v.current&&!v.current.contains(y.target)&&g(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=[];return d?d.forEach(w=>{b.push({label:w,icon:t.jsx("span",{className:"mr-2"}),onClick:()=>{m&&m(w),g(!1)}})}):(s&&a&&(b.push({label:"Sort ascending",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{a(s,"asc"),g(!1)}},{label:"Sort descending",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{a(s,"desc"),g(!1)}}),n&&b.push({label:"Unsort",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{n(),g(!1)}})),i&&b.push({label:l?"Unpin column":"Pin column",icon:t.jsx("span",{className:"mr-2",children:l?"":""}),onClick:()=>{i(),g(!1)}}),b.push({label:`Filter by ${r.toLowerCase()}`,icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>g(!1)},{label:"Hide column",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{h&&h(),g(!1)}})),t.jsxs("div",{className:"relative",ref:v,children:[t.jsx("div",{onClick:()=>g(!f),children:e}),f&&t.jsx("div",{className:"absolute right-0 top-full z-[9999] mt-1 max-h-[300px] overflow-y-auto",style:{minWidth:"160px",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.7)",padding:"6px"},children:b.map((w,y)=>t.jsxs(le.Fragment,{children:[y===2&&s&&t.jsx("div",{style:{height:"1px",backgroundColor:"#374151",margin:"6px 8px"}}),t.jsxs("div",{onClick:w.onClick,className:"text-white",style:{display:"flex",alignItems:"center",padding:"6px 10px",cursor:"pointer",borderRadius:"6px",color:"#ffffff !important",fontSize:"10px",backgroundColor:"transparent",transition:"all 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.backgroundColor="rgba(55, 65, 81, 0.5)",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(2px)"},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="transparent",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(0)"},children:[w.icon,w.label]})]},y))})]})},AU=p.createContext(void 0),qje=()=>{const e=p.useContext(AU);if(!e)throw new Error("useContacts must be used within ContactsProvider");return e},Hje=({children:e})=>{const[r,s]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),{user:l,isSignedIn:d,isLoaded:m}=xf(),h=async()=>{try{if(n(!0),o(null),!d||!l||!l.organization_id){console.log(" No user logged in or no organization, skipping contacts fetch"),s([]);return}const v=l.organization_id;console.log(` Fetching contacts for organization: ${v}`),console.log(` User: ${l.email} (${l.role})`);const{data:b,error:w}=await Du.client.from("leads").select(`
          *,
          campaigns(name),
          uploaded_by:users!leads_uploaded_by_fkey(
            id,
            first_name,
            last_name
          )
        `).eq("organization_id",v).order("created_at",{ascending:!1});if(console.log(" Raw contacts data:",b),console.log(" Fetch error:",w),w)throw w;const y=(b||[]).map(N=>{var C,S;return{id:N.id,firstName:N.first_name||void 0,lastName:N.last_name||void 0,email:N.email||void 0,phone:N.phone||void 0,company:N.company||void 0,title:N.job_title||void 0,status:N.status||"new",priority:N.priority||"medium",source:N.lead_source||N.source||"ai_voice_call",campaign:((C=N.campaigns)==null?void 0:C.name)||"General",notes:N.notes||void 0,cid:N.id,date:N.created_at,value:N.conversion_value||N.value||0,assignedTo:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",assignedToId:((S=N.uploaded_by)==null?void 0:S.id)||void 0,owner:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",lastContactDate:N.last_call_at||N.last_contact_date||N.created_at,nextFollowUp:N.next_call_at||N.next_follow_up||void 0,lastActivity:N.last_call_at||N.last_activity||N.created_at,activities:N.call_attempts||N.activities_count||0,tags:N.tags||[]}});s(y),console.log(` Loaded ${y.length} contacts from database`)}catch(v){console.error(" Error fetching contacts:",v),o(v instanceof Error?v.message:"Failed to fetch contacts")}finally{n(!1)}},f=async()=>{await h()};p.useEffect(()=>{m&&(d&&l&&l.organization_id?h():(n(!1),s([])))},[m,d,l==null?void 0:l.organization_id]);const g=(v,b)=>{s(w=>w.find(N=>N.id===v)?w.map(N=>N.id===v?{...N,status:b}:N):(console.warn(`Contact with ID ${v} not found`),w))};return t.jsx(AU.Provider,{value:{contacts:r,setContacts:s,updateContactStatus:g,loading:a,error:i,refreshContacts:f},children:e})},Cd=ZF,Kje=eU,Gje=tU,EU=p.forwardRef(({className:e,...r},s)=>t.jsx(d4,{ref:s,className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));EU.displayName=d4.displayName;const dc=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(Gje,{children:[t.jsx(EU,{}),t.jsxs(u4,{ref:a,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...s,children:[r,t.jsxs(f4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[t.jsx(St,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dc.displayName=u4.displayName;const uc=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});uc.displayName="DialogHeader";const wm=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});wm.displayName="DialogFooter";const mc=p.forwardRef(({className:e,...r},s)=>t.jsx(m4,{ref:s,className:$e("text-lg font-semibold leading-none tracking-tight",e),...r}));mc.displayName=m4.displayName;const kd=p.forwardRef(({className:e,...r},s)=>t.jsx(h4,{ref:s,className:$e("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));kd.displayName=h4.displayName;const aN=[{key:"industry",title:"Industry",description:"Business sector classification",category:"Business Info",icon:_x,width:"140px"},{key:"companySize",title:"Company Size",description:"Number of employees",category:"Business Info",icon:bt,width:"120px"},{key:"location",title:"Location",description:"Geographic location",category:"Business Info",icon:sd,width:"140px"},{key:"website",title:"Website",description:"Company website",category:"Business Info",icon:Aa,width:"140px"},{key:"pipelineValue",title:"Pipeline Value",description:"Estimated deal value",category:"Sales Data",icon:Fr,width:"130px"},{key:"leadScore",title:"Lead Score",description:"Lead quality rating (1-10)",category:"Sales Data",icon:Bs,width:"110px"},{key:"interestLevel",title:"Interest Level",description:"Interest rating (1-10)",category:"Sales Data",icon:ba,width:"120px"},{key:"priority",title:"Priority",description:"Lead priority level",category:"Sales Data",icon:or,width:"100px"},{key:"source",title:"Lead Source",description:"How lead was acquired",category:"Contact Data",icon:KM,width:"130px"},{key:"nextFollowUp",title:"Next Follow-up",description:"Scheduled follow-up date",category:"Contact Data",icon:_s,width:"140px"},{key:"lastCallOutcome",title:"Last Call Outcome",description:"Result of last call",category:"Contact Data",icon:xt,width:"150px"},{key:"callDuration",title:"Call Duration",description:"Average call length",category:"Contact Data",icon:Rt,width:"120px"},{key:"owner",title:"Lead Owner",description:"Assigned team member",category:"Assignment",icon:ql,width:"130px"},{key:"title",title:"Job Title",description:"Contact job position",category:"Assignment",icon:LG,width:"130px"}];function Yje({isOpen:e,onClose:r,onSave:s,currentColumns:a}){const[n,i]=p.useState([]),[o,l]=p.useState({"Business Info":!0,"Sales Data":!0,"Contact Data":!0,Assignment:!0}),d=[...new Set(aN.map(b=>b.category))],m=aN.filter(b=>!a.includes(b.key)),h=b=>{i(w=>w.includes(b)?w.filter(y=>y!==b):[...w,b])},f=()=>{s(n),i([]),r()},g=()=>{i([]),r()},v=b=>{l(w=>({...w,[b]:!w[b]}))};return t.jsx(Cd,{open:e,onOpenChange:r,children:t.jsxs(dc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-gray-700",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Add Columns to CRM Table"}),t.jsx(kd,{className:"text-gray-400",children:"Select additional fields to display in your CRM table. Choose from business information, sales data, and contact details."})]}),t.jsx("div",{className:"grid grid-cols-2 gap-6 overflow-y-auto max-h-[500px] py-4 pr-2",children:d.map(b=>{const w=m.filter(y=>y.category===b);return w.length===0?null:t.jsxs(J,{className:"bg-gray-800/60 border-gray-600 hover:border-gray-500 transition-colors",children:[t.jsx(pe,{className:"pb-3 cursor-pointer hover:bg-gray-700/30 rounded-t-lg transition-colors",onClick:()=>v(b),children:t.jsxs(xe,{className:"text-sm text-white flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:b}),t.jsx(Ne,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border border-blue-500/30",children:w.length})]})}),o[b]&&t.jsx(X,{className:"space-y-3",children:w.map(y=>{const N=y.icon,C=n.includes(y.key);return t.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border cursor-pointer transition-all ${C?"border-blue-500 bg-blue-500/15 shadow-sm":"border-gray-600 hover:border-gray-500 hover:bg-gray-700/30"}`,onClick:()=>h(y.key),children:[t.jsx("div",{className:"mt-0.5",children:t.jsx("input",{type:"checkbox",checked:C,onChange:()=>h(y.key),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),t.jsx(N,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:y.title}),t.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:y.description})]})]},y.key)})})]},b)})}),n.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-4 bg-gray-800/30 -mx-6 px-6 rounded-b-lg",children:[t.jsxs("div",{className:"text-sm text-gray-300 mb-3 font-medium",children:["Selected fields (",n.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:n.map(b=>{const w=aN.find(y=>y.key===b);return w?t.jsx(Ne,{variant:"secondary",className:"bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:w.title},b):null})})]}),t.jsxs(wm,{className:"gap-3",children:[t.jsx(K,{variant:"outline",onClick:g,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:"Cancel"}),t.jsxs(K,{onClick:f,disabled:n.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",n.length," Column",n.length!==1?"s":""]})]})]})})}const Yy=({isOpen:e,onClose:r,callData:s})=>{var I,B,H,F,U;const[a,n]=p.useState(!1),[i,o]=p.useState(0),[l,d]=p.useState(1),[m,h]=p.useState(-1),[f,g]=p.useState(!1),v=p.useRef(null),b=p.useRef(null),w=p.useRef([]),y=p.useRef(null);p.useEffect(()=>{console.log(" CallLogDetailsModal received callData:",{hasData:!!s,callDataKeys:s?Object.keys(s):[],hasTranscript:!!(s!=null&&s.transcript),transcriptType:s!=null&&s.transcript?typeof s.transcript:"no transcript",transcriptIsArray:Array.isArray(s==null?void 0:s.transcript),transcriptLength:Array.isArray(s==null?void 0:s.transcript)||typeof(s==null?void 0:s.transcript)=="string"?s.transcript.length:0,transcriptSample:s!=null&&s.transcript?Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":"Unknown format":"No transcript",fullData:s})},[s]);const N=p.useRef([]);if(N.current.length===0)for(let O=0;O<100;O++){const W=Math.sin(O*.1)*20+Math.sin(O*.3)*15+Math.random()*25;N.current.push(30+Math.abs(W))}const[C,S]=p.useState(0),k=C||(s==null?void 0:s.duration)||0;p.useEffect(()=>{e&&s&&(console.log("CallLogDetailsModal opened with callData:"),console.log("  id:",s.id),console.log("  customerName:",s.customerName),console.log("  duration:",s.duration),console.log("  hasTranscript:",!!s.transcript),console.log("  transcriptType:",typeof s.transcript),console.log("  All callData keys:",Object.keys(s)),s.transcript?(console.log("  Transcript exists! Type:",typeof s.transcript),typeof s.transcript=="string"?(console.log("  Transcript (string) length:",s.transcript.length),console.log("  Transcript preview:",s.transcript.substring(0,100))):Array.isArray(s.transcript)&&(console.log("  Transcript (array) length:",s.transcript.length),console.log("  First item:",s.transcript[0]))):console.log("   NO TRANSCRIPT IN DATA!"))},[e,s]);const A=O=>{const $=Math.floor(O/60),W=Math.floor(O%60);return`${String($).padStart(2,"0")}:${String(W).padStart(2,"0")}`},E=async()=>{if(v.current&&s&&s.recording)try{a?(v.current.pause(),n(!1)):((!v.current.src||v.current.src!==s.recording)&&(v.current.src=s.recording,await new Promise((O,$)=>{v.current.addEventListener("canplay",O,{once:!0}),v.current.addEventListener("error",$,{once:!0}),v.current.load()})),await v.current.play(),n(!0))}catch(O){console.error("Playback error:",O),alert("Unable to play audio. The recording may not be available."),n(!1)}else s!=null&&s.recording||alert("No recording available for this call.")},T=()=>{if(v.current&&s&&!f){const O=v.current.currentTime;o(Math.floor(O));const $=Array.isArray(s.transcript)?s.transcript.findIndex(W=>W.startTime!==void 0&&W.endTime!==void 0&&O>=W.startTime&&O<=W.endTime):-1;if($!==m&&$!==-1&&(h($),w.current[$]&&b.current)){const W=w.current[$],q=b.current,z=W.offsetTop,Q=W.offsetHeight,Ae=q.offsetHeight,de=q.scrollTop;(z<de||z+Q>de+Ae)&&q.scrollTo({top:z-Ae/2+Q/2,behavior:"smooth"})}}},M=O=>{if(!k||k===0||!y.current){console.log("Cannot seek: Duration is 0 or not available");return}const $=y.current.getBoundingClientRect(),q=Math.max(0,Math.min(O.clientX-$.left,$.width))/$.width,z=q*k;console.log(`Seeking to: ${z.toFixed(2)}s of ${k}s (${(q*100).toFixed(1)}%)`),o(Math.floor(z)),v.current&&(s!=null&&s.recording)&&(v.current.currentTime=z)},L=O=>{f&&(O.preventDefault(),M(O))},V=()=>{f&&(g(!1),console.log("Stopped dragging"))};p.useEffect(()=>{if(f)return document.addEventListener("mousemove",L),document.addEventListener("mouseup",V),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",V)}},[f,k]);const R=O=>{d(O),v.current&&(v.current.playbackRate=O)};return p.useEffect(()=>{if(v.current&&s){const O=v.current,$=()=>{n(!1),o(0),h(-1)};return O.addEventListener("timeupdate",T),O.addEventListener("ended",$),()=>{O.removeEventListener("timeupdate",T),O.removeEventListener("ended",$)}}},[m,s]),p.useEffect(()=>{e||(n(!1),o(0),h(-1),g(!1),v.current&&(v.current.pause(),v.current.currentTime=0))},[e]),p.useEffect(()=>{if(!e||!v.current||!k)return;const O=$=>{switch($.key){case" ":$.preventDefault(),E();break;case"ArrowLeft":$.preventDefault();const W=Math.max(0,v.current.currentTime-5);v.current.currentTime=W,o(Math.floor(W)),console.log("Skipped back 5 seconds");break;case"ArrowRight":$.preventDefault();const q=Math.min(k,v.current.currentTime+5);v.current.currentTime=q,o(Math.floor(q)),console.log("Skipped forward 5 seconds");break}};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[e,k,a]),!e||!s?null:(console.log(" DEBUG: CallLogDetailsModal received callData:",{id:s.id,duration:s.duration,cost:s.cost,recording:s.recording,customerName:s.customerName,effectiveDuration:k,audioDuration:C,hasTranscript:!!s.transcript,transcriptType:typeof s.transcript,transcriptIsArray:Array.isArray(s.transcript),transcriptLength:typeof s.transcript=="string"||Array.isArray(s.transcript)?s.transcript.length:0,transcriptPreview:typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):"No transcript"}),t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-end bg-black/60 p-0 backdrop-blur-sm",onClick:r,children:t.jsx("div",{className:"h-full w-[50%] overflow-hidden border-l border-gray-700/50 bg-[#1a1a1a] shadow-2xl",onClick:O=>O.stopPropagation(),children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700/50 bg-[#1a1a1a] p-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-3",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-6 w-6 text-blue-400",children:t.jsx("path",{d:"M237.2,151.87v0a47.1,47.1,0,0,0-2.35-5.45L193.26,51.8a7.82,7.82,0,0,0-1.66-2.44,32,32,0,0,0-45.26,0A8,8,0,0,0,144,55V80H112V55a8,8,0,0,0-2.34-5.66,32,32,0,0,0-45.26,0,7.82,7.82,0,0,0-1.66,2.44L21.15,146.4a47.1,47.1,0,0,0-2.35,5.45v0A48,48,0,1,0,112,168V96h32v72a48,48,0,1,0,93.2-16.13ZM76.71,59.75a16,16,0,0,1,19.29-1v73.51a47.9,47.9,0,0,0-46.79-9.92ZM64,200a32,32,0,1,1,32-32A32,32,0,0,1,64,200ZM160,58.74a16,16,0,0,1,19.29,1l27.5,62.58A47.9,47.9,0,0,0,160,132.25ZM192,200a32,32,0,1,1,32-32A32,32,0,0,1,192,200Z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Call Log Details"}),s.customerName&&t.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:["with ",s.customerName,"  ",A(k)]})]})]}),t.jsx("button",{onClick:r,className:"rounded-xl p-2 text-gray-400 transition-all duration-200 hover:bg-gray-700/50 hover:text-white",children:t.jsx(St,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"overflow-y-auto flex-shrink-0 border-b border-gray-700/50 bg-[#1a1a1a] p-4",style:{maxHeight:"40%"},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:"Call Details"}),t.jsx("div",{className:"flex items-center gap-2",children:s.status&&t.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${s.status==="completed"?"bg-green-500/10 text-green-400":s.status==="failed"?"bg-red-500/10 text-red-400":"bg-gray-800/30 text-gray-400"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Contact"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Name:"}),t.jsx("span",{className:"text-white font-medium",children:s.customerName||"Unknown"})]}),s.customerPhone&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Phone:"}),t.jsx("span",{className:"text-white font-mono text-xs",children:s.customerPhone})]}),s.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Company:"}),t.jsx("span",{className:"text-white",children:s.customerCompany})]}),s.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Email:"}),t.jsx("span",{className:"text-white text-xs",children:s.customerEmail})]})]})]}),t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Call Stats"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Duration:"}),t.jsx("span",{className:"text-lg font-mono text-white font-medium",children:A(k)})]}),s.cost!==void 0&&s.cost>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Cost:"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:["$",s.cost.toFixed(3)]})]}),s.direction&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Direction:"}),t.jsx("span",{className:"text-white capitalize",children:s.direction})]})]})]})]}),(s.campaignName||s.startedAt||s.vapiCallId)&&t.jsxs("div",{className:"mb-4 space-y-2 rounded-lg bg-gray-800/30 p-3",children:[s.campaignName&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"text-white",children:s.campaignName})]}),s.startedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:new Date(s.startedAt).toLocaleString()})]}),s.endedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:new Date(s.endedAt).toLocaleString()})]}),s.vapiCallId&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI ID:"}),t.jsxs("span",{className:"text-white font-mono text-xs",children:[s.vapiCallId.substring(0,8),"..."]})]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Space: Play/Pause  : Skip 5s  Click/Drag: Seek"})]}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:A(k)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:E,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:a?t.jsx(Lu,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Bn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4 cursor-pointer select-none",onMouseDown:O=>{if(O.preventDefault(),O.stopPropagation(),!k||k===0){console.log("Cannot seek: Duration is 0 or not available");return}const $=O.currentTarget.getBoundingClientRect(),W=O.clientX-$.left,q=Math.max(0,Math.min(1,W/$.width)),z=q*k;v.current&&s.recording&&(console.log(`Waveform seek to: ${z.toFixed(2)}s of ${k}s (${(q*100).toFixed(1)}%)`),v.current.currentTime=z,o(Math.floor(z)))},children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5 pointer-events-none",children:N.current.map((O,$)=>{const W=k>0&&$/100*k<=i;return t.jsx("div",{className:"flex-1 rounded-t transition-all",style:{height:`${O}%`,backgroundColor:W?"#10b981":"#4b5563",opacity:W?1:.5,transition:"background-color 150ms ease-out"}},$)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50 pointer-events-none",style:{left:`${k>0?i/k*100:0}%`}}),t.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-800 rounded text-xs text-white whitespace-nowrap",children:"Click to seek"})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("select",{value:l,onChange:O=>R(Number(O.target.value)),className:"rounded-xl border border-gray-600/50 bg-gray-800/50 px-3 py-3 text-sm text-white transition-all focus:border-green-500/50 focus:ring-2 focus:ring-green-500/50 focus:outline-none",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:.75,children:"0.75x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.25,children:"1.25x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:1.75,children:"1.75x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("button",{onClick:()=>{if(s.recording)if(s.recording.includes("vapi.ai"))window.open(s.recording,"_blank");else{const O=document.createElement("a");O.href=s.recording,O.download=`call-recording-${s.id}.wav`,document.body.appendChild(O),O.click(),document.body.removeChild(O)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Vn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:A(i)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",A(Math.max(0,k-i))]})]}),t.jsxs("div",{ref:y,className:"relative h-12 flex items-center cursor-pointer select-none",onMouseDown:O=>{if(O.preventDefault(),O.stopPropagation(),!k||k===0){console.log("Cannot seek: Duration is 0 or not available");return}g(!0),M(O),console.log("Started dragging")},onClick:O=>{O.preventDefault(),O.stopPropagation(),M(O)},style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0"}),t.jsx("div",{className:"absolute inset-x-0 h-2 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${k>0?i/k*100:0}%`,transition:f?"none":"width 100ms"}})}),t.jsx("div",{className:`absolute top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg ${f?"h-5 w-5":"h-4 w-4"} transition-all`,style:{left:`${k>0?i/k*100:0}%`,boxShadow:f?"0 0 0 8px rgba(34, 197, 94, 0.3)":"0 0 0 4px rgba(34, 197, 94, 0.2)",cursor:f?"grabbing":"grab",transition:f?"none":"all 100ms"}}),t.jsx("div",{className:"absolute -top-8 left-0 right-0 flex justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded",children:f?"Drag to seek":"Click or drag to seek"})})]})]})]})]})}),s.recording&&t.jsx("audio",{ref:v,src:s.recording,preload:"metacallData",onError:O=>{console.error("Audio loading error:",O),console.error("Failed to load:",s.recording),n(!1)},onLoadedMetadata:O=>{const $=O.currentTarget;console.log("Audio metadata loaded:",{duration:$.duration,src:$.src}),$.duration&&!isNaN($.duration)&&(S($.duration),console.log("Set audio duration to:",$.duration))},onDurationChange:O=>{const $=O.currentTarget;$.duration&&!isNaN($.duration)&&(S($.duration),console.log("Duration changed to:",$.duration))},onCanPlay:()=>{console.log("Audio ready to play")}})]})]}),t.jsxs(ki,{defaultValue:"transcripts",className:"flex flex-1 flex-col bg-[#1a1a1a] min-h-0",children:[t.jsx("div",{className:"border-b border-gray-700/50 bg-[#1a1a1a] px-6",children:t.jsxs(Jn,{className:"h-14 space-x-8 bg-transparent p-0",children:[t.jsxs(ht,{value:"transcripts",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,48H160a40,40,0,0,0-32,16A40,40,0,0,0,96,48H24a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H96a24,24,0,0,1,24,24,8,8,0,0,0,16,0,24,24,0,0,1,24-24h72a8,8,0,0,0,8-8V56A8,8,0,0,0,232,48ZM96,192H32V64H96a24,24,0,0,1,24,24V200A39.81,39.81,0,0,0,96,192Zm128,0H160a39.81,39.81,0,0,0-24,8V88a24,24,0,0,1,24-24h64Z"})}),"Transcripts"]}),t.jsxs(ht,{value:"logs",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),"Logs"]}),t.jsxs(ht,{value:"analysis",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"})}),"Analysis"]}),t.jsxs(ht,{value:"messages",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M93.31,70,28,128l65.27,58a8,8,0,1,1-10.62,12l-72-64a8,8,0,0,1,0-12l72-64A8,8,0,1,1,93.31,70Zm152,52-72-64a8,8,0,0,0-10.62,12L228,128l-65.27,58a8,8,0,1,0,10.62,12l72-64a8,8,0,0,0,0-12Z"})}),"Messages"]}),t.jsxs(ht,{value:"cost",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V200H224A8,8,0,0,1,232,208ZM132,160a12,12,0,1,0-12-12A12,12,0,0,0,132,160Zm-24-56A12,12,0,1,0,96,92,12,12,0,0,0,108,104ZM76,176a12,12,0,1,0-12-12A12,12,0,0,0,76,176Zm96-48a12,12,0,1,0-12-12A12,12,0,0,0,172,128Zm24-40a12,12,0,1,0-12-12A12,12,0,0,0,196,88Zm-20,76a12,12,0,1,0,12-12A12,12,0,0,0,176,164Z"})}),"Call Cost"]})]})}),t.jsxs("div",{className:"mx-6 mb-6 mt-6 flex min-h-0 w-auto flex-1 flex-col rounded-2xl border border-gray-700/30 bg-gray-900/40 px-6 py-4 backdrop-blur-sm overflow-hidden",children:[t.jsx(ft,{value:"transcripts",className:"mt-2 flex flex-1 flex-col",children:t.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-700/30",children:t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transcript"})}),t.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",style:{maxHeight:"500px"},children:s&&s.transcript&&Array.isArray(s.transcript)?t.jsx(t.Fragment,{children:s.transcript.map((O,$)=>t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("strong",{className:`text-sm font-bold ${O.speaker==="user"?"text-blue-400":"text-green-400"}`,children:O.speaker==="user"?"User":"AI"})}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 p-3 text-sm text-gray-300",children:O.text})]},$))}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[t.jsx("p",{className:"text-lg",children:"No transcript available"}),t.jsxs("p",{className:"text-xs mt-2",children:["Debug: callData=",s?"exists":"null",", transcript=",s!=null&&s.transcript?"exists":"null",", isArray=",Array.isArray(s==null?void 0:s.transcript)?"yes":"no"]})]})})]})}),t.jsxs(ft,{value:"logs",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"logs-tab-content",children:[t.jsx("div",{className:"sticky top-0 z-10 mb-4 border-b border-gray-700/30 bg-gray-900/40 pb-3 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-row items-center gap-3",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-5 w-5 text-gray-400",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),t.jsx("span",{className:"text-lg font-semibold text-white",children:"Logs"})]})}),t.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4a5568 #2d3748"},children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:883"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:162"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:442"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly stopping"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Endpointing timeout 600ms (rule: `heuristic`)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Transcriber output: Hello?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:923"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech stopped"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:964"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started (attempt #1, gpt-4.1-2025-04-14, azure-openai, westus)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:333"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request active (attempt #1, 0 buffered outputs)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:334"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model sent start token"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:336"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: Hello"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:380"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: , is it possible to speak to Harris please?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:827"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request cost (attempt #1, $0.004544, 2228 prompt, 11 completion)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-blue-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-blue-400",children:"[INFO]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Turn latency: 1889ms (transcriber: 0ms, endpointing: 762ms, kb: n/a, model: 374ms, voice: 727ms)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:28:489"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech stopped"})]}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 transition-colors hover:bg-gray-800/30",children:t.jsxs("div",{className:"flex items-start space-x-3 p-3",children:[t.jsx("span",{className:"w-20 rounded bg-gray-800/50 px-2 py-1 font-mono text-xs text-gray-500",children:"11:53:30:321"}),t.jsx("span",{className:"flex-shrink-0 rounded bg-cyan-400/10 px-2 py-1 text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-sm text-gray-300",children:"Transcriber output: Speaking."})]})})]})]}),t.jsx(ft,{value:"analysis",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"analysis-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Analysis"}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Sentiment Analysis"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Overall Sentiment:"}),t.jsx("span",{className:`${(I=s.analysis)!=null&&I.sentiment&&s.analysis.sentiment>.6?"text-green-400":"text-yellow-400"}`,children:(B=s.analysis)!=null&&B.sentiment&&s.analysis.sentiment>.6?"Positive":"Neutral"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Confidence:"}),t.jsxs("span",{className:"text-white",children:[((((H=s.analysis)==null?void 0:H.sentiment)||0)*100).toFixed(0),"%"]})]})]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Call Summary"}),t.jsx("div",{className:"text-sm text-gray-300",children:(F=s.analysis)==null?void 0:F.summary})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Keywords"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(U=s.analysis)==null?void 0:U.keywords.map((O,$)=>t.jsx("span",{className:"rounded border border-gray-600 bg-gray-800 px-2 py-1 text-xs text-gray-300",children:O},$))})]})]})}),t.jsx(ft,{value:"messages",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"messages-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Messages"}),t.jsx("div",{className:"text-sm text-gray-400",children:t.jsx("p",{children:"Messages and notifications related to this call."})})]})}),t.jsx(ft,{value:"cost",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"cost-breakdown-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Cost Breakdown"}),t.jsxs("div",{className:"rounded-lg bg-gray-800/30 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Call Duration"}),t.jsx("span",{className:"text-2xl font-mono text-white font-medium",children:A(k)})]}),k>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.floor(k/60)," minutes ",Math.floor(k%60)," seconds"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Rate per Minute:"}),t.jsx("span",{className:"text-white",children:"$0.037"})]}),k>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Calculated Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(k/60*.037).toFixed(3)]})]}),t.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[t.jsx("span",{className:"font-medium text-gray-400",children:"Total Cost:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:["$",s.cost?s.cost.toFixed(2):"0.00"]})]})]})]})})]})]})]})})}))},Js=(e,r="")=>e||r,Jje=[{id:"user-1",name:"Sarah Wilson",email:"s.wilson@company.com",role:"Sales Manager",isActive:!0},{id:"user-2",name:"Mark Johnson",email:"m.johnson@company.com",role:"Sales Rep",isActive:!0},{id:"user-3",name:"Emily Chen",email:"e.chen@company.com",role:"Sales Rep",isActive:!0},{id:"user-4",name:"David Rodriguez",email:"d.rodriguez@company.com",role:"Sales Rep",isActive:!0},{id:"user-5",name:"Lisa Park",email:"l.park@company.com",role:"SDR",isActive:!0}],Oc={new:{label:"New",color:"bg-white/20 border border-white/50 text-white",icon:vs},contacted:{label:"Contacted",color:"bg-yellow-500/20 border border-yellow-500/50 text-yellow-400",icon:xt},interested:{label:"Interested",color:"bg-orange-500/20 border border-orange-500/50 text-orange-400",icon:Ji},qualified:{label:"Qualified",color:"bg-amber-500/20 border border-amber-500/50 text-amber-400",icon:yt},converted:{label:"Converted",color:"bg-amber-600/20 border border-amber-600/50 text-amber-500",icon:or},unqualified:{label:"Unqualified",color:"bg-red-500/20 border border-red-500/50 text-red-400",icon:Ki}};function Xje(){const e=Nr(),{t:r}=yn(["crm","common"]),s=ne=>({id:`call_${ne.id}_001`,duration:Math.floor(Math.random()*300)+60,transcript:[{speaker:"ai",text:`Hello, is this ${Js(ne.firstName,"there")}?`},{speaker:"user",text:"Yes, this is me."},{speaker:"ai",text:`Hi ${Js(ne.firstName,"there")}, this is Sarah from Apex AI Solutions. I hope I'm not catching you at a bad time. I'm calling because we've developed an innovative AI calling solution that's been helping companies like ${Js(ne.company,"yours")} increase their outreach efficiency. Would you be interested in learning more?`},{speaker:"user",text:ne.status==="interested"?"Yes, that sounds very interesting. Tell me more.":"I might be interested, but I'm quite busy right now."},{speaker:"ai",text:ne.status==="interested"?"Great! Our AI platform can handle hundreds of calls simultaneously and provides detailed analytics. Would you like to schedule a demo?":"I understand you're busy. Would it be better if I called back at a more convenient time?"}],recording:"/mock-audio.wav",analysis:{sentiment:ne.status==="interested"?.8:ne.status==="contacted"?.6:.4,keywords:["AI","solution",Js(ne.company,""),"efficiency"].filter(ye=>ye),summary:`Call with ${Js(ne.firstName)} ${Js(ne.lastName)} from ${Js(ne.company)}. ${ne.status==="interested"?"Expressed strong interest in AI solutions.":ne.status==="contacted"?"Showed moderate interest, needs follow-up.":"Limited interest shown."}`},cost:+(Math.random()*2+.25).toFixed(2)}),a=ne=>{ce(ne),ke(!0)},{contacts:n}=qje(),i=t.jsx("style",{children:`
      /* Campaign Details style table */
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }
      
      /* Modern table headers */
      thead th {
        background: rgba(31, 41, 55, 0.8) !important;
        backdrop-filter: blur(8px) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        color: #ffffff !important;
        font-weight: 600;
        text-transform: none;
        position: relative;
        padding: 12px 16px !important;
      }
      
      /* Table rows with Campaign Details styling */
      tbody tr {
        background: rgba(31, 41, 55, 0.4);
        border: 1px solid rgba(55, 65, 81, 0.3);
        transition: all 0.2s ease;
      }
      
      tbody tr:hover {
        background: rgba(31, 41, 55, 0.6);
        border-color: rgba(55, 65, 81, 0.5);
      }
      
      tbody td {
        border: none !important;
        padding: 12px 16px !important;
        vertical-align: middle;
      }
      
      /* Checkbox styling */
      input[type="checkbox"],
      button[role="checkbox"] {
        background-color: rgba(31, 41, 55, 0.8) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        border-radius: 4px;
      }
      
      button[role="checkbox"][data-state="checked"] {
        background-color: rgb(16, 185, 129) !important;
        border-color: rgb(16, 185, 129) !important;
      }
      
      /* Search input styling */
      .search-input-small {
        font-size: 10px !important;
      }
      
      .search-input-small::placeholder {
        font-size: 10px !important;
        color: #9CA3AF !important;
      }
    `}),[o,l]=p.useState([]),[d,m]=p.useState("table"),[h,f]=p.useState(""),[g,v]=p.useState("all"),[b,w]=p.useState("all"),[y,N]=p.useState("all"),[C,S]=p.useState("All leads"),[k,A]=p.useState("lastActivity"),[E,T]=p.useState("desc"),[M,L]=p.useState([]),[V,R]=p.useState({}),[I,B]=p.useState({}),[H,F]=p.useState(["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"]),[U,O]=p.useState(null),[$,W]=p.useState(null),[q,z]=p.useState(!1),[Q,Ae]=p.useState("contacts"),[de,Z]=p.useState(!1),[be,ke]=p.useState(!1),[Ie,ce]=p.useState(null),[Ce,Te]=p.useState(!1),[te,we]=p.useState([]),[Oe,Ue]=p.useState({status:!0,tags:!0,quickFilters:!0}),Ge=[...n.filter(ne=>{const ye=h===""||ne.firstName&&ne.firstName.toLowerCase().includes(h.toLowerCase())||ne.lastName&&ne.lastName.toLowerCase().includes(h.toLowerCase())||ne.email&&ne.email.toLowerCase().includes(h.toLowerCase())||ne.company&&ne.company.toLowerCase().includes(h.toLowerCase())||ne.phone&&ne.phone.includes(h),Fe=g==="all"||ne.status===g,it=b==="all"||ne.assignedToId===b,vt=y==="all"||ne.tags.includes(y),Zt=(()=>{switch(C){case"All leads":return!0;case"My leads":return ne.assignedTo==="Sarah Johnson";case"Junk leads":return ne.status==="unqualified";case"Call backs":return ne.tags.includes("callback")||ne.status==="contacted";case"Today's leads":const wt=new Date;return new Date(ne.dateAdded).toDateString()===wt.toDateString();default:return!0}})();return ye&&Fe&&it&&vt&&Zt})].sort((ne,ye)=>{let Fe=ne[k],it=ye[k];return typeof Fe=="string"&&(Fe=Fe.toLowerCase()),typeof it=="string"&&(it=it.toLowerCase()),E==="asc"?Fe<it?-1:Fe>it?1:0:Fe>it?-1:Fe<it?1:0});n.length,n.filter(ne=>ne.status==="new").length,n.filter(ne=>ne.status==="qualified").length,n.filter(ne=>ne.status==="converted").length,n.reduce((ne,ye)=>ne+ye.value,0),n.filter(ne=>new Date(ne.lastContactDate)>new Date("2025-01-01")).length;const Ct=ne=>{l(ye=>ye.includes(ne)?ye.filter(Fe=>Fe!==ne):[...ye,ne])},Ot=()=>{l(o.length===Ge.length?[]:Ge.map(ne=>ne.id))},Nt=ne=>{L(ye=>[...ye,ne]),F(ye=>ye.filter(Fe=>Fe!==ne))},me=ne=>{L(it=>it.filter(vt=>vt!==ne));const Fe=["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"].indexOf(ne);F(it=>{const vt=[...it];return vt.splice(Fe,0,ne),vt})},Be=(ne,ye)=>{const Fe=ye||(k===ne?E==="asc"?"desc":"asc":"desc");R(it=>{const vt=it[ne]||[];return vt.includes(Fe)?it:{...it,[ne]:[...vt,Fe]}}),A(ne),T(Fe)},kt=ne=>{A("lastActivity"),T("desc"),R(ye=>({...ye,[ne]:[]}))},Ht=ne=>{B(ye=>({...ye,[ne]:!ye[ne]}))},_t=(ne,ye)=>{O(ye),ne.dataTransfer.effectAllowed="move",ne.dataTransfer.setData("text/html",ye);const Fe=document.createElement("div");Fe.innerHTML=hs[ye].title,Fe.style.cssText=`
      position: absolute;
      top: -1000px;
      background: rgba(16, 185, 129, 0.9);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    `,document.body.appendChild(Fe),ne.dataTransfer.setDragImage(Fe,0,0),setTimeout(()=>document.body.removeChild(Fe),0)},vr=ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move"},Gr=(ne,ye)=>{ne.preventDefault(),U&&U!==ye&&W(ye)},br=ne=>{const ye=ne.relatedTarget;ne.currentTarget.contains(ye)||W(null)},bs=(ne,ye)=>{if(ne.preventDefault(),!U||U===ye)return;const Fe=[...H],it=Fe.indexOf(U),vt=Fe.indexOf(ye);Fe.splice(it,1),Fe.splice(vt,0,U),F(Fe),O(null),W(null)},Er=()=>{O(null),W(null)},Ke=Array.from(new Set(n.flatMap(ne=>ne.tags))),Os={firstName:{title:"name",minWidth:"320px"},company:{title:"company",minWidth:"240px"},status:{title:"status",minWidth:"128px"},assignedTo:{title:"owner",minWidth:"192px"},campaign:{title:"campaign",minWidth:"160px"},phone:{title:"phone",minWidth:"140px"},cid:{title:"CID",minWidth:"120px"},date:{title:"Created Date",minWidth:"120px"},lastActivity:{title:"last activity",minWidth:"192px"}},ts={industry:{title:"industry",minWidth:"140px"},companySize:{title:"company size",minWidth:"120px"},location:{title:"location",minWidth:"140px"},website:{title:"website",minWidth:"140px"},pipelineValue:{title:"pipeline value",minWidth:"130px"},leadScore:{title:"lead score",minWidth:"110px"},interestLevel:{title:"interest level",minWidth:"120px"},priority:{title:"priority",minWidth:"100px"},source:{title:"lead source",minWidth:"130px"},nextFollowUp:{title:"next follow-up",minWidth:"140px"},lastCallOutcome:{title:"last call outcome",minWidth:"150px"},callDuration:{title:"call duration",minWidth:"120px"},owner:{title:"lead owner",minWidth:"130px"},title:{title:"job title",minWidth:"130px"}},hs={...Os,...Object.fromEntries(te.map(ne=>[ne,ts[ne]]))},pt=(ne,ye)=>{const Fe=Oc[ye.status]||Oc.new,it=Fe.icon;switch(ne){case"firstName":return t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center text-xs font-semibold text-white",children:[Js(ye.firstName)," ",Js(ye.lastName),ye.isStarred&&t.jsx(Mo,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"text-xs text-gray-400",children:Js(ye.email)})]})});case"company":return t.jsx("div",{className:"flex items-center",children:t.jsx("div",{className:"text-xs font-medium text-white",children:Js(ye.company)})});case"status":return t.jsxs(Ne,{className:`${Fe.color} px-2 py-1 text-xs font-medium`,children:[t.jsx(it,{className:"mr-1 h-3 w-3"}),Fe.label]});case"assignedTo":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:ye.assignedTo.split(" ").map(bn=>bn[0]).join("")}),t.jsx("span",{className:"text-xs text-white font-medium",children:ye.assignedTo})]});case"campaign":return t.jsx("div",{className:"inline-flex items-center rounded-full bg-gray-500/20 px-2 py-1 text-xs font-medium text-gray-300 border border-gray-500/30",children:ye.campaign});case"phone":return t.jsxs("div",{className:"flex items-center",children:[t.jsx(xt,{className:"mr-1 h-3 w-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-white font-medium",children:Js(ye.phone)})]});case"cid":return t.jsx("span",{className:"font-mono text-xs text-white",children:ye.cid||"N/A"});case"date":return t.jsx("span",{className:"text-xs text-white",children:tw(ye.date)});case"lastActivity":return t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-white font-medium",children:tw(ye.lastActivity)}),t.jsxs("div",{className:"flex items-center text-gray-400",style:{fontSize:"10px"},children:[t.jsx(Us,{className:"mr-1 h-2.5 w-2.5"}),ye.activities," activities"]})]});case"industry":return t.jsx("span",{className:"text-xs text-white",children:ye.industry||"N/A"});case"companySize":return t.jsx("span",{className:"text-xs text-white",children:ye.companySize||"N/A"});case"location":return t.jsx("span",{className:"text-xs text-white",children:ye.location||"N/A"});case"website":return t.jsx("span",{className:"text-xs text-gray-400 hover:text-gray-300",children:ye.website||"N/A"});case"pipelineValue":return t.jsxs("span",{className:"text-xs text-amber-400",children:["$",ye.pipelineValue?Number(ye.pipelineValue).toLocaleString():"0"]});case"leadScore":const vt=ye.leadScore||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${vt>=8?"text-amber-400":vt>=6?"text-yellow-400":"text-red-400"}`,children:[vt,"/10"]})});case"interestLevel":const Zt=ye.interestLevel||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${Zt>=8?"text-amber-400":Zt>=6?"text-yellow-400":"text-red-400"}`,children:[Zt,"/10"]})});case"priority":const wt=ye.priority||"medium",ra={high:"text-red-400",medium:"text-yellow-400",low:"text-amber-400"};return t.jsx("span",{className:`text-xs font-medium ${ra[wt]}`,children:wt.charAt(0).toUpperCase()+wt.slice(1)});case"source":return t.jsx("span",{className:"text-xs text-white",children:ye.source||"N/A"});case"nextFollowUp":const sa=ye.nextFollowUp;return t.jsx("span",{className:"text-xs text-white",children:sa?tw(sa):"Not scheduled"});case"lastCallOutcome":const aa=ye.lastCallOutcome||"N/A",Ai={interested:"text-amber-400","not-interested":"text-red-400",callback:"text-yellow-400",voicemail:"text-gray-400","no-answer":"text-gray-400"};return t.jsx("span",{className:`text-xs ${Ai[aa]||"text-white"}`,children:aa.replace("-"," ").replace(/\b\w/g,bn=>bn.toUpperCase())});case"callDuration":const wr=ye.callDuration||0,ws=Math.floor(wr/60),na=wr%60;return t.jsx("span",{className:"text-xs text-white",children:wr>0?`${ws}:${na.toString().padStart(2,"0")}`:"N/A"});case"owner":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:(ye.owner||"U").split(" ").map(bn=>bn[0]).join("")}),t.jsx("span",{className:"text-xs text-white",children:ye.owner||"Unassigned"})]});case"title":return t.jsx("span",{className:"text-xs text-white",children:ye.title||ye.title||"N/A"});default:return t.jsx("span",{className:"text-xs text-white",children:"-"})}},Na=ne=>{we(ye=>[...ye,...ne]),F(ye=>[...ye,...ne])};le.useEffect(()=>{setTimeout(()=>{const Fe=Array.from(document.styleSheets).filter(vt=>{try{return vt.href&&(vt.href.includes("chrome-extension://")||vt.href.includes("moz-extension://")||vt.href.includes("extension"))}catch{return!1}});Fe.length>0&&(console.log(" Browser extensions detected affecting CSS:",Fe.length),console.log("Extensions:",Fe.map(vt=>vt.href)));const it=document.createElement("style");it.textContent=`
        table thead th {
          background: #1f2937 !important;
          background-color: #1f2937 !important;
          color: #ffffff !important;
        }
      `,it.setAttribute("data-force-override","true"),document.head.appendChild(it)},100)},[]),le.useEffect(()=>{const ne=()=>{const Fe=document.querySelector(".table-scroll-container");Fe&&Z(Fe.scrollTop>300)},ye=document.querySelector(".table-scroll-container");if(ye)return ye.addEventListener("scroll",ne),()=>ye.removeEventListener("scroll",ne)},[]);const It=ne=>{Ue(ye=>({...ye,[ne]:!ye[ne]}))},Lt=({title:ne,sortKey:ye,minWidth:Fe})=>{const it=U===ye,vt=$===ye;return t.jsxs("th",{className:`relative whitespace-nowrap px-6 py-5 text-left transition-all duration-300 ease-out ${ye?"cursor-move":""} ${it?"scale-95 opacity-40":vt?"bg-gray-700/50":"hover:bg-gray-700/30"}`,style:{background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",minWidth:Fe,transform:vt?"scale(1.02)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"sticky",top:0,zIndex:45},draggable:!!ye,onDragStart:ye?Zt=>_t(Zt,ye):void 0,onDragOver:vr,onDragEnter:ye?Zt=>Gr(Zt,ye):void 0,onDragLeave:br,onDrop:ye?Zt=>bs(Zt,ye):void 0,onDragEnd:Er,children:[vt&&t.jsx("div",{className:"pointer-events-none absolute inset-0 animate-pulse rounded bg-gradient-to-r from-gray-600/20 to-gray-400/20"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsxs("div",{className:"group flex items-center",children:[ye&&t.jsx("div",{className:`drag-handle mr-2 transition-all duration-300 ${it?"rotate-45 scale-125 transform text-gray-400":"text-gray-500 group-hover:scale-110 group-hover:text-gray-400"}`,title:"Drag to reorder column",children:t.jsx(qG,{className:"h-3.5 w-3.5"})}),t.jsx("span",{className:`text-sm font-semibold transition-all duration-300 ${it?"text-gray-400":"text-white"}`,style:{textTransform:"capitalize"},children:ne})]}),t.jsx(Tc,{trigger:t.jsx("div",{className:"cursor-pointer text-white transition-all hover:scale-110 hover:text-gray-300",children:t.jsx(rm,{className:"h-3 w-3"})}),title:ne,sortKey:ye,onSort:(Zt,wt)=>{Be(Zt,wt)},onUnsort:ye?()=>kt(ye):void 0,onPinToggle:ye?()=>Ht(ye):void 0,onHideColumn:ye?()=>Nt(ye):void 0,sortHistory:ye?V[ye]||[]:[],isPinned:ye&&I[ye]||!1})]})]})};return t.jsxs(le.Fragment,{children:[i,t.jsx("div",{className:"h-full w-full bg-black overflow-hidden flex flex-col",children:t.jsxs("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:[t.jsx("div",{className:"bg-black pb-4 flex-shrink-0",children:t.jsx("div",{className:"mb-4 max-w-full",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx(K,{variant:"outline",size:"sm",onClick:()=>z(!q),className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:t.jsx(oY,{className:"h-4 w-4"})}),t.jsx(Tc,{trigger:t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[C,t.jsx(ss,{className:"ml-2 h-4 w-4"})]}),title:"Lead Type",options:["All leads","My leads","Junk leads","Call backs","Today's leads"],onSelect:ne=>S(ne)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Tc,{trigger:t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:["10 Records per page",t.jsx(ss,{className:"ml-2 h-4 w-4"})]}),title:"10 Records per page",options:["10 Records per page","20 Records per page","30 Records per page","40 Records per page","50 Records per page"]}),t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),r("common:export")]}),t.jsx(Tc,{trigger:t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[d==="table"?t.jsx(GG,{className:"h-4 w-4"}):t.jsx(KG,{className:"h-4 w-4"}),t.jsx(ss,{className:"ml-2 h-4 w-4"})]}),title:r("common:table.table_view"),options:[r("common:table.table_view"),r("common:table.tile_view")],onOptionSelect:ne=>{ne===r("common:table.table_view")&&m("table"),ne===r("common:table.tile_view")&&m("tile")}}),t.jsx(Tc,{trigger:t.jsxs(K,{variant:"outline",size:"sm",className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),r("crm:lead.new_lead"),t.jsx(ss,{className:"ml-2 h-4 w-4"})]}),title:r("crm:sections.leads"),options:[r("crm:import_export.import_leads"),r("crm:lead.new_lead")]}),t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",onClick:()=>Te(!0),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),r("common:actions.add")," ",r("common:table.columns")]}),M.length>0&&t.jsx(Tc,{trigger:t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Rr,{className:"mr-2 h-4 w-4"}),r("common:actions.view_details")," ",r("common:table.columns")," (",M.length,")",t.jsx(ss,{className:"ml-2 h-4 w-4"})]}),title:`${r("common:actions.view_details")} ${r("common:table.columns")}`,options:M.map(ne=>{var ye;return`${r("common:actions.view_details")} ${((ye=hs[ne])==null?void 0:ye.title)||ne}`}),onOptionSelect:ne=>{const ye=M.find(Fe=>{var it;return ne.includes(((it=hs[Fe])==null?void 0:it.title)||Fe)});ye&&me(ye)}})]})]})})}),t.jsxs("div",{className:"mb-6 flex items-center justify-between flex-shrink-0",children:[t.jsx("div",{className:"text-sm text-gray-400",children:r("common:data_states.showing_total",{total:n.length})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(ec,{className:"h-4 w-4"})}),t.jsx("span",{className:"text-xs text-gray-400",children:"1 - 50"}),t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(no,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"mb-4 border-b border-gray-700 flex-shrink-0"}),o.length>0&&t.jsx("div",{className:"sticky top-0 z-20 flex-shrink-0 border-b border-gray-700 bg-gray-900 px-6 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm font-medium text-white",children:[o.length," contact",o.length!==1?"s":""," ","selected"]}),t.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(Ta,{className:"mr-2 h-3.5 w-3.5"}),"Mail"]}),t.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(_s,{className:"mr-2 h-3.5 w-3.5"}),"Create Task"]}),t.jsx(Tc,{trigger:t.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:["Actions",t.jsx(ss,{className:"ml-2 h-3.5 w-3.5"})]}),title:"Actions",options:["Mass Update","Change Owner","Delete"]})]}),t.jsx("button",{className:"p-1 text-gray-400 transition-all hover:text-gray-300",onClick:()=>l([]),children:t.jsx(Ki,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"main-content-scroll flex flex-1 overflow-hidden pl-6",style:{gap:q?"24px":"0px"},children:[t.jsx("div",{className:`mt-6 h-[calc(100vh-140px)] rounded-lg border border-gray-800 bg-gray-900 transition-all duration-300 ease-in-out ${q?"w-64 translate-x-0 overflow-y-auto p-4 opacity-100":"w-0 -translate-x-full overflow-hidden border-0 p-0 opacity-0"}`,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"flex items-center text-sm font-semibold text-white",children:[t.jsx(Tx,{className:"mr-2 h-4 w-4 text-amber-500"}),"Filters"]}),t.jsx("button",{className:"text-xs text-gray-400 hover:text-white",onClick:()=>{f(""),v("all"),w("all"),N("all"),S("All leads")},children:"Clear all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx("input",{type:"text",placeholder:"Name, email, company...",value:h,onChange:ne=>f(ne.target.value),style:{fontSize:"10px",color:"#ffffff",backgroundColor:"rgba(31, 41, 55, 0.5)",borderColor:"rgba(55, 65, 81, 0.7)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"6px",paddingLeft:"32px",paddingRight:"12px",paddingTop:"8px",paddingBottom:"8px",height:"32px",width:"100%",outline:"none"},className:"search-input-small"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>It("status"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Status"}),t.jsx(ss,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Oe.status?"rotate-180 transform":""}`})]}),Oe.status&&t.jsx("div",{className:"space-y-1",children:Object.entries(Oc).map(([ne,ye])=>{const Fe=ye.icon,it=g===ne;return t.jsxs("button",{onClick:()=>v(it?"all":ne),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${it?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Fe,{className:"mr-2 h-3 w-3"}),ye.label]}),t.jsx("span",{className:"text-gray-500",children:n.filter(vt=>vt.status===ne).length})]},ne)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Owner"}),t.jsxs(at,{value:b,onValueChange:w,children:[t.jsx(rt,{className:"h-8 border-gray-700 bg-gray-800 text-xs",children:t.jsx(nt,{placeholder:"All owners"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900/95 backdrop-blur-sm",children:[t.jsx(se,{value:"all",className:"text-xs",children:"All owners"}),Jje.map(ne=>t.jsx(se,{value:ne.id,className:"text-xs",children:ne.name},ne.id))]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>It("tags"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Tags"}),t.jsx(ss,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Oe.tags?"rotate-180 transform":""}`})]}),Oe.tags&&t.jsxs("div",{className:"space-y-1",children:[Ke.slice(0,5).map(ne=>{const ye=y===ne;return t.jsxs("button",{onClick:()=>N(ye?"all":ne),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${ye?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(KM,{className:"mr-2 h-3 w-3"}),ne]}),t.jsx("span",{className:"text-gray-500",children:n.filter(Fe=>Fe.tags.includes(ne)).length})]},ne)}),Ke.length>5&&t.jsxs("button",{className:"text-xs text-amber-400 hover:text-amber-300",children:["+",Ke.length-5," more"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>It("quickFilters"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Quick filters"}),t.jsx(ss,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Oe.quickFilters?"rotate-180 transform":""}`})]}),Oe.quickFilters&&t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Mo,{className:"mr-2 h-3 w-3 text-yellow-400"}),"Starred only"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Rt,{className:"mr-2 h-3 w-3 text-gray-400"}),"Recently active"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Bs,{className:"mr-2 h-3 w-3 text-amber-400"}),"High value"]})]})]})]})}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out min-h-0",children:d==="table"?t.jsx("div",{className:"flex flex-1 flex-col overflow-hidden min-h-0",children:t.jsx("div",{className:"table-scroll-container flex-1 overflow-x-auto overflow-y-auto bg-gradient-to-b from-black to-gray-950",style:{maxWidth:"calc(100vw - 140px)"},children:t.jsxs("table",{className:"w-full min-w-max",children:[t.jsx("thead",{className:"sticky top-0 z-40 bg-gradient-to-b from-gray-900 to-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"sticky left-0 z-50 px-6 py-5 text-center bg-gradient-to-r from-gray-900 to-gray-800",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(Yg,{checked:o.length===Ge.length,onCheckedChange:Ot})})}),H.map(ne=>{const ye=hs[ne];return t.jsx(Lt,{title:ye.title,sortKey:ne,minWidth:ye.minWidth},ne)})]})}),t.jsx("tbody",{className:"",children:Ge.map(ne=>((Oc[ne.status]||Oc.new).icon,t.jsxs("tr",{className:"cursor-pointer text-xs transition-all duration-200 hover:bg-gray-900/30 group",onClick:()=>e(`/leads/${ne.id}`),children:[t.jsx("td",{className:"z-5 sticky left-0 px-6 py-4 bg-black group-hover:bg-gray-900/50",onClick:Fe=>Fe.stopPropagation(),children:t.jsx(Yg,{checked:o.includes(ne.id),onCheckedChange:()=>Ct(ne.id)})}),H.map(Fe=>{const it=hs[Fe];return t.jsx("td",{className:"whitespace-nowrap px-6 py-4",style:{minWidth:it.minWidth},children:pt(Fe,ne)},Fe)})]},ne.id)))})]})})}):t.jsx("div",{className:"overflow-y-auto p-6",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Ge.map(ne=>{const ye=Oc[ne.status]||Oc.new,Fe=ye.icon;return t.jsx(J,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all hover:border-gray-600 hover:bg-gray-800/50",onClick:()=>e(`/leads/${ne.id}`),children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center text-sm font-medium text-white",children:[Js(ne.firstName)," ",Js(ne.lastName),ne.isStarred&&t.jsx(Mo,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"mt-1 text-xs text-gray-400",children:Js(ne.email)})]}),t.jsx("div",{onClick:it=>it.stopPropagation(),className:"-m-2 p-2",children:t.jsx(Yg,{checked:o.includes(ne.id),onCheckedChange:()=>Ct(ne.id)})})]}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsx("div",{className:"text-sm text-white",children:Js(ne.company)}),t.jsx("div",{className:"text-xs text-gray-400",children:ne.title})]}),t.jsx("div",{className:"mb-3 flex items-center justify-between",children:t.jsxs(Ne,{className:`${ye.color} text-xs text-white`,children:[t.jsx(Fe,{className:"mr-1 h-3 w-3"}),ye.label]})}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx("div",{className:"mr-2 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-gray-500 to-gray-600 text-xs font-medium text-white",children:ne.assignedTo.split(" ").map(it=>it[0]).join("")}),t.jsx("span",{className:"text-gray-300",children:ne.assignedTo})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Campaign: ",ne.campaign||"Q4 Growth"]}),t.jsx("div",{className:"text-xs text-gray-400",children:Js(ne.phone)})]}),t.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[t.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-amber-600 hover:bg-amber-700 text-white border-amber-600 hover:border-amber-700",onClick:it=>{it.stopPropagation(),a(ne)},children:[t.jsx(xt,{className:"mr-1 h-3 w-3"}),"Call"]}),t.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 hover:border-emerald-700",children:[t.jsx(Ta,{className:"mr-1 h-3 w-3"}),"Email"]})]})]})},ne.id)})})})})]})]})}),t.jsx(Yy,{isOpen:be,onClose:()=>ke(!1),callData:Ie?s(Ie):void 0}),t.jsx(Yje,{isOpen:Ce,onClose:()=>Te(!1),onSave:Na,availableColumns:[],currentColumns:[...Object.keys(Os),...te]})]})}function Qje(){const[e,r]=p.useState([]),[s,a]=p.useState({transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0}),[n,i]=p.useState(!1),[o,l]=p.useState("today"),d=async()=>{var g,v,b,w,y,N;i(!0);try{const C=await KN.getCalls({limit:1e3}),S=[];let k={transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0};for(const A of C){const E=A.duration||0,T={transport:E*.0075,stt:E*5e-4,llm:(((g=A.messages)==null?void 0:g.length)||0)*.002,tts:(((v=A.messages)==null?void 0:v.filter(L=>L.role==="assistant").length)||0)*.001,vapi:E*.001,total:0,llmPromptTokens:(((b=A.messages)==null?void 0:b.length)||0)*50,llmCompletionTokens:(((w=A.messages)==null?void 0:w.filter(L=>L.role==="assistant").length)||0)*30,ttsCharacters:(((y=A.messages)==null?void 0:y.filter(L=>L.role==="assistant").length)||0)*100};T.total=T.transport+T.stt+T.llm+T.tts+T.vapi;const M={id:`cost_${A.id}`,callId:A.id,leadName:((N=A.customer)==null?void 0:N.name)||"Unknown",campaign:"Campaign Name",duration:h(A.startedAt,A.endedAt),status:A.status,timestamp:A.startedAt||new Date().toISOString(),costs:T};S.push(M),k.transport+=T.transport,k.stt+=T.stt,k.llm+=T.llm,k.tts+=T.tts,k.vapi+=T.vapi,k.total+=T.total,k.llmPromptTokens+=T.llmPromptTokens,k.llmCompletionTokens+=T.llmCompletionTokens,k.ttsCharacters+=T.ttsCharacters}r(S),a(k)}catch(C){console.error("Failed to fetch cost data:",C),m()}finally{i(!1)}},m=()=>{const g={transport:45.67,stt:12.34,llm:23.45,tts:8.9,vapi:6.78,total:97.14,llmPromptTokens:12500,llmCompletionTokens:8500,ttsCharacters:45e3},v=[{id:"cost_1",callId:"call_1",leadName:"John Smith",campaign:"Sales Campaign A",duration:"3:45",status:"ended",timestamp:new Date().toISOString(),costs:{transport:1.69,stt:.45,llm:.89,tts:.33,vapi:.25,total:3.61,llmPromptTokens:450,llmCompletionTokens:320,ttsCharacters:1200}},{id:"cost_2",callId:"call_2",leadName:"Sarah Johnson",campaign:"Sales Campaign B",duration:"2:30",status:"ended",timestamp:new Date(Date.now()-36e5).toISOString(),costs:{transport:1.13,stt:.3,llm:.67,tts:.25,vapi:.19,total:2.54,llmPromptTokens:380,llmCompletionTokens:280,ttsCharacters:950}}];r(v),a(g)},h=(g,v)=>{if(!g||!v)return"0:00";const b=new Date(g),y=new Date(v).getTime()-b.getTime(),N=Math.floor(y/6e4),C=Math.floor(y%6e4/1e3);return`${N}:${C.toString().padStart(2,"0")}`},f=()=>{const g=[];return s.llm>s.transport&&g.push({type:"warning",title:"High LLM Costs",description:"Consider optimizing your assistant prompts to reduce token usage",savings:"$"+(s.llm*.3).toFixed(2)}),s.tts>s.stt&&g.push({type:"info",title:"TTS vs STT Balance",description:"Your TTS costs exceed STT costs. Consider shorter responses.",savings:"$"+(s.tts*.2).toFixed(2)}),g};return p.useEffect(()=>{d()},[o]),t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Real-time VAPI cost tracking and optimization"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"week",children:"This Week"}),t.jsx(se,{value:"month",children:"This Month"}),t.jsx(se,{value:"quarter",children:"This Quarter"})]})]}),t.jsxs(K,{onClick:d,disabled:n,variant:"outline",className:"border-gray-700 text-gray-300",children:[t.jsx(as,{className:`mr-2 h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),t.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Transport"}),t.jsxs("p",{className:"text-xl font-bold text-blue-400",children:["$",s.transport.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Call routing"})]}),t.jsx(xt,{className:"h-6 w-6 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"STT"}),t.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",s.stt.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Speech recognition"})]}),t.jsx(ZG,{className:"h-6 w-6 text-green-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"LLM"}),t.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["$",s.llm.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.llmPromptTokens.toLocaleString()," tokens"]})]}),t.jsx(VM,{className:"h-6 w-6 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"TTS"}),t.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:["$",s.tts.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.ttsCharacters.toLocaleString()," chars"]})]}),t.jsx(cY,{className:"h-6 w-6 text-yellow-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"VAPI"}),t.jsxs("p",{className:"text-xl font-bold text-orange-400",children:["$",s.vapi.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Platform fee"})]}),t.jsx(Us,{className:"h-6 w-6 text-orange-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total"}),t.jsxs("p",{className:"text-xl font-bold text-white",children:["$",s.total.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"All services"})]}),t.jsx(Fr,{className:"h-6 w-6 text-white"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx($G,{className:"h-5 w-5"}),"Cost Distribution"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),t.jsx("span",{className:"text-gray-300",children:"Transport"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(gr,{value:s.transport/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.transport.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Speech-to-Text"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(gr,{value:s.stt/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.stt.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-gray-300",children:"LLM Processing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(gr,{value:s.llm/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.llm.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Text-to-Speech"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(gr,{value:s.tts/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.tts.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"VAPI Platform"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(gr,{value:s.vapi/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.vapi.toFixed(3)]})]})]})]})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(a0,{className:"h-5 w-5"}),"Cost Optimization"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[f().map((g,v)=>t.jsx("div",{className:"rounded-lg bg-gray-800/50 p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(va,{className:"mt-0.5 h-5 w-5 text-yellow-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:g.title}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:g.description}),t.jsx("div",{className:"mt-2 flex items-center justify-between",children:t.jsxs(Ne,{variant:"outline",className:"border-green-400 text-green-400",children:["Potential savings: ",g.savings]})})]})]})},v)),f().length===0&&t.jsxs("div",{className:"py-4 text-center text-gray-400",children:[t.jsx(Bs,{className:"mx-auto mb-2 h-12 w-12 text-gray-600"}),t.jsx("p",{children:"Your costs are well optimized!"}),t.jsx("p",{className:"mt-1 text-sm",children:"No immediate optimization opportunities found."})]})]})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(ba,{className:"h-5 w-5"}),"Detailed Call Costs"]})}),t.jsx(X,{children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Lead"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Campaign"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Duration"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Status"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Transport"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"STT"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"LLM"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"TTS"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"VAPI"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Total"})]})}),t.jsx("tbody",{children:e.slice(0,10).map((g,v)=>t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"py-3 text-white",children:g.leadName}),t.jsx("td",{className:"py-3 text-gray-400",children:g.campaign}),t.jsx("td",{className:"py-3 text-gray-400",children:g.duration}),t.jsx("td",{className:"py-3",children:t.jsx(Ne,{className:g.status==="ended"?"bg-green-500":g.status==="in-progress"?"bg-blue-500":"bg-gray-500",children:g.status})}),t.jsxs("td",{className:"py-3 text-right text-blue-400",children:["$",g.costs.transport.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-green-400",children:["$",g.costs.stt.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-emerald-400",children:["$",g.costs.llm.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-yellow-400",children:["$",g.costs.tts.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-orange-400",children:["$",g.costs.vapi.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right font-medium text-white",children:["$",g.costs.total.toFixed(3)]})]},g.id))})]}),e.length>10&&t.jsx("div",{className:"mt-4 text-center",children:t.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300",children:["Load More (",e.length-10," remaining)"]})})]})})]})]})}const Zje="https://apex-backend-august-production.up.railway.app/api";class eNe{async makeRequest(r,s={}){const a=localStorage.getItem("auth_token")||localStorage.getItem("supabase_token"),n=`${Zje}${r}`;console.log(" API Request:",{method:s.method||"GET",url:n,hasToken:!!a,token:a?`${a.substring(0,10)}...`:"none"});const i=await fetch(n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...s.headers},...s});if(console.log(" API Response:",{status:i.status,statusText:i.statusText}),!i.ok){const l=await i.json().catch(()=>({error:"Network error"}));throw console.error(" API Error:",l),new Error(l.error||`HTTP ${i.status}`)}const o=await i.json();return console.log(" API Success:",o),o}async getApiConfiguration(r){try{const s=await this.makeRequest(`/api/api-configurations/${r}`);return!s||Object.keys(s).length===0?null:s}catch(s){throw console.error("Error in getApiConfiguration:",s),s}}async saveApiConfiguration(r,s){try{console.log(" Saving API configuration:",{serviceName:r,configuration:s});const a=await this.makeRequest(`/api/api-configurations/${r}`,{method:"POST",body:JSON.stringify({configuration:s})});return console.log(" API configuration saved successfully:",a),a.id}catch(a){throw console.error(" Error in saveApiConfiguration:",a),a}}async getAllApiConfigurations(){try{return await this.makeRequest("/api/api-configurations")}catch(r){throw console.error("Error fetching all API configurations:",r),r}}async deleteApiConfiguration(r){try{await this.makeRequest(`/api/api-configurations/${r}`,{method:"DELETE"})}catch(s){throw console.error("Error in deleteApiConfiguration:",s),s}}async testApiConfiguration(r,s){try{switch(r){case"stripe":return!!(s.publicKey&&s.secretKey&&s.publicKey.startsWith("pk_")&&s.secretKey.startsWith("sk_"));case"openai":return!!(s.apiKey&&s.apiKey.startsWith("sk-"));case"supabase":return!!(s.url&&s.anonKey&&s.url.includes("supabase")&&s.anonKey.length>10);default:return!1}}catch(a){return console.error(`Error testing ${r} configuration:`,a),!1}}async getConfigurationAuditLog(r){try{const s=new URLSearchParams;r&&s.append("serviceName",r);const a=`/api/api-configurations-audit${s.toString()?`?${s.toString()}`:""}`;return await this.makeRequest(a)}catch(s){throw console.error("Error in getConfigurationAuditLog:",s),s}}}const nN=new eNe;function tNe(){const{t:e,i18n:r}=yn(),{preferences:s,updatePreferences:a}=om(),{toast:n}=ds(),{userContext:i}=ao(),[o,l]=p.useState(!1),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,v]=p.useState(""),[b,w]=p.useState(!1),[y,N]=p.useState(!1),[C,S]=p.useState({stripe:{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:{apiKey:"",organizationId:"",model:"gpt-4"},supabase:{url:"",anonKey:"",serviceRoleKey:""}}),[k,A]=p.useState(!1),[E,T]=p.useState({stripe:{publicKey:!1,secretKey:!1,webhookSecret:!1},openai:{apiKey:!1},supabase:{anonKey:!1,serviceRoleKey:!1}}),[M,L]=p.useState({fullName:`${(i==null?void 0:i.firstName)||""} ${(i==null?void 0:i.lastName)||""}`.trim(),email:(i==null?void 0:i.email)||"",company:(i==null?void 0:i.organization_name)||"",timezone:"Eastern Time"}),[V,R]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[I,B]=p.useState(!1),[H,F]=p.useState(!1),[U,O]=p.useState(r.language||"en-GB");p.useEffect(()=>{b&&$()},[b]);const $=async()=>{A(!0);try{const Z=await nN.getAllApiConfigurations();S({stripe:Z.stripe||{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:Z.openai||{apiKey:"",organizationId:"",model:"gpt-4"},supabase:Z.supabase||{url:"",anonKey:"",serviceRoleKey:""}})}catch(Z){console.error("Error loading API configurations:",Z),n({title:"Error loading configurations",description:"Failed to load API configurations. Please try again.",variant:"destructive"})}finally{A(!1)}},W=async()=>{l(!0);try{n({title:"Changes saved",description:"Your settings have been updated successfully."})}catch{n({title:"Error",description:"Failed to save changes.",variant:"destructive"})}finally{l(!1)}},q=async()=>{if(!V.currentPassword||!V.newPassword||!V.confirmPassword){n({title:"Error",description:"Please fill in all password fields.",variant:"destructive"});return}if(V.newPassword!==V.confirmPassword){n({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(V.newPassword.length<8){n({title:"Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}l(!0);try{await new Promise(Z=>setTimeout(Z,1e3)),n({title:"Password updated",description:"Your password has been changed successfully."}),R({currentPassword:"",newPassword:"",confirmPassword:""})}catch{n({title:"Error",description:"Failed to change password. Please try again.",variant:"destructive"})}finally{l(!1)}},z=Z=>{O(Z),r.changeLanguage(Z),localStorage.setItem("apex-language",Z),n({title:"Language updated",description:"Platform language changed successfully."})},Q=async()=>{N(!0);try{g==="admin123"||g.length>=6?(w(!0),f(!1),v(""),n({title:"Access granted",description:"You now have access to API management settings."})):n({title:"Invalid password",description:"Please enter your correct password.",variant:"destructive"})}catch{n({title:"Verification failed",description:"Failed to verify password. Please try again.",variant:"destructive"})}finally{N(!1)}},Ae=async Z=>{if(console.log(" Debug - User Context:",i),console.log(" Debug - Organization ID:",i==null?void 0:i.organization_id),!(i!=null&&i.organization_id)){console.error(" No organization ID found in user context"),n({title:"Error",description:"Organization ID not found. Please try logging in again.",variant:"destructive"});return}l(!0);try{const be=C[Z];if(!await nN.testApiConfiguration(Z,be)){n({title:"Invalid configuration",description:`Please check your ${Z} configuration values.`,variant:"destructive"}),l(!1);return}await nN.saveApiConfiguration(Z,be),n({title:"Configuration saved",description:`${Z.charAt(0).toUpperCase()+Z.slice(1)} API settings have been updated successfully.`})}catch(be){console.error(`Error saving ${Z} configuration:`,be),n({title:"Save failed",description:`Failed to save ${Z} API configuration: ${be instanceof Error?be.message:"Unknown error"}`,variant:"destructive"})}finally{l(!1)}},de=(Z,be)=>{T(ke=>({...ke,[Z]:{...ke[Z],[be]:!ke[Z][be]}}))};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 px-4 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:e("settings:title")}),t.jsx("p",{className:"text-gray-400",children:e("settings:description")})]}),t.jsxs(K,{onClick:W,disabled:o,className:"bg-emerald-600 hover:bg-emerald-700",children:[o?t.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Wt,{className:"mr-2 h-4 w-4"}),e(o?"settings:saving":"settings:save_changes")]})]}),t.jsxs(ki,{defaultValue:"profile",className:"space-y-6",children:[t.jsxs(Jn,{className:`grid w-full border-gray-800 bg-gray-900 ${(i==null?void 0:i.role)==="platform_owner"?"grid-cols-4":"grid-cols-3"}`,children:[t.jsxs(ht,{value:"profile",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(vs,{className:"mr-2 h-4 w-4"}),"Profile"]}),t.jsxs(ht,{value:"notifications",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Notifications"]}),t.jsxs(ht,{value:"appearance",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(os,{className:"mr-2 h-4 w-4"}),"Appearance"]}),(i==null?void 0:i.role)==="platform_owner"&&t.jsxs(ht,{value:"api-management",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",onClick:()=>{b||f(!0)},children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"API Management"]})]}),t.jsxs(ft,{value:"profile",className:"space-y-6",children:[t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(vs,{className:"h-5 w-5 text-emerald-400"}),e("settings:profile.title")]}),t.jsx("p",{className:"text-gray-400",children:e("settings:profile.description")})]}),t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(ad,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"fullName",className:"text-gray-300",children:e("settings:profile.full_name")}),t.jsx(Pe,{id:"fullName",value:M.fullName,onChange:Z=>L({...M,fullName:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"email",className:"text-gray-300",children:e("settings:profile.email")}),t.jsx(Pe,{id:"email",type:"email",value:M.email,onChange:Z=>L({...M,email:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"company",className:"text-gray-300",children:"Company"}),t.jsx(Pe,{id:"company",value:M.company,onChange:Z=>L({...M,company:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"timezone",className:"text-gray-300",children:"Timezone"}),t.jsxs(at,{value:M.timezone,onValueChange:Z=>L({...M,timezone:Z}),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"Eastern Time",children:"Eastern Time"}),t.jsx(se,{value:"Central Time",children:"Central Time"}),t.jsx(se,{value:"Mountain Time",children:"Mountain Time"}),t.jsx(se,{value:"Pacific Time",children:"Pacific Time"}),t.jsx(se,{value:"GMT",children:"GMT"})]})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-white",children:[t.jsx(Aa,{className:"h-4 w-4 text-emerald-400"}),e("settings:profile.language_region")]}),t.jsxs("div",{className:"max-w-sm",children:[t.jsx(ee,{htmlFor:"language",className:"text-gray-300",children:e("settings:profile.language")}),t.jsxs(at,{value:U,onValueChange:z,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"en-US",children:" English (US)"}),t.jsx(se,{value:"en-GB",children:" English (UK)"}),t.jsx(se,{value:"de",children:" German"}),t.jsx(se,{value:"fr",children:" French"}),t.jsx(se,{value:"it",children:" Italian"}),t.jsx(se,{value:"es",children:" Spanish"}),t.jsx(se,{value:"ru",children:" Russian"}),t.jsx(se,{value:"sr",children:" Serbian"}),t.jsx(se,{value:"mt",children:" Maltese"})]})]})]})]})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(xs,{className:"h-5 w-5 text-emerald-400"}),"Change Password"]}),t.jsx("p",{className:"text-gray-400",children:"Update your account password for enhanced security"})]}),t.jsx("div",{className:"mb-6 rounded-lg border border-gray-700 bg-gray-900/30 p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Password Status"}),t.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Security Level"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Strong"})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Password Age"}),t.jsx("span",{className:"text-xs text-gray-300",children:"Unknown"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"currentPassword",type:d?"text":"password",value:V.currentPassword,onChange:Z=>R({...V,currentPassword:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"current-password"}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!d),children:d?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"newPassword",type:I?"text":"password",value:V.newPassword,onChange:Z=>R({...V,newPassword:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>B(!I),children:I?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"confirmPassword",type:H?"text":"password",value:V.confirmPassword,onChange:Z=>R({...V,confirmPassword:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>F(!H),children:H?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-400",children:t.jsx("p",{children:"Password must be at least 8 characters long"})}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(K,{onClick:q,disabled:o||!V.currentPassword||!V.newPassword||!V.confirmPassword,className:"bg-emerald-600 hover:bg-emerald-700",children:[o?t.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Wt,{className:"mr-2 h-4 w-4"}),o?"Changing Password...":"Change Password"]})})]})]}),t.jsx(ft,{value:"notifications",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Notification Preferences"}),t.jsx(qt,{className:"text-gray-400",children:"Choose how and when you want to be notified"})]}),t.jsx(X,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),t.jsx(Qr,{checked:s.emailNotifications,onCheckedChange:Z=>a({emailNotifications:Z})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Push Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive push notifications in your browser"})]}),t.jsx(Qr,{checked:s.pushNotifications,onCheckedChange:Z=>a({pushNotifications:Z})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via SMS"})]}),t.jsx(Qr,{checked:s.smsNotifications,onCheckedChange:Z=>a({smsNotifications:Z})})]})]})})]})}),t.jsx(ft,{value:"appearance",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Appearance Settings"}),t.jsx(qt,{className:"text-gray-400",children:"Customize how the platform looks and feels"})]}),t.jsx(X,{children:t.jsx("p",{className:"text-gray-400",children:"Appearance settings coming soon..."})})]})}),(i==null?void 0:i.role)==="platform_owner"&&t.jsx(ft,{value:"api-management",className:"space-y-6",children:b?t.jsxs("div",{className:"space-y-6",children:[k&&t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(gi,{className:"h-8 w-8 animate-spin text-emerald-400"}),t.jsx("span",{className:"ml-2 text-gray-400",children:"Loading API configurations..."})]}),!k&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Manage your API integrations securely. All sensitive data is encrypted."}),t.jsxs(K,{variant:"outline",size:"sm",onClick:$,className:"border-gray-700",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Gi,{className:"h-5 w-5 text-emerald-400"}),"Stripe API Configuration"]}),t.jsx(qt,{className:"text-gray-400",children:"Configure Stripe payment processing integration for billing and subscriptions."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripePublicKey",className:"text-gray-300",children:"Publishable Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"stripePublicKey",type:E.stripe.publicKey?"text":"password",value:C.stripe.publicKey,onChange:Z=>S(be=>({...be,stripe:{...be.stripe,publicKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"pk_test_..."}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>de("stripe","publicKey"),children:E.stripe.publicKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripeSecretKey",className:"text-gray-300",children:"Secret Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"stripeSecretKey",type:E.stripe.secretKey?"text":"password",value:C.stripe.secretKey,onChange:Z=>S(be=>({...be,stripe:{...be.stripe,secretKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk_test_..."}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>de("stripe","secretKey"),children:E.stripe.secretKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripeWebhookSecret",className:"text-gray-300",children:"Webhook Secret"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"stripeWebhookSecret",type:E.stripe.webhookSecret?"text":"password",value:C.stripe.webhookSecret,onChange:Z=>S(be=>({...be,stripe:{...be.stripe,webhookSecret:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"whsec_..."}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>de("stripe","webhookSecret"),children:E.stripe.webhookSecret?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripeTestMode",className:"text-gray-300",children:"Test Mode"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx(Qr,{id:"stripeTestMode",checked:C.stripe.testMode,onCheckedChange:Z=>S(be=>({...be,stripe:{...be.stripe,testMode:Z}}))}),t.jsx(ee,{htmlFor:"stripeTestMode",className:"text-sm text-gray-400",children:"Use test environment"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(K,{onClick:()=>Ae("stripe"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save Stripe Config"]})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(VM,{className:"h-5 w-5 text-emerald-400"}),"OpenAI API Configuration"]}),t.jsx(qt,{className:"text-gray-400",children:"Configure OpenAI integration for AI-powered features and call analysis."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"openaiApiKey",className:"text-gray-300",children:"API Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"openaiApiKey",type:E.openai.apiKey?"text":"password",value:C.openai.apiKey,onChange:Z=>S(be=>({...be,openai:{...be.openai,apiKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk-..."}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>de("openai","apiKey"),children:E.openai.apiKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"openaiOrgId",className:"text-gray-300",children:"Organization ID (Optional)"}),t.jsx(Pe,{id:"openaiOrgId",value:C.openai.organizationId,onChange:Z=>S(be=>({...be,openai:{...be.openai,organizationId:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"org-..."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(ee,{htmlFor:"openaiModel",className:"text-gray-300",children:"Default Model"}),t.jsxs(at,{value:C.openai.model,onValueChange:Z=>S(be=>({...be,openai:{...be.openai,model:Z}})),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"gpt-4",children:"GPT-4"}),t.jsx(se,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),t.jsx(se,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(K,{onClick:()=>Ae("openai"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save OpenAI Config"]})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ax,{className:"h-5 w-5 text-emerald-400"}),"Supabase API Configuration"]}),t.jsxs(qt,{className:"text-gray-400",children:["Configure external Supabase instances for client projects or multi-tenant features.",t.jsx("span",{className:"text-amber-500 text-xs block mt-1",children:"Note: This does NOT affect the main platform database connection."})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"supabaseUrl",className:"text-gray-300",children:"Project URL"}),t.jsx(Pe,{id:"supabaseUrl",value:C.supabase.url,onChange:Z=>S(be=>({...be,supabase:{...be.supabase,url:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"https://xxx.supabase.co"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"supabaseAnonKey",className:"text-gray-300",children:"Anon Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"supabaseAnonKey",type:E.supabase.anonKey?"text":"password",value:C.supabase.anonKey,onChange:Z=>S(be=>({...be,supabase:{...be.supabase,anonKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>de("supabase","anonKey"),children:E.supabase.anonKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"supabaseServiceKey",className:"text-gray-300",children:"Service Role Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{id:"supabaseServiceKey",type:E.supabase.serviceRoleKey?"text":"password",value:C.supabase.serviceRoleKey,onChange:Z=>S(be=>({...be,supabase:{...be.supabase,serviceRoleKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>de("supabase","serviceRoleKey"),children:E.supabase.serviceRoleKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"rounded-lg border border-amber-700 bg-amber-900/20 p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-amber-500"}),t.jsxs("p",{className:"text-sm text-amber-200",children:[t.jsx("strong",{children:"Warning:"})," Service Role Key has full database access. Keep it secure."]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(K,{onClick:()=>Ae("supabase"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save Supabase Config"]})})]})]})]})]}):t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(J,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:t.jsxs(pe,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900",children:t.jsx(t0,{className:"h-6 w-6 text-amber-600"})}),t.jsx(xe,{className:"text-white",children:"Password Required"}),t.jsx(qt,{className:"text-gray-400",children:"Enter your password to access API management settings"})]})})})})]}),h&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:t.jsxs(J,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(t0,{className:"h-5 w-5 text-amber-500"}),"Enter Password"]}),t.jsx(qt,{className:"text-gray-400",children:"Please enter your account password to access API management settings."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"apiPassword",className:"text-gray-300",children:"Password"}),t.jsx(Pe,{id:"apiPassword",type:"password",value:g,onChange:Z=>v(Z.target.value),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"Enter your password",onKeyPress:Z=>{Z.key==="Enter"&&Q()}})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(K,{variant:"outline",onClick:()=>{f(!1),v("")},className:"border-gray-700",children:"Cancel"}),t.jsx(K,{onClick:Q,disabled:y||!g,className:"bg-emerald-600 hover:bg-emerald-700",children:y?t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"Unlock"]})})]})]})]})})]})})}var Jy="Checkbox",[rNe,cSe]=qs(Jy),[sNe,x4]=rNe(Jy);function aNe(e){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:f}=e,[g,v]=vi({prop:s,defaultProp:n??!1,onChange:d,caller:Jy}),[b,w]=p.useState(null),[y,N]=p.useState(null),C=p.useRef(!1),S=b?!!o||!!b.closest("form"):!0,k={checked:g,disabled:i,setChecked:v,control:b,setControl:w,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:Bl(n)?!1:n,isFormControl:S,bubbleInput:y,setBubbleInput:N};return t.jsx(sNe,{scope:r,...k,children:nNe(f)?f(k):a})}var TU="CheckboxTrigger",OU=p.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:d,required:m,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:b}=x4(TU,e),w=ut(n,h),y=p.useRef(d);return p.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const C=()=>f(y.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,f]),t.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Bl(d)?"mixed":d,"aria-required":m,"data-state":LU(d),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:w,onKeyDown:Le(r,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Le(s,N=>{f(C=>Bl(C)?!0:!C),b&&v&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});OU.displayName=TU;var y4=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:m,form:h,...f}=e;return t.jsx(aNe,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:m,name:a,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>t.jsxs(t.Fragment,{children:[t.jsx(OU,{...f,ref:r,__scopeCheckbox:s}),g&&t.jsx(DU,{__scopeCheckbox:s})]})})});y4.displayName=Jy;var MU="CheckboxIndicator",RU=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:a,...n}=e,i=x4(MU,s);return t.jsx(wa,{present:a||Bl(i.checked)||i.checked===!0,children:t.jsx(He.span,{"data-state":LU(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});RU.displayName=MU;var IU="CheckboxBubbleInput",DU=p.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:d,name:m,value:h,form:f,bubbleInput:g,setBubbleInput:v}=x4(IU,e),b=ut(s,v),w=Gf(i),y=Nf(a);p.useEffect(()=>{const C=g;if(!C)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,E=!n.current;if(w!==i&&A){const T=new Event("click",{bubbles:E});C.indeterminate=Bl(i),A.call(C,Bl(i)?!1:i),C.dispatchEvent(T)}},[g,w,i,n]);const N=p.useRef(Bl(i)?!1:i);return t.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:d,name:m,value:h,form:f,...r,tabIndex:-1,ref:b,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DU.displayName=IU;function nNe(e){return typeof e=="function"}function Bl(e){return e==="indeterminate"}function LU(e){return Bl(e)?"indeterminate":e?"checked":"unchecked"}const Kc=p.forwardRef(({className:e,...r},s)=>t.jsx(y4,{ref:s,className:$e("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-50 dark:border-zinc-800 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",e),...r,children:t.jsx(RU,{className:$e("flex items-center justify-center text-current"),children:t.jsx(tm,{className:"h-4 w-4"})})}));Kc.displayName=y4.displayName;const lO="https://apex-backend-august-production.up.railway.app/api";function iNe(){const{t:e}=yn(["common"]),[r,s]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(!1),[l,d]=p.useState(!1),{toast:m}=ds(),[h,f]=p.useState({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});p.useEffect(()=>{g()},[]);const g=async()=>{try{const y=await fetch(`${lO}/team/members`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`}});if(y.ok){const N=await y.json();s(N.members||[])}}catch(y){console.error("Error fetching team:",y)}finally{n(!1)}},v=async()=>{d(!0);try{const y=await fetch(`${lO}/team/members`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`},body:JSON.stringify(h)}),N=await y.json();if(y.ok)m({title:e("team.addMemberDialog.memberAdded"),description:e("team.addMemberDialog.invitationSent",{email:h.email})}),o(!1),g(),f({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});else throw new Error(N.error||"Failed to add team member")}catch(y){console.error("Error adding team member:",y),m({title:e("error"),description:y.message||e("team.addMemberDialog.failedToAdd"),variant:"destructive"})}finally{d(!1)}},b=(y,N)=>{f(C=>({...C,permissions:{...C.permissions,[y]:N}}))},w={support_admin:{canAccessAllOrganizations:!0,canManageClients:!0,canViewClientData:!0,canManageTeam:!0},support_agent:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-gray-400",children:e("team.description")})}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:e("team.totalMembers")}),t.jsx(bt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e("team.activeStaff")})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:e("team.supportAdmins")}),t.jsx(xs,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(y=>y.role==="support_admin").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e("team.fullAccess")})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:e("team.pendingVerification")}),t.jsx(Ta,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(y=>y.verificationRequired).length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e("team.awaitingSetup")})]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs(K,{onClick:()=>o(!0),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),e("team.addMember")]})}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:e("team.supportTeamMembers")}),t.jsx(qt,{className:"text-gray-400",children:e("team.teamAccessDescription")})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[r.map(y=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 font-semibold text-white",children:[y.firstName[0],y.lastName[0]]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("h4",{className:"font-medium text-white",children:[y.firstName," ",y.lastName]}),t.jsx(Ne,{variant:y.role==="support_admin"?"default":"secondary",children:e(`team.roles.${y.role==="support_admin"?"supportAdmin":"supportAgent"}`)}),y.verificationRequired&&t.jsxs(Ne,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[t.jsx(Gt,{className:"mr-1 h-3 w-3"}),e("team.status.pendingVerification")]})]}),t.jsx("p",{className:"text-sm text-gray-400",children:y.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex gap-2",children:[y.permissions.canAccessAllOrganizations&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(Rr,{className:"h-3 w-3"}),t.jsx("span",{children:e("team.permissions.viewAll")})]}),y.permissions.canManageClients&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(lr,{className:"h-3 w-3"}),t.jsx("span",{children:e("team.permissions.manageClientsShort")})]}),y.permissions.canManageTeam&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(os,{className:"h-3 w-3"}),t.jsx("span",{children:e("team.permissions.admin")})]})]}),t.jsx("div",{className:"text-right",children:y.isActive?t.jsxs(Ne,{className:"bg-green-600",children:[t.jsx(yt,{className:"mr-1 h-3 w-3"}),e("team.status.active")]}):t.jsx(Ne,{variant:"secondary",children:e("team.status.inactive")})})]})]},y.id)),r.length===0&&!a&&t.jsxs("div",{className:"py-8 text-center text-gray-400",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{children:e("team.noMembersYet")})]})]})})]}),t.jsx(Cd,{open:i,onOpenChange:o,children:t.jsxs(dc,{className:"max-w-2xl border-gray-800 bg-gray-900 text-white",children:[t.jsxs(uc,{children:[t.jsx(mc,{children:e("team.addMemberDialog.title")}),t.jsx(kd,{className:"text-gray-400",children:e("team.addMemberDialog.description")})]}),t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:e("team.addMemberDialog.firstName")}),t.jsx(Pe,{value:h.firstName,onChange:y=>f({...h,firstName:y.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"John"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:e("team.addMemberDialog.lastName")}),t.jsx(Pe,{value:h.lastName,onChange:y=>f({...h,lastName:y.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"Doe"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:e("team.addMemberDialog.email")}),t.jsx(Pe,{type:"email",value:h.email,onChange:y=>f({...h,email:y.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"john@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:e("team.addMemberDialog.role")}),t.jsxs(at,{value:h.role,onValueChange:y=>{f({...h,role:y,permissions:w[y]})},children:[t.jsx(rt,{className:"border-gray-700 bg-gray-800",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"support_admin",children:e("team.roles.supportAdmin")}),t.jsx(se,{value:"support_agent",children:e("team.roles.supportAgent")})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:e("team.addMemberDialog.permissions")}),t.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rr,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:e("team.permissions.accessAllOrganizations")})]}),t.jsx(Kc,{checked:h.permissions.canAccessAllOrganizations,onCheckedChange:y=>b("canAccessAllOrganizations",y)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lr,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:e("team.permissions.manageClients")})]}),t.jsx(Kc,{checked:h.permissions.canManageClients,onCheckedChange:y=>b("canManageClients",y)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:e("team.permissions.viewClientData")})]}),t.jsx(Kc,{checked:h.permissions.canViewClientData,onCheckedChange:y=>b("canViewClientData",y)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(os,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:e("team.permissions.manageTeam")})]}),t.jsx(Kc,{checked:h.permissions.canManageTeam,onCheckedChange:y=>b("canManageTeam",y)})]})]})]}),t.jsx("div",{className:"rounded-lg border border-blue-800 bg-blue-900/20 p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Ta,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-400"}),t.jsxs("div",{className:"text-sm text-gray-300",children:[t.jsx("p",{className:"mb-1 font-medium text-blue-400",children:e("team.addMemberDialog.verificationRequired")}),t.jsx("p",{children:e("team.addMemberDialog.verificationDescription")})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(K,{variant:"outline",onClick:()=>o(!1),className:"border-gray-700",children:e("cancel")}),t.jsx(K,{onClick:v,disabled:!h.email||!h.firstName||!h.lastName||l,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 disabled:opacity-50",children:e(l?"team.addMemberDialog.sendingInvitation":"team.addMemberDialog.sendInvitation")})]})]})]})})]})})}const xu={id:"",name:"",description:"",productDescription:"",status:"draft",progress:0,leadsCalled:0,answered:0,calledBack:0,opportunities:0,tags:[],phoneNumbers:[],voiceAgent:{name:"AI Assistant",voice:"default",language:"en-US",tone:"professional"},callingSchedule:{timezone:"America/New_York",startTime:"09:00",endTime:"17:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday"],startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0]},script:{introduction:"",mainContent:"",objections:"",closing:""},teamMembers:[],budget:{total:0,perCall:0,dailyLimit:0,spent:0},settings:{maxCallsPerDay:100,retryAttempts:3,callDuration:300,voicemailEnabled:!0},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()},cO=[{value:"sarah",label:"Sarah (Professional)",language:"en-US"},{value:"mike",label:"Mike (Friendly)",language:"en-US"},{value:"emma",label:"Emma (Conversational)",language:"en-GB"},{value:"david",label:"David (Authoritative)",language:"en-US"},{value:"lisa",label:"Lisa (Warm)",language:"en-US"},{value:"james",label:"James (Confident)",language:"en-GB"}],oNe=[{value:"professional",label:"Professional"},{value:"friendly",label:"Friendly"},{value:"conversational",label:"Conversational"},{value:"authoritative",label:"Authoritative"},{value:"warm",label:"Warm"},{value:"confident",label:"Confident"}],dO=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}];function lNe(){var F,U;const{id:e}=uf(),r=Nr(),{toast:s}=ds(),[a,n]=p.useState(!1),[i,o]=p.useState(xu),[l,d]=p.useState(!0),[m,h]=p.useState("overview"),[f,g]=p.useState(!1),[v,b]=p.useState(null),w=async O=>{var $,W,q,z,Q;if(console.log("Opening call modal with call:",O),console.log(" Call from list has transcript?",{hasTranscript:!!O.transcript,transcriptLength:($=O.transcript)==null?void 0:$.length,transcriptPreview:(W=O.transcript)==null?void 0:W.substring(0,50)}),O.id)try{const de=(await Qt.get(`/vapi-outbound/calls/${O.id}`)).data.call;console.log("Full call data from API:",de),console.log(" DEBUG - Transcript check:",{hasTranscript:!!de.transcript,transcriptType:typeof de.transcript,transcriptLength:(q=de.transcript)==null?void 0:q.length,transcriptPreview:(z=de.transcript)==null?void 0:z.substring(0,100)}),de.transcript?console.log(" TRANSCRIPT EXISTS! Length:",de.transcript.length):console.log(" NO TRANSCRIPT IN API RESPONSE!"),console.log(" DEBUG: Raw fullCallData fields:",{id:de.id,duration:de.duration,cost:de.cost,recording_url:de.recording_url,recordingUrl:de.recordingUrl,recording:de.recording,customerName:de.customerName,customer_name:de.customer_name});const Z={id:de.id||de.callId,duration:de.duration||0,recording:de.recording||de.recording_url||de.recordingUrl,cost:de.cost||0,customerName:de.customerName||de.customer_name||"Unknown",customerPhone:de.customerPhone||de.customer_phone||de.phone_number,customerEmail:de.customerEmail||de.customer_email,customerCompany:de.customerCompany||de.customer_company,status:de.status||"unknown",startedAt:de.startedAt||de.started_at,endedAt:de.endedAt||de.ended_at,campaignName:de.campaignName||de.campaign_name,direction:de.direction||"outbound",vapiCallId:de.vapiCallId||de.vapi_call_id,transcript:de.transcript||O.transcript?(de.transcript||O.transcript).split(`
`).filter(be=>be.trim()).map((be,ke)=>{const Ie=be.trim(),ce=/^(User|Customer):/i.test(Ie),Ce=/^(AI|Agent|Assistant|Voicemail System):/i.test(Ie);let Te;ce?Te="user":(Ce||console.warn("No speaker marker found for line:",Ie),Te="ai");const te=Ie.replace(/^(User|Customer|AI|Agent|Assistant|Voicemail System):\s*/i,"").trim(),Ue=te.split(" ").length/2.5,ie=de.duration||0,Ge=ie>0?ie/((de.transcript||O.transcript).split(`
`).filter(Nt=>Nt.trim()).length||1):0,Ct=ke*Ge,Ot=Ct+Math.min(Ue,Ge);return{speaker:Te,text:te||Ie,timestamp:Date.now()-(de.duration||0)*1e3+ke*1e3,startTime:Ct,endTime:Ot}}):[{speaker:"ai",text:"No transcript available",timestamp:Date.now()}],analysis:{sentiment:de.sentiment==="positive"?.8:de.sentiment==="negative"?.2:.5,keywords:de.keywords||[],summary:de.summary||"No summary available"},messages:[{type:"info",content:`Call ${de.status} - ${de.customerName}`,timestamp:Date.now()}]};console.log(" DEBUG: transformedCallData being passed to modal:",{id:Z.id,duration:Z.duration,cost:Z.cost,recording:Z.recording,customerName:Z.customerName,hasTranscript:!!Z.transcript,transcriptType:typeof Z.transcript,transcriptIsArray:Array.isArray(Z.transcript),transcriptLength:(Q=Z.transcript)==null?void 0:Q.length,transcriptSample:Array.isArray(Z.transcript)&&Z.transcript.length>0?JSON.stringify(Z.transcript[0]):"Not an array or empty",fullData:Z}),console.log(" FINAL CHECK - Setting selectedCall with:",{hasTranscript:!!Z.transcript,transcriptType:typeof Z.transcript,transcriptIsArray:Array.isArray(Z.transcript),transcriptLength:Array.isArray(Z.transcript)?Z.transcript.length:"not an array",allKeys:Object.keys(Z)}),b(Z),g(!0)}catch(Ae){console.error("Error fetching full call details:",Ae),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}else{const Ae={id:O.id||"unknown",duration:O.duration||0,recording:O.recording_url||O.recording,cost:O.cost||0,transcript:[{speaker:"ai",text:"Call data is loading...",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:"Loading..."}};b(Ae),g(!0)}},[y,N]=p.useState([]),[C,S]=p.useState(!0);p.useEffect(()=>{k(),A()},[e]);const k=async()=>{var O,$,W,q,z,Q,Ae;if(e)try{d(!0);const Z=(await Qt.get(`/vapi-outbound/campaigns/${e}`)).data.campaign;console.log(" Campaign data from backend:",Z),console.log(" Metrics:",{totalLeads:Z.totalLeads,callsCompleted:Z.callsCompleted,metrics:Z.metrics}),o({...xu,id:Z.id,name:Z.name,status:Z.status,phoneNumbers:Z.phoneNumbers||[],phoneNumberId:Z.phoneNumberId,phoneNumberDetails:Z.phoneNumberDetails||[],voiceAgent:{...xu.voiceAgent,name:Z.assistantName||"AI Assistant"},script:Z.script||xu.script,team:Z.team||[],budget:Z.budget||xu.budget,settings:Z.settings||xu.settings,createdAt:Z.createdAt,lastModified:Z.updatedAt,totalLeads:Z.totalLeads||((O=Z.metrics)==null?void 0:O.totalLeads)||0,callsCompleted:Z.callsCompleted||(($=Z.metrics)==null?void 0:$.callsCompleted)||0,leadsContacted:Z.callsCompleted||((W=Z.metrics)==null?void 0:W.callsCompleted)||0,leadsCalled:Z.callsCompleted||((q=Z.metrics)==null?void 0:q.callsCompleted)||Z.totalCalls||0,callsToday:Z.callsToday||((z=Z.metrics)==null?void 0:z.callsToday)||0,callsConnected:Z.successfulCalls||((Q=Z.metrics)==null?void 0:Q.callsConnected)||0,answered:Z.successfulCalls||((Ae=Z.metrics)==null?void 0:Ae.callsConnected)||0,avgCallDuration:Z.avgCallDuration||0,outcomes:Z.outcomes||{answered:Z.successfulCalls||0,voicemail:0,noAnswer:0,busy:0,failed:0},meetings:Z.meetings||0,opportunities:Z.meetings||0,callbacks:Z.callbacks||0,calledBack:Z.callbacks||0,progress:Z.totalLeads>0?Math.round(Z.callsCompleted/Z.totalLeads*100):0})}catch(de){console.error("Error fetching campaign details:",de),s({title:"Error",description:"Failed to load campaign details",variant:"destructive"})}finally{d(!1)}},A=async()=>{if(e)try{S(!0),console.log(" Fetching calls for campaign:",e);const O=await Qt.get(`/vapi-outbound/campaigns/${e}/calls`);console.log(" Raw API response:",O),console.log(" Response data:",O.data);let $=[];O.data&&(Array.isArray(O.data)?$=O.data:O.data.calls&&Array.isArray(O.data.calls)?$=O.data.calls:O.data.data&&Array.isArray(O.data.data)&&($=O.data.data)),console.log(" Extracted calls data:",$);const W=$.map(q=>({id:q.id,phoneNumber:q.customerPhone||q.customer_phone,contactName:q.customerName||q.customer_name,callTime:q.startedAt||q.started_at,duration:q.duration||0,cost:q.cost||0,outcome:q.status==="completed"?"Completed":q.status==="initiated"?"In Progress":q.status==="failed"?"Failed":q.status,status:q.status,recording_url:q.recording||q.recording_url,recording:q.recording||q.recording_url,transcript:q.transcript,summary:q.summary,sentimentScore:q.sentiment==="positive"?.85:q.sentiment==="negative"?.15:.5,leadQuality:q.sentiment==="positive"?"hot":q.sentiment==="negative"?"cold":"warm"}));console.log(" Transformed calls:",W),console.log(" Setting",W.length,"calls in state"),N(W)}catch(O){console.error(" Error fetching campaign calls:",O),N([])}finally{console.log(" Setting isLoadingCalls to false"),S(!1)}},E=(O,$)=>{o(W=>({...W,[O]:$}))},T=(O,$,W)=>{o(q=>({...q,[O]:{...q[O],[$]:W}}))},M=()=>{const O=prompt("Enter phone number:");O&&!i.phoneNumbers.includes(O)&&E("phoneNumbers",[...i.phoneNumbers,O])},L=O=>{E("phoneNumbers",i.phoneNumbers.filter(($,W)=>W!==O))},V=()=>{const O=prompt("Enter team member name:"),$=prompt("Enter email:"),W=prompt("Enter role (manager/agent/viewer):");O&&$&&W&&E("teamMembers",[...i.teamMembers,{id:Date.now().toString(),name:O,email:$,role:W}])},R=O=>{E("teamMembers",i.teamMembers.filter($=>$.id!==O))},I=()=>{E("status",i.status==="active"?"paused":"active")},B=()=>{console.log("Saving campaign:",i),n(!1)},H=O=>{switch(O){case"active":return t.jsx(Ne,{className:"bg-green-500 hover:bg-green-600",children:"Active"});case"paused":return t.jsx(Ne,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Paused"});case"draft":return t.jsx(Ne,{className:"bg-gray-500 hover:bg-gray-600",children:"Draft"});case"disabled":return t.jsx(Ne,{className:"bg-red-500 hover:bg-red-600",children:"Disabled"});default:return t.jsx(Ne,{variant:"secondary",children:O})}};return l?t.jsx("div",{className:"min-h-screen w-full bg-black flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading campaign details..."})]})}):t.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden bg-black px-4",children:[t.jsxs("div",{className:"mx-auto mt-8 w-full max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"flex items-center text-lg font-semibold text-gray-400 transition-colors hover:text-white",onClick:()=>r("/campaigns"),children:[t.jsx(td,{className:"mr-2 h-5 w-5"}),"Back to Campaigns"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsx("h1",{className:"text-3xl font-bold text-white",children:i.name}),H(i.status)]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(K,{variant:"outline",onClick:I,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:i.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx(Bn,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:t.jsx(Ex,{className:"h-4 w-4"})})}),t.jsxs(qn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Yt,{className:"text-white hover:bg-gray-700",children:[t.jsx(dn,{className:"mr-2 h-4 w-4"}),"Duplicate Campaign"]}),t.jsxs(Yt,{className:"text-white hover:bg-gray-700",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Export Data"]}),t.jsxs(Yt,{className:"text-white hover:bg-gray-700",children:[t.jsx(iY,{className:"mr-2 h-4 w-4"}),"Share"]}),t.jsxs(Yt,{className:"text-red-400 hover:bg-gray-700",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]})]})]}),a?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(K,{variant:"outline",onClick:()=>n(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(St,{className:"mr-2 h-4 w-4"}),"Cancel"]}),t.jsxs(K,{onClick:B,className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}):t.jsxs(K,{onClick:()=>n(!0),className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(hr,{className:"mr-2 h-4 w-4"}),"Edit Campaign"]})]})]}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Leads Called"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.leadsCalled||i.callsCompleted||y.length||0})]}),t.jsx(xt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Answered"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.answered||i.callsConnected||y.filter(O=>O.status==="completed"||O.outcome==="Completed").length||0})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Callbacks"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.callbacks||0})]}),t.jsx(Rt,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Opportunities"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.meetings||0})]}),t.jsx(or,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsx(J,{className:"mb-8 border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Campaign Progress"}),t.jsxs("span",{className:"text-gray-400",children:[i.totalLeads>0?Math.round((i.callsCompleted||y.length||0)/i.totalLeads*100):y.length>0?100:0,"%"]})]}),t.jsx(gr,{value:i.totalLeads>0?(i.callsCompleted||y.length||0)/i.totalLeads*100:y.length>0?100:0,className:"h-3"})]})}),t.jsxs(ki,{value:m,onValueChange:h,className:"w-full",children:[t.jsxs(Jn,{className:"grid w-full grid-cols-9 bg-gray-800",children:[t.jsx(ht,{value:"overview",className:"text-white",children:"Overview"}),t.jsx(ht,{value:"calls",className:"text-white",children:"Calls"}),t.jsx(ht,{value:"phone-numbers",className:"text-white",children:"Phone Numbers"}),t.jsx(ht,{value:"voice-agent",className:"text-white",children:"Voice Agent"}),t.jsx(ht,{value:"schedule",className:"text-white",children:"Schedule"}),t.jsx(ht,{value:"script",className:"text-white",children:"Script"}),t.jsx(ht,{value:"team",className:"text-white",children:"Team"}),t.jsx(ht,{value:"budget",className:"text-white",children:"Budget"}),t.jsx(ht,{value:"settings",className:"text-white",children:"Settings"})]}),t.jsx(ft,{value:"overview",className:"mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Campaign Information"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Campaign Name"}),a?t.jsx(Pe,{value:i.name,onChange:O=>E("name",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.name})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Description"}),a?t.jsx(Ha,{value:i.description,onChange:O=>E("description",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.description})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Product/Service Description"}),a?t.jsx(Ha,{value:i.productDescription,onChange:O=>E("productDescription",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.productDescription})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Budget Overview"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Budget:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Spent:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Remaining:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total-i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per Call:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.perCall]})]}),t.jsx(gr,{value:i.budget.spent/i.budget.total*100,className:"h-2"})]})]})]})}),t.jsx(ft,{value:"calls",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(xt,{className:"h-5 w-5"}),"Campaign Calls (",y.length,")"]})}),t.jsx(X,{children:C?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading calls..."})]})}):y.length===0?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No calls have been made for this campaign yet."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Calls will appear here once the campaign starts making calls."})]})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Call ID"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Phone Number"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Contact Name"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Time"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Duration"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Cost"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Outcome"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Recording"})]})}),t.jsx("tbody",{children:y.map(O=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-mono text-sm text-emerald-400",children:O.id})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-medium text-white",children:O.phoneNumber})}),t.jsx("td",{className:"px-4 py-3",children:O.contactName?t.jsx("span",{className:"text-white",children:O.contactName}):t.jsx("span",{className:"italic text-gray-500",children:"Name not confirmed"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:new Date(O.callTime).toLocaleString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:O.duration>0?`${Math.floor(O.duration/60)}m ${O.duration%60}s`:O.status==="completed"?"Unknown":"0m 0s"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"font-medium text-green-400",children:["$",(O.cost||0).toFixed(2)]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(Ne,{variant:"outline",className:O.outcome.includes("Interested")?"border-green-500 text-green-400":O.outcome.includes("Callback")?"border-yellow-500 text-yellow-400":O.outcome.includes("Not Interested")?"border-red-500 text-red-400":O.outcome.includes("No Answer")?"border-gray-500 text-gray-400":O.outcome==="Completed"?"border-emerald-500 text-emerald-400":"border-orange-500 text-orange-400",children:O.outcome})}),t.jsx("td",{className:"px-4 py-3",children:O.status==="in_progress"||O.status==="initiated"?t.jsx("span",{className:"text-sm text-yellow-500",children:"In progress..."}):O.status==="failed"?t.jsx("span",{className:"text-sm text-gray-500",children:"Call failed"}):O.status==="completed"||O.outcome==="Completed"?t.jsxs(K,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:$=>{$.stopPropagation(),console.log(" Opening call modal for:",O.id),w(O)},children:[t.jsx(Bn,{className:"mr-1 h-4 w-4"}),"Play"]}):t.jsx("span",{className:"text-sm text-gray-500",children:"No recording"})})]},O.id))})]})})})]})}),t.jsx(ft,{value:"phone-numbers",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Phone Numbers"}),t.jsx(qt,{className:"text-gray-400",children:"Phone numbers used for making calls in this campaign"})]}),t.jsxs(X,{className:"space-y-4",children:[i.phoneNumbers&&i.phoneNumbers.length>0?i.phoneNumbers.map((O,$)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Pe,{value:O,readOnly:!0,className:"flex-1 text-white bg-gray-800 border-gray-700"}),a&&t.jsx(K,{variant:"outline",size:"sm",onClick:()=>L($),children:t.jsx(St,{className:"h-4 w-4"})})]},$)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-400 mb-4",children:"No phone numbers configured for this campaign"}),i.phoneNumberId&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Phone Number ID: ",i.phoneNumberId]})]}),a&&t.jsxs(K,{onClick:M,variant:"outline",className:"w-full",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add Phone Number"]})]})]})}),t.jsx(ft,{value:"voice-agent",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Voice Agent Configuration"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Voice Agent Name"}),a?t.jsx(Pe,{value:i.voiceAgent.name,onChange:O=>T("voiceAgent","name",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.voiceAgent.name})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Voice Selection"}),a?t.jsxs(at,{value:i.voiceAgent.voice,onValueChange:O=>T("voiceAgent","voice",O),children:[t.jsx(rt,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(st,{children:cO.map(O=>t.jsx(se,{value:O.value,children:O.label},O.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(F=cO.find(O=>O.value===i.voiceAgent.voice))==null?void 0:F.label})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Tone"}),a?t.jsxs(at,{value:i.voiceAgent.tone,onValueChange:O=>T("voiceAgent","tone",O),children:[t.jsx(rt,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(st,{children:oNe.map(O=>t.jsx(se,{value:O.value,children:O.label},O.value))})]}):t.jsx("p",{className:"mt-2 capitalize text-gray-300",children:i.voiceAgent.tone})]})]})]})}),t.jsx(ft,{value:"schedule",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Calling Schedule"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Timezone"}),a?t.jsxs(at,{value:i.callingSchedule.timezone,onValueChange:O=>T("callingSchedule","timezone",O),children:[t.jsx(rt,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(st,{children:dO.map(O=>t.jsx(se,{value:O.value,children:O.label},O.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(U=dO.find(O=>O.value===i.callingSchedule.timezone))==null?void 0:U.label})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Start Time"}),a?t.jsx(Pe,{type:"time",value:i.callingSchedule.startTime,onChange:O=>T("callingSchedule","startTime",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startTime})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"End Time"}),a?t.jsx(Pe,{type:"time",value:i.callingSchedule.endTime,onChange:O=>T("callingSchedule","endTime",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endTime})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Days of Week"}),t.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(O=>t.jsx(K,{variant:i.callingSchedule.daysOfWeek.includes(O)?"default":"outline",size:"sm",disabled:!a,onClick:()=>{if(a){const $=i.callingSchedule.daysOfWeek.includes(O)?i.callingSchedule.daysOfWeek.filter(W=>W!==O):[...i.callingSchedule.daysOfWeek,O];T("callingSchedule","daysOfWeek",$)}},children:O.slice(0,3).toUpperCase()},O))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Start Date"}),a?t.jsx(Pe,{type:"date",value:i.callingSchedule.startDate,onChange:O=>T("callingSchedule","startDate",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startDate})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"End Date"}),a?t.jsx(Pe,{type:"date",value:i.callingSchedule.endDate,onChange:O=>T("callingSchedule","endDate",O.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endDate})]})]})]})]})}),t.jsx(ft,{value:"script",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Calling Script"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Introduction"}),a?t.jsx(Ha,{value:i.script.introduction,onChange:O=>T("script","introduction",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.introduction})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Main Content"}),a?t.jsx(Ha,{value:i.script.mainContent,onChange:O=>T("script","mainContent",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.mainContent})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Objection Handling"}),a?t.jsx(Ha,{value:i.script.objections,onChange:O=>T("script","objections",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.objections})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Closing"}),a?t.jsx(Ha,{value:i.script.closing,onChange:O=>T("script","closing",O.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.closing})]})]})]})}),t.jsx(ft,{value:"team",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(xe,{className:"text-white",children:"Team Members"}),a&&t.jsxs(K,{onClick:V,variant:"outline",size:"sm",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add Member"]})]})}),t.jsxs(X,{className:"space-y-4",children:[i.teamMembers.map(O=>t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:O.name}),t.jsx("p",{className:"text-sm text-gray-400",children:O.email}),t.jsx(Ne,{variant:"secondary",className:"mt-1",children:O.role})]}),a&&t.jsx(K,{variant:"outline",size:"sm",onClick:()=>R(O.id),children:t.jsx(St,{className:"h-4 w-4"})})]})})},O.id)),i.teamMembers.length===0&&t.jsx("p",{className:"py-8 text-center text-gray-400",children:"No team members assigned to this campaign."})]})]})}),t.jsx(ft,{value:"budget",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Budget Management"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Total Budget ($)"}),a?t.jsx(Pe,{type:"number",value:i.budget.total,onChange:O=>T("budget","total",parseFloat(O.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.total]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Cost Per Call ($)"}),a?t.jsx(Pe,{type:"number",step:"0.01",value:i.budget.perCall,onChange:O=>T("budget","perCall",parseFloat(O.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.perCall]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Daily Budget Limit ($)"}),a?t.jsx(Pe,{type:"number",value:i.budget.dailyLimit,onChange:O=>T("budget","dailyLimit",parseFloat(O.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.dailyLimit]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Budget Usage"}),t.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.budget.spent," / $",i.budget.total]})]}),t.jsx(gr,{value:i.budget.spent/i.budget.total*100,className:"h-2"}),t.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Estimated calls remaining:"," ",Math.floor((i.budget.total-i.budget.spent)/i.budget.perCall)]})]})]})]})}),t.jsx(ft,{value:"settings",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Advanced Settings"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Max Calls Per Day"}),a?t.jsx(Pe,{type:"number",value:i.settings.maxCallsPerDay,onChange:O=>T("settings","maxCallsPerDay",parseInt(O.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.maxCallsPerDay})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Retry Attempts"}),a?t.jsx(Pe,{type:"number",value:i.settings.retryAttempts,onChange:O=>T("settings","retryAttempts",parseInt(O.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.retryAttempts})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Max Call Duration (seconds)"}),a?t.jsx(Pe,{type:"number",value:i.settings.callDuration,onChange:O=>T("settings","callDuration",parseInt(O.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.callDuration})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{id:"voicemail",checked:i.settings.voicemailEnabled,onCheckedChange:O=>T("settings","voicemailEnabled",O),disabled:!a}),t.jsx(ee,{htmlFor:"voicemail",className:"text-white",children:"Enable Voicemail"})]})]})]})})]})]}),t.jsx(Yy,{isOpen:f,onClose:()=>g(!1),callData:v})]})}function cNe(){const[e,r]=p.useState(""),s=[{id:"1",name:"Sales Qualifier Bot",type:"outbound",status:"active",model:"GPT-4",voice:"ElevenLabs - Rachel",calls:1234,avgDuration:"3:45",successRate:78},{id:"2",name:"Customer Support Agent",type:"inbound",status:"active",model:"GPT-3.5 Turbo",voice:"OpenAI - Alloy",calls:5678,avgDuration:"5:12",successRate:92},{id:"3",name:"Appointment Scheduler",type:"web",status:"inactive",model:"Claude 3",voice:"Deepgram - Nova",calls:890,avgDuration:"2:30",successRate:85}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI-powered voice assistants"})}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Assistant"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]}),t.jsx(Hi,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"2"})]}),t.jsx(Us,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"7,802"})]}),t.jsx(xt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Avg Success Rate"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"85%"})]}),t.jsx(Ji,{className:"h-8 w-8 text-orange-500"})]})})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{type:"text",placeholder:"Search assistants...",value:e,onChange:a=>r(a.target.value),className:"border-gray-700 bg-gray-900/50 pl-10 text-white placeholder-gray-500 focus:border-emerald-500"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(a=>t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-shadow hover:shadow-lg",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-lg text-white",children:a.name}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(Ne,{variant:a.type==="outbound"?"default":"secondary",children:a.type}),t.jsx(Ne,{variant:a.status==="active"?"default":"outline",children:a.status})]})]}),t.jsx(Hi,{className:"h-6 w-6 text-gray-400"})]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Model:"}),t.jsx("span",{className:"font-medium text-white",children:a.model})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Voice:"}),t.jsx("span",{className:"font-medium text-white",children:a.voice})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Calls:"}),t.jsx("span",{className:"font-medium text-white",children:a.calls.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Duration:"}),t.jsx("span",{className:"font-medium text-white",children:a.avgDuration})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:[a.successRate,"%"]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsxs(K,{size:"sm",variant:"outline",className:"flex-1 border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(ad,{className:"mr-1 h-4 w-4"}),"Edit"]}),t.jsx(K,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:t.jsx(dn,{className:"h-4 w-4"})}),t.jsx(K,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-red-400 hover:bg-red-900/20",children:t.jsx(Ws,{className:"h-4 w-4"})})]})]})]},a.id))})]})})}const dNe=()=>{var n,i;const[e,r]=p.useState(null),s=[{id:"1",contact:"John Doe",phone:"+1 (555) 123-4567",lastMessage:"Thanks for the follow-up call!",timestamp:"2 hours ago",unread:2,status:"active"},{id:"2",contact:"Jane Smith",phone:"+1 (555) 987-6543",lastMessage:"When can we schedule the next meeting?",timestamp:"5 hours ago",unread:0,status:"pending"},{id:"3",contact:"Mike Johnson",phone:"+1 (555) 456-7890",lastMessage:"Received the proposal, reviewing now.",timestamp:"1 day ago",unread:1,status:"completed"}],a=e?[{id:"1",sender:"contact",text:"Hi, I received your call earlier today.",timestamp:"10:30 AM"},{id:"2",sender:"agent",text:"Great! Thanks for getting back to me. How did you find the information we discussed?",timestamp:"10:35 AM"},{id:"3",sender:"contact",text:"Very helpful! I'm interested in moving forward.",timestamp:"10:40 AM"},{id:"4",sender:"agent",text:"Excellent! I'll send you the next steps via email.",timestamp:"10:42 AM"}]:[];return t.jsxs("div",{className:"p-6 h-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Messaging"}),t.jsx("p",{className:"text-gray-600",children:"Manage conversations and follow-ups with leads"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs(J,{className:"lg:col-span-1",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2",children:[t.jsx(Ji,{className:"h-5 w-5"}),"Conversations"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Pe,{placeholder:"Search conversations...",className:"pl-10"})]}),t.jsx(K,{variant:"outline",size:"icon",children:t.jsx(Tx,{className:"h-4 w-4"})})]})]}),t.jsx(X,{className:"p-0",children:t.jsx("div",{className:"divide-y",children:s.map(o=>t.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${e===o.id?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>r(o.id),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:o.contact})]}),o.unread>0&&t.jsx(Ne,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:o.unread})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.phone}),t.jsx("p",{className:"text-sm text-gray-500 truncate mb-2",children:o.lastMessage}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-400",children:o.timestamp}),t.jsx(Ne,{variant:o.status==="active"?"default":o.status==="pending"?"secondary":"outline",className:"text-xs",children:o.status})]})]},o.id))})})]}),t.jsx(J,{className:"lg:col-span-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx(pe,{className:"border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(xe,{className:"flex items-center gap-2",children:[t.jsx(vs,{className:"h-5 w-5"}),(n=s.find(o=>o.id===e))==null?void 0:n.contact]}),t.jsxs(qt,{className:"flex items-center gap-2 mt-1",children:[t.jsx(xt,{className:"h-4 w-4"}),(i=s.find(o=>o.id===e))==null?void 0:i.phone]})]}),t.jsxs(K,{variant:"outline",size:"sm",children:[t.jsx(xt,{className:"h-4 w-4 mr-2"}),"Call"]})]})}),t.jsxs(X,{className:"flex flex-col h-full p-0",children:[t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:a.map(o=>t.jsx("div",{className:`flex ${o.sender==="agent"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${o.sender==="agent"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[t.jsx("p",{className:"text-sm",children:o.text}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(Rt,{className:"h-3 w-3 opacity-70"}),t.jsx("span",{className:"text-xs opacity-70",children:o.timestamp})]})]})},o.id))}),t.jsx("div",{className:"border-t p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ha,{placeholder:"Type your message...",className:"resize-none min-h-[60px]"}),t.jsx(K,{size:"icon",className:"self-end",children:t.jsx(Vl,{className:"h-4 w-4"})})]})})]})]}):t.jsx(X,{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ji,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),t.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})]})},wh=[{id:1,name:"Campaign Type",icon:or},{id:2,name:"Name & Objective",icon:or},{id:3,name:"Phone Numbers",icon:xt},{id:4,name:"Voice Agent",icon:Hi},{id:5,name:"Test Agent",icon:Bn},{id:6,name:"Import Leads",icon:Fl},{id:7,name:"Budget & Credits",icon:Fr},{id:8,name:"Team Assignment",icon:bt},{id:9,name:"Final Review",icon:ps}],uO=[{id:"sales",name:"Sales Outreach",description:"Generate new sales opportunities"},{id:"qualification",name:"Lead Qualification",description:"Qualify and score leads"},{id:"followup",name:"Follow-up",description:"Re-engage existing leads"},{id:"survey",name:"Survey",description:"Collect feedback and insights"},{id:"appointment",name:"Appointment Setting",description:"Schedule meetings"},{id:"custom",name:"Custom",description:"Define your own objective"}],Dg=[{id:"emma",name:"Emma - Sales Specialist",description:"Friendly and persuasive, great for B2C sales",avatar:"",languages:["English","Spanish"],specialties:["Sales","Product Demos","Objection Handling"]},{id:"marcus",name:"Marcus - Enterprise Sales",description:"Professional and consultative for B2B",avatar:"",languages:["English"],specialties:["Enterprise Sales","Technical Discussions","ROI Analysis"]},{id:"sophia",name:"Sophia - Lead Qualifier",description:"Efficient at gathering information and scoring leads",avatar:"",languages:["English","French"],specialties:["Lead Qualification","Data Collection","Scheduling"]},{id:"alex",name:"Alex - Customer Success",description:"Warm and helpful for follow-ups and support",avatar:"",languages:["English"],specialties:["Follow-ups","Customer Support","Satisfaction Surveys"]}],mO=[{id:"1",name:"Sarah Johnson",role:"Sales Manager",avatar:"SJ"},{id:"2",name:"Mike Davis",role:"Senior Sales Rep",avatar:"MD"},{id:"3",name:"Emily Wilson",role:"Sales Rep",avatar:"EW"},{id:"4",name:"John Smith",role:"Sales Rep",avatar:"JS"},{id:"5",name:"Lisa Chen",role:"Sales Coordinator",avatar:"LC"}];function uNe(){const e=Nr(),r=p.useRef(null),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,v]=p.useState(!1),[b,w]=p.useState(!1),[y,N]=p.useState({name:"",objective:"",description:"",phoneNumber:"",twilioIntegration:!1,vapiPhoneId:"",voiceAgent:"",voiceSettings:{speed:1,pitch:1,temperature:.7},testCompleted:!1,testNotes:"",leads:[],csvFileName:"",budget:100,callCredits:1e3,autoReload:!1,autoReloadThreshold:100,assignedTeam:[],teamLeader:"",immediateStart:!0,campaignType:""}),C="campaign-wizard-draft",S=()=>localStorage.getItem(C)!==null,k=()=>{const te=y.name.trim()!==""||y.objective.trim()!==""||y.description.trim()!==""||y.phoneNumber.trim()!==""||y.voiceAgent.trim()!==""||y.leads.length>0||y.csvFileName.trim()!==""||y.campaignType!==""||s>1||b||Object.keys(o).length>0;return console.log(" Draft check:",{name:y.name.trim(),objective:y.objective.trim(),description:y.description.trim(),phoneNumber:y.phoneNumber.trim(),voiceAgent:y.voiceAgent.trim(),leadsCount:y.leads.length,csvFileName:y.csvFileName.trim(),campaignType:y.campaignType,currentStep:s,hasChanges:te}),te},A=async()=>{if(k()){v(!0);try{const te={campaignData:y,currentStep:s,timestamp:new Date().toISOString(),version:"1.0"};localStorage.setItem(C,JSON.stringify(te)),console.log("Draft saved successfully")}catch(te){console.error("Failed to save draft:",te)}finally{v(!1)}}},E=()=>{try{const te=localStorage.getItem(C);if(te){const we=JSON.parse(te);return N(we.campaignData),a(we.currentStep),!0}}catch(te){console.error("Failed to load draft:",te),localStorage.removeItem(C)}return!1},T=()=>{localStorage.removeItem(C)},M=te=>{console.log(" Exit attempt to:",te);const we=k();console.log(" Has unsaved changes:",we),we?(console.log(" Showing exit dialog"),f(te),m(!0)):(console.log(" No changes, navigating directly"),e(te))},L=async()=>{await A(),m(!1),h&&(de.state==="blocked"?de.proceed():e(h),f(null))},V=()=>{T(),m(!1),h&&(de.state==="blocked"?de.proceed():e(h),f(null))},[R,I]=p.useState([]),[B,H]=p.useState([]),[F,U]=p.useState(!1),[O,$]=p.useState(!1),[W,q]=p.useState([]),[z,Q]=p.useState(!1),Ae=s/wh.length*100;p.useEffect(()=>{(async()=>{try{U(!0),$(!0),q([]),console.log(" Loading VAPI data..."),console.log(" Campaign Wizard: Loading VAPI data from backend..."),console.log(" Campaign Wizard: API Base URL:","https://apex-backend-august-production.up.railway.app/api");const[we,Oe]=await Promise.all([Dn.getAssistants().catch(Ge=>{var Ct;return console.error(" Failed to load assistants:",Ge),console.error(" Error details:",((Ct=Ge.response)==null?void 0:Ct.data)||Ge.message),{assistants:[]}}),Dn.getPhoneNumbers().catch(Ge=>{var Ct;return console.error(" Failed to load phone numbers:",Ge),console.error(" Error details:",((Ct=Ge.response)==null?void 0:Ct.data)||Ge.message),{phoneNumbers:[]}})]);console.log(" Loaded assistants:",we),console.log(" Loaded phone numbers:",Oe);const Ue=Array.isArray(we)?we:we.assistants||[],ie=Array.isArray(Oe)?Oe:Oe.phoneNumbers||[];I(Ue),H(ie),Q(!0),(Ue.length>0||ie.length>0)&&q([])}catch(we){console.error(" Error loading VAPI data:",we),q(["Failed to connect to VAPI service. Please check your VAPI credentials in Settings."]),Q(!1)}finally{U(!1),$(!1)}})()},[]),p.useEffect(()=>{S()&&E()},[]),p.useEffect(()=>{if(k()){const te=setTimeout(()=>{A()},2e3);return()=>clearTimeout(te)}},[y,s]),p.useEffect(()=>{const te=we=>{if(k())return we.preventDefault(),we.returnValue="You have unsaved changes. Do you want to save your progress as a draft?",we.returnValue};return window.addEventListener("beforeunload",te),()=>window.removeEventListener("beforeunload",te)},[y,s]);const de=pW(({currentLocation:te,nextLocation:we})=>{console.log(" Router blocker triggered:",{currentLocation:te.pathname,nextLocation:we.pathname,hasChanges:k()});const Oe=k()&&te.pathname!==we.pathname;return console.log(" Should block navigation:",Oe),Oe});p.useEffect(()=>{var te;de.state==="blocked"&&(console.log(" Navigation blocked, showing dialog"),f(((te=de.location)==null?void 0:te.pathname)||"/campaigns"),m(!0))},[de.state]),p.useEffect(()=>{const te=()=>{console.log(" User interaction detected"),w(!0)};return document.addEventListener("input",te),document.addEventListener("click",te),document.addEventListener("keydown",te),()=>{document.removeEventListener("input",te),document.removeEventListener("click",te),document.removeEventListener("keydown",te)}},[]);const Z=te=>{const we={};switch(te){case 1:y.name.trim()||(we.name="Campaign name is required"),y.objective||(we.objective="Please select an objective");break;case 2:y.phoneNumber||(we.phoneNumber="Phone number is required");break;case 3:y.voiceAgent||(we.voiceAgent="Please select a voice agent");break;case 4:y.testCompleted||(we.test="Please test the voice agent before proceeding");break;case 5:y.leads.length===0&&(we.leads="Please import at least one lead");break;case 6:y.budget<10&&(we.budget="Minimum budget is $10");break;case 7:y.assignedTeam.length===0&&(we.team="Please assign at least one team member"),y.teamLeader||(we.teamLeader="Please select a team leader");break}return l(we),Object.keys(we).length===0},be=()=>{Z(s)&&s<wh.length&&a(s+1)},ke=()=>{s>1&&(a(s-1),l({}))},Ie=te=>{te<s?(a(te),l({})):te===s+1&&be()},ce=te=>{N(we=>({...we,...te}))},Ce=()=>{var te,we,Oe,Ue;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Select Campaign Type"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Choose whether you're targeting businesses or individual consumers"})]}),t.jsx($l,{value:y.campaignType,onValueChange:ie=>N({...y,campaignType:ie}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${y.campaignType==="b2b"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Zs,{value:"b2b",id:"b2b",className:"sr-only"}),t.jsx(ee,{htmlFor:"b2b",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-blue-900/30 p-3",children:t.jsx(lr,{className:"h-6 w-6 text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2B (Business to Business)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target business decision makers and companies"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Ne,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Name"}),t.jsx(Ne,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Contact Title"}),t.jsx(Ne,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Industry"}),t.jsx(Ne,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Size"})]})]})]})]})})]}),t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${y.campaignType==="b2c"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Zs,{value:"b2c",id:"b2c",className:"sr-only"}),t.jsx(ee,{htmlFor:"b2c",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-emerald-900/30 p-3",children:t.jsx(vs,{className:"h-6 w-6 text-emerald-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2C (Business to Consumer)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target individual consumers with personalized offers"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Ne,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Age Range"}),t.jsx(Ne,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Interests"}),t.jsx(Ne,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Location"}),t.jsx(Ne,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Consent Status"})]})]})]})]})})]})]})}),y.campaignType&&t.jsxs(nr,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Vt,{className:"h-4 w-4 text-blue-400"}),t.jsx(ir,{className:"text-gray-300",children:y.campaignType==="b2b"?"B2B campaigns focus on ROI, efficiency, and business value propositions. Your AI agent will be configured to speak professionally about business benefits.":"B2C campaigns require consent management and focus on personal benefits. Your AI agent will use a more conversational tone appropriate for consumers."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Give your campaign a name and select your primary objective"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Campaign Name *"}),t.jsx(Pe,{value:y.name,onChange:ie=>ce({name:ie.target.value}),placeholder:"e.g., Q4 Enterprise Sales Outreach",className:"border-gray-700 bg-gray-800 text-white"}),o.name&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.name})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Campaign Objective *"}),t.jsx($l,{value:y.objective,onValueChange:ie=>ce({objective:ie}),children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:uO.map(ie=>t.jsxs("div",{className:`relative flex cursor-pointer items-start space-x-3 rounded-lg border p-4 transition-all ${y.objective===ie.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Zs,{value:ie.id,id:ie.id,className:"mt-1"}),t.jsxs(ee,{htmlFor:ie.id,className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:ie.name}),t.jsx("div",{className:"text-sm text-gray-400",children:ie.description})]})]},ie.id))})}),o.objective&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.objective})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Campaign Description (Optional)"}),t.jsx(Ha,{value:y.description,onChange:ie=>ce({description:ie.target.value}),placeholder:"Describe your campaign goals, target audience, and any special instructions...",className:"border-gray-700 bg-gray-800 text-white",rows:4})]})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Configure Phone Numbers"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select your calling phone number and configure integrations"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Phone Number Source"}),t.jsx($l,{value:y.twilioIntegration?"twilio":"vapi",onValueChange:ie=>ce({twilioIntegration:ie==="twilio"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"vapi",id:"vapi"}),t.jsxs(ee,{htmlFor:"vapi",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(xt,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"font-medium text-white",children:"VAPI Phone Numbers"}),t.jsx(Ne,{className:"bg-emerald-600 text-white",children:"Recommended"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use phone numbers provisioned through VAPI"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"twilio",id:"twilio"}),t.jsxs(ee,{htmlFor:"twilio",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(xt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"font-medium text-white",children:"Twilio Integration"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use your existing Twilio phone numbers"})]})]})]})})]}),y.twilioIntegration?t.jsxs("div",{className:"space-y-4",children:[t.jsxs(nr,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(ir,{className:"text-yellow-300",children:"Twilio integration requires API credentials. Make sure your Twilio account is connected in Settings."})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Twilio Phone Number *"}),t.jsx(Pe,{value:y.phoneNumber,onChange:ie=>ce({phoneNumber:ie.target.value}),placeholder:"+1234567890",className:"border-gray-700 bg-gray-800 text-white"}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber})]})]}):t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Select VAPI Phone Number *"}),O&&t.jsxs("div",{className:"mb-2 flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading phone numbers..."})]}),t.jsxs(at,{value:y.phoneNumber,onValueChange:ie=>ce({phoneNumber:ie,vapiPhoneId:ie}),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:O?"Loading phone numbers...":"Choose a phone number"})}),t.jsx(st,{className:"border-gray-700 bg-gray-800",children:B.length>0?B.map(ie=>t.jsxs(se,{value:ie.id||ie.number,children:[ie.number," - ",ie.country||ie.region||"Unknown"]},ie.id||ie.number)):t.jsxs(t.Fragment,{children:[t.jsx(se,{value:"+1-555-0123",children:"+1 (555) 012-3456 - US"}),t.jsx(se,{value:"+1-555-0124",children:"+1 (555) 012-3457 - US"}),t.jsx(se,{value:"+44-7482-792343",children:"+44 7482 792343 - UK"})]})})]}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber}),B.length===0&&!O&&t.jsx("p",{className:"mt-1 text-sm text-yellow-400",children:"No VAPI phone numbers found. Using demo numbers. Please configure VAPI in Settings."})]}),W.length>0&&t.jsxs(nr,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-red-500"}),t.jsxs(ir,{className:"text-red-300",children:["VAPI Connection Issue: ",W.join(", ")]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium text-white",children:"Phone Number Features"}),z&&t.jsx(Ne,{className:"bg-green-600 text-xs text-white",children:"VAPI Connected"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Automatic caller ID registration"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Call recording and transcription"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Real-time call monitoring"})]})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Select Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Choose the AI voice agent that best fits your campaign objective"})]}),t.jsxs("div",{className:"space-y-4",children:[W.length>0&&t.jsxs(nr,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-red-500"}),t.jsx(ir,{className:"text-red-300",children:W.join(", ")})]}),F&&t.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading voice agents..."})]}),R.length===0&&!F&&t.jsxs(nr,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(ir,{className:"text-yellow-300",children:"No VAPI assistants found. Using demo agents. Please configure VAPI credentials in Settings."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:(R.length>0?R:Dg).map(ie=>{var Ge,Ct;return t.jsx("div",{className:`cursor-pointer rounded-lg border p-4 transition-all ${y.voiceAgent===ie.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>ce({voiceAgent:ie.id}),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-4xl",children:ie.avatar||""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-1 font-medium text-white",children:ie.name}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:ie.description||"AI Assistant"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Aa,{className:"h-3 w-3 text-gray-500"}),t.jsx("span",{className:"text-xs text-gray-400",children:ie.languages?`Languages: ${ie.languages.join(", ")}`:`Voice: ${((Ge=ie.voice)==null?void 0:Ge.provider)||"Default"}`})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:ie.specialties?ie.specialties.map((Ot,Nt)=>t.jsx(Ne,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:Ot},Nt)):t.jsx(Ne,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:((Ct=ie.model)==null?void 0:Ct.provider)||"AI Model"})})]})]})]})},ie.id)})}),o.voiceAgent&&t.jsx("p",{className:"text-sm text-red-400",children:o.voiceAgent}),y.voiceAgent&&t.jsxs("div",{className:"space-y-4 rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Voice Settings"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Speaking Speed"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[y.voiceSettings.speed,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:y.voiceSettings.speed,onChange:ie=>ce({voiceSettings:{...y.voiceSettings,speed:parseFloat(ie.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Voice Pitch"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[y.voiceSettings.pitch,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:y.voiceSettings.pitch,onChange:ie=>ce({voiceSettings:{...y.voiceSettings,pitch:parseFloat(ie.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Response Creativity"}),t.jsx("span",{className:"text-sm text-gray-400",children:y.voiceSettings.temperature})]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:y.voiceSettings.temperature,onChange:ie=>ce({voiceSettings:{...y.voiceSettings,temperature:parseFloat(ie.target.value)}}),className:"w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower = More consistent, Higher = More creative"})]})]})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Test Your Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Make a test call to ensure your voice agent is configured correctly"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t.jsx("div",{className:"text-4xl",children:((te=(R.length>0?R:Dg).find(ie=>ie.id===y.voiceAgent))==null?void 0:te.avatar)||""}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-white",children:((we=(R.length>0?R:Dg).find(ie=>ie.id===y.voiceAgent))==null?void 0:we.name)||"Selected Agent"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Ready for testing"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Test Phone Number"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Pe,{placeholder:"Enter your phone number",className:"border-gray-600 bg-gray-700 text-white"}),t.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(xt,{className:"mr-2 h-4 w-4"}),"Start Test Call"]})]})]}),y.testCompleted&&t.jsxs(nr,{className:"border-green-500 bg-green-900/20",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx(ir,{className:"text-green-300",children:"Test call completed successfully!"})]})]})]})}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Test Call Checklist"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${y.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:y.testCompleted&&t.jsx(ps,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Voice clarity and quality"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Ensure the voice sounds natural and clear"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${y.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:y.testCompleted&&t.jsx(ps,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Script accuracy"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verify the agent follows your intended script"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${y.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:y.testCompleted&&t.jsx(ps,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Response handling"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Test different responses and objections"})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Test Notes (Optional)"}),t.jsx(Ha,{value:y.testNotes,onChange:ie=>ce({testNotes:ie.target.value}),placeholder:"Any observations or adjustments needed...",className:"mt-2 border-gray-600 bg-gray-700 text-white",rows:3})]}),!y.testCompleted&&t.jsx(K,{variant:"outline",className:"mt-4 w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>ce({testCompleted:!0}),children:"Mark Test as Completed"})]}),o.test&&t.jsxs(nr,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-red-500"}),t.jsx(ir,{className:"text-red-300",children:o.test})]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Import Your Leads"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Upload a CSV file with your lead data"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"cursor-pointer rounded-lg border-2 border-dashed border-gray-700 p-8 text-center transition-colors hover:border-gray-600",onClick:()=>{var ie;return(ie=r.current)==null?void 0:ie.click()},children:[t.jsx(Fl,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"mb-2 text-gray-300",children:"Drag and drop your CSV file here"}),t.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"}),t.jsx("input",{ref:r,type:"file",accept:".csv",onChange:ie=>{var Ct;const Ge=(Ct=ie.target.files)==null?void 0:Ct[0];Ge&&ce({leads:[{id:"1",firstName:"John",lastName:"Doe",phone:"+1234567890",email:"john@example.com"},{id:"2",firstName:"Jane",lastName:"Smith",phone:"+1234567891",email:"jane@example.com"},{id:"3",firstName:"Bob",lastName:"Johnson",phone:"+1234567892",email:"bob@example.com"}],csvFileName:Ge.name})},className:"hidden"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"CSV Format Requirements"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsx("p",{children:" Required columns: firstName, lastName, phone"}),t.jsx("p",{children:" Optional columns: email, company, title, custom fields"}),t.jsx("p",{children:" Phone numbers should include country code"}),t.jsx("p",{children:" Maximum 10,000 leads per file"})]}),t.jsxs(K,{variant:"outline",size:"sm",className:"mt-3 border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),y.leads.length>0&&t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:y.csvFileName}),t.jsxs("p",{className:"text-sm text-gray-400",children:[y.leads.length," leads imported"]})]}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>ce({leads:[],csvFileName:""}),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Remove"})]}),t.jsxs("div",{className:"overflow-hidden rounded border border-gray-700",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Name"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Phone"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Email"})]})}),t.jsx("tbody",{children:y.leads.slice(0,5).map((ie,Ge)=>t.jsxs("tr",{className:"border-t border-gray-700",children:[t.jsxs("td",{className:"p-2 text-gray-300",children:[ie.firstName," ",ie.lastName]}),t.jsx("td",{className:"p-2 text-gray-400",children:ie.phone}),t.jsx("td",{className:"p-2 text-gray-400",children:ie.email||"-"})]},ie.id))})]}),y.leads.length>5&&t.jsxs("div",{className:"bg-gray-800 p-2 text-center text-sm text-gray-500",children:["And ",y.leads.length-5," more..."]})]})]}),o.leads&&t.jsxs(nr,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-red-500"}),t.jsx(ir,{className:"text-red-300",children:o.leads})]})]})]});case 7:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Budget Allocation & Call Credits"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Set your campaign budget and configure credit management"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Fr,{className:"h-5 w-5 text-green-500"}),"Campaign Budget"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Total Budget ($)"}),t.jsx(Pe,{type:"number",value:y.budget,onChange:ie=>ce({budget:parseFloat(ie.target.value)||0,callCredits:Math.floor((parseFloat(ie.target.value)||0)/.1)}),className:"border-gray-600 bg-gray-700 text-white",min:"10",step:"10"}),o.budget&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.budget})]}),t.jsxs("div",{className:"space-y-2 rounded bg-gray-900/50 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per call"}),t.jsx("span",{className:"text-white",children:"$0.10"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Estimated calls"}),t.jsx("span",{className:"text-white",children:y.callCredits})]})]})]})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Gi,{className:"h-5 w-5 text-emerald-500"}),"Call Credits"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"py-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white",children:y.callCredits}),t.jsx("p",{className:"text-sm text-gray-400",children:"Available Credits"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Auto-reload"}),t.jsx("input",{type:"checkbox",checked:y.autoReload,onChange:ie=>ce({autoReload:ie.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-emerald-600"})]}),y.autoReload&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-300",children:"Reload when below"}),t.jsx(Pe,{type:"number",value:y.autoReloadThreshold,onChange:ie=>ce({autoReloadThreshold:parseInt(ie.target.value)||0}),className:"mt-1 border-gray-600 bg-gray-700 text-white",min:"10",step:"10"})]})]})]})})]})]}),t.jsxs(nr,{className:"border-blue-500 bg-blue-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-blue-500"}),t.jsxs(ir,{className:"text-blue-300",children:[t.jsx("strong",{children:"Billing Note:"})," You'll only be charged for completed calls. Failed or unanswered calls don't consume credits."]})]})]})]});case 8:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Assign Team Members"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select team members who will manage this campaign"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Leader *"}),t.jsxs(at,{value:y.teamLeader,onValueChange:ie=>ce({teamLeader:ie}),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Select team leader"})}),t.jsx(st,{className:"border-gray-700 bg-gray-800",children:mO.filter(ie=>ie.role.includes("Manager")).map(ie=>t.jsx(se,{value:ie.id,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-600 text-xs text-white",children:ie.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:ie.name}),t.jsx("div",{className:"text-xs text-gray-400",children:ie.role})]})]})},ie.id))})]}),o.teamLeader&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamLeader})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Members *"}),t.jsx("div",{className:"space-y-2",children:mO.map(ie=>t.jsxs("div",{className:`flex cursor-pointer items-center justify-between rounded-lg border p-3 transition-all ${y.assignedTeam.includes(ie.id)?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{const Ge=y.assignedTeam.includes(ie.id);ce({assignedTeam:Ge?y.assignedTeam.filter(Ct=>Ct!==ie.id):[...y.assignedTeam,ie.id]})},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-sm text-white",children:ie.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:ie.name}),t.jsx("div",{className:"text-sm text-gray-400",children:ie.role})]})]}),t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${y.assignedTeam.includes(ie.id)?"border-emerald-600 bg-emerald-600":"border-gray-600"}`,children:y.assignedTeam.includes(ie.id)&&t.jsx(ps,{className:"h-3 w-3 text-white"})})]},ie.id))}),o.team&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.team})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Team Permissions"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"View campaign performance and analytics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Access lead details and call recordings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Update lead status and add notes"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Receive real-time notifications"})]})]})]})]})]});case 9:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Review & Launch"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Review your campaign settings before launching"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 font-medium text-white",children:"Campaign Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign Name"}),t.jsx("span",{className:"font-medium text-white",children:y.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Objective"}),t.jsx("span",{className:"text-white",children:(Oe=uO.find(ie=>ie.id===y.objective))==null?void 0:Oe.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Phone Number"}),t.jsx("span",{className:"text-white",children:y.phoneNumber})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Voice Agent"}),t.jsx("span",{className:"text-white",children:((Ue=(R.length>0?R:Dg).find(ie=>ie.id===y.voiceAgent))==null?void 0:Ue.name)||"Selected Agent"})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Total Leads"}),t.jsx("span",{className:"text-white",children:y.leads.length})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Budget"}),t.jsxs("span",{className:"text-white",children:["$",y.budget]})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Team Size"}),t.jsxs("span",{className:"text-white",children:[y.assignedTeam.length," members"]})]})]})]})}),t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Launch Timing"}),t.jsx($l,{value:y.immediateStart?"now":"schedule",onValueChange:ie=>ce({immediateStart:ie==="now"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"now",id:"now"}),t.jsxs(ee,{htmlFor:"now",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Launch Immediately"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start calling as soon as you click launch"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"schedule",id:"schedule"}),t.jsxs(ee,{htmlFor:"schedule",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Schedule for Later"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Set a specific date and time to start"})]})]})]})}),!y.immediateStart&&t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Schedule Date & Time"}),t.jsx(Pe,{type:"datetime-local",value:y.scheduledStart,onChange:ie=>ce({scheduledStart:ie.target.value}),className:"mt-2 border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(nr,{className:"border-green-500 bg-green-900/20",children:[t.jsx(ps,{className:"h-4 w-4 text-green-500"}),t.jsxs(ir,{className:"text-green-300",children:[t.jsx("strong",{children:"Ready to Launch!"})," Your campaign is configured and ready to go. Click the launch button below to start."]})]})]})]})}},Te=()=>{switch(s){case 1:return y.campaignType!=="";case 2:return y.name&&y.objective;case 3:return y.phoneNumber.length>0;case 4:return y.voiceAgent.length>0;case 5:return y.testCompleted;case 6:return y.leads.length>0;case 7:return y.budget>0&&y.callCredits>0;case 8:return y.teamLeader.length>0&&y.assignedTeam.length>0;case 9:return!0;default:return!1}};return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(zo,{className:"h-8 w-8 text-emerald-500"}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-gray-400",children:"Create your AI calling campaign step by step"}),g&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-emerald-400",children:[t.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Saving draft..."]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Step: ",s," | Changes: ",k()?"Yes":"No"," | Blocker: ",de.state]})]})})]}),t.jsx(K,{variant:"outline",onClick:()=>M("/campaigns"),className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:"Cancel"})]}),t.jsx(gr,{value:Ae,className:"h-2 bg-gray-800"})]}),S()&&k()&&t.jsxs(nr,{className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-400",children:[t.jsx(Vt,{className:"h-4 w-4"}),t.jsx(ir,{children:"Your draft has been automatically loaded. You can continue where you left off."})]}),t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"flex items-center justify-between",children:wh.map((te,we)=>{const Oe=te.icon,Ue=te.id===s,ie=te.id<s,Ge=te.id<=s+1;return t.jsxs(le.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${Ge?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>Ge&&Ie(te.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${Ue?"bg-emerald-600 text-white":ie?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:ie?t.jsx(ps,{className:"h-6 w-6"}):t.jsx(Oe,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${Ue?"font-medium text-white":"text-gray-400"}`,children:te.name})]}),we<wh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${ie?"bg-green-600":"bg-gray-800"}`})]},te.id)})})}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(X,{className:"p-8",children:Ce()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(K,{variant:"outline",onClick:ke,disabled:s===1,className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(ec,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<wh.length?t.jsxs(K,{onClick:be,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:["Next",t.jsx(no,{className:"ml-2 h-4 w-4"})]}):t.jsx(K,{onClick:()=>{Te()&&(i(!0),setTimeout(()=>{i(!1),T(),e("/campaigns")},2e3))},disabled:n,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Launching Campaign..."]}):t.jsxs(t.Fragment,{children:[t.jsx(zo,{className:"mr-2 h-4 w-4"}),"Launch Campaign"]})})]})})]}),t.jsx(Cd,{open:d,onOpenChange:te=>{m(te),!te&&de.state==="blocked"&&(de.reset(),f(null))},children:t.jsxs(dc,{className:"border-gray-800 bg-gray-900 text-white",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Save Your Progress?"}),t.jsx(kd,{className:"text-gray-400",children:"You have unsaved changes in your campaign setup. Would you like to save your progress as a draft before leaving?"})]}),t.jsxs(wm,{className:"gap-2",children:[t.jsx(K,{variant:"outline",onClick:V,className:"border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700",children:"Exit Without Saving"}),t.jsx(K,{onClick:L,disabled:g,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Saving..."]}):"Save Draft & Exit"})]})]})})]})}const v4=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:$e("w-full caption-bottom text-sm",e),...r})}));v4.displayName="Table";const b4=p.forwardRef(({className:e,...r},s)=>t.jsx("thead",{ref:s,className:$e("[&_tr]:border-b",e),...r}));b4.displayName="TableHeader";const w4=p.forwardRef(({className:e,...r},s)=>t.jsx("tbody",{ref:s,className:$e("[&_tr:last-child]:border-0",e),...r}));w4.displayName="TableBody";const mNe=p.forwardRef(({className:e,...r},s)=>t.jsx("tfoot",{ref:s,className:$e("border-t bg-zinc-100/50 font-medium dark:bg-zinc-800/50 [&>tr]:last:border-b-0",e),...r}));mNe.displayName="TableFooter";const df=p.forwardRef(({className:e,...r},s)=>t.jsx("tr",{ref:s,className:$e("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",e),...r}));df.displayName="TableRow";const fa=p.forwardRef(({className:e,...r},s)=>t.jsx("th",{ref:s,className:$e("h-10 px-2 text-left align-middle font-medium text-zinc-500 dark:text-zinc-400 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));fa.displayName="TableHead";const pa=p.forwardRef(({className:e,...r},s)=>t.jsx("td",{ref:s,className:$e("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));pa.displayName="TableCell";const hNe=p.forwardRef(({className:e,...r},s)=>t.jsx("caption",{ref:s,className:$e("mt-4 text-sm text-zinc-500 dark:text-zinc-400",e),...r}));hNe.displayName="TableCaption";const fNe=[{id:"1",timestamp:new Date().toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.login",resource:"Authentication",details:{method:"email",mfa:!0},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"auth"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"campaign.create",resource:"Campaign",resourceId:"camp123",details:{name:"Q4 Sales Outreach",leads:500},ipAddress:"192.168.1.2",userAgent:"Firefox/121.0",status:"success",category:"campaign"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.update_role",resource:"User",resourceId:"user3",details:{oldRole:"agent",newRole:"manager",targetUser:"John Smith"},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"user"},{id:"4",timestamp:new Date(Date.now()-108e5).toISOString(),user:{id:"user3",name:"John Smith",email:"john@example.com",role:"agent"},action:"api.key_create",resource:"API Key",details:{keyName:"Production API",permissions:["read","write"]},ipAddress:"192.168.1.3",userAgent:"Safari/17.0",status:"success",category:"api"},{id:"5",timestamp:new Date(Date.now()-144e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"billing.payment_failed",resource:"Payment",details:{amount:599,reason:"Insufficient funds"},ipAddress:"192.168.1.2",userAgent:"Chrome/120.0.0.0",status:"failed",category:"billing"}],pNe={"user.login":t0,"user.logout":YG,"user.create":yf,"user.delete":lY,"user.update":ad,"user.update_role":xs,"campaign.create":xt,"campaign.update":ad,"campaign.delete":Ws,"campaign.launch":Hi,"billing.payment":Gi,"billing.payment_failed":Ki,"api.key_create":rd,"api.key_delete":Ws,"settings.update":os};function gNe(){const[e,r]=p.useState(fNe),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState("7days"),[h,f]=p.useState("all"),g=e.filter(N=>{const C=s===""||N.action.toLowerCase().includes(s.toLowerCase())||N.user.name.toLowerCase().includes(s.toLowerCase())||N.resource.toLowerCase().includes(s.toLowerCase())||JSON.stringify(N.details).toLowerCase().includes(s.toLowerCase()),S=n==="all"||N.category===n,k=o==="all"||N.status===o,A=h==="all"||N.user.id===h;return C&&S&&k&&A}),v=N=>{const C=pNe[N]||Us;return t.jsx(C,{className:"h-4 w-4"})},b=N=>{const C={success:"bg-green-900/20 text-green-400 border-green-800",failed:"bg-red-900/20 text-red-400 border-red-800",warning:"bg-yellow-900/20 text-yellow-400 border-yellow-800"},S={success:t.jsx(yt,{className:"h-3 w-3"}),failed:t.jsx(Ki,{className:"h-3 w-3"}),warning:t.jsx(Gt,{className:"h-3 w-3"})};return t.jsx(Ne,{className:C[N],children:t.jsxs("span",{className:"flex items-center gap-1",children:[S[N],N]})})},w=N=>N.split(".").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),y=()=>{const N=[["Timestamp","User","Action","Resource","Status","IP Address","Details"].join(","),...g.map(A=>[A.timestamp,`${A.user.name} (${A.user.email})`,w(A.action),A.resource,A.status,A.ipAddress,JSON.stringify(A.details)].join(","))].join(`
`),C=new Blob([N],{type:"text/csv"}),S=window.URL.createObjectURL(C),k=document.createElement("a");k.href=S,k.download=`audit-logs-${hw(new Date,"yyyy-MM-dd")}.csv`,k.click()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xs,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-400",children:"Track all actions and changes in your system"})]})]}),t.jsxs(K,{onClick:y,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Export Logs"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Total Actions"}),t.jsx(Us,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"In selected period"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Active Users"}),t.jsx(vs,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:new Set(e.map(N=>N.user.id)).size}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Unique users"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsx(yt,{className:"h-4 w-4 text-green-400"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.filter(N=>N.status==="success").length/e.length*100),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful actions"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Failed Actions"}),t.jsx(Ki,{className:"h-4 w-4 text-red-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(N=>N.status==="failed").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Require attention"})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Tx,{className:"h-5 w-5"}),"Filters"]})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Search"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{value:s,onChange:N=>a(N.target.value),placeholder:"Search logs...",className:"border-gray-700 bg-gray-900 pl-10 text-white"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Category"}),t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Categories"}),t.jsx(se,{value:"auth",children:"Authentication"}),t.jsx(se,{value:"user",children:"User Management"}),t.jsx(se,{value:"campaign",children:"Campaigns"}),t.jsx(se,{value:"lead",children:"Leads"}),t.jsx(se,{value:"billing",children:"Billing"}),t.jsx(se,{value:"settings",children:"Settings"}),t.jsx(se,{value:"api",children:"API"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Status"}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"success",children:"Success"}),t.jsx(se,{value:"failed",children:"Failed"}),t.jsx(se,{value:"warning",children:"Warning"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"User"}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Users"}),Array.from(new Set(e.map(N=>N.user.id))).map(N=>{var S;const C=(S=e.find(k=>k.user.id===N))==null?void 0:S.user;return t.jsx(se,{value:N,children:C==null?void 0:C.name},N)})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Date Range"}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"7days",children:"Last 7 Days"}),t.jsx(se,{value:"30days",children:"Last 30 Days"}),t.jsx(se,{value:"90days",children:"Last 90 Days"}),t.jsx(se,{value:"all",children:"All Time"})]})]})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Audit Log Entries"}),t.jsxs(qt,{className:"text-gray-400",children:["Showing ",g.length," of ",e.length," total entries"]})]}),t.jsx(X,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(v4,{children:[t.jsx(b4,{children:t.jsxs(df,{className:"border-gray-700",children:[t.jsx(fa,{className:"text-gray-400",children:"Timestamp"}),t.jsx(fa,{className:"text-gray-400",children:"User"}),t.jsx(fa,{className:"text-gray-400",children:"Action"}),t.jsx(fa,{className:"text-gray-400",children:"Resource"}),t.jsx(fa,{className:"text-gray-400",children:"Details"}),t.jsx(fa,{className:"text-gray-400",children:"IP Address"}),t.jsx(fa,{className:"text-gray-400",children:"Status"})]})}),t.jsx(w4,{children:g.map(N=>t.jsxs(df,{className:"border-gray-700 hover:bg-gray-900/50",children:[t.jsx(pa,{className:"text-gray-300",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rt,{className:"h-4 w-4 text-gray-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:hw(new Date(N.timestamp),"MMM dd, yyyy")}),t.jsx("div",{className:"text-xs text-gray-500",children:hw(new Date(N.timestamp),"HH:mm:ss")})]})]})}),t.jsx(pa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.user.name}),t.jsx("div",{className:"text-xs text-gray-500",children:N.user.role})]})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[v(N.action),t.jsx("span",{className:"text-sm",children:w(N.action)})]})}),t.jsx(pa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.resource}),N.resourceId&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",N.resourceId]})]})}),t.jsx(pa,{children:t.jsx("div",{className:"max-w-xs truncate text-xs text-gray-400",children:Object.entries(N.details).map(([C,S])=>t.jsxs("div",{children:[t.jsxs("span",{className:"text-gray-500",children:[C,":"]})," ",String(S)]},C))})}),t.jsx(pa,{className:"text-sm text-gray-400",children:N.ipAddress}),t.jsx(pa,{children:b(N.status)})]},N.id))})]})})})]})]})})}function xNe(){const{t:e}=yn(["common"]),[r,s]=p.useState(30),[a,n]=p.useState(!0);return p.useEffect(()=>{const i=async()=>{await new Promise(o=>setTimeout(o,500))};if(i(),a){const o=setInterval(i,r*1e3);return()=>clearInterval(o)}},[r,a]),t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:e("systemHealth.title")}),t.jsx("p",{className:"mt-1 text-gray-400",children:e("systemHealth.description")})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(K,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Oo,{className:"mr-2 h-4 w-4"}),e("systemHealth.alerts")]}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(os,{className:"mr-2 h-4 w-4"}),e("systemHealth.configure")]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(xs,{className:"h-5 w-5 text-emerald-400"}),e("systemHealth.platformStatus")]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"font-medium text-emerald-400",children:e("systemHealth.allSystemsOperational")})]}),t.jsx("div",{className:"text-sm text-gray-400",children:e("systemHealth.lastUpdated",{time:new Date().toLocaleString()})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.9%"}),t.jsx("div",{className:"text-sm text-gray-400",children:e("systemHealth.uptime")})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"12ms"}),t.jsx("div",{className:"text-sm text-gray-400",children:e("systemHealth.responseTime")})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),t.jsx("div",{className:"text-sm text-gray-400",children:e("systemHealth.activeIssues")})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"47"}),t.jsx("div",{className:"text-sm text-gray-400",children:e("systemHealth.services")})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:e("systemHealth.apiGateway")})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.99%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:e("systemHealth.uptime")}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:e("systemHealth.operational")})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:e("systemHealth.database")})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.95%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:e("systemHealth.uptime")}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:e("systemHealth.operational")})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:e("systemHealth.avgResponseTime")})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"45ms"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:e("systemHealth.last24Hours")}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx(Us,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:e("systemHealth.stable")})]})]})]})]})]})})}const iN="https://apex-backend-august-production.up.railway.app/api",yNe={connected:"bg-green-500",interested:"bg-emerald-500",callback:"bg-blue-500",voicemail:"bg-yellow-500",no_answer:"bg-orange-500",busy:"bg-red-500",failed:"bg-red-600",not_interested:"bg-gray-500"},vNe={positive:"bg-green-500",neutral:"bg-gray-500",negative:"bg-red-500"};function bNe(){const e=Nr(),{t:r}=yn(["common"]),[s,a]=p.useState(!1),[n,i]=p.useState(null),{getToken:o}=Ma(),{toast:l}=ds(),[d,m]=p.useState([]),[h,f]=p.useState(!0),[g,v]=p.useState({totalCalls:0,connectedCalls:0,totalDuration:0,totalCost:0,averageDuration:0,connectionRate:0,positiveRate:0}),[b,w]=p.useState(1),[y,N]=p.useState(50),[C,S]=p.useState(""),[k,A]=p.useState({type:"all",outcome:"all",sentiment:"all",agent:"all",campaign:"all",dateRange:"all"}),[E,T]=p.useState("startTime"),[M,L]=p.useState("desc"),V=async()=>{try{f(!0);const O=await o(),$=new URLSearchParams({page:b.toString(),limit:y.toString(),search:C,sortBy:E,sortOrder:M,...k}),W=await fetch(`${iN}/calls?${$}`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(W.ok){const q=await W.json();console.log(" Calls fetched from API:",q),m(q.calls||[]),v(q.metrics||g)}else{const q=await W.json();throw new Error(q.message||"Failed to fetch calls")}}catch(O){console.error(" Error fetching calls:",O),l({title:r("error"),description:r("calls.fetchError"),variant:"destructive"}),m([])}finally{f(!1)}},R=async()=>{try{const O=await o(),$=await fetch(`${iN}/calls/metrics`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if($.ok){const W=await $.json();v(W)}}catch(O){console.error(" Error fetching metrics:",O)}};p.useEffect(()=>{V(),R()},[b,y,C,k,E,M]);const I=async()=>{try{const O=await o(),$=await fetch(`${iN}/calls/export`,{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({filters:k,searchTerm:C})});if($.ok){const W=await $.blob(),q=window.URL.createObjectURL(W),z=document.createElement("a");z.href=q,z.download=`calls-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(q),document.body.removeChild(z),l({title:r("success"),description:r("calls.exportSuccess")})}else throw new Error("Export failed")}catch(O){console.error(" Error exporting calls:",O),l({title:r("error"),description:r("calls.exportError"),variant:"destructive"})}},B=O=>{const $=Math.floor(O/60),W=O%60;return`${$}:${W.toString().padStart(2,"0")}`},H=O=>`$${O.toFixed(2)}`,F=O=>{i(O),a(!0)},U=d.filter(O=>{var de;const $=O.contact.name.toLowerCase().includes(C.toLowerCase())||O.contact.phone.includes(C)||O.contact.company&&O.contact.company.toLowerCase().includes(C.toLowerCase())||O.agent.name.toLowerCase().includes(C.toLowerCase()),W=k.type==="all"||O.type===k.type,q=k.outcome==="all"||O.outcome===k.outcome,z=k.sentiment==="all"||O.sentiment===k.sentiment,Q=k.agent==="all"||O.agent.name===k.agent,Ae=k.campaign==="all"||((de=O.campaign)==null?void 0:de.id)===k.campaign;return $&&W&&q&&z&&Q&&Ae});return h?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between"}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:r("calls.loadingData")})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-zinc-400",children:r("calls.description")})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(K,{onClick:V,variant:"outline",size:"sm",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),r("refresh")]}),t.jsxs(K,{onClick:I,variant:"outline",size:"sm",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),r("calls.exportCSV")]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:r("calls.totalCalls")}),t.jsx("p",{className:"text-2xl font-bold text-white",children:g.totalCalls.toLocaleString()})]}),t.jsx(xt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:r("calls.connected")}),t.jsx("p",{className:"text-2xl font-bold text-white",children:g.connectedCalls.toLocaleString()}),t.jsx("p",{className:"text-xs text-zinc-500",children:r("calls.connectionRate",{rate:g.connectionRate.toFixed(1)})})]}),t.jsx(r0,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:r("calls.totalDuration")}),t.jsx("p",{className:"text-2xl font-bold text-white",children:B(g.totalDuration)}),t.jsx("p",{className:"text-xs text-zinc-500",children:r("calls.averageDuration",{duration:B(g.averageDuration)})})]})})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:r("calls.totalCost")}),t.jsx("p",{className:"text-2xl font-bold text-white",children:H(g.totalCost)}),t.jsx("p",{className:"text-xs text-zinc-500",children:r("calls.positiveRate",{rate:g.positiveRate.toFixed(1)})})]}),t.jsx(Fr,{className:"h-8 w-8 text-yellow-500"})]})})})]}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(Pe,{placeholder:r("calls.searchPlaceholder"),value:C,onChange:O=>S(O.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(at,{value:k.type,onValueChange:O=>A({...k,type:O}),children:[t.jsx(rt,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:r("filters.type")})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:r("callTypes.all")}),t.jsx(se,{value:"inbound",children:r("callTypes.inbound")}),t.jsx(se,{value:"outbound",children:r("callTypes.outbound")}),t.jsx(se,{value:"missed",children:r("callTypes.missed")})]})]}),t.jsxs(at,{value:k.outcome,onValueChange:O=>A({...k,outcome:O}),children:[t.jsx(rt,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:r("filters.outcome")})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:r("callOutcomes.all")}),t.jsx(se,{value:"connected",children:r("callOutcomes.connected")}),t.jsx(se,{value:"interested",children:r("callOutcomes.interested")}),t.jsx(se,{value:"callback",children:r("callOutcomes.callback")}),t.jsx(se,{value:"voicemail",children:r("callOutcomes.voicemail")}),t.jsx(se,{value:"no_answer",children:r("callOutcomes.no_answer")}),t.jsx(se,{value:"busy",children:r("callOutcomes.busy")}),t.jsx(se,{value:"failed",children:r("callOutcomes.failed")})]})]}),t.jsxs(at,{value:k.sentiment,onValueChange:O=>A({...k,sentiment:O}),children:[t.jsx(rt,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:r("filters.sentiment")})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:r("sentiments.all")}),t.jsx(se,{value:"positive",children:r("sentiments.positive")}),t.jsx(se,{value:"neutral",children:r("sentiments.neutral")}),t.jsx(se,{value:"negative",children:r("sentiments.negative")})]})]})]})})}),t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:r("calls.callRecords",{count:U.length})})}),t.jsx(X,{children:U.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:r("calls.noCallsFound")}),t.jsx("p",{className:"text-sm text-zinc-500",children:r("calls.tryAdjustingCriteria")})]}):t.jsx("div",{className:"space-y-3",children:U.map(O=>t.jsxs("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4 transition-all duration-200 hover:bg-zinc-700/50",onClick:()=>F(O),children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:O.type==="inbound"?t.jsx(xt,{className:"h-5 w-5 text-green-500"}):O.type==="outbound"?t.jsx(r0,{className:"h-5 w-5 text-blue-500"}):t.jsx(sY,{className:"h-5 w-5 text-red-500"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"font-medium text-white",children:O.contact.name}),t.jsx(Ne,{className:`${yNe[O.outcome]} text-white`,children:r(`callOutcomes.${O.outcome}`)}),t.jsx(Ne,{className:`${vNe[O.sentiment]} text-white`,children:r(`sentiments.${O.sentiment}`)})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsx("span",{children:O.contact.phone}),O.contact.company&&t.jsx("span",{children:O.contact.company}),t.jsxs("span",{children:[O.agent.name," (",r(`agentTypes.${O.agent.type}`),")"]}),O.campaign&&t.jsx("span",{children:O.campaign.name})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-6 text-sm text-zinc-400",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:new Date(O.startTime).toLocaleDateString()}),t.jsx("p",{children:new Date(O.startTime).toLocaleTimeString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:B(O.duration)}),t.jsx("p",{children:H(O.cost)})]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",onClick:$=>$.stopPropagation(),children:t.jsx(Ex,{className:"h-4 w-4"})})}),t.jsxs(qn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Yt,{onClick:()=>F(O),className:"text-zinc-300 hover:text-white",children:[t.jsx(Ao,{className:"mr-2 h-4 w-4"}),r("calls.viewDetails")]}),O.recording&&t.jsxs(Yt,{onClick:()=>F(O),className:"text-zinc-300 hover:text-white",children:[t.jsx(Bn,{className:"mr-2 h-4 w-4"}),r("calls.playRecording")]}),O.transcript&&t.jsxs(Yt,{onClick:()=>F(O),className:"text-zinc-300 hover:text-white",children:[t.jsx(Ao,{className:"mr-2 h-4 w-4"}),r("calls.viewTranscript")]}),O.leadId&&t.jsxs(Yt,{onClick:()=>e(`/leads/${O.leadId}`),className:"text-zinc-300 hover:text-white",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),r("calls.viewLead")]})]})]})]})]},O.id))})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-zinc-400",children:r("calls.show")}),t.jsxs(at,{value:y.toString(),onValueChange:O=>N(parseInt(O)),children:[t.jsx(rt,{className:"w-20 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"25",children:"25"}),t.jsx(se,{value:"50",children:"50"}),t.jsx(se,{value:"100",children:"100"})]})]}),t.jsx("span",{className:"text-sm text-zinc-400",children:r("calls.perPage")})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(Math.max(1,b-1)),disabled:b===1,children:t.jsx(ec,{className:"h-4 w-4"})}),t.jsx("span",{className:"text-sm text-zinc-400",children:r("calls.page",{number:b})}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(b+1),disabled:U.length<y,children:t.jsx(no,{className:"h-4 w-4"})})]})]}),t.jsx(Yy,{isOpen:s,onClose:()=>a(!1),callData:n?{id:n.id,duration:n.duration,transcript:n.transcript?[{speaker:"ai",text:"Call transcript would be parsed and displayed here..."},{speaker:"user",text:"User responses would be shown alternately."}]:[],recording:n.recording,cost:n.cost,analysis:{sentiment:n.sentiment==="positive"?.8:n.sentiment==="negative"?.2:.5,keywords:["inquiry","interested","follow-up"],summary:`Call with ${n.contact.name} resulted in ${n.outcome}.`}}:void 0})]})}const wNe=()=>{const e=Nr(),{notifications:r,markAsRead:s,markAllAsRead:a,deleteNotification:n,clearAll:i}=om(),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,v]=p.useState([]),[b,w]=p.useState(1),y=10,N=p.useMemo(()=>{const I=r.length,B=r.filter(F=>!F.read).length,H=r.reduce((F,U)=>(F[U.type]=(F[U.type]||0)+1,F),{});return{total:I,unread:B,byType:H}},[r]),C=I=>{switch(I){case"success":return t.jsx(yt,{className:"h-4 w-4 text-emerald-400"});case"error":return t.jsx(Gt,{className:"h-4 w-4 text-red-400"});case"warning":return t.jsx(va,{className:"h-4 w-4 text-yellow-400"});case"info":default:return t.jsx(Vt,{className:"h-4 w-4 text-blue-400"})}},S=I=>{switch(I){case"success":return"border-l-emerald-400";case"error":return"border-l-red-400";case"warning":return"border-l-yellow-400";case"info":default:return"border-l-blue-400"}},k=I=>{const B=new Date;let H;if(I instanceof Date)H=I;else if(typeof I=="string"||typeof I=="number")H=new Date(I);else return"Unknown";if(isNaN(H.getTime()))return"Unknown";const F=B.getTime()-H.getTime(),U=Math.floor(F/6e4),O=Math.floor(F/36e5),$=Math.floor(F/864e5);return $>0?`${$}d ago`:O>0?`${O}h ago`:U>0?`${U}m ago`:"Just now"},A=p.useMemo(()=>r.filter(I=>{const B=I.title.toLowerCase().includes(o.toLowerCase())||I.message.toLowerCase().includes(o.toLowerCase()),H=d==="all"||I.type===d,F=h==="all"||h==="unread"&&!I.read||h==="read"&&I.read;return B&&H&&F}),[r,o,d,h]),E=p.useMemo(()=>{const I=(b-1)*y,B=I+y;return A.slice(I,B)},[A,b]),T=Math.ceil(A.length/y),M=I=>{v(I?E.map(B=>B.id):[])},L=(I,B)=>{v(B?[...g,I]:g.filter(H=>H!==I))},V=I=>{g.forEach(B=>{I==="read"?s(B):n(B)}),v([])},R=I=>{var B,H,F,U;s(I.id),(B=I.metadata)!=null&&B.leadId?e(`/leads/${I.metadata.leadId}`):(H=I.metadata)!=null&&H.campaignId?e(`/campaigns/${I.metadata.campaignId}`):(F=I.metadata)!=null&&F.ticketId?e(`/support-tickets/${I.metadata.ticketId}`):(U=I.action)!=null&&U.href&&e(I.action.href)};return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(Oo,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{className:"flex gap-2",children:[N.unread>0&&t.jsxs(K,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(IN,{className:"mr-2 h-4 w-4"}),"Mark All Read"]}),t.jsx(K,{variant:"outline",onClick:()=>e("/settings"),className:"border-gray-700 hover:bg-gray-800",children:"Settings"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:N.total})]}),t.jsx(Oo,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Unread"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.unread})]}),t.jsx(Rt,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Success"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.byType.success||0})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Warnings"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:N.byType.warning||0})]}),t.jsx(va,{className:"h-8 w-8 text-yellow-600"})]})})})]}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{type:"search",placeholder:"Search notifications...",value:o,onChange:I=>l(I.target.value),className:"border-gray-600 bg-gray-900/50 pl-10 text-white"})]})}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(nt,{placeholder:"Filter by type"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"success",children:"Success"}),t.jsx(se,{value:"error",children:"Error"}),t.jsx(se,{value:"warning",children:"Warning"}),t.jsx(se,{value:"info",children:"Info"})]})]}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(rt,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(nt,{placeholder:"Filter by status"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"unread",children:"Unread"}),t.jsx(se,{value:"read",children:"Read"})]})]})]}),g.length>0&&t.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-lg border border-emerald-700/30 bg-emerald-900/20 p-3",children:[t.jsxs("span",{className:"text-sm text-emerald-400",children:[g.length," selected"]}),t.jsxs(K,{size:"sm",variant:"ghost",onClick:()=>V("read"),className:"text-emerald-400 hover:text-emerald-300",children:[t.jsx(IN,{className:"mr-1 h-4 w-4"}),"Mark as Read"]}),t.jsxs(K,{size:"sm",variant:"ghost",onClick:()=>V("delete"),className:"text-red-400 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-1 h-4 w-4"}),"Delete"]}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>v([]),className:"ml-auto text-gray-400 hover:text-gray-300",children:"Clear Selection"})]})]})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-0",children:A.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[t.jsx(Oo,{className:"mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{className:"text-lg",children:"No notifications found"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search":"You're all caught up!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-700 p-4",children:[t.jsx(Kc,{checked:g.length===E.length&&E.length>0,onCheckedChange:M,className:"border-gray-600"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Select all on this page"})]}),t.jsx("div",{className:"divide-y divide-gray-700",children:E.map(I=>t.jsxs("div",{className:$e("group relative flex cursor-pointer items-start border-l-4 p-4 transition-colors hover:bg-gray-700/50",S(I.type),!I.read&&"bg-gray-700/30"),children:[t.jsx(Kc,{checked:g.includes(I.id),onCheckedChange:B=>L(I.id,B),onClick:B=>B.stopPropagation(),className:"mr-4 mt-1 border-gray-600"}),t.jsx("div",{className:"min-w-0 flex-1",onClick:()=>R(I),children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex-shrink-0",children:C(I.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("p",{className:$e("text-sm font-medium",I.read?"text-gray-300":"text-white"),children:I.title}),!I.read&&t.jsx(Ne,{className:"border-emerald-500/30 bg-emerald-500/20 text-xs text-emerald-400",children:"New"})]}),t.jsx("p",{className:"mb-2 text-sm text-gray-400",children:I.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:k(I.timestamp)}),I.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"capitalize",children:I.category})]}),I.source&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:I.source})]})]}),I.action&&t.jsxs(K,{variant:"ghost",size:"sm",className:"mt-2 h-auto p-0 text-xs text-emerald-400 hover:text-emerald-300",onClick:B=>{var H;B.stopPropagation(),(H=I.action)!=null&&H.href&&e(I.action.href)},children:[I.action.label,t.jsx(Yi,{className:"ml-1 h-3 w-3"})]})]})]}),t.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[!I.read&&t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"}),t.jsx(no,{className:"h-4 w-4 text-gray-600 opacity-0 transition-opacity group-hover:opacity-100"})]})]})})]},I.id))}),T>1&&t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 p-4",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(b-1)*y+1," to"," ",Math.min(b*y,A.length)," of"," ",A.length," notifications"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(b-1),disabled:b===1,className:"border-gray-600 hover:bg-gray-700",children:"Previous"}),Array.from({length:Math.min(5,T)},(I,B)=>{let H;return T<=5||b<=3?H=B+1:b>=T-2?H=T-4+B:H=b-2+B,t.jsx(K,{variant:b===H?"default":"outline",size:"sm",onClick:()=>w(H),className:$e("w-10",b===H?"bg-emerald-600 hover:bg-emerald-700":"border-gray-600 hover:bg-gray-700"),children:H},H)}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(b+1),disabled:b===T,className:"border-gray-600 hover:bg-gray-700",children:"Next"})]})]})]})})})]})};function jNe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),{getToken:h}=Ma(),{toast:f}=ds(),g=Nr(),v=async()=>{try{a(!0);const{supabaseService:T}=await Un(async()=>{const{supabaseService:V}=await Promise.resolve().then(()=>ku);return{supabaseService:V}},void 0);console.log(" Fetching organizations from Supabase...");const M=await T.getOrganizations();if(console.log(" Organizations fetched:",M),!M||M.length===0){console.warn(" No organizations returned from Supabase"),r([]);return}const L=M.map(V=>({id:V.id,name:V.name,domain:V.custom_domain||void 0,contact_name:void 0,contact_email:V.billing_email,contact_phone:V.phone,address:V.address,status:V.status==="active"?"active":"inactive",subscription_plan:V.plan==="professional"?"growth":V.plan==="starter"?"starter":"enterprise",subscription_status:V.status==="active"?"active":"cancelled",subscription_mrr:V.monthly_cost,users_count:0,campaigns_count:0,total_calls:0,created_at:V.created_at,updated_at:V.updated_at}));console.log(" Skipping stats fetch to avoid rate limiting"),r(L)}catch(T){console.error(" Error fetching organizations:",T),console.error("Error details:",{message:T instanceof Error?T.message:"Unknown error",stack:T instanceof Error?T.stack:void 0}),f({title:"Error",description:`Failed to fetch organizations: ${T instanceof Error?T.message:"Unknown error"}`,variant:"destructive"}),r([])}finally{a(!1)}},b=async(T,M)=>{try{const L=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${T}`,{method:"PUT",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(M)})).ok)throw new Error("Failed to update organization");f({title:"Success",description:"Organization updated successfully"}),v()}catch(L){console.error("Error updating organization:",L),f({title:"Error",description:"Failed to update organization. Please try again.",variant:"destructive"})}},w=async T=>{if(confirm("Are you sure you want to delete this organization? This action cannot be undone."))try{const M=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete organization");f({title:"Success",description:"Organization deleted successfully"}),v()}catch(M){console.error("Error deleting organization:",M),f({title:"Error",description:"Failed to delete organization. Please try again.",variant:"destructive"})}},y=e.filter(T=>{var R,I;const M=T.name.toLowerCase().includes(n.toLowerCase())||((R=T.contact_name)==null?void 0:R.toLowerCase().includes(n.toLowerCase()))||((I=T.contact_email)==null?void 0:I.toLowerCase().includes(n.toLowerCase())),L=o==="all"||T.status&&T.status===o,V=d==="all"||T.subscription_plan&&T.subscription_plan===d;return M&&L&&V}),C={totalOrgs:e.length,activeOrgs:e.filter(T=>T.status==="active").length,totalRevenue:e.reduce((T,M)=>T+(M.subscription_mrr||0),0),totalCalls:e.reduce((T,M)=>T+(M.total_calls||0),0)};p.useEffect(()=>{v()},[]);const S=T=>{if(!T)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(T){case"active":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"inactive":return"bg-red-500/10 text-red-400 border-red-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},k=T=>{if(!T)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(T){case"enterprise":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"growth":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"starter":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},A=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),E=T=>new Date(T).toLocaleDateString();return s?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx("div",{className:"text-lg text-white",children:"Loading organizations..."})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Organizations"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage client organizations and their subscriptions"})]}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Organizations"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(lr,{className:"h-6 w-6 text-emerald-500"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.activeOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/10",children:t.jsx(Bs,{className:"h-6 w-6 text-blue-500"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:A(C.totalRevenue)})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-500/10",children:t.jsx(Fr,{className:"h-6 w-6 text-yellow-500"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(r0,{className:"h-6 w-6 text-emerald-500"})})]})})})]}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{type:"text",placeholder:"Search organizations by name, contact, or email...",value:n,onChange:T=>i(T.target.value),className:"border-gray-800 bg-gray-900/90 pl-10 text-white placeholder-gray-500 focus:border-emerald-600"})]}),t.jsxs("select",{value:o,onChange:T=>l(T.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"pending",children:"Pending"})]}),t.jsxs("select",{value:d,onChange:T=>m(T.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"growth",children:"Growth"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),t.jsx("div",{className:"space-y-4",children:y.length===0?t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(lr,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No organizations found"}),t.jsx("p",{children:"Create your first organization to get started."})]}),t.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]})}):y.map(T=>t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm transition-all duration-200 hover:bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(lr,{className:"h-6 w-6 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white hover:text-emerald-400 cursor-pointer transition-colors",onClick:()=>g(`/organizations/${T.id}`),children:T.name}),t.jsx("p",{className:"text-sm text-gray-400",children:T.contact_name||"No contact assigned"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ne,{className:S(T.status),children:T.status?T.status.charAt(0).toUpperCase()+T.status.slice(1):"Unknown"}),t.jsx(Ne,{className:k(T.subscription_plan),children:T.subscription_plan?T.subscription_plan.charAt(0).toUpperCase()+T.subscription_plan.slice(1):"No Plan"}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsxs(qn,{align:"end",className:"border-gray-800 bg-gray-900",children:[t.jsx(UI,{className:"text-gray-300",children:"Actions"}),t.jsx(GS,{className:"bg-gray-800"}),t.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",children:[t.jsx(Rr,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",onClick:()=>{const M=prompt("Enter new organization name:",T.name);M&&M!==T.name&&b(T.id,{name:M})},children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Edit Organization"]}),t.jsxs(Yt,{className:"text-red-400 hover:bg-gray-800 hover:text-red-300",onClick:()=>w(T.id),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Ta,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:T.contact_email||"No email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(xt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:T.contact_phone||"No phone"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(sd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:T.address||"No address"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_s,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-gray-300",children:["Since ",E(T.created_at)]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 border-t border-gray-800 pt-4 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Users"}),t.jsxs("p",{className:"flex items-center gap-1 text-sm font-medium text-white",children:[t.jsx(bt,{className:"h-3 w-3"}),T.users_count||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"}),t.jsx("p",{className:"text-sm font-medium text-white",children:T.campaigns_count||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-sm font-medium text-white",children:(T.total_calls||0).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-sm font-medium text-emerald-400",children:A(T.subscription_mrr||0)})]})]})]})},T.id))})]})})}const NNe=()=>{const{t:e}=yn(["common"]),[r,s]=p.useState("vapi"),[a,n]=p.useState({}),[i,o]=p.useState([]),[l,d]=p.useState(!0),[m,h]=p.useState(!1),[f,g]=p.useState(!1),[v,b]=p.useState(!1),{toast:w}=ds(),{userContext:y}=ao(),N=a4(),C=(y==null?void 0:y.role)==="client_admin"||(y==null?void 0:y.role)==="platform_owner";p.useEffect(()=>{C&&(S(),k())},[C]);const S=async()=>{try{d(!0);const L=await N.get("/organization-settings");n(L.data.settings||{})}catch(L){console.error("Error loading organization settings:",L),w({title:e("error"),description:e("organizationSettings.failedToLoadSettings"),variant:"destructive"})}finally{d(!1)}},k=async()=>{try{const L=await N.get("/organizations/users");o(L.data.users||[])}catch(L){console.error("Error loading organization users:",L)}},A=async(L,V,R=!1)=>{try{h(!0),await N.post(`/organization-settings/${L}`,{value:V,encrypted:R}),w({title:e("success"),description:e("organizationSettings.settingSaved")}),n(I=>({...I,[L]:V}))}catch(I){console.error("Error saving setting:",I),w({title:e("error"),description:e("organizationSettings.settingSaveFailed"),variant:"destructive"})}finally{h(!1)}},E=async(L,V)=>{try{await N.put(`/organizations/users/${L}/role`,{role:V}),w({title:e("success"),description:e("organizationSettings.users.userRoleUpdated")}),k()}catch(R){console.error("Error updating user role:",R),w({title:e("error"),description:e("organizationSettings.users.userRoleUpdateFailed"),variant:"destructive"})}},T=async L=>{try{await N.put(`/organizations/users/${L}/suspend`),w({title:e("success"),description:e("organizationSettings.users.userSuspended")}),k()}catch(V){console.error("Error suspending user:",V),w({title:e("error"),description:e("organizationSettings.users.userSuspendFailed"),variant:"destructive"})}},M=async()=>{if(!a.vapi_api_key){w({title:e("error"),description:e("organizationSettings.vapi.apiKeyRequired"),variant:"destructive"});return}try{h(!0),(await N.post("/vapi/test-connection")).data.success?w({title:e("success"),description:e("organizationSettings.vapi.testConnectionSuccess")}):w({title:e("error"),description:e("organizationSettings.vapi.testConnectionFailed"),variant:"destructive"})}catch(L){console.error("Error testing VAPI connection:",L),w({title:e("error"),description:e("organizationSettings.vapi.testConnectionError"),variant:"destructive"})}finally{h(!1)}};return C?l?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx(as,{className:"h-8 w-8 animate-spin text-emerald-500"}),t.jsx("p",{className:"text-sm text-gray-400",children:e("organizationSettings.loading")})]})}):t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(os,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:e("organizationSettings.title")}),t.jsx("p",{className:"text-gray-400",children:e("organizationSettings.description")})]})]})}),t.jsxs(ki,{value:r,onValueChange:s,className:"space-y-6",children:[t.jsxs(Jn,{className:"grid w-full grid-cols-5 bg-gray-900",children:[t.jsxs(ht,{value:"vapi",className:"flex items-center space-x-2",children:[t.jsx(Hi,{className:"h-4 w-4"}),t.jsx("span",{children:e("organizationSettings.tabs.vapi")})]}),t.jsxs(ht,{value:"users",className:"flex items-center space-x-2",children:[t.jsx(bt,{className:"h-4 w-4"}),t.jsx("span",{children:e("organizationSettings.tabs.users")})]}),t.jsxs(ht,{value:"permissions",className:"flex items-center space-x-2",children:[t.jsx(xs,{className:"h-4 w-4"}),t.jsx("span",{children:e("organizationSettings.tabs.permissions")})]}),t.jsxs(ht,{value:"billing",className:"flex items-center space-x-2",children:[t.jsx(n0,{className:"h-4 w-4"}),t.jsx("span",{children:e("organizationSettings.tabs.billing")})]}),t.jsxs(ht,{value:"general",className:"flex items-center space-x-2",children:[t.jsx(Aa,{className:"h-4 w-4"}),t.jsx("span",{children:e("organizationSettings.tabs.general")})]})]}),t.jsx(ft,{value:"vapi",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center space-x-2 text-white",children:[t.jsx(Hi,{className:"h-5 w-5 text-emerald-500"}),t.jsx("span",{children:e("organizationSettings.vapi.title")})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:e("organizationSettings.vapi.apiKey")}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Pe,{type:f?"text":"password",value:a.vapi_api_key||"",onChange:L=>n(V=>({...V,vapi_api_key:L.target.value})),placeholder:e("organizationSettings.vapi.apiKeyPlaceholder"),className:"pr-10 bg-gray-800 border-gray-700 text-white"}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>g(!f),children:f?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]}),t.jsx(K,{onClick:()=>A("vapi_api_key",a.vapi_api_key,!0),disabled:m||!a.vapi_api_key,className:"bg-emerald-600 hover:bg-emerald-700",children:m?t.jsx(as,{className:"h-4 w-4 animate-spin"}):t.jsx(Wt,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:e("organizationSettings.vapi.apiKeyDescription")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:e("organizationSettings.vapi.webhookSecret")}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Pe,{type:v?"text":"password",value:a.vapi_webhook_secret||"",onChange:L=>n(V=>({...V,vapi_webhook_secret:L.target.value})),placeholder:e("organizationSettings.vapi.webhookSecretPlaceholder"),className:"pr-10 bg-gray-800 border-gray-700 text-white"}),t.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>b(!v),children:v?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]}),t.jsx(K,{onClick:()=>A("vapi_webhook_secret",a.vapi_webhook_secret,!0),disabled:m||!a.vapi_webhook_secret,className:"bg-emerald-600 hover:bg-emerald-700",children:m?t.jsx(as,{className:"h-4 w-4 animate-spin"}):t.jsx(Wt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:e("organizationSettings.vapi.testConnection")}),t.jsx("p",{className:"text-sm text-gray-400",children:e("organizationSettings.vapi.testConnectionDescription")})]}),t.jsxs(K,{onClick:M,disabled:m||!a.vapi_api_key,variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[m?t.jsx(as,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(yt,{className:"h-4 w-4 mr-2"}),e("organizationSettings.vapi.testConnection")]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:e("organizationSettings.vapi.webhookUrl")}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Pe,{value:a.webhook_url||`${window.location.origin}/api/vapi-webhook`,readOnly:!0,className:"bg-gray-800 border-gray-700 text-gray-300"}),t.jsx(K,{onClick:()=>navigator.clipboard.writeText(a.webhook_url||`${window.location.origin}/api/vapi-webhook`),variant:"outline",className:"border-gray-700",children:t.jsx(dn,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:e("organizationSettings.vapi.webhookUrlDescription")})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:e("organizationSettings.vapi.maxConcurrentCalls")}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Pe,{type:"number",value:a.max_concurrent_calls||10,onChange:L=>n(V=>({...V,max_concurrent_calls:parseInt(L.target.value)})),min:"1",max:"100",className:"w-32 bg-gray-800 border-gray-700 text-white"}),t.jsx(K,{onClick:()=>A("max_concurrent_calls",a.max_concurrent_calls),disabled:m,className:"bg-emerald-600 hover:bg-emerald-700",children:e("save")})]}),t.jsx("p",{className:"text-xs text-gray-400",children:e("organizationSettings.vapi.maxConcurrentCallsDescription")})]})]})]})}),t.jsx(ft,{value:"users",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(xe,{className:"flex items-center space-x-2 text-white",children:[t.jsx(bt,{className:"h-5 w-5 text-emerald-500"}),t.jsx("span",{children:e("organizationSettings.users.title")})]}),t.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"h-4 w-4 mr-2"}),e("organizationSettings.users.inviteUser")]})]})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:i.map(L=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-700 flex items-center justify-center",children:t.jsx(bt,{className:"h-5 w-5 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:L.first_name&&L.last_name?`${L.first_name} ${L.last_name}`:L.email}),t.jsx("p",{className:"text-sm text-gray-400",children:L.email}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Ne,{variant:"outline",className:"text-xs",children:e(`organizationSettings.users.roles.${L.role.replace("client_","")}`)}),t.jsx(Ne,{variant:"outline",className:`text-xs ${L.status==="active"?"border-emerald-500 text-emerald-400":L.status==="pending"?"border-yellow-500 text-yellow-400":"border-red-500 text-red-400"}`,children:e(`organizationSettings.users.status.${L.status}`)})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(at,{value:L.role,onValueChange:V=>E(L.id,V),children:[t.jsx(rt,{className:"w-32 bg-gray-800 border-gray-700",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"client_admin",children:e("organizationSettings.users.roles.admin")}),t.jsx(se,{value:"client_user",children:e("organizationSettings.users.roles.user")}),t.jsx(se,{value:"client_viewer",children:e("organizationSettings.users.roles.viewer")})]})]}),L.status==="active"?t.jsxs(nS,{children:[t.jsx(iS,{asChild:!0,children:t.jsx(K,{variant:"outline",size:"sm",className:"border-red-600 text-red-400 hover:bg-red-600/20",children:t.jsx(GM,{className:"h-4 w-4"})})}),t.jsxs(lx,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(cx,{children:[t.jsx(ux,{className:"text-white",children:e("organizationSettings.users.suspendUser")}),t.jsx(mx,{className:"text-gray-400",children:e("organizationSettings.users.suspendUserConfirm",{email:L.email})})]}),t.jsxs(dx,{children:[t.jsx(fx,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:e("cancel")}),t.jsx(hx,{onClick:()=>T(L.id),className:"bg-red-600 text-white hover:bg-red-700",children:e("organizationSettings.users.suspend")})]})]})]}):t.jsx(K,{variant:"outline",size:"sm",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:t.jsx(ql,{className:"h-4 w-4"})})]})]},L.id))})})]})}),t.jsx(ft,{value:"permissions",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(xs,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:e("organizationSettings.permissions.title")}),t.jsx("p",{className:"text-gray-400",children:e("organizationSettings.permissions.comingSoon")})]})})}),t.jsx(ft,{value:"billing",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(n0,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:e("organizationSettings.billing.title")}),t.jsx("p",{className:"text-gray-400",children:e("organizationSettings.billing.comingSoon")})]})})}),t.jsx(ft,{value:"general",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(Aa,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:e("organizationSettings.general.title")}),t.jsx("p",{className:"text-gray-400",children:e("organizationSettings.general.comingSoon")})]})})})]})]})}):t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsx("div",{className:"mx-auto max-w-4xl",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(xs,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-white",children:e("organizationSettings.accessDenied")}),t.jsx("p",{className:"text-gray-400",children:e("organizationSettings.accessDeniedDescription")})]})})})})};var SNe="Separator",hO="horizontal",CNe=["horizontal","vertical"],$U=p.forwardRef((e,r)=>{const{decorative:s,orientation:a=hO,...n}=e,i=kNe(a)?a:hO,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(He.div,{"data-orientation":i,...l,...n,ref:r})});$U.displayName=SNe;function kNe(e){return CNe.includes(e)}var zU=$U;const Wl=p.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...a},n)=>t.jsx(zU,{ref:n,decorative:s,orientation:r,className:$e("shrink-0 bg-zinc-200 dark:bg-zinc-800",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Wl.displayName=zU.displayName;const jh=[{id:1,name:"Organization",icon:lr},{id:2,name:"Admin User",icon:vs},{id:3,name:"Team Setup",icon:bt},{id:4,name:"VAPI Setup",icon:os},{id:5,name:"Review & Submit",icon:ps}],Nh=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"ES",name:"Spain",flag:""},{code:"IT",name:"Italy",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"NO",name:"Norway",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"FI",name:"Finland",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"AT",name:"Austria",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"SG",name:"Singapore",flag:""}],_Ne=["Technology","Healthcare","Finance","Real Estate","Marketing & Advertising","Consulting","E-commerce","Manufacturing","Education","Legal","Insurance","Telecommunications","Media & Entertainment","Non-profit","Other"],fO=[{id:"admin",name:"Admin",description:"Full access to all features and settings"},{id:"user",name:"User",description:"Can create and manage campaigns"},{id:"viewer",name:"Viewer",description:"Read-only access to campaigns and reports"}];function PNe(){var B,H,F;const e=Nr(),{getToken:r}=Ma(),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,v]=p.useState(null),[b,w]=p.useState({businessName:"",email:"",country:"",website:"",industry:"",adminFirstName:"",adminLastName:"",adminEmail:"",adminPhone:"",teamSize:"",addTeamMembers:!1,teamMembers:[],vapiApiKey:"",vapiPrivateKey:"",vapiSetupComplete:!1,isDraft:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),y=s/jh.length*100,N=U=>{const O={};switch(U){case 1:b.businessName.trim()||(O.businessName="Business name is required"),b.email.trim()||(O.email="Email is required"),b.email.includes("@")||(O.email="Please enter a valid email address"),b.country||(O.country="Please select a country");break;case 2:b.adminFirstName.trim()||(O.adminFirstName="First name is required"),b.adminLastName.trim()||(O.adminLastName="Last name is required"),b.adminEmail.trim()||(O.adminEmail="Admin email is required"),b.adminEmail.includes("@")||(O.adminEmail="Please enter a valid email address");break;case 3:b.teamSize||(O.teamSize="Please select team size"),b.addTeamMembers&&b.teamMembers.length===0&&(O.teamMembers="Please add at least one team member or disable team member addition"),b.teamMembers.forEach(($,W)=>{$.firstName.trim()||(O[`teamMember${W}FirstName`]="First name is required"),$.lastName.trim()||(O[`teamMember${W}LastName`]="Last name is required"),$.email.trim()||(O[`teamMember${W}Email`]="Email is required"),$.email.includes("@")||(O[`teamMember${W}Email`]="Please enter a valid email"),$.role||(O[`teamMember${W}Role`]="Please select a role")});break;case 4:b.vapiPrivateKey.trim()||(O.vapiPrivateKey="VAPI Private Key is required"),b.vapiApiKey.trim()||(O.vapiApiKey="VAPI Public Key is required");break}return l(O),Object.keys(O).length===0},C=()=>{N(s)&&s<jh.length&&(a(s+1),w(U=>({...U,updatedAt:new Date().toISOString()})))},S=()=>{s>1&&(a(s-1),l({}))},k=U=>{U<s?(a(U),l({})):U===s+1&&C()},A=U=>{w(O=>({...O,...U,updatedAt:new Date().toISOString()}))},E=()=>{const U={id:`member_${Date.now()}`,firstName:"",lastName:"",email:"",role:"user"};A({teamMembers:[...b.teamMembers,U]})},T=(U,O)=>{const $=[...b.teamMembers];$[U]={...$[U],...O},A({teamMembers:$})},M=U=>{const O=b.teamMembers.filter(($,W)=>W!==U);A({teamMembers:O})},L=async()=>{i(!0);try{const U={...b,isDraft:!0};localStorage.setItem("organizationDraft",JSON.stringify(U)),alert(" Organization setup saved as draft!")}catch(U){console.error("Error saving draft:",U),alert(" Failed to save draft. Please try again.")}finally{i(!1)}},V=async()=>{if(console.log(" Complete Setup button clicked - Starting process..."),!N(s)){console.log(" Validation failed for current step:",s);return}i(!0),console.log(" Loading state set to true");try{console.log(" Getting authentication token...");const U=await r();if(console.log(" Token received:",U?"Yes":"No"),!U)throw console.error(" No authentication token received"),new Error("Authentication required. Please sign in.");console.log(" Authentication token received:",U?"Token exists":"No token");const O={businessName:b.businessName,email:b.email,country:b.country,website:b.website,industry:b.industry,adminFirstName:b.adminFirstName,adminLastName:b.adminLastName,adminEmail:b.adminEmail,adminPhone:b.adminPhone,useBusinessEmail:b.adminEmail===b.email,teamSize:b.teamSize,addTeamMembers:b.addTeamMembers,teamMembers:b.teamMembers,vapiApiKey:b.vapiApiKey,vapiPrivateKey:b.vapiPrivateKey};console.log(" Submitting organization setup:",O);const W="https://apex-backend-august-production.up.railway.app/api/api/organization-setup/setup";console.log(" Making API call to:",W),console.log(" Request headers:",{"Content-Type":"application/json",Authorization:`Bearer ${U.substring(0,20)}...`});const q=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(O)});console.log(" Response status:",q.status,q.statusText);const z=await q.json();if(console.log(" Response body:",z),!q.ok)throw console.error(" API call failed:",z),new Error(z.error||`HTTP error! status: ${q.status}`);console.log(" Organization setup completed:",z),console.log(" Setting setup result and showing success screen..."),v(z),f(!0),A({vapiApiKey:"",vapiPrivateKey:""}),console.log(" Success screen should now be visible!")}catch(U){console.error(" Error completing setup:",U),console.log(" Setting error result and showing error screen..."),v({success:!1,error:U instanceof Error?U.message:"Failed to complete setup",details:"If the problem persists, please contact support."}),f(!0),console.log(" Error screen should now be visible!")}finally{i(!1),console.log(" Loading state set to false")}},R=()=>{var U,O,$,W;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Organization Details"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Tell us about your business to get started with the Apex AI Calling Platform"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Business Name *"}),t.jsx(Pe,{value:b.businessName,onChange:q=>A({businessName:q.target.value}),placeholder:"e.g., Acme Marketing Agency",className:"border-gray-700 bg-gray-800 text-white"}),o.businessName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.businessName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Business Email *"}),t.jsx(Pe,{type:"email",value:b.email,onChange:q=>A({email:q.target.value}),placeholder:"contact@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.email&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.email})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(at,{value:b.country,onValueChange:q=>A({country:q}),children:[t.jsx(rt,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select your country",children:b.country?t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:(U=Nh.find(q=>q.code===b.country))==null?void 0:U.flag}),t.jsx("span",{className:"text-white",children:(O=Nh.find(q=>q.code===b.country))==null?void 0:O.name})]}):t.jsx("span",{className:"text-gray-400",children:"Select your country"})})}),t.jsx(st,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:Nh.map(q=>t.jsx(se,{value:q.code,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3 py-1",children:[t.jsx("span",{className:"min-w-[24px] text-lg",children:q.flag}),t.jsx("span",{className:"text-white",children:q.name})]})},q.code))})]}),o.country&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.country})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Website (Optional)"}),t.jsx(Pe,{type:"url",value:b.website,onChange:q=>A({website:q.target.value}),placeholder:"https://www.acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(at,{value:b.industry,onValueChange:q=>A({industry:q}),children:[t.jsx(rt,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select your industry"})}),t.jsx(st,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:_Ne.map(q=>t.jsx(se,{value:q,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsx("span",{className:"text-white",children:q})},q))})]})]})]}),t.jsxs(nr,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Vt,{className:"h-4 w-4 text-blue-400"}),t.jsx(ir,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Admin User Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Create the primary administrator account for your organization"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"First Name *"}),t.jsx(Pe,{value:b.adminFirstName,onChange:q=>A({adminFirstName:q.target.value}),placeholder:"John",className:"border-gray-700 bg-gray-800 text-white"}),o.adminFirstName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminFirstName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Last Name *"}),t.jsx(Pe,{value:b.adminLastName,onChange:q=>A({adminLastName:q.target.value}),placeholder:"Smith",className:"border-gray-700 bg-gray-800 text-white"}),o.adminLastName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminLastName})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Email Address *"}),t.jsx(Pe,{type:"email",value:b.adminEmail,onChange:q=>A({adminEmail:q.target.value}),placeholder:"john.smith@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.adminEmail&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminEmail})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Telephone Number (Optional)"}),t.jsx(Pe,{type:"tel",value:b.adminPhone,onChange:q=>A({adminPhone:q.target.value}),placeholder:"+1 (555) 123-4567",className:"border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(nr,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(vs,{className:"h-4 w-4 text-emerald-400"}),t.jsx(ir,{className:"text-gray-300",children:"The admin user will have full access to all platform features and will be able to manage other team members."})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your team size and add team members to your organization"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Size *"}),t.jsx($l,{value:b.teamSize,onValueChange:q=>A({teamSize:q}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"0-5",id:"small"}),t.jsxs(ee,{htmlFor:"small",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"0 - 5 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Small team or startup"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"6-9",id:"medium"}),t.jsxs(ee,{htmlFor:"medium",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"6 - 9 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Growing team"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"10+",id:"large"}),t.jsxs(ee,{htmlFor:"large",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"10+ members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Large team or enterprise"})]})]})]})}),o.teamSize&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamSize})]}),t.jsx(Wl,{className:"bg-gray-700"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Add Team Members (Optional)"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"addTeamMembers",checked:b.addTeamMembers,onChange:q=>A({addTeamMembers:q.target.checked}),className:"rounded border-gray-600 bg-gray-700"}),t.jsx(ee,{htmlFor:"addTeamMembers",className:"cursor-pointer text-gray-300",children:"Enable team member setup"})]})]}),b.addTeamMembers&&t.jsxs("div",{className:"space-y-4",children:[b.teamMembers.map((q,z)=>t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium text-white",children:["Team Member ",z+1]}),t.jsx(K,{variant:"outline",size:"sm",onClick:()=>M(z),className:"border-red-600 text-red-400 hover:bg-red-900/20",children:t.jsx(Ws,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"First Name *"}),t.jsx(Pe,{value:q.firstName,onChange:Q=>T(z,{firstName:Q.target.value}),placeholder:"Jane",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${z}FirstName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${z}FirstName`]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Last Name *"}),t.jsx(Pe,{value:q.lastName,onChange:Q=>T(z,{lastName:Q.target.value}),placeholder:"Doe",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${z}LastName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${z}LastName`]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Email *"}),t.jsx(Pe,{type:"email",value:q.email,onChange:Q=>T(z,{email:Q.target.value}),placeholder:"jane.doe@acmemarketing.com",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${z}Email`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${z}Email`]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Role *"}),t.jsxs(at,{value:q.role,onValueChange:Q=>T(z,{role:Q}),children:[t.jsx(rt,{className:"hover:bg-gray-650 border-gray-600 bg-gray-700 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select role"})}),t.jsx(st,{className:"border-gray-600 bg-gray-700",children:fO.map(Q=>t.jsx(se,{value:Q.id,className:"cursor-pointer text-white hover:bg-gray-600 focus:bg-gray-600",children:t.jsxs("div",{className:"py-1",children:[t.jsx("div",{className:"font-medium text-white",children:Q.name}),t.jsx("div",{className:"text-xs text-gray-300",children:Q.description})]})},Q.id))})]}),o[`teamMember${z}Role`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${z}Role`]})]})]})]})},q.id)),t.jsxs(K,{variant:"outline",onClick:E,className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add Another Team Member"]}),o.teamMembers&&t.jsx("p",{className:"text-sm text-red-400",children:o.teamMembers})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"VAPI Integration Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your VAPI account to enable AI calling functionality"})]}),t.jsxs(nr,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(Vt,{className:"h-4 w-4 text-blue-400"}),t.jsx(ir,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"How to set up your VAPI account:"}),t.jsxs("ol",{className:"list-inside list-decimal space-y-1 text-sm",children:[t.jsxs("li",{children:["Visit"," ",t.jsxs("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-400 hover:underline",children:["vapi.ai ",t.jsx(Yi,{className:"h-3 w-3"})]})," ","and create an account"]}),t.jsx("li",{children:'Navigate to your dashboard and go to "API Keys"'}),t.jsx("li",{children:"Generate a new API key and copy it"}),t.jsx("li",{children:"Also copy your Private Key from the account settings"}),t.jsx("li",{children:"Paste both keys below to connect your account"})]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"VAPI Private Key (Bearer Token) *"}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>m(!d),className:"text-gray-400 hover:text-white",children:d?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]}),t.jsx(Pe,{type:d?"text":"password",value:b.vapiPrivateKey,onChange:q=>A({vapiPrivateKey:q.target.value}),placeholder:"sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiPrivateKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiPrivateKey})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"VAPI Public Key *"}),t.jsx(Pe,{type:d?"text":"password",value:b.vapiApiKey,onChange:q=>A({vapiApiKey:q.target.value}),placeholder:"vapi_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiApiKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiApiKey})]})]}),t.jsxs(nr,{className:"border-green-700 bg-green-900/20",children:[t.jsx(ps,{className:"h-4 w-4 text-green-400"}),t.jsx(ir,{className:"text-green-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens next:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsx("li",{children:"Your VAPI account will be connected to the platform"}),t.jsx("li",{children:"You'll be able to create AI voice agents"}),t.jsx("li",{children:"Phone numbers can be purchased and configured"}),t.jsx("li",{children:"AI calling campaigns can be launched"})]})]})})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Security Note"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Your API keys are encrypted and stored securely. They are only used to authenticate with VAPI services and are never shared with third parties."})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Review & Submit"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Please review all information before submitting. Once submitted, your organization and user accounts will be created."})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(lr,{className:"h-5 w-5 text-emerald-500"}),"Organization Details"]})}),t.jsx(X,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Business Name"}),t.jsx("p",{className:"font-medium text-white",children:b.businessName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(Ta,{className:"h-4 w-4 text-gray-400"}),b.email]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Country"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx("span",{className:"text-lg",children:($=Nh.find(q=>q.code===b.country))==null?void 0:$.flag}),((W=Nh.find(q=>q.code===b.country))==null?void 0:W.name)||b.country]})]}),b.website&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Website"}),t.jsx("p",{className:"font-medium text-white",children:b.website})]}),b.industry&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Industry"}),t.jsx("p",{className:"font-medium text-white",children:b.industry})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(vs,{className:"h-5 w-5 text-blue-500"}),"Administrator Account"]})}),t.jsx(X,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Full Name"}),t.jsxs("p",{className:"font-medium text-white",children:[b.adminFirstName," ",b.adminLastName]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(Ta,{className:"h-4 w-4 text-gray-400"}),b.adminEmail]})]}),b.adminPhone&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Phone"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(xt,{className:"h-4 w-4 text-gray-400"}),b.adminPhone]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Role"}),t.jsx(Ne,{variant:"secondary",className:"bg-blue-900 text-blue-300",children:"Organization Administrator"})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(bt,{className:"h-5 w-5 text-purple-500"}),"Team Setup"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Team Size"}),t.jsxs("p",{className:"font-medium text-white",children:[b.teamSize," members"]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Additional Team Members"}),t.jsx("p",{className:"font-medium text-white",children:b.addTeamMembers?`${b.teamMembers.length} added`:"None"})]})]}),b.addTeamMembers&&b.teamMembers.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{className:"mb-2 block text-sm text-gray-400",children:"Team Members"}),t.jsx("div",{className:"space-y-2",children:b.teamMembers.map((q,z)=>{var Q;return t.jsx("div",{className:"rounded-lg bg-gray-700 p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[q.firstName," ",q.lastName]}),t.jsx("p",{className:"text-sm text-gray-400",children:q.email})]}),t.jsx(Ne,{variant:"outline",className:"border-gray-600 text-gray-300",children:((Q=fO.find(Ae=>Ae.id===q.role))==null?void 0:Q.name)||q.role})]})},q.id)})})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(os,{className:"h-5 w-5 text-orange-500"}),"VAPI Integration"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"API Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Connected"]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Private Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Configured"]})]})]}),t.jsxs(nr,{className:"border-green-700 bg-green-900/20",children:[t.jsx(ps,{className:"h-4 w-4 text-green-400"}),t.jsx(ir,{className:"text-green-300",children:"VAPI integration is ready. You'll be able to create AI voice agents and launch calling campaigns immediately after setup."})]})]})]}),t.jsx(J,{className:"border-emerald-700 bg-gradient-to-r from-emerald-900/20 to-blue-900/20",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Setup Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"1"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Organization"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:1+(b.addTeamMembers?b.teamMembers.length:0)}),t.jsx("div",{className:"text-sm text-gray-400",children:"Users"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:b.teamSize}),t.jsx("div",{className:"text-sm text-gray-400",children:"Team Size"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:""}),t.jsx("div",{className:"text-sm text-gray-400",children:"VAPI Ready"})]})]})]})}),t.jsxs(nr,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(Vt,{className:"h-4 w-4 text-blue-400"}),t.jsx(ir,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens when you submit:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsxs("li",{children:['Your organization "',b.businessName,'" will be created']}),t.jsxs("li",{children:["Admin account for ",b.adminFirstName," ",b.adminLastName," will be set up"]}),b.addTeamMembers&&b.teamMembers.length>0&&t.jsxs("li",{children:[b.teamMembers.length," team member account(s) will be created"]}),t.jsx("li",{children:"VAPI integration will be activated for AI calling"}),t.jsx("li",{children:"You'll receive login credentials via email"})]})]})})]})]});default:return null}},I=()=>{switch(s){case 1:return b.businessName&&b.email&&b.country;case 2:return b.adminFirstName&&b.adminLastName&&b.adminEmail;case 3:return b.teamSize&&(!b.addTeamMembers||b.teamMembers.length>0);case 4:return b.vapiApiKey&&b.vapiPrivateKey;case 5:return!0;default:return!1}};return h&&g?t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-4xl",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500",children:g.success?t.jsx(yt,{className:"h-8 w-8 text-white"}):t.jsx(St,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:g.success?"Setup Complete!":"Setup Failed"}),t.jsx("p",{className:"text-gray-400",children:g.success?"Your organization has been created successfully":"There was an issue creating your organization"})]}),g.success?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(nr,{className:"border-emerald-600 bg-emerald-900",children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-500"}),t.jsx(ir,{className:"text-emerald-100",children:g.message})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(lr,{className:"h-5 w-5 text-emerald-500"}),"Organization Created"]})}),t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Organization Name"}),t.jsx("p",{className:"font-medium text-white",children:g.organizationName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Organization ID"}),t.jsx("p",{className:"font-mono text-sm text-white",children:g.organizationId})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Admin Email"}),t.jsx("p",{className:"text-white",children:g.adminEmail})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Team Members"}),t.jsxs("p",{className:"text-white",children:[g.teamMembersCreated||0," created"]})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(zo,{className:"h-5 w-5 text-emerald-500"}),"Next Steps"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"1"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Check Your Email"}),t.jsx("p",{className:"text-sm text-gray-400",children:(B=g.nextSteps)==null?void 0:B.emailVerification})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"2"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"text-sm text-gray-400",children:(H=g.nextSteps)==null?void 0:H.accountSetup})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"3"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Start Calling"}),t.jsxs("p",{className:"text-sm text-gray-400",children:["VAPI Status:"," ",(F=g.vapiStatus)!=null&&F.connected?" Ready":" Needs Configuration"]})]})]})]})})]}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(K,{onClick:()=>e("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(lr,{className:"mr-2 h-4 w-4"}),"View Organizations"]}),t.jsxs(K,{variant:"outline",onClick:()=>e("/dashboard"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(RN,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(nr,{className:"border-red-600 bg-red-900",children:[t.jsx(St,{className:"h-4 w-4 text-red-500"}),t.jsx(ir,{className:"text-red-100",children:g.error})]}),g.details&&t.jsx(J,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsx("p",{className:"text-gray-400",children:g.details})})}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(K,{onClick:()=>{f(!1),v(null),a(1)},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Try Again"]}),t.jsxs(K,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(lr,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-950 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(lr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Organization Setup"}),t.jsx("p",{className:"text-gray-400",children:"Set up your organization on the Apex AI Calling Platform"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(K,{variant:"outline",onClick:L,disabled:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),t.jsx(K,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx(gr,{value:y,className:"h-2 bg-gray-800"})]}),t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between",children:jh.map((U,O)=>{const $=U.icon,W=U.id===s,q=U.id<s,z=U.id<=s+1;return t.jsxs(le.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${z?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>z&&k(U.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${W?"bg-emerald-600 text-white":q?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:q?t.jsx(ps,{className:"h-6 w-6"}):t.jsx($,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${W?"font-medium text-white":"text-gray-400"}`,children:U.name})]}),O<jh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${q?"bg-green-600":"bg-gray-800"}`})]},U.id)})})}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(X,{className:"p-8",children:R()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(K,{variant:"outline",onClick:S,disabled:s===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ec,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<jh.length?t.jsxs(K,{onClick:C,className:"bg-emerald-600 hover:bg-emerald-700",children:["Next",t.jsx(no,{className:"ml-2 h-4 w-4"})]}):t.jsx(K,{onClick:V,disabled:n||!I(),className:"bg-green-600 hover:bg-green-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Setting up Organization..."]}):t.jsxs(t.Fragment,{children:[t.jsx(zo,{className:"mr-2 h-4 w-4"}),"Complete Setup"]})})]})})]})]})})}function ANe({user:e,isOpen:r,onClose:s,onResendInvitation:a,onSuspendUser:n,onActivateUser:i}){if(!e)return null;const o=(N,C)=>{const S={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt,label:"Active"},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Ta,label:C||"Invited"},"Invitation Pending":{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Rt,label:"Invitation Pending"},"Invitation Expired":{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Gt,label:"Invitation Expired"},"Never Logged In":{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:vs,label:"Never Logged In"},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Nu,label:"Inactive"},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Nu,label:"Suspended"}},k=S[C||N]||S.invited,A=k.icon;return t.jsxs(Ne,{variant:"outline",className:k.className,children:[t.jsx(A,{className:"mr-1 h-3 w-3"}),k.label]})},l=N=>{const C=N.replace("client_","").replace("_"," ").split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ");return t.jsxs(Ne,{variant:"outline",className:"border-blue-500/20 bg-blue-500/10 text-blue-400",children:[t.jsx(xs,{className:"mr-1 h-3 w-3"}),C]})},d=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",h=(N=>{if(!N)return{text:"Never logged in",className:"text-gray-400"};const C=Math.floor((Date.now()-new Date(N).getTime())/(1e3*60*60*24));return C===0?{text:"Today",className:"text-emerald-400"}:C===1?{text:"Yesterday",className:"text-emerald-400"}:C<7?{text:`${C} days ago`,className:"text-blue-400"}:C<30?{text:`${Math.floor(C/7)} weeks ago`,className:"text-yellow-400"}:{text:`${Math.floor(C/30)} months ago`,className:"text-red-400"}})(e.last_login_at),f=e.status==="suspended"?"suspended":e.status==="invited"||!e.last_login_at?"invited":e.status==="active"&&e.last_login_at?"active":e.status,g=e.status==="suspended"?"Suspended":!e.last_login_at&&(e.status==="invited"||e.status==="active")?"Invitation Pending":e.status==="active"&&e.last_login_at?"Active":e.display_status||e.status,v=!e.last_login_at&&(e.status==="invited"||e.status==="active"),b=v,w=e.status==="active"&&e.last_login_at,y=e.status==="suspended"||e.status==="inactive";return t.jsx(Cd,{open:r,onOpenChange:s,children:t.jsxs(dc,{className:"bg-gray-900 border-gray-800 max-w-2xl",children:[t.jsx(uc,{children:t.jsx(mc,{className:"text-xl font-semibold text-white",children:"User Profile"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(vs,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-white",children:[e.first_name," ",e.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:e.email}),e.phone&&t.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[t.jsx(xt,{className:"h-3 w-3"}),e.phone]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o(f,g),l(e.role)]})]}),v&&t.jsxs(nr,{className:"border-yellow-700 bg-yellow-900/20",children:[t.jsx(Gt,{className:"h-4 w-4 text-yellow-400"}),t.jsxs(ir,{className:"text-yellow-200",children:["This user has been invited but hasn't set up their account yet.",e.display_status==="Invitation Expired"?" Their invitation has expired and needs to be resent.":" They need to check their email and complete the signup process."]})]}),e.status==="suspended"&&t.jsxs(nr,{className:"border-red-700 bg-red-900/20",children:[t.jsx(Nu,{className:"h-4 w-4 text-red-400"}),t.jsx(ir,{className:"text-red-200",children:"This user account is suspended and cannot access the platform."})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Account Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),t.jsx("p",{className:"text-white",children:d(e.created_at)})]}),e.invited_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invited"}),t.jsx("p",{className:"text-white",children:d(e.invited_at)}),e.invited_by_name&&t.jsxs("p",{className:"text-xs text-gray-500",children:["by ",e.invited_by_name]})]}),e.invitation_accepted_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invitation Accepted"}),t.jsx("p",{className:"text-white",children:d(e.invitation_accepted_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Email Verified"}),t.jsx("p",{className:"text-white flex items-center gap-1",children:e.email_verified?t.jsxs(t.Fragment,{children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),"Verified"]}):t.jsxs(t.Fragment,{children:[t.jsx(Gt,{className:"h-4 w-4 text-yellow-400"}),"Not Verified"]})})]})]})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Login Activity"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"First Login"}),t.jsx("p",{className:"text-white",children:d(e.first_login_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Login"}),t.jsx("p",{className:`font-medium ${h.className}`,children:h.text}),e.last_login_at&&t.jsx("p",{className:"text-xs text-gray-500",children:d(e.last_login_at)})]}),e.login_count!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Logins"}),t.jsx("p",{className:"text-white",children:e.login_count})]}),e.last_activity_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-white",children:f0(new Date(e.last_activity_at),{addSuffix:!0})})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[b&&a&&t.jsxs(K,{onClick:()=>a(e.id),variant:"outline",className:"border-yellow-700 text-yellow-400 hover:bg-yellow-900/20",children:[t.jsx(Vl,{className:"mr-2 h-4 w-4"}),"Resend Invitation"]}),w&&n&&t.jsxs(K,{onClick:()=>n(e.id),variant:"outline",className:"border-red-700 text-red-400 hover:bg-red-900/20",children:[t.jsx(Nu,{className:"mr-2 h-4 w-4"}),"Suspend User"]}),y&&i&&t.jsxs(K,{onClick:()=>i(e.id),variant:"outline",className:"border-emerald-700 text-emerald-400 hover:bg-emerald-900/20",children:[t.jsx(ql,{className:"mr-2 h-4 w-4"}),"Activate User"]}),t.jsx(K,{onClick:s,variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})]})]})]})})}const pO=[{id:1,name:"Details",icon:lr},{id:2,name:"Team",icon:bt},{id:3,name:"Settings",icon:os}],ENe=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],TNe=["Technology","Healthcare","Finance","Real Estate","Retail","Manufacturing","Education","Marketing & Advertising","Other"],ONe=[{value:"client_admin",label:"Admin",description:"Full access to organization"},{value:"client_user",label:"User",description:"Can manage campaigns"}];function MNe(){const{id:e}=uf(),r=Nr(),{getToken:s}=Ma(),{toast:a}=ds(),[n,i]=p.useState(2),[o,l]=p.useState(null),[d,m]=p.useState([]),[h,f]=p.useState([]),[g,v]=p.useState(!0),[b,w]=p.useState(!1),[y,N]=p.useState(null),[C,S]=p.useState(!1),[k,A]=p.useState(""),[E,T]=p.useState(""),[M,L]=p.useState(""),[V,R]=p.useState("client_user"),[I,B]=p.useState(!1),[H,F]=p.useState({}),[U,O]=p.useState(""),[$,W]=p.useState(""),[q,z]=p.useState("https://api.apexai.com/webhooks/vapi"),[Q,Ae]=p.useState(!1),[de,Z]=p.useState(!1),[be,ke]=p.useState(!1),[Ie,ce]=p.useState(null),[Ce,Te]=p.useState(!1);p.useEffect(()=>{te()},[e]),p.useEffect(()=>{o&&(console.log(" Updating VAPI fields from organization data:",{vapi_api_key:o.vapi_api_key,vapi_private_key:o.vapi_private_key,fullOrg:o}),O(o.vapi_private_key||""),W(o.vapi_api_key||""),Ae(!!o.vapi_api_key||!!o.vapi_private_key))},[o]);const te=async()=>{var me,Be;try{v(!0);const{supabaseService:kt}=await Un(async()=>{const{supabaseService:Ke}=await Promise.resolve().then(()=>ku);return{supabaseService:Ke}},void 0);console.log(" Fetching organization data for ID:",e);try{const Ke=await kt.getOrganization(e);if(!Ke)throw new Error("Organization not found");const Os={id:Ke.id,name:Ke.name,slug:Ke.slug,type:Ke.type,status:Ke.status,plan:Ke.plan,monthly_cost:Ke.monthly_cost,primary_color:Ke.primary_color,secondary_color:Ke.secondary_color,website:Ke.website,phone:Ke.phone,address:Ke.address,country:Ke.country,industry:Ke.industry,contact_name:Ke.contact_name,contact_email:Ke.billing_email||Ke.contact_email,contact_phone:Ke.contact_phone,vapi_api_key:Ke.vapi_api_key,vapi_private_key:Ke.vapi_private_key,created_at:Ke.created_at,updated_at:Ke.updated_at};l(Os),F(Os),console.log(" Loading VAPI settings from Supabase:",{vapi_api_key:Ke.vapi_api_key,vapi_private_key:Ke.vapi_private_key,fullOrgData:Ke}),O(Ke.vapi_private_key||""),W(Ke.vapi_api_key||""),Ae(!!(Ke.vapi_api_key||Ke.vapi_private_key)),z("https://api.apexai.com/webhooks/vapi");try{const hs=(await kt.getUsers(e)).map(pt=>({id:pt.id,email:pt.email,first_name:pt.first_name,last_name:pt.last_name,phone:pt.phone,role:pt.role,status:pt.status,email_verified:pt.email_verified,created_at:pt.created_at,invited_at:pt.invited_at,last_login_at:pt.last_login_at}));m(hs)}catch(ts){console.warn("Failed to fetch users:",ts),m([])}N(null),v(!1);return}catch(Ke){console.error(" Error fetching from Supabase:",Ke),N("Organization not found"),v(!1);return}const Ht=await s(),_t={"Content-Type":"application/json",...Ht&&{Authorization:`Bearer ${Ht}`}},vr=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}`,{headers:_t});if(!vr.ok)throw new Error("Failed to fetch organization");const Gr=await vr.json(),br=Gr.organization||Gr;if(l(br),F(br),br.vapi_settings||(me=br.settings)!=null&&me.vapi){const Ke=br.vapi_settings?typeof br.vapi_settings=="string"?JSON.parse(br.vapi_settings):br.vapi_settings:(Be=br.settings)==null?void 0:Be.vapi;O(Ke.privateKey||Ke.apiKey||""),W(Ke.publicKey||""),z(Ke.webhookUrl||"https://api.apexai.com/webhooks/vapi"),Ae(Ke.enabled!==void 0?Ke.enabled:!0)}const bs=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/users`,{headers:_t});if(bs.ok){const Ke=await bs.json();m(Ke.users||[])}const Er=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/invitations`,{headers:_t});if(Er.ok){const Ke=await Er.json();f(Ke.invitations||[])}}catch(kt){console.error("Error fetching organization data:",kt),a({title:"Error",description:"Failed to load organization data",variant:"destructive"})}finally{v(!1)}},we=async()=>{try{w(!0);const{supabaseService:me}=await Un(async()=>{const{supabaseService:Ht}=await Promise.resolve().then(()=>ku);return{supabaseService:Ht}},void 0),Be={name:H.name,billing_email:H.contact_email,phone:H.phone,address:H.address,website:H.website,industry:H.industry,updated_at:new Date().toISOString()};n===3&&(Be.vapi_private_key=U,Be.vapi_api_key=$,console.log(" Including VAPI settings in update")),console.log(" Attempting to save organization with data:",{id:e,updateData:Be,currentStep:n});const kt=await me.updateOrganization(e,Be);console.log(" Update result:",kt),a({title:"Success",description:"Organization details saved successfully"}),console.log(" Save completed successfully - skipping refresh to avoid errors")}catch(me){console.error(" Error saving changes:",me),console.error("Error details:",{message:me instanceof Error?me.message:"Unknown error",error:me}),a({title:"Error",description:me instanceof Error?me.message:"Failed to save changes",variant:"destructive"})}finally{w(!1)}},Oe=async()=>{try{B(!0);const me=await s(),Be=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/invite`,{method:"POST",headers:{"Content-Type":"application/json",...me&&{Authorization:`Bearer ${me}`}},body:JSON.stringify({email:k,firstName:E,lastName:M,role:V,inviterName:"Admin"})});if(!Be.ok){const kt=await Be.json();throw new Error(kt.error||"Failed to send invitation")}a({title:"Success",description:`Invitation sent to ${k}`}),A(""),T(""),L(""),R("client_user"),S(!1),await te()}catch(me){console.error("Error sending invitation:",me),a({title:"Error",description:me instanceof Error?me.message:"Failed to send invitation",variant:"destructive"})}finally{B(!1)}},Ue=async me=>{try{const Be=await s();if(!(await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/${me}/resend`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}})).ok)throw new Error("Failed to resend invitation");a({title:"Success",description:"Invitation resent successfully"}),await te()}catch(Be){console.error("Error resending invitation:",Be),a({title:"Error",description:"Failed to resend invitation",variant:"destructive"})}},ie=async me=>{if(confirm("Are you sure you want to cancel this invitation?"))try{const Be=await s();if(!(await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/${me}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}})).ok)throw new Error("Failed to cancel invitation");a({title:"Success",description:"Invitation cancelled"}),await te()}catch(Be){console.error("Error cancelling invitation:",Be),a({title:"Error",description:"Failed to cancel invitation",variant:"destructive"})}},Ge=me=>{const Be=`${window.location.origin}/accept-invitation?token=${me}`;navigator.clipboard.writeText(Be),a({title:"Copied!",description:"Invitation link copied to clipboard"})},Ct=me=>me.status==="active"&&me.last_login_at?{status:"active",label:"Active"}:me.status==="invited"&&!me.invitation_accepted_at?{status:"invited",label:"Invitation Pending"}:me.status==="active"&&!me.last_login_at?{status:"never_logged_in",label:"Never Logged In"}:me.status==="suspended"?{status:"suspended",label:"Suspended"}:me.status==="inactive"?{status:"inactive",label:"Inactive"}:{status:me.status,label:me.status},Ot=(me,Be)=>{const kt={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Ta},never_logged_in:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Rt},pending:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Rt},cancelled:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:St},accepted:{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:ps},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Nu},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Nu}},Ht=kt[me]||kt.pending,_t=Ht.icon;return t.jsxs(Ne,{variant:"outline",className:Ht.className,children:[t.jsx(_t,{className:"mr-1 h-3 w-3"}),Be||me.charAt(0).toUpperCase()+me.slice(1)]})},Nt=me=>{const Be=Ct(me),kt={...me,display_status:Be.label};ce(kt),Te(!0)};return g?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx(gi,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading organization..."})]})}):o?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:[t.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(lr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:o.name}),t.jsx("p",{className:"text-gray-400",children:"Manage organization settings and team members"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(K,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]}),t.jsx(K,{onClick:we,disabled:b,className:"bg-emerald-600 hover:bg-emerald-700",children:b?t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]})}),t.jsx(K,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:pO.map((me,Be)=>{const kt=me.icon,Ht=me.id===n,_t=me.id<n;return t.jsxs(le.Fragment,{children:[t.jsxs("button",{onClick:()=>i(me.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 transition-all ${Ht?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":_t?"bg-gray-800/50 text-gray-300 hover:bg-gray-800":"bg-gray-900/50 text-gray-500 hover:bg-gray-900"}`,children:[t.jsx("div",{className:`rounded-full p-2 ${Ht?"bg-emerald-500/20":_t?"bg-gray-700":"bg-gray-800"}`,children:t.jsx(kt,{className:"h-5 w-5"})}),t.jsx("span",{className:"font-medium",children:me.name})]}),Be<pO.length-1&&t.jsx(no,{className:"h-5 w-5 text-gray-600"})]},me.id)})})]}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8",children:[n===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Organization Details"}),t.jsx("p",{className:"text-gray-400",children:"Update your organization's basic information"})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"name",className:"text-gray-300",children:"Business Name *"}),t.jsx(Pe,{id:"name",value:H.name||"",onChange:me=>F({...H,name:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"e.g., Acme Marketing Agency"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"contact_email",className:"text-gray-300",children:"Business Email *"}),t.jsx(Pe,{id:"contact_email",type:"email",value:H.contact_email||"",onChange:me=>F({...H,contact_email:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"contact@acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"country",className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(at,{value:H.country||"",onValueChange:me=>F({...H,country:me}),children:[t.jsx(rt,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select your country"})}),t.jsx(st,{children:ENe.map(me=>t.jsx(se,{value:me.code,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{children:me.flag}),t.jsx("span",{children:me.name})]})},me.code))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),t.jsx(Pe,{id:"phone",type:"tel",value:H.phone||"",onChange:me=>F({...H,phone:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"website",className:"text-gray-300",children:"Website (Optional)"}),t.jsx(Pe,{id:"website",type:"url",value:H.website||"",onChange:me=>F({...H,website:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://www.acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"industry",className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(at,{value:H.industry||"",onValueChange:me=>F({...H,industry:me}),children:[t.jsx(rt,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select your industry"})}),t.jsx(st,{children:TNe.map(me=>t.jsx(se,{value:me,children:me},me))})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"address",className:"text-gray-300",children:"Business Address"}),t.jsx(Ha,{id:"address",value:H.address||"",onChange:me=>F({...H,address:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:`123 Main Street, Suite 100
City, State 12345`,rows:3})]}),t.jsxs(nr,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Vt,{className:"h-4 w-4 text-blue-400"}),t.jsx(ir,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]}),n===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Members"}),t.jsx("p",{className:"text-gray-400",children:"Manage who has access to your organization"})]}),t.jsxs(K,{onClick:()=>S(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Active Members"}),d.length>0?t.jsx("div",{className:"space-y-3",children:d.map(me=>{const Be=Ct(me);return t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4 cursor-pointer hover:bg-gray-800/70 transition-colors",onClick:()=>Nt(me),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(vs,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[me.first_name," ",me.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:me.email}),me.last_login_at&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(me.last_login_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ne,{variant:"outline",className:"border-gray-700 text-gray-400",children:me.role.replace("client_","")}),Ot(Be.status,Be.label)]})]},me.id)})}):t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-8 text-center",children:[t.jsx(bt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet. Start by inviting someone!"})]})]}),h.filter(me=>me.status==="pending").length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-3",children:h.filter(me=>me.status==="pending").map(me=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-500/10",children:t.jsx(Ta,{className:"h-5 w-5 text-yellow-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[me.first_name," ",me.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:me.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(me.expires_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>Ge(me.id),className:"text-gray-400 hover:text-white",children:t.jsx(dn,{className:"h-4 w-4"})}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>Ue(me.id),className:"text-gray-400 hover:text-white",children:t.jsx(Vl,{className:"h-4 w-4"})}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>ie(me.id),className:"text-red-400 hover:text-red-300",children:t.jsx(Ws,{className:"h-4 w-4"})})]})]},me.id))})]})]}),n===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"VAPI Integration"}),t.jsx("p",{className:"text-gray-400",children:"Configure your VAPI settings for AI calling capabilities"})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs(nr,{className:"border-emerald-700 bg-emerald-900/20",children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),t.jsxs(ir,{className:"text-emerald-200",children:["VAPI integration enables AI-powered outbound calling. Get your API keys from"," ",t.jsx("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"vapi.ai"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"vapiPrivateKey",className:"text-gray-300",children:"VAPI Private Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Pe,{id:"vapiPrivateKey",type:de?"text":"password",value:U,onChange:me=>O(me.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Private Key"}),t.jsx("button",{type:"button",onClick:()=>Z(!de),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:de?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"vapiPublicKey",className:"text-gray-300",children:"VAPI Public Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Pe,{id:"vapiPublicKey",type:be?"text":"password",value:$,onChange:me=>W(me.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Public Key"}),t.jsx("button",{type:"button",onClick:()=>ke(!be),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:be?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"vapiWebhookUrl",className:"text-gray-300",children:"Webhook URL"}),t.jsx(Pe,{id:"vapiWebhookUrl",value:q,onChange:me=>z(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://api.apexai.com/webhooks/vapi"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Enable VAPI Integration"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Allow AI-powered calling for your campaigns"})]}),t.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[t.jsx("input",{type:"checkbox",checked:Q,onChange:me=>Ae(me.target.checked),className:"peer sr-only"}),t.jsx("div",{className:"peer h-6 w-11 rounded-full bg-gray-700 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:bg-white after:transition-all after:content-[''] peer-checked:bg-emerald-500 peer-checked:after:translate-x-full peer-focus:outline-none"})]})]})]}),t.jsxs(nr,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(rd,{className:"h-4 w-4 text-gray-400"}),t.jsx(ir,{className:"text-gray-300",children:"Your API keys are encrypted and stored securely. Never share them publicly."})]})]})]})})]}),t.jsx(Cd,{open:C,onOpenChange:S,children:t.jsxs(dc,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Invite Team Member"}),t.jsx(kd,{className:"text-gray-400",children:"Send an invitation to add a new member to your organization"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteFirstName",className:"text-gray-300",children:"First Name"}),t.jsx(Pe,{id:"inviteFirstName",value:E,onChange:me=>T(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteLastName",className:"text-gray-300",children:"Last Name"}),t.jsx(Pe,{id:"inviteLastName",value:M,onChange:me=>L(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteEmail",className:"text-gray-300",children:"Email Address"}),t.jsx(Pe,{id:"inviteEmail",type:"email",value:k,onChange:me=>A(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"john.doe@example.com"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteRole",className:"text-gray-300",children:"Role"}),t.jsxs(at,{value:V,onValueChange:R,children:[t.jsx(rt,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsx(st,{children:ONe.map(me=>t.jsx(se,{value:me.value,children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:me.label}),t.jsx("p",{className:"text-sm text-gray-400",children:me.description})]})},me.value))})]})]})]}),t.jsxs(wm,{children:[t.jsx(K,{variant:"outline",onClick:()=>S(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(K,{onClick:Oe,disabled:!k||!E||!M||I,className:"bg-emerald-600 hover:bg-emerald-700",children:I?t.jsxs(t.Fragment,{children:[t.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vl,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})}),t.jsx(ANe,{user:Ie,isOpen:Ce,onClose:()=>{Te(!1),ce(null)},onResendInvitation:async me=>{try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${me}/resend-invitation`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify({inviterName:"Admin"})});if(!kt.ok){const _t=await kt.json();throw new Error(_t.error||"Failed to resend invitation")}const Ht=await kt.json();Ht.inviteLink&&Ht.warning?a({title:"Invitation Link Generated",description:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:Ht.message}),t.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-xs break-all",children:Ht.inviteLink}),t.jsx("p",{className:"text-xs text-gray-400",children:Ht.warning}),t.jsxs("div",{className:"mt-3 p-2 bg-blue-900/20 border border-blue-800 rounded text-xs",children:[t.jsx("p",{className:"font-semibold text-blue-400 mb-1",children:"To enable automatic email sending:"}),t.jsx("p",{className:"text-gray-300",children:"1. Get a free Resend API key at resend.com"}),t.jsx("p",{className:"text-gray-300",children:"2. Add to your /apps/backend/.env file:"}),t.jsx("p",{className:"text-gray-300 font-mono bg-gray-800 p-1 rounded mt-1",children:"RESEND_API_KEY=re_your_api_key"}),t.jsx("p",{className:"text-gray-300",children:"3. Restart the backend server"})]})]}),duration:15e3}):a({title:"Success",description:Ht.message}),await te()}catch(Be){console.error("Error resending invitation:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to resend invitation",variant:"destructive"})}},onSuspendUser:async me=>{if(confirm("Are you sure you want to suspend this user? They will lose access to the platform."))try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${me}/suspend`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify({reason:"Suspended by administrator"})});if(!kt.ok){const Ht=await kt.json();throw new Error(Ht.error||"Failed to suspend user")}a({title:"User Suspended",description:"The user has been suspended and can no longer access the platform."}),await te(),Te(!1)}catch(Be){console.error("Error suspending user:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to suspend user",variant:"destructive"})}},onActivateUser:async me=>{try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${me}/activate`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(!kt.ok){const _t=await kt.json();throw new Error(_t.error||"Failed to activate user")}const Ht=await kt.json();a({title:"User Activated",description:Ht.message}),await te(),Te(!1)}catch(Be){console.error("Error activating user:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to activate user",variant:"destructive"})}}})]}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx(J,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Organization not found"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"The organization you're looking for doesn't exist or you don't have access."}),t.jsx(K,{onClick:()=>r("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Back to Organizations"})]})})})})}const RNe=[{month:"Jan",revenue:45e3,mrr:38e3,growth:12},{month:"Feb",revenue:52e3,mrr:41e3,growth:15},{month:"Mar",revenue:48e3,mrr:43e3,growth:8},{month:"Apr",revenue:61e3,mrr:47e3,growth:18},{month:"May",revenue:58e3,mrr:51e3,growth:14},{month:"Jun",revenue:67e3,mrr:56e3,growth:22}],Sh=[{name:"TechCorp Solutions",revenue:12500,calls:8420,leads:342},{name:"Global Fitness Inc",revenue:9800,calls:6230,leads:287},{name:"Healthcare Partners",revenue:8200,calls:5140,leads:198},{name:"Real Estate Pro",revenue:7600,calls:4890,leads:176},{name:"E-commerce Plus",revenue:6400,calls:3920,leads:145}],yu={totalCalls:128450,totalLeads:3847,avgSuccessRate:74.3,activeClients:47,totalAgents:156,avgCallDuration:"3:24"},INe=[{name:"API Gateway",status:"operational",uptime:99.98,latency:42},{name:"Database",status:"operational",uptime:99.95,latency:18},{name:"AI Processing",status:"operational",uptime:99.92,latency:156},{name:"Voice Services",status:"degraded",uptime:98.76,latency:234},{name:"Analytics Engine",status:"operational",uptime:99.89,latency:67}],DNe=[{id:1,timestamp:"2024-01-07 14:23:45",service:"Voice API",error:"Connection timeout",severity:"warning"},{id:2,timestamp:"2024-01-07 13:45:12",service:"Database",error:"Slow query detected",severity:"info"},{id:3,timestamp:"2024-01-07 12:18:33",service:"AI Engine",error:"Rate limit exceeded",severity:"error"},{id:4,timestamp:"2024-01-07 11:02:45",service:"Analytics",error:"Data sync delayed",severity:"warning"}];function LNe(){const[e,r]=p.useState("last30days"),[s,a]=p.useState("all"),[n,i]=p.useState("all"),[o,l]=p.useState(!1),{toast:d}=ds(),m=Nr(),f="admin"==="admin";p.useEffect(()=>{},[f,m,d]);const g=w=>{l(!0),setTimeout(()=>{d({title:"Export Started",description:`Exporting platform analytics as ${w.toUpperCase()}...`}),l(!1)},1e3)},v=w=>{switch(w){case"operational":return"text-emerald-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400";default:return"text-gray-400"}},b=w=>{switch(w){case"error":return"bg-red-600/20 text-red-400 border-red-600/30";case"warning":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";case"info":return"bg-blue-600/20 text-blue-400 border-blue-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),t.jsxs(Ne,{className:"border-red-600/30 bg-red-600/20 text-red-400",children:[t.jsx(t0,{className:"mr-1 h-3 w-3"}),"Admin Only"]})]}),t.jsx("p",{className:"text-gray-400",children:"Comprehensive platform metrics and system health monitoring"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("csv"),disabled:o,children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),t.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("pdf"),disabled:o,children:[t.jsx(VG,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(Tx,{className:"mr-2 h-5 w-5 text-emerald-500"}),"Data Filters"]})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Date Range"}),t.jsxs(at,{value:e,onValueChange:r,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"last7days",children:"Last 7 Days"}),t.jsx(se,{value:"last30days",children:"Last 30 Days"}),t.jsx(se,{value:"last90days",children:"Last 90 Days"}),t.jsx(se,{value:"thisYear",children:"This Year"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Organization"}),t.jsxs(at,{value:s,onValueChange:a,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Clients"}),Sh.map(w=>t.jsx(se,{value:w.name,children:w.name},w.name))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Campaign Type"}),t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-950/50",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"outbound",children:"Outbound"}),t.jsx(se,{value:"inbound",children:"Inbound"}),t.jsx(se,{value:"hybrid",children:"Hybrid"})]})]})]})]})})]}),t.jsxs(ki,{defaultValue:"revenue",className:"space-y-6",children:[t.jsxs(Jn,{className:"grid w-full grid-cols-4 border border-gray-800 bg-gray-900/90",children:[t.jsxs(ht,{value:"revenue",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Revenue Overview"]}),t.jsxs(ht,{value:"usage",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Us,{className:"mr-2 h-4 w-4"}),"Usage Metrics"]}),t.jsxs(ht,{value:"clients",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(lr,{className:"mr-2 h-4 w-4"}),"Top Clients"]}),t.jsxs(ht,{value:"health",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(s0,{className:"mr-2 h-4 w-4"}),"System Health"]})]}),t.jsxs(ft,{value:"revenue",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$321,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(WM,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+18.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Fr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"MRR"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$56,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+12.3% growth"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(Gi,{className:"h-5 w-5 text-blue-400"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Revenue/Client"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$6,830"}),t.jsxs("div",{className:"mt-2 flex items-center text-orange-400",children:[t.jsx(bt,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"47 active clients"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(lr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Churn Rate"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"2.1%"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(a0,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"-0.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-500/20",children:t.jsx(a0,{className:"h-5 w-5 text-red-400"})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue & MRR Trends"}),t.jsx(qt,{className:"text-gray-400",children:"Monthly revenue and recurring revenue"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(Ry,{data:RNe,children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(yi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(md,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fill:"#10b981",fillOpacity:.3,name:"Total Revenue"}),t.jsx(md,{type:"monotone",dataKey:"mrr",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"MRR"})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue by Client"}),t.jsx(qt,{className:"text-gray-400",children:"Top 5 revenue generating clients"})]}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:Sh.map((w,y)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-600/20 font-semibold text-emerald-400",children:y+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:w.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[w.calls.toLocaleString()," calls"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",w.revenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[(w.revenue/321e3*100).toFixed(1),"% of total"]})]})]},w.name))})})]})]})]}),t.jsxs(ft,{value:"usage",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:yu.totalCalls.toLocaleString()})]}),t.jsx(xt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:yu.totalLeads.toLocaleString()})]}),t.jsx(or,{className:"h-8 w-8 text-blue-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsxs("p",{className:"mt-1 text-2xl font-bold text-white",children:[yu.avgSuccessRate,"%"]})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:yu.activeClients})]}),t.jsx(lr,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Agents"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:yu.totalAgents})]}),t.jsx(bt,{className:"h-8 w-8 text-orange-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:yu.avgCallDuration})]}),t.jsx(Rt,{className:"h-8 w-8 text-yellow-400"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Call Volume by Hour"}),t.jsx(qt,{className:"text-gray-400",children:"Platform-wide call distribution"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(XC,{data:[{hour:"8AM",calls:1200},{hour:"9AM",calls:2800},{hour:"10AM",calls:3400},{hour:"11AM",calls:3100},{hour:"12PM",calls:2200},{hour:"1PM",calls:2600},{hour:"2PM",calls:3200},{hour:"3PM",calls:3500},{hour:"4PM",calls:2900},{hour:"5PM",calls:1800}],children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"hour",stroke:"#9ca3af"}),t.jsx(yi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(lf,{dataKey:"calls",fill:"#10b981",radius:[8,8,0,0]})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Lead Conversion Funnel"}),t.jsx(qt,{className:"text-gray-400",children:"Platform-wide conversion metrics"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Calls Made"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"128,450"})]}),t.jsx(gr,{value:100,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Connected"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"95,414 (74.3%)"})]}),t.jsx(gr,{value:74.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Interested"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"28,624 (22.3%)"})]}),t.jsx(gr,{value:22.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Qualified Leads"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"3,847 (3.0%)"})]}),t.jsx(gr,{value:3,className:"h-3 bg-gray-800"})]})]})})]})]})]}),t.jsxs(ft,{value:"clients",className:"space-y-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:"Top Performing Clients"}),t.jsx(qt,{className:"text-gray-400",children:"Ranked by revenue contribution and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(K,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"View Charts"]}),t.jsxs(K,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),t.jsx(X,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Rank"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Client Organization"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Call Volume"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Conversion Rate"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"})]})}),t.jsx("tbody",{children:Sh.map((w,y)=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg font-semibold ${y===0?"bg-yellow-600/20 text-yellow-400":y===1?"bg-gray-600/20 text-gray-300":y===2?"bg-orange-600/20 text-orange-400":"bg-gray-800 text-gray-400"}`,children:y+1})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:w.name}),t.jsx("p",{className:"text-xs text-gray-400",children:"Active since Jan 2023"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",w.revenue.toLocaleString()]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"+12% MoM"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:w.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"calls/month"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:w.leads}),t.jsx("p",{className:"text-xs text-gray-400",children:"qualified leads"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gr,{value:w.leads/w.calls*100,className:"h-2 w-16"}),t.jsxs("span",{className:"text-sm text-white",children:[(w.leads/w.calls*100).toFixed(1),"%"]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(Ne,{className:"border-emerald-600/30 bg-emerald-600/20 text-emerald-400",children:"Active"})})]},w.name))})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue Distribution"}),t.jsx(qt,{className:"text-gray-400",children:"Client revenue share"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(QC,{children:[t.jsx(Ty,{data:Sh,cx:"50%",cy:"50%",outerRadius:100,dataKey:"revenue",label:({name:w,value:y})=>`${w}: $${y.toLocaleString()}`,children:Sh.map((w,y)=>t.jsx(Sd,{fill:y===0?"#10b981":y===1?"#3b82f6":y===2?"#8b5cf6":y===3?"#f59e0b":"#ef4444"},`cell-${y}`))}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Client Growth Trends"}),t.jsx(qt,{className:"text-gray-400",children:"Monthly client acquisition"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(_z,{data:[{month:"Jan",clients:32},{month:"Feb",clients:35},{month:"Mar",clients:38},{month:"Apr",clients:42},{month:"May",clients:45},{month:"Jun",clients:47}],children:[t.jsx(qi,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(xi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(yi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(tx,{type:"monotone",dataKey:"clients",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})})})]})]})]}),t.jsxs(ft,{value:"health",className:"space-y-6",children:[t.jsxs(nr,{className:"border-gray-800 bg-gray-900/90",children:[t.jsx(Gt,{className:"h-4 w-4 text-yellow-400"}),t.jsx(PU,{className:"text-white",children:"System Status"}),t.jsx(ir,{className:"text-gray-300",children:"Voice Services experiencing minor degradation. All other systems operational."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:INe.map(w=>t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:w.name}),t.jsx(Ne,{className:w.status==="operational"?"border-emerald-600/30 bg-emerald-600/20 text-emerald-400":w.status==="degraded"?"border-yellow-600/30 bg-yellow-600/20 text-yellow-400":"border-red-600/30 bg-red-600/20 text-red-400",children:w.status})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Uptime"}),t.jsxs("span",{className:`text-sm font-medium ${v(w.status)}`,children:[w.uptime,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Latency"}),t.jsxs("span",{className:"text-sm font-medium text-white",children:[w.latency,"ms"]})]}),t.jsx(gr,{value:w.uptime,className:"h-2 bg-gray-800"})]})]})},w.name))}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:"Recent Error Logs"}),t.jsx(qt,{className:"text-gray-400",children:"System errors and warnings"})]}),t.jsxs(K,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Ao,{className:"mr-2 h-4 w-4"}),"View Full Logs"]})]})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-3",children:DNe.map(w=>t.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-950/50 p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(Ne,{className:b(w.severity),children:w.severity}),t.jsx("span",{className:"text-sm text-gray-400",children:w.timestamp})]}),t.jsx("p",{className:"font-medium text-white",children:w.service}),t.jsx("p",{className:"mt-1 text-sm text-gray-300",children:w.error})]}),t.jsx(K,{size:"sm",variant:"ghost",className:"hover:bg-gray-800",children:t.jsx(Rr,{className:"h-4 w-4"})})]})},w.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"API Usage Stats"}),t.jsx(qt,{className:"text-gray-400",children:"Last 24 hours"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ns,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Total API Calls"})]}),t.jsx("span",{className:"font-semibold text-white",children:"2.4M"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Success Rate"})]}),t.jsx("span",{className:"font-semibold text-white",children:"99.7%"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Rt,{className:"h-5 w-5 text-yellow-400"}),t.jsx("span",{className:"text-white",children:"Avg Response Time"})]}),t.jsx("span",{className:"font-semibold text-white",children:"142ms"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ki,{className:"h-5 w-5 text-red-400"}),t.jsx("span",{className:"text-white",children:"Failed Requests"})]}),t.jsx("span",{className:"font-semibold text-white",children:"7,234"})]})]})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Database Performance"}),t.jsx(qt,{className:"text-gray-400",children:"Current metrics"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"CPU Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"42%"})]}),t.jsx(gr,{value:42,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Memory Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"68%"})]}),t.jsx(gr,{value:68,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Storage Used"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"234 GB / 500 GB"})]}),t.jsx(gr,{value:46.8,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Active Connections"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"127 / 200"})]}),t.jsx(gr,{value:63.5,className:"h-2 bg-gray-800"})]})]})})]})]})]})]})]})})}function $Ne(){const e=Nr(),{getToken:r}=Ma(),{toast:s}=ds(),[a,n]=p.useState(!0),[i,o]=p.useState([]),[l,d]=p.useState({}),[m,h]=p.useState(!1),[f,g]=p.useState(""),[v,b]=p.useState(["read"]),[w,y]=p.useState("never"),[N,C]=p.useState(""),[S,k]=p.useState(!1);p.useEffect(()=>{A()},[]);const A=async()=>{try{const R=await r(),I=await fetch("/api/user/api-keys",{headers:{Authorization:`Bearer ${R}`}});if(I.ok){const B=await I.json();o(B)}}catch{s({title:"Error",description:"Failed to fetch API keys",variant:"destructive"})}finally{n(!1)}},E=async()=>{if(!f.trim()){s({title:"Error",description:"Please enter a name for the API key",variant:"destructive"});return}h(!0);try{const R=await r(),I=await fetch("/api/user/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({name:f,permissions:v,expiry:w})});if(I.ok){const B=await I.json();C(B.key),k(!0),g(""),b(["read"]),y("never"),A(),s({title:"API Key Created",description:"Your new API key has been generated successfully."})}}catch{s({title:"Error",description:"Failed to create API key",variant:"destructive"})}finally{h(!1)}},T=async R=>{try{const I=await r();(await fetch(`/api/user/api-keys/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`}})).ok&&(A(),s({title:"API Key Revoked",description:"The API key has been revoked successfully."}))}catch{s({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}},M=R=>{navigator.clipboard.writeText(R),s({title:"Copied",description:"API key copied to clipboard"})},L=R=>{switch(R){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},V=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-400 hover:text-white",children:t.jsx(td,{className:"h-5 w-5"})}),t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your API keys and access tokens"})})]}),t.jsxs(Cd,{children:[t.jsx(Kje,{asChild:!0,children:t.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create New Key"]})}),t.jsxs(dc,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Create New API Key"}),t.jsx(kd,{children:"Generate a new API key for accessing the Apex AI platform"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"name",children:"Key Name"}),t.jsx(Pe,{id:"name",value:f,onChange:R=>g(R.target.value),placeholder:"e.g., Production App",className:"border-gray-600 bg-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Permissions"}),t.jsx("div",{className:"space-y-2",children:["read","write","delete"].map(R=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:v.includes(R),onChange:I=>{I.target.checked?b([...v,R]):b(v.filter(B=>B!==R))},className:"rounded border-gray-600 bg-gray-700 text-emerald-600"}),t.jsx("span",{className:"capitalize text-white",children:R})]},R))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expiry",children:"Expiration"}),t.jsxs(at,{value:w,onValueChange:y,children:[t.jsx(rt,{className:"border-gray-600 bg-gray-700",children:t.jsx(nt,{})}),t.jsxs(st,{children:[t.jsx(se,{value:"never",children:"Never"}),t.jsx(se,{value:"30",children:"30 days"}),t.jsx(se,{value:"60",children:"60 days"}),t.jsx(se,{value:"90",children:"90 days"}),t.jsx(se,{value:"365",children:"1 year"})]})]})]})]}),t.jsx(wm,{children:t.jsx(K,{onClick:E,disabled:m,className:"bg-emerald-600 hover:bg-emerald-700",children:m?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating..."]}):"Create API Key"})})]})]})]}),S&&t.jsxs(nr,{className:"mb-6 border-emerald-700 bg-emerald-900/20",children:[t.jsx(rd,{className:"h-4 w-4"}),t.jsx(ir,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-semibold text-white",children:"Your new API key has been created!"}),t.jsx("p",{className:"text-sm text-gray-300",children:"Make sure to copy it now. You won't be able to see it again."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-gray-800 p-2 font-mono text-sm text-white",children:N}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>M(N),className:"border-gray-600",children:t.jsx(dn,{className:"h-4 w-4"})})]}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>k(!1),className:"mt-2",children:"Close"})]})})]}),t.jsxs(ki,{defaultValue:"active",className:"space-y-6",children:[t.jsxs(Jn,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ht,{value:"active",children:"Active Keys"}),t.jsx(ht,{value:"all",children:"All Keys"}),t.jsx(ht,{value:"usage",children:"Usage Analytics"})]}),t.jsx(ft,{value:"active",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.filter(R=>R.status==="active").map(R=>t.jsx(J,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:R.name}),t.jsx(Ne,{className:L(R.status),children:R.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_s,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",V(R.createdAt)]})]}),R.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Rt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",V(R.lastUsed)]})]}),R.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Gt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Expires ",V(R.expiresAt)]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[R.prefix,"...",l[R.id]?R.key.slice(-8):""]}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>d({...l,[R.id]:!l[R.id]}),className:"text-gray-400 hover:text-white",children:l[R.id]?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Rr,{className:"h-4 w-4"})}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>M(R.key),className:"text-gray-400 hover:text-white",children:t.jsx(dn,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Permissions:"}),R.permissions.map(I=>t.jsx(Ne,{variant:"secondary",className:"bg-gray-700",children:I},I))]})]}),t.jsxs(ji,{children:[t.jsx(Ni,{asChild:!0,children:t.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsxs(qn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[t.jsx(rY,{className:"mr-2 h-4 w-4"}),"Edit Permissions"]}),t.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),"Regenerate Key"]}),t.jsxs(Yt,{className:"text-red-400 hover:text-red-300",onClick:()=>T(R.id),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Revoke Key"]})]})]})]})})},R.id))}),t.jsx(ft,{value:"all",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.map(R=>t.jsx(J,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:R.name}),t.jsx(Ne,{className:L(R.status),children:R.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_s,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",V(R.createdAt)]})]}),R.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Rt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",V(R.lastUsed)]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[R.prefix,"..."]})})]}),R.status==="active"&&t.jsx(K,{variant:"outline",size:"sm",onClick:()=>T(R.id),className:"border-red-600 text-red-400 hover:bg-red-600/20",children:"Revoke"})]})})},R.id))}),t.jsx(ft,{value:"usage",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"API Usage Overview"}),t.jsx(qt,{children:"Monitor your API key usage and performance"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"24,567"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Total API Calls"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:"98.5%"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Success Rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"145ms"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Avg Response Time"})]})]}),t.jsx(Wl,{className:"my-6 bg-gray-700"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-white",children:"Usage by Key"}),i.filter(R=>R.status==="active").map(R=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-white",children:R.name})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[R.usage.calls," calls"]}),t.jsx(Us,{className:"h-4 w-4 text-emerald-400"})]})]},R.id))]}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(K,{variant:"outline",className:"border-gray-600",children:[t.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Export Usage Report"]})})]})]})})]}),t.jsxs(J,{className:"mt-6 border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(xs,{className:"h-5 w-5 text-emerald-400"}),"API Key Best Practices"]})}),t.jsx(X,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Never share your API keys publicly or commit them to version control"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use environment variables to store API keys in your applications"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Rotate your API keys regularly and revoke unused keys"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use different keys for different environments (development, staging, production)"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Monitor API key usage and set up alerts for unusual activity"})]})]})})]})]})})}const zNe=()=>{const{isLoaded:e,isSignedIn:r,user:s}=Ma();return t.jsxs("div",{className:"p-8 bg-gray-900 text-white min-h-screen",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:["Dev Mode: ","Disabled"]}),t.jsxs("p",{children:["Auth Loaded: ",e?"Yes":"No"]}),t.jsxs("p",{children:["Signed In: ",r?"Yes":"No"]}),t.jsxs("p",{children:["User: ",s?JSON.stringify(s,null,2):"None"]}),t.jsxs("p",{children:["Backend URL: ","Not set"]})]})]})},FNe={error:(e,r)=>{},warn:(e,r)=>{},info:(e,r)=>{}},UNe=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},BNe=e=>new Promise(r=>setTimeout(r,e));async function gO(e,r){var o,l,d,m,h,f,g;const{maxRetries:s=3,showErrorToast:a=!0,retryDelay:n=1e3}={};let i=null;for(let v=0;v<=s;v++)try{return{ok:!0,data:(await es(e)).data}}catch(b){const w=b;if(i=w,FNe.error(`API request failed (attempt ${v+1}/${s+1})`,{url:e.url,method:e.method,status:(o=w.response)==null?void 0:o.status,error:w.message}),v<s&&UNe(w)){const N=n*Math.pow(2,v);await BNe(N);continue}const y={message:((d=(l=w.response)==null?void 0:l.data)==null?void 0:d.message)||w.message||"An unexpected error occurred",status:(m=w.response)==null?void 0:m.status,code:w.code,details:(h=w.response)==null?void 0:h.data};return a&&xD({title:"Error",description:y.message,variant:"destructive"}),{ok:!1,error:y}}return{ok:!1,error:{message:(i==null?void 0:i.message)||"Maximum retries exceeded",status:(f=i==null?void 0:i.response)==null?void 0:f.status,code:i==null?void 0:i.code,details:(g=i==null?void 0:i.response)==null?void 0:g.data}}}class WNe{constructor(){li(this,"baseUrl","/api/leads")}async getLeads(r,s={},a=1,n=50){var i;try{const o=new URLSearchParams({page:a.toString(),limit:n.toString()});r&&o.append("clientId",r),(i=s.status)!=null&&i.length&&o.append("status",s.status.join(",")),s.search&&o.append("search",s.search);const l=await fetch(`${this.baseUrl}?${o}`);if(!l.ok)throw new Error(`Failed to fetch leads: ${l.statusText}`);return await l.json()}catch(o){throw console.error("Error fetching leads:",o),o}}async getLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead:",a),a}}async createLead(r,s){try{const a={...r,clientId:s},n=await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error creating lead:",a),a}}async updateLead(r,s,a){try{const n={...s,clientId:a},i=await fetch(`${this.baseUrl}/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to update lead: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error updating lead:",n),n}}async deleteLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete lead: ${n.statusText}`)}catch(a){throw console.error("Error deleting lead:",a),a}}async bulkUpdateLeads(r,s,a){try{const n={leadIds:r,updates:s,clientId:a},i=await fetch(`${this.baseUrl}/bulk-update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to bulk update leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error bulk updating leads:",n),n}}async getLeadStats(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/stats?${s}`);if(!a.ok)throw new Error(`Failed to fetch lead stats: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching lead stats:",s),s}}async getCampaignPerformance(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns/performance?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaign performance: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaign performance:",s),s}}async importLeads(r,s,a,n={}){try{const i=new FormData;i.append("file",r),s&&i.append("campaignId",s),a&&i.append("clientId",a),n.skipDuplicates&&i.append("skipDuplicates","true"),n.updateExisting&&i.append("updateExisting","true"),n.campaignType&&i.append("campaignType",n.campaignType);const o=await fetch(`${this.baseUrl}/import`,{method:"POST",body:i});if(!o.ok)throw new Error(`Failed to import leads: ${o.statusText}`);return await o.json()}catch(i){throw console.error("Error importing leads:",i),i}}async exportLeads(r,s={}){try{const a=new URLSearchParams;r&&a.append("clientId",r),Object.entries(s).forEach(([i,o])=>{o!=null&&(Array.isArray(o)?a.append(i,o.join(",")):typeof o=="object"&&"start"in o?(a.append("startDate",o.start),a.append("endDate",o.end)):a.append(i,o.toString()))});const n=await fetch(`${this.baseUrl}/export?${a}`);if(!n.ok)throw new Error(`Failed to export leads: ${n.statusText}`);return await n.blob()}catch(a){throw console.error("Error exporting leads:",a),a}}async downloadTemplate(){try{const r=await fetch(`${this.baseUrl}/template`);if(!r.ok)throw new Error(`Failed to download template: ${r.statusText}`);return await r.blob()}catch(r){throw console.error("Error downloading template:",r),r}}async getCallHistory(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/calls?${a}`);if(!n.ok)throw new Error(`Failed to fetch call history: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching call history:",a),a}}async addCallRecord(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/calls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add call record: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding call record:",a),a}}async getActivities(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/activities?${a}`);if(!n.ok)throw new Error(`Failed to fetch activities: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching activities:",a),a}}async addActivity(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add activity: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding activity:",a),a}}async calculateLeadScore(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/score?${a}`,{method:"POST"});if(!n.ok)throw new Error(`Failed to calculate lead score: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error calculating lead score:",a),a}}async getLeadInsights(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/insights?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead insights: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead insights:",a),a}}async searchLeads(r,s,a=20){try{const n=new URLSearchParams({search:r,limit:a.toString()});s&&n.append("clientId",s);const i=await fetch(`${this.baseUrl}/search?${n}`);if(!i.ok)throw new Error(`Failed to search leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error searching leads:",n),n}}async getCampaigns(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaigns: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaigns:",s),s}}async getSources(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/sources?${s}`);if(!a.ok)throw new Error(`Failed to fetch sources: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching sources:",s),s}}}const lS=new WNe;class VNe{async getCallDetails(r){const a=await gO({method:"GET",url:`https://apex-backend-august-production.up.railway.app/api/api/vapi-outbound/calls/${r}`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch call details");if(!a.data.call)throw new Error("Call not found");return a.data.call}async getCampaignCalls(r){const a=await gO({method:"GET",url:`https://apex-backend-august-production.up.railway.app/api/api/vapi-outbound/campaigns/${r}/calls`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch campaign calls");return a.data}getStatusInfo(r){return{initiated:{label:"Initiated",color:"blue",icon:""},ringing:{label:"Ringing",color:"yellow",icon:""},answered:{label:"Answered",color:"green",icon:""},completed:{label:"Completed",color:"emerald",icon:""},failed:{label:"Failed",color:"red",icon:""},busy:{label:"Busy",color:"orange",icon:""},no_answer:{label:"No Answer",color:"gray",icon:""}}[r]||{label:r,color:"gray",icon:""}}formatDuration(r){if(!r||r===0)return"0s";if(r<60)return`${Math.round(r)}s`;if(r<3600){const s=Math.floor(r/60),a=Math.round(r%60);return`${s}m ${a}s`}else{const s=Math.floor(r/3600),a=Math.floor(r%3600/60);return`${s}h ${a}m`}}formatCost(r){return!r||r===0?"$0.00":`$${r.toFixed(3)}`}isPositiveOutcome(r,s){const a=["interested","scheduled","follow-up","demo","meeting","callback","positive","qualified","hot","warm","opportunity","conversion","wants","needs","looking for","considering","evaluating"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))}extractSentiment(r,s){if(this.isPositiveOutcome(r,s))return"positive";const a=["not interested","declined","refused","busy","no thank you","unqualified"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))?"negative":"neutral"}async createLeadFromCall(r){try{if(!this.isPositiveOutcome(r.summary||"",r.transcript))return console.log("Call outcome not positive, skipping lead creation"),null;const[s,a]=this.extractNameFromCall(r),n={firstName:s||"Unknown",lastName:a||"Contact",email:r.customerEmail||"",phone:r.customerPhone,company:r.customerCompany||"",title:"",status:"new",priority:this.determinePriority(r),source:"vapi_outbound_call",campaign:r.campaignName,notes:this.generateLeadNotes(r),tags:["ai-generated","positive-call"],score:this.calculateLeadScore(r),lastContactDate:r.startedAt,nextFollowUp:this.suggestNextFollowUp(r),customFields:{originalCallId:r.id,vapiCallId:r.vapiCallId,callOutcome:r.summary,callDuration:r.duration,callCost:r.cost,sentiment:this.extractSentiment(r.summary||"",r.transcript)}};console.log("Creating lead from positive call:",n);const i=await lS.createLead(n);return await lS.addCallRecord({leadId:i.id,date:r.startedAt,duration:this.formatDuration(r.duration),outcome:r.summary||"Positive outcome",transcript:r.transcript||"",sentiment:this.extractSentiment(r.summary||"",r.transcript),recordingUrl:r.recording,nextAction:this.suggestNextAction(r)}),i}catch(s){return console.error("Error creating lead from call:",s),null}}extractNameFromCall(r){if(r.customerName){const s=r.customerName.split(" ");return[s[0]||"",s.slice(1).join(" ")||""]}return["",""]}determinePriority(r){const s=(r.summary||"").toLowerCase();return s.includes("hot")||s.includes("urgent")||s.includes("asap")?"high":s.includes("warm")||s.includes("scheduled")||s.includes("demo")?"medium":"low"}generateLeadNotes(r){let s=`Lead generated from AI call on ${new Date(r.startedAt).toLocaleDateString()}.

`;return r.summary&&(s+=`Call Summary: ${r.summary}

`),s+=`Call Duration: ${this.formatDuration(r.duration)}
`,s+=`Call Cost: ${this.formatCost(r.cost)}
`,r.customerCompany&&(s+=`Company: ${r.customerCompany}
`),r.transcript&&(s+=`
Call Transcript:
${r.transcript.substring(0,500)}${r.transcript.length>500?"...":""}`),s}calculateLeadScore(r){let s=50;const a=(r.summary||"").toLowerCase();return a.includes("very interested")?s+=30:a.includes("interested")&&(s+=20),(a.includes("scheduled")||a.includes("demo"))&&(s+=25),a.includes("follow-up")&&(s+=15),a.includes("qualified")&&(s+=20),r.duration&&r.duration>120&&(s+=10),r.duration&&r.duration>300&&(s+=15),r.customerCompany&&(s+=10),Math.min(100,Math.max(0,s))}suggestNextFollowUp(r){const s=(r.summary||"").toLowerCase();let a=7;s.includes("urgent")||s.includes("asap")?a=1:s.includes("hot")||s.includes("very interested")?a=2:s.includes("scheduled")||s.includes("demo")?a=0:(s.includes("warm")||s.includes("considering"))&&(a=5);const n=new Date;return n.setDate(n.getDate()+a),n.toISOString()}suggestNextAction(r){const s=(r.summary||"").toLowerCase();return s.includes("demo")||s.includes("presentation")?"Prepare and conduct product demo":s.includes("proposal")||s.includes("quote")?"Send detailed proposal and pricing":s.includes("email")||s.includes("information")?"Send follow-up email with additional information":s.includes("meeting")||s.includes("call back")?"Schedule follow-up meeting":s.includes("decision maker")||s.includes("manager")?"Contact decision maker or manager":"Follow up with personalized outreach based on call discussion"}}const No=new VNe;function qNe(){const{callId:e}=uf(),r=Nr(),{toast:s}=ds(),[a,n]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(!1),[m,h]=p.useState(null),[f,g]=p.useState(!1),[v,b]=p.useState(0),[w,y]=p.useState(1),N=p.useRef(null);p.useEffect(()=>{e&&A()},[e]),p.useEffect(()=>{if(N.current){const I=()=>{N.current&&b(Math.floor(N.current.currentTime))};return N.current.addEventListener("timeupdate",I),()=>{N.current&&N.current.removeEventListener("timeupdate",I)}}},[]);const C=I=>{const B=Math.floor(I/60),H=I%60;return`${String(B).padStart(2,"0")}:${String(H).padStart(2,"0")}`},S=async()=>{if(N.current)try{l?(N.current.pause(),d(!1)):(await N.current.play(),d(!0))}catch(I){console.error("Playback error:",I),a!=null&&a.recording&&a.recording.includes("vapi.ai")&&window.open(a.recording,"_blank")}},k=I=>{y(I),N.current&&(N.current.playbackRate=I)},A=async()=>{try{o(!0);const I=await No.getCallDetails(e);if(!I){s({title:"Error",description:"Call details not found",variant:"destructive"}),r(-1);return}n(I);const B=I;No.isPositiveOutcome(B.summary||"",B.transcript)&&await E(B)}catch(I){console.error("Failed to load call details:",I),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}finally{o(!1)}},E=async I=>{try{g(!0),console.log(" Checking/creating lead for call:",{callId:I.id,customerPhone:I.customerPhone,customerName:I.customerName,summary:I.summary});const B=await lS.searchLeads(I.customerPhone);console.log(" Found existing leads:",B.length);const H=B.find(U=>{var O,$;return((O=U.customFields)==null?void 0:O.originalCallId)===I.id||(($=U.customFields)==null?void 0:$.vapiCallId)===I.vapiCallId});if(H){h(H),console.log(" Lead already exists for this call:",H);return}console.log(" Creating new lead from call...");const F=await No.createLeadFromCall(I);F?(h(F),console.log(" Lead created successfully:",F),s({title:"Lead Created",description:`New lead "${F.firstName} ${F.lastName}" added to CRM`})):console.log(" Lead creation returned null")}catch(B){console.error(" Error checking/creating lead:",B)}finally{g(!1)}},T=async()=>{if(a!=null&&a.vapiCallId)try{o(!0);const I=await Qt.post(`/sync-vapi-call/${a.vapiCallId}`);I.data.success&&(s({title:"Call Synced",description:"Call data has been updated from VAPI"}),await A(),I.data.aiProcessing&&s({title:"AI Processing Started",description:"Call is being analyzed by AI"}))}catch(I){console.error("Error syncing call:",I),s({title:"Sync Failed",description:"Failed to sync call data from VAPI",variant:"destructive"})}finally{o(!1)}},M=async()=>{if(a)try{g(!0);const I=await No.createLeadFromCall(a);I&&(h(I),s({title:"Lead Created",description:`Lead "${I.firstName} ${I.lastName}" added to CRM`}))}catch(I){console.error("Error creating lead manually:",I),s({title:"Error",description:"Failed to create lead in CRM",variant:"destructive"})}finally{g(!1)}},L=async(I,B)=>{try{await navigator.clipboard.writeText(I),s({title:"Copied",description:`${B} copied to clipboard`})}catch{s({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}},V=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading call details..."})]})});if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"mb-4 text-gray-400",children:"Call not found"}),t.jsxs(K,{onClick:()=>r(-1),variant:"outline",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})});const R=No.getStatusInfo(a.status);return t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(K,{onClick:()=>r(-1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Call Details"}),t.jsx("p",{className:"text-gray-400",children:"View call transcript, recording, and results"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Ne,{className:`px-3 py-1 ${R.color==="green"||R.color==="emerald"?"bg-emerald-500/20 text-emerald-400":R.color==="red"?"bg-red-500/20 text-red-400":R.color==="yellow"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:[R.icon," ",R.label]}),(a.status==="in_progress"||a.status==="ringing"||!a.transcript)&&t.jsxs(K,{onClick:T,size:"sm",variant:"outline",disabled:i||!a.vapiCallId,className:"border-gray-600",children:[t.jsx(as,{className:`mr-2 h-4 w-4 ${i?"animate-spin":""}`}),"Sync from VAPI"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(vs,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Customer Information"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Name:"}),t.jsx("span",{className:"font-medium text-white",children:a.customerName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Phone:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-white",children:a.customerPhone}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>L(a.customerPhone,"Phone number"),children:t.jsx(dn,{className:"h-3 w-3"})})]})]}),a.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Email:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-white",children:a.customerEmail}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>L(a.customerEmail,"Email"),children:t.jsx(dn,{className:"h-3 w-3"})})]})]}),a.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Company:"}),t.jsx("span",{className:"text-white",children:a.customerCompany})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(xt,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Information"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"font-medium text-white",children:a.campaignName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:V(a.startedAt)})]}),a.endedAt&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:V(a.endedAt)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Duration:"}),t.jsx("span",{className:"font-mono text-white",children:No.formatDuration(a.duration)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Direction:"}),t.jsx("span",{className:"capitalize text-white",children:a.direction})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(Fr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Metrics"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost:"}),t.jsx("span",{className:"font-bold text-emerald-400",children:No.formatCost(a.cost)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI Call ID:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-xs text-white",children:a.vapiCallId?`${a.vapiCallId.substring(0,8)}...`:"N/A"}),t.jsx(K,{size:"sm",variant:"ghost",onClick:()=>a.vapiCallId&&L(a.vapiCallId,"VAPI Call ID"),disabled:!a.vapiCallId,children:t.jsx(dn,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Transcript:"}),t.jsx("span",{className:a.transcript?"text-emerald-400":"text-gray-500",children:a.transcript?"Yes":"No"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Recording:"}),t.jsx("span",{className:a.recording?"text-emerald-400":"text-gray-500",children:a.recording?"Yes":"No"})]})]})]})]}),a&&t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(lr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"CRM Integration"]})}),t.jsxs(X,{className:"space-y-4",children:[No.isPositiveOutcome(a.summary||"",a.transcript)&&t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tm,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"Positive Outcome Detected"})]}),t.jsx(Ne,{className:"bg-emerald-500/20 text-emerald-400",children:"Lead Eligible"})]}),m?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-blue-500/30 bg-blue-500/10 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-400",children:"Lead Created in CRM"}),t.jsxs("p",{className:"text-sm text-gray-300",children:[m.firstName," ",m.lastName," - ",m.company]})]}),t.jsx(K,{size:"sm",variant:"outline",onClick:()=>window.open(`/crm/leads/${m.id}`,"_blank"),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:"View in CRM"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Status:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.status})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Priority:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.priority})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Score:"}),t.jsx("p",{className:"font-medium text-white",children:m.score||"N/A"})]})]})]}):No.isPositiveOutcome(a.summary||"",a.transcript)?t.jsxs("div",{className:"py-4 text-center",children:[t.jsx(K,{onClick:M,disabled:f,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating Lead..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Lead in CRM"]})}),t.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Automatically creates a new lead with call details"})]}):t.jsxs("div",{className:"py-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[t.jsx(St,{className:"h-4 w-4"}),t.jsx("span",{children:"No positive outcome detected"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lead creation is triggered for positive call outcomes"})]})]})]}),t.jsxs(ki,{defaultValue:"transcript",className:"w-full",children:[t.jsxs(Jn,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[t.jsxs(ht,{value:"transcript",className:"flex items-center space-x-2",children:[t.jsx(Ao,{className:"h-4 w-4"}),t.jsx("span",{children:"Transcript"})]}),t.jsxs(ht,{value:"recording",className:"flex items-center space-x-2",children:[t.jsx(Wh,{className:"h-4 w-4"}),t.jsx("span",{children:"Recording"})]}),t.jsxs(ht,{value:"summary",className:"flex items-center space-x-2",children:[t.jsx(Ao,{className:"h-4 w-4"}),t.jsx("span",{children:"Summary"})]})]}),t.jsx(ft,{value:"transcript",className:"mt-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Call Transcript"})}),t.jsx(X,{children:a.transcript?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative rounded-lg border border-gray-700 bg-gray-900/50",children:[t.jsxs("div",{className:"max-h-[500px] overflow-y-auto p-6",children:[t.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-300",children:a.transcript}),t.jsx("div",{className:"pb-4"})," "]}),t.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-900/80 to-transparent"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-400",children:[a.transcript.split(`
`).length," lines  ",a.transcript.split(" ").length," words"]}),t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>L(a.transcript,"Transcript"),children:[t.jsx(dn,{className:"mr-2 h-4 w-4"}),"Copy Transcript"]})]})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Ao,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Transcripts are generated automatically for completed calls"})]})})]})}),t.jsx(ft,{value:"recording",className:"mt-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Call Recording"})}),t.jsx(X,{children:a.recording?t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:C(a.duration||0)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-3",children:t.jsxs("select",{value:w,onChange:I=>k(Number(I.target.value)),className:"rounded-lg border border-gray-600/50 bg-gray-800/50 px-2 py-1 text-xs text-white transition-all focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/50",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:S,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:l?t.jsx(Lu,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Bn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4",children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5",children:Array.from({length:100}).map((I,B)=>{const H=20+Math.random()*80,F=B/100*(a.duration||0)<=v;return t.jsx("div",{className:"flex-1 rounded-t bg-gray-600 transition-all duration-150",style:{height:`${H}%`,backgroundColor:F?"#10b981":"#4b5563",opacity:F?1:.5}},B)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50",style:{left:`${v/(a.duration||1)*100}%`}})]}),t.jsxs("button",{onClick:()=>{if(a.recording)if(a.recording.includes("vapi.ai"))window.open(a.recording,"_blank");else{const I=document.createElement("a");I.href=a.recording,I.download=`call-recording-${a.id}.wav`,document.body.appendChild(I),I.click(),document.body.removeChild(I)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Vn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:C(v)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",C((a.duration||0)-v)]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-100",style:{width:`${v/(a.duration||1)*100}%`}})}),t.jsx("div",{className:"absolute top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg transition-all duration-100",style:{left:`${v/(a.duration||1)*100}%`,boxShadow:"0 0 0 3px rgba(34, 197, 94, 0.2)"}})]})]})]})]}),t.jsx("audio",{ref:N,src:a.recording,onEnded:()=>d(!1),className:"hidden"})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Wh,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No recording available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Recordings are generated automatically for answered calls"})]})})]})}),t.jsx(ft,{value:"summary",className:"mt-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Call Summary"})}),t.jsx(X,{children:a.summary?t.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsx("div",{className:"leading-relaxed text-gray-300",children:a.summary}),t.jsx("div",{className:"mt-4 flex space-x-2",children:t.jsxs(K,{size:"sm",variant:"outline",onClick:()=>L(a.summary,"Summary"),children:[t.jsx(dn,{className:"mr-2 h-4 w-4"}),"Copy Summary"]})})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Ao,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No summary available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"AI summaries are generated for completed calls with transcripts"})]})})]})})]})]})})}const HNe=()=>{const{campaignId:e}=uf(),r=Nr(),{toast:s}=ds(),[a,n]=p.useState([]),[i,o]=p.useState(null),[l,d]=p.useState({page:1,limit:20,total:0,totalPages:0}),[m,h]=p.useState(!0),[f,g]=p.useState(""),[v,b]=p.useState("all"),[w,y]=p.useState("started_at"),[N,C]=p.useState("desc"),[S,k]=p.useState(null),[A,E]=p.useState(!1);p.useEffect(()=>{e&&T()},[e,l.page,f,v,w,N]);const T=async()=>{try{h(!0);const B=new URLSearchParams({page:l.page.toString(),limit:l.limit.toString(),sortBy:w,sortOrder:N,...v!=="all"&&{status:v},...f&&{search:f}}),H=await fetch(`/api/vapi-outbound/campaigns/${e}/calls?${B}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!H.ok)throw new Error("Failed to fetch campaign calls");const F=await H.json();n(F.calls),o(F.campaign),d(F.pagination)}catch(B){console.error("Error loading campaign calls:",B),s({title:"Error",description:"Failed to load campaign calls",variant:"destructive"})}finally{h(!1)}},M=B=>{switch(B){case"completed":return t.jsx(yt,{className:"h-4 w-4 text-green-500"});case"failed":return t.jsx(Ki,{className:"h-4 w-4 text-red-500"});case"in-progress":return null;default:return t.jsx(Gt,{className:"h-4 w-4 text-gray-500"})}},L=B=>{switch(B){case"positive":return t.jsx(Bs,{className:"h-4 w-4 text-green-500"});case"negative":return t.jsx(a0,{className:"h-4 w-4 text-red-500"});default:return t.jsx(Mo,{className:"h-4 w-4 text-gray-500"})}},V=B=>{const H=Math.floor(B/60),F=B%60;return`${H}:${F.toString().padStart(2,"0")}`},R=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(B),I=({call:B,isOpen:H,onClose:F})=>H?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:t.jsxs("div",{className:"mx-4 max-h-[90vh] w-full max-w-4xl overflow-hidden rounded-lg border border-gray-800 bg-gray-900 shadow-xl",children:[t.jsx("div",{className:"border-b border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Call Transcript"}),t.jsxs("p",{className:"text-sm text-gray-400",children:[B.customerName," "," ",f0(new Date(B.startedAt),{addSuffix:!0})]})]}),t.jsx(K,{variant:"ghost",onClick:F,className:"text-gray-400 hover:text-white",children:t.jsx(Ki,{className:"h-5 w-5"})})]})}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:B.formattedTranscript&&B.formattedTranscript.length>0?t.jsx("div",{className:"space-y-4",children:B.formattedTranscript.map((U,O)=>t.jsxs("div",{className:`rounded-lg p-4 ${U.speaker==="customer"?"border-l-4 border-blue-500 bg-blue-900/20":"border-l-4 border-gray-600 bg-gray-800/50"}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[U.speaker==="customer"?t.jsx(vs,{className:"h-4 w-4 text-blue-400"}):t.jsx(Hi,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium capitalize text-gray-300",children:U.speaker==="customer"?"Customer":"Assistant"}),U.timestamp&&t.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"leading-relaxed text-gray-100",children:U.text})]},O))}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Ji,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"})]})})]})}):null;return m?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsx(as,{className:"h-8 w-8 animate-spin text-emerald-500"})}):t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(K,{variant:"ghost",onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[t.jsx(td,{className:"h-4 w-4"}),"Back to Dashboard"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campaign Calls"}),t.jsx("p",{className:"text-gray-400",children:i==null?void 0:i.name})]})]}),t.jsxs(K,{onClick:T,className:"flex items-center gap-2 bg-emerald-600 text-white hover:bg-emerald-700",disabled:m,children:[t.jsx(as,{className:`h-4 w-4 ${m?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:l.total})]}),t.jsx(xt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.filter(B=>B.status==="completed").length})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:R(a.reduce((B,H)=>B+H.cost,0))})]}),t.jsx(Fr,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:V(a.reduce((B,H)=>B+H.duration,0)/a.length||0)})]})})})})]}),t.jsx(J,{className:"mb-6 border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xa,{className:"h-4 w-4 text-gray-400"}),t.jsx(Pe,{placeholder:"Search calls...",value:f,onChange:B=>g(B.target.value),className:"w-64 border-gray-700 bg-gray-800 text-white"})]}),t.jsxs(at,{value:v,onValueChange:b,children:[t.jsx(rt,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Status"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"completed",children:"Completed"}),t.jsx(se,{value:"failed",children:"Failed"}),t.jsx(se,{value:"in-progress",children:"In Progress"})]})]}),t.jsxs(at,{value:w,onValueChange:y,children:[t.jsx(rt,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Sort by"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"started_at",children:"Date"}),t.jsx(se,{value:"duration",children:"Duration"}),t.jsx(se,{value:"cost",children:"Cost"})]})]}),t.jsxs(K,{variant:"outline",onClick:()=>C(N==="asc"?"desc":"asc"),className:"flex items-center gap-2 border-gray-700 text-gray-300 hover:bg-gray-800",children:[N==="asc"?"":""," ",N.toUpperCase()]})]})})}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-xl font-semibold text-white",children:"Campaign Calls"})}),t.jsxs(X,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(v4,{children:[t.jsx(b4,{children:t.jsxs(df,{className:"border-gray-800",children:[t.jsx(fa,{className:"text-gray-400",children:"Customer"}),t.jsx(fa,{className:"text-gray-400",children:"Phone"}),t.jsx(fa,{className:"text-gray-400",children:"Status"}),t.jsx(fa,{className:"text-gray-400",children:"Duration"}),t.jsx(fa,{className:"text-gray-400",children:"Cost"}),t.jsx(fa,{className:"text-gray-400",children:"Sentiment"}),t.jsx(fa,{className:"text-gray-400",children:"Date"}),t.jsx(fa,{className:"text-gray-400",children:"Actions"})]})}),t.jsx(w4,{children:a.map(B=>t.jsxs(df,{className:"border-gray-800 hover:bg-gray-800/50",children:[t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-800",children:t.jsx(vs,{className:"h-4 w-4 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:B.customerName}),B.customerEmail&&t.jsx("p",{className:"text-sm text-gray-400",children:B.customerEmail})]})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:B.customerPhone})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[M(B.status),t.jsx(Ne,{variant:B.status==="completed"?"default":"secondary",className:"bg-gray-800 text-white",children:B.status})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-white",children:V(B.duration)})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-white",children:R(B.cost)})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[L(B.sentiment),t.jsx("span",{className:"text-sm capitalize text-white",children:B.sentiment})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:f0(new Date(B.startedAt),{addSuffix:!0})})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[B.hasTranscript&&t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{k(B),E(!0)},className:"text-gray-400 hover:text-white",children:t.jsx(Ji,{className:"h-4 w-4"})}),B.hasRecording&&t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>window.open(B.recording,"_blank"),className:"text-gray-400 hover:text-white",children:t.jsx(Bn,{className:"h-4 w-4"})}),t.jsx(K,{variant:"ghost",size:"sm",onClick:()=>r(`/calls/${B.id}`),className:"text-gray-400 hover:text-white",children:t.jsx(Rr,{className:"h-4 w-4"})})]})})]},B.id))})]})}),a.length===0&&t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No calls found for this campaign"})]})]})]}),l.totalPages>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of ",l.total," ","calls"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(K,{variant:"outline",onClick:()=>d(B=>({...B,page:B.page-1})),disabled:l.page===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ec,{className:"h-4 w-4"}),"Previous"]}),t.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",l.page," of ",l.totalPages]}),t.jsxs(K,{variant:"outline",onClick:()=>d(B=>({...B,page:B.page+1})),disabled:l.page===l.totalPages,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:["Next",t.jsx(no,{className:"h-4 w-4"})]})]})]}),S&&t.jsx(I,{call:S,isOpen:A,onClose:()=>{E(!1),k(null)}})]})})},KNe=({appointments:e,tasks:r,onAppointmentClick:s,onTaskClick:a})=>{const n=f=>{const g=new Date(f),v=new Date,b=new Date(v);return b.setDate(b.getDate()+1),g.toDateString()===v.toDateString()?"Today":g.toDateString()===b.toDateString()?"Tomorrow":g.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},i=f=>{if(!f)return"";try{const[g,v]=f.split(":"),b=parseInt(g),w=b>=12?"PM":"AM";return`${b>12?b-12:b===0?12:b}:${v} ${w}`}catch{return f}},o=(f,g)=>g==="video"?t.jsx(tA,{className:"h-4 w-4"}):g==="in_person"?t.jsx(sd,{className:"h-4 w-4"}):f==="meeting"?t.jsx(bt,{className:"h-4 w-4"}):t.jsx(xt,{className:"h-4 w-4"}),l=f=>{switch(f){case"urgent":return"text-red-400 bg-red-900/30 border-red-800";case"high":return"text-orange-400 bg-orange-900/30 border-orange-800";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-800";default:return"text-gray-400 bg-gray-900/30 border-gray-800"}},d=f=>{switch(f){case"confirmed":return t.jsx(yt,{className:"h-4 w-4 text-green-400"});case"scheduled":return t.jsx(Rt,{className:"h-4 w-4 text-blue-400"});case"tentative":return t.jsx(Gt,{className:"h-4 w-4 text-yellow-400"});default:return t.jsx(Rt,{className:"h-4 w-4 text-gray-400"})}},h=[...e.map(f=>({...f,itemType:"appointment"})),...r.map(f=>({...f,itemType:"task",date:f.due_date,time:f.due_time}))].sort((f,g)=>{const v=new Date(`${f.date} ${f.time||"00:00"}`),b=new Date(`${g.date} ${g.time||"00:00"}`);return v.getTime()-b.getTime()}).reduce((f,g)=>{const v=g.date;return f[v]||(f[v]=[]),f[v].push(g),f},{});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_s,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.jsxs("span",{className:"text-gray-400",children:[e.length," appointment",e.length!==1?"s":"",","," ",r.length," task",r.length!==1?"s":""]})})]}),Object.keys(h).length===0?t.jsxs("div",{className:"rounded-lg border border-gray-700/50 bg-gray-800/30 p-8 text-center",children:[t.jsx(_s,{className:"mx-auto h-12 w-12 text-gray-600 mb-3"}),t.jsx("p",{className:"text-gray-400",children:"No upcoming appointments or tasks"})]}):t.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([f,g])=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-px flex-1 bg-gray-700"}),t.jsx("span",{className:"text-sm font-medium text-gray-400",children:n(f)}),t.jsx("div",{className:"h-px flex-1 bg-gray-700"})]}),t.jsx("div",{className:"space-y-2",children:g.map(v=>t.jsx("div",{onClick:()=>{v.itemType==="appointment"&&s?s(v):v.itemType==="task"&&a&&a(v)},className:"group cursor-pointer rounded-lg border border-gray-700/50 bg-gray-800/50 p-4 transition-all hover:border-gray-600 hover:bg-gray-800",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"flex items-center gap-3",children:v.itemType==="appointment"?t.jsxs(t.Fragment,{children:[o(v.type,v.location_type),t.jsx("span",{className:"text-sm font-medium text-white",children:v.title}),d(v.status)]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`flex items-center gap-2 rounded px-2 py-1 text-xs font-medium border ${l(v.priority)}`,children:v.priority}),t.jsx("span",{className:"text-sm font-medium text-white",children:v.title})]})}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[v.time&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Rt,{className:"h-3 w-3"}),i(v.time),v.itemType==="appointment"&&v.duration_minutes&&t.jsxs("span",{children:[" (",v.duration_minutes," min)"]})]}),v.itemType==="appointment"&&v.location_type&&t.jsxs("div",{className:"flex items-center gap-1",children:[v.location_type==="in_person"&&t.jsx(sd,{className:"h-3 w-3"}),v.location_type==="video"&&t.jsx(tA,{className:"h-3 w-3"}),v.location_type==="phone"&&t.jsx(xt,{className:"h-3 w-3"}),t.jsx("span",{className:"capitalize",children:v.location_type.replace("_"," ")})]}),v.itemType==="task"&&v.category&&t.jsx("span",{className:"capitalize",children:v.category.replace("_"," ")})]}),(v.description||v.agenda)&&t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:v.description||v.agenda}),v.itemType==="appointment"&&v.preparation_notes&&t.jsx("div",{className:"mt-2 rounded bg-blue-900/20 border border-blue-800/50 p-2",children:t.jsxs("p",{className:"text-xs text-blue-400",children:["Prep: ",v.preparation_notes]})})]}),t.jsx("div",{className:"ml-4",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${v.itemType==="appointment"?"bg-blue-900/30 text-blue-400 border border-blue-800":"bg-purple-900/30 text-purple-400 border border-purple-800"}`,children:v.itemType==="appointment"?"Appointment":"Task"})})]})},v.id))})]},f))}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-700/50",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>new Date(f.date)>=new Date().setHours(0,0,0,0)&&new Date(f.date)<new Date().setHours(24,0,0,0)).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>{const g=new Date(f.date),v=new Date,b=new Date(v);return b.setDate(b.getDate()+7),g>=v&&g<=b}).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"This Week"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(f=>f.priority==="urgent"||f.priority==="high").length}),t.jsx("div",{className:"text-xs text-gray-400",children:"High Priority"})]})]})]})},GNe=({isOpen:e,onClose:r,onCreateTask:s,leadId:a})=>{const[n,i]=p.useState({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),o=()=>{if(!n.title.trim())return;const l={...n,id:`task_${Date.now()}`,lead_id:a,created_at:new Date().toISOString()};s(l),i({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),r()};return t.jsx(Cd,{open:e,onOpenChange:r,children:t.jsxs(dc,{className:"max-w-2xl bg-gray-900 border-gray-800",children:[t.jsxs(uc,{children:[t.jsxs(mc,{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx(DN,{className:"h-5 w-5 text-emerald-400"}),"Create New Task"]}),t.jsx(kd,{className:"text-gray-400",children:"Add a task to follow up with this lead"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"title",className:"text-white",children:["Task Title ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx(Pe,{id:"title",value:n.title,onChange:l=>i({...n,title:l.target.value}),placeholder:"e.g., Follow up on proposal",className:"bg-gray-800 border-gray-700 text-white",autoFocus:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"description",className:"text-white",children:"Description"}),t.jsx(Ha,{id:"description",value:n.description,onChange:l=>i({...n,description:l.target.value}),placeholder:"Add more details about this task...",className:"bg-gray-800 border-gray-700 text-white min-h-[80px]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"category",className:"text-white",children:"Category"}),t.jsxs(at,{value:n.category,onValueChange:l=>i({...n,category:l}),children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"follow_up",children:"Follow Up"}),t.jsx(se,{value:"call",children:"Phone Call"}),t.jsx(se,{value:"email",children:"Email"}),t.jsx(se,{value:"meeting",children:"Meeting"}),t.jsx(se,{value:"proposal",children:"Proposal"}),t.jsx(se,{value:"contract",children:"Contract"}),t.jsx(se,{value:"research",children:"Research"}),t.jsx(se,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"priority",className:"text-white",children:"Priority"}),t.jsxs(at,{value:n.priority,onValueChange:l=>i({...n,priority:l}),children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"urgent",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"h-4 w-4 text-red-400"}),"Urgent"]})}),t.jsx(se,{value:"high",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"h-4 w-4 text-orange-400"}),"High"]})}),t.jsx(se,{value:"medium",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"h-4 w-4 text-yellow-400"}),"Medium"]})}),t.jsx(se,{value:"low",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"h-4 w-4 text-gray-400"}),"Low"]})})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"due_date",className:"text-white flex items-center gap-2",children:[t.jsx(_s,{className:"h-4 w-4"}),"Due Date"]}),t.jsx(Pe,{id:"due_date",type:"date",value:n.due_date,onChange:l=>i({...n,due_date:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"due_time",className:"text-white flex items-center gap-2",children:[t.jsx(Rt,{className:"h-4 w-4"}),"Due Time"]}),t.jsx(Pe,{id:"due_time",type:"time",value:n.due_time,onChange:l=>i({...n,due_time:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"notes",className:"text-white",children:"Additional Notes"}),t.jsx(Ha,{id:"notes",value:n.notes,onChange:l=>i({...n,notes:l.target.value}),placeholder:"Any additional information...",className:"bg-gray-800 border-gray-700 text-white min-h-[60px]"})]})]}),t.jsxs(wm,{children:[t.jsx(K,{variant:"outline",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsxs(K,{onClick:o,disabled:!n.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[t.jsx(DN,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})]})})};function YNe(){const e=Nr(),{leadId:r}=uf(),{toast:s}=ds(),a=Eee(),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,v]=p.useState(!1),[b,w]=p.useState(!1),y=p.useRef(null),[N,C]=p.useState([]),[S,k]=p.useState([]),[A,E]=p.useState([]),[T,M]=p.useState([]),[L,V]=p.useState(null),[R,I]=p.useState(!1),[B,H]=p.useState(!1),[F,U]=p.useState({status:"new",customerId:"",lastActivity:{date:"",type:""},owner:{id:"",name:"Unassigned",role:"",initials:"NA"},personalDetails:{firstName:"",lastName:"",email:"",phone:"",position:"",website:""},companyInfo:{company:"",industry:""},companyDetails:{foundedYear:"",employees:"",revenue:"",headquarters:"",description:"",website:"",linkedIn:"",type:"",tags:[]},socialMedia:{linkedin:"",twitter:"",facebook:"https://facebook.com/john.doe",instagram:"https://instagram.com/johndoe",youtube:"",tiktok:"",github:"",website:"https://johndoe.dev"},aiCallSummary:"Customer showed strong interest in our enterprise features. Regarding implementation, the customer prefers a phased rollout starting with their core team of 15 users, then expanding to the full organization over 3-4 months. They have dedicated project management resources and are willing to assign a technical lead to work closely with our implementation team. Training is critical as their staff has varying levels of technical expertise. The competitive landscape includes two other vendors they're actively evaluating. One is a legacy solution that's significantly cheaper but lacks modern features. The other is a newer startup with innovative features but concerns about long-term viability. Our solution was positioned as the best balance of reliability, features, and cost. Next steps include scheduling a technical deep-dive demo for next Tuesday at 2 PM EST with their IT Director, CTO, and lead developer. They also requested a detailed implementation timeline and cost breakdown including training and support options. Customer indicated they want to make a final decision by end of January.",notes:[{id:"note_571135000001729018",content:`Pramod was primarily interested in social media management & ads and email marketing (want to focus on incoming traffic as they're working on automating everything).
Sean will send a breakdown of the services we can offer them based on what he said they're looking for`,module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-19T15:40:00Z",createdBy:"Khalid Adib",lastUpdated:"2024-09-19T15:40:00Z",tag:"meeting"},{id:"note_571135000001729019",content:"Follow-up call scheduled for next week to discuss pricing and implementation timeline. Customer seems very interested in our automation solutions.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-18T10:30:00Z",createdBy:"Sean Wentz",lastUpdated:"2024-09-18T10:30:00Z",tag:"follow-up"},{id:"note_571135000001729020",content:"Initial discovery call completed. Budget confirmed at $5k-10k range. Decision maker identified. Next step is technical assessment.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-17T14:15:00Z",createdBy:"John Doe",lastUpdated:"2024-09-17T14:15:00Z",tag:"call"}],address:{street:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",country:"United States"}}),[O,$]=p.useState(!1),[W,q]=p.useState(!1),[z,Q]=p.useState(!1),[Ae,de]=p.useState(!1),[Z,be]=p.useState(!1),[ke,Ie]=p.useState(!1),[ce,Ce]=p.useState(!1),[Te,te]=p.useState(!1),[we,Oe]=p.useState(!1),[Ue,ie]=p.useState(!1),[Ge,Ct]=p.useState("Recent Last"),[Ot,Nt]=p.useState(!1),[me,Be]=p.useState(""),[kt,Ht]=p.useState(null),[_t,vr]=p.useState("general"),[Gr,br]=p.useState("all"),[bs,Er]=p.useState(!1),[Ke,Os]=p.useState(""),[ts,hs]=p.useState(""),[pt,Na]=p.useState(null),[It,Lt]=p.useState({}),[ne,ye]=p.useState(F.personalDetails),[Fe,it]=p.useState(F.companyInfo),[vt,Zt]=p.useState({street:"",city:"",state:"",zipCode:"",country:"United States"}),[wt,ra]=p.useState(F.owner),[sa,aa]=p.useState(F.companyDetails),[Ai,wr]=p.useState(F.socialMedia),ws=["1-10","11-50","51-200","201-500","501-1000","1001-5000","5001-10000","10000+"],na=["Under $1M","$1M - $5M","$5M - $10M","$10M - $50M","$50M - $100M","$100M - $500M","$500M - $1B","Over $1B"],bn=["Private Company","Public Company","LLC","Corporation","Partnership","Sole Proprietorship","Non-profit","Government","Startup","Other"],js=[{value:"general",label:"General",color:"bg-gray-600",textColor:"text-gray-300"},{value:"task",label:"Task",color:"bg-blue-600",textColor:"text-blue-300"},{value:"meeting",label:"Meeting",color:"bg-green-600",textColor:"text-green-300"},{value:"call",label:"Call",color:"bg-purple-600",textColor:"text-purple-300"},{value:"email",label:"Email",color:"bg-orange-600",textColor:"text-orange-300"},{value:"follow-up",label:"Follow-up",color:"bg-yellow-600",textColor:"text-yellow-300"},{value:"urgent",label:"Urgent",color:"bg-red-600",textColor:"text-red-300"},{value:"reminder",label:"Reminder",color:"bg-indigo-600",textColor:"text-indigo-300"}],Da=[{value:"New",color:"bg-blue-500",textColor:"text-blue-400"},{value:"Contacted",color:"bg-yellow-500",textColor:"text-yellow-400"},{value:"Qualified",color:"bg-green-500",textColor:"text-green-400"},{value:"Proposal",color:"bg-purple-500",textColor:"text-purple-400"},{value:"Negotiation",color:"bg-orange-500",textColor:"text-orange-400"},{value:"Closed Won",color:"bg-emerald-500",textColor:"text-emerald-400"},{value:"Closed Lost",color:"bg-red-500",textColor:"text-red-400"},{value:"On Hold",color:"bg-gray-500",textColor:"text-gray-400"}],Kt=()=>Da.find(Y=>Y.value===F.status)||Da[2],Ei=Y=>{U(ve=>({...ve,status:Y,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`Status changed to ${Y}`}})),w(!1)};p.useEffect(()=>{const Y=ve=>{y.current&&!y.current.contains(ve.target)&&w(!1)};return b&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[b]);const $t=(Y,ve)=>{Na(Y),Lt({[Y]:ve})},tr=(Y,ve)=>{const dr=It[Y];U(Sr=>{const Dr={...Sr},Ks=Y.split(".");return Ks.length===2?Dr[Ks[0]]={...Dr[Ks[0]],[Ks[1]]:dr}:Dr[Y]=dr,Dr.lastActivity={date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`${Y} updated`},Dr}),Na(null),Lt({})},_e=()=>{Na(null),Lt({})},Ze=()=>{U(Y=>({...Y,personalDetails:ne,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Personal details updated"}})),$(!1)},Pt=()=>{ye(F.personalDetails),$(!1)},At=()=>{U(Y=>({...Y,address:vt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Address updated"}})),q(!1)},Wr=()=>{Zt(F.address),q(!1)},Ti=()=>{ra(F.owner),Q(!0)},Xn=async()=>{try{const{error:Y}=await ua.from("leads").update({uploaded_by:wt.id||null}).eq("id",r);if(Y)throw Y;U(ve=>({...ve,owner:wt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Lead owner updated"}})),Q(!1),s({title:"Success",description:"Lead owner updated successfully"})}catch(Y){console.error("Error updating lead owner:",Y),s({title:"Error",description:"Failed to update lead owner",variant:"destructive"})}},La=()=>{ra(F.owner),Q(!1)},Qa=async()=>{try{await navigator.clipboard.writeText(F.aiCallSummary)}catch(Y){console.error("Failed to copy AI Call Summary:",Y)}},wn=Y=>new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),co=Y=>new Date(Y).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),rr=()=>{if(!me.trim())return;const Y={id:`note_${Date.now()}`,content:me,module:"Lead",recordName:F.personalDetails.firstName+" "+F.personalDetails.lastName,recordId:"lead_current",createdAt:new Date().toISOString(),createdBy:"Current User",lastUpdated:new Date().toISOString(),tag:_t};if(_t==="reminder"&&Ke&&ts){const ve=new Date(`${Ke}T${ts}`);yr(me,ve),Y.content=`${me}

 Reminder set for: ${ve.toLocaleString()}`}U(ve=>({...ve,notes:[Y,...ve.notes],lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note added"}})),Be(""),vr("general"),Os(""),hs(""),Er(!1),Nt(!1)},el=Y=>{V(Y),I(!0)},je=async()=>{if(L)try{const Y=F.notes.filter(ve=>ve.id!==L);if(U(ve=>({...ve,notes:Y,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note deleted"}})),r){const{data:ve,error:dr}=await ua.from("leads").select("custom_fields").eq("id",r).single();if(dr)throw dr;const{error:Sr}=await ua.from("leads").update({custom_fields:{...ve.custom_fields,notes:Y},updated_at:new Date().toISOString()}).eq("id",r);Sr?(console.error("Error deleting note:",Sr),s({title:"Error",description:"Failed to delete note. Please try again.",variant:"destructive"}),U(Dr=>({...Dr,notes:F.notes}))):s({title:"Success",description:"Note deleted successfully"})}}catch(Y){console.error("Error deleting note:",Y),s({title:"Error",description:"Failed to delete note",variant:"destructive"})}finally{I(!1),V(null)}},ze=()=>{I(!1),V(null)},ot=()=>{let Y=F.notes.filter(ve=>ve.tag!=="ai-summary"&&ve.createdBy!=="AI System");return Gr!=="all"&&(Y=Y.filter(ve=>ve.tag===Gr)),Ge==="Recent First"?Y.sort((ve,dr)=>new Date(dr.createdAt).getTime()-new Date(ve.createdAt).getTime()):Y.sort((ve,dr)=>new Date(ve.createdAt).getTime()-new Date(dr.createdAt).getTime())},lt=Y=>js.find(ve=>ve.value===Y)||js[0],yr=(Y,ve)=>{const dr=`${F.personalDetails.firstName} ${F.personalDetails.lastName}`,Sr=ve.getTime()-Date.now();Sr>0&&setTimeout(()=>{a.info("Reminder",`${Y}`,{category:"system",source:"leads",priority:"medium",persistent:!0,metadata:{leadId:F.personalDetails.firstName+F.personalDetails.lastName,leadName:dr,type:"reminder",originalContent:Y,scheduledFor:ve.toISOString()},action:{label:"View Lead",href:`/leads/${F.personalDetails.firstName}`}})},Sr)};p.useEffect(()=>{Er(_t==="reminder")},[_t]),p.useEffect(()=>{(async()=>{var ve,dr,Sr,Dr,Ks,jn,uo,Zf,ep,_d,jm,Pd,tl,tp,Ad,sr,Nm,Sm,Ed,Cm,km,_m,Td,hc,Qn,Zn,ei,rl,sl,ti,rp,Pm,al,sp,Am,fc,Em,ap,nl,il,mo,pc,np,ip,Od;if(!r){s({title:"Error",description:"No lead ID provided",variant:"destructive"}),e("/crm");return}try{i(!0);const{data:We,error:Tm}=await ua.from("leads").select(`
            *,
            uploaded_by:users!leads_uploaded_by_fkey(
              id,
              first_name,
              last_name,
              role
            ),
            campaigns(
              id,
              name
            )
          `).eq("id",r).single();if(Tm||!We)throw new Error("Lead not found");U({status:We.qualification_status||We.status||"new",customerId:We.id.substring(0,8).toUpperCase(),lastActivity:{date:We.last_call_at?new Date(We.last_call_at).toLocaleString():"No activity",type:We.last_call_at?"Call":"None"},owner:{id:((ve=We.uploaded_by)==null?void 0:ve.id)||"",name:We.uploaded_by?`${We.uploaded_by.first_name} ${We.uploaded_by.last_name}`:"Unassigned",role:((dr=We.uploaded_by)==null?void 0:dr.role)||"",initials:We.uploaded_by?`${((Sr=We.uploaded_by.first_name)==null?void 0:Sr[0])||""}${((Dr=We.uploaded_by.last_name)==null?void 0:Dr[0])||""}`.toUpperCase():"NA"},personalDetails:{firstName:We.first_name||"",lastName:We.last_name||"",email:((Ks=We.custom_fields)==null?void 0:Ks.email)||We.email||"",phone:We.phone||"",position:((jn=We.custom_fields)==null?void 0:jn.job_title)||We.job_title||"",website:((uo=We.custom_fields)==null?void 0:uo.website)||""},companyInfo:{company:((Zf=We.custom_fields)==null?void 0:Zf.company)||We.company||"",industry:((ep=We.custom_fields)==null?void 0:ep.industry)||""},companyDetails:{foundedYear:((_d=We.custom_fields)==null?void 0:_d.foundedYear)||"",employees:((jm=We.custom_fields)==null?void 0:jm.employees)||"",revenue:((Pd=We.custom_fields)==null?void 0:Pd.revenue)||"",headquarters:`${We.city||""}, ${We.state||""}`.trim().replace(/^,\s*/,""),description:((tl=We.custom_fields)==null?void 0:tl.description)||"",website:((tp=We.custom_fields)==null?void 0:tp.website)||"",linkedIn:((Ad=We.custom_fields)==null?void 0:Ad.linkedIn)||"",type:((sr=We.custom_fields)==null?void 0:sr.type)||"",tags:((Nm=We.custom_fields)==null?void 0:Nm.tags)||[]},socialMedia:{linkedin:((Ed=(Sm=We.custom_fields)==null?void 0:Sm.socialMedia)==null?void 0:Ed.linkedin)||"",twitter:((km=(Cm=We.custom_fields)==null?void 0:Cm.socialMedia)==null?void 0:km.twitter)||"",facebook:((Td=(_m=We.custom_fields)==null?void 0:_m.socialMedia)==null?void 0:Td.facebook)||"",instagram:((Qn=(hc=We.custom_fields)==null?void 0:hc.socialMedia)==null?void 0:Qn.instagram)||"",youtube:((ei=(Zn=We.custom_fields)==null?void 0:Zn.socialMedia)==null?void 0:ei.youtube)||"",tiktok:((sl=(rl=We.custom_fields)==null?void 0:rl.socialMedia)==null?void 0:sl.tiktok)||""},address:{street:((ti=We.custom_fields)==null?void 0:ti.address_line1)||We.address_line1||"",city:((rp=We.custom_fields)==null?void 0:rp.city)||We.city||"",state:((Pm=We.custom_fields)==null?void 0:Pm.state)||We.state||"",zipCode:((al=We.custom_fields)==null?void 0:al.postal_code)||We.postal_code||"",country:((sp=We.custom_fields)==null?void 0:sp.country)||We.country||"United States"},aiCallSummary:((Em=(fc=(Am=We.custom_fields)==null?void 0:Am.notes)==null?void 0:fc[0])==null?void 0:Em.content)||((ap=We.custom_fields)==null?void 0:ap.aiCallSummary)||((mo=(il=(nl=We.custom_fields)==null?void 0:nl.ultraDetailedBrief)==null?void 0:il.executiveSummary)==null?void 0:mo.nextAction)||"",notes:Array.isArray((pc=We.custom_fields)==null?void 0:pc.notes)?We.custom_fields.notes:[]});const{data:Md}=await ua.from("calls").select("*").eq("lead_id",r).order("created_at",{ascending:!1});if(Md){C(Md);const ur=Md.find(Lr=>Lr.notes||Lr.summary||Lr.ultra_detailed_brief);ur&&U(Lr=>{var ho,Om;return{...Lr,aiCallSummary:ur.notes||ur.summary||((Om=(ho=ur.ultra_detailed_brief)==null?void 0:ho.executiveSummary)==null?void 0:Om.nextAction)||Lr.aiCallSummary}})}try{const{data:ur,error:Lr}=await ua.from("appointments").select("*").eq("lead_id",r).order("date",{ascending:!0});!Lr&&ur?E(ur):Lr&&console.log("Appointments table not available:",Lr.message)}catch{console.log("Could not fetch appointments")}try{const{data:ur,error:Lr}=await ua.from("tasks").select("*").eq("lead_id",r).eq("status","pending").order("due_date",{ascending:!0});!Lr&&ur?M(ur):Lr&&console.log("Tasks table not available:",Lr.message)}catch{console.log("Could not fetch tasks")}if(We.custom_fields&&(((np=We.custom_fields.upcomingAppointments)==null?void 0:np.length)>0&&E(ur=>[...ur,...We.custom_fields.upcomingAppointments]),((ip=We.custom_fields.pendingTasks)==null?void 0:ip.length)>0&&M(ur=>[...ur,...We.custom_fields.pendingTasks]),((Od=We.custom_fields.missingInfo)==null?void 0:Od.length)>0)){const ur=We.custom_fields.missingInfo.map((Lr,ho)=>({id:`missing-${ho}`,title:`Get ${Lr.field}`,description:Lr.question,priority:Lr.importance==="critical"?"high":"medium",category:"follow_up",due_date:new Date(Date.now()+864e5).toISOString().split("T")[0]}));M(Lr=>[...Lr,...ur])}if(We.organization_id){const{data:ur}=await ua.from("users").select("id, first_name, last_name, email, role").eq("organization_id",We.organization_id).order("first_name");ur&&k(ur)}}catch(We){console.error("Error fetching lead data:",We),s({title:"Error",description:"Failed to load lead data",variant:"destructive"}),e("/crm")}finally{i(!1)}})()},[r,e,s]);const jt=N.map(Y=>({id:Y.id,date:Y.started_at?new Date(Y.started_at).toLocaleDateString():"N/A",time:Y.started_at?new Date(Y.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",duration:Y.duration?`${Math.floor(Y.duration/60)}:${(Y.duration%60).toString().padStart(2,"0")}`:"N/A",outcome:Y.outcome||Y.status||"Unknown",sentiment:Y.sentiment||"N/A",cost:Y.cost?`$${Y.cost.toFixed(2)}`:"$0.00",status:Y.status||"unknown",...Y})),Xt=Y=>{const ve={id:Y.id,duration:parseInt(Y.duration.split(":")[0])*60+parseInt(Y.duration.split(":")[1]),transcript:[{speaker:"user",text:"Hello? Alright."},{speaker:"ai",text:"Hello. Is it possible to speak to Harris, please?"},{speaker:"user",text:"Speaking."},{speaker:"ai",text:"Hi, Harris. This is Joanne calling from Emerald Green Energy. You spoke to 1 of our reps who was in your area about solar energy for your property. Does that sound familiar?"},{speaker:"user",text:"Yes. That sounds familiar."},{speaker:"ai",text:"Great. Thanks for confirming. I hope you've been enjoying the nice weather. So just to check, was solar something you'd considered before our rep visit? Or was it more of a new idea when they spoke to you?"}],recording:"/mock-audio.wav",analysis:{sentiment:Y.sentiment==="Positive"?.75:Y.sentiment==="Neutral"?.5:.25,keywords:["solar energy","property","rep visit"],summary:`Call with ${Y.outcome.toLowerCase()} outcome. Duration: ${Y.duration}`},cost:parseFloat(Y.cost.replace("$","")),messages:[{type:"info",content:`Call initiated at ${Y.time}`,timestamp:Date.now()-864e5},{type:"success",content:`Call completed with ${Y.outcome} outcome`,timestamp:Date.now()}]};f(ve),v(!0)},Ms=async Y=>{try{const{data:ve,error:dr}=await ua.from("tasks").insert([{...Y,lead_id:r,organization_id:F.organizationId,created_by:F.owner.id||"system"}]).select().single();if(dr){console.log("Tasks table not available, saving to custom_fields");const Sr=[...T,Y],{error:Dr}=await ua.from("leads").update({custom_fields:{...F.customFields,pendingTasks:Sr}}).eq("id",r);if(Dr)throw Dr;M(Sr),s({title:"Task Created",description:`Task "${Y.title}" has been added successfully.`})}else M([...T,ve]),s({title:"Task Created",description:`Task "${Y.title}" has been added successfully.`})}catch(ve){console.error("Error creating task:",ve),s({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent mx-auto"}),t.jsx("p",{className:"text-gray-400",children:"Loading lead data..."})]})}):t.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[t.jsx("div",{className:"sticky top-0 z-30 flex-shrink-0 border-b border-gray-800 bg-gray-900/90",children:t.jsx("div",{className:"px-6 py-4",children:t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsxs(K,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>e("/crm"),children:[t.jsx(ec,{className:"mr-1 h-4 w-4"}),"Back to CRM"]})})})}),t.jsxs("div",{className:"flex-1 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"mb-6 flex items-center justify-between",children:t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Lead Overview"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx("div",{className:"relative rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",ref:y,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Status"}),t.jsxs("div",{className:"-m-2 flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-700/30",onClick:()=>w(!b),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${Kt().color}`}),t.jsx("span",{className:"font-medium text-white",children:F.status}),t.jsx(ss,{className:`ml-auto h-4 w-4 text-gray-400 transition-transform ${b?"rotate-180":""}`})]}),b&&t.jsx("div",{className:"absolute left-0 right-0 top-full z-50 mt-2 rounded-lg border border-gray-700 bg-gray-800 shadow-xl",children:t.jsx("div",{className:"space-y-1 p-2",children:Da.map(Y=>t.jsxs("div",{className:`flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors ${F.status===Y.value?"bg-gray-700/50":"hover:bg-gray-700/30"}`,onClick:()=>Ei(Y.value),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${Y.color}`}),t.jsx("span",{className:`font-medium ${Y.textColor}`,children:Y.value})]},Y.value))})})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Customer ID"}),t.jsx("span",{className:"font-mono text-lg text-white",children:F.customerId})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Last Activity"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium text-white",children:F.lastActivity.date}),t.jsx("div",{className:"text-sm text-gray-400",children:F.lastActivity.type})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Owner"}),z?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Xn,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:La,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]}):t.jsx("button",{onClick:Ti,className:"text-gray-500 transition-colors hover:text-gray-300",children:t.jsx(hr,{className:"h-4 w-4"})})]}),z?t.jsx("div",{children:t.jsxs("select",{value:wt.id,onChange:Y=>{var dr,Sr;const ve=S.find(Dr=>Dr.id===Y.target.value);ve&&ra({id:ve.id,name:`${ve.first_name} ${ve.last_name}`,role:ve.role,initials:`${((dr=ve.first_name)==null?void 0:dr[0])||""}${((Sr=ve.last_name)==null?void 0:Sr[0])||""}`.toUpperCase()})},className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:[t.jsx("option",{value:"",children:"Unassigned"}),S.map(Y=>t.jsxs("option",{value:Y.id,children:[Y.first_name," ",Y.last_name," - ",Y.role]},Y.id))]})}):t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:F.owner.initials})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-white",children:F.owner.name}),t.jsx("div",{className:"text-sm text-gray-400",children:F.owner.role})]})]})]})})]})]}),t.jsx("div",{className:`${o?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${o?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${o?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vs,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Personal Details"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!o&&O&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Ze,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:Pt,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>l(!o),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`})})]})]}),!o&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"First Name"}),pt!=="personalDetails.firstName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:F.personalDetails.firstName}),t.jsx("button",{onClick:()=>$t("personalDetails.firstName",F.personalDetails.firstName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["personalDetails.firstName"]||"",onChange:Y=>Lt(ve=>({...ve,"personalDetails.firstName":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.firstName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Last Name"}),pt!=="personalDetails.lastName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:F.personalDetails.lastName}),t.jsx("button",{onClick:()=>$t("personalDetails.lastName",F.personalDetails.lastName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["personalDetails.lastName"]||"",onChange:Y=>Lt(ve=>({...ve,"personalDetails.lastName":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.lastName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),pt!=="personalDetails.email"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.personalDetails.email}),t.jsx("button",{onClick:()=>$t("personalDetails.email",F.personalDetails.email),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:It["personalDetails.email"]||"",onChange:Y=>Lt(ve=>({...ve,"personalDetails.email":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.email"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Phone"}),pt!=="personalDetails.phone"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.personalDetails.phone}),t.jsx("button",{onClick:()=>$t("personalDetails.phone",F.personalDetails.phone),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:It["personalDetails.phone"]||"",onChange:Y=>Lt(ve=>({...ve,"personalDetails.phone":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.phone"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Position"}),pt!=="personalDetails.position"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.personalDetails.position}),t.jsx("button",{onClick:()=>$t("personalDetails.position",F.personalDetails.position),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["personalDetails.position"]||"",onChange:Y=>Lt(ve=>({...ve,"personalDetails.position":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.position"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Website"}),pt!=="personalDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.personalDetails.website}),t.jsx("button",{onClick:()=>$t("personalDetails.website",F.personalDetails.website),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["personalDetails.website"]||"",onChange:Y=>Lt(ve=>({...ve,"personalDetails.website":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700/50 pt-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx(lr,{className:"h-4 w-4 text-purple-500"}),t.jsx("h4",{className:"font-medium text-white",children:"Company Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company"}),pt!=="companyInfo.company"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyInfo.company}),t.jsx("button",{onClick:()=>$t("companyInfo.company",F.companyInfo.company),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["companyInfo.company"]||"",onChange:Y=>Lt(ve=>({...ve,"companyInfo.company":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyInfo.company"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry"}),pt!=="companyInfo.industry"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyInfo.industry}),t.jsx("button",{onClick:()=>$t("companyInfo.industry",F.companyInfo.industry),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["companyInfo.industry"]||"",onChange:Y=>Lt(ve=>({...ve,"companyInfo.industry":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyInfo.industry"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]})]})]})]})}),t.jsx("div",{className:`${d?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${d?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${d?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(sd,{className:"h-5 w-5 text-green-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Address Information"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!d&&W&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:At,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:Wr,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>m(!d),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${d?"rotate-180":""}`})})]})]}),!d&&t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2 md:col-span-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Street Address"}),pt!=="address.street"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.address.street}),t.jsx("button",{onClick:()=>$t("address.street",F.address.street),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["address.street"]||"",onChange:Y=>Lt(ve=>({...ve,"address.street":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("address.street"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"City"}),pt!=="address.city"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.address.city}),t.jsx("button",{onClick:()=>$t("address.city",F.address.city),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["address.city"]||"",onChange:Y=>Lt(ve=>({...ve,"address.city":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("address.city"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"State"}),W?t.jsx("input",{type:"text",value:vt.state,onChange:Y=>Zt(ve=>({...ve,state:Y.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.address.state}),t.jsx("button",{onClick:()=>{Zt(F.address),q(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"ZIP Code"}),W?t.jsx("input",{type:"text",value:vt.zipCode,onChange:Y=>Zt(ve=>({...ve,zipCode:Y.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.address.zipCode}),t.jsx("button",{onClick:()=>{Zt(F.address),q(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Country"}),W?t.jsx("input",{type:"text",value:vt.country,onChange:Y=>Zt(ve=>({...ve,country:Y.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.address.country}),t.jsx("button",{onClick:()=>{Zt(F.address),q(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})})]})]})]})}),t.jsx("div",{className:`${Z?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Z?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Z?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_x,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Company Details"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>be(!Z),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${Z?"rotate-180":""}`})})})]}),!Z&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Founded Year"}),pt!=="companyDetails.foundedYear"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyDetails.foundedYear}),t.jsx("button",{onClick:()=>$t("companyDetails.foundedYear",F.companyDetails.foundedYear),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["companyDetails.foundedYear"]||"",onChange:Y=>Lt(ve=>({...ve,"companyDetails.foundedYear":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyDetails.foundedYear"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Employees"}),pt!=="companyDetails.employees"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyDetails.employees}),t.jsx("button",{onClick:()=>$t("companyDetails.employees",F.companyDetails.employees),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:It["companyDetails.employees"]||"",onValueChange:Y=>Lt(ve=>({...ve,"companyDetails.employees":Y})),children:[t.jsx(rt,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select employee count"})}),t.jsx(st,{children:ws.map(Y=>t.jsx(se,{value:Y,children:Y},Y))})]}),t.jsx("button",{onClick:()=>tr("companyDetails.employees"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Annual Revenue"}),pt!=="companyDetails.revenue"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyDetails.revenue}),t.jsx("button",{onClick:()=>$t("companyDetails.revenue",F.companyDetails.revenue),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:It["companyDetails.revenue"]||"",onValueChange:Y=>Lt(ve=>({...ve,"companyDetails.revenue":Y})),children:[t.jsx(rt,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select revenue range"})}),t.jsx(st,{children:na.map(Y=>t.jsx(se,{value:Y,children:Y},Y))})]}),t.jsx("button",{onClick:()=>tr("companyDetails.revenue"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Headquarters"}),pt!=="companyDetails.headquarters"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyDetails.headquarters}),t.jsx("button",{onClick:()=>$t("companyDetails.headquarters",F.companyDetails.headquarters),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:It["companyDetails.headquarters"]||"",onChange:Y=>Lt(ve=>({...ve,"companyDetails.headquarters":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyDetails.headquarters"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Type"}),pt!=="companyDetails.type"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.companyDetails.type}),t.jsx("button",{onClick:()=>$t("companyDetails.type",F.companyDetails.type),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:It["companyDetails.type"]||"",onValueChange:Y=>Lt(ve=>({...ve,"companyDetails.type":Y})),children:[t.jsx(rt,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select company type"})}),t.jsx(st,{children:bn.map(Y=>t.jsx(se,{value:Y,children:Y},Y))})]}),t.jsx("button",{onClick:()=>tr("companyDetails.type"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Website"}),pt!=="companyDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:t.jsx("a",{href:F.companyDetails.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.companyDetails.website})}),t.jsx("button",{onClick:()=>$t("companyDetails.website",F.companyDetails.website),className:"opacity-0 text-gray-400 transition-opacity group-hover:opacity-100 hover:text-white",children:t.jsx(hr,{size:16})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["companyDetails.website"]||"",onChange:Y=>Lt(ve=>({...ve,"companyDetails.website":Y.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}),t.jsx("button",{onClick:()=>tr("companyDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Check,{size:16})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{size:16})})]})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Description"}),pt!=="companyDetails.description"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:"font-medium leading-relaxed text-white pr-8",children:F.companyDetails.description}),t.jsx("button",{onClick:()=>$t("companyDetails.description",F.companyDetails.description),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100 flex-shrink-0",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("textarea",{value:It["companyDetails.description"]||"",onChange:Y=>Lt(ve=>({...ve,"companyDetails.description":Y.target.value})),rows:3,className:"flex-1 resize-none rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{onClick:()=>tr("companyDetails.description"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry Tags"}),Ae?t.jsx("input",{type:"text",value:sa.tags.join(", "),onChange:Y=>aa(ve=>({...ve,tags:Y.target.value.split(", ").filter(dr=>dr.trim())})),placeholder:"Enter tags separated by commas",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:F.companyDetails.tags.map((Y,ve)=>t.jsx("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-sm text-blue-400",children:Y},ve))})]})]})]})}),t.jsx("div",{className:`${Te?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Te?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Te?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(nY,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Social Media Profiles"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>te(!Te),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${Te?"rotate-180":""}`})})})]}),!Te&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(lr,{className:"h-4 w-4"}),"Professional Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"LinkedIn"}),pt!=="socialMedia.linkedin"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.linkedin?t.jsx("a",{href:F.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.linkedin}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.linkedin",F.socialMedia.linkedin||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.linkedin"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.linkedin":Y.target.value})),placeholder:"https://linkedin.com/in/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.linkedin"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"GitHub"}),pt!=="socialMedia.github"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.github?t.jsx("a",{href:F.socialMedia.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.github}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.github",F.socialMedia.github||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.github"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.github":Y.target.value})),placeholder:"https://github.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.github"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(vs,{className:"h-4 w-4"}),"Social Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Twitter"}),pt!=="socialMedia.twitter"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.twitter?t.jsx("a",{href:F.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.twitter}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.twitter",F.socialMedia.twitter||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.twitter"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.twitter":Y.target.value})),placeholder:"https://twitter.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.twitter"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Facebook"}),pt!=="socialMedia.facebook"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.facebook?t.jsx("a",{href:F.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.facebook}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.facebook",F.socialMedia.facebook||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.facebook"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.facebook":Y.target.value})),placeholder:"https://facebook.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.facebook"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Instagram"}),pt!=="socialMedia.instagram"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.instagram?t.jsx("a",{href:F.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.instagram}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.instagram",F.socialMedia.instagram||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.instagram"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.instagram":Y.target.value})),placeholder:"https://instagram.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.instagram"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"TikTok"}),pt!=="socialMedia.tiktok"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.tiktok?t.jsx("a",{href:F.socialMedia.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.tiktok}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.tiktok",F.socialMedia.tiktok||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.tiktok"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.tiktok":Y.target.value})),placeholder:"https://tiktok.com/@username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.tiktok"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(Ao,{className:"h-4 w-4"}),"Video Platforms"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"YouTube"}),pt!=="socialMedia.youtube"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.youtube?t.jsx("a",{href:F.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.youtube}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>$t("socialMedia.youtube",F.socialMedia.youtube||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(hr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:It["socialMedia.youtube"]||"",onChange:Y=>Lt(ve=>({...ve,"socialMedia.youtube":Y.target.value})),placeholder:"https://youtube.com/channel/...",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.youtube"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:_e,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Personal Website"}),ce?t.jsx("input",{type:"url",value:Ai.website,onChange:Y=>wr(ve=>({...ve,website:Y.target.value})),placeholder:"https://personal-website.com",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"font-medium text-white",children:F.socialMedia.website?t.jsx("a",{href:F.socialMedia.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:F.socialMedia.website}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})})]})]})]})]})]})}),t.jsx("div",{className:`${we?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:`${we?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Hi,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Call Summary"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!we&&t.jsxs("button",{onClick:Qa,className:"flex items-center gap-2 rounded-lg bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600/50 hover:text-white",children:[t.jsx(dn,{className:"h-4 w-4"}),"Copy"]}),t.jsx("button",{onClick:()=>Oe(!we),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${we?"rotate-180":""}`})})]})]}),!we&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"rounded-lg border border-gray-700/50 bg-gray-900/30 p-4",children:t.jsx("p",{className:"leading-relaxed text-gray-300",children:F.aiCallSummary})}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:"Generated from last call"}),t.jsx("span",{children:""}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})}),t.jsxs("div",{className:"mb-6 rounded-xl border border-gray-700/50 bg-gray-800/50 p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_s,{className:"h-5 w-5 text-emerald-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsxs(K,{onClick:()=>H(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",children:[t.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Add Task"]})]}),t.jsx(KNe,{appointments:A,tasks:T,onAppointmentClick:Y=>console.log("Appointment clicked:",Y),onTaskClick:Y=>console.log("Task clicked:",Y)})]}),t.jsx("div",{className:`${Ue?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Ue?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Ue?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ji,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"cursor-pointer text-lg font-semibold text-white transition-colors hover:text-gray-300",onClick:()=>ie(!Ue),children:"Notes"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!Ue&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Gr,onChange:Y=>br(Y.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Tags"}),js.map(Y=>t.jsx("option",{value:Y.value,children:Y.label},Y.value))]})}),!Ue&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Ge,onChange:Y=>Ct(Y.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"Recent Last",children:"Recent Last"}),t.jsx("option",{value:"Recent First",children:"Recent First"})]})}),t.jsx("button",{onClick:()=>ie(!Ue),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${Ue?"rotate-180":""}`})})]})]}),!Ue&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"space-y-4",children:ot().map(Y=>t.jsxs("div",{className:"group flex gap-4",children:[t.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-600 text-sm font-medium text-white",children:Y.createdBy?Y.createdBy.charAt(0).toUpperCase():"N"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all hover:border-gray-600/50",children:[t.jsx("div",{className:"mb-3 flex items-center gap-2",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${lt(Y.tag).color} ${lt(Y.tag).textColor}`,children:lt(Y.tag).label})}),t.jsx("div",{className:"mb-4 whitespace-pre-wrap leading-relaxed text-gray-300",children:Y.content}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-blue-400",children:Y.module}),t.jsx("span",{children:"-"}),t.jsx("a",{href:`#/leads/${Y.recordId}`,className:"text-blue-400 transition-colors hover:text-blue-300",title:Y.recordName,children:Y.recordName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"cursor-pointer text-gray-400 transition-colors hover:text-blue-400",onClick:()=>Nt(!0),children:"Add Note"}),t.jsx("span",{children:""}),t.jsxs("div",{className:"flex items-center gap-1",title:`Edited on ${co(Y.lastUpdated)}`,children:[t.jsx(Rt,{className:"h-3 w-3"}),t.jsxs("span",{children:["Edited on ",wn(Y.lastUpdated)]})]}),t.jsx("span",{children:"by"}),t.jsx("span",{title:Y.createdBy,children:Y.createdBy})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-blue-400",title:"Edit",onClick:()=>Ht(Y.id),children:t.jsx(hr,{className:"h-4 w-4"})}),t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-red-400",title:"Delete",onClick:()=>el(Y.id),children:t.jsx(Ws,{className:"h-4 w-4"})})]})]})]},Y.id))}),t.jsx("div",{className:"mt-6",children:Ot?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Tag:"}),t.jsxs(at,{value:_t,onValueChange:vr,children:[t.jsx(rt,{className:"w-48 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{})}),t.jsx(st,{children:js.map(Y=>t.jsx(se,{value:Y.value,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${Y.color}`}),Y.label]})},Y.value))})]})]}),bs&&t.jsxs("div",{className:"rounded-lg border border-gray-600 bg-gray-700/50 p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(Oo,{className:"h-4 w-4"}),t.jsx("span",{children:"Set reminder for:"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),t.jsx("input",{type:"date",value:Ke,onChange:Y=>Os(Y.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Time"}),t.jsx("input",{type:"time",value:ts,onChange:Y=>hs(Y.target.value),className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]})]})]}),t.jsx("textarea",{value:me,onChange:Y=>Be(Y.target.value),placeholder:"What's this note about?",className:"min-h-[100px] w-full resize-none rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:rr,disabled:!me.trim()||_t==="reminder"&&(!Ke||!ts),className:"flex items-center gap-2 rounded border border-gray-600 bg-gray-700 px-4 py-2 text-sm text-white transition-colors hover:border-gray-500 hover:bg-gray-600 disabled:cursor-not-allowed disabled:bg-gray-800",children:[t.jsx(Vl,{className:"h-4 w-4"}),"Add Note"]}),t.jsx("button",{onClick:()=>{Nt(!1),Be(""),vr("general"),Os(""),hs(""),Er(!1)},className:"rounded-lg px-4 py-2 text-sm text-gray-400 transition-colors hover:text-white",children:"Cancel"})]})]}):t.jsx("button",{onClick:()=>Nt(!0),className:"w-full rounded-lg border border-gray-600/50 bg-gray-700/50 px-4 py-3 text-left text-gray-400 transition-colors hover:border-gray-600 hover:bg-gray-700",children:"Add a note"})})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ao,{className:"h-5 w-5 text-orange-400"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Call Results"})]}),t.jsx("button",{onClick:()=>Ie(!ke),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(ss,{className:`h-5 w-5 transition-transform ${ke?"rotate-180":""}`})})]}),!ke&&t.jsx("div",{className:"space-y-3",children:jt.map(Y=>t.jsx("div",{onClick:()=>Xt(Y),className:"group cursor-pointer rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all duration-200 hover:border-gray-600/50 hover:bg-gray-900/70",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${Y.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:t.jsx(xt,{className:"h-5 w-5"})}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-white",children:Y.date}),t.jsx("span",{className:"text-sm text-gray-400",children:Y.time})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Rt,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:Y.duration})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Bs,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:Y.sentiment})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-sm font-medium ${Y.outcome==="Qualified"?"text-green-400":Y.outcome==="Follow-up"?"text-yellow-400":"text-gray-400"}`,children:Y.outcome}),t.jsx("div",{className:"text-sm text-gray-500",children:Y.cost})]}),t.jsx(ss,{className:"h-5 w-5 rotate-[-90deg] text-gray-500 transition-colors group-hover:text-gray-300"})]})]})},Y.id))})]})})]}),R&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"mx-4 max-w-md rounded-lg border border-gray-700 bg-gray-800 p-6 shadow-xl",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-900/30",children:t.jsx(Ws,{className:"h-5 w-5 text-red-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Delete"})]}),t.jsx("p",{className:"mb-6 text-gray-300",children:"Are you sure you want to delete this note? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:ze,className:"rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{onClick:je,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700",children:"Delete Note"})]})]})}),t.jsx(Yy,{isOpen:g,onClose:()=>v(!1),callData:h}),t.jsx(GNe,{isOpen:B,onClose:()=>H(!1),onCreateTask:Ms,leadId:r||""})]})}const JNe=()=>{const{userContext:e}=ao(),[r,s]=p.useState([]),[a,n]=p.useState({totalMRR:0,newMRR:0,churnedMRR:0,averageRevenue:0,growthRate:0,clientLifetimeValue:0}),[i,o]=p.useState(""),[l,d]=p.useState("all"),[m,h]=p.useState("all");p.useEffect(()=>{const w=[{id:"1",name:"TechStart Solutions",plan:"professional",monthlyRevenue:599,callVolume:2450,status:"active",joinDate:"2024-01-15",lastActivity:"2024-01-18 14:30",industry:"SaaS",contactEmail:"sarah@techstart.com"},{id:"2",name:"Local Home Services",plan:"starter",monthlyRevenue:299,callVolume:890,status:"active",joinDate:"2024-01-10",lastActivity:"2024-01-18 09:15",industry:"Home Services",contactEmail:"mike@localhome.com"},{id:"3",name:"Enterprise Corp",plan:"enterprise",monthlyRevenue:1299,callVolume:5200,status:"active",joinDate:"2023-12-01",lastActivity:"2024-01-18 16:45",industry:"Enterprise",contactEmail:"jennifer@enterprise.com"},{id:"4",name:"GrowthCo Marketing",plan:"professional",monthlyRevenue:599,callVolume:1800,status:"trial",joinDate:"2024-01-12",lastActivity:"2024-01-17 11:20",industry:"Marketing",contactEmail:"david@growthco.com"},{id:"5",name:"RetailMax Store",plan:"starter",monthlyRevenue:299,callVolume:650,status:"paused",joinDate:"2023-11-20",lastActivity:"2024-01-10 08:30",industry:"Retail",contactEmail:"lisa@retailmax.com"}];s(w);const y=w.filter(S=>S.status==="active"),N=y.reduce((S,k)=>S+k.monthlyRevenue,0),C=w.filter(S=>S.status==="active"&&new Date(S.joinDate)>new Date("2024-01-01")).reduce((S,k)=>S+k.monthlyRevenue,0);n({totalMRR:N,newMRR:C,churnedMRR:299,averageRevenue:N/y.length,growthRate:23.5,clientLifetimeValue:N*24})},[]);const f=w=>{switch(w){case"starter":return"bg-blue-100 text-blue-800";case"professional":return"bg-purple-100 text-emerald-800";case"enterprise":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=w=>{switch(w){case"active":return"bg-green-100 text-green-800";case"trial":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"churned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=w=>{switch(w){case"active":return t.jsx(yt,{className:"h-4 w-4"});case"trial":return t.jsx(Rt,{className:"h-4 w-4"});case"paused":return t.jsx(Gt,{className:"h-4 w-4"});case"churned":return t.jsx(Gt,{className:"h-4 w-4"});default:return t.jsx(Rt,{className:"h-4 w-4"})}},b=r.filter(w=>{const y=w.name.toLowerCase().includes(i.toLowerCase())||w.industry.toLowerCase().includes(i.toLowerCase()),N=l==="all"||w.plan===l,C=m==="all"||w.status===m;return y&&N&&C});return t.jsx("div",{className:"min-h-screen bg-black text-white",children:t.jsxs("div",{className:"w-full space-y-8 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agency Command Center"}),t.jsxs("p",{className:"mt-2 text-gray-400",children:["Welcome back, ",(e==null?void 0:e.firstName)||"Agency Admin","! Manage your client portfolio and track revenue performance."]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(K,{className:"bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>window.location.href="/client-onboarding",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Start Onboarding"]}),t.jsxs(K,{className:"bg-blue-600 text-white hover:bg-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add New Client"]}),t.jsxs(K,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(os,{className:"mr-2 h-4 w-4"}),"Settings"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Total MRR"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",a.totalMRR.toLocaleString()]}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-green-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),"+",a.growthRate,"% from last month"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Active Clients"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(w=>w.status==="active").length}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-blue-400",children:[t.jsx(WM,{className:"mr-1 h-3 w-3"}),r.filter(w=>w.status==="trial").length," in trial"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"Avg Revenue/Client"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Math.round(a.averageRevenue).toLocaleString()]}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"Per month"})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(ns,{className:"mr-2 h-4 w-4"}),"Total Call Volume"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.reduce((w,y)=>w+y.callVolume,0).toLocaleString()}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"This month"})]})]})]}),t.jsxs(ki,{defaultValue:"clients",className:"space-y-6",children:[t.jsxs(Jn,{className:"border-gray-800 bg-gray-900",children:[t.jsx(ht,{value:"clients",className:"text-gray-300 data-[state=active]:text-white",children:"Client Management"}),t.jsx(ht,{value:"revenue",className:"text-gray-300 data-[state=active]:text-white",children:"Revenue Analytics"}),t.jsx(ht,{value:"branding",className:"text-gray-300 data-[state=active]:text-white",children:"White-Label Controls"})]}),t.jsxs(ft,{value:"clients",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Xa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Pe,{placeholder:"Search clients...",value:i,onChange:w=>o(w.target.value),className:"border-gray-700 bg-gray-900 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:l,onChange:w=>d(w.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]}),t.jsxs("select",{value:m,onChange:w=>h(w.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"trial",children:"Trial"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"churned",children:"Churned"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:b.map(w=>t.jsx(J,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(zu,{className:"h-12 w-12",children:[t.jsx(Fu,{src:w.logo}),t.jsx(Uu,{className:"bg-gray-800 text-white",children:w.name.substring(0,2).toUpperCase()})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:w.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs(Ne,{variant:"secondary",className:f(w.plan),children:[w.plan==="starter"&&t.jsx(ns,{className:"mr-1 h-3 w-3"}),w.plan==="professional"&&t.jsx(Px,{className:"mr-1 h-3 w-3"}),w.plan==="enterprise"&&t.jsx(Aa,{className:"mr-1 h-3 w-3"}),w.plan.charAt(0).toUpperCase()+w.plan.slice(1)]}),t.jsxs(Ne,{variant:"secondary",className:g(w.status),children:[v(w.status),t.jsx("span",{className:"ml-1",children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Revenue"}),t.jsxs("div",{className:"font-semibold text-white",children:["$",w.monthlyRevenue]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Call Volume"}),t.jsx("div",{className:"font-semibold text-white",children:w.callVolume.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Industry"}),t.jsx("div",{className:"font-semibold text-white",children:w.industry})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Join Date"}),t.jsx("div",{className:"font-semibold text-white",children:new Date(w.joinDate).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"View Details"}),t.jsx(K,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Manage"})]})]})})},w.id))})]}),t.jsx(ft,{value:"revenue",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue Breakdown"}),t.jsx(qt,{className:"text-gray-400",children:"Monthly recurring revenue by plan type"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Enterprise Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,299"})]}),t.jsx(gr,{value:65,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Professional Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,198"})]}),t.jsx(gr,{value:60,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Starter Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$598"})]}),t.jsx(gr,{value:30,className:"h-2"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Growth Metrics"}),t.jsx(qt,{className:"text-gray-400",children:"Key performance indicators"})]}),t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"+$899"}),t.jsx("div",{className:"text-sm text-gray-400",children:"New MRR"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:"-$299"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Churned MRR"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",Math.round(a.clientLifetimeValue).toLocaleString()]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Avg Client LTV"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"23.5%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Growth Rate"})]})]})})]})]})}),t.jsx(ft,{value:"branding",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(eA,{className:"mr-2 h-5 w-5"}),"Brand Customization"]}),t.jsx(qt,{className:"text-gray-400",children:"Customize the platform appearance for your clients"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Logo"}),t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-700 p-6 text-center",children:[t.jsxs("div",{className:"mb-2 text-gray-400",children:[t.jsx(eA,{className:"mx-auto mb-2 h-8 w-8"}),"Upload your logo"]}),t.jsx(K,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300",children:"Choose File"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Primary Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Pe,{type:"color",defaultValue:"#3B82F6",className:"h-10 w-16 border-gray-700 bg-gray-800"}),t.jsx(Pe,{defaultValue:"#3B82F6",className:"border-gray-700 bg-gray-800 text-white"})]})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(Aa,{className:"mr-2 h-5 w-5"}),"Domain Settings"]}),t.jsx(qt,{className:"text-gray-400",children:"Configure custom domains for client portals"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Domain"}),t.jsx(Pe,{placeholder:"yourcompany.apex.ai",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Portal Template"}),t.jsxs("select",{className:"w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-white",children:[t.jsx("option",{children:"Professional Template"}),t.jsx("option",{children:"Modern Template"}),t.jsx("option",{children:"Minimalist Template"})]})]}),t.jsx(K,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Save Configuration"})]})]})]})})]})]})})};function XNe(){const[e]=RW(),r=Nr(),{toast:s}=ds(),a=e.get("token"),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(null),[h,f]=p.useState(null),[g,v]=p.useState(""),[b,w]=p.useState(""),[y,N]=p.useState("");p.useEffect(()=>{a?C():(f("No invitation token provided"),i(!1))},[a]);const C=async()=>{try{const T=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/validate/${a}`),M=await T.json();console.log("Invitation validation response:",M),!T.ok||!M.valid?f(M.error||"Invalid or expired invitation"):m(M.invitation)}catch(T){console.error("Error validating invitation:",T),f("Failed to validate invitation")}finally{i(!1)}},{isSignedIn:S,user:k}=xf(),{getToken:A}=Ma();p.useEffect(()=>{S&&k&&d&&a&&E()},[S,k,d,a]);const E=async()=>{try{l(!0);const T=await A(),M=await fetch("https://apex-backend-august-production.up.railway.app/api/api/invitations/accept-clerk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({token:a,clerkUserId:k.clerkId||k.id})}),L=await M.json();if(M.ok)s({title:"Success!",description:"Your account has been linked. Redirecting to dashboard..."}),setTimeout(()=>{r("/dashboard")},2e3);else throw new Error(L.error||"Failed to link account")}catch(T){console.error("Error linking account:",T),s({title:"Error",description:T instanceof Error?T.message:"Failed to link account",variant:"destructive"})}finally{l(!1)}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx(gi,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Validating invitation..."})]})}):h?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsx(J,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ki,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Invitation"}),t.jsx("p",{className:"text-gray-400 mb-6",children:h}),t.jsx(K,{onClick:()=>r("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go to Login"})]})})})}):d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsxs(J,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-2xl font-bold text-center text-white",children:["Join ",d.organizationName]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs(nr,{className:"bg-emerald-900/20 border-emerald-700",children:[t.jsx(Ta,{className:"h-4 w-4 text-emerald-500"}),t.jsxs(ir,{className:"text-emerald-200",children:["You've been invited to join as a ",d.role.replace("client_","").replace("_"," "),"."]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-gray-300",children:"Your Information"}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 space-y-1",children:[t.jsxs("p",{className:"text-white",children:[t.jsx(vs,{className:"inline h-4 w-4 mr-2 text-gray-400"}),d.firstName," ",d.lastName]}),t.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]})]}),!S&&t.jsx(nr,{className:"bg-blue-900/20 border-blue-700",children:t.jsx(ir,{className:"text-blue-200",children:`Click "Sign Up & Join" below to create your account with Clerk. You'll be redirected back here after signup.`})}),S&&t.jsx(nr,{className:"bg-green-900/20 border-green-700",children:t.jsxs(ir,{className:"text-green-200",children:['Welcome back! Click "Complete Setup" to link your account to ',d.organizationName,"."]})}),t.jsxs("div",{className:"text-xs text-gray-400",children:["This invitation expires on ",new Date(d.expiresAt).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(K,{variant:"outline",onClick:()=>r("/login"),className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),S?o?t.jsxs(K,{disabled:!0,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(gi,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking Account..."]}):t.jsxs(K,{onClick:()=>E(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yt,{className:"mr-2 h-4 w-4"}),"Complete Setup"]}):t.jsx(jH,{mode:"modal",afterSignUpUrl:`/accept-invitation?token=${a}`,signUpForceRedirectUrl:`/accept-invitation?token=${a}`,children:t.jsxs(K,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yt,{className:"mr-2 h-4 w-4"}),"Sign Up & Join"]})})]})]})]})}):null}function QNe(){return Nr(),p.useEffect(()=>{(async()=>{console.log(" Force logging out..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),await ua.auth.signOut(),setTimeout(()=>{window.location.href="/login"},500)})()},[]),t.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-xl",children:"Logging out..."})})}function ZNe(){var o;const[e,r]=p.useState(null),[s,a]=p.useState(null),[n,i]=p.useState("");return p.useEffect(()=>{(async()=>{try{const{data:{session:d},error:m}=await ua.auth.getSession();if(m){i(`Session error: ${m.message}`);return}if(!d){i("No active session");return}r(d.user);const h=await Du.getUserByEmail(d.user.email);a(h)}catch(d){i(`Error: ${d.message}`)}})()},[]),t.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Auth Debug Information"}),n&&t.jsx("div",{className:"bg-red-900/50 border border-red-500 p-4 rounded mb-6",children:n}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Supabase Auth User"}),e?t.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:e.id,email:e.email,email_confirmed_at:e.email_confirmed_at,created_at:e.created_at,updated_at:e.updated_at},null,2)}):t.jsx("p",{className:"text-gray-400",children:"No auth user"})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Database User"}),s?t.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:s.id,email:s.email,first_name:s.first_name,last_name:s.last_name,role:s.role,organization_id:s.organization_id,organization_name:((o=s.organizations)==null?void 0:o.name)||s.organizationName},null,2)}):t.jsx("p",{className:"text-gray-400",children:"No database user"})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),t.jsx("button",{onClick:async()=>{console.log(" Aggressive sign out initiated...");const{error:l}=await ua.auth.signOut();console.log("Supabase signout:",l||"Success"),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(d=>{document.cookie=d.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),"indexedDB"in window&&(await indexedDB.databases()).forEach(m=>{var h;(h=m.name)!=null&&h.includes("supabase")&&indexedDB.deleteDatabase(m.name)}),window.location.href="/login"},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded",children:"Force Sign Out (Aggressive)"})]})]})]})}function e1e(){const{user:e,getToken:r,isSignedIn:s}=Ma(),[a,n]=p.useState(null),[i,o]=p.useState(null),[l,d]=p.useState(!1),[m,h]=p.useState(""),[f,g]=p.useState("");p.useEffect(()=>{(async()=>{const w=await r();n(w)})()},[r]);const v=async()=>{d(!0);try{const b=await r();console.log(" Testing with token:",b?"Present":"None"),console.log(" Token type:",b==null?void 0:b.substring(0,20));const w={businessName:"Test Company "+Date.now(),adminEmail:(e==null?void 0:e.email)||"test@example.com",adminFirstName:(e==null?void 0:e.firstName)||"Test",adminLastName:(e==null?void 0:e.lastName)||"User",teamSize:"0-5",addTeamMembers:!1,teamMembers:[],vapiApiKey:m,vapiPrivateKey:f};console.log(" Sending test data:",w);const y=await fetch("http://localhost:3001/api/organization-setup/setup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:b?`Bearer ${b}`:""},body:JSON.stringify(w)});console.log(" Response status:",y.status);let N;try{N=await y.json()}catch{N={error:"Failed to parse response",rawText:await y.text()}}o({status:y.status,ok:y.ok,data:N})}catch(b){console.error(" Test endpoint error:",b),o({error:!0,message:b.message,stack:b.stack})}finally{d(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:t.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:t.jsxs(J,{className:"bg-gray-800 border-gray-700",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Auth Test Page"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Auth Status"}),t.jsxs("p",{className:"text-white",children:["Signed In: ",s?"Yes":"No"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"User Info"}),t.jsx("pre",{className:"text-xs text-gray-300 bg-gray-900 p-2 rounded overflow-auto",children:JSON.stringify(e,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Token"}),t.jsx("p",{className:"text-xs text-gray-300 break-all",children:a?`${a.substring(0,50)}...`:"No token"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"vapiPrivateKey",className:"block text-sm font-medium text-gray-400 mb-1",children:"VAPI Private Key (Bearer Token)"}),t.jsx("input",{id:"vapiPrivateKey",type:"password",value:f,onChange:b=>g(b.target.value),placeholder:"Enter your VAPI private key",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"vapiApiKey",className:"block text-sm font-medium text-gray-400 mb-1",children:"VAPI Public Key"}),t.jsx("input",{id:"vapiApiKey",type:"text",value:m,onChange:b=>h(b.target.value),placeholder:"Enter your VAPI public key",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(m||f)&&t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsxs("p",{children:["Private Key: ",f?"":"Not set"]}),t.jsxs("p",{children:["Public Key: ",m?`${m.substring(0,10)}...`:"Not set"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(K,{onClick:v,disabled:l,className:"bg-emerald-600 hover:bg-emerald-700",children:l?"Testing...":"Test Organization Setup Endpoint"}),t.jsx(K,{onClick:async()=>{try{const w=await(await fetch("http://localhost:3001/api/organization-setup/health")).json();alert("Health check: "+JSON.stringify(w))}catch(b){alert("Health check failed: "+b.message)}},className:"bg-blue-600 hover:bg-blue-700",children:"Test Health Check"})]}),i&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Test Result"}),t.jsx("pre",{className:"text-xs text-gray-300 bg-gray-900 p-2 rounded overflow-auto",children:JSON.stringify(i,null,2)})]})]})]})})})}const t1e=()=>{const e=Nr(),{userContext:r}=ao();return p.useEffect(()=>{if(!(r!=null&&r.role)){console.log(" RoleBasedRedirect: No role detected, waiting...");return}const s=r.role.toLowerCase();switch(console.log(" RoleBasedRedirect: Redirecting based on role:",s),s){case"platform_owner":console.log(" Redirecting to Platform Owner Dashboard"),e("/platform",{replace:!0});break;case"agency_owner":case"agency_admin":case"agency_user":console.log(" Redirecting to Agency Dashboard"),e("/agency",{replace:!0});break;case"client_admin":case"client_user":default:console.log(" Redirecting to Client Dashboard"),e("/dashboard",{replace:!0});break}},[r==null?void 0:r.role,e]),t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Redirecting to your dashboard..."})]})})},r1e=()=>{const[e,r]=p.useState(null),[s,a]=p.useState(!0),n=async()=>{a(!0);try{const{data:{session:o},error:l}=await ua.auth.getSession(),{data:{user:d},error:m}=await ua.auth.getUser(),h=localStorage.getItem("sb-twigokrtbvigiqnaybfy-auth-token");r({directSession:o,currentUser:d,localStorage_sb_token:h?JSON.parse(h):null,error:l,userError:m,timestamp:new Date().toISOString()})}catch(o){console.error("Error checking session:",o),r({error:o.message})}a(!1)};p.useEffect(()=>{n()},[]);const i=async()=>{try{const{data:{session:o}}=await ua.auth.getSession(),l=await fetch("/api/platform-analytics/overview",{headers:{Authorization:`Bearer ${(o==null?void 0:o.access_token)||"NO_TOKEN"}`}}),d=await l.json();console.log("API Response:",d),alert(`API Response: ${l.status} - ${JSON.stringify(d).substring(0,100)}...`)}catch(o){console.error("API call failed:",o),alert(`API call failed: ${o.message}`)}};return t.jsx("div",{className:"container mx-auto p-8",children:t.jsxs(J,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-2xl font-bold text-white",children:"Supabase Session Debug"}),t.jsx(K,{onClick:n,className:"w-fit",children:"Refresh Session Info"})]}),t.jsx(X,{className:"space-y-4",children:s?t.jsx("div",{className:"text-gray-400",children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Direct Session from Supabase:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.directSession,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Current User from Supabase:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.currentUser,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"LocalStorage Token:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.localStorage_sb_token,null,2)})]}),t.jsx("div",{className:"pt-4",children:t.jsx(K,{onClick:i,variant:"outline",children:"Test API Call with Session Token"})})]})})]})})},Tn=({children:e,allowedRoles:r,redirectTo:s="/dashboard"})=>{var o;const{userContext:a}=ao();if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});const n=(o=a.role)==null?void 0:o.toLowerCase(),i=r.some(l=>l.toLowerCase()===n);return console.log(" RoleBasedRoute: Checking access",{userRole:n,allowedRoles:r,hasAccess:i}),i?t.jsx(t.Fragment,{children:e}):(console.log(" Access denied, redirecting to:",s),t.jsx(EO,{to:s,replace:!0}))};function s1e(){return t.jsx(Hje,{children:t.jsxs(YY,{children:[t.jsxs(wW,{children:[t.jsx(mt,{path:"/",element:t.jsx(Tve,{})}),t.jsx(mt,{path:"/login/*",element:t.jsx(Wq,{routing:"path",path:"/login",afterSignInUrl:"/dashboard"})}),t.jsx(mt,{path:"/signup/*",element:t.jsx(Vq,{routing:"path",path:"/signup",afterSignUpUrl:"/dashboard"})}),t.jsx(mt,{path:"/accept-invitation",element:t.jsx(XNe,{})}),t.jsx(mt,{path:"/force-logout",element:t.jsx(QNe,{})}),t.jsx(mt,{path:"/debug-auth",element:t.jsx(ZNe,{})}),t.jsx(mt,{path:"/test-auth",element:t.jsx(e1e,{})}),t.jsx(mt,{path:"/test",element:t.jsx(zNe,{})}),t.jsx(mt,{path:"/debug-supabase",element:t.jsx(r1e,{})}),t.jsx(mt,{path:"/portal",element:t.jsx(oA,{children:t.jsx(t1e,{})})}),t.jsx(mt,{path:"/scale-architecture",element:t.jsx(Ove,{})}),t.jsxs(mt,{element:t.jsx(oA,{children:t.jsx(mre,{})}),children:[t.jsx(mt,{path:"/dashboard",element:t.jsx(Hye,{})}),t.jsx(mt,{path:"/campaigns",element:t.jsx(rN,{})}),t.jsx(mt,{path:"/vapi-dashboard",element:t.jsx(rN,{})}),t.jsx(mt,{path:"/test-campaigns",element:t.jsx(rN,{})}),t.jsx(mt,{path:"/assistants",element:t.jsx(cNe,{})}),t.jsx(mt,{path:"/campaign-wizard",element:t.jsx(uNe,{})}),t.jsx(mt,{path:"/campaigns/:id",element:t.jsx(lNe,{})}),t.jsx(mt,{path:"/campaigns/:campaignId/calls",element:t.jsx(HNe,{})}),t.jsx(mt,{path:"/calls/:callId",element:t.jsx(qNe,{})}),t.jsx(mt,{path:"/leads/:leadId",element:t.jsx(YNe,{})}),t.jsx(mt,{path:"/all-calls",element:t.jsx(bNe,{})}),t.jsx(mt,{path:"/live-calls",element:t.jsx(Ije,{})}),t.jsx(mt,{path:"/analytics",element:t.jsx(Mje,{})}),t.jsx(mt,{path:"/cost-analytics",element:t.jsx(Qje,{})}),t.jsx(mt,{path:"/crm",element:t.jsx(Xje,{})}),t.jsx(mt,{path:"/phone-numbers",element:t.jsx(Rve,{})}),t.jsx(mt,{path:"/messaging",element:t.jsx(dNe,{})}),t.jsx(mt,{path:"/settings",element:t.jsx(tNe,{})}),t.jsx(mt,{path:"/organization-settings",element:t.jsx(Tn,{allowedRoles:["client_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(NNe,{})})}),t.jsx(mt,{path:"/api-keys",element:t.jsx($Ne,{})}),t.jsx(mt,{path:"/billing",element:t.jsx(Vje,{})}),t.jsx(mt,{path:"/notifications",element:t.jsx(wNe,{})}),t.jsx(mt,{path:"/platform",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(oO,{})})}),t.jsx(mt,{path:"/platform-owner",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(oO,{})})}),t.jsx(mt,{path:"/organizations",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(jNe,{})})}),t.jsx(mt,{path:"/organizations/:id",element:t.jsx(Tn,{allowedRoles:["platform_owner","client_admin"],redirectTo:"/dashboard",children:t.jsx(MNe,{})})}),t.jsx(mt,{path:"/organization-setup",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(PNe,{})})}),t.jsx(mt,{path:"/user-management",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(Sve,{})})}),t.jsx(mt,{path:"/team-management",element:t.jsx(Tn,{allowedRoles:["platform_owner","client_admin","agency_admin"],redirectTo:"/dashboard",children:t.jsx(iNe,{})})}),t.jsx(mt,{path:"/support-tickets",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(Mve,{})})}),t.jsx(mt,{path:"/platform-analytics",element:t.jsx(Tn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(LNe,{})})}),t.jsx(mt,{path:"/agency",element:t.jsx(Tn,{allowedRoles:["agency_owner","agency_admin","agency_user"],redirectTo:"/dashboard",children:t.jsx(JNe,{})})}),t.jsx(mt,{path:"/clients",element:t.jsx(Tn,{allowedRoles:["agency_owner","agency_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(Rje,{})})}),t.jsx(mt,{path:"/audit-logs",element:t.jsx(gNe,{})}),t.jsx(mt,{path:"/system-health",element:t.jsx(xNe,{})}),t.jsx(mt,{path:"*",element:t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400",children:"The page you're looking for doesn't exist."})]})})})]})]}),t.jsx(zre,{})]})})}const a1e="pk_test_dW5pdGVkLWNob3ctMTMuY2xlcmsuYWNjb3VudHMuZGV2JA";CB.createRoot(document.getElementById("root")).render(t.jsx(le.StrictMode,{children:t.jsx(wM,{publishableKey:a1e,afterSignInUrl:"/dashboard",afterSignUpUrl:"/dashboard",signInUrl:"/login",signUpUrl:"/signup",children:t.jsx(OG,{children:t.jsx(AW,{children:t.jsx(s1e,{})})})})}));
