var HB=Object.defineProperty;var qB=(e,r,s)=>r in e?HB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var Es=(e,r,s)=>qB(e,typeof r!="symbol"?r+"":r,s);function KB(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var Wb={exports:{}},wh={},Vb={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function YB(){if(G_)return Ft;G_=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=f&&W[f]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(W,Z,ve){this.props=W,this.context=Z,this.refs=b,this.updater=ve||y}v.prototype.isReactComponent={},v.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},v.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=v.prototype;function C(W,Z,ve){this.props=W,this.context=Z,this.refs=b,this.updater=ve||y}var S=C.prototype=new N;S.constructor=C,w(S,v.prototype),S.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(W,Z,ve){var ne,I={},we=null,le=null;if(Z!=null)for(ne in Z.ref!==void 0&&(le=Z.ref),Z.key!==void 0&&(we=""+Z.key),Z)E.call(Z,ne)&&!T.hasOwnProperty(ne)&&(I[ne]=Z[ne]);var ke=arguments.length-2;if(ke===1)I.children=ve;else if(1<ke){for(var J=Array(ke),Ce=0;Ce<ke;Ce++)J[Ce]=arguments[Ce+2];I.children=J}if(W&&W.defaultProps)for(ne in ke=W.defaultProps,ke)I[ne]===void 0&&(I[ne]=ke[ne]);return{$$typeof:e,type:W,key:we,ref:le,props:I,_owner:A.current}}function z(W,Z){return{$$typeof:e,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function V(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function O(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ve){return Z[ve]})}var R=/\/+/g;function $(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?O(""+W.key):Z.toString(36)}function B(W,Z,ve,ne,I){var we=typeof W;(we==="undefined"||we==="boolean")&&(W=null);var le=!1;if(W===null)le=!0;else switch(we){case"string":case"number":le=!0;break;case"object":switch(W.$$typeof){case e:case r:le=!0}}if(le)return le=W,I=I(le),W=ne===""?"."+$(le,0):ne,_(I)?(ve="",W!=null&&(ve=W.replace(R,"$&/")+"/"),B(I,Z,ve,"",function(Ce){return Ce})):I!=null&&(V(I)&&(I=z(I,ve+(!I.key||le&&le.key===I.key?"":(""+I.key).replace(R,"$&/")+"/")+W)),Z.push(I)),1;if(le=0,ne=ne===""?".":ne+":",_(W))for(var ke=0;ke<W.length;ke++){we=W[ke];var J=ne+$(we,ke);le+=B(we,Z,ve,J,I)}else if(J=g(W),typeof J=="function")for(W=J.call(W),ke=0;!(we=W.next()).done;)we=we.value,J=ne+$(we,ke++),le+=B(we,Z,ve,J,I);else if(we==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return le}function U(W,Z,ve){if(W==null)return W;var ne=[],I=0;return B(W,ne,"","",function(we){return Z.call(ve,we,I++)}),ne}function te(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(ve){(W._status===0||W._status===-1)&&(W._status=1,W._result=ve)},function(ve){(W._status===0||W._status===-1)&&(W._status=2,W._result=ve)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var L={current:null},F={transition:null},q={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:F,ReactCurrentOwner:A};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:U,forEach:function(W,Z,ve){U(W,function(){Z.apply(this,arguments)},ve)},count:function(W){var Z=0;return U(W,function(){Z++}),Z},toArray:function(W){return U(W,function(Z){return Z})||[]},only:function(W){if(!V(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ft.Component=v,Ft.Fragment=s,Ft.Profiler=n,Ft.PureComponent=C,Ft.StrictMode=a,Ft.Suspense=d,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ft.act=ee,Ft.cloneElement=function(W,Z,ve){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ne=w({},W.props),I=W.key,we=W.ref,le=W._owner;if(Z!=null){if(Z.ref!==void 0&&(we=Z.ref,le=A.current),Z.key!==void 0&&(I=""+Z.key),W.type&&W.type.defaultProps)var ke=W.type.defaultProps;for(J in Z)E.call(Z,J)&&!T.hasOwnProperty(J)&&(ne[J]=Z[J]===void 0&&ke!==void 0?ke[J]:Z[J])}var J=arguments.length-2;if(J===1)ne.children=ve;else if(1<J){ke=Array(J);for(var Ce=0;Ce<J;Ce++)ke[Ce]=arguments[Ce+2];ne.children=ke}return{$$typeof:e,type:W.type,key:I,ref:we,props:ne,_owner:le}},Ft.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},Ft.createElement=M,Ft.createFactory=function(W){var Z=M.bind(null,W);return Z.type=W,Z},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(W){return{$$typeof:l,render:W}},Ft.isValidElement=V,Ft.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:te}},Ft.memo=function(W,Z){return{$$typeof:m,type:W,compare:Z===void 0?null:Z}},Ft.startTransition=function(W){var Z=F.transition;F.transition={};try{W()}finally{F.transition=Z}},Ft.unstable_act=ee,Ft.useCallback=function(W,Z){return L.current.useCallback(W,Z)},Ft.useContext=function(W){return L.current.useContext(W)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(W){return L.current.useDeferredValue(W)},Ft.useEffect=function(W,Z){return L.current.useEffect(W,Z)},Ft.useId=function(){return L.current.useId()},Ft.useImperativeHandle=function(W,Z,ve){return L.current.useImperativeHandle(W,Z,ve)},Ft.useInsertionEffect=function(W,Z){return L.current.useInsertionEffect(W,Z)},Ft.useLayoutEffect=function(W,Z){return L.current.useLayoutEffect(W,Z)},Ft.useMemo=function(W,Z){return L.current.useMemo(W,Z)},Ft.useReducer=function(W,Z,ve){return L.current.useReducer(W,Z,ve)},Ft.useRef=function(W){return L.current.useRef(W)},Ft.useState=function(W){return L.current.useState(W)},Ft.useSyncExternalStore=function(W,Z,ve){return L.current.useSyncExternalStore(W,Z,ve)},Ft.useTransition=function(){return L.current.useTransition()},Ft.version="18.3.1",Ft}var Y_;function ym(){return Y_||(Y_=1,Vb.exports=YB()),Vb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function JB(){if(J_)return wh;J_=1;var e=ym(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,m){var h,f={},g=null,y=null;m!==void 0&&(g=""+m),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)a.call(d,h)&&!i.hasOwnProperty(h)&&(f[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)f[h]===void 0&&(f[h]=d[h]);return{$$typeof:r,type:l,key:g,ref:y,props:f,_owner:n.current}}return wh.Fragment=s,wh.jsx=o,wh.jsxs=o,wh}var X_;function XB(){return X_||(X_=1,Wb.exports=JB()),Wb.exports}var t=XB(),p=ym();const ue=ai(p),Dx=KB({__proto__:null,default:ue},[p]);var jg={},Hb={exports:{}},Za={},qb={exports:{}},Kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function QB(){return Q_||(Q_=1,function(e){function r(F,q){var ee=F.length;F.push(q);e:for(;0<ee;){var W=ee-1>>>1,Z=F[W];if(0<n(Z,q))F[W]=q,F[ee]=Z,ee=W;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var q=F[0],ee=F.pop();if(ee!==q){F[0]=ee;e:for(var W=0,Z=F.length,ve=Z>>>1;W<ve;){var ne=2*(W+1)-1,I=F[ne],we=ne+1,le=F[we];if(0>n(I,ee))we<Z&&0>n(le,I)?(F[W]=le,F[we]=ee,W=we):(F[W]=I,F[ne]=ee,W=ne);else if(we<Z&&0>n(le,ee))F[W]=le,F[we]=ee,W=we;else break e}}return q}function n(F,q){var ee=F.sortIndex-q.sortIndex;return ee!==0?ee:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],m=[],h=1,f=null,g=3,y=!1,w=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var q=s(m);q!==null;){if(q.callback===null)a(m);else if(q.startTime<=F)a(m),q.sortIndex=q.expirationTime,r(d,q);else break;q=s(m)}}function _(F){if(b=!1,S(F),!w)if(s(d)!==null)w=!0,te(E);else{var q=s(m);q!==null&&L(_,q.startTime-F)}}function E(F,q){w=!1,b&&(b=!1,N(M),M=-1),y=!0;var ee=g;try{for(S(q),f=s(d);f!==null&&(!(f.expirationTime>q)||F&&!O());){var W=f.callback;if(typeof W=="function"){f.callback=null,g=f.priorityLevel;var Z=W(f.expirationTime<=q);q=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===s(d)&&a(d),S(q)}else a(d);f=s(d)}if(f!==null)var ve=!0;else{var ne=s(m);ne!==null&&L(_,ne.startTime-q),ve=!1}return ve}finally{f=null,g=ee,y=!1}}var A=!1,T=null,M=-1,z=5,V=-1;function O(){return!(e.unstable_now()-V<z)}function R(){if(T!==null){var F=e.unstable_now();V=F;var q=!0;try{q=T(!0,F)}finally{q?$():(A=!1,T=null)}}else A=!1}var $;if(typeof C=="function")$=function(){C(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=R,$=function(){U.postMessage(null)}}else $=function(){v(R,0)};function te(F){T=F,A||(A=!0,$())}function L(F,q){M=v(function(){F(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,te(E))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var ee=g;g=q;try{return F()}finally{g=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=g;g=F;try{return q()}finally{g=ee}},e.unstable_scheduleCallback=function(F,q,ee){var W=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ee+Z,F={id:h++,callback:q,priorityLevel:F,startTime:ee,expirationTime:Z,sortIndex:-1},ee>W?(F.sortIndex=ee,r(m,F),s(d)===null&&F===s(m)&&(b?(N(M),M=-1):b=!0,L(_,ee-W))):(F.sortIndex=Z,r(d,F),w||y||(w=!0,te(E))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var q=g;return function(){var ee=g;g=q;try{return F.apply(this,arguments)}finally{g=ee}}}}(Kb)),Kb}var Z_;function ZB(){return Z_||(Z_=1,qb.exports=QB()),qb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function eW(){if(eP)return Za;eP=1;var e=ym(),r=ZB();function s(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(n[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(c){return d.call(f,c)?!0:d.call(h,c)?!1:m.test(c)?f[c]=!0:(h[c]=!0,!1)}function y(c,u,x,j){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,u,x,j){if(u===null||typeof u>"u"||y(c,u,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(c,u,x,j,k,P,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=k,this.mustUseProperty=x,this.propertyName=c,this.type=u,this.sanitizeURL=P,this.removeEmptyString=D}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){v[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];v[u]=new b(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){v[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){v[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){v[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){v[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){v[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){v[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){v[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(N,C);v[u]=new b(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(N,C);v[u]=new b(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(N,C);v[u]=new b(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){v[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){v[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,u,x,j){var k=v.hasOwnProperty(u)?v[u]:null;(k!==null?k.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,x,k,j)&&(x=null),j||k===null?g(u)&&(x===null?c.removeAttribute(u):c.setAttribute(u,""+x)):k.mustUseProperty?c[k.propertyName]=x===null?k.type===3?!1:"":x:(u=k.attributeName,j=k.attributeNamespace,x===null?c.removeAttribute(u):(k=k.type,x=k===3||k===4&&x===!0?"":""+x,j?c.setAttributeNS(j,u,x):c.setAttribute(u,x))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),F=Symbol.iterator;function q(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var ee=Object.assign,W;function Z(c){if(W===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+c}var ve=!1;function ne(c,u){if(!c||ve)return"";ve=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(be){var j=be}Reflect.construct(c,[],u)}else{try{u.call()}catch(be){j=be}c.call(u.prototype)}else{try{throw Error()}catch(be){j=be}c()}}catch(be){if(be&&j&&typeof be.stack=="string"){for(var k=be.stack.split(`
`),P=j.stack.split(`
`),D=k.length-1,Y=P.length-1;1<=D&&0<=Y&&k[D]!==P[Y];)Y--;for(;1<=D&&0<=Y;D--,Y--)if(k[D]!==P[Y]){if(D!==1||Y!==1)do if(D--,Y--,0>Y||k[D]!==P[Y]){var se=`
`+k[D].replace(" at new "," at ");return c.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",c.displayName)),se}while(1<=D&&0<=Y);break}}}finally{ve=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?Z(c):""}function I(c){switch(c.tag){case 5:return Z(c.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return c=ne(c.type,!1),c;case 11:return c=ne(c.type.render,!1),c;case 1:return c=ne(c.type,!0),c;default:return""}}function we(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case A:return"Portal";case z:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case B:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case O:return(c.displayName||"Context")+".Consumer";case V:return(c._context.displayName||"Context")+".Provider";case R:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case U:return u=c.displayName||null,u!==null?u:we(c.type)||"Memo";case te:u=c._payload,c=c._init;try{return we(c(u))}catch{}}return null}function le(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ke(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function J(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(c){var u=J(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),j=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var k=x.get,P=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return k.call(this)},set:function(D){j=""+D,P.call(this,D)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(D){j=""+D},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function fe(c){c._valueTracker||(c._valueTracker=Ce(c))}function Q(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),j="";return c&&(j=J(c)?c.checked?"true":"false":c.value),c=j,c!==x?(u.setValue(c),!0):!1}function he(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Se(c,u){var x=u.checked;return ee({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function Te(c,u){var x=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;x=ke(u.value!=null?u.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ce(c,u){u=u.checked,u!=null&&S(c,"checked",u,!1)}function Ve(c,u){ce(c,u);var x=ke(u.value),j=u.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?de(c,u.type,x):u.hasOwnProperty("defaultValue")&&de(c,u.type,ke(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function ht(c,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,x||u===c.value||(c.value=u),c.defaultValue=u}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function de(c,u,x){(u!=="number"||he(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var Le=Array.isArray;function nt(c,u,x,j){if(c=c.options,u){u={};for(var k=0;k<x.length;k++)u["$"+x[k]]=!0;for(x=0;x<c.length;x++)k=u.hasOwnProperty("$"+c[x].value),c[x].selected!==k&&(c[x].selected=k),k&&j&&(c[x].defaultSelected=!0)}else{for(x=""+ke(x),u=null,k=0;k<c.length;k++){if(c[k].value===x){c[k].selected=!0,j&&(c[k].defaultSelected=!0);return}u!==null||c[k].disabled||(u=c[k])}u!==null&&(u.selected=!0)}}function xt(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(s(91));return ee({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function ar(c,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(s(92));if(Le(x)){if(1<x.length)throw Error(s(93));x=x[0]}u=x}u==null&&(u=""),x=u}c._wrapperState={initialValue:ke(x)}}function qr(c,u){var x=ke(u.value),j=ke(u.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),u.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function Gt(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Zt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kr(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Zt(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var gr,Ye=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,j,k){MSApp.execUnsafeLocalFunction(function(){return c(u,x,j,k)})}:c}(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=gr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function xr(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_a=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(c){_a.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),kr[u]=kr[c]})});function ur(c,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||kr.hasOwnProperty(c)&&kr[c]?(""+u).trim():u+"px"}function fs(c,u){c=c.style;for(var x in u)if(u.hasOwnProperty(x)){var j=x.indexOf("--")===0,k=ur(x,u[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,k):c[x]=k}}var Yt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(c,u){if(u){if(Yt[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(s(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(s(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(s(61))}if(u.style!=null&&typeof u.style!="object")throw Error(s(62))}}function Mt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=null;function oe(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ne=null,Be=null,lt=null;function Nt(c){if(c=ih(c)){if(typeof Ne!="function")throw Error(s(280));var u=c.stateNode;u&&(u=Lp(u),Ne(c.stateNode,c.type,u))}}function ir(c){Be?lt?lt.push(c):lt=[c]:Be=c}function _t(){if(Be){var c=Be,u=lt;if(lt=Be=null,Nt(c),u)for(c=0;c<u.length;c++)Nt(u[c])}}function Pa(c,u){return c(u)}function _s(){}var Aa=!1;function oa(c,u,x){if(Aa)return c(u,x);Aa=!0;try{return Pa(c,u,x)}finally{Aa=!1,(Be!==null||lt!==null)&&(_s(),_t())}}function as(c,u){var x=c.stateNode;if(x===null)return null;var j=Lp(x);if(j===null)return null;x=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(s(231,u,typeof x));return x}var ps=!1;if(l)try{var $s={};Object.defineProperty($s,"passive",{get:function(){ps=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{ps=!1}function Wa(c,u,x,j,k,P,D,Y,se){var be=Array.prototype.slice.call(arguments,3);try{u.apply(x,be)}catch(Ie){this.onError(Ie)}}var Xs=!1,Va=null,Ea=!1,Bi=null,Pt={onError:function(c){Xs=!0,Va=c}};function nr(c,u,x,j,k,P,D,Y,se){Xs=!1,Va=null,Wa.apply(Pt,arguments)}function Oe(c,u,x,j,k,P,D,Y,se){if(nr.apply(this,arguments),Xs){if(Xs){var be=Va;Xs=!1,Va=null}else throw Error(s(198));Ea||(Ea=!0,Bi=be)}}function ot(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function ft(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function Tt(c){if(ot(c)!==c)throw Error(s(188))}function It(c){var u=c.alternate;if(!u){if(u=ot(c),u===null)throw Error(s(188));return u!==c?null:c}for(var x=c,j=u;;){var k=x.return;if(k===null)break;var P=k.alternate;if(P===null){if(j=k.return,j!==null){x=j;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===x)return Tt(k),c;if(P===j)return Tt(k),u;P=P.sibling}throw Error(s(188))}if(x.return!==j.return)x=k,j=P;else{for(var D=!1,Y=k.child;Y;){if(Y===x){D=!0,x=k,j=P;break}if(Y===j){D=!0,j=k,x=P;break}Y=Y.sibling}if(!D){for(Y=P.child;Y;){if(Y===x){D=!0,x=P,j=k;break}if(Y===j){D=!0,j=P,x=k;break}Y=Y.sibling}if(!D)throw Error(s(189))}}if(x.alternate!==j)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?c:u}function Wi(c){return c=It(c),c!==null?oi(c):null}function oi(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=oi(c);if(u!==null)return u;c=c.sibling}return null}var la=r.unstable_scheduleCallback,Mr=r.unstable_cancelCallback,Ha=r.unstable_shouldYield,Nc=r.unstable_requestPaint,or=r.unstable_now,An=r.unstable_getCurrentPriorityLevel,En=r.unstable_ImmediatePriority,gs=r.unstable_UserBlockingPriority,zs=r.unstable_NormalPriority,No=r.unstable_LowPriority,Jd=r.unstable_IdlePriority,gl=null,qa=null;function Sc(c){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(gl,c,void 0,(c.current.flags&128)===128)}catch{}}var X=Math.clz32?Math.clz32:xs,_e=Math.log,_r=Math.LN2;function xs(c){return c>>>=0,c===0?32:31-(_e(c)/_r|0)|0}var Gr=64,Ka=4194304;function li(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Vi(c,u){var x=c.pendingLanes;if(x===0)return 0;var j=0,k=c.suspendedLanes,P=c.pingedLanes,D=x&268435455;if(D!==0){var Y=D&~k;Y!==0?j=li(Y):(P&=D,P!==0&&(j=li(P)))}else D=x&~k,D!==0?j=li(D):P!==0&&(j=li(P));if(j===0)return 0;if(u!==0&&u!==j&&(u&k)===0&&(k=j&-j,P=u&-u,k>=P||k===16&&(P&4194240)!==0))return u;if((j&4)!==0&&(j|=x&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=j;0<u;)x=31-X(u),k=1<<x,j|=c[x],u&=~k;return j}function Cc(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(c,u){for(var x=c.suspendedLanes,j=c.pingedLanes,k=c.expirationTimes,P=c.pendingLanes;0<P;){var D=31-X(P),Y=1<<D,se=k[D];se===-1?((Y&x)===0||(Y&j)!==0)&&(k[D]=Cc(Y,u)):se<=u&&(c.expiredLanes|=Y),P&=~Y}}function Ue(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function yt(){var c=Gr;return Gr<<=1,(Gr&4194240)===0&&(Gr=64),c}function Ct(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function br(c,u,x){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-X(u),c[u]=x}function So(c,u){var x=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var k=31-X(x),P=1<<k;u[k]=0,j[k]=-1,c[k]=-1,x&=~P}}function Ta(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var j=31-X(x),k=1<<j;k&u|c[j]&u&&(c[j]|=u),x&=~k}}var St=0;function Tn(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var ys,ln,Ir,ca,Dr,Oa=!1,Co=[],ci=null,di=null,ui=null,xl=new Map,yl=new Map,mi=[],jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vm(c,u){switch(c){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":xl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(u.pointerId)}}function vl(c,u,x,j,k,P){return c===null||c.nativeEvent!==P?(c={blockedOn:u,domEventName:x,eventSystemFlags:j,nativeEvent:P,targetContainers:[k]},u!==null&&(u=ih(u),u!==null&&ln(u)),c):(c.eventSystemFlags|=j,u=c.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),c)}function Np(c,u,x,j,k){switch(u){case"focusin":return ci=vl(ci,c,u,x,j,k),!0;case"dragenter":return di=vl(di,c,u,x,j,k),!0;case"mouseover":return ui=vl(ui,c,u,x,j,k),!0;case"pointerover":var P=k.pointerId;return xl.set(P,vl(xl.get(P)||null,c,u,x,j,k)),!0;case"gotpointercapture":return P=k.pointerId,yl.set(P,vl(yl.get(P)||null,c,u,x,j,k)),!0}return!1}function Hm(c){var u=Pc(c.target);if(u!==null){var x=ot(u);if(x!==null){if(u=x.tag,u===13){if(u=ft(x),u!==null){c.blockedOn=u,Dr(c.priority,function(){Ir(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function kc(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=Km(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);zt=j,x.target.dispatchEvent(j),zt=null}else return u=ih(x),u!==null&&ln(u),c.blockedOn=x,!1;u.shift()}return!0}function qm(c,u,x){kc(c)&&x.delete(u)}function Sp(){Oa=!1,ci!==null&&kc(ci)&&(ci=null),di!==null&&kc(di)&&(di=null),ui!==null&&kc(ui)&&(ui=null),xl.forEach(qm),yl.forEach(qm)}function bl(c,u){c.blockedOn===u&&(c.blockedOn=null,Oa||(Oa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sp)))}function wl(c){function u(k){return bl(k,c)}if(0<Co.length){bl(Co[0],c);for(var x=1;x<Co.length;x++){var j=Co[x];j.blockedOn===c&&(j.blockedOn=null)}}for(ci!==null&&bl(ci,c),di!==null&&bl(di,c),ui!==null&&bl(ui,c),xl.forEach(u),yl.forEach(u),x=0;x<mi.length;x++)j=mi[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<mi.length&&(x=mi[0],x.blockedOn===null);)Hm(x),x.blockedOn===null&&mi.shift()}var ko=_.ReactCurrentBatchConfig,_c=!0;function Cp(c,u,x,j){var k=St,P=ko.transition;ko.transition=null;try{St=1,Xd(c,u,x,j)}finally{St=k,ko.transition=P}}function kp(c,u,x,j){var k=St,P=ko.transition;ko.transition=null;try{St=4,Xd(c,u,x,j)}finally{St=k,ko.transition=P}}function Xd(c,u,x,j){if(_c){var k=Km(c,u,x,j);if(k===null)Rv(c,u,j,We,x),Vm(c,j);else if(Np(k,c,u,x,j))j.stopPropagation();else if(Vm(c,j),u&4&&-1<jp.indexOf(c)){for(;k!==null;){var P=ih(k);if(P!==null&&ys(P),P=Km(c,u,x,j),P===null&&Rv(c,u,j,We,x),P===k)break;k=P}k!==null&&j.stopPropagation()}else Rv(c,u,j,null,x)}}var We=null;function Km(c,u,x,j){if(We=null,c=oe(j),c=Pc(c),c!==null)if(u=ot(c),u===null)c=null;else if(x=u.tag,x===13){if(c=ft(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return We=c,null}function Qd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(An()){case En:return 1;case gs:return 4;case zs:case No:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var lr=null,Lr=null,_o=null;function Gm(){if(_o)return _o;var c,u=Lr,x=u.length,j,k="value"in lr?lr.value:lr.textContent,P=k.length;for(c=0;c<x&&u[c]===k[c];c++);var D=x-c;for(j=1;j<=D&&u[x-j]===k[P-j];j++);return _o=k.slice(c,1<j?1-j:void 0)}function _p(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Pp(){return!0}function D4(){return!1}function cn(c){function u(x,j,k,P,D){this._reactName=x,this._targetInst=k,this.type=j,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var Y in c)c.hasOwnProperty(Y)&&(x=c[Y],this[Y]=x?x(P):P[Y]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Pp:D4,this.isPropagationStopped=D4,this}return ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),u}var Zd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yv=cn(Zd),Ym=ee({},Zd,{view:0,detail:0}),y9=cn(Ym),vv,bv,Jm,Ap=ee({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jv,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Jm&&(Jm&&c.type==="mousemove"?(vv=c.screenX-Jm.screenX,bv=c.screenY-Jm.screenY):bv=vv=0,Jm=c),vv)},movementY:function(c){return"movementY"in c?c.movementY:bv}}),L4=cn(Ap),v9=ee({},Ap,{dataTransfer:0}),b9=cn(v9),w9=ee({},Ym,{relatedTarget:0}),wv=cn(w9),j9=ee({},Zd,{animationName:0,elapsedTime:0,pseudoElement:0}),N9=cn(j9),S9=ee({},Zd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),C9=cn(S9),k9=ee({},Zd,{data:0}),$4=cn(k9),_9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E9(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=A9[c])?!!u[c]:!1}function jv(){return E9}var T9=ee({},Ym,{key:function(c){if(c.key){var u=_9[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=_p(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?P9[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jv,charCode:function(c){return c.type==="keypress"?_p(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?_p(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),O9=cn(T9),R9=ee({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z4=cn(R9),M9=ee({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jv}),I9=cn(M9),D9=ee({},Zd,{propertyName:0,elapsedTime:0,pseudoElement:0}),L9=cn(D9),$9=ee({},Ap,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),z9=cn($9),F9=[9,13,27,32],Nv=l&&"CompositionEvent"in window,Xm=null;l&&"documentMode"in document&&(Xm=document.documentMode);var U9=l&&"TextEvent"in window&&!Xm,F4=l&&(!Nv||Xm&&8<Xm&&11>=Xm),U4=" ",B4=!1;function W4(c,u){switch(c){case"keyup":return F9.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V4(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var eu=!1;function B9(c,u){switch(c){case"compositionend":return V4(u);case"keypress":return u.which!==32?null:(B4=!0,U4);case"textInput":return c=u.data,c===U4&&B4?null:c;default:return null}}function W9(c,u){if(eu)return c==="compositionend"||!Nv&&W4(c,u)?(c=Gm(),_o=Lr=lr=null,eu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return F4&&u.locale!=="ko"?null:u.data;default:return null}}var V9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H4(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!V9[c.type]:u==="textarea"}function q4(c,u,x,j){ir(j),u=Mp(u,"onChange"),0<u.length&&(x=new yv("onChange","change",null,x,j),c.push({event:x,listeners:u}))}var Qm=null,Zm=null;function H9(c){dk(c,0)}function Ep(c){var u=nu(c);if(Q(u))return c}function q9(c,u){if(c==="change")return u}var K4=!1;if(l){var Sv;if(l){var Cv="oninput"in document;if(!Cv){var G4=document.createElement("div");G4.setAttribute("oninput","return;"),Cv=typeof G4.oninput=="function"}Sv=Cv}else Sv=!1;K4=Sv&&(!document.documentMode||9<document.documentMode)}function Y4(){Qm&&(Qm.detachEvent("onpropertychange",J4),Zm=Qm=null)}function J4(c){if(c.propertyName==="value"&&Ep(Zm)){var u=[];q4(u,Zm,c,oe(c)),oa(H9,u)}}function K9(c,u,x){c==="focusin"?(Y4(),Qm=u,Zm=x,Qm.attachEvent("onpropertychange",J4)):c==="focusout"&&Y4()}function G9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ep(Zm)}function Y9(c,u){if(c==="click")return Ep(u)}function J9(c,u){if(c==="input"||c==="change")return Ep(u)}function X9(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var hi=typeof Object.is=="function"?Object.is:X9;function eh(c,u){if(hi(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),j=Object.keys(u);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var k=x[j];if(!d.call(u,k)||!hi(c[k],u[k]))return!1}return!0}function X4(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Q4(c,u){var x=X4(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=u&&j>=u)return{node:x,offset:u-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=X4(x)}}function Z4(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?Z4(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function ek(){for(var c=window,u=he();u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=he(c.document)}return u}function kv(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function Q9(c){var u=ek(),x=c.focusedElem,j=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&Z4(x.ownerDocument.documentElement,x)){if(j!==null&&kv(x)){if(u=j.start,c=j.end,c===void 0&&(c=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(c,x.value.length);else if(c=(u=x.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var k=x.textContent.length,P=Math.min(j.start,k);j=j.end===void 0?P:Math.min(j.end,k),!c.extend&&P>j&&(k=j,j=P,P=k),k=Q4(x,P);var D=Q4(x,j);k&&D&&(c.rangeCount!==1||c.anchorNode!==k.node||c.anchorOffset!==k.offset||c.focusNode!==D.node||c.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),c.removeAllRanges(),P>j?(c.addRange(u),c.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),c.addRange(u)))}}for(u=[],c=x;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)c=u[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Z9=l&&"documentMode"in document&&11>=document.documentMode,tu=null,_v=null,th=null,Pv=!1;function tk(c,u,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Pv||tu==null||tu!==he(j)||(j=tu,"selectionStart"in j&&kv(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),th&&eh(th,j)||(th=j,j=Mp(_v,"onSelect"),0<j.length&&(u=new yv("onSelect","select",null,u,x),c.push({event:u,listeners:j}),u.target=tu)))}function Tp(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var ru={animationend:Tp("Animation","AnimationEnd"),animationiteration:Tp("Animation","AnimationIteration"),animationstart:Tp("Animation","AnimationStart"),transitionend:Tp("Transition","TransitionEnd")},Av={},rk={};l&&(rk=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Op(c){if(Av[c])return Av[c];if(!ru[c])return c;var u=ru[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in rk)return Av[c]=u[x];return c}var sk=Op("animationend"),ak=Op("animationiteration"),nk=Op("animationstart"),ik=Op("transitionend"),ok=new Map,lk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(c,u){ok.set(c,u),i(u,[c])}for(var Ev=0;Ev<lk.length;Ev++){var Tv=lk[Ev],eB=Tv.toLowerCase(),tB=Tv[0].toUpperCase()+Tv.slice(1);jl(eB,"on"+tB)}jl(sk,"onAnimationEnd"),jl(ak,"onAnimationIteration"),jl(nk,"onAnimationStart"),jl("dblclick","onDoubleClick"),jl("focusin","onFocus"),jl("focusout","onBlur"),jl(ik,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rB=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function ck(c,u,x){var j=c.type||"unknown-event";c.currentTarget=x,Oe(j,u,void 0,c),c.currentTarget=null}function dk(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],k=j.event;j=j.listeners;e:{var P=void 0;if(u)for(var D=j.length-1;0<=D;D--){var Y=j[D],se=Y.instance,be=Y.currentTarget;if(Y=Y.listener,se!==P&&k.isPropagationStopped())break e;ck(k,Y,be),P=se}else for(D=0;D<j.length;D++){if(Y=j[D],se=Y.instance,be=Y.currentTarget,Y=Y.listener,se!==P&&k.isPropagationStopped())break e;ck(k,Y,be),P=se}}}if(Ea)throw c=Bi,Ea=!1,Bi=null,c}function Pr(c,u){var x=u[zv];x===void 0&&(x=u[zv]=new Set);var j=c+"__bubble";x.has(j)||(uk(u,c,2,!1),x.add(j))}function Ov(c,u,x){var j=0;u&&(j|=4),uk(x,c,j,u)}var Rp="_reactListening"+Math.random().toString(36).slice(2);function sh(c){if(!c[Rp]){c[Rp]=!0,a.forEach(function(x){x!=="selectionchange"&&(rB.has(x)||Ov(x,!1,c),Ov(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[Rp]||(u[Rp]=!0,Ov("selectionchange",!1,u))}}function uk(c,u,x,j){switch(Qd(u)){case 1:var k=Cp;break;case 4:k=kp;break;default:k=Xd}x=k.bind(null,u,x,c),k=void 0,!ps||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),j?k!==void 0?c.addEventListener(u,x,{capture:!0,passive:k}):c.addEventListener(u,x,!0):k!==void 0?c.addEventListener(u,x,{passive:k}):c.addEventListener(u,x,!1)}function Rv(c,u,x,j,k){var P=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var D=j.tag;if(D===3||D===4){var Y=j.stateNode.containerInfo;if(Y===k||Y.nodeType===8&&Y.parentNode===k)break;if(D===4)for(D=j.return;D!==null;){var se=D.tag;if((se===3||se===4)&&(se=D.stateNode.containerInfo,se===k||se.nodeType===8&&se.parentNode===k))return;D=D.return}for(;Y!==null;){if(D=Pc(Y),D===null)return;if(se=D.tag,se===5||se===6){j=P=D;continue e}Y=Y.parentNode}}j=j.return}oa(function(){var be=P,Ie=oe(x),De=[];e:{var Me=ok.get(c);if(Me!==void 0){var He=yv,Je=c;switch(c){case"keypress":if(_p(x)===0)break e;case"keydown":case"keyup":He=O9;break;case"focusin":Je="focus",He=wv;break;case"focusout":Je="blur",He=wv;break;case"beforeblur":case"afterblur":He=wv;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=L4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=b9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=I9;break;case sk:case ak:case nk:He=N9;break;case ik:He=L9;break;case"scroll":He=y9;break;case"wheel":He=z9;break;case"copy":case"cut":case"paste":He=C9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=z4}var et=(u&4)!==0,ns=!et&&c==="scroll",me=et?Me!==null?Me+"Capture":null:Me;et=[];for(var ie=be,pe;ie!==null;){pe=ie;var ze=pe.stateNode;if(pe.tag===5&&ze!==null&&(pe=ze,me!==null&&(ze=as(ie,me),ze!=null&&et.push(ah(ie,ze,pe)))),ns)break;ie=ie.return}0<et.length&&(Me=new He(Me,Je,null,x,Ie),De.push({event:Me,listeners:et}))}}if((u&7)===0){e:{if(Me=c==="mouseover"||c==="pointerover",He=c==="mouseout"||c==="pointerout",Me&&x!==zt&&(Je=x.relatedTarget||x.fromElement)&&(Pc(Je)||Je[Po]))break e;if((He||Me)&&(Me=Ie.window===Ie?Ie:(Me=Ie.ownerDocument)?Me.defaultView||Me.parentWindow:window,He?(Je=x.relatedTarget||x.toElement,He=be,Je=Je?Pc(Je):null,Je!==null&&(ns=ot(Je),Je!==ns||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(He=null,Je=be),He!==Je)){if(et=L4,ze="onMouseLeave",me="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(et=z4,ze="onPointerLeave",me="onPointerEnter",ie="pointer"),ns=He==null?Me:nu(He),pe=Je==null?Me:nu(Je),Me=new et(ze,ie+"leave",He,x,Ie),Me.target=ns,Me.relatedTarget=pe,ze=null,Pc(Ie)===be&&(et=new et(me,ie+"enter",Je,x,Ie),et.target=pe,et.relatedTarget=ns,ze=et),ns=ze,He&&Je)t:{for(et=He,me=Je,ie=0,pe=et;pe;pe=su(pe))ie++;for(pe=0,ze=me;ze;ze=su(ze))pe++;for(;0<ie-pe;)et=su(et),ie--;for(;0<pe-ie;)me=su(me),pe--;for(;ie--;){if(et===me||me!==null&&et===me.alternate)break t;et=su(et),me=su(me)}et=null}else et=null;He!==null&&mk(De,Me,He,et,!1),Je!==null&&ns!==null&&mk(De,ns,Je,et,!0)}}e:{if(Me=be?nu(be):window,He=Me.nodeName&&Me.nodeName.toLowerCase(),He==="select"||He==="input"&&Me.type==="file")var it=q9;else if(H4(Me))if(K4)it=J9;else{it=G9;var dt=K9}else(He=Me.nodeName)&&He.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(it=Y9);if(it&&(it=it(c,be))){q4(De,it,x,Ie);break e}dt&&dt(c,Me,be),c==="focusout"&&(dt=Me._wrapperState)&&dt.controlled&&Me.type==="number"&&de(Me,"number",Me.value)}switch(dt=be?nu(be):window,c){case"focusin":(H4(dt)||dt.contentEditable==="true")&&(tu=dt,_v=be,th=null);break;case"focusout":th=_v=tu=null;break;case"mousedown":Pv=!0;break;case"contextmenu":case"mouseup":case"dragend":Pv=!1,tk(De,x,Ie);break;case"selectionchange":if(Z9)break;case"keydown":case"keyup":tk(De,x,Ie)}var ut;if(Nv)e:{switch(c){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else eu?W4(c,x)&&(pt="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(pt="onCompositionStart");pt&&(F4&&x.locale!=="ko"&&(eu||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&eu&&(ut=Gm()):(lr=Ie,Lr="value"in lr?lr.value:lr.textContent,eu=!0)),dt=Mp(be,pt),0<dt.length&&(pt=new $4(pt,c,null,x,Ie),De.push({event:pt,listeners:dt}),ut?pt.data=ut:(ut=V4(x),ut!==null&&(pt.data=ut)))),(ut=U9?B9(c,x):W9(c,x))&&(be=Mp(be,"onBeforeInput"),0<be.length&&(Ie=new $4("onBeforeInput","beforeinput",null,x,Ie),De.push({event:Ie,listeners:be}),Ie.data=ut))}dk(De,u)})}function ah(c,u,x){return{instance:c,listener:u,currentTarget:x}}function Mp(c,u){for(var x=u+"Capture",j=[];c!==null;){var k=c,P=k.stateNode;k.tag===5&&P!==null&&(k=P,P=as(c,x),P!=null&&j.unshift(ah(c,P,k)),P=as(c,u),P!=null&&j.push(ah(c,P,k))),c=c.return}return j}function su(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function mk(c,u,x,j,k){for(var P=u._reactName,D=[];x!==null&&x!==j;){var Y=x,se=Y.alternate,be=Y.stateNode;if(se!==null&&se===j)break;Y.tag===5&&be!==null&&(Y=be,k?(se=as(x,P),se!=null&&D.unshift(ah(x,se,Y))):k||(se=as(x,P),se!=null&&D.push(ah(x,se,Y)))),x=x.return}D.length!==0&&c.push({event:u,listeners:D})}var sB=/\r\n?/g,aB=/\u0000|\uFFFD/g;function hk(c){return(typeof c=="string"?c:""+c).replace(sB,`
`).replace(aB,"")}function Ip(c,u,x){if(u=hk(u),hk(c)!==u&&x)throw Error(s(425))}function Dp(){}var Mv=null,Iv=null;function Dv(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,nB=typeof clearTimeout=="function"?clearTimeout:void 0,fk=typeof Promise=="function"?Promise:void 0,iB=typeof queueMicrotask=="function"?queueMicrotask:typeof fk<"u"?function(c){return fk.resolve(null).then(c).catch(oB)}:Lv;function oB(c){setTimeout(function(){throw c})}function $v(c,u){var x=u,j=0;do{var k=x.nextSibling;if(c.removeChild(x),k&&k.nodeType===8)if(x=k.data,x==="/$"){if(j===0){c.removeChild(k),wl(u);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=k}while(x);wl(u)}function Nl(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function pk(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}var au=Math.random().toString(36).slice(2),Hi="__reactFiber$"+au,nh="__reactProps$"+au,Po="__reactContainer$"+au,zv="__reactEvents$"+au,lB="__reactListeners$"+au,cB="__reactHandles$"+au;function Pc(c){var u=c[Hi];if(u)return u;for(var x=c.parentNode;x;){if(u=x[Po]||x[Hi]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=pk(c);c!==null;){if(x=c[Hi])return x;c=pk(c)}return u}c=x,x=c.parentNode}return null}function ih(c){return c=c[Hi]||c[Po],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function nu(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(s(33))}function Lp(c){return c[nh]||null}var Fv=[],iu=-1;function Sl(c){return{current:c}}function Ar(c){0>iu||(c.current=Fv[iu],Fv[iu]=null,iu--)}function wr(c,u){iu++,Fv[iu]=c.current,c.current=u}var Cl={},da=Sl(Cl),Ga=Sl(!1),Ac=Cl;function ou(c,u){var x=c.type.contextTypes;if(!x)return Cl;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var k={},P;for(P in x)k[P]=u[P];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=k),k}function Ya(c){return c=c.childContextTypes,c!=null}function $p(){Ar(Ga),Ar(da)}function gk(c,u,x){if(da.current!==Cl)throw Error(s(168));wr(da,u),wr(Ga,x)}function xk(c,u,x){var j=c.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var k in j)if(!(k in u))throw Error(s(108,le(c)||"Unknown",k));return ee({},x,j)}function zp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Cl,Ac=da.current,wr(da,c),wr(Ga,Ga.current),!0}function yk(c,u,x){var j=c.stateNode;if(!j)throw Error(s(169));x?(c=xk(c,u,Ac),j.__reactInternalMemoizedMergedChildContext=c,Ar(Ga),Ar(da),wr(da,c)):Ar(Ga),wr(Ga,x)}var Ao=null,Fp=!1,Uv=!1;function vk(c){Ao===null?Ao=[c]:Ao.push(c)}function dB(c){Fp=!0,vk(c)}function kl(){if(!Uv&&Ao!==null){Uv=!0;var c=0,u=St;try{var x=Ao;for(St=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}Ao=null,Fp=!1}catch(k){throw Ao!==null&&(Ao=Ao.slice(c+1)),la(En,kl),k}finally{St=u,Uv=!1}}return null}var lu=[],cu=0,Up=null,Bp=0,On=[],Rn=0,Ec=null,Eo=1,To="";function Tc(c,u){lu[cu++]=Bp,lu[cu++]=Up,Up=c,Bp=u}function bk(c,u,x){On[Rn++]=Eo,On[Rn++]=To,On[Rn++]=Ec,Ec=c;var j=Eo;c=To;var k=32-X(j)-1;j&=~(1<<k),x+=1;var P=32-X(u)+k;if(30<P){var D=k-k%5;P=(j&(1<<D)-1).toString(32),j>>=D,k-=D,Eo=1<<32-X(u)+k|x<<k|j,To=P+c}else Eo=1<<P|x<<k|j,To=c}function Bv(c){c.return!==null&&(Tc(c,1),bk(c,1,0))}function Wv(c){for(;c===Up;)Up=lu[--cu],lu[cu]=null,Bp=lu[--cu],lu[cu]=null;for(;c===Ec;)Ec=On[--Rn],On[Rn]=null,To=On[--Rn],On[Rn]=null,Eo=On[--Rn],On[Rn]=null}var dn=null,un=null,$r=!1,fi=null;function wk(c,u){var x=Ln(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=c,u=c.deletions,u===null?(c.deletions=[x],c.flags|=16):u.push(x)}function jk(c,u){switch(c.tag){case 5:var x=c.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,dn=c,un=Nl(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,dn=c,un=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=Ec!==null?{id:Eo,overflow:To}:null,c.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=Ln(18,null,null,0),x.stateNode=u,x.return=c,c.child=x,dn=c,un=null,!0):!1;default:return!1}}function Vv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Hv(c){if($r){var u=un;if(u){var x=u;if(!jk(c,u)){if(Vv(c))throw Error(s(418));u=Nl(x.nextSibling);var j=dn;u&&jk(c,u)?wk(j,x):(c.flags=c.flags&-4097|2,$r=!1,dn=c)}}else{if(Vv(c))throw Error(s(418));c.flags=c.flags&-4097|2,$r=!1,dn=c}}}function Nk(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;dn=c}function Wp(c){if(c!==dn)return!1;if(!$r)return Nk(c),$r=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!Dv(c.type,c.memoizedProps)),u&&(u=un)){if(Vv(c))throw Sk(),Error(s(418));for(;u;)wk(c,u),u=Nl(u.nextSibling)}if(Nk(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(u===0){un=Nl(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}c=c.nextSibling}un=null}}else un=dn?Nl(c.stateNode.nextSibling):null;return!0}function Sk(){for(var c=un;c;)c=Nl(c.nextSibling)}function du(){un=dn=null,$r=!1}function qv(c){fi===null?fi=[c]:fi.push(c)}var uB=_.ReactCurrentBatchConfig;function oh(c,u,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(s(309));var j=x.stateNode}if(!j)throw Error(s(147,c));var k=j,P=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(D){var Y=k.refs;D===null?delete Y[P]:Y[P]=D},u._stringRef=P,u)}if(typeof c!="string")throw Error(s(284));if(!x._owner)throw Error(s(290,c))}return c}function Vp(c,u){throw c=Object.prototype.toString.call(u),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function Ck(c){var u=c._init;return u(c._payload)}function kk(c){function u(me,ie){if(c){var pe=me.deletions;pe===null?(me.deletions=[ie],me.flags|=16):pe.push(ie)}}function x(me,ie){if(!c)return null;for(;ie!==null;)u(me,ie),ie=ie.sibling;return null}function j(me,ie){for(me=new Map;ie!==null;)ie.key!==null?me.set(ie.key,ie):me.set(ie.index,ie),ie=ie.sibling;return me}function k(me,ie){return me=Ml(me,ie),me.index=0,me.sibling=null,me}function P(me,ie,pe){return me.index=pe,c?(pe=me.alternate,pe!==null?(pe=pe.index,pe<ie?(me.flags|=2,ie):pe):(me.flags|=2,ie)):(me.flags|=1048576,ie)}function D(me){return c&&me.alternate===null&&(me.flags|=2),me}function Y(me,ie,pe,ze){return ie===null||ie.tag!==6?(ie=Lb(pe,me.mode,ze),ie.return=me,ie):(ie=k(ie,pe),ie.return=me,ie)}function se(me,ie,pe,ze){var it=pe.type;return it===T?Ie(me,ie,pe.props.children,ze,pe.key):ie!==null&&(ie.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===te&&Ck(it)===ie.type)?(ze=k(ie,pe.props),ze.ref=oh(me,ie,pe),ze.return=me,ze):(ze=fg(pe.type,pe.key,pe.props,null,me.mode,ze),ze.ref=oh(me,ie,pe),ze.return=me,ze)}function be(me,ie,pe,ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==pe.containerInfo||ie.stateNode.implementation!==pe.implementation?(ie=$b(pe,me.mode,ze),ie.return=me,ie):(ie=k(ie,pe.children||[]),ie.return=me,ie)}function Ie(me,ie,pe,ze,it){return ie===null||ie.tag!==7?(ie=zc(pe,me.mode,ze,it),ie.return=me,ie):(ie=k(ie,pe),ie.return=me,ie)}function De(me,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Lb(""+ie,me.mode,pe),ie.return=me,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return pe=fg(ie.type,ie.key,ie.props,null,me.mode,pe),pe.ref=oh(me,null,ie),pe.return=me,pe;case A:return ie=$b(ie,me.mode,pe),ie.return=me,ie;case te:var ze=ie._init;return De(me,ze(ie._payload),pe)}if(Le(ie)||q(ie))return ie=zc(ie,me.mode,pe,null),ie.return=me,ie;Vp(me,ie)}return null}function Me(me,ie,pe,ze){var it=ie!==null?ie.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return it!==null?null:Y(me,ie,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case E:return pe.key===it?se(me,ie,pe,ze):null;case A:return pe.key===it?be(me,ie,pe,ze):null;case te:return it=pe._init,Me(me,ie,it(pe._payload),ze)}if(Le(pe)||q(pe))return it!==null?null:Ie(me,ie,pe,ze,null);Vp(me,pe)}return null}function He(me,ie,pe,ze,it){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return me=me.get(pe)||null,Y(ie,me,""+ze,it);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case E:return me=me.get(ze.key===null?pe:ze.key)||null,se(ie,me,ze,it);case A:return me=me.get(ze.key===null?pe:ze.key)||null,be(ie,me,ze,it);case te:var dt=ze._init;return He(me,ie,pe,dt(ze._payload),it)}if(Le(ze)||q(ze))return me=me.get(pe)||null,Ie(ie,me,ze,it,null);Vp(ie,ze)}return null}function Je(me,ie,pe,ze){for(var it=null,dt=null,ut=ie,pt=ie=0,Bs=null;ut!==null&&pt<pe.length;pt++){ut.index>pt?(Bs=ut,ut=null):Bs=ut.sibling;var tr=Me(me,ut,pe[pt],ze);if(tr===null){ut===null&&(ut=Bs);break}c&&ut&&tr.alternate===null&&u(me,ut),ie=P(tr,ie,pt),dt===null?it=tr:dt.sibling=tr,dt=tr,ut=Bs}if(pt===pe.length)return x(me,ut),$r&&Tc(me,pt),it;if(ut===null){for(;pt<pe.length;pt++)ut=De(me,pe[pt],ze),ut!==null&&(ie=P(ut,ie,pt),dt===null?it=ut:dt.sibling=ut,dt=ut);return $r&&Tc(me,pt),it}for(ut=j(me,ut);pt<pe.length;pt++)Bs=He(ut,me,pt,pe[pt],ze),Bs!==null&&(c&&Bs.alternate!==null&&ut.delete(Bs.key===null?pt:Bs.key),ie=P(Bs,ie,pt),dt===null?it=Bs:dt.sibling=Bs,dt=Bs);return c&&ut.forEach(function(Il){return u(me,Il)}),$r&&Tc(me,pt),it}function et(me,ie,pe,ze){var it=q(pe);if(typeof it!="function")throw Error(s(150));if(pe=it.call(pe),pe==null)throw Error(s(151));for(var dt=it=null,ut=ie,pt=ie=0,Bs=null,tr=pe.next();ut!==null&&!tr.done;pt++,tr=pe.next()){ut.index>pt?(Bs=ut,ut=null):Bs=ut.sibling;var Il=Me(me,ut,tr.value,ze);if(Il===null){ut===null&&(ut=Bs);break}c&&ut&&Il.alternate===null&&u(me,ut),ie=P(Il,ie,pt),dt===null?it=Il:dt.sibling=Il,dt=Il,ut=Bs}if(tr.done)return x(me,ut),$r&&Tc(me,pt),it;if(ut===null){for(;!tr.done;pt++,tr=pe.next())tr=De(me,tr.value,ze),tr!==null&&(ie=P(tr,ie,pt),dt===null?it=tr:dt.sibling=tr,dt=tr);return $r&&Tc(me,pt),it}for(ut=j(me,ut);!tr.done;pt++,tr=pe.next())tr=He(ut,me,pt,tr.value,ze),tr!==null&&(c&&tr.alternate!==null&&ut.delete(tr.key===null?pt:tr.key),ie=P(tr,ie,pt),dt===null?it=tr:dt.sibling=tr,dt=tr);return c&&ut.forEach(function(VB){return u(me,VB)}),$r&&Tc(me,pt),it}function ns(me,ie,pe,ze){if(typeof pe=="object"&&pe!==null&&pe.type===T&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case E:e:{for(var it=pe.key,dt=ie;dt!==null;){if(dt.key===it){if(it=pe.type,it===T){if(dt.tag===7){x(me,dt.sibling),ie=k(dt,pe.props.children),ie.return=me,me=ie;break e}}else if(dt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===te&&Ck(it)===dt.type){x(me,dt.sibling),ie=k(dt,pe.props),ie.ref=oh(me,dt,pe),ie.return=me,me=ie;break e}x(me,dt);break}else u(me,dt);dt=dt.sibling}pe.type===T?(ie=zc(pe.props.children,me.mode,ze,pe.key),ie.return=me,me=ie):(ze=fg(pe.type,pe.key,pe.props,null,me.mode,ze),ze.ref=oh(me,ie,pe),ze.return=me,me=ze)}return D(me);case A:e:{for(dt=pe.key;ie!==null;){if(ie.key===dt)if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){x(me,ie.sibling),ie=k(ie,pe.children||[]),ie.return=me,me=ie;break e}else{x(me,ie);break}else u(me,ie);ie=ie.sibling}ie=$b(pe,me.mode,ze),ie.return=me,me=ie}return D(me);case te:return dt=pe._init,ns(me,ie,dt(pe._payload),ze)}if(Le(pe))return Je(me,ie,pe,ze);if(q(pe))return et(me,ie,pe,ze);Vp(me,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ie!==null&&ie.tag===6?(x(me,ie.sibling),ie=k(ie,pe),ie.return=me,me=ie):(x(me,ie),ie=Lb(pe,me.mode,ze),ie.return=me,me=ie),D(me)):x(me,ie)}return ns}var uu=kk(!0),_k=kk(!1),Hp=Sl(null),qp=null,mu=null,Kv=null;function Gv(){Kv=mu=qp=null}function Yv(c){var u=Hp.current;Ar(Hp),c._currentValue=u}function Jv(c,u,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),c===x)break;c=c.return}}function hu(c,u){qp=c,Kv=mu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Ja=!0),c.firstContext=null)}function Mn(c){var u=c._currentValue;if(Kv!==c)if(c={context:c,memoizedValue:u,next:null},mu===null){if(qp===null)throw Error(s(308));mu=c,qp.dependencies={lanes:0,firstContext:c}}else mu=mu.next=c;return u}var Oc=null;function Xv(c){Oc===null?Oc=[c]:Oc.push(c)}function Pk(c,u,x,j){var k=u.interleaved;return k===null?(x.next=x,Xv(u)):(x.next=k.next,k.next=x),u.interleaved=x,Oo(c,j)}function Oo(c,u){c.lanes|=u;var x=c.alternate;for(x!==null&&(x.lanes|=u),x=c,c=c.return;c!==null;)c.childLanes|=u,x=c.alternate,x!==null&&(x.childLanes|=u),x=c,c=c.return;return x.tag===3?x.stateNode:null}var _l=!1;function Qv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ak(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ro(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Pl(c,u,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(er&2)!==0){var k=j.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),j.pending=u,Oo(c,x)}return k=j.interleaved,k===null?(u.next=u,Xv(j)):(u.next=k.next,k.next=u),j.interleaved=u,Oo(c,x)}function Kp(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Ta(c,x)}}function Ek(c,u){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var k=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var D={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?k=P=D:P=P.next=D,x=x.next}while(x!==null);P===null?k=P=u:P=P.next=u}else k=P=u;x={baseState:j.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}function Gp(c,u,x,j){var k=c.updateQueue;_l=!1;var P=k.firstBaseUpdate,D=k.lastBaseUpdate,Y=k.shared.pending;if(Y!==null){k.shared.pending=null;var se=Y,be=se.next;se.next=null,D===null?P=be:D.next=be,D=se;var Ie=c.alternate;Ie!==null&&(Ie=Ie.updateQueue,Y=Ie.lastBaseUpdate,Y!==D&&(Y===null?Ie.firstBaseUpdate=be:Y.next=be,Ie.lastBaseUpdate=se))}if(P!==null){var De=k.baseState;D=0,Ie=be=se=null,Y=P;do{var Me=Y.lane,He=Y.eventTime;if((j&Me)===Me){Ie!==null&&(Ie=Ie.next={eventTime:He,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Je=c,et=Y;switch(Me=u,He=x,et.tag){case 1:if(Je=et.payload,typeof Je=="function"){De=Je.call(He,De,Me);break e}De=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=et.payload,Me=typeof Je=="function"?Je.call(He,De,Me):Je,Me==null)break e;De=ee({},De,Me);break e;case 2:_l=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,Me=k.effects,Me===null?k.effects=[Y]:Me.push(Y))}else He={eventTime:He,lane:Me,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ie===null?(be=Ie=He,se=De):Ie=Ie.next=He,D|=Me;if(Y=Y.next,Y===null){if(Y=k.shared.pending,Y===null)break;Me=Y,Y=Me.next,Me.next=null,k.lastBaseUpdate=Me,k.shared.pending=null}}while(!0);if(Ie===null&&(se=De),k.baseState=se,k.firstBaseUpdate=be,k.lastBaseUpdate=Ie,u=k.shared.interleaved,u!==null){k=u;do D|=k.lane,k=k.next;while(k!==u)}else P===null&&(k.shared.lanes=0);Ic|=D,c.lanes=D,c.memoizedState=De}}function Tk(c,u,x){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var j=c[u],k=j.callback;if(k!==null){if(j.callback=null,j=x,typeof k!="function")throw Error(s(191,k));k.call(j)}}}var lh={},qi=Sl(lh),ch=Sl(lh),dh=Sl(lh);function Rc(c){if(c===lh)throw Error(s(174));return c}function Zv(c,u){switch(wr(dh,u),wr(ch,c),wr(qi,lh),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kr(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Kr(u,c)}Ar(qi),wr(qi,u)}function fu(){Ar(qi),Ar(ch),Ar(dh)}function Ok(c){Rc(dh.current);var u=Rc(qi.current),x=Kr(u,c.type);u!==x&&(wr(ch,c),wr(qi,x))}function eb(c){ch.current===c&&(Ar(qi),Ar(ch))}var Yr=Sl(0);function Yp(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var tb=[];function rb(){for(var c=0;c<tb.length;c++)tb[c]._workInProgressVersionPrimary=null;tb.length=0}var Jp=_.ReactCurrentDispatcher,sb=_.ReactCurrentBatchConfig,Mc=0,Jr=null,Ps=null,Fs=null,Xp=!1,uh=!1,mh=0,mB=0;function ua(){throw Error(s(321))}function ab(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!hi(c[x],u[x]))return!1;return!0}function nb(c,u,x,j,k,P){if(Mc=P,Jr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Jp.current=c===null||c.memoizedState===null?gB:xB,c=x(j,k),uh){P=0;do{if(uh=!1,mh=0,25<=P)throw Error(s(301));P+=1,Fs=Ps=null,u.updateQueue=null,Jp.current=yB,c=x(j,k)}while(uh)}if(Jp.current=eg,u=Ps!==null&&Ps.next!==null,Mc=0,Fs=Ps=Jr=null,Xp=!1,u)throw Error(s(300));return c}function ib(){var c=mh!==0;return mh=0,c}function Ki(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fs===null?Jr.memoizedState=Fs=c:Fs=Fs.next=c,Fs}function In(){if(Ps===null){var c=Jr.alternate;c=c!==null?c.memoizedState:null}else c=Ps.next;var u=Fs===null?Jr.memoizedState:Fs.next;if(u!==null)Fs=u,Ps=c;else{if(c===null)throw Error(s(310));Ps=c,c={memoizedState:Ps.memoizedState,baseState:Ps.baseState,baseQueue:Ps.baseQueue,queue:Ps.queue,next:null},Fs===null?Jr.memoizedState=Fs=c:Fs=Fs.next=c}return Fs}function hh(c,u){return typeof u=="function"?u(c):u}function ob(c){var u=In(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=Ps,k=j.baseQueue,P=x.pending;if(P!==null){if(k!==null){var D=k.next;k.next=P.next,P.next=D}j.baseQueue=k=P,x.pending=null}if(k!==null){P=k.next,j=j.baseState;var Y=D=null,se=null,be=P;do{var Ie=be.lane;if((Mc&Ie)===Ie)se!==null&&(se=se.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),j=be.hasEagerState?be.eagerState:c(j,be.action);else{var De={lane:Ie,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};se===null?(Y=se=De,D=j):se=se.next=De,Jr.lanes|=Ie,Ic|=Ie}be=be.next}while(be!==null&&be!==P);se===null?D=j:se.next=Y,hi(j,u.memoizedState)||(Ja=!0),u.memoizedState=j,u.baseState=D,u.baseQueue=se,x.lastRenderedState=j}if(c=x.interleaved,c!==null){k=c;do P=k.lane,Jr.lanes|=P,Ic|=P,k=k.next;while(k!==c)}else k===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function lb(c){var u=In(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=x.dispatch,k=x.pending,P=u.memoizedState;if(k!==null){x.pending=null;var D=k=k.next;do P=c(P,D.action),D=D.next;while(D!==k);hi(P,u.memoizedState)||(Ja=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),x.lastRenderedState=P}return[P,j]}function Rk(){}function Mk(c,u){var x=Jr,j=In(),k=u(),P=!hi(j.memoizedState,k);if(P&&(j.memoizedState=k,Ja=!0),j=j.queue,cb(Lk.bind(null,x,j,c),[c]),j.getSnapshot!==u||P||Fs!==null&&Fs.memoizedState.tag&1){if(x.flags|=2048,fh(9,Dk.bind(null,x,j,k,u),void 0,null),Us===null)throw Error(s(349));(Mc&30)!==0||Ik(x,u,k)}return k}function Ik(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=Jr.updateQueue,u===null?(u={lastEffect:null,stores:null},Jr.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function Dk(c,u,x,j){u.value=x,u.getSnapshot=j,$k(u)&&zk(c)}function Lk(c,u,x){return x(function(){$k(u)&&zk(c)})}function $k(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!hi(c,x)}catch{return!0}}function zk(c){var u=Oo(c,1);u!==null&&yi(u,c,1,-1)}function Fk(c){var u=Ki();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:c},u.queue=c,c=c.dispatch=pB.bind(null,Jr,c),[u.memoizedState,c]}function fh(c,u,x,j){return c={tag:c,create:u,destroy:x,deps:j,next:null},u=Jr.updateQueue,u===null?(u={lastEffect:null,stores:null},Jr.updateQueue=u,u.lastEffect=c.next=c):(x=u.lastEffect,x===null?u.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,u.lastEffect=c)),c}function Uk(){return In().memoizedState}function Qp(c,u,x,j){var k=Ki();Jr.flags|=c,k.memoizedState=fh(1|u,x,void 0,j===void 0?null:j)}function Zp(c,u,x,j){var k=In();j=j===void 0?null:j;var P=void 0;if(Ps!==null){var D=Ps.memoizedState;if(P=D.destroy,j!==null&&ab(j,D.deps)){k.memoizedState=fh(u,x,P,j);return}}Jr.flags|=c,k.memoizedState=fh(1|u,x,P,j)}function Bk(c,u){return Qp(8390656,8,c,u)}function cb(c,u){return Zp(2048,8,c,u)}function Wk(c,u){return Zp(4,2,c,u)}function Vk(c,u){return Zp(4,4,c,u)}function Hk(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function qk(c,u,x){return x=x!=null?x.concat([c]):null,Zp(4,4,Hk.bind(null,u,c),x)}function db(){}function Kk(c,u){var x=In();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&ab(u,j[1])?j[0]:(x.memoizedState=[c,u],c)}function Gk(c,u){var x=In();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&ab(u,j[1])?j[0]:(c=c(),x.memoizedState=[c,u],c)}function Yk(c,u,x){return(Mc&21)===0?(c.baseState&&(c.baseState=!1,Ja=!0),c.memoizedState=x):(hi(x,u)||(x=yt(),Jr.lanes|=x,Ic|=x,c.baseState=!0),u)}function hB(c,u){var x=St;St=x!==0&&4>x?x:4,c(!0);var j=sb.transition;sb.transition={};try{c(!1),u()}finally{St=x,sb.transition=j}}function Jk(){return In().memoizedState}function fB(c,u,x){var j=Ol(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},Xk(c))Qk(u,x);else if(x=Pk(c,u,x,j),x!==null){var k=Ma();yi(x,c,j,k),Zk(x,u,j)}}function pB(c,u,x){var j=Ol(c),k={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(Xk(c))Qk(u,k);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var D=u.lastRenderedState,Y=P(D,x);if(k.hasEagerState=!0,k.eagerState=Y,hi(Y,D)){var se=u.interleaved;se===null?(k.next=k,Xv(u)):(k.next=se.next,se.next=k),u.interleaved=k;return}}catch{}finally{}x=Pk(c,u,k,j),x!==null&&(k=Ma(),yi(x,c,j,k),Zk(x,u,j))}}function Xk(c){var u=c.alternate;return c===Jr||u!==null&&u===Jr}function Qk(c,u){uh=Xp=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function Zk(c,u,x){if((x&4194240)!==0){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Ta(c,x)}}var eg={readContext:Mn,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},gB={readContext:Mn,useCallback:function(c,u){return Ki().memoizedState=[c,u===void 0?null:u],c},useContext:Mn,useEffect:Bk,useImperativeHandle:function(c,u,x){return x=x!=null?x.concat([c]):null,Qp(4194308,4,Hk.bind(null,u,c),x)},useLayoutEffect:function(c,u){return Qp(4194308,4,c,u)},useInsertionEffect:function(c,u){return Qp(4,2,c,u)},useMemo:function(c,u){var x=Ki();return u=u===void 0?null:u,c=c(),x.memoizedState=[c,u],c},useReducer:function(c,u,x){var j=Ki();return u=x!==void 0?x(u):u,j.memoizedState=j.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},j.queue=c,c=c.dispatch=fB.bind(null,Jr,c),[j.memoizedState,c]},useRef:function(c){var u=Ki();return c={current:c},u.memoizedState=c},useState:Fk,useDebugValue:db,useDeferredValue:function(c){return Ki().memoizedState=c},useTransition:function(){var c=Fk(!1),u=c[0];return c=hB.bind(null,c[1]),Ki().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,x){var j=Jr,k=Ki();if($r){if(x===void 0)throw Error(s(407));x=x()}else{if(x=u(),Us===null)throw Error(s(349));(Mc&30)!==0||Ik(j,u,x)}k.memoizedState=x;var P={value:x,getSnapshot:u};return k.queue=P,Bk(Lk.bind(null,j,P,c),[c]),j.flags|=2048,fh(9,Dk.bind(null,j,P,x,u),void 0,null),x},useId:function(){var c=Ki(),u=Us.identifierPrefix;if($r){var x=To,j=Eo;x=(j&~(1<<32-X(j)-1)).toString(32)+x,u=":"+u+"R"+x,x=mh++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=mB++,u=":"+u+"r"+x.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},xB={readContext:Mn,useCallback:Kk,useContext:Mn,useEffect:cb,useImperativeHandle:qk,useInsertionEffect:Wk,useLayoutEffect:Vk,useMemo:Gk,useReducer:ob,useRef:Uk,useState:function(){return ob(hh)},useDebugValue:db,useDeferredValue:function(c){var u=In();return Yk(u,Ps.memoizedState,c)},useTransition:function(){var c=ob(hh)[0],u=In().memoizedState;return[c,u]},useMutableSource:Rk,useSyncExternalStore:Mk,useId:Jk,unstable_isNewReconciler:!1},yB={readContext:Mn,useCallback:Kk,useContext:Mn,useEffect:cb,useImperativeHandle:qk,useInsertionEffect:Wk,useLayoutEffect:Vk,useMemo:Gk,useReducer:lb,useRef:Uk,useState:function(){return lb(hh)},useDebugValue:db,useDeferredValue:function(c){var u=In();return Ps===null?u.memoizedState=c:Yk(u,Ps.memoizedState,c)},useTransition:function(){var c=lb(hh)[0],u=In().memoizedState;return[c,u]},useMutableSource:Rk,useSyncExternalStore:Mk,useId:Jk,unstable_isNewReconciler:!1};function pi(c,u){if(c&&c.defaultProps){u=ee({},u),c=c.defaultProps;for(var x in c)u[x]===void 0&&(u[x]=c[x]);return u}return u}function ub(c,u,x,j){u=c.memoizedState,x=x(j,u),x=x==null?u:ee({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var tg={isMounted:function(c){return(c=c._reactInternals)?ot(c)===c:!1},enqueueSetState:function(c,u,x){c=c._reactInternals;var j=Ma(),k=Ol(c),P=Ro(j,k);P.payload=u,x!=null&&(P.callback=x),u=Pl(c,P,k),u!==null&&(yi(u,c,k,j),Kp(u,c,k))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var j=Ma(),k=Ol(c),P=Ro(j,k);P.tag=1,P.payload=u,x!=null&&(P.callback=x),u=Pl(c,P,k),u!==null&&(yi(u,c,k,j),Kp(u,c,k))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=Ma(),j=Ol(c),k=Ro(x,j);k.tag=2,u!=null&&(k.callback=u),u=Pl(c,k,j),u!==null&&(yi(u,c,j,x),Kp(u,c,j))}};function e_(c,u,x,j,k,P,D){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,P,D):u.prototype&&u.prototype.isPureReactComponent?!eh(x,j)||!eh(k,P):!0}function t_(c,u,x){var j=!1,k=Cl,P=u.contextType;return typeof P=="object"&&P!==null?P=Mn(P):(k=Ya(u)?Ac:da.current,j=u.contextTypes,P=(j=j!=null)?ou(c,k):Cl),u=new u(x,P),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=tg,c.stateNode=u,u._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=k,c.__reactInternalMemoizedMaskedChildContext=P),u}function r_(c,u,x,j){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,j),u.state!==c&&tg.enqueueReplaceState(u,u.state,null)}function mb(c,u,x,j){var k=c.stateNode;k.props=x,k.state=c.memoizedState,k.refs={},Qv(c);var P=u.contextType;typeof P=="object"&&P!==null?k.context=Mn(P):(P=Ya(u)?Ac:da.current,k.context=ou(c,P)),k.state=c.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(ub(c,u,P,x),k.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&tg.enqueueReplaceState(k,k.state,null),Gp(c,x,k,j),k.state=c.memoizedState),typeof k.componentDidMount=="function"&&(c.flags|=4194308)}function pu(c,u){try{var x="",j=u;do x+=I(j),j=j.return;while(j);var k=x}catch(P){k=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:u,stack:k,digest:null}}function hb(c,u,x){return{value:c,source:null,stack:x??null,digest:u??null}}function fb(c,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var vB=typeof WeakMap=="function"?WeakMap:Map;function s_(c,u,x){x=Ro(-1,x),x.tag=3,x.payload={element:null};var j=u.value;return x.callback=function(){lg||(lg=!0,Ab=j),fb(c,u)},x}function a_(c,u,x){x=Ro(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var k=u.value;x.payload=function(){return j(k)},x.callback=function(){fb(c,u)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){fb(c,u),typeof j!="function"&&(El===null?El=new Set([this]):El.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),x}function n_(c,u,x){var j=c.pingCache;if(j===null){j=c.pingCache=new vB;var k=new Set;j.set(u,k)}else k=j.get(u),k===void 0&&(k=new Set,j.set(u,k));k.has(x)||(k.add(x),c=RB.bind(null,c,u,x),u.then(c,c))}function i_(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function o_(c,u,x,j,k){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=Ro(-1,1),u.tag=2,Pl(x,u,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=k,c)}var bB=_.ReactCurrentOwner,Ja=!1;function Ra(c,u,x,j){u.child=c===null?_k(u,null,x,j):uu(u,c.child,x,j)}function l_(c,u,x,j,k){x=x.render;var P=u.ref;return hu(u,k),j=nb(c,u,x,j,P,k),x=ib(),c!==null&&!Ja?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~k,Mo(c,u,k)):($r&&x&&Bv(u),u.flags|=1,Ra(c,u,j,k),u.child)}function c_(c,u,x,j,k){if(c===null){var P=x.type;return typeof P=="function"&&!Db(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=P,d_(c,u,P,j,k)):(c=fg(x.type,null,j,u,u.mode,k),c.ref=u.ref,c.return=u,u.child=c)}if(P=c.child,(c.lanes&k)===0){var D=P.memoizedProps;if(x=x.compare,x=x!==null?x:eh,x(D,j)&&c.ref===u.ref)return Mo(c,u,k)}return u.flags|=1,c=Ml(P,j),c.ref=u.ref,c.return=u,u.child=c}function d_(c,u,x,j,k){if(c!==null){var P=c.memoizedProps;if(eh(P,j)&&c.ref===u.ref)if(Ja=!1,u.pendingProps=j=P,(c.lanes&k)!==0)(c.flags&131072)!==0&&(Ja=!0);else return u.lanes=c.lanes,Mo(c,u,k)}return pb(c,u,x,j,k)}function u_(c,u,x){var j=u.pendingProps,k=j.children,P=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(xu,mn),mn|=x;else{if((x&1073741824)===0)return c=P!==null?P.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,wr(xu,mn),mn|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=P!==null?P.baseLanes:x,wr(xu,mn),mn|=j}else P!==null?(j=P.baseLanes|x,u.memoizedState=null):j=x,wr(xu,mn),mn|=j;return Ra(c,u,k,x),u.child}function m_(c,u){var x=u.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function pb(c,u,x,j,k){var P=Ya(x)?Ac:da.current;return P=ou(u,P),hu(u,k),x=nb(c,u,x,j,P,k),j=ib(),c!==null&&!Ja?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~k,Mo(c,u,k)):($r&&j&&Bv(u),u.flags|=1,Ra(c,u,x,k),u.child)}function h_(c,u,x,j,k){if(Ya(x)){var P=!0;zp(u)}else P=!1;if(hu(u,k),u.stateNode===null)sg(c,u),t_(u,x,j),mb(u,x,j,k),j=!0;else if(c===null){var D=u.stateNode,Y=u.memoizedProps;D.props=Y;var se=D.context,be=x.contextType;typeof be=="object"&&be!==null?be=Mn(be):(be=Ya(x)?Ac:da.current,be=ou(u,be));var Ie=x.getDerivedStateFromProps,De=typeof Ie=="function"||typeof D.getSnapshotBeforeUpdate=="function";De||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==j||se!==be)&&r_(u,D,j,be),_l=!1;var Me=u.memoizedState;D.state=Me,Gp(u,j,D,k),se=u.memoizedState,Y!==j||Me!==se||Ga.current||_l?(typeof Ie=="function"&&(ub(u,x,Ie,j),se=u.memoizedState),(Y=_l||e_(u,x,Y,j,Me,se,be))?(De||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=se),D.props=j,D.state=se,D.context=be,j=Y):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{D=u.stateNode,Ak(c,u),Y=u.memoizedProps,be=u.type===u.elementType?Y:pi(u.type,Y),D.props=be,De=u.pendingProps,Me=D.context,se=x.contextType,typeof se=="object"&&se!==null?se=Mn(se):(se=Ya(x)?Ac:da.current,se=ou(u,se));var He=x.getDerivedStateFromProps;(Ie=typeof He=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==De||Me!==se)&&r_(u,D,j,se),_l=!1,Me=u.memoizedState,D.state=Me,Gp(u,j,D,k);var Je=u.memoizedState;Y!==De||Me!==Je||Ga.current||_l?(typeof He=="function"&&(ub(u,x,He,j),Je=u.memoizedState),(be=_l||e_(u,x,be,j,Me,Je,se)||!1)?(Ie||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(j,Je,se),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(j,Je,se)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||Y===c.memoizedProps&&Me===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Me===c.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=Je),D.props=j,D.state=Je,D.context=se,j=be):(typeof D.componentDidUpdate!="function"||Y===c.memoizedProps&&Me===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Me===c.memoizedState||(u.flags|=1024),j=!1)}return gb(c,u,x,j,P,k)}function gb(c,u,x,j,k,P){m_(c,u);var D=(u.flags&128)!==0;if(!j&&!D)return k&&yk(u,x,!1),Mo(c,u,P);j=u.stateNode,bB.current=u;var Y=D&&typeof x.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,c!==null&&D?(u.child=uu(u,c.child,null,P),u.child=uu(u,null,Y,P)):Ra(c,u,Y,P),u.memoizedState=j.state,k&&yk(u,x,!0),u.child}function f_(c){var u=c.stateNode;u.pendingContext?gk(c,u.pendingContext,u.pendingContext!==u.context):u.context&&gk(c,u.context,!1),Zv(c,u.containerInfo)}function p_(c,u,x,j,k){return du(),qv(k),u.flags|=256,Ra(c,u,x,j),u.child}var xb={dehydrated:null,treeContext:null,retryLane:0};function yb(c){return{baseLanes:c,cachePool:null,transitions:null}}function g_(c,u,x){var j=u.pendingProps,k=Yr.current,P=!1,D=(u.flags&128)!==0,Y;if((Y=D)||(Y=c!==null&&c.memoizedState===null?!1:(k&2)!==0),Y?(P=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(k|=1),wr(Yr,k&1),c===null)return Hv(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=j.children,c=j.fallback,P?(j=u.mode,P=u.child,D={mode:"hidden",children:D},(j&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=D):P=pg(D,j,0,null),c=zc(c,j,x,null),P.return=u,c.return=u,P.sibling=c,u.child=P,u.child.memoizedState=yb(x),u.memoizedState=xb,c):vb(u,D));if(k=c.memoizedState,k!==null&&(Y=k.dehydrated,Y!==null))return wB(c,u,D,j,Y,k,x);if(P){P=j.fallback,D=u.mode,k=c.child,Y=k.sibling;var se={mode:"hidden",children:j.children};return(D&1)===0&&u.child!==k?(j=u.child,j.childLanes=0,j.pendingProps=se,u.deletions=null):(j=Ml(k,se),j.subtreeFlags=k.subtreeFlags&14680064),Y!==null?P=Ml(Y,P):(P=zc(P,D,x,null),P.flags|=2),P.return=u,j.return=u,j.sibling=P,u.child=j,j=P,P=u.child,D=c.child.memoizedState,D=D===null?yb(x):{baseLanes:D.baseLanes|x,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=c.childLanes&~x,u.memoizedState=xb,j}return P=c.child,c=P.sibling,j=Ml(P,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=x),j.return=u,j.sibling=null,c!==null&&(x=u.deletions,x===null?(u.deletions=[c],u.flags|=16):x.push(c)),u.child=j,u.memoizedState=null,j}function vb(c,u){return u=pg({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function rg(c,u,x,j){return j!==null&&qv(j),uu(u,c.child,null,x),c=vb(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function wB(c,u,x,j,k,P,D){if(x)return u.flags&256?(u.flags&=-257,j=hb(Error(s(422))),rg(c,u,D,j)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(P=j.fallback,k=u.mode,j=pg({mode:"visible",children:j.children},k,0,null),P=zc(P,k,D,null),P.flags|=2,j.return=u,P.return=u,j.sibling=P,u.child=j,(u.mode&1)!==0&&uu(u,c.child,null,D),u.child.memoizedState=yb(D),u.memoizedState=xb,P);if((u.mode&1)===0)return rg(c,u,D,null);if(k.data==="$!"){if(j=k.nextSibling&&k.nextSibling.dataset,j)var Y=j.dgst;return j=Y,P=Error(s(419)),j=hb(P,j,void 0),rg(c,u,D,j)}if(Y=(D&c.childLanes)!==0,Ja||Y){if(j=Us,j!==null){switch(D&-D){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(j.suspendedLanes|D))!==0?0:k,k!==0&&k!==P.retryLane&&(P.retryLane=k,Oo(c,k),yi(j,c,k,-1))}return Ib(),j=hb(Error(s(421))),rg(c,u,D,j)}return k.data==="$?"?(u.flags|=128,u.child=c.child,u=MB.bind(null,c),k._reactRetry=u,null):(c=P.treeContext,un=Nl(k.nextSibling),dn=u,$r=!0,fi=null,c!==null&&(On[Rn++]=Eo,On[Rn++]=To,On[Rn++]=Ec,Eo=c.id,To=c.overflow,Ec=u),u=vb(u,j.children),u.flags|=4096,u)}function x_(c,u,x){c.lanes|=u;var j=c.alternate;j!==null&&(j.lanes|=u),Jv(c.return,u,x)}function bb(c,u,x,j,k){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:k}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=j,P.tail=x,P.tailMode=k)}function y_(c,u,x){var j=u.pendingProps,k=j.revealOrder,P=j.tail;if(Ra(c,u,j.children,x),j=Yr.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&x_(c,x,u);else if(c.tag===19)x_(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(wr(Yr,j),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(x=u.child,k=null;x!==null;)c=x.alternate,c!==null&&Yp(c)===null&&(k=x),x=x.sibling;x=k,x===null?(k=u.child,u.child=null):(k=x.sibling,x.sibling=null),bb(u,!1,k,x,P);break;case"backwards":for(x=null,k=u.child,u.child=null;k!==null;){if(c=k.alternate,c!==null&&Yp(c)===null){u.child=k;break}c=k.sibling,k.sibling=x,x=k,k=c}bb(u,!0,x,null,P);break;case"together":bb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function sg(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function Mo(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),Ic|=u.lanes,(x&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(s(153));if(u.child!==null){for(c=u.child,x=Ml(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=Ml(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function jB(c,u,x){switch(u.tag){case 3:f_(u),du();break;case 5:Ok(u);break;case 1:Ya(u.type)&&zp(u);break;case 4:Zv(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,k=u.memoizedProps.value;wr(Hp,j._currentValue),j._currentValue=k;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(wr(Yr,Yr.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?g_(c,u,x):(wr(Yr,Yr.current&1),c=Mo(c,u,x),c!==null?c.sibling:null);wr(Yr,Yr.current&1);break;case 19:if(j=(x&u.childLanes)!==0,(c.flags&128)!==0){if(j)return y_(c,u,x);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),wr(Yr,Yr.current),j)break;return null;case 22:case 23:return u.lanes=0,u_(c,u,x)}return Mo(c,u,x)}var v_,wb,b_,w_;v_=function(c,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},wb=function(){},b_=function(c,u,x,j){var k=c.memoizedProps;if(k!==j){c=u.stateNode,Rc(qi.current);var P=null;switch(x){case"input":k=Se(c,k),j=Se(c,j),P=[];break;case"select":k=ee({},k,{value:void 0}),j=ee({},j,{value:void 0}),P=[];break;case"textarea":k=xt(c,k),j=xt(c,j),P=[];break;default:typeof k.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=Dp)}on(x,j);var D;x=null;for(be in k)if(!j.hasOwnProperty(be)&&k.hasOwnProperty(be)&&k[be]!=null)if(be==="style"){var Y=k[be];for(D in Y)Y.hasOwnProperty(D)&&(x||(x={}),x[D]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(n.hasOwnProperty(be)?P||(P=[]):(P=P||[]).push(be,null));for(be in j){var se=j[be];if(Y=k!=null?k[be]:void 0,j.hasOwnProperty(be)&&se!==Y&&(se!=null||Y!=null))if(be==="style")if(Y){for(D in Y)!Y.hasOwnProperty(D)||se&&se.hasOwnProperty(D)||(x||(x={}),x[D]="");for(D in se)se.hasOwnProperty(D)&&Y[D]!==se[D]&&(x||(x={}),x[D]=se[D])}else x||(P||(P=[]),P.push(be,x)),x=se;else be==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,Y=Y?Y.__html:void 0,se!=null&&Y!==se&&(P=P||[]).push(be,se)):be==="children"?typeof se!="string"&&typeof se!="number"||(P=P||[]).push(be,""+se):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(n.hasOwnProperty(be)?(se!=null&&be==="onScroll"&&Pr("scroll",c),P||Y===se||(P=[])):(P=P||[]).push(be,se))}x&&(P=P||[]).push("style",x);var be=P;(u.updateQueue=be)&&(u.flags|=4)}},w_=function(c,u,x,j){x!==j&&(u.flags|=4)};function ph(c,u){if(!$r)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function ma(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(u)for(var k=c.child;k!==null;)x|=k.lanes|k.childLanes,j|=k.subtreeFlags&14680064,j|=k.flags&14680064,k.return=c,k=k.sibling;else for(k=c.child;k!==null;)x|=k.lanes|k.childLanes,j|=k.subtreeFlags,j|=k.flags,k.return=c,k=k.sibling;return c.subtreeFlags|=j,c.childLanes=x,u}function NB(c,u,x){var j=u.pendingProps;switch(Wv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(u),null;case 1:return Ya(u.type)&&$p(),ma(u),null;case 3:return j=u.stateNode,fu(),Ar(Ga),Ar(da),rb(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Wp(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fi!==null&&(Ob(fi),fi=null))),wb(c,u),ma(u),null;case 5:eb(u);var k=Rc(dh.current);if(x=u.type,c!==null&&u.stateNode!=null)b_(c,u,x,j,k),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(s(166));return ma(u),null}if(c=Rc(qi.current),Wp(u)){j=u.stateNode,x=u.type;var P=u.memoizedProps;switch(j[Hi]=u,j[nh]=P,c=(u.mode&1)!==0,x){case"dialog":Pr("cancel",j),Pr("close",j);break;case"iframe":case"object":case"embed":Pr("load",j);break;case"video":case"audio":for(k=0;k<rh.length;k++)Pr(rh[k],j);break;case"source":Pr("error",j);break;case"img":case"image":case"link":Pr("error",j),Pr("load",j);break;case"details":Pr("toggle",j);break;case"input":Te(j,P),Pr("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!P.multiple},Pr("invalid",j);break;case"textarea":ar(j,P),Pr("invalid",j)}on(x,P),k=null;for(var D in P)if(P.hasOwnProperty(D)){var Y=P[D];D==="children"?typeof Y=="string"?j.textContent!==Y&&(P.suppressHydrationWarning!==!0&&Ip(j.textContent,Y,c),k=["children",Y]):typeof Y=="number"&&j.textContent!==""+Y&&(P.suppressHydrationWarning!==!0&&Ip(j.textContent,Y,c),k=["children",""+Y]):n.hasOwnProperty(D)&&Y!=null&&D==="onScroll"&&Pr("scroll",j)}switch(x){case"input":fe(j),ht(j,P,!0);break;case"textarea":fe(j),Gt(j);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(j.onclick=Dp)}j=k,u.updateQueue=j,j!==null&&(u.flags|=4)}else{D=k.nodeType===9?k:k.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Zt(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=D.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=D.createElement(x,{is:j.is}):(c=D.createElement(x),x==="select"&&(D=c,j.multiple?D.multiple=!0:j.size&&(D.size=j.size))):c=D.createElementNS(c,x),c[Hi]=u,c[nh]=j,v_(c,u,!1,!1),u.stateNode=c;e:{switch(D=Mt(x,j),x){case"dialog":Pr("cancel",c),Pr("close",c),k=j;break;case"iframe":case"object":case"embed":Pr("load",c),k=j;break;case"video":case"audio":for(k=0;k<rh.length;k++)Pr(rh[k],c);k=j;break;case"source":Pr("error",c),k=j;break;case"img":case"image":case"link":Pr("error",c),Pr("load",c),k=j;break;case"details":Pr("toggle",c),k=j;break;case"input":Te(c,j),k=Se(c,j),Pr("invalid",c);break;case"option":k=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},k=ee({},j,{value:void 0}),Pr("invalid",c);break;case"textarea":ar(c,j),k=xt(c,j),Pr("invalid",c);break;default:k=j}on(x,k),Y=k;for(P in Y)if(Y.hasOwnProperty(P)){var se=Y[P];P==="style"?fs(c,se):P==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&Ye(c,se)):P==="children"?typeof se=="string"?(x!=="textarea"||se!=="")&&xr(c,se):typeof se=="number"&&xr(c,""+se):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(n.hasOwnProperty(P)?se!=null&&P==="onScroll"&&Pr("scroll",c):se!=null&&S(c,P,se,D))}switch(x){case"input":fe(c),ht(c,j,!1);break;case"textarea":fe(c),Gt(c);break;case"option":j.value!=null&&c.setAttribute("value",""+ke(j.value));break;case"select":c.multiple=!!j.multiple,P=j.value,P!=null?nt(c,!!j.multiple,P,!1):j.defaultValue!=null&&nt(c,!!j.multiple,j.defaultValue,!0);break;default:typeof k.onClick=="function"&&(c.onclick=Dp)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ma(u),null;case 6:if(c&&u.stateNode!=null)w_(c,u,c.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(s(166));if(x=Rc(dh.current),Rc(qi.current),Wp(u)){if(j=u.stateNode,x=u.memoizedProps,j[Hi]=u,(P=j.nodeValue!==x)&&(c=dn,c!==null))switch(c.tag){case 3:Ip(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Ip(j.nodeValue,x,(c.mode&1)!==0)}P&&(u.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[Hi]=u,u.stateNode=j}return ma(u),null;case 13:if(Ar(Yr),j=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if($r&&un!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Sk(),du(),u.flags|=98560,P=!1;else if(P=Wp(u),j!==null&&j.dehydrated!==null){if(c===null){if(!P)throw Error(s(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(s(317));P[Hi]=u}else du(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ma(u),P=!1}else fi!==null&&(Ob(fi),fi=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Yr.current&1)!==0?As===0&&(As=3):Ib())),u.updateQueue!==null&&(u.flags|=4),ma(u),null);case 4:return fu(),wb(c,u),c===null&&sh(u.stateNode.containerInfo),ma(u),null;case 10:return Yv(u.type._context),ma(u),null;case 17:return Ya(u.type)&&$p(),ma(u),null;case 19:if(Ar(Yr),P=u.memoizedState,P===null)return ma(u),null;if(j=(u.flags&128)!==0,D=P.rendering,D===null)if(j)ph(P,!1);else{if(As!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(D=Yp(c),D!==null){for(u.flags|=128,ph(P,!1),j=D.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=x,x=u.child;x!==null;)P=x,c=j,P.flags&=14680066,D=P.alternate,D===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=D.childLanes,P.lanes=D.lanes,P.child=D.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=D.memoizedProps,P.memoizedState=D.memoizedState,P.updateQueue=D.updateQueue,P.type=D.type,c=D.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return wr(Yr,Yr.current&1|2),u.child}c=c.sibling}P.tail!==null&&or()>yu&&(u.flags|=128,j=!0,ph(P,!1),u.lanes=4194304)}else{if(!j)if(c=Yp(D),c!==null){if(u.flags|=128,j=!0,x=c.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),ph(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!$r)return ma(u),null}else 2*or()-P.renderingStartTime>yu&&x!==1073741824&&(u.flags|=128,j=!0,ph(P,!1),u.lanes=4194304);P.isBackwards?(D.sibling=u.child,u.child=D):(x=P.last,x!==null?x.sibling=D:u.child=D,P.last=D)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=or(),u.sibling=null,x=Yr.current,wr(Yr,j?x&1|2:x&1),u):(ma(u),null);case 22:case 23:return Mb(),j=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(mn&1073741824)!==0&&(ma(u),u.subtreeFlags&6&&(u.flags|=8192)):ma(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function SB(c,u){switch(Wv(u),u.tag){case 1:return Ya(u.type)&&$p(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return fu(),Ar(Ga),Ar(da),rb(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return eb(u),null;case 13:if(Ar(Yr),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(s(340));du()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Ar(Yr),null;case 4:return fu(),null;case 10:return Yv(u.type._context),null;case 22:case 23:return Mb(),null;case 24:return null;default:return null}}var ag=!1,ha=!1,CB=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function gu(c,u){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Zr(c,u,j)}else x.current=null}function jb(c,u,x){try{x()}catch(j){Zr(c,u,j)}}var j_=!1;function kB(c,u){if(Mv=_c,c=ek(),kv(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var k=j.anchorOffset,P=j.focusNode;j=j.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var D=0,Y=-1,se=-1,be=0,Ie=0,De=c,Me=null;t:for(;;){for(var He;De!==x||k!==0&&De.nodeType!==3||(Y=D+k),De!==P||j!==0&&De.nodeType!==3||(se=D+j),De.nodeType===3&&(D+=De.nodeValue.length),(He=De.firstChild)!==null;)Me=De,De=He;for(;;){if(De===c)break t;if(Me===x&&++be===k&&(Y=D),Me===P&&++Ie===j&&(se=D),(He=De.nextSibling)!==null)break;De=Me,Me=De.parentNode}De=He}x=Y===-1||se===-1?null:{start:Y,end:se}}else x=null}x=x||{start:0,end:0}}else x=null;for(Iv={focusedElem:c,selectionRange:x},_c=!1,Ke=u;Ke!==null;)if(u=Ke,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ke=c;else for(;Ke!==null;){u=Ke;try{var Je=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var et=Je.memoizedProps,ns=Je.memoizedState,me=u.stateNode,ie=me.getSnapshotBeforeUpdate(u.elementType===u.type?et:pi(u.type,et),ns);me.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var pe=u.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ze){Zr(u,u.return,ze)}if(c=u.sibling,c!==null){c.return=u.return,Ke=c;break}Ke=u.return}return Je=j_,j_=!1,Je}function gh(c,u,x){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var k=j=j.next;do{if((k.tag&c)===c){var P=k.destroy;k.destroy=void 0,P!==void 0&&jb(u,x,P)}k=k.next}while(k!==j)}}function ng(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==u)}}function Nb(c){var u=c.ref;if(u!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof u=="function"?u(c):u.current=c}}function N_(c){var u=c.alternate;u!==null&&(c.alternate=null,N_(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[Hi],delete u[nh],delete u[zv],delete u[lB],delete u[cB])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function S_(c){return c.tag===5||c.tag===3||c.tag===4}function C_(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||S_(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Sb(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(c,u):x.insertBefore(c,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(c,x)):(u=x,u.appendChild(c)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=Dp));else if(j!==4&&(c=c.child,c!==null))for(Sb(c,u,x),c=c.sibling;c!==null;)Sb(c,u,x),c=c.sibling}function Cb(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(Cb(c,u,x),c=c.sibling;c!==null;)Cb(c,u,x),c=c.sibling}var Qs=null,gi=!1;function Al(c,u,x){for(x=x.child;x!==null;)k_(c,u,x),x=x.sibling}function k_(c,u,x){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(gl,x)}catch{}switch(x.tag){case 5:ha||gu(x,u);case 6:var j=Qs,k=gi;Qs=null,Al(c,u,x),Qs=j,gi=k,Qs!==null&&(gi?(c=Qs,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Qs.removeChild(x.stateNode));break;case 18:Qs!==null&&(gi?(c=Qs,x=x.stateNode,c.nodeType===8?$v(c.parentNode,x):c.nodeType===1&&$v(c,x),wl(c)):$v(Qs,x.stateNode));break;case 4:j=Qs,k=gi,Qs=x.stateNode.containerInfo,gi=!0,Al(c,u,x),Qs=j,gi=k;break;case 0:case 11:case 14:case 15:if(!ha&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){k=j=j.next;do{var P=k,D=P.destroy;P=P.tag,D!==void 0&&((P&2)!==0||(P&4)!==0)&&jb(x,u,D),k=k.next}while(k!==j)}Al(c,u,x);break;case 1:if(!ha&&(gu(x,u),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(Y){Zr(x,u,Y)}Al(c,u,x);break;case 21:Al(c,u,x);break;case 22:x.mode&1?(ha=(j=ha)||x.memoizedState!==null,Al(c,u,x),ha=j):Al(c,u,x);break;default:Al(c,u,x)}}function __(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new CB),u.forEach(function(j){var k=IB.bind(null,c,j);x.has(j)||(x.add(j),j.then(k,k))})}}function xi(c,u){var x=u.deletions;if(x!==null)for(var j=0;j<x.length;j++){var k=x[j];try{var P=c,D=u,Y=D;e:for(;Y!==null;){switch(Y.tag){case 5:Qs=Y.stateNode,gi=!1;break e;case 3:Qs=Y.stateNode.containerInfo,gi=!0;break e;case 4:Qs=Y.stateNode.containerInfo,gi=!0;break e}Y=Y.return}if(Qs===null)throw Error(s(160));k_(P,D,k),Qs=null,gi=!1;var se=k.alternate;se!==null&&(se.return=null),k.return=null}catch(be){Zr(k,u,be)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)P_(u,c),u=u.sibling}function P_(c,u){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(xi(u,c),Gi(c),j&4){try{gh(3,c,c.return),ng(3,c)}catch(et){Zr(c,c.return,et)}try{gh(5,c,c.return)}catch(et){Zr(c,c.return,et)}}break;case 1:xi(u,c),Gi(c),j&512&&x!==null&&gu(x,x.return);break;case 5:if(xi(u,c),Gi(c),j&512&&x!==null&&gu(x,x.return),c.flags&32){var k=c.stateNode;try{xr(k,"")}catch(et){Zr(c,c.return,et)}}if(j&4&&(k=c.stateNode,k!=null)){var P=c.memoizedProps,D=x!==null?x.memoizedProps:P,Y=c.type,se=c.updateQueue;if(c.updateQueue=null,se!==null)try{Y==="input"&&P.type==="radio"&&P.name!=null&&ce(k,P),Mt(Y,D);var be=Mt(Y,P);for(D=0;D<se.length;D+=2){var Ie=se[D],De=se[D+1];Ie==="style"?fs(k,De):Ie==="dangerouslySetInnerHTML"?Ye(k,De):Ie==="children"?xr(k,De):S(k,Ie,De,be)}switch(Y){case"input":Ve(k,P);break;case"textarea":qr(k,P);break;case"select":var Me=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!P.multiple;var He=P.value;He!=null?nt(k,!!P.multiple,He,!1):Me!==!!P.multiple&&(P.defaultValue!=null?nt(k,!!P.multiple,P.defaultValue,!0):nt(k,!!P.multiple,P.multiple?[]:"",!1))}k[nh]=P}catch(et){Zr(c,c.return,et)}}break;case 6:if(xi(u,c),Gi(c),j&4){if(c.stateNode===null)throw Error(s(162));k=c.stateNode,P=c.memoizedProps;try{k.nodeValue=P}catch(et){Zr(c,c.return,et)}}break;case 3:if(xi(u,c),Gi(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{wl(u.containerInfo)}catch(et){Zr(c,c.return,et)}break;case 4:xi(u,c),Gi(c);break;case 13:xi(u,c),Gi(c),k=c.child,k.flags&8192&&(P=k.memoizedState!==null,k.stateNode.isHidden=P,!P||k.alternate!==null&&k.alternate.memoizedState!==null||(Pb=or())),j&4&&__(c);break;case 22:if(Ie=x!==null&&x.memoizedState!==null,c.mode&1?(ha=(be=ha)||Ie,xi(u,c),ha=be):xi(u,c),Gi(c),j&8192){if(be=c.memoizedState!==null,(c.stateNode.isHidden=be)&&!Ie&&(c.mode&1)!==0)for(Ke=c,Ie=c.child;Ie!==null;){for(De=Ke=Ie;Ke!==null;){switch(Me=Ke,He=Me.child,Me.tag){case 0:case 11:case 14:case 15:gh(4,Me,Me.return);break;case 1:gu(Me,Me.return);var Je=Me.stateNode;if(typeof Je.componentWillUnmount=="function"){j=Me,x=Me.return;try{u=j,Je.props=u.memoizedProps,Je.state=u.memoizedState,Je.componentWillUnmount()}catch(et){Zr(j,x,et)}}break;case 5:gu(Me,Me.return);break;case 22:if(Me.memoizedState!==null){T_(De);continue}}He!==null?(He.return=Me,Ke=He):T_(De)}Ie=Ie.sibling}e:for(Ie=null,De=c;;){if(De.tag===5){if(Ie===null){Ie=De;try{k=De.stateNode,be?(P=k.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Y=De.stateNode,se=De.memoizedProps.style,D=se!=null&&se.hasOwnProperty("display")?se.display:null,Y.style.display=ur("display",D))}catch(et){Zr(c,c.return,et)}}}else if(De.tag===6){if(Ie===null)try{De.stateNode.nodeValue=be?"":De.memoizedProps}catch(et){Zr(c,c.return,et)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===c)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===c)break e;for(;De.sibling===null;){if(De.return===null||De.return===c)break e;Ie===De&&(Ie=null),De=De.return}Ie===De&&(Ie=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:xi(u,c),Gi(c),j&4&&__(c);break;case 21:break;default:xi(u,c),Gi(c)}}function Gi(c){var u=c.flags;if(u&2){try{e:{for(var x=c.return;x!==null;){if(S_(x)){var j=x;break e}x=x.return}throw Error(s(160))}switch(j.tag){case 5:var k=j.stateNode;j.flags&32&&(xr(k,""),j.flags&=-33);var P=C_(c);Cb(c,P,k);break;case 3:case 4:var D=j.stateNode.containerInfo,Y=C_(c);Sb(c,Y,D);break;default:throw Error(s(161))}}catch(se){Zr(c,c.return,se)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function _B(c,u,x){Ke=c,A_(c)}function A_(c,u,x){for(var j=(c.mode&1)!==0;Ke!==null;){var k=Ke,P=k.child;if(k.tag===22&&j){var D=k.memoizedState!==null||ag;if(!D){var Y=k.alternate,se=Y!==null&&Y.memoizedState!==null||ha;Y=ag;var be=ha;if(ag=D,(ha=se)&&!be)for(Ke=k;Ke!==null;)D=Ke,se=D.child,D.tag===22&&D.memoizedState!==null?O_(k):se!==null?(se.return=D,Ke=se):O_(k);for(;P!==null;)Ke=P,A_(P),P=P.sibling;Ke=k,ag=Y,ha=be}E_(c)}else(k.subtreeFlags&8772)!==0&&P!==null?(P.return=k,Ke=P):E_(c)}}function E_(c){for(;Ke!==null;){var u=Ke;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ha||ng(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!ha)if(x===null)j.componentDidMount();else{var k=u.elementType===u.type?x.memoizedProps:pi(u.type,x.memoizedProps);j.componentDidUpdate(k,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&Tk(u,P,j);break;case 3:var D=u.updateQueue;if(D!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}Tk(u,D,x)}break;case 5:var Y=u.stateNode;if(x===null&&u.flags&4){x=Y;var se=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&x.focus();break;case"img":se.src&&(x.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var be=u.alternate;if(be!==null){var Ie=be.memoizedState;if(Ie!==null){var De=Ie.dehydrated;De!==null&&wl(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ha||u.flags&512&&Nb(u)}catch(Me){Zr(u,u.return,Me)}}if(u===c){Ke=null;break}if(x=u.sibling,x!==null){x.return=u.return,Ke=x;break}Ke=u.return}}function T_(c){for(;Ke!==null;){var u=Ke;if(u===c){Ke=null;break}var x=u.sibling;if(x!==null){x.return=u.return,Ke=x;break}Ke=u.return}}function O_(c){for(;Ke!==null;){var u=Ke;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{ng(4,u)}catch(se){Zr(u,x,se)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var k=u.return;try{j.componentDidMount()}catch(se){Zr(u,k,se)}}var P=u.return;try{Nb(u)}catch(se){Zr(u,P,se)}break;case 5:var D=u.return;try{Nb(u)}catch(se){Zr(u,D,se)}}}catch(se){Zr(u,u.return,se)}if(u===c){Ke=null;break}var Y=u.sibling;if(Y!==null){Y.return=u.return,Ke=Y;break}Ke=u.return}}var PB=Math.ceil,ig=_.ReactCurrentDispatcher,kb=_.ReactCurrentOwner,Dn=_.ReactCurrentBatchConfig,er=0,Us=null,vs=null,Zs=0,mn=0,xu=Sl(0),As=0,xh=null,Ic=0,og=0,_b=0,yh=null,Xa=null,Pb=0,yu=1/0,Io=null,lg=!1,Ab=null,El=null,cg=!1,Tl=null,dg=0,vh=0,Eb=null,ug=-1,mg=0;function Ma(){return(er&6)!==0?or():ug!==-1?ug:ug=or()}function Ol(c){return(c.mode&1)===0?1:(er&2)!==0&&Zs!==0?Zs&-Zs:uB.transition!==null?(mg===0&&(mg=yt()),mg):(c=St,c!==0||(c=window.event,c=c===void 0?16:Qd(c.type)),c)}function yi(c,u,x,j){if(50<vh)throw vh=0,Eb=null,Error(s(185));br(c,x,j),((er&2)===0||c!==Us)&&(c===Us&&((er&2)===0&&(og|=x),As===4&&Rl(c,Zs)),Qa(c,j),x===1&&er===0&&(u.mode&1)===0&&(yu=or()+500,Fp&&kl()))}function Qa(c,u){var x=c.callbackNode;Re(c,u);var j=Vi(c,c===Us?Zs:0);if(j===0)x!==null&&Mr(x),c.callbackNode=null,c.callbackPriority=0;else if(u=j&-j,c.callbackPriority!==u){if(x!=null&&Mr(x),u===1)c.tag===0?dB(M_.bind(null,c)):vk(M_.bind(null,c)),iB(function(){(er&6)===0&&kl()}),x=null;else{switch(Tn(j)){case 1:x=En;break;case 4:x=gs;break;case 16:x=zs;break;case 536870912:x=Jd;break;default:x=zs}x=B_(x,R_.bind(null,c))}c.callbackPriority=u,c.callbackNode=x}}function R_(c,u){if(ug=-1,mg=0,(er&6)!==0)throw Error(s(327));var x=c.callbackNode;if(vu()&&c.callbackNode!==x)return null;var j=Vi(c,c===Us?Zs:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||u)u=hg(c,j);else{u=j;var k=er;er|=2;var P=D_();(Us!==c||Zs!==u)&&(Io=null,yu=or()+500,Lc(c,u));do try{TB();break}catch(Y){I_(c,Y)}while(!0);Gv(),ig.current=P,er=k,vs!==null?u=0:(Us=null,Zs=0,u=As)}if(u!==0){if(u===2&&(k=Ue(c),k!==0&&(j=k,u=Tb(c,k))),u===1)throw x=xh,Lc(c,0),Rl(c,j),Qa(c,or()),x;if(u===6)Rl(c,j);else{if(k=c.current.alternate,(j&30)===0&&!AB(k)&&(u=hg(c,j),u===2&&(P=Ue(c),P!==0&&(j=P,u=Tb(c,P))),u===1))throw x=xh,Lc(c,0),Rl(c,j),Qa(c,or()),x;switch(c.finishedWork=k,c.finishedLanes=j,u){case 0:case 1:throw Error(s(345));case 2:$c(c,Xa,Io);break;case 3:if(Rl(c,j),(j&130023424)===j&&(u=Pb+500-or(),10<u)){if(Vi(c,0)!==0)break;if(k=c.suspendedLanes,(k&j)!==j){Ma(),c.pingedLanes|=c.suspendedLanes&k;break}c.timeoutHandle=Lv($c.bind(null,c,Xa,Io),u);break}$c(c,Xa,Io);break;case 4:if(Rl(c,j),(j&4194240)===j)break;for(u=c.eventTimes,k=-1;0<j;){var D=31-X(j);P=1<<D,D=u[D],D>k&&(k=D),j&=~P}if(j=k,j=or()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*PB(j/1960))-j,10<j){c.timeoutHandle=Lv($c.bind(null,c,Xa,Io),j);break}$c(c,Xa,Io);break;case 5:$c(c,Xa,Io);break;default:throw Error(s(329))}}}return Qa(c,or()),c.callbackNode===x?R_.bind(null,c):null}function Tb(c,u){var x=yh;return c.current.memoizedState.isDehydrated&&(Lc(c,u).flags|=256),c=hg(c,u),c!==2&&(u=Xa,Xa=x,u!==null&&Ob(u)),c}function Ob(c){Xa===null?Xa=c:Xa.push.apply(Xa,c)}function AB(c){for(var u=c;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var k=x[j],P=k.getSnapshot;k=k.value;try{if(!hi(P(),k))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Rl(c,u){for(u&=~_b,u&=~og,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var x=31-X(u),j=1<<x;c[x]=-1,u&=~j}}function M_(c){if((er&6)!==0)throw Error(s(327));vu();var u=Vi(c,0);if((u&1)===0)return Qa(c,or()),null;var x=hg(c,u);if(c.tag!==0&&x===2){var j=Ue(c);j!==0&&(u=j,x=Tb(c,j))}if(x===1)throw x=xh,Lc(c,0),Rl(c,u),Qa(c,or()),x;if(x===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,$c(c,Xa,Io),Qa(c,or()),null}function Rb(c,u){var x=er;er|=1;try{return c(u)}finally{er=x,er===0&&(yu=or()+500,Fp&&kl())}}function Dc(c){Tl!==null&&Tl.tag===0&&(er&6)===0&&vu();var u=er;er|=1;var x=Dn.transition,j=St;try{if(Dn.transition=null,St=1,c)return c()}finally{St=j,Dn.transition=x,er=u,(er&6)===0&&kl()}}function Mb(){mn=xu.current,Ar(xu)}function Lc(c,u){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,nB(x)),vs!==null)for(x=vs.return;x!==null;){var j=x;switch(Wv(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$p();break;case 3:fu(),Ar(Ga),Ar(da),rb();break;case 5:eb(j);break;case 4:fu();break;case 13:Ar(Yr);break;case 19:Ar(Yr);break;case 10:Yv(j.type._context);break;case 22:case 23:Mb()}x=x.return}if(Us=c,vs=c=Ml(c.current,null),Zs=mn=u,As=0,xh=null,_b=og=Ic=0,Xa=yh=null,Oc!==null){for(u=0;u<Oc.length;u++)if(x=Oc[u],j=x.interleaved,j!==null){x.interleaved=null;var k=j.next,P=x.pending;if(P!==null){var D=P.next;P.next=k,j.next=D}x.pending=j}Oc=null}return c}function I_(c,u){do{var x=vs;try{if(Gv(),Jp.current=eg,Xp){for(var j=Jr.memoizedState;j!==null;){var k=j.queue;k!==null&&(k.pending=null),j=j.next}Xp=!1}if(Mc=0,Fs=Ps=Jr=null,uh=!1,mh=0,kb.current=null,x===null||x.return===null){As=1,xh=u,vs=null;break}e:{var P=c,D=x.return,Y=x,se=u;if(u=Zs,Y.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var be=se,Ie=Y,De=Ie.tag;if((Ie.mode&1)===0&&(De===0||De===11||De===15)){var Me=Ie.alternate;Me?(Ie.updateQueue=Me.updateQueue,Ie.memoizedState=Me.memoizedState,Ie.lanes=Me.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var He=i_(D);if(He!==null){He.flags&=-257,o_(He,D,Y,P,u),He.mode&1&&n_(P,be,u),u=He,se=be;var Je=u.updateQueue;if(Je===null){var et=new Set;et.add(se),u.updateQueue=et}else Je.add(se);break e}else{if((u&1)===0){n_(P,be,u),Ib();break e}se=Error(s(426))}}else if($r&&Y.mode&1){var ns=i_(D);if(ns!==null){(ns.flags&65536)===0&&(ns.flags|=256),o_(ns,D,Y,P,u),qv(pu(se,Y));break e}}P=se=pu(se,Y),As!==4&&(As=2),yh===null?yh=[P]:yh.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var me=s_(P,se,u);Ek(P,me);break e;case 1:Y=se;var ie=P.type,pe=P.stateNode;if((P.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(El===null||!El.has(pe)))){P.flags|=65536,u&=-u,P.lanes|=u;var ze=a_(P,Y,u);Ek(P,ze);break e}}P=P.return}while(P!==null)}$_(x)}catch(it){u=it,vs===x&&x!==null&&(vs=x=x.return);continue}break}while(!0)}function D_(){var c=ig.current;return ig.current=eg,c===null?eg:c}function Ib(){(As===0||As===3||As===2)&&(As=4),Us===null||(Ic&268435455)===0&&(og&268435455)===0||Rl(Us,Zs)}function hg(c,u){var x=er;er|=2;var j=D_();(Us!==c||Zs!==u)&&(Io=null,Lc(c,u));do try{EB();break}catch(k){I_(c,k)}while(!0);if(Gv(),er=x,ig.current=j,vs!==null)throw Error(s(261));return Us=null,Zs=0,As}function EB(){for(;vs!==null;)L_(vs)}function TB(){for(;vs!==null&&!Ha();)L_(vs)}function L_(c){var u=U_(c.alternate,c,mn);c.memoizedProps=c.pendingProps,u===null?$_(c):vs=u,kb.current=null}function $_(c){var u=c;do{var x=u.alternate;if(c=u.return,(u.flags&32768)===0){if(x=NB(x,u,mn),x!==null){vs=x;return}}else{if(x=SB(x,u),x!==null){x.flags&=32767,vs=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{As=6,vs=null;return}}if(u=u.sibling,u!==null){vs=u;return}vs=u=c}while(u!==null);As===0&&(As=5)}function $c(c,u,x){var j=St,k=Dn.transition;try{Dn.transition=null,St=1,OB(c,u,x,j)}finally{Dn.transition=k,St=j}return null}function OB(c,u,x,j){do vu();while(Tl!==null);if((er&6)!==0)throw Error(s(327));x=c.finishedWork;var k=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0;var P=x.lanes|x.childLanes;if(So(c,P),c===Us&&(vs=Us=null,Zs=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||cg||(cg=!0,B_(zs,function(){return vu(),null})),P=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||P){P=Dn.transition,Dn.transition=null;var D=St;St=1;var Y=er;er|=4,kb.current=null,kB(c,x),P_(x,c),Q9(Iv),_c=!!Mv,Iv=Mv=null,c.current=x,_B(x),Nc(),er=Y,St=D,Dn.transition=P}else c.current=x;if(cg&&(cg=!1,Tl=c,dg=k),P=c.pendingLanes,P===0&&(El=null),Sc(x.stateNode),Qa(c,or()),u!==null)for(j=c.onRecoverableError,x=0;x<u.length;x++)k=u[x],j(k.value,{componentStack:k.stack,digest:k.digest});if(lg)throw lg=!1,c=Ab,Ab=null,c;return(dg&1)!==0&&c.tag!==0&&vu(),P=c.pendingLanes,(P&1)!==0?c===Eb?vh++:(vh=0,Eb=c):vh=0,kl(),null}function vu(){if(Tl!==null){var c=Tn(dg),u=Dn.transition,x=St;try{if(Dn.transition=null,St=16>c?16:c,Tl===null)var j=!1;else{if(c=Tl,Tl=null,dg=0,(er&6)!==0)throw Error(s(331));var k=er;for(er|=4,Ke=c.current;Ke!==null;){var P=Ke,D=P.child;if((Ke.flags&16)!==0){var Y=P.deletions;if(Y!==null){for(var se=0;se<Y.length;se++){var be=Y[se];for(Ke=be;Ke!==null;){var Ie=Ke;switch(Ie.tag){case 0:case 11:case 15:gh(8,Ie,P)}var De=Ie.child;if(De!==null)De.return=Ie,Ke=De;else for(;Ke!==null;){Ie=Ke;var Me=Ie.sibling,He=Ie.return;if(N_(Ie),Ie===be){Ke=null;break}if(Me!==null){Me.return=He,Ke=Me;break}Ke=He}}}var Je=P.alternate;if(Je!==null){var et=Je.child;if(et!==null){Je.child=null;do{var ns=et.sibling;et.sibling=null,et=ns}while(et!==null)}}Ke=P}}if((P.subtreeFlags&2064)!==0&&D!==null)D.return=P,Ke=D;else e:for(;Ke!==null;){if(P=Ke,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:gh(9,P,P.return)}var me=P.sibling;if(me!==null){me.return=P.return,Ke=me;break e}Ke=P.return}}var ie=c.current;for(Ke=ie;Ke!==null;){D=Ke;var pe=D.child;if((D.subtreeFlags&2064)!==0&&pe!==null)pe.return=D,Ke=pe;else e:for(D=ie;Ke!==null;){if(Y=Ke,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:ng(9,Y)}}catch(it){Zr(Y,Y.return,it)}if(Y===D){Ke=null;break e}var ze=Y.sibling;if(ze!==null){ze.return=Y.return,Ke=ze;break e}Ke=Y.return}}if(er=k,kl(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(gl,c)}catch{}j=!0}return j}finally{St=x,Dn.transition=u}}return!1}function z_(c,u,x){u=pu(x,u),u=s_(c,u,1),c=Pl(c,u,1),u=Ma(),c!==null&&(br(c,1,u),Qa(c,u))}function Zr(c,u,x){if(c.tag===3)z_(c,c,x);else for(;u!==null;){if(u.tag===3){z_(u,c,x);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(El===null||!El.has(j))){c=pu(x,c),c=a_(u,c,1),u=Pl(u,c,1),c=Ma(),u!==null&&(br(u,1,c),Qa(u,c));break}}u=u.return}}function RB(c,u,x){var j=c.pingCache;j!==null&&j.delete(u),u=Ma(),c.pingedLanes|=c.suspendedLanes&x,Us===c&&(Zs&x)===x&&(As===4||As===3&&(Zs&130023424)===Zs&&500>or()-Pb?Lc(c,0):_b|=x),Qa(c,u)}function F_(c,u){u===0&&((c.mode&1)===0?u=1:(u=Ka,Ka<<=1,(Ka&130023424)===0&&(Ka=4194304)));var x=Ma();c=Oo(c,u),c!==null&&(br(c,u,x),Qa(c,x))}function MB(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),F_(c,x)}function IB(c,u){var x=0;switch(c.tag){case 13:var j=c.stateNode,k=c.memoizedState;k!==null&&(x=k.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(u),F_(c,x)}var U_;U_=function(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps||Ga.current)Ja=!0;else{if((c.lanes&x)===0&&(u.flags&128)===0)return Ja=!1,jB(c,u,x);Ja=(c.flags&131072)!==0}else Ja=!1,$r&&(u.flags&1048576)!==0&&bk(u,Bp,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;sg(c,u),c=u.pendingProps;var k=ou(u,da.current);hu(u,x),k=nb(null,u,j,c,k,x);var P=ib();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ya(j)?(P=!0,zp(u)):P=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Qv(u),k.updater=tg,u.stateNode=k,k._reactInternals=u,mb(u,j,c,x),u=gb(null,u,j,!0,P,x)):(u.tag=0,$r&&P&&Bv(u),Ra(null,u,k,x),u=u.child),u;case 16:j=u.elementType;e:{switch(sg(c,u),c=u.pendingProps,k=j._init,j=k(j._payload),u.type=j,k=u.tag=LB(j),c=pi(j,c),k){case 0:u=pb(null,u,j,c,x);break e;case 1:u=h_(null,u,j,c,x);break e;case 11:u=l_(null,u,j,c,x);break e;case 14:u=c_(null,u,j,pi(j.type,c),x);break e}throw Error(s(306,j,""))}return u;case 0:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:pi(j,k),pb(c,u,j,k,x);case 1:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:pi(j,k),h_(c,u,j,k,x);case 3:e:{if(f_(u),c===null)throw Error(s(387));j=u.pendingProps,P=u.memoizedState,k=P.element,Ak(c,u),Gp(u,j,null,x);var D=u.memoizedState;if(j=D.element,P.isDehydrated)if(P={element:j,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){k=pu(Error(s(423)),u),u=p_(c,u,j,x,k);break e}else if(j!==k){k=pu(Error(s(424)),u),u=p_(c,u,j,x,k);break e}else for(un=Nl(u.stateNode.containerInfo.firstChild),dn=u,$r=!0,fi=null,x=_k(u,null,j,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(du(),j===k){u=Mo(c,u,x);break e}Ra(c,u,j,x)}u=u.child}return u;case 5:return Ok(u),c===null&&Hv(u),j=u.type,k=u.pendingProps,P=c!==null?c.memoizedProps:null,D=k.children,Dv(j,k)?D=null:P!==null&&Dv(j,P)&&(u.flags|=32),m_(c,u),Ra(c,u,D,x),u.child;case 6:return c===null&&Hv(u),null;case 13:return g_(c,u,x);case 4:return Zv(u,u.stateNode.containerInfo),j=u.pendingProps,c===null?u.child=uu(u,null,j,x):Ra(c,u,j,x),u.child;case 11:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:pi(j,k),l_(c,u,j,k,x);case 7:return Ra(c,u,u.pendingProps,x),u.child;case 8:return Ra(c,u,u.pendingProps.children,x),u.child;case 12:return Ra(c,u,u.pendingProps.children,x),u.child;case 10:e:{if(j=u.type._context,k=u.pendingProps,P=u.memoizedProps,D=k.value,wr(Hp,j._currentValue),j._currentValue=D,P!==null)if(hi(P.value,D)){if(P.children===k.children&&!Ga.current){u=Mo(c,u,x);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var Y=P.dependencies;if(Y!==null){D=P.child;for(var se=Y.firstContext;se!==null;){if(se.context===j){if(P.tag===1){se=Ro(-1,x&-x),se.tag=2;var be=P.updateQueue;if(be!==null){be=be.shared;var Ie=be.pending;Ie===null?se.next=se:(se.next=Ie.next,Ie.next=se),be.pending=se}}P.lanes|=x,se=P.alternate,se!==null&&(se.lanes|=x),Jv(P.return,x,u),Y.lanes|=x;break}se=se.next}}else if(P.tag===10)D=P.type===u.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(s(341));D.lanes|=x,Y=D.alternate,Y!==null&&(Y.lanes|=x),Jv(D,x,u),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===u){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}Ra(c,u,k.children,x),u=u.child}return u;case 9:return k=u.type,j=u.pendingProps.children,hu(u,x),k=Mn(k),j=j(k),u.flags|=1,Ra(c,u,j,x),u.child;case 14:return j=u.type,k=pi(j,u.pendingProps),k=pi(j.type,k),c_(c,u,j,k,x);case 15:return d_(c,u,u.type,u.pendingProps,x);case 17:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:pi(j,k),sg(c,u),u.tag=1,Ya(j)?(c=!0,zp(u)):c=!1,hu(u,x),t_(u,j,k),mb(u,j,k,x),gb(null,u,j,!0,c,x);case 19:return y_(c,u,x);case 22:return u_(c,u,x)}throw Error(s(156,u.tag))};function B_(c,u){return la(c,u)}function DB(c,u,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(c,u,x,j){return new DB(c,u,x,j)}function Db(c){return c=c.prototype,!(!c||!c.isReactComponent)}function LB(c){if(typeof c=="function")return Db(c)?1:0;if(c!=null){if(c=c.$$typeof,c===R)return 11;if(c===U)return 14}return 2}function Ml(c,u){var x=c.alternate;return x===null?(x=Ln(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function fg(c,u,x,j,k,P){var D=2;if(j=c,typeof c=="function")Db(c)&&(D=1);else if(typeof c=="string")D=5;else e:switch(c){case T:return zc(x.children,k,P,u);case M:D=8,k|=8;break;case z:return c=Ln(12,x,u,k|2),c.elementType=z,c.lanes=P,c;case $:return c=Ln(13,x,u,k),c.elementType=$,c.lanes=P,c;case B:return c=Ln(19,x,u,k),c.elementType=B,c.lanes=P,c;case L:return pg(x,k,P,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case V:D=10;break e;case O:D=9;break e;case R:D=11;break e;case U:D=14;break e;case te:D=16,j=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return u=Ln(D,x,u,k),u.elementType=c,u.type=j,u.lanes=P,u}function zc(c,u,x,j){return c=Ln(7,c,j,u),c.lanes=x,c}function pg(c,u,x,j){return c=Ln(22,c,j,u),c.elementType=L,c.lanes=x,c.stateNode={isHidden:!1},c}function Lb(c,u,x){return c=Ln(6,c,null,u),c.lanes=x,c}function $b(c,u,x){return u=Ln(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function $B(c,u,x,j,k){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=j,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function zb(c,u,x,j,k,P,D,Y,se){return c=new $B(c,u,x,Y,se),u===1?(u=1,P===!0&&(u|=8)):u=0,P=Ln(3,null,null,u),c.current=P,P.stateNode=c,P.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(P),c}function zB(c,u,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:j==null?null:""+j,children:c,containerInfo:u,implementation:x}}function W_(c){if(!c)return Cl;c=c._reactInternals;e:{if(ot(c)!==c||c.tag!==1)throw Error(s(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ya(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(c.tag===1){var x=c.type;if(Ya(x))return xk(c,x,u)}return u}function V_(c,u,x,j,k,P,D,Y,se){return c=zb(x,j,!0,c,k,P,D,Y,se),c.context=W_(null),x=c.current,j=Ma(),k=Ol(x),P=Ro(j,k),P.callback=u??null,Pl(x,P,k),c.current.lanes=k,br(c,k,j),Qa(c,j),c}function gg(c,u,x,j){var k=u.current,P=Ma(),D=Ol(k);return x=W_(x),u.context===null?u.context=x:u.pendingContext=x,u=Ro(P,D),u.payload={element:c},j=j===void 0?null:j,j!==null&&(u.callback=j),c=Pl(k,u,D),c!==null&&(yi(c,k,D,P),Kp(c,k,D)),D}function xg(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function H_(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function Fb(c,u){H_(c,u),(c=c.alternate)&&H_(c,u)}function FB(){return null}var q_=typeof reportError=="function"?reportError:function(c){console.error(c)};function Ub(c){this._internalRoot=c}yg.prototype.render=Ub.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(s(409));gg(c,u,null,null)},yg.prototype.unmount=Ub.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Dc(function(){gg(null,c,null,null)}),u[Po]=null}};function yg(c){this._internalRoot=c}yg.prototype.unstable_scheduleHydration=function(c){if(c){var u=ca();c={blockedOn:null,target:c,priority:u};for(var x=0;x<mi.length&&u!==0&&u<mi[x].priority;x++);mi.splice(x,0,c),x===0&&Hm(c)}};function Bb(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function vg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function K_(){}function UB(c,u,x,j,k){if(k){if(typeof j=="function"){var P=j;j=function(){var be=xg(D);P.call(be)}}var D=V_(u,j,c,0,null,!1,!1,"",K_);return c._reactRootContainer=D,c[Po]=D.current,sh(c.nodeType===8?c.parentNode:c),Dc(),D}for(;k=c.lastChild;)c.removeChild(k);if(typeof j=="function"){var Y=j;j=function(){var be=xg(se);Y.call(be)}}var se=zb(c,0,!1,null,null,!1,!1,"",K_);return c._reactRootContainer=se,c[Po]=se.current,sh(c.nodeType===8?c.parentNode:c),Dc(function(){gg(u,se,x,j)}),se}function bg(c,u,x,j,k){var P=x._reactRootContainer;if(P){var D=P;if(typeof k=="function"){var Y=k;k=function(){var se=xg(D);Y.call(se)}}gg(u,D,c,k)}else D=UB(x,u,c,k,j);return xg(D)}ys=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var x=li(u.pendingLanes);x!==0&&(Ta(u,x|1),Qa(u,or()),(er&6)===0&&(yu=or()+500,kl()))}break;case 13:Dc(function(){var j=Oo(c,1);if(j!==null){var k=Ma();yi(j,c,1,k)}}),Fb(c,1)}},ln=function(c){if(c.tag===13){var u=Oo(c,134217728);if(u!==null){var x=Ma();yi(u,c,134217728,x)}Fb(c,134217728)}},Ir=function(c){if(c.tag===13){var u=Ol(c),x=Oo(c,u);if(x!==null){var j=Ma();yi(x,c,u,j)}Fb(c,u)}},ca=function(){return St},Dr=function(c,u){var x=St;try{return St=c,u()}finally{St=x}},Ne=function(c,u,x){switch(u){case"input":if(Ve(c,x),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var j=x[u];if(j!==c&&j.form===c.form){var k=Lp(j);if(!k)throw Error(s(90));Q(j),Ve(j,k)}}}break;case"textarea":qr(c,x);break;case"select":u=x.value,u!=null&&nt(c,!!x.multiple,u,!1)}},Pa=Rb,_s=Dc;var BB={usingClientEntryPoint:!1,Events:[ih,nu,Lp,ir,_t,Rb]},bh={findFiberByHostInstance:Pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WB={bundleType:bh.bundleType,version:bh.version,rendererPackageName:bh.rendererPackageName,rendererConfig:bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Wi(c),c===null?null:c.stateNode},findFiberByHostInstance:bh.findFiberByHostInstance||FB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{gl=wg.inject(WB),qa=wg}catch{}}return Za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BB,Za.createPortal=function(c,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bb(u))throw Error(s(200));return zB(c,u,null,x)},Za.createRoot=function(c,u){if(!Bb(c))throw Error(s(299));var x=!1,j="",k=q_;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=zb(c,1,!1,null,null,x,!1,j,k),c[Po]=u.current,sh(c.nodeType===8?c.parentNode:c),new Ub(u)},Za.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=Wi(u),c=c===null?null:c.stateNode,c},Za.flushSync=function(c){return Dc(c)},Za.hydrate=function(c,u,x){if(!vg(u))throw Error(s(200));return bg(null,c,u,!0,x)},Za.hydrateRoot=function(c,u,x){if(!Bb(c))throw Error(s(405));var j=x!=null&&x.hydratedSources||null,k=!1,P="",D=q_;if(x!=null&&(x.unstable_strictMode===!0&&(k=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onRecoverableError!==void 0&&(D=x.onRecoverableError)),u=V_(u,null,c,1,x??null,k,!1,P,D),c[Po]=u.current,sh(c),j)for(c=0;c<j.length;c++)x=j[c],k=x._getVersion,k=k(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,k]:u.mutableSourceEagerHydrationData.push(x,k);return new yg(u)},Za.render=function(c,u,x){if(!vg(u))throw Error(s(200));return bg(null,c,u,!1,x)},Za.unmountComponentAtNode=function(c){if(!vg(c))throw Error(s(40));return c._reactRootContainer?(Dc(function(){bg(null,null,c,!1,function(){c._reactRootContainer=null,c[Po]=null})}),!0):!1},Za.unstable_batchedUpdates=Rb,Za.unstable_renderSubtreeIntoContainer=function(c,u,x,j){if(!vg(x))throw Error(s(200));if(c==null||c._reactInternals===void 0)throw Error(s(38));return bg(c,u,x,!1,j)},Za.version="18.3.1-next-f1338f8080-20240426",Za}var tP;function P3(){if(tP)return Hb.exports;tP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Hb.exports=eW(),Hb.exports}var rP;function tW(){if(rP)return jg;rP=1;var e=P3();return jg.createRoot=e.createRoot,jg.hydrateRoot=e.hydrateRoot,jg}var rW=tW();const sP=ai(rW);var cc=P3();const sW=ai(cc);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lf.apply(this,arguments)}var Gl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gl||(Gl={}));const aP="popstate";function aW(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:o,hash:l}=a.location;return jN("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:b0(n)}return iW(r,s,null,e)}function ls(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function A3(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function nW(){return Math.random().toString(36).substr(2,8)}function nP(e,r){return{usr:e.state,key:e.key,idx:r}}function jN(e,r,s,a){return s===void 0&&(s=null),lf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?vm(r):r,{state:s,key:r&&r.key||a||nW()})}function b0(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function vm(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function iW(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Gl.Pop,d=null,m=h();m==null&&(m=0,o.replaceState(lf({},o.state,{idx:m}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Gl.Pop;let v=h(),N=v==null?null:v-m;m=v,d&&d({action:l,location:b.location,delta:N})}function g(v,N){l=Gl.Push;let C=jN(b.location,v,N);m=h()+1;let S=nP(C,m),_=b.createHref(C);try{o.pushState(S,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(_)}i&&d&&d({action:l,location:b.location,delta:1})}function y(v,N){l=Gl.Replace;let C=jN(b.location,v,N);m=h();let S=nP(C,m),_=b.createHref(C);o.replaceState(S,"",_),i&&d&&d({action:l,location:b.location,delta:0})}function w(v){let N=n.location.origin!=="null"?n.location.origin:n.location.href,C=typeof v=="string"?v:b0(v);return C=C.replace(/ $/,"%20"),ls(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let b={get action(){return l},get location(){return e(n,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(aP,f),d=v,()=>{n.removeEventListener(aP,f),d=null}},createHref(v){return r(n,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:y,go(v){return o.go(v)}};return b}var iP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iP||(iP={}));function oW(e,r,s){return s===void 0&&(s="/"),lW(e,r,s)}function lW(e,r,s,a){let n=typeof r=="string"?vm(r):r,i=cf(n.pathname||"/",s);if(i==null)return null;let o=E3(e);cW(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let m=wW(i);l=yW(o[d],m)}return l}function E3(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ls(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let m=Xl([a,d.relativePath]),h=s.concat(d);i.children&&i.children.length>0&&(ls(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),E3(i.children,r,h,m)),!(i.path==null&&!i.index)&&r.push({path:m,score:gW(m,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of T3(i.path))n(i,o,d)}),r}function T3(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=T3(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function cW(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:xW(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const dW=/^:[\w-]+$/,uW=3,mW=2,hW=1,fW=10,pW=-2,oP=e=>e==="*";function gW(e,r){let s=e.split("/"),a=s.length;return s.some(oP)&&(a+=pW),r&&(a+=mW),s.filter(n=>!oP(n)).reduce((n,i)=>n+(dW.test(i)?uW:i===""?hW:fW),a)}function xW(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function yW(e,r,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],m=l===a.length-1,h=i==="/"?r:r.slice(i.length)||"/",f=vW({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),g=d.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:Xl([i,f.pathname]),pathnameBase:CW(Xl([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Xl([i,f.pathnameBase]))}return o}function vW(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=bW(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((m,h,f)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function bW(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),A3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function wW(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return A3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function cf(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function jW(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?vm(e):e;return{pathname:s?s.startsWith("/")?s:NW(s,r):r,search:kW(a),hash:_W(n)}}function NW(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Gb(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SW(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function kS(e,r){let s=SW(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function _S(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=vm(e):(n=lf({},e),ls(!n.pathname||!n.pathname.includes("?"),Gb("?","pathname","search",n)),ls(!n.pathname||!n.pathname.includes("#"),Gb("#","pathname","hash",n)),ls(!n.search||!n.search.includes("#"),Gb("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let f=r.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;n.pathname=g.join("/")}l=f>=0?r[f]:"/"}let d=jW(n,l),m=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}const Xl=e=>e.join("/").replace(/\/\/+/g,"/"),CW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_W=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O3=["post","put","patch","delete"];new Set(O3);const AW=["get",...O3];new Set(AW);const EW={state:"unblocked",proceed:void 0,reset:void 0,location:void 0};/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},pd.apply(this,arguments)}const PS=p.createContext(null),TW=p.createContext(null),dc=p.createContext(null),Lx=p.createContext(null),xo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),R3=p.createContext(null);function OW(e,r){let{relative:s}=r===void 0?{}:r;bm()||ls(!1);let{basename:a,navigator:n}=p.useContext(dc),{hash:i,pathname:o,search:l}=I3(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:Xl([a,o])),n.createHref({pathname:d,search:l,hash:i})}function bm(){return p.useContext(Lx)!=null}function uc(){return bm()||ls(!1),p.useContext(Lx).location}function M3(e){p.useContext(dc).static||p.useLayoutEffect(e)}function vr(){let{isDataRoute:e}=p.useContext(xo);return e?KW():RW()}function RW(){bm()||ls(!1);let e=p.useContext(PS),{basename:r,future:s,navigator:a}=p.useContext(dc),{matches:n}=p.useContext(xo),{pathname:i}=uc(),o=JSON.stringify(kS(n,s.v7_relativeSplatPath)),l=p.useRef(!1);return M3(()=>{l.current=!0}),p.useCallback(function(m,h){if(h===void 0&&(h={}),!l.current)return;if(typeof m=="number"){a.go(m);return}let f=_S(m,JSON.parse(o),i,h.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:Xl([r,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[r,a,o,i,e])}const MW=p.createContext(null);function IW(e){let r=p.useContext(xo).outlet;return r&&p.createElement(MW.Provider,{value:e},r)}function Of(){let{matches:e}=p.useContext(xo),r=e[e.length-1];return r?r.params:{}}function I3(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=p.useContext(dc),{matches:n}=p.useContext(xo),{pathname:i}=uc(),o=JSON.stringify(kS(n,a.v7_relativeSplatPath));return p.useMemo(()=>_S(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function DW(e,r){return LW(e,r)}function LW(e,r,s,a){bm()||ls(!1);let{navigator:n}=p.useContext(dc),{matches:i}=p.useContext(xo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let m=uc(),h;if(r){var f;let v=typeof r=="string"?vm(r):r;d==="/"||(f=v.pathname)!=null&&f.startsWith(d)||ls(!1),h=v}else h=m;let g=h.pathname||"/",y=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=oW(e,{pathname:y}),b=BW(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Xl([d,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Xl([d,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,s,a);return r&&b?p.createElement(Lx.Provider,{value:{location:pd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gl.Pop}},b):b}function $W(){let e=VW(),r=PW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),s?p.createElement("pre",{style:n},s):null,null)}const zW=p.createElement($W,null);class FW extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?p.createElement(xo.Provider,{value:this.props.routeContext},p.createElement(R3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UW(e){let{routeContext:r,match:s,children:a}=e,n=p.useContext(PS);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(xo.Provider,{value:r},a)}function BW(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ls(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:g,errors:y}=s,w=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let y,w=!1,b=null,v=null;s&&(y=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||zW,d&&(m<0&&g===0?(GW("route-fallback"),w=!0,v=null):m===g&&(w=!0,v=f.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,g+1)),C=()=>{let S;return y?S=b:w?S=v:f.route.Component?S=p.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,p.createElement(UW,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:S})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(FW,{location:s.location,revalidation:s.revalidation,component:b,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var D3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D3||{}),L3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(L3||{});function $3(e){let r=p.useContext(PS);return r||ls(!1),r}function z3(e){let r=p.useContext(TW);return r||ls(!1),r}function WW(e){let r=p.useContext(xo);return r||ls(!1),r}function F3(e){let r=WW(),s=r.matches[r.matches.length-1];return s.route.id||ls(!1),s.route.id}function VW(){var e;let r=p.useContext(R3),s=z3(),a=F3();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}let HW=0;function qW(e){let{router:r,basename:s}=$3(),a=z3(),[n,i]=p.useState(""),o=p.useCallback(l=>{if(typeof e!="function")return!!e;if(s==="/")return e(l);let{currentLocation:d,nextLocation:m,historyAction:h}=l;return e({currentLocation:pd({},d,{pathname:cf(d.pathname,s)||d.pathname}),nextLocation:pd({},m,{pathname:cf(m.pathname,s)||m.pathname}),historyAction:h})},[s,e]);return p.useEffect(()=>{let l=String(++HW);return i(l),()=>r.deleteBlocker(l)},[r]),p.useEffect(()=>{n!==""&&r.getBlocker(n,o)},[r,n,o]),n&&a.blockers.has(n)?a.blockers.get(n):EW}function KW(){let{router:e}=$3(D3.UseNavigateStable),r=F3(L3.UseNavigateStable),s=p.useRef(!1);return M3(()=>{s.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,pd({fromRouteId:r},i)))},[e,r])}const lP={};function GW(e,r,s){lP[e]||(lP[e]=!0)}function YW(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $x(e){let{to:r,replace:s,state:a,relative:n}=e;bm()||ls(!1);let{future:i,static:o}=p.useContext(dc),{matches:l}=p.useContext(xo),{pathname:d}=uc(),m=vr(),h=_S(r,kS(l,i.v7_relativeSplatPath),d,n==="path"),f=JSON.stringify(h);return p.useEffect(()=>m(JSON.parse(f),{replace:s,state:a,relative:n}),[m,f,n,s,a]),null}function JW(e){return IW(e.context)}function gt(e){ls(!1)}function XW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=Gl.Pop,navigator:i,static:o=!1,future:l}=e;bm()&&ls(!1);let d=r.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:d,navigator:i,static:o,future:pd({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=vm(a));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:w="default"}=a,b=p.useMemo(()=>{let v=cf(h,d);return v==null?null:{location:{pathname:v,search:f,hash:g,state:y,key:w},navigationType:n}},[d,h,f,g,y,w,n]);return b==null?null:p.createElement(dc.Provider,{value:m},p.createElement(Lx.Provider,{children:s,value:b}))}function QW(e){let{children:r,location:s}=e;return DW(NN(r),s)}new Promise(()=>{});function NN(e,r){r===void 0&&(r=[]);let s=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...r,n];if(a.type===p.Fragment){s.push.apply(s,NN(a.props.children,i));return}a.type!==gt&&ls(!1),!a.props.index||!a.props.children||ls(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=NN(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},SN.apply(this,arguments)}function ZW(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function eV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tV(e,r){return e.button===0&&(!r||r==="_self")&&!eV(e)}function CN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function rV(e,r){let s=CN(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const sV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aV="6";try{window.__reactRouterVersion=aV}catch{}const nV="startTransition",cP=Dx[nV];function iV(e){let{basename:r,children:s,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=aW({window:n,v5Compat:!0}));let o=i.current,[l,d]=p.useState({action:o.action,location:o.location}),{v7_startTransition:m}=a||{},h=p.useCallback(f=>{m&&cP?cP(()=>d(f)):d(f)},[d,m]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>YW(a),[a]),p.createElement(XW,{basename:r,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const oV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cV=p.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:m,preventScrollReset:h,viewTransition:f}=r,g=ZW(r,sV),{basename:y}=p.useContext(dc),w,b=!1;if(typeof m=="string"&&lV.test(m)&&(w=m,oV))try{let S=new URL(window.location.href),_=m.startsWith("//")?new URL(S.protocol+m):new URL(m),E=cf(_.pathname,y);_.origin===S.origin&&E!=null?m=E+_.search+_.hash:b=!0}catch{}let v=OW(m,{relative:n}),N=dV(m,{replace:o,state:l,target:d,preventScrollReset:h,relative:n,viewTransition:f});function C(S){a&&a(S),S.defaultPrevented||N(S)}return p.createElement("a",SN({},g,{href:w||v,onClick:b||i?a:C,ref:s,target:d}))});var dP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dP||(dP={}));var uP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uP||(uP={}));function dV(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,d=vr(),m=uc(),h=I3(e,{relative:o});return p.useCallback(f=>{if(tV(f,s)){f.preventDefault();let g=a!==void 0?a:b0(m)===b0(h);d(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[m,d,h,a,n,s,e,i,o,l])}function uV(e){let r=p.useRef(CN(e)),s=p.useRef(!1),a=uc(),n=p.useMemo(()=>rV(a.search,s.current?null:r.current),[a.search]),i=vr(),o=p.useCallback((l,d)=>{const m=CN(typeof l=="function"?l(n):l);s.current=!0,i("?"+m,d)},[i,n]);return[n,o]}var mV=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function U3({packageName:e,customMessages:r}){let s=e;function a(i,o){if(!o)return`${s}: ${i}`;let l=i;const d=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const m of d){const h=(o[m[1]]||"").toString();l=l.replace(`{{${m[1]}}}`,h)}return`${s}: ${l}`}const n={...mV,...r};return{setPackageName({packageName:i}){return typeof i=="string"&&(s=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(a(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(a(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(a(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(a(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(a(n.MissingClerkProvider,i))},throw(i){throw new Error(a(i))}}}var B3=Object.defineProperty,hV=Object.getOwnPropertyDescriptor,fV=Object.getOwnPropertyNames,pV=Object.prototype.hasOwnProperty,gV=(e,r)=>{for(var s in r)B3(e,s,{get:r[s],enumerable:!0})},xV=(e,r,s,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of fV(r))!pV.call(e,n)&&n!==s&&B3(e,n,{get:()=>r[n],enumerable:!(a=hV(r,n))||a.enumerable});return e},yV=(e,r,s)=>(xV(e,r,"default"),s),vV={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},bV=new Set(["first_factor","second_factor","multi_factor"]),wV=new Set(["strict_mfa","strict","moderate","lax"]),jV=e=>typeof e=="number"&&e>0,NV=e=>bV.has(e),SV=e=>wV.has(e),Yb=e=>e.replace(/^(org:)*/,"org:"),CV=(e,r)=>{const{orgId:s,orgRole:a,orgPermissions:n}=r;return!e.role&&!e.permission||!s||!a||!n?null:e.permission?n.includes(Yb(e.permission)):e.role?Yb(a)===Yb(e.role):null},mP=(e,r)=>{const{org:s,user:a}=_V(e),[n,i]=r.split(":"),o=i||n;return n==="org"?s.includes(o):n==="user"?a.includes(o):[...s,...a].includes(o)},kV=(e,r)=>{const{features:s,plans:a}=r;return e.feature&&s?mP(s,e.feature):e.plan&&a?mP(a,e.plan):null},_V=e=>{const r=e?e.split(",").map(s=>s.trim()):[];return{org:r.filter(s=>s.split(":")[0].includes("o")).map(s=>s.split(":")[1]),user:r.filter(s=>s.split(":")[0].includes("u")).map(s=>s.split(":")[1])}},PV=e=>{if(!e)return!1;const r=n=>typeof n=="string"?vV[n]:n,s=typeof e=="string"&&SV(e),a=typeof e=="object"&&NV(e.level)&&jV(e.afterMinutes);return s||a?r.bind(null,e):!1},AV=(e,{factorVerificationAge:r})=>{if(!e.reverification||!r)return null;const s=PV(e.reverification);if(!s)return null;const{level:a,afterMinutes:n}=s(),[i,o]=r,l=i!==-1?n>i:null,d=o!==-1?n>o:null;switch(a){case"first_factor":return l;case"second_factor":return o!==-1?d:l;case"multi_factor":return o===-1?l:l&&d}},EV=e=>r=>{if(!e.userId)return!1;const s=kV(r,e),a=CV(r,e),n=AV(r,e);return[s||a,n].some(i=>i===null)?[s||a,n].some(i=>i===!0):[s||a,n].every(i=>i===!0)},TV=({authObject:{sessionId:e,sessionStatus:r,userId:s,actor:a,orgId:n,orgRole:i,orgSlug:o,signOut:l,getToken:d,has:m,sessionClaims:h},options:{treatPendingAsSignedOut:f=!0}})=>{if(e===void 0&&s===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:s,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:d};if(e===null&&s===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:s,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(f&&r==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(e&&h&&s&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:n,orgRole:i,orgSlug:o||null,has:m,signOut:l,getToken:d};if(e&&h&&s&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:null,orgRole:null,orgSlug:null,has:m,signOut:l,getToken:d}},W3=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,OV=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],V3="pk_live_",RV="pk_test_";function H3(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function hP(e,r={}){if(e=e||"",!e||!kN(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!kN(e))throw new Error("Publishable key not valid.");return null}const s=e.startsWith(V3)?"production":"development";let a;try{a=W3(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!H3(a)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let n=a.slice(0,-1);return r.proxyUrl?n=r.proxyUrl:s!=="development"&&r.domain&&r.isSatellite&&(n=`clerk.${r.domain}`),{instanceType:s,frontendApi:n}}function kN(e=""){try{if(!(e.startsWith(V3)||e.startsWith(RV)))return!1;const s=e.split("_");if(s.length!==3)return!1;const a=s[2];if(!a)return!1;const n=W3(a);return H3(n)}catch{return!1}}function MV(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const s=typeof r=="string"?r:r.hostname;let a=e.get(s);return a===void 0&&(a=OV.some(n=>s.endsWith(n)),e.set(s,a)),a}}}var IV="METHOD_CALLED",DV=.1;function q3(e,r){return{event:IV,eventSamplingRate:DV,payload:{method:e,...r}}}var Jb={exports:{}},Xb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function LV(){if(fP)return Xb;fP=1;var e=ym();function r(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,g){var y=g(),w=a({inst:{value:y,getSnapshot:g}}),b=w[0].inst,v=w[1];return i(function(){b.value=y,b.getSnapshot=g,d(b)&&v({inst:b})},[f,y,g]),n(function(){return d(b)&&v({inst:b}),f(function(){d(b)&&v({inst:b})})},[f]),o(y),y}function d(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!s(f,y)}catch{return!0}}function m(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return Xb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Xb}var pP;function K3(){return pP||(pP=1,Jb.exports=LV()),Jb.exports}var AS=K3();const G3=0,Y3=1,J3=2,gP=3;var xP=Object.prototype.hasOwnProperty;function _N(e,r){var s,a;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&_N(e[a],r[a]););return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(xP.call(e,s)&&++a&&!xP.call(r,s)||!(s in r)||!_N(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}const ji=new WeakMap,Yl=()=>{},Rs=Yl(),w0=Object,Dt=e=>e===Rs,Vn=e=>typeof e=="function",Zo=(e,r)=>({...e,...r}),X3=e=>Vn(e.then),Qb={},Ng={},ES="undefined",Rf=typeof window!=ES,PN=typeof document!=ES,$V=Rf&&"Deno"in window,zV=()=>Rf&&typeof window.requestAnimationFrame!=ES,Bl=(e,r)=>{const s=ji.get(e);return[()=>!Dt(r)&&e.get(r)||Qb,a=>{if(!Dt(r)){const n=e.get(r);r in Ng||(Ng[r]=n),s[5](r,Zo(n,a),n||Qb)}},s[6],()=>!Dt(r)&&r in Ng?Ng[r]:!Dt(r)&&e.get(r)||Qb]};let AN=!0;const FV=()=>AN,[EN,TN]=Rf&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Yl,Yl],UV=()=>{const e=PN&&document.visibilityState;return Dt(e)||e!=="hidden"},BV=e=>(PN&&document.addEventListener("visibilitychange",e),EN("focus",e),()=>{PN&&document.removeEventListener("visibilitychange",e),TN("focus",e)}),WV=e=>{const r=()=>{AN=!0,e()},s=()=>{AN=!1};return EN("online",r),EN("offline",s),()=>{TN("online",r),TN("offline",s)}},VV={isOnline:FV,isVisible:UV},HV={initFocus:BV,initReconnect:WV},yP=!ue.useId,df=!Rf||$V,qV=e=>zV()?window.requestAnimationFrame(e):setTimeout(e,1),Qh=df?p.useEffect:p.useLayoutEffect,Zb=typeof navigator<"u"&&navigator.connection,vP=!df&&Zb&&(["slow-2g","2g"].includes(Zb.effectiveType)||Zb.saveData),Sg=new WeakMap,KV=e=>w0.prototype.toString.call(e),ew=(e,r)=>e===`[object ${r}]`;let GV=0;const ON=e=>{const r=typeof e,s=KV(e),a=ew(s,"Date"),n=ew(s,"RegExp"),i=ew(s,"Object");let o,l;if(w0(e)===e&&!a&&!n){if(o=Sg.get(e),o)return o;if(o=++GV+"~",Sg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=ON(e[l])+",";Sg.set(e,o)}if(i){o="#";const d=w0.keys(e).sort();for(;!Dt(l=d.pop());)Dt(e[l])||(o+=l+":"+ON(e[l])+",");Sg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},tm=e=>{if(Vn(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?ON(e):"",[e,r]};let YV=0;const RN=()=>++YV;async function Q3(...e){const[r,s,a,n]=e,i=Zo({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let o=i.populateCache;const l=i.rollbackOnError;let d=i.optimisticData;const m=g=>typeof l=="function"?l(g):l!==!1,h=i.throwOnError;if(Vn(s)){const g=s,y=[],w=r.keys();for(const b of w)!/^\$(inf|sub)\$/.test(b)&&g(r.get(b)._k)&&y.push(b);return Promise.all(y.map(f))}return f(s);async function f(g){const[y]=tm(g);if(!y)return;const[w,b]=Bl(r,y),[v,N,C,S]=ji.get(r),_=()=>{const B=v[y];return(Vn(i.revalidate)?i.revalidate(w().data,g):i.revalidate!==!1)&&(delete C[y],delete S[y],B&&B[0])?B[0](J3).then(()=>w().data):w().data};if(e.length<3)return _();let E=a,A,T=!1;const M=RN();N[y]=[M,0];const z=!Dt(d),V=w(),O=V.data,R=V._c,$=Dt(R)?O:R;if(z&&(d=Vn(d)?d($,O):d,b({data:d,_c:$})),Vn(E))try{E=E($)}catch(B){A=B,T=!0}if(E&&X3(E))if(E=await E.catch(B=>{A=B,T=!0}),M!==N[y][0]){if(T)throw A;return E}else T&&z&&m(A)&&(o=!0,b({data:$,_c:Rs}));if(o&&!T)if(Vn(o)){const B=o(E,$);b({data:B,error:Rs,_c:Rs})}else b({data:E,error:Rs,_c:Rs});if(N[y][1]=RN(),Promise.resolve(_()).then(()=>{b({_c:Rs})}),T){if(h)throw A;return}return E}}const bP=(e,r)=>{for(const s in e)e[s][0]&&e[s][0](r)},Z3=(e,r)=>{if(!ji.has(e)){const s=Zo(HV,r),a=Object.create(null),n=Q3.bind(Rs,e);let i=Yl;const o=Object.create(null),l=(h,f)=>{const g=o[h]||[];return o[h]=g,g.push(f),()=>g.splice(g.indexOf(f),1)},d=(h,f,g)=>{e.set(h,f);const y=o[h];if(y)for(const w of y)w(f,g)},m=()=>{if(!ji.has(e)&&(ji.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,d,l]),!df)){const h=s.initFocus(setTimeout.bind(Rs,bP.bind(Rs,a,G3))),f=s.initReconnect(setTimeout.bind(Rs,bP.bind(Rs,a,Y3)));i=()=>{h&&h(),f&&f(),ji.delete(e)}}};return m(),[e,n,m,i]}return[e,ji.get(e)[4]]},JV=(e,r,s,a,n)=>{const i=s.errorRetryCount,o=n.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!Dt(i)&&o>i||setTimeout(a,l,n)},XV=_N,[Mf,eR]=Z3(new Map),tR=Zo({onLoadingSlow:Yl,onSuccess:Yl,onError:Yl,onErrorRetry:JV,onDiscarded:Yl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:vP?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:vP?5e3:3e3,compare:XV,isPaused:()=>!1,cache:Mf,mutate:eR,fallback:{}},VV),rR=(e,r)=>{const s=Zo(e,r);if(r){const{use:a,fallback:n}=e,{use:i,fallback:o}=r;a&&i&&(s.use=a.concat(i)),n&&o&&(s.fallback=Zo(n,o))}return s},MN=p.createContext({}),QV=e=>{const{value:r}=e,s=p.useContext(MN),a=Vn(r),n=p.useMemo(()=>a?r(s):r,[a,s,r]),i=p.useMemo(()=>a?n:rR(s,n),[a,s,n]),o=n&&n.provider,l=p.useRef(Rs);o&&!l.current&&(l.current=Z3(o(i.cache||Mf),n));const d=l.current;return d&&(i.cache=d[0],i.mutate=d[1]),Qh(()=>{if(d)return d[2]&&d[2](),d[3]},[]),p.createElement(MN.Provider,Zo(e,{value:i}))},sR="$inf$",aR=Rf&&window.__SWR_DEVTOOLS_USE__,ZV=aR?window.__SWR_DEVTOOLS_USE__:[],eH=()=>{aR&&(window.__SWR_DEVTOOLS_REACT__=ue)},nR=e=>Vn(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],iR=()=>Zo(tR,p.useContext(MN)),tH=(e,r)=>{const[s,a]=tm(e),[,,,n]=ji.get(Mf);if(n[s])return n[s];const i=r(a);return n[s]=i,i},rH=e=>(r,s,a)=>e(r,s&&((...i)=>{const[o]=tm(r),[,,,l]=ji.get(Mf);if(o.startsWith(sR))return s(...i);const d=l[o];return Dt(d)?s(...i):(delete l[o],d)}),a),sH=ZV.concat(rH),aH=e=>function(...s){const a=iR(),[n,i,o]=nR(s),l=rR(a,o);let d=e;const{use:m}=l,h=(m||[]).concat(sH);for(let f=h.length;f--;)d=h[f](d);return d(n,i||l.fetcher||null,l)},nH=(e,r,s)=>{const a=r[e]||(r[e]=[]);return a.push(s),()=>{const n=a.indexOf(s);n>=0&&(a[n]=a[a.length-1],a.pop())}},iH=(e,r)=>(...s)=>{const[a,n,i]=nR(s),o=(i.use||[]).concat(r);return e(a,n,{...i,use:o})};eH();const oH=()=>{},lH=oH(),IN=Object,wP=e=>e===lH,cH=e=>typeof e=="function",Cg=new WeakMap,dH=e=>IN.prototype.toString.call(e),tw=(e,r)=>e===`[object ${r}]`;let uH=0;const DN=e=>{const r=typeof e,s=dH(e),a=tw(s,"Date"),n=tw(s,"RegExp"),i=tw(s,"Object");let o,l;if(IN(e)===e&&!a&&!n){if(o=Cg.get(e),o)return o;if(o=++uH+"~",Cg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=DN(e[l])+",";Cg.set(e,o)}if(i){o="#";const d=IN.keys(e).sort();for(;!wP(l=d.pop());)wP(e[l])||(o+=l+":"+DN(e[l])+",");Cg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},mH=e=>{if(cH(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?DN(e):"",[e,r]},hH=e=>mH(e)[0],rw=ue.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}}),sw={dedupe:!0},fH=(e,r,s)=>{const{cache:a,compare:n,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:d,refreshInterval:m,refreshWhenHidden:h,refreshWhenOffline:f,keepPreviousData:g}=s,[y,w,b,v]=ji.get(a),[N,C]=tm(e),S=p.useRef(!1),_=p.useRef(!1),E=p.useRef(N),A=p.useRef(r),T=p.useRef(s),M=()=>T.current,z=()=>M().isVisible()&&M().isOnline(),[V,O,R,$]=Bl(a,N),B=p.useRef({}).current,U=Dt(o)?Dt(s.fallback)?Rs:s.fallback[N]:o,te=(he,Se)=>{for(const Te in B){const ce=Te;if(ce==="data"){if(!n(he[ce],Se[ce])&&(!Dt(he[ce])||!n(I,Se[ce])))return!1}else if(Se[ce]!==he[ce])return!1}return!0},L=p.useMemo(()=>{const he=!N||!r?!1:Dt(l)?M().isPaused()||i?!1:d!==!1:l,Se=Le=>{const nt=Zo(Le);return delete nt._k,he?{isValidating:!0,isLoading:!0,...nt}:nt},Te=V(),ce=$(),Ve=Se(Te),ht=Te===ce?Ve:Se(ce);let de=Ve;return[()=>{const Le=Se(V());return te(Le,de)?(de.data=Le.data,de.isLoading=Le.isLoading,de.isValidating=Le.isValidating,de.error=Le.error,de):(de=Le,Le)},()=>ht]},[a,N]),F=AS.useSyncExternalStore(p.useCallback(he=>R(N,(Se,Te)=>{te(Te,Se)||he()}),[a,N]),L[0],L[1]),q=!S.current,ee=y[N]&&y[N].length>0,W=F.data,Z=Dt(W)?U&&X3(U)?rw(U):U:W,ve=F.error,ne=p.useRef(Z),I=g?Dt(W)?Dt(ne.current)?Z:ne.current:W:Z,we=ee&&!Dt(ve)?!1:q&&!Dt(l)?l:M().isPaused()?!1:i?Dt(Z)?!1:d:Dt(Z)||d,le=!!(N&&r&&q&&we),ke=Dt(F.isValidating)?le:F.isValidating,J=Dt(F.isLoading)?le:F.isLoading,Ce=p.useCallback(async he=>{const Se=A.current;if(!N||!Se||_.current||M().isPaused())return!1;let Te,ce,Ve=!0;const ht=he||{},de=!b[N]||!ht.dedupe,Le=()=>yP?!_.current&&N===E.current&&S.current:N===E.current,nt={isValidating:!1,isLoading:!1},xt=()=>{O(nt)},ar=()=>{const Gt=b[N];Gt&&Gt[1]===ce&&delete b[N]},qr={isValidating:!0};Dt(V().data)&&(qr.isLoading=!0);try{if(de&&(O(qr),s.loadingTimeout&&Dt(V().data)&&setTimeout(()=>{Ve&&Le()&&M().onLoadingSlow(N,s)},s.loadingTimeout),b[N]=[Se(C),RN()]),[Te,ce]=b[N],Te=await Te,de&&setTimeout(ar,s.dedupingInterval),!b[N]||b[N][1]!==ce)return de&&Le()&&M().onDiscarded(N),!1;nt.error=Rs;const Gt=w[N];if(!Dt(Gt)&&(ce<=Gt[0]||ce<=Gt[1]||Gt[1]===0))return xt(),de&&Le()&&M().onDiscarded(N),!1;const Zt=V().data;nt.data=n(Zt,Te)?Zt:Te,de&&Le()&&M().onSuccess(Te,N,s)}catch(Gt){ar();const Zt=M(),{shouldRetryOnError:Kr}=Zt;Zt.isPaused()||(nt.error=Gt,de&&Le()&&(Zt.onError(Gt,N,Zt),(Kr===!0||Vn(Kr)&&Kr(Gt))&&(!M().revalidateOnFocus||!M().revalidateOnReconnect||z())&&Zt.onErrorRetry(Gt,N,Zt,gr=>{const Ye=y[N];Ye&&Ye[0]&&Ye[0](gP,gr)},{retryCount:(ht.retryCount||0)+1,dedupe:!0})))}return Ve=!1,xt(),!0},[N,a]),fe=p.useCallback((...he)=>Q3(a,E.current,...he),[]);if(Qh(()=>{A.current=r,T.current=s,Dt(W)||(ne.current=W)}),Qh(()=>{if(!N)return;const he=Ce.bind(Rs,sw);let Se=0;M().revalidateOnFocus&&(Se=Date.now()+M().focusThrottleInterval);const ce=nH(N,y,(Ve,ht={})=>{if(Ve==G3){const de=Date.now();M().revalidateOnFocus&&de>Se&&z()&&(Se=de+M().focusThrottleInterval,he())}else if(Ve==Y3)M().revalidateOnReconnect&&z()&&he();else{if(Ve==J3)return Ce();if(Ve==gP)return Ce(ht)}});return _.current=!1,E.current=N,S.current=!0,O({_k:C}),we&&(b[N]||(Dt(Z)||df?he():qV(he))),()=>{_.current=!0,ce()}},[N]),Qh(()=>{let he;function Se(){const ce=Vn(m)?m(V().data):m;ce&&he!==-1&&(he=setTimeout(Te,ce))}function Te(){!V().error&&(h||M().isVisible())&&(f||M().isOnline())?Ce(sw).then(Se):Se()}return Se(),()=>{he&&(clearTimeout(he),he=-1)}},[m,h,f,N]),p.useDebugValue(I),i&&Dt(Z)&&N){if(!yP&&df)throw new Error("Fallback data is required when using Suspense in SSR.");A.current=r,T.current=s,_.current=!1;const he=v[N];if(!Dt(he)){const Se=fe(he);rw(Se)}if(Dt(ve)){const Se=Ce(sw);Dt(I)||(Se.status="fulfilled",Se.value=!0),rw(Se)}else throw ve}return{mutate:fe,get data(){return B.data=!0,I},get error(){return B.error=!0,ve},get isValidating(){return B.isValidating=!0,ke},get isLoading(){return B.isLoading=!0,J}}},pH=w0.defineProperty(QV,"defaultValue",{value:tR}),TS=aH(fH),gH=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:pH,default:TS,mutate:eR,preload:tH,unstable_serialize:hH,useSWRConfig:iR},Symbol.toStringTag,{value:"Module"})),xH=()=>{},yH=xH(),LN=Object,jP=e=>e===yH,vH=e=>typeof e=="function",kg=new WeakMap,bH=e=>LN.prototype.toString.call(e),aw=(e,r)=>e===`[object ${r}]`;let wH=0;const $N=e=>{const r=typeof e,s=bH(e),a=aw(s,"Date"),n=aw(s,"RegExp"),i=aw(s,"Object");let o,l;if(LN(e)===e&&!a&&!n){if(o=kg.get(e),o)return o;if(o=++wH+"~",kg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=$N(e[l])+",";kg.set(e,o)}if(i){o="#";const d=LN.keys(e).sort();for(;!jP(l=d.pop());)jP(e[l])||(o+=l+":"+$N(e[l])+",");kg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},jH=e=>{if(vH(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?$N(e):"",[e,r]},NH=e=>jH(e?e(0,null):null)[0],nw=Promise.resolve(),SH=e=>(r,s,a)=>{const n=p.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:d=!1,revalidateFirstPage:m=!0,revalidateOnMount:h=!1,parallel:f=!1}=a,[,,,g]=ji.get(Mf);let y;try{y=NH(r),y&&(y=sR+y)}catch{}const[w,b,v]=Bl(i,y),N=p.useCallback(()=>Dt(w()._l)?o:w()._l,[i,y,o]);AS.useSyncExternalStore(p.useCallback(M=>y?v(y,()=>{M()}):()=>{},[i,y]),N,N);const C=p.useCallback(()=>{const M=w()._l;return Dt(M)?o:M},[y,o]),S=p.useRef(C());Qh(()=>{if(!n.current){n.current=!0;return}y&&b({_l:d?S.current:C()})},[y,i]);const _=h&&!n.current,E=e(y,async M=>{const z=w()._i,V=w()._r;b({_r:Rs});const O=[],R=C(),[$]=Bl(i,M),B=$().data,U=[];let te=null;for(let L=0;L<R;++L){const[F,q]=tm(r(L,f?null:te));if(!F)break;const[ee,W]=Bl(i,F);let Z=ee().data;const ve=l||z||Dt(Z)||m&&!L&&!Dt(B)||_||B&&!Dt(B[L])&&!a.compare(B[L],Z);if(s&&(typeof V=="function"?V(Z,q):ve)){const ne=async()=>{if(!(F in g))Z=await s(q);else{const we=g[F];delete g[F],Z=await we}W({data:Z,_k:q}),O[L]=Z};f?U.push(ne):await ne()}else O[L]=Z;f||(te=Z)}return f&&await Promise.all(U.map(L=>L())),b({_i:Rs}),O},a),A=p.useCallback(function(M,z){const V=typeof z=="boolean"?{revalidate:z}:z||{},O=V.revalidate!==!1;return y?(O&&(Dt(M)?b({_i:!0,_r:V.revalidate}):b({_i:!1,_r:V.revalidate})),arguments.length?E.mutate(M,{...V,revalidate:O}):E.mutate()):nw},[y,i]),T=p.useCallback(M=>{if(!y)return nw;const[,z]=Bl(i,y);let V;if(Vn(M)?V=M(C()):typeof M=="number"&&(V=M),typeof V!="number")return nw;z({_l:V}),S.current=V;const O=[],[R]=Bl(i,y);let $=null;for(let B=0;B<V;++B){const[U]=tm(r(B,$)),[te]=Bl(i,U),L=U?te().data:Rs;if(Dt(L))return A(R().data);O.push(L),$=L}return A(O)},[y,i,A,C]);return{size:C(),setSize:T,mutate:A,get data(){return E.data},get error(){return E.error},get isValidating(){return E.isValidating},get isLoading(){return E.isLoading}}},CH=iH(TS,SH);var NP=Object.prototype.hasOwnProperty;function SP(e,r,s){for(s of e.keys())if(Zh(s,r))return s}function Zh(e,r){var s,a,n;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&Zh(e[a],r[a]););return a===-1}if(s===Set){if(e.size!==r.size)return!1;for(a of e)if(n=a,n&&typeof n=="object"&&(n=SP(r,n),!n)||!r.has(n))return!1;return!0}if(s===Map){if(e.size!==r.size)return!1;for(a of e)if(n=a[0],n&&typeof n=="object"&&(n=SP(r,n),!n)||!Zh(a[1],r.get(n)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),r=new Uint8Array(r);else if(s===DataView){if((a=e.byteLength)===r.byteLength)for(;a--&&e.getInt8(a)===r.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===r.byteLength)for(;a--&&e[a]===r[a];);return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(NP.call(e,s)&&++a&&!NP.call(r,s)||!(s in r)||!Zh(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}function kH(e,r){if(!e)throw typeof r=="string"?new Error(r):new Error(`${r.displayName} not found`)}var yo=(e,r)=>{const{assertCtxFn:s=kH}={},a=ue.createContext(void 0);return a.displayName=e,[a,()=>{const o=ue.useContext(a);return s(o,`${e} not found`),o.value},()=>{const o=ue.useContext(a);return o?o.value:{}}]},OS={};gV(OS,{useSWR:()=>TS,useSWRInfinite:()=>CH});yV(OS,gH);var[oR,lR]=yo("ClerkInstanceContext"),[_H,PH]=yo("UserContext"),[AH,sSe]=yo("ClientContext"),[EH,aSe]=yo("SessionContext");ue.createContext({});var[TH,nSe]=yo("CheckoutContext"),OH=({children:e,...r})=>ue.createElement(TH.Provider,{value:{value:r}},e),[RH,iSe]=yo("OrganizationContext"),MH=({children:e,organization:r,swrConfig:s})=>ue.createElement(OS.SWRConfig,{value:s},ue.createElement(RH.Provider,{value:{value:{organization:r}}},e));function cR(e){if(!ue.useContext(oR)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?ue.useLayoutEffect:ue.useEffect;var CP="useUser";function RS(){var s;cR(CP);const e=PH();return(s=lR().telemetry)==null||s.record(q3(CP)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var kP=Zh,IH=e=>{const r=p.useRef(e);return p.useEffect(()=>{r.current=e},[e]),r.current},hn=(e,r,s)=>{const a=!!s,n=p.useRef(s);p.useEffect(()=>{n.current=s},[s]),p.useEffect(()=>{if(!a||!e)return()=>{};const i=(...o)=>{n.current&&n.current(...o)};return e.on(r,i),()=>{e.off(r,i)}},[a,r,e,n])},dR=ue.createContext(null);dR.displayName="ElementsContext";var DH=(e,r)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${r} in an <Elements> provider.`);return e},j0=e=>e!==null&&typeof e=="object",LH=(e,r,s)=>j0(e)?Object.keys(e).reduce((a,n)=>{const i=!j0(r)||!uR(e[n],r[n]);return s.includes(n)?(i&&console.warn(`Unsupported prop change: options.${n} is not a mutable property.`),a):i?{...a||{},[n]:e[n]}:a},null):null,_P="[object Object]",uR=(e,r)=>{if(!j0(e)||!j0(r))return e===r;const s=Array.isArray(e),a=Array.isArray(r);if(s!==a)return!1;const n=Object.prototype.toString.call(e)===_P,i=Object.prototype.toString.call(r)===_P;if(n!==i)return!1;if(!n&&!s)return e===r;const o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;const d={};for(let y=0;y<o.length;y+=1)d[o[y]]=!0;for(let y=0;y<l.length;y+=1)d[l[y]]=!0;const m=Object.keys(d);if(m.length!==o.length)return!1;const h=e,f=r,g=y=>uR(h[y],f[y]);return m.every(g)},PP=e=>{const r=ue.useContext(dR);return DH(r,e)},$H=e=>e.charAt(0).toUpperCase()+e.slice(1),zH=(e,r)=>{const s=`${$H(e)}Element`,i=r?o=>{PP(`mounts <${s}>`);const{id:l,className:d}=o;return ue.createElement("div",{id:l,className:d})}:({id:o,className:l,fallback:d,options:m={},onBlur:h,onFocus:f,onReady:g,onChange:y,onEscape:w,onClick:b,onLoadError:v,onLoaderStart:N,onNetworksChange:C,onConfirm:S,onCancel:_,onShippingAddressChange:E,onShippingRateChange:A})=>{const T=PP(`mounts <${s}>`),M="elements"in T?T.elements:null,[z,V]=ue.useState(null),O=ue.useRef(null),R=ue.useRef(null),[$,B]=p.useState(!1);hn(z,"blur",h),hn(z,"focus",f),hn(z,"escape",w),hn(z,"click",b),hn(z,"loaderror",v),hn(z,"loaderstart",N),hn(z,"networkschange",C),hn(z,"confirm",S),hn(z,"cancel",_),hn(z,"shippingaddresschange",E),hn(z,"shippingratechange",A),hn(z,"change",y);let U;g&&(U=()=>{B(!0),g(z)}),hn(z,"ready",U),ue.useLayoutEffect(()=>{if(O.current===null&&R.current!==null&&M){let L=null;M&&(L=M.create(e,m)),O.current=L,V(L),L&&L.mount(R.current)}},[M,m]);const te=IH(m);return ue.useEffect(()=>{if(!O.current)return;const L=LH(m,te,["paymentRequest"]);L&&"update"in O.current&&O.current.update(L)},[m,te]),ue.useLayoutEffect(()=>()=>{if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}},[]),ue.createElement(ue.Fragment,null,!$&&d,ue.createElement("div",{id:o,style:{height:$?"unset":"0px",visibility:$?"visible":"hidden"},className:l,ref:R}))};return i.displayName=s,i.__elementType=e,i},FH=typeof window>"u";zH("payment",FH);yo("StripeLibsContext");yo("PaymentElementContext");yo("StripeUtilsContext");var ro=U3({packageName:"@clerk/clerk-react"});function UH(e){ro.setMessages(e).setPackageName(e)}var[BH,WH]=yo("AuthContext"),VH=oR,mR=lR,HH="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",qH=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,KH="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",iw="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",GH="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",YH="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",JH="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",XH="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",QH=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,ZH=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,eq=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,tq="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",rq="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",sq="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",aq="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",nq="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",iq="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",oq="Missing props. <UserButton.Action /> component requires the following props: label.",hR=e=>{cR(()=>{ro.throwMissingClerkProviderError({source:e})})},fR=e=>new Promise(r=>{const s=a=>{["ready","degraded"].includes(a)&&(r(),e.off("status",s))};e.on("status",s,{notify:!0})}),lq=e=>async r=>(await fR(e),e.session?e.session.getToken(r):null),cq=e=>async(...r)=>(await fR(e),e.signOut(...r)),dq=(e={})=>{var r,s;hR("useAuth");const{treatPendingAsSignedOut:a,...n}=e??{},i=n;let l=WH();l.sessionId===void 0&&l.userId===void 0&&(l=i??{});const d=mR(),m=p.useCallback(lq(d),[d]),h=p.useCallback(cq(d),[d]);return(r=d.telemetry)==null||r.record(q3("useAuth",{treatPendingAsSignedOut:a})),uq({...l,getToken:m,signOut:h},{treatPendingAsSignedOut:a??((s=d.__internal_getOption)==null?void 0:s.call(d,"treatPendingAsSignedOut"))})};function uq(e,{treatPendingAsSignedOut:r=!0}={}){const{userId:s,orgId:a,orgRole:n,has:i,signOut:o,getToken:l,orgPermissions:d,factorVerificationAge:m,sessionClaims:h}=e??{},f=p.useCallback(y=>i?i(y):EV({userId:s,orgId:a,orgRole:n,orgPermissions:d,factorVerificationAge:m,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(y),[i,s,a,n,d,m]),g=TV({authObject:{...e,getToken:l,signOut:o,has:f},options:{treatPendingAsSignedOut:r}});return g||ro.throw(KH)}var Wr=(e,r)=>{const a=(typeof r=="string"?r:r==null?void 0:r.component)||e.displayName||e.name||"Component";e.displayName=a;const n=typeof r=="string"?void 0:r,i=o=>{hR(a||"withClerk");const l=mR();return!l.loaded&&!(n!=null&&n.renderWhileLoading)?null:ue.createElement(e,{...o,component:a,clerk:l})};return i.displayName=`withClerk(${a})`,i},mq=()=>{try{return!1}catch{}return!1},hq=()=>{try{return!1}catch{}return!1},fq=()=>{try{return!0}catch{}return!1},AP=new Set,MS=(e,r,s)=>{const a=hq()||fq(),n=e;AP.has(n)||a||(AP.add(n),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${r}`))};Wr(({clerk:e,...r})=>{const{client:s,session:a}=e,n=s.signedInSessions?s.signedInSessions.length>0:s.activeSessions&&s.activeSessions.length>0;return ue.useEffect(()=>{a===null&&n?e.redirectToAfterSignOut():e.redirectToSignIn(r)},[]),null},"RedirectToSignIn");Wr(({clerk:e,...r})=>(ue.useEffect(()=>{e.redirectToSignUp(r)},[]),null),"RedirectToSignUp");Wr(({clerk:e})=>{const{session:r}=e;return ue.useEffect(()=>{if(!r){e.redirectToSignIn();return}e.__internal_navigateToTaskIfAvailable()},[]),null},"RedirectToTask");Wr(({clerk:e})=>(ue.useEffect(()=>{MS("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Wr(({clerk:e})=>(ue.useEffect(()=>{MS("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Wr(({clerk:e})=>(ue.useEffect(()=>{MS("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Wr(({clerk:e,...r})=>(ue.useEffect(()=>{e.handleRedirectCallback(r)},[]),null),"AuthenticateWithRedirectCallback");var La=e=>{mq()&&console.error(`Clerk: ${e}`)};function ow(e,r,s){if(typeof e=="function")return e(r);if(typeof e<"u")return e;if(typeof s<"u")return s}var EP=(e,...r)=>{const s={...e};for(const a of r)delete s[a];return s},zx=e=>r=>{try{return ue.Children.only(e)}catch{return ro.throw(qH(r))}},Fx=(e,r)=>(e||(e=r),typeof e=="string"&&(e=ue.createElement("button",null,e)),e),Ux=e=>(...r)=>{if(e&&typeof e=="function")return e(...r)};function pq(e){return typeof e=="function"}var _g=new Map;function gq(e,r,s=1){ue.useEffect(()=>{const a=_g.get(e)||0;return a==s?ro.throw(r):(_g.set(e,a+1),()=>{_g.set(e,(_g.get(e)||1)-1)})},[])}function xq(e,r,s){const a=e.displayName||e.name||r||"Component",n=i=>(gq(r,s),ue.createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${a})`,n}var ef=e=>{const[r,s]=p.useState(new Map);return e.map(a=>({id:a.id,mount:n=>s(i=>new Map(i).set(String(a.id),n)),unmount:()=>s(n=>{const i=new Map(n);return i.set(String(a.id),null),i}),portal:()=>{const n=r.get(String(a.id));return n?cc.createPortal(a.component,n):null}}))},Ia=(e,r)=>!!e&&ue.isValidElement(e)&&(e==null?void 0:e.type)===r,pR=(e,r)=>yR({children:e,reorderItemsLabels:["account","security"],LinkComponent:Df,PageComponent:If,MenuItemsComponent:Wx,componentName:"UserProfile"},r),gR=(e,r)=>yR({children:e,reorderItemsLabels:["general","members"],LinkComponent:Hx,PageComponent:Vx,componentName:"OrganizationProfile"},r),xR=e=>{const r=[],s=[Hx,Vx,Wx,If,Df];return ue.Children.forEach(e,a=>{s.some(n=>Ia(a,n))||r.push(a)}),r},yR=(e,r)=>{const{children:s,LinkComponent:a,PageComponent:n,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:d=!1}=r||{},m=[];ue.Children.forEach(s,C=>{if(!Ia(C,n)&&!Ia(C,a)&&!Ia(C,i)){C&&!d&&La(QH(l));return}const{props:S}=C,{children:_,label:E,url:A,labelIcon:T}=S;if(Ia(C,n))if(TP(S,o))m.push({label:E});else if(lw(S))m.push({label:E,labelIcon:T,children:_,url:A});else{La(ZH(l));return}if(Ia(C,a))if(cw(S))m.push({label:E,labelIcon:T,url:A});else{La(eq(l));return}});const h=[],f=[],g=[];m.forEach((C,S)=>{if(lw(C)){h.push({component:C.children,id:S}),f.push({component:C.labelIcon,id:S});return}cw(C)&&g.push({component:C.labelIcon,id:S})});const y=ef(h),w=ef(f),b=ef(g),v=[],N=[];return m.forEach((C,S)=>{if(TP(C,o)){v.push({label:C.label});return}if(lw(C)){const{portal:_,mount:E,unmount:A}=y.find(V=>V.id===S),{portal:T,mount:M,unmount:z}=w.find(V=>V.id===S);v.push({label:C.label,url:C.url,mount:E,unmount:A,mountIcon:M,unmountIcon:z}),N.push(_),N.push(T);return}if(cw(C)){const{portal:_,mount:E,unmount:A}=b.find(T=>T.id===S);v.push({label:C.label,url:C.url,mountIcon:E,unmountIcon:A}),N.push(_);return}}),{customPages:v,customPagesPortals:N}},TP=(e,r)=>{const{children:s,label:a,url:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},lw=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!!r&&!!a&&!!n&&!!s},cw=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!r&&!!a&&!!n&&!!s},yq=e=>vq({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:Wx,MenuActionComponent:bR,MenuLinkComponent:wR,UserProfileLinkComponent:Df,UserProfilePageComponent:If}),vq=({children:e,MenuItemsComponent:r,MenuActionComponent:s,MenuLinkComponent:a,UserProfileLinkComponent:n,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],d=[],m=[];ue.Children.forEach(e,w=>{if(!Ia(w,r)&&!Ia(w,n)&&!Ia(w,i)){w&&La(tq);return}if(Ia(w,n)||Ia(w,i))return;const{props:b}=w;ue.Children.forEach(b.children,v=>{if(!Ia(v,s)&&!Ia(v,a)){v&&La(rq);return}const{props:N}=v,{label:C,labelIcon:S,href:_,onClick:E,open:A}=N;if(Ia(v,s))if(OP(N,o))l.push({label:C});else if(dw(N)){const T={label:C,labelIcon:S};if(E!==void 0)l.push({...T,onClick:E});else if(A!==void 0)l.push({...T,open:A.startsWith("/")?A:`/${A}`});else{La("Custom menu item must have either onClick or open property");return}}else{La(oq);return}if(Ia(v,a))if(uw(N))l.push({label:C,labelIcon:S,href:_});else{La(iq);return}})});const h=[],f=[];l.forEach((w,b)=>{dw(w)&&h.push({component:w.labelIcon,id:b}),uw(w)&&f.push({component:w.labelIcon,id:b})});const g=ef(h),y=ef(f);return l.forEach((w,b)=>{if(OP(w,o)&&d.push({label:w.label}),dw(w)){const{portal:v,mount:N,unmount:C}=g.find(_=>_.id===b),S={label:w.label,mountIcon:N,unmountIcon:C};"onClick"in w?S.onClick=w.onClick:"open"in w&&(S.open=w.open),d.push(S),m.push(v)}if(uw(w)){const{portal:v,mount:N,unmount:C}=y.find(S=>S.id===b);d.push({label:w.label,href:w.href,mountIcon:N,unmountIcon:C}),m.push(v)}}),{customMenuItems:d,customMenuItemsPortals:m}},OP=(e,r)=>{const{children:s,label:a,onClick:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},dw=e=>{const{label:r,labelIcon:s,onClick:a,open:n}=e;return!!s&&!!r&&(typeof a=="function"||typeof n=="string")},uw=e=>{const{label:r,href:s,labelIcon:a}=e;return!!s&&!!a&&!!r};function bq(e){const{root:r=document==null?void 0:document.body,selector:s,timeout:a=0}=e;return new Promise((n,i)=>{if(!r){i(new Error("No root element provided"));return}let o=r;if(s&&(o=r==null?void 0:r.querySelector(s)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){n();return}const d=new MutationObserver(m=>{for(const h of m)if(h.type==="childList"&&(!o&&s&&(o=r==null?void 0:r.querySelector(s)),o!=null&&o.childElementCount&&o.childElementCount>0)){d.disconnect(),n();return}});d.observe(r,{childList:!0,subtree:!0}),a>0&&setTimeout(()=>{d.disconnect(),i(new Error("Timeout waiting for element children"))},a)})}function kn(e){const r=p.useRef(),[s,a]=p.useState("rendering");return p.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!r.current&&(r.current=bq({selector:`[data-clerk-component="${e}"]`}).then(()=>{a("rendered")}).catch(()=>{a("error")}))},[e]),s}var Pg=e=>"mount"in e,RP=e=>"open"in e,MP=e=>e==null?void 0:e.map(({mountIcon:r,unmountIcon:s,...a})=>a),Fa=class extends ue.PureComponent{constructor(){super(...arguments),this.rootRef=ue.createRef()}componentDidUpdate(e){var r,s,a,n;if(!Pg(e)||!Pg(this.props))return;const i=EP(e.props,"customPages","customMenuItems","children"),o=EP(this.props.props,"customPages","customMenuItems","children"),l=((r=i.customPages)==null?void 0:r.length)!==((s=o.customPages)==null?void 0:s.length),d=((a=i.customMenuItems)==null?void 0:a.length)!==((n=o.customMenuItems)==null?void 0:n.length),m=MP(e.props.customMenuItems),h=MP(this.props.props.customMenuItems);(!kP(i,o)||!kP(m,h)||l||d)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Pg(this.props)&&this.props.mount(this.rootRef.current,this.props.props),RP(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Pg(this.props)&&this.props.unmount(this.rootRef.current),RP(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,r={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return ue.createElement(ue.Fragment,null,!e&&ue.createElement("div",{...r}),this.props.children)}},Bx=e=>{var r,s;return ue.createElement(ue.Fragment,null,(r=e==null?void 0:e.customPagesPortals)==null?void 0:r.map((a,n)=>p.createElement(a,{key:n})),(s=e==null?void 0:e.customMenuItemsPortals)==null?void 0:s.map((a,n)=>p.createElement(a,{key:n})))},wq=Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),jq=Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function If({children:e}){return La(GH),ue.createElement(ue.Fragment,null,e)}function Df({children:e}){return La(YH),ue.createElement(ue.Fragment,null,e)}var Nq=Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=pR(a.children);return ue.createElement(ue.Fragment,null,i&&s,ue.createElement(Fa,{component:r,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},ue.createElement(Bx,{customPagesPortals:d})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(Nq,{Page:If,Link:Df});var vR=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Sq=Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=pR(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.userProfileProps||{},{customPages:l}),{customMenuItems:h,customMenuItemsPortals:f}=yq(a.children),g=xR(a.children),y={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...a,userProfileProps:m,customMenuItems:h}},w={customPagesPortals:d,customMenuItemsPortals:f};return ue.createElement(vR.Provider,{value:y},i&&s,e.loaded&&ue.createElement(Fa,{component:r,...y,hideRootHtmlElement:!!a.__experimental_asProvider,rootProps:o},a.__experimental_asProvider?g:null,ue.createElement(Bx,{...w})))},{component:"UserButton",renderWhileLoading:!0});function Wx({children:e}){return La(sq),ue.createElement(ue.Fragment,null,e)}function bR({children:e}){return La(aq),ue.createElement(ue.Fragment,null,e)}function wR({children:e}){return La(nq),ue.createElement(ue.Fragment,null,e)}function Cq(e){const r=p.useContext(vR),s={...r,props:{...r.props,...e}};return ue.createElement(Fa,{...s})}Object.assign(Sq,{UserProfilePage:If,UserProfileLink:Df,MenuItems:Wx,Action:bR,Link:wR,__experimental_Outlet:Cq});function Vx({children:e}){return La(JH),ue.createElement(ue.Fragment,null,e)}function Hx({children:e}){return La(XH),ue.createElement(ue.Fragment,null,e)}var kq=Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=gR(a.children);return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},ue.createElement(Bx,{customPagesPortals:d})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(kq,{Page:Vx,Link:Hx});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var jR=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),_q=Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=gR(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.organizationProfileProps||{},{customPages:l}),h=xR(a.children),f={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...a,organizationProfileProps:m},rootProps:o,component:r};return e.__experimental_prefetchOrganizationSwitcher(),ue.createElement(jR.Provider,{value:f},ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{...f,hideRootHtmlElement:!!a.__experimental_asProvider},a.__experimental_asProvider?h:null,ue.createElement(Bx,{customPagesPortals:d}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Pq(e){const r=p.useContext(jR),s={...r,props:{...r.props,...e}};return ue.createElement(Fa,{...s})}Object.assign(_q,{OrganizationProfilePage:Vx,OrganizationProfileLink:Hx,__experimental_Outlet:Pq});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Wr(({clerk:e,component:r,fallback:s,...a})=>{const i=kn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ue.createElement(ue.Fragment,null,i&&s,e.loaded&&ue.createElement(Fa,{component:r,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var NR=e=>{throw TypeError(e)},IS=(e,r,s)=>r.has(e)||NR("Cannot "+s),Xr=(e,r,s)=>(IS(e,r,"read from private field"),s?s.call(e):r.get(e)),Gc=(e,r,s)=>r.has(e)?NR("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),bu=(e,r,s,a)=>(IS(e,r,"write to private field"),r.set(e,s),s),mw=(e,r,s)=>(IS(e,r,"access private method"),s),Aq=(e,r="5.81.0")=>{if(e)return e;const s=Eq(r);return s?s==="snapshot"?"5.81.0":s:Tq(r)},Eq=e=>{var r;return(r=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:r[1]},Tq=e=>e.trim().replace(/^v/,"").split(".")[0];function Oq(e){return e?Rq(e)||SR(e):!0}function Rq(e){return/^http(s)?:\/\//.test(e||"")}function SR(e){return e.startsWith("/")}function Mq(e){return e?SR(e)?new URL(e,window.location.origin).toString():e:""}function Iq(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var Dq={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},Lq=100,CR=async e=>new Promise(r=>setTimeout(r,e)),kR=(e,r)=>r?e*(1+Math.random()):e,$q=e=>{let r=0;const s=()=>{const a=e.initialDelay,n=e.factor;let i=a*Math.pow(n,r);return i=kR(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await CR(s()),r++}},zq=async(e,r={})=>{let s=0;const{shouldRetry:a,initialDelay:n,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:d}={...Dq,...r},m=$q({initialDelay:n,maxDelayBetweenRetries:i,factor:o,jitter:d});for(;;)try{return await e()}catch(h){if(s++,!a(h,s))throw h;l&&s===1?await CR(kR(Lq,d)):await m()}},Fq="loadScript cannot be called when document does not exist",Uq="loadScript cannot be called without a src";async function Bq(e="",r){const{async:s,defer:a,beforeLoad:n,crossOrigin:i,nonce:o}=r||{};return zq(()=>new Promise((d,m)=>{e||m(new Error(Uq)),(!document||!document.body)&&m(Fq);const h=document.createElement("script");i&&h.setAttribute("crossorigin",i),h.async=s||!1,h.defer=a||!1,h.addEventListener("load",()=>{h.remove(),d(h)}),h.addEventListener("error",()=>{h.remove(),m()}),h.src=e,h.nonce=o,n==null||n(h),document.body.appendChild(h)}),{shouldRetry:(d,m)=>m<=5})}var _R="Clerk: Failed to load Clerk",{isDevOrStagingUrl:Wq}=MV(),PR=U3({packageName:"@clerk/shared"});function Vq(e){PR.setPackageName({packageName:e})}function zN(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function IP(e){return new Promise((r,s)=>{let a=!1;const n=(m,h)=>{clearTimeout(m),clearInterval(h)},i=()=>{a||zN()&&(a=!0,n(l,d),r(null))},l=setTimeout(()=>{a||(a=!0,n(l,d),zN()?r(null):s(new Error(_R)))},e);i();const d=setInterval(()=>{if(a){clearInterval(d);return}i()},100)})}var Hq=async e=>{const r=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(zN())return null;if(document.querySelector("script[data-clerk-js-script]"))return IP(r);if(!(e!=null&&e.publishableKey))return PR.throwMissingPublishableKeyError(),null;const a=IP(r);return Bq(qq(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:Gq(e)}).catch(()=>{throw new Error(_R)}),a},qq=e=>{var h,f;const{clerkJSUrl:r,clerkJSVariant:s,clerkJSVersion:a,proxyUrl:n,domain:i,publishableKey:o}=e;if(r)return r;let l="";n&&Oq(n)?l=Mq(n).replace(/http(s)?:\/\//,""):i&&!Wq(((h=hP(o))==null?void 0:h.frontendApi)||"")?l=Iq(i):l=((f=hP(o))==null?void 0:f.frontendApi)||"";const d=s?`${s.replace(/\.+$/,"")}.`:"",m=Aq(a);return`https://${l}/npm/@clerk/clerk-js@${m}/dist/clerk.${d}browser.js`},Kq=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},Gq=e=>r=>{const s=Kq(e);for(const a in s)r.setAttribute(a,s[a])},Yq=(e,r,s)=>!e&&s?Jq(s):Xq(r),Jq=e=>{const r=e.userId,s=e.user,a=e.sessionId,n=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,d=e.orgId,m=e.orgRole,h=e.orgPermissions,f=e.orgSlug,g=e.actor,y=e.factorVerificationAge;return{userId:r,user:s,sessionId:a,session:o,sessionStatus:n,sessionClaims:i,organization:l,orgId:d,orgRole:m,orgPermissions:h,orgSlug:f,actor:g,factorVerificationAge:y}},Xq=e=>{var b,v,N,C;const r=e.user?e.user.id:e.user,s=e.user,a=e.session?e.session.id:e.session,n=e.session,i=(b=e.session)==null?void 0:b.status,o=e.session?(N=(v=e.session.lastActiveToken)==null?void 0:v.jwt)==null?void 0:N.claims:null,l=e.session?e.session.factorVerificationAge:null,d=n==null?void 0:n.actor,m=e.organization,h=e.organization?e.organization.id:e.organization,f=m==null?void 0:m.slug,g=m&&((C=s==null?void 0:s.organizationMemberships)==null?void 0:C.find(S=>S.organization.id===h)),y=g&&g.permissions,w=g&&g.role;return{userId:r,user:s,sessionId:a,session:n,sessionStatus:i,sessionClaims:o,organization:m,orgId:h,orgRole:w,orgSlug:f,orgPermissions:y,actor:d,factorVerificationAge:l}};function DP(){return typeof window<"u"}var LP=(e,r,s,a,n)=>{const{notify:i}=n||{};let o=e.get(s);o||(o=[],e.set(s,o)),o.push(a),i&&r.has(s)&&a(r.get(s))},$P=(e,r,s)=>(e.get(r)||[]).map(a=>a(s)),zP=(e,r,s)=>{const a=e.get(r);a&&(s?a.splice(a.indexOf(s)>>>0,1):e.set(r,[]))},Qq=()=>{const e=new Map,r=new Map,s=new Map;return{on:(...n)=>LP(e,r,...n),prioritizedOn:(...n)=>LP(s,r,...n),emit:(n,i)=>{r.set(n,i),$P(s,n,i),$P(e,n,i)},off:(...n)=>zP(e,...n),prioritizedOff:(...n)=>zP(s,...n),internal:{retrieveListeners:n=>e.get(n)||[]}}},Ag={Status:"status"},Zq=()=>Qq();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Wr(({clerk:e,children:r,...s})=>{const{signUpFallbackRedirectUrl:a,forceRedirectUrl:n,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:d,withSignUp:m,oauthFlow:h,...f}=s;r=Fx(r,"Sign in");const g=zx(r)("SignInButton"),y=()=>{const v={forceRedirectUrl:n,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:o,initialValues:d,withSignUp:m,oauthFlow:h};return l==="modal"?e.openSignIn({...v,appearance:s.appearance}):e.redirectToSignIn({...v,signInFallbackRedirectUrl:i,signInForceRedirectUrl:n})},b={...f,onClick:async v=>(g&&typeof g=="object"&&"props"in g&&await Ux(g.props.onClick)(v),y())};return ue.cloneElement(g,b)},{component:"SignInButton",renderWhileLoading:!0});Wr(({clerk:e,children:r,...s})=>{const{redirectUrl:a,...n}=s;r=Fx(r,"Sign in with Metamask");const i=zx(r)("SignInWithMetamaskButton"),o=async()=>{async function m(){await e.authenticateWithMetamask({redirectUrl:a||void 0})}m()},d={...n,onClick:async m=>(await Ux(i.props.onClick)(m),o())};return ue.cloneElement(i,d)},{component:"SignInWithMetamask",renderWhileLoading:!0});Wr(({clerk:e,children:r,...s})=>{const{redirectUrl:a="/",signOutOptions:n,...i}=s;r=Fx(r,"Sign out");const o=zx(r)("SignOutButton"),l=()=>e.signOut({redirectUrl:a,...n}),m={...i,onClick:async h=>(await Ux(o.props.onClick)(h),l())};return ue.cloneElement(o,m)},{component:"SignOutButton",renderWhileLoading:!0});var eK=Wr(({clerk:e,children:r,...s})=>{const{fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:d,oauthFlow:m,...h}=s;r=Fx(r,"Sign up");const f=zx(r)("SignUpButton"),g=()=>{const b={fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:d,oauthFlow:m};return l==="modal"?e.openSignUp({...b,appearance:s.appearance,unsafeMetadata:s.unsafeMetadata}):e.redirectToSignUp({...b,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:n})},w={...h,onClick:async b=>(f&&typeof f=="object"&&"props"in f&&await Ux(f.props.onClick)(b),g())};return ue.cloneElement(f,w)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var tK={name:"@clerk/clerk-react",version:"5.40.0",environment:"production"},a0,Du,Lu,Fl,$o,Wl,Wh,n0,AR=class ER{constructor(r){Gc(this,Wh),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Gc(this,a0,"loading"),Gc(this,Du),Gc(this,Lu),Gc(this,Fl),Gc(this,$o,Zq()),this.buildSignInUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterSignOutUrl",n)},this.buildNewSubscriptionRedirectUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",n)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",n)},this.buildUserProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildUserProfileUrl",n)},this.buildCreateOrganizationUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildCreateOrganizationUrl",n)},this.buildOrganizationProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildOrganizationProfileUrl",n)},this.buildWaitlistUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildWaitlistUrl",n)},this.buildUrlWithAuth=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("handleUnauthenticated",n)},this.on=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...n);Xr(this,$o).on(...n)},this.off=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...n);Xr(this,$o).off(...n)},this.addOnLoaded=n=>{this.loadedListeners.push(n),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(n=>n()),this.loadedListeners=[]},this.beforeLoad=n=>{if(!n)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=n=>{var i;if(!n)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=n,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=n.addListener(l)}),(i=Xr(this,$o).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&n.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&n.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&n.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&n.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&n.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&n.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&n.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&n.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&n.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&n.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&n.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{n.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{n.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{n.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{n.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{n.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{n.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{n.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{n.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{n.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{n.mountTaskChooseOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Xr(this,$o).emit(Ag.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...n)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...n)},this.__unstable__updateProps=async n=>{const i=await mw(this,Wh,n0).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(n)},this.__internal_navigateToTaskIfAvailable=async n=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(n):Promise.reject(),this.setActive=n=>this.clerkjs?this.clerkjs.setActive(n):Promise.reject(),this.openSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(n):this.preopenSignIn=n},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(n):this.preopenCheckout=n},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(n):this.preopenPlanDetails=n},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(n):this.preopenSubscriptionDetails=n??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(n):this.preopenUserVerification=n},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=n=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(n):this.preopenOneTap=n},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(n):this.preopenUserProfile=n},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(n):this.preopenOrganizationProfile=n},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(n):this.preopenCreateOrganization=n},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(n):this.preOpenWaitlist=n},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(n):this.preopenSignUp=n},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(n,i):this.premountSignInNodes.set(n,i)},this.unmountSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(n):this.premountSignInNodes.delete(n)},this.mountSignUp=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(n,i):this.premountSignUpNodes.set(n,i)},this.unmountSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(n):this.premountSignUpNodes.delete(n)},this.mountUserProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(n,i):this.premountUserProfileNodes.set(n,i)},this.unmountUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(n):this.premountUserProfileNodes.delete(n)},this.mountOrganizationProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(n,i):this.premountOrganizationProfileNodes.set(n,i)},this.unmountOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(n):this.premountOrganizationProfileNodes.delete(n)},this.mountCreateOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(n,i):this.premountCreateOrganizationNodes.set(n,i)},this.unmountCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(n):this.premountCreateOrganizationNodes.delete(n)},this.mountOrganizationSwitcher=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(n,i):this.premountOrganizationSwitcherNodes.set(n,i)},this.unmountOrganizationSwitcher=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(n):this.premountOrganizationSwitcherNodes.delete(n)},this.__experimental_prefetchOrganizationSwitcher=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",n)},this.mountOrganizationList=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(n,i):this.premountOrganizationListNodes.set(n,i)},this.unmountOrganizationList=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(n):this.premountOrganizationListNodes.delete(n)},this.mountUserButton=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(n,i):this.premountUserButtonNodes.set(n,i)},this.unmountUserButton=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(n):this.premountUserButtonNodes.delete(n)},this.mountWaitlist=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(n,i):this.premountWaitlistNodes.set(n,i)},this.unmountWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(n):this.premountWaitlistNodes.delete(n)},this.mountPricingTable=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(n,i):this.premountPricingTableNodes.set(n,i)},this.unmountPricingTable=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(n):this.premountPricingTableNodes.delete(n)},this.mountApiKeys=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(n,i):this.premountApiKeysNodes.set(n,i)},this.unmountApiKeys=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(n):this.premountApiKeysNodes.delete(n)},this.__internal_mountOAuthConsent=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(n,i):this.premountOAuthConsentNodes.set(n,i)},this.__internal_unmountOAuthConsent=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(n):this.premountOAuthConsentNodes.delete(n)},this.mountTaskChooseOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(n,i):this.premountTaskChooseOrganizationNodes.set(n,i)},this.unmountTaskChooseOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(n):this.premountTaskChooseOrganizationNodes.delete(n)},this.addListener=n=>{if(this.clerkjs)return this.clerkjs.addListener(n);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(n);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(n))};return this.premountAddListenerCalls.set(n,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(n)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToUserProfile",n)},this.redirectToAfterSignUp=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToAfterSignUp",n)},this.redirectToAfterSignIn=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignIn",n)},this.redirectToAfterSignOut=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignOut",n)},this.redirectToOrganizationProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToOrganizationProfile",n)},this.redirectToCreateOrganization=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToCreateOrganization",n)},this.redirectToWaitlist=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToWaitlist",n)},this.handleRedirectCallback=async n=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(n)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(n,i)=>{var o;const l=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(n,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async n=>(await mw(this,Wh,n0).call(this)).authenticateWithGoogleOneTap(n),this.__internal_loadStripeJs=async()=>(await mw(this,Wh,n0).call(this)).__internal_loadStripeJs(),this.createOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:s=null,publishableKey:a}=r||{};bu(this,Fl,a),bu(this,Lu,r==null?void 0:r.proxyUrl),bu(this,Du,r==null?void 0:r.domain),this.options=r,this.Clerk=s,this.mode=DP()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=tK),Xr(this,$o).emit(Ag.Status,"loading"),Xr(this,$o).prioritizedOn(Ag.Status,n=>bu(this,a0,n)),Xr(this,Fl)&&this.loadClerkJS()}get publishableKey(){return Xr(this,Fl)}get loaded(){var r;return((r=this.clerkjs)==null?void 0:r.loaded)||!1}get status(){var r;return this.clerkjs?((r=this.clerkjs)==null?void 0:r.status)||(this.clerkjs.loaded?"ready":"loading"):Xr(this,a0)}static getOrCreateInstance(r){return(!DP()||!Xr(this,Wl)||r.Clerk&&Xr(this,Wl).Clerk!==r.Clerk||Xr(this,Wl).publishableKey!==r.publishableKey)&&bu(this,Wl,new ER(r)),Xr(this,Wl)}static clearInstance(){bu(this,Wl,null)}get domain(){return typeof window<"u"&&window.location?ow(Xr(this,Du),new URL(window.location.href),""):typeof Xr(this,Du)=="function"?ro.throw(iw):Xr(this,Du)||""}get proxyUrl(){return typeof window<"u"&&window.location?ow(Xr(this,Lu),new URL(window.location.href),""):typeof Xr(this,Lu)=="function"?ro.throw(iw):Xr(this,Lu)||""}__internal_getOption(r){var s,a;return(s=this.clerkjs)!=null&&s.__internal_getOption?(a=this.clerkjs)==null?void 0:a.__internal_getOption(r):this.options[r]}get sdkMetadata(){var r;return((r=this.clerkjs)==null?void 0:r.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var r;return(r=this.clerkjs)==null?void 0:r.instanceType}get frontendApi(){var r;return((r=this.clerkjs)==null?void 0:r.frontendApi)||""}get isStandardBrowser(){var r;return((r=this.clerkjs)==null?void 0:r.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?ow(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?ro.throw(iw):!1}async loadClerkJS(){var r;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Xr(this,Fl),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;pq(this.Clerk)?(s=new this.Clerk(Xr(this,Fl),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(s),await s.load(this.options)):(s=this.Clerk,s.loaded||(this.beforeLoad(s),await s.load(this.options))),global.Clerk=s}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await Hq({...this.options,publishableKey:Xr(this,Fl),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(r=global.Clerk)!=null&&r.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(s){const a=s;Xr(this,$o).emit(Ag.Status,"error"),console.error(a.stack||a.message||a);return}}}get version(){var r;return(r=this.clerkjs)==null?void 0:r.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var r;return(r=this.clerkjs)==null?void 0:r.billing}get __internal_state(){var r;return(r=this.clerkjs)==null?void 0:r.__internal_state}get apiKeys(){var r;return(r=this.clerkjs)==null?void 0:r.apiKeys}__unstable__setEnvironment(...r){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(r);else return}};a0=new WeakMap;Du=new WeakMap;Lu=new WeakMap;Fl=new WeakMap;$o=new WeakMap;Wl=new WeakMap;Wh=new WeakSet;n0=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Gc(AR,Wl);var FP=AR;function rK(e){const{isomorphicClerkOptions:r,initialState:s,children:a}=e,{isomorphicClerk:n,clerkStatus:i}=sK(r),[o,l]=ue.useState({client:n.client,session:n.session,user:n.user,organization:n.organization});ue.useEffect(()=>n.addListener(R=>l({...R})),[]);const d=Yq(n.loaded,o,s),m=ue.useMemo(()=>({value:n}),[i]),h=ue.useMemo(()=>({value:o.client}),[o.client]),{sessionId:f,sessionStatus:g,sessionClaims:y,session:w,userId:b,user:v,orgId:N,actor:C,organization:S,orgRole:_,orgSlug:E,orgPermissions:A,factorVerificationAge:T}=d,M=ue.useMemo(()=>({value:{sessionId:f,sessionStatus:g,sessionClaims:y,userId:b,actor:C,orgId:N,orgRole:_,orgSlug:E,orgPermissions:A,factorVerificationAge:T}}),[f,g,b,C,N,_,E,T,y==null?void 0:y.__raw]),z=ue.useMemo(()=>({value:w}),[f,w]),V=ue.useMemo(()=>({value:v}),[b,v]),O=ue.useMemo(()=>({value:{organization:S}}),[N,S]);return ue.createElement(VH.Provider,{value:m},ue.createElement(AH.Provider,{value:h},ue.createElement(EH.Provider,{value:z},ue.createElement(MH,{...O.value},ue.createElement(BH.Provider,{value:M},ue.createElement(_H.Provider,{value:V},ue.createElement(OH,{value:void 0},a)))))))}var sK=e=>{const r=ue.useRef(FP.getOrCreateInstance(e)),[s,a]=ue.useState(r.current.status);return ue.useEffect(()=>{r.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),ue.useEffect(()=>{r.current.__unstable__updateProps({options:e})},[e.localization]),ue.useEffect(()=>(r.current.on("status",a),()=>{r.current&&r.current.off("status",a),FP.clearInstance()}),[]),{isomorphicClerk:r.current,clerkStatus:s}};function aK(e){const{initialState:r,children:s,__internal_bypassMissingPublishableKey:a,...n}=e,{publishableKey:i="",Clerk:o}=n;return!o&&!a&&(i?i&&!kN(i)&&ro.throwInvalidPublishableKeyError({key:i}):ro.throwMissingPublishableKeyError()),ue.createElement(rK,{initialState:r,isomorphicClerkOptions:n},s)}var TR=xq(aK,"ClerkProvider",HH);TR.displayName="ClerkProvider";UH({packageName:"@clerk/clerk-react"});Vq("@clerk/clerk-react");p.createContext(null);const nK="modulepreload",iK=function(e){return"/"+e},UP={},bn=function(r,s,a){let n=Promise.resolve();if(s&&s.length>0){let o=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(s.map(m=>{if(m=iK(m),m in UP)return;UP[m]=!0;const h=m.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":nK,h||(g.as="script"),g.crossOrigin="",g.href=m,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},oK=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>bn(async()=>{const{default:a}=await Promise.resolve().then(()=>wm);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class qx extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class OR extends qx{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class FN extends qx{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class UN extends qx{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var N0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(N0||(N0={}));var lK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class cK{constructor(r,{headers:s={},customFetch:a,region:n=N0.Any}={}){this.url=r,this.headers=s,this.region=n,this.fetch=oK(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var a;return lK(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let l={},{region:d}=s;d||(d=this.region);const m=new URL(`${this.url}/${r}`);d&&d!=="any"&&(l["x-region"]=d,m.searchParams.set("forceFunctionRegion",d));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(m.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h}).catch(b=>{throw new OR(b)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new FN(f);if(!f.ok)throw new UN(f);let y=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof UN||n instanceof FN?n.context:void 0}}})}}var Ws={},wu={},ju={},Nu={},Su={},Cu={},dK=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rm=dK();const uK=rm.fetch,RR=rm.fetch.bind(rm),MR=rm.Headers,mK=rm.Request,hK=rm.Response,wm=Object.freeze(Object.defineProperty({__proto__:null,Headers:MR,Request:mK,Response:hK,default:RR,fetch:uK},Symbol.toStringTag,{value:"Module"})),fK=GB(wm);var Eg={},BP;function IR(){if(BP)return Eg;BP=1,Object.defineProperty(Eg,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Eg.default=e,Eg}var WP;function DR(){if(WP)return Cu;WP=1;var e=Cu&&Cu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cu,"__esModule",{value:!0});const r=e(fK),s=e(IR());class a{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,f,g;let y=null,w=null,b=null,v=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const E=await m.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=E:w=JSON.parse(E))}const S=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=m.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&_&&_.length>1&&(b=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,b=null,v=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await m.text();try{y=JSON.parse(S),Array.isArray(y)&&m.status===404&&(w=[],y=null,v=200,N="OK")}catch{m.status===404&&S===""?(v=204,N="No Content"):y={message:S}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,v=200,N="OK"),y&&this.shouldThrowOnError)throw new s.default(y)}return{error:y,data:w,count:b,status:v,statusText:N}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,f,g;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(f=m==null?void 0:m.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=m==null?void 0:m.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,o)}returns(){return this}overrideTypes(){return this}}return Cu.default=a,Cu}var VP;function LR(){if(VP)return Su;VP=1;var e=Su&&Su.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Su,"__esModule",{value:!0});const r=e(DR());class s extends r.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,m=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(m,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:m="text"}={}){var h;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${g}"; options=${f};`,m==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Su.default=s,Su}var HP;function DS(){if(HP)return Nu;HP=1;var e=Nu&&Nu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Nu,"__esModule",{value:!0});const r=e(LR());class s extends r.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const m=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${d}fts${m}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Nu.default=s,Nu}var qP;function $R(){if(qP)return ju;qP=1;var e=ju&&ju.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ju,"__esModule",{value:!0});const r=e(DS());class s{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=i,this.schema=o,this.fetch=l}select(n,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let d=!1;const m=(n??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",m),o&&(this.headers.Prefer=`count=${o}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const l="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(n)){const m=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(m.length>0){const h=[...new Set(m)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){const m="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),this.headers.Prefer=l.join(","),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ju.default=s,ju}var jh={},Nh={},KP;function pK(){return KP||(KP=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.version=void 0,Nh.version="0.0.0-automated"),Nh}var GP;function gK(){if(GP)return jh;GP=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.DEFAULT_HEADERS=void 0;const e=pK();return jh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},jh}var YP;function xK(){if(YP)return wu;YP=1;var e=wu&&wu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wu,"__esModule",{value:!0});const r=e($R()),s=e(DS()),a=gK();class n{constructor(o,{headers:l={},schema:d,fetch:m}={}){this.url=o,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),l),this.schemaName=d,this.fetch=m}from(o){const l=new URL(`${this.url}/${o}`);return new r.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:m=!1,count:h}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let y;d||m?(f=d?"HEAD":"GET",Object.entries(l).filter(([b,v])=>v!==void 0).map(([b,v])=>[b,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([b,v])=>{g.searchParams.append(b,v)})):(f="POST",y=l);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new s.default({method:f,url:g,headers:w,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return wu.default=n,wu}var JP;function yK(){if(JP)return Ws;JP=1;var e=Ws&&Ws.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.PostgrestError=Ws.PostgrestBuilder=Ws.PostgrestTransformBuilder=Ws.PostgrestFilterBuilder=Ws.PostgrestQueryBuilder=Ws.PostgrestClient=void 0;const r=e(xK());Ws.PostgrestClient=r.default;const s=e($R());Ws.PostgrestQueryBuilder=s.default;const a=e(DS());Ws.PostgrestFilterBuilder=a.default;const n=e(LR());Ws.PostgrestTransformBuilder=n.default;const i=e(DR());Ws.PostgrestBuilder=i.default;const o=e(IR());return Ws.PostgrestError=o.default,Ws.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ws}var vK=yK();const bK=ai(vK),{PostgrestClient:wK,PostgrestQueryBuilder:oSe,PostgrestFilterBuilder:lSe,PostgrestTransformBuilder:cSe,PostgrestBuilder:dSe,PostgrestError:jK}=bK;class zR{static dynamicRequire(r){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(r):null}catch{return null}}static detectEnvironment(){var r,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);if(a>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const n=this.dynamicRequire("undici");if(n&&n.WebSocket)return{type:"native",constructor:n.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const n=this.dynamicRequire("ws");if(n)return{type:"ws",constructor:(s=n.WebSocket)!==null&&s!==void 0?s:n};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const NK="2.15.0",SK=`realtime-js/${NK}`,CK="1.0.0",BN=1e4,kK=1e3,_K=100;var tf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tf||(tf={}));var Os;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Os||(Os={}));var wi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wi||(wi={}));var WN;(function(e){e.websocket="websocket"})(WN||(WN={}));var td;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(td||(td={}));class PK{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(r.slice(o,o+n));o=o+n;const d=a.decode(r.slice(o,o+i));o=o+i;const m=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:l,event:d,payload:m}}}class FR{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jr||(jr={}));const XP=(e,r,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((i,o)=>(i[o]=AK(o,e,r,n),i),{})},AK=(e,r,s,a)=>{const n=r.find(l=>l.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!a.includes(i)?UR(i,o):VN(o)},UR=(e,r)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return RK(r,s)}switch(e){case jr.bool:return EK(r);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return TK(r);case jr.json:case jr.jsonb:return OK(r);case jr.timestamp:return MK(r);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return VN(r);default:return VN(r)}},VN=e=>e,EK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TK=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},OK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},RK=(e,r)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>UR(r,l))}return e},MK=e=>typeof e=="string"?e.replace(" ","T"):e,BR=e=>{let r=e;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class hw{constructor(r,s,a={},n=BN){this.channel=r,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var HN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(HN||(HN={}));class Vu{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vu.syncState(this.state,n,i,o),this.pendingDiffs.forEach(d=>{this.state=Vu.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Vu.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,n){const i=this.cloneDeep(r),o=this.transformState(s),l={},d={};return this.map(i,(m,h)=>{o[m]||(d[m]=h)}),this.map(o,(m,h)=>{const f=i[m];if(f){const g=h.map(v=>v.presence_ref),y=f.map(v=>v.presence_ref),w=h.filter(v=>y.indexOf(v.presence_ref)<0),b=f.filter(v=>g.indexOf(v.presence_ref)<0);w.length>0&&(l[m]=w),b.length>0&&(d[m]=b)}else l[m]=h}),this.syncDiff(i,{joins:l,leaves:d},a,n)}static syncDiff(r,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,d)=>{var m;const h=(m=r[l])!==null&&m!==void 0?m:[];if(r[l]=this.cloneDeep(d),h.length>0){const f=r[l].map(y=>y.presence_ref),g=h.filter(y=>f.indexOf(y.presence_ref)<0);r[l].unshift(...g)}a(l,h,d)}),this.map(o,(l,d)=>{let m=r[l];if(!m)return;const h=d.map(f=>f.presence_ref);m=m.filter(f=>h.indexOf(f.presence_ref)<0),r[l]=m,n(l,m,d),m.length===0&&delete r[l]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const n=r[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qN||(qN={}));var Hu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hu||(Hu={}));var Xi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xi||(Xi={}));class Kx{constructor(r,s={config:{}},a){this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=Os.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new hw(this,wi.join,this.params,this.timeout),this.rejoinTimer=new FR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Os.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Os.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Os.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wi.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Vu(this),this.broadcastEndpointURL=BR(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Os.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&n!==void 0?n:[],m=!!this.bindings[Hu.PRESENCE]&&this.bindings[Hu.PRESENCE].length>0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:m}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>r==null?void 0:r(Xi.CHANNEL_ERROR,g)),this._onClose(()=>r==null?void 0:r(Xi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){r==null||r(Xi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let N=0;N<b;N++){const C=w[N],{filter:{event:S,schema:_,table:E,filter:A}}=C,T=g&&g[N];if(T&&T.event===S&&T.schema===_&&T.table===E&&T.filter===A)v.push(Object.assign(Object.assign({},C),{id:T.id}));else{this.unsubscribe(),this.state=Os.errored,r==null||r(Xi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,r&&r(Xi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Os.errored,r==null||r(Xi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Xi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===Os.joined&&r===Hu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,a)}async send(r,s={}){var a,n;if(!this._canPush()&&r.type==="broadcast"){const{event:i,payload:o}=r,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=m.body)===null||n===void 0?void 0:n.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Os.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new hw(this,wi.leave,{},r),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Os.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new hw(this,r,s,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>_K){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var n,i;const o=r.toLocaleLowerCase(),{close:l,error:d,leave:m,join:h}=wi;if(a&&[l,d,m,h].indexOf(o)>=0&&a!==this._joinRef())return;let g=this._onMessage(o,s,a);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(y=>{var w,b,v;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(b=y.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(y=>y.callback(g,a)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,b,v,N,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,E=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((b=s.ids)===null||b===void 0?void 0:b.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((v=s.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return _==="*"||_===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:b,table:v,commit_timestamp:N,type:C,errors:S}=w;g=Object.assign(Object.assign({},{schema:b,table:v,commit_timestamp:N,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(w))}y.callback(g,a)})}_isClosed(){return this.state===Os.closed}_isJoined(){return this.state===Os.joined}_isJoining(){return this.state===Os.joining}_isLeaving(){return this.state===Os.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const n=r.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&Kx.isEqual(n.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(wi.close,{},r)}_onError(r){this._on(wi.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Os.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=XP(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=XP(r.columns,r.old_record)),s}}const QP=()=>{},Tg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IK=[1e3,2e3,5e3,1e4],DK=1e4,LK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WR{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=BN,this.transport=null,this.heartbeatIntervalMs=Tg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=QP,this.ref=0,this.reconnectTimer=null,this.logger=QP,this.conn=null,this.sendBuffer=[],this.serializer=new PK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>bn(async()=>{const{default:l}=await Promise.resolve().then(()=>wm);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${WN.websocket}`,this.httpEndpoint=BR(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zR.createWebSocket(this.endpointURL())}catch(r){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${r.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:CK}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case tf.connecting:return td.Connecting;case tf.open:return td.Open;case tf.closing:return td.Closing;default:return td.Closed}}isConnected(){return this.connectionState()===td.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new Kx(`realtime:${r}`,s,this);return this.channels.push(i),i}}push(r){const{topic:s,event:a,payload:n,ref:i}=r,o=()=>{this.encode(r,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(kK,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Tg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:o}=s,l=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${a} ${n} ${l}`.trim(),i),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(wi.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${r}${a}${n}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([LK],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:SK};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(wi.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(n){this.log("error",`error in ${r} callback`,n)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new FR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,n,i,o,l,d,m;if(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:BN,this.heartbeatIntervalMs=(n=r==null?void 0:r.heartbeatIntervalMs)!==null&&n!==void 0?n:Tg.HEARTBEAT_INTERVAL,this.worker=(i=r==null?void 0:r.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=r==null?void 0:r.accessToken)!==null&&o!==void 0?o:null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=r==null?void 0:r.reconnectAfterMs)!==null&&l!==void 0?l:h=>IK[h-1]||DK,this.encode=(d=r==null?void 0:r.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(m=r==null?void 0:r.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class LS extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Vs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $K extends LS{constructor(r,s,a){super(r),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KN extends LS{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var zK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const VR=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>bn(async()=>{const{default:a}=await Promise.resolve().then(()=>wm);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},FK=()=>zK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bn(()=>Promise.resolve().then(()=>wm),void 0)).Response:Response}),GN=e=>{if(Array.isArray(e))return e.map(s=>GN(s));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[n]=GN(a)}),r},UK=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fd=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const fw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BK=(e,r,s)=>Fd(void 0,void 0,void 0,function*(){const a=yield FK();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{const i=e.status||500,o=(n==null?void 0:n.statusCode)||i+"";r(new $K(fw(n),i,o))}).catch(n=>{r(new KN(fw(n),n))}):r(new KN(fw(e),e))}),WK=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"||!a?n:(UK(a)?(n.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),s))};function Lf(e,r,s,a,n,i){return Fd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,WK(r,a,n,i)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>BK(d,l,a))})})}function S0(e,r,s,a){return Fd(this,void 0,void 0,function*(){return Lf(e,"GET",r,s,a)})}function Fo(e,r,s,a,n){return Fd(this,void 0,void 0,function*(){return Lf(e,"POST",r,a,n,s)})}function YN(e,r,s,a,n){return Fd(this,void 0,void 0,function*(){return Lf(e,"PUT",r,a,n,s)})}function VK(e,r,s,a){return Fd(this,void 0,void 0,function*(){return Lf(e,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function HR(e,r,s,a,n){return Fd(this,void 0,void 0,function*(){return Lf(e,"DELETE",r,a,n,s)})}var en=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const HK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qK{constructor(r,s={},a,n){this.url=r,this.headers=s,this.bucketId=a,this.fetch=VR(n)}uploadOrUpdate(r,s,a,n){return en(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ZP),n);let l=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const m=this._removeEmptyFolders(s),h=this._getFinalPath(m),f=yield(r=="PUT"?YN:Fo)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:m,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Vs(i))return{data:null,error:i};throw i}})}upload(r,s,a){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,n){return en(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let d;const m=Object.assign({upsert:ZP.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",m.cacheControl)):(d=a,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const f=yield YN(this.fetch,l.toString(),d,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(d){if(Vs(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(r,s){return en(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Fo(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new LS("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(a){if(Vs(a))return{data:null,error:a};throw a}})}update(r,s,a){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return en(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Vs(n))return{data:null,error:n};throw n}})}copy(r,s,a){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Fo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Vs(n))return{data:null,error:n};throw n}})}createSignedUrl(r,s,a){return en(this,void 0,void 0,function*(){try{let n=this._getFinalPath(r),i=yield Fo(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Vs(n))return{data:null,error:n};throw n}})}createSignedUrls(r,s,a){return en(this,void 0,void 0,function*(){try{const n=yield Fo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Vs(n))return{data:null,error:n};throw n}})}download(r,s){return en(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(r);return{data:yield(yield S0(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Vs(l))return{data:null,error:l};throw l}})}info(r){return en(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield S0(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:GN(a),error:null}}catch(a){if(Vs(a))return{data:null,error:a};throw a}})}exists(r){return en(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield VK(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Vs(a)&&a instanceof KN){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});d!==""&&n.push(d);let m=n.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${m}`)}}}remove(r){return en(this,void 0,void 0,function*(){try{return{data:yield HR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(Vs(s))return{data:null,error:s};throw s}})}list(r,s,a){return en(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},HK),s),{prefix:r||""});return{data:yield Fo(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(Vs(n))return{data:null,error:n};throw n}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const KK="2.10.4",GK={"X-Client-Info":`storage-js/${KK}`};var ku=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class YK{constructor(r,s={},a,n){const i=new URL(r);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},GK),s),this.fetch=VR(a)}listBuckets(){return ku(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Vs(r))return{data:null,error:r};throw r}})}getBucket(r){return ku(this,void 0,void 0,function*(){try{return{data:yield S0(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(Vs(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return ku(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Vs(a))return{data:null,error:a};throw a}})}updateBucket(r,s){return ku(this,void 0,void 0,function*(){try{return{data:yield YN(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Vs(a))return{data:null,error:a};throw a}})}emptyBucket(r){return ku(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Vs(s))return{data:null,error:s};throw s}})}deleteBucket(r){return ku(this,void 0,void 0,function*(){try{return{data:yield HR(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(Vs(s))return{data:null,error:s};throw s}})}}class JK extends YK{constructor(r,s={},a,n){super(r,s,a,n)}from(r){return new qK(this.url,this.headers,r,this.fetch)}}const XK="2.54.0";let Vh="";typeof Deno<"u"?Vh="deno":typeof document<"u"?Vh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vh="react-native":Vh="node";const QK={"X-Client-Info":`supabase-js-${Vh}/${XK}`},ZK={headers:QK},eG={schema:"public"},tG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rG={};var sG=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const aG=e=>{let r;return e?r=e:typeof fetch>"u"?r=RR:r=fetch,(...s)=>r(...s)},nG=()=>typeof Headers>"u"?MR:Headers,iG=(e,r,s)=>{const a=aG(s),n=nG();return(i,o)=>sG(void 0,void 0,void 0,function*(){var l;const d=(l=yield r())!==null&&l!==void 0?l:e;let m=new n(o==null?void 0:o.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(i,Object.assign(Object.assign({},o),{headers:m}))})};var oG=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};function lG(e){return e.endsWith("/")?e:e+"/"}function cG(e,r){var s,a;const{db:n,auth:i,realtime:o,global:l}=e,{db:d,auth:m,realtime:h,global:f}=r,g={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>oG(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const qR="2.71.1",$u=30*1e3,JN=3,pw=JN*$u,dG="http://localhost:9999",uG="supabase.auth.token",mG={"X-Client-Info":`gotrue-js/${qR}`},XN="X-Supabase-Api-Version",KR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fG=600*1e3;class Gx extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GR extends Gx{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function YR(e){return kt(e)&&e.name==="AuthApiError"}class $S extends Gx{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class cl extends Gx{constructor(r,s,a,n){super(r,a,n),this.name=s,this.status=a}}class Uo extends cl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JR(e){return kt(e)&&e.name==="AuthSessionMissingError"}class Hh extends cl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qh extends cl{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Kh extends cl{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XR(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class QN extends cl{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C0 extends cl{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function i0(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class ZN extends cl{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class k0 extends cl{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const _0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eA=` 	
\r=`.split(""),pG=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<eA.length;r+=1)e[eA[r].charCodeAt(0)]=-2;for(let r=0;r<_0.length;r+=1)e[_0[r].charCodeAt(0)]=r;return e})();function tA(e,r,s){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(_0[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(_0[a]),r.queuedBits-=6}}function QR(e,r,s){const a=pG[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rA(e){const r=[],s=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{yG(o,a,s)};for(let o=0;o<e.length;o+=1)QR(e.charCodeAt(o),n,i);return r.join("")}function gG(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xG(e,r){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}gG(a,r)}}function yG(e,r,s){if(r.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function vG(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};for(let n=0;n<e.length;n+=1)QR(e.charCodeAt(n),s,a);return new Uint8Array(r)}function bG(e){const r=[];return xG(e,s=>r.push(s)),new Uint8Array(r)}function wG(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};return e.forEach(n=>tA(n,s,a)),tA(null,s,a),r.join("")}function jG(e){return Math.round(Date.now()/1e3)+e}function NG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const vi=()=>typeof window<"u"&&typeof document<"u",Fc={tested:!1,writable:!1},ZR=()=>{if(!vi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fc.tested)return Fc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fc.tested=!0,Fc.writable=!0}catch{Fc.tested=!0,Fc.writable=!1}return Fc.writable};function SG(e){const r={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{r[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{r[n]=a}),r}const eM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>bn(async()=>{const{default:a}=await Promise.resolve().then(()=>wm);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},CG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zu=async(e,r,s)=>{await e.setItem(r,JSON.stringify(s))},Uc=async(e,r)=>{const s=await e.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Dl=async(e,r)=>{await e.removeItem(r)};class Yx{constructor(){this.promise=new Yx.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Yx.promiseConstructor=Promise;function gw(e){const r=e.split(".");if(r.length!==3)throw new k0("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!hG.test(r[a]))throw new k0("JWT not in base64url format");return{header:JSON.parse(rA(r[0])),payload:JSON.parse(rA(r[1])),signature:vG(r[2]),raw:{header:r[0],payload:r[1]}}}async function kG(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function _G(e,r){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){n(o);return}}})()})}function PG(e){return("0"+e.toString(16)).substr(-2)}function AG(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(r),Array.from(r,PG).join("")}async function EG(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function TG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await EG(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _u(e,r,s=!1){const a=AG();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await zu(e,`${r}-code-verifier`,n);const i=await TG(a);return[i,a===i?"plain":"s256"]}const OG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RG(e){const r=e.headers.get(XN);if(!r||!r.match(OG))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function MG(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function IG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pu(e){if(!DG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xw(){const e={};return new Proxy(e,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sA(e){return JSON.parse(JSON.stringify(e))}var LG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};const Yc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$G=[502,503,504];async function aA(e){var r;if(!CG(e))throw new C0(Yc(e),0);if($G.includes(e.status))throw new C0(Yc(e),e.status);let s;try{s=await e.json()}catch(i){throw new $S(Yc(i),i)}let a;const n=RG(e);if(n&&n.getTime()>=KR["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new ZN(Yc(s),e.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Uo}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ZN(Yc(s),e.status,s.weak_password.reasons);throw new GR(Yc(s),e.status||500,a)}const zG=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function Bt(e,r,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[XN]||(i[XN]=KR["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await FG(e,r,s+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function FG(e,r,s,a,n,i){const o=zG(r,a,n,i);let l;try{l=await e(s,Object.assign({},o))}catch(d){throw console.error(d),new C0(Yc(d),0)}if(l.ok||await aA(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await aA(d)}}function zo(e){var r;let s=null;VG(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=jG(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:s,user:a},error:null}}function nA(e){const r=zo(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function ql(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function UG(e){return{data:e,error:null}}function BG(e){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=e,o=LG(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function WG(e){return e}function VG(e){return e.access_token&&e.refresh_token&&e.expires_in}const o0=["global","local","others"];var HG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};class tM{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=eM(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=o0[0]){if(o0.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o0.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ql})}catch(a){if(kt(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=HG(r,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:BG,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(kt(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:ql})}catch(s){if(kt(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,n,i,o,l,d;try{const m={nextPage:null,lastPage:0,total:0},h=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=r==null?void 0:r.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:WG});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);m[`${v}Page`]=b}),m.total=parseInt(g)),{data:Object.assign(Object.assign({},f),m),error:null}}catch(m){if(kt(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){Pu(r);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:ql})}catch(s){if(kt(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){Pu(r);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:ql})}catch(a){if(kt(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){Pu(r);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:ql})}catch(a){if(kt(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Pu(r.userId);try{const{data:s,error:a}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(kt(s))return{data:null,error:s};throw s}}async _deleteFactor(r){Pu(r.userId),Pu(r.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}}}function iA(e={}){return{getItem:r=>e[r]||null,setItem:(r,s)=>{e[r]=s},removeItem:r=>{delete e[r]}}}function qG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jc={debug:!!(globalThis&&ZR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rM extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class sM extends rM{}async function aM(e,r,s){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(r===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}qG();const KG={url:dG,storageKey:uG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oA(e,r,s){return await s()}const Au={};class sm{constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sm.nextInstanceID,sm.nextInstanceID+=1,this.instanceID>0&&vi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},KG),r);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new tM({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=eM(n.fetch),this.lock=n.lock||oA,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:vi()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=aM:this.lock=oA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ZR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iA(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=iA(this.memoryStorage)),vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=Au[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Au[this.storageKey]=Object.assign(Object.assign({},Au[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Au[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Au[this.storageKey]=Object.assign(Object.assign({},Au[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qR}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=SG(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),vi()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),XR(i)){const d=(r=i.details)===null||r===void 0?void 0:r.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return kt(s)?{error:s}:{error:new $S("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,n;try{const i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.captchaToken}},xform:zo}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var s,a,n;try{let i;if("email"in r){const{email:h,password:f,options:g}=r;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await _u(this.storage,this.storageKey)),i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:w},xform:zo})}else if("phone"in r){const{phone:h,password:f,options:g}=r;i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:zo})}else throw new qh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let s;if("email"in r){const{email:i,password:o,options:l}=r;s=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nA})}else if("phone"in r){const{phone:i,password:o,options:l}=r;s=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nA})}else throw new qh("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Hh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,n,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=r.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,a,n,i,o,l,d,m,h,f,g,y;let w,b;if("message"in r)w=r.message,b=r.signature;else{const{chain:v,wallet:N,statement:C,options:S}=r;let _;if(vi())if(typeof N=="object")_=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const E=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),C?{statement:C}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),b=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(n=(a=S==null?void 0:S.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(h=S==null?void 0:S.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=A}}try{const{data:v,error:N}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:wG(b)},!((g=r.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=r.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zo});if(N)throw N;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Hh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:N})}catch(v){if(kt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(r){const s=await Uc(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:zo});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(kt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=r,l=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zo}),{data:d,error:m}=l;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Hh}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,n,i,o;try{if("email"in r){const{email:l,options:d}=r;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await _u(this.storage,this.storageKey));const{error:f}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in r){const{phone:l,options:d}=r,{data:m,error:h}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new qh("You must provide either an email or phone number.")}catch(l){if(kt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(r){var s,a;try{let n,i;"options"in r&&(n=(s=r.options)===null||s===void 0?void 0:s.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:zo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,m=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(n){if(kt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(r){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _u(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=r==null?void 0:r.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:UG})}catch(i){if(kt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new Uo;const{error:n}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:n,options:i}=r,{error:o}=await Bt(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:n,options:i}=r,{data:o,error:l}=await Bt(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new qh("You must provide either an email or phone number and a type")}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Uc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<pw:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await Uc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=xw()}if(this.storage.isServer&&r.user){let o=this.suppressGetSessionWarning;r=new Proxy(r,{get:(d,m,h)=>(!o&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:r},error:null}}const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:ql}):await this._useSession(async s=>{var a,n,i;const{data:o,error:l}=s;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Uo}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:ql})})}catch(s){if(kt(s))return JR(s)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Uo;const o=n.session;let l=null,d=null;this.flowType==="pkce"&&r.email!=null&&([l,d]=await _u(this.storage,this.storageKey));const{data:m,error:h}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:ql});if(h)throw h;return o.user=m.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(kt(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Uo;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=gw(r.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:l,error:d}=await this._callRefreshToken(r.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(r.access_token);if(d)throw d;i={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(kt(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:o,error:l}=s;if(l)throw l;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Uo;const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!vi())throw new Kh("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Kh(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new QN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kh("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new QN("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(r.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:m}=r;if(!i||!l||!o||!m)throw new Kh("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const y=g-h;y*1e3<=$u&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=g-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:b,error:v}=await this._getUser(i);if(v)throw v;const N={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(a){if(kt(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Uc(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!(YR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return r!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=NG(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(r))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await _u(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(kt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,d,m,h;const{data:f,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=r.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(m=f.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return vi()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(kt(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await _G(async n=>(n>0&&await kG(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:zo})),(n,i)=>{const o=200*Math.pow(2,n);return i&&i0(i)&&Date.now()+o-a<$u})}catch(a){if(this._debug(s,"error",a),kt(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),vi()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Uc(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Uc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await zu(this.userStorage,this.storageKey+"-user",o)),n.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:xw()}else if(n&&!n.user&&!n.user){const o=await Uc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Dl(this.storage,this.storageKey+"-user"),await zu(this.storage,this.storageKey,n)):n.user=xw()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pw;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${pw}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),i0(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new Uo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Yx;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new Uo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),kt(i)){const o={session:null,error:i};return i0(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(r,s,a=!0){const n=`#_notifyAllSubscribers(${r})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,s)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await zu(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=sA(n);await zu(this.storage,this.storageKey,i)}else{const n=sA(s);await zu(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await Dl(this.storage,this.storageKey+"-code-verifier"),await Dl(this.storage,this.storageKey+"-user"),this.userStorage&&await Dl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&vi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),$u);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-r)/$u);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${$u}ms, refresh threshold is ${JN} ticks`),n<=JN&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof rM)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await _u(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${n.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:d,error:m}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((n=d==null?void 0:d.totp)===null||n===void 0)&&n.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(kt(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Bt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(kt(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(r==null?void 0:r.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:n},error:i}=r;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gw(n.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(l=>l.kid===r);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===r),a&&this.jwks_cached_at+fG>n)return a;const{data:i,error:o}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};a=y.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:d}}=gw(a);s!=null&&s.allowExpired||MG(i.exp);const m=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:n,signature:o},error:null}}const h=IG(n.alg),f=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,bG(`${l}.${d}`)))throw new k0("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}}}sm.nextInstanceID=0;const nM=sm;class GG extends nM{constructor(r){super(r)}}var YG=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class iM{constructor(r,s,a){var n,i,o;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=lG(r),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:eG,realtime:rG,auth:Object.assign(Object.assign({},tG),{storageKey:m}),global:ZK},f=cG(a??{},h);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=iG(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new wK(new URL("rest/v1",d).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new JK(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new cK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return YG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:d},m,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GG({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),m),storageKey:i,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new WR(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oM=(e,r,s)=>new iM(e,r,s);function JG(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}JG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XG=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:GR,AuthClient:nM,AuthError:Gx,AuthImplicitGrantRedirectError:Kh,AuthInvalidCredentialsError:qh,AuthInvalidJwtError:k0,AuthInvalidTokenResponseError:Hh,AuthPKCEGrantCodeExchangeError:QN,AuthRetryableFetchError:C0,AuthSessionMissingError:Uo,AuthUnknownError:$S,AuthWeakPasswordError:ZN,CustomAuthError:cl,get FunctionRegion(){return N0},FunctionsError:qx,FunctionsFetchError:OR,FunctionsHttpError:UN,FunctionsRelayError:FN,GoTrueAdminApi:tM,GoTrueClient:sm,NavigatorLockAcquireTimeoutError:sM,PostgrestError:jK,get REALTIME_LISTEN_TYPES(){return Hu},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return qN},get REALTIME_PRESENCE_LISTEN_EVENTS(){return HN},get REALTIME_SUBSCRIBE_STATES(){return Xi},RealtimeChannel:Kx,RealtimeClient:WR,RealtimePresence:Vu,SIGN_OUT_SCOPES:o0,SupabaseClient:iM,WebSocketFactory:zR,createClient:oM,isAuthApiError:YR,isAuthError:kt,isAuthImplicitGrantRedirectError:XR,isAuthRetryableFetchError:i0,isAuthSessionMissingError:JR,lockInternals:Jc,navigatorLock:aM},Symbol.toStringTag,{value:"Module"})),yw="https://twigokrtbvigiqnaybfy.supabase.co",lM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24",rf=yw.startsWith("http")?yw:`https://${yw}`;typeof window<"u"&&console.log(" Supabase Config:",{envUrl:"https://twigokrtbvigiqnaybfy.supabase.co",finalUrl:rf,hasKey:!0});if(!rf||!lM)throw new Error("Supabase URL or anonymous key is missing from environment variables.");let vw;function zS(){if(!vw){if(typeof window>"u")throw new Error("Supabase client can only be used in the browser");const e=rf.startsWith("http")?rf:`https://${rf.replace(/^https?:\/\//,"")}`;console.log(" Creating Supabase client with URL:",e),vw=oM(e,lM,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,storageKey:"sb-twigokrtbvigiqnaybfy-auth-token",detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"apex-frontend"}}})}return vw}const Xe=new Proxy({},{get(e,r,s){const a=zS();return Reflect.get(a,r,s)}});let Og=null;function QG(){return Og||(Og=zS(),console.log(" Supabase client initialized:",!!Og),console.log(" Supabase URL:","https://twigokrtbvigiqnaybfy.supabase.co")),Og}const $t=new Proxy({},{get(e,r,s){const a=QG();return Reflect.get(a,r,s)}});class ZG{get client(){return $t}async getOrganizations(){console.log(" SupabaseService.getOrganizations called");const{data:r,error:s}=await $t.from("organizations").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase query result:",{data:r,error:s}),s)throw console.error(" Supabase error in getOrganizations:",s),s;return console.log(" Returning organizations:",(r==null?void 0:r.length)||0),r}async getOrganization(r){console.log(" Fetching organization with ID:",r);const{data:s,error:a}=await $t.from("organizations").select("*").eq("id",r).single();if(a)throw console.error(" Error fetching organization:",a),a;return console.log(" Organization fetched from Supabase:",s),console.log(" Organization data fields:",{hasName:!!(s!=null&&s.name),hasBillingEmail:!!(s!=null&&s.billing_email),hasPhone:!!(s!=null&&s.phone),hasWebsite:!!(s!=null&&s.website),hasIndustry:!!(s!=null&&s.industry),hasAddress:!!(s!=null&&s.address),hasVapiApiKey:!!(s!=null&&s.vapi_api_key),hasVapiPrivateKey:!!(s!=null&&s.vapi_private_key)}),s}async createOrganization(r){const{data:s,error:a}=await $t.from("organizations").insert(r).select().single();if(a)throw a;return s}async updateOrganization(r,s){const{data:a,error:n}=await $t.from("organizations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUsers(r){let s=$t.from("users").select("*").order("created_at",{ascending:!1});r&&(s=s.eq("organization_id",r));const{data:a,error:n}=await s;if(n)throw n;return a}async getUserByClerkId(r){console.log(" getUserByClerkId called with:",r);try{const{data:s,error:a}=await $t.from("users").select("*").eq("clerk_id",r).single();if(console.log(" Query result:",{data:s,error:a}),a){if(a.code==="PGRST116")return console.log(" No user found with clerk_id:",r),null;throw console.error(" Full error:",a),a}return s}catch(s){throw console.error(" getUserByClerkId error:",s),s}}async getUserById(r){var n;console.log(" getUserById called with:",r);const{data:s,error:a}=await $t.from("users").select(`
        *,
        organizations(
          id,
          name,
          slug
        )
      `).eq("id",r).single();return a?(console.error(" getUserById error:",a),a.code==="PGRST116"&&console.log(" No user found with ID:",r),null):s?(console.log(" Found user:",s.email,"Role:",s.role),{...s,organizationName:(n=s.organizations)==null?void 0:n.name}):(console.log(" No user found with ID:",r),null)}async getUserByEmail(r){console.log(" getUserByEmail called with:",r);try{console.log(" Attempting simple query...");const{data:s,error:a}=await $t.from("users").select("*").eq("email",r).single();if(console.log(" Query completed - Data:",!!s,"Error:",!!a),a){if(console.error(" Query error:",a),console.log("Error details:",{code:a.code,details:a.details,hint:a.hint,message:a.message}),a.code==="PGRST116")return console.log(" No user found"),null;throw a}if(!s)return console.log(" No user found with email:",r),null;if(console.log(" Found user:",s.email,"Role:",s.role,"ID:",s.id),s.organization_id)try{const{data:n}=await $t.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}catch(n){console.warn("Could not fetch organization:",n)}return s}catch(s){throw console.error(" getUserByEmail failed:",s),s}}async getUserByEmailFallback(r){console.log(" Using fallback query (no joins)...");try{const{data:s,error:a}=await $t.from("users").select("*").eq("email",r).single();if(a)throw console.error(" Fallback query error:",a),a;if(!s)return console.log(" No user found in fallback"),null;if(console.log(" Fallback query successful:",s.email,"Role:",s.role),s.organization_id){const{data:n}=await $t.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}return s}catch(s){throw console.error(" Fallback query failed:",s),s}}async createUser(r){const{data:s,error:a}=await $t.from("users").insert(r).select().single();if(a)throw a;return s}async updateUser(r,s){const{data:a,error:n}=await $t.from("users").update(s).eq("id",r).select().single();if(n)throw n;return a}async syncUserFromClerk(r,s){var i,o,l;const a=await this.getUserByClerkId(r.id),n={clerk_id:r.id,first_name:r.firstName||"",last_name:r.lastName||"",email:((i=r.primaryEmailAddress)==null?void 0:i.emailAddress)||"",avatar_url:r.imageUrl,email_verified:((l=(o=r.primaryEmailAddress)==null?void 0:o.verification)==null?void 0:l.status)==="verified",last_login_at:new Date().toISOString()};return a?await this.updateUser(a.id,n):await this.createUser({...n,organization_id:s,role:"client_user",permissions:{},status:"active",timezone:"UTC",language:"en"})}async getCampaigns(r){const{data:s,error:a}=await $t.from("campaigns").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async getCampaign(r){const{data:s,error:a}=await $t.from("campaigns").select("*").eq("id",r).single();if(a)throw a;return s}async createCampaign(r){const{data:s,error:a}=await $t.from("campaigns").insert(r).select().single();if(a)throw a;return s}async updateCampaign(r,s){const{data:a,error:n}=await $t.from("campaigns").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteCampaign(r){const{error:s}=await $t.from("campaigns").delete().eq("id",r);if(s)throw s}async getLeads(r,s){let a=$t.from("leads").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(a=a.eq("campaign_id",s));const{data:n,error:i}=await a;if(i)throw i;return n}async createLead(r){const{data:s,error:a}=await $t.from("leads").insert(r).select().single();if(a)throw a;return s}async updateLead(r,s){const{data:a,error:n}=await $t.from("leads").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteLead(r){const{error:s}=await $t.from("leads").delete().eq("id",r);if(s)throw s}async bulkCreateLeads(r){const{data:s,error:a}=await $t.from("leads").insert(r).select();if(a)throw a;return s}async getCalls(r,s,a){let n=$t.from("calls").select("*").eq("organization_id",r).order("started_at",{ascending:!1});s&&(n=n.eq("campaign_id",s)),a&&(n=n.eq("lead_id",a));const{data:i,error:o}=await n;if(o)throw o;return i}async createCall(r){const{data:s,error:a}=await $t.from("calls").insert(r).select().single();if(a)throw a;return s}async updateCall(r,s){const{data:a,error:n}=await $t.from("calls").update(s).eq("id",r).select().single();if(n)throw n;return a}async getVapiIntegrations(r){const{data:s,error:a}=await $t.from("vapi_integrations").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async createVapiIntegration(r){const{data:s,error:a}=await $t.from("vapi_integrations").insert(r).select().single();if(a)throw a;return s}async updateVapiIntegration(r,s){const{data:a,error:n}=await $t.from("vapi_integrations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUserSettings(r){const{data:s,error:a}=await $t.from("user_settings").select("*").eq("user_id",r).single();if(a&&a.code!=="PGRST116")throw a;return s}async upsertUserSettings(r){const{data:s,error:a}=await $t.from("user_settings").upsert(r).select().single();if(a)throw a;return s}async getNotifications(r,s,a=!1){let n=$t.from("notifications").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(n=n.eq("user_id",s)),a&&(n=n.eq("read",!1));const{data:i,error:o}=await n;if(o)throw o;return i}async createNotification(r){const{data:s,error:a}=await $t.from("notifications").insert(r).select().single();if(a)throw a;return s}async markNotificationAsRead(r){const{data:s,error:a}=await $t.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",r).select().single();if(a)throw a;return s}async markAllNotificationsAsRead(r,s){let a=$t.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("organization_id",r).eq("read",!1);s&&(a=a.eq("user_id",s));const{error:n}=await a;if(n)throw n}async getCampaignAnalytics(r,s,a){let n=$t.from("calls").select(`
        *,
        campaigns(*),
        leads(*)
      `).eq("organization_id",r);s&&(n=n.eq("campaign_id",s)),a&&(n=n.gte("started_at",a.start).lte("started_at",a.end));const{data:i,error:o}=await n;if(o)throw o;return i}async getOrganizationStats(r){const[s,a,n,i]=await Promise.all([this.getCampaigns(r),this.getLeads(r),this.getCalls(r),this.getUsers(r)]);return{totalCampaigns:s.length,activeCampaigns:s.filter(o=>o.status==="active").length,totalLeads:a.length,qualifiedLeads:a.filter(o=>o.qualification_status==="qualified").length,totalCalls:n.length,completedCalls:n.filter(o=>o.status==="completed").length,totalUsers:i.length,activeUsers:i.filter(o=>o.status==="active").length}}async getPhoneNumbers(r){try{const{data:s,error:a}=await $t.from("phone_numbers").select("*").eq("organization_id",r);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching phone numbers:",s),[]}}async getAssistants(r){try{return console.log("vapi_assistants table does not exist, returning empty array"),[]}catch(s){return console.error("Error fetching assistants:",s),[]}}async getOrganizationUsers(r){try{const{data:s,error:a}=await $t.from("users").select("*").eq("organization_id",r);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching organization users:",s),[]}}}const Ql=new ZG,qu=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:Ql},Symbol.toStringTag,{value:"Module"}));p.createContext(void 0);function Ud(){var n,i,o;const[e,r]=p.useState(null),[s,a]=p.useState(!1);{const l=RS();if(p.useEffect(()=>{l.isSignedIn&&l.user&&!s&&(a(!0),Ql.getUserByClerkId(l.user.id).then(async d=>{var m;if(!d&&((m=l.user.primaryEmailAddress)!=null&&m.emailAddress)){const h=await Ql.getUserByEmail(l.user.primaryEmailAddress.emailAddress);r(h)}else r(d)}).catch(d=>{var m;(m=d.message)!=null&&m.includes("404")||console.error(" Error fetching db user:",d)}))},[l.isSignedIn,(n=l.user)==null?void 0:n.id,s]),!l.isSignedIn||!l.user)return{isSignedIn:!1,user:null,isLoaded:l.isLoaded};if(!e){const d=(i=l.user.primaryEmailAddress)==null?void 0:i.emailAddress;let m="client_user",h=null;return d==="sean@artificialmedia.co.uk"?(m="platform_owner",h="47a8e3ea-cd34-4746-a786-dd31e8f8105e"):d==="seanwentz99@gmail.com"&&(m="client_admin",h="2566d8c5-2245-4a3c-b539-4cea21a07d9b"),{isSignedIn:!0,isLoaded:!0,user:{id:l.user.id,firstName:l.user.firstName||"",lastName:l.user.lastName||"",fullName:l.user.fullName||"",email:d||"",emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:m,organization_id:h,organizationName:null}}}return{isSignedIn:!0,isLoaded:!0,user:{id:e.id,clerkId:l.user.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(o=e.organizations)==null?void 0:o.name,...e}}}}function _n(){var s;const[e,r]=p.useState(null);{const a=dq(),{user:n}=RS();return p.useEffect(()=>{a.isSignedIn&&n&&Ql.getUserByClerkId(n.id).then(i=>r(i)).catch(i=>console.error("Error fetching db user:",i))},[a.isSignedIn,n==null?void 0:n.id]),{isLoaded:a.isLoaded&&(a.isSignedIn?e!==null:!0),isSignedIn:a.isSignedIn,user:a.isSignedIn&&n&&e?{id:e.id,clerkId:n.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:n.emailAddresses,primaryEmailAddress:n.primaryEmailAddress,imageUrl:n.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(s=e.organizations)==null?void 0:s.name,...e}:null,signOut:a.signOut,getToken:a.getToken}}}const cM=p.createContext(void 0),eY=({children:e})=>{const[r,s]=p.useState(null),[a,n]=p.useState(null),{user:i,isLoaded:o}=Ud();return p.useEffect(()=>{var d,m,h,f;const l=(i==null?void 0:i.id)||(i==null?void 0:i.email)||null;if(o&&i&&l!==a){n(l),console.log(" MinimalUserProvider: User data received:",{email:i.email,role:i.role,firstName:i.firstName||i.first_name,lastName:i.lastName||i.last_name,organization_id:i.organization_id});const g=((d=i.primaryEmailAddress)==null?void 0:d.emailAddress)||((h=(m=i.emailAddresses)==null?void 0:m[0])==null?void 0:h.emailAddress)||i.email||"user@example.com",y={firstName:i.firstName||i.first_name||"User",lastName:i.lastName||i.last_name||"",organizationName:i.organizationName||((f=i.organizations)==null?void 0:f.name)||"Organization",organization_id:i.organization_id,email:g,role:i.role||"client_user"};console.log(" MinimalUserProvider: Setting user context:",y),s(y)}else o&&!i&&a!==null&&(n(null),s(null))},[i==null?void 0:i.id,i==null?void 0:i.email,o,a]),t.jsx(cM.Provider,{value:{userContext:r,setUserContext:s},children:e})},dl=()=>{const e=p.useContext(cM);if(!e)throw new Error("useUserContext must be used within a MinimalUserProvider");return e};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dM=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=p.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>p.createElement("svg",{ref:d,...rY,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:dM("lucide",n),...l},[...o.map(([m,h])=>p.createElement(m,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,r)=>{const s=p.forwardRef(({className:a,...n},i)=>p.createElement(sY,{ref:i,iconNode:r,className:dM(`lucide-${tY(e)}`,a),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Ae("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Ae("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Ae("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Ae("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Ae("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ae("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ae("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Ae("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ae("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Ae("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Ae("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ae("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ae("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Ae("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ae("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ae("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Ae("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Ae("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ae("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Ae("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Ae("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Ae("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Ae("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Ae("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=Ae("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=Ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Ae("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function uA(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function ty(...e){return r=>{let s=!1;const a=e.map(n=>{const i=uA(n,r);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():uA(e[n],null)}}}}function mt(...e){return p.useCallback(ty(...e),e)}function bd(e){const r=LY(e),s=p.forwardRef((a,n)=>{const{children:i,...o}=a,l=p.Children.toArray(i),d=l.find(zY);if(d){const m=d.props.children,h=l.map(f=>f===d?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:f);return t.jsx(r,{...o,ref:n,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return t.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}var DY=bd("Slot");function LY(e){const r=p.forwardRef((s,a)=>{const{children:n,...i}=s;if(p.isValidElement(n)){const o=UY(n),l=FY(i,n.props);return n.type!==p.Fragment&&(l.ref=a?ty(a,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var gM=Symbol("radix.slottable");function $Y(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=gM,r}function zY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gM}function FY(e,r){const s={...r};for(const a in r){const n=e[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const d=i(...l);return n(...l),d}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function UY(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function xM(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=xM(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Qt(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=xM(e))&&(a&&(a+=" "),a+=r);return a}const mA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hA=Qt,Ff=(e,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return hA(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=r,o=Object.keys(n).map(m=>{const h=s==null?void 0:s[m],f=i==null?void 0:i[m];if(h===null)return null;const g=mA(h)||mA(f);return n[m][g]}),l=s&&Object.entries(s).reduce((m,h)=>{let[f,g]=h;return g===void 0||(m[f]=g),m},{}),d=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:f,className:g,...y}=h;return Object.entries(y).every(w=>{let[b,v]=w;return Array.isArray(v)?v.includes({...i,...l}[b]):{...i,...l}[b]===v})?[...m,f,g]:m},[]);return hA(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)},US="-",BY=e=>{const r=VY(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(US);return l[0]===""&&l.length!==1&&l.shift(),yM(l,r)||WY(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},yM=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const s=e[0],a=r.nextPart.get(s),n=a?yM(e.slice(1),a):void 0;if(n)return n;if(r.validators.length===0)return;const i=e.join(US);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},fA=/^\[(.+)\]$/,WY=e=>{if(fA.test(e)){const r=fA.exec(e)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},VY=e=>{const{theme:r,prefix:s}=e,a={nextPart:new Map,validators:[]};return qY(Object.entries(e.classGroups),s).forEach(([i,o])=>{t1(o,a,i,r)}),a},t1=(e,r,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?r:pA(r,n);i.classGroupId=s;return}if(typeof n=="function"){if(HY(n)){t1(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{t1(o,pA(r,i),s,a)})})},pA=(e,r)=>{let s=e;return r.split(US).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},HY=e=>e.isThemeGetter,qY=(e,r)=>r?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[s,n]}):e,KY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),r++,r>e&&(r=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},vM="!",GY=e=>{const{separator:r,experimentalParseClassName:s}=e,a=r.length===1,n=r[0],i=r.length,o=l=>{const d=[];let m=0,h=0,f;for(let v=0;v<l.length;v++){let N=l[v];if(m===0){if(N===n&&(a||l.slice(v,v+i)===r)){d.push(l.slice(h,v)),h=v+i;continue}if(N==="/"){f=v;continue}}N==="["?m++:N==="]"&&m--}const g=d.length===0?l:l.substring(h),y=g.startsWith(vM),w=y?g.substring(1):g,b=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:b}};return s?l=>s({className:l,parseClassName:o}):o},YY=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},JY=e=>({cache:KY(e.cacheSize),parseClassName:GY(e),...BY(e)}),XY=/\s+/,QY=(e,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=r,i=[],o=e.trim().split(XY);let l="";for(let d=o.length-1;d>=0;d-=1){const m=o[d],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=s(m);let w=!!y,b=a(w?g.substring(0,y):g);if(!b){if(!w){l=m+(l.length>0?" "+l:l);continue}if(b=a(g),!b){l=m+(l.length>0?" "+l:l);continue}w=!1}const v=YY(h).join(":"),N=f?v+vM:v,C=N+b;if(i.includes(C))continue;i.push(C);const S=n(b,w);for(let _=0;_<S.length;++_){const E=S[_];i.push(N+E)}l=m+(l.length>0?" "+l:l)}return l};function ZY(){let e=0,r,s,a="";for(;e<arguments.length;)(r=arguments[e++])&&(s=bM(r))&&(a&&(a+=" "),a+=s);return a}const bM=e=>{if(typeof e=="string")return e;let r,s="";for(let a=0;a<e.length;a++)e[a]&&(r=bM(e[a]))&&(s&&(s+=" "),s+=r);return s};function eJ(e,...r){let s,a,n,i=o;function o(d){const m=r.reduce((h,f)=>f(h),e());return s=JY(m),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const m=a(d);if(m)return m;const h=QY(d,s);return n(d,h),h}return function(){return i(ZY.apply(null,arguments))}}const Er=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},wM=/^\[(?:([a-z-]+):)?(.+)\]$/i,tJ=/^\d+\/\d+$/,rJ=new Set(["px","full","screen"]),sJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Do=e=>Ku(e)||rJ.has(e)||tJ.test(e),Ll=e=>Sm(e,"length",pJ),Ku=e=>!!e&&!Number.isNaN(Number(e)),bw=e=>Sm(e,"number",Ku),Sh=e=>!!e&&Number.isInteger(Number(e)),lJ=e=>e.endsWith("%")&&Ku(e.slice(0,-1)),Ot=e=>wM.test(e),$l=e=>sJ.test(e),cJ=new Set(["length","size","percentage"]),dJ=e=>Sm(e,cJ,jM),uJ=e=>Sm(e,"position",jM),mJ=new Set(["image","url"]),hJ=e=>Sm(e,mJ,xJ),fJ=e=>Sm(e,"",gJ),Ch=()=>!0,Sm=(e,r,s)=>{const a=wM.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},pJ=e=>aJ.test(e)&&!nJ.test(e),jM=()=>!1,gJ=e=>iJ.test(e),xJ=e=>oJ.test(e),yJ=()=>{const e=Er("colors"),r=Er("spacing"),s=Er("blur"),a=Er("brightness"),n=Er("borderColor"),i=Er("borderRadius"),o=Er("borderSpacing"),l=Er("borderWidth"),d=Er("contrast"),m=Er("grayscale"),h=Er("hueRotate"),f=Er("invert"),g=Er("gap"),y=Er("gradientColorStops"),w=Er("gradientColorStopPositions"),b=Er("inset"),v=Er("margin"),N=Er("opacity"),C=Er("padding"),S=Er("saturate"),_=Er("scale"),E=Er("sepia"),A=Er("skew"),T=Er("space"),M=Er("translate"),z=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ot,r],R=()=>[Ot,r],$=()=>["",Do,Ll],B=()=>["auto",Ku,Ot],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Ot],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ku,Ot];return{cacheSize:500,separator:":",theme:{colors:[Ch],spacing:[Do,Ll],blur:["none","",$l,Ot],brightness:W(),borderColor:[e],borderRadius:["none","","full",$l,Ot],borderSpacing:R(),borderWidth:$(),contrast:W(),grayscale:q(),hueRotate:W(),invert:q(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[lJ,Ll],inset:O(),margin:O(),opacity:W(),padding:R(),saturate:W(),scale:W(),sepia:q(),skew:W(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ot]}],container:["container"],columns:[{columns:[$l]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ot]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sh,Ot]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ot]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Sh,Ot]}],"grid-cols":[{"grid-cols":[Ch]}],"col-start-end":[{col:["auto",{span:["full",Sh,Ot]},Ot]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ch]}],"row-start-end":[{row:["auto",{span:[Sh,Ot]},Ot]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ot]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ot,r]}],"min-w":[{"min-w":[Ot,r,"min","max","fit"]}],"max-w":[{"max-w":[Ot,r,"none","full","min","max","fit","prose",{screen:[$l]},$l]}],h:[{h:[Ot,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ot,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ot,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ot,r,"auto","min","max","fit"]}],"font-size":[{text:["base",$l,Ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bw]}],"font-family":[{font:[Ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ot]}],"line-clamp":[{"line-clamp":["none",Ku,bw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Do,Ot]}],"list-image":[{"list-image":["none",Ot]}],"list-style-type":[{list:["none","disc","decimal",Ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Do,Ll]}],"underline-offset":[{"underline-offset":["auto",Do,Ot]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),uJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:te()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Do,Ot]}],"outline-w":[{outline:[Do,Ll]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Do,Ll]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$l,fJ]}],"shadow-color":[{shadow:[Ch]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",$l,Ot]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ot]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ot]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Sh,Ot]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ot]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Do,Ll,bw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vJ=eJ(yJ);function $e(...e){return vJ(Qt(e))}function ww(e){const r=new Date(e);return isNaN(r.getTime())?"Invalid Date":r.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}const BS=Ff("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-600 hover:bg-gray-700 text-white shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-700 bg-transparent hover:bg-gray-600/10 hover:border-gray-600 text-gray-300 hover:text-white",secondary:"bg-gray-800 text-white hover:bg-gray-700 border border-gray-700 hover:border-gray-600",ghost:"hover:bg-gray-800 text-gray-300 hover:text-white",link:"text-gray-400 underline-offset-4 hover:underline hover:text-gray-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=p.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},i)=>{const o=a?DY:"button";return t.jsx(o,{className:$e(BS({variant:r,size:s,className:e})),ref:i,...n})});H.displayName="Button";const bJ=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);let wJ=class extends ue.Component{constructor(s){super(s);Es(this,"handleReload",()=>{window.location.reload()});Es(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error(" ErrorBoundary caught an error:",s),console.error(" Component stack:",a.componentStack),this.setState({error:s,errorInfo:a})}render(){return this.state.hasError?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-6",children:t.jsxs("div",{className:"w-full max-w-md rounded-xl border border-red-500/20 bg-gray-900 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500/10",children:t.jsx(Ms,{className:"h-8 w-8 text-red-400"})})}),t.jsx("h1",{className:"mb-2 text-2xl font-bold text-white",children:"Oops! Something went wrong"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"We encountered an unexpected error. Don't worry, your data is safe."}),t.jsxs("div",{className:"mb-6 space-y-3",children:[t.jsxs(H,{onClick:this.handleReload,className:"w-full bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-pink/80 hover:to-brand-magenta/80",children:[t.jsx(aa,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),t.jsxs(H,{onClick:this.handleGoHome,variant:"outline",className:"w-full border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ey,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]}),t.jsxs("details",{className:"text-left",children:[t.jsx("summary",{className:"mb-2 cursor-pointer text-sm text-gray-500 hover:text-gray-400",children:"View Technical Details"}),t.jsxs("div",{className:"mt-2 rounded-lg bg-gray-800 p-4",children:[t.jsx("pre",{className:"max-h-32 overflow-auto text-xs text-red-400",children:bJ(this.state.error)}),this.state.errorInfo&&t.jsx("pre",{className:"mt-2 max-h-32 overflow-auto text-xs text-gray-500",children:this.state.errorInfo.componentStack})]})]}),t.jsx("div",{className:"mt-6 border-t border-gray-800 pt-4",children:t.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support."})})]})}):this.props.children}};const gA=({children:e})=>{const r=uc(),{isLoaded:s,isSignedIn:a}=_n();return s?a?t.jsx(t.Fragment,{children:e}):t.jsx($x,{to:"/login",state:{from:r},replace:!0}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})};function Fe(e,r,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e==null||e(n),s===!1||!n.defaultPrevented)return r==null?void 0:r(n)}}function jJ(e,r){const s=p.createContext(r),a=i=>{const{children:o,...l}=i,d=p.useMemo(()=>l,Object.values(l));return t.jsx(s.Provider,{value:d,children:o})};a.displayName=e+"Provider";function n(i){const o=p.useContext(s);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function Gs(e,r=[]){let s=[];function a(i,o){const l=p.createContext(o),d=s.length;s=[...s,o];const m=f=>{var N;const{scope:g,children:y,...w}=f,b=((N=g==null?void 0:g[e])==null?void 0:N[d])||l,v=p.useMemo(()=>w,Object.values(w));return t.jsx(b.Provider,{value:v,children:y})};m.displayName=i+"Provider";function h(f,g){var b;const y=((b=g==null?void 0:g[e])==null?void 0:b[d])||l,w=p.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,h]}const n=()=>{const i=s.map(o=>p.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return n.scopeName=e,[a,NJ(n,...r)]}function NJ(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:m})=>{const f=d(i)[`__scope${m}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return s.scopeName=r.scopeName,s}var us=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},SJ=Dx[" useInsertionEffect ".trim().toString()]||us;function Ei({prop:e,defaultProp:r,onChange:s=()=>{},caller:a}){const[n,i,o]=CJ({defaultProp:r,onChange:s}),l=e!==void 0,d=l?e:n;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,a])}const m=p.useCallback(h=>{var f;if(l){const g=kJ(h)?h(e):h;g!==e&&((f=o.current)==null||f.call(o,g))}else i(h)},[l,e,i,o]);return[d,m]}function CJ({defaultProp:e,onChange:r}){const[s,a]=p.useState(e),n=p.useRef(s),i=p.useRef(r);return SJ(()=>{i.current=r},[r]),p.useEffect(()=>{var o;n.current!==s&&((o=i.current)==null||o.call(i,s),n.current=s)},[s,n]),[s,a,i]}function kJ(e){return typeof e=="function"}var _J=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=_J.reduce((e,r)=>{const s=bd(`Primitive.${r}`),a=p.forwardRef((n,i)=>{const{asChild:o,...l}=n,d=o?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function WS(e,r){e&&cc.flushSync(()=>e.dispatchEvent(r))}function Uf(e){const r=e+"CollectionProvider",[s,a]=Gs(r),[n,i]=s(r,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:v,children:N}=b,C=ue.useRef(null),S=ue.useRef(new Map).current;return t.jsx(n,{scope:v,itemMap:S,collectionRef:C,children:N})};o.displayName=r;const l=e+"CollectionSlot",d=bd(l),m=ue.forwardRef((b,v)=>{const{scope:N,children:C}=b,S=i(l,N),_=mt(v,S.collectionRef);return t.jsx(d,{ref:_,children:C})});m.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",g=bd(h),y=ue.forwardRef((b,v)=>{const{scope:N,children:C,...S}=b,_=ue.useRef(null),E=mt(v,_),A=i(h,N);return ue.useEffect(()=>(A.itemMap.set(_,{ref:_,...S}),()=>void A.itemMap.delete(_))),t.jsx(g,{[f]:"",ref:E,children:C})});y.displayName=h;function w(b){const v=i(e+"CollectionConsumer",b);return ue.useCallback(()=>{const C=v.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,T)=>S.indexOf(A.ref.current)-S.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:m,ItemSlot:y},w,a]}var PJ=p.createContext(void 0);function Bd(e){const r=p.useContext(PJ);return e||r||"ltr"}function es(e){const r=p.useRef(e);return p.useEffect(()=>{r.current=e}),p.useMemo(()=>(...s)=>{var a;return(a=r.current)==null?void 0:a.call(r,...s)},[])}function AJ(e,r=globalThis==null?void 0:globalThis.document){const s=es(e);p.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var EJ="DismissableLayer",r1="dismissableLayer.update",TJ="dismissableLayer.pointerDownOutside",OJ="dismissableLayer.focusOutside",xA,NM=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bf=p.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,m=p.useContext(NM),[h,f]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),w=mt(r,T=>f(T)),b=Array.from(m.layers),[v]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(v),C=h?b.indexOf(h):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,_=C>=N,E=MJ(T=>{const M=T.target,z=[...m.branches].some(V=>V.contains(M));!_||z||(n==null||n(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),A=IJ(T=>{const M=T.target;[...m.branches].some(V=>V.contains(M))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return AJ(T=>{C===m.layers.size-1&&(a==null||a(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),p.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(xA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),yA(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=xA)}},[h,g,s,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),yA())},[h,m]),p.useEffect(()=>{const T=()=>y({});return document.addEventListener(r1,T),()=>document.removeEventListener(r1,T)},[]),t.jsx(qe.div,{...d,ref:w,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,E.onPointerDownCapture)})});Bf.displayName=EJ;var RJ="DismissableLayerBranch",SM=p.forwardRef((e,r)=>{const s=p.useContext(NM),a=p.useRef(null),n=mt(r,a);return p.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),t.jsx(qe.div,{...e,ref:n})});SM.displayName=RJ;function MJ(e,r=globalThis==null?void 0:globalThis.document){const s=es(e),a=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){CM(TJ,s,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=d,r.addEventListener("click",n.current,{once:!0})):d()}else r.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",n.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function IJ(e,r=globalThis==null?void 0:globalThis.document){const s=es(e),a=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!a.current&&CM(OJ,s,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function yA(){const e=new CustomEvent(r1);document.dispatchEvent(e)}function CM(e,r,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?WS(n,i):n.dispatchEvent(i)}var DJ=Bf,LJ=SM,jw=0;function VS(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vA()),document.body.insertAdjacentElement("beforeend",e[1]??vA()),jw++,()=>{jw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),jw--}},[])}function vA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nw="focusScope.autoFocusOnMount",Sw="focusScope.autoFocusOnUnmount",bA={bubbles:!1,cancelable:!0},$J="FocusScope",ry=p.forwardRef((e,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,d]=p.useState(null),m=es(n),h=es(i),f=p.useRef(null),g=mt(r,b=>d(b)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let b=function(S){if(y.paused||!l)return;const _=S.target;l.contains(_)?f.current=_:Ul(f.current,{select:!0})},v=function(S){if(y.paused||!l)return;const _=S.relatedTarget;_!==null&&(l.contains(_)||Ul(f.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ul(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",v);const C=new MutationObserver(N);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",v),C.disconnect()}}},[a,l,y.paused]),p.useEffect(()=>{if(l){jA.add(y);const b=document.activeElement;if(!l.contains(b)){const N=new CustomEvent(Nw,bA);l.addEventListener(Nw,m),l.dispatchEvent(N),N.defaultPrevented||(zJ(VJ(kM(l)),{select:!0}),document.activeElement===b&&Ul(l))}return()=>{l.removeEventListener(Nw,m),setTimeout(()=>{const N=new CustomEvent(Sw,bA);l.addEventListener(Sw,h),l.dispatchEvent(N),N.defaultPrevented||Ul(b??document.body,{select:!0}),l.removeEventListener(Sw,h),jA.remove(y)},0)}}},[l,m,h,y]);const w=p.useCallback(b=>{if(!s&&!a||y.paused)return;const v=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(v&&N){const C=b.currentTarget,[S,_]=FJ(C);S&&_?!b.shiftKey&&N===_?(b.preventDefault(),s&&Ul(S,{select:!0})):b.shiftKey&&N===S&&(b.preventDefault(),s&&Ul(_,{select:!0})):N===C&&b.preventDefault()}},[s,a,y.paused]);return t.jsx(qe.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});ry.displayName=$J;function zJ(e,{select:r=!1}={}){const s=document.activeElement;for(const a of e)if(Ul(a,{select:r}),document.activeElement!==s)return}function FJ(e){const r=kM(e),s=wA(r,e),a=wA(r.reverse(),e);return[s,a]}function kM(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function wA(e,r){for(const s of e)if(!UJ(s,{upTo:r}))return s}function UJ(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BJ(e){return e instanceof HTMLInputElement&&"select"in e}function Ul(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&BJ(e)&&r&&e.select()}}var jA=WJ();function WJ(){let e=[];return{add(r){const s=e[0];r!==s&&(s==null||s.pause()),e=NA(e,r),e.unshift(r)},remove(r){var s;e=NA(e,r),(s=e[0])==null||s.resume()}}}function NA(e,r){const s=[...e],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function VJ(e){return e.filter(r=>r.tagName!=="A")}var HJ=Dx[" useId ".trim().toString()]||(()=>{}),qJ=0;function so(e){const[r,s]=p.useState(HJ());return us(()=>{s(a=>a??String(qJ++))},[e]),r?`radix-${r}`:""}const KJ=["top","right","bottom","left"],ac=Math.min,xn=Math.max,O0=Math.round,Rg=Math.floor,ao=e=>({x:e,y:e}),GJ={left:"right",right:"left",bottom:"top",top:"bottom"},YJ={start:"end",end:"start"};function s1(e,r,s){return xn(e,ac(r,s))}function tl(e,r){return typeof e=="function"?e(r):e}function rl(e){return e.split("-")[0]}function Cm(e){return e.split("-")[1]}function HS(e){return e==="x"?"y":"x"}function qS(e){return e==="y"?"height":"width"}const JJ=new Set(["top","bottom"]);function eo(e){return JJ.has(rl(e))?"y":"x"}function KS(e){return HS(eo(e))}function XJ(e,r,s){s===void 0&&(s=!1);const a=Cm(e),n=KS(e),i=qS(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=R0(o)),[o,R0(o)]}function QJ(e){const r=R0(e);return[a1(e),r,a1(r)]}function a1(e){return e.replace(/start|end/g,r=>YJ[r])}const SA=["left","right"],CA=["right","left"],ZJ=["top","bottom"],eX=["bottom","top"];function tX(e,r,s){switch(e){case"top":case"bottom":return s?r?CA:SA:r?SA:CA;case"left":case"right":return r?ZJ:eX;default:return[]}}function rX(e,r,s,a){const n=Cm(e);let i=tX(rl(e),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),r&&(i=i.concat(i.map(a1)))),i}function R0(e){return e.replace(/left|right|bottom|top/g,r=>GJ[r])}function sX(e){return{top:0,right:0,bottom:0,left:0,...e}}function _M(e){return typeof e!="number"?sX(e):{top:e,right:e,bottom:e,left:e}}function M0(e){const{x:r,y:s,width:a,height:n}=e;return{width:a,height:n,top:s,left:r,right:r+a,bottom:s+n,x:r,y:s}}function kA(e,r,s){let{reference:a,floating:n}=e;const i=eo(r),o=KS(r),l=qS(o),d=rl(r),m=i==="y",h=a.x+a.width/2-n.width/2,f=a.y+a.height/2-n.height/2,g=a[l]/2-n[l]/2;let y;switch(d){case"top":y={x:h,y:a.y-n.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:f};break;case"left":y={x:a.x-n.width,y:f};break;default:y={x:a.x,y:a.y}}switch(Cm(r)){case"start":y[o]-=g*(s&&m?-1:1);break;case"end":y[o]+=g*(s&&m?-1:1);break}return y}const aX=async(e,r,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(r));let m=await o.getElementRects({reference:e,floating:r,strategy:n}),{x:h,y:f}=kA(m,a,d),g=a,y={},w=0;for(let b=0;b<l.length;b++){const{name:v,fn:N}=l[b],{x:C,y:S,data:_,reset:E}=await N({x:h,y:f,initialPlacement:a,placement:g,strategy:n,middlewareData:y,rects:m,platform:o,elements:{reference:e,floating:r}});h=C??h,f=S??f,y={...y,[v]:{...y[v],..._}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(m=E.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:n}):E.rects),{x:h,y:f}=kA(m,g,d)),b=-1)}return{x:h,y:f,placement:g,strategy:n,middlewareData:y}};async function mf(e,r){var s;r===void 0&&(r={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=tl(r,e),w=_M(y),v=l[g?f==="floating"?"reference":"floating":f],N=M0(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(v)))==null||s?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:m,rootBoundary:h,strategy:d})),C=f==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},E=M0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:d}):C);return{top:(N.top-E.top+w.top)/_.y,bottom:(E.bottom-N.bottom+w.bottom)/_.y,left:(N.left-E.left+w.left)/_.x,right:(E.right-N.right+w.right)/_.x}}const nX=e=>({name:"arrow",options:e,async fn(r){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:d}=r,{element:m,padding:h=0}=tl(e,r)||{};if(m==null)return{};const f=_M(h),g={x:s,y:a},y=KS(n),w=qS(y),b=await o.getDimensions(m),v=y==="y",N=v?"top":"left",C=v?"bottom":"right",S=v?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[y]-g[y]-i.floating[w],E=g[y]-i.reference[y],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m));let T=A?A[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(A)))&&(T=l.floating[S]||i.floating[w]);const M=_/2-E/2,z=T/2-b[w]/2-1,V=ac(f[N],z),O=ac(f[C],z),R=V,$=T-b[w]-O,B=T/2-b[w]/2+M,U=s1(R,B,$),te=!d.arrow&&Cm(n)!=null&&B!==U&&i.reference[w]/2-(B<R?V:O)-b[w]/2<0,L=te?B<R?B-R:B-$:0;return{[y]:g[y]+L,data:{[y]:U,centerOffset:B-U-L,...te&&{alignmentOffset:L}},reset:te}}}),iX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:m}=r,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...v}=tl(e,r);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const N=rl(n),C=eo(l),S=rl(l)===l,_=await(d.isRTL==null?void 0:d.isRTL(m.floating)),E=g||(S||!b?[R0(l)]:QJ(l)),A=w!=="none";!g&&A&&E.push(...rX(l,b,w,_));const T=[l,...E],M=await mf(r,v),z=[];let V=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&z.push(M[N]),f){const B=XJ(n,o,_);z.push(M[B[0]],M[B[1]])}if(V=[...V,{placement:n,overflows:z}],!z.every(B=>B<=0)){var O,R;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,U=T[B];if(U&&(!(f==="alignment"?C!==eo(U):!1)||V.every(F=>eo(F.placement)===C?F.overflows[0]>0:!0)))return{data:{index:B,overflows:V},reset:{placement:U}};let te=(R=V.filter(L=>L.overflows[0]<=0).sort((L,F)=>L.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!te)switch(y){case"bestFit":{var $;const L=($=V.filter(F=>{if(A){const q=eo(F.placement);return q===C||q==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(q=>q>0).reduce((q,ee)=>q+ee,0)]).sort((F,q)=>F[1]-q[1])[0])==null?void 0:$[0];L&&(te=L);break}case"initialPlacement":te=l;break}if(n!==te)return{reset:{placement:te}}}return{}}}};function _A(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function PA(e){return KJ.some(r=>e[r]>=0)}const oX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...n}=tl(e,r);switch(a){case"referenceHidden":{const i=await mf(r,{...n,elementContext:"reference"}),o=_A(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PA(o)}}}case"escaped":{const i=await mf(r,{...n,altBoundary:!0}),o=_A(i,s.floating);return{data:{escapedOffsets:o,escaped:PA(o)}}}default:return{}}}}},PM=new Set(["left","top"]);async function lX(e,r){const{placement:s,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=rl(s),l=Cm(s),d=eo(s)==="y",m=PM.has(o)?-1:1,h=i&&d?-1:1,f=tl(r,e);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),d?{x:y*h,y:g*m}:{x:g*m,y:y*h}}const cX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=r,d=await lX(r,e);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+d.x,y:i+d.y,data:{...d,placement:o}}}}},dX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:s,y:a,placement:n}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:N,y:C}=v;return{x:N,y:C}}},...d}=tl(e,r),m={x:s,y:a},h=await mf(r,d),f=eo(rl(n)),g=HS(f);let y=m[g],w=m[f];if(i){const v=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=y+h[v],S=y-h[N];y=s1(C,y,S)}if(o){const v=f==="y"?"top":"left",N=f==="y"?"bottom":"right",C=w+h[v],S=w-h[N];w=s1(C,w,S)}const b=l.fn({...r,[g]:y,[f]:w});return{...b,data:{x:b.x-s,y:b.y-a,enabled:{[g]:i,[f]:o}}}}}},uX=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:d=!0,crossAxis:m=!0}=tl(e,r),h={x:s,y:a},f=eo(n),g=HS(f);let y=h[g],w=h[f];const b=tl(l,r),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const S=g==="y"?"height":"width",_=i.reference[g]-i.floating[S]+v.mainAxis,E=i.reference[g]+i.reference[S]-v.mainAxis;y<_?y=_:y>E&&(y=E)}if(m){var N,C;const S=g==="y"?"width":"height",_=PM.has(rl(n)),E=i.reference[f]-i.floating[S]+(_&&((N=o.offset)==null?void 0:N[f])||0)+(_?0:v.crossAxis),A=i.reference[f]+i.reference[S]+(_?0:((C=o.offset)==null?void 0:C[f])||0)-(_?v.crossAxis:0);w<E?w=E:w>A&&(w=A)}return{[g]:y,[f]:w}}}},mX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var s,a;const{placement:n,rects:i,platform:o,elements:l}=r,{apply:d=()=>{},...m}=tl(e,r),h=await mf(r,m),f=rl(n),g=Cm(n),y=eo(n)==="y",{width:w,height:b}=i.floating;let v,N;f==="top"||f==="bottom"?(v=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,v=g==="end"?"top":"bottom");const C=b-h.top-h.bottom,S=w-h.left-h.right,_=ac(b-h[v],C),E=ac(w-h[N],S),A=!r.middlewareData.shift;let T=_,M=E;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(M=S),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(T=C),A&&!g){const V=xn(h.left,0),O=xn(h.right,0),R=xn(h.top,0),$=xn(h.bottom,0);y?M=w-2*(V!==0||O!==0?V+O:xn(h.left,h.right)):T=b-2*(R!==0||$!==0?R+$:xn(h.top,h.bottom))}await d({...r,availableWidth:M,availableHeight:T});const z=await o.getDimensions(l.floating);return w!==z.width||b!==z.height?{reset:{rects:!0}}:{}}}};function sy(){return typeof window<"u"}function km(e){return AM(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function vo(e){var r;return(r=(AM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function AM(e){return sy()?e instanceof Node||e instanceof wn(e).Node:!1}function Ti(e){return sy()?e instanceof Element||e instanceof wn(e).Element:!1}function lo(e){return sy()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function AA(e){return!sy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}const hX=new Set(["inline","contents"]);function Wf(e){const{overflow:r,overflowX:s,overflowY:a,display:n}=Oi(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!hX.has(n)}const fX=new Set(["table","td","th"]);function pX(e){return fX.has(km(e))}const gX=[":popover-open",":modal"];function ay(e){return gX.some(r=>{try{return e.matches(r)}catch{return!1}})}const xX=["transform","translate","scale","rotate","perspective"],yX=["transform","translate","scale","rotate","perspective","filter"],vX=["paint","layout","strict","content"];function GS(e){const r=YS(),s=Ti(e)?Oi(e):e;return xX.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||yX.some(a=>(s.willChange||"").includes(a))||vX.some(a=>(s.contain||"").includes(a))}function bX(e){let r=nc(e);for(;lo(r)&&!nm(r);){if(GS(r))return r;if(ay(r))return null;r=nc(r)}return null}function YS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wX=new Set(["html","body","#document"]);function nm(e){return wX.has(km(e))}function Oi(e){return wn(e).getComputedStyle(e)}function ny(e){return Ti(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nc(e){if(km(e)==="html")return e;const r=e.assignedSlot||e.parentNode||AA(e)&&e.host||vo(e);return AA(r)?r.host:r}function EM(e){const r=nc(e);return nm(r)?e.ownerDocument?e.ownerDocument.body:e.body:lo(r)&&Wf(r)?r:EM(r)}function hf(e,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const n=EM(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=wn(n);if(i){const l=n1(o);return r.concat(o,o.visualViewport||[],Wf(n)?n:[],l&&s?hf(l):[])}return r.concat(n,hf(n,[],s))}function n1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function TM(e){const r=Oi(e);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const n=lo(e),i=n?e.offsetWidth:s,o=n?e.offsetHeight:a,l=O0(s)!==i||O0(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function JS(e){return Ti(e)?e:e.contextElement}function Gu(e){const r=JS(e);if(!lo(r))return ao(1);const s=r.getBoundingClientRect(),{width:a,height:n,$:i}=TM(r);let o=(i?O0(s.width):s.width)/a,l=(i?O0(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jX=ao(0);function OM(e){const r=wn(e);return!YS()||!r.visualViewport?jX:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function NX(e,r,s){return r===void 0&&(r=!1),!s||r&&s!==wn(e)?!1:r}function wd(e,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=JS(e);let o=ao(1);r&&(a?Ti(a)&&(o=Gu(a)):o=Gu(e));const l=NX(i,s,a)?OM(i):ao(0);let d=(n.left+l.x)/o.x,m=(n.top+l.y)/o.y,h=n.width/o.x,f=n.height/o.y;if(i){const g=wn(i),y=a&&Ti(a)?wn(a):a;let w=g,b=n1(w);for(;b&&a&&y!==w;){const v=Gu(b),N=b.getBoundingClientRect(),C=Oi(b),S=N.left+(b.clientLeft+parseFloat(C.paddingLeft))*v.x,_=N.top+(b.clientTop+parseFloat(C.paddingTop))*v.y;d*=v.x,m*=v.y,h*=v.x,f*=v.y,d+=S,m+=_,w=wn(b),b=n1(w)}}return M0({width:h,height:f,x:d,y:m})}function XS(e,r){const s=ny(e).scrollLeft;return r?r.left+s:wd(vo(e)).left+s}function RM(e,r,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),n=a.left+r.scrollLeft-(s?0:XS(e,a)),i=a.top+r.scrollTop;return{x:n,y:i}}function SX(e){let{elements:r,rect:s,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=vo(a),l=r?ay(r.floating):!1;if(a===o||l&&i)return s;let d={scrollLeft:0,scrollTop:0},m=ao(1);const h=ao(0),f=lo(a);if((f||!f&&!i)&&((km(a)!=="body"||Wf(o))&&(d=ny(a)),lo(a))){const y=wd(a);m=Gu(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const g=o&&!f&&!i?RM(o,d,!0):ao(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-d.scrollLeft*m.x+h.x+g.x,y:s.y*m.y-d.scrollTop*m.y+h.y+g.y}}function CX(e){return Array.from(e.getClientRects())}function kX(e){const r=vo(e),s=ny(e),a=e.ownerDocument.body,n=xn(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=xn(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+XS(e);const l=-s.scrollTop;return Oi(a).direction==="rtl"&&(o+=xn(r.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function _X(e,r){const s=wn(e),a=vo(e),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(n){i=n.width,o=n.height;const m=YS();(!m||m&&r==="fixed")&&(l=n.offsetLeft,d=n.offsetTop)}return{width:i,height:o,x:l,y:d}}const PX=new Set(["absolute","fixed"]);function AX(e,r){const s=wd(e,!0,r==="fixed"),a=s.top+e.clientTop,n=s.left+e.clientLeft,i=lo(e)?Gu(e):ao(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=n*i.x,m=a*i.y;return{width:o,height:l,x:d,y:m}}function EA(e,r,s){let a;if(r==="viewport")a=_X(e,s);else if(r==="document")a=kX(vo(e));else if(Ti(r))a=AX(r,s);else{const n=OM(e);a={x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}return M0(a)}function MM(e,r){const s=nc(e);return s===r||!Ti(s)||nm(s)?!1:Oi(s).position==="fixed"||MM(s,r)}function EX(e,r){const s=r.get(e);if(s)return s;let a=hf(e,[],!1).filter(l=>Ti(l)&&km(l)!=="body"),n=null;const i=Oi(e).position==="fixed";let o=i?nc(e):e;for(;Ti(o)&&!nm(o);){const l=Oi(o),d=GS(o);!d&&l.position==="fixed"&&(n=null),(i?!d&&!n:!d&&l.position==="static"&&!!n&&PX.has(n.position)||Wf(o)&&!d&&MM(e,o))?a=a.filter(h=>h!==o):n=l,o=nc(o)}return r.set(e,a),a}function TX(e){let{element:r,boundary:s,rootBoundary:a,strategy:n}=e;const o=[...s==="clippingAncestors"?ay(r)?[]:EX(r,this._c):[].concat(s),a],l=o[0],d=o.reduce((m,h)=>{const f=EA(r,h,n);return m.top=xn(f.top,m.top),m.right=ac(f.right,m.right),m.bottom=ac(f.bottom,m.bottom),m.left=xn(f.left,m.left),m},EA(r,l,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function OX(e){const{width:r,height:s}=TM(e);return{width:r,height:s}}function RX(e,r,s){const a=lo(r),n=vo(r),i=s==="fixed",o=wd(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const d=ao(0);function m(){d.x=XS(n)}if(a||!a&&!i)if((km(r)!=="body"||Wf(n))&&(l=ny(r)),a){const y=wd(r,!0,i,r);d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}else n&&m();i&&!a&&n&&m();const h=n&&!a&&!i?RM(n,l):ao(0),f=o.left+l.scrollLeft-d.x-h.x,g=o.top+l.scrollTop-d.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function Cw(e){return Oi(e).position==="static"}function TA(e,r){if(!lo(e)||Oi(e).position==="fixed")return null;if(r)return r(e);let s=e.offsetParent;return vo(e)===s&&(s=s.ownerDocument.body),s}function IM(e,r){const s=wn(e);if(ay(e))return s;if(!lo(e)){let n=nc(e);for(;n&&!nm(n);){if(Ti(n)&&!Cw(n))return n;n=nc(n)}return s}let a=TA(e,r);for(;a&&pX(a)&&Cw(a);)a=TA(a,r);return a&&nm(a)&&Cw(a)&&!GS(a)?s:a||bX(e)||s}const MX=async function(e){const r=this.getOffsetParent||IM,s=this.getDimensions,a=await s(e.floating);return{reference:RX(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function IX(e){return Oi(e).direction==="rtl"}const DX={convertOffsetParentRelativeRectToViewportRelativeRect:SX,getDocumentElement:vo,getClippingRect:TX,getOffsetParent:IM,getElementRects:MX,getClientRects:CX,getDimensions:OX,getScale:Gu,isElement:Ti,isRTL:IX};function DM(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function LX(e,r){let s=null,a;const n=vo(e);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const m=e.getBoundingClientRect(),{left:h,top:f,width:g,height:y}=m;if(l||r(),!g||!y)return;const w=Rg(f),b=Rg(n.clientWidth-(h+g)),v=Rg(n.clientHeight-(f+y)),N=Rg(h),S={rootMargin:-w+"px "+-b+"px "+-v+"px "+-N+"px",threshold:xn(0,ac(1,d))||1};let _=!0;function E(A){const T=A[0].intersectionRatio;if(T!==d){if(!_)return o();T?o(!1,T):a=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!DM(m,e.getBoundingClientRect())&&o(),_=!1}try{s=new IntersectionObserver(E,{...S,root:n.ownerDocument})}catch{s=new IntersectionObserver(E,S)}s.observe(e)}return o(!0),i}function $X(e,r,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,m=JS(e),h=n||i?[...m?hf(m):[],...hf(r)]:[];h.forEach(N=>{n&&N.addEventListener("scroll",s,{passive:!0}),i&&N.addEventListener("resize",s)});const f=m&&l?LX(m,s):null;let g=-1,y=null;o&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===m&&y&&(y.unobserve(r),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(r)})),s()}),m&&!d&&y.observe(m),y.observe(r));let w,b=d?wd(e):null;d&&v();function v(){const N=wd(e);b&&!DM(b,N)&&s(),b=N,w=requestAnimationFrame(v)}return s(),()=>{var N;h.forEach(C=>{n&&C.removeEventListener("scroll",s),i&&C.removeEventListener("resize",s)}),f==null||f(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(w)}}const zX=cX,FX=dX,UX=iX,BX=mX,WX=oX,OA=nX,VX=uX,HX=(e,r,s)=>{const a=new Map,n={platform:DX,...s},i={...n.platform,_c:a};return aX(e,r,{...n,platform:i})};var qX=typeof document<"u",KX=function(){},l0=qX?p.useLayoutEffect:KX;function I0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let s,a,n;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!I0(e[a],r[a]))return!1;return!0}if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!I0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function LM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RA(e,r){const s=LM(e);return Math.round(r*s)/s}function kw(e){const r=p.useRef(e);return l0(()=>{r.current=e}),r}function GX(e){e===void 0&&(e={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[h,f]=p.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[g,y]=p.useState(a);I0(g,a)||y(a);const[w,b]=p.useState(null),[v,N]=p.useState(null),C=p.useCallback(F=>{F!==A.current&&(A.current=F,b(F))},[]),S=p.useCallback(F=>{F!==T.current&&(T.current=F,N(F))},[]),_=i||w,E=o||v,A=p.useRef(null),T=p.useRef(null),M=p.useRef(h),z=d!=null,V=kw(d),O=kw(n),R=kw(m),$=p.useCallback(()=>{if(!A.current||!T.current)return;const F={placement:r,strategy:s,middleware:g};O.current&&(F.platform=O.current),HX(A.current,T.current,F).then(q=>{const ee={...q,isPositioned:R.current!==!1};B.current&&!I0(M.current,ee)&&(M.current=ee,cc.flushSync(()=>{f(ee)}))})},[g,r,s,O,R]);l0(()=>{m===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[m]);const B=p.useRef(!1);l0(()=>(B.current=!0,()=>{B.current=!1}),[]),l0(()=>{if(_&&(A.current=_),E&&(T.current=E),_&&E){if(V.current)return V.current(_,E,$);$()}},[_,E,$,V,z]);const U=p.useMemo(()=>({reference:A,floating:T,setReference:C,setFloating:S}),[C,S]),te=p.useMemo(()=>({reference:_,floating:E}),[_,E]),L=p.useMemo(()=>{const F={position:s,left:0,top:0};if(!te.floating)return F;const q=RA(te.floating,h.x),ee=RA(te.floating,h.y);return l?{...F,transform:"translate("+q+"px, "+ee+"px)",...LM(te.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:q,top:ee}},[s,l,te.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:$,refs:U,elements:te,floatingStyles:L}),[h,$,U,te,L])}const YX=e=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:n}=typeof e=="function"?e(s):e;return a&&r(a)?a.current!=null?OA({element:a.current,padding:n}).fn(s):{}:a?OA({element:a,padding:n}).fn(s):{}}}},JX=(e,r)=>({...zX(e),options:[e,r]}),XX=(e,r)=>({...FX(e),options:[e,r]}),QX=(e,r)=>({...VX(e),options:[e,r]}),ZX=(e,r)=>({...UX(e),options:[e,r]}),eQ=(e,r)=>({...BX(e),options:[e,r]}),tQ=(e,r)=>({...WX(e),options:[e,r]}),rQ=(e,r)=>({...YX(e),options:[e,r]});var sQ="Arrow",$M=p.forwardRef((e,r)=>{const{children:s,width:a=10,height:n=5,...i}=e;return t.jsx(qe.svg,{...i,ref:r,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});$M.displayName=sQ;var aQ=$M;function Vf(e){const[r,s]=p.useState(void 0);return us(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;o=m.inlineSize,l=m.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),r}var QS="Popper",[zM,iy]=Gs(QS),[nQ,FM]=zM(QS),UM=e=>{const{__scopePopper:r,children:s}=e,[a,n]=p.useState(null);return t.jsx(nQ,{scope:r,anchor:a,onAnchorChange:n,children:s})};UM.displayName=QS;var BM="PopperAnchor",WM=p.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:a,...n}=e,i=FM(BM,s),o=p.useRef(null),l=mt(r,o);return p.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:t.jsx(qe.div,{...n,ref:l})});WM.displayName=BM;var ZS="PopperContent",[iQ,oQ]=zM(ZS),VM=p.forwardRef((e,r)=>{var le,ke,J,Ce,fe,Q;const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:w,...b}=e,v=FM(ZS,s),[N,C]=p.useState(null),S=mt(r,he=>C(he)),[_,E]=p.useState(null),A=Vf(_),T=(A==null?void 0:A.width)??0,M=(A==null?void 0:A.height)??0,z=a+(i!=="center"?"-"+i:""),V=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(m)?m:[m],R=O.length>0,$={padding:V,boundary:O.filter(cQ),altBoundary:R},{refs:B,floatingStyles:U,placement:te,isPositioned:L,middlewareData:F}=GX({strategy:"fixed",placement:z,whileElementsMounted:(...he)=>$X(...he,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[JX({mainAxis:n+M,alignmentAxis:o}),d&&XX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?QX():void 0,...$}),d&&ZX({...$}),eQ({...$,apply:({elements:he,rects:Se,availableWidth:Te,availableHeight:ce})=>{const{width:Ve,height:ht}=Se.reference,de=he.floating.style;de.setProperty("--radix-popper-available-width",`${Te}px`),de.setProperty("--radix-popper-available-height",`${ce}px`),de.setProperty("--radix-popper-anchor-width",`${Ve}px`),de.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),_&&rQ({element:_,padding:l}),dQ({arrowWidth:T,arrowHeight:M}),g&&tQ({strategy:"referenceHidden",...$})]}),[q,ee]=KM(te),W=es(w);us(()=>{L&&(W==null||W())},[L,W]);const Z=(le=F.arrow)==null?void 0:le.x,ve=(ke=F.arrow)==null?void 0:ke.y,ne=((J=F.arrow)==null?void 0:J.centerOffset)!==0,[I,we]=p.useState();return us(()=>{N&&we(window.getComputedStyle(N).zIndex)},[N]),t.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:L?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:I,"--radix-popper-transform-origin":[(Ce=F.transformOrigin)==null?void 0:Ce.x,(fe=F.transformOrigin)==null?void 0:fe.y].join(" "),...((Q=F.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(iQ,{scope:s,placedSide:q,onArrowChange:E,arrowX:Z,arrowY:ve,shouldHideArrow:ne,children:t.jsx(qe.div,{"data-side":q,"data-align":ee,...b,ref:S,style:{...b.style,animation:L?void 0:"none"}})})})});VM.displayName=ZS;var HM="PopperArrow",lQ={top:"bottom",right:"left",bottom:"top",left:"right"},qM=p.forwardRef(function(r,s){const{__scopePopper:a,...n}=r,i=oQ(HM,a),o=lQ[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(aQ,{...n,ref:s,style:{...n.style,display:"block"}})})});qM.displayName=HM;function cQ(e){return e!==null}var dQ=e=>({name:"transformOrigin",options:e,fn(r){var v,N,C;const{placement:s,rects:a,middlewareData:n}=r,o=((v=n.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[m,h]=KM(s),f={start:"0%",center:"50%",end:"100%"}[h],g=(((N=n.arrow)==null?void 0:N.x)??0)+l/2,y=(((C=n.arrow)==null?void 0:C.y)??0)+d/2;let w="",b="";return m==="bottom"?(w=o?f:`${g}px`,b=`${-d}px`):m==="top"?(w=o?f:`${g}px`,b=`${a.floating.height+d}px`):m==="right"?(w=`${-d}px`,b=o?f:`${y}px`):m==="left"&&(w=`${a.floating.width+d}px`,b=o?f:`${y}px`),{data:{x:w,y:b}}}});function KM(e){const[r,s="center"]=e.split("-");return[r,s]}var GM=UM,YM=WM,JM=VM,XM=qM,uQ="Portal",Hf=p.forwardRef((e,r)=>{var l;const{container:s,...a}=e,[n,i]=p.useState(!1);us(()=>i(!0),[]);const o=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?sW.createPortal(t.jsx(qe.div,{...a,ref:r}),o):null});Hf.displayName=uQ;function mQ(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var Sa=e=>{const{present:r,children:s}=e,a=hQ(r),n=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),i=mt(a.ref,fQ(n));return typeof s=="function"||a.isPresent?p.cloneElement(n,{ref:i}):null};Sa.displayName="Presence";function hQ(e){const[r,s]=p.useState(),a=p.useRef(null),n=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,d]=mQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=Mg(a.current);i.current=l==="mounted"?m:"none"},[l]),us(()=>{const m=a.current,h=n.current;if(h!==e){const g=i.current,y=Mg(m);e?d("MOUNT"):y==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,d]),us(()=>{if(r){let m;const h=r.ownerDocument.defaultView??window,f=y=>{const b=Mg(a.current).includes(y.animationName);if(y.target===r&&b&&(d("ANIMATION_END"),!n.current)){const v=r.style.animationFillMode;r.style.animationFillMode="forwards",m=h.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=v)})}},g=y=>{y.target===r&&(i.current=Mg(a.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{h.clearTimeout(m),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,s(m)},[])}}function Mg(e){return(e==null?void 0:e.animationName)||"none"}function fQ(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var _w="rovingFocusGroup.onEntryFocus",pQ={bubbles:!1,cancelable:!0},qf="RovingFocusGroup",[i1,QM,gQ]=Uf(qf),[xQ,_m]=Gs(qf,[gQ]),[yQ,vQ]=xQ(qf),ZM=p.forwardRef((e,r)=>t.jsx(i1.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(i1.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(bQ,{...e,ref:r})})}));ZM.displayName=qf;var bQ=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...f}=e,g=p.useRef(null),y=mt(r,g),w=Bd(i),[b,v]=Ei({prop:o,defaultProp:l??null,onChange:d,caller:qf}),[N,C]=p.useState(!1),S=es(m),_=QM(s),E=p.useRef(!1),[A,T]=p.useState(0);return p.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(_w,S),()=>M.removeEventListener(_w,S)},[S]),t.jsx(yQ,{scope:s,orientation:a,dir:w,loop:n,currentTabStopId:b,onItemFocus:p.useCallback(M=>v(M),[v]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>T(M=>M-1),[]),children:t.jsx(qe.div,{tabIndex:N||A===0?-1:0,"data-orientation":a,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{E.current=!0}),onFocus:Fe(e.onFocus,M=>{const z=!E.current;if(M.target===M.currentTarget&&z&&!N){const V=new CustomEvent(_w,pQ);if(M.currentTarget.dispatchEvent(V),!V.defaultPrevented){const O=_().filter(te=>te.focusable),R=O.find(te=>te.active),$=O.find(te=>te.id===b),U=[R,$,...O].filter(Boolean).map(te=>te.ref.current);rI(U,h)}}E.current=!1}),onBlur:Fe(e.onBlur,()=>C(!1))})})}),eI="RovingFocusGroupItem",tI=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,d=so(),m=i||d,h=vQ(eI,s),f=h.currentTabStopId===m,g=QM(s),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:b}=h;return p.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),t.jsx(i1.ItemSlot,{scope:s,id:m,focusable:a,active:n,children:t.jsx(qe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:r,onMouseDown:Fe(e.onMouseDown,v=>{a?h.onItemFocus(m):v.preventDefault()}),onFocus:Fe(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:Fe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=NQ(v,h.orientation,h.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=g().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const _=S.indexOf(v.currentTarget);S=h.loop?SQ(S,_+1):S.slice(_+1)}setTimeout(()=>rI(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:b!=null}):o})})});tI.displayName=eI;var wQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jQ(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function NQ(e,r,s){const a=jQ(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return wQ[a]}function rI(e,r=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function SQ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var eC=ZM,tC=tI,CQ=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Eu=new WeakMap,Ig=new WeakMap,Dg={},Pw=0,sI=function(e){return e&&(e.host||sI(e.parentNode))},kQ=function(e,r){return r.map(function(s){if(e.contains(s))return s;var a=sI(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},_Q=function(e,r,s,a){var n=kQ(r,Array.isArray(e)?e:[e]);Dg[s]||(Dg[s]=new WeakMap);var i=Dg[s],o=[],l=new Set,d=new Set(n),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};n.forEach(m);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(a),w=y!==null&&y!=="false",b=(Eu.get(g)||0)+1,v=(i.get(g)||0)+1;Eu.set(g,b),i.set(g,v),o.push(g),b===1&&w&&Ig.set(g,!0),v===1&&g.setAttribute(s,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(r),l.clear(),Pw++,function(){o.forEach(function(f){var g=Eu.get(f)-1,y=i.get(f)-1;Eu.set(f,g),i.set(f,y),g||(Ig.has(f)||f.removeAttribute(a),Ig.delete(f)),y||f.removeAttribute(s)}),Pw--,Pw||(Eu=new WeakMap,Eu=new WeakMap,Ig=new WeakMap,Dg={})}},rC=function(e,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=CQ(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),_Q(a,n,s,"aria-hidden")):function(){return null}},Qi=function(){return Qi=Object.assign||function(r){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},Qi.apply(this,arguments)};function aI(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function PQ(e,r,s){if(s||arguments.length===2)for(var a=0,n=r.length,i;a<n;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var c0="right-scroll-bar-position",d0="width-before-scroll-bar",AQ="with-scroll-bars-hidden",EQ="--removed-body-scroll-bar-size";function Aw(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function TQ(e,r){var s=p.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=r,s.facade}var OQ=typeof window<"u"?p.useLayoutEffect:p.useEffect,MA=new WeakMap;function RQ(e,r){var s=TQ(null,function(a){return e.forEach(function(n){return Aw(n,a)})});return OQ(function(){var a=MA.get(s);if(a){var n=new Set(a),i=new Set(e),o=s.current;n.forEach(function(l){i.has(l)||Aw(l,null)}),i.forEach(function(l){n.has(l)||Aw(l,o)})}MA.set(s,e)},[e]),s}function MQ(e){return e}function IQ(e,r){r===void 0&&(r=MQ);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=r(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var d=function(){var h=o;o=[],h.forEach(i)},m=function(){return Promise.resolve().then(d)};m(),s={push:function(h){o.push(h),m()},filter:function(h){return o=o.filter(h),s}}}};return n}function DQ(e){e===void 0&&(e={});var r=IQ(null);return r.options=Qi({async:!0,ssr:!1},e),r}var nI=function(e){var r=e.sideCar,s=aI(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Qi({},s))};nI.isSideCarExport=!0;function LQ(e,r){return e.useMedium(r),nI}var iI=DQ(),Ew=function(){},oy=p.forwardRef(function(e,r){var s=p.useRef(null),a=p.useState({onScrollCapture:Ew,onWheelCapture:Ew,onTouchMoveCapture:Ew}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,w=e.noIsolation,b=e.inert,v=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,S=e.gapMode,_=aI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,A=RQ([s,r]),T=Qi(Qi({},_),n);return p.createElement(p.Fragment,null,h&&p.createElement(E,{sideCar:iI,removeScrollBar:m,shards:f,noRelative:y,noIsolation:w,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:s,gapMode:S}),o?p.cloneElement(p.Children.only(l),Qi(Qi({},T),{ref:A})):p.createElement(C,Qi({},T,{className:d,ref:A}),l))});oy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oy.classNames={fullWidth:d0,zeroRight:c0};var $Q=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=$Q();return r&&e.setAttribute("nonce",r),e}function FQ(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function UQ(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var BQ=function(){var e=0,r=null;return{add:function(s){e==0&&(r=zQ())&&(FQ(r,s),UQ(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},WQ=function(){var e=BQ();return function(r,s){p.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},oI=function(){var e=WQ(),r=function(s){var a=s.styles,n=s.dynamic;return e(a,n),null};return r},VQ={left:0,top:0,right:0,gap:0},Tw=function(e){return parseInt(e||"",10)||0},HQ=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],n=r[e==="padding"?"paddingRight":"marginRight"];return[Tw(s),Tw(a),Tw(n)]},qQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VQ;var r=HQ(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},KQ=oI(),Yu="data-scroll-locked",GQ=function(e,r,s,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(AQ,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Yu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(c0,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(d0,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(c0," .").concat(c0,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(d0," .").concat(d0,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Yu,`] {
    `).concat(EQ,": ").concat(l,`px;
  }
`)},IA=function(){var e=parseInt(document.body.getAttribute(Yu)||"0",10);return isFinite(e)?e:0},YQ=function(){p.useEffect(function(){return document.body.setAttribute(Yu,(IA()+1).toString()),function(){var e=IA()-1;e<=0?document.body.removeAttribute(Yu):document.body.setAttribute(Yu,e.toString())}},[])},JQ=function(e){var r=e.noRelative,s=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;YQ();var i=p.useMemo(function(){return qQ(n)},[n]);return p.createElement(KQ,{styles:GQ(i,!r,n,s?"":"!important")})},o1=!1;if(typeof window<"u")try{var Lg=Object.defineProperty({},"passive",{get:function(){return o1=!0,!0}});window.addEventListener("test",Lg,Lg),window.removeEventListener("test",Lg,Lg)}catch{o1=!1}var Tu=o1?{passive:!1}:!1,XQ=function(e){return e.tagName==="TEXTAREA"},lI=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!XQ(e)&&s[r]==="visible")},QQ=function(e){return lI(e,"overflowY")},ZQ=function(e){return lI(e,"overflowX")},DA=function(e,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=cI(e,a);if(n){var i=dI(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},eZ=function(e){var r=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[r,s,a]},tZ=function(e){var r=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[r,s,a]},cI=function(e,r){return e==="v"?QQ(r):ZQ(r)},dI=function(e,r){return e==="v"?eZ(r):tZ(r)},rZ=function(e,r){return e==="h"&&r==="rtl"?-1:1},sZ=function(e,r,s,a,n){var i=rZ(e,window.getComputedStyle(r).direction),o=i*a,l=s.target,d=r.contains(l),m=!1,h=o>0,f=0,g=0;do{if(!l)break;var y=dI(e,l),w=y[0],b=y[1],v=y[2],N=b-v-i*w;(w||N)&&cI(e,l)&&(f+=N,g+=w);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&l!==document.body||d&&(r.contains(l)||r===l));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(m=!0),m},$g=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LA=function(e){return[e.deltaX,e.deltaY]},$A=function(e){return e&&"current"in e?e.current:e},aZ=function(e,r){return e[0]===r[0]&&e[1]===r[1]},nZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iZ=0,Ou=[];function oZ(e){var r=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),n=p.useState(iZ++)[0],i=p.useState(oI)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var b=PQ([e.lockRef.current],(e.shards||[]).map($A),!0).filter(Boolean);return b.forEach(function(v){return v.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),b.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(b,v){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var N=$g(b),C=s.current,S="deltaX"in b?b.deltaX:C[0]-N[0],_="deltaY"in b?b.deltaY:C[1]-N[1],E,A=b.target,T=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in b&&T==="h"&&A.type==="range")return!1;var M=DA(T,A);if(!M)return!0;if(M?E=T:(E=T==="v"?"h":"v",M=DA(T,A)),!M)return!1;if(!a.current&&"changedTouches"in b&&(S||_)&&(a.current=E),!E)return!0;var z=a.current||E;return sZ(z,v,b,z==="h"?S:_)},[]),d=p.useCallback(function(b){var v=b;if(!(!Ou.length||Ou[Ou.length-1]!==i)){var N="deltaY"in v?LA(v):$g(v),C=r.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&aZ(E.delta,N)})[0];if(C&&C.should){v.cancelable&&v.preventDefault();return}if(!C){var S=(o.current.shards||[]).map($A).filter(Boolean).filter(function(E){return E.contains(v.target)}),_=S.length>0?l(v,S[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),m=p.useCallback(function(b,v,N,C){var S={name:b,delta:v,target:N,should:C,shadowParent:lZ(N)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(_){return _!==S})},1)},[]),h=p.useCallback(function(b){s.current=$g(b),a.current=void 0},[]),f=p.useCallback(function(b){m(b.type,LA(b),b.target,l(b,e.lockRef.current))},[]),g=p.useCallback(function(b){m(b.type,$g(b),b.target,l(b,e.lockRef.current))},[]);p.useEffect(function(){return Ou.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Tu),document.addEventListener("touchmove",d,Tu),document.addEventListener("touchstart",h,Tu),function(){Ou=Ou.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,Tu),document.removeEventListener("touchmove",d,Tu),document.removeEventListener("touchstart",h,Tu)}},[]);var y=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:nZ(n)}):null,y?p.createElement(JQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lZ(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const cZ=LQ(iI,oZ);var ly=p.forwardRef(function(e,r){return p.createElement(oy,Qi({},e,{ref:r,sideCar:cZ}))});ly.classNames=oy.classNames;var l1=["Enter"," "],dZ=["ArrowDown","PageUp","Home"],uI=["ArrowUp","PageDown","End"],uZ=[...dZ,...uI],mZ={ltr:[...l1,"ArrowRight"],rtl:[...l1,"ArrowLeft"]},hZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kf="Menu",[ff,fZ,pZ]=Uf(Kf),[Wd,mI]=Gs(Kf,[pZ,iy,_m]),cy=iy(),hI=_m(),[gZ,Vd]=Wd(Kf),[xZ,Gf]=Wd(Kf),fI=e=>{const{__scopeMenu:r,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=cy(r),[d,m]=p.useState(null),h=p.useRef(!1),f=es(i),g=Bd(n);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),t.jsx(GM,{...l,children:t.jsx(gZ,{scope:r,open:s,onOpenChange:f,content:d,onContentChange:m,children:t.jsx(xZ,{scope:r,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:o,children:a})})})};fI.displayName=Kf;var yZ="MenuAnchor",sC=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=cy(s);return t.jsx(YM,{...n,...a,ref:r})});sC.displayName=yZ;var aC="MenuPortal",[vZ,pI]=Wd(aC,{forceMount:void 0}),gI=e=>{const{__scopeMenu:r,forceMount:s,children:a,container:n}=e,i=Vd(aC,r);return t.jsx(vZ,{scope:r,forceMount:s,children:t.jsx(Sa,{present:s||i.open,children:t.jsx(Hf,{asChild:!0,container:n,children:a})})})};gI.displayName=aC;var Zn="MenuContent",[bZ,nC]=Wd(Zn),xI=p.forwardRef((e,r)=>{const s=pI(Zn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=Vd(Zn,e.__scopeMenu),o=Gf(Zn,e.__scopeMenu);return t.jsx(ff.Provider,{scope:e.__scopeMenu,children:t.jsx(Sa,{present:a||i.open,children:t.jsx(ff.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(wZ,{...n,ref:r}):t.jsx(jZ,{...n,ref:r})})})})}),wZ=p.forwardRef((e,r)=>{const s=Vd(Zn,e.__scopeMenu),a=p.useRef(null),n=mt(r,a);return p.useEffect(()=>{const i=a.current;if(i)return rC(i)},[]),t.jsx(iC,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),jZ=p.forwardRef((e,r)=>{const s=Vd(Zn,e.__scopeMenu);return t.jsx(iC,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),NZ=bd("MenuContent.ScrollLock"),iC=p.forwardRef((e,r)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,disableOutsideScroll:w,...b}=e,v=Vd(Zn,s),N=Gf(Zn,s),C=cy(s),S=hI(s),_=fZ(s),[E,A]=p.useState(null),T=p.useRef(null),M=mt(r,T,v.onContentChange),z=p.useRef(0),V=p.useRef(""),O=p.useRef(0),R=p.useRef(null),$=p.useRef("right"),B=p.useRef(0),U=w?ly:p.Fragment,te=w?{as:NZ,allowPinchZoom:!0}:void 0,L=q=>{var le,ke;const ee=V.current+q,W=_().filter(J=>!J.disabled),Z=document.activeElement,ve=(le=W.find(J=>J.ref.current===Z))==null?void 0:le.textValue,ne=W.map(J=>J.textValue),I=IZ(ne,ee,ve),we=(ke=W.find(J=>J.textValue===I))==null?void 0:ke.ref.current;(function J(Ce){V.current=Ce,window.clearTimeout(z.current),Ce!==""&&(z.current=window.setTimeout(()=>J(""),1e3))})(ee),we&&setTimeout(()=>we.focus())};p.useEffect(()=>()=>window.clearTimeout(z.current),[]),VS();const F=p.useCallback(q=>{var W,Z;return $.current===((W=R.current)==null?void 0:W.side)&&LZ(q,(Z=R.current)==null?void 0:Z.area)},[]);return t.jsx(bZ,{scope:s,searchRef:V,onItemEnter:p.useCallback(q=>{F(q)&&q.preventDefault()},[F]),onItemLeave:p.useCallback(q=>{var ee;F(q)||((ee=T.current)==null||ee.focus(),A(null))},[F]),onTriggerLeave:p.useCallback(q=>{F(q)&&q.preventDefault()},[F]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(q=>{R.current=q},[]),children:t.jsx(U,{...te,children:t.jsx(ry,{asChild:!0,trapped:n,onMountAutoFocus:Fe(i,q=>{var ee;q.preventDefault(),(ee=T.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx(Bf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,children:t.jsx(eC,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:E,onCurrentTabStopIdChange:A,onEntryFocus:Fe(d,q=>{N.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(JM,{role:"menu","aria-orientation":"vertical","data-state":RI(v.open),"data-radix-menu-content":"",dir:N.dir,...C,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:Fe(b.onKeyDown,q=>{const W=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Z=q.ctrlKey||q.altKey||q.metaKey,ve=q.key.length===1;W&&(q.key==="Tab"&&q.preventDefault(),!Z&&ve&&L(q.key));const ne=T.current;if(q.target!==ne||!uZ.includes(q.key))return;q.preventDefault();const we=_().filter(le=>!le.disabled).map(le=>le.ref.current);uI.includes(q.key)&&we.reverse(),RZ(we)}),onBlur:Fe(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(z.current),V.current="")}),onPointerMove:Fe(e.onPointerMove,pf(q=>{const ee=q.target,W=B.current!==q.clientX;if(q.currentTarget.contains(ee)&&W){const Z=q.clientX>B.current?"right":"left";$.current=Z,B.current=q.clientX}}))})})})})})})});xI.displayName=Zn;var SZ="MenuGroup",oC=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(qe.div,{role:"group",...a,ref:r})});oC.displayName=SZ;var CZ="MenuLabel",yI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(qe.div,{...a,ref:r})});yI.displayName=CZ;var D0="MenuItem",zA="menu.itemSelect",dy=p.forwardRef((e,r)=>{const{disabled:s=!1,onSelect:a,...n}=e,i=p.useRef(null),o=Gf(D0,e.__scopeMenu),l=nC(D0,e.__scopeMenu),d=mt(r,i),m=p.useRef(!1),h=()=>{const f=i.current;if(!s&&f){const g=new CustomEvent(zA,{bubbles:!0,cancelable:!0});f.addEventListener(zA,y=>a==null?void 0:a(y),{once:!0}),WS(f,g),g.defaultPrevented?m.current=!1:o.onClose()}};return t.jsx(vI,{...n,ref:d,disabled:s,onClick:Fe(e.onClick,h),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),m.current=!0},onPointerUp:Fe(e.onPointerUp,f=>{var g;m.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:Fe(e.onKeyDown,f=>{const g=l.searchRef.current!=="";s||g&&f.key===" "||l1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});dy.displayName=D0;var vI=p.forwardRef((e,r)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=e,o=nC(D0,s),l=hI(s),d=p.useRef(null),m=mt(r,d),[h,f]=p.useState(!1),[g,y]=p.useState("");return p.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[i.children]),t.jsx(ff.ItemSlot,{scope:s,disabled:a,textValue:n??g,children:t.jsx(tC,{asChild:!0,...l,focusable:!a,children:t.jsx(qe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:m,onPointerMove:Fe(e.onPointerMove,pf(w=>{a?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(e.onPointerLeave,pf(w=>o.onItemLeave(w))),onFocus:Fe(e.onFocus,()=>f(!0)),onBlur:Fe(e.onBlur,()=>f(!1))})})})}),kZ="MenuCheckboxItem",bI=p.forwardRef((e,r)=>{const{checked:s=!1,onCheckedChange:a,...n}=e;return t.jsx(CI,{scope:e.__scopeMenu,checked:s,children:t.jsx(dy,{role:"menuitemcheckbox","aria-checked":L0(s)?"mixed":s,...n,ref:r,"data-state":cC(s),onSelect:Fe(n.onSelect,()=>a==null?void 0:a(L0(s)?!0:!s),{checkForDefaultPrevented:!1})})})});bI.displayName=kZ;var wI="MenuRadioGroup",[_Z,PZ]=Wd(wI,{value:void 0,onValueChange:()=>{}}),jI=p.forwardRef((e,r)=>{const{value:s,onValueChange:a,...n}=e,i=es(a);return t.jsx(_Z,{scope:e.__scopeMenu,value:s,onValueChange:i,children:t.jsx(oC,{...n,ref:r})})});jI.displayName=wI;var NI="MenuRadioItem",SI=p.forwardRef((e,r)=>{const{value:s,...a}=e,n=PZ(NI,e.__scopeMenu),i=s===n.value;return t.jsx(CI,{scope:e.__scopeMenu,checked:i,children:t.jsx(dy,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":cC(i),onSelect:Fe(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,s)},{checkForDefaultPrevented:!1})})})});SI.displayName=NI;var lC="MenuItemIndicator",[CI,AZ]=Wd(lC,{checked:!1}),kI=p.forwardRef((e,r)=>{const{__scopeMenu:s,forceMount:a,...n}=e,i=AZ(lC,s);return t.jsx(Sa,{present:a||L0(i.checked)||i.checked===!0,children:t.jsx(qe.span,{...n,ref:r,"data-state":cC(i.checked)})})});kI.displayName=lC;var EZ="MenuSeparator",_I=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});_I.displayName=EZ;var TZ="MenuArrow",PI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=cy(s);return t.jsx(XM,{...n,...a,ref:r})});PI.displayName=TZ;var OZ="MenuSub",[mSe,AI]=Wd(OZ),Gh="MenuSubTrigger",EI=p.forwardRef((e,r)=>{const s=Vd(Gh,e.__scopeMenu),a=Gf(Gh,e.__scopeMenu),n=AI(Gh,e.__scopeMenu),i=nC(Gh,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,m={__scopeMenu:e.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),t.jsx(sC,{asChild:!0,...m,children:t.jsx(vI,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":RI(s.open),...e,ref:ty(r,n.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Fe(e.onPointerMove,pf(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:Fe(e.onPointerLeave,pf(f=>{var y,w;h();const g=(y=s.content)==null?void 0:y.getBoundingClientRect();if(g){const b=(w=s.content)==null?void 0:w.dataset.side,v=b==="right",N=v?-5:5,C=g[v?"left":"right"],S=g[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:C,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:C,y:g.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(e.onKeyDown,f=>{var y;const g=i.searchRef.current!=="";e.disabled||g&&f.key===" "||mZ[a.dir].includes(f.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),f.preventDefault())})})})});EI.displayName=Gh;var TI="MenuSubContent",OI=p.forwardRef((e,r)=>{const s=pI(Zn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=Vd(Zn,e.__scopeMenu),o=Gf(Zn,e.__scopeMenu),l=AI(TI,e.__scopeMenu),d=p.useRef(null),m=mt(r,d);return t.jsx(ff.Provider,{scope:e.__scopeMenu,children:t.jsx(Sa,{present:a||i.open,children:t.jsx(ff.Slot,{scope:e.__scopeMenu,children:t.jsx(iC,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:m,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Fe(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Fe(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Fe(e.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),g=hZ[o.dir].includes(h.key);f&&g&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});OI.displayName=TI;function RI(e){return e?"open":"closed"}function L0(e){return e==="indeterminate"}function cC(e){return L0(e)?"indeterminate":e?"checked":"unchecked"}function RZ(e){const r=document.activeElement;for(const s of e)if(s===r||(s.focus(),document.activeElement!==r))return}function MZ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}function IZ(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=MZ(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function DZ(e,r){const{x:s,y:a}=e;let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],d=r[o],m=l.x,h=l.y,f=d.x,g=d.y;h>a!=g>a&&s<(f-m)*(a-h)/(g-h)+m&&(n=!n)}return n}function LZ(e,r){if(!r)return!1;const s={x:e.clientX,y:e.clientY};return DZ(s,r)}function pf(e){return r=>r.pointerType==="mouse"?e(r):void 0}var $Z=fI,zZ=sC,FZ=gI,UZ=xI,BZ=oC,WZ=yI,VZ=dy,HZ=bI,qZ=jI,KZ=SI,GZ=kI,YZ=_I,JZ=PI,XZ=EI,QZ=OI,uy="DropdownMenu",[ZZ,hSe]=Gs(uy,[mI]),Ba=mI(),[eee,MI]=ZZ(uy),II=e=>{const{__scopeDropdownMenu:r,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=Ba(r),m=p.useRef(null),[h,f]=Ei({prop:n,defaultProp:i??!1,onChange:o,caller:uy});return t.jsx(eee,{scope:r,triggerId:so(),triggerRef:m,contentId:so(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),modal:l,children:t.jsx($Z,{...d,open:h,onOpenChange:f,dir:a,modal:l,children:s})})};II.displayName=uy;var DI="DropdownMenuTrigger",LI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=e,i=MI(DI,s),o=Ba(s);return t.jsx(zZ,{asChild:!0,...o,children:t.jsx(qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:ty(r,i.triggerRef),onPointerDown:Fe(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Fe(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});LI.displayName=DI;var tee="DropdownMenuPortal",$I=e=>{const{__scopeDropdownMenu:r,...s}=e,a=Ba(r);return t.jsx(FZ,{...a,...s})};$I.displayName=tee;var zI="DropdownMenuContent",FI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=MI(zI,s),i=Ba(s),o=p.useRef(!1);return t.jsx(UZ,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:r,onCloseAutoFocus:Fe(e.onCloseAutoFocus,l=>{var d;o.current||(d=n.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Fe(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!n.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FI.displayName=zI;var ree="DropdownMenuGroup",UI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(BZ,{...n,...a,ref:r})});UI.displayName=ree;var see="DropdownMenuLabel",BI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(WZ,{...n,...a,ref:r})});BI.displayName=see;var aee="DropdownMenuItem",WI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(VZ,{...n,...a,ref:r})});WI.displayName=aee;var nee="DropdownMenuCheckboxItem",VI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(HZ,{...n,...a,ref:r})});VI.displayName=nee;var iee="DropdownMenuRadioGroup",oee=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(qZ,{...n,...a,ref:r})});oee.displayName=iee;var lee="DropdownMenuRadioItem",HI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(KZ,{...n,...a,ref:r})});HI.displayName=lee;var cee="DropdownMenuItemIndicator",qI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(GZ,{...n,...a,ref:r})});qI.displayName=cee;var dee="DropdownMenuSeparator",KI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(YZ,{...n,...a,ref:r})});KI.displayName=dee;var uee="DropdownMenuArrow",mee=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(JZ,{...n,...a,ref:r})});mee.displayName=uee;var hee="DropdownMenuSubTrigger",GI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(XZ,{...n,...a,ref:r})});GI.displayName=hee;var fee="DropdownMenuSubContent",YI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ba(s);return t.jsx(QZ,{...n,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YI.displayName=fee;var pee=II,gee=LI,xee=$I,JI=FI,yee=UI,XI=BI,QI=WI,ZI=VI,eD=HI,tD=qI,rD=KI,sD=GI,aD=YI;const Ri=pee,Mi=gee,vee=yee,bee=p.forwardRef(({className:e,inset:r,children:s,...a},n)=>t.jsxs(sD,{ref:n,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...a,children:[s,t.jsx(Di,{className:"ml-auto"})]}));bee.displayName=sD.displayName;const wee=p.forwardRef(({className:e,...r},s)=>t.jsx(aD,{ref:s,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));wee.displayName=aD.displayName;const ti=p.forwardRef(({className:e,sideOffset:r=4,style:s,...a},n)=>t.jsx(xee,{children:t.jsx(JI,{ref:n,sideOffset:r,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),style:{backgroundColor:"#111827 !important",borderColor:"#374151 !important",color:"#f9fafb !important",border:"1px solid #374151 !important",opacity:"1 !important",...s},...a})}));ti.displayName=JI.displayName;const Xt=p.forwardRef(({className:e,inset:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsx(QI,{ref:o,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 outline-none data-[disabled]:pointer-events-none [&>svg]:size-4 [&>svg]:shrink-0","[&:active]:bg-transparent [&:focus]:bg-transparent [&[data-highlighted]]:bg-transparent [&]:bg-transparent [&]:hover:bg-transparent",r&&"pl-8",e),style:{backgroundColor:"transparent !important",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i}));Xt.displayName=QI.displayName;const jee=p.forwardRef(({className:e,children:r,checked:s,style:a,onMouseEnter:n,onMouseLeave:i,...o},l)=>t.jsxs(ZI,{ref:l,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,style:{backgroundColor:"transparent",color:"#d1d5db",...a},onMouseEnter:d=>{console.log("Mouse enter - setting background to #374151"),d.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",n==null||n(d)},onMouseLeave:d=>{d.currentTarget.style.setProperty("background-color","transparent","important"),d.currentTarget.style.setProperty("background","transparent","important"),d.currentTarget.style.setProperty("color","#d1d5db","important"),i==null||i(d)},...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tD,{children:t.jsx(jm,{className:"h-4 w-4"})})}),r]}));jee.displayName=ZI.displayName;const Nee=p.forwardRef(({className:e,children:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsxs(eD,{ref:o,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),style:{backgroundColor:"transparent",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(tD,{children:t.jsx(hM,{className:"h-2 w-2 fill-current"})})}),r]}));Nee.displayName=eD.displayName;const nD=p.forwardRef(({className:e,inset:r,...s},a)=>t.jsx(XI,{ref:a,className:$e("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...s}));nD.displayName=XI.displayName;const dC=p.forwardRef(({className:e,...r},s)=>t.jsx(rD,{ref:s,className:$e("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));dC.displayName=rD.displayName;function See(){return AS.useSyncExternalStore(Cee,()=>!0,()=>!1)}function Cee(){return()=>{}}var uC="Avatar",[kee,fSe]=Gs(uC),[_ee,iD]=kee(uC),oD=p.forwardRef((e,r)=>{const{__scopeAvatar:s,...a}=e,[n,i]=p.useState("idle");return t.jsx(_ee,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:t.jsx(qe.span,{...a,ref:r})})});oD.displayName=uC;var lD="AvatarImage",cD=p.forwardRef((e,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=iD(lD,s),l=Pee(a,i),d=es(m=>{n(m),o.onImageLoadingStatusChange(m)});return us(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?t.jsx(qe.img,{...i,ref:r,src:a}):null});cD.displayName=lD;var dD="AvatarFallback",uD=p.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,i=iD(dD,s),[o,l]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(qe.span,{...n,ref:r}):null});uD.displayName=dD;function FA(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Pee(e,{referrerPolicy:r,crossOrigin:s}){const a=See(),n=p.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=p.useState(()=>FA(i,e));return us(()=>{l(FA(i,e))},[i,e]),us(()=>{const d=f=>()=>{l(f)};if(!i)return;const m=d("loaded"),h=d("error");return i.addEventListener("load",m),i.addEventListener("error",h),r&&(i.referrerPolicy=r),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",m),i.removeEventListener("error",h)}},[i,s,r]),o}var mD=oD,hD=cD,fD=uD;const jd=p.forwardRef(({className:e,...r},s)=>t.jsx(mD,{ref:s,className:$e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));jd.displayName=mD.displayName;const im=p.forwardRef(({className:e,...r},s)=>t.jsx(hD,{ref:s,className:$e("aspect-square h-full w-full",e),...r}));im.displayName=hD.displayName;const Nd=p.forwardRef(({className:e,...r},s)=>t.jsx(fD,{ref:s,className:$e("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Nd.displayName=fD.displayName;const Aee=Ff("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:r,...s}){return t.jsx("div",{className:$e(Aee({variant:r}),e),...s})}const K=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));K.displayName="Card";const xe=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("flex flex-col space-y-1.5 p-6",e),...r}));xe.displayName="CardHeader";const ye=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("font-semibold leading-none tracking-tight",e),...r}));ye.displayName="CardTitle";const vt=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));vt.displayName="CardDescription";const G=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("p-6 pt-0",e),...r}));G.displayName="CardContent";const Eee=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("flex items-center p-6 pt-0",e),...r}));Eee.displayName="CardFooter";const Tee="https://api.vapi.ai";class Oee{constructor(){Es(this,"baseURL",Tee);Es(this,"apiKey",null);Es(this,"organizationId",null);console.log(" VAPI Service initialized - requires organization credentials to make API calls")}async initializeWithOrganization(r){var s;try{this.organizationId=r;const a=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),n=await fetch(`${window.location.origin}/api/vapi-credentials`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""}});if(!n.ok)return console.warn(" Failed to fetch VAPI credentials for organization"),!1;const i=await n.json();return i.hasApiKey&&((s=i.credentials)!=null&&s.vapi_api_key)?(this.apiKey=i.credentials.vapi_api_key,console.log(" VAPI service initialized with organization credentials"),!0):i.hasApiKey?(console.warn(" VAPI API key exists but user lacks permission to view it"),!1):(console.warn(" No VAPI API key configured for this organization"),!1)}catch(a){return console.error(" Error initializing VAPI service with organization:",a),!1}}isInitialized(){return!!(this.apiKey&&this.organizationId)}getOrganizationId(){return this.organizationId}async request(r,s={}){if(!this.isInitialized())throw new Error("VAPI Service not initialized. Call initializeWithOrganization() first.");const a=`${this.baseURL}${r}`,n={Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json",...s.headers};try{const i=await fetch(a,{...s,headers:n});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`VAPI API Error: ${i.status} - ${o.message||"Unknown error"}`)}return await i.json()}catch(i){throw console.error("VAPI Service Error:",i),i}}async getAssistants(){return this.request("/assistant")}async getAssistant(r){return this.request(`/assistant/${r}`)}async createAssistant(r){return this.request("/assistant",{method:"POST",body:JSON.stringify(r)})}async updateAssistant(r,s){return this.request(`/assistant/${r}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteAssistant(r){await this.request(`/assistant/${r}`,{method:"DELETE"})}async getCalls(r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([n,i])=>{i&&s.append(n,i.toString())});const a=s.toString();return this.request(`/call${a?`?${a}`:""}`)}async getCall(r){return this.request(`/call/${r}`)}async createCall(r){return this.request("/call",{method:"POST",body:JSON.stringify(r)})}async getPhoneNumbers(){return this.request("/phone-number")}async getPhoneNumber(r){return this.request(`/phone-number/${r}`)}async getCallAnalytics(r){const s=await this.getCalls(r);return this.aggregateCallData(s)}aggregateCallData(r){const s=r.length,a=r.filter(m=>m.status==="ended"&&m.duration&&m.duration>30).length,n=r.reduce((m,h)=>m+(h.duration||0),0),i=r.reduce((m,h)=>m+(h.cost||0),0),o=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.sentiment)||"neutral";return m[f]++,m},{positive:0,negative:0,neutral:0}),l=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.outcome)||"unknown";return m[f]=(m[f]||0)+1,m},{}),d=Array.from({length:24},(m,h)=>({hour:h,count:r.filter(f=>f.startedAt?new Date(f.startedAt).getHours()===h:!1).length}));return{totalCalls:s,successfulCalls:a,averageDuration:n/(s||1),totalCost:i,sentimentBreakdown:o,outcomeBreakdown:l,callsByHour:d,conversionRate:a/(s||1)*100}}async verifyWebhook(r,s,a){try{const i=(await bn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).createHmac("sha256",a).update(s).digest("hex");return r===i}catch{return!1}}async subscribeToCallUpdates(r,s){const a=setInterval(async()=>{try{const n=await this.getCall(r);s({type:"status-update",call:n,timestamp:new Date().toISOString()})}catch(n){console.error("Error polling call updates:",n)}},2e3);return()=>clearInterval(a)}scoreLeadFromCall(r){var n,i,o,l;let s=50;const a=[];if(r.duration&&(r.duration>300?(s+=20,a.push({factor:"Long Call Duration",impact:20,description:"Engaged in lengthy conversation"})):r.duration>120?(s+=10,a.push({factor:"Good Call Duration",impact:10,description:"Reasonable conversation length"})):r.duration<30&&(s-=15,a.push({factor:"Short Call Duration",impact:-15,description:"Very brief interaction"}))),((n=r.analysis)==null?void 0:n.sentiment)==="positive"?(s+=15,a.push({factor:"Positive Sentiment",impact:15,description:"Showed positive attitude during call"})):((i=r.analysis)==null?void 0:i.sentiment)==="negative"&&(s-=10,a.push({factor:"Negative Sentiment",impact:-10,description:"Expressed negative sentiment"})),(o=r.analysis)!=null&&o.followUpRequired&&(s+=10,a.push({factor:"Follow-up Interest",impact:10,description:"Expressed interest in follow-up"})),(l=r.analysis)!=null&&l.intent){const d=r.analysis.intent.toLowerCase();d.includes("purchase")||d.includes("buy")?(s+=25,a.push({factor:"Purchase Intent",impact:25,description:"Showed buying intent"})):(d.includes("interested")||d.includes("learn"))&&(s+=15,a.push({factor:"Learning Intent",impact:15,description:"Interested in learning more"}))}return{score:Math.max(0,Math.min(100,s)),factors:a}}async launchCampaign(r){const s=r.leads.length;return{success:!0,campaignId:`campaign_${Date.now()}`,scheduledCalls:s}}async launchProductionCampaign(r){if(!r.leads||r.leads.length===0)throw new Error("No leads provided for campaign");if(!this.apiKey)throw new Error("VAPI API key not configured");return this.launchCampaign(r)}}const c1=new Oee,UA=e=>{let r;const s=new Set,a=(m,h)=>{const f=typeof m=="function"?m(r):m;if(!Object.is(f,r)){const g=r;r=h??(typeof f!="object"||f===null)?f:Object.assign({},r,f),s.forEach(y=>y(r,g))}},n=()=>r,l={setState:a,getState:n,getInitialState:()=>d,subscribe:m=>(s.add(m),()=>s.delete(m))},d=r=e(a,n,l);return l},Ree=e=>e?UA(e):UA,Mee=e=>e;function Iee(e,r=Mee){const s=ue.useSyncExternalStore(e.subscribe,ue.useCallback(()=>r(e.getState()),[e,r]),ue.useCallback(()=>r(e.getInitialState()),[e,r]));return ue.useDebugValue(s),s}const Dee=e=>{const r=Ree(e),s=a=>Iee(r,a);return Object.assign(s,r),s},Lee=e=>Dee;function pD(e,r){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,r==null?void 0:r.reviver),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,r==null?void 0:r.replacer)),removeItem:n=>s.removeItem(n)}}const d1=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(a){return d1(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return d1(a)(s)}}}},$ee=(e,r)=>(s,a,n)=>{let i={storage:pD(()=>localStorage),partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...r},o=!1;const l=new Set,d=new Set;let m=i.storage;if(!m)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...b)},a,n);const h=()=>{const b=i.partialize({...a()});return m.setItem(i.name,{state:b,version:i.version})},f=n.setState;n.setState=(b,v)=>(f(b,v),h());const g=e((...b)=>(s(...b),h()),a,n);n.getInitialState=()=>g;let y;const w=()=>{var b,v;if(!m)return;o=!1,l.forEach(C=>{var S;return C((S=a())!=null?S:g)});const N=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(b=a())!=null?b:g))||void 0;return d1(m.getItem.bind(m))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate){const S=i.migrate(C.state,C.version);return S instanceof Promise?S.then(_=>[!0,_]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var S;const[_,E]=C;if(y=i.merge(E,(S=a())!=null?S:g),s(y,!0),_)return h()}).then(()=>{N==null||N(y,void 0),y=a(),o=!0,d.forEach(C=>C(y))}).catch(C=>{N==null||N(void 0,C)})};return n.persist={setOptions:b=>{i={...i,...b},b.storage&&(m=b.storage)},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(d.add(b),()=>{d.delete(b)})},i.skipHydration||w(),y||g},zee=$ee,BA={categories:[],types:[],priorities:[],sources:[],unreadOnly:!1},Fee={categories:{calls:!0,performance:!0,system:!0,billing:!0,campaigns:!0,security:!0},emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:{enabled:!1,start:"22:00",end:"08:00"}},Pm=Lee()(zee((e,r)=>({notifications:[],filters:BA,maxNotifications:25,preferences:Fee,addNotification:s=>{const a=`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...s,id:a,timestamp:new Date,read:!1,priority:s.priority||"medium",category:s.category||"system",source:s.source||"unknown"};return e(i=>{const o=[n,...i.notifications];return o.length>i.maxNotifications&&o.splice(i.maxNotifications),{notifications:o}}),s.autoHide&&s.hideAfter&&setTimeout(()=>{r().removeNotification(a)},s.hideAfter),a},removeNotification:s=>{e(a=>({notifications:a.notifications.filter(n=>n.id!==s)}))},markAsRead:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!0}:n)}))},markAsUnread:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!1}:n)}))},markAllAsRead:()=>{e(s=>({notifications:s.notifications.map(a=>({...a,read:!0}))}))},clearAll:()=>{e({notifications:[]})},clearByCategory:s=>{e(a=>({notifications:a.notifications.filter(n=>n.category!==s)}))},clearByType:s=>{e(a=>({notifications:a.notifications.filter(n=>n.type!==s)}))},clearOld:s=>{const a=new Date;a.setDate(a.getDate()-s),e(n=>({notifications:n.notifications.filter(i=>(i.timestamp instanceof Date?i.timestamp:new Date(i.timestamp))>a||i.persistent)}))},setFilters:s=>{e(a=>({filters:{...a.filters,...s}}))},resetFilters:()=>{e({filters:BA})},getFilteredNotifications:()=>{const{notifications:s,filters:a}=r();return s.filter(n=>{if(a.categories.length>0&&!a.categories.includes(n.category)||a.types.length>0&&!a.types.includes(n.type)||a.priorities.length>0&&!a.priorities.includes(n.priority)||a.sources.length>0&&!a.sources.includes(n.source)||a.unreadOnly&&n.read)return!1;if(a.dateRange){const i=n.timestamp;if(i<a.dateRange.start||i>a.dateRange.end)return!1}return!0})},getStats:()=>{const{notifications:s}=r(),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),i=new Date(n);i.setDate(i.getDate()-7);const o=new Date(a.getFullYear(),a.getMonth(),1),l={total:s.length,unread:s.filter(d=>!d.read).length,byCategory:{system:0,calls:0,campaigns:0,performance:0,billing:0,security:0},byType:{success:0,error:0,warning:0,info:0,system:0,campaign:0,billing:0},byPriority:{low:0,medium:0,high:0,urgent:0},recentActivity:{today:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=n).length,thisWeek:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=i).length,thisMonth:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=o).length}};return s.forEach(d=>{l.byCategory[d.category]++,l.byType[d.type]++,l.byPriority[d.priority]++}),l},getUnreadCount:()=>r().notifications.filter(s=>!s.read).length,getNotificationsByCategory:s=>r().notifications.filter(a=>a.category===s),getNotificationsByType:s=>r().notifications.filter(a=>a.type===s),getNotificationsByPriority:s=>r().notifications.filter(a=>a.priority===s),getRecentNotifications:s=>r().notifications.slice(0,s),setMaxNotifications:s=>{e(a=>{const n=a.notifications.slice(0,s);return{maxNotifications:s,notifications:n}})},updatePreferences:s=>{e(a=>({preferences:{...a.preferences,...s}}))}}),{name:"apex-notifications",storage:pD(()=>localStorage,{reviver:(e,r)=>e==="timestamp"&&typeof r=="string"?new Date(r):r,replacer:(e,r)=>r}),partialize:e=>({notifications:e.notifications.slice(0,25),maxNotifications:e.maxNotifications})})),Bc={success:(e,r,s)=>({type:"success",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:5e3,...s}),error:(e,r,s)=>({type:"error",title:e,message:r,priority:"high",category:"system",source:"app",persistent:!0,...s}),warning:(e,r,s)=>({type:"warning",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:8e3,...s}),info:(e,r,s)=>({type:"info",title:e,message:r,priority:"low",category:"system",source:"app",autoHide:!0,hideAfter:4e3,...s}),system:(e,r,s)=>({type:"system",title:e,message:r,priority:"medium",category:"system",source:"system",...s}),campaign:(e,r,s)=>({type:"campaign",title:e,message:r,priority:"medium",category:"campaigns",source:"campaign-manager",...s}),billing:(e,r,s)=>({type:"billing",title:e,message:r,priority:"medium",category:"billing",source:"billing",...s})},Uee=()=>{const e=Pm(r=>r.addNotification);return{success:(r,s,a)=>e(Bc.success(r,s,a)),error:(r,s,a)=>e(Bc.error(r,s,a)),warning:(r,s,a)=>e(Bc.warning(r,s,a)),info:(r,s,a)=>e(Bc.info(r,s,a)),system:(r,s,a)=>e(Bc.system(r,s,a)),campaign:(r,s,a)=>e(Bc.campaign(r,s,a)),billing:(r,s,a)=>e(Bc.billing(r,s,a))}};function Bee(){var b,v,N;const e=vr(),{signOut:r}=_n(),{user:s}=Ud(),{userContext:a}=dl(),{addNotification:n}=Pm(),[i,o]=p.useState(!1),[l,d]=p.useState({credits:0,totalCalls:0,monthlySpend:0,lastSync:new Date,status:"disconnected",accounts:[]}),[m,h]=p.useState(!1),f=async()=>{h(!0);try{const C=await c1.getCalls({limit:100}),S=await c1.getCallAnalytics();d({credits:0,totalCalls:S.totalCalls||0,monthlySpend:S.totalCost||0,lastSync:new Date,status:"connected",accounts:[]})}catch(C){console.error("Failed to sync Apex data:",C),d(S=>({...S,status:"error"}))}finally{h(!1)}};p.useEffect(()=>{},[]);const g=async()=>{try{await r(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(C){console.error("Sign out error:",C),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},y=()=>{switch(l.status){case"connected":return t.jsx(jt,{className:"h-3 w-3 text-gray-400"});case"syncing":return t.jsx(aa,{className:"h-3 w-3 animate-spin text-blue-400"});case"error":return t.jsx(Lt,{className:"h-3 w-3 text-red-400"});default:return t.jsx(Lt,{className:"h-3 w-3 text-gray-400"})}},w=()=>{const C=new Date().getHours(),S=(a==null?void 0:a.firstName)||(s==null?void 0:s.firstName)||"User";return C<12?`Good morning, ${S}!`:C<17?`Good afternoon, ${S}!`:`Good evening, ${S}!`};return t.jsxs(Ri,{open:i,onOpenChange:o,children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",className:$e("relative h-10 rounded-lg px-3 transition-all duration-200","hover:bg-gray-800 focus:bg-gray-800 focus:ring-2 focus:ring-gray-500/20",i&&"bg-gray-800"),children:t.jsxs("div",{className:"flex items-center space-x-2 max-w-[200px]",children:[t.jsxs(jd,{className:"h-8 w-8 ring-2 ring-gray-700 transition-all hover:ring-gray-500/50 flex-shrink-0",children:[t.jsx(im,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),t.jsx(Nd,{className:"bg-gray-600 font-medium text-white",children:((b=s==null?void 0:s.firstName)==null?void 0:b[0])||"U"})]}),t.jsxs("div",{className:"hidden flex-col items-start lg:flex min-w-0 flex-1",children:[t.jsx("span",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:(s==null?void 0:s.firstName)||"User"}),t.jsx("span",{className:"text-xs text-gray-400 truncate max-w-[100px]",children:(a==null?void 0:a.role)||"User"})]}),t.jsx(os,{className:$e("h-4 w-4 text-gray-400 transition-transform duration-200 flex-shrink-0",i&&"rotate-180")})]})})}),t.jsxs(ti,{className:"w-80 border-gray-700 bg-gray-900/95 p-0 shadow-xl",align:"end",children:[t.jsx("div",{className:"border-b border-gray-700 bg-gradient-to-r from-gray-600/10 to-gray-700/10 p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(jd,{className:"h-12 w-12 ring-2 ring-gray-500/30",children:[t.jsx(im,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),t.jsx(Nd,{className:"bg-gray-600 text-lg font-bold text-white",children:((v=s==null?void 0:s.firstName)==null?void 0:v[0])||"U"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-base font-medium text-white",children:w()}),t.jsx("p",{className:"text-sm text-gray-300",children:s==null?void 0:s.fullName}),t.jsx("p",{className:"text-xs text-gray-400",children:(N=s==null?void 0:s.primaryEmailAddress)==null?void 0:N.emailAddress}),t.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[t.jsx(Pe,{variant:"outline",className:"border-gray-500/30 text-xs text-gray-400",children:(a==null?void 0:a.role)||"User"}),(a==null?void 0:a.organizationName)&&t.jsxs(Pe,{variant:"outline",className:"border-blue-500/30 text-xs text-blue-400",children:[t.jsx(rr,{className:"mr-1 h-3 w-3"}),a.organizationName]})]})]})]})}),t.jsxs("div",{className:"border-b border-gray-700 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-white",children:"Account Overview"}),t.jsxs(H,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-gray-400 hover:text-white",onClick:f,disabled:m,children:[m?t.jsx(aa,{className:"h-3 w-3 animate-spin"}):t.jsx(aa,{className:"h-3 w-3"}),"Sync"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Credits"}),t.jsx("p",{className:"text-lg font-bold text-gray-400",children:l.credits>0?l.credits.toLocaleString():"N/A"})]}),t.jsx(Qr,{className:"h-5 w-5 text-gray-400"})]})})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-lg font-bold text-blue-400",children:l.totalCalls>0?l.totalCalls.toLocaleString():"N/A"})]}),t.jsx(ct,{className:"h-5 w-5 text-blue-400"})]})})})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[y(),t.jsxs("span",{className:"text-gray-400",children:["Apex Status:"," ",l.status==="connected"?"Connected":l.status==="syncing"?"Syncing...":l.status==="error"?"Connection Error":"Disconnected"]})]}),t.jsxs("span",{className:"text-gray-500",children:["Last sync: ",l.lastSync.toLocaleTimeString()]})]}),l.accounts.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"mb-2 text-xs text-gray-400",children:"Connected Accounts"}),t.jsx("div",{className:"space-y-1",children:l.accounts.map(C=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-300",children:C.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-400",children:C.credits.toLocaleString()}),t.jsx("span",{className:"text-gray-500",children:""}),t.jsx("span",{className:"text-blue-400",children:C.calls})]})]},C.id))})]})]}),t.jsxs("div",{className:"p-2",children:[t.jsxs(vee,{children:[t.jsxs(Xt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/api-keys"),o(!1)},children:[t.jsx(yd,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"API Keys"})]}),t.jsxs(Xt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/billing"),o(!1)},children:[t.jsx(ei,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Billing & Credits"})]}),(a==null?void 0:a.role)==="platform_owner"&&t.jsxs(t.Fragment,{children:[t.jsxs(Xt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/platform"),o(!1)},children:[t.jsx($f,{className:"mr-3 h-4 w-4 text-yellow-400"}),t.jsx("span",{className:"text-gray-200",children:"Platform Admin"})]}),t.jsxs(Xt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/system-health"),o(!1)},children:[t.jsx(ja,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Security & Health"})]})]}),t.jsxs(Xt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/settings"),o(!1)},children:[t.jsx(Cs,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Settings"})]})]}),t.jsx(dC,{className:"my-2 bg-gray-700"}),t.jsxs(Xt,{className:"cursor-pointer text-red-400 hover:bg-red-900/20 focus:bg-red-900/20",onClick:g,children:[t.jsx(wY,{className:"mr-3 h-4 w-4"}),t.jsx("span",{children:"Sign Out"})]})]}),t.jsx("div",{className:"border-t border-gray-700 bg-gray-800/50 p-3",children:t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[t.jsx("span",{children:"Apex Platform"}),t.jsxs(H,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:text-white",onClick:()=>window.open("https://docs.apex.ai","_blank"),children:[t.jsx(Ai,{className:"mr-1 h-3 w-3"}),"Docs"]})]})})]})]})}const gD=6048e5,Wee=864e5,zg=43200,WA=1440,VA=Symbol.for("constructDateFrom");function Ii(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&VA in e?e[VA](r):e instanceof Date?new e.constructor(r):new Date(r)}function ks(e,r){return Ii(r||e,e)}function u1(e,r,s){const a=ks(e,s==null?void 0:s.in);return isNaN(r)?Ii(e,NaN):(a.setDate(a.getDate()+r),a)}let Vee={};function Yf(){return Vee}function gf(e,r){var l,d,m,h;const s=Yf(),a=(r==null?void 0:r.weekStartsOn)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,n=ks(e,r==null?void 0:r.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function $0(e,r){return gf(e,{...r,weekStartsOn:1})}function xD(e,r){const s=ks(e,r==null?void 0:r.in),a=s.getFullYear(),n=Ii(s,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=$0(n),o=Ii(s,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=$0(o);return s.getTime()>=i.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function z0(e){const r=ks(e),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+e-+s}function Jf(e,...r){const s=Ii.bind(null,e||r.find(a=>typeof a=="object"));return r.map(s)}function F0(e,r){const s=ks(e,r==null?void 0:r.in);return s.setHours(0,0,0,0),s}function Hee(e,r,s){const[a,n]=Jf(s==null?void 0:s.in,e,r),i=F0(a),o=F0(n),l=+i-z0(i),d=+o-z0(o);return Math.round((l-d)/Wee)}function qee(e,r){const s=xD(e,r),a=Ii(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),$0(a)}function u0(e,r){const s=+ks(e)-+ks(r);return s<0?-1:s>0?1:s}function mC(e){return Ii(e,Date.now())}function yD(e,r,s){const[a,n]=Jf(s==null?void 0:s.in,e,r);return+F0(a)==+F0(n)}function Kee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gee(e){return!(!Kee(e)&&typeof e!="number"||isNaN(+ks(e)))}function Yee(e,r,s){const[a,n]=Jf(s==null?void 0:s.in,e,r),i=a.getFullYear()-n.getFullYear(),o=a.getMonth()-n.getMonth();return i*12+o}function Jee(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function Xee(e,r){return+ks(e)-+ks(r)}function Qee(e,r){const s=ks(e,r==null?void 0:r.in);return s.setHours(23,59,59,999),s}function Zee(e,r){const s=ks(e,r==null?void 0:r.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function ete(e,r){const s=ks(e,r==null?void 0:r.in);return+Qee(s,r)==+Zee(s,r)}function tte(e,r,s){const[a,n,i]=Jf(s==null?void 0:s.in,e,e,r),o=u0(n,i),l=Math.abs(Yee(n,i));if(l<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*l);let d=u0(n,i)===-o;ete(a)&&l===1&&u0(a,i)===1&&(d=!1);const m=o*(l-+d);return m===0?0:m}function rte(e,r,s){const a=Xee(e,r)/1e3;return Jee(s==null?void 0:s.roundingMethod)(a)}function ste(e,r){const s=ks(e,r==null?void 0:r.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const ate={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nte=(e,r,s)=>{let a;const n=ate[e];return typeof n=="string"?a=n:r===1?a=n.one:a=n.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Ow(e){return(r={})=>{const s=r.width?String(r.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const ite={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ote={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cte={date:Ow({formats:ite,defaultWidth:"full"}),time:Ow({formats:ote,defaultWidth:"full"}),dateTime:Ow({formats:lte,defaultWidth:"full"})},dte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ute=(e,r,s,a)=>dte[e];function kh(e){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return n[i]}}const mte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yte=(e,r)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},vte={ordinalNumber:yte,era:kh({values:mte,defaultWidth:"wide"}),quarter:kh({values:hte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kh({values:fte,defaultWidth:"wide"}),day:kh({values:pte,defaultWidth:"wide"}),dayPeriod:kh({values:gte,defaultWidth:"wide",formattingValues:xte,defaultFormattingWidth:"wide"})};function _h(e){return(r,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?wte(l,f=>f.test(o)):bte(l,f=>f.test(o));let m;m=e.valueCallback?e.valueCallback(d):d,m=s.valueCallback?s.valueCallback(m):m;const h=r.slice(o.length);return{value:m,rest:h}}}function bte(e,r){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r(e[s]))return s}function wte(e,r){for(let s=0;s<e.length;s++)if(r(e[s]))return s}function jte(e){return(r,s={})=>{const a=r.match(e.matchPattern);if(!a)return null;const n=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=r.slice(n.length);return{value:o,rest:l}}}const Nte=/^(\d+)(th|st|nd|rd)?/i,Ste=/\d+/i,Cte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kte={any:[/^b/i,/^(a|c)/i]},_te={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pte={any:[/1/i,/2/i,/3/i,/4/i]},Ate={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ete={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ote={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ite={ordinalNumber:jte({matchPattern:Nte,parsePattern:Ste,valueCallback:e=>parseInt(e,10)}),era:_h({matchPatterns:Cte,defaultMatchWidth:"wide",parsePatterns:kte,defaultParseWidth:"any"}),quarter:_h({matchPatterns:_te,defaultMatchWidth:"wide",parsePatterns:Pte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_h({matchPatterns:Ate,defaultMatchWidth:"wide",parsePatterns:Ete,defaultParseWidth:"any"}),day:_h({matchPatterns:Tte,defaultMatchWidth:"wide",parsePatterns:Ote,defaultParseWidth:"any"}),dayPeriod:_h({matchPatterns:Rte,defaultMatchWidth:"any",parsePatterns:Mte,defaultParseWidth:"any"})},vD={code:"en-US",formatDistance:nte,formatLong:cte,formatRelative:ute,localize:vte,match:Ite,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dte(e,r){const s=ks(e,r==null?void 0:r.in);return Hee(s,ste(s))+1}function Lte(e,r){const s=ks(e,r==null?void 0:r.in),a=+$0(s)-+qee(s);return Math.round(a/gD)+1}function bD(e,r){var h,f,g,y;const s=ks(e,r==null?void 0:r.in),a=s.getFullYear(),n=Yf(),i=(r==null?void 0:r.firstWeekContainsDate)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Ii((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=gf(o,r),d=Ii((r==null?void 0:r.in)||e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const m=gf(d,r);return+s>=+l?a+1:+s>=+m?a:a-1}function $te(e,r){var l,d,m,h;const s=Yf(),a=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,n=bD(e,r),i=Ii((r==null?void 0:r.in)||e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),gf(i,r)}function zte(e,r){const s=ks(e,r==null?void 0:r.in),a=+gf(s,r)-+$te(s,r);return Math.round(a/gD)+1}function mr(e,r){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return s+a}const zl={y(e,r){const s=e.getFullYear(),a=s>0?s:1-s;return mr(r==="yy"?a%100:a,r.length)},M(e,r){const s=e.getMonth();return r==="M"?String(s+1):mr(s+1,2)},d(e,r){return mr(e.getDate(),r.length)},a(e,r){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,r){return mr(e.getHours()%12||12,r.length)},H(e,r){return mr(e.getHours(),r.length)},m(e,r){return mr(e.getMinutes(),r.length)},s(e,r){return mr(e.getSeconds(),r.length)},S(e,r){const s=r.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return mr(n,r.length)}},Ru={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HA={G:function(e,r,s){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,r,s){if(r==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return zl.y(e,r)},Y:function(e,r,s,a){const n=bD(e,a),i=n>0?n:1-n;if(r==="YY"){const o=i%100;return mr(o,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):mr(i,r.length)},R:function(e,r){const s=xD(e);return mr(s,r.length)},u:function(e,r){const s=e.getFullYear();return mr(s,r.length)},Q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return mr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return mr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,s){const a=e.getMonth();switch(r){case"M":case"MM":return zl.M(e,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,s){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return mr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,s,a){const n=zte(e,a);return r==="wo"?s.ordinalNumber(n,{unit:"week"}):mr(n,r.length)},I:function(e,r,s){const a=Lte(e);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):mr(a,r.length)},d:function(e,r,s){return r==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):zl.d(e,r)},D:function(e,r,s){const a=Dte(e);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):mr(a,r.length)},E:function(e,r,s){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return mr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return mr(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,r,s){const a=e.getDay(),n=a===0?7:a;switch(r){case"i":return String(n);case"ii":return mr(n,r.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,s){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,r,s){const a=e.getHours();let n;switch(a===12?n=Ru.noon:a===0?n=Ru.midnight:n=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,r,s){const a=e.getHours();let n;switch(a>=17?n=Ru.evening:a>=12?n=Ru.afternoon:a>=4?n=Ru.morning:n=Ru.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,r,s){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return zl.h(e,r)},H:function(e,r,s){return r==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):zl.H(e,r)},K:function(e,r,s){const a=e.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):mr(a,r.length)},k:function(e,r,s){let a=e.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):mr(a,r.length)},m:function(e,r,s){return r==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):zl.m(e,r)},s:function(e,r,s){return r==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):zl.s(e,r)},S:function(e,r){return zl.S(e,r)},X:function(e,r,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return KA(a);case"XXXX":case"XX":return Xc(a);case"XXXXX":case"XXX":default:return Xc(a,":")}},x:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"x":return KA(a);case"xxxx":case"xx":return Xc(a);case"xxxxx":case"xxx":default:return Xc(a,":")}},O:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+qA(a,":");case"OOOO":default:return"GMT"+Xc(a,":")}},z:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+qA(a,":");case"zzzz":default:return"GMT"+Xc(a,":")}},t:function(e,r,s){const a=Math.trunc(+e/1e3);return mr(a,r.length)},T:function(e,r,s){return mr(+e,r.length)}};function qA(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+r+mr(i,2)}function KA(e,r){return e%60===0?(e>0?"-":"+")+mr(Math.abs(e)/60,2):Xc(e,r)}function Xc(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=mr(Math.trunc(a/60),2),i=mr(a%60,2);return s+n+r+i}const GA=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},wD=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Fte=(e,r)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return GA(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",GA(a,r)).replace("{{time}}",wD(n,r))},Ute={p:wD,P:Fte},Bte=/^D+$/,Wte=/^Y+$/,Vte=["D","DD","YY","YYYY"];function Hte(e){return Bte.test(e)}function qte(e){return Wte.test(e)}function Kte(e,r,s){const a=Gte(e,r,s);if(console.warn(a),Vte.includes(e))throw new RangeError(a)}function Gte(e,r,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xte=/^'([^]*?)'?$/,Qte=/''/g,Zte=/[a-zA-Z]/;function Zi(e,r,s){var h,f,g,y;const a=Yf(),n=a.locale??vD,i=a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=ks(e,s==null?void 0:s.in);if(!Gee(l))throw new RangeError("Invalid time value");let d=r.match(Jte).map(w=>{const b=w[0];if(b==="p"||b==="P"){const v=Ute[b];return v(w,n.formatLong)}return w}).join("").match(Yte).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:ere(w)};if(HA[b])return{isToken:!0,value:w};if(b.match(Zte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const m={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(w=>{if(!w.isToken)return w.value;const b=w.value;(qte(b)||Hte(b))&&Kte(b,r,String(e));const v=HA[b[0]];return v(l,b,n.localize,m)}).join("")}function ere(e){const r=e.match(Xte);return r?r[1].replace(Qte,"'"):e}function tre(e,r,s){const a=Yf(),n=(s==null?void 0:s.locale)??a.locale??vD,i=2520,o=u0(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o}),[d,m]=Jf(s==null?void 0:s.in,...o>0?[r,e]:[e,r]),h=rte(m,d),f=(z0(m)-z0(d))/1e3,g=Math.round((h-f)/60);let y;if(g<2)return s!=null&&s.includeSeconds?h<5?n.formatDistance("lessThanXSeconds",5,l):h<10?n.formatDistance("lessThanXSeconds",10,l):h<20?n.formatDistance("lessThanXSeconds",20,l):h<40?n.formatDistance("halfAMinute",0,l):h<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):g===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",g,l);if(g<45)return n.formatDistance("xMinutes",g,l);if(g<90)return n.formatDistance("aboutXHours",1,l);if(g<WA){const w=Math.round(g/60);return n.formatDistance("aboutXHours",w,l)}else{if(g<i)return n.formatDistance("xDays",1,l);if(g<zg){const w=Math.round(g/WA);return n.formatDistance("xDays",w,l)}else if(g<zg*2)return y=Math.round(g/zg),n.formatDistance("aboutXMonths",y,l)}if(y=tte(m,d),y<12){const w=Math.round(g/zg);return n.formatDistance("xMonths",w,l)}else{const w=y%12,b=Math.trunc(y/12);return w<3?n.formatDistance("aboutXYears",b,l):w<9?n.formatDistance("overXYears",b,l):n.formatDistance("almostXYears",b+1,l)}}function U0(e,r){return tre(e,mC(e),r)}function YA(e){return+ks(e)<Date.now()}function JA(e,r){return yD(Ii(e,e),mC(e))}function rre(e,r){return yD(e,u1(mC(e),1),r)}function xf(e,[r,s]){return Math.min(s,Math.max(r,e))}function sre(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var hC="ScrollArea",[jD,pSe]=Gs(hC),[are,ni]=jD(hC),ND=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,d]=p.useState(null),[m,h]=p.useState(null),[f,g]=p.useState(null),[y,w]=p.useState(null),[b,v]=p.useState(null),[N,C]=p.useState(0),[S,_]=p.useState(0),[E,A]=p.useState(!1),[T,M]=p.useState(!1),z=mt(r,O=>d(O)),V=Bd(n);return t.jsx(are,{scope:s,type:a,dir:V,scrollHideDelay:i,scrollArea:l,viewport:m,onViewportChange:h,content:f,onContentChange:g,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:A,scrollbarY:b,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:M,onCornerWidthChange:C,onCornerHeightChange:_,children:t.jsx(qe.div,{dir:V,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});ND.displayName=hC;var SD="ScrollAreaViewport",CD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=e,o=ni(SD,s),l=p.useRef(null),d=mt(r,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});CD.displayName=SD;var bo="ScrollAreaScrollbar",fC=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=ni(bo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?t.jsx(nre,{...a,ref:r,forceMount:s}):n.type==="scroll"?t.jsx(ire,{...a,ref:r,forceMount:s}):n.type==="auto"?t.jsx(kD,{...a,ref:r,forceMount:s}):n.type==="always"?t.jsx(pC,{...a,ref:r}):null});fC.displayName=bo;var nre=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=ni(bo,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(Sa,{present:s||i,children:t.jsx(kD,{"data-state":i?"visible":"hidden",...a,ref:r})})}),ire=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=ni(bo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=hy(()=>d("SCROLL_END"),100),[l,d]=sre("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,n.scrollHideDelay,d]),p.useEffect(()=>{const m=n.viewport,h=i?"scrollLeft":"scrollTop";if(m){let f=m[h];const g=()=>{const y=m[h];f!==y&&(d("SCROLL"),o()),f=y};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[n.viewport,i,d,o]),t.jsx(Sa,{present:s||l!=="hidden",children:t.jsx(pC,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:Fe(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Fe(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),kD=p.forwardRef((e,r)=>{const s=ni(bo,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",d=hy(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?m:h)}},10);return om(s.viewport,d),om(s.content,d),t.jsx(Sa,{present:a||i,children:t.jsx(pC,{"data-state":i?"visible":"hidden",...n,ref:r})})}),pC=p.forwardRef((e,r)=>{const{orientation:s="vertical",...a}=e,n=ni(bo,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=TD(l.viewport,l.content),h={...a,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function f(g,y){return mre(g,o.current,l,y)}return s==="horizontal"?t.jsx(ore,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,y=XA(g,l,n.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}}):s==="vertical"?t.jsx(lre,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,y=XA(g,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}}):null}),ore=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=ni(bo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=mt(r,d,i.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(PD,{"data-orientation":"horizontal",...n,ref:m,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":my(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),RD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:W0(o.paddingLeft),paddingEnd:W0(o.paddingRight)}})}})}),lre=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=ni(bo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=mt(r,d,i.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(PD,{"data-orientation":"vertical",...n,ref:m,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":my(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),RD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:W0(o.paddingTop),paddingEnd:W0(o.paddingBottom)}})}})}),[cre,_D]=jD(bo),PD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:h,onResize:f,...g}=e,y=ni(bo,s),[w,b]=p.useState(null),v=mt(r,z=>b(z)),N=p.useRef(null),C=p.useRef(""),S=y.viewport,_=a.content-a.viewport,E=es(h),A=es(d),T=hy(f,10);function M(z){if(N.current){const V=z.clientX-N.current.left,O=z.clientY-N.current.top;m({x:V,y:O})}}return p.useEffect(()=>{const z=V=>{const O=V.target;(w==null?void 0:w.contains(O))&&E(V,_)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[S,w,_,E]),p.useEffect(A,[a,A]),om(w,T),om(y.content,T),t.jsx(cre,{scope:s,scrollbar:w,hasThumb:n,onThumbChange:es(i),onThumbPointerUp:es(o),onThumbPositionChange:A,onThumbPointerDown:es(l),children:t.jsx(qe.div,{...g,ref:v,style:{position:"absolute",...g.style},onPointerDown:Fe(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),N.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),M(z))}),onPointerMove:Fe(e.onPointerMove,M),onPointerUp:Fe(e.onPointerUp,z=>{const V=z.target;V.hasPointerCapture(z.pointerId)&&V.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=C.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),B0="ScrollAreaThumb",AD=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=_D(B0,e.__scopeScrollArea);return t.jsx(Sa,{present:s||n.hasThumb,children:t.jsx(dre,{ref:r,...a})})}),dre=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,style:a,...n}=e,i=ni(B0,s),o=_D(B0,s),{onThumbPositionChange:l}=o,d=mt(r,f=>o.onThumbChange(f)),m=p.useRef(void 0),h=hy(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(h(),!m.current){const y=hre(f,l);m.current=y,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,h,l]),t.jsx(qe.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Fe(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,b=f.clientY-y.top;o.onThumbPointerDown({x:w,y:b})}),onPointerUp:Fe(e.onPointerUp,o.onThumbPointerUp)})});AD.displayName=B0;var gC="ScrollAreaCorner",ED=p.forwardRef((e,r)=>{const s=ni(gC,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?t.jsx(ure,{...e,ref:r}):null});ED.displayName=gC;var ure=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,...a}=e,n=ni(gC,s),[i,o]=p.useState(0),[l,d]=p.useState(0),m=!!(i&&l);return om(n.scrollbarX,()=>{var f;const h=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(h),d(h)}),om(n.scrollbarY,()=>{var f;const h=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(h),o(h)}),m?t.jsx(qe.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function W0(e){return e?parseInt(e,10):0}function TD(e,r){const s=e/r;return isNaN(s)?0:s}function my(e){const r=TD(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*r;return Math.max(a,18)}function mre(e,r,s,a="ltr"){const n=my(s),i=n/2,o=r||i,l=n-o,d=s.scrollbar.paddingStart+o,m=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,f=a==="ltr"?[0,h]:[h*-1,0];return OD([d,m],f)(e)}function XA(e,r,s="ltr"){const a=my(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,o=r.content-r.viewport,l=i-a,d=s==="ltr"?[0,o]:[o*-1,0],m=xf(e,d);return OD([0,o],[0,l])(m)}function OD(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function RD(e,r){return e>0&&e<r}var hre=(e,r=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&r(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function hy(e,r){const s=es(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function om(e,r){const s=es(r);us(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,s])}var MD=ND,fre=CD,pre=ED;const V0=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(MD,{ref:a,className:$e("relative overflow-hidden",e),...s,children:[t.jsx(fre,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(ID,{}),t.jsx(pre,{})]}));V0.displayName=MD.displayName;const ID=p.forwardRef(({className:e,orientation:r="vertical",...s},a)=>t.jsx(fC,{ref:a,orientation:r,className:$e("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(AD,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));ID.displayName=fC.displayName;const Ee=p.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:$e("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:a,...s}));Ee.displayName="Input";const gre={success:jt,error:Lt,warning:Ms,info:Ht,system:ws,campaign:Sr,billing:Qr,calls:ct,performance:Na,security:ja,message:oo,update:aa},QA={system:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/20",icon:"text-purple-500"},calls:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",icon:"text-blue-500"},campaigns:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",icon:"text-emerald-500"},performance:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"text-orange-500"},billing:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/20",icon:"text-yellow-500"},security:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20",icon:"text-red-500"}},xre={low:{color:"bg-gray-400",pulse:!1},medium:{color:"bg-blue-500",pulse:!1},high:{color:"bg-orange-500",pulse:!0},urgent:{color:"bg-red-500",pulse:!0}},yre=ue.memo(function({notification:r,onMarkAsRead:s,onRemove:a,onAction:n}){var g;const[i,o]=p.useState(!1),l=gre[r.type]||Ht,d=QA[r.category]||QA.system,m=xre[r.priority],h=U0(r.timestamp,{addSuffix:!0}),f=()=>{r.action&&(n==null||n(r.action),r.action.href&&window.open(r.action.href,"_blank"),r.action.callback&&r.action.callback())};return t.jsxs("div",{className:$e("group relative cursor-pointer rounded-lg border p-3 transition-all duration-200","hover:border-gray-600/50 hover:bg-gray-800/30",!r.read&&"border-gray-700/30 bg-gray-800/20",r.read&&"border-gray-800/30 bg-transparent"),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>!r.read&&s(r.id),children:[t.jsx("div",{className:$e("absolute left-2 top-2 h-2 w-2 rounded-full",m.color,m.pulse&&"animate-pulse")}),!r.read&&t.jsx("div",{className:"absolute right-2 top-2 h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsxs("div",{className:"ml-4 flex items-start gap-3",children:[t.jsx("div",{className:$e("flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg transition-all duration-200",d.bg,d.border,"border"),children:t.jsx(l,{className:$e("h-4 w-4",d.icon)})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:$e("text-sm font-semibold leading-tight transition-colors duration-200",r.read?"text-gray-300":"text-white",i&&"text-emerald-400"),children:r.title}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsx(Pe,{variant:"outline",className:$e("border-0 px-2 py-0.5 text-xs font-medium",d.bg,d.text),children:r.category}),t.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(Ut,{className:"h-3 w-3"}),h]})]})]}),t.jsxs("div",{className:$e("flex items-center gap-1 opacity-0 transition-opacity duration-200",i&&"opacity-100"),children:[r.action&&t.jsxs(H,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-emerald-400 hover:bg-emerald-500/10 hover:text-emerald-300",onClick:y=>{y.stopPropagation(),f()},children:[r.action.label,t.jsx(Ai,{className:"ml-1 h-3 w-3"})]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:bg-white/10 hover:text-white",onClick:y=>y.stopPropagation(),children:t.jsx(Nm,{className:"h-3 w-3"})})}),t.jsxs(ti,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsx(Xt,{onClick:y=>{y.stopPropagation(),r.read,s(r.id)},className:"text-gray-300 hover:bg-white/10 hover:text-white",children:r.read?t.jsxs(t.Fragment,{children:[t.jsx(pa,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}):t.jsxs(t.Fragment,{children:[t.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Mark as Read"]})}),t.jsxs(Xt,{onClick:y=>{y.stopPropagation(),a(r.id)},className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]}),t.jsx("p",{className:"mb-3 line-clamp-2 text-sm leading-relaxed text-gray-400",children:r.message}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500",children:r.source}),((g=r.metadata)==null?void 0:g.tags)&&t.jsx("div",{className:"flex items-center gap-1",children:r.metadata.tags.slice(0,2).map((y,w)=>t.jsx(Pe,{variant:"outline",className:"border-gray-700 px-1.5 py-0 text-xs text-gray-400",children:y},w))})]})]})]})]})});function vre(){const e=vr(),[r,s]=p.useState(!1),[a,n]=p.useState(""),[i,o]=p.useState("all"),{notifications:l,markAsRead:d,markAllAsRead:m,removeNotification:h,clearAll:f,getUnreadCount:g,getFilteredNotifications:y}=Pm(),w=g(),b=ue.useMemo(()=>[...l.filter(E=>{const A=a===""||E.title.toLowerCase().includes(a.toLowerCase())||E.message.toLowerCase().includes(a.toLowerCase())||E.source.toLowerCase().includes(a.toLowerCase()),T=i==="all"||i==="unread"&&!E.read||i==="read"&&E.read;return A&&T})].sort((E,A)=>{if(E.read!==A.read)return E.read?1:-1;const T=E.timestamp instanceof Date?E.timestamp:new Date(E.timestamp);return(A.timestamp instanceof Date?A.timestamp:new Date(A.timestamp)).getTime()-T.getTime()}).slice(0,50),[l,a,i]),v=ue.useCallback(S=>{d(S)},[d]),N=ue.useCallback(S=>{h(S)},[h]),C=S=>{S!=null&&S.href&&window.open(S.href,"_blank"),S!=null&&S.callback&&S.callback()};return t.jsxs(Ri,{open:r,onOpenChange:s,children:[t.jsx(Mi,{asChild:!0,children:t.jsxs("div",{className:"relative h-10 w-10 cursor-pointer inline-flex items-center justify-center bg-transparent border-none outline-none focus:outline-none",children:[t.jsx(Go,{className:$e("h-5 w-5 transition-colors duration-200",r?"text-emerald-400":"text-gray-300 hover:text-white")}),w>0&&t.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 animate-pulse rounded-full bg-emerald-500 shadow-lg"})]})}),t.jsxs(ti,{className:"w-96 border-gray-700/50 bg-gray-900/95 p-0 shadow-2xl backdrop-blur-sm",align:"end",sideOffset:8,children:[t.jsx("div",{className:"relative border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[t.jsx(rc,{className:"h-4 w-4 text-gray-400"}),"Notifications"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:w>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-500"}),w===1?`${w} new notification`:`${w} new notifications`]}):"All caught up!"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[w>0&&t.jsxs(H,{variant:"ghost",size:"sm",onClick:m,className:"h-7 px-2 text-xs text-gray-300 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:[t.jsx(e1,{className:"mr-1 h-3 w-3"}),"Mark All Read"]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 transition-all duration-200 hover:bg-white/10 hover:text-white",children:t.jsx(Cs,{className:"h-4 w-4"})})}),t.jsxs(ti,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsxs(Xt,{onClick:f,className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Clear All"]}),t.jsxs(Xt,{className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Notification Settings"]})]})]})]})]})}),t.jsxs("div",{className:"space-y-2 border-b border-gray-800/30 p-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx(Ee,{placeholder:"Search notifications...",value:a,onChange:S=>n(S.target.value),className:"h-8 border-gray-700/50 bg-gray-800/50 pl-8 text-xs text-white transition-all duration-200 placeholder:text-gray-500 focus:border-gray-600 focus:ring-0"})]}),t.jsx("div",{className:"flex items-center gap-1",children:["all","unread","read"].map(S=>t.jsxs(H,{variant:i===S?"default":"ghost",size:"sm",onClick:()=>o(S),className:$e("h-6 px-2 text-xs capitalize transition-all duration-200",i===S?"bg-gray-700 text-white hover:bg-gray-600":"text-gray-400 hover:bg-gray-800/50 hover:text-white"),children:[S==="all"?"All":S==="unread"?"Unread":"Read",S==="unread"&&w>0&&t.jsx(Pe,{className:"ml-1 border-0 bg-emerald-500 px-1 py-0 text-xs text-white",children:w})]},S))})]}),t.jsx(V0,{className:"h-80",children:t.jsx("div",{className:"p-1",children:b.length>0?t.jsx("div",{className:"space-y-1 p-2",children:b.map(S=>t.jsx(yre,{notification:S,onMarkAsRead:v,onRemove:N,onAction:C},S.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Go,{className:"mx-auto mb-4 h-16 w-16 opacity-30"}),t.jsx(rc,{className:"absolute -right-1 -top-1 h-6 w-6 animate-pulse text-emerald-400"})]}),t.jsx("p",{className:"mb-2 text-lg font-medium",children:a?"No matching notifications":"All clear!"}),t.jsx("p",{className:"max-w-xs text-center text-sm text-gray-600",children:a?"Try adjusting your search or filters.":"No new notifications right now."})]})})}),t.jsxs("div",{className:"border-t border-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ns,{className:"h-3 w-3"}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{children:[b.length," shown"]}),t.jsx("span",{children:""}),t.jsxs("span",{children:[l.length," total"]})]})]}),t.jsx(H,{variant:"ghost",className:"mt-3 w-full h-9 text-sm text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>{s(!1),e("/notifications")},children:"View All Notifications"})]})]})]})}const bre=[{title:"Platform Overview",titleKey:"platform_overview",url:"/platform",icon:ey,isActive:e=>e==="/platform"||e==="/platform-owner"},{title:"Organizations",titleKey:"organizations",url:"/organizations",icon:rr,isActive:e=>e==="/organizations"||e.startsWith("/organization")},{title:"User Management",titleKey:"user_management",url:"/user-management",icon:am,isActive:e=>e==="/user-management"},{title:"Platform Analytics",titleKey:"platform_analytics",url:"/platform-analytics",icon:za,isActive:e=>e==="/platform-analytics"},{title:"Support Tickets",titleKey:"support_tickets",url:"/support-tickets",icon:uf,isActive:e=>e==="/support-tickets"},{title:"System Health",titleKey:"system_health",url:"/system-health",icon:Ns,isActive:e=>e==="/system-health"},{title:"Security & Audit",titleKey:"security_audit",url:"/audit-logs",icon:ja,isActive:e=>e==="/audit-logs"}],wre=[{title:"Agency Dashboard",titleKey:"agency_dashboard",url:"/agency",icon:ey,isActive:e=>e==="/agency"},{title:"Client Management",titleKey:"client_management",url:"/clients",icon:rr,isActive:e=>e==="/clients"||e.startsWith("/client/")},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:Sr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:za,isActive:e=>e==="/analytics"},{title:"Team",titleKey:"team",url:"/team-management",icon:Rt,isActive:e=>e==="/team-management"},{title:"Billing",titleKey:"billing",url:"/billing",icon:ei,isActive:e=>e==="/billing"},{title:"Settings",titleKey:"settings",url:"/settings",icon:Cs,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],jre=[{title:"Dashboard",titleKey:"dashboard",url:"/dashboard",icon:ey,isActive:e=>e==="/dashboard"},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:Sr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"CRM",titleKey:"crm",url:"/crm",icon:Xx,isActive:e=>e==="/crm"},{title:"Appointments",titleKey:"appointments",url:"/appointments",icon:cs,isActive:e=>e==="/appointments"},{title:"All Calls",titleKey:"all_calls",url:"/all-calls",icon:A0,isActive:e=>e==="/all-calls"},{title:"Live Monitor",titleKey:"live_monitor",url:"/live-calls",icon:CY,isActive:e=>e==="/live-calls"},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:za,isActive:e=>e==="/analytics"},{title:"Cost Analytics",titleKey:"cost_analytics",url:"/cost-analytics",icon:Qr,isActive:e=>e==="/cost-analytics"},{title:"Team",titleKey:"team_management",url:"/team-management",icon:Rt,isActive:e=>e==="/team-management"},{title:"Organization",titleKey:"organization",url:"/organization-settings",icon:rr,isActive:e=>e==="/organization-settings",adminOnly:!0},{title:"Settings",titleKey:"settings",url:"/settings",icon:Cs,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],Nre=()=>{var m,h,f;const e=uc(),r=vr(),{userContext:s}=dl(),{addNotification:a,notifications:n}=Pm(),[i,o]=p.useState(!1),{user:l}=RS();p.useEffect(()=>{var b;const g=(b=l==null?void 0:l.primaryEmailAddress)==null?void 0:b.emailAddress,w=["/dashboard","/campaigns","/crm","/all-calls","/live-calls"].some(v=>e.pathname.startsWith(v));g==="sean@artificialmedia.co.uk"&&w&&(console.log(" Redirecting platform owner away from client path to /platform"),r("/platform",{replace:!0}))},[l,e.pathname,r]),p.useEffect(()=>{n.length===0&&(console.log(" Layout: Initializing demo notifications"),a({type:"success",title:"Campaign Performance Alert",message:"Summer Sale campaign exceeded target conversion rate by 15%! Great job on the optimization.",category:"campaigns",priority:"medium",source:"Campaign Engine",read:!1,action:{label:"View Campaign",href:"/campaigns"}}),a({type:"warning",title:"Low Credit Balance",message:"Apex credits running low. Current balance: 150 credits. Consider topping up.",category:"billing",priority:"high",source:"Billing System",read:!1,action:{label:"Add Credits",href:"/billing"}}),a({type:"info",title:"System Update Complete",message:"Platform has been updated to v2.1.3 with improved call quality and new analytics features.",category:"system",priority:"low",source:"System",read:!0}))},[n.length,a]);const d=p.useMemo(()=>{var y;const g=(y=s==null?void 0:s.role)==null?void 0:y.toLowerCase();switch(console.log(" Layout: Determining menu for role:",g),g){case"platform_owner":return bre;case"agency_owner":case"agency_admin":case"agency_user":return wre;case"client_admin":case"client_user":default:return jre}},[s==null?void 0:s.role]);return t.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>o(!1)}),t.jsxs("div",{className:`group relative transition-all duration-300 ease-in-out z-50 ${i?"fixed inset-y-0 left-0 w-[280px] md:relative md:w-16 md:hover:w-[280px]":"hidden md:block md:w-16 md:hover:w-[280px]"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-xl border-r border-cyan-400/10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-400/5 to-transparent pointer-events-none"}),t.jsxs("div",{className:"relative h-full flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-400 to-blue-500 shadow-lg shadow-cyan-400/20 flex-shrink-0",children:t.jsx(ws,{className:"h-6 w-6 text-black font-bold"})}),t.jsxs("div",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap overflow-hidden ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[t.jsx("h1",{className:"text-xl font-bold text-cyan-400 uppercase tracking-wider",children:"Apex AI"}),t.jsx("p",{className:"text-xs text-white/60",children:"Voice AI Platform"})]})]})}),t.jsx("div",{className:"flex-1 py-5",children:t.jsx("nav",{className:"space-y-1",children:d.map(g=>{if(g.adminOnly&&(s==null?void 0:s.role)!=="client_admin"&&(s==null?void 0:s.role)!=="platform_owner")return null;const y=g.isActive(e.pathname);return t.jsxs(cV,{to:g.url,onClick:()=>o(!1),className:`
                      nav-item flex items-center px-4 py-3.5 text-sm font-medium transition-all duration-300 
                      border-l-3 relative mx-2 rounded-lg
                      ${y?"bg-cyan-400/10 text-cyan-400 border-l-cyan-400":"text-white/70 border-l-transparent hover:bg-cyan-400/5 hover:text-cyan-400 hover:border-l-cyan-400/30"}
                    `,children:[y&&t.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-transparent via-cyan-400 to-transparent"}),t.jsx(g.icon,{className:`
                      h-5 w-5 flex-shrink-0 transition-all duration-300
                      ${y?"text-cyan-400":"text-white/60 group-hover:text-cyan-400"}
                    `}),t.jsx("span",{className:`ml-3 tracking-wide whitespace-nowrap overflow-hidden transition-opacity duration-300 ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:g.title}),g.badge&&t.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded-full animate-pulse opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.badge})]},g.title)})})}),t.jsx("div",{className:"p-4 border-t border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center font-semibold text-black text-sm flex-shrink-0",children:[((m=s==null?void 0:s.firstName)==null?void 0:m[0])||"U",((h=s==null?void 0:s.lastName)==null?void 0:h[0])||"U"]}),t.jsxs("div",{className:"ml-3 flex-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap overflow-hidden",children:[t.jsxs("div",{className:"text-sm font-semibold text-white",children:[(s==null?void 0:s.firstName)||"User"," ",(s==null?void 0:s.lastName)||""]}),t.jsx("div",{className:"text-xs text-white/60",children:((f=s==null?void 0:s.role)==null?void 0:f.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase()))||"User"})]})]})})]})]}),t.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-gray-900/50 via-black to-gray-900/50",children:[t.jsxs("header",{className:"h-[70px] bg-black/95 backdrop-blur-xl border-b border-cyan-400/10 flex items-center justify-between px-4 sm:px-6 lg:px-8 relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>o(!i),children:t.jsx(NY,{className:"h-5 w-5"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white tracking-wide",children:(()=>{const g=d.find(y=>y.isActive(e.pathname));return g?g.title:"Dashboard"})()})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-5",children:[t.jsx(vre,{}),t.jsx(Bee,{})]})]}),t.jsx("main",{className:"flex-1 overflow-auto bg-black",children:t.jsx(JW,{})})]})]})},Sre=1,Cre=1e6;let Rw=0;function kre(){return Rw=(Rw+1)%Number.MAX_SAFE_INTEGER,Rw.toString()}const Mw=new Map,ZA=e=>{if(Mw.has(e))return;const r=setTimeout(()=>{Mw.delete(e),sf({type:"REMOVE_TOAST",toastId:e})},Cre);Mw.set(e,r)},_re=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Sre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?ZA(s):e.toasts.forEach(a=>{ZA(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)}}},m0=[];let h0={toasts:[]};function sf(e){h0=_re(h0,e),m0.forEach(r=>{r(h0)})}function DD({...e}){const r=kre(),s=n=>sf({type:"UPDATE_TOAST",toast:{...n,id:r}}),a=()=>sf({type:"DISMISS_TOAST",toastId:r});return sf({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:n=>{n||a()}}}),{id:r,dismiss:a,update:s}}function Vr(){const[e,r]=p.useState(h0);return p.useEffect(()=>(m0.push(r),()=>{const s=m0.indexOf(r);s>-1&&m0.splice(s,1)}),[e]),{...e,toast:DD,dismiss:s=>sf({type:"DISMISS_TOAST",toastId:s})}}var LD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Pre="VisuallyHidden",xC=p.forwardRef((e,r)=>t.jsx(qe.span,{...e,ref:r,style:{...LD,...e.style}}));xC.displayName=Pre;var yC="ToastProvider",[vC,Are,Ere]=Uf("Toast"),[$D,gSe]=Gs("Toast",[Ere]),[Tre,fy]=$D(yC),zD=e=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,d]=p.useState(null),[m,h]=p.useState(0),f=p.useRef(!1),g=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${yC}\`. Expected non-empty \`string\`.`),t.jsx(vC.Provider,{scope:r,children:t.jsx(Tre,{scope:r,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:m,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};zD.displayName=yC;var FD="ToastViewport",Ore=["F8"],m1="toast.viewportPause",h1="toast.viewportResume",UD=p.forwardRef((e,r)=>{const{__scopeToast:s,hotkey:a=Ore,label:n="Notifications ({hotkey})",...i}=e,o=fy(FD,s),l=Are(s),d=p.useRef(null),m=p.useRef(null),h=p.useRef(null),f=p.useRef(null),g=mt(r,f,o.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const v=N=>{var S;a.length!==0&&a.every(_=>N[_]||N.code===_)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[a]),p.useEffect(()=>{const v=d.current,N=f.current;if(w&&v&&N){const C=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(m1);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(h1);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},_=A=>{!v.contains(A.relatedTarget)&&S()},E=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",C),v.addEventListener("focusout",_),v.addEventListener("pointermove",C),v.addEventListener("pointerleave",E),window.addEventListener("blur",C),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",C),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",C),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",C),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:v})=>{const C=l().map(S=>{const _=S.ref.current,E=[_,...Hre(_)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?C.reverse():C).flat()},[l]);return p.useEffect(()=>{const v=f.current;if(v){const N=C=>{var E,A,T;const S=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!S){const M=document.activeElement,z=C.shiftKey;if(C.target===v&&z){(E=m.current)==null||E.focus();return}const R=b({tabbingDirection:z?"backwards":"forwards"}),$=R.findIndex(B=>B===M);Iw(R.slice($+1))?C.preventDefault():z?(A=m.current)==null||A.focus():(T=h.current)==null||T.focus()}};return v.addEventListener("keydown",N),()=>v.removeEventListener("keydown",N)}},[l,b]),t.jsxs(LJ,{ref:d,role:"region","aria-label":n.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&t.jsx(f1,{ref:m,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"forwards"});Iw(v)}}),t.jsx(vC.Slot,{scope:s,children:t.jsx(qe.ol,{tabIndex:-1,...i,ref:g})}),w&&t.jsx(f1,{ref:h,onFocusFromOutsideViewport:()=>{const v=b({tabbingDirection:"backwards"});Iw(v)}})]})});UD.displayName=FD;var BD="ToastFocusProxy",f1=p.forwardRef((e,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=fy(BD,s);return t.jsx(xC,{"aria-hidden":!0,tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:o=>{var m;const l=o.relatedTarget;!((m=i.viewport)!=null&&m.contains(l))&&a()}})});f1.displayName=BD;var Xf="Toast",Rre="toast.swipeStart",Mre="toast.swipeMove",Ire="toast.swipeCancel",Dre="toast.swipeEnd",WD=p.forwardRef((e,r)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,d]=Ei({prop:a,defaultProp:n??!0,onChange:i,caller:Xf});return t.jsx(Sa,{present:s||l,children:t.jsx(zre,{open:l,...o,ref:r,onClose:()=>d(!1),onPause:es(e.onPause),onResume:es(e.onResume),onSwipeStart:Fe(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});WD.displayName=Xf;var[Lre,$re]=$D(Xf,{onClose(){}}),zre=p.forwardRef((e,r)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:m,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:y,...w}=e,b=fy(Xf,s),[v,N]=p.useState(null),C=mt(r,B=>N(B)),S=p.useRef(null),_=p.useRef(null),E=n||b.duration,A=p.useRef(0),T=p.useRef(E),M=p.useRef(0),{onToastAdd:z,onToastRemove:V}=b,O=es(()=>{var U;(v==null?void 0:v.contains(document.activeElement))&&((U=b.viewport)==null||U.focus()),o()}),R=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(M.current),A.current=new Date().getTime(),M.current=window.setTimeout(O,B))},[O]);p.useEffect(()=>{const B=b.viewport;if(B){const U=()=>{R(T.current),m==null||m()},te=()=>{const L=new Date().getTime()-A.current;T.current=T.current-L,window.clearTimeout(M.current),d==null||d()};return B.addEventListener(m1,te),B.addEventListener(h1,U),()=>{B.removeEventListener(m1,te),B.removeEventListener(h1,U)}}},[b.viewport,E,d,m,R]),p.useEffect(()=>{i&&!b.isClosePausedRef.current&&R(E)},[i,E,b.isClosePausedRef,R]),p.useEffect(()=>(z(),()=>V()),[z,V]);const $=p.useMemo(()=>v?JD(v):null,[v]);return b.viewport?t.jsxs(t.Fragment,{children:[$&&t.jsx(Fre,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),t.jsx(Lre,{scope:s,onClose:O,children:cc.createPortal(t.jsx(vC.ItemSlot,{scope:s,children:t.jsx(DJ,{asChild:!0,onEscapeKeyDown:Fe(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||O(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...w,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Fe(e.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:Fe(e.onPointerMove,B=>{if(!S.current)return;const U=B.clientX-S.current.x,te=B.clientY-S.current.y,L=!!_.current,F=["left","right"].includes(b.swipeDirection),q=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ee=F?q(0,U):0,W=F?0:q(0,te),Z=B.pointerType==="touch"?10:2,ve={x:ee,y:W},ne={originalEvent:B,delta:ve};L?(_.current=ve,Fg(Mre,f,ne,{discrete:!1})):eE(ve,b.swipeDirection,Z)?(_.current=ve,Fg(Rre,h,ne,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(U)>Z||Math.abs(te)>Z)&&(S.current=null)}),onPointerUp:Fe(e.onPointerUp,B=>{const U=_.current,te=B.target;if(te.hasPointerCapture(B.pointerId)&&te.releasePointerCapture(B.pointerId),_.current=null,S.current=null,U){const L=B.currentTarget,F={originalEvent:B,delta:U};eE(U,b.swipeDirection,b.swipeThreshold)?Fg(Dre,y,F,{discrete:!0}):Fg(Ire,g,F,{discrete:!0}),L.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Fre=e=>{const{__scopeToast:r,children:s,...a}=e,n=fy(Xf,r),[i,o]=p.useState(!1),[l,d]=p.useState(!1);return Wre(()=>o(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:t.jsx(Hf,{asChild:!0,children:t.jsx(xC,{...a,children:i&&t.jsxs(t.Fragment,{children:[n.label," ",s]})})})},Ure="ToastTitle",VD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(qe.div,{...a,ref:r})});VD.displayName=Ure;var Bre="ToastDescription",HD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(qe.div,{...a,ref:r})});HD.displayName=Bre;var qD="ToastAction",KD=p.forwardRef((e,r)=>{const{altText:s,...a}=e;return s.trim()?t.jsx(YD,{altText:s,asChild:!0,children:t.jsx(bC,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${qD}\`. Expected non-empty \`string\`.`),null)});KD.displayName=qD;var GD="ToastClose",bC=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e,n=$re(GD,s);return t.jsx(YD,{asChild:!0,children:t.jsx(qe.button,{type:"button",...a,ref:r,onClick:Fe(e.onClick,n.onClose)})})});bC.displayName=GD;var YD=p.forwardRef((e,r)=>{const{__scopeToast:s,altText:a,...n}=e;return t.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:r})});function JD(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),Vre(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...JD(a))}}),r}function Fg(e,r,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?WS(n,i):n.dispatchEvent(i)}var eE=(e,r,s=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return r==="left"||r==="right"?i&&a>s:!i&&n>s};function Wre(e=()=>{}){const r=es(e);us(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function Vre(e){return e.nodeType===e.ELEMENT_NODE}function Hre(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Iw(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var qre=zD,XD=UD,QD=WD,ZD=VD,eL=HD,tL=KD,rL=bC;const Kre=qre,sL=p.forwardRef(({className:e,...r},s)=>t.jsx(XD,{ref:s,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));sL.displayName=XD.displayName;const Gre=Ff("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),aL=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx(QD,{ref:a,className:$e(Gre({variant:r}),e),...s}));aL.displayName=QD.displayName;const Yre=p.forwardRef(({className:e,...r},s)=>t.jsx(tL,{ref:s,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",e),...r}));Yre.displayName=tL.displayName;const nL=p.forwardRef(({className:e,...r},s)=>t.jsx(rL,{ref:s,className:$e("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...r,children:t.jsx(At,{className:"h-4 w-4"})}));nL.displayName=rL.displayName;const iL=p.forwardRef(({className:e,...r},s)=>t.jsx(ZD,{ref:s,className:$e("text-sm font-semibold [&+div]:text-xs",e),...r}));iL.displayName=ZD.displayName;const oL=p.forwardRef(({className:e,...r},s)=>t.jsx(eL,{ref:s,className:$e("text-sm opacity-90",e),...r}));oL.displayName=eL.displayName;function Jre(){const{toasts:e}=Vr();return t.jsxs(Kre,{children:[e.map(function({id:r,title:s,description:a,action:n,...i}){return t.jsxs(aL,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(iL,{children:s}),a&&t.jsx(oL,{children:a})]}),n,t.jsx(nL,{})]},r)}),t.jsx(sL,{})]})}var Dw={},Lw={},tE;function Xre(){return tE||(tE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r}(Lw)),Lw}var $w={},rE;function lL(){return rE||(rE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r}($w)),$w}var zw={},sE;function cL(){return sE||(sE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r}(zw)),zw}var Fw={},aE;function wC(){return aE||(aE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){const a=[],n=s.length;if(n===0)return a;let i=0,o="",l="",d=!1;for(s.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const m=s[i];l?m==="\\"&&i+1<n?(i++,o+=s[i]):m===l?l="":o+=m:d?m==='"'||m==="'"?l=m:m==="]"?(d=!1,a.push(o),o=""):o+=m:m==="["?(d=!0,o&&(a.push(o),o="")):m==="."?o&&(a.push(o),o=""):o+=m,i++}return o&&a.push(o),a}e.toPath=r}(Fw)),Fw}var nE;function jC(){return nE||(nE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Xre(),s=lL(),a=cL(),n=wC();function i(l,d,m){if(l==null)return m;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?s.isDeepKey(d)?i(l,n.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const h=l[d];return h===void 0?m:h}default:{if(Array.isArray(d))return o(l,d,m);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?m:h}}}function o(l,d,m){if(d.length===0)return m;let h=l;for(let f=0;f<d.length;f++){if(h==null||r.isUnsafeProperty(d[f]))return m;h=h[d[f]]}return h===void 0?m:h}e.get=i}(Dw)),Dw}var Uw,iE;function Qre(){return iE||(iE=1,Uw=jC().get),Uw}var Zre=Qre();const Sd=ai(Zre);var Bw={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function ese(){if(oE)return cr;oE=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case e:switch(v=v.type,v){case s:case n:case a:case m:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case d:case g:case f:case i:return v;default:return N}}case r:return N}}}return cr.ContextConsumer=o,cr.ContextProvider=i,cr.Element=e,cr.ForwardRef=d,cr.Fragment=s,cr.Lazy=g,cr.Memo=f,cr.Portal=r,cr.Profiler=n,cr.StrictMode=a,cr.Suspense=m,cr.SuspenseList=h,cr.isAsyncMode=function(){return!1},cr.isConcurrentMode=function(){return!1},cr.isContextConsumer=function(v){return b(v)===o},cr.isContextProvider=function(v){return b(v)===i},cr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},cr.isForwardRef=function(v){return b(v)===d},cr.isFragment=function(v){return b(v)===s},cr.isLazy=function(v){return b(v)===g},cr.isMemo=function(v){return b(v)===f},cr.isPortal=function(v){return b(v)===r},cr.isProfiler=function(v){return b(v)===n},cr.isStrictMode=function(v){return b(v)===a},cr.isSuspense=function(v){return b(v)===m},cr.isSuspenseList=function(v){return b(v)===h},cr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===s||v===n||v===a||v===m||v===h||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===d||v.$$typeof===w||v.getModuleId!==void 0)},cr.typeOf=b,cr}var lE;function tse(){return lE||(lE=1,Bw.exports=ese()),Bw.exports}var rse=tse(),Ks=e=>e===0?0:e>0?1:-1,nn=e=>typeof e=="number"&&e!=+e,rd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,st=e=>(typeof e=="number"||e instanceof Number)&&!nn(e),co=e=>st(e)||typeof e=="string",sse=0,yf=e=>{var r=++sse;return"".concat(e||"").concat(r)},wa=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(r)&&typeof r!="string")return a;var i;if(rd(r)){if(s==null)return a;var o=r.indexOf("%");i=s*parseFloat(r.slice(0,o))/100}else i=+r;return nn(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},dL=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1};function pr(e,r,s){return st(e)&&st(r)?e+s*(r-e):r}function uL(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):Sd(a,r))===s)}var Rr=e=>e===null||typeof e>"u",Qf=e=>Rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ase=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NC(e){if(typeof e!="string")return!1;var r=ase;return r.includes(e)}var nse=["viewBox","children"],cE=["points","pathLength"],Ww={svg:nse,polygon:cE,polyline:cE},SC=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(p.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{NC(n)&&(a[n]=i=>s[n](s,i))}),a},ise=(e,r,s)=>a=>(e(r,s,a),null),py=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];NC(n)&&typeof i=="function"&&(a||(a={}),a[n]=ise(i,r,s))}),a},ose=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mL(e){if(typeof e!="string")return!1;var r=ose;return r.includes(e)}function Li(e){var r=Object.entries(e).filter(s=>{var[a]=s;return mL(a)});return Object.fromEntries(r)}var dE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",uE=null,Vw=null,hL=e=>{if(e===uE&&Array.isArray(Vw))return Vw;var r=[];return p.Children.forEach(e,s=>{Rr(s)||(rse.isFragment(s)?r=r.concat(hL(s.props.children)):r.push(s))}),Vw=r,uE=e,r};function CC(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>dE(n)):a=[dE(r)],hL(e).forEach(n=>{var i=Sd(n,"type.displayName")||Sd(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}var gy=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,lse=(e,r,s,a)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=a&&(Ww==null?void 0:Ww[a]))!==null&&n!==void 0?n:[],o=r.startsWith("data-"),l=typeof e!="function"&&(!!a&&i.includes(r)||mL(r)),d=!!s&&NC(r);return o||l||d},Cr=(e,r,s)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var o;lse((o=a)===null||o===void 0?void 0:o[i],i,r,s)&&(n[i]=a[i])}),n},cse=["children","width","height","viewBox","className","style","title","desc"];function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},p1.apply(null,arguments)}function dse(e,r){if(e==null)return{};var s,a,n=use(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function use(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var fL=p.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:o,style:l,title:d,desc:m}=e,h=dse(e,cse),f=i||{width:a,height:n,x:0,y:0},g=Qt("recharts-surface",o);return p.createElement("svg",p1({},Cr(h,!0,"svg"),{className:g,width:a,height:n,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:r}),p.createElement("title",null,d),p.createElement("desc",null,m),s)}),mse=["children","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},g1.apply(null,arguments)}function hse(e,r){if(e==null)return{};var s,a,n=fse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var rs=p.forwardRef((e,r)=>{var{children:s,className:a}=e,n=hse(e,mse),i=Qt("recharts-layer",a);return p.createElement("g",g1({className:i},Cr(n,!0),{ref:r}),s)}),pse=p.createContext(null);function Nr(e){return function(){return e}}const pL=Math.cos,H0=Math.sin,$i=Math.sqrt,q0=Math.PI,xy=2*q0,x1=Math.PI,y1=2*x1,Qc=1e-6,gse=y1-Qc;function gL(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function xse(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return gL;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class yse{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?gL:xse(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,o){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-r,m=n-s,h=o-r,f=l-s,g=h*h+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(g>Qc)if(!(Math.abs(f*d-m*h)>Qc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let y=a-o,w=n-l,b=d*d+m*m,v=y*y+w*w,N=Math.sqrt(b),C=Math.sqrt(g),S=i*Math.tan((x1-Math.acos((b+g-v)/(2*N*C)))/2),_=S/C,E=S/N;Math.abs(_-1)>Qc&&this._append`L${r+_*h},${s+_*f}`,this._append`A${i},${i},0,0,${+(f*y>h*w)},${this._x1=r+E*d},${this._y1=s+E*m}`}}arc(r,s,a,n,i,o){if(r=+r,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),d=a*Math.sin(n),m=r+l,h=s+d,f=1^o,g=o?n-i:i-n;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Qc||Math.abs(this._y1-h)>Qc)&&this._append`L${m},${h}`,a&&(g<0&&(g=g%y1+y1),g>gse?this._append`A${a},${a},0,1,${f},${r-l},${s-d}A${a},${a},0,1,${f},${this._x1=m},${this._y1=h}`:g>Qc&&this._append`A${a},${a},0,${+(g>=x1)},${f},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function kC(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new yse(r)}function _C(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xL(e){this._context=e}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function yy(e){return new xL(e)}function yL(e){return e[0]}function vL(e){return e[1]}function bL(e,r){var s=Nr(!0),a=null,n=yy,i=null,o=kC(l);e=typeof e=="function"?e:e===void 0?yL:Nr(e),r=typeof r=="function"?r:r===void 0?vL:Nr(r);function l(d){var m,h=(d=_C(d)).length,f,g=!1,y;for(a==null&&(i=n(y=o())),m=0;m<=h;++m)!(m<h&&s(f=d[m],m,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,m,d),+r(f,m,d));if(y)return i=null,y+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Nr(+d),l):e},l.y=function(d){return arguments.length?(r=typeof d=="function"?d:Nr(+d),l):r},l.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Nr(!!d),l):s},l.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),l):n},l.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),l):a},l}function Ug(e,r,s){var a=null,n=Nr(!0),i=null,o=yy,l=null,d=kC(m);e=typeof e=="function"?e:e===void 0?yL:Nr(+e),r=typeof r=="function"?r:Nr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?vL:Nr(+s);function m(f){var g,y,w,b=(f=_C(f)).length,v,N=!1,C,S=new Array(b),_=new Array(b);for(i==null&&(l=o(C=d())),g=0;g<=b;++g){if(!(g<b&&n(v=f[g],g,f))===N)if(N=!N)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=y;--w)l.point(S[w],_[w]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+e(v,g,f),_[g]=+r(v,g,f),l.point(a?+a(v,g,f):S[g],s?+s(v,g,f):_[g]))}if(C)return l=null,C+""||null}function h(){return bL().defined(n).curve(o).context(i)}return m.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),a=null,m):e},m.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),m):e},m.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Nr(+f),m):a},m.y=function(f){return arguments.length?(r=typeof f=="function"?f:Nr(+f),s=null,m):r},m.y0=function(f){return arguments.length?(r=typeof f=="function"?f:Nr(+f),m):r},m.y1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Nr(+f),m):s},m.lineX0=m.lineY0=function(){return h().x(e).y(r)},m.lineY1=function(){return h().x(e).y(s)},m.lineX1=function(){return h().x(a).y(r)},m.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Nr(!!f),m):n},m.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),m):o},m.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),m):i},m}class wL{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function vse(e){return new wL(e,!0)}function bse(e){return new wL(e,!1)}const PC={draw(e,r){const s=$i(r/q0);e.moveTo(s,0),e.arc(0,0,s,0,xy)}},wse={draw(e,r){const s=$i(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},jL=$i(1/3),jse=jL*2,Nse={draw(e,r){const s=$i(r/jse),a=s*jL;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},Sse={draw(e,r){const s=$i(r),a=-s/2;e.rect(a,a,s,s)}},Cse=.8908130915292852,NL=H0(q0/10)/H0(7*q0/10),kse=H0(xy/10)*NL,_se=-pL(xy/10)*NL,Pse={draw(e,r){const s=$i(r*Cse),a=kse*s,n=_se*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const o=xy*i/5,l=pL(o),d=H0(o);e.lineTo(d*s,-l*s),e.lineTo(l*a-d*n,d*a+l*n)}e.closePath()}},Hw=$i(3),Ase={draw(e,r){const s=-$i(r/(Hw*3));e.moveTo(0,s*2),e.lineTo(-Hw*s,-s),e.lineTo(Hw*s,-s),e.closePath()}},$n=-.5,zn=$i(3)/2,v1=1/$i(12),Ese=(v1/2+1)*3,Tse={draw(e,r){const s=$i(r/Ese),a=s/2,n=s*v1,i=a,o=s*v1+s,l=-i,d=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,d),e.lineTo($n*a-zn*n,zn*a+$n*n),e.lineTo($n*i-zn*o,zn*i+$n*o),e.lineTo($n*l-zn*d,zn*l+$n*d),e.lineTo($n*a+zn*n,$n*n-zn*a),e.lineTo($n*i+zn*o,$n*o-zn*i),e.lineTo($n*l+zn*d,$n*d-zn*l),e.closePath()}};function Ose(e,r){let s=null,a=kC(n);e=typeof e=="function"?e:Nr(e||PC),r=typeof r=="function"?r:Nr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Nr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function K0(){}function G0(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function SL(e){this._context=e}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Rse(e){return new SL(e)}function CL(e){this._context=e}CL.prototype={areaStart:K0,areaEnd:K0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:G0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Mse(e){return new CL(e)}function kL(e){this._context=e}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:G0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Ise(e){return new kL(e)}function _L(e){this._context=e}_L.prototype={areaStart:K0,areaEnd:K0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function Dse(e){return new _L(e)}function mE(e){return e<0?-1:1}function hE(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(s-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(mE(i)+mE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function fE(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function qw(e,r,s){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*r,i-l,o-l*s,i,o)}function Y0(e){this._context=e}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qw(this,this._t0,fE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,qw(this,fE(this,s=hE(this,e,r)),s);break;default:qw(this,this._t0,s=hE(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function PL(e){this._context=new AL(e)}(PL.prototype=Object.create(Y0.prototype)).point=function(e,r){Y0.prototype.point.call(this,r,e)};function AL(e){this._context=e}AL.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function Lse(e){return new Y0(e)}function $se(e){return new PL(e)}function EL(e){this._context=e}EL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=pE(e),n=pE(r),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],r[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function pE(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(n[s-1]=o[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function zse(e){return new EL(e)}function vy(e,r){this._context=e,this._t=r}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function Fse(e){return new vy(e,.5)}function Use(e){return new vy(e,0)}function Bse(e){return new vy(e,1)}function lm(e,r){if((o=e.length)>1)for(var s=1,a,n,i=e[r[0]],o,l=i.length;s<o;++s)for(n=i,i=e[r[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function b1(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Wse(e,r){return e[r]}function Vse(e){const r=[];return r.key=e,r}function Hse(){var e=Nr([]),r=b1,s=lm,a=Wse;function n(i){var o=Array.from(e.apply(this,arguments),Vse),l,d=o.length,m=-1,h;for(const f of i)for(l=0,++m;l<d;++l)(o[l][m]=[0,+a(f,o[l].key,m,i)]).data=f;for(l=0,h=_C(r(o));l<d;++l)o[h[l]].index=l;return s(o,h),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Nr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?b1:typeof i=="function"?i:Nr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??lm,n):s},n}function qse(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<a;++s)e[s][n][1]/=o}lm(e,r)}}function Kse(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}lm(e,r)}}function Gse(e,r){if(!(!((o=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,d=0,m=0;l<o;++l){for(var h=e[r[l]],f=h[a][1]||0,g=h[a-1][1]||0,y=(f-g)/2,w=0;w<l;++w){var b=e[r[w]],v=b[a][1]||0,N=b[a-1][1]||0;y+=v-N}d+=f,m+=y*f}n[a-1][1]+=n[a-1][0]=s,d&&(s-=m/d)}n[a-1][1]+=n[a-1][0]=s,lm(e,r)}}var Yse=["type","size","sizeType"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},w1.apply(null,arguments)}function gE(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xE(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gE(Object(s),!0).forEach(function(a){Jse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Jse(e,r,s){return(r=Xse(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Xse(e){var r=Qse(e,"string");return typeof r=="symbol"?r:r+""}function Qse(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Zse(e,r){if(e==null)return{};var s,a,n=eae(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eae(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var TL={symbolCircle:PC,symbolCross:wse,symbolDiamond:Nse,symbolSquare:Sse,symbolStar:Pse,symbolTriangle:Ase,symbolWye:Tse},tae=Math.PI/180,rae=e=>{var r="symbol".concat(Qf(e));return TL[r]||PC},sae=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*tae;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aae=(e,r)=>{TL["symbol".concat(Qf(e))]=r},OL=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=Zse(e,Yse),i=xE(xE({},n),{},{type:r,size:s,sizeType:a}),o="circle";typeof r=="string"&&(o=r);var l=()=>{var g=rae(o),y=Ose().type(g).size(sae(s,a,o));return y()},{className:d,cx:m,cy:h}=i,f=Cr(i,!0);return m===+m&&h===+h&&s===+s?p.createElement("path",w1({},f,{className:Qt("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(h,")"),d:l()})):null};OL.registerSymbol=aae;var Kw={},Gw={},yE;function nae(){return yE||(yE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const o=s[i],l=a(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}e.uniqBy=r}(Gw)),Gw}var Yw={},vE;function RL(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r}(Yw)),Yw}var Jw={},Xw={},Qw={},bE;function iae(){return bE||(bE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r}(Qw)),Qw}var wE;function AC(){return wE||(wE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=iae();function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s}(Xw)),Xw}var Zw={},jE;function oae(){return jE||(jE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r}(Zw)),Zw}var NE;function lae(){return NE||(NE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=AC(),s=oae();function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a}(Jw)),Jw}var ej={},tj={},SE;function cae(){return SE||(SE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=jC();function s(a){return function(n){return r.get(n,a)}}e.property=s}(tj)),tj}var rj={},sj={},aj={},nj={},CE;function ML(){return CE||(CE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r}(nj)),nj}var ij={},kE;function IL(){return kE||(kE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r}(ij)),ij}var oj={},_E;function DL(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r}(oj)),oj}var PE;function dae(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=EC(),s=ML(),a=IL(),n=DL();function i(f,g,y){return typeof y!="function"?r.isMatch(f,g):o(f,g,function w(b,v,N,C,S,_){const E=y(b,v,N,C,S,_);return E!==void 0?!!E:o(b,v,w,_)},new Map)}function o(f,g,y,w){if(g===f)return!0;switch(typeof g){case"object":return l(f,g,y,w);case"function":return Object.keys(g).length>0?o(f,{...g},y,w):n.eq(f,g);default:return s.isObject(f)?typeof g=="string"?g==="":!0:n.eq(f,g)}}function l(f,g,y,w){if(g==null)return!0;if(Array.isArray(g))return m(f,g,y,w);if(g instanceof Map)return d(f,g,y,w);if(g instanceof Set)return h(f,g,y,w);const b=Object.keys(g);if(f==null)return b.length===0;if(b.length===0)return!0;if(w&&w.has(g))return w.get(g)===f;w&&w.set(g,f);try{for(let v=0;v<b.length;v++){const N=b[v];if(!a.isPrimitive(f)&&!(N in f)||g[N]===void 0&&f[N]!==void 0||g[N]===null&&f[N]!==null||!y(f[N],g[N],N,f,g,w))return!1}return!0}finally{w&&w.delete(g)}}function d(f,g,y,w){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,v]of g.entries()){const N=f.get(b);if(y(N,v,b,f,g,w)===!1)return!1}return!0}function m(f,g,y,w){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let v=0;v<g.length;v++){const N=g[v];let C=!1;for(let S=0;S<f.length;S++){if(b.has(S))continue;const _=f[S];let E=!1;if(y(_,N,v,f,g,w)&&(E=!0),E){b.add(S),C=!0;break}}if(!C)return!1}return!0}function h(f,g,y,w){return g.size===0?!0:f instanceof Set?m([...f],[...g],y,w):!1}e.isMatchWith=i,e.isSetMatch=h}(aj)),aj}var AE;function EC(){return AE||(AE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=dae();function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s}(sj)),sj}var lj={},cj={},dj={},EE;function uae(){return EE||(EE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r}(dj)),dj}var uj={},TE;function LL(){return TE||(TE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r}(uj)),uj}var mj={},OE;function $L(){return OE||(OE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",f="[object Function]",g="[object ArrayBuffer]",y="[object Object]",w="[object Error]",b="[object DataView]",v="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",M="[object BigInt64Array]",z="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=_,e.booleanTag=n,e.dataViewTag=b,e.dateTag=l,e.errorTag=w,e.float32ArrayTag=z,e.float64ArrayTag=V,e.functionTag=f,e.int16ArrayTag=A,e.int32ArrayTag=T,e.int8ArrayTag=E,e.mapTag=d,e.numberTag=a,e.objectTag=y,e.regexpTag=r,e.setTag=m,e.stringTag=s,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=S,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=N}(mj)),mj}var hj={},RE;function mae(){return RE||(RE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r}(hj)),hj}var ME;function zL(){return ME||(ME=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=uae(),s=LL(),a=$L(),n=IL(),i=mae();function o(h,f){return l(h,void 0,h,new Map,f)}function l(h,f,g,y=new Map,w=void 0){const b=w==null?void 0:w(h,f,g,y);if(b!==void 0)return b;if(n.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const v=new Array(h.length);y.set(h,v);for(let N=0;N<h.length;N++)v[N]=l(h[N],N,g,y,w);return Object.hasOwn(h,"index")&&(v.index=h.index),Object.hasOwn(h,"input")&&(v.input=h.input),v}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const v=new RegExp(h.source,h.flags);return v.lastIndex=h.lastIndex,v}if(h instanceof Map){const v=new Map;y.set(h,v);for(const[N,C]of h)v.set(N,l(C,N,g,y,w));return v}if(h instanceof Set){const v=new Set;y.set(h,v);for(const N of h)v.add(l(N,void 0,g,y,w));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const v=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,v);for(let N=0;N<h.length;N++)v[N]=l(h[N],N,g,y,w);return v}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const v=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,v),d(v,h,g,y,w),v}if(typeof File<"u"&&h instanceof File){const v=new File([h],h.name,{type:h.type});return y.set(h,v),d(v,h,g,y,w),v}if(h instanceof Blob){const v=new Blob([h],{type:h.type});return y.set(h,v),d(v,h,g,y,w),v}if(h instanceof Error){const v=new h.constructor;return y.set(h,v),v.message=h.message,v.name=h.name,v.stack=h.stack,v.cause=h.cause,d(v,h,g,y,w),v}if(typeof h=="object"&&m(h)){const v=Object.create(Object.getPrototypeOf(h));return y.set(h,v),d(v,h,g,y,w),v}return h}function d(h,f,g=h,y,w){const b=[...Object.keys(f),...r.getSymbols(f)];for(let v=0;v<b.length;v++){const N=b[v],C=Object.getOwnPropertyDescriptor(h,N);(C==null||C.writable)&&(h[N]=l(f[N],N,g,y,w))}}function m(h){switch(s.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d}(cj)),cj}var IE;function hae(){return IE||(IE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zL();function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s}(lj)),lj}var DE;function fae(){return DE||(DE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=EC(),s=hae();function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a}(rj)),rj}var fj={},pj={},gj={},LE;function pae(){return LE||(LE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zL(),s=$L();function a(n,i){return r.cloneDeepWith(n,(o,l,d,m)=>{const h=i==null?void 0:i(o,l,d,m);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const f=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(f,n),f}case s.argumentsTag:{const f={};return r.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a}(gj)),gj}var $E;function gae(){return $E||($E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=pae();function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s}(pj)),pj}var xj={},yj={},zE;function FL(){return zE||(zE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s}(yj)),yj}var vj={},FE;function xae(){return FE||(FE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=LL();function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s}(vj)),vj}var UE;function yae(){return UE||(UE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=lL(),s=FL(),a=xae(),n=wC();function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&r.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=n.toPath(l):d=[l],d.length===0)return!1;let m=o;for(let h=0;h<d.length;h++){const f=d[h];if((m==null||!Object.hasOwn(m,f))&&!((Array.isArray(m)||a.isArguments(m))&&s.isIndex(f)&&f<m.length))return!1;m=m[f]}return!0}e.has=i}(xj)),xj}var BE;function vae(){return BE||(BE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=EC(),s=cL(),a=gae(),n=jC(),i=yae();function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=s.toKey(l);break}}return d=a.cloneDeep(d),function(m){const h=n.get(m,l);return h===void 0?i.has(m,l):d===void 0?h===void 0:r.isMatch(h,d)}}e.matchesProperty=o}(fj)),fj}var WE;function bae(){return WE||(WE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=RL(),s=cae(),a=fae(),n=vae();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return s.property(o)}}e.iteratee=i}(ej)),ej}var VE;function wae(){return VE||(VE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=nae(),s=RL(),a=lae(),n=bae();function i(o,l=s.identity){return a.isArrayLikeObject(o)?r.uniqBy(Array.from(o),n.iteratee(l)):[]}e.uniqBy=i}(Kw)),Kw}var bj,HE;function jae(){return HE||(HE=1,bj=wae().uniqBy),bj}var Nae=jae();const qE=ai(Nae);function Sae(e,r,s){return r===!0?qE(e,s):typeof r=="function"?qE(e,r):e}var wj={exports:{}},jj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function Cae(){if(KE)return jj;KE=1;var e=ym(),r=K3();function s(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:s,n=r.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return jj.useSyncExternalStoreWithSelector=function(m,h,f,g,y){var w=i(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=l(function(){function N(A){if(!C){if(C=!0,S=A,A=g(A),y!==void 0&&b.hasValue){var T=b.value;if(y(T,A))return _=T}return _=A}if(T=_,a(S,A))return T;var M=g(A);return y!==void 0&&y(T,M)?(S=A,T):(S=A,_=M)}var C=!1,S,_,E=f===void 0?null:f;return[function(){return N(h())},E===null?void 0:function(){return N(E())}]},[h,f,g,y]);var v=n(m,w[0],w[1]);return o(function(){b.hasValue=!0,b.value=v},[v]),d(v),v},jj}var GE;function kae(){return GE||(GE=1,wj.exports=Cae()),wj.exports}var _ae=kae(),TC=p.createContext(null),Pae=e=>e,ms=()=>{var e=p.useContext(TC);return e?e.store.dispatch:Pae},f0=()=>{},Aae=()=>f0,Eae=(e,r)=>e===r;function at(e){var r=p.useContext(TC);return _ae.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:Aae,r?r.store.getState:f0,r?r.store.getState:f0,r?e:f0,Eae)}function Tae(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function Oae(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function Rae(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var YE=e=>Array.isArray(e)?e:[e];function Mae(e){const r=Array.isArray(e[0])?e[0]:e;return Rae(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function Iae(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var Dae=class{constructor(e){this.value=e}deref(){return this.value}},Lae=typeof WeakRef<"u"?WeakRef:Dae,$ae=0,JE=1;function Bg(){return{s:$ae,v:void 0,o:null,p:null}}function UL(e,r={}){let s=Bg();const{resultEqualityCheck:a}=r;let n,i=0;function o(){var f;let l=s;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const v=b.get(w);v===void 0?(l=Bg(),b.set(w,l)):l=v}else{let b=l.p;b===null&&(l.p=b=new Map);const v=b.get(w);v===void 0?(l=Bg(),b.set(w,l)):l=v}}const m=l;let h;if(l.s===JE)h=l.v;else if(h=e.apply(null,arguments),i++,a){const g=((f=n==null?void 0:n.deref)==null?void 0:f.call(n))??n;g!=null&&a(g,h)&&(h=g,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new Lae(h):h}return m.s=JE,m.v=h,h}return o.clearCache=()=>{s=Bg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function zae(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,o=0,l,d={},m=n.pop();typeof m=="object"&&(d=m,m=n.pop()),Tae(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...s,...d},{memoize:f,memoizeOptions:g=[],argsMemoize:y=UL,argsMemoizeOptions:w=[]}=h,b=YE(g),v=YE(w),N=Mae(n),C=f(function(){return i++,m.apply(null,arguments)},...b),S=y(function(){o++;const E=Iae(N,arguments);return l=C.apply(null,E),l},...v);return Object.assign(S,{resultFunc:m,memoizedResultFunc:C,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var ge=zae(UL),Fae=Object.assign((e,r=ge)=>{Oae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((o,l,d)=>(o[s[d]]=l,o),{}))},{withTypes:()=>Fae}),Nj={},Sj={},Cj={},XE;function Uae(){return XE||(XE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const o=r(a),l=r(n);if(o===l&&o===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=s}(Cj)),Cj}var kj={},_j={},QE;function BL(){return QE||(QE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r}(_j)),_j}var ZE;function Bae(){return ZE||(ZE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=BL(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=n}(kj)),kj}var eT;function Wae(){return eT||(eT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Uae(),s=Bae(),a=wC();function n(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const m=(y,w)=>{let b=y;for(let v=0;v<w.length&&b!=null;++v)b=b[w[v]];return b},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:m(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?m(w,y):typeof w=="object"?w[y]:w,f=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||s.isKey(y)?y:{key:y,path:a.toPath(y)}));return i.map(y=>({original:y,criteria:f.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let b=0;b<f.length;b++){const v=r.compareValues(y.criteria[b],w.criteria[b],l[b]);if(v!==0)return v}return 0}).map(y=>y.original)}e.orderBy=n}(Sj)),Sj}var Pj={},tT;function Vae(){return tT||(tT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),o=(l,d)=>{for(let m=0;m<l.length;m++){const h=l[m];Array.isArray(h)&&d<i?o(h,d+1):n.push(h)}};return o(s,0),n}e.flatten=r}(Pj)),Pj}var Aj={},rT;function WL(){return rT||(rT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=FL(),s=AC(),a=ML(),n=DL();function i(o,l,d){return a.isObject(d)&&(typeof l=="number"&&s.isArrayLike(d)&&r.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?n.eq(d[l],o):!1}e.isIterateeCall=i}(Aj)),Aj}var sT;function Hae(){return sT||(sT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Wae(),s=Vae(),a=WL();function n(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,s.flatten(o),["asc"])}e.sortBy=n}(Nj)),Nj}var Ej,aT;function qae(){return aT||(aT=1,Ej=Hae().sortBy),Ej}var Kae=qae();const by=ai(Kae);var VL=e=>e.legend.settings,Gae=e=>e.legend.size,Yae=e=>e.legend.payload;ge([Yae,VL],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?by(a,s):a});var Wg=1;function Jae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>Wg||Math.abs(o.left-r.left)>Wg||Math.abs(o.top-r.top)>Wg||Math.abs(o.width-r.width)>Wg)&&s({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function ta(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xae=typeof Symbol=="function"&&Symbol.observable||"@@observable",nT=Xae,Tj=()=>Math.random().toString(36).substring(7).split("").join("."),Qae={INIT:`@@redux/INIT${Tj()}`,REPLACE:`@@redux/REPLACE${Tj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tj()}`},J0=Qae;function OC(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function HL(e,r,s){if(typeof e!="function")throw new Error(ta(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(ta(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(ta(1));return s(HL)(e,r)}let a=e,n=r,i=new Map,o=i,l=0,d=!1;function m(){o===i&&(o=new Map,i.forEach((v,N)=>{o.set(N,v)}))}function h(){if(d)throw new Error(ta(3));return n}function f(v){if(typeof v!="function")throw new Error(ta(4));if(d)throw new Error(ta(5));let N=!0;m();const C=l++;return o.set(C,v),function(){if(N){if(d)throw new Error(ta(6));N=!1,m(),o.delete(C),i=null}}}function g(v){if(!OC(v))throw new Error(ta(7));if(typeof v.type>"u")throw new Error(ta(8));if(typeof v.type!="string")throw new Error(ta(17));if(d)throw new Error(ta(9));try{d=!0,n=a(n,v)}finally{d=!1}return(i=o).forEach(C=>{C()}),v}function y(v){if(typeof v!="function")throw new Error(ta(10));a=v,g({type:J0.REPLACE})}function w(){const v=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(ta(11));function C(){const _=N;_.next&&_.next(h())}return C(),{unsubscribe:v(C)}},[nT](){return this}}}return g({type:J0.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:y,[nT]:w}}function Zae(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:J0.INIT})>"u")throw new Error(ta(12));if(typeof s(void 0,{type:J0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ta(13))})}function qL(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const o=r[i];typeof e[o]=="function"&&(s[o]=e[o])}const a=Object.keys(s);let n;try{Zae(s)}catch(i){n=i}return function(o={},l){if(n)throw n;let d=!1;const m={};for(let h=0;h<a.length;h++){const f=a[h],g=s[f],y=o[f],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(ta(14));m[f]=w,d=d||w!==y}return d=d||a.length!==Object.keys(o).length,d?m:o}}function X0(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function ene(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(ta(15))};const o={getState:n.getState,dispatch:(d,...m)=>i(d,...m)},l=e.map(d=>d(o));return i=X0(...l)(n.dispatch),{...n,dispatch:i}}}function KL(e){return OC(e)&&"type"in e&&typeof e.type=="string"}var GL=Symbol.for("immer-nothing"),iT=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function Ni(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cm=Object.getPrototypeOf;function Cd(e){return!!e&&!!e[Sn]}function sl(e){var r;return e?YL(e)||Array.isArray(e)||!!e[iT]||!!((r=e.constructor)!=null&&r[iT])||jy(e)||Ny(e):!1}var tne=Object.prototype.constructor.toString();function YL(e){if(!e||typeof e!="object")return!1;const r=cm(e);if(r===null)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===tne}function Q0(e,r){wy(e)===0?Reflect.ownKeys(e).forEach(s=>{r(s,e[s],e)}):e.forEach((s,a)=>r(a,s,e))}function wy(e){const r=e[Sn];return r?r.type_:Array.isArray(e)?1:jy(e)?2:Ny(e)?3:0}function j1(e,r){return wy(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function JL(e,r,s){const a=wy(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function rne(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function jy(e){return e instanceof Map}function Ny(e){return e instanceof Set}function Zc(e){return e.copy_||e.base_}function N1(e,r){if(jy(e))return new Map(e);if(Ny(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=YL(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[Sn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const o=n[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(cm(e),a)}else{const a=cm(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function RC(e,r=!1){return Sy(e)||Cd(e)||!sl(e)||(wy(e)>1&&(e.set=e.add=e.clear=e.delete=sne),Object.freeze(e),r&&Object.entries(e).forEach(([s,a])=>RC(a,!0))),e}function sne(){Ni(2)}function Sy(e){return Object.isFrozen(e)}var ane={};function kd(e){const r=ane[e];return r||Ni(0,e),r}var vf;function XL(){return vf}function nne(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oT(e,r){r&&(kd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function S1(e){C1(e),e.drafts_.forEach(ine),e.drafts_=null}function C1(e){e===vf&&(vf=e.parent_)}function lT(e){return vf=nne(vf,e)}function ine(e){const r=e[Sn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function cT(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[Sn].modified_&&(S1(r),Ni(4)),sl(e)&&(e=Z0(r,e),r.parent_||ex(r,e)),r.patches_&&kd("Patches").generateReplacementPatches_(s[Sn].base_,e,r.patches_,r.inversePatches_)):e=Z0(r,s,[]),S1(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==GL?e:void 0}function Z0(e,r,s){if(Sy(r))return r;const a=r[Sn];if(!a)return Q0(r,(n,i)=>dT(e,a,r,n,i,s)),r;if(a.scope_!==e)return r;if(!a.modified_)return ex(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,o=!1;a.type_===3&&(i=new Set(n),n.clear(),o=!0),Q0(i,(l,d)=>dT(e,a,n,l,d,s,o)),ex(e,n,!1),s&&e.patches_&&kd("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function dT(e,r,s,a,n,i,o){if(Cd(n)){const l=i&&r&&r.type_!==3&&!j1(r.assigned_,a)?i.concat(a):void 0,d=Z0(e,n,l);if(JL(s,a,d),Cd(d))e.canAutoFreeze_=!1;else return}else o&&s.add(n);if(sl(n)&&!Sy(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Z0(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,a)&&ex(e,n)}}function ex(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&RC(r,s)}function one(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:XL(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=MC;s&&(n=[a],i=bf);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=o,l}var MC={get(e,r){if(r===Sn)return e;const s=Zc(e);if(!j1(s,r))return lne(e,s,r);const a=s[r];return e.finalized_||!sl(a)?a:a===Oj(e.base_,r)?(Rj(e),e.copy_[r]=_1(a,e)):a},has(e,r){return r in Zc(e)},ownKeys(e){return Reflect.ownKeys(Zc(e))},set(e,r,s){const a=QL(Zc(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=Oj(Zc(e),r),i=n==null?void 0:n[Sn];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(rne(s,n)&&(s!==void 0||j1(e.base_,r)))return!0;Rj(e),k1(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return Oj(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,Rj(e),k1(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Zc(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){Ni(11)},getPrototypeOf(e){return cm(e.base_)},setPrototypeOf(){Ni(12)}},bf={};Q0(MC,(e,r)=>{bf[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});bf.deleteProperty=function(e,r){return bf.set.call(this,e,r,void 0)};bf.set=function(e,r,s){return MC.set.call(this,e[0],r,s,e[0])};function Oj(e,r){const s=e[Sn];return(s?Zc(s):e)[r]}function lne(e,r,s){var n;const a=QL(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function QL(e,r){if(!(r in e))return;let s=cm(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=cm(s)}}function k1(e){e.modified_||(e.modified_=!0,e.parent_&&k1(e.parent_))}function Rj(e){e.copy_||(e.copy_=N1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const o=this;return function(d=i,...m){return o.produce(d,h=>s.call(this,h,...m))}}typeof s!="function"&&Ni(6),a!==void 0&&typeof a!="function"&&Ni(7);let n;if(sl(r)){const i=lT(this),o=_1(r,void 0);let l=!0;try{n=s(o),l=!1}finally{l?S1(i):C1(i)}return oT(i,a),cT(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===GL&&(n=void 0),this.autoFreeze_&&RC(n,!0),a){const i=[],o=[];kd("Patches").generateReplacementPatches_(r,n,i,o),a(i,o)}return n}else Ni(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(o,...l)=>this.produceWithPatches(o,d=>r(d,...l));let a,n;return[this.produce(r,s,(o,l)=>{a=o,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){sl(e)||Ni(8),Cd(e)&&(e=Jo(e));const r=lT(this),s=_1(e,void 0);return s[Sn].isManual_=!0,C1(r),s}finishDraft(e,r){const s=e&&e[Sn];(!s||!s.isManual_)&&Ni(9);const{scope_:a}=s;return oT(a,r),cT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=kd("Patches").applyPatches_;return Cd(e)?a(e,r):this.produce(e,n=>a(n,r))}};function _1(e,r){const s=jy(e)?kd("MapSet").proxyMap_(e,r):Ny(e)?kd("MapSet").proxySet_(e,r):one(e,r);return(r?r.scope_:XL()).drafts_.push(s),s}function Jo(e){return Cd(e)||Ni(10,e),ZL(e)}function ZL(e){if(!sl(e)||Sy(e))return e;const r=e[Sn];let s;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=N1(e,r.scope_.immer_.useStrictShallowCopy_)}else s=N1(e,!0);return Q0(s,(a,n)=>{JL(s,a,ZL(n))}),r&&(r.finalized_=!1),s}var Cn=new cne,e6=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseStrictShallowCopy.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function t6(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var dne=t6(),une=t6,mne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?X0:X0.apply(null,arguments)};function ri(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(jn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>KL(a)&&a.type===e,s}var r6=class Yh extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Yh.prototype)}static get[Symbol.species](){return Yh}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Yh(...r[0].concat(this)):new Yh(...r.concat(this))}};function uT(e){return sl(e)?e6(e,()=>{}):e}function Vg(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function hne(e){return typeof e=="boolean"}var fne=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let o=new r6;return s&&(hne(s)?o.push(dne):o.push(une(s.extraArgument))),o},pne="RTK_autoBatch",mT=e=>r=>{setTimeout(r,e)},gne=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mT(10):e.type==="callback"?e.queueNotification:mT(e.timeout),m=()=>{o=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const f=()=>n&&h(),g=a.subscribe(f);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var f;try{return n=!((f=h==null?void 0:h.meta)!=null&&f[pne]),i=!n,i&&(o||(o=!0,d(m))),a.dispatch(h)}finally{n=!0}}})},xne=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new r6(e);return a&&n.push(gne(typeof a=="object"?a:void 0)),n};function yne(e){const r=fne(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof s=="function")l=s;else if(OC(s))l=qL(s);else throw new Error(jn(1));let d;typeof a=="function"?d=a(r):d=r();let m=X0;n&&(m=mne({trace:!1,...typeof n=="object"&&n}));const h=ene(...d),f=xne(h);let g=typeof o=="function"?o(f):f();const y=m(...g);return HL(l,i,y)}function s6(e){const r={},s=[];let a;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(jn(28));if(l in r)throw new Error(jn(29));return r[l]=o,n},addAsyncThunk(i,o){return o.pending&&(r[i.pending.type]=o.pending),o.rejected&&(r[i.rejected.type]=o.rejected),o.fulfilled&&(r[i.fulfilled.type]=o.fulfilled),o.settled&&s.push({matcher:i.settled,reducer:o.settled}),n},addMatcher(i,o){return s.push({matcher:i,reducer:o}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}function vne(e){return typeof e=="function"}function bne(e,r){let[s,a,n]=s6(r),i;if(vne(e))i=()=>uT(e());else{const l=uT(e);i=()=>l}function o(l=i(),d){let m=[s[d.type],...a.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[n]),m.reduce((h,f)=>{if(f)if(Cd(h)){const y=f(h,d);return y===void 0?h:y}else{if(sl(h))return e6(h,g=>f(g,d));{const g=f(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return o.getInitialState=i,o}var wne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jne=(e=21)=>{let r="",s=e;for(;s--;)r+=wne[Math.random()*64|0];return r},Nne=Symbol.for("rtk-slice-createasyncthunk");function Sne(e,r){return`${e}/${r}`}function Cne({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[Nne];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(jn(11));const l=(typeof n.reducers=="function"?n.reducers(_ne()):n.reducers)||{},d=Object.keys(l),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(_,E){const A=typeof _=="string"?_:_.type;if(!A)throw new Error(jn(12));if(A in m.sliceCaseReducersByType)throw new Error(jn(13));return m.sliceCaseReducersByType[A]=E,h},addMatcher(_,E){return m.sliceMatchers.push({matcher:_,reducer:E}),h},exposeAction(_,E){return m.actionCreators[_]=E,h},exposeCaseReducer(_,E){return m.sliceCaseReducersByName[_]=E,h}};d.forEach(_=>{const E=l[_],A={reducerName:_,type:Sne(i,_),createNotation:typeof n.reducers=="function"};Ane(E)?Tne(A,E,h,r):Pne(A,E,h)});function f(){const[_={},E=[],A=void 0]=typeof n.extraReducers=="function"?s6(n.extraReducers):[n.extraReducers],T={..._,...m.sliceCaseReducersByType};return bne(n.initialState,M=>{for(let z in T)M.addCase(z,T[z]);for(let z of m.sliceMatchers)M.addMatcher(z.matcher,z.reducer);for(let z of E)M.addMatcher(z.matcher,z.reducer);A&&M.addDefaultCase(A)})}const g=_=>_,y=new Map,w=new WeakMap;let b;function v(_,E){return b||(b=f()),b(_,E)}function N(){return b||(b=f()),b.getInitialState()}function C(_,E=!1){function A(M){let z=M[_];return typeof z>"u"&&E&&(z=Vg(w,A,N)),z}function T(M=g){const z=Vg(y,E,()=>new WeakMap);return Vg(z,M,()=>{const V={};for(const[O,R]of Object.entries(n.selectors??{}))V[O]=kne(R,M,()=>Vg(w,M,N),E);return V})}return{reducerPath:_,getSelectors:T,get selectors(){return T(A)},selectSlice:A}}const S={name:i,reducer:v,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...C(o),injectInto(_,{reducerPath:E,...A}={}){const T=E??o;return _.inject({reducerPath:T,reducer:v},A),{...S,...C(T,!0)}}};return S}}function kne(e,r,s,a){function n(i,...o){let l=r(i);return typeof l>"u"&&a&&(l=s()),e(l,...o)}return n.unwrapped=e,n}var Pn=Cne();function _ne(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function Pne({type:e,reducerName:r,createNotation:s},a,n){let i,o;if("reducer"in a){if(s&&!Ene(a))throw new Error(jn(17));i=a.reducer,o=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,o?ri(e,o):ri(e))}function Ane(e){return e._reducerDefinitionType==="asyncThunk"}function Ene(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Tne({type:e,reducerName:r},s,a,n){if(!n)throw new Error(jn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:m,options:h}=s,f=n(e,i,h);a.exposeAction(r,f),o&&a.addCase(f.fulfilled,o),l&&a.addCase(f.pending,l),d&&a.addCase(f.rejected,d),m&&a.addMatcher(f.settled,m),a.exposeCaseReducer(r,{fulfilled:o||Hg,pending:l||Hg,rejected:d||Hg,settled:m||Hg})}function Hg(){}var One="task",a6="listener",n6="completed",IC="cancelled",Rne=`task-${IC}`,Mne=`task-${n6}`,P1=`${a6}-${IC}`,Ine=`${a6}-${n6}`,Cy=class{constructor(e){Es(this,"name","TaskAbortError");Es(this,"message");this.code=e,this.message=`${One} ${IC} (reason: ${e})`}},DC=(e,r)=>{if(typeof e!="function")throw new TypeError(jn(32))},tx=()=>{},i6=(e,r=tx)=>(e.catch(r),e),o6=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),cd=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},dd=e=>{if(e.aborted){const{reason:r}=e;throw new Cy(r)}};function l6(e,r){let s=tx;return new Promise((a,n)=>{const i=()=>n(new Cy(e.reason));if(e.aborted){i();return}s=o6(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=tx})}var Dne=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof Cy?"cancelled":"rejected",error:s}}finally{r==null||r()}},rx=e=>r=>i6(l6(e,r).then(s=>(dd(e),s))),c6=e=>{const r=rx(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Ju}=Object,hT={},ky="listenerMiddleware",Lne=(e,r)=>{const s=a=>o6(e,()=>cd(a,e.reason));return(a,n)=>{DC(a);const i=new AbortController;s(i);const o=Dne(async()=>{dd(e),dd(i.signal);const l=await a({pause:rx(i.signal),delay:c6(i.signal),signal:i.signal});return dd(i.signal),l},()=>cd(i,Mne));return n!=null&&n.autoJoin&&r.push(o.catch(tx)),{result:rx(e)(o),cancel(){cd(i,Rne)}}}},$ne=(e,r)=>{const s=async(a,n)=>{dd(r);let i=()=>{};const l=[new Promise((d,m)=>{let h=e({predicate:a,effect:(f,g)=>{g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}});i=()=>{h(),m()}})];n!=null&&l.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await l6(r,Promise.race(l));return dd(r),d}finally{i()}};return(a,n)=>i6(s(a,n))},d6=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=ri(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(jn(21));return DC(i),{predicate:n,type:r,effect:i}},u6=Ju(e=>{const{type:r,predicate:s,effect:a}=d6(e);return{id:jne(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(jn(22))}}},{withTypes:()=>u6}),fT=(e,r)=>{const{type:s,effect:a,predicate:n}=d6(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},A1=e=>{e.pending.forEach(r=>{cd(r,P1)})},zne=e=>()=>{e.forEach(A1),e.clear()},pT=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},m6=Ju(ri(`${ky}/add`),{withTypes:()=>m6}),Fne=ri(`${ky}/removeAll`),h6=Ju(ri(`${ky}/remove`),{withTypes:()=>h6}),Une=(...e)=>{console.error(`${ky}/error`,...e)},Zf=(e={})=>{const r=new Map,{extra:s,onError:a=Une}=e;DC(a);const n=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),f=>{h.unsubscribe(),f!=null&&f.cancelActive&&A1(h)}),i=h=>{const f=fT(r,h)??u6(h);return n(f)};Ju(i,{withTypes:()=>i});const o=h=>{const f=fT(r,h);return f&&(f.unsubscribe(),h.cancelActive&&A1(f)),!!f};Ju(o,{withTypes:()=>o});const l=async(h,f,g,y)=>{const w=new AbortController,b=$ne(i,w.signal),v=[];try{h.pending.add(w),await Promise.resolve(h.effect(f,Ju({},g,{getOriginalState:y,condition:(N,C)=>b(N,C).then(Boolean),take:b,delay:c6(w.signal),pause:rx(w.signal),extra:s,signal:w.signal,fork:Lne(w.signal,v),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,C,S)=>{N!==w&&(cd(N,P1),S.delete(N))})},cancel:()=>{cd(w,P1),h.pending.delete(w)},throwIfCancelled:()=>{dd(w.signal)}})))}catch(N){N instanceof Cy||pT(a,N,{raisedBy:"effect"})}finally{await Promise.all(v),cd(w,Ine),h.pending.delete(w)}},d=zne(r);return{middleware:h=>f=>g=>{if(!KL(g))return f(g);if(m6.match(g))return i(g.payload);if(Fne.match(g)){d();return}if(h6.match(g))return o(g.payload);let y=h.getState();const w=()=>{if(y===hT)throw new Error(jn(23));return y};let b;try{if(b=f(g),r.size>0){const v=h.getState(),N=Array.from(r.values());for(const C of N){let S=!1;try{S=C.predicate(g,v,y)}catch(_){S=!1,pT(a,_,{raisedBy:"predicate"})}S&&l(C,g,h,w)}}}finally{y=hT}return b},startListening:i,stopListening:o,clearListeners:d}};function jn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Bne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},f6=Pn({name:"chartLayout",initialState:Bne,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var s,a,n,i;e.margin.top=(s=r.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=r.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=r.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:Wne,setLayout:Vne,setChartSize:Hne,setScale:qne}=f6.actions,Kne=f6.reducer;function gT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gT(Object(s),!0).forEach(function(a){Gne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gne(e,r,s){return(r=Yne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Yne(e){var r=Jne(e,"string");return typeof r=="symbol"?r:r+""}function Jne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sx=Math.PI/180,Xne=e=>e*180/Math.PI,js=(e,r,s,a)=>({x:e+Math.cos(-sx*a)*s,y:r+Math.sin(-sx*a)*s}),p6=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Qne=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},Zne=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,o=Qne({x:s,y:a},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(s-n)/o,d=Math.acos(l);return a>i&&(d=2*Math.PI-d),{radius:o,angle:Xne(d),angleInRadian:d}},eie=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},tie=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return e+o*360},rie=(e,r)=>{var{x:s,y:a}=e,{radius:n,angle:i}=Zne({x:s,y:a},r),{innerRadius:o,outerRadius:l}=r;if(n<o||n>l||n===0)return null;var{startAngle:d,endAngle:m}=eie(r),h=i,f;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;f=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;f=h>=m&&h<=d}return f?xT(xT({},r),{},{radius:n,angle:tie(h,r)}):null};function g6(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function yT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Wn(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yT(Object(s),!0).forEach(function(a){sie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sie(e,r,s){return(r=aie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function aie(e){var r=nie(e,"string");return typeof r=="symbol"?r:r+""}function nie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function fr(e,r,s){return Rr(e)||Rr(r)?s:co(r)?Sd(e,r,s):typeof r=="function"?r(e):s}var iie=(e,r,s,a,n)=>{var i,o=-1,l=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<l;d++){var m=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Ks(h-m)!==Ks(f-h)){var y=[];if(Ks(f-h)===Ks(n[1]-n[0])){g=f;var w=h+n[1]-n[0];y[0]=Math.min(w,(w+m)/2),y[1]=Math.max(w,(w+m)/2)}else{g=m;var b=f+n[1]-n[0];y[0]=Math.min(h,(b+h)/2),y[1]=Math.max(h,(b+h)/2)}var v=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){({index:o}=s[d]);break}}else{var N=Math.min(m,f),C=Math.max(m,f);if(e>(N+h)/2&&e<=(C+h)/2){({index:o}=s[d]);break}}}else if(r){for(var S=0;S<l;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){({index:o}=r[S]);break}}return o},oie=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:o,layout:l}=r;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&st(e[i]))return Wn(Wn({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&st(e[o]))return Wn(Wn({},e),{},{[o]:e[o]+(n||0)})}return e},wo=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",x6=(e,r,s,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,o=e.map(l=>(l.coordinate===r&&(n=!0),l.coordinate===s&&(i=!0),l.coordinate));return n||o.push(r),i||o.push(s),o},y6=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:m,tickCount:h,ticks:f,niceTicks:g,axisType:y}=e;if(!o)return null;var w=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=n==="category"&&o.bandwidth?o.bandwidth()/w:0;if(b=y==="angleAxis"&&i&&i.length>=2?Ks(i[0]-i[1])*2*b:b,f||g){var v=(f||g||[]).map((N,C)=>{var S=a?a.indexOf(N):N;return{coordinate:o(S)+b,value:N,offset:b,index:C}});return v.filter(N=>!nn(N.coordinate))}return d&&m?m.map((N,C)=>({coordinate:o(N)+b,value:N,index:C,offset:b})):o.ticks&&h!=null?o.ticks(h).map((N,C)=>({coordinate:o(N)+b,value:N,offset:b,index:C})):o.domain().map((N,C)=>({coordinate:o(N)+b,value:a?a[N]:N,index:C,offset:b}))},vT=1e-4,lie=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-vT,i=Math.max(a[0],a[1])+vT,o=e(r[0]),l=e(r[s-1]);(o<n||o>i||l<n||l>i)&&e.domain([r[0],r[s-1]])}},cie=(e,r)=>{if(!r||r.length!==2||!st(r[0])||!st(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!st(e[0])||e[0]<s)&&(n[0]=s),(!st(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},die=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,o=0;o<r;++o){var l=nn(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=n,e[o][s][1]=n+l,n=e[o][s][1]):(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1])}},uie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var o=nn(e[i][s][1])?e[i][s][0]:e[i][s][1];o>=0?(e[i][s][0]=n,e[i][s][1]=n+o,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},mie={sign:die,expand:qse,none:lm,silhouette:Kse,wiggle:Gse,positive:uie},hie=(e,r,s)=>{var a=mie[s],n=Hse().keys(r).value((i,o)=>+fr(i,o,0)).order(b1).offset(a);return n(e)};function v6(e){return e==null?void 0:String(e)}function ax(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:o}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Rr(n[r.dataKey])){var l=uL(s,"value",n[r.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=fr(n,Rr(o)?r.dataKey:o);return Rr(d)?null:r.scale(d)}var bT=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:o}=e;if(r.type==="category")return s[o]?s[o].coordinate+a:null;var l=fr(i,r.dataKey,r.scale.domain()[o]);return Rr(l)?null:r.scale(l)-n/2+a},fie=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},pie=e=>{var r=e.flat(2).filter(st);return[Math.min(...r),Math.max(...r)]},gie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xie=(e,r,s)=>{if(e!=null)return gie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:o}=i,l=o.reduce((d,m)=>{var h=g6(m,r,s),f=pie(h);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},wT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_d=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=by(r,h=>h.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var d=n[o],m=n[o-1];i=Math.min((d.coordinate||0)-(m.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function NT(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return Wn(Wn({},r),{},{dataKey:s,payload:a,value:n,name:i})}function hc(e,r){if(e)return String(e);if(typeof r=="string")return r}function yie(e,r,s,a,n){if(s==="horizontal"||s==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:e,y:r}:null}return a?rie({x:e,y:r},a):null}var vie=(e,r,s,a)=>{var n=r.find(m=>m&&m.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:o}=a;return Wn(Wn(Wn({},a),js(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:d}=a;return Wn(Wn(Wn({},a),js(a.cx,a.cy,l,d)),{},{angle:d,radius:l})}return{x:0,y:0}},bie=(e,r)=>r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius,ul=e=>e.layout.width,ml=e=>e.layout.height,wie=e=>e.layout.scale,b6=e=>e.layout.margin,_y=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Py=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),w6="data-recharts-item-index",j6="data-recharts-item-data-key",ep=60;function ST(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ST(Object(s),!0).forEach(function(a){jie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ST(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function jie(e,r,s){return(r=Nie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Nie(e){var r=Sie(e,"string");return typeof r=="symbol"?r:r+""}function Sie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Cie=e=>e.brush.height;function kie(e){var r=Py(e);return r.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:ep;return s+n}return s},0)}function _ie(e){var r=Py(e);return r.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:ep;return s+n}return s},0)}function Pie(e){var r=_y(e);return r.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function Aie(e){var r=_y(e);return r.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var Is=ge([ul,ml,b6,Cie,kie,_ie,Pie,Aie,VL,Gae],(e,r,s,a,n,i,o,l,d,m)=>{var h={left:(s.left||0)+n,right:(s.right||0)+i},f={top:(s.top||0)+o,bottom:(s.bottom||0)+l},g=qg(qg({},f),h),y=g.bottom;g.bottom+=a,g=oie(g,d,m);var w=e-g.left-g.right,b=r-g.top-g.bottom;return qg(qg({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(b,0)})}),Eie=ge(Is,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),LC=ge(ul,ml,(e,r)=>({x:0,y:0,width:e,height:r})),Tie=p.createContext(null),Ca=()=>p.useContext(Tie)!=null,Ay=e=>e.brush,Ey=ge([Ay,Is,b6],(e,r,s)=>({height:e.height,x:st(e.x)?e.x:r.left,y:st(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:st(e.width)?e.width:r.width})),$C=()=>{var e,r=Ca(),s=at(Eie),a=at(Ey),n=(e=at(Ay))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},Oie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},N6=()=>{var e;return(e=at(Is))!==null&&e!==void 0?e:Oie},S6=()=>at(ul),C6=()=>at(ml),Vt=e=>e.layout.layoutType,tp=()=>at(Vt),Rie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k6=Pn({name:"legend",initialState:Rie,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload(e,r){e.payload.push(r.payload)},removeLegendPayload(e,r){var s=Jo(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)}}}),{setLegendSize:xSe,setLegendSettings:ySe,addLegendPayload:_6,removeLegendPayload:P6}=k6.actions,Mie=k6.reducer;function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},E1.apply(null,arguments)}function CT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Mj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?CT(Object(s),!0).forEach(function(a){Iie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Iie(e,r,s){return(r=Die(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Die(e){var r=Lie(e,"string");return typeof r=="symbol"?r:r+""}function Lie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $ie(e){return Array.isArray(e)&&co(e[0])&&co(e[1])?e.join(" ~ "):e}var zie=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:f,accessibilityLayer:g=!1}=e,y=()=>{if(i&&i.length){var E={padding:0,margin:0},A=(l?by(i,l):i).map((T,M)=>{if(T.type==="none")return null;var z=T.formatter||o||$ie,{value:V,name:O}=T,R=V,$=O;if(z){var B=z(V,O,T,M,i);if(Array.isArray(B))[R,$]=B;else if(B!=null)R=B;else return null}var U=Mj({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:U},co($)?p.createElement("span",{className:"recharts-tooltip-item-name"},$):null,co($)?p.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,p.createElement("span",{className:"recharts-tooltip-item-value"},R),p.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:E},A)}return null},w=Mj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Mj({margin:0},n),v=!Rr(h),N=v?h:"",C=Qt("recharts-default-tooltip",d),S=Qt("recharts-tooltip-label",m);v&&f&&i!==void 0&&i!==null&&(N=f(h,i));var _=g?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",E1({className:C,style:w},_),p.createElement("p",{className:S,style:b},p.isValidElement(N)?N:"".concat(N)),y())},Ph="recharts-tooltip-wrapper",Fie={visibility:"hidden"};function Uie(e){var{coordinate:r,translateX:s,translateY:a}=e;return Qt(Ph,{["".concat(Ph,"-right")]:st(s)&&r&&st(r.x)&&s>=r.x,["".concat(Ph,"-left")]:st(s)&&r&&st(r.x)&&s<r.x,["".concat(Ph,"-bottom")]:st(a)&&r&&st(r.y)&&a>=r.y,["".concat(Ph,"-top")]:st(a)&&r&&st(r.y)&&a<r.y})}function kT(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:m}=e;if(i&&st(i[a]))return i[a];var h=s[a]-l-(n>0?n:0),f=s[a]+n;if(r[a])return o[a]?h:f;var g=d[a];if(g==null)return 0;if(o[a]){var y=h,w=g;return y<w?Math.max(f,g):Math.max(h,g)}if(m==null)return 0;var b=f+l,v=g+m;return b>v?Math.max(h,g):Math.max(f,g)}function Bie(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function Wie(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,m,h,f;return o.height>0&&o.width>0&&s?(h=kT({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=kT({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),m=Bie({translateX:h,translateY:f,useTranslate3d:l})):m=Fie,{cssProperties:m,cssClasses:Uie({translateX:h,translateY:f,coordinate:s})}}function _T(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Kg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_T(Object(s),!0).forEach(function(a){T1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_T(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function T1(e,r,s){return(r=Vie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Vie(e){var r=Hie(e,"string");return typeof r=="symbol"?r:r+""}function Hie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class qie extends p.PureComponent{constructor(){super(...arguments),T1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),T1(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:m,position:h,reverseDirection:f,useTranslate3d:g,viewBox:y,wrapperStyle:w,lastBoundingBox:b,innerRef:v,hasPortalFromProps:N}=this.props,{cssClasses:C,cssProperties:S}=Wie({allowEscapeViewBox:s,coordinate:o,offsetTopLeft:m,position:h,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:y}),_=N?{}:Kg(Kg({transition:d&&r?"transform ".concat(a,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0}),E=Kg(Kg({},_),{},{visibility:!this.state.dismissed&&r&&l?"visible":"hidden"},w);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:E,ref:v},i)}}var Kie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fc={isSsr:Kie()},A6=()=>at(e=>e.rootProps.accessibilityLayer);function ia(e){return Number.isFinite(e)}function dm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},O1.apply(null,arguments)}function PT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function AT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PT(Object(s),!0).forEach(function(a){Gie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gie(e,r,s){return(r=Yie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Yie(e){var r=Jie(e,"string");return typeof r=="symbol"?r:r+""}function Jie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ET={curveBasisClosed:Mse,curveBasisOpen:Ise,curveBasis:Rse,curveBumpX:vse,curveBumpY:bse,curveLinearClosed:Dse,curveLinear:yy,curveMonotoneX:Lse,curveMonotoneY:$se,curveNatural:zse,curveStep:Fse,curveStepAfter:Bse,curveStepBefore:Use},Gg=e=>ia(e.x)&&ia(e.y),Ah=e=>e.x,Eh=e=>e.y,Xie=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(Qf(e));return(s==="curveMonotone"||s==="curveBump")&&r?ET["".concat(s).concat(r==="vertical"?"Y":"X")]:ET[s]||yy},Qie=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,o=Xie(r,n),l=i?s.filter(Gg):s,d;if(Array.isArray(a)){var m=i?a.filter(f=>Gg(f)):a,h=l.map((f,g)=>AT(AT({},f),{},{base:m[g]}));return n==="vertical"?d=Ug().y(Eh).x1(Ah).x0(f=>f.base.x):d=Ug().x(Ah).y1(Eh).y0(f=>f.base.y),d.defined(Gg).curve(o),d(h)}return n==="vertical"&&st(a)?d=Ug().y(Eh).x1(Ah).x0(a):st(a)?d=Ug().x(Ah).y1(Eh).y0(a):d=bL().x(Ah).y(Eh),d.defined(Gg).curve(o),d(l)},Xu=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?Qie(e):a;return p.createElement("path",O1({},Li(e),SC(e),{className:Qt("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Zie=["x","y","top","left","width","height","className"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R1.apply(null,arguments)}function TT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function eoe(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TT(Object(s),!0).forEach(function(a){toe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function toe(e,r,s){return(r=roe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function roe(e){var r=soe(e,"string");return typeof r=="symbol"?r:r+""}function soe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function aoe(e,r){if(e==null)return{};var s,a,n=noe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function noe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ioe=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),ooe=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:o=0,className:l}=e,d=aoe(e,Zie),m=eoe({x:r,y:s,top:a,left:n,width:i,height:o},d);return!st(r)||!st(s)||!st(i)||!st(o)||!st(a)||!st(n)?null:p.createElement("path",R1({},Cr(m,!0),{className:Qt("recharts-cross",l),d:ioe(r,s,i,o,a,n)}))};function loe(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function OT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function coe(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OT(Object(s),!0).forEach(function(a){doe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function doe(e,r,s){return(r=uoe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function uoe(e){var r=moe(e,"string");return typeof r=="symbol"?r:r+""}function moe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ka(e,r){var s=coe({},e),a=r,n=Object.keys(r),i=n.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),s);return i}function hoe(){}function RT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function MT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?RT(Object(s),!0).forEach(function(a){foe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function foe(e,r,s){return(r=poe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function poe(e){var r=goe(e,"string");return typeof r=="symbol"?r:r+""}function goe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xoe=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),E6=(e,r,s)=>e.map(a=>"".concat(xoe(a)," ").concat(r,"ms ").concat(s)).join(","),yoe=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),wf=(e,r)=>Object.keys(r).reduce((s,a)=>MT(MT({},s),{},{[a]:e(a,r[a])}),{});function IT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ra(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IT(Object(s),!0).forEach(function(a){voe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function voe(e,r,s){return(r=boe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function boe(e){var r=woe(e,"string");return typeof r=="symbol"?r:r+""}function woe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var nx=(e,r,s)=>e+(r-e)*s,M1=e=>{var{from:r,to:s}=e;return r!==s},T6=(e,r,s)=>{var a=wf((n,i)=>{if(M1(i)){var[o,l]=e(i.from,i.to,i.velocity);return ra(ra({},i),{},{from:o,velocity:l})}return i},r);return s<1?wf((n,i)=>M1(i)?ra(ra({},i),{},{velocity:nx(i.velocity,a[n].velocity,s),from:nx(i.from,a[n].from,s)}):i,r):T6(e,a,s-1)};function joe(e,r,s,a,n,i){var o,l=a.reduce((g,y)=>ra(ra({},g),{},{[y]:{from:e[y],velocity:0,to:r[y]}}),{}),d=()=>wf((g,y)=>y.from,l),m=()=>!Object.values(l).filter(M1).length,h=null,f=g=>{o||(o=g);var y=g-o,w=y/s.dt;l=T6(s,l,w),n(ra(ra(ra({},e),r),d())),o=g,m()||(h=i.setTimeout(f))};return()=>(h=i.setTimeout(f),()=>{h()})}function Noe(e,r,s,a,n,i,o){var l=null,d=n.reduce((f,g)=>ra(ra({},f),{},{[g]:[e[g],r[g]]}),{}),m,h=f=>{m||(m=f);var g=(f-m)/a,y=wf((b,v)=>nx(...v,s(g)),d);if(i(ra(ra(ra({},e),r),y)),g<1)l=o.setTimeout(h);else{var w=wf((b,v)=>nx(...v,s(1)),d);i(ra(ra(ra({},e),r),w))}};return()=>(l=o.setTimeout(h),()=>{l()})}const Soe=(e,r,s,a,n,i)=>{var o=yoe(e,r);return s.isStepper===!0?joe(e,r,s,o,n,i):Noe(e,r,s,a,o,n,i)};var ix=1e-4,O6=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],R6=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),DT=(e,r)=>s=>{var a=O6(e,r);return R6(a,s)},Coe=(e,r)=>s=>{var a=O6(e,r),n=[...a.map((i,o)=>i*o).slice(1),0];return R6(n,s)},LT=function(){for(var r,s,a,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[r,a,s,n]=[0,0,1,1];break;case"ease":[r,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[r,a,s,n]=[.42,0,1,1];break;case"ease-out":[r,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[r,a,s,n]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([r,a,s,n]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([r,a,s,n]=o);var m=DT(r,s),h=DT(a,n),f=Coe(r,s),g=w=>w>1?1:w<0?0:w,y=w=>{for(var b=w>1?1:w,v=b,N=0;N<8;++N){var C=m(v)-b,S=f(v);if(Math.abs(C-b)<ix||S<ix)return h(v);v=g(v-C/S)}return h(v)};return y.isStepper=!1,y},koe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(o,l,d)=>{var m=-(o-l)*s,h=d*a,f=d+(m-h)*n/1e3,g=d*n/1e3+o;return Math.abs(g-l)<ix&&Math.abs(f)<ix?[l,0]:[g,f]};return i.isStepper=!0,i.dt=n,i},_oe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LT(e);case"spring":return koe();default:if(e.split("(")[0]==="cubic-bezier")return LT(e)}return typeof e=="function"?e:null};function Poe(e){var r,s=()=>null,a=!1,n=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...m]=l;if(typeof d=="number"){n=e.setTimeout(i.bind(null,m),d);return}i(d),n=e.setTimeout(i.bind(null,m));return}typeof o=="string"&&(r=o,s(r)),typeof o=="object"&&(r=o,s(r)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,n&&(n(),n=null),i(o)},subscribe:o=>(s=o,()=>{s=()=>null}),getTimeoutController:()=>e}}class Aoe{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=o=>{o-a>=s?r(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function Eoe(){return Poe(new Aoe)}var Toe=p.createContext(Eoe);function Ooe(e,r){var s=p.useContext(Toe);return p.useMemo(()=>r??s(e),[e,r,s])}var Roe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$T={t:0},Ij={t:1};function Am(e){var r=ka(e,Roe),{isActive:s,canBegin:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:m}=r,h=Ooe(r.animationId,r.animationManager),[f,g]=p.useState(s?$T:Ij),y=p.useRef(null);return p.useEffect(()=>{s||g(Ij)},[s]),p.useEffect(()=>{if(!s||!a)return hoe;var w=Soe($T,Ij,_oe(i),n,g,h.getTimeoutController()),b=()=>{y.current=w()};return h.start([d,o,b,n,l]),()=>{h.stop(),y.current&&y.current(),l()}},[s,a,n,i,o,d,l,h]),m(f.t)}function Em(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=p.useRef(yf(r)),a=p.useRef(e);return a.current!==e&&(s.current=yf(r),a.current=e),s.current}function zT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function FT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?zT(Object(s),!0).forEach(function(a){Moe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Moe(e,r,s){return(r=Ioe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ioe(e){var r=Doe(e,"string");return typeof r=="symbol"?r:r+""}function Doe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ox.apply(null,arguments)}var UT=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),o=a>=0?1:-1,l=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,m;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],f=0,g=4;f<g;f++)h[f]=n[f]>i?i:n[f];m="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+l*h[0],",").concat(r)),m+="L ".concat(e+s-l*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+o*h[1])),m+="L ".concat(e+s,",").concat(r+a-o*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-l*h[2],",").concat(r+a)),m+="L ".concat(e+l*h[3],",").concat(r+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-o*h[3])),m+="Z"}else if(i>0&&n===+n&&n>0){var y=Math.min(i,n);m="M ".concat(e,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+s-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s,",").concat(r+o*y,`
            L `).concat(e+s,",").concat(r+a-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s-l*y,",").concat(r+a,`
            L `).concat(e+l*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(r+a-o*y," Z")}else m="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return m},Loe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M6=e=>{var r=ka(e,Loe),s=p.useRef(null),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var B=s.current.getTotalLength();B&&n(B)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:b}=r,v=p.useRef(l),N=p.useRef(d),C=p.useRef(i),S=p.useRef(o),_=p.useMemo(()=>({x:i,y:o,width:l,height:d,radius:m}),[i,o,l,d,m]),E=Em(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var A=Qt("recharts-rectangle",h);if(!b)return p.createElement("path",ox({},Cr(r,!0),{className:A,d:UT(i,o,l,d,m)}));var T=v.current,M=N.current,z=C.current,V=S.current,O="0px ".concat(a===-1?1:a,"px"),R="".concat(a,"px 0px"),$=E6(["strokeDasharray"],g,typeof f=="string"?f:void 0);return p.createElement(Am,{animationId:E,key:E,canBegin:a>0,duration:g,easing:f,isActive:b,begin:y},B=>{var U=pr(T,l,B),te=pr(M,d,B),L=pr(z,i,B),F=pr(V,o,B);s.current&&(v.current=U,N.current=te,C.current=L,S.current=F);var q;return w?B>0?q={transition:$,strokeDasharray:R}:q={strokeDasharray:O}:q={strokeDasharray:R},p.createElement("path",ox({},Cr(r,!0),{className:A,d:UT(L,F,U,te,m),ref:s,style:FT(FT({},q),r.style)}))})};function I6(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,o=js(r,s,a,n),l=js(r,s,a,i);return{points:[o,l],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},I1.apply(null,arguments)}var $oe=(e,r)=>{var s=Ks(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},Yg=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,m=l*(o?1:-1)+a,h=Math.asin(l/m)/sx,f=d?n:n+i*h,g=js(r,s,m,f),y=js(r,s,a,f),w=d?n-i*h:n,b=js(r,s,m*Math.cos(h*sx),w);return{center:g,circleTangency:y,lineTangency:b,theta:h}},D6=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:o}=e,l=$oe(i,o),d=i+l,m=js(r,s,n,i),h=js(r,s,n,d),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=js(r,s,a,i),y=js(r,s,a,d);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},zoe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:m}=e,h=Ks(m-d),{circleTangency:f,lineTangency:g,theta:y}=Yg({cx:r,cy:s,radius:n,angle:d,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:b,theta:v}=Yg({cx:r,cy:s,radius:n,angle:m,sign:-h,cornerRadius:i,cornerIsExternal:l}),N=l?Math.abs(d-m):Math.abs(d-m)-y-v;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):D6({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var{circleTangency:S,lineTangency:_,theta:E}=Yg({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:A,lineTangency:T,theta:M}=Yg({cx:r,cy:s,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),z=l?Math.abs(d-m):Math.abs(d-m)-E-M;if(z<0&&i===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},Foe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L6=e=>{var r=ka(e,Foe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h,className:f}=r;if(i<n||m===h)return null;var g=Qt("recharts-sector",f),y=i-n,w=wa(o,y,0,!0),b;return w>0&&Math.abs(m-h)<360?b=zoe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h}):b=D6({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:m,endAngle:h}),p.createElement("path",I1({},Cr(r,!0),{className:g,d:b}))};function Uoe(e,r,s){var a,n,i,o;if(e==="horizontal")a=r.x,i=a,n=s.top,o=s.top+s.height;else if(e==="vertical")n=r.y,o=n,a=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var{cx:l,cy:d,innerRadius:m,outerRadius:h,angle:f}=r,g=js(l,d,m,f),y=js(l,d,h,f);a=g.x,n=g.y,i=y.x,o=y.y}else return I6(r);return[{x:a,y:n},{x:i,y:o}]}var Dj={},Lj={},$j={},BT;function Boe(){return BT||(BT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=BL();function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s}($j)),$j}var WT;function Woe(){return WT||(WT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Boe();function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s}(Lj)),Lj}var VT;function Voe(){return VT||(VT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=WL(),s=Woe();function a(n,i,o){o&&typeof o!="number"&&r.isIterateeCall(n,i,o)&&(i=o=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),o=o===void 0?n<i?1:-1:s.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),d=new Array(l);for(let m=0;m<l;m++)d[m]=n,n+=o;return d}e.range=a}(Dj)),Dj}var zj,HT;function Hoe(){return HT||(HT=1,zj=Voe().range),zj}var qoe=Hoe();const $6=ai(qoe);function Zl(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Koe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function zC(e){let r,s,a;e.length!==2?(r=Zl,s=(l,d)=>Zl(e(l),d),a=(l,d)=>e(l)-d):(r=e===Zl||e===Koe?e:Goe,s=e,a=e);function n(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<0?m=f+1:h=f}while(m<h)}return m}function i(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<=0?m=f+1:h=f}while(m<h)}return m}function o(l,d,m=0,h=l.length){const f=n(l,d,m,h-1);return f>m&&a(l[f-1],d)>-a(l[f],d)?f-1:f}return{left:n,center:o,right:i}}function Goe(){return 0}function z6(e){return e===null?NaN:+e}function*Yoe(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Joe=zC(Zl),rp=Joe.right;zC(z6).center;class qT extends Map{constructor(r,s=Zoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(KT(this,r))}has(r){return super.has(KT(this,r))}set(r,s){return super.set(Xoe(this,r),s)}delete(r){return super.delete(Qoe(this,r))}}function KT({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function Xoe({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Qoe({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Zoe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ele(e=Zl){if(e===Zl)return F6;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function F6(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const tle=Math.sqrt(50),rle=Math.sqrt(10),sle=Math.sqrt(2);function lx(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=tle?10:i>=rle?5:i>=sle?2:1;let l,d,m;return n<0?(m=Math.pow(10,-n)/o,l=Math.round(e*m),d=Math.round(r*m),l/m<e&&++l,d/m>r&&--d,m=-m):(m=Math.pow(10,n)*o,l=Math.round(e/m),d=Math.round(r/m),l*m<e&&++l,d*m>r&&--d),d<l&&.5<=s&&s<2?lx(e,r,s*2):[l,d,m]}function D1(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,o]=a?lx(r,e,s):lx(e,r,s);if(!(i>=n))return[];const l=i-n+1,d=new Array(l);if(a)if(o<0)for(let m=0;m<l;++m)d[m]=(i-m)/-o;else for(let m=0;m<l;++m)d[m]=(i-m)*o;else if(o<0)for(let m=0;m<l;++m)d[m]=(n+m)/-o;else for(let m=0;m<l;++m)d[m]=(n+m)*o;return d}function L1(e,r,s){return r=+r,e=+e,s=+s,lx(e,r,s)[2]}function $1(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?L1(r,e,s):L1(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function GT(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function YT(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function U6(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?F6:ele(n);a>s;){if(a-s>600){const d=a-s+1,m=r-s+1,h=Math.log(d),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(d-f)/d)*(m-d/2<0?-1:1),y=Math.max(s,Math.floor(r-m*f/d+g)),w=Math.min(a,Math.floor(r+(d-m)*f/d+g));U6(e,r,y,w,n)}const i=e[r];let o=s,l=a;for(Th(e,s,r),n(e[a],i)>0&&Th(e,s,a);o<l;){for(Th(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?Th(e,s,l):(++l,Th(e,l,a)),l<=r&&(s=l+1),r<=l&&(a=l-1)}return e}function Th(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function ale(e,r,s){if(e=Float64Array.from(Yoe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return YT(e);if(r>=1)return GT(e);var a,n=(a-1)*r,i=Math.floor(n),o=GT(U6(e,i).subarray(0,i+1)),l=YT(e.subarray(i+1));return o+(l-o)*(n-i)}}function nle(e,r,s=z6){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function ile(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function ii(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function hl(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const z1=Symbol("implicit");function FC(){var e=new qT,r=[],s=[],a=z1;function n(i){let o=e.get(i);if(o===void 0){if(a!==z1)return a;e.set(i,o=r.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new qT;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return FC(r,s).unknown(a)},ii.apply(n,arguments),n}function UC(){var e=FC().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,o,l=!1,d=0,m=0,h=.5;delete e.unknown;function f(){var g=r().length,y=n<a,w=y?n:a,b=y?a:n;i=(b-w)/Math.max(1,g-d+m*2),l&&(i=Math.floor(i)),w+=(b-w-i*(g-d))*h,o=i*(1-d),l&&(w=Math.round(w),o=Math.round(o));var v=ile(g).map(function(N){return w+i*N});return s(y?v.reverse():v)}return e.domain=function(g){return arguments.length?(r(g),f()):r()},e.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,f()):[a,n]},e.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,f()):l},e.padding=function(g){return arguments.length?(d=Math.min(1,m=+g),f()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),f()):d},e.paddingOuter=function(g){return arguments.length?(m=+g,f()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),f()):h},e.copy=function(){return UC(r(),[a,n]).round(l).paddingInner(d).paddingOuter(m).align(h)},ii.apply(f(),arguments)}function B6(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B6(r())},e}function ole(){return B6(UC.apply(null,arguments).paddingInner(1))}function BC(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function W6(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function sp(){}var jf=.7,cx=1/jf,Qu="\\s*([+-]?\\d+)\\s*",Nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lle=/^#([0-9a-f]{3,8})$/,cle=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),dle=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),ule=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Nf}\\)$`),mle=new RegExp(`^rgba\\(${no},${no},${no},${Nf}\\)$`),hle=new RegExp(`^hsl\\(${Nf},${no},${no}\\)$`),fle=new RegExp(`^hsla\\(${Nf},${no},${no},${Nf}\\)$`),JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BC(sp,Sf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XT,formatHex:XT,formatHex8:ple,formatHsl:gle,formatRgb:QT,toString:QT});function XT(){return this.rgb().formatHex()}function ple(){return this.rgb().formatHex8()}function gle(){return V6(this).formatHsl()}function QT(){return this.rgb().formatRgb()}function Sf(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=lle.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?ZT(r):s===3?new rn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Jg(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Jg(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=cle.exec(e))?new rn(r[1],r[2],r[3],1):(r=dle.exec(e))?new rn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=ule.exec(e))?Jg(r[1],r[2],r[3],r[4]):(r=mle.exec(e))?Jg(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=hle.exec(e))?r5(r[1],r[2]/100,r[3]/100,1):(r=fle.exec(e))?r5(r[1],r[2]/100,r[3]/100,r[4]):JT.hasOwnProperty(e)?ZT(JT[e]):e==="transparent"?new rn(NaN,NaN,NaN,0):null}function ZT(e){return new rn(e>>16&255,e>>8&255,e&255,1)}function Jg(e,r,s,a){return a<=0&&(e=r=s=NaN),new rn(e,r,s,a)}function xle(e){return e instanceof sp||(e=Sf(e)),e?(e=e.rgb(),new rn(e.r,e.g,e.b,e.opacity)):new rn}function F1(e,r,s,a){return arguments.length===1?xle(e):new rn(e,r,s,a??1)}function rn(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}BC(rn,F1,W6(sp,{brighter(e){return e=e==null?cx:Math.pow(cx,e),new rn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jf:Math.pow(jf,e),new rn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rn(ud(this.r),ud(this.g),ud(this.b),dx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e5,formatHex:e5,formatHex8:yle,formatRgb:t5,toString:t5}));function e5(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}`}function yle(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}${sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function t5(){const e=dx(this.opacity);return`${e===1?"rgb(":"rgba("}${ud(this.r)}, ${ud(this.g)}, ${ud(this.b)}${e===1?")":`, ${e})`}`}function dx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ud(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sd(e){return e=ud(e),(e<16?"0":"")+e.toString(16)}function r5(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new Si(e,r,s,a)}function V6(e){if(e instanceof Si)return new Si(e.h,e.s,e.l,e.opacity);if(e instanceof sp||(e=Sf(e)),!e)return new Si;if(e instanceof Si)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),o=NaN,l=i-n,d=(i+n)/2;return l?(r===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-r)/l+2:o=(r-s)/l+4,l/=d<.5?i+n:2-i-n,o*=60):l=d>0&&d<1?0:o,new Si(o,l,d,e.opacity)}function vle(e,r,s,a){return arguments.length===1?V6(e):new Si(e,r,s,a??1)}function Si(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}BC(Si,vle,W6(sp,{brighter(e){return e=e==null?cx:Math.pow(cx,e),new Si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jf:Math.pow(jf,e),new Si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new rn(Fj(e>=240?e-240:e+120,n,a),Fj(e,n,a),Fj(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Si(s5(this.h),Xg(this.s),Xg(this.l),dx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dx(this.opacity);return`${e===1?"hsl(":"hsla("}${s5(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function s5(e){return e=(e||0)%360,e<0?e+360:e}function Xg(e){return Math.max(0,Math.min(1,e||0))}function Fj(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const WC=e=>()=>e;function ble(e,r){return function(s){return e+s*r}}function wle(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function jle(e){return(e=+e)==1?H6:function(r,s){return s-r?wle(r,s,e):WC(isNaN(r)?s:r)}}function H6(e,r){var s=r-e;return s?ble(e,s):WC(isNaN(e)?r:e)}const a5=function e(r){var s=jle(r);function a(n,i){var o=s((n=F1(n)).r,(i=F1(i)).r),l=s(n.g,i.g),d=s(n.b,i.b),m=H6(n.opacity,i.opacity);return function(h){return n.r=o(h),n.g=l(h),n.b=d(h),n.opacity=m(h),n+""}}return a.gamma=e,a}(1);function Nle(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function Sle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cle(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=Tm(e[o],r[o]);for(;o<s;++o)i[o]=r[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function kle(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function ux(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function _le(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=Tm(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var U1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uj=new RegExp(U1.source,"g");function Ple(e){return function(){return e}}function Ale(e){return function(r){return e(r)+""}}function Ele(e,r){var s=U1.lastIndex=Uj.lastIndex=0,a,n,i,o=-1,l=[],d=[];for(e=e+"",r=r+"";(a=U1.exec(e))&&(n=Uj.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,d.push({i:o,x:ux(a,n)})),s=Uj.lastIndex;return s<r.length&&(i=r.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?Ale(d[0].x):Ple(r):(r=d.length,function(m){for(var h=0,f;h<r;++h)l[(f=d[h]).i]=f.x(m);return l.join("")})}function Tm(e,r){var s=typeof r,a;return r==null||s==="boolean"?WC(r):(s==="number"?ux:s==="string"?(a=Sf(r))?(r=a,a5):Ele:r instanceof Sf?a5:r instanceof Date?kle:Sle(r)?Nle:Array.isArray(r)?Cle:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?_le:ux)(e,r)}function VC(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function Tle(e,r){r===void 0&&(r=e,e=Tm);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function Ole(e){return function(){return e}}function mx(e){return+e}var n5=[0,1];function $a(e){return e}function B1(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:Ole(isNaN(r)?NaN:.5)}function Rle(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function Mle(e,r,s){var a=e[0],n=e[1],i=r[0],o=r[1];return n<a?(a=B1(n,a),i=s(o,i)):(a=B1(a,n),i=s(i,o)),function(l){return i(a(l))}}function Ile(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)n[o]=B1(e[o],e[o+1]),i[o]=s(r[o],r[o+1]);return function(l){var d=rp(e,l,1,a)-1;return i[d](n[d](l))}}function ap(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ty(){var e=n5,r=n5,s=Tm,a,n,i,o=$a,l,d,m;function h(){var g=Math.min(e.length,r.length);return o!==$a&&(o=Rle(e[0],e[g-1])),l=g>2?Ile:Mle,d=m=null,f}function f(g){return g==null||isNaN(g=+g)?i:(d||(d=l(e.map(a),r,s)))(a(o(g)))}return f.invert=function(g){return o(n((m||(m=l(r,e.map(a),ux)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,mx),h()):e.slice()},f.range=function(g){return arguments.length?(r=Array.from(g),h()):r.slice()},f.rangeRound=function(g){return r=Array.from(g),s=VC,h()},f.clamp=function(g){return arguments.length?(o=g?!0:$a,h()):o!==$a},f.interpolate=function(g){return arguments.length?(s=g,h()):s},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,y){return a=g,n=y,h()}}function HC(){return Ty()($a,$a)}function Dle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hx(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function um(e){return e=hx(Math.abs(e)),e?e[1]:NaN}function Lle(e,r){return function(s,a){for(var n=s.length,i=[],o=0,l=e[0],d=0;n>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(s.substring(n-=l,n+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function $le(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var zle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cf(e){if(!(r=zle.exec(e)))throw new Error("invalid format: "+e);var r;return new qC({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Cf.prototype=qC.prototype;function qC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fle(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var q6;function Ule(e,r){var s=hx(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(q6=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+hx(e,Math.max(0,r+i-1))[0]}function i5(e,r){var s=hx(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const o5={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dle,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>i5(e*100,r),r:i5,s:Ule,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function l5(e){return e}var c5=Array.prototype.map,d5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ble(e){var r=e.grouping===void 0||e.thousands===void 0?l5:Lle(c5.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?l5:$le(c5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(f){f=Cf(f);var g=f.fill,y=f.align,w=f.sign,b=f.symbol,v=f.zero,N=f.width,C=f.comma,S=f.precision,_=f.trim,E=f.type;E==="n"?(C=!0,E="g"):o5[E]||(S===void 0&&(S=12),_=!0,E="g"),(v||g==="0"&&y==="=")&&(v=!0,g="0",y="=");var A=b==="$"?s:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=b==="$"?a:/[%p]/.test(E)?o:"",M=o5[E],z=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function V(O){var R=A,$=T,B,U,te;if(E==="c")$=M(O)+$,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?d:M(Math.abs(O),S),_&&(O=Fle(O)),L&&+O==0&&w!=="+"&&(L=!1),R=(L?w==="("?w:l:w==="-"||w==="("?"":w)+R,$=(E==="s"?d5[8+q6/3]:"")+$+(L&&w==="("?")":""),z){for(B=-1,U=O.length;++B<U;)if(te=O.charCodeAt(B),48>te||te>57){$=(te===46?n+O.slice(B+1):O.slice(B))+$,O=O.slice(0,B);break}}}C&&!v&&(O=r(O,1/0));var F=R.length+O.length+$.length,q=F<N?new Array(N-F+1).join(g):"";switch(C&&v&&(O=r(q+O,q.length?N-$.length:1/0),q=""),y){case"<":O=R+O+$+q;break;case"=":O=R+q+O+$;break;case"^":O=q.slice(0,F=q.length>>1)+R+O+$+q.slice(F);break;default:O=q+R+O+$;break}return i(O)}return V.toString=function(){return f+""},V}function h(f,g){var y=m((f=Cf(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(um(g)/3)))*3,b=Math.pow(10,-w),v=d5[8+w/3];return function(N){return y(b*N)+v}}return{format:m,formatPrefix:h}}var Qg,KC,K6;Wle({thousands:",",grouping:[3],currency:["$",""]});function Wle(e){return Qg=Ble(e),KC=Qg.format,K6=Qg.formatPrefix,Qg}function Vle(e){return Math.max(0,-um(Math.abs(e)))}function Hle(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(um(r)/3)))*3-um(Math.abs(e)))}function qle(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,um(r)-um(e))+1}function G6(e,r,s,a){var n=$1(e,r,s),i;switch(a=Cf(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=Hle(n,o))&&(a.precision=i),K6(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=qle(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Vle(n))&&(a.precision=i-(a.type==="%")*2);break}}return KC(a)}function pc(e){var r=e.domain;return e.ticks=function(s){var a=r();return D1(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return G6(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,o=a[n],l=a[i],d,m,h=10;for(l<o&&(m=o,o=l,l=m,m=n,n=i,i=m);h-- >0;){if(m=L1(o,l,s),m===d)return a[n]=o,a[i]=l,r(a);if(m>0)o=Math.floor(o/m)*m,l=Math.ceil(l/m)*m;else if(m<0)o=Math.ceil(o*m)/m,l=Math.floor(l*m)/m;else break;d=m}return e},e}function Y6(){var e=HC();return e.copy=function(){return ap(e,Y6())},ii.apply(e,arguments),pc(e)}function J6(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,mx),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return J6(e).unknown(r)},e=arguments.length?Array.from(e,mx):[0,1],pc(s)}function X6(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),e[s]=r.floor(n),e[a]=r.ceil(i),e}function u5(e){return Math.log(e)}function m5(e){return Math.exp(e)}function Kle(e){return-Math.log(-e)}function Gle(e){return-Math.exp(-e)}function Yle(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jle(e){return e===10?Yle:e===Math.E?Math.exp:r=>Math.pow(e,r)}function Xle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function h5(e){return(r,s)=>-e(-r,s)}function GC(e){const r=e(u5,m5),s=r.domain;let a=10,n,i;function o(){return n=Xle(a),i=Jle(a),s()[0]<0?(n=h5(n),i=h5(i),e(Kle,Gle)):e(u5,m5),r}return r.base=function(l){return arguments.length?(a=+l,o()):a},r.domain=function(l){return arguments.length?(s(l),o()):s()},r.ticks=l=>{const d=s();let m=d[0],h=d[d.length-1];const f=h<m;f&&([m,h]=[h,m]);let g=n(m),y=n(h),w,b;const v=l==null?10:+l;let N=[];if(!(a%1)&&y-g<v){if(g=Math.floor(g),y=Math.ceil(y),m>0){for(;g<=y;++g)for(w=1;w<a;++w)if(b=g<0?w/i(-g):w*i(g),!(b<m)){if(b>h)break;N.push(b)}}else for(;g<=y;++g)for(w=a-1;w>=1;--w)if(b=g>0?w/i(-g):w*i(g),!(b<m)){if(b>h)break;N.push(b)}N.length*2<v&&(N=D1(m,h,v))}else N=D1(g,y,Math.min(y-g,v)).map(i);return f?N.reverse():N},r.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=Cf(d)).precision==null&&(d.trim=!0),d=KC(d)),l===1/0)return d;const m=Math.max(1,a*l/r.ticks().length);return h=>{let f=h/i(Math.round(n(h)));return f*a<a-.5&&(f*=a),f<=m?d(h):""}},r.nice=()=>s(X6(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function Q6(){const e=GC(Ty()).domain([1,10]);return e.copy=()=>ap(e,Q6()).base(e.base()),ii.apply(e,arguments),e}function f5(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function p5(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function YC(e){var r=1,s=e(f5(r),p5(r));return s.constant=function(a){return arguments.length?e(f5(r=+a),p5(r)):r},pc(s)}function Z6(){var e=YC(Ty());return e.copy=function(){return ap(e,Z6()).constant(e.constant())},ii.apply(e,arguments)}function g5(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function Qle(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zle(e){return e<0?-e*e:e*e}function JC(e){var r=e($a,$a),s=1;function a(){return s===1?e($a,$a):s===.5?e(Qle,Zle):e(g5(s),g5(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},pc(r)}function XC(){var e=JC(Ty());return e.copy=function(){return ap(e,XC()).exponent(e.exponent())},ii.apply(e,arguments),e}function ece(){return XC.apply(null,arguments).exponent(.5)}function x5(e){return Math.sign(e)*e*e}function tce(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function e8(){var e=HC(),r=[0,1],s=!1,a;function n(i){var o=tce(e(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return e.invert(x5(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,mx)).map(x5)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return e8(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},ii.apply(n,arguments),pc(n)}function t8(){var e=[],r=[],s=[],a;function n(){var o=0,l=Math.max(1,r.length);for(s=new Array(l-1);++o<l;)s[o-1]=nle(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:r[rp(s,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zl),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return t8().domain(e).range(r).unknown(a)},ii.apply(i,arguments)}function r8(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function o(d){return d!=null&&d<=d?n[rp(a,d,0,s)]:i}function l(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*r-(d-s)*e)/(s+1);return o}return o.domain=function(d){return arguments.length?([e,r]=d,e=+e,r=+r,l()):[e,r]},o.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,l()):n.slice()},o.invertExtent=function(d){var m=n.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=s?[a[s-1],r]:[a[m-1],a[m]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return r8().domain([e,r]).range(n).unknown(i)},ii.apply(pc(o),arguments)}function s8(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[rp(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return s8().domain(e).range(r).unknown(s)},ii.apply(n,arguments)}const Bj=new Date,Wj=new Date;function Ds(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const d=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let m;do d.push(m=new Date(+i)),r(i,l),e(i);while(m<i&&i<o);return d},n.filter=i=>Ds(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),s&&(n.count=(i,o)=>(Bj.setTime(+i),Wj.setTime(+o),e(Bj),e(Wj),Math.floor(s(Bj,Wj))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const fx=Ds(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);fx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ds(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):fx);fx.range;const Ho=1e3,Gn=Ho*60,qo=Gn*60,al=qo*24,QC=al*7,y5=al*30,Vj=al*365,ad=Ds(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Ho)},(e,r)=>(r-e)/Ho,e=>e.getUTCSeconds());ad.range;const ZC=Ds(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ho)},(e,r)=>{e.setTime(+e+r*Gn)},(e,r)=>(r-e)/Gn,e=>e.getMinutes());ZC.range;const e2=Ds(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Gn)},(e,r)=>(r-e)/Gn,e=>e.getUTCMinutes());e2.range;const t2=Ds(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ho-e.getMinutes()*Gn)},(e,r)=>{e.setTime(+e+r*qo)},(e,r)=>(r-e)/qo,e=>e.getHours());t2.range;const r2=Ds(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*qo)},(e,r)=>(r-e)/qo,e=>e.getUTCHours());r2.range;const np=Ds(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/al,e=>e.getDate()-1);np.range;const Oy=Ds(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/al,e=>e.getUTCDate()-1);Oy.range;const a8=Ds(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/al,e=>Math.floor(e/al));a8.range;function Hd(e){return Ds(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*Gn)/QC)}const Ry=Hd(0),px=Hd(1),rce=Hd(2),sce=Hd(3),mm=Hd(4),ace=Hd(5),nce=Hd(6);Ry.range;px.range;rce.range;sce.range;mm.range;ace.range;nce.range;function qd(e){return Ds(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/QC)}const My=qd(0),gx=qd(1),ice=qd(2),oce=qd(3),hm=qd(4),lce=qd(5),cce=qd(6);My.range;gx.range;ice.range;oce.range;hm.range;lce.range;cce.range;const s2=Ds(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());s2.range;const a2=Ds(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());a2.range;const nl=Ds(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());nl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ds(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});nl.range;const il=Ds(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());il.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ds(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});il.range;function n8(e,r,s,a,n,i){const o=[[ad,1,Ho],[ad,5,5*Ho],[ad,15,15*Ho],[ad,30,30*Ho],[i,1,Gn],[i,5,5*Gn],[i,15,15*Gn],[i,30,30*Gn],[n,1,qo],[n,3,3*qo],[n,6,6*qo],[n,12,12*qo],[a,1,al],[a,2,2*al],[s,1,QC],[r,1,y5],[r,3,3*y5],[e,1,Vj]];function l(m,h,f){const g=h<m;g&&([m,h]=[h,m]);const y=f&&typeof f.range=="function"?f:d(m,h,f),w=y?y.range(m,+h+1):[];return g?w.reverse():w}function d(m,h,f){const g=Math.abs(h-m)/f,y=zC(([,,v])=>v).right(o,g);if(y===o.length)return e.every($1(m/Vj,h/Vj,f));if(y===0)return fx.every(Math.max($1(m,h,f),1));const[w,b]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return w.every(b)}return[l,d]}const[dce,uce]=n8(il,a2,My,a8,r2,e2),[mce,hce]=n8(nl,s2,Ry,np,t2,ZC);function Hj(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qj(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oh(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function fce(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,m=Rh(n),h=Mh(n),f=Rh(i),g=Mh(i),y=Rh(o),w=Mh(o),b=Rh(l),v=Mh(l),N=Rh(d),C=Mh(d),S={a:L,A:F,b:q,B:ee,c:null,d:S5,e:S5,f:Lce,g:Kce,G:Yce,H:Mce,I:Ice,j:Dce,L:i8,m:$ce,M:zce,p:W,q:Z,Q:_5,s:P5,S:Fce,u:Uce,U:Bce,V:Wce,w:Vce,W:Hce,x:null,X:null,y:qce,Y:Gce,Z:Jce,"%":k5},_={a:ve,A:ne,b:I,B:we,c:null,d:C5,e:C5,f:ede,g:dde,G:mde,H:Xce,I:Qce,j:Zce,L:l8,m:tde,M:rde,p:le,q:ke,Q:_5,s:P5,S:sde,u:ade,U:nde,V:ide,w:ode,W:lde,x:null,X:null,y:cde,Y:ude,Z:hde,"%":k5},E={a:V,A:O,b:R,B:$,c:B,d:j5,e:j5,f:Ece,g:w5,G:b5,H:N5,I:N5,j:kce,L:Ace,m:Cce,M:_ce,p:z,q:Sce,Q:Oce,s:Rce,S:Pce,u:vce,U:bce,V:wce,w:yce,W:jce,x:U,X:te,y:w5,Y:b5,Z:Nce,"%":Tce};S.x=A(s,S),S.X=A(a,S),S.c=A(r,S),_.x=A(s,_),_.X=A(a,_),_.c=A(r,_);function A(J,Ce){return function(fe){var Q=[],he=-1,Se=0,Te=J.length,ce,Ve,ht;for(fe instanceof Date||(fe=new Date(+fe));++he<Te;)J.charCodeAt(he)===37&&(Q.push(J.slice(Se,he)),(Ve=v5[ce=J.charAt(++he)])!=null?ce=J.charAt(++he):Ve=ce==="e"?" ":"0",(ht=Ce[ce])&&(ce=ht(fe,Ve)),Q.push(ce),Se=he+1);return Q.push(J.slice(Se,he)),Q.join("")}}function T(J,Ce){return function(fe){var Q=Oh(1900,void 0,1),he=M(Q,J,fe+="",0),Se,Te;if(he!=fe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(Ce&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Se=qj(Oh(Q.y,0,1)),Te=Se.getUTCDay(),Se=Te>4||Te===0?gx.ceil(Se):gx(Se),Se=Oy.offset(Se,(Q.V-1)*7),Q.y=Se.getUTCFullYear(),Q.m=Se.getUTCMonth(),Q.d=Se.getUTCDate()+(Q.w+6)%7):(Se=Hj(Oh(Q.y,0,1)),Te=Se.getDay(),Se=Te>4||Te===0?px.ceil(Se):px(Se),Se=np.offset(Se,(Q.V-1)*7),Q.y=Se.getFullYear(),Q.m=Se.getMonth(),Q.d=Se.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Te="Z"in Q?qj(Oh(Q.y,0,1)).getUTCDay():Hj(Oh(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Te+5)%7:Q.w+Q.U*7-(Te+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,qj(Q)):Hj(Q)}}function M(J,Ce,fe,Q){for(var he=0,Se=Ce.length,Te=fe.length,ce,Ve;he<Se;){if(Q>=Te)return-1;if(ce=Ce.charCodeAt(he++),ce===37){if(ce=Ce.charAt(he++),Ve=E[ce in v5?Ce.charAt(he++):ce],!Ve||(Q=Ve(J,fe,Q))<0)return-1}else if(ce!=fe.charCodeAt(Q++))return-1}return Q}function z(J,Ce,fe){var Q=m.exec(Ce.slice(fe));return Q?(J.p=h.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function V(J,Ce,fe){var Q=y.exec(Ce.slice(fe));return Q?(J.w=w.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function O(J,Ce,fe){var Q=f.exec(Ce.slice(fe));return Q?(J.w=g.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function R(J,Ce,fe){var Q=N.exec(Ce.slice(fe));return Q?(J.m=C.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function $(J,Ce,fe){var Q=b.exec(Ce.slice(fe));return Q?(J.m=v.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function B(J,Ce,fe){return M(J,r,Ce,fe)}function U(J,Ce,fe){return M(J,s,Ce,fe)}function te(J,Ce,fe){return M(J,a,Ce,fe)}function L(J){return o[J.getDay()]}function F(J){return i[J.getDay()]}function q(J){return d[J.getMonth()]}function ee(J){return l[J.getMonth()]}function W(J){return n[+(J.getHours()>=12)]}function Z(J){return 1+~~(J.getMonth()/3)}function ve(J){return o[J.getUTCDay()]}function ne(J){return i[J.getUTCDay()]}function I(J){return d[J.getUTCMonth()]}function we(J){return l[J.getUTCMonth()]}function le(J){return n[+(J.getUTCHours()>=12)]}function ke(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Ce=A(J+="",S);return Ce.toString=function(){return J},Ce},parse:function(J){var Ce=T(J+="",!1);return Ce.toString=function(){return J},Ce},utcFormat:function(J){var Ce=A(J+="",_);return Ce.toString=function(){return J},Ce},utcParse:function(J){var Ce=T(J+="",!0);return Ce.toString=function(){return J},Ce}}}var v5={"-":"",_:" ",0:"0"},Ys=/^\s*\d+/,pce=/^%/,gce=/[\\^$*+?|[\]().{}]/g;function sr(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function xce(e){return e.replace(gce,"\\$&")}function Rh(e){return new RegExp("^(?:"+e.map(xce).join("|")+")","i")}function Mh(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function yce(e,r,s){var a=Ys.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function vce(e,r,s){var a=Ys.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function bce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function wce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function jce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function b5(e,r,s){var a=Ys.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function w5(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Nce(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Sce(e,r,s){var a=Ys.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function Cce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function j5(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function kce(e,r,s){var a=Ys.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function N5(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function _ce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function Pce(e,r,s){var a=Ys.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function Ace(e,r,s){var a=Ys.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function Ece(e,r,s){var a=Ys.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function Tce(e,r,s){var a=pce.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function Oce(e,r,s){var a=Ys.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function Rce(e,r,s){var a=Ys.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function S5(e,r){return sr(e.getDate(),r,2)}function Mce(e,r){return sr(e.getHours(),r,2)}function Ice(e,r){return sr(e.getHours()%12||12,r,2)}function Dce(e,r){return sr(1+np.count(nl(e),e),r,3)}function i8(e,r){return sr(e.getMilliseconds(),r,3)}function Lce(e,r){return i8(e,r)+"000"}function $ce(e,r){return sr(e.getMonth()+1,r,2)}function zce(e,r){return sr(e.getMinutes(),r,2)}function Fce(e,r){return sr(e.getSeconds(),r,2)}function Uce(e){var r=e.getDay();return r===0?7:r}function Bce(e,r){return sr(Ry.count(nl(e)-1,e),r,2)}function o8(e){var r=e.getDay();return r>=4||r===0?mm(e):mm.ceil(e)}function Wce(e,r){return e=o8(e),sr(mm.count(nl(e),e)+(nl(e).getDay()===4),r,2)}function Vce(e){return e.getDay()}function Hce(e,r){return sr(px.count(nl(e)-1,e),r,2)}function qce(e,r){return sr(e.getFullYear()%100,r,2)}function Kce(e,r){return e=o8(e),sr(e.getFullYear()%100,r,2)}function Gce(e,r){return sr(e.getFullYear()%1e4,r,4)}function Yce(e,r){var s=e.getDay();return e=s>=4||s===0?mm(e):mm.ceil(e),sr(e.getFullYear()%1e4,r,4)}function Jce(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+sr(r/60|0,"0",2)+sr(r%60,"0",2)}function C5(e,r){return sr(e.getUTCDate(),r,2)}function Xce(e,r){return sr(e.getUTCHours(),r,2)}function Qce(e,r){return sr(e.getUTCHours()%12||12,r,2)}function Zce(e,r){return sr(1+Oy.count(il(e),e),r,3)}function l8(e,r){return sr(e.getUTCMilliseconds(),r,3)}function ede(e,r){return l8(e,r)+"000"}function tde(e,r){return sr(e.getUTCMonth()+1,r,2)}function rde(e,r){return sr(e.getUTCMinutes(),r,2)}function sde(e,r){return sr(e.getUTCSeconds(),r,2)}function ade(e){var r=e.getUTCDay();return r===0?7:r}function nde(e,r){return sr(My.count(il(e)-1,e),r,2)}function c8(e){var r=e.getUTCDay();return r>=4||r===0?hm(e):hm.ceil(e)}function ide(e,r){return e=c8(e),sr(hm.count(il(e),e)+(il(e).getUTCDay()===4),r,2)}function ode(e){return e.getUTCDay()}function lde(e,r){return sr(gx.count(il(e)-1,e),r,2)}function cde(e,r){return sr(e.getUTCFullYear()%100,r,2)}function dde(e,r){return e=c8(e),sr(e.getUTCFullYear()%100,r,2)}function ude(e,r){return sr(e.getUTCFullYear()%1e4,r,4)}function mde(e,r){var s=e.getUTCDay();return e=s>=4||s===0?hm(e):hm.ceil(e),sr(e.getUTCFullYear()%1e4,r,4)}function hde(){return"+0000"}function k5(){return"%"}function _5(e){return+e}function P5(e){return Math.floor(+e/1e3)}var Mu,d8,u8;fde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fde(e){return Mu=fce(e),d8=Mu.format,Mu.parse,u8=Mu.utcFormat,Mu.utcParse,Mu}function pde(e){return new Date(e)}function gde(e){return e instanceof Date?+e:+new Date(+e)}function n2(e,r,s,a,n,i,o,l,d,m){var h=HC(),f=h.invert,g=h.domain,y=m(".%L"),w=m(":%S"),b=m("%I:%M"),v=m("%I %p"),N=m("%a %d"),C=m("%b %d"),S=m("%B"),_=m("%Y");function E(A){return(d(A)<A?y:l(A)<A?w:o(A)<A?b:i(A)<A?v:a(A)<A?n(A)<A?N:C:s(A)<A?S:_)(A)}return h.invert=function(A){return new Date(f(A))},h.domain=function(A){return arguments.length?g(Array.from(A,gde)):g().map(pde)},h.ticks=function(A){var T=g();return e(T[0],T[T.length-1],A??10)},h.tickFormat=function(A,T){return T==null?E:m(T)},h.nice=function(A){var T=g();return(!A||typeof A.range!="function")&&(A=r(T[0],T[T.length-1],A??10)),A?g(X6(T,A)):h},h.copy=function(){return ap(h,n2(e,r,s,a,n,i,o,l,d,m))},h}function xde(){return ii.apply(n2(mce,hce,nl,s2,Ry,np,t2,ZC,ad,d8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yde(){return ii.apply(n2(dce,uce,il,a2,My,Oy,r2,e2,ad,u8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Iy(){var e=0,r=1,s,a,n,i,o=$a,l=!1,d;function m(f){return f==null||isNaN(f=+f)?d:o(n===0?.5:(f=(i(f)-s)*n,l?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([e,r]=f,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),m):[e,r]},m.clamp=function(f){return arguments.length?(l=!!f,m):l},m.interpolator=function(f){return arguments.length?(o=f,m):o};function h(f){return function(g){var y,w;return arguments.length?([y,w]=g,o=f(y,w),m):[o(0),o(1)]}}return m.range=h(Tm),m.rangeRound=h(VC),m.unknown=function(f){return arguments.length?(d=f,m):d},function(f){return i=f,s=f(e),a=f(r),n=s===a?0:1/(a-s),m}}function gc(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function m8(){var e=pc(Iy()($a));return e.copy=function(){return gc(e,m8())},hl.apply(e,arguments)}function h8(){var e=GC(Iy()).domain([1,10]);return e.copy=function(){return gc(e,h8()).base(e.base())},hl.apply(e,arguments)}function f8(){var e=YC(Iy());return e.copy=function(){return gc(e,f8()).constant(e.constant())},hl.apply(e,arguments)}function i2(){var e=JC(Iy());return e.copy=function(){return gc(e,i2()).exponent(e.exponent())},hl.apply(e,arguments)}function vde(){return i2.apply(null,arguments).exponent(.5)}function p8(){var e=[],r=$a;function s(a){if(a!=null&&!isNaN(a=+a))return r((rp(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Zl),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>ale(e,i/a))},s.copy=function(){return p8(r).domain(e)},hl.apply(s,arguments)}function Dy(){var e=0,r=.5,s=1,a=1,n,i,o,l,d,m=$a,h,f=!1,g;function y(b){return isNaN(b=+b)?g:(b=.5+((b=+h(b))-i)*(a*b<a*i?l:d),m(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,r,s]=b,n=h(e=+e),i=h(r=+r),o=h(s=+s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y):[e,r,s]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(m=b,y):m};function w(b){return function(v){var N,C,S;return arguments.length?([N,C,S]=v,m=Tle(b,[N,C,S]),y):[m(0),m(.5),m(1)]}}return y.range=w(Tm),y.rangeRound=w(VC),y.unknown=function(b){return arguments.length?(g=b,y):g},function(b){return h=b,n=b(e),i=b(r),o=b(s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y}}function g8(){var e=pc(Dy()($a));return e.copy=function(){return gc(e,g8())},hl.apply(e,arguments)}function x8(){var e=GC(Dy()).domain([.1,1,10]);return e.copy=function(){return gc(e,x8()).base(e.base())},hl.apply(e,arguments)}function y8(){var e=YC(Dy());return e.copy=function(){return gc(e,y8()).constant(e.constant())},hl.apply(e,arguments)}function o2(){var e=JC(Dy());return e.copy=function(){return gc(e,o2()).exponent(e.exponent())},hl.apply(e,arguments)}function bde(){return o2.apply(null,arguments).exponent(.5)}const Jh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:UC,scaleDiverging:g8,scaleDivergingLog:x8,scaleDivergingPow:o2,scaleDivergingSqrt:bde,scaleDivergingSymlog:y8,scaleIdentity:J6,scaleImplicit:z1,scaleLinear:Y6,scaleLog:Q6,scaleOrdinal:FC,scalePoint:ole,scalePow:XC,scaleQuantile:t8,scaleQuantize:r8,scaleRadial:e8,scaleSequential:m8,scaleSequentialLog:h8,scaleSequentialPow:i2,scaleSequentialQuantile:p8,scaleSequentialSqrt:vde,scaleSequentialSymlog:f8,scaleSqrt:ece,scaleSymlog:Z6,scaleThreshold:s8,scaleTime:xde,scaleUtc:yde,tickFormat:G6},Symbol.toStringTag,{value:"Module"}));var xc=e=>e.chartData,l2=ge([xc],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),ip=(e,r,s,a)=>a?l2(e):xc(e);function fm(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(ia(r)&&ia(s))return!0}return!1}function A5(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function wde(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ia(s))n=s;else if(typeof s=="function")return;if(ia(a))i=a;else if(typeof a=="function")return;var o=[n,i];if(fm(o))return o}}function jde(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(fm(a))return A5(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(n==="auto")r!=null&&(o=Math.min(...r));else if(st(n))o=n;else if(typeof n=="function")try{r!=null&&(o=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&wT.test(n)){var d=wT.exec(n);if(d==null||r==null)o=void 0;else{var m=+d[1];o=r[0]-m}}else o=r==null?void 0:r[0];if(i==="auto")r!=null&&(l=Math.max(...r));else if(st(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&jT.test(i)){var h=jT.exec(i);if(h==null||r==null)l=void 0;else{var f=+h[1];l=r[1]+f}}else l=r==null?void 0:r[1];var g=[o,l];if(fm(g))return r==null?g:A5(g,r,s)}}}var Om=1e9,Nde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d2,Ur=!0,si="[DecimalError] ",md=si+"Invalid argument: ",c2=si+"Exponent out of range: ",Rm=Math.floor,ed=Math.pow,Sde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,Hs=1e7,Or=7,v8=9007199254740991,xx=Rm(v8/Or),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Or;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Ge.dividedBy=Ge.div=function(e){return Xo(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var r=this,s=r.constructor;return yr(Xo(r,new s(e),0,1),s.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Ss(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(vn))throw Error(si+"NaN");if(s.s<1)throw Error(si+(s.s?"NaN":"-Infinity"));return s.eq(vn)?new a(0):(Ur=!1,r=Xo(kf(s,i),kf(e,i),i),Ur=!0,yr(r,n))};Ge.minus=Ge.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?j8(r,e):b8(r,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(si+"NaN");return s.s?(Ur=!1,r=Xo(s,e,0,1).times(e),Ur=!0,s.minus(r)):yr(new a(s),n)};Ge.naturalExponential=Ge.exp=function(){return w8(this)};Ge.naturalLogarithm=Ge.ln=function(){return kf(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?b8(r,e):j8(r,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(md+e);if(r=Ss(n)+1,a=n.d.length-1,s=a*Or+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Ge.squareRoot=Ge.sqrt=function(){var e,r,s,a,n,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(si+"NaN")}for(e=Ss(l),Ur=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=to(l.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=Rm((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new d(r)):a=new d(n.toString()),s=d.precision,n=o=s+3;;)if(i=a,a=i.plus(Xo(l,i,o+2)).times(.5),to(i.d).slice(0,o)===(r=to(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(yr(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(r!="9999")break;o+=4}return Ur=!0,yr(a,s)};Ge.times=Ge.mul=function(e){var r,s,a,n,i,o,l,d,m,h=this,f=h.constructor,g=h.d,y=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,s=h.e+e.e,d=g.length,m=y.length,d<m&&(i=g,g=y,y=i,o=d,d=m,m=o),i=[],o=d+m,a=o;a--;)i.push(0);for(a=m;--a>=0;){for(r=0,n=d+a;n>a;)l=i[n]+y[a]*g[n-a-1]+r,i[n--]=l%Hs|0,r=l/Hs|0;i[n]=(i[n]+r)%Hs|0}for(;!i[--o];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,Ur?yr(e,f.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(uo(e,0,Om),r===void 0?r=a.rounding:uo(r,0,8),yr(s,e+Ss(s)+1,r))};Ge.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=Pd(a,!0):(uo(e,0,Om),r===void 0?r=n.rounding:uo(r,0,8),a=yr(new n(a),e+1,r),s=Pd(a,!0,e+1)),s};Ge.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?Pd(n):(uo(e,0,Om),r===void 0?r=i.rounding:uo(r,0,8),a=yr(new i(n),e+Ss(n)+1,r),s=Pd(a.abs(),!1,e+Ss(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Ge.toInteger=Ge.toint=function(){var e=this,r=e.constructor;return yr(new r(e),Ss(e)+1,r.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var r,s,a,n,i,o,l=this,d=l.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(vn);if(l=new d(l),!l.s){if(e.s<1)throw Error(si+"Infinity");return l}if(l.eq(vn))return l;if(a=d.precision,e.eq(vn))return yr(l,a);if(r=e.e,s=e.d.length-1,o=r>=s,i=l.s,o){if((s=h<0?-h:h)<=v8){for(n=new d(vn),r=Math.ceil(a/Or+4),Ur=!1;s%2&&(n=n.times(l),T5(n.d,r)),s=Rm(s/2),s!==0;)l=l.times(l),T5(l.d,r);return Ur=!0,e.s<0?new d(vn).div(n):yr(n,a)}}else if(i<0)throw Error(si+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,l.s=1,Ur=!1,n=e.times(kf(l,a+m)),Ur=!0,n=w8(n),n.s=i,n};Ge.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=Ss(n),a=Pd(n,s<=i.toExpNeg||s>=i.toExpPos)):(uo(e,1,Om),r===void 0?r=i.rounding:uo(r,0,8),n=yr(new i(n),e,r),s=Ss(n),a=Pd(n,e<=s||s<=i.toExpNeg,e)),a};Ge.toSignificantDigits=Ge.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(uo(e,1,Om),r===void 0?r=a.rounding:uo(r,0,8)),yr(new a(s),e,r)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Ss(e),s=e.constructor;return Pd(e,r<=s.toExpNeg||r>=s.toExpPos)};function b8(e,r){var s,a,n,i,o,l,d,m,h=e.constructor,f=h.precision;if(!e.s||!r.s)return r.s||(r=new h(e)),Ur?yr(r,f):r;if(d=e.d,m=r.d,o=e.e,n=r.e,d=d.slice(),i=o-n,i){for(i<0?(a=d,i=-i,l=m.length):(a=m,n=o,l=d.length),o=Math.ceil(f/Or),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=m.length,l-i<0&&(i=l,a=m,m=d,d=a),s=0;i;)s=(d[--i]=d[i]+m[i]+s)/Hs|0,d[i]%=Hs;for(s&&(d.unshift(s),++n),l=d.length;d[--l]==0;)d.pop();return r.d=d,r.e=n,Ur?yr(r,f):r}function uo(e,r,s){if(e!==~~e||e<r||e>s)throw Error(md+e)}function to(e){var r,s,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,r=1;r<n;r++)a=e[r]+"",s=Or-a.length,s&&(i+=Vl(s)),i+=a;o=e[r],a=o+"",s=Or-a.length,s&&(i+=Vl(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Xo=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%Hs|0,o=i/Hs|0;return o&&a.unshift(o),a}function r(a,n,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=n[l]){d=a[l]>n[l]?1:-1;break}return d}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*Hs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,d,m,h,f,g,y,w,b,v,N,C,S,_,E,A,T,M,z=a.constructor,V=a.s==n.s?1:-1,O=a.d,R=n.d;if(!a.s)return new z(a);if(!n.s)throw Error(si+"Division by zero");for(d=a.e-n.e,T=R.length,E=O.length,y=new z(V),w=y.d=[],m=0;R[m]==(O[m]||0);)++m;if(R[m]>(O[m]||0)&&--d,i==null?C=i=z.precision:o?C=i+(Ss(a)-Ss(n))+1:C=i,C<0)return new z(0);if(C=C/Or+2|0,m=0,T==1)for(h=0,R=R[0],C++;(m<E||h)&&C--;m++)S=h*Hs+(O[m]||0),w[m]=S/R|0,h=S%R|0;else{for(h=Hs/(R[0]+1)|0,h>1&&(R=e(R,h),O=e(O,h),T=R.length,E=O.length),_=T,b=O.slice(0,T),v=b.length;v<T;)b[v++]=0;M=R.slice(),M.unshift(0),A=R[0],R[1]>=Hs/2&&++A;do h=0,l=r(R,b,T,v),l<0?(N=b[0],T!=v&&(N=N*Hs+(b[1]||0)),h=N/A|0,h>1?(h>=Hs&&(h=Hs-1),f=e(R,h),g=f.length,v=b.length,l=r(f,b,g,v),l==1&&(h--,s(f,T<g?M:R,g))):(h==0&&(l=h=1),f=R.slice()),g=f.length,g<v&&f.unshift(0),s(b,f,v),l==-1&&(v=b.length,l=r(R,b,T,v),l<1&&(h++,s(b,T<v?M:R,v))),v=b.length):l===0&&(h++,b=[0]),w[m++]=h,l&&b[0]?b[v++]=O[_]||0:(b=[O[_]],v=1);while((_++<E||b[0]!==void 0)&&C--)}return w[0]||w.shift(),y.e=d,yr(y,o?i+Ss(y)+1:i)}}();function w8(e,r){var s,a,n,i,o,l,d=0,m=0,h=e.constructor,f=h.precision;if(Ss(e)>16)throw Error(c2+Ss(e));if(!e.s)return new h(vn);for(Ur=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(a=Math.log(ed(2,m))/Math.LN10*2+5|0,l+=a,s=n=i=new h(vn),h.precision=l;;){if(n=yr(n.times(e),l),s=s.times(++d),o=i.plus(Xo(n,s,l)),to(o.d).slice(0,l)===to(i.d).slice(0,l)){for(;m--;)i=yr(i.times(i),l);return h.precision=f,r==null?(Ur=!0,yr(i,f)):i}i=o}}function Ss(e){for(var r=e.e*Or,s=e.d[0];s>=10;s/=10)r++;return r}function Kj(e,r,s){if(r>e.LN10.sd())throw Ur=!0,s&&(e.precision=s),Error(si+"LN10 precision limit exceeded");return yr(new e(e.LN10),r)}function Vl(e){for(var r="";e--;)r+="0";return r}function kf(e,r){var s,a,n,i,o,l,d,m,h,f=1,g=10,y=e,w=y.d,b=y.constructor,v=b.precision;if(y.s<1)throw Error(si+(y.s?"NaN":"-Infinity"));if(y.eq(vn))return new b(0);if(r==null?(Ur=!1,m=v):m=r,y.eq(10))return r==null&&(Ur=!0),Kj(b,m);if(m+=g,b.precision=m,s=to(w),a=s.charAt(0),i=Ss(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)y=y.times(e),s=to(y.d),a=s.charAt(0),f++;i=Ss(y),a>1?(y=new b("0."+s),i++):y=new b(a+"."+s.slice(1))}else return d=Kj(b,m+2,v).times(i+""),y=kf(new b(a+"."+s.slice(1)),m-g).plus(d),b.precision=v,r==null?(Ur=!0,yr(y,v)):y;for(l=o=y=Xo(y.minus(vn),y.plus(vn),m),h=yr(y.times(y),m),n=3;;){if(o=yr(o.times(h),m),d=l.plus(Xo(o,new b(n),m)),to(d.d).slice(0,m)===to(l.d).slice(0,m))return l=l.times(2),i!==0&&(l=l.plus(Kj(b,m+2,v).times(i+""))),l=Xo(l,new b(f),m),b.precision=v,r==null?(Ur=!0,yr(l,v)):l;l=d,n+=2}}function E5(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=Rm(s/Or),e.d=[],a=(s+1)%Or,s<0&&(a+=Or),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Or;a<n;)e.d.push(+r.slice(a,a+=Or));r=r.slice(a),a=Or-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),Ur&&(e.e>xx||e.e<-xx))throw Error(c2+s)}else e.s=0,e.e=0,e.d=[0];return e}function yr(e,r,s){var a,n,i,o,l,d,m,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Or,n=r,m=f[h=0];else{if(h=Math.ceil((a+1)/Or),i=f.length,h>=i)return e;for(m=i=f[h],o=1;i>=10;i/=10)o++;a%=Or,n=a-Or+o}if(s!==void 0&&(i=ed(10,o-n-1),l=m/i%10|0,d=r<0||f[h+1]!==void 0||m%i,d=s<4?(l||d)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||d||s==6&&(a>0?n>0?m/ed(10,o-n):0:f[h-1])%10&1||s==(e.s<0?8:7))),r<1||!f[0])return d?(i=Ss(e),f.length=1,r=r-i-1,f[0]=ed(10,(Or-r%Or)%Or),e.e=Rm(-r/Or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=h,i=1,h--):(f.length=h+1,i=ed(10,Or-a),f[h]=n>0?(m/ed(10,o-n)%ed(10,n)|0)*i:0),d)for(;;)if(h==0){(f[0]+=i)==Hs&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=Hs)break;f[h--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(Ur&&(e.e>xx||e.e<-xx))throw Error(c2+Ss(e));return e}function j8(e,r){var s,a,n,i,o,l,d,m,h,f,g=e.constructor,y=g.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new g(e),Ur?yr(r,y):r;if(d=e.d,f=r.d,a=r.e,m=e.e,d=d.slice(),o=m-a,o){for(h=o<0,h?(s=d,o=-o,l=f.length):(s=f,a=m,l=d.length),n=Math.max(Math.ceil(y/Or),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=d.length,l=f.length,h=n<l,h&&(l=n),n=0;n<l;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}o=0}for(h&&(s=d,d=f,f=s,r.s=-r.s),l=d.length,n=f.length-l;n>0;--n)d[l++]=0;for(n=f.length;n>o;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=Hs-1;--d[i],d[n]+=Hs}d[n]-=f[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(r.d=d,r.e=a,Ur?yr(r,y):r):new g(0)}function Pd(e,r,s){var a,n=Ss(e),i=to(e.d),o=i.length;return r?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Vl(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Vl(-n-1)+i,s&&(a=s-o)>0&&(i+=Vl(a))):n>=o?(i+=Vl(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+Vl(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=Vl(a))),e.s<0?"-"+i:i}function T5(e,r){if(e.length>r)return e.length=r,!0}function N8(e){var r,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(md+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return E5(o,i.toString())}else if(typeof i!="string")throw Error(md+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Sde.test(i))E5(o,i);else throw Error(md+i)}if(n.prototype=Ge,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=N8,n.config=n.set=Cde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function Cde(e){if(!e||typeof e!="object")throw Error(si+"Object expected");var r,s,a,n=["precision",1,Om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(Rm(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(md+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(md+s+": "+a);return this}var d2=N8(Nde);vn=new d2(1);const hr=d2;var kde=e=>e,S8={},C8=e=>e===S8,O5=e=>function r(){return arguments.length===0||arguments.length===1&&C8(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},k8=(e,r)=>e===1?r:O5(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(o=>o!==S8).length;return i>=e?r(...a):k8(e-i,O5(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var m=a.map(h=>C8(h)?l.shift():h);return r(...m,...l)}))}),Ly=e=>k8(e.length,e),W1=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},_de=Ly((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),Pde=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return kde;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},V1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),_8=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((o,l)=>{var d;return o===((d=r)===null||d===void 0?void 0:d[l])})||(r=n,s=e(...n)),s}};function P8(e){var r;return e===0?r=1:r=Math.floor(new hr(e).abs().log(10).toNumber())+1,r}function A8(e,r,s){for(var a=new hr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}Ly((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});Ly((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});Ly((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var E8=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},T8=(e,r,s)=>{if(e.lte(0))return new hr(0);var a=P8(e.toNumber()),n=new hr(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new hr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),d=l.mul(n);return r?new hr(d.toNumber()):new hr(Math.ceil(d.toNumber()))},Ade=(e,r,s)=>{var a=new hr(1),n=new hr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new hr(10).pow(P8(e)-1),n=new hr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new hr(Math.floor(e)))}else e===0?n=new hr(Math.floor((r-1)/2)):s||(n=new hr(Math.floor(e)));var o=Math.floor((r-1)/2),l=Pde(_de(d=>n.add(new hr(d-o).mul(a)).toNumber()),W1);return l(0,r)},O8=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var o=T8(new hr(s).sub(r).div(a-1),n,i),l;r<=0&&s>=0?l=new hr(0):(l=new hr(r).add(s).div(2),l=l.sub(new hr(l).mod(o)));var d=Math.ceil(l.sub(r).div(o).toNumber()),m=Math.ceil(new hr(s).sub(l).div(o).toNumber()),h=d+m+1;return h>a?O8(r,s,a,n,i+1):(h<a&&(m=s>0?m+(a-h):m,d=s>0?d:d+(a-h)),{step:o,tickMin:l.sub(new hr(d).mul(o)),tickMax:l.add(new hr(m).mul(o))})};function Ede(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=E8([r,s]);if(o===-1/0||l===1/0){var d=l===1/0?[o,...W1(0,a-1).map(()=>1/0)]:[...W1(0,a-1).map(()=>-1/0),l];return r>s?V1(d):d}if(o===l)return Ade(o,a,n);var{step:m,tickMin:h,tickMax:f}=O8(o,l,i,n,0),g=A8(h,f.add(new hr(.1).mul(m)),m);return r>s?V1(g):g}function Tde(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=E8([s,a]);if(i===-1/0||o===1/0)return[s,a];if(i===o)return[i];var l=Math.max(r,2),d=T8(new hr(o).sub(i).div(l-1),n,0),m=[...A8(new hr(i),new hr(o),d),o];return n===!1&&(m=m.map(h=>Math.round(h))),s>a?V1(m):m}var Ode=_8(Ede),Rde=_8(Tde),R8=e=>e.rootProps.maxBarSize,Mde=e=>e.rootProps.barGap,M8=e=>e.rootProps.barCategoryGap,Ide=e=>e.rootProps.barSize,op=e=>e.rootProps.stackOffset,u2=e=>e.options.chartName,m2=e=>e.rootProps.syncId,I8=e=>e.rootProps.syncMethod,h2=e=>e.options.eventEmitter,Bo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},gn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$y=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},Dde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bo.angleAxisId,includeHidden:!1,name:void 0,reversed:Bo.reversed,scale:Bo.scale,tick:Bo.tick,tickCount:void 0,ticks:void 0,type:Bo.type,unit:void 0},Lde={allowDataOverflow:gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,ticks:void 0,type:gn.type,unit:void 0},$de={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bo.scale,tick:Bo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zde={allowDataOverflow:gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,ticks:void 0,type:"category",unit:void 0},f2=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?$de:Dde,p2=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?zde:Lde,zy=e=>e.polarOptions,g2=ge([ul,ml,Is],p6),D8=ge([zy,g2],(e,r)=>{if(e!=null)return wa(e.innerRadius,r,0)}),L8=ge([zy,g2],(e,r)=>{if(e!=null)return wa(e.outerRadius,r,r*.8)}),Fde=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},$8=ge([zy],Fde);ge([f2,$8],$y);var z8=ge([g2,D8,L8],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});ge([p2,z8],$y);var F8=ge([Vt,zy,D8,L8,ul,ml],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:o,cy:l,startAngle:d,endAngle:m}=r;return{cx:wa(o,n,n/2),cy:wa(l,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:m,clockWise:!1}}}),Hr=(e,r)=>r,lp=(e,r,s)=>s;function Fy(e){return e==null?void 0:e.id}var Ls=e=>{var r=Vt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},Mm=e=>e.tooltip.settings.axisId,Js=e=>{var r=Ls(e),s=Mm(e);return cp(e,r,s)},U8=ge([Js],e=>e==null?void 0:e.dataKey);function B8(e,r,s){var{chartData:a=[]}=r,{allowDuplicatedCategory:n,dataKey:i}=s,o=new Map;return e.forEach(l=>{var d,m=(d=l.data)!==null&&d!==void 0?d:a;if(!(m==null||m.length===0)){var h=Fy(l);m.forEach((f,g)=>{var y=i==null||n?g:String(fr(f,i,null)),w=fr(f,l.dataKey,0),b;o.has(y)?b=o.get(y):b={},Object.assign(b,{[h]:w}),o.set(y,b)})}}),Array.from(o.values())}function Uy(e){return e.stackId!=null&&e.dataKey!=null}function R5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yx(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?R5(Object(s),!0).forEach(function(a){Ude(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ude(e,r,s){return(r=Bde(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bde(e){var r=Wde(e,"string");return typeof r=="symbol"?r:r+""}function Wde(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var H1=[0,"auto"],fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W8=(e,r)=>e.cartesianAxis.xAxis[r],yc=(e,r)=>{var s=W8(e,r);return s??fn},pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:H1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ep},V8=(e,r)=>e.cartesianAxis.yAxis[r],vc=(e,r)=>{var s=V8(e,r);return s??pn},Vde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},x2=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??Vde},hs=(e,r,s)=>{switch(r){case"xAxis":return yc(e,s);case"yAxis":return vc(e,s);case"zAxis":return x2(e,s);case"angleAxis":return f2(e,s);case"radiusAxis":return p2(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Hde=(e,r,s)=>{switch(r){case"xAxis":return yc(e,s);case"yAxis":return vc(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},cp=(e,r,s)=>{switch(r){case"xAxis":return yc(e,s);case"yAxis":return vc(e,s);case"angleAxis":return f2(e,s);case"radiusAxis":return p2(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},H8=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function y2(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var dp=e=>e.graphicalItems.cartesianItems,qde=ge([Hr,lp],y2),v2=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),up=ge([dp,hs,qde],v2),q8=ge([up],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(Uy)),K8=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),G8=ge([up],K8),b2=e=>e.map(r=>r.data).filter(Boolean).flat(1),Kde=ge([up],b2),w2=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},j2=ge([Kde,ip],w2),N2=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:fr(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:fr(n,a)}))):e.map(a=>({value:a})),By=ge([j2,hs,up],N2);function Y8(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Kd(e){return e.filter(r=>co(r)||r instanceof Date).map(Number).filter(r=>nn(r)===!1)}function Gde(e,r,s){return!s||typeof r!="number"||nn(r)?[]:s.length?Kd(s.flatMap(a=>{var n=fr(e,a.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!ia(i)||!ia(o)))return[r-i,r+o]})):[]}var Yde=ge([q8,ip,Js],B8),J8=(e,r,s)=>{var a={},n=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,d=l.map(Fy);return[o,{stackedData:hie(e,d,s),graphicalItems:l}]}))},_f=ge([Yde,q8,op],J8),X8=(e,r,s)=>{var{dataStartIndex:a,dataEndIndex:n}=r;if(s!=="zAxis"){var i=xie(e,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Jde=ge([_f,xc,Hr],X8),Q8=(e,r,s,a,n)=>s.length>0?e.flatMap(i=>s.flatMap(o=>{var l,d,m=(l=a[o.id])===null||l===void 0?void 0:l.filter(f=>Y8(n,f)),h=fr(i,(d=r.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:h,errorDomain:Gde(i,h,m)}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(i=>({value:fr(i,r.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Wy=e=>e.errorBars,Z8=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>Y8(s,a));ge([G8,Wy,Hr],Z8);var Xde=ge([j2,hs,G8,Wy,Hr],Q8);function Qde(e){var{value:r}=e;if(co(r)||r instanceof Date)return r}var M5=e=>{var r=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),s=Kd(r);if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Zde=(e,r,s)=>{var a=e.map(Qde).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&dL(a))?$6(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},S2=e=>{var r;if(e==null||!("domain"in e))return H1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Kd(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:H1},vx=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},e$=e=>e.referenceElements.dots,Im=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),eue=ge([e$,Hr,lp],Im),t$=e=>e.referenceElements.areas,tue=ge([t$,Hr,lp],Im),r$=e=>e.referenceElements.lines,rue=ge([r$,Hr,lp],Im),s$=(e,r)=>{var s=Kd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},sue=ge(eue,Hr,s$),a$=(e,r)=>{var s=Kd(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},aue=ge([tue,Hr],a$),n$=(e,r)=>{var s=Kd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},nue=ge(rue,Hr,n$),iue=ge(sue,nue,aue,(e,r,s)=>vx(e,s,r)),i$=ge([hs],S2),C2=(e,r,s,a,n,i,o)=>{var l=wde(r,e.allowDataOverflow);if(l!=null)return l;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",m=d?vx(s,n,M5(a)):vx(n,M5(a));return jde(r,m,e.allowDataOverflow)},oue=ge([hs,i$,Jde,Xde,iue,Vt,Hr],C2),lue=[0,1],k2=(e,r,s,a,n,i,o)=>{if(!((e==null||s==null||s.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,m=wo(r,i);return m&&l==null?$6(0,s.length):d==="category"?Zde(a,e,m):n==="expand"?lue:o}},_2=ge([hs,Vt,j2,By,op,Hr,oue],k2),o$=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Qf(i));return l in Jh?l:"point"}}},Dm=ge([hs,Vt,H8,u2,Hr],o$);function cue(e){if(e!=null){if(e in Jh)return Jh[e]();var r="scale".concat(Qf(e));if(r in Jh)return Jh[r]()}}function P2(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=cue(r);if(n!=null){var i=n.domain(s).range(a);return lie(i),i}}}var A2=(e,r,s)=>{var a=S2(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&fm(e))return Ode(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&fm(e))return Rde(e,r.tickCount,r.allowDecimals)}},E2=ge([_2,cp,Dm],A2),T2=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fm(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],o=r[1],l=s[s.length-1];return[Math.min(n,i),Math.max(o,l)]}return r},due=ge([hs,_2,E2,Hr],T2),uue=ge(By,hs,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Kd(e.map(l=>l.value))).sort((l,d)=>l-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];s=Math.min(s,o)}return s/n}}),l$=ge(uue,Vt,M8,Is,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!ia(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var o=wa(s,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),mue=(e,r)=>{var s=yc(e,r);return s==null||typeof s.padding!="string"?0:l$(e,"xAxis",r,s.padding)},hue=(e,r)=>{var s=vc(e,r);return s==null||typeof s.padding!="string"?0:l$(e,"yAxis",r,s.padding)},fue=ge(yc,mue,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),pue=ge(vc,hue,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),gue=ge([Is,fue,Ey,Ay,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),xue=ge([Is,Vt,pue,Ey,Ay,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:o}=n;return i?[a.height-o.bottom,o.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),mp=(e,r,s,a)=>{var n;switch(r){case"xAxis":return gue(e,s,a);case"yAxis":return xue(e,s,a);case"zAxis":return(n=x2(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return $8(e);case"radiusAxis":return z8(e,s);default:return}},c$=ge([hs,mp],$y),Lm=ge([hs,Dm,due,c$],P2);ge([up,Wy,Hr],Z8);function d$(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var Vy=(e,r)=>r,Hy=(e,r,s)=>s,yue=ge(_y,Vy,Hy,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(d$)),vue=ge(Py,Vy,Hy,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(d$)),u$=(e,r)=>({width:e.width,height:r.height}),bue=(e,r)=>{var s=typeof r.width=="number"?r.width:ep;return{width:s,height:e.height}},m$=ge(Is,yc,u$),wue=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},jue=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},Nue=ge(ml,Is,yue,Vy,Hy,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=u$(r,l);o==null&&(o=wue(r,a,e));var m=a==="top"&&!n||a==="bottom"&&n;i[l.id]=o-Number(m)*d.height,o+=(m?-1:1)*d.height}),i}),Sue=ge(ul,Is,vue,Vy,Hy,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=bue(r,l);o==null&&(o=jue(r,a,e));var m=a==="left"&&!n||a==="right"&&n;i[l.id]=o-Number(m)*d.width,o+=(m?-1:1)*d.width}),i}),Cue=(e,r)=>{var s=Is(e),a=yc(e,r);if(a!=null){var n=Nue(e,a.orientation,a.mirror),i=n[r];return i==null?{x:s.left,y:0}:{x:s.left,y:i}}},kue=(e,r)=>{var s=Is(e),a=vc(e,r);if(a!=null){var n=Sue(e,a.orientation,a.mirror),i=n[r];return i==null?{x:0,y:s.top}:{x:i,y:s.top}}},h$=ge(Is,vc,(e,r)=>{var s=typeof r.width=="number"?r.width:ep;return{width:s,height:e.height}}),I5=(e,r,s)=>{switch(r){case"xAxis":return m$(e,s).width;case"yAxis":return h$(e,s).height;default:return}},f$=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=s,l=wo(e,a),d=r.map(m=>m.value);if(o&&l&&i==="category"&&n&&dL(d))return d}},O2=ge([Vt,By,hs,Hr],f$),p$=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,o=wo(e,a);if(o&&(n==="number"||i!=="auto"))return r.map(l=>l.value)}},R2=ge([Vt,By,cp,Hr],p$),D5=ge([Vt,Hde,Dm,Lm,O2,R2,mp,E2,Hr],(e,r,s,a,n,i,o,l,d)=>{if(r==null)return null;var m=wo(e,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:m,niceTicks:l,range:o,realScaleType:s,scale:a}}),_ue=(e,r,s,a,n,i,o,l,d)=>{if(!(r==null||a==null)){var m=wo(e,d),{type:h,ticks:f,tickCount:g}=r,y=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/y:0;w=d==="angleAxis"&&i!=null&&i.length>=2?Ks(i[0]-i[1])*2*w:w;var b=f||n;if(b){var v=b.map((N,C)=>{var S=o?o.indexOf(N):N;return{index:C,coordinate:a(S)+w,value:N,offset:w}});return v.filter(N=>!nn(N.coordinate))}return m&&l?l.map((N,C)=>({coordinate:a(N)+w,value:N,index:C,offset:w})):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+w,value:N,offset:w})):a.domain().map((N,C)=>({coordinate:a(N)+w,value:o?o[N]:N,index:C,offset:w}))}},g$=ge([Vt,cp,Dm,Lm,E2,mp,O2,R2,Hr],_ue),Pue=(e,r,s,a,n,i,o)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var l=wo(e,o),{tickCount:d}=r,m=0;return m=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Ks(a[0]-a[1])*2*m:m,l&&i?i.map((h,f)=>({coordinate:s(h)+m,value:h,index:f,offset:m})):s.ticks?s.ticks(d).map(h=>({coordinate:s(h)+m,value:h,offset:m})):s.domain().map((h,f)=>({coordinate:s(h)+m,value:n?n[h]:h,index:f,offset:m}))}},mo=ge([Vt,cp,Lm,mp,O2,R2,Hr],Pue),ho=ge(hs,Lm,(e,r)=>{if(!(e==null||r==null))return yx(yx({},e),{},{scale:r})}),Aue=ge([hs,Dm,_2,c$],P2);ge((e,r,s)=>x2(e,s),Aue,(e,r)=>{if(!(e==null||r==null))return yx(yx({},e),{},{scale:r})});var Eue=ge([Vt,_y,Py],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),x$=e=>e.options.defaultTooltipEventType,y$=e=>e.options.validateTooltipEventTypes;function v$(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function M2(e,r){var s=x$(e),a=y$(e);return v$(r,s,a)}function Tue(e){return at(r=>M2(r,e))}var b$=(e,r)=>{var s,a=Number(r);if(!(nn(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},Oue=e=>e.tooltip.settings,Kl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Rue={itemInteraction:{click:Kl,hover:Kl},axisInteraction:{click:Kl,hover:Kl},keyboardInteraction:Kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},w$=Pn({name:"tooltip",initialState:Rue,reducers:{addTooltipEntrySettings(e,r){e.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(e,r){var s=Jo(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:Mue,removeTooltipEntrySettings:Iue,setTooltipSettingsState:Due,setActiveMouseOverItemIndex:j$,mouseLeaveItem:Lue,mouseLeaveChart:N$,setActiveClickItemIndex:$ue,setMouseOverAxisIndex:S$,setMouseClickAxisIndex:zue,setSyncInteraction:q1,setKeyboardInteraction:K1}=w$.actions,Fue=w$.reducer;function L5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Zg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L5(Object(s),!0).forEach(function(a){Uue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uue(e,r,s){return(r=Bue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bue(e){var r=Wue(e,"string");return typeof r=="symbol"?r:r+""}function Wue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vue(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Hue(e){return e.index!=null}var C$=(e,r,s,a)=>{if(r==null)return Kl;var n=Vue(e,r,s);if(n==null)return Kl;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Hue(n)){if(i)return Zg(Zg({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Zg(Zg({},Kl),{},{coordinate:n.coordinate})},I2=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!ia(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},k$=(e,r,s,a,n,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],m=d==null?void 0:l(d.positions,i);if(m!=null)return m;var h=n==null?void 0:n[Number(i)];if(h)switch(s){case"horizontal":return{x:h.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},_$=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},hp=e=>e.options.tooltipPayloadSearcher,$m=e=>e.tooltip;function $5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function z5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$5(Object(s),!0).forEach(function(a){que(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function que(e,r,s){return(r=Kue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kue(e){var r=Gue(e,"string");return typeof r=="symbol"?r:r+""}function Gue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Yue(e,r){return e??r}var P$=(e,r,s,a,n,i,o)=>{if(!(r==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:m,dataEndIndex:h}=s,f=[];return e.reduce((g,y)=>{var w,{dataDefinedOnItem:b,settings:v}=y,N=Yue(b,l),C=Array.isArray(N)?g6(N,m,h):N,S=(w=v==null?void 0:v.dataKey)!==null&&w!==void 0?w:a,_=v==null?void 0:v.nameKey,E;if(a&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?E=uL(C,a,n):E=i(C,r,d,_),Array.isArray(E))E.forEach(T=>{var M=z5(z5({},v),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});g.push(NT({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:fr(T.payload,T.dataKey),name:T.name}))});else{var A;g.push(NT({tooltipEntrySettings:v,dataKey:S,payload:E,value:fr(E,S),name:(A=fr(E,_))!==null&&A!==void 0?A:v==null?void 0:v.name}))}return g},f)}},D2=ge([Js,Vt,H8,u2,Ls],o$),Jue=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),Xue=ge([Ls,Mm],y2),fp=ge([Jue,Js,Xue],v2),Que=ge([fp],e=>e.filter(Uy)),Zue=ge([fp],b2),zm=ge([Zue,xc],w2),eme=ge([Que,xc,Js],B8),L2=ge([zm,Js,fp],N2),tme=ge([Js],S2),rme=ge([fp],e=>e.filter(Uy)),sme=ge([eme,rme,op],J8),ame=ge([sme,xc,Ls],X8),nme=ge([fp],K8),ime=ge([zm,Js,nme,Wy,Ls],Q8),ome=ge([e$,Ls,Mm],Im),lme=ge([ome,Ls],s$),cme=ge([t$,Ls,Mm],Im),dme=ge([cme,Ls],a$),ume=ge([r$,Ls,Mm],Im),mme=ge([ume,Ls],n$),hme=ge([lme,mme,dme],vx),fme=ge([Js,tme,ame,ime,hme,Vt,Ls],C2),A$=ge([Js,Vt,zm,L2,op,Ls,fme],k2),pme=ge([A$,Js,D2],A2),gme=ge([Js,A$,pme,Ls],T2),E$=e=>{var r=Ls(e),s=Mm(e),a=!1;return mp(e,r,s,a)},T$=ge([Js,E$],$y),O$=ge([Js,D2,gme,T$],P2),xme=ge([Vt,L2,Js,Ls],f$),yme=ge([Vt,L2,Js,Ls],p$),vme=(e,r,s,a,n,i,o,l)=>{if(r){var{type:d}=r,m=wo(e,l);if(a){var h=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=d==="category"&&a.bandwidth?a.bandwidth()/h:0;return f=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Ks(n[0]-n[1])*2*f:f,m&&o?o.map((g,y)=>({coordinate:a(g)+f,value:g,index:y,offset:f})):a.domain().map((g,y)=>({coordinate:a(g)+f,value:i?i[g]:g,index:y,offset:f}))}}},fl=ge([Vt,Js,D2,O$,E$,xme,yme,Ls],vme),$2=ge([x$,y$,Oue],(e,r,s)=>v$(s.shared,e,r)),R$=e=>e.tooltip.settings.trigger,z2=e=>e.tooltip.settings.defaultIndex,qy=ge([$m,$2,R$,z2],C$),ic=ge([qy,zm],I2),M$=ge([fl,ic],b$),I$=ge([qy],e=>{if(e)return e.dataKey}),D$=ge([$m,$2,R$,z2],_$),bme=ge([ul,ml,Vt,Is,fl,z2,D$,hp],k$),wme=ge([qy,bme],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),jme=ge([qy],e=>e.active),Nme=ge([D$,ic,xc,U8,M$,hp,$2],P$),Sme=ge([Nme],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function F5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function U5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?F5(Object(s),!0).forEach(function(a){Cme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cme(e,r,s){return(r=kme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kme(e){var r=_me(e,"string");return typeof r=="symbol"?r:r+""}function _me(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Pme=()=>at(Js),Ame=()=>{var e=Pme(),r=at(fl),s=at(O$);return _d(U5(U5({},e),{},{scale:s}),r)},L$=()=>at(u2),F2=(e,r)=>r,$$=(e,r,s)=>s,U2=(e,r,s,a)=>a,Eme=ge(fl,e=>by(e,r=>r.coordinate)),B2=ge([$m,F2,$$,U2],C$),z$=ge([B2,zm],I2),Tme=(e,r,s)=>{if(r!=null){var a=$m(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},F$=ge([$m,F2,$$,U2],_$),bx=ge([ul,ml,Vt,Is,fl,U2,F$,hp],k$),Ome=ge([B2,bx],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),U$=ge(fl,z$,b$),Rme=ge([F$,z$,xc,U8,U$,hp,F2],P$),Mme=ge([B2],e=>({isActive:e.active,activeIndex:e.index})),Ime=(e,r,s,a,n,i,o,l)=>{if(!(!e||!r||!a||!n||!i)){var d=yie(e.chartX,e.chartY,r,s,l);if(d){var m=bie(d,r),h=iie(m,o,i,a,n),f=vie(r,i,h,d);return{activeIndex:String(h),activeCoordinate:f}}}};function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},G1.apply(null,arguments)}function B5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function e0(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?B5(Object(s),!0).forEach(function(a){Dme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dme(e,r,s){return(r=Lme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Lme(e){var r=$me(e,"string");return typeof r=="symbol"?r:r+""}function $me(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zme(e){var{coordinate:r,payload:s,index:a,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:d,chartName:m}=e,h=r,f=s,g=a;if(!l||!h||m!=="ScatterChart"&&d!=="axis")return null;var y,w;if(m==="ScatterChart")y=h,w=ooe;else if(m==="BarChart")y=loe(o,h,n,i),w=M6;else if(o==="radial"){var{cx:b,cy:v,radius:N,startAngle:C,endAngle:S}=I6(h);y={cx:b,cy:v,startAngle:C,endAngle:S,innerRadius:N,outerRadius:N},w=L6}else y={points:Uoe(o,h,n)},w=Xu;var _=typeof l=="object"&&"className"in l?l.className:void 0,E=e0(e0(e0(e0({stroke:"#ccc",pointerEvents:"none"},n),y),Cr(l,!1)),{},{payload:f,payloadIndex:g,className:Qt("recharts-tooltip-cursor",_)});return p.isValidElement(l)?p.cloneElement(l,E):p.createElement(w,E)}function Fme(e){var r=Ame(),s=N6(),a=tp(),n=L$();return p.createElement(zme,G1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var B$=p.createContext(null),Ume=()=>p.useContext(B$),Gj={exports:{}},W5;function Bme(){return W5||(W5=1,function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function i(d,m,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new n(h,f||d,g),w=s?s+m:m;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function o(d,m){--d._eventsCount===0?d._events=new a:delete d._events[m]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var m=[],h,f;if(this._eventsCount===0)return m;for(f in h=this._events)r.call(h,f)&&m.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},l.prototype.listeners=function(m){var h=s?s+m:m,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,y=f.length,w=new Array(y);g<y;g++)w[g]=f[g].fn;return w},l.prototype.listenerCount=function(m){var h=s?s+m:m,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(m,h,f,g,y,w){var b=s?s+m:m;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,C,S;if(v.fn){switch(v.once&&this.removeListener(m,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,f),!0;case 4:return v.fn.call(v.context,h,f,g),!0;case 5:return v.fn.call(v.context,h,f,g,y),!0;case 6:return v.fn.call(v.context,h,f,g,y,w),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];v.fn.apply(v.context,C)}else{var _=v.length,E;for(S=0;S<_;S++)switch(v[S].once&&this.removeListener(m,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,h);break;case 3:v[S].fn.call(v[S].context,h,f);break;case 4:v[S].fn.call(v[S].context,h,f,g);break;default:if(!C)for(E=1,C=new Array(N-1);E<N;E++)C[E-1]=arguments[E];v[S].fn.apply(v[S].context,C)}}return!0},l.prototype.on=function(m,h,f){return i(this,m,h,f,!1)},l.prototype.once=function(m,h,f){return i(this,m,h,f,!0)},l.prototype.removeListener=function(m,h,f,g){var y=s?s+m:m;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!f||w.context===f)&&o(this,y);else{for(var b=0,v=[],N=w.length;b<N;b++)(w[b].fn!==h||g&&!w[b].once||f&&w[b].context!==f)&&v.push(w[b]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(m){var h;return m?(h=s?s+m:m,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l}(Gj)),Gj.exports}var Wme=Bme();const Vme=ai(Wme);var Pf=new Vme,Y1="recharts.syncEvent.tooltip",V5="recharts.syncEvent.brush";function Ky(e,r){if(r){var s=Number.parseInt(r,10);if(!nn(s))return e==null?void 0:e[s]}}var Hme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},W$=Pn({name:"options",initialState:Hme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qme=W$.reducer,{createEventEmitter:Kme}=W$.actions;function Gme(e){return e.tooltip.syncInteraction}var Yme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V$=Pn({name:"chartData",initialState:Yme,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:H5,setDataStartEndIndexes:Jme,setComputedData:vSe}=V$.actions,Xme=V$.reducer,Qme=["x","y"];function q5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Wc(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?q5(Object(s),!0).forEach(function(a){Zme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zme(e,r,s){return(r=ehe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ehe(e){var r=the(e,"string");return typeof r=="symbol"?r:r+""}function the(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function rhe(e,r){if(e==null)return{};var s,a,n=she(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function she(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var H$=()=>{};function ahe(){var e=at(m2),r=at(h2),s=ms(),a=at(I8),n=at(fl),i=tp(),o=$C(),l=at(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return H$;var d=(m,h,f)=>{if(r!==f&&e===m){if(a==="index"){var g;if(o&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate){var y=h.payload.coordinate,{x:w,y:b}=y,v=rhe(y,Qme),N=Wc(Wc(Wc({},v),typeof w=="number"&&{x:Math.max(o.x,Math.min(w,o.x+o.width))}),typeof b=="number"&&{y:Math.max(o.y,Math.min(b,o.y+o.height))}),C=Wc(Wc({},h),{},{payload:Wc(Wc({},h.payload),{},{coordinate:N})});s(C)}else s(h);return}if(n!=null){var S;if(typeof a=="function"){var _={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},E=a(n,_);S=n[E]}else a==="value"&&(S=n.find($=>String($.value)===h.payload.label));var{coordinate:A}=h.payload;if(S==null||h.payload.active===!1||A==null||o==null){s(q1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:T,y:M}=A,z=Math.min(T,o.x+o.width),V=Math.min(M,o.y+o.height),O={x:i==="horizontal"?S.coordinate:z,y:i==="horizontal"?V:S.coordinate},R=q1({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(S.index),label:h.payload.label});s(R)}}};return Pf.on(Y1,d),()=>{Pf.off(Y1,d)}},[l,s,r,e,a,n,i,o])}function nhe(){var e=at(m2),r=at(h2),s=ms();p.useEffect(()=>{if(e==null)return H$;var a=(n,i,o)=>{r!==o&&e===n&&s(Jme(i))};return Pf.on(V5,a),()=>{Pf.off(V5,a)}},[s,r,e])}function ihe(){var e=ms();p.useEffect(()=>{e(Kme())},[e]),ahe(),nhe()}function ohe(e,r,s,a,n,i){var o=at(g=>Tme(g,e,r)),l=at(h2),d=at(m2),m=at(I8),h=at(Gme),f=h==null?void 0:h.active;p.useEffect(()=>{if(!f&&d!=null&&l!=null){var g=q1({active:i,coordinate:s,dataKey:o,index:n,label:typeof a=="number"?String(a):a});Pf.emit(Y1,d,g,l)}},[f,s,o,n,a,l,d,m,i])}function K5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function G5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?K5(Object(s),!0).forEach(function(a){lhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):K5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lhe(e,r,s){return(r=che(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function che(e){var r=dhe(e,"string");return typeof r=="symbol"?r:r+""}function dhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function uhe(e){return e.dataKey}function mhe(e,r){return p.isValidElement(e)?p.cloneElement(e,r):typeof e=="function"?p.createElement(e,r):p.createElement(zie,r)}var Y5=[],hhe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yn(e){var r=ka(e,hhe),{active:s,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:d,offset:m,payloadUniqBy:h,position:f,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:b,shared:v,trigger:N,defaultIndex:C,portal:S,axisId:_}=r,E=ms(),A=typeof C=="number"?String(C):C;p.useEffect(()=>{E(Due({shared:v,trigger:N,axisId:_,active:s,defaultIndex:A}))},[E,v,N,_,s,A]);var T=$C(),M=A6(),z=Tue(v),{activeIndex:V,isActive:O}=at(I=>Mme(I,z,N,A)),R=at(I=>Rme(I,z,N,A)),$=at(I=>U$(I,z,N,A)),B=at(I=>Ome(I,z,N,A)),U=R,te=Ume(),L=s??O,[F,q]=Jae([U,L]),ee=z==="axis"?$:void 0;ohe(z,N,B,ee,V,L);var W=S??te;if(W==null)return null;var Z=U??Y5;L||(Z=Y5),l&&Z.length&&(Z=Sae(U.filter(I=>I.value!=null&&(I.hide!==!0||r.includeHidden)),h,uhe));var ve=Z.length>0,ne=p.createElement(qie,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:d,active:L,coordinate:B,hasPayload:ve,offset:m,position:f,reverseDirection:g,useTranslate3d:y,viewBox:T,wrapperStyle:w,lastBoundingBox:F,innerRef:q,hasPortalFromProps:!!S},mhe(o,G5(G5({},r),{},{payload:Z,label:ee,active:L,coordinate:B,accessibilityLayer:M})));return p.createElement(p.Fragment,null,cc.createPortal(ne,W),L&&p.createElement(Fme,{cursor:b,tooltipEventType:z,coordinate:B,payload:U,index:V}))}var Yj={},Jj={},Xj={},J5;function fhe(){return J5||(J5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),h=()=>{l!==null&&(s.apply(o,l),o=void 0,l=null)},f=()=>{m&&h(),b()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{w(),o=void 0,l=null},v=()=>{h()},N=function(...C){if(n!=null&&n.aborted)return;o=this,l=C;const S=g==null;y(),d&&S&&h()};return N.schedule=y,N.cancel=b,N.flush=v,n==null||n.addEventListener("abort",b,{once:!0}),N}e.debounce=r}(Xj)),Xj}var X5;function phe(){return X5||(X5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=fhe();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,m=Array(2);o&&(m[0]="leading"),l&&(m[1]="trailing");let h,f=null;const g=r.debounce(function(...b){h=a.apply(this,b),f=null},n,{edges:m}),y=function(...b){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(h=a.apply(this,b),f=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,b),h)},w=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=w,y}e.debounce=s}(Jj)),Jj}var Q5;function ghe(){return Q5||(Q5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=phe();function s(a,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return r.debounce(a,n,{leading:o,maxWait:n,trailing:l})}e.throttle=s}(Yj)),Yj}var Qj,Z5;function xhe(){return Z5||(Z5=1,Qj=ghe().throttle),Qj}var yhe=xhe();const vhe=ai(yhe);var af=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function eO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Zj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eO(Object(s),!0).forEach(function(a){bhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bhe(e,r,s){return(r=whe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function whe(e){var r=jhe(e,"string");return typeof r=="symbol"?r:r+""}function jhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Jn=p.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:d,children:m,debounce:h=0,id:f,className:g,onResize:y,style:w={}}=e,b=p.useRef(null),v=p.useRef();v.current=y,p.useImperativeHandle(r,()=>b.current);var[N,C]=p.useState({containerWidth:a.width,containerHeight:a.height}),S=p.useCallback((E,A)=>{C(T=>{var M=Math.round(E),z=Math.round(A);return T.containerWidth===M&&T.containerHeight===z?T:{containerWidth:M,containerHeight:z}})},[]);p.useEffect(()=>{var E=z=>{var V,{width:O,height:R}=z[0].contentRect;S(O,R),(V=v.current)===null||V===void 0||V.call(v,O,R)};h>0&&(E=vhe(E,h,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:T,height:M}=b.current.getBoundingClientRect();return S(T,M),A.observe(b.current),()=>{A.disconnect()}},[S,h]);var _=p.useMemo(()=>{var{containerWidth:E,containerHeight:A}=N;if(E<0||A<0)return null;af(rd(n)||rd(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),af(!s||s>0,"The aspect(%s) must be greater than zero.",s);var T=rd(n)?E:n,M=rd(i)?A:i;return s&&s>0&&(T?M=T/s:M&&(T=M*s),d&&M>d&&(M=d)),af(T>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,M,n,i,o,l,s),p.Children.map(m,z=>p.cloneElement(z,{width:T,height:M,style:Zj({width:T,height:M},z.props.style)}))},[s,m,i,d,l,o,N,n]);return p.createElement("div",{id:f?"".concat(f):void 0,className:Qt("recharts-responsive-container",g),style:Zj(Zj({},w),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:b},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Gd=e=>null;Gd.displayName="Cell";function Nhe(e,r,s){return(r=She(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function She(e){var r=Che(e,"string");return typeof r=="symbol"?r:r+""}function Che(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class khe{constructor(r){Nhe(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function tO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _he(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?tO(Object(s),!0).forEach(function(a){Phe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Phe(e,r,s){return(r=Ahe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ahe(e){var r=Ehe(e,"string");return typeof r=="symbol"?r:r+""}function Ehe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var The={cacheSize:2e3,enableCache:!0},q$=_he({},The),rO=new khe(q$.cacheSize),Ohe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sO="recharts_measurement_span";function Rhe(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",l=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l)}var aO=(e,r)=>{try{var s=document.getElementById(sO);s||(s=document.createElement("span"),s.setAttribute("id",sO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,Ohe,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},nf=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||fc.isSsr)return{width:0,height:0};if(!q$.enableCache)return aO(r,s);var a=Rhe(r,s),n=rO.get(a);if(n)return n;var i=aO(r,s);return rO.set(a,i),i},nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ihe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dhe=Object.keys(K$),Uu="NaN";function Lhe(e,r){return e*K$[r]}class tn{static parse(r){var s,[,a,n]=(s=Ihe.exec(r))!==null&&s!==void 0?s:[];return new tn(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,nn(r)&&(this.unit=""),s!==""&&!Mhe.test(s)&&(this.num=NaN,this.unit=""),Dhe.includes(s)&&(this.num=Lhe(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new tn(NaN,""):new tn(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new tn(NaN,""):new tn(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new tn(NaN,""):new tn(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new tn(NaN,""):new tn(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return nn(this.num)}}function G$(e){if(e.includes(Uu))return Uu;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=nO.exec(r))!==null&&s!==void 0?s:[],o=tn.parse(a??""),l=tn.parse(i??""),d=n==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return Uu;r=r.replace(nO,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,[,h,f,g]=(m=iO.exec(r))!==null&&m!==void 0?m:[],y=tn.parse(h??""),w=tn.parse(g??""),b=f==="+"?y.add(w):y.subtract(w);if(b.isNaN())return Uu;r=r.replace(iO,b.toString())}return r}var oO=/\(([^()]*)\)/;function $he(e){for(var r=e,s;(s=oO.exec(r))!=null;){var[,a]=s;r=r.replace(oO,G$(a))}return r}function zhe(e){var r=e.replace(/\s+/g,"");return r=$he(r),r=G$(r),r}function Fhe(e){try{return zhe(e)}catch{return Uu}}function eN(e){var r=Fhe(e.slice(5,-1));return r===Uu?"":r}var Uhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bhe=["dx","dy","angle","className","breakAll"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},J1.apply(null,arguments)}function lO(e,r){if(e==null)return{};var s,a,n=Whe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Whe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Y$=/[ \f\n\r\t\v\u2028\u2029]+/,J$=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Rr(r)||(s?n=r.toString().split(""):n=r.toString().split(Y$));var i=n.map(l=>({word:l,width:nf(l,a).width})),o=s?0:nf("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Vhe=(e,r,s,a,n)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,m=st(i),h=o,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((R,$)=>{var{word:B,width:U}=$,te=R[R.length-1];if(te&&(a==null||n||te.width+U+s<Number(a)))te.words.push(B),te.width+=U+s;else{var L={words:[B],width:U};R.push(L)}return R},[])},g=f(r),y=V=>V.reduce((O,R)=>O.width>R.width?O:R);if(!m||n)return g;var w=g.length>i||y(g).width>Number(a);if(!w)return g;for(var b="",v=V=>{var O=h.slice(0,V),R=J$({breakAll:d,style:l,children:O+b}).wordsWithComputedWidth,$=f(R),B=$.length>i||y($).width>Number(a);return[B,$]},N=0,C=h.length-1,S=0,_;N<=C&&S<=h.length-1;){var E=Math.floor((N+C)/2),A=E-1,[T,M]=v(A),[z]=v(E);if(!T&&!z&&(N=E+1),T&&z&&(C=E-1),!T&&z){_=M;break}S++}return _||g},cO=e=>{var r=Rr(e)?[]:e.toString().split(Y$);return[{words:r}]},Hhe=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:o}=e;if((r||s)&&!fc.isSsr){var l,d,m=J$({breakAll:i,children:a,style:n});if(m){var{wordsWithComputedWidth:h,spaceWidth:f}=m;l=h,d=f}else return cO(a);return Vhe({breakAll:i,children:a,maxLines:o,style:n},l,d,r,s)}return cO(a)},dO="#808080",Gy=p.forwardRef((e,r)=>{var{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:d="end",fill:m=dO}=e,h=lO(e,Uhe),f=p.useMemo(()=>Hhe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:g,dy:y,angle:w,className:b,breakAll:v}=h,N=lO(h,Bhe);if(!co(s)||!co(a)||f.length===0)return null;var C=s+(st(g)?g:0),S=a+(st(y)?y:0),_;switch(d){case"start":_=eN("calc(".concat(i,")"));break;case"middle":_=eN("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:_=eN("calc(".concat(f.length-1," * -").concat(n,")"));break}var E=[];if(o){var A=f[0].width,{width:T}=h;E.push("scale(".concat(st(T)?T/A:1,")"))}return w&&E.push("rotate(".concat(w,", ").concat(C,", ").concat(S,")")),E.length&&(N.transform=E.join(" ")),p.createElement("text",J1({},Cr(N,!0),{ref:r,x:C,y:S,className:Qt("recharts-text",b),textAnchor:l,fill:m.includes("url")?dO:m}),f.map((M,z)=>{var V=M.words.join(v?"":" ");return p.createElement("tspan",{x:C,dy:z===0?_:n,key:"".concat(V,"-").concat(z)},V)}))});Gy.displayName="Text";var qhe=["labelRef"];function Khe(e,r){if(e==null)return{};var s,a,n=Ghe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ghe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function uO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function is(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uO(Object(s),!0).forEach(function(a){Yhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Yhe(e,r,s){return(r=Jhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Jhe(e){var r=Xhe(e,"string");return typeof r=="symbol"?r:r+""}function Xhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wo.apply(null,arguments)}var X$=p.createContext(null),Qhe=e=>{var{x:r,y:s,width:a,height:n,children:i}=e,o=p.useMemo(()=>({x:r,y:s,width:a,height:n}),[r,s,a,n]);return p.createElement(X$.Provider,{value:o},i)},Q$=()=>{var e=p.useContext(X$),r=$C();return e||r},Zhe=p.createContext(null),efe=()=>{var e=p.useContext(Zhe),r=at(F8);return e||r},tfe=e=>{var{value:r,formatter:s}=e,a=Rr(e.children)?r:e.children;return typeof s=="function"?s(a):a},W2=e=>e!=null&&typeof e=="function",rfe=(e,r)=>{var s=Ks(r-e),a=Math.min(Math.abs(r-e),360);return s*a},sfe=(e,r,s,a,n)=>{var{offset:i,className:o}=e,{cx:l,cy:d,innerRadius:m,outerRadius:h,startAngle:f,endAngle:g,clockWise:y}=n,w=(m+h)/2,b=rfe(f,g),v=b>=0?1:-1,N,C;switch(r){case"insideStart":N=f+v*i,C=y;break;case"insideEnd":N=g-v*i,C=!y;break;case"end":N=g+v*i,C=y;break;default:throw new Error("Unsupported position ".concat(r))}C=b<=0?C:!C;var S=js(l,d,w,N),_=js(l,d,w,N+(C?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(_.x,",").concat(_.y),A=Rr(e.id)?yf("recharts-radial-line-"):e.id;return p.createElement("text",Wo({},a,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:A,d:E})),p.createElement("textPath",{xlinkHref:"#".concat(A)},s))},afe=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,m=(l+d)/2;if(s==="outside"){var{x:h,y:f}=js(a,n,o+r,m);return{x:h,y:f,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x:y,y:w}=js(a,n,g,m);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Z$=e=>"cx"in e&&st(e.cx),nfe=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!Z$(s)&&(i=s);var{x:o,y:l,width:d,height:m}=r,h=m>=0?1:-1,f=h*a,g=h>0?"end":"start",y=h>0?"start":"end",w=d>=0?1:-1,b=w*a,v=w>0?"end":"start",N=w>0?"start":"end";if(n==="top"){var C={x:o+d/2,y:l-h*a,textAnchor:"middle",verticalAnchor:g};return is(is({},C),i?{height:Math.max(l-i.y,0),width:d}:{})}if(n==="bottom"){var S={x:o+d/2,y:l+m+f,textAnchor:"middle",verticalAnchor:y};return is(is({},S),i?{height:Math.max(i.y+i.height-(l+m),0),width:d}:{})}if(n==="left"){var _={x:o-b,y:l+m/2,textAnchor:v,verticalAnchor:"middle"};return is(is({},_),i?{width:Math.max(_.x-i.x,0),height:m}:{})}if(n==="right"){var E={x:o+d+b,y:l+m/2,textAnchor:N,verticalAnchor:"middle"};return is(is({},E),i?{width:Math.max(i.x+i.width-E.x,0),height:m}:{})}var A=i?{width:d,height:m}:{};return n==="insideLeft"?is({x:o+b,y:l+m/2,textAnchor:N,verticalAnchor:"middle"},A):n==="insideRight"?is({x:o+d-b,y:l+m/2,textAnchor:v,verticalAnchor:"middle"},A):n==="insideTop"?is({x:o+d/2,y:l+f,textAnchor:"middle",verticalAnchor:y},A):n==="insideBottom"?is({x:o+d/2,y:l+m-f,textAnchor:"middle",verticalAnchor:g},A):n==="insideTopLeft"?is({x:o+b,y:l+f,textAnchor:N,verticalAnchor:y},A):n==="insideTopRight"?is({x:o+d-b,y:l+f,textAnchor:v,verticalAnchor:y},A):n==="insideBottomLeft"?is({x:o+b,y:l+m-f,textAnchor:N,verticalAnchor:g},A):n==="insideBottomRight"?is({x:o+d-b,y:l+m-f,textAnchor:v,verticalAnchor:g},A):n&&typeof n=="object"&&(st(n.x)||rd(n.x))&&(st(n.y)||rd(n.y))?is({x:o+wa(n.x,d),y:l+wa(n.y,m),textAnchor:"end",verticalAnchor:"end"},A):is({x:o+d/2,y:l+m/2,textAnchor:"middle",verticalAnchor:"middle"},A)},ife={offset:5};function Hl(e){var r=ka(e,ife),{viewBox:s,position:a,value:n,children:i,content:o,className:l="",textBreakAll:d,labelRef:m}=r,h=efe(),f=Q$(),g=a==="center"?f:h??f,y=s||g;if(!y||Rr(n)&&Rr(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var w=is(is({},r),{},{viewBox:y});if(p.isValidElement(o)){var{labelRef:b}=w,v=Khe(w,qhe);return p.cloneElement(o,v)}var N;if(typeof o=="function"){if(N=p.createElement(o,w),p.isValidElement(N))return N}else N=tfe(r);var C=Z$(y),S=Cr(r,!0);if(C&&(a==="insideStart"||a==="insideEnd"||a==="end"))return sfe(r,a,N,S,y);var _=C?afe(y,r.offset,r.position):nfe(r,y);return p.createElement(Gy,Wo({ref:m,className:Qt("recharts-label",l)},S,_,{breakAll:d}),N)}Hl.displayName="Label";var ofe=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?p.createElement(Hl,Wo({key:"label-implicit"},a)):co(e)?p.createElement(Hl,Wo({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===Hl?p.cloneElement(e,is({key:"label-implicit"},a)):p.createElement(Hl,Wo({key:"label-implicit",content:e},a)):W2(e)?p.createElement(Hl,Wo({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(Hl,Wo({},e,{key:"label-implicit"},a)):null};function lfe(e){var{label:r}=e,s=Q$();return ofe(r,s)||null}var tN={},rN={},mO;function cfe(){return mO||(mO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r}(rN)),rN}var sN={},hO;function dfe(){return hO||(hO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r}(sN)),sN}var fO;function ufe(){return fO||(fO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=cfe(),s=dfe(),a=AC();function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n}(tN)),tN}var aN,pO;function mfe(){return pO||(pO=1,aN=ufe().last),aN}var hfe=mfe();const ffe=ai(hfe);var pfe=["valueAccessor"],gfe=["dataKey","clockWise","id","textBreakAll"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wx.apply(null,arguments)}function gO(e,r){if(e==null)return{};var s,a,n=xfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function xfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var yfe=e=>Array.isArray(e.value)?ffe(e.value):e.value,ez=p.createContext(void 0),V2=ez.Provider,tz=p.createContext(void 0),vfe=tz.Provider;function bfe(){return p.useContext(ez)}function wfe(){return p.useContext(tz)}function p0(e){var{valueAccessor:r=yfe}=e,s=gO(e,pfe),{dataKey:a,clockWise:n,id:i,textBreakAll:o}=s,l=gO(s,gfe),d=bfe(),m=wfe(),h=d||m;return!h||!h.length?null:p.createElement(rs,{className:"recharts-label-list"},h.map((f,g)=>{var y,w=Rr(a)?r(f,g):fr(f&&f.payload,a),b=Rr(i)?{}:{id:"".concat(i,"-").concat(g)};return p.createElement(Hl,wx({},Cr(f,!0),l,b,{fill:(y=s.fill)!==null&&y!==void 0?y:f.fill,parentViewBox:f.parentViewBox,value:w,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(g),index:g}))}))}p0.displayName="LabelList";function Yy(e){var{label:r}=e;return r?r===!0?p.createElement(p0,{key:"labelList-implicit"}):p.isValidElement(r)||W2(r)?p.createElement(p0,{key:"labelList-implicit",content:r}):typeof r=="object"?p.createElement(p0,wx({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},X1.apply(null,arguments)}var H2=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=Qt("recharts-dot",n);return r===+r&&s===+s&&a===+a?p.createElement("circle",X1({},Li(e),SC(e),{className:i,cx:r,cy:s,r:a})):null},rz=e=>e.graphicalItems.polarItems,jfe=ge([Hr,lp],y2),q2=ge([rz,hs,jfe],v2),Nfe=ge([q2],b2),K2=ge([Nfe,l2],w2),Sfe=ge([K2,hs,q2],N2),Cfe=ge([K2,hs,q2],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,o=fr(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:fr(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),xO=()=>{},kfe=ge([hs,i$,xO,Cfe,xO,Vt,Hr],C2),sz=ge([hs,Vt,K2,Sfe,op,Hr,kfe],k2),_fe=ge([sz,hs,Dm],A2);ge([hs,sz,_fe,Hr],T2);var Pfe={radiusAxis:{},angleAxis:{}},az=Pn({name:"polarAxis",initialState:Pfe,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:bSe,removeRadiusAxis:wSe,addAngleAxis:jSe,removeAngleAxis:NSe}=az.actions,Afe=az.reducer;function yO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vO(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yO(Object(s),!0).forEach(function(a){Efe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Efe(e,r,s){return(r=Tfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Tfe(e){var r=Ofe(e,"string");return typeof r=="symbol"?r:r+""}function Ofe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Rfe=(e,r)=>r,G2=ge([rz,Rfe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),Mfe=[],Y2=(e,r,s)=>(s==null?void 0:s.length)===0?Mfe:s,nz=ge([l2,G2,Y2],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>vO(vO({},r.presentationProps),i.props))),n!=null)return n}}),Ife=ge([nz,G2,Y2],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,o=fr(a,r.nameKey,r.name),l;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=r.fill,{value:hc(o,r.dataKey),color:l,payload:a,type:r.legendType}})}),Dfe=ge([nz,G2,Y2,Is],(e,r,s,a)=>{if(!(r==null||e==null))return Rpe({offset:a,pieSettings:r,displayedData:e,cells:s})}),nN={},bO;function Lfe(){return bO||(bO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r}(nN)),nN}var iN,wO;function $fe(){return wO||(wO=1,iN=Lfe().isPlainObject),iN}var zfe=$fe();const Ffe=ai(zfe);function jO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function NO(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?jO(Object(s),!0).forEach(function(a){Ufe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ufe(e,r,s){return(r=Bfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Bfe(e){var r=Wfe(e,"string");return typeof r=="symbol"?r:r+""}function Wfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jx.apply(null,arguments)}var SO=(e,r,s,a,n)=>{var i=s-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+s,",").concat(r),o+="L ".concat(e+s-i/2,",").concat(r+n),o+="L ".concat(e+s-i/2-a,",").concat(r+n),o+="L ".concat(e,",").concat(r," Z"),o},Vfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hfe=e=>{var r=ka(e,Vfe),{x:s,y:a,upperWidth:n,lowerWidth:i,height:o,className:l}=r,{animationEasing:d,animationDuration:m,animationBegin:h,isUpdateAnimationActive:f}=r,g=p.useRef(),[y,w]=p.useState(-1),b=p.useRef(n),v=p.useRef(i),N=p.useRef(o),C=p.useRef(s),S=p.useRef(a),_=Em(e,"trapezoid-");if(p.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var B=g.current.getTotalLength();B&&w(B)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||o!==+o||n===0&&i===0||o===0)return null;var E=Qt("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",jx({},Cr(r,!0),{className:E,d:SO(s,a,n,i,o)})));var A=b.current,T=v.current,M=N.current,z=C.current,V=S.current,O="0px ".concat(y===-1?1:y,"px"),R="".concat(y,"px 0px"),$=E6(["strokeDasharray"],m,d);return p.createElement(Am,{animationId:_,key:_,canBegin:y>0,duration:m,easing:d,isActive:f,begin:h},B=>{var U=pr(A,n,B),te=pr(T,i,B),L=pr(M,o,B),F=pr(z,s,B),q=pr(V,a,B);g.current&&(b.current=U,v.current=te,N.current=L,C.current=F,S.current=q);var ee=B>0?{transition:$,strokeDasharray:R}:{strokeDasharray:O};return p.createElement("path",jx({},Cr(r,!0),{className:E,d:SO(F,q,U,te,L),ref:g,style:NO(NO({},ee),r.style)}))})},qfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Kfe(e,r){if(e==null)return{};var s,a,n=Gfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function CO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Nx(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?CO(Object(s),!0).forEach(function(a){Yfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Yfe(e,r,s){return(r=Jfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Jfe(e){var r=Xfe(e,"string");return typeof r=="symbol"?r:r+""}function Xfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Qfe(e,r){return Nx(Nx({},r),e)}function Zfe(e,r){return e==="symbols"}function kO(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return p.createElement(M6,s);case"trapezoid":return p.createElement(Hfe,s);case"sector":return p.createElement(L6,s);case"symbols":if(Zfe(r))return p.createElement(OL,s);break;default:return null}}function epe(e){return p.isValidElement(e)?e.props:e}function iz(e){var{option:r,shapeType:s,propTransformer:a=Qfe,activeClassName:n="recharts-active-shape",isActive:i}=e,o=Kfe(e,qfe),l;if(p.isValidElement(r))l=p.cloneElement(r,Nx(Nx({},o),epe(r)));else if(typeof r=="function")l=r(o);else if(Ffe(r)&&typeof r!="boolean"){var d=a(r,o);l=p.createElement(kO,{shapeType:s,elementProps:d})}else{var m=o;l=p.createElement(kO,{shapeType:s,elementProps:m})}return i?p.createElement(rs,{className:n},l):l}var J2=(e,r)=>{var s=ms();return(a,n)=>i=>{e==null||e(a,n,i),s(j$({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},X2=e=>{var r=ms();return(s,a)=>n=>{e==null||e(s,a,n),r(Lue())}},Q2=(e,r)=>{var s=ms();return(a,n)=>i=>{e==null||e(a,n,i),s($ue({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function Jy(e){var{fn:r,args:s}=e,a=ms(),n=Ca();return p.useEffect(()=>{if(!n){var i=r(s);return a(Mue(i)),()=>{a(Iue(i))}}},[r,s,a,n]),null}var oz=()=>{};function Z2(e){var{legendPayload:r}=e,s=ms(),a=Ca();return p.useEffect(()=>a?oz:(s(_6(r)),()=>{s(P6(r))}),[s,a,r]),null}function tpe(e){var{legendPayload:r}=e,s=ms(),a=at(Vt);return p.useEffect(()=>a!=="centric"&&a!=="radial"?oz:(s(_6(r)),()=>{s(P6(r))}),[s,a,r]),null}var oN,rpe=()=>{var[e]=p.useState(()=>yf("uid-"));return e},spe=(oN=Dx.useId)!==null&&oN!==void 0?oN:rpe;function ape(e,r){var s=spe();return r||(e?"".concat(e,"-").concat(s):s)}var npe=p.createContext(void 0),Xy=e=>{var{id:r,type:s,children:a}=e,n=ape("recharts-".concat(s),r);return p.createElement(npe.Provider,{value:n},a(n))},ipe={cartesianItems:[],polarItems:[]},lz=Pn({name:"graphicalItems",initialState:ipe,reducers:{addCartesianGraphicalItem(e,r){e.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(e,r){var{prev:s,next:a}=r.payload,n=Jo(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,r){var s=Jo(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},addPolarGraphicalItem(e,r){e.polarItems.push(r.payload)},removePolarGraphicalItem(e,r){var s=Jo(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)}}}),{addCartesianGraphicalItem:ope,replaceCartesianGraphicalItem:lpe,removeCartesianGraphicalItem:cpe,addPolarGraphicalItem:dpe,removePolarGraphicalItem:upe}=lz.actions,mpe=lz.reducer;function e4(e){var r=ms(),s=p.useRef(null);return p.useEffect(()=>{s.current===null?r(ope(e)):s.current!==e&&r(lpe({prev:s.current,next:e})),s.current=e},[r,e]),p.useEffect(()=>()=>{s.current&&(r(cpe(s.current)),s.current=null)},[r]),null}function hpe(e){var r=ms();return p.useEffect(()=>(r(dpe(e)),()=>{r(upe(e))}),[r,e]),null}var fpe=["onMouseEnter","onClick","onMouseLeave"],ppe=["id"],gpe=["id"];function t4(e,r){if(e==null)return{};var s,a,n=xpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function xpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function _O(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_O(Object(s),!0).forEach(function(a){ype(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_O(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ype(e,r,s){return(r=vpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vpe(e){var r=bpe(e,"string");return typeof r=="symbol"?r:r+""}function bpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},oc.apply(null,arguments)}function wpe(e){var r=p.useMemo(()=>CC(e.children,Gd),[e.children]),s=at(a=>Ife(a,e.id,r));return s==null?null:p.createElement(tpe,{legendPayload:s})}function jpe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:m}=e;return{dataDefinedOnItem:a.map(h=>h.tooltipPayload),positions:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:s,name:hc(l,r),hide:d,type:m,color:o,unit:""}}}var Npe=(e,r)=>e>r?"start":e<r?"end":"middle",Spe=(e,r,s)=>wa(typeof r=="function"?r(e):r,s,s*.8),Cpe=(e,r,s)=>{var{top:a,left:n,width:i,height:o}=r,l=p6(i,o),d=n+wa(e.cx,i,i/2),m=a+wa(e.cy,o,o/2),h=wa(e.innerRadius,l,0),f=Spe(s,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:m,innerRadius:h,outerRadius:f,maxRadius:g}},kpe=(e,r)=>{var s=Ks(r-e),a=Math.min(Math.abs(r-e),360);return s*a};function _pe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ppe=(e,r)=>{if(p.isValidElement(e))return p.cloneElement(e,r);if(typeof e=="function")return e(r);var s=Qt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Xu,oc({},r,{type:"linear",className:s}))},Ape=(e,r,s)=>{if(p.isValidElement(e))return p.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),p.isValidElement(a)))return a;var n=Qt("recharts-pie-label-text",_pe(e));return p.createElement(Gy,oc({},r,{alignmentBaseline:"middle",className:n}),a)};function Epe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=s;if(!a||!n||!r)return null;var l=Li(s),d=Cr(n,!1),m=Cr(i,!1),h=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,f=r.map((g,y)=>{var w=(g.startAngle+g.endAngle)/2,b=js(g.cx,g.cy,g.outerRadius+h,w),v=zr(zr(zr(zr({},l),g),{},{stroke:"none"},d),{},{index:y,textAnchor:Npe(b.x,g.cx)},b),N=zr(zr(zr(zr({},l),g),{},{fill:"none",stroke:g.fill},m),{},{index:y,points:[js(g.cx,g.cy,g.outerRadius,w),b],key:"line"});return p.createElement(rs,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},i&&Ppe(i,N),Ape(n,v,fr(g,o)))});return p.createElement(rs,{className:"recharts-pie-labels"},f)}function Tpe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?p.createElement(Yy,{label:s.label}):p.createElement(Epe,{sectors:r,props:s,showLabels:a})}function Ope(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n}=e,i=at(ic),{onMouseEnter:o,onClick:l,onMouseLeave:d}=n,m=t4(n,fpe),h=J2(o,n.dataKey),f=X2(d),g=Q2(l,n.dataKey);return r==null||r.length===0?null:p.createElement(p.Fragment,null,r.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&r.length!==1)return null;var b=s&&String(w)===i,v=i?a:null,N=b?s:v,C=zr(zr({},y),{},{stroke:y.stroke,tabIndex:-1,[w6]:w,[j6]:n.dataKey});return p.createElement(rs,oc({tabIndex:-1,className:"recharts-pie-sector"},py(m,y,w),{onMouseEnter:h(y,w),onMouseLeave:f(y,w),onClick:g(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),p.createElement(iz,oc({option:N,isActive:b,shapeType:"sector"},C)))}))}function Rpe(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:m,nameKey:h,tooltipType:f}=s,g=Math.abs(s.minAngle),y=kpe(l,d),w=Math.abs(y),b=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,v=a.filter(A=>fr(A,m,0)!==0).length,N=(w>=360?v:v-1)*b,C=w-v*g-N,S=a.reduce((A,T)=>{var M=fr(T,m,0);return A+(st(M)?M:0)},0),_;if(S>0){var E;_=a.map((A,T)=>{var M=fr(A,m,0),z=fr(A,h,T),V=Cpe(s,i,A),O=(st(M)?M:0)/S,R,$=zr(zr({},A),n&&n[T]&&n[T].props);T?R=E.endAngle+Ks(y)*b*(M!==0?1:0):R=l;var B=R+Ks(y)*((M!==0?g:0)+O*C),U=(R+B)/2,te=(V.innerRadius+V.outerRadius)/2,L=[{name:z,value:M,payload:$,dataKey:m,type:f}],F=js(V.cx,V.cy,te,U);return E=zr(zr(zr(zr({},s.presentationProps),{},{percent:O,cornerRadius:o,name:z,tooltipPayload:L,midAngle:U,middleRadius:te,tooltipPosition:F},$),V),{},{value:fr(A,m),startAngle:R,endAngle:B,payload:$,paddingAngle:Ks(y)*b}),E})}return _}function Mpe(e){var{showLabels:r,sectors:s,children:a}=e,n=p.useMemo(()=>!r||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,r]);return p.createElement(vfe,{value:r?n:void 0},a)}function Ipe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:d,inactiveShape:m,onAnimationStart:h,onAnimationEnd:f}=r,g=Em(r,"recharts-pie-"),y=s.current,[w,b]=p.useState(!1),v=p.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),N=p.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return p.createElement(Mpe,{showLabels:!w,sectors:a},p.createElement(Am,{animationId:g,begin:i,duration:o,isActive:n,easing:l,onAnimationStart:N,onAnimationEnd:v,key:g},C=>{var S=[],_=a&&a[0],E=_==null?void 0:_.startAngle;return a==null||a.forEach((A,T)=>{var M=y&&y[T],z=T>0?Sd(A,"paddingAngle",0):0;if(M){var V=pr(M.endAngle-M.startAngle,A.endAngle-A.startAngle,C),O=zr(zr({},A),{},{startAngle:E+z,endAngle:E+V+z});S.push(O),E=O.endAngle}else{var{endAngle:R,startAngle:$}=A,B=pr(0,R-$,C),U=zr(zr({},A),{},{startAngle:E+z,endAngle:E+B+z});S.push(U),E=U.endAngle}}),s.current=S,p.createElement(rs,null,p.createElement(Ope,{sectors:S,activeShape:d,inactiveShape:m,allOtherPieProps:r}))}),p.createElement(Tpe,{showLabels:!w,sectors:a,props:r}),r.children)}var Dpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!fc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Lpe(e){var{id:r}=e,s=t4(e,ppe),{hide:a,className:n,rootTabIndex:i}=e,o=p.useMemo(()=>CC(e.children,Gd),[e.children]),l=at(h=>Dfe(h,r,o)),d=p.useRef(null),m=Qt("recharts-pie",n);return a||l==null?(d.current=null,p.createElement(rs,{tabIndex:i,className:m})):p.createElement(p.Fragment,null,p.createElement(Jy,{fn:jpe,args:zr(zr({},e),{},{sectors:l})}),p.createElement(rs,{tabIndex:i,className:m},p.createElement(Ipe,{props:zr(zr({},s),{},{sectors:l}),previousSectorsRef:d})))}function Qy(e){var r=ka(e,Dpe),{id:s}=r,a=t4(r,gpe),n=Li(a);return p.createElement(Xy,{id:s,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(hpe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),p.createElement(wpe,oc({},a,{id:i})),p.createElement(Lpe,oc({},a,{id:i}))))}Qy.displayName="Pie";function PO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function AO(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PO(Object(s),!0).forEach(function(a){$pe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $pe(e,r,s){return(r=zpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function zpe(e){var r=Fpe(e,"string");return typeof r=="symbol"?r:r+""}function Fpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Upe={xAxis:{},yAxis:{},zAxis:{}},cz=Pn({name:"cartesianAxis",initialState:Upe,reducers:{addXAxis(e,r){e.xAxis[r.payload.id]=r.payload},removeXAxis(e,r){delete e.xAxis[r.payload.id]},addYAxis(e,r){e.yAxis[r.payload.id]=r.payload},removeYAxis(e,r){delete e.yAxis[r.payload.id]},addZAxis(e,r){e.zAxis[r.payload.id]=r.payload},removeZAxis(e,r){delete e.zAxis[r.payload.id]},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload;e.yAxis[s]&&(e.yAxis[s]=AO(AO({},e.yAxis[s]),{},{width:a}))}}}),{addXAxis:Bpe,removeXAxis:Wpe,addYAxis:Vpe,removeYAxis:Hpe,addZAxis:SSe,removeZAxis:CSe,updateYAxisWidth:qpe}=cz.actions,Kpe=cz.reducer,Gpe=ge([Is],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Ype=ge([Gpe,ul,ml],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Zy=()=>at(Ype),Jpe=()=>at(Sme);function EO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function TO(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?EO(Object(s),!0).forEach(function(a){Xpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Xpe(e,r,s){return(r=Qpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Qpe(e){var r=Zpe(e,"string");return typeof r=="symbol"?r:r+""}function Zpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ege=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var o=TO(TO({index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Cr(n,!1)),SC(n)),l;return p.isValidElement(n)?l=p.cloneElement(n,o):typeof n=="function"?l=n(o):l=p.createElement(H2,o),p.createElement(rs,{className:"recharts-active-dot"},l)};function Q1(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n}=e,i=at(ic),o=Jpe();if(r==null||o==null)return null;var l=r.find(d=>o.includes(d.payload));return Rr(l)?null:ege({point:l,childIndex:Number(i),mainColor:s,dataKey:n,activeDot:a})}var tge="Invariant failed";function rge(e,r){throw new Error(tge)}var sge=["x","y"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Z1.apply(null,arguments)}function OO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ih(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OO(Object(s),!0).forEach(function(a){age(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function age(e,r,s){return(r=nge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function nge(e){var r=ige(e,"string");return typeof r=="symbol"?r:r+""}function ige(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function oge(e,r){if(e==null)return{};var s,a,n=lge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function lge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function cge(e,r){var{x:s,y:a}=e,n=oge(e,sge),i="".concat(s),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),m="".concat(r.height||n.height),h=parseInt(m,10),f="".concat(r.width||n.width),g=parseInt(f,10);return Ih(Ih(Ih(Ih(Ih({},r),n),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:g,name:r.name,radius:r.radius})}function r4(e){return p.createElement(iz,Z1({shapeType:"rectangle",propTransformer:cge,activeClassName:"recharts-active-bar"},e))}var dge=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(st(r))return r;var i=st(a)||Rr(a);return i?r(a,n):(i||rge(),s)}},uge={},dz=Pn({name:"errorBars",initialState:uge,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,r)=>{var{itemId:s,prev:a,next:n}=r.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:kSe,replaceErrorBar:_Se,removeErrorBar:PSe}=dz.actions,mge=dz.reducer,hge=["children"];function fge(e,r){if(e==null)return{};var s,a,n=pge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var gge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xge=p.createContext(gge);function uz(e){var{children:r}=e,s=fge(e,hge);return p.createElement(xge.Provider,{value:s},r)}function ev(e,r){var s,a,n=at(m=>yc(m,e)),i=at(m=>vc(m,r)),o=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:fn.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:pn.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function s4(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=Zy(),{needClipX:i,needClipY:o,needClip:l}=ev(r,s);if(!l)return null;var{x:d,y:m,width:h,height:f}=n;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:i?d:d-h/2,y:o?m:m-f/2,width:i?h:h*2,height:o?f:f*2}))}var yge=["onMouseEnter","onMouseLeave","onClick"],vge=["value","background","tooltipPosition"],bge=["id"],wge=["onMouseEnter","onClick","onMouseLeave"];function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lc.apply(null,arguments)}function RO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Da(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?RO(Object(s),!0).forEach(function(a){jge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function jge(e,r,s){return(r=Nge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Nge(e){var r=Sge(e,"string");return typeof r=="symbol"?r:r+""}function Sge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sx(e,r){if(e==null)return{};var s,a,n=Cge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Cge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var kge=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:hc(s,r),payload:e}]};function _ge(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:hc(i,r),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Pge(e){var r=at(ic),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,m=Sx(i,yge),h=J2(o,a),f=X2(l),g=Q2(d,a);if(!n||s==null)return null;var y=Cr(n,!1);return p.createElement(p.Fragment,null,s.map((w,b)=>{var{value:v,background:N,tooltipPosition:C}=w,S=Sx(w,vge);if(!N)return null;var _=h(w,b),E=f(w,b),A=g(w,b),T=Da(Da(Da(Da(Da({option:n,isActive:String(b)===r},S),{},{fill:"#eee"},N),y),py(m,w,b)),{},{onMouseEnter:_,onMouseLeave:E,onClick:A,dataKey:a,index:b,className:"recharts-bar-background-rectangle"});return p.createElement(r4,lc({key:"background-bar-".concat(b)},T))}))}function Age(e){var{showLabels:r,children:s,rects:a}=e,n=a==null?void 0:a.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Da(Da({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(V2,{value:r?n:void 0},s)}function Ege(e){var{shape:r,activeBar:s,baseProps:a,entry:n,index:i,dataKey:o}=e,l=at(ic),d=at(I$),m=s&&String(i)===l&&(d==null||o===d),h=m?s:r;return p.createElement(r4,lc({},a,n,{isActive:m,option:h,index:i,dataKey:o}))}function Tge(e){var{shape:r,baseProps:s,entry:a,index:n,dataKey:i}=e;return p.createElement(r4,lc({},s,a,{isActive:!1,option:r,index:n,dataKey:i}))}function Oge(e){var{data:r,props:s}=e,a=Li(s),{id:n}=a,i=Sx(a,bge),{shape:o,dataKey:l,activeBar:d}=s,{onMouseEnter:m,onClick:h,onMouseLeave:f}=s,g=Sx(s,wge),y=J2(m,l),w=X2(f),b=Q2(h,l);return r?p.createElement(p.Fragment,null,r.map((v,N)=>p.createElement(rs,lc({className:"recharts-bar-rectangle"},py(g,v,N),{onMouseEnter:y(v,N),onMouseLeave:w(v,N),onClick:b(v,N),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(N)}),d?p.createElement(Ege,{shape:o,activeBar:d,baseProps:i,entry:v,index:N,dataKey:l}):p.createElement(Tge,{shape:o,baseProps:i,entry:v,index:N,dataKey:l})))):null}function Rge(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=r,f=s.current,g=Em(r,"recharts-bar-"),[y,w]=p.useState(!1),b=!y,v=p.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),N=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(Age,{showLabels:b,rects:a},p.createElement(Am,{animationId:g,begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:v,onAnimationStart:N,key:g},C=>{var S=C===1?a:a==null?void 0:a.map((_,E)=>{var A=f&&f[E];if(A)return Da(Da({},_),{},{x:pr(A.x,_.x,C),y:pr(A.y,_.y,C),width:pr(A.width,_.width,C),height:pr(A.height,_.height,C)});if(n==="horizontal"){var T=pr(0,_.height,C);return Da(Da({},_),{},{y:_.y+_.height-T,height:T})}var M=pr(0,_.width,C);return Da(Da({},_),{},{width:M})});return C>0&&(s.current=S??null),S==null?null:p.createElement(rs,null,p.createElement(Oge,{props:r,data:S}))}),p.createElement(Yy,{label:r.label}),r.children)}function Mge(e){var r=p.useRef(null);return p.createElement(Rge,{previousRectanglesRef:r,props:e})}var mz=0,Ige=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:fr(e,r)}};class Dge extends p.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:d,id:m}=this.props;if(r||s==null)return null;var h=Qt("recharts-bar",n),f=m;return p.createElement(rs,{className:h,id:m},l&&p.createElement("defs",null,p.createElement(s4,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(rs,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Pge,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),p.createElement(Mge,this.props)))}}var Lge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fc.isSsr,legendType:"rect",minPointSize:mz,xAxisId:0,yAxisId:0};function $ge(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:f}=ev(r,s),g=tp(),y=Ca(),w=CC(e.children,Gd),b=at(C=>u0e(C,r,s,y,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var v,N=b==null?void 0:b[0];return N==null||N.height==null||N.width==null?v=0:v=g==="vertical"?N.height/2:N.width/2,p.createElement(uz,{xAxisId:r,yAxisId:s,data:b,dataPointFormatter:Ige,errorBarOffset:v},p.createElement(Dge,lc({},e,{layout:g,needClip:f,data:b,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function zge(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:f,offset:g,cells:y,parentViewBox:w}=e,b=r==="horizontal"?l:o,v=h?b.scale.domain():null,N=fie({numericAxis:b});return f.map((C,S)=>{var _,E,A,T,M,z;h?_=cie(h[S],v):(_=fr(C,s),Array.isArray(_)||(_=[N,_]));var V=dge(a,mz)(_[1],S);if(r==="horizontal"){var O,[R,$]=[l.scale(_[0]),l.scale(_[1])];E=bT({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:C,index:S}),A=(O=$??R)!==null&&O!==void 0?O:void 0,T=n.size;var B=R-$;if(M=nn(B)?0:B,z={x:E,y:g.top,width:T,height:g.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var U=Ks(M||V)*(Math.abs(V)-Math.abs(M));A-=U,M+=U}}else{var[te,L]=[o.scale(_[0]),o.scale(_[1])];if(E=te,A=bT({axis:l,ticks:m,bandSize:i,offset:n.offset,entry:C,index:S}),T=L-te,M=n.size,z={x:g.left,y:A,width:g.width,height:M},Math.abs(V)>0&&Math.abs(T)<Math.abs(V)){var F=Ks(T||V)*(Math.abs(V)-Math.abs(T));T+=F}}if(E==null||A==null||T==null||M==null)return null;var q=Da(Da({},C),{},{x:E,y:A,width:T,height:M,value:h?_:_[1],payload:C,background:z,tooltipPosition:{x:E+T/2,y:A+M/2},parentViewBox:w},y&&y[S]&&y[S].props);return q}).filter(Boolean)}function Af(e){var r=ka(e,Lge),s=Ca();return p.createElement(Xy,{id:r.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(Z2,{legendPayload:kge(r)}),p.createElement(Jy,{fn:_ge,args:r}),p.createElement(e4,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:v6(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),p.createElement($ge,lc({},r,{id:a}))))}Af.displayName="Bar";function MO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function t0(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?MO(Object(s),!0).forEach(function(a){Fge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Fge(e,r,s){return(r=Uge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Uge(e){var r=Bge(e,"string");return typeof r=="symbol"?r:r+""}function Bge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Wge=(e,r)=>r,Vge=(e,r,s)=>s,Hge=(e,r,s,a)=>a,qge=(e,r,s,a,n)=>n,pp=ge([dp,qge],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),Kge=ge([pp],e=>e==null?void 0:e.maxBarSize),Gge=(e,r,s,a,n,i)=>i,IO=(e,r,s)=>{var a=s??e;if(!Rr(a))return wa(a,r,0)},Yge=ge([Vt,dp,Wge,Vge,Hge],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Jge=(e,r,s,a)=>{var n=Vt(e);return n==="horizontal"?_f(e,"yAxis",s,a):_f(e,"xAxis",r,a)},Xge=(e,r,s)=>{var a=Vt(e);return a==="horizontal"?I5(e,"xAxis",r):I5(e,"yAxis",s)},Qge=(e,r,s)=>{var a={},n=e.filter(Uy),i=e.filter(m=>m.stackId==null),o=n.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),l=Object.entries(o).map(m=>{var[h,f]=m,g=f.map(w=>w.dataKey),y=IO(r,s,f[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=i.map(m=>{var h=[m.dataKey].filter(g=>g!=null),f=IO(r,s,m.barSize);return{stackId:void 0,dataKeys:h,barSize:f}});return[...l,...d]},Zge=ge([Yge,Ide,Xge],Qge),e0e=(e,r,s,a,n)=>{var i,o,l=pp(e,r,s,a,n);if(l!=null){var d=Vt(e),m=R8(e),{maxBarSize:h}=l,f=Rr(h)?m:h,g,y;return d==="horizontal"?(g=ho(e,"xAxis",r,a),y=mo(e,"xAxis",r,a)):(g=ho(e,"yAxis",s,a),y=mo(e,"yAxis",s,a)),(i=(o=_d(g,y,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},hz=(e,r,s,a)=>{var n=Vt(e),i,o;return n==="horizontal"?(i=ho(e,"xAxis",r,a),o=mo(e,"xAxis",r,a)):(i=ho(e,"yAxis",s,a),o=mo(e,"yAxis",s,a)),_d(i,o)};function t0e(e,r,s,a,n){var i=a.length;if(!(i<1)){var o=wa(e,s,0,!0),l,d=[];if(ia(a[0].barSize)){var m=!1,h=s/i,f=a.reduce((N,C)=>N+(C.barSize||0),0);f+=(i-1)*o,f>=s&&(f-=(i-1)*o,o=0),f>=s&&h>0&&(m=!0,h*=.9,f=i*h);var g=(s-f)/2>>0,y={offset:g-o,size:0};l=a.reduce((N,C)=>{var S,_={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y.offset+y.size+o,size:m?h:(S=C.barSize)!==null&&S!==void 0?S:0}},E=[...N,_];return y=E[E.length-1].position,E},d)}else{var w=wa(r,s,0,!0);s-2*w-(i-1)*o<=0&&(o=0);var b=(s-2*w-(i-1)*o)/i;b>1&&(b>>=0);var v=ia(n)?Math.min(b,n):b;l=a.reduce((N,C,S)=>[...N,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(b+o)*S+(b-v)/2,size:v}}],d)}return l}}var r0e=(e,r,s,a,n,i,o)=>{var l=Rr(o)?r:o,d=t0e(s,a,n!==i?n:i,e,l);return n!==i&&d!=null&&(d=d.map(m=>t0(t0({},m),{},{position:t0(t0({},m.position),{},{offset:m.position.offset-n/2})}))),d},s0e=ge([Zge,R8,Mde,M8,e0e,hz,Kge],r0e),a0e=(e,r,s,a)=>ho(e,"xAxis",r,a),n0e=(e,r,s,a)=>ho(e,"yAxis",s,a),i0e=(e,r,s,a)=>mo(e,"xAxis",r,a),o0e=(e,r,s,a)=>mo(e,"yAxis",s,a),l0e=ge([s0e,pp],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),c0e=(e,r)=>{var s=Fy(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===s)}}}},d0e=ge([Jge,pp],c0e),u0e=ge([Is,LC,a0e,n0e,i0e,o0e,l0e,Vt,ip,hz,d0e,pp,Gge],(e,r,s,a,n,i,o,l,d,m,h,f,g)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:b}=d;if(!(f==null||o==null||r==null||l!=="horizontal"&&l!=="vertical"||s==null||a==null||n==null||i==null||m==null)){var{data:v}=f,N;if(v!=null&&v.length>0?N=v:N=y==null?void 0:y.slice(w,b+1),N!=null)return zge({layout:l,barSettings:f,pos:o,parentViewBox:r,bandSize:m,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:N,offset:e,cells:g})}}),fz=e=>{var{chartData:r}=e,s=ms(),a=Ca();return p.useEffect(()=>a?()=>{}:(s(H5(r)),()=>{s(H5(void 0))}),[r,s,a]),null},DO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pz=Pn({name:"brush",initialState:DO,reducers:{setBrushSettings(e,r){return r.payload==null?DO:r.payload}}}),{setBrushSettings:ASe}=pz.actions,m0e=pz.reducer;function h0e(e,r,s){return(r=f0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function f0e(e){var r=p0e(e,"string");return typeof r=="symbol"?r:r+""}function p0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class a4{static create(r){return new a4(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}h0e(a4,"EPS",1e-4);function g0e(e){return(e%180+180)%180}var x0e=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=g0e(n),o=i*Math.PI/180,l=Math.atan(a/s),d=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(d)},y0e={dots:[],areas:[],lines:[]},gz=Pn({name:"referenceElements",initialState:y0e,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Jo(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Jo(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Jo(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:ESe,removeDot:TSe,addArea:OSe,removeArea:RSe,addLine:MSe,removeLine:ISe}=gz.actions,v0e=gz.reducer,b0e=p.createContext(void 0),w0e=e=>{var{children:r}=e,[s]=p.useState("".concat(yf("recharts"),"-clip")),a=Zy();if(a==null)return null;var{x:n,y:i,width:o,height:l}=a;return p.createElement(b0e.Provider,{value:s},p.createElement("defs",null,p.createElement("clipPath",{id:s},p.createElement("rect",{x:n,y:i,height:l,width:o}))),r)};function lN(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function xz(e,r,s){if(r<1)return[];if(r===1&&s===void 0)return e;for(var a=[],n=0;n<e.length;n+=r)a.push(e[n]);return a}function j0e(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return x0e(a,s)}function N0e(e,r,s){var a=s==="width",{x:n,y:i,width:o,height:l}=e;return r===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function Cx(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function S0e(e,r){return xz(e,r+1)}function C0e(e,r,s,a,n){for(var i=(a||[]).slice(),{start:o,end:l}=r,d=0,m=1,h=o,f=function(){var w=a==null?void 0:a[d];if(w===void 0)return{v:xz(a,m)};var b=d,v,N=()=>(v===void 0&&(v=s(w,b)),v),C=w.coordinate,S=d===0||Cx(e,C,N,h,l);S||(d=0,h=o,m+=1),S&&(h=C+e*(N()/2+n),d+=m)},g;m<=i.length;)if(g=f(),g)return g.v;return[]}function LO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?LO(Object(s),!0).forEach(function(a){k0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):LO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function k0e(e,r,s){return(r=_0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _0e(e){var r=P0e(e,"string");return typeof r=="symbol"?r:r+""}function P0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function A0e(e,r,s,a,n){for(var i=(a||[]).slice(),o=i.length,{start:l}=r,{end:d}=r,m=function(g){var y=i[g],w,b=()=>(w===void 0&&(w=s(y,g)),w);if(g===o-1){var v=e*(y.coordinate+e*b()/2-d);i[g]=y=fa(fa({},y),{},{tickCoord:v>0?y.coordinate-v*e:y.coordinate})}else i[g]=y=fa(fa({},y),{},{tickCoord:y.coordinate});var N=Cx(e,y.tickCoord,b,l,d);N&&(d=y.tickCoord-e*(b()/2+n),i[g]=fa(fa({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)m(h);return i}function E0e(e,r,s,a,n,i){var o=(a||[]).slice(),l=o.length,{start:d,end:m}=r;if(i){var h=a[l-1],f=s(h,l-1),g=e*(h.coordinate+e*f/2-m);o[l-1]=h=fa(fa({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=Cx(e,h.tickCoord,()=>f,d,m);y&&(m=h.tickCoord-e*(f/2+n),o[l-1]=fa(fa({},h),{},{isShow:!0}))}for(var w=i?l-1:l,b=function(C){var S=o[C],_,E=()=>(_===void 0&&(_=s(S,C)),_);if(C===0){var A=e*(S.coordinate-e*E()/2-d);o[C]=S=fa(fa({},S),{},{tickCoord:A<0?S.coordinate-A*e:S.coordinate})}else o[C]=S=fa(fa({},S),{},{tickCoord:S.coordinate});var T=Cx(e,S.tickCoord,E,d,m);T&&(d=S.tickCoord+e*(E()/2+n),o[C]=fa(fa({},S),{},{isShow:!0}))},v=0;v<w;v++)b(v);return o}function n4(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:m,unit:h,angle:f}=e;if(!n||!n.length||!a)return[];if(st(d)||fc.isSsr){var g;return(g=S0e(n,st(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],w=l==="top"||l==="bottom"?"width":"height",b=h&&w==="width"?nf(h,{fontSize:r,letterSpacing:s}):{width:0,height:0},v=(S,_)=>{var E=typeof m=="function"?m(S.value,_):S.value;return w==="width"?j0e(nf(E,{fontSize:r,letterSpacing:s}),b,f):nf(E,{fontSize:r,letterSpacing:s})[w]},N=n.length>=2?Ks(n[1].coordinate-n[0].coordinate):1,C=N0e(i,N,w);return d==="equidistantPreserveStart"?C0e(N,C,v,n,o):(d==="preserveStart"||d==="preserveStartEnd"?y=E0e(N,C,v,n,o,d==="preserveStartEnd"):y=A0e(N,C,v,n,o),y.filter(S=>S.isShow))}var T0e=["viewBox"],O0e=["viewBox"];function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bu.apply(null,arguments)}function $O(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ts(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$O(Object(s),!0).forEach(function(a){i4(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$O(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zO(e,r){if(e==null)return{};var s,a,n=R0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function R0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function i4(e,r,s){return(r=M0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function M0e(e){var r=I0e(e,"string");return typeof r=="symbol"?r:r+""}function I0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class bc extends p.Component{constructor(r){super(r),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,s){var{viewBox:a}=r,n=zO(r,T0e),i=this.props,{viewBox:o}=i,l=zO(i,O0e);return!lN(a,o)||!lN(n,l)||!lN(s,this.state)}getTickLineCoord(r){var{x:s,y:a,width:n,height:i,orientation:o,tickSize:l,mirror:d,tickMargin:m}=this.props,h,f,g,y,w,b,v=d?-1:1,N=r.tickSize||l,C=st(r.tickCoord)?r.tickCoord:r.coordinate;switch(o){case"top":h=f=r.coordinate,y=a+ +!d*i,g=y-v*N,b=g-v*m,w=C;break;case"left":g=y=r.coordinate,f=s+ +!d*n,h=f-v*N,w=h-v*m,b=C;break;case"right":g=y=r.coordinate,f=s+ +d*n,h=f+v*N,w=h+v*m,b=C;break;default:h=f=r.coordinate,y=a+ +d*i,g=y+v*N,b=g+v*m,w=C;break}return{line:{x1:h,y1:g,x2:f,y2:y},tick:{x:w,y:b}}}getTickTextAnchor(){var{orientation:r,mirror:s}=this.props;switch(r){case"left":return s?"start":"end";case"right":return s?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:r,mirror:s}=this.props;switch(r){case"left":case"right":return"middle";case"top":return s?"start":"end";default:return s?"end":"start"}}renderAxisLine(){var{x:r,y:s,width:a,height:n,orientation:i,mirror:o,axisLine:l}=this.props,d=Ts(Ts(Ts({},Cr(this.props,!1)),Cr(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);d=Ts(Ts({},d),{},{x1:r,y1:s+m*n,x2:r+a,y2:s+m*n})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=Ts(Ts({},d),{},{x1:r+h*a,y1:s,x2:r+h*a,y2:s+n})}return p.createElement("line",Bu({},d,{className:Qt("recharts-cartesian-axis-line",Sd(l,"className"))}))}static renderTickItem(r,s,a){var n,i=Qt(s.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(r))n=p.cloneElement(r,Ts(Ts({},s),{},{className:i}));else if(typeof r=="function")n=r(Ts(Ts({},s),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=Qt(o,r.className)),n=p.createElement(Gy,Bu({},s,{className:o}),a)}return n}renderTicks(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:d,padding:m,tickTextProps:h}=this.props,f=n4(Ts(Ts({},this.props),{},{ticks:a}),r,s),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=Li(this.props),b=Cr(o,!1),v=Ts(Ts({},w),{},{fill:"none"},Cr(n,!1)),N=f.map((C,S)=>{var{line:_,tick:E}=this.getTickLineCoord(C),A=Ts(Ts(Ts(Ts({textAnchor:g,verticalAnchor:y},w),{},{stroke:"none",fill:i},b),E),{},{index:S,payload:C,visibleTicksCount:f.length,tickFormatter:l,padding:m},h);return p.createElement(rs,Bu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},py(this.props,C,S)),n&&p.createElement("line",Bu({},v,_,{className:Qt("recharts-cartesian-axis-tick-line",Sd(n,"className"))})),o&&bc.renderTickItem(o,A,"".concat(typeof l=="function"?l(C.value,S):C.value).concat(d||"")))});return N.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:r,width:s,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(rs,{className:Qt("recharts-cartesian-axis",n),ref:l=>{if(l){var d=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var m=d[0];if(m){var h=window.getComputedStyle(m).fontSize,f=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),p.createElement(Qhe,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},p.createElement(lfe,{label:this.props.label}),this.props.children))}}i4(bc,"displayName","CartesianAxis");i4(bc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var D0e=["x1","y1","x2","y2","key"],L0e=["offset"],$0e=["xAxisId","yAxisId"],z0e=["xAxisId","yAxisId"];function FO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function va(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?FO(Object(s),!0).forEach(function(a){F0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function F0e(e,r,s){return(r=U0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function U0e(e){var r=B0e(e,"string");return typeof r=="symbol"?r:r+""}function B0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},nd.apply(null,arguments)}function kx(e,r){if(e==null)return{};var s,a,n=W0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function W0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var V0e=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function yz(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var{x1:a,y1:n,x2:i,y2:o,key:l}=r,d=kx(r,D0e),m=Li(d),{offset:h}=m,f=kx(m,L0e);s=p.createElement("line",nd({},f,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function H0e(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=kx(e,$0e),d=n.map((m,h)=>{var f=va(va({},l),{},{x1:r,y1:m,x2:r+s,y2:m,key:"line-".concat(h),index:h});return yz(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function q0e(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=kx(e,z0e),d=n.map((m,h)=>{var f=va(va({},l),{},{x1:m,y1:r,x2:m,y2:r+s,key:"line-".concat(h),index:h});return yz(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function K0e(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!r||!r.length)return null;var m=l.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var y=!m[g+1],w=y?n+o-f:m[g+1]-f;if(w<=0)return null;var b=g%r.length;return p.createElement("rect",{key:"react-".concat(g),y:f,x:a,height:w,width:i,stroke:"none",fill:r[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function G0e(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:o,height:l,verticalPoints:d}=e;if(!r||!s||!s.length)return null;var m=d.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var y=!m[g+1],w=y?n+o-f:m[g+1]-f;if(w<=0)return null;var b=g%s.length;return p.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:w,height:l,stroke:"none",fill:s[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Y0e=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return x6(n4(va(va(va({},bc.defaultProps),s),{},{ticks:y6(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},J0e=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return x6(n4(va(va(va({},bc.defaultProps),s),{},{ticks:y6(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},X0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function io(e){var r=S6(),s=C6(),a=N6(),n=va(va({},ka(e,X0e)),{},{x:st(e.x)?e.x:a.left,y:st(e.y)?e.y:a.top,width:st(e.width)?e.width:a.width,height:st(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:m,height:h,syncWithTicks:f,horizontalValues:g,verticalValues:y}=n,w=Ca(),b=at(z=>D5(z,"xAxis",i,w)),v=at(z=>D5(z,"yAxis",o,w));if(!st(m)||m<=0||!st(h)||h<=0||!st(l)||l!==+l||!st(d)||d!==+d)return null;var N=n.verticalCoordinatesGenerator||Y0e,C=n.horizontalCoordinatesGenerator||J0e,{horizontalPoints:S,verticalPoints:_}=n;if((!S||!S.length)&&typeof C=="function"){var E=g&&g.length,A=C({yAxis:v?va(va({},v),{},{ticks:E?g:v.ticks}):void 0,width:r,height:s,offset:a},E?!0:f);af(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(S=A)}if((!_||!_.length)&&typeof N=="function"){var T=y&&y.length,M=N({xAxis:b?va(va({},b),{},{ticks:T?y:b.ticks}):void 0,width:r,height:s,offset:a},T?!0:f);af(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(V0e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),p.createElement(K0e,nd({},n,{horizontalPoints:S})),p.createElement(G0e,nd({},n,{verticalPoints:_})),p.createElement(H0e,nd({},n,{offset:a,horizontalPoints:S,xAxis:b,yAxis:v})),p.createElement(q0e,nd({},n,{offset:a,verticalPoints:_,xAxis:b,yAxis:v})))}io.displayName="CartesianGrid";var vz=(e,r,s,a)=>ho(e,"xAxis",r,a),bz=(e,r,s,a)=>mo(e,"xAxis",r,a),wz=(e,r,s,a)=>ho(e,"yAxis",s,a),jz=(e,r,s,a)=>mo(e,"yAxis",s,a),Q0e=ge([Vt,vz,wz,bz,jz],(e,r,s,a,n)=>wo(e,"xAxis")?_d(r,a,!1):_d(s,n,!1)),Z0e=(e,r,s,a,n)=>n;function exe(e){return e.type==="line"}var txe=ge([dp,Z0e],(e,r)=>e.filter(exe).find(s=>s.id===r)),rxe=ge([Vt,vz,wz,bz,jz,txe,Q0e,ip],(e,r,s,a,n,i,o,l)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:h}=l;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:f,data:g}=i,y;if(g!=null&&g.length>0?y=g:y=d==null?void 0:d.slice(m,h+1),y!=null)return Sxe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:o,displayedData:y})}}),sxe=["id"],axe=["type","layout","connectNulls","needClip"],nxe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function UO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yn(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?UO(Object(s),!0).forEach(function(a){ixe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):UO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ixe(e,r,s){return(r=oxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function oxe(e){var r=lxe(e,"string");return typeof r=="symbol"?r:r+""}function lxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function o4(e,r){if(e==null)return{};var s,a,n=cxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function cxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ad.apply(null,arguments)}var dxe=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:hc(s,r),payload:e}]};function uxe(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:hc(o,r),hide:l,type:e.tooltipType,color:e.stroke,unit:d}}}var Nz=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function mxe(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var hxe=(e,r,s)=>{var a=s.reduce((f,g)=>f+g);if(!a)return Nz(r,e);for(var n=Math.floor(e/a),i=e%a,o=r-e,l=[],d=0,m=0;d<s.length;m+=s[d],++d)if(m+s[d]>i){l=[...s.slice(0,d),i-m];break}var h=l.length%2===0?[0,o]:[o];return[...mxe(s,n),...l,...h].map(f=>"".concat(f,"px")).join(", ")};function fxe(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Qt("recharts-line-dot",typeof e!="boolean"?e.className:"");s=p.createElement(H2,Ad({},r,{className:a}))}return s}function pxe(e,r){return e==null?!1:r?!0:e.length===1}function gxe(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!pxe(s,n))return null;var{id:l}=a,d=o4(a,sxe),m=gy(n),h=Li(d),f=Cr(n,!0),g=s.map((w,b)=>{var v=yn(yn(yn({key:"dot-".concat(b),r:3},h),f),{},{index:b,cx:w.x,cy:w.y,dataKey:i,value:w.value,payload:w.payload,points:s});return fxe(n,v)}),y={clipPath:o?"url(#clipPath-".concat(m?"":"dots-").concat(r,")"):void 0};return p.createElement(rs,Ad({className:"recharts-line-dots",key:"dots"},y),g)}function xxe(e){var{showLabels:r,children:s,points:a}=e,n=p.useMemo(()=>a==null?void 0:a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return yn(yn({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[a]);return p.createElement(V2,{value:r?n:null},s)}function BO(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:o,layout:l,connectNulls:d,needClip:m}=i,h=o4(i,axe),f=yn(yn({},Cr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(r,")"):void 0,points:a,type:o,layout:l,connectNulls:d,strokeDasharray:n??i.strokeDasharray});return p.createElement(p.Fragment,null,(a==null?void 0:a.length)>1&&p.createElement(Xu,Ad({},f,{pathRef:s})),p.createElement(gxe,{points:a,clipPathId:r,props:i}))}function yxe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function vxe(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,animateNewValues:g,width:y,height:w,onAnimationEnd:b,onAnimationStart:v}=s,N=n.current,C=Em(s,"recharts-line-"),[S,_]=p.useState(!1),E=!S,A=p.useCallback(()=>{typeof b=="function"&&b(),_(!1)},[b]),T=p.useCallback(()=>{typeof v=="function"&&v(),_(!0)},[v]),M=yxe(a.current),z=i.current;return p.createElement(xxe,{points:o,showLabels:E},s.children,p.createElement(Am,{animationId:C,begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:A,onAnimationStart:T,key:C},V=>{var O=pr(z,M+z,V),R=Math.min(O,M),$;if(d)if(l){var B="".concat(l).split(/[,\s]+/gim).map(L=>parseFloat(L));$=hxe(R,M,B)}else $=Nz(M,R);else $=l==null?void 0:String(l);if(N){var U=N.length/o.length,te=V===1?o:o.map((L,F)=>{var q=Math.floor(F*U);if(N[q]){var ee=N[q];return yn(yn({},L),{},{x:pr(ee.x,L.x,V),y:pr(ee.y,L.y,V)})}return g?yn(yn({},L),{},{x:pr(y*2,L.x,V),y:pr(w/2,L.y,V)}):yn(yn({},L),{},{x:L.x,y:L.y})});return n.current=te,p.createElement(BO,{props:s,points:te,clipPathId:r,pathRef:a,strokeDasharray:$})}return V>0&&M>0&&(n.current=o,i.current=R),p.createElement(BO,{props:s,points:o,clipPathId:r,pathRef:a,strokeDasharray:$})}),p.createElement(Yy,{label:s.label}))}function bxe(e){var{clipPathId:r,props:s}=e,a=p.useRef(null),n=p.useRef(0),i=p.useRef(null);return p.createElement(vxe,{props:s,clipPathId:r,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var wxe=(e,r)=>({x:e.x,y:e.y,value:e.value,errorVal:fr(e.payload,r)});class jxe extends p.Component{render(){var r,{hide:s,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:d,left:m,width:h,height:f,id:g,needClip:y}=this.props;if(s)return null;var w=Qt("recharts-line",i),b=g,{r:v=3,strokeWidth:N=2}=(r=Cr(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=gy(a),S=v*2+N;return p.createElement(p.Fragment,null,p.createElement(rs,{className:w},y&&p.createElement("defs",null,p.createElement(s4,{clipPathId:b,xAxisId:o,yAxisId:l}),!C&&p.createElement("clipPath",{id:"clipPath-dots-".concat(b)},p.createElement("rect",{x:m-S/2,y:d-S/2,width:h+S,height:f+S}))),p.createElement(uz,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:wxe,errorBarOffset:0},p.createElement(bxe,{props:this.props,clipPathId:b}))),p.createElement(Q1,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Sz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Nxe(e){var r=ka(e,Sz),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:m,isAnimationActive:h,label:f,legendType:g,xAxisId:y,yAxisId:w,id:b}=r,v=o4(r,nxe),{needClip:N}=ev(y,w),C=Zy(),S=tp(),_=Ca(),E=at(V=>rxe(V,y,w,_,b));if(S!=="horizontal"&&S!=="vertical"||E==null||C==null)return null;var{height:A,width:T,x:M,y:z}=C;return p.createElement(jxe,Ad({},v,{id:b,connectNulls:l,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:h,hide:m,label:f,legendType:g,xAxisId:y,yAxisId:w,points:E,layout:S,height:A,width:T,left:M,top:z,needClip:N}))}function Sxe(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((m,h)=>{var f=fr(m,o);if(r==="horizontal"){var g=ax({axis:s,ticks:n,bandSize:l,entry:m,index:h}),y=Rr(f)?null:a.scale(f);return{x:g,y,value:f,payload:m}}var w=Rr(f)?null:s.scale(f),b=ax({axis:a,ticks:i,bandSize:l,entry:m,index:h});return w==null||b==null?null:{x:w,y:b,value:f,payload:m}}).filter(Boolean)}function _x(e){var r=ka(e,Sz),s=Ca();return p.createElement(Xy,{id:r.id,type:"line"},a=>p.createElement(p.Fragment,null,p.createElement(Z2,{legendPayload:dxe(r)}),p.createElement(Jy,{fn:uxe,args:r}),p.createElement(e4,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),p.createElement(Nxe,Ad({},r,{id:a}))))}_x.displayName="Line";var Cz=(e,r,s,a)=>ho(e,"xAxis",r,a),kz=(e,r,s,a)=>mo(e,"xAxis",r,a),_z=(e,r,s,a)=>ho(e,"yAxis",s,a),Pz=(e,r,s,a)=>mo(e,"yAxis",s,a),Cxe=ge([Vt,Cz,_z,kz,Pz],(e,r,s,a,n)=>wo(e,"xAxis")?_d(r,a,!1):_d(s,n,!1)),kxe=(e,r,s,a,n)=>n,Az=ge([dp,kxe],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),_xe=(e,r,s,a,n)=>{var i,o=Az(e,r,s,a,n);if(o!=null){var l=Vt(e),d=wo(l,"xAxis"),m;if(d?m=_f(e,"yAxis",s,a):m=_f(e,"xAxis",r,a),m!=null){var{stackId:h}=o,f=Fy(o);if(!(h==null||f==null)){var g=(i=m[h])===null||i===void 0?void 0:i.stackedData;return g==null?void 0:g.find(y=>y.key===f)}}}},Pxe=ge([Vt,Cz,_z,kz,Pz,_xe,ip,Cxe,Az],(e,r,s,a,n,i,o,l,d)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:f}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:g}=d,y;if(g&&g.length>0?y=g:y=m==null?void 0:m.slice(h,f+1),y!=null){var w=void 0;return Yxe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:d,stackedData:i,displayedData:y,chartBaseValue:w,bandSize:l})}}}),Axe=["id"],Exe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ez(e,r){if(e==null)return{};var s,a,n=Txe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Txe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function WO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ko(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?WO(Object(s),!0).forEach(function(a){Oxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):WO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Oxe(e,r,s){return(r=Rxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Rxe(e){var r=Mxe(e,"string");return typeof r=="symbol"?r:r+""}function Mxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qo.apply(null,arguments)}function Px(e,r){return e&&e!=="none"?e:r}var Ixe=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:Px(a,n),value:hc(s,r),payload:e}]};function Dxe(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:hc(o,r),hide:l,type:e.tooltipType,color:Px(a,i),unit:d}}}var Lxe=(e,r)=>{var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Qt("recharts-area-dot",typeof e!="boolean"?e.className:"");s=p.createElement(H2,Qo({},r,{className:a}))}return s};function $xe(e,r){return e==null?!1:r?!0:e.length===1}function zxe(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:o}=a;if(!$xe(s,i))return null;var l=gy(i),d=Li(a),m=Cr(i,!0),h=s.map((g,y)=>{var w=Ko(Ko(Ko({key:"dot-".concat(y),r:3},d),m),{},{index:y,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:s});return Lxe(i,w)}),f={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return p.createElement(rs,Qo({className:"recharts-area-dots"},f),h)}function Fxe(e){var{showLabels:r,children:s,points:a}=e,n=a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Ko(Ko({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return p.createElement(V2,{value:r?n:null},s)}function VO(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:o,type:l,stroke:d,connectNulls:m,isRange:h}=i,{id:f}=i,g=Ez(i,Axe),y=Li(g);return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(rs,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},p.createElement(Xu,Qo({},y,{id:f,points:r,connectNulls:m,type:l,baseLine:s,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&p.createElement(Xu,Qo({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:m,fill:"none",points:r})),d!=="none"&&h&&p.createElement(Xu,Qo({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:m,fill:"none",points:s}))),p.createElement(zxe,{points:r,props:g,clipPathId:n}))}function Uxe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,o=a[a.length-1].y;if(!ia(i)||!ia(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.x||0));return st(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.x||0),d)),st(d)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function Bxe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,o=a[a.length-1].x;if(!ia(i)||!ia(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.y||0));return st(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.y||0),d)),st(d)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function Wxe(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?p.createElement(Uxe,{alpha:r,points:a,baseLine:n,strokeWidth:i}):p.createElement(Bxe,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function Vxe(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,onAnimationStart:g,onAnimationEnd:y}=a,w=Em(a,"recharts-area-"),[b,v]=p.useState(!1),N=!b,C=p.useCallback(()=>{typeof y=="function"&&y(),v(!1)},[y]),S=p.useCallback(()=>{typeof g=="function"&&g(),v(!0)},[g]),_=n.current,E=i.current;return p.createElement(Fxe,{showLabels:N,points:o},a.children,p.createElement(Am,{animationId:w,begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:C,onAnimationStart:S,key:w},A=>{if(_){var T=_.length/o.length,M=A===1?o:o.map((V,O)=>{var R=Math.floor(O*T);if(_[R]){var $=_[R];return Ko(Ko({},V),{},{x:pr($.x,V.x,A),y:pr($.y,V.y,A)})}return V}),z;return st(l)?z=pr(E,l,A):Rr(l)||nn(l)?z=pr(E,0,A):z=l.map((V,O)=>{var R=Math.floor(O*T);if(Array.isArray(E)&&E[R]){var $=E[R];return Ko(Ko({},V),{},{x:pr($.x,V.x,A),y:pr($.y,V.y,A)})}return V}),A>0&&(n.current=M,i.current=z),p.createElement(VO,{points:M,baseLine:z,needClip:r,clipPathId:s,props:a})}return A>0&&(n.current=o,i.current=l),p.createElement(rs,null,d&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(s)},p.createElement(Wxe,{alpha:A,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),p.createElement(rs,{clipPath:"url(#animationClipPath-".concat(s,")")},p.createElement(VO,{points:o,baseLine:l,needClip:r,clipPathId:s,props:a})))}),p.createElement(Yy,{label:a.label}))}function Hxe(e){var{needClip:r,clipPathId:s,props:a}=e,n=p.useRef(null),i=p.useRef();return p.createElement(Vxe,{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class qxe extends p.PureComponent{render(){var r,{hide:s,dot:a,points:n,className:i,top:o,left:l,needClip:d,xAxisId:m,yAxisId:h,width:f,height:g,id:y,baseLine:w}=this.props;if(s)return null;var b=Qt("recharts-area",i),v=y,{r:N=3,strokeWidth:C=2}=(r=Cr(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=gy(a),_=N*2+C;return p.createElement(p.Fragment,null,p.createElement(rs,{className:b},d&&p.createElement("defs",null,p.createElement(s4,{clipPathId:v,xAxisId:m,yAxisId:h}),!S&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:l-_/2,y:o-_/2,width:f+_,height:g+_}))),p.createElement(Hxe,{needClip:d,clipPathId:v,props:this.props})),p.createElement(Q1,{points:n,mainColor:Px(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(w)&&p.createElement(Q1,{points:w,mainColor:Px(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Tz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!fc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Kxe(e){var r,s=ka(e,Tz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,fill:m,fillOpacity:h,hide:f,isAnimationActive:g,legendType:y,stroke:w,xAxisId:b,yAxisId:v}=s,N=Ez(s,Exe),C=tp(),S=L$(),{needClip:_}=ev(b,v),E=Ca(),{points:A,isRange:T,baseLine:M}=(r=at(B=>Pxe(B,b,v,E,e.id)))!==null&&r!==void 0?r:{},z=Zy();if(C!=="horizontal"&&C!=="vertical"||z==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:V,width:O,x:R,y:$}=z;return!A||!A.length?null:p.createElement(qxe,Qo({},N,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:M,connectNulls:l,dot:d,fill:m,fillOpacity:h,height:V,hide:f,layout:C,isAnimationActive:g,isRange:T,legendType:y,needClip:_,points:A,stroke:w,width:O,left:R,top:$,xAxisId:b,yAxisId:v}))}var Gxe=(e,r,s,a,n)=>{var i=s??r;if(st(i))return i;var o=e==="horizontal"?n:a,l=o.scale.domain();if(o.type==="number"){var d=Math.max(l[0],l[1]),m=Math.min(l[0],l[1]);return i==="dataMin"?m:i==="dataMax"||d<0?d:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function Yxe(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:d,displayedData:m,dataStartIndex:h,xAxisTicks:f,yAxisTicks:g,bandSize:y}=e,w=n&&n.length,b=Gxe(i,o,s,l,d),v=i==="horizontal",N=!1,C=m.map((_,E)=>{var A;w?A=n[h+E]:(A=fr(_,a),Array.isArray(A)?N=!0:A=[b,A]);var T=A[1]==null||w&&!r&&fr(_,a)==null;return v?{x:ax({axis:l,ticks:f,bandSize:y,entry:_,index:E}),y:T?null:d.scale(A[1]),value:A,payload:_}:{x:T?null:l.scale(A[1]),y:ax({axis:d,ticks:g,bandSize:y,entry:_,index:E}),value:A,payload:_}}),S;return w||N?S=C.map(_=>{var E=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:E!=null&&_.y!=null?d.scale(E):null,payload:_.payload}:{x:E!=null?l.scale(E):null,y:_.y,payload:_.payload}}):S=v?d.scale(b):l.scale(b),{points:C,baseLine:S,isRange:N}}function Ed(e){var r=ka(e,Tz),s=Ca();return p.createElement(Xy,{id:r.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(Z2,{legendPayload:Ixe(r)}),p.createElement(Jy,{fn:Dxe,args:r}),p.createElement(e4,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:v6(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),p.createElement(Kxe,Qo({},r,{id:a}))))}Ed.displayName="Area";var Jxe=["children"],Xxe=["dangerouslySetInnerHTML","ticks"],Qxe=["id"];function Oz(e,r,s){return(r=Zxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zxe(e){var r=eye(e,"string");return typeof r=="symbol"?r:r+""}function eye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},eS.apply(null,arguments)}function tS(e,r){if(e==null)return{};var s,a,n=tye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function tye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function rye(e){var r=ms(),s=p.useMemo(()=>{var{children:a}=e,n=tS(e,Jxe);return n},[e]);return p.useEffect(()=>(r(Bpe(s)),()=>{r(Wpe(s))}),[s,r]),e.children}var sye=e=>{var{xAxisId:r,className:s}=e,a=at(LC),n=Ca(),i="xAxis",o=at(v=>Lm(v,i,r,n)),l=at(v=>g$(v,i,r,n)),d=at(v=>m$(v,r)),m=at(v=>Cue(v,r)),h=at(v=>W8(v,r));if(d==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:g}=e,y=tS(e,Xxe),{id:w}=h,b=tS(h,Qxe);return p.createElement(bc,eS({},y,b,{scale:o,x:m.x,y:m.y,width:d.width,height:d.height,className:Qt("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l}))},aye=e=>{var r,s,a,n,i;return p.createElement(rye,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(sye,e))};class Ci extends p.Component{render(){return p.createElement(aye,this.props)}}Oz(Ci,"displayName","XAxis");Oz(Ci,"defaultProps",{allowDataOverflow:fn.allowDataOverflow,allowDecimals:fn.allowDecimals,allowDuplicatedCategory:fn.allowDuplicatedCategory,height:fn.height,hide:!1,mirror:fn.mirror,orientation:fn.orientation,padding:fn.padding,reversed:fn.reversed,scale:fn.scale,tickCount:fn.tickCount,type:fn.type,xAxisId:0});var nye=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(r){r.forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=s?s.getBoundingClientRect().width:0,d=n+i,m=o+d+l+(s?a:0);return Math.round(m)}return 0},iye=["dangerouslySetInnerHTML","ticks"],oye=["id"];function Rz(e,r,s){return(r=lye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function lye(e){var r=cye(e,"string");return typeof r=="symbol"?r:r+""}function cye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},rS.apply(null,arguments)}function HO(e,r){if(e==null)return{};var s,a,n=dye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function uye(e){var r=ms();return p.useEffect(()=>(r(Vpe(e)),()=>{r(Hpe(e))}),[e,r]),null}var mye=e=>{var r,{yAxisId:s,className:a,width:n,label:i}=e,o=p.useRef(null),l=p.useRef(null),d=at(LC),m=Ca(),h=ms(),f="yAxis",g=at(A=>Lm(A,f,s,m)),y=at(A=>h$(A,s)),w=at(A=>kue(A,s)),b=at(A=>g$(A,f,s,m)),v=at(A=>V8(A,s));if(p.useLayoutEffect(()=>{var A;if(!(n!=="auto"||!y||W2(i)||p.isValidElement(i)||v==null)){var T=o.current,M=T==null||(A=T.tickRefs)===null||A===void 0?void 0:A.current,{tickSize:z,tickMargin:V}=T.props,O=nye({ticks:M,label:l.current,labelGapWithTick:5,tickSize:z,tickMargin:V});Math.round(y.width)!==Math.round(O)&&h(qpe({id:s,width:O}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,y==null?void 0:y.width,y,h,i,s,n]),y==null||w==null||v==null)return null;var{dangerouslySetInnerHTML:N,ticks:C}=e,S=HO(e,iye),{id:_}=v,E=HO(v,oye);return p.createElement(bc,rS({},S,E,{ref:o,labelRef:l,scale:g,x:w.x,y:w.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Qt("recharts-".concat(f," ").concat(f),a),viewBox:d,ticks:b}))},hye=e=>{var r,s,a,n,i;return p.createElement(p.Fragment,null,p.createElement(uye,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement(mye,e))},fye={allowDataOverflow:pn.allowDataOverflow,allowDecimals:pn.allowDecimals,allowDuplicatedCategory:pn.allowDuplicatedCategory,hide:!1,mirror:pn.mirror,orientation:pn.orientation,padding:pn.padding,reversed:pn.reversed,scale:pn.scale,tickCount:pn.tickCount,type:pn.type,width:pn.width,yAxisId:0};class ki extends p.Component{render(){return p.createElement(hye,this.props)}}Rz(ki,"displayName","YAxis");Rz(ki,"defaultProps",fye);var cN={exports:{}},dN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function pye(){if(qO)return dN;qO=1;var e=ym();function r(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var s=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return dN.useSyncExternalStoreWithSelector=function(d,m,h,f,g){var y=n(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function v(E){if(!N){if(N=!0,C=E,E=f(E),g!==void 0&&w.hasValue){var A=w.value;if(g(A,E))return S=A}return S=E}if(A=S,s(C,E))return A;var T=f(E);return g!==void 0&&g(A,T)?(C=E,A):(C=E,S=T)}var N=!1,C,S,_=h===void 0?null:h;return[function(){return v(m())},_===null?void 0:function(){return v(_())}]},[m,h,f,g]);var b=a(d,y[0],y[1]);return i(function(){w.hasValue=!0,w.value=b},[b]),l(b),b},dN}var KO;function gye(){return KO||(KO=1,cN.exports=pye()),cN.exports}gye();function xye(e){e()}function yye(){let e=null,r=null;return{clear(){e=null,r=null},notify(){xye(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var GO={notify(){},get:()=>[]};function vye(e,r){let s,a=GO,n=0,i=!1;function o(b){h();const v=a.subscribe(b);let N=!1;return()=>{N||(N=!0,v(),f())}}function l(){a.notify()}function d(){w.onStateChange&&w.onStateChange()}function m(){return i}function h(){n++,s||(s=e.subscribe(d),a=yye())}function f(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=GO)}function g(){i||(i=!0,h())}function y(){i&&(i=!1,f())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:m,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>a};return w}var bye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wye=bye(),jye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nye=jye(),Sye=()=>wye||Nye?p.useLayoutEffect:p.useEffect,Cye=Sye(),uN=Symbol.for("react-redux-context"),mN=typeof globalThis<"u"?globalThis:{};function kye(){if(!p.createContext)return{};const e=mN[uN]??(mN[uN]=new Map);let r=e.get(p.createContext);return r||(r=p.createContext(null),e.set(p.createContext,r)),r}var _ye=kye();function Pye(e){const{children:r,context:s,serverState:a,store:n}=e,i=p.useMemo(()=>{const d=vye(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),o=p.useMemo(()=>n.getState(),[n]);Cye(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=s||_ye;return p.createElement(l.Provider,{value:i},r)}var Aye=Pye,Eye=(e,r)=>r,l4=ge([Eye,Vt,F8,Ls,T$,fl,Eme,Is],Ime),c4=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},Mz=ri("mouseClick"),Iz=Zf();Iz.startListening({actionCreator:Mz,effect:(e,r)=>{var s=e.payload,a=l4(r.getState(),c4(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(zue({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var sS=ri("mouseMove"),Dz=Zf();Dz.startListening({actionCreator:sS,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=M2(a,a.tooltip.settings.shared),i=l4(a,c4(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(S$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(N$()))}});function Tye(e,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var YO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Lz=Pn({name:"rootProps",initialState:YO,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:YO.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className}}}),Oye=Lz.reducer,{updateOptions:Rye}=Lz.actions,$z=Pn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:Mye}=$z.actions,Iye=$z.reducer,zz=ri("keyDown"),Fz=ri("focus"),d4=Zf();d4.startListening({actionCreator:zz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(I2(n,zm(s))),l=fl(s);if(i==="Enter"){var d=bx(s,"axis","hover",String(n.index));r.dispatch(K1({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var m=Eue(s),h=m==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,g=o+f*h;if(!(l==null||g>=l.length||g<0)){var y=bx(s,"axis","hover",String(g));r.dispatch(K1({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});d4.startListening({actionCreator:Fz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",o=bx(s,"axis","hover",String(i));r.dispatch(K1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Un=ri("externalEvent"),Uz=Zf();Uz.startListening({actionCreator:Un,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:wme(s),activeDataKey:I$(s),activeIndex:ic(s),activeLabel:M$(s),activeTooltipIndex:ic(s),isTooltipActive:jme(s)};e.payload.handler(a,e.payload.reactEvent)}}});var Dye=ge([$m],e=>e.tooltipItemPayloads),Lye=ge([Dye,hp,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var o=r(i,s);return o}}}),Bz=ri("touchMove"),Wz=Zf();Wz.startListening({actionCreator:Bz,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=M2(a,a.tooltip.settings.shared);if(n==="axis"){var i=l4(a,c4({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(S$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=s.touches[0],d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(w6),h=(o=d.getAttribute(j6))!==null&&o!==void 0?o:void 0,f=Lye(r.getState(),m,h);r.dispatch(j$({activeDataKey:h,activeIndex:m,activeCoordinate:f}))}}});var $ye=qL({brush:m0e,cartesianAxis:Kpe,chartData:Xme,errorBars:mge,graphicalItems:mpe,layout:Kne,legend:Mie,options:qme,polarAxis:Afe,polarOptions:Iye,referenceElements:v0e,rootProps:Oye,tooltip:Fue}),zye=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return yne({reducer:$ye,preloadedState:r,middleware:a=>a({serializableCheck:!1}).concat([Iz.middleware,Dz.middleware,d4.middleware,Uz.middleware,Wz.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:Tye},name:"recharts-".concat(s)}})};function Vz(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=Ca(),i=p.useRef(null);if(n)return s;i.current==null&&(i.current=zye(r,a));var o=TC;return p.createElement(Aye,{context:o,store:i.current},s)}function Hz(e){var{layout:r,width:s,height:a,margin:n}=e,i=ms(),o=Ca();return p.useEffect(()=>{o||(i(Vne(r)),i(Hne({width:s,height:a})),i(Wne(n)))},[i,o,r,s,a,n]),null}function qz(e){var r=ms();return p.useEffect(()=>{r(Rye(e))},[r,e]),null}var Fye=["children"];function Uye(e,r){if(e==null)return{};var s,a,n=Bye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Bye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ax.apply(null,arguments)}var Wye={width:"100%",height:"100%"},Vye=p.forwardRef((e,r)=>{var s=S6(),a=C6(),n=A6();if(!dm(s)||!dm(a))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,m,h;return typeof o.tabIndex=="number"?m=o.tabIndex:m=n?0:void 0,typeof o.role=="string"?h=o.role:h=n?"application":void 0,p.createElement(fL,Ax({},o,{title:l,desc:d,role:h,tabIndex:m,width:s,height:a,style:Wye,ref:r}),i)}),Hye=e=>{var{children:r}=e,s=at(Ey);if(!s)return null;var{width:a,height:n,y:i,x:o}=s;return p.createElement(fL,{width:a,height:n,x:o,y:i},r)},JO=p.forwardRef((e,r)=>{var{children:s}=e,a=Uye(e,Fye),n=Ca();return n?p.createElement(Hye,null,s):p.createElement(Vye,Ax({ref:r},a),s)});function qye(){var e=ms(),[r,s]=p.useState(null),a=at(wie);return p.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;ia(i)&&i!==a&&e(qne(i))}},[r,e,a]),s}function XO(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Kye(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?XO(Object(s),!0).forEach(function(a){Gye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):XO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gye(e,r,s){return(r=Yye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Yye(e){var r=Jye(e,"string");return typeof r=="symbol"?r:r+""}function Jye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Xye=p.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:f,onMouseUp:g,onTouchEnd:y,onTouchMove:w,onTouchStart:b,style:v,width:N}=e,C=ms(),[S,_]=p.useState(null),[E,A]=p.useState(null);ihe();var T=qye(),M=p.useCallback(Z=>{T(Z),typeof r=="function"&&r(Z),_(Z),A(Z)},[T,r,_,A]),z=p.useCallback(Z=>{C(Mz(Z)),C(Un({handler:i,reactEvent:Z}))},[C,i]),V=p.useCallback(Z=>{C(sS(Z)),C(Un({handler:m,reactEvent:Z}))},[C,m]),O=p.useCallback(Z=>{C(N$()),C(Un({handler:h,reactEvent:Z}))},[C,h]),R=p.useCallback(Z=>{C(sS(Z)),C(Un({handler:f,reactEvent:Z}))},[C,f]),$=p.useCallback(()=>{C(Fz())},[C]),B=p.useCallback(Z=>{C(zz(Z.key))},[C]),U=p.useCallback(Z=>{C(Un({handler:o,reactEvent:Z}))},[C,o]),te=p.useCallback(Z=>{C(Un({handler:l,reactEvent:Z}))},[C,l]),L=p.useCallback(Z=>{C(Un({handler:d,reactEvent:Z}))},[C,d]),F=p.useCallback(Z=>{C(Un({handler:g,reactEvent:Z}))},[C,g]),q=p.useCallback(Z=>{C(Un({handler:b,reactEvent:Z}))},[C,b]),ee=p.useCallback(Z=>{C(Bz(Z)),C(Un({handler:w,reactEvent:Z}))},[C,w]),W=p.useCallback(Z=>{C(Un({handler:y,reactEvent:Z}))},[C,y]);return p.createElement(B$.Provider,{value:S},p.createElement(pse.Provider,{value:E},p.createElement("div",{className:Qt("recharts-wrapper",a),style:Kye({position:"relative",cursor:"default",width:N,height:n},v),onClick:z,onContextMenu:U,onDoubleClick:te,onFocus:$,onKeyDown:B,onMouseDown:L,onMouseEnter:V,onMouseLeave:O,onMouseMove:R,onMouseUp:F,onTouchEnd:W,onTouchMove:ee,onTouchStart:q,ref:M},s)))}),Qye=["children","className","width","height","style","compact","title","desc"];function Zye(e,r){if(e==null)return{};var s,a,n=eve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Kz=p.forwardRef((e,r)=>{var{children:s,className:a,width:n,height:i,style:o,compact:l,title:d,desc:m}=e,h=Zye(e,Qye),f=Li(h);return l?p.createElement(JO,{otherAttributes:f,title:d,desc:m},s):p.createElement(Xye,{className:a,style:o,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(JO,{otherAttributes:f,title:d,desc:m,ref:r},p.createElement(w0e,null,s)))}),tve=["width","height"];function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},aS.apply(null,arguments)}function rve(e,r){if(e==null)return{};var s,a,n=sve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ave={top:5,right:5,bottom:5,left:5},nve={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ave,reverseStackOrder:!1,syncMethod:"index"},u4=p.forwardRef(function(r,s){var a,n=ka(r.categoricalChartProps,nve),{width:i,height:o}=n,l=rve(n,tve);if(!dm(i)||!dm(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,categoricalChartProps:g}=r,y={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Vz,{preloadedState:{options:y},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:d},p.createElement(fz,{chartData:g.data}),p.createElement(Hz,{width:i,height:o,layout:n.layout,margin:n.margin}),p.createElement(qz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Kz,aS({},l,{width:i,height:o,ref:s})))}),ive=["axis"],Gz=p.forwardRef((e,r)=>p.createElement(u4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ive,tooltipPayloadSearcher:Ky,categoricalChartProps:e,ref:r})),ove=["axis","item"],m4=p.forwardRef((e,r)=>p.createElement(u4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ove,tooltipPayloadSearcher:Ky,categoricalChartProps:e,ref:r}));function lve(e){var r=ms();return p.useEffect(()=>{r(Mye(e))},[r,e]),null}var cve=["width","height","layout"];function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},nS.apply(null,arguments)}function dve(e,r){if(e==null)return{};var s,a,n=uve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function uve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var mve={top:5,right:5,bottom:5,left:5},hve={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mve,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},fve=p.forwardRef(function(r,s){var a,n=ka(r.categoricalChartProps,hve),{width:i,height:o,layout:l}=n,d=dve(n,cve);if(!dm(i)||!dm(o))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g}=r,y={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(Vz,{preloadedState:{options:y},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:m},p.createElement(fz,{chartData:n.data}),p.createElement(Hz,{width:i,height:o,layout:l,margin:n.margin}),p.createElement(qz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(lve,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),p.createElement(Kz,nS({width:i,height:o},d,{ref:s})))}),pve=["item"],gve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},h4=p.forwardRef((e,r)=>{var s=ka(e,gve);return p.createElement(fve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pve,tooltipPayloadSearcher:Ky,categoricalChartProps:s,ref:r})}),xve=["axis"],tv=p.forwardRef((e,r)=>p.createElement(u4,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xve,tooltipPayloadSearcher:Ky,categoricalChartProps:e,ref:r}));function yve(){console.log("Dashboard component rendering...");const e=vr(),{userContext:r}=dl(),{user:s}=Ud();Vr();const[a,n]=p.useState(new Date),[i,o]=p.useState("all"),[l,d]=p.useState("all"),[m]=p.useState(8),[h,f]=p.useState(12543),[g,y]=p.useState(72.5),[w,b]=p.useState(1502.34),[v,N]=p.useState(437),[C,S]=p.useState(12.8);p.useEffect(()=>{console.log("Dashboard useEffect running...");const F=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(F)},[]),p.useEffect(()=>{const F=setInterval(()=>{f(q=>q+Math.floor(Math.random()*3)),y(q=>Math.max(70,Math.min(80,q+(Math.random()-.5)*2))),b(q=>q+Math.random()*.5),N(q=>q+(Math.random()>.7?1:0)),S(q=>Math.max(20,Math.min(30,q+(Math.random()-.5)*1)))},3e4);return()=>clearInterval(F)},[]);const[_,E]=p.useState({totalCalls:0,activeCampaigns:0,conversionRate:0,totalCost:0}),[A,T]=p.useState([]),[M,z]=p.useState([]),[V,O]=p.useState([]),[R,$]=p.useState(!0);p.useEffect(()=>{B()},[]);const B=async()=>{try{const{data:F}=await Xe.from("campaigns").select("*"),{data:q}=await Xe.from("calls").select("*"),{data:ee}=await Xe.from("calls").select(`
          *,
          leads:lead_id(name, phone_number),
          campaigns:campaign_id(name)
        `).order("created_at",{ascending:!1}).limit(5),W=Array.isArray(F)?F:[],Z=Array.isArray(q)?q:[],ve=W.filter(Q=>Q.status==="active").length,ne=Z.length,I=Z.filter(Q=>Q.status==="completed").length,we=ne>0?I/ne*100:0,le=Z.reduce((Q,he)=>Q+(he.cost||0),0);E({totalCalls:ne,activeCampaigns:ve,conversionRate:we,totalCost:le});const ke=W.map(Q=>({name:Q.name,successRate:Q.total_calls>0?Q.successful_calls/Q.total_calls*100:0,value:Q.successful_calls||0}));T(ke);const J=Array.from({length:7},(Q,he)=>{const Se=new Date;Se.setDate(Se.getDate()-(6-he));const Te=new Date(Se);Te.setHours(0,0,0,0);const ce=new Date(Se);ce.setHours(23,59,59,999);const Ve=Z.filter(ht=>{const de=new Date(ht.created_at);return de>=Te&&de<=ce}).length;return{date:Se.toLocaleDateString("en-US",{weekday:"short"}),calls:Ve}});z(J);const fe=(Array.isArray(ee)?ee:[]).map((Q,he)=>{var Se,Te;return{id:Q.id||he+1,contact:((Se=Q.leads)==null?void 0:Se.name)||Q.phone_number||"Unknown",campaign:((Te=Q.campaigns)==null?void 0:Te.name)||"Direct Call",duration:U(Q.duration||0),status:Q.status||"unknown"}});fe.length===0?O([{id:1,contact:"No calls yet",campaign:"Import leads to start",duration:"0:00",status:"pending"}]):O(fe),$(!1)}catch(F){console.error("Error fetching data:",F),$(!1)}},U=F=>{const q=Math.floor(F/60),ee=F%60;return`${q}:${ee.toString().padStart(2,"0")}`},te=[{title:"Total Calls",value:_.totalCalls.toLocaleString(),change:_.totalCalls>0?"Real data":"No calls yet",icon:ct,color:"purple"},{title:"Active Campaigns",value:_.activeCampaigns.toString(),change:"Live",icon:Sr,color:"emerald"},{title:"Conversion Rate",value:`${_.conversionRate.toFixed(1)}%`,change:"Actual rate",icon:Na,color:"pink"},{title:"Total Cost",value:`${_.totalCost.toFixed(2)}`,change:"GBP",icon:Qr,color:"blue"}],L=()=>{const F=new Date().getHours();return F<12?"Good morning":F<18?"Good afternoon":"Good evening"};return t.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-black",children:t.jsxs("div",{className:"w-full mt-8 space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),t.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[L(),", ",(r==null?void 0:r.firstName)||(s==null?void 0:s.firstName)||"User","!  ",a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(H,{onClick:()=>e("/campaigns"),className:"bg-emerald-600 font-medium text-white transition-all duration-200 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:te.map(F=>t.jsx(K,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:F.title}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:F.value}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:`text-xs font-medium ${F.change.startsWith("+")?"text-pink-400":"text-red-400"}`,children:F.change}),t.jsx("span",{className:"text-xs text-gray-500",children:"Weekly growth"})]})]}),t.jsx("div",{className:`rounded-lg border p-3 ${F.color==="purple"?"border-purple-500/20 bg-purple-500/10":F.color==="emerald"?"border-emerald-500/20 bg-emerald-500/10":F.color==="pink"?"border-pink-500/20 bg-pink-500/10":F.color==="blue"?"border-blue-500/20 bg-blue-500/10":"border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(F.icon,{className:`h-5 w-5 ${F.color==="purple"?"text-purple-400":F.color==="emerald"?"text-emerald-400":F.color==="pink"?"text-pink-400":F.color==="blue"?"text-blue-400":"text-gray-300"}`})})]})})},F.title))}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(xe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(ye,{className:"text-lg font-semibold text-white",children:"Call Volume"}),t.jsx(vt,{className:"text-sm text-gray-400",children:"Last 7 days"})]}),t.jsx(G,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Jn,{width:"100%",height:"100%",children:t.jsxs(tv,{data:M,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:0})]})}),t.jsx(io,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(Ci,{dataKey:"date",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(ki,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(Yn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#fff"}}),t.jsx(Ed,{type:"monotone",dataKey:"calls",stroke:"#ec4899",fillOpacity:1,fill:"url(#colorCalls)"})]})})})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(xe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(ye,{className:"text-lg font-semibold text-white",children:"Campaign Performance"}),t.jsx(vt,{className:"text-sm text-gray-400",children:"Success rate by campaign"})]}),t.jsx(G,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Jn,{width:"100%",height:"100%",children:t.jsxs(m4,{data:A,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:.9}),t.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:1})]})}),t.jsx(io,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(Ci,{dataKey:"name",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(ki,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(Yn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.9)",border:"1px solid rgba(236, 72, 153, 0.5)",borderRadius:"8px",backdropFilter:"blur(12px)",boxShadow:"0 8px 32px rgba(236, 72, 153, 0.2)"},labelStyle:{color:"#fff"},cursor:{fill:"rgba(236, 72, 153, 0.1)"}}),t.jsx(Af,{dataKey:"success",fill:"url(#barGradient)",radius:[8,8,0,0]})]})})})})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsx(xe,{className:"border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-lg font-semibold text-white",children:"Recent Calls"}),t.jsx(vt,{className:"text-sm text-gray-400",children:"Recent Activity"})]}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>e("/all-calls"),className:"text-gray-400 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:"View All"})]})}),t.jsx(G,{className:"p-0",children:t.jsx("div",{className:"divide-y divide-gray-800/30",children:V&&V.length>0&&V.map(F=>t.jsxs("div",{className:"group flex cursor-pointer items-center justify-between px-4 py-3 transition-all duration-200 hover:bg-gray-800/30",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${F.status==="completed"?"border border-pink-500/20 bg-pink-500/10":F.status==="in-progress"?"border border-blue-500/20 bg-blue-500/10":"border border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(ct,{className:`h-4 w-4 ${F.status==="completed"?"text-pink-400":F.status==="in-progress"?"text-blue-400":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:F.contact}),t.jsx("p",{className:"text-xs text-gray-400",children:F.campaign})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-white",children:F.duration}),t.jsx("p",{className:`text-xs ${F.status==="completed"?"text-pink-400":F.status==="in-progress"?"text-blue-400":"text-gray-400"}`,children:F.status==="completed"?"Completed":F.status==="in-progress"?"In Progress":F.status==="missed"?"Missed":F.status})]}),t.jsx(Di,{className:"h-3 w-3 text-gray-500 transition-all duration-200 group-hover:text-gray-300"})]})]},F.id))})})]})]})})}function gp(e){const r=p.useRef({value:e,previous:e});return p.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var vve=[" ","Enter","ArrowUp","ArrowDown"],bve=[" ","Enter"],Td="Select",[rv,sv,wve]=Uf(Td),[Fm,DSe]=Gs(Td,[wve,iy]),av=iy(),[jve,wc]=Fm(Td),[Nve,Sve]=Fm(Td),Yz=e=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:m,name:h,autoComplete:f,disabled:g,required:y,form:w}=e,b=av(r),[v,N]=p.useState(null),[C,S]=p.useState(null),[_,E]=p.useState(!1),A=Bd(m),[T,M]=Ei({prop:a,defaultProp:n??!1,onChange:i,caller:Td}),[z,V]=Ei({prop:o,defaultProp:l,onChange:d,caller:Td}),O=p.useRef(null),R=v?w||!!v.closest("form"):!0,[$,B]=p.useState(new Set),U=Array.from($).map(te=>te.props.value).join(";");return t.jsx(GM,{...b,children:t.jsxs(jve,{required:y,scope:r,trigger:v,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:so(),value:z,onValueChange:V,open:T,onOpenChange:M,dir:A,triggerPointerDownPosRef:O,disabled:g,children:[t.jsx(rv.Provider,{scope:r,children:t.jsx(Nve,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(te=>{B(L=>new Set(L).add(te))},[]),onNativeOptionRemove:p.useCallback(te=>{B(L=>{const F=new Set(L);return F.delete(te),F})},[]),children:s})}),R?t.jsxs(vF,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:z,onChange:te=>V(te.target.value),disabled:g,form:w,children:[z===void 0?t.jsx("option",{value:""}):null,Array.from($)]},U):null]})})};Yz.displayName=Td;var Jz="SelectTrigger",Xz=p.forwardRef((e,r)=>{const{__scopeSelect:s,disabled:a=!1,...n}=e,i=av(s),o=wc(Jz,s),l=o.disabled||a,d=mt(r,o.onTriggerChange),m=sv(s),h=p.useRef("touch"),[f,g,y]=wF(b=>{const v=m().filter(S=>!S.disabled),N=v.find(S=>S.value===o.value),C=jF(v,b,N);C!==void 0&&o.onValueChange(C.value)}),w=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return t.jsx(YM,{asChild:!0,...i,children:t.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bF(o.value)?"":void 0,...n,ref:d,onClick:Fe(n.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&w(b)}),onPointerDown:Fe(n.onPointerDown,b=>{h.current=b.pointerType;const v=b.target;v.hasPointerCapture(b.pointerId)&&v.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:Fe(n.onKeyDown,b=>{const v=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(v&&b.key===" ")&&vve.includes(b.key)&&(w(),b.preventDefault())})})})});Xz.displayName=Jz;var Qz="SelectValue",Zz=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=e,d=wc(Qz,s),{onValueNodeHasChildrenChange:m}=d,h=i!==void 0,f=mt(r,d.onValueNodeChange);return us(()=>{m(h)},[m,h]),t.jsx(qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:bF(d.value)?t.jsx(t.Fragment,{children:o}):i})});Zz.displayName=Qz;var Cve="SelectIcon",eF=p.forwardRef((e,r)=>{const{__scopeSelect:s,children:a,...n}=e;return t.jsx(qe.span,{"aria-hidden":!0,...n,ref:r,children:a||""})});eF.displayName=Cve;var kve="SelectPortal",tF=e=>t.jsx(Hf,{asChild:!0,...e});tF.displayName=kve;var Od="SelectContent",rF=p.forwardRef((e,r)=>{const s=wc(Od,e.__scopeSelect),[a,n]=p.useState();if(us(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?cc.createPortal(t.jsx(sF,{scope:e.__scopeSelect,children:t.jsx(rv.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(aF,{...e,ref:r})});rF.displayName=Od;var bi=10,[sF,jc]=Fm(Od),_ve="SelectContentImpl",Pve=bd("SelectContent.RemoveScroll"),aF=p.forwardRef((e,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:v,...N}=e,C=wc(Od,s),[S,_]=p.useState(null),[E,A]=p.useState(null),T=mt(r,le=>_(le)),[M,z]=p.useState(null),[V,O]=p.useState(null),R=sv(s),[$,B]=p.useState(!1),U=p.useRef(!1);p.useEffect(()=>{if(S)return rC(S)},[S]),VS();const te=p.useCallback(le=>{const[ke,...J]=R().map(Q=>Q.ref.current),[Ce]=J.slice(-1),fe=document.activeElement;for(const Q of le)if(Q===fe||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===ke&&E&&(E.scrollTop=0),Q===Ce&&E&&(E.scrollTop=E.scrollHeight),Q==null||Q.focus(),document.activeElement!==fe))return},[R,E]),L=p.useCallback(()=>te([M,S]),[te,M,S]);p.useEffect(()=>{$&&L()},[$,L]);const{onOpenChange:F,triggerPointerDownPosRef:q}=C;p.useEffect(()=>{if(S){let le={x:0,y:0};const ke=Ce=>{var fe,Q;le={x:Math.abs(Math.round(Ce.pageX)-(((fe=q.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Q=q.current)==null?void 0:Q.y)??0))}},J=Ce=>{le.x<=10&&le.y<=10?Ce.preventDefault():S.contains(Ce.target)||F(!1),document.removeEventListener("pointermove",ke),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",J,{capture:!0})}}},[S,F,q]),p.useEffect(()=>{const le=()=>F(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[F]);const[ee,W]=wF(le=>{const ke=R().filter(fe=>!fe.disabled),J=ke.find(fe=>fe.ref.current===document.activeElement),Ce=jF(ke,le,J);Ce&&setTimeout(()=>Ce.ref.current.focus())}),Z=p.useCallback((le,ke,J)=>{const Ce=!U.current&&!J;(C.value!==void 0&&C.value===ke||Ce)&&(z(le),Ce&&(U.current=!0))},[C.value]),ve=p.useCallback(()=>S==null?void 0:S.focus(),[S]),ne=p.useCallback((le,ke,J)=>{const Ce=!U.current&&!J;(C.value!==void 0&&C.value===ke||Ce)&&O(le)},[C.value]),I=a==="popper"?iS:nF,we=I===iS?{side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:b,avoidCollisions:v}:{};return t.jsx(sF,{scope:s,content:S,viewport:E,onViewportChange:A,itemRefCallback:Z,selectedItem:M,onItemLeave:ve,itemTextRefCallback:ne,focusSelectedItem:L,selectedItemText:V,position:a,isPositioned:$,searchRef:ee,children:t.jsx(ly,{as:Pve,allowPinchZoom:!0,children:t.jsx(ry,{asChild:!0,trapped:C.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Fe(n,le=>{var ke;(ke=C.trigger)==null||ke.focus({preventScroll:!0}),le.preventDefault()}),children:t.jsx(Bf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:t.jsx(I,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:le=>le.preventDefault(),...N,...we,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Fe(N.onKeyDown,le=>{const ke=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ke&&le.key.length===1&&W(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ce=R().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const fe=le.target,Q=Ce.indexOf(fe);Ce=Ce.slice(Q+1)}setTimeout(()=>te(Ce)),le.preventDefault()}})})})})})})});aF.displayName=_ve;var Ave="SelectItemAlignedPosition",nF=p.forwardRef((e,r)=>{const{__scopeSelect:s,onPlaced:a,...n}=e,i=wc(Od,s),o=jc(Od,s),[l,d]=p.useState(null),[m,h]=p.useState(null),f=mt(r,T=>h(T)),g=sv(s),y=p.useRef(!1),w=p.useRef(!0),{viewport:b,selectedItem:v,selectedItemText:N,focusSelectedItem:C}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&m&&b&&v&&N){const T=i.trigger.getBoundingClientRect(),M=m.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(i.dir!=="rtl"){const fe=V.left-M.left,Q=z.left-fe,he=T.left-Q,Se=T.width+he,Te=Math.max(Se,M.width),ce=window.innerWidth-bi,Ve=xf(Q,[bi,Math.max(bi,ce-Te)]);l.style.minWidth=Se+"px",l.style.left=Ve+"px"}else{const fe=M.right-V.right,Q=window.innerWidth-z.right-fe,he=window.innerWidth-T.right-Q,Se=T.width+he,Te=Math.max(Se,M.width),ce=window.innerWidth-bi,Ve=xf(Q,[bi,Math.max(bi,ce-Te)]);l.style.minWidth=Se+"px",l.style.right=Ve+"px"}const O=g(),R=window.innerHeight-bi*2,$=b.scrollHeight,B=window.getComputedStyle(m),U=parseInt(B.borderTopWidth,10),te=parseInt(B.paddingTop,10),L=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),q=U+te+$+F+L,ee=Math.min(v.offsetHeight*5,q),W=window.getComputedStyle(b),Z=parseInt(W.paddingTop,10),ve=parseInt(W.paddingBottom,10),ne=T.top+T.height/2-bi,I=R-ne,we=v.offsetHeight/2,le=v.offsetTop+we,ke=U+te+le,J=q-ke;if(ke<=ne){const fe=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const Q=m.clientHeight-b.offsetTop-b.offsetHeight,he=Math.max(I,we+(fe?ve:0)+Q+L),Se=ke+he;l.style.height=Se+"px"}else{const fe=O.length>0&&v===O[0].ref.current;l.style.top="0px";const he=Math.max(ne,U+b.offsetTop+(fe?Z:0)+we)+J;l.style.height=he+"px",b.scrollTop=ke-ne+b.offsetTop}l.style.margin=`${bi}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=R+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,l,m,b,v,N,i.dir,a]);us(()=>S(),[S]);const[_,E]=p.useState();us(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const A=p.useCallback(T=>{T&&w.current===!0&&(S(),C==null||C(),w.current=!1)},[S,C]);return t.jsx(Tve,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:t.jsx(qe.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});nF.displayName=Ave;var Eve="SelectPopperPosition",iS=p.forwardRef((e,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=bi,...i}=e,o=av(s);return t.jsx(JM,{...o,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iS.displayName=Eve;var[Tve,f4]=Fm(Od,{}),oS="SelectViewport",iF=p.forwardRef((e,r)=>{const{__scopeSelect:s,nonce:a,...n}=e,i=jc(oS,s),o=f4(oS,s),l=mt(r,i.onViewportChange),d=p.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(rv.Slot,{scope:s,children:t.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Fe(n.onScroll,m=>{const h=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const y=Math.abs(d.current-h.scrollTop);if(y>0){const w=window.innerHeight-bi*2,b=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),N=Math.max(b,v);if(N<w){const C=N+y,S=Math.min(w,C),_=C-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});iF.displayName=oS;var oF="SelectGroup",[Ove,Rve]=Fm(oF),Mve=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=so();return t.jsx(Ove,{scope:s,id:n,children:t.jsx(qe.div,{role:"group","aria-labelledby":n,...a,ref:r})})});Mve.displayName=oF;var lF="SelectLabel",cF=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Rve(lF,s);return t.jsx(qe.div,{id:n.id,...a,ref:r})});cF.displayName=lF;var Ex="SelectItem",[Ive,dF]=Fm(Ex),uF=p.forwardRef((e,r)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=e,l=wc(Ex,s),d=jc(Ex,s),m=l.value===a,[h,f]=p.useState(i??""),[g,y]=p.useState(!1),w=mt(r,C=>{var S;return(S=d.itemRefCallback)==null?void 0:S.call(d,C,a,n)}),b=so(),v=p.useRef("touch"),N=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Ive,{scope:s,value:a,disabled:n,textId:b,isSelected:m,onItemTextChange:p.useCallback(C=>{f(S=>S||((C==null?void 0:C.textContent)??"").trim())},[]),children:t.jsx(rv.ItemSlot,{scope:s,value:a,disabled:n,textValue:h,children:t.jsx(qe.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:w,onFocus:Fe(o.onFocus,()=>y(!0)),onBlur:Fe(o.onBlur,()=>y(!1)),onClick:Fe(o.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:Fe(o.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:Fe(o.onPointerDown,C=>{v.current=C.pointerType}),onPointerMove:Fe(o.onPointerMove,C=>{var S;v.current=C.pointerType,n?(S=d.onItemLeave)==null||S.call(d):v.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,C=>{var S;C.currentTarget===document.activeElement&&((S=d.onItemLeave)==null||S.call(d))}),onKeyDown:Fe(o.onKeyDown,C=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&C.key===" "||(bve.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});uF.displayName=Ex;var Xh="SelectItemText",mF=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,...i}=e,o=wc(Xh,s),l=jc(Xh,s),d=dF(Xh,s),m=Sve(Xh,s),[h,f]=p.useState(null),g=mt(r,N=>f(N),d.onItemTextChange,N=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,N,d.value,d.disabled)}),y=h==null?void 0:h.textContent,w=p.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=m;return us(()=>(b(w),()=>v(w)),[b,v,w]),t.jsxs(t.Fragment,{children:[t.jsx(qe.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?cc.createPortal(i.children,o.valueNode):null]})});mF.displayName=Xh;var hF="SelectItemIndicator",fF=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return dF(hF,s).isSelected?t.jsx(qe.span,{"aria-hidden":!0,...a,ref:r}):null});fF.displayName=hF;var lS="SelectScrollUpButton",pF=p.forwardRef((e,r)=>{const s=jc(lS,e.__scopeSelect),a=f4(lS,e.__scopeSelect),[n,i]=p.useState(!1),o=mt(r,a.onScrollButtonChange);return us(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollTop>0;i(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(xF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});pF.displayName=lS;var cS="SelectScrollDownButton",gF=p.forwardRef((e,r)=>{const s=jc(cS,e.__scopeSelect),a=f4(cS,e.__scopeSelect),[n,i]=p.useState(!1),o=mt(r,a.onScrollButtonChange);return us(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(xF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});gF.displayName=cS;var xF=p.forwardRef((e,r)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=e,i=jc("SelectScrollButton",s),o=p.useRef(null),l=sv(s),d=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),us(()=>{var h;const m=l().find(f=>f.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),t.jsx(qe.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:Fe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Fe(n.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Fe(n.onPointerLeave,()=>{d()})})}),Dve="SelectSeparator",yF=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return t.jsx(qe.div,{"aria-hidden":!0,...a,ref:r})});yF.displayName=Dve;var dS="SelectArrow",Lve=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=av(s),i=wc(dS,s),o=jc(dS,s);return i.open&&o.position==="popper"?t.jsx(XM,{...n,...a,ref:r}):null});Lve.displayName=dS;var $ve="SelectBubbleInput",vF=p.forwardRef(({__scopeSelect:e,value:r,...s},a)=>{const n=p.useRef(null),i=mt(a,n),o=gp(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(qe.select,{...s,style:{...LD,...s.style},ref:i,defaultValue:r})});vF.displayName=$ve;function bF(e){return e===""||e===void 0}function wF(e){const r=es(e),s=p.useRef(""),a=p.useRef(0),n=p.useCallback(o=>{const l=s.current+o;r(l),function d(m){s.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[r]),i=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function jF(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=zve(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function zve(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var Fve=Yz,NF=Xz,Uve=Zz,Bve=eF,Wve=tF,SF=rF,Vve=iF,CF=cF,kF=uF,Hve=mF,qve=fF,_F=pF,PF=gF,AF=yF;const tt=Fve,rt=Uve,Qe=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(NF,{ref:a,className:$e("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(Bve,{asChild:!0,children:t.jsx(os,{className:"h-4 w-4 opacity-50"})})]}));Qe.displayName=NF.displayName;const EF=p.forwardRef(({className:e,...r},s)=>t.jsx(_F,{ref:s,className:$e("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(lY,{className:"h-4 w-4"})}));EF.displayName=_F.displayName;const TF=p.forwardRef(({className:e,...r},s)=>t.jsx(PF,{ref:s,className:$e("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(os,{className:"h-4 w-4"})}));TF.displayName=PF.displayName;const Ze=p.forwardRef(({className:e,children:r,position:s="popper",...a},n)=>t.jsx(Wve,{children:t.jsxs(SF,{ref:n,className:$e("relative z-[9999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,style:{zIndex:9999},...a,children:[t.jsx(EF,{}),t.jsx(Vve,{className:$e("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(TF,{})]})}));Ze.displayName=SF.displayName;const Kve=p.forwardRef(({className:e,...r},s)=>t.jsx(CF,{ref:s,className:$e("px-2 py-1.5 text-sm font-semibold",e),...r}));Kve.displayName=CF.displayName;const ae=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(kF,{ref:a,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm text-white outline-none hover:bg-gray-700 hover:text-white focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(qve,{children:t.jsx(jm,{className:"h-4 w-4"})})}),t.jsx(Hve,{children:r})]}));ae.displayName=kF.displayName;const Gve=p.forwardRef(({className:e,...r},s)=>t.jsx(AF,{ref:s,className:$e("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));Gve.displayName=AF.displayName;const Yve={agency_owner:"Agency Owner",agency_admin:"Agency Admin",agency_user:"Agency User",platform_admin:"Platform Admin",platform_owner:"Platform Owner",client_admin:"Client Admin",client_user:"Client User"};function Jve(){const[e,r]=p.useState([]),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState("all"),{getToken:w}=_n(),{toast:b}=Vr(),v=async()=>{try{i(!0);const{supabaseService:_}=await bn(async()=>{const{supabaseService:M}=await Promise.resolve().then(()=>qu);return{supabaseService:M}},void 0);console.log(" Fetching users from Supabase...");const{data:E,error:A}=await _.client.from("users").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase response:",{users:E,error:A}),A)throw console.error(" Supabase error details:",{message:A.message,code:A.code,details:A.details,hint:A.hint}),A;const T=(E||[]).map(M=>({id:M.id,email:M.email,first_name:M.first_name||"",last_name:M.last_name||"",role:M.role||"client_user",is_active:M.is_active!==!1,organization_id:M.organization_id,organization_name:"",last_login:M.last_login,created_at:M.created_at,phone:M.phone||"",avatar_url:M.avatar_url||""}));console.log(" Transformed users:",T.length),r(T);try{const{data:M,error:z}=await _.client.from("organizations").select("*").order("name");if(console.log(" Organizations response:",{orgs:M,orgError:z}),!z&&M){a(M);const V=T.map(O=>{const R=M.find($=>$.id===O.organization_id);return{...O,organization_name:(R==null?void 0:R.name)||""}});r(V)}}catch(M){console.warn(" Failed to fetch organizations:",M)}}catch(_){console.error(" Error fetching users from Supabase:",_),b({title:"Error",description:"Failed to load users from database. Check console for details.",variant:"destructive"}),r([])}finally{i(!1)}};p.useEffect(()=>{v()},[]);const N=async(_,E)=>{try{const{supabaseService:A}=await bn(async()=>{const{supabaseService:M}=await Promise.resolve().then(()=>qu);return{supabaseService:M}},void 0),{error:T}=await A.client.from("users").update(E).eq("id",_);if(T)throw T;await v(),b({title:"Success",description:"User updated successfully"})}catch(A){throw console.error(" Error updating user:",A),b({title:"Error",description:A.message||"Failed to update user. Please try again.",variant:"destructive"}),A}},C=async _=>{try{const{supabaseService:E}=await bn(async()=>{const{supabaseService:T}=await Promise.resolve().then(()=>qu);return{supabaseService:T}},void 0),{error:A}=await E.client.from("users").delete().eq("id",_);if(A)throw A;await v(),b({title:"Success",description:"User deleted successfully"})}catch(E){console.error(" Error deleting user:",E),b({title:"Error",description:E.message||"Failed to delete user. Please try again.",variant:"destructive"})}},S=e.filter(_=>{var z,V,O,R;const E=(((z=_.first_name)==null?void 0:z.toLowerCase())||"").includes(o.toLowerCase())||(((V=_.last_name)==null?void 0:V.toLowerCase())||"").includes(o.toLowerCase())||(((O=_.email)==null?void 0:O.toLowerCase())||"").includes(o.toLowerCase())||(((R=_.organization_name)==null?void 0:R.toLowerCase())||"").includes(o.toLowerCase()),A=d==="all"||_.role===d,T=h==="all"||h==="active"&&_.is_active||h==="inactive"&&!_.is_active,M=g==="all"||_.organization_id===g;return E&&A&&T&&M});return n?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"})}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading users..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),t.jsx("p",{className:"mt-1 text-zinc-400",children:"Manage users and their permissions across your organization"})]}),t.jsxs(H,{onClick:()=>{},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),t.jsx(Rt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(_=>_.is_active).length})]}),t.jsx(am,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Organizations"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(rr,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Admin Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(_=>_.role&&(_.role.includes("admin")||_.role.includes("owner"))).length})]}),t.jsx(ja,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(Ee,{placeholder:"Search users...",value:o,onChange:_=>l(_.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(tt,{value:d,onValueChange:m,children:[t.jsx(Qe,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{placeholder:"Role"})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"all",children:"All Roles"}),t.jsx(ae,{value:"platform_owner",children:"Platform Owner"}),t.jsx(ae,{value:"platform_admin",children:"Platform Admin"}),t.jsx(ae,{value:"agency_owner",children:"Agency Owner"}),t.jsx(ae,{value:"agency_admin",children:"Agency Admin"}),t.jsx(ae,{value:"agency_user",children:"Agency User"})]})]}),t.jsxs(tt,{value:h,onValueChange:f,children:[t.jsx(Qe,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"all",children:"All Status"}),t.jsx(ae,{value:"active",children:"Active"}),t.jsx(ae,{value:"inactive",children:"Inactive"})]})]}),t.jsxs(tt,{value:g,onValueChange:y,children:[t.jsx(Qe,{className:"w-48 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{placeholder:"Organization"})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"all",children:"All Organizations"}),s.map(_=>t.jsx(ae,{value:_.id,children:_.name},_.id))]})]})]})})}),t.jsxs(K,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"text-white",children:["Users (",S.length,")"]}),t.jsx(vt,{className:"text-zinc-400",children:"Manage user accounts and permissions"})]}),t.jsx(G,{children:S.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(Rt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No users found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:S.map(_=>{var E,A;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-600",children:t.jsxs("span",{className:"font-medium text-white",children:[(((E=_.first_name)==null?void 0:E[0])||"").toUpperCase(),(((A=_.last_name)==null?void 0:A[0])||"").toUpperCase()]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("p",{className:"font-medium text-white",children:[_.first_name||""," ",_.last_name||""]}),t.jsx(Pe,{className:`${_.is_active?"bg-green-500":"bg-gray-500"} text-white`,children:_.is_active?"Active":"Inactive"}),t.jsx(Pe,{variant:"outline",className:"border-zinc-600 text-zinc-300",children:Yve[_.role]||_.role})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(na,{className:"mr-1 h-3 w-3"}),_.email]}),_.organization_name&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(rr,{className:"mr-1 h-3 w-3"}),_.organization_name]}),_.phone&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(ct,{className:"mr-1 h-3 w-3"}),_.phone]})]})]})]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",children:t.jsx(Qx,{className:"h-4 w-4"})})}),t.jsxs(ti,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Xt,{onClick:()=>{},className:"text-zinc-300 hover:text-white",children:[t.jsx(sc,{className:"mr-2 h-4 w-4"}),"Edit User"]}),t.jsx(Xt,{onClick:()=>N(_.id,{is_active:!_.is_active}),className:"text-zinc-300 hover:text-white",children:_.is_active?t.jsxs(t.Fragment,{children:[t.jsx(MY,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(am,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(Xt,{onClick:()=>C(_.id),className:"text-red-400 hover:text-red-300",children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]},_.id)})})})]})]})}var nv="Tabs",[Xve,LSe]=Gs(nv,[_m]),OF=_m(),[Qve,p4]=Xve(nv),RF=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...m}=e,h=Bd(l),[f,g]=Ei({prop:a,onChange:n,defaultProp:i??"",caller:nv});return t.jsx(Qve,{scope:s,baseId:so(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:d,children:t.jsx(qe.div,{dir:h,"data-orientation":o,...m,ref:r})})});RF.displayName=nv;var MF="TabsList",IF=p.forwardRef((e,r)=>{const{__scopeTabs:s,loop:a=!0,...n}=e,i=p4(MF,s),o=OF(s);return t.jsx(eC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(qe.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});IF.displayName=MF;var DF="TabsTrigger",LF=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=e,o=p4(DF,s),l=OF(s),d=FF(o.baseId,a),m=UF(o.baseId,a),h=a===o.value;return t.jsx(tC,{asChild:!0,...l,focusable:!n,active:h,children:t.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:r,onMouseDown:Fe(e.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:Fe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:Fe(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!n&&f&&o.onValueChange(a)})})})});LF.displayName=DF;var $F="TabsContent",zF=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=e,l=p4($F,s),d=FF(l.baseId,a),m=UF(l.baseId,a),h=a===l.value,f=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(Sa,{present:n||h,children:({present:g})=>t.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:m,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});zF.displayName=$F;function FF(e,r){return`${e}-trigger-${r}`}function UF(e,r){return`${e}-content-${r}`}var Zve=RF,BF=IF,WF=LF,VF=zF;const jo=Zve,zi=p.forwardRef(({className:e,...r},s)=>t.jsx(BF,{ref:s,className:$e("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",e),...r}));zi.displayName=BF.displayName;const bt=p.forwardRef(({className:e,...r},s)=>t.jsx(WF,{ref:s,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",e),...r}));bt.displayName=WF.displayName;const wt=p.forwardRef(({className:e,...r},s)=>t.jsx(VF,{ref:s,className:$e("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",e),...r}));wt.displayName=VF.displayName;function ebe(){const[e,r]=p.useState("enterprise"),a={current:{clients:5,monthlyRevenue:2995,annualRevenue:35940,infrastructureCost:150,profitMargin:95,supportTickets:25,serverLoad:15,responseTime:180},growth:{clients:50,monthlyRevenue:29950,annualRevenue:359400,infrastructureCost:2500,profitMargin:92,supportTickets:150,serverLoad:45,responseTime:220},enterprise:{clients:500,monthlyRevenue:324750,annualRevenue:3897e3,infrastructureCost:15e3,profitMargin:85,supportTickets:1200,serverLoad:75,responseTime:150}}[e],n=[{name:"Load Balancers",current:"$50/month",growth:"$200/month",enterprise:"$800/month",description:"Distribute traffic across multiple servers"},{name:"Database Cluster",current:"$100/month",growth:"$800/month",enterprise:"$4,000/month",description:"Sharded PostgreSQL with read replicas"},{name:"Application Servers",current:"$150/month",growth:"$800/month",enterprise:"$6,000/month",description:"Auto-scaling Node.js containers"},{name:"CDN & Storage",current:"$30/month",growth:"$200/month",enterprise:"$1,500/month",description:"Global content delivery network"},{name:"Monitoring & Logs",current:"$20/month",growth:"$150/month",enterprise:"$800/month",description:"Real-time monitoring and alerting"},{name:"Security & Compliance",current:"$50/month",growth:"$350/month",enterprise:"$1,900/month",description:"WAF, DDoS protection, SOC 2"}],i=[{role:"Support Team",current:1,growth:3,enterprise:12,salary:6e4,description:"24/7 customer support coverage"},{role:"DevOps Engineers",current:0,growth:1,enterprise:3,salary:14e4,description:"Infrastructure and deployment management"},{role:"Backend Developers",current:1,growth:2,enterprise:5,salary:12e4,description:"Platform development and optimization"},{role:"Sales Team",current:0,growth:2,enterprise:8,salary:8e4,description:"Client acquisition and account management"},{role:"Customer Success",current:0,growth:1,enterprise:4,salary:75e3,description:"Client onboarding and retention"}],o=[{plan:"Starter",price:299,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*299},{plan:"Professional",price:599,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*599},{plan:"Enterprise",price:1299,clients:Math.floor(a.clients*.2),total:Math.floor(a.clients*.2)*1299}];return t.jsx("div",{className:"bg-gray-950 p-4 lg:p-8",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-semibold text-white lg:text-3xl",children:[t.jsx(AY,{className:"h-6 w-6 text-emerald-500 lg:h-8 lg:w-8"}),"Scale Architecture: 500+ Clients"]}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Enterprise-grade infrastructure for massive scale"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[t.jsx(H,{variant:e==="current"?"default":"outline",onClick:()=>r("current"),className:`text-sm ${e==="current"?"bg-emerald-600":""}`,size:"sm",children:"Current (5)"}),t.jsx(H,{variant:e==="growth"?"default":"outline",onClick:()=>r("growth"),className:`text-sm ${e==="growth"?"bg-emerald-600":""}`,size:"sm",children:"Growth (50)"}),t.jsx(H,{variant:e==="enterprise"?"default":"outline",onClick:()=>r("enterprise"),className:`text-sm ${e==="enterprise"?"bg-emerald-600":""}`,size:"sm",children:"Enterprise (500+)"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 lg:gap-6",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.monthlyRevenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:["$",(a.monthlyRevenue/a.clients).toFixed(0)," per client"]})]}),t.jsx(Qr,{className:"h-6 w-6 flex-shrink-0 text-green-500 lg:h-8 lg:w-8"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Annual Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",(a.annualRevenue/1e6).toFixed(1),"M"]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[a.profitMargin,"% profit margin"]})]}),t.jsx(Na,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Infrastructure Cost"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.infrastructureCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-orange-400",children:["$",(a.infrastructureCost/a.clients).toFixed(0)," per client"]})]}),t.jsx(E0,{className:"h-6 w-6 flex-shrink-0 text-blue-500 lg:h-8 lg:w-8"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Profit"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",((a.monthlyRevenue-a.infrastructureCost)/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"After infrastructure costs"})]}),t.jsx(Sr,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})})]}),t.jsxs(jo,{defaultValue:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(zi,{className:"grid h-auto w-full grid-cols-5",children:[t.jsx(bt,{value:"infrastructure",className:"text-xs lg:text-sm",children:"Infrastructure"}),t.jsx(bt,{value:"revenue",className:"text-xs lg:text-sm",children:"Revenue Model"}),t.jsx(bt,{value:"team",className:"text-xs lg:text-sm",children:"Team Scaling"}),t.jsx(bt,{value:"automation",className:"text-xs lg:text-sm",children:"Automation"}),t.jsx(bt,{value:"roadmap",className:"text-xs lg:text-sm",children:"Roadmap"})]}),t.jsxs(wt,{value:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-4",children:t.jsx(ye,{className:"text-lg text-white lg:text-xl",children:"Infrastructure Components"})}),t.jsx(G,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:n.map((l,d)=>t.jsxs("div",{className:"flex flex-col gap-2 rounded-lg bg-gray-800 p-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.name}),t.jsx("p",{className:"mt-1 text-xs text-gray-400 lg:text-sm",children:l.description})]}),t.jsx("div",{className:"flex-shrink-0 text-left sm:text-right",children:t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise]})})]},d))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(Xx,{className:"h-4 w-4 text-blue-500 lg:h-5 lg:w-5"}),"Database Strategy"]})}),t.jsxs(G,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Sharding"}),t.jsx(Pe,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e==="enterprise"?"Required":"Optional"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Read Replicas"}),t.jsx(Pe,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Not Needed"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Connection Pooling"}),t.jsx(Pe,{className:"bg-green-500/20 text-xs text-green-400",children:"Required"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(mY,{className:"h-4 w-4 text-emerald-500 lg:h-5 lg:w-5"}),"Auto-Scaling"]})}),t.jsxs(G,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Horizontal Scaling"}),t.jsx(Pe,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Essential":"Planned"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Load Balancing"}),t.jsx(Pe,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Future"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"CDN"}),t.jsx(Pe,{className:"bg-green-500/20 text-xs text-green-400",children:"Global"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(ja,{className:"h-4 w-4 text-red-500 lg:h-5 lg:w-5"}),"Security & Compliance"]})}),t.jsxs(G,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"SOC 2 Type II"}),t.jsx(Pe,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Required":"In Progress"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"GDPR Compliance"}),t.jsx(Pe,{className:"bg-green-500/20 text-xs text-green-400",children:"Compliant"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"WAF & DDoS"}),t.jsx(Pe,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Protected":"Basic"})]})]})]})]})]}),t.jsx(wt,{value:"revenue",className:"space-y-4 lg:space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-4",children:t.jsx(ye,{className:"text-lg text-white lg:text-xl",children:"Revenue Breakdown"})}),t.jsx(G,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.plan}),t.jsxs("p",{className:"text-xs text-gray-400 lg:text-sm",children:[l.clients," clients"]})]}),t.jsxs("div",{className:"flex-shrink-0 text-right",children:[t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:["$",l.total.toLocaleString(),"/mo"]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["$",l.price,"/client"]})]})]},d))})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-4",children:t.jsx(ye,{className:"text-lg text-white lg:text-xl",children:"Growth Projections"})}),t.jsx(G,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 1 Target"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$3.9M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 2 Projection"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"1,200 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$9.4M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 3 Vision"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"2,500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$19.5M Annual Revenue"})]})]})})]})]})}),t.jsx(wt,{value:"team",className:"space-y-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Team Scaling Requirements"})}),t.jsx(G,{children:t.jsx("div",{className:"space-y-4",children:i.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:l.role}),t.jsx("p",{className:"text-sm text-gray-400",children:l.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-emerald-400",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise," people"]}),t.jsxs("p",{className:"text-sm text-gray-400",children:["$",(l.salary/1e3).toFixed(0),"K avg salary"]})]})]},d))})})]})}),t.jsx(wt,{value:"automation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Client Onboarding Automation"})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(jt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Self-service signup flow"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(jt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic VAPI account setup"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Guided assistant creation"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Automated billing setup"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Support Automation"})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(jt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"AI chatbot for tier 1 support"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(jt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic ticket routing"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Knowledge base integration"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Proactive issue detection"})]})]})]})]})}),t.jsx(wt,{value:"roadmap",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Q1 2024 (0-50 Clients)"})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Core platform launch"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Support ticketing system"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Stripe billing integration"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Basic monitoring setup"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Q2-Q3 2024 (50-200 Clients)"})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ms,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Database sharding"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ms,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Load balancer deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ms,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Auto-scaling implementation"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ms,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Advanced monitoring"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Q4 2024 (200-500+ Clients)"})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ws,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Microservices architecture"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ws,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Global CDN deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ws,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"SOC 2 compliance"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ws,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Enterprise white-labeling"})]})]})]})]})})]}),t.jsxs(K,{className:"border-emerald-500/30 bg-gradient-to-r from-emerald-500/10 to-blue-500/10",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:" Next Steps for 500+ Client Scale"})}),t.jsx(G,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-emerald-400",children:"Immediate Actions (This Month)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:" Deploy to production (Vercel + Supabase Pro)"}),t.jsx("li",{children:" Implement Stripe billing automation"}),t.jsx("li",{children:" Set up monitoring with DataDog/New Relic"}),t.jsx("li",{children:" Create client onboarding automation"}),t.jsx("li",{children:" Establish support ticket workflows"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-blue-400",children:"Scale Preparation (Next 3 Months)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:" Design database sharding strategy"}),t.jsx("li",{children:" Implement horizontal auto-scaling"}),t.jsx("li",{children:" Hire DevOps engineer"}),t.jsx("li",{children:" Build enterprise white-label features"}),t.jsx("li",{children:" Start SOC 2 compliance process"})]})]})]})})]})]})})}const ya=p.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:$e("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:s,...r}));ya.displayName="Textarea";function tbe(){const[e,r]=p.useState(null),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState(""),[h,f]=p.useState(!1),g=p.useRef(null),y=[{id:"technical",name:"Technical Support",color:"text-blue-400",icon:ws},{id:"billing",name:"Billing & Payments",color:"text-green-400",icon:ei},{id:"onboarding",name:"Onboarding",color:"text-emerald-400",icon:Rt},{id:"feature",name:"Feature Requests",color:"text-yellow-400",icon:ld},{id:"emergency",name:"Emergency",color:"text-red-400",icon:Ms}],[w,b]=p.useState([{id:"TKT-001",organizationName:"TechFlow Solutions",organizationId:"ORG-001",clientEmail:"sarah@techflow.com",clientPhone:"+1 (555) 123-4567",title:"VAPI Integration Not Working - Urgent Campaign Launch",description:"Cannot connect to VAPI API, getting 401 errors consistently. This is blocking our campaign launch.",priority:"high",status:"in-progress",category:"technical",department:"technical",assignedTo:"Mike Torres",createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T14:15:00Z",starred:!0,messages:[{id:"msg-1",author:"Sarah Johnson",authorType:"client",message:"Hi, we're having trouble with our VAPI integration. Getting consistent 401 errors when trying to make calls. This is urgent as we have a campaign launching tomorrow.",timestamp:"2024-01-20T10:30:00Z"},{id:"msg-2",author:"Apex AI Bot",authorType:"ai-bot",message:`I've detected this might be an API key issue. Let me run some diagnostics on your account... 

I found that your VAPI API key appears to be expired. I'm escalating this to our technical team for immediate assistance.`,timestamp:"2024-01-20T10:31:00Z"},{id:"msg-3",author:"Mike Torres",authorType:"support",message:"Hi Sarah! I've taken over this ticket. I can see the API key issue. I'm generating a new VAPI key for your account right now. You should have this resolved within the next 30 minutes.",timestamp:"2024-01-20T14:15:00Z"}]},{id:"TKT-002",organizationName:"Digital Dynamics",organizationId:"ORG-002",clientEmail:"mike@digitaldynamics.com",title:"Billing Inquiry - Duplicate Charge",description:"We were charged twice for our monthly subscription this month",priority:"medium",status:"open",category:"billing",department:"billing",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",messages:[{id:"msg-5",author:"Mike Chen",authorType:"client",message:"Hi, I notice we were charged $1299 twice this month on January 15th. Can you please look into this and process a refund for the duplicate charge?",timestamp:"2024-01-20T09:15:00Z"}]},{id:"TKT-003",organizationName:"Growth Partners",organizationId:"ORG-003",clientEmail:"emma@growthpartners.com",title:"New User Onboarding - Need Help Setting Up",description:"Just signed up for trial, need help with initial setup",priority:"medium",status:"open",category:"account",department:"onboarding",createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T08:00:00Z",messages:[{id:"msg-7",author:"Emma Rodriguez",authorType:"client",message:"Hi team, we just signed up for the trial. Could someone help us with the initial setup? We want to import our leads and set up our first campaign.",timestamp:"2024-01-20T08:00:00Z"}]}]),v={total:w.length,open:w.filter(A=>A.status==="open").length,inProgress:w.filter(A=>A.status==="in-progress").length,resolved:w.filter(A=>A.status==="resolved").length};p.useEffect(()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})},[e==null?void 0:e.messages]);const N=async()=>{if(!d.trim()||!e)return;const A={id:`msg-${Date.now()}`,author:"Sean Wentz",authorType:"support",message:d,timestamp:new Date().toISOString()};b(T=>T.map(M=>M.id===e.id?{...M,messages:[...M.messages,A],updatedAt:new Date().toISOString()}:M)),m("")},C=A=>{b(T=>T.map(M=>M.id===A?{...M,starred:!M.starred}:M))},S=A=>{switch(A){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},_=A=>{switch(A){case"open":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"waiting":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"closed":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},E=w.filter(A=>{const T=A.title.toLowerCase().includes(s.toLowerCase())||A.organizationName.toLowerCase().includes(s.toLowerCase())||A.description.toLowerCase().includes(s.toLowerCase()),M=n==="all"||A.status===n,z=o==="all"||A.department===o;return T&&M&&z});return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"mb-2 text-4xl font-bold text-white",children:"Support Command Center"}),t.jsx("p",{className:"text-gray-400",children:"Manage tickets across all departments"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(Pe,{className:"border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20 px-4 py-2 text-emerald-400",children:[v.open," Open Tickets"]}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"New Ticket"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:y.map(A=>{const T=A.icon,M=w.filter(z=>z.department===A.id);return t.jsx(K,{className:"cursor-pointer border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:t.jsxs(G,{className:"p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(T,{className:`h-5 w-5 ${A.color}`}),t.jsx("span",{className:"text-2xl font-bold text-white",children:M.length})]}),t.jsx("p",{className:"text-sm text-gray-400",children:A.name}),M.filter(z=>z.status==="open").length>0&&t.jsxs("p",{className:"mt-1 text-xs text-orange-400",children:[M.filter(z=>z.status==="open").length," open"]})]})},A.id)})}),t.jsxs("div",{className:"grid h-[800px] grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(K,{className:"h-full overflow-hidden border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(xe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ye,{className:"text-white",children:"Inbox"}),t.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-400",children:t.jsx(aa,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{placeholder:"Search tickets...",value:s,onChange:A=>a(A.target.value),className:"border-gray-600 bg-gray-700 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(tt,{value:n,onValueChange:i,children:[t.jsx(Qe,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All Status"}),t.jsx(ae,{value:"open",children:"Open"}),t.jsx(ae,{value:"in-progress",children:"In Progress"}),t.jsx(ae,{value:"resolved",children:"Resolved"})]})]}),t.jsxs(tt,{value:o,onValueChange:l,children:[t.jsx(Qe,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All Departments"}),y.map(A=>t.jsx(ae,{value:A.id,children:A.name},A.id))]})]})]})]})}),t.jsx(V0,{className:"flex-1",children:t.jsx("div",{className:"divide-y divide-gray-700",children:E.map(A=>{const T=y.find(M=>M.id===A.department);return t.jsxs("div",{onClick:()=>r(A),className:`cursor-pointer p-4 transition-colors hover:bg-gray-700/50 ${(e==null?void 0:e.id)===A.id?"border-l-4 border-emerald-500 bg-gray-700/50":""}`,children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("span",{className:"truncate font-medium text-white",children:A.organizationName}),t.jsxs(Pe,{className:"border-gray-500 bg-gray-600/50 text-xs text-gray-300",children:[t.jsx(xY,{className:"mr-1 h-3 w-3"}),A.id]})]}),t.jsx("p",{className:"truncate text-sm font-medium text-white",children:A.title}),t.jsx("p",{className:"mt-1 truncate text-xs text-gray-400",children:A.description})]}),t.jsx(H,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),C(A.id)},className:"text-gray-400 hover:text-yellow-400",children:t.jsx(ld,{className:`h-4 w-4 ${A.starred?"fill-yellow-400 text-yellow-400":""}`})})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Pe,{className:S(A.priority),children:A.priority}),t.jsx(Pe,{className:_(A.status),children:A.status}),T&&t.jsxs(Pe,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:[t.jsx(T.icon,{className:`mr-1 h-3 w-3 ${T.color}`}),T.name]})]}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.updatedAt).toLocaleDateString()})]})]},A.id)})})})]}),t.jsx("div",{className:"lg:col-span-2",children:e?t.jsxs(K,{className:"flex h-full flex-col border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(xe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e.title}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Jx,{className:"h-4 w-4"}),e.organizationName]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(na,{className:"h-4 w-4"}),e.clientEmail]}),e.clientPhone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ct,{className:"h-4 w-4"}),e.clientPhone]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(tt,{value:e.status,onValueChange:A=>{b(T=>T.map(M=>M.id===e.id?{...M,status:A}:M))},children:[t.jsx(Qe,{className:"w-32 border-gray-600 bg-gray-700",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"open",children:"Open"}),t.jsx(ae,{value:"in-progress",children:"In Progress"}),t.jsx(ae,{value:"waiting",children:"Waiting"}),t.jsx(ae,{value:"resolved",children:"Resolved"}),t.jsx(ae,{value:"closed",children:"Closed"})]})]}),t.jsx(H,{variant:"ghost",size:"sm",children:t.jsx(Nm,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Pe,{className:S(e.priority),children:[e.priority," priority"]}),t.jsx(Pe,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:e.category}),e.assignedTo&&t.jsxs(Pe,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:["Assigned to ",e.assignedTo]})]})]})}),t.jsx(V0,{className:"flex-1 p-6",children:t.jsxs("div",{className:"space-y-4",children:[e.messages.map(A=>t.jsx("div",{className:`flex ${A.authorType==="support"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${A.authorType==="support"?"border border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20":A.authorType==="ai-bot"?"border border-blue-600/30 bg-blue-600/20":(A.authorType==="system","border border-gray-600 bg-gray-700/50")}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[A.authorType==="ai-bot"&&t.jsx(xd,{className:"h-4 w-4 text-blue-400"}),A.authorType==="client"&&t.jsx(ts,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium text-white",children:A.author}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(A.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"whitespace-pre-wrap text-sm text-gray-200",children:A.message})]})},A.id)),t.jsx("div",{ref:g})]})}),t.jsx("div",{className:"border-t border-gray-700 p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ya,{placeholder:"Type your response...",value:d,onChange:A=>m(A.target.value),className:"resize-none border-gray-600 bg-gray-700 text-white",rows:3,onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),N())}}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(H,{size:"sm",variant:"outline",className:"border-gray-600",children:t.jsx(kY,{className:"h-4 w-4"})}),t.jsx(H,{onClick:N,disabled:!d.trim(),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:t.jsx(tc,{className:"h-4 w-4"})})]})]})})]}):t.jsx(K,{className:"flex h-full items-center justify-center border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"text-center",children:[t.jsx(oo,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:"Select a Ticket"}),t.jsx("p",{className:"text-gray-400",children:"Choose a support ticket from the inbox to view details"})]})})})]})]})})}function rbe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),[h,f]=p.useState("createdAt"),[g,y]=p.useState("desc"),{getToken:w}=_n(),{toast:b}=Vr(),v=async()=>{try{a(!0);const O=await w(),R=await fetch("http://localhost:3001/api/phone-numbers",{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const $=await R.json();r($.phoneNumbers||[])}catch(O){console.error("Error fetching phone numbers:",O),b({title:"Error",description:"Failed to fetch phone numbers. Please try again.",variant:"destructive"})}finally{a(!1)}},N=async(O,R="US")=>{try{const $=await w(),B=await fetch("http://localhost:3001/api/phone-numbers",{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({areaCode:O,country:R})});if(!B.ok)throw new Error("Failed to purchase phone number");const U=await B.json();b({title:"Success",description:`Phone number ${U.phoneNumber.number} purchased successfully`}),v()}catch($){console.error("Error purchasing phone number:",$),b({title:"Error",description:"Failed to purchase phone number. Please try again.",variant:"destructive"})}},C=async O=>{if(confirm("Are you sure you want to release this phone number? This action cannot be undone."))try{const R=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to release phone number");b({title:"Success",description:"Phone number released successfully"}),v()}catch(R){console.error("Error releasing phone number:",R),b({title:"Error",description:"Failed to release phone number. Please try again.",variant:"destructive"})}},S=async(O,R)=>{try{const $=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${O}/assign`,{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({campaignId:R})})).ok)throw new Error("Failed to assign phone number");b({title:"Success",description:"Phone number assigned successfully"}),v()}catch($){console.error("Error assigning phone number:",$),b({title:"Error",description:"Failed to assign phone number. Please try again.",variant:"destructive"})}},_=()=>({totalNumbers:e.length,activeNumbers:e.filter(O=>O.status==="connected").length,totalCallsMade:e.reduce((O,R)=>O+R.callsMade,0),totalLeadsGenerated:e.reduce((O,R)=>O+R.leadsGenerated,0),avgConversionRate:e.length>0?e.reduce((O,R)=>O+R.conversionRate,0)/e.length:0,totalMonthlyCost:e.reduce((O,R)=>O+R.monthlyLimit*R.costPerCall,0)}),E=e.filter(O=>{var U;const R=O.number.includes(n)||((U=O.assignedCampaign)==null?void 0:U.toLowerCase().includes(n.toLowerCase())),$=o==="all"||O.status===o,B=d==="all"||O.country===d;return R&&$&&B}).sort((O,R)=>{const $=O[h],B=R[h];return typeof $=="string"&&typeof B=="string"?g==="asc"?$.localeCompare(B):B.localeCompare($):typeof $=="number"&&typeof B=="number"?g==="asc"?$-B:B-$:0}),A=_();p.useEffect(()=>{v()},[]);const T=O=>{switch(O){case"connected":return"bg-emerald-600/20 text-emerald-400 border-emerald-600/30";case"disconnected":return"bg-red-600/20 text-red-400 border-red-600/30";case"pending":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}},M=O=>{switch(O){case"connected":return t.jsx(jt,{className:"h-3 w-3"});case"disconnected":return t.jsx(Lt,{className:"h-3 w-3"});case"pending":return t.jsx(Ns,{className:"h-3 w-3"});default:return null}},z=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O),V=O=>new Date(O).toLocaleDateString();return s?t.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsx("div",{className:"text-lg text-white",children:"Loading phone numbers..."})}):t.jsx("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex-shrink-0 p-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI phone numbers and calling capacity"})}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const O=prompt("Enter area code (e.g., 555):");O&&N(O)},children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Buy Number"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Total Numbers"}),t.jsx(ct,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:A.totalNumbers}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"All numbers"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Active"}),t.jsx(ws,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:A.activeNumbers}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"Connected"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Calls Made"}),t.jsx(Ns,{className:"h-4 w-4 text-blue-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:A.totalCallsMade.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total volume"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx(Rt,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:A.totalLeadsGenerated}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful contacts"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Avg Conversion"}),t.jsx(za,{className:"h-4 w-4 text-orange-400"})]}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[A.avgConversionRate.toFixed(1),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Success rate"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Monthly Cost"}),t.jsx(ei,{className:"h-4 w-4 text-yellow-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:z(A.totalMonthlyCost)}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Estimated"})]})]})]}),t.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{placeholder:"Search numbers or campaigns...",value:n,onChange:O=>i(O.target.value),className:"border-gray-700 bg-gray-800/50 pl-10 text-white placeholder-gray-400"})]}),t.jsxs(tt,{value:o,onValueChange:l,children:[t.jsx(Qe,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(rt,{placeholder:"All statuses"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All statuses"}),t.jsx(ae,{value:"connected",children:"Connected"}),t.jsx(ae,{value:"disconnected",children:"Disconnected"}),t.jsx(ae,{value:"pending",children:"Pending"})]})]}),t.jsxs(tt,{value:d,onValueChange:m,children:[t.jsx(Qe,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(rt,{placeholder:"All countries"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All countries"}),t.jsx(ae,{value:"US",children:"United States"}),t.jsx(ae,{value:"CA",children:"Canada"}),t.jsx(ae,{value:"UK",children:"United Kingdom"}),t.jsx(ae,{value:"AU",children:"Australia"})]})]}),t.jsxs(H,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-700",children:[t.jsx(nY,{className:"mr-2 h-4 w-4"}),"Sort"]})]})]}),t.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:E.length===0?t.jsx(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs(G,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(ct,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No phone numbers found"}),t.jsx("p",{children:"Purchase your first phone number to start making calls."})]}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const O=prompt("Enter area code (e.g., 555):");O&&N(O)},children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Buy Phone Number"]})]})}):t.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:E.map(O=>t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:[t.jsxs(xe,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ct,{className:"h-4 w-4 text-blue-400"}),t.jsx(ye,{className:"text-lg text-white",children:O.number})]}),t.jsxs(Pe,{className:`${T(O.status)} border`,children:[M(O.status),t.jsx("span",{className:"ml-1 capitalize",children:O.status})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx("span",{children:O.country}),t.jsx("span",{children:""}),t.jsx("span",{children:O.provider}),O.assignedCampaign&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"text-emerald-400",children:O.assignedCampaign})]})]})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Usage"}),t.jsxs("span",{className:"text-white",children:[O.callsMade," / ",O.maxCalls]})]}),t.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 transition-all duration-300",style:{width:`${Math.min(O.callsMade/O.maxCalls*100,100)}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Leads Generated"}),t.jsx("div",{className:"font-semibold text-white",children:O.leadsGenerated})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Conversion Rate"}),t.jsxs("div",{className:"font-semibold text-emerald-400",children:[O.conversionRate.toFixed(1),"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Cost per Call"}),t.jsx("div",{className:"font-semibold text-white",children:z(O.costPerCall)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Limit"}),t.jsx("div",{className:"font-semibold text-white",children:O.monthlyLimit})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-2",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",V(O.createdAt)]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Qx,{className:"h-4 w-4"})})}),t.jsxs(ti,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Xt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{const R=prompt("Enter campaign ID to assign:");R&&S(O.id,R)},children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Assign to Campaign"]}),t.jsxs(Xt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{},children:[t.jsx(za,{className:"mr-2 h-4 w-4"}),"View Analytics"]}),t.jsxs(Xt,{className:"text-red-400 hover:bg-red-600/20",onClick:()=>C(O.id),children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Release Number"]})]})]})]})]})]},O.id))})})]})})}function HF(e,r){return function(){return e.apply(r,arguments)}}const{toString:sbe}=Object.prototype,{getPrototypeOf:g4}=Object,{iterator:iv,toStringTag:qF}=Symbol,ov=(e=>r=>{const s=sbe.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Fi=e=>(e=e.toLowerCase(),r=>ov(r)===e),lv=e=>r=>typeof r===e,{isArray:Um}=Array,Ef=lv("undefined");function xp(e){return e!==null&&!Ef(e)&&e.constructor!==null&&!Ef(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const KF=Fi("ArrayBuffer");function abe(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&KF(e.buffer),r}const nbe=lv("string"),sn=lv("function"),GF=lv("number"),yp=e=>e!==null&&typeof e=="object",ibe=e=>e===!0||e===!1,g0=e=>{if(ov(e)!=="object")return!1;const r=g4(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(qF in e)&&!(iv in e)},obe=e=>{if(!yp(e)||xp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lbe=Fi("Date"),cbe=Fi("File"),dbe=Fi("Blob"),ube=Fi("FileList"),mbe=e=>yp(e)&&sn(e.pipe),hbe=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((r=ov(e))==="formdata"||r==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},fbe=Fi("URLSearchParams"),[pbe,gbe,xbe,ybe]=["ReadableStream","Request","Response","Headers"].map(Fi),vbe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vp(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Um(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(xp(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function YF(e,r){if(xp(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JF=e=>!Ef(e)&&e!==id;function uS(){const{caseless:e}=JF(this)&&this||{},r={},s=(a,n)=>{const i=e&&YF(r,n)||n;g0(r[i])&&g0(a)?r[i]=uS(r[i],a):g0(a)?r[i]=uS({},a):Um(a)?r[i]=a.slice():r[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&vp(arguments[a],s);return r}const bbe=(e,r,s,{allOwnKeys:a}={})=>(vp(r,(n,i)=>{s&&sn(n)?e[i]=HF(n,s):e[i]=n},{allOwnKeys:a}),e),wbe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jbe=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},Nbe=(e,r,s,a)=>{let n,i,o;const l={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=s!==!1&&g4(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},Sbe=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},Cbe=e=>{if(!e)return null;if(Um(e))return e;let r=e.length;if(!GF(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},kbe=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&g4(Uint8Array)),_be=(e,r)=>{const a=(e&&e[iv]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},Pbe=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},Abe=Fi("HTMLFormElement"),Ebe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),QO=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),Tbe=Fi("RegExp"),XF=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};vp(s,(n,i)=>{let o;(o=r(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},Obe=e=>{XF(e,(r,s)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(sn(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Rbe=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return Um(e)?a(e):a(String(e).split(r)),s},Mbe=()=>{},Ibe=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Dbe(e){return!!(e&&sn(e.append)&&e[qF]==="FormData"&&e[iv])}const Lbe=e=>{const r=new Array(10),s=(a,n)=>{if(yp(a)){if(r.indexOf(a)>=0)return;if(xp(a))return a;if(!("toJSON"in a)){r[n]=a;const i=Um(a)?[]:{};return vp(a,(o,l)=>{const d=s(o,n+1);!Ef(d)&&(i[l]=d)}),r[n]=void 0,i}}return a};return s(e,0)},$be=Fi("AsyncFunction"),zbe=e=>e&&(yp(e)||sn(e))&&sn(e.then)&&sn(e.catch),QF=((e,r)=>e?setImmediate:r?((s,a)=>(id.addEventListener("message",({source:n,data:i})=>{n===id&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),id.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",sn(id.postMessage)),Fbe=typeof queueMicrotask<"u"?queueMicrotask.bind(id):typeof process<"u"&&process.nextTick||QF,Ube=e=>e!=null&&sn(e[iv]),je={isArray:Um,isArrayBuffer:KF,isBuffer:xp,isFormData:hbe,isArrayBufferView:abe,isString:nbe,isNumber:GF,isBoolean:ibe,isObject:yp,isPlainObject:g0,isEmptyObject:obe,isReadableStream:pbe,isRequest:gbe,isResponse:xbe,isHeaders:ybe,isUndefined:Ef,isDate:lbe,isFile:cbe,isBlob:dbe,isRegExp:Tbe,isFunction:sn,isStream:mbe,isURLSearchParams:fbe,isTypedArray:kbe,isFileList:ube,forEach:vp,merge:uS,extend:bbe,trim:vbe,stripBOM:wbe,inherits:jbe,toFlatObject:Nbe,kindOf:ov,kindOfTest:Fi,endsWith:Sbe,toArray:Cbe,forEachEntry:_be,matchAll:Pbe,isHTMLForm:Abe,hasOwnProperty:QO,hasOwnProp:QO,reduceDescriptors:XF,freezeMethods:Obe,toObjectSet:Rbe,toCamelCase:Ebe,noop:Mbe,toFiniteNumber:Ibe,findKey:YF,global:id,isContextDefined:JF,isSpecCompliantForm:Dbe,toJSONObject:Lbe,isAsyncFn:$be,isThenable:zbe,setImmediate:QF,asap:Fbe,isIterable:Ube};function Et(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}je.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const ZF=Et.prototype,eU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eU[e]={value:e}});Object.defineProperties(Et,eU);Object.defineProperty(ZF,"isAxiosError",{value:!0});Et.from=(e,r,s,a,n,i)=>{const o=Object.create(ZF);return je.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Et.call(o,e.message,r,s,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Bbe=null;function mS(e){return je.isPlainObject(e)||je.isArray(e)}function tU(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function ZO(e,r,s){return e?e.concat(r).map(function(n,i){return n=tU(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function Wbe(e){return je.isArray(e)&&!e.some(mS)}const Vbe=je.toFlatObject(je,{},null,function(r){return/^is[A-Z]/.test(r)});function cv(e,r,s){if(!je.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=je.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!je.isUndefined(v[b])});const a=s.metaTokens,n=s.visitor||h,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(r);if(!je.isFunction(n))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(je.isDate(w))return w.toISOString();if(je.isBoolean(w))return w.toString();if(!d&&je.isBlob(w))throw new Et("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(w)||je.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,b,v){let N=w;if(w&&!v&&typeof w=="object"){if(je.endsWith(b,"{}"))b=a?b:b.slice(0,-2),w=JSON.stringify(w);else if(je.isArray(w)&&Wbe(w)||(je.isFileList(w)||je.endsWith(b,"[]"))&&(N=je.toArray(w)))return b=tU(b),N.forEach(function(S,_){!(je.isUndefined(S)||S===null)&&r.append(o===!0?ZO([b],_,i):o===null?b:b+"[]",m(S))}),!1}return mS(w)?!0:(r.append(ZO(v,b,i),m(w)),!1)}const f=[],g=Object.assign(Vbe,{defaultVisitor:h,convertValue:m,isVisitable:mS});function y(w,b){if(!je.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(w),je.forEach(w,function(N,C){(!(je.isUndefined(N)||N===null)&&n.call(r,N,je.isString(C)?C.trim():C,b,g))===!0&&y(N,b?b.concat(C):[C])}),f.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return y(e),r}function e3(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function x4(e,r){this._pairs=[],e&&cv(e,this,r)}const rU=x4.prototype;rU.append=function(r,s){this._pairs.push([r,s])};rU.toString=function(r){const s=r?function(a){return r.call(this,a,e3)}:e3;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Hbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sU(e,r,s){if(!r)return e;const a=s&&s.encode||Hbe;je.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=je.isURLSearchParams(r)?r.toString():new x4(r,s).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class t3{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){je.forEach(this.handlers,function(a){a!==null&&r(a)})}}const aU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qbe=typeof URLSearchParams<"u"?URLSearchParams:x4,Kbe=typeof FormData<"u"?FormData:null,Gbe=typeof Blob<"u"?Blob:null,Ybe={isBrowser:!0,classes:{URLSearchParams:qbe,FormData:Kbe,Blob:Gbe},protocols:["http","https","file","blob","url","data"]},y4=typeof window<"u"&&typeof document<"u",hS=typeof navigator=="object"&&navigator||void 0,Jbe=y4&&(!hS||["ReactNative","NativeScript","NS"].indexOf(hS.product)<0),Xbe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qbe=y4&&window.location.href||"http://localhost",Zbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:y4,hasStandardBrowserEnv:Jbe,hasStandardBrowserWebWorkerEnv:Xbe,navigator:hS,origin:Qbe},Symbol.toStringTag,{value:"Module"})),ba={...Zbe,...Ybe};function ewe(e,r){return cv(e,new ba.classes.URLSearchParams,{visitor:function(s,a,n,i){return ba.isNode&&je.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function twe(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function rwe(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function nU(e){function r(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&je.isArray(n)?n.length:o,d?(je.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!je.isObject(n[o]))&&(n[o]=[]),r(s,a,n[o],i)&&je.isArray(n[o])&&(n[o]=rwe(n[o])),!l)}if(je.isFormData(e)&&je.isFunction(e.entries)){const s={};return je.forEachEntry(e,(a,n)=>{r(twe(a),n,s,0)}),s}return null}function swe(e,r,s){if(je.isString(e))try{return(r||JSON.parse)(e),je.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const bp={transitional:aU,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=je.isObject(r);if(i&&je.isHTMLForm(r)&&(r=new FormData(r)),je.isFormData(r))return n?JSON.stringify(nU(r)):r;if(je.isArrayBuffer(r)||je.isBuffer(r)||je.isStream(r)||je.isFile(r)||je.isBlob(r)||je.isReadableStream(r))return r;if(je.isArrayBufferView(r))return r.buffer;if(je.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ewe(r,this.formSerializer).toString();if((l=je.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return cv(l?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),swe(r)):r}],transformResponse:[function(r){const s=this.transitional||bp.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(je.isResponse(r)||je.isReadableStream(r))return r;if(r&&je.isString(r)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(l){if(o)throw l.name==="SyntaxError"?Et.from(l,Et.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ba.classes.FormData,Blob:ba.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{bp.headers[e]={}});const awe=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nwe=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||r[s]&&awe[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},r3=Symbol("internals");function Dh(e){return e&&String(e).trim().toLowerCase()}function x0(e){return e===!1||e==null?e:je.isArray(e)?e.map(x0):String(e)}function iwe(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const owe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hN(e,r,s,a,n){if(je.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!je.isString(r)){if(je.isString(a))return r.indexOf(a)!==-1;if(je.isRegExp(a))return a.test(r)}}function lwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function cwe(e,r){const s=je.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,o){return this[a].call(this,r,n,i,o)},configurable:!0})})}let an=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(l,d,m){const h=Dh(d);if(!h)throw new Error("header name must be a non-empty string");const f=je.findKey(n,h);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||d]=x0(l))}const o=(l,d)=>je.forEach(l,(m,h)=>i(m,h,d));if(je.isPlainObject(r)||r instanceof this.constructor)o(r,s);else if(je.isString(r)&&(r=r.trim())&&!owe(r))o(nwe(r),s);else if(je.isObject(r)&&je.isIterable(r)){let l={},d,m;for(const h of r){if(!je.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[m=h[0]]=(d=l[m])?je.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=Dh(r),r){const a=je.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return iwe(n);if(je.isFunction(s))return s.call(this,n,a);if(je.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=Dh(r),r){const a=je.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||hN(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(o){if(o=Dh(o),o){const l=je.findKey(a,o);l&&(!s||hN(a,a[l],l,s))&&(delete a[l],n=!0)}}return je.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||hN(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return je.forEach(this,(n,i)=>{const o=je.findKey(a,i);if(o){s[o]=x0(n),delete s[i];return}const l=r?lwe(i):String(i).trim();l!==i&&delete s[i],s[l]=x0(n),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return je.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&je.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[r3]=this[r3]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Dh(o);a[l]||(cwe(n,o),a[l]=!0)}return je.isArray(r)?r.forEach(i):i(r),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(an.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});je.freezeMethods(an);function fN(e,r){const s=this||bp,a=r||s,n=an.from(a.headers);let i=a.data;return je.forEach(e,function(l){i=l.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function iU(e){return!!(e&&e.__CANCEL__)}function Bm(e,r,s){Et.call(this,e??"canceled",Et.ERR_CANCELED,r,s),this.name="CanceledError"}je.inherits(Bm,Et,{__CANCEL__:!0});function oU(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new Et("Request failed with status code "+s.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function dwe(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function uwe(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,o;return r=r!==void 0?r:1e3,function(d){const m=Date.now(),h=a[i];o||(o=m),s[n]=d,a[n]=m;let f=i,g=0;for(;f!==n;)g+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),m-o<r)return;const y=h&&m-h;return y?Math.round(g*1e3/y):void 0}}function mwe(e,r){let s=0,a=1e3/r,n,i;const o=(m,h=Date.now())=>{s=h,n=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const h=Date.now(),f=h-s;f>=a?o(m,h):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const Tx=(e,r,s=3)=>{let a=0;const n=uwe(50,250);return mwe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,m=n(d),h=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:m||void 0,estimated:m&&l&&h?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(f)},s)},s3=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},a3=e=>(...r)=>je.asap(()=>e(...r)),hwe=ba.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,ba.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(ba.origin),ba.navigator&&/(msie|trident)/i.test(ba.navigator.userAgent)):()=>!0,fwe=ba.hasStandardBrowserEnv?{write(e,r,s,a,n,i){const o=[e+"="+encodeURIComponent(r)];je.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),je.isString(a)&&o.push("path="+a),je.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pwe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gwe(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function lU(e,r,s){let a=!pwe(r);return e&&(a||s==!1)?gwe(e,r):r}const n3=e=>e instanceof an?{...e}:e;function Rd(e,r){r=r||{};const s={};function a(m,h,f,g){return je.isPlainObject(m)&&je.isPlainObject(h)?je.merge.call({caseless:g},m,h):je.isPlainObject(h)?je.merge({},h):je.isArray(h)?h.slice():h}function n(m,h,f,g){if(je.isUndefined(h)){if(!je.isUndefined(m))return a(void 0,m,f,g)}else return a(m,h,f,g)}function i(m,h){if(!je.isUndefined(h))return a(void 0,h)}function o(m,h){if(je.isUndefined(h)){if(!je.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function l(m,h,f){if(f in r)return a(m,h);if(f in e)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,h,f)=>n(n3(m),n3(h),f,!0)};return je.forEach(Object.keys({...e,...r}),function(h){const f=d[h]||n,g=f(e[h],r[h],h);je.isUndefined(g)&&f!==l||(s[h]=g)}),s}const cU=e=>{const r=Rd({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=r;r.headers=o=an.from(o),r.url=sU(lU(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(je.isFormData(s)){if(ba.hasStandardBrowserEnv||ba.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[m,...h]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...h].join("; "))}}if(ba.hasStandardBrowserEnv&&(a&&je.isFunction(a)&&(a=a(r)),a||a!==!1&&hwe(r.url))){const m=n&&i&&fwe.read(i);m&&o.set(n,m)}return r},xwe=typeof XMLHttpRequest<"u",ywe=xwe&&function(e){return new Promise(function(s,a){const n=cU(e);let i=n.data;const o=an.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:m}=n,h,f,g,y,w;function b(){y&&y(),w&&w(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function N(){if(!v)return;const S=an.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:e,request:v};oU(function(T){s(T),b()},function(T){a(T),b()},E),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(a(new Et("Request aborted",Et.ECONNABORTED,e,v)),v=null)},v.onerror=function(){a(new Et("Network Error",Et.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||aU;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),a(new Et(_,E.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&je.forEach(o.toJSON(),function(_,E){v.setRequestHeader(E,_)}),je.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),l&&l!=="json"&&(v.responseType=n.responseType),m&&([g,w]=Tx(m,!0),v.addEventListener("progress",g)),d&&v.upload&&([f,y]=Tx(d),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(h=S=>{v&&(a(!S||S.type?new Bm(null,e,v):S),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const C=dwe(n.url);if(C&&ba.protocols.indexOf(C)===-1){a(new Et("Unsupported protocol "+C+":",Et.ERR_BAD_REQUEST,e));return}v.send(i||null)})},vwe=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(m){if(!n){n=!0,l();const h=m instanceof Error?m:this.reason;a.abort(h instanceof Et?h:new Bm(h instanceof Error?h.message:h))}};let o=r&&setTimeout(()=>{o=null,i(new Et(`timeout ${r} of ms exceeded`,Et.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>je.asap(l),d}},bwe=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},wwe=async function*(e,r){for await(const s of jwe(e))yield*bwe(s,r)},jwe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},i3=(e,r,s,a)=>{const n=wwe(e,r);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:h}=await n.next();if(m){l(),d.close();return}let f=h.byteLength;if(s){let g=i+=f;s(g)}d.enqueue(new Uint8Array(h))}catch(m){throw l(m),m}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},dv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dU=dv&&typeof ReadableStream=="function",Nwe=dv&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uU=(e,...r)=>{try{return!!e(...r)}catch{return!1}},Swe=dU&&uU(()=>{let e=!1;const r=new Request(ba.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),o3=64*1024,fS=dU&&uU(()=>je.isReadableStream(new Response("").body)),Ox={stream:fS&&(e=>e.body)};dv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!Ox[r]&&(Ox[r]=je.isFunction(e[r])?s=>s[r]():(s,a)=>{throw new Et(`Response type '${r}' is not supported`,Et.ERR_NOT_SUPPORT,a)})})})(new Response);const Cwe=async e=>{if(e==null)return 0;if(je.isBlob(e))return e.size;if(je.isSpecCompliantForm(e))return(await new Request(ba.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(je.isArrayBufferView(e)||je.isArrayBuffer(e))return e.byteLength;if(je.isURLSearchParams(e)&&(e=e+""),je.isString(e))return(await Nwe(e)).byteLength},kwe=async(e,r)=>{const s=je.toFiniteNumber(e.getContentLength());return s??Cwe(r)},_we=dv&&(async e=>{let{url:r,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:m,headers:h,withCredentials:f="same-origin",fetchOptions:g}=cU(e);m=m?(m+"").toLowerCase():"text";let y=vwe([n,i&&i.toAbortSignal()],o),w;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let v;try{if(d&&Swe&&s!=="get"&&s!=="head"&&(v=await kwe(h,a))!==0){let E=new Request(r,{method:"POST",body:a,duplex:"half"}),A;if(je.isFormData(a)&&(A=E.headers.get("content-type"))&&h.setContentType(A),E.body){const[T,M]=s3(v,Tx(a3(d)));a=i3(E.body,o3,T,M)}}je.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;w=new Request(r,{...g,signal:y,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let C=await fetch(w,g);const S=fS&&(m==="stream"||m==="response");if(fS&&(l||S&&b)){const E={};["status","statusText","headers"].forEach(z=>{E[z]=C[z]});const A=je.toFiniteNumber(C.headers.get("content-length")),[T,M]=l&&s3(A,Tx(a3(l),!0))||[];C=new Response(i3(C.body,o3,T,()=>{M&&M(),b&&b()}),E)}m=m||"text";let _=await Ox[je.findKey(Ox,m)||"text"](C,e);return!S&&b&&b(),await new Promise((E,A)=>{oU(E,A,{data:_,headers:an.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:w})})}catch(N){throw b&&b(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,e,w),{cause:N.cause||N}):Et.from(N,N&&N.code,e,w)}}),pS={http:Bbe,xhr:ywe,fetch:_we};je.forEach(pS,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const l3=e=>`- ${e}`,Pwe=e=>je.isFunction(e)||e===null||e===!1,mU={getAdapter:e=>{e=je.isArray(e)?e:[e];const{length:r}=e;let s,a;const n={};for(let i=0;i<r;i++){s=e[i];let o;if(a=s,!Pwe(s)&&(a=pS[(o=String(s)).toLowerCase()],a===void 0))throw new Et(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(l3).join(`
`):" "+l3(i[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:pS};function pN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bm(null,e)}function c3(e){return pN(e),e.headers=an.from(e.headers),e.data=fN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mU.getAdapter(e.adapter||bp.adapter)(e).then(function(a){return pN(e),a.data=fN.call(e,e.transformResponse,a),a.headers=an.from(a.headers),a},function(a){return iU(a)||(pN(e),a&&a.response&&(a.response.data=fN.call(e,e.transformResponse,a.response),a.response.headers=an.from(a.response.headers))),Promise.reject(a)})}const hU="1.11.0",uv={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{uv[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const d3={};uv.transitional=function(r,s,a){function n(i,o){return"[Axios v"+hU+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Et(n(o," has been removed"+(s?" in "+s:"")),Et.ERR_DEPRECATED);return s&&!d3[o]&&(d3[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,o,l):!0}};uv.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Awe(e,r,s){if(typeof e!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=r[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Et("option "+i+" must be "+d,Et.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Et("Unknown option "+i,Et.ERR_BAD_OPTION)}}const y0={assertOptions:Awe,validators:uv},Yi=y0.validators;let hd=class{constructor(r){this.defaults=r||{},this.interceptors={request:new t3,response:new t3}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=Rd(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&y0.assertOptions(a,{silentJSONParsing:Yi.transitional(Yi.boolean),forcedJSONParsing:Yi.transitional(Yi.boolean),clarifyTimeoutError:Yi.transitional(Yi.boolean)},!1),n!=null&&(je.isFunction(n)?s.paramsSerializer={serialize:n}:y0.assertOptions(n,{encode:Yi.function,serialize:Yi.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),y0.assertOptions(s,{baseUrl:Yi.spelling("baseURL"),withXsrfToken:Yi.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&je.merge(i.common,i[s.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=an.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(d=d&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let h,f=0,g;if(!d){const w=[c3.bind(this),void 0];for(w.unshift(...l),w.push(...m),g=w.length,h=Promise.resolve(s);f<g;)h=h.then(w[f++],w[f++]);return h}g=l.length;let y=s;for(f=0;f<g;){const w=l[f++],b=l[f++];try{y=w(y)}catch(v){b.call(this,v);break}}try{h=c3.call(this,y)}catch(w){return Promise.reject(w)}for(f=0,g=m.length;f<g;)h=h.then(m[f++],m[f++]);return h}getUri(r){r=Rd(this.defaults,r);const s=lU(r.baseURL,r.url,r.allowAbsoluteUrls);return sU(s,r.params,r.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(r){hd.prototype[r]=function(s,a){return this.request(Rd(a||{},{method:r,url:s,data:(a||{}).data}))}});je.forEach(["post","put","patch"],function(r){function s(a){return function(i,o,l){return this.request(Rd(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}hd.prototype[r]=s(),hd.prototype[r+"Form"]=s(!0)});let Ewe=class fU{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new Bm(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new fU(function(n){r=n}),cancel:r}}};function Twe(e){return function(s){return e.apply(null,s)}}function Owe(e){return je.isObject(e)&&e.isAxiosError===!0}const gS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gS).forEach(([e,r])=>{gS[r]=e});function pU(e){const r=new hd(e),s=HF(hd.prototype.request,r);return je.extend(s,hd.prototype,r,{allOwnKeys:!0}),je.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return pU(Rd(e,n))},s}const ss=pU(bp);ss.Axios=hd;ss.CanceledError=Bm;ss.CancelToken=Ewe;ss.isCancel=iU;ss.VERSION=hU;ss.toFormData=cv;ss.AxiosError=Et;ss.Cancel=ss.CanceledError;ss.all=function(r){return Promise.all(r)};ss.spread=Twe;ss.isAxiosError=Owe;ss.mergeConfig=Rd;ss.AxiosHeaders=an;ss.formToJSON=e=>nU(je.isHTMLForm(e)?new FormData(e):e);ss.getAdapter=mU.getAdapter;ss.HttpStatusCode=gS;ss.default=ss;const{Axios:FSe,AxiosError:USe,CanceledError:BSe,isCancel:WSe,CancelToken:VSe,VERSION:HSe,all:qSe,Cancel:KSe,isAxiosError:GSe,spread:YSe,toFormData:JSe,AxiosHeaders:XSe,HttpStatusCode:QSe,formToJSON:ZSe,getAdapter:eCe,mergeConfig:tCe}=ss,gU=window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com"),xU=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",yU=gU?"/api":xU?"http://localhost:3001/api":"https://apex-backend-august-production.up.railway.app/api";console.log(" API Connected to:",yU,gU?"(via Netlify redirects to Vercel)":xU?"(local dev)":"(fallback)");const Rwe=5e3,Mwe=1,vU=1e3;class Iwe extends Error{constructor(r,s,a,n){super(r),this.status=s,this.code=a,this.details=n,this.name="ApiError"}}const bU=e=>new Promise(r=>setTimeout(r,e)),Dwe=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},wU=async(e,r,s=0)=>{try{return await e(r)}catch(a){const n=a;if(s<Mwe&&Dwe(n)){const i=vU*Math.pow(2,s);return await bU(i),wU(e,r,s+1)}throw a}},jU=e=>{const r=ss.create({baseURL:yU,timeout:Rwe,headers:{"Content-Type":"application/json"}});return r.interceptors.request.use(async s=>{let a=null;console.log(" API Client: Getting token...");{try{if(window.Clerk&&window.Clerk.session){const n=await window.Clerk.session.getToken();n&&(a=n,console.log(" API Client: Got Clerk token from window.Clerk"))}else e&&(a=await e(),console.log(" API Client: Got Clerk token from getToken"))}catch(n){console.warn(" Failed to get Clerk token:",n)}if(!a)try{const n=zS(),{data:{session:i}}=await n.auth.getSession();i!=null&&i.access_token?(a=i.access_token,console.log(" API Client: Got Supabase token:","***EXISTS***")):console.warn(" API Client: No Supabase session found")}catch(n){console.error(" API Client: Error getting Supabase session:",n)}a||console.warn(" No authentication token available in production mode")}return a?(s.headers.Authorization=`Bearer ${a}`,console.log(" API Client: Set Authorization header with token:",a),console.log(" API Client: Full request config:",{url:s.url,method:s.method,headers:s.headers})):console.warn(" No authentication token available - user needs to sign in"),s},s=>(console.error(" Request Error:",s),Promise.reject(s))),r.interceptors.response.use(s=>s,async s=>{var o,l,d,m,h,f;const a=s.config;if(((o=s.response)==null?void 0:o.status)===401&&!a._retry)return a._retry=!0,console.error(" Dev Mode: 401 error - continuing without redirect"),Promise.reject(s);if(((l=s.response)==null?void 0:l.status)===429){const g=s.response.headers["retry-after"],y=g?parseInt(g)*1e3:vU;return await bU(y),wU(r,a)}const n=(d=s.response)==null?void 0:d.data,i=new Iwe((n==null?void 0:n.message)||s.message||"An unexpected error occurred",(m=s.response)==null?void 0:m.status,n==null?void 0:n.code,n);return console.error(" API Error:",{message:i.message,status:i.status,code:i.code,url:(h=s.config)==null?void 0:h.url,method:(f=s.config)==null?void 0:f.method}),Promise.reject(i)}),r},qs=jU(),wp=()=>{const{getToken:e}=_n();return jU(e)};class NU{constructor(r){Es(this,"baseURL","http://localhost:3001/api");Es(this,"apiClient");this.apiClient=r||require("../lib/api-client").apiClient}async getCampaigns(){var r,s,a,n,i,o;try{console.log(" VapiOutboundService: Fetching campaigns from:",this.baseURL);let l,d=!1;try{console.log(" Trying /vapi-outbound/campaigns endpoint..."),l=await this.apiClient.get("/vapi-outbound/campaigns"),l&&l.data&&(console.log(" vapi-outbound endpoint succeeded"),d=!0)}catch(h){console.log(" vapi-outbound failed with:",((r=h.response)==null?void 0:r.status)||h.message)}if(!d)try{console.log(" Trying /campaigns endpoint..."),l=await this.apiClient.get("/campaigns"),l&&l.data&&(console.log(" Regular campaigns endpoint succeeded"),d=!0)}catch(h){console.log(" Regular campaigns failed with:",((s=h.response)==null?void 0:s.status)||h.message)}if(!d)throw console.error(" Both API endpoints failed, will try Supabase fallback"),new Error("API endpoints unavailable");console.log(" VapiOutboundService: API Response:",l);const m=((a=l.data)==null?void 0:a.campaigns)||[];return Array.isArray(m)?m.map(h=>{var f;return{id:h.id,apexId:h.apexId||h.apex_id||`apex${h.id.substring(0,5)}`,name:h.name,description:h.description,status:h.status,assistantId:h.assistantId||h.assistant_id||"",assistantName:h.assistantName||h.assistant_name||"AI Assistant",phoneNumberId:h.phoneNumberId||h.phone_number_id||"",phoneNumber:h.phoneNumber||h.phone_number,organizationId:h.organizationId||h.organization_id||"",objective:h.objective,budget:h.budget,campaignType:h.campaignType||h.campaign_type,createdAt:h.createdAt||h.created_at,updatedAt:h.updatedAt||h.updated_at,totalLeads:h.totalLeads||h.total_leads||((f=h.leads_count)==null?void 0:f.count)||0,callsCompleted:h.callsCompleted||h.calls_completed||h.completed_calls_count||0,totalCost:h.totalCost||h.total_cost||h.spent||0,successRate:h.successRate||h.success_rate||h.conversion_rate||0,callsInProgress:h.callsInProgress||h.calls_in_progress||0,settings:h.settings||{callsPerHour:h.calls_per_hour||10,retryAttempts:h.retry_attempts||2,timeZone:h.time_zone||"America/New_York",workingHours:{start:h.working_hours_start||"09:00",end:h.working_hours_end||"17:00"}},teamAssignment:h.teamAssignment||h.team_assignment}}):(console.error(" Campaigns data is not an array:",m),[])}catch(l){console.error(" Error fetching campaigns from API:",l);try{console.log(" Attempting to fetch campaigns directly from Supabase...");let d=null;if(typeof window<"u"&&window.Clerk)try{const g=window.Clerk.user;if(g){const y=((n=g.primaryEmailAddress)==null?void 0:n.emailAddress)||((o=(i=g.emailAddresses)==null?void 0:i[0])==null?void 0:o.emailAddress);if(y){const{data:w,error:b}=await Xe.from("users").select("organization_id").eq("email",y).single();!b&&(w!=null&&w.organization_id)&&(d=w.organization_id,console.log(" Got organization_id from Clerk user:",d))}}}catch(f){console.warn(" Could not get organization from Clerk:",f)}if(!d){const{data:{user:f}}=await Xe.auth.getUser();if(f!=null&&f.email){const{data:g}=await Xe.from("users").select("organization_id").eq("email",f.email).single();g!=null&&g.organization_id&&(d=g.organization_id,console.log(" Got organization_id from Supabase auth:",d))}}d||(d="2566d8c5-2245-4a3c-b539-4cea21a07d9b",console.warn(" Using hardcoded organization_id as fallback:",d));const{data:m,error:h}=await Xe.from("campaigns").select("*").eq("organization_id",d).order("created_at",{ascending:!1});return h?(console.error(" Supabase error:",h),[]):(console.log(" Fetched campaigns from Supabase:",m),(m||[]).map(f=>({id:f.id,apexId:f.apex_id||`apex${f.id.substring(0,5)}`,name:f.name,description:f.description,status:f.status||"draft",assistantId:f.assistant_id||"",assistantName:f.assistant_name||"AI Assistant",phoneNumberId:f.phone_number_id||"",phoneNumber:f.phone_number,organizationId:f.organization_id||"",objective:f.objective,budget:f.budget,campaignType:f.campaign_type,createdAt:f.created_at,updatedAt:f.updated_at,totalLeads:f.total_leads||0,callsCompleted:f.calls_completed||0,totalCost:f.total_cost||0,successRate:f.success_rate||0,callsInProgress:f.calls_in_progress||0,settings:{callsPerHour:f.calls_per_hour||10,retryAttempts:f.retry_attempts||2,timeZone:f.time_zone||"America/New_York",workingHours:{start:f.working_hours_start||"09:00",end:f.working_hours_end||"17:00"}},teamAssignment:f.team_assignment})))}catch(d){return console.error(" Failed to fetch from Supabase:",d),[]}}}async createCampaign(r){var s;try{const a=((s=r.callBehavior)==null?void 0:s.customConcurrency)||10,n={...r,max_concurrent_calls:a,callBehavior:void 0};return console.log(" Sending campaign data to backend:",n),(await this.apiClient.post("/vapi-outbound/campaigns",n)).data.campaign}catch(a){throw console.error("Error creating campaign:",a),a}}async uploadLeads(r,s){try{const a=new FormData;return a.append("csvFile",s),(await this.apiClient.post(`/vapi-outbound/campaigns/${r}/upload-leads`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error uploading leads:",a),a}}async getLiveMonitoring(r){try{return(await this.apiClient.get(`/vapi-outbound/campaigns/${r}/live`)).data}catch(s){throw console.error("Error fetching live monitoring:",s),s}}async getAssistants(){var r,s;try{console.log(" VapiOutboundService.getAssistants: Making API call...");const a=await this.apiClient.get("/vapi-data/assistants");console.log(" VapiOutboundService.getAssistants: Response:",a),console.log(" VapiOutboundService.getAssistants: Response data:",a.data),console.log(" VapiOutboundService.getAssistants: Assistants array:",a.data.assistants);const n=a.data.assistants||[];return console.log(" VapiOutboundService.getAssistants: Returning",n.length,"assistants"),n}catch(a){throw console.error(" VapiOutboundService.getAssistants: Error:",a),console.error(" Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async getPhoneNumbers(){var r,s;try{console.log(" VapiOutboundService.getPhoneNumbers: Making API call...");const a=await this.apiClient.get("/vapi-data/phone-numbers");console.log(" VapiOutboundService.getPhoneNumbers: Response:",a),console.log(" VapiOutboundService.getPhoneNumbers: Response data:",a.data),console.log(" VapiOutboundService.getPhoneNumbers: Phone numbers array:",a.data.phoneNumbers);const n=a.data.phoneNumbers||[];return console.log(" VapiOutboundService.getPhoneNumbers: Returning",n.length,"phone numbers"),n}catch(a){throw console.error(" VapiOutboundService.getPhoneNumbers: Error:",a),console.error(" Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async downloadLeadsTemplate(){try{return(await this.apiClient.get("/vapi-outbound/leads-template",{responseType:"blob"})).data}catch(r){throw console.error("Error downloading template:",r),r}}async getToken(){return""}formatPhoneNumber(r){const s=r.replace(/\D/g,"");return s.length===10?`+1${s}`:s.length===11&&s.startsWith("1")?`+${s}`:`+${s}`}validateLeadData(r){var n,i,o;const s=[],a=[];for(const l of r){const d=[];(n=l.firstName)!=null&&n.trim()||d.push("First name required"),(i=l.lastName)!=null&&i.trim()||d.push("Last name required"),(o=l.phone)!=null&&o.trim()||d.push("Phone number required"),l.phone&&!/^\+?[\d\s\-\(\)]+$/.test(l.phone)&&d.push("Invalid phone format"),d.length===0?s.push({...l,phone:this.formatPhoneNumber(l.phone)}):a.push({...l,errors:d})}return{valid:s,invalid:a}}async getRecentCalls(r=20){var s;try{console.log(" VapiOutboundService: Fetching recent calls...");let a;try{a=await this.apiClient.get(`/vapi-outbound/calls/recent?limit=${r}`)}catch(n){if(((s=n.response)==null?void 0:s.status)===404)console.log(" Falling back to /calls endpoint..."),a=await this.apiClient.get(`/calls?limit=${r}`);else throw n}return console.log(" VapiOutboundService: Recent calls response:",a),a.data.calls||a.data||[]}catch(a){console.error("Error fetching recent calls from API:",a);try{console.log(" Attempting to fetch calls directly from Supabase...");const{data:n,error:i}=await Xe.from("calls").select("*").order("created_at",{ascending:!1}).limit(r);return i?(console.error(" Supabase error:",i),[]):(console.log(" Fetched calls from Supabase:",n),n||[])}catch(n){return console.error(" Failed to fetch from Supabase:",n),[]}}}async getCampaignCalls(r,s){try{return(await this.apiClient.get(`/campaigns/${r}/calls?${s}`)).data}catch(a){throw console.error("Error fetching campaign calls:",a),a}}async getCampaignDashboard(r){try{return(await this.apiClient.get(`/vapi-outbound/campaigns/${r}/dashboard`)).data}catch(s){return console.error("Error fetching campaign dashboard:",s),{totalCalls:0,completedCalls:0,inProgressCalls:0,averageCallDuration:0,conversionRate:0,totalCost:0,outcomeBreakdown:{answered:0,voicemail:0,no_answer:0,busy:0,failed:0}}}}async getCampaignResults(r){try{const s=await this.apiClient.get(`/vapi-outbound/campaigns/${r}/calls`);return s.data.calls||s.data||[]}catch(s){console.error("Error fetching campaign results from API:",s);try{console.log(" Fetching campaign calls from Supabase...");const{data:a,error:n}=await Xe.from("calls").select("*").eq("campaign_id",r).order("created_at",{ascending:!1});if(n)return console.error(" Supabase error:",n),[];const i=(a||[]).map(o=>({id:o.id,status:o.status||"completed",outcome:o.outcome||"completed",duration:o.duration||0,cost:o.cost||.05,phone_number:o.phone_number,customer_phone:o.phone_number,customerPhone:o.phone_number,recording_url:o.recording_url,transcript:o.transcript,summary:o.summary,created_at:o.created_at,started_at:o.started_at||o.created_at,lead:{firstName:"Matt",lastName:"",phone:o.phone_number||"N/A"},startedAt:o.started_at||o.created_at,endedAt:o.ended_at}));return console.log(` Fetched ${i.length} calls for campaign ${r}`),i}catch(a){return console.error(" Failed to fetch from Supabase:",a),[]}}}async getLiveData(r){return this.getCampaignDashboard(r)}async startCampaign(r){try{return console.log(" Starting campaign:",r),(await this.apiClient.post(`/vapi-outbound/campaigns/${r}/start`)).data||{message:"Campaign started"}}catch(s){throw console.error("Error starting campaign:",s),s}}async pauseCampaign(r){try{return(await this.apiClient.post(`/vapi-outbound/campaigns/${r}/pause`)).data||{message:"Campaign paused"}}catch(s){throw console.error("Error pausing campaign:",s),s}}async resumeCampaign(r){try{return(await this.apiClient.post(`/vapi-outbound/campaigns/${r}/resume`)).data||{message:"Campaign resumed"}}catch(s){throw console.error("Error resuming campaign:",s),s}}}const of=new NU(qs),SU=()=>{const e=wp();return new NU(e)};class Lwe{async getCampaigns(r){if(console.log(" DirectSupabaseService: Fetching campaigns directly from Supabase..."),!r)return console.warn(" No organization ID provided - cannot fetch campaigns"),[];console.log(" Using organization ID:",r);const{data:s,error:a}=await Xe.from("campaigns").select("*").eq("organization_id",r).order("created_at",{ascending:!1});return a?(console.error(" Supabase error:",a),[]):(console.log(` Found ${(s==null?void 0:s.length)||0} campaigns in Supabase`),await Promise.all((s||[]).map(async i=>{const{count:o}=await Xe.from("leads").select("*",{count:"exact",head:!0}).eq("campaign_id",i.id),{count:l}=await Xe.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",i.id),{count:d}=await Xe.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",i.id).in("status",["completed","ended","initiated"]),{data:m}=await Xe.from("calls").select("cost").eq("campaign_id",i.id),h=(m==null?void 0:m.reduce((f,g)=>f+(g.cost||0),0))||0;return console.log(` Campaign ${i.name}: ${o} leads, ${l} calls, ${d} completed`),{id:i.id,apexId:i.apex_id||`apex${i.id.substring(0,5)}`,name:i.name,description:i.description,status:i.status||"draft",assistantId:i.assistant_id||"",assistantName:i.assistant_name||"AI Assistant",phoneNumberId:i.phone_number_id||"",phoneNumber:i.phone_number,organizationId:i.organization_id||"",objective:i.objective,budget:i.budget,campaignType:i.campaign_type,createdAt:i.created_at,updatedAt:i.updated_at,totalLeads:o||0,callsCompleted:d||0,totalCost:h||i.total_cost||0,successRate:o>0?(d||0)/o*100:0,callsInProgress:i.calls_in_progress||0,settings:{callsPerHour:i.calls_per_hour||10,retryAttempts:i.retry_attempts||2,timeZone:i.time_zone||"America/New_York",workingHours:{start:i.working_hours_start||"09:00",end:i.working_hours_end||"17:00"}},teamAssignment:i.team_assignment}})))}async getRecentCalls(r=20,s){console.log(" DirectSupabaseService: Fetching recent calls from Supabase..."),s||console.warn(" No organization ID provided - fetching all calls for debugging"),console.log(" Using organization ID:",s);const{data:a,error:n}=await Xe.from("campaigns").select("id").eq("organization_id",s||"");n&&console.error(" Error fetching org campaigns:",n);const i=(a==null?void 0:a.map(m=>m.id))||[];console.log(` Found ${i.length} campaigns for organization`);let o=[];const{data:l,error:d}=await Xe.from("calls").select("*").eq("organization_id",s||"").order("created_at",{ascending:!1}).limit(r);if(!d&&l&&l.length>0)console.log(` Found ${l.length} calls via direct org_id filter`),o=l;else if(console.log(" No calls found via direct org_id, trying campaign_id filter..."),i.length>0){const{data:m,error:h}=await Xe.from("calls").select("*").in("campaign_id",i).order("created_at",{ascending:!1}).limit(r);!h&&m&&(console.log(` Found ${m.length} calls via campaign_id filter`),o=m)}if(o.length===0){console.log(" Debugging: Checking total calls in database...");const{data:m,count:h}=await Xe.from("calls").select("id, campaign_id, organization_id, created_at",{count:"exact"}).order("created_at",{ascending:!1}).limit(10);console.log(` Total calls in DB: ${h}, sample:`,m==null?void 0:m.map(f=>{var g,y,w;return{id:(g=f.id)==null?void 0:g.substring(0,8),campaign_id:(y=f.campaign_id)==null?void 0:y.substring(0,8),org_id:(w=f.organization_id)==null?void 0:w.substring(0,8)}}))}return console.log(` Returning ${o.length} recent calls`),o||[]}async getCampaignLeads(r){console.log(" DirectSupabaseService: Fetching leads for campaign:",r);const{data:s,error:a}=await Xe.from("leads").select("*").eq("campaign_id",r).order("created_at",{ascending:!1});return a?(console.error(" Supabase error fetching leads:",a),[]):(console.log(` Found ${(s==null?void 0:s.length)||0} leads for campaign`),s||[])}async getCampaignCalls(r){console.log(" DirectSupabaseService: Fetching calls for campaign:",r);const{count:s}=await Xe.from("calls").select("*",{count:"exact",head:!0});console.log(` Total calls in database: ${s||0}`);const{data:a,error:n}=await Xe.from("calls").select("*").eq("campaign_id",r).order("created_at",{ascending:!1});if(n)return console.error(" Supabase error fetching calls:",n),[];if(console.log(` Found ${(a==null?void 0:a.length)||0} calls for campaign ${r}`),!a||a.length===0){const{data:i}=await Xe.from("calls").select("campaign_id").limit(100),o=[...new Set((i==null?void 0:i.map(l=>l.campaign_id))||[])];console.log(" Campaign IDs with calls:",o)}return(a||[]).map(i=>({...i,displayStatus:i.status==="completed"?"Completed":i.status==="initiated"?"In Progress":i.status==="failed"?"Failed":i.status,transcript:i.transcript||"",recording_url:i.recording_url||"",summary:i.summary||"",cost:i.cost||0,duration:i.duration||0}))}async getCampaignById(r){if(console.log(" DirectSupabaseService: Fetching campaign by ID:",r),!r)return console.error(" No campaign ID provided"),null;const{data:s,error:a}=await Xe.from("campaigns").select("*").eq("id",r).single();if(a)return console.error(" Supabase error fetching campaign:",a),null;if(!s)return console.error(" No campaign found with ID:",r),null;console.log(" Found campaign:",s.name);const{count:n}=await Xe.from("leads").select("*",{count:"exact",head:!0}).eq("campaign_id",r),{count:i}=await Xe.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",r),{count:o}=await Xe.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",r).in("status",["completed","ended","initiated"]),{data:l}=await Xe.from("calls").select("cost").eq("campaign_id",r),d=(l==null?void 0:l.reduce((h,f)=>h+(f.cost||0),0))||0;console.log(` Campaign ${s.name}: ${n} leads, ${i} calls, ${o} completed`);let m=s.settings;if(typeof m=="string")try{m=JSON.parse(m)}catch{m={}}return{...s,id:s.id,apexId:s.apex_id||`apex${s.id.substring(0,5)}`,name:s.name,description:s.description,status:s.status||"draft",assistantId:s.assistant_id||"",assistantName:(m==null?void 0:m.voice_agent)||"Emerald Green Energy Demo",phoneNumberId:s.phone_number_id||"",phoneNumber:s.phone_number||"+447482792343",organizationId:s.organization_id||"",objective:s.objective,budget:s.budget,campaignType:s.campaign_type,createdAt:s.created_at,updatedAt:s.updated_at,totalLeads:n||0,callsCompleted:o||0,totalCost:d||s.total_cost||0,successRate:n>0?(o||0)/n*100:0,callsInProgress:s.calls_in_progress||0,settings:{...m||{},callsPerHour:s.calls_per_hour||10,retryAttempts:s.retry_attempts||2,timeZone:s.time_zone||"America/New_York",workingHours:{start:s.working_hours_start||"09:00",end:s.working_hours_end||"17:00"},total_leads:n||0,calls_completed:o||0,successful_calls:o||0,voice_agent:(m==null?void 0:m.voice_agent)||"Emerald Green Energy Demo",system_prompt:(m==null?void 0:m.system_prompt)||"",voice_model:(m==null?void 0:m.voice_model)||"eleven_turbo_v2_5",schedule:(m==null?void 0:m.schedule)||null},teamAssignment:s.team_assignment}}async deleteCampaign(r,s){if(console.log(" DirectSupabaseService: Deleting campaign:",r),!r)throw new Error("Campaign ID is required");if(!s)throw console.warn(" No organization ID provided - cannot verify campaign ownership"),new Error("Organization ID is required for delete authorization");console.log(" Verifying campaign belongs to organization:",s);const{data:a,error:n}=await Xe.from("campaigns").select("id, organization_id").eq("id",r).eq("organization_id",s).single();if(n||!a)throw console.error(" Campaign not found or does not belong to organization"),new Error("Campaign not found or unauthorized");const{error:i}=await Xe.from("calls").delete().eq("campaign_id",r);i&&console.error(" Error deleting campaign calls:",i);const{error:o}=await Xe.from("leads").delete().eq("campaign_id",r);o&&console.error(" Error deleting campaign leads:",o);const{error:l}=await Xe.from("campaigns").delete().eq("id",r).eq("organization_id",s);if(l)throw console.error(" Error deleting campaign:",l),new Error(`Failed to delete campaign: ${l.message}`);return console.log(" Campaign deleted successfully:",r),!0}}const Zu=new Lwe;var $we="Label",CU=p.forwardRef((e,r)=>t.jsx(qe.label,{...e,ref:r,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));CU.displayName=$we;var kU=CU;const zwe=Ff("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=p.forwardRef(({className:e,...r},s)=>t.jsx(kU,{ref:s,className:$e(zwe(),e),...r}));re.displayName=kU.displayName;var v4="Radio",[Fwe,_U]=Gs(v4),[Uwe,Bwe]=Fwe(v4),PU=p.forwardRef((e,r)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:d,form:m,...h}=e,[f,g]=p.useState(null),y=mt(r,v=>g(v)),w=p.useRef(!1),b=f?m||!!f.closest("form"):!0;return t.jsxs(Uwe,{scope:s,checked:n,disabled:o,children:[t.jsx(qe.button,{type:"button",role:"radio","aria-checked":n,"data-state":OU(n),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:Fe(e.onClick,v=>{n||d==null||d(),b&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})}),b&&t.jsx(TU,{control:f,bubbles:!w.current,name:a,value:l,checked:n,required:i,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});PU.displayName=v4;var AU="RadioIndicator",EU=p.forwardRef((e,r)=>{const{__scopeRadio:s,forceMount:a,...n}=e,i=Bwe(AU,s);return t.jsx(Sa,{present:a||i.checked,children:t.jsx(qe.span,{"data-state":OU(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});EU.displayName=AU;var Wwe="RadioBubbleInput",TU=p.forwardRef(({__scopeRadio:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=mt(o,i),d=gp(s),m=Vf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),t.jsx(qe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});TU.displayName=Wwe;function OU(e){return e?"checked":"unchecked"}var Vwe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mv="RadioGroup",[Hwe,rCe]=Gs(mv,[_m,_U]),RU=_m(),MU=_U(),[qwe,Kwe]=Hwe(mv),IU=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:m,loop:h=!0,onValueChange:f,...g}=e,y=RU(s),w=Bd(m),[b,v]=Ei({prop:i,defaultProp:n??null,onChange:f,caller:mv});return t.jsx(qwe,{scope:s,name:a,required:o,disabled:l,value:b,onValueChange:v,children:t.jsx(eC,{asChild:!0,...y,orientation:d,dir:w,loop:h,children:t.jsx(qe.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:w,...g,ref:r})})})});IU.displayName=mv;var DU="RadioGroupItem",LU=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,disabled:a,...n}=e,i=Kwe(DU,s),o=i.disabled||a,l=RU(s),d=MU(s),m=p.useRef(null),h=mt(r,m),f=i.value===n.value,g=p.useRef(!1);return p.useEffect(()=>{const y=b=>{Vwe.includes(b.key)&&(g.current=!0)},w=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),t.jsx(tC,{asChild:!0,...l,focusable:!o,active:f,children:t.jsx(PU,{disabled:o,required:i.required,checked:f,...d,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:Fe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Fe(n.onFocus,()=>{var y;g.current&&((y=m.current)==null||y.click())})})})});LU.displayName=DU;var Gwe="RadioGroupIndicator",$U=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,...a}=e,n=MU(s);return t.jsx(EU,{...n,...a,ref:r})});$U.displayName=Gwe;var zU=IU,FU=LU,Ywe=$U;const Jl=p.forwardRef(({className:e,...r},s)=>t.jsx(zU,{className:$e("grid gap-2",e),...r,ref:s}));Jl.displayName=zU.displayName;const sa=p.forwardRef(({className:e,...r},s)=>t.jsx(FU,{ref:s,className:$e("aspect-square h-4 w-4 rounded-full border border-zinc-200 border-zinc-900 text-zinc-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-50 dark:border-zinc-800 dark:text-zinc-50 dark:focus-visible:ring-zinc-300",e),...r,children:t.jsx(Ywe,{className:"flex items-center justify-center",children:t.jsx(hM,{className:"h-3.5 w-3.5 fill-primary"})})}));sa.displayName=FU.displayName;var UU=["PageUp","PageDown"],BU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],WU={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Wm="Slider",[xS,Jwe,Xwe]=Uf(Wm),[VU,sCe]=Gs(Wm,[Xwe]),[Qwe,hv]=VU(Wm),HU=p.forwardRef((e,r)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[a],value:h,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:w,...b}=e,v=p.useRef(new Set),N=p.useRef(0),S=o==="horizontal"?Zwe:eje,[_=[],E]=Ei({prop:h,defaultProp:m,onChange:O=>{var $;($=[...v.current][N.current])==null||$.focus(),f(O)}}),A=p.useRef(_);function T(O){const R=nje(_,O);V(O,R)}function M(O){V(O,N.current)}function z(){const O=A.current[N.current];_[N.current]!==O&&g(_)}function V(O,R,{commit:$}={commit:!1}){const B=cje(i),U=dje(Math.round((O-a)/i)*i+a,B),te=xf(U,[a,n]);E((L=[])=>{const F=sje(L,te,R);if(lje(F,d*i)){N.current=F.indexOf(te);const q=String(F)!==String(L);return q&&$&&g(F),q?F:L}else return L})}return t.jsx(Qwe,{scope:e.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:N,thumbs:v.current,values:_,orientation:o,form:w,children:t.jsx(xS.Provider,{scope:e.__scopeSlider,children:t.jsx(xS.Slot,{scope:e.__scopeSlider,children:t.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:r,onPointerDown:Fe(b.onPointerDown,()=>{l||(A.current=_)}),min:a,max:n,inverted:y,onSlideStart:l?void 0:T,onSlideMove:l?void 0:M,onSlideEnd:l?void 0:z,onHomeKeyDown:()=>!l&&V(a,0,{commit:!0}),onEndKeyDown:()=>!l&&V(n,_.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:R})=>{if(!l){const U=UU.includes(O.key)||O.shiftKey&&BU.includes(O.key)?10:1,te=N.current,L=_[te],F=i*U*R;V(L+F,te,{commit:!0})}}})})})})});HU.displayName=Wm;var[qU,KU]=VU(Wm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zwe=p.forwardRef((e,r)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...h}=e,[f,g]=p.useState(null),y=mt(r,S=>g(S)),w=p.useRef(void 0),b=Bd(n),v=b==="ltr",N=v&&!i||!v&&i;function C(S){const _=w.current||f.getBoundingClientRect(),E=[0,_.width],T=b4(E,N?[s,a]:[a,s]);return w.current=_,T(S-_.left)}return t.jsx(qU,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:t.jsx(GU,{dir:b,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const _=C(S.clientX);o==null||o(_)},onSlideMove:S=>{const _=C(S.clientX);l==null||l(_)},onSlideEnd:()=>{w.current=void 0,d==null||d()},onStepKeyDown:S=>{const E=WU[N?"from-left":"from-right"].includes(S.key);m==null||m({event:S,direction:E?-1:1})}})})}),eje=p.forwardRef((e,r)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...m}=e,h=p.useRef(null),f=mt(r,h),g=p.useRef(void 0),y=!n;function w(b){const v=g.current||h.current.getBoundingClientRect(),N=[0,v.height],S=b4(N,y?[a,s]:[s,a]);return g.current=v,S(b-v.top)}return t.jsx(qU,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:t.jsx(GU,{"data-orientation":"vertical",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const v=w(b.clientY);i==null||i(v)},onSlideMove:b=>{const v=w(b.clientY);o==null||o(v)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const N=WU[y?"from-bottom":"from-top"].includes(b.key);d==null||d({event:b,direction:N?-1:1})}})})}),GU=p.forwardRef((e,r)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...m}=e,h=hv(Wm,s);return t.jsx(qe.span,{...m,ref:r,onKeyDown:Fe(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):UU.concat(BU).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:Fe(e.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(g)?g.focus():a(f)}),onPointerMove:Fe(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&n(f)}),onPointerUp:Fe(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),YU="SliderTrack",JU=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=hv(YU,s);return t.jsx(qe.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:r})});JU.displayName=YU;var yS="SliderRange",XU=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=hv(yS,s),i=KU(yS,s),o=p.useRef(null),l=mt(r,o),d=n.values.length,m=n.values.map(g=>e7(g,n.min,n.max)),h=d>1?Math.min(...m):0,f=100-Math.max(...m);return t.jsx(qe.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});XU.displayName=yS;var vS="SliderThumb",QU=p.forwardRef((e,r)=>{const s=Jwe(e.__scopeSlider),[a,n]=p.useState(null),i=mt(r,l=>n(l)),o=p.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return t.jsx(tje,{...e,ref:i,index:o})}),tje=p.forwardRef((e,r)=>{const{__scopeSlider:s,index:a,name:n,...i}=e,o=hv(vS,s),l=KU(vS,s),[d,m]=p.useState(null),h=mt(r,C=>m(C)),f=d?o.form||!!d.closest("form"):!0,g=Vf(d),y=o.values[a],w=y===void 0?0:e7(y,o.min,o.max),b=aje(a,o.values.length),v=g==null?void 0:g[l.size],N=v?ije(v,w,l.direction):0;return p.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${N}px)`},children:[t.jsx(xS.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(qe.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:Fe(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),f&&t.jsx(ZU,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},a)]})});QU.displayName=vS;var rje="RadioBubbleInput",ZU=p.forwardRef(({__scopeSlider:e,value:r,...s},a)=>{const n=p.useRef(null),i=mt(n,a),o=gp(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("input",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(qe.input,{style:{display:"none"},...s,ref:i,defaultValue:r})});ZU.displayName=rje;function sje(e=[],r,s){const a=[...e];return a[s]=r,a.sort((n,i)=>n-i)}function e7(e,r,s){const i=100/(s-r)*(e-r);return xf(i,[0,100])}function aje(e,r){return r>2?`Value ${e+1} of ${r}`:r===2?["Minimum","Maximum"][e]:void 0}function nje(e,r){if(e.length===1)return 0;const s=e.map(n=>Math.abs(n-r)),a=Math.min(...s);return s.indexOf(a)}function ije(e,r,s){const a=e/2,i=b4([0,50],[0,a]);return(a-i(r)*s)*s}function oje(e){return e.slice(0,-1).map((r,s)=>e[s+1]-r)}function lje(e,r){if(r>0){const s=oje(e);return Math.min(...s)>=r}return!0}function b4(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function cje(e){return(String(e).split(".")[1]||"").length}function dje(e,r){const s=Math.pow(10,r);return Math.round(e*s)/s}var t7=HU,uje=JU,mje=XU,hje=QU;const qn=p.forwardRef(({className:e,...r},s)=>t.jsxs(t7,{ref:s,className:$e("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(uje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:t.jsx(mje,{className:"absolute h-full bg-emerald-500"})}),t.jsx(hje,{className:"block h-5 w-5 rounded-full border-2 border-emerald-500 bg-white shadow-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:pointer-events-none disabled:opacity-50 hover:bg-emerald-50"})]}));qn.displayName=t7.displayName;var fv="Switch",[fje,aCe]=Gs(fv),[pje,gje]=fje(fv),r7=p.forwardRef((e,r)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:m,form:h,...f}=e,[g,y]=p.useState(null),w=mt(r,S=>y(S)),b=p.useRef(!1),v=g?h||!!g.closest("form"):!0,[N,C]=Ei({prop:n,defaultProp:i??!1,onChange:m,caller:fv});return t.jsxs(pje,{scope:s,checked:N,disabled:l,children:[t.jsx(qe.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":i7(N),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:w,onClick:Fe(e.onClick,S=>{C(_=>!_),v&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),v&&t.jsx(n7,{control:g,bubbles:!b.current,name:a,value:d,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});r7.displayName=fv;var s7="SwitchThumb",a7=p.forwardRef((e,r)=>{const{__scopeSwitch:s,...a}=e,n=gje(s7,s);return t.jsx(qe.span,{"data-state":i7(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});a7.displayName=s7;var xje="SwitchBubbleInput",n7=p.forwardRef(({__scopeSwitch:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=mt(o,i),d=gp(s),m=Vf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});n7.displayName=xje;function i7(e){return e?"checked":"unchecked"}var o7=r7,yje=a7;const Fr=p.forwardRef(({className:e,...r},s)=>t.jsx(o7,{className:$e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-gray-600",e),...r,ref:s,children:t.jsx(yje,{className:$e("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fr.displayName=o7.displayName;var pv="Dialog",[l7,c7]=Gs(pv),[vje,Ui]=l7(pv),d7=e=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),d=p.useRef(null),[m,h]=Ei({prop:a,defaultProp:n??!1,onChange:i,caller:pv});return t.jsx(vje,{scope:r,triggerRef:l,contentRef:d,contentId:so(),titleId:so(),descriptionId:so(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:s})};d7.displayName=pv;var u7="DialogTrigger",m7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ui(u7,s),i=mt(r,n.triggerRef);return t.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":N4(n.open),...a,ref:i,onClick:Fe(e.onClick,n.onOpenToggle)})});m7.displayName=u7;var w4="DialogPortal",[bje,h7]=l7(w4,{forceMount:void 0}),f7=e=>{const{__scopeDialog:r,forceMount:s,children:a,container:n}=e,i=Ui(w4,r);return t.jsx(bje,{scope:r,forceMount:s,children:p.Children.map(a,o=>t.jsx(Sa,{present:s||i.open,children:t.jsx(Hf,{asChild:!0,container:n,children:o})}))})};f7.displayName=w4;var Rx="DialogOverlay",p7=p.forwardRef((e,r)=>{const s=h7(Rx,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Ui(Rx,e.__scopeDialog);return i.modal?t.jsx(Sa,{present:a||i.open,children:t.jsx(jje,{...n,ref:r})}):null});p7.displayName=Rx;var wje=bd("DialogOverlay.RemoveScroll"),jje=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ui(Rx,s);return t.jsx(ly,{as:wje,allowPinchZoom:!0,shards:[n.contentRef],children:t.jsx(qe.div,{"data-state":N4(n.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Md="DialogContent",g7=p.forwardRef((e,r)=>{const s=h7(Md,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Ui(Md,e.__scopeDialog);return t.jsx(Sa,{present:a||i.open,children:i.modal?t.jsx(Nje,{...n,ref:r}):t.jsx(Sje,{...n,ref:r})})});g7.displayName=Md;var Nje=p.forwardRef((e,r)=>{const s=Ui(Md,e.__scopeDialog),a=p.useRef(null),n=mt(r,s.contentRef,a);return p.useEffect(()=>{const i=a.current;if(i)return rC(i)},[]),t.jsx(x7,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,i=>i.preventDefault())})}),Sje=p.forwardRef((e,r)=>{const s=Ui(Md,e.__scopeDialog),a=p.useRef(!1),n=p.useRef(!1);return t.jsx(x7,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var d,m;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((m=s.triggerRef.current)==null?void 0:m.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),x7=p.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Ui(Md,s),d=p.useRef(null),m=mt(r,d);return VS(),t.jsxs(t.Fragment,{children:[t.jsx(ry,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:t.jsx(Bf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":N4(l.open),...o,ref:m,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(kje,{titleId:l.titleId}),t.jsx(Pje,{contentRef:d,descriptionId:l.descriptionId})]})]})}),j4="DialogTitle",y7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ui(j4,s);return t.jsx(qe.h2,{id:n.titleId,...a,ref:r})});y7.displayName=j4;var v7="DialogDescription",b7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ui(v7,s);return t.jsx(qe.p,{id:n.descriptionId,...a,ref:r})});b7.displayName=v7;var w7="DialogClose",j7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ui(w7,s);return t.jsx(qe.button,{type:"button",...a,ref:r,onClick:Fe(e.onClick,()=>n.onOpenChange(!1))})});j7.displayName=w7;function N4(e){return e?"open":"closed"}var N7="DialogTitleWarning",[Cje,S7]=jJ(N7,{contentName:Md,titleName:j4,docsSlug:"dialog"}),kje=({titleId:e})=>{const r=S7(N7),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},_je="DialogDescriptionWarning",Pje=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S7(_je).contentName}}.`;return p.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},C7=d7,k7=m7,_7=f7,S4=p7,C4=g7,k4=y7,_4=b7,P4=j7,P7="AlertDialog",[Aje,nCe]=Gs(P7,[c7]),pl=c7(),A7=e=>{const{__scopeAlertDialog:r,...s}=e,a=pl(r);return t.jsx(C7,{...a,...s,modal:!0})};A7.displayName=P7;var Eje="AlertDialogTrigger",E7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=pl(s);return t.jsx(k7,{...n,...a,ref:r})});E7.displayName=Eje;var Tje="AlertDialogPortal",T7=e=>{const{__scopeAlertDialog:r,...s}=e,a=pl(r);return t.jsx(_7,{...a,...s})};T7.displayName=Tje;var Oje="AlertDialogOverlay",O7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=pl(s);return t.jsx(S4,{...n,...a,ref:r})});O7.displayName=Oje;var em="AlertDialogContent",[Rje,Mje]=Aje(em),Ije=$Y("AlertDialogContent"),R7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,children:a,...n}=e,i=pl(s),o=p.useRef(null),l=mt(r,o),d=p.useRef(null);return t.jsx(Cje,{contentName:em,titleName:M7,docsSlug:"alert-dialog",children:t.jsx(Rje,{scope:s,cancelRef:d,children:t.jsxs(C4,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:Fe(n.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[t.jsx(Ije,{children:a}),t.jsx(Lje,{contentRef:o})]})})})});R7.displayName=em;var M7="AlertDialogTitle",I7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=pl(s);return t.jsx(k4,{...n,...a,ref:r})});I7.displayName=M7;var D7="AlertDialogDescription",L7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=pl(s);return t.jsx(_4,{...n,...a,ref:r})});L7.displayName=D7;var Dje="AlertDialogAction",$7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=pl(s);return t.jsx(P4,{...n,...a,ref:r})});$7.displayName=Dje;var z7="AlertDialogCancel",F7=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=Mje(z7,s),i=pl(s),o=mt(r,n);return t.jsx(P4,{...i,...a,ref:o})});F7.displayName=z7;var Lje=({contentRef:e})=>{const r=`\`${em}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${em}\` by passing a \`${D7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${em}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},$je=A7,zje=E7,Fje=T7,U7=O7,B7=R7,W7=$7,V7=F7,H7=I7,q7=L7;const pm=$je,bS=zje,Uje=Fje,K7=p.forwardRef(({className:e,...r},s)=>t.jsx(U7,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));K7.displayName=U7.displayName;const Id=p.forwardRef(({className:e,...r},s)=>t.jsxs(Uje,{children:[t.jsx(K7,{}),t.jsx(B7,{ref:s,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...r})]}));Id.displayName=B7.displayName;const Dd=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",e),...r});Dd.displayName="AlertDialogHeader";const Ld=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Ld.displayName="AlertDialogFooter";const $d=p.forwardRef(({className:e,...r},s)=>t.jsx(H7,{ref:s,className:$e("text-lg font-semibold",e),...r}));$d.displayName=H7.displayName;const zd=p.forwardRef(({className:e,...r},s)=>t.jsx(q7,{ref:s,className:$e("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));zd.displayName=q7.displayName;const gm=p.forwardRef(({className:e,...r},s)=>t.jsx(W7,{ref:s,className:$e(BS(),e),...r}));gm.displayName=W7.displayName;const xm=p.forwardRef(({className:e,...r},s)=>t.jsx(V7,{ref:s,className:$e(BS({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));xm.displayName=V7.displayName;const G7=({campaignId:e,teamMembers:r=[],invitations:s=[],onAddMember:a,onRemoveMember:n,onUpdateRole:i,onResendInvitation:o,onCancelInvitation:l,isEditable:d=!0})=>{const[m,h]=p.useState(""),[f,g]=p.useState("agent"),[y,w]=p.useState("campaign_leads"),[b,v]=p.useState(!1),{toast:N}=Vr(),C=async()=>{if(!m.trim()){N({title:"Error",description:"Please enter an email address",variant:"destructive"});return}if(r.some(R=>R.email===m)||s.some(R=>R.email===m&&R.status==="pending")){N({title:"Error",description:"This email is already a team member or has a pending invitation",variant:"destructive"});return}v(!0);try{await a(m,f),h(""),g("member"),N({title:"Invitation Sent",description:`Team invitation sent to ${m}`})}catch{N({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{v(!1)}},S=async(O,R)=>{try{await n(O),N({title:"Member Removed",description:`${R} has been removed from the campaign`})}catch{N({title:"Error",description:"Failed to remove team member",variant:"destructive"})}},_=async(O,R)=>{try{await i(O,R),N({title:"Role Updated",description:"Team member role has been updated"})}catch{N({title:"Error",description:"Failed to update role",variant:"destructive"})}},E=O=>{switch(O){case"owner":return t.jsx($f,{className:"h-4 w-4 text-yellow-500"});case"manager":return t.jsx(ja,{className:"h-4 w-4 text-blue-500"});case"agent":return t.jsx(Rt,{className:"h-4 w-4 text-emerald-500"});case"viewer":return t.jsx(Tr,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(Rt,{className:"h-4 w-4 text-gray-500"})}},A=O=>{switch(O){case"owner":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"agent":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"viewer":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},T=O=>{switch(O){case"active":return t.jsx(jt,{className:"h-4 w-4 text-emerald-500"});case"pending":return t.jsx(Ut,{className:"h-4 w-4 text-yellow-500"});case"declined":return t.jsx(Pi,{className:"h-4 w-4 text-red-500"});case"expired":return t.jsx(Lt,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(Ut,{className:"h-4 w-4 text-gray-500"})}},M=O=>{const R=`${window.location.origin}/invite/${O}`;navigator.clipboard.writeText(R),N({title:"Link Copied",description:"Invitation link copied to clipboard"})},z=O=>{switch(O){case"all_leads":return"Access to all CRM leads";case"campaign_leads":return"Access to campaign leads only";case"assigned_leads":return"Access to assigned leads only";case"no_access":return"No CRM access";default:return"Campaign leads only"}},V=O=>{switch(O){case"all_leads":return"text-red-400";case"campaign_leads":return"text-blue-400";case"assigned_leads":return"text-emerald-400";case"no_access":return"text-gray-400";default:return"text-blue-400"}};return t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(Rt,{className:"mr-2 h-5 w-5"}),"Team Members",t.jsxs(Pe,{variant:"outline",className:"ml-2 border-gray-600 text-gray-400",children:[r.length," members"]})]})}),t.jsxs(G,{className:"space-y-6",children:[d&&t.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("h4",{className:"flex items-center text-sm font-medium text-white",children:[t.jsx(zf,{className:"mr-2 h-4 w-4"}),"Invite Team Member"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Ee,{placeholder:"Enter email address",type:"email",value:m,onChange:O=>h(O.target.value),className:"border-gray-600 bg-gray-800 text-white",onKeyDown:O=>{O.key==="Enter"&&C()}})}),t.jsxs(tt,{value:f,onValueChange:g,children:[t.jsx(Qe,{className:"w-28 border-gray-600 bg-gray-800 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"manager",children:"Manager"}),t.jsx(ae,{value:"agent",children:"Agent"}),t.jsx(ae,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(tt,{value:y,onValueChange:w,children:[t.jsx(Qe,{className:"w-40 border-gray-600 bg-gray-800 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all_leads",children:"All CRM Leads"}),t.jsx(ae,{value:"campaign_leads",children:"Campaign Leads"}),t.jsx(ae,{value:"assigned_leads",children:"Assigned Only"}),t.jsx(ae,{value:"no_access",children:"No CRM Access"})]})]}),t.jsx(H,{onClick:C,disabled:b||!m.trim(),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:b?t.jsx(Ut,{className:"h-4 w-4 animate-spin"}):t.jsx(tc,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:`text-xs ${V(y)} ml-2`,children:[" ",z(y)]})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[" ",t.jsx("strong",{children:"Role & CRM Permissions:"}),t.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Manager:"})," Full campaign control + team management + CRM access"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Agent:"})," Campaign execution + lead management + CRM read/write"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Viewer:"})," Read-only campaign + limited CRM viewing"]})]}),t.jsxs("p",{className:"mt-2 text-xs text-blue-400",children:[" ",t.jsx("strong",{children:"CRM Access Levels:"})," All Leads (full CRM) | Campaign Leads (campaign-specific) | Assigned Only (individual leads) | No Access"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Current Members"}),r.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Rt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Invite team members to collaborate on this campaign"})]}):t.jsx("div",{className:"space-y-2",children:r.map(O=>{var R;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(jd,{className:"h-8 w-8",children:[t.jsx(im,{src:O.avatarUrl,alt:O.email}),t.jsx(Nd,{className:"bg-gray-700 text-gray-300",children:((R=O.firstName)==null?void 0:R[0])||O.email[0].toUpperCase()})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"text-sm font-medium text-white",children:O.firstName&&O.lastName?`${O.firstName} ${O.lastName}`:O.email}),T(O.status)]}),t.jsx("p",{className:"text-xs text-gray-400",children:O.email}),t.jsxs("p",{className:`text-xs ${V(O.crmAccessLevel||"campaign_leads")}`,children:[" ",z(O.crmAccessLevel||"campaign_leads")]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(Pe,{variant:"outline",className:A(O.role),children:[E(O.role),t.jsx("span",{className:"ml-1 capitalize",children:O.role})]}),d&&O.role!=="owner"&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(tt,{value:O.role,onValueChange:$=>_(O.id,$),children:[t.jsx(Qe,{className:"h-8 w-24 border-gray-600 bg-gray-800 text-xs text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"manager",children:"Manager"}),t.jsx(ae,{value:"agent",children:"Agent"}),t.jsx(ae,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(pm,{children:[t.jsx(bS,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",children:t.jsx(ds,{className:"h-3 w-3"})})}),t.jsxs(Id,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(Dd,{children:[t.jsx($d,{className:"text-white",children:"Remove Team Member"}),t.jsxs(zd,{className:"text-gray-400",children:["Are you sure you want to remove ",O.email," from this campaign? They will lose access immediately."]})]}),t.jsxs(Ld,{children:[t.jsx(xm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(gm,{onClick:()=>S(O.id,O.email),className:"bg-red-600 text-white hover:bg-red-700",children:"Remove"})]})]})]})]})]})]},O.id)})})]}),s.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-2",children:s.map(O=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-yellow-500/5 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(na,{className:"h-5 w-5 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:O.email}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Invited ",new Date(O.createdAt).toLocaleDateString()," "," ","Expires ",new Date(O.expiresAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(Pe,{variant:"outline",className:A(O.role),children:[E(O.role),t.jsx("span",{className:"ml-1 capitalize",children:O.role})]}),t.jsxs(Pe,{variant:"outline",className:"border-yellow-500/30 text-yellow-400",children:[T(O.status),t.jsx("span",{className:"ml-1 capitalize",children:O.status})]}),d&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>M(O.invitationToken),className:"h-8 w-8 p-0 text-gray-400 hover:text-white",title:"Copy invitation link",children:t.jsx(Hn,{className:"h-3 w-3"})}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>o(O.id),className:"h-8 w-8 p-0 text-gray-400 hover:text-emerald-400",title:"Resend invitation",children:t.jsx(tc,{className:"h-3 w-3"})}),t.jsxs(pm,{children:[t.jsx(bS,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",title:"Cancel invitation",children:t.jsx(ds,{className:"h-3 w-3"})})}),t.jsxs(Id,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(Dd,{children:[t.jsx($d,{className:"text-white",children:"Cancel Invitation"}),t.jsxs(zd,{className:"text-gray-400",children:["Are you sure you want to cancel the invitation for ",O.email,"?"]})]}),t.jsxs(Ld,{children:[t.jsx(xm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Keep Invitation"}),t.jsx(gm,{onClick:()=>l(O.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Cancel Invitation"})]})]})]})]})]})]},O.id))})]}),t.jsx("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/5 p-3",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(Cs,{className:"h-4 w-4 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400",children:"Team Management"}),t.jsxs("ul",{className:"mt-1 text-xs text-gray-300 space-y-0.5",children:[t.jsx("li",{children:" Only campaign owners and managers can invite team members"}),t.jsx("li",{children:" Team members can collaborate on campaign execution and analytics"}),t.jsx("li",{children:" Invitations expire after 7 days and can be resent"}),e&&t.jsx("li",{children:" Changes take effect immediately for this campaign"})]})]})]})})]})]})};class Bje{constructor(){Es(this,"baseUrl","/organization-settings")}async getSettings(){return(await qs.get(this.baseUrl)).data}async getSetting(r){return(await qs.get(`${this.baseUrl}/${r}`)).data}async setSetting(r,s,a=!1){await qs.post(`${this.baseUrl}/${r}`,{value:s,encrypted:a})}async deleteSetting(r){await qs.delete(`${this.baseUrl}/${r}`)}async bulkUpdateSettings(r){return(await qs.put(`${this.baseUrl}/bulk`,{settings:r})).data}async getVapiCredentials(){return(await qs.get(`${this.baseUrl}/vapi/credentials`)).data}async setVapiApiKey(r){await this.setSetting("vapi_api_key",r,!0)}async setVapiWebhookSecret(r){await this.setSetting("vapi_webhook_secret",r,!0)}async setVapiPhoneNumbers(r){await this.setSetting("vapi_phone_numbers",r,!1)}async setVapiAssistants(r){await this.setSetting("vapi_assistants",r,!1)}async setMaxConcurrentCalls(r){await this.setSetting("max_concurrent_calls",r,!1)}async setDefaultUserRole(r){await this.setSetting("default_user_role",r,!1)}async setOrganizationName(r){await this.setSetting("organization_name",r,!1)}async setBillingEmail(r){await this.setSetting("billing_email",r,!1)}async setComplianceSettings(r){await this.setSetting("compliance_settings",r,!1)}async getSettingWithFallback(r,s=null){var a;try{return(await this.getSetting(r)).value}catch(n){if(((a=n.response)==null?void 0:a.status)===404)return s;throw n}}async hasCapability(r){try{const s=await this.getSettings();switch(r){case"vapi_integration":return!!s.settings.vapi_api_key;case"webhooks":return!!s.settings.vapi_webhook_secret;case"phone_numbers":return Array.isArray(s.settings.vapi_phone_numbers)&&s.settings.vapi_phone_numbers.length>0;case"assistants":return Array.isArray(s.settings.vapi_assistants)&&s.settings.vapi_assistants.length>0;default:return!1}}catch(s){return console.error(`Error checking capability ${r}:`,s),!1}}async getCampaignDefaults(){const[r,s,a,n]=await Promise.all([this.getSettingWithFallback("max_concurrent_calls",10),this.getSettingWithFallback("default_working_hours",{enabled:!0,timezone:"America/New_York",hours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}}),this.getSettingWithFallback("compliance_settings",{tcpa_enabled:!0,do_not_call_enabled:!0,recording_consent:!0}),this.getVapiCredentials()]);return{maxConcurrentCalls:r,defaultWorkingHours:s,complianceSettings:a,vapiCredentials:n}}async testVapiConnection(){var r,s,a;try{return(await qs.post("/vapi/test-connection")).data}catch(n){return{success:!1,message:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.message)||"Connection test failed",details:(a=n.response)==null?void 0:a.data}}}async syncVapiResources(){try{const r=await qs.post("/vapi/sync-resources");return r.data.phoneNumbers&&await this.setVapiPhoneNumbers(r.data.phoneNumbers),r.data.assistants&&await this.setVapiAssistants(r.data.assistants),r.data}catch(r){throw console.error("Error syncing VAPI resources:",r),r}}async exportSettings(){return(await this.getSettings()).settings}async importSettings(r,s=!1){const a={};for(const[n,i]of Object.entries(r))n.includes("api_key")||n.includes("secret")||n.includes("password")||(a[n]={value:i,encrypted:!1});await this.bulkUpdateSettings(a)}}const Mx=new Bje,Wje="https://api.vapi.ai";let Wu=null;async function Vje(){if(Wu)return Wu;try{const e=localStorage.getItem("organization_id");console.log(" Stored organization ID:",e);const r=e||"2566d8c5-2245-4a3c-b539-4cea21a07d9b",{data:s,error:a}=await Xe.from("organizations").select("vapi_api_key, vapi_private_key, vapi_public_key, name").eq("id",r).single();if(console.log(" Organization data:",s),a)return console.error("Error fetching org:",a),null;const n=(s==null?void 0:s.vapi_private_key)||(s==null?void 0:s.vapi_api_key)||(s==null?void 0:s.vapi_public_key);return n?(Wu=n,localStorage.setItem("vapi_public_key",n),localStorage.setItem("vapi_key_cached_at",Date.now().toString()),console.log(" Loaded Apex key from organization:",s.name),console.log(" Using key:",n.substring(0,10)+"..."),n):(console.warn(" Organization has no Apex API key configured"),console.log(" Org data:",s),null)}catch(e){console.error("Error fetching organization Apex key:",e);const r=localStorage.getItem("vapi_public_key"),s=localStorage.getItem("vapi_key_cached_at");return r&&s&&Date.now()-parseInt(s)<300*1e3?(Wu=r,r):null}}async function Vc(e,r={}){const s=await Vje();if(!s)throw console.warn(" No Apex API key found for organization"),new Error("Apex API keys not configured. Please contact your administrator to set up Apex integration in Organization Settings.");const a=await fetch(`${Wje}${e}`,{...r,headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json",...r.headers}});if(!a.ok)throw new Error(`Apex API Error: ${a.status} ${a.statusText}`);return a.json()}const u3={setApiKey(e){Wu=e,localStorage.setItem("vapi_public_key",e)},clearCache(){Wu=null,localStorage.removeItem("vapi_public_key")},async getAssistants(){try{const e=await Vc("/assistant");return Array.isArray(e)?e:[]}catch(e){return console.error("Error fetching assistants:",e),[]}},async getAssistant(e){return Vc(`/assistant/${e}`)},async getPhoneNumbers(){try{const e=await Vc("/phone-number");return Array.isArray(e)?e:[]}catch(e){return console.error("Error fetching phone numbers:",e),[]}},async getPhoneNumber(e){return Vc(`/phone-number/${e}`)},async createCall(e){return Vc("/call",{method:"POST",body:JSON.stringify({assistant:{assistantId:e.assistantId},phoneNumberId:e.phoneNumberId,customer:e.customer})})},async getCall(e){return Vc(`/call/${e}`)},async getCalls(e){const r=new URLSearchParams;e!=null&&e.assistantId&&r.set("assistantId",e.assistantId),e!=null&&e.limit&&r.set("limit",e.limit.toString());const s=r.toString()?`/call?${r.toString()}`:"/call";return Vc(s)},async testConnection(){try{const[e,r]=await Promise.all([this.getAssistants(),this.getPhoneNumbers()]);return{success:!0,message:`Connected! Found ${e.length} assistants and ${r.length} phone numbers`}}catch(e){return{success:!1,message:e.message||"Failed to connect to Apex"}}}},Hje=({onCampaignCreated:e,onCancel:r})=>{var li,Vi,Cc;const[s,a]=p.useState(1),[n,i]=p.useState(""),[o,l]=p.useState("outbound"),[d,m]=p.useState(""),[h,f]=p.useState(""),[g,y]=p.useState("later"),[w,b]=p.useState(null),[v,N]=p.useState(!1),[C,S]=p.useState("today"),[_,E]=p.useState("06:32 PM"),[A,T]=p.useState("Europe/Malta (GMT+2)"),[M,z]=p.useState([]),[V,O]=p.useState([]),[R,$]=p.useState([]),[B,U]=p.useState(!0),[te,L]=p.useState(5),[F,q]=p.useState(20),[ee,W]=p.useState(!0),[Z,ve]=p.useState(10),[ne,I]=p.useState(1),[we,le]=p.useState("smart"),[ke,J]=p.useState(3),[Ce,fe]=p.useState(60),[Q,he]=p.useState(["no_answer","busy","failed"]),[Se,Te]=p.useState({}),[ce,Ve]=p.useState([]),[ht,de]=p.useState({minCallDuration:60,autoAcceptScore:80,requireAllFields:!1,disqualifiers:[]}),[Le,nt]=p.useState([]),[xt,ar]=p.useState(!0),[qr,Gt]=p.useState("America/New_York"),[Zt,Kr]=p.useState(!0),[gr,Ye]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[xr,kr]=p.useState(!0),[_a,ur]=p.useState([]),[fs,Yt]=p.useState(!0),[on,Mt]=p.useState(!0),[zt,oe]=p.useState(30),[Ne,Be]=p.useState(["US"]),[lt,Nt]=p.useState(!0),[ir,_t]=p.useState(0),[Pa,_s]=p.useState(!1),[Aa,oa]=p.useState(""),[as,ps]=p.useState([]),[$s,Wa]=p.useState([]),[Xs,Va]=p.useState(!1),[Ea,Bi]=p.useState(2),[Pt,nr]=p.useState(null),[Oe,ot]=p.useState(.18),[ft,Tt]=p.useState(10),[It,Wi]=p.useState(null),[oi,la]=p.useState(!1),[Mr,Ha]=p.useState(null),[Nc,or]=p.useState("skip"),[An,En]=p.useState(null);p.useEffect(()=>{s>1?(_s(!0),s===2?oa("rateLimiting"):s===3?oa("retryLogic"):s===4?oa("workingHours"):s===5?oa("teamManagement"):s===6&&oa("review")):(_s(!1),oa(""))},[s]),p.useEffect(()=>{console.log(" Assistants state updated:",R.length,"items"),R.length>0&&console.log(" First assistant:",R[0])},[R]),p.useEffect(()=>{console.log(" Phone numbers state updated:",V.length,"items"),V.length>0&&console.log(" First phone number:",V[0])},[V]),p.useRef(!1);const{toast:gs}=Vr();wp();const{userContext:zs}=dl(),{user:No}=Ud();p.useEffect(()=>{zs!=null&&zs.organization_id&&(localStorage.setItem("organization_id",zs.organization_id),console.log(" Stored organization ID:",zs.organization_id)),gl();const Re=setTimeout(()=>{Jd()},500);return()=>clearTimeout(Re)},[zs]);const Jd=async()=>{try{U(!0);const[Re,Ue]=await Promise.all([u3.getAssistants(),u3.getPhoneNumbers()]);console.log(` Loaded ${Re.length} assistants`),console.log(` Loaded ${Ue.length} phone numbers`),$(Re),O(Ue),Re.length>0||Ue.length>0?gs({title:"Apex Connected",description:`Loaded ${Re.length} assistants and ${Ue.length} phone numbers`,variant:"default"}):gs({title:"No Apex Resources",description:"Please create assistants and phone numbers in your Apex dashboard",variant:"default"})}catch(Re){console.error(" Failed to load Apex data:",Re),$([]),O([]),gs({title:"Apex Configuration Required",description:"Your organization admin needs to add Apex API keys in Settings > Details > Apex API Keys",variant:"destructive"})}finally{U(!1)}},gl=async()=>{var Re;try{const Ue=await Mx.getCampaignDefaults();Ue.maxConcurrentCalls&&Tt(Ue.maxConcurrentCalls),(Re=Ue.defaultWorkingHours)!=null&&Re.enabled&&(ar(!0),Ue.defaultWorkingHours.timezone&&Gt(Ue.defaultWorkingHours.timezone),Ue.defaultWorkingHours.hours&&Ye(Ue.defaultWorkingHours.hours)),console.log(" Organization defaults loaded successfully")}catch(Ue){console.warn(" Could not load organization defaults, using built-in defaults:",Ue),Tt(5),q(20),ar(!0)}};p.useEffect(()=>{s===6&&M.length>0&&qa()},[s,M.length,Ea,Pt,Oe,ft]);const qa=()=>{const Re=M.length,Ue=we==="basic"?2:we==="smart"?3:5,yt=xt?8:24,Ct=Re*(1+Ue),br=Ct*Ea,Ta=Ct*Ea/ft*1.1/60/yt,St=br*Oe;let Tn="healthy",ys=0;Pt!==null&&(Pt<St*.5?(Tn="critical",ys=Math.ceil((St*1.2-Pt)/10)*10):Pt<St&&(Tn="warning",ys=Math.ceil((St*1.2-Pt)/10)*10)),Wi({totalAttempts:Ct,totalMinutes:Math.round(br),totalCost:Math.round(St*100)/100,campaignDays:Math.round(Ta*10)/10,recommendedTopUp:ys,balanceStatus:Tn})},Sc={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting Apex's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},qualificationCriteria:{title:" Lead Qualification Criteria",description:" Define what makes a qualified lead for your campaign",content:`
##  What is Lead Qualification?

Lead qualification helps you automatically identify and prioritize the most promising prospects from your calling campaigns. The AI analyzes call transcripts to detect specific qualification signals you define.

###  Why Lead Qualification Matters

** Better ROI**
-  Focus follow-up efforts on most promising leads
-  Save time by auto-filtering unqualified prospects
-  Increase conversion rates by 40-60%
-  Scale your sales process efficiently

** AI-Powered Detection**
-  Automatically analyzes call transcripts
-  Tags leads based on qualification criteria
-  Scores leads on multiple dimensions
-  Customizable to your specific needs

###  Preset Qualification Fields

We provide **22 preset fields** across 9 categories that cover most common qualification scenarios:

** Appointment & Follow-up**
-  Appointment Booked (90% weight)
-  Callback Requested (30% weight)
-  Demo Requested (80% weight)

** Interest Level**
-  High Interest Expressed (70% weight)
-  Asking Detailed Questions (50% weight)
-  Use Case Mentioned (60% weight)

** Timeline**
-  Urgent Need (85% weight)
-  Timeline Mentioned (40% weight)

** Budget & Authority**
-  Budget Mentioned (75% weight)
-  Budget Qualified (85% weight)
-  Decision Maker (80% weight)
-  Authority Confirmed (40% weight)

** Pain Points**
-  Pain Point Expressed (65% weight)
-  Problem Fit Confirmed (75% weight)

** Competitor Info**
-  Using Competitor (45% weight)
-  Competitor Dissatisfaction (70% weight)

** Contact Info**
-  Email Provided (35% weight)
-  Best Time to Call (25% weight)
-  Additional Contacts (30% weight)

** Company Info**
-  Company Size Mentioned (40% weight)
-  Industry Mentioned (30% weight)
-  Company Name Confirmed (20% weight)

###  Scoring Weights Explained

Each field has a **scoring weight** (0-100%) that determines its importance:

- **90-100%**: Critical buying signals (appointments, budget qualified)
- **70-89%**: Strong indicators (high interest, pain points)
- **50-69%**: Important context (questions, use cases)
- **30-49%**: Supporting information (company details, timeline)
- **0-29%**: Nice to have (contact preferences)

###  Custom Fields

Beyond presets, you can add **unlimited custom fields** specific to your business:

**Examples:**
-  Healthcare: "Insurance Type", "Patient Volume"
-  Construction: "Project Size", "Timeline to Break Ground"
-  Software: "Current Tech Stack", "Integration Requirements"
-  Retail: "Store Locations", "Annual Revenue"

###  Winning Criteria

Define what combination of fields makes a "winning" lead:

**Minimum Call Duration**
-  Set minimum seconds for qualification (default: 60s)
-  Short calls automatically disqualified
-  Ensures meaningful conversation occurred

**Auto-Accept Score**
-  Leads scoring above threshold auto-qualify (default: 80%)
-  Speeds up lead processing
-  Focuses human review on borderline cases

**Required Fields**
-  Must-have information for qualification
-  Missing required fields = automatic review
-  Examples: Budget range, decision maker status

**Disqualifiers**
-  Automatic rejection triggers
-  Examples: "Already a customer", "Not interested"
-  Saves time on dead-end leads

###  Configuration Tips

** Start Focused**
- Begin with 5-8 critical fields
- Add more as you learn what matters
- Quality over quantity

** Monitor Performance**
- Track which fields best predict conversions
- Adjust weights based on results
- Remove fields that don't correlate

** Industry Alignment**
- Choose fields relevant to your sales process
- Consider your typical buyer journey
- Match your CRM requirements

** Balance Automation**
- Higher auto-accept threshold = fewer false positives
- Lower threshold = more leads need review
- Find your sweet spot through testing

###  Advanced Strategies

** Progressive Qualification**
- Start with basic fields
- Add detailed fields as campaign matures
- Refine based on conversion data

** Segment-Specific Criteria**
- Different criteria for enterprise vs SMB
- Industry-specific qualification
- Geographic considerations

** AI Learning**
- System improves detection over time
- Learns your specific language patterns
- Adapts to your market terminology

###  Best Practices

 **Review Sample Calls**: Listen to calls that barely qualified/disqualified
 **Iterate Quickly**: Adjust criteria based on first 50-100 calls
 **Team Alignment**: Ensure sales team agrees with criteria
 **CRM Integration**: Map fields to your CRM for seamless handoff
 **Regular Audits**: Review criteria quarterly for relevance
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** Apex API Limits**
-  Apex may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check Apex account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Apex hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Apex plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Apex dashboard
      `}},X=Re=>{oa(Re),_s(!0)},_e=()=>{const Re=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,Ue=new Blob([Re],{type:"text/csv"}),yt=window.URL.createObjectURL(Ue),Ct=document.createElement("a");Ct.href=yt,Ct.download="campaign-template.csv",document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct),window.URL.revokeObjectURL(yt)},_r=Re=>{var yt;const Ue=(yt=Re.target.files)==null?void 0:yt[0];if(Ue&&Ue.type==="text/csv"){b(Ue);const Ct=new FileReader;Ct.onload=br=>{var ys,ln;const Ta=((ys=br.target)==null?void 0:ys.result).split(`
`),St=((ln=Ta[0])==null?void 0:ln.split(",").map(Ir=>Ir.trim()))||[],Tn=Ta.slice(1).filter(Ir=>Ir.trim()).map(Ir=>{const ca=Ir.split(",").map(Oa=>Oa.trim()),Dr={};return St.forEach((Oa,Co)=>{Dr[Oa]=ca[Co]||""}),Dr});z(Tn)},Ct.readAsText(Ue)}else gs({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},xs=()=>{if(s===1){if(!n||!d||!h||!w){gs({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}a(2)}else s===2?a(3):s===3?a(4):s===4?a(5):s===5&&a(6)},Gr=()=>{s===6?a(5):s===5?a(4):s===4?a(3):s===3?a(2):s===2?a(1):r()},Ka=async()=>{var Re,Ue,yt,Ct;console.log(" Starting campaign creation..."),console.log("Campaign data:",{name:n,phoneNumber:d,assistant:h,csvFile:w==null?void 0:w.name,whenToSend:g}),N(!0);try{let br={vapiCredentials:null,maxConcurrentCalls:ft||5,complianceSettings:null};try{br=await Mx.getCampaignDefaults(),console.log(" Got organization defaults:",br)}catch(Ir){console.warn(" Could not get organization defaults, using fallbacks:",Ir)}const Ta=[{id:"current-user",email:"user@example.com",role:"owner",status:"active",firstName:"Current",lastName:"User",joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...as];let St;if(M.length>0){const Ir=Object.keys(M[0]),ca=M.map(Dr=>Ir.map(Oa=>Dr[Oa]||"").join(","));St=[Ir.join(","),...ca].join(`
`)}const Tn={name:n,assistantId:h,phoneNumberId:d,csvData:St,sendTiming:g,settings:{callsPerHour:ee?F:60,callsPerMinute:ee?te:10,retryAttempts:2,timeZone:qr,workingHours:{enabled:xt,start:"09:00",end:"17:00",defaultTimezone:qr,useContactTimezone:Zt,schedule:gr,excludeHolidays:xr,customHolidays:_a,respectDST:fs},rateLimiting:{enabled:ee,callsPerMinute:te,callsPerHour:F,customConcurrency:ft,delayBetweenCalls:ne},retryStrategy:we},qualificationCriteria:{selectedFields:Se,customFields:ce,winningCriteria:ht},teamManagement:{enabled:Xs||Ta.length>1,members:Ta,invitations:$s},organizationSettings:{vapiCredentials:br.vapiCredentials,maxConcurrentCalls:br.maxConcurrentCalls,complianceSettings:br.complianceSettings}};console.log(" Creating campaign in Supabase...");const{data:ys,error:ln}=await Xe.from("campaigns").insert({name:n,organization_id:(zs==null?void 0:zs.organization_id)||localStorage.getItem("organization_id"),created_by:(No==null?void 0:No.id)||null,status:g==="now"?"active":"draft",type:o,description:`Campaign with ${M.length} contacts`,settings:{assistant_id:h,phone_number_id:d,csv_data:St,total_leads:M.length,whenToSend:g,scheduleDate:C,scheduleTime:_,timezone:A,callsPerMinute:te,callsPerHour:F,enableRateLimiting:ee,customConcurrency:Z,delayBetweenCalls:ne,concurrentCalls:ft,avgCallDuration:Ea,costPerMinute:Oe,currentBalance:Pt,retryStrategy:we,maxRetryAttempts:ke,retryInterval:Ce,retryConditions:Q,workingHoursEnabled:xt,workingHours:gr,defaultTimezone:qr,winningCriteria:ht,disqualifyingFactors:Le,teamMembers:Ta,teamInvitations:$s},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(ln)throw console.error(" Supabase error:",ln),new Error(ln.message);if(console.log(" Campaign created:",ys),g==="now"){const{error:Ir}=await Xe.from("campaigns").update({status:"active",settings:{...ys.settings,started_at:new Date().toISOString()}}).eq("id",ys.id);Ir&&console.error(" Error starting campaign:",Ir)}try{const Ir=`/api/campaigns/${ys.id}/on-create`;console.log(" Calling backend on-create endpoint:",Ir),console.log(" Campaign ID:",ys.id);const ca=await fetch(Ir,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handleDuplicates:"ask"})});if(console.log(" Response status:",ca.status),!ca.ok){const Oa=await ca.text();throw console.error(" Backend on-create failed:",ca.status,Oa),new Error(`Backend returned ${ca.status}: ${Oa}`)}const Dr=await ca.json();if(console.log(" On-create result:",JSON.stringify(Dr,null,2)),console.log(" requiresAction:",Dr.requiresAction),console.log(" action:",Dr.action),console.log(" duplicateInfo:",Dr.duplicateInfo),Dr.requiresAction&&Dr.action==="duplicate_found"){console.log(" Duplicates found, showing warning modal..."),console.log(" duplicateInfo details:",JSON.stringify(Dr.duplicateInfo,null,2)),Ha(Dr.duplicateInfo),En(ys.id),la(!0),gs({title:"Duplicate contacts found",description:Dr.duplicateInfo.message,variant:"default"}),N(!1);return}(Dr.leadsImported>0||Dr.callsInitiated>0)&&gs({title:"Campaign ready",description:`Imported ${Dr.leadsImported||0} leads. ${Dr.callsInitiated||0} call(s) initiated.`})}catch(Ir){console.warn(" Backend on-create call failed (leads may need manual import):",Ir)}gs({title:"Campaign created",description:`Campaign "${n}" has been created successfully!`}),e(ys)}catch(br){console.error(" Error creating campaign:",br),console.error("Error details:",{message:br.message,response:(Re=br.response)==null?void 0:Re.data,status:(Ue=br.response)==null?void 0:Ue.status});const So=((Ct=(yt=br.response)==null?void 0:yt.data)==null?void 0:Ct.message)||br.message||"Failed to create campaign. Please try again.";gs({title:"Error",description:So,variant:"destructive"})}finally{N(!1)}};return t.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:[t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Gr,className:"text-gray-400 hover:text-white",children:t.jsx(mc,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["New campaign ",s===2&&"- Rate Limiting",s===3&&"- Retry Logic",s===4&&"- Working Hours",s===5&&"- Team Management",s===6&&"- Review & Launch"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${s===1||Pa?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(Ee,{id:"campaign-name",value:n,onChange:Re=>i(Re.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(re,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${o==="outbound"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>l("outbound"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="outbound"?"border-emerald-500":"border-gray-600"}`,children:o==="outbound"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(re,{className:"text-white font-medium",children:"Outbound"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(re,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(tt,{value:d,onValueChange:m,disabled:B,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{placeholder:B?"Loading...":"Select"})}),t.jsx(Ze,{className:"bg-gray-800 border-gray-700",children:V.length===0?t.jsx(ae,{value:"none",disabled:!0,children:"No phone numbers available"}):V.map(Re=>t.jsxs(ae,{value:Re.id,children:[Re.number," ",Re.name?`(${Re.name})`:""]},Re.id))})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(H,{variant:"link",onClick:_e,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Yo,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),w?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yo,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:w.name})]}),t.jsx("button",{onClick:()=>{b(null),z([])},className:"text-gray-400 hover:text-white",children:t.jsx(At,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:_r,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs(tt,{value:h,onValueChange:f,disabled:B,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{placeholder:B?"Loading...":"Select"})}),t.jsx(Ze,{className:"bg-gray-800 border-gray-700",children:R.length===0?t.jsx(ae,{value:"none",disabled:!0,children:B?"Loading...":"No assistants available - Check Apex configuration"}):R.map(Re=>t.jsx(ae,{value:Re.id,children:Re.name},Re.id))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(re,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="now"?"border-emerald-500":"border-gray-600"}`,children:g==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(re,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="later"?"border-emerald-500":"border-gray-600"}`,children:g==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(re,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),g==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(re,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(tt,{value:C,onValueChange:S,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"today",children:"Today"}),t.jsx(ae,{value:"tomorrow",children:"Tomorrow"}),t.jsx(ae,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(Ee,{type:"text",value:_,onChange:Re=>E(Re.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(tt,{value:A,onValueChange:T,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(ae,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(ae,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(ae,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(ae,{value:"Europe/London",children:"London (GMT)"}),t.jsx(ae,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),g==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),s===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ws,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(ws,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>X("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Fr,{checked:ee,onCheckedChange:W})]}),ee&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>X("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[te," calls/min"]})]}),t.jsx(qn,{value:[te],onValueChange:Re=>L(Re[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>X("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[F," calls/hr"]})]}),t.jsx(qn,{value:[F],onValueChange:Re=>q(Re[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>X("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[Z," concurrent"]})]}),t.jsx(qn,{value:[Z],onValueChange:Re=>ve(Re[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>X("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[ne,"s delay"]})]}),t.jsx(qn,{value:[ne],onValueChange:Re=>I(Re[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(za,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(te*60,F)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",M.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:M.length>0?`~${Math.max(1,Math.ceil(M.length/Math.min(te*60,F)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[te,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:Z})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[ne,"s"]})]})]})})]}),(te>10||Z>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ms,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),s===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Sr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(Sr,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>X("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(re,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs(Jl,{value:we,onValueChange:Re=>{console.log(" Retry strategy changed to:",Re),le(Re),Re==="basic"?J(2):Re==="smart"?J(3):Re==="conservative"&&J(5)},className:"space-y-3",children:[t.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors cursor-pointer",children:[t.jsx(sa,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:" Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors cursor-pointer",children:[t.jsx(sa,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:" Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors cursor-pointer",children:[t.jsx(sa,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:" Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Sr,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",we==="basic"&&"Basic (1-2 retries)",we==="smart"&&"Smart (3-5 retries) - Recommended",we==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),s===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Xn,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Xn,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>X("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Fr,{checked:xt,onCheckedChange:ar})]}),xt&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(cs,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(gr).map(([Re,Ue])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Fr,{checked:Ue.enabled,onCheckedChange:yt=>Ye(Ct=>({...Ct,[Re]:{...Ct[Re],enabled:yt}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:Re}),Ue.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(Ee,{type:"text",value:Ue.start,onChange:yt=>Ye(Ct=>({...Ct,[Re]:{...Ct[Re],start:yt.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(Ee,{type:"text",value:Ue.end,onChange:yt=>Ye(Ct=>({...Ct,[Re]:{...Ct[Re],end:yt.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!Ue.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},Re))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(Cs,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Fr,{checked:xr,onCheckedChange:kr})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Fr,{checked:fs,onCheckedChange:Yt})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Xn,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",qr.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(gr).filter(([Re,Ue])=>Ue.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",gr.monday.enabled?`${gr.monday.start} - ${gr.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[xr&&"Holiday exclusion",fs&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(ws,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(Sr,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>X("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to Apex based on their local time"})]})]}),t.jsx(Fr,{checked:lt,onCheckedChange:Nt})]})}),lt&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(re,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:zt}),t.jsx(qn,{value:[zt],onValueChange:Re=>oe(Re[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),ir>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ht,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[ir," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(cs,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(Re=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Ne.includes(Re),onChange:Ue=>{Ue.target.checked?Be(yt=>[...yt,Re]):Be(yt=>yt.filter(Ct=>Ct!==Re))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:Re})]},Re))})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(Ee,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:Re=>{const Ue=Re.target.value.split(",").map(yt=>yt.trim()).filter(yt=>yt);ur(Ue)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(cs,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",qr]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",Ne.length>0?Ne.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[xr&&"Holiday exclusion",fs&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),s===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Rt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Rt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>X("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Fr,{checked:Xs,onCheckedChange:Va})]}),Xs?t.jsx(G7,{teamMembers:as,invitations:$s,onAddMember:async(Re,Ue)=>{const yt={id:`inv-${Date.now()}`,email:Re,role:Ue,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:Ue==="manager"?"all_leads":Ue==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ue==="manager"||Ue==="agent",delete:Ue==="manager",export:Ue==="manager"||Ue==="agent",assign:Ue==="manager"}};Wa(Ct=>[...Ct,yt])},onRemoveMember:async Re=>{ps(Ue=>Ue.filter(yt=>yt.id!==Re))},onUpdateRole:async(Re,Ue)=>{ps(yt=>yt.map(Ct=>Ct.id===Re?{...Ct,role:Ue,crmAccessLevel:Ue==="manager"?"all_leads":Ue==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ue==="manager"||Ue==="agent",delete:Ue==="manager",export:Ue==="manager"||Ue==="agent",assign:Ue==="manager"}}:Ct))},onResendInvitation:async Re=>{console.log("Resending invitation:",Re)},onCancelInvitation:async Re=>{Wa(Ue=>Ue.filter(yt=>yt.id!==Re))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(Rt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(H,{onClick:()=>Va(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),Xs&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Rt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",as.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",$s.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",as.length+$s.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),s===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(za,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(Sr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",n]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:M.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:we})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:xt?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:as.length+$s.length})]})]})]}),It&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:It.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:It.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[It.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(ft/Ea).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",ft]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Qr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Ee,{type:"number",value:Ea,onChange:Re=>Bi(Number(Re.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Apex Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",Oe.toFixed(2)]})]})]})]}),It&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",It.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[It.totalMinutes.toLocaleString()," minutes  $",Oe,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(FS,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Current Apex Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(Ee,{type:"number",placeholder:"Enter your current balance",value:Pt||"",onChange:Re=>nr(Re.target.value?Number(Re.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(Ai,{className:"w-3 h-3 ml-1"})]})]})]}),Pt!==null&&It&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${It.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":It.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[It.balanceStatus==="healthy"?t.jsx(jt,{className:"w-5 h-5 text-emerald-400"}):It.balanceStatus==="warning"?t.jsx(Ms,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Lt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${It.balanceStatus==="healthy"?"text-emerald-300":It.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:It.balanceStatus==="healthy"?"Balance Healthy":It.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",Pt.toLocaleString()," | Required: $",It.totalCost.toLocaleString()," |",It.balanceStatus==="healthy"?` Surplus: $${(Pt-It.totalCost).toLocaleString()}`:` Deficit: $${(It.totalCost-Pt).toLocaleString()}`]})]}),It.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",It.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Apex Dashboard",t.jsx(Ai,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Ht,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Apex plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),It&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(rc,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:It.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",It.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:It.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(H,{variant:"outline",onClick:Gr,disabled:v,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:s===1?"Cancel":"Back"}),t.jsx(H,{onClick:s===6?Ka:xs,disabled:v,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:s===6?v?"Creating...":"Launch campaign":"Next"})]})})]}),s===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:w&&M.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",M.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(M[0]||{}).map((Re,Ue)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:Re},Re))})}),t.jsx("tbody",{children:M.map((Re,Ue)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(Re).map((yt,Ct)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:yt,children:yt})},Ct))},Ue))})]})})}),M.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",M.length," contacts  Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Yo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),s>1&&t.jsx("div",{className:`${Pa?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Pa&&Aa&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(li=Sc[Aa])==null?void 0:li.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(Vi=Sc[Aa])==null?void 0:Vi.description})]}),t.jsx("button",{onClick:()=>_s(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(At,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(Cc=Sc[Aa])==null?void 0:Cc.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>_s(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]}),oi&&Mr&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"mx-4 max-w-lg w-full rounded-xl bg-gray-900 border border-yellow-600/30 shadow-2xl overflow-hidden",children:[t.jsx("div",{className:"bg-yellow-600/10 border-b border-yellow-600/30 px-6 py-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-600/20",children:t.jsx(Ms,{className:"h-5 w-5 text-yellow-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Duplicate Contacts Found"}),t.jsx("p",{className:"text-sm text-yellow-300/80",children:Mr.message})]})]})}),t.jsxs("div",{className:"px-6 py-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Total contacts in CSV:"}),t.jsx("span",{className:"text-white font-medium",children:Mr.totalContacts})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Duplicates found:"}),t.jsx("span",{className:"text-yellow-500 font-medium",children:Mr.duplicateCount})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"New contacts:"}),t.jsx("span",{className:"text-emerald-500 font-medium",children:Mr.totalContacts-Mr.duplicateCount})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Existing contacts:"}),t.jsxs("div",{className:"max-h-48 overflow-y-auto rounded-lg bg-gray-800/50 border border-gray-700/50",children:[Mr.duplicates.slice(0,10).map((Re,Ue)=>t.jsx("div",{className:"px-3 py-2 border-b border-gray-700/30 last:border-b-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white",children:Re.name}),t.jsx("p",{className:"text-xs text-gray-500",children:Re.phone})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xs text-gray-400",children:["In: ",Re.existingCampaign]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",Re.status]})]})]})},Ue)),Mr.duplicates.length>10&&t.jsxs("div",{className:"px-3 py-2 text-center text-xs text-gray-500",children:["...and ",Mr.duplicates.length-10," more"]})]})]}),t.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Would you like to call these contacts again in this campaign?"})]}),t.jsxs("div",{className:"bg-gray-800/30 border-t border-gray-700/50 px-6 py-4 flex justify-end space-x-3",children:[t.jsx("button",{onClick:async()=>{if(An)try{const yt=await(await fetch(`/api/campaigns/${An}/on-create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handleDuplicates:"skip"})})).json(),Ct=Mr.totalContacts-Mr.duplicateCount;gs({title:"Campaign created",description:`Imported ${yt.leadsImported||Ct} new contact(s). ${Mr.duplicateCount} duplicate(s) skipped.`})}catch(Ue){console.error("Error completing campaign creation:",Ue)}const Re=An;la(!1),Ha(null),En(null),Re&&e({id:Re,name:n})},className:"px-4 py-2 text-sm text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded-lg transition-colors",children:"Skip Duplicates"}),t.jsx("button",{onClick:async()=>{if(An)try{const yt=await(await fetch(`/api/campaigns/${An}/on-create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handleDuplicates:"call_anyway"})})).json();gs({title:"Campaign created",description:`${yt.leadsImported||0} new contact(s) imported. ${yt.duplicatesQueued||Mr.duplicateCount} duplicate(s) re-queued for calling.`})}catch(Ue){console.error("Error re-queuing duplicates:",Ue)}const Re=An;la(!1),Ha(null),En(null),Re&&e({id:Re,name:n})},className:"px-4 py-2 text-sm bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",children:"Call Anyway"})]})]})})]})},qje=({campaign:e,onCampaignUpdated:r,onCancel:s})=>{var Bi,Pt,nr;const[a,n]=p.useState(1),[i,o]=p.useState(e.name||""),[l,d]=p.useState(e.campaignType==="b2b"?"b2b":e.campaignType==="b2c"?"b2c":"manual"),[m,h]=p.useState(e.phoneNumber||""),[f,g]=p.useState(e.assistantName||""),[y,w]=p.useState("later"),[b,v]=p.useState(null),[N,C]=p.useState(!1),[S,_]=p.useState("today"),[E,A]=p.useState("06:32 PM"),[T,M]=p.useState("Europe/Malta (GMT+2)"),[z,V]=p.useState([]),[O,R]=p.useState(5),[$,B]=p.useState(20),[U,te]=p.useState(!0),[L,F]=p.useState(10),[q,ee]=p.useState(1),[W,Z]=p.useState("smart"),[ve,ne]=p.useState(!0),[I,we]=p.useState("America/New_York"),[le,ke]=p.useState(!0),[J,Ce]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[fe,Q]=p.useState(!0),[he,Se]=p.useState([]),[Te,ce]=p.useState(!0),[Ve,ht]=p.useState(!0),[de,Le]=p.useState(30),[nt,xt]=p.useState(["US"]),[ar,qr]=p.useState(!0),[Gt,Zt]=p.useState(0),[Kr,gr]=p.useState(!1),[Ye,xr]=p.useState(""),[kr,_a]=p.useState([]),[ur,fs]=p.useState([]),[Yt,on]=p.useState(!1),[Mt,zt]=p.useState(2),[oe,Ne]=p.useState(null),[Be,lt]=p.useState(.18),[Nt,ir]=p.useState(10),[_t,Pa]=p.useState(null);p.useEffect(()=>{a>1?(gr(!0),a===2?xr("rateLimiting"):a===3?xr("retryLogic"):a===4?xr("workingHours"):a===5?xr("teamManagement"):a===6&&xr("review")):(gr(!1),xr(""))},[a]);const{toast:_s}=Vr();p.useEffect(()=>{Aa()},[]);const Aa=async()=>{try{const Oe=await Mx.getCampaignDefaults();ir(Oe.maxConcurrentCalls),Oe.defaultWorkingHours.enabled&&(ne(!0),we(Oe.defaultWorkingHours.timezone),Ce(Oe.defaultWorkingHours.hours)),_s({title:"Organization Settings Loaded",description:"Campaign defaults loaded from organization settings"})}catch(Oe){console.error("Error loading organization defaults:",Oe)}};p.useEffect(()=>{a===6&&z.length>0&&oa()},[a,z.length,Mt,oe,Be,Nt]);const oa=()=>{const Oe=z.length,ot=W==="basic"?2:W==="smart"?3:5,ft=ve?8:24,Tt=Oe*(1+ot),It=Tt*Mt,oi=Tt*Mt/Nt*1.1/60/ft,la=It*Be;let Mr="healthy",Ha=0;oe!==null&&(oe<la*.5?(Mr="critical",Ha=Math.ceil((la*1.2-oe)/10)*10):oe<la&&(Mr="warning",Ha=Math.ceil((la*1.2-oe)/10)*10)),Pa({totalAttempts:Tt,totalMinutes:Math.round(It),totalCost:Math.round(la*100)/100,campaignDays:Math.round(oi*10)/10,recommendedTopUp:Ha,balanceStatus:Mr})},as={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting Apex's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** Apex API Limits**
-  Apex may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check Apex account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Vapi plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Vapi dashboard
      `}},ps=Oe=>{xr(Oe),gr(!0)},$s=()=>{const Oe=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,ot=new Blob([Oe],{type:"text/csv"}),ft=window.URL.createObjectURL(ot),Tt=document.createElement("a");Tt.href=ft,Tt.download="campaign-template.csv",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),window.URL.revokeObjectURL(ft)},Wa=Oe=>{var ft;const ot=(ft=Oe.target.files)==null?void 0:ft[0];if(ot&&ot.type==="text/csv"){v(ot);const Tt=new FileReader;Tt.onload=It=>{var Ha,Nc;const oi=((Ha=It.target)==null?void 0:Ha.result).split(`
`),la=((Nc=oi[0])==null?void 0:Nc.split(",").map(or=>or.trim()))||[],Mr=oi.slice(1).filter(or=>or.trim()).map(or=>{const An=or.split(",").map(gs=>gs.trim()),En={};return la.forEach((gs,zs)=>{En[gs]=An[zs]||""}),En});V(Mr)},Tt.readAsText(ot)}else _s({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},Xs=()=>{if(a===1){if(!i||!m||!f||!b){_s({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}n(2)}else a===2?n(3):a===3?n(4):a===4?n(5):a===5&&n(6)},Va=()=>{a===6?n(5):a===5?n(4):a===4?n(3):a===3?n(2):a===2?n(1):s()},Ea=async()=>{C(!0);try{const Oe=await Mx.getCampaignDefaults(),ft=[{id:(userContext==null?void 0:userContext.id)||"current-user",email:(userContext==null?void 0:userContext.email)||"",role:"owner",status:"active",firstName:userContext==null?void 0:userContext.firstName,lastName:userContext==null?void 0:userContext.lastName,joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...kr],Tt={name:i,assistantId:f,phoneNumberId:m,settings:{callsPerHour:U?$:60,callsPerMinute:U?O:10,retryAttempts:2,timeZone:I,workingHours:{enabled:ve,start:"09:00",end:"17:00",defaultTimezone:I,useContactTimezone:le,schedule:J,excludeHolidays:fe,customHolidays:he,respectDST:Te},rateLimiting:{enabled:U,callsPerMinute:O,callsPerHour:$,customConcurrency:Nt,delayBetweenCalls:q},retryStrategy:W},teamManagement:{enabled:Yt||ft.length>1,members:ft,invitations:ur},organizationSettings:{vapiCredentials:Oe.vapiCredentials,maxConcurrentCalls:Oe.maxConcurrentCalls,complianceSettings:Oe.complianceSettings}},It=await of.createCampaign(Tt);b&&await of.uploadLeads(It.id,b),y==="now"&&await of.startCampaign(It.id),_s({title:"Campaign updated",description:`Campaign "${i}" has been updated successfully!`});const Wi={...It,name:i,assistantName:f,phoneNumber:m,campaignType:l,settings:{...It.settings,callsPerHour:U?$:60,callsPerMinute:U?O:10,retryAttempts:2,timeZone:I,workingHours:{enabled:ve,start:"09:00",end:"17:00",defaultTimezone:I,useContactTimezone:le,schedule:J,excludeHolidays:fe,customHolidays:he,respectDST:Te}}};r(Wi)}catch(Oe){console.error("Error updating campaign:",Oe),_s({title:"Error",description:"Failed to update campaign. Please try again.",variant:"destructive"})}finally{C(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Va,className:"text-gray-400 hover:text-white",children:t.jsx(mc,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["Edit campaign ",a===2&&"- Rate Limiting",a===3&&"- Retry Logic",a===4&&"- Working Hours",a===5&&"- Team Management",a===6&&"- Review & Save"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${a===1||Kr?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(Ee,{id:"campaign-name",value:i,onChange:Oe=>o(Oe.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(re,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${l==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>d("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l==="manual"?"border-emerald-500":"border-gray-600"}`,children:l==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(re,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(re,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(tt,{value:m,onValueChange:h,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{placeholder:"Select"})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"number1",children:"+1 (555) 123-4567"}),t.jsx(ae,{value:"number2",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(H,{variant:"link",onClick:$s,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Yo,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),b?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yo,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:b.name})]}),t.jsx("button",{onClick:()=>{v(null),V([])},className:"text-gray-400 hover:text-white",children:t.jsx(At,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:Wa,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs(tt,{value:f,onValueChange:g,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{placeholder:"Select"})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"assistant1",children:"Sales Assistant"}),t.jsx(ae,{value:"assistant2",children:"Support Assistant"}),t.jsx(ae,{value:"assistant3",children:"Survey Assistant"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(re,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="now"?"border-emerald-500":"border-gray-600"}`,children:y==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(re,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="later"?"border-emerald-500":"border-gray-600"}`,children:y==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(re,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),y==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(re,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(tt,{value:S,onValueChange:_,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"today",children:"Today"}),t.jsx(ae,{value:"tomorrow",children:"Tomorrow"}),t.jsx(ae,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(Ee,{type:"text",value:E,onChange:Oe=>A(Oe.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(re,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(tt,{value:T,onValueChange:M,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(ae,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(ae,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(ae,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(ae,{value:"Europe/London",children:"London (GMT)"}),t.jsx(ae,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),y==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),a===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ws,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(ws,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>ps("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Fr,{checked:U,onCheckedChange:te})]}),U&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>ps("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[O," calls/min"]})]}),t.jsx(qn,{value:[O],onValueChange:Oe=>R(Oe[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>ps("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[$," calls/hr"]})]}),t.jsx(qn,{value:[$],onValueChange:Oe=>B(Oe[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>ps("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[L," concurrent"]})]}),t.jsx(qn,{value:[L],onValueChange:Oe=>F(Oe[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(re,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>ps("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[q,"s delay"]})]}),t.jsx(qn,{value:[q],onValueChange:Oe=>ee(Oe[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(za,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(O*60,$)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",z.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:z.length>0?`~${Math.max(1,Math.ceil(z.length/Math.min(O*60,$)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[O,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:L})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[q,"s"]})]})]})})]}),(O>10||L>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ms,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),a===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Sr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(Sr,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>ps("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(re,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs(Jl,{value:W,onValueChange:Oe=>Z(Oe),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(sa,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(re,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:" Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(sa,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(re,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:" Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(sa,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(re,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:" Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Sr,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",W==="basic"&&"Basic (1-2 retries)",W==="smart"&&"Smart (3-5 retries) - Recommended",W==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),a===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Xn,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Xn,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>ps("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Fr,{checked:ve,onCheckedChange:ne})]}),ve&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(cs,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(J).map(([Oe,ot])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Fr,{checked:ot.enabled,onCheckedChange:ft=>Ce(Tt=>({...Tt,[Oe]:{...Tt[Oe],enabled:ft}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:Oe}),ot.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(Ee,{type:"text",value:ot.start,onChange:ft=>Ce(Tt=>({...Tt,[Oe]:{...Tt[Oe],start:ft.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(Ee,{type:"text",value:ot.end,onChange:ft=>Ce(Tt=>({...Tt,[Oe]:{...Tt[Oe],end:ft.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!ot.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},Oe))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(Cs,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Fr,{checked:fe,onCheckedChange:Q})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Fr,{checked:Te,onCheckedChange:ce})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Xn,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",I.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(J).filter(([Oe,ot])=>ot.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",J.monday.enabled?`${J.monday.start} - ${J.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[fe&&"Holiday exclusion",Te&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(ws,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(Sr,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>ps("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to Apex based on their local time"})]})]}),t.jsx(Fr,{checked:ar,onCheckedChange:qr})]})}),ar&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(re,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:de}),t.jsx(qn,{value:[de],onValueChange:Oe=>Le(Oe[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),Gt>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ht,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[Gt," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(cs,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(Oe=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:nt.includes(Oe),onChange:ot=>{ot.target.checked?xt(ft=>[...ft,Oe]):xt(ft=>ft.filter(Tt=>Tt!==Oe))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:Oe})]},Oe))})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(Ee,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:Oe=>{const ot=Oe.target.value.split(",").map(ft=>ft.trim()).filter(ft=>ft);Se(ot)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(cs,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",I]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",nt.length>0?nt.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[fe&&"Holiday exclusion",Te&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),a===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Rt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Rt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(re,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>ps("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Fr,{checked:Yt,onCheckedChange:on})]}),Yt?t.jsx(G7,{teamMembers:kr,invitations:ur,onAddMember:async(Oe,ot)=>{const ft={id:`inv-${Date.now()}`,email:Oe,role:ot,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:ot==="manager"?"all_leads":ot==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:ot==="manager"||ot==="agent",delete:ot==="manager",export:ot==="manager"||ot==="agent",assign:ot==="manager"}};fs(Tt=>[...Tt,ft])},onRemoveMember:async Oe=>{_a(ot=>ot.filter(ft=>ft.id!==Oe))},onUpdateRole:async(Oe,ot)=>{_a(ft=>ft.map(Tt=>Tt.id===Oe?{...Tt,role:ot,crmAccessLevel:ot==="manager"?"all_leads":ot==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:ot==="manager"||ot==="agent",delete:ot==="manager",export:ot==="manager"||ot==="agent",assign:ot==="manager"}}:Tt))},onResendInvitation:async Oe=>{console.log("Resending invitation:",Oe)},onCancelInvitation:async Oe=>{fs(ot=>ot.filter(ft=>ft.id!==Oe))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(Rt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(H,{onClick:()=>on(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),Yt&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Rt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",kr.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",ur.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",kr.length+ur.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),a===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(za,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(Sr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",i]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:z.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:W})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:ve?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:kr.length+ur.length})]})]})]}),_t&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:_t.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:_t.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[_t.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(Nt/Mt).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",Nt]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Qr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Ee,{type:"number",value:Mt,onChange:Oe=>zt(Number(Oe.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",Be.toFixed(2)]})]})]})]}),_t&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",_t.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_t.totalMinutes.toLocaleString()," minutes  $",Be,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(FS,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(Ee,{type:"number",placeholder:"Enter your current balance",value:oe||"",onChange:Oe=>Ne(Oe.target.value?Number(Oe.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(Ai,{className:"w-3 h-3 ml-1"})]})]})]}),oe!==null&&_t&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${_t.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":_t.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.balanceStatus==="healthy"?t.jsx(jt,{className:"w-5 h-5 text-emerald-400"}):_t.balanceStatus==="warning"?t.jsx(Ms,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Lt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${_t.balanceStatus==="healthy"?"text-emerald-300":_t.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:_t.balanceStatus==="healthy"?"Balance Healthy":_t.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",oe.toLocaleString()," | Required: $",_t.totalCost.toLocaleString()," |",_t.balanceStatus==="healthy"?` Surplus: $${(oe-_t.totalCost).toLocaleString()}`:` Deficit: $${(_t.totalCost-oe).toLocaleString()}`]})]}),_t.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",_t.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(Ai,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Ht,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),_t&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(rc,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:_t.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",_t.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:_t.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(H,{variant:"outline",onClick:Va,disabled:N,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:a===1?"Cancel":"Back"}),t.jsx(H,{onClick:a===6?Ea:Xs,disabled:N,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:a===6?N?"Saving...":"Save Changes":"Next"})]})})]}),a===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:b&&z.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",z.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(z[0]||{}).map((Oe,ot)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:Oe},Oe))})}),t.jsx("tbody",{children:z.map((Oe,ot)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(Oe).map((ft,Tt)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:ft,children:ft})},Tt))},ot))})]})})}),z.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",z.length," contacts  Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Yo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),a>1&&t.jsx("div",{className:`${Kr?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Kr&&Ye&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(Bi=as[Ye])==null?void 0:Bi.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(Pt=as[Ye])==null?void 0:Pt.description})]}),t.jsx("button",{onClick:()=>gr(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(At,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(nr=as[Ye])==null?void 0:nr.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>gr(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})};var A4="Progress",E4=100,[Kje,iCe]=Gs(A4),[Gje,Yje]=Kje(A4),Y7=p.forwardRef((e,r)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=Jje,...o}=e;(n||n===0)&&!m3(n)&&console.error(Xje(`${n}`,"Progress"));const l=m3(n)?n:E4;a!==null&&!h3(a,l)&&console.error(Qje(`${a}`,"Progress"));const d=h3(a,l)?a:null,m=Ix(d)?i(d,l):void 0;return t.jsx(Gje,{scope:s,value:d,max:l,children:t.jsx(qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ix(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":Q7(d,l),"data-value":d??void 0,"data-max":l,...o,ref:r})})});Y7.displayName=A4;var J7="ProgressIndicator",X7=p.forwardRef((e,r)=>{const{__scopeProgress:s,...a}=e,n=Yje(J7,s);return t.jsx(qe.div,{"data-state":Q7(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});X7.displayName=J7;function Jje(e,r){return`${Math.round(e/r*100)}%`}function Q7(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Ix(e){return typeof e=="number"}function m3(e){return Ix(e)&&!isNaN(e)&&e>0}function h3(e,r){return Ix(e)&&!isNaN(e)&&e<=r&&e>=0}function Xje(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E4}\`.`}function Qje(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Z7=Y7,Zje=X7;const Jt=p.forwardRef(({className:e,value:r,...s},a)=>t.jsx(Z7,{ref:a,className:$e("relative h-2 w-full overflow-hidden rounded-full bg-gray-800",e),...s,children:t.jsx(Zje,{className:"h-full w-full flex-1 bg-gradient-to-r from-pink-500 to-pink-600 transition-all duration-300",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Jt.displayName=Z7.displayName;const eNe=Ff("relative w-full rounded-lg border border-zinc-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-zinc-950 [&>svg~*]:pl-7 dark:border-zinc-800 dark:[&>svg]:text-zinc-50",{variants:{variant:{default:"bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),qt=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx("div",{ref:a,role:"alert",className:$e(eNe({variant:r}),e),...s}));qt.displayName="Alert";const e9=p.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:$e("mb-1 font-medium leading-none tracking-tight",e),...r}));e9.displayName="AlertTitle";const Kt=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:$e("text-sm [&_p]:leading-relaxed",e),...r}));Kt.displayName="AlertDescription";const tNe=()=>{const[e,r]=p.useState({current:25,limit:50,queued:12,available:25,peak24h:47,averageUtilization:68,totalCallsToday:1247,estimatedCost:324.5}),[s,a]=p.useState([{id:"1",name:"Real Estate Outreach",activeCalls:15,queuedCalls:8,priority:"high",status:"active",budget:2e3,spent:845.3},{id:"2",name:"Insurance Follow-up",activeCalls:10,queuedCalls:4,priority:"medium",status:"active",budget:1500,spent:623.2},{id:"3",name:"Solar Panel Campaign",activeCalls:0,queuedCalls:0,priority:"low",status:"paused",budget:1e3,spent:267.8}]),[n,i]=p.useState({enabled:!0,minLimit:10,maxLimit:100,scaleUpThreshold:80,scaleDownThreshold:30,budgetLimit:1e3,peakHoursEnabled:!0,peakHours:{start:"09:00",end:"17:00"}}),[o,l]=p.useState(50),[d,m]=p.useState(!1);p.useEffect(()=>{const v=setInterval(()=>{r(N=>({...N,current:Math.max(0,N.current+Math.floor(Math.random()*6)-3),queued:Math.max(0,N.queued+Math.floor(Math.random()*4)-2),available:N.limit-N.current}))},3e3);return()=>clearInterval(v)},[]),p.useEffect(()=>{e.current/e.limit*100>85&&m(!0)},[e]);const h=()=>{const v=e.current/e.limit*100;if(v>n.scaleUpThreshold&&e.limit<n.maxLimit){const N=Math.min(n.maxLimit,e.limit+10);r(C=>({...C,limit:N,available:N-C.current})),l(N)}else if(v<n.scaleDownThreshold&&e.limit>n.minLimit){const N=Math.max(n.minLimit,e.limit-5);r(C=>({...C,limit:N,available:N-C.current})),l(N)}},f=v=>{const N=v[0];l(N),r(C=>({...C,limit:N,available:N-C.current}))},g=(v,N)=>{a(C=>C.map(S=>S.id===v?{...S,status:N==="pause"?"paused":"active"}:S))},y=v=>v<50?"text-emerald-400":v<80?"text-yellow-400":"text-red-400",w=v=>{switch(v){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},b=e.current/e.limit*100;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dynamic Concurrency Manager"}),t.jsx("p",{className:"text-gray-400",children:"Monitor and optimize Vapi org-level concurrency in real-time"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(aa,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700",onClick:()=>window.open("https://dashboard.vapi.ai","_blank"),children:[t.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Vapi Dashboard"]})]})]}),d&&t.jsxs(qt,{className:"border-orange-500 bg-orange-500/10",children:[t.jsx(Ms,{className:"h-4 w-4"}),t.jsxs(Kt,{className:"flex items-center justify-between",children:[t.jsxs("span",{children:["Nearing concurrency limit (",b.toFixed(1),"% utilized). Consider upgrading your Vapi plan."]}),t.jsx(H,{size:"sm",onClick:()=>window.open("https://dashboard.vapi.ai/billing","_blank"),className:"bg-orange-600 hover:bg-orange-700",children:"Upgrade Now"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(Ns,{className:"h-4 w-4 mr-2 text-emerald-500"}),"Active Calls"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.current}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",e.limit," limit"]}),t.jsx(Jt,{value:b,className:"mt-2 h-2"})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(Rt,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Queued Calls"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.queued}),t.jsx("p",{className:"text-xs text-gray-500",children:"waiting for slots"}),e.queued>0&&t.jsx(Pe,{variant:"outline",className:"mt-2 text-xs text-yellow-400 border-yellow-400",children:"Auto-retry active"})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(fM,{className:"h-4 w-4 mr-2 text-blue-500"}),"Utilization"]})}),t.jsxs(G,{children:[t.jsxs("div",{className:`text-2xl font-bold ${y(b)}`,children:[b.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["24h avg: ",e.averageUtilization,"%"]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(za,{className:"h-4 w-4 mr-2 text-purple-500"}),"Today's Calls"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.totalCallsToday.toLocaleString()}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Est. cost: $",e.estimatedCost]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"text-white flex items-center",children:[t.jsx(Cs,{className:"h-5 w-5 mr-2"}),"Manual Controls"]})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Concurrency Limit"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[o," sessions"]})]}),t.jsx(qn,{value:[o],onValueChange:f,max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"5 min"}),t.jsxs("span",{children:["Current: ",o]}),t.jsx("span",{children:"200 max"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(H,{variant:"outline",onClick:h,className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(ws,{className:"h-4 w-4 mr-2"}),"Auto Scale"]}),t.jsxs(H,{variant:"outline",className:"border-gray-700",onClick:()=>m(!1),children:[t.jsx(Go,{className:"h-4 w-4 mr-2"}),"Clear Alerts"]})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"text-white flex items-center",children:[t.jsx(jY,{className:"h-5 w-5 mr-2"}),"Auto-scaling Rules"]})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Enable Auto-scaling"}),t.jsx(Fr,{checked:n.enabled,onCheckedChange:v=>i(N=>({...N,enabled:v}))})]}),n.enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Up at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleUpThreshold,"% utilization"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Down at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleDownThreshold,"% utilization"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Min Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.minLimit," sessions"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Max Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.maxLimit," sessions"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Peak Hours Boost"}),t.jsx(Fr,{checked:n.peakHoursEnabled,onCheckedChange:v=>i(N=>({...N,peakHoursEnabled:v}))})]})]})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"text-white flex items-center",children:[t.jsx(Sr,{className:"h-5 w-5 mr-2"}),"Campaign Queue Management"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"space-y-4",children:s.map(v=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${w(v.priority)}`}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:v.name}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(ct,{className:"h-3 w-3 mr-1"}),v.activeCalls," active"]}),v.queuedCalls>0&&t.jsxs("span",{className:"flex items-center text-yellow-400",children:[t.jsx(Sr,{className:"h-3 w-3 mr-1"}),v.queuedCalls," queued"]}),t.jsxs("span",{children:["Priority: ",v.priority]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm text-white",children:["$",v.spent.toFixed(2)," / $",v.budget]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[(v.spent/v.budget*100).toFixed(1),"% used"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[v.status==="active"?t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>g(v.id,"pause"),className:"border-amber-600 text-amber-400 hover:bg-amber-600/20",children:[t.jsx(vd,{className:"h-3 w-3 mr-1"}),"Pause"]}):t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>g(v.id,"resume"),className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Resume"]}),t.jsx(Pe,{variant:"outline",className:v.status==="active"?"border-emerald-600 text-emerald-400":v.status==="paused"?"border-amber-600 text-amber-400":"border-gray-600 text-gray-400",children:v.status})]})]})]},v.id))}),t.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Ht,{className:"h-5 w-5 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-1",children:"Queue Management Tips"}),t.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[t.jsx("li",{children:" High priority campaigns get queue preference"}),t.jsx("li",{children:" Vapi automatically retries queued calls for up to 1 hour"}),t.jsx("li",{children:" Pause low-priority campaigns during peak hours to prevent bottlenecks"}),t.jsx("li",{children:" Monitor budget utilization to prevent overspending"})]})]})]})})]})]})]})};function t9({open:e,onOpenChange:r,title:s,description:a,itemName:n,onConfirm:i,isLoading:o=!1}){const[l,d]=p.useState(""),[m,h]=p.useState(""),f=l==="DELETE",g=async()=>{if(!f){h("Please type DELETE to confirm");return}try{await i(),d(""),h(""),r(!1)}catch(w){h(w instanceof Error?w.message:"Failed to delete")}},y=()=>{d(""),h(""),r(!1)};return t.jsx(pm,{open:e,onOpenChange:r,children:t.jsxs(Id,{className:"max-w-md border border-gray-700 bg-gray-900 shadow-2xl shadow-black/60",children:[t.jsxs(Dd,{children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-red-500/20 border border-red-500/40",children:t.jsx(Ms,{className:"h-6 w-6 text-red-500"})}),t.jsxs("div",{children:[t.jsx($d,{className:"text-xl font-bold text-red-500",children:s}),n&&t.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Campaign: ",t.jsx("span",{className:"text-white font-semibold",children:n})]})]})]}),t.jsx(zd,{className:"mt-4 text-gray-300 leading-relaxed",children:a})]}),t.jsxs("div",{className:"space-y-5 py-4",children:[t.jsx("div",{className:"rounded-lg bg-red-950 border border-red-800 p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-red-900",children:t.jsx(ds,{className:"h-4 w-4 text-red-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-red-400",children:"Permanent Action"}),t.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"This will permanently delete all associated leads, calls, and analytics data. This action cannot be undone."})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(re,{htmlFor:"confirm-delete",className:"text-sm font-medium text-white",children:["Type ",t.jsx("span",{className:"font-bold text-red-500 bg-red-900 px-2 py-1 rounded mx-1",children:"DELETE"})," to confirm"]}),t.jsx(Ee,{id:"confirm-delete",value:l,onChange:w=>{d(w.target.value.toUpperCase()),h("")},placeholder:"Type DELETE here",className:`bg-gray-800 border-gray-600 text-white placeholder:text-gray-400 focus:border-red-500 focus:ring-red-500/30 transition-all ${m?"border-red-500":""} ${f?"border-emerald-500 bg-emerald-950/50":""}`,autoComplete:"off",autoFocus:!0}),m&&t.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-2 font-medium",children:[t.jsx(Ms,{className:"h-3.5 w-3.5"}),m]})]})]}),t.jsxs(Ld,{className:"gap-3 sm:gap-3",children:[t.jsx(H,{variant:"outline",onClick:y,disabled:o,className:"border-gray-600 bg-gray-800 text-white hover:bg-gray-700 hover:border-gray-500 transition-all",children:"Cancel"}),t.jsx(H,{onClick:g,disabled:!f||o,className:`transition-all ${f?"bg-red-600 hover:bg-red-500 text-white font-semibold shadow-lg shadow-red-900/50":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:o?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Delete Permanently"]})})]})]})})}const gN=()=>{console.log(" VapiDashboard component is rendering!");const[e,r]=p.useState(!0),[s,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(null),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,b]=p.useState("all"),[v,N]=p.useState([]),[C,S]=p.useState("all"),[_,E]=p.useState(!1),[A,T]=p.useState("campaigns"),[M,z]=p.useState(!1),[V,O]=p.useState(null),[R,$]=p.useState(!1),{toast:B}=Vr(),{userContext:U}=dl(),te=vr();wp();const L=SU();p.useEffect(()=>{if(console.log(" VapiDashboard: Component mounted or userContext changed, starting data load..."),console.log(" VapiDashboard: Current organization_id:",U==null?void 0:U.organization_id),!(U!=null&&U.organization_id)){console.log(" Waiting for user context with organization_id...");return}(async()=>{try{await F()}catch(we){console.error(" VapiDashboard: Critical error during initialization:",we),a([]),i([]),l({}),E(!0),r(!1)}})()},[U==null?void 0:U.organization_id]);const F=async(I=!0)=>{console.log(" VapiDashboard: Starting data load, showLoader:",I),I&&r(!0);try{console.log(" VapiDashboard: Loading real campaigns data..."),console.log(" VapiDashboard: User context organization_id:",U==null?void 0:U.organization_id),console.log(" Using direct Supabase service with org ID...");const we=await Zu.getCampaigns(U==null?void 0:U.organization_id);console.log(" VapiDashboard: Campaigns loaded from Supabase:",we),we&&Array.isArray(we)?(a(we),console.log(" Set",we.length,"real campaigns")):(console.warn("Campaigns data is not an array:",we),a([]));const le=await Zu.getRecentCalls(10,U==null?void 0:U.organization_id);console.log(" VapiDashboard: Recent calls loaded from Supabase:",le),i(le||[]);const ke=we.reduce((J,Ce)=>({totalCalls:J.totalCalls+(Ce.totalLeads||0),totalCost:J.totalCost+(Ce.totalCost||0),successfulCalls:J.successfulCalls+Math.floor((Ce.callsCompleted||0)*(Ce.successRate||0)/100),totalDuration:J.totalDuration+(Ce.callsCompleted||0)*120,totalCompletedCalls:J.totalCompletedCalls+(Ce.callsCompleted||0)}),{totalCalls:0,totalCost:0,successfulCalls:0,totalDuration:0,totalCompletedCalls:0});ke.successRate=ke.totalCalls>0?ke.successfulCalls/ke.totalCalls*100:0,ke.averageDuration=ke.totalCompletedCalls>0?ke.totalDuration/ke.totalCompletedCalls:0,ke.sentimentBreakdown={positive:Math.round(ke.successfulCalls*.6),neutral:Math.round(ke.successfulCalls*.3),negative:Math.round(ke.successfulCalls*.1)},ke.sentimentBreakdown||(ke.sentimentBreakdown={positive:0,neutral:0,negative:0}),ke.outcomeBreakdown||(ke.outcomeBreakdown={}),ke.successRate||(ke.successRate=0),ke.totalCost||(ke.totalCost=0),ke.activeAssistants||(ke.activeAssistants=0),l(ke),E(!0)}catch(we){console.error("Error loading dashboard data:",we),a([]),i([]),l({}),B({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{I&&r(!1)}},q=async(I,we)=>{try{let le;switch(we){case"start":le=await L.startCampaign(I);break;case"pause":le=await L.pauseCampaign(I);break;case"resume":le=await L.resumeCampaign(I);break;default:throw new Error(`Unknown action: ${we}`)}B({title:"Success",description:`Campaign ${we}ed successfully`}),F(!1)}catch(le){console.error(`Failed to ${we} campaign:`,le),B({title:"Error",description:`Failed to ${we} campaign. Please try again.`,variant:"destructive"})}},ee=I=>{O(I),z(!0)},W=async()=>{if(V){$(!0);try{await Zu.deleteCampaign(V.id,U==null?void 0:U.organization_id),a(I=>I.filter(we=>we.id!==V.id)),B({title:"Campaign Deleted",description:`Campaign "${V.name}" has been permanently deleted.`}),z(!1),O(null)}catch(I){console.error("Failed to delete campaign:",I),B({title:"Error",description:I instanceof Error?I.message:"Failed to delete campaign",variant:"destructive"})}finally{$(!1)}}},Z=I=>{switch(I==null?void 0:I.toLowerCase()){case"active":return"text-emerald-400 bg-emerald-500/10 border-emerald-500/30";case"paused":return"text-amber-400 bg-amber-500/10 border-amber-500/30";case"completed":return"text-blue-400 bg-blue-500/10 border-blue-500/30";case"failed":return"text-red-400 bg-red-500/10 border-red-500/30";default:return"text-gray-400 bg-gray-500/10 border-gray-500/30"}},ve=I=>{switch(I==null?void 0:I.toLowerCase()){case"active":return t.jsx(dY,{className:"h-3 w-3"});case"paused":return t.jsx(cY,{className:"h-3 w-3"});case"completed":return t.jsx(jt,{className:"h-3 w-3"});case"failed":return t.jsx(Lt,{className:"h-3 w-3"});default:return t.jsx(uY,{className:"h-3 w-3"})}},ne=(s||[]).filter(I=>w==="all"?!0:w==="active"?I.status==="active":w==="paused"?I.status==="paused":!0);return e?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-400"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading campaigns dashboard..."})]})}):t.jsxs("div",{className:"w-full bg-black min-h-screen px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Apex Campaigns"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(H,{variant:"outline",onClick:()=>F(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(aa,{className:"mr-2 h-4 w-4"}),"Refresh"]}),A==="campaigns"&&t.jsxs(H,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex space-x-1 bg-gray-900 p-1 rounded-lg w-fit",children:[t.jsxs("button",{onClick:()=>T("campaigns"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${A==="campaigns"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(Sr,{className:"mr-2 h-4 w-4 inline"}),"Campaigns"]}),t.jsxs("button",{onClick:()=>T("concurrency"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${A==="concurrency"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(fM,{className:"mr-2 h-4 w-4 inline"}),"Concurrency Manager"]})]})}),A==="campaigns"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Campaigns"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(Sr,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(I=>I.status==="active").length})]}),t.jsx(Qn,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Paused"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(I=>I.status==="paused").length})]}),t.jsx(vd,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Draft"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter(I=>I.status==="draft").length})]})})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"border-b border-gray-800/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-2xl font-bold text-white mb-2",children:"Campaigns"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Manage and monitor your voice AI campaigns"})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800/50 rounded-lg p-1",children:[t.jsx(H,{variant:w==="all"?"default":"ghost",size:"sm",onClick:()=>b("all"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="all"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"All"}),t.jsx(H,{variant:w==="active"?"default":"ghost",size:"sm",onClick:()=>b("active"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="active"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Active"}),t.jsx(H,{variant:w==="paused"?"default":"ghost",size:"sm",onClick:()=>b("paused"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="paused"?"bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Paused"})]})]})}),t.jsx(G,{className:"p-0",children:ne.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(Sr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"mb-4 text-gray-400",children:"No campaigns found"}),t.jsxs(H,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]}):t.jsx("div",{className:"space-y-6",children:ne.map((I,we)=>{var le,ke;return t.jsxs("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-gray-800 bg-gradient-to-r from-gray-900/80 to-gray-800/50 p-6 backdrop-blur-sm transition-all duration-300 hover:border-gray-600 hover:shadow-xl hover:shadow-black/20",onClick:()=>te(`/campaigns/${I.id}`),children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/5 via-transparent to-pink-400/5 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:I.name}),t.jsxs("p",{className:"text-sm text-gray-400 font-medium",children:["ID: ",I.apexId||"apex00000"]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Pe,{variant:"outline",className:`${Z(I.status)} px-3 py-1 text-xs font-semibold inline-flex items-center justify-center w-20`,children:[ve(I.status),t.jsx("span",{className:"ml-2 capitalize",children:I.status})]}),t.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[I.status==="draft"&&t.jsxs(H,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:J=>{J.stopPropagation(),q(I.id,"start")},children:[t.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Start"]}),I.status==="active"&&t.jsxs(H,{size:"sm",variant:"outline",className:"border-amber-500/30 bg-amber-500/10 text-amber-400 transition-all duration-200 hover:border-amber-400 hover:bg-amber-500/20 hover:text-amber-300",onClick:J=>{J.stopPropagation(),q(I.id,"pause")},children:[t.jsx(vd,{className:"mr-2 h-4 w-4"}),"Pause"]}),I.status==="paused"&&t.jsxs(H,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:J=>{J.stopPropagation(),q(I.id,"resume")},children:[t.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Resume"]}),t.jsx(H,{size:"sm",variant:"ghost",onClick:J=>{J.stopPropagation(),y(I),f(!0)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(Cs,{className:"h-4 w-4"})}),t.jsx(H,{size:"sm",variant:"ghost",onClick:J=>{J.stopPropagation(),te(`/campaigns/${I.id}/calls`)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(Ai,{className:"h-4 w-4"})})]}),t.jsx(H,{size:"sm",variant:"ghost",onClick:J=>{J.stopPropagation(),ee(I)},className:"text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all duration-200 rounded-lg p-2",children:t.jsx(ds,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10 border border-blue-500/20",children:t.jsx(Rt,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Leads"}),t.jsx("p",{className:"text-lg font-bold text-white",children:I.totalLeads||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:t.jsx(jt,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-lg font-bold text-white",children:I.callsCompleted||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10 border border-amber-500/20",children:t.jsx(Qr,{className:"h-5 w-5 text-amber-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cost"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:["$",((le=I.totalCost)==null?void 0:le.toFixed(2))||"0.00"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-pink-500/10 border border-pink-500/20",children:t.jsx(Na,{className:"h-5 w-5 text-pink-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:[((ke=I.successRate)==null?void 0:ke.toFixed(1))||0,"%"]})]})]})]}),t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Progress"}),t.jsx("span",{className:"text-sm font-bold text-white",children:I.totalLeads?`${I.callsCompleted||0}/${I.totalLeads}`:"0/0"})]}),t.jsx("div",{className:"relative h-2 w-full rounded-full bg-gray-800 overflow-hidden",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-pink-500 to-pink-400 transition-all duration-700 ease-out relative overflow-hidden",style:{width:`${Math.min(I.totalLeads?(I.callsCompleted||0)/I.totalLeads*100:0,100)}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]},I.id)})})})]})]}),A==="concurrency"&&t.jsx(tNe,{}),d&&t.jsx(Hje,{onCampaignCreated:I=>{m(!1),F(!1),B({title:"Campaign Created",description:`Campaign "${I.name}" has been created successfully!`})},onCancel:()=>m(!1)}),h&&g&&t.jsx(qje,{campaign:g,onCampaignUpdated:I=>{a(we=>we.map(le=>le.id===I.id?{...le,...I,updatedAt:new Date().toISOString()}:le)),f(!1),y(null),B({title:"Campaign Updated",description:`Campaign "${I.name}" has been updated successfully!`})},onCancel:()=>{f(!1),y(null)}}),t.jsx(t9,{open:M,onOpenChange:z,title:"Delete Campaign",description:"Are you sure you want to delete this campaign? This will permanently remove all associated leads, calls, and analytics data.",itemName:V==null?void 0:V.name,onConfirm:W,isLoading:R})]})};function rNe(){const[e,r]=p.useState("overview"),s={organizations:{active:38,new:5,churn:2},tickets:{avgResolutionTime:2.4,satisfaction:98.2},usage:{totalCalls:125420},calls:{total:125420,successful:11e4,failed:15420}},a=[{date:"Jan 1",revenue:12500,organizations:32},{date:"Jan 7",revenue:13200,organizations:34},{date:"Jan 14",revenue:14800,organizations:37},{date:"Jan 21",revenue:15200,organizations:40},{date:"Jan 28",revenue:16900,organizations:42},{date:"Feb 4",revenue:17600,organizations:44},{date:"Feb 11",revenue:18450,organizations:45}],n=[{name:"Starter",value:18,color:"#3B82F6"},{name:"Professional",value:22,color:"#8B5CF6"},{name:"Enterprise",value:5,color:"#F59E0B"}],i=[{category:"Technical",tickets:67,avgTime:2.1},{category:"Billing",tickets:34,avgTime:1.8},{category:"Onboarding",tickets:28,avgTime:3.2},{category:"Feature Requests",tickets:27,avgTime:4.5}],o=[{name:"TechFlow Solutions",calls:12450,revenue:599,status:"active"},{name:"Digital Dynamics",calls:18200,revenue:1299,status:"active"},{name:"Growth Partners",calls:450,revenue:0,status:"trial"},{name:"Enterprise Corp",calls:25100,revenue:2499,status:"active"},{name:"StartupHub",calls:8200,revenue:299,status:"active"}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Comprehensive analytics and insights for your platform"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(H,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(cs,{className:"mr-2 h-4 w-4"}),"Export Report"]}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Custom Dashboard"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:s.calls.total.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(ct,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",s.calls.successful," successful"]}),t.jsxs("span",{className:"text-red-400",children:["-",s.calls.failed," failed"]})]})]})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Organizations"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:s.organizations.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(Jx,{className:"h-6 w-6 text-blue-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",s.organizations.new," new"]}),t.jsxs("span",{className:"text-red-400",children:["-",s.organizations.churn," churn"]})]})]})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Support Satisfaction"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[s.tickets.satisfaction,"%"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(oo,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(Ut,{className:"h-4 w-4"}),t.jsxs("span",{children:[s.tickets.avgResolutionTime,"h avg resolution"]})]})]})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Platform Usage"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[(s.usage.totalCalls/1e3).toFixed(1),"k"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-500/20",children:t.jsx(Ns,{className:"h-6 w-6 text-orange-400"})})]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Total calls this month"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center justify-between text-white",children:["Revenue & Growth Trend",t.jsxs(Pe,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(Na,{className:"mr-1 h-3 w-3"}),"+21.4%"]})]})}),t.jsx(G,{children:t.jsx(Jn,{width:"100%",height:300,children:t.jsxs(tv,{data:a,children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"date",stroke:"#9CA3AF"}),t.jsx(ki,{stroke:"#9CA3AF"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(Ed,{type:"monotone",dataKey:"revenue",stroke:"#8B5CF6",fill:"url(#colorRevenue)",strokeWidth:2}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})})]})})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Organization Distribution by Plan"})}),t.jsx(G,{children:t.jsx(Jn,{width:"100%",height:300,children:t.jsxs(h4,{children:[t.jsx(Qy,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:l=>`${l.name}: ${l.value}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((l,d)=>t.jsx(Gd,{fill:l.color},`cell-${d}`))}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}})]})})})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Support Department Performance"})}),t.jsx(G,{children:t.jsx(Jn,{width:"100%",height:300,children:t.jsxs(m4,{data:i,children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"category",stroke:"#9CA3AF"}),t.jsx(ki,{stroke:"#9CA3AF"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(Af,{dataKey:"tickets",fill:"#8B5CF6"}),t.jsx(Af,{dataKey:"avgTime",fill:"#3B82F6"})]})})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Top Organizations by Activity"})}),t.jsx(G,{children:t.jsx("div",{className:"space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-700/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 to-blue-600",children:t.jsx("span",{className:"font-bold text-white",children:d+1})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:l.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[l.calls.toLocaleString()," calls this month"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",l.revenue,"/mo"]}),t.jsx(Pe,{className:`text-xs ${l.status==="active"?"border-green-500/30 bg-green-500/20 text-green-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:l.status})]})]},d))})})]})]})})}function sNe(){const[e,r]=p.useState(""),[s,a]=p.useState("all"),n=[{id:"1",name:"Sarah Johnson",company:"TechFlow Solutions",email:"sarah@techflow.com",phone:"+1 (555) 123-4567",status:"active",campaigns:3,leads:1247,calls:2847,spend:2847.5,lastActivity:"2 hours ago",rating:4.8},{id:"2",name:"Mike Chen",company:"Digital Dynamics",email:"mike@digitaldynamics.com",phone:"+1 (555) 987-6543",status:"active",campaigns:5,leads:2156,calls:4123,spend:5123.75,lastActivity:"1 hour ago",rating:4.9},{id:"3",name:"Emma Rodriguez",company:"Growth Partners",email:"emma@growthpartners.com",phone:"+1 (555) 456-7890",status:"active",campaigns:2,leads:892,calls:1654,spend:1987.25,lastActivity:"3 hours ago",rating:4.7},{id:"4",name:"David Thompson",company:"Innovate Labs",email:"david@innovatelabs.com",phone:"+1 (555) 321-6540",status:"pending",campaigns:1,leads:234,calls:456,spend:567.8,lastActivity:"1 day ago",rating:4.5},{id:"5",name:"Lisa Wang",company:"ScaleUp Ventures",email:"lisa@scaleupventures.com",phone:"+1 (555) 789-0123",status:"inactive",campaigns:0,leads:0,calls:0,spend:0,lastActivity:"1 week ago",rating:4.6}],i=n.filter(d=>{const m=d.name.toLowerCase().includes(e.toLowerCase())||d.company.toLowerCase().includes(e.toLowerCase())||d.email.toLowerCase().includes(e.toLowerCase()),h=s==="all"||d.status===s;return m&&h}),o={total:n.length,active:n.filter(d=>d.status==="active").length,pending:n.filter(d=>d.status==="pending").length,inactive:n.filter(d=>d.status==="inactive").length,totalSpend:n.reduce((d,m)=>d+m.spend,0),totalCalls:n.reduce((d,m)=>d+m.calls,0),totalLeads:n.reduce((d,m)=>d+m.leads,0)},l=d=>{switch(d){case"active":return"bg-green-500/10 text-green-400 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"inactive":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return t.jsx("div",{className:"mx-auto w-full max-w-7xl px-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:items-center md:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Clients"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your agency clients and their campaigns"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(H,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta transition-colors hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add New Client"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.total})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-900/20",children:t.jsx(rr,{className:"h-6 w-6 text-blue-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+2 this month"})})]})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-900/20",children:t.jsx(Rt,{className:"h-6 w-6 text-green-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+1 this week"})})]})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(ct,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+12% this month"})})]})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",o.totalSpend.toLocaleString()]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(Qr,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+8% this month"})})]})})]}),t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{placeholder:"Search clients by name, company, or email...",value:e,onChange:d=>r(d.target.value),className:"border-gray-800 bg-gray-900 pl-10 text-white placeholder-gray-400"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("all"),children:["All (",o.total,")"]}),t.jsxs(H,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("active"),children:["Active (",o.active,")"]}),t.jsxs(H,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("pending"),children:["Pending (",o.pending,")"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(d=>t.jsxs(K,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:[t.jsxs(xe,{className:"pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(jd,{className:"h-12 w-12",children:[t.jsx(im,{src:d.avatar}),t.jsx(Nd,{className:"bg-gray-800 text-white",children:d.name.split(" ").map(m=>m[0]).join("")})]}),t.jsxs("div",{children:[t.jsx(ye,{className:"text-lg text-white",children:d.name}),t.jsx(vt,{className:"text-gray-400",children:d.company})]})]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Nm,{className:"h-4 w-4"})})}),t.jsxs(ti,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(Xt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Tr,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Xt,{className:"text-gray-300 hover:text-white",children:[t.jsx(sc,{className:"mr-2 h-4 w-4"}),"Edit Client"]}),t.jsxs(Xt,{className:"text-gray-300 hover:text-white",children:[t.jsx(na,{className:"mr-2 h-4 w-4"}),"Send Message"]}),t.jsxs(Xt,{className:"text-red-400 hover:text-red-300",children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Remove Client"]})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx(Pe,{className:l(d.status),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),t.jsxs("div",{className:"flex items-center text-yellow-400",children:[t.jsx(ld,{className:"h-4 w-4 fill-current"}),t.jsx("span",{className:"ml-1 text-sm",children:d.rating})]})]})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.campaigns}),t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.leads.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Leads"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Calls"})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-800 pt-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-white",children:["$",d.spend.toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Total Spend"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-xs text-gray-300",children:d.lastActivity})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(Tr,{className:"mr-2 h-4 w-4"}),"View"]}),t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(ct,{className:"mr-2 h-4 w-4"}),"Contact"]})]})]})]},d.id))}),i.length===0&&t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-12 text-center",children:[t.jsx(rr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No clients found"}),t.jsx("p",{className:"mb-4 text-gray-400",children:e?"Try adjusting your search terms":"Get started by adding your first client"}),t.jsxs(H,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add New Client"]})]})})]})})}const aNe=()=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Live Calls"}),t.jsx("p",{className:"text-gray-600",children:"Monitor active calls in real-time"})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsx("div",{className:"rounded-lg border p-4 bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ct,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"John Doe"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 123-4567"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Ut,{className:"h-4 w-4"}),t.jsx("span",{children:"02:34"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(el,{className:"h-4 w-4"}),t.jsx("span",{children:"New York, NY"})]}),t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]})]})}),t.jsx("div",{className:"rounded-lg border p-4 bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ct,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Jane Smith"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Ut,{className:"h-4 w-4"}),t.jsx("span",{children:"01:12"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(el,{className:"h-4 w-4"}),t.jsx("span",{children:"Los Angeles, CA"})]}),t.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})]})]})}),t.jsxs("div",{className:"rounded-lg border p-8 text-center text-gray-500",children:[t.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No More Active Calls"}),t.jsx("p",{children:"All other calls have been completed."})]})]})]});function f3(){var _,E,A;const e=vr(),{getToken:r}=_n(),[s,a]=p.useState("7d"),[n,i]=p.useState(null),[o,l]=p.useState([]),[d,m]=p.useState(!0),[h,f]=p.useState(null),g="http://localhost:3001",y=async()=>{try{m(!0),f(null);const T=await r(),M=await fetch(`${g}/api/platform-analytics/overview`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const z=await M.json();i(z),console.log(" Platform analytics loaded:",z)}catch(T){console.error(" Error fetching platform analytics:",T),f("Failed to load platform analytics"),i({overview:{totalOrganizations:0,activeOrganizations:0,totalUsers:0,activeUsers:0,totalMRR:0,totalCalls:0,systemUptime:99.8,supportTickets:0,recentGrowth:{organizations:0,users:0,organizationGrowth:0,userGrowth:0}},charts:{weeklyGrowth:[],monthlyRevenue:[],planDistribution:{starter:0,professional:0,enterprise:0}},topOrganizations:[]})}finally{m(!1)}},w=async()=>{try{const T=await r(),M=await fetch(`${g}/api/platform-analytics/activity`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(M.ok){const z=await M.json();l(z.activity||[])}}catch(T){console.error(" Error fetching activity:",T),l([])}};p.useEffect(()=>{y(),w()},[]);const b=((_=n==null?void 0:n.charts)==null?void 0:_.weeklyGrowth)||[{date:"Mon",users:0,organizations:0},{date:"Tue",users:0,organizations:0},{date:"Wed",users:0,organizations:0},{date:"Thu",users:0,organizations:0},{date:"Fri",users:0,organizations:0},{date:"Sat",users:0,organizations:0},{date:"Sun",users:0,organizations:0}],v=((E=n==null?void 0:n.charts)==null?void 0:E.monthlyRevenue)||[{month:"Jan",revenue:0,mrr:0},{month:"Feb",revenue:0,mrr:0},{month:"Mar",revenue:0,mrr:0},{month:"Apr",revenue:0,mrr:0},{month:"May",revenue:0,mrr:0},{month:"Jun",revenue:0,mrr:0}],N=[{status:"Open",count:((A=n==null?void 0:n.overview)==null?void 0:A.supportTickets)||0,color:"#ef4444"},{status:"In Progress",count:0,color:"#eab308"},{status:"Resolved",count:0,color:"#22c55e"}],C=[{service:"API",uptime:99.9,status:"operational"},{service:"Database",uptime:99.95,status:"operational"},{service:"Auth",uptime:98.5,status:"degraded"},{service:"Storage",uptime:99.99,status:"operational"}],S=n!=null&&n.overview?{totalOrganizations:n.overview.totalOrganizations,activeUsers:n.overview.totalUsers,mrr:n.overview.totalMRR,supportTickets:n.overview.supportTickets,systemUptime:n.overview.systemUptime,activeSubscriptions:n.overview.activeOrganizations}:{totalOrganizations:0,activeUsers:0,mrr:0,supportTickets:0,systemUptime:99.8,activeSubscriptions:0};return d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("div",{className:"mx-auto mb-4 h-32 w-32 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-xl",children:"Loading platform analytics..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Overview"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor and manage your AI calling platform"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2",children:t.jsx("p",{className:"text-sm text-red-400",children:h})}),t.jsxs(H,{onClick:()=>{y(),w()},variant:"outline",size:"sm",className:"border-gray-600 text-white hover:bg-gray-700",children:[t.jsx(aa,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Organizations"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.totalOrganizations}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+8 this week"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Active Users"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeUsers.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+12% growth"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"MRR"})}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(S.mrr/1e3).toFixed(0),"k"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+15% vs last month"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Support Tickets"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.supportTickets}),t.jsx("p",{className:"mt-1 text-xs text-yellow-400",children:"12 open"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"System Uptime"})}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[S.systemUptime,"%"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"All systems operational"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Subscriptions"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeSubscriptions}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"89% retention"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[t.jsxs(H,{onClick:()=>e("/organizations"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(rr,{className:"h-6 w-6"}),t.jsx("span",{children:"Manage Organizations"})]}),t.jsxs(H,{onClick:()=>e("/user-management"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(am,{className:"h-6 w-6"}),t.jsx("span",{children:"User Management"})]}),t.jsxs(H,{onClick:()=>e("/support-tickets"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(uf,{className:"h-6 w-6"}),t.jsx("span",{children:"Support Tickets"})]}),t.jsxs(H,{onClick:()=>e("/system-health"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(Ns,{className:"h-6 w-6"}),t.jsx("span",{children:"System Health"})]}),t.jsxs(H,{onClick:()=>e("/platform-monitoring"),className:"flex h-auto flex-col items-center gap-2 bg-emerald-800 p-6 text-white hover:bg-emerald-700",children:[t.jsx(E0,{className:"h-6 w-6"}),t.jsx("span",{children:"Platform Monitoring"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Na,{className:"h-5 w-5"}),"User & Organization Growth"]})}),t.jsx(G,{children:t.jsx(Jn,{width:"100%",height:300,children:t.jsxs(Gz,{data:b,children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"date",stroke:"#9ca3af"}),t.jsx(ki,{stroke:"#9ca3af"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(_x,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2,name:"Users"}),t.jsx(_x,{type:"monotone",dataKey:"organizations",stroke:"#8b5cf6",strokeWidth:2,name:"Organizations"})]})})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Qr,{className:"h-5 w-5"}),"Revenue Trends"]})}),t.jsx(G,{children:t.jsx(Jn,{width:"100%",height:300,children:t.jsxs(tv,{data:v,children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(ki,{stroke:"#9ca3af"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(Ed,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Total Revenue"}),t.jsx(Ed,{type:"monotone",dataKey:"mrr",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"MRR"})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(uf,{className:"h-5 w-5"}),"Support Tickets"]})}),t.jsxs(G,{children:[t.jsx(Jn,{width:"100%",height:200,children:t.jsxs(h4,{children:[t.jsx(Qy,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"count",children:N.map((T,M)=>t.jsx(Gd,{fill:T.color},`cell-${M}`))}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})}),t.jsx("div",{className:"mt-4 space-y-2",children:N.map(T=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:T.color}}),t.jsx("span",{className:"text-gray-300",children:T.status})]}),t.jsx("span",{className:"font-medium text-white",children:T.count})]},T.status))})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(E0,{className:"h-5 w-5"}),"System Health"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"space-y-4",children:C.map(T=>t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:T.service}),t.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="operational"?t.jsx(jt,{className:"h-4 w-4 text-green-500"}):t.jsx(Lt,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"text-sm text-white",children:[T.uptime,"%"]})]})]}),t.jsx(Jt,{value:T.uptime,className:"h-2"})]},T.service))}),t.jsx(H,{onClick:()=>e("/system-health"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View Details"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ns,{className:"h-5 w-5"}),"Recent Activity"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"space-y-3",children:o.length>0?o.slice(0,4).map((T,M)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Pe,{className:`${T.type==="organization"?"border-blue-500/30 bg-blue-500/20 text-blue-400":"border-emerald-500/30 bg-emerald-500/20 text-emerald-400"} mt-0.5`,children:T.type==="organization"?"ORG":"USER"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white",children:T.title}),t.jsxs("p",{className:"text-xs text-gray-400",children:[T.description," - ",new Date(T.time).toLocaleDateString()]})]})]},M)):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Ns,{className:"mx-auto mb-2 h-8 w-8 text-gray-600"}),t.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"})]})}),t.jsx(H,{onClick:()=>e("/audit-logs"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View All Activity"})]})]})]})]})})}function nNe(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Array(12).fill(0);let wS=1;class iNe{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const s=this.subscribers.indexOf(r);this.subscribers.splice(s,1)}),this.publish=r=>{this.subscribers.forEach(s=>s(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var s;const{message:a,...n}=r,i=typeof(r==null?void 0:r.id)=="number"||((s=r.id)==null?void 0:s.length)>0?r.id:wS++,o=this.toasts.find(d=>d.id===i),l=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...r,id:i,title:a}),{...d,...r,id:i,dismissible:l,title:a}):d):this.addToast({title:a,...n,dismissible:l,id:i}),i},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:r,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),r),this.message=(r,s)=>this.create({...s,message:r}),this.error=(r,s)=>this.create({...s,message:r,type:"error"}),this.success=(r,s)=>this.create({...s,type:"success",message:r}),this.info=(r,s)=>this.create({...s,type:"info",message:r}),this.warning=(r,s)=>this.create({...s,type:"warning",message:r}),this.loading=(r,s)=>this.create({...s,type:"loading",message:r}),this.promise=(r,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:r,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const n=Promise.resolve(r instanceof Function?r():r);let i=a!==void 0,o;const l=n.then(async m=>{if(o=["resolve",m],ue.isValidElement(m))i=!1,this.create({id:a,type:"default",message:m});else if(lNe(m)&&!m.ok){i=!1;const f=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,g=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,w=typeof f=="object"&&!ue.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(m instanceof Error){i=!1;const f=typeof s.error=="function"?await s.error(m):s.error,g=typeof s.description=="function"?await s.description(m):s.description,w=typeof f=="object"&&!ue.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(s.success!==void 0){i=!1;const f=typeof s.success=="function"?await s.success(m):s.success,g=typeof s.description=="function"?await s.description(m):s.description,w=typeof f=="object"&&!ue.isValidElement(f)?f:{message:f};this.create({id:a,type:"success",description:g,...w})}}).catch(async m=>{if(o=["reject",m],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(m):s.error,f=typeof s.description=="function"?await s.description(m):s.description,y=typeof h=="object"&&!ue.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((m,h)=>l.then(()=>o[0]==="reject"?h(o[1]):m(o[1])).catch(h));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(r,s)=>{const a=(s==null?void 0:s.id)||wS++;return this.create({jsx:r(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bn=new iNe,oNe=(e,r)=>{const s=(r==null?void 0:r.id)||wS++;return Bn.addToast({title:e,...r,id:s}),s},lNe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cNe=oNe,dNe=()=>Bn.toasts,uNe=()=>Bn.getActiveToasts(),Ji=Object.assign(cNe,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:dNe,getToasts:uNe});nNe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const xN=(e,r)=>{switch(e){case"starter":return["1,000 monthly calls","3 team members","2 AI assistants","1 phone number","Basic analytics","Email support"];case"growth":return["10,000 monthly calls","10 team members","10 AI assistants","5 phone numbers","Advanced analytics","Priority support","Third-party integrations"];case"enterprise":return["Unlimited calls","Unlimited team members","Unlimited AI assistants","Unlimited phone numbers","Enterprise analytics","24/7 premium support","Custom SLA","Custom features"];default:return[]}},mNe=()=>[{id:"starter",name:"Starter",description:"Perfect for small teams getting started",price:99,interval:"month",features:xN("starter"),limits:{monthly_calls:1e3,team_members:3,ai_assistants:2,phone_numbers:1,api_calls:1e4}},{id:"growth",name:"Growth",description:"Scale your business with advanced features",price:299,interval:"month",recommended:!0,features:xN("growth"),limits:{monthly_calls:1e4,team_members:10,ai_assistants:10,phone_numbers:5,api_calls:1e5}},{id:"enterprise",name:"Enterprise",description:"Custom solutions for large organizations",price:999,interval:"month",features:xN("enterprise"),limits:{monthly_calls:-1,team_members:-1,ai_assistants:-1,phone_numbers:-1,api_calls:-1}}],hNe=()=>{vr();const[e,r]=p.useState(!0),[s,a]=p.useState(null),[n,i]=p.useState([]),[o,l]=p.useState([]),[d,m]=p.useState(null);p.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const[S,_,E]=await Promise.all([qs.get("/api/billing/subscription"),qs.get("/api/billing/payment-methods"),qs.get("/api/billing/history")]);a(S.data),i(_.data),l(E.data)}catch(S){console.error("Error fetching billing data:",S),Ji.error("Failed to load billing data. Please try again.")}finally{r(!1)}},f=async S=>{try{m(S);const _=await qs.post("/api/billing/upgrade",{plan_id:S});_.data.checkout_url?window.location.href=_.data.checkout_url:(await h(),Ji.success("Subscription upgraded successfully!"))}catch(_){console.error("Error upgrading subscription:",_),Ji.error("Failed to upgrade subscription. Please try again.")}finally{m(null)}},g=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{await qs.post("/api/billing/cancel"),await h(),Ji.success("Subscription cancelled successfully.")}catch(S){console.error("Error cancelling subscription:",S),Ji.error("Failed to cancel subscription. Please try again.")}},y=async()=>{try{const S=await qs.post("/api/billing/payment-method/setup");S.data.setup_url&&(window.location.href=S.data.setup_url)}catch(S){console.error("Error setting up payment method:",S),Ji.error("Failed to add payment method. Please try again.")}},w=async S=>{if(confirm("Are you sure you want to remove this payment method?"))try{await qs.delete(`/api/billing/payment-method/${S}`),await h(),Ji.success("Payment method removed successfully.")}catch(_){console.error("Error removing payment method:",_),Ji.error("Failed to remove payment method. Please try again.")}},b=async S=>{try{await qs.post(`/api/billing/payment-method/${S}/default`),await h(),Ji.success("Default payment method updated.")}catch(_){console.error("Error updating default payment method:",_),Ji.error("Failed to update default payment method.")}},v=(S,_)=>_===-1?0:Math.min(S/_*100,100),N=S=>S===-1?"Unlimited":S.toLocaleString();if(e)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx(Kn,{className:"h-8 w-8 animate-spin text-emerald-500"})});const C=mNe();return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-zinc-400",children:"Manage your subscription and billing settings"})}),t.jsxs(jo,{defaultValue:"subscription",className:"space-y-6",children:[t.jsxs(zi,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(bt,{value:"subscription",children:"Subscription"}),t.jsx(bt,{value:"payment",children:"Payment Methods"}),t.jsx(bt,{value:"history",children:"Billing History"})]}),t.jsxs(wt,{value:"subscription",className:"space-y-6",children:[s&&t.jsxs(K,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-white",children:"Current Subscription"}),t.jsx(vt,{className:"text-zinc-400",children:"Your current subscription details and usage"})]}),t.jsx(Pe,{className:`${s.status==="active"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-red-500/30 bg-red-500/20 text-red-400"}`,children:s.status})]})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white",children:[s.plan_name," Plan"]}),t.jsxs("p",{className:"text-zinc-400",children:["Renews on ",new Date(s.current_period_end).toLocaleDateString()]})]}),s.cancel_at_period_end&&t.jsxs(qt,{className:"border-red-500/30 bg-red-500/10",children:[t.jsx(Lt,{className:"h-4 w-4 text-red-400"}),t.jsx(Kt,{className:"text-red-400",children:"Your subscription will cancel at the end of the current period"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-white",children:"Usage This Period"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(ct,{className:"h-4 w-4"}),"AI Calls"]}),t.jsxs("span",{className:"text-white",children:[s.usage.calls.toLocaleString()," /"," ",N(s.limits.monthly_calls)]})]}),t.jsx(Jt,{value:v(s.usage.calls,s.limits.monthly_calls),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(Rt,{className:"h-4 w-4"}),"Team Members"]}),t.jsxs("span",{className:"text-white",children:[s.usage.team_members," /"," ",N(s.limits.team_members)]})]}),t.jsx(Jt,{value:v(s.usage.team_members,s.limits.team_members),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(ws,{className:"h-4 w-4"}),"AI Assistants"]}),t.jsxs("span",{className:"text-white",children:[s.usage.ai_assistants," /"," ",N(s.limits.ai_assistants)]})]}),t.jsx(Jt,{value:v(s.usage.ai_assistants,s.limits.ai_assistants),className:"h-2"})]})]})]}),!s.cancel_at_period_end&&t.jsx(H,{variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:g,children:"Cancel Subscription"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Available Plans"}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:C.map(S=>{const _=(s==null?void 0:s.plan_id)===S.id,E=s&&C.findIndex(A=>A.id===s.plan_id)<C.findIndex(A=>A.id===S.id);return t.jsxs(K,{className:`relative border-zinc-800 bg-zinc-900 ${S.recommended?"ring-2 ring-emerald-500":""}`,children:[S.recommended&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 transform",children:t.jsx(Pe,{className:"bg-emerald-500 text-white",children:"Recommended"})}),t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[S.name,S.id==="enterprise"&&t.jsx(rr,{className:"h-5 w-5"}),S.id==="growth"&&t.jsx($f,{className:"h-5 w-5 text-emerald-400"})]}),t.jsx(vt,{className:"text-zinc-400",children:S.description}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",S.price]}),t.jsx("span",{className:"text-zinc-400",children:"/month"})]})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsx("ul",{className:"space-y-2",children:S.features.map((A,T)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx(jm,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-emerald-400"}),t.jsx("span",{className:"text-zinc-300",children:A})]},T))}),_?t.jsx(H,{className:"w-full bg-zinc-800 text-zinc-400",disabled:!0,children:"Current Plan"}):t.jsx(H,{className:"w-full bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>f(S.id),disabled:d===S.id,children:d===S.id?t.jsx(Kn,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[E?`Upgrade to ${S.name}`:`Switch to ${S.name}`,t.jsx(Di,{className:"ml-1 h-4 w-4"})]})})]})]},S.id)})})]})]}),t.jsx(wt,{value:"payment",className:"space-y-6",children:t.jsxs(K,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-white",children:"Payment Methods"}),t.jsx(vt,{className:"text-zinc-400",children:"Manage your payment methods and billing information"})]}),t.jsx(H,{onClick:y,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Add Payment Method"})]})}),t.jsx(G,{children:n.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(ei,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No payment methods added yet"})]}):t.jsx("div",{className:"space-y-4",children:n.map(S=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ei,{className:"h-8 w-8 text-zinc-400"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[S.brand,"  ",S.last4]}),t.jsxs("p",{className:"text-sm text-zinc-400",children:["Expires ",S.exp_month,"/",S.exp_year]})]}),S.is_default&&t.jsx(Pe,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:"Default"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!S.is_default&&t.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(S.id),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:"Set as Default"}),t.jsx(H,{variant:"outline",size:"sm",onClick:()=>w(S.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:"Remove"})]})]},S.id))})})]})}),t.jsx(wt,{value:"history",className:"space-y-6",children:t.jsxs(K,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Billing History"}),t.jsx(vt,{className:"text-zinc-400",children:"View your past invoices and payment history"})]}),t.jsx(G,{children:o.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Ut,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No billing history available"})]}):t.jsx("div",{className:"space-y-4",children:o.map(S=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`rounded-lg p-2 ${S.status==="paid"?"bg-emerald-500/20":"bg-yellow-500/20"}`,children:t.jsx(za,{className:`h-5 w-5 ${S.status==="paid"?"text-emerald-400":"text-yellow-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:S.description}),t.jsx("p",{className:"text-sm text-zinc-400",children:new Date(S.date).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-white",children:["$",S.amount.toFixed(2)]}),t.jsx(Pe,{className:`${S.status==="paid"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]}),S.invoice_url&&t.jsx(H,{variant:"outline",size:"sm",onClick:()=>window.open(S.invoice_url,"_blank"),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:t.jsx(Nn,{className:"h-4 w-4"})})]})]},S.id))})})]})})]})]})},fNe=(e,r,s,a)=>{var i,o,l,d;const n=[s,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);fd(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(d=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&d.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},p3={},jS=(e,r,s,a)=>{fd(s)&&p3[s]||(fd(s)&&(p3[s]=new Date),fNe(e,r,s,a))},r9=(e,r)=>()=>{if(e.isInitialized)r();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),r()};e.on("initialized",s)}},NS=(e,r,s)=>{e.loadNamespaces(r,r9(e,s))},g3=(e,r,s,a)=>{if(fd(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(r)>-1)return NS(e,s,a);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(r,r9(e,a))},pNe=(e,r,s={})=>!r.languages||!r.languages.length?(jS(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),fd=e=>typeof e=="string",gNe=e=>typeof e=="object"&&e!==null,xNe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yNe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vNe=e=>yNe[e],bNe=e=>e.replace(xNe,vNe);let wNe={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:bNe};const jNe=()=>wNe;let NNe;const SNe=()=>NNe,CNe=p.createContext();class kNe{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _Ne=(e,r)=>{const s=p.useRef();return p.useEffect(()=>{s.current=e},[e,r]),s.current},s9=(e,r,s,a)=>e.getFixedT(r,s,a),PNe=(e,r,s,a)=>p.useCallback(s9(e,r,s,a),[e,r,s,a]),ANe=(e,r={})=>{var _,E,A,T;const{i18n:s}=r,{i18n:a,defaultNS:n}=p.useContext(CNe)||{},i=s||a||SNe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new kNe),!i){jS(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const M=(V,O)=>fd(O)?O:gNe(O)&&fd(O.defaultValue)?O.defaultValue:Array.isArray(V)?V[V.length-1]:V,z=[M,{},!1];return z.t=M,z.i18n={},z.ready=!1,z}(_=i.options.react)!=null&&_.wait&&jS(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...jNe(),...i.options.react,...r},{useSuspense:l,keyPrefix:d}=o;let m=e||n||((E=i.options)==null?void 0:E.defaultNS);m=fd(m)?[m]:m||["translation"],(T=(A=i.reportNamespaces).addUsedNamespaces)==null||T.call(A,m);const h=(i.isInitialized||i.initializedStoreOnce)&&m.every(M=>pNe(M,i,o)),f=PNe(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),g=()=>f,y=()=>s9(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),[w,b]=p.useState(g);let v=m.join();r.lng&&(v=`${r.lng}${v}`);const N=_Ne(v),C=p.useRef(!0);p.useEffect(()=>{const{bindI18n:M,bindI18nStore:z}=o;C.current=!0,!h&&!l&&(r.lng?g3(i,r.lng,m,()=>{C.current&&b(y)}):NS(i,m,()=>{C.current&&b(y)})),h&&N&&N!==v&&C.current&&b(y);const V=()=>{C.current&&b(y)};return M&&(i==null||i.on(M,V)),z&&(i==null||i.store.on(z,V)),()=>{C.current=!1,i&&M&&(M==null||M.split(" ").forEach(O=>i.off(O,V))),z&&i&&z.split(" ").forEach(O=>i.store.off(O,V))}},[i,v]),p.useEffect(()=>{C.current&&h&&b(g)},[i,d,h]);const S=[w,i,h];if(S.t=w,S.i18n=i,S.ready=h,h||!h&&!l)return S;throw new Promise(M=>{r.lng?g3(i,r.lng,m,()=>M()):NS(i,m,()=>M())})},v0=p.forwardRef(({checked:e,onCheckedChange:r,onClick:s},a)=>t.jsx("div",{ref:a,onClick:n=>{s==null||s(n),r==null||r(!e)},style:{width:"12px",height:"12px",border:"1px solid white",borderRadius:"0px",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e&&t.jsx(jm,{style:{width:"8px",height:"8px",color:"black",strokeWidth:3}})}));v0.displayName="SmallCheckbox";const Hc=({trigger:e,title:r,sortKey:s,onSort:a,onUnsort:n,onPinToggle:i,sortHistory:o=[],isPinned:l=!1,options:d,onOptionSelect:m,onHideColumn:h})=>{const[f,g]=p.useState(!1),y=p.useRef(null);p.useEffect(()=>{const b=v=>{y.current&&!y.current.contains(v.target)&&g(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const w=[];return d?d.forEach(b=>{w.push({label:b,icon:t.jsx("span",{className:"mr-2"}),onClick:()=>{m&&m(b),g(!1)}})}):(s&&a&&(w.push({label:"Sort ascending",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{a(s,"asc"),g(!1)}},{label:"Sort descending",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{a(s,"desc"),g(!1)}}),n&&w.push({label:"Unsort",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{n(),g(!1)}})),i&&w.push({label:l?"Unpin column":"Pin column",icon:t.jsx("span",{className:"mr-2",children:l?"":""}),onClick:()=>{i(),g(!1)}}),w.push({label:`Filter by ${r.toLowerCase()}`,icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>g(!1)},{label:"Hide column",icon:t.jsx("span",{className:"mr-2",children:""}),onClick:()=>{h&&h(),g(!1)}})),t.jsxs("div",{className:"relative",ref:y,children:[t.jsx("div",{onClick:()=>g(!f),children:e}),f&&t.jsx("div",{className:"absolute right-0 top-full z-[9999] mt-1 max-h-[300px] overflow-y-auto",style:{minWidth:"160px",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.7)",padding:"6px"},children:w.map((b,v)=>t.jsxs(ue.Fragment,{children:[v===2&&s&&t.jsx("div",{style:{height:"1px",backgroundColor:"#374151",margin:"6px 8px"}}),t.jsxs("div",{onClick:b.onClick,className:"text-white",style:{display:"flex",alignItems:"center",padding:"6px 10px",cursor:"pointer",borderRadius:"6px",color:"#ffffff !important",fontSize:"10px",backgroundColor:"transparent",transition:"all 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.backgroundColor="rgba(55, 65, 81, 0.5)",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(2px)"},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="transparent",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(0)"},children:[b.icon,b.label]})]},v))})]})},a9=p.createContext(void 0),ENe=()=>{const e=p.useContext(a9);if(!e)throw new Error("useContacts must be used within ContactsProvider");return e},TNe=({children:e})=>{const[r,s]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),{user:l,isSignedIn:d,isLoaded:m}=Ud(),h=async()=>{try{if(n(!0),o(null),!d||!l||!l.organization_id){console.log(" No user logged in or no organization, skipping contacts fetch"),s([]);return}const y=l.organization_id;console.log(` Fetching contacts for organization: ${y}`),console.log(` User: ${l.email} (${l.role})`);const{data:w,error:b}=await Ql.client.from("leads").select("*").eq("organization_id",y).order("created_at",{ascending:!1});if(console.log(" Raw contacts data:",w),console.log(" Fetch error:",b),b)throw b;const v=(w||[]).map(N=>{var C,S;return{id:N.id,firstName:N.first_name||void 0,lastName:N.last_name||void 0,email:N.email||void 0,phone:N.phone||void 0,company:N.company||void 0,title:N.job_title||void 0,status:N.status||"new",priority:N.priority||"medium",source:N.lead_source||N.source||"ai_voice_call",campaign:((C=N.campaigns)==null?void 0:C.name)||"General",notes:N.notes||void 0,cid:N.id,date:N.created_at,value:N.conversion_value||N.value||0,assignedTo:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",assignedToId:((S=N.uploaded_by)==null?void 0:S.id)||void 0,owner:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",lastContactDate:N.last_call_at||N.last_contact_date||N.created_at,nextFollowUp:N.next_call_at||N.next_follow_up||void 0,lastActivity:N.last_call_at||N.last_activity||N.created_at,activities:N.call_attempts||N.activities_count||0,tags:N.tags||[]}});s(v),console.log(` Loaded ${v.length} contacts from database`)}catch(y){console.error(" Error fetching contacts:",y),o(y instanceof Error?y.message:"Failed to fetch contacts")}finally{n(!1)}},f=async()=>{await h()};p.useEffect(()=>{m&&(d&&l&&l.organization_id?h():(n(!1),s([])))},[m,d,l==null?void 0:l.organization_id]);const g=(y,w)=>{s(b=>b.find(N=>N.id===y)?b.map(N=>N.id===y?{...N,status:w}:N):(console.warn(`Contact with ID ${y} not found`),b))};return t.jsx(a9.Provider,{value:{contacts:r,setContacts:s,updateContactStatus:g,loading:a,error:i,refreshContacts:f},children:e})},ol=C7,ONe=k7,RNe=_7,n9=p.forwardRef(({className:e,...r},s)=>t.jsx(S4,{ref:s,className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));n9.displayName=S4.displayName;const fo=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(RNe,{children:[t.jsx(n9,{}),t.jsxs(C4,{ref:a,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...s,children:[r,t.jsxs(P4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[t.jsx(At,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fo.displayName=C4.displayName;const po=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});po.displayName="DialogHeader";const Yd=({className:e,...r})=>t.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Yd.displayName="DialogFooter";const go=p.forwardRef(({className:e,...r},s)=>t.jsx(k4,{ref:s,className:$e("text-lg font-semibold leading-none tracking-tight",e),...r}));go.displayName=k4.displayName;const ll=p.forwardRef(({className:e,...r},s)=>t.jsx(_4,{ref:s,className:$e("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));ll.displayName=_4.displayName;const yN=[{key:"industry",title:"Industry",description:"Business sector classification",category:"Business Info",icon:Jx,width:"140px"},{key:"companySize",title:"Company Size",description:"Number of employees",category:"Business Info",icon:Rt,width:"120px"},{key:"location",title:"Location",description:"Geographic location",category:"Business Info",icon:el,width:"140px"},{key:"website",title:"Website",description:"Company website",category:"Business Info",icon:Xn,width:"140px"},{key:"pipelineValue",title:"Pipeline Value",description:"Estimated deal value",category:"Sales Data",icon:Qr,width:"130px"},{key:"leadScore",title:"Lead Score",description:"Lead quality rating (1-10)",category:"Sales Data",icon:Na,width:"110px"},{key:"interestLevel",title:"Interest Level",description:"Interest rating (1-10)",category:"Sales Data",icon:za,width:"120px"},{key:"priority",title:"Priority",description:"Lead priority level",category:"Sales Data",icon:Sr,width:"100px"},{key:"source",title:"Lead Source",description:"How lead was acquired",category:"Contact Data",icon:pM,width:"130px"},{key:"nextFollowUp",title:"Next Follow-up",description:"Scheduled follow-up date",category:"Contact Data",icon:cs,width:"140px"},{key:"lastCallOutcome",title:"Last Call Outcome",description:"Result of last call",category:"Contact Data",icon:ct,width:"150px"},{key:"callDuration",title:"Call Duration",description:"Average call length",category:"Contact Data",icon:Ut,width:"120px"},{key:"owner",title:"Lead Owner",description:"Assigned team member",category:"Assignment",icon:am,width:"130px"},{key:"title",title:"Job Title",description:"Contact job position",category:"Assignment",icon:iY,width:"130px"}];function MNe({isOpen:e,onClose:r,onSave:s,currentColumns:a}){const[n,i]=p.useState([]),[o,l]=p.useState({"Business Info":!0,"Sales Data":!0,"Contact Data":!0,Assignment:!0}),d=[...new Set(yN.map(w=>w.category))],m=yN.filter(w=>!a.includes(w.key)),h=w=>{i(b=>b.includes(w)?b.filter(v=>v!==w):[...b,w])},f=()=>{s(n),i([]),r()},g=()=>{i([]),r()},y=w=>{l(b=>({...b,[w]:!b[w]}))};return t.jsx(ol,{open:e,onOpenChange:r,children:t.jsxs(fo,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-gray-700",children:[t.jsxs(po,{children:[t.jsx(go,{className:"text-white",children:"Add Columns to CRM Table"}),t.jsx(ll,{className:"text-gray-400",children:"Select additional fields to display in your CRM table. Choose from business information, sales data, and contact details."})]}),t.jsx("div",{className:"grid grid-cols-2 gap-6 overflow-y-auto max-h-[500px] py-4 pr-2",children:d.map(w=>{const b=m.filter(v=>v.category===w);return b.length===0?null:t.jsxs(K,{className:"bg-gray-800/60 border-gray-600 hover:border-gray-500 transition-colors",children:[t.jsx(xe,{className:"pb-3 cursor-pointer hover:bg-gray-700/30 rounded-t-lg transition-colors",onClick:()=>y(w),children:t.jsxs(ye,{className:"text-sm text-white flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:w}),t.jsx(Pe,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border border-blue-500/30",children:b.length})]})}),o[w]&&t.jsx(G,{className:"space-y-3",children:b.map(v=>{const N=v.icon,C=n.includes(v.key);return t.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border cursor-pointer transition-all ${C?"border-blue-500 bg-blue-500/15 shadow-sm":"border-gray-600 hover:border-gray-500 hover:bg-gray-700/30"}`,onClick:()=>h(v.key),children:[t.jsx("div",{className:"mt-0.5",children:t.jsx("input",{type:"checkbox",checked:C,onChange:()=>h(v.key),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),t.jsx(N,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:v.title}),t.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:v.description})]})]},v.key)})})]},w)})}),n.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-4 bg-gray-800/30 -mx-6 px-6 rounded-b-lg",children:[t.jsxs("div",{className:"text-sm text-gray-300 mb-3 font-medium",children:["Selected fields (",n.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:n.map(w=>{const b=yN.find(v=>v.key===w);return b?t.jsx(Pe,{variant:"secondary",className:"bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:b.title},w):null})})]}),t.jsxs(Yd,{className:"gap-3",children:[t.jsx(H,{variant:"outline",onClick:g,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:"Cancel"}),t.jsxs(H,{onClick:f,disabled:n.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",n.length," Column",n.length!==1?"s":""]})]})]})})}const gv=({isOpen:e,onClose:r,callData:s})=>{var R,$,B,U,te;const[a,n]=p.useState(!1),[i,o]=p.useState(0),[l,d]=p.useState(1),[m,h]=p.useState(-1),[f,g]=p.useState(!1),y=p.useRef(null),w=p.useRef(null),b=p.useRef([]),v=p.useRef(null);p.useEffect(()=>{console.log(" CallLogDetailsModal received callData:",{hasData:!!s,callDataKeys:s?Object.keys(s):[],hasTranscript:!!(s!=null&&s.transcript),transcriptType:s!=null&&s.transcript?typeof s.transcript:"no transcript",transcriptIsArray:Array.isArray(s==null?void 0:s.transcript),transcriptLength:Array.isArray(s==null?void 0:s.transcript)||typeof(s==null?void 0:s.transcript)=="string"?s.transcript.length:0,transcriptSample:s!=null&&s.transcript?Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":"Unknown format":"No transcript",fullData:s})},[s]);const N=p.useRef([]);if(N.current.length===0)for(let L=0;L<100;L++){const q=Math.sin(L*.1)*20+Math.sin(L*.3)*15+Math.random()*25;N.current.push(30+Math.abs(q))}const[C,S]=p.useState(0),_=C||(s==null?void 0:s.duration)||0;p.useEffect(()=>{e&&s&&(console.log("CallLogDetailsModal opened with callData:"),console.log("  id:",s.id),console.log("  customerName:",s.customerName),console.log("  duration:",s.duration),console.log("  hasTranscript:",!!s.transcript),console.log("  transcriptType:",typeof s.transcript),console.log("  All callData keys:",Object.keys(s)),s.transcript?(console.log("  Transcript exists! Type:",typeof s.transcript),typeof s.transcript=="string"?(console.log("  Transcript (string) length:",s.transcript.length),console.log("  Transcript preview:",s.transcript.substring(0,100))):Array.isArray(s.transcript)&&(console.log("  Transcript (array) length:",s.transcript.length),console.log("  First item:",s.transcript[0]))):console.log("   NO TRANSCRIPT IN DATA!"))},[e,s]);const E=L=>{const F=Math.floor(L/60),q=Math.floor(L%60);return`${String(F).padStart(2,"0")}:${String(q).padStart(2,"0")}`},A=async()=>{if(y.current&&s&&s.recording)try{if(a)y.current.pause(),n(!1);else{let L=s.recording;(!y.current.src||!y.current.src.includes(encodeURIComponent(s.recording)))&&(y.current.src=L,await new Promise((F,q)=>{y.current.addEventListener("canplay",F,{once:!0}),y.current.addEventListener("error",q,{once:!0}),y.current.load()})),await y.current.play(),n(!0)}}catch(L){console.error("Playback error:",L),alert("Unable to play audio directly due to browser restrictions. Please use the Download button to save the recording."),n(!1)}else s!=null&&s.recording||alert("No recording available for this call.")},T=()=>{if(y.current&&s&&!f){const L=y.current.currentTime;o(Math.floor(L));const F=Array.isArray(s.transcript)?s.transcript.findIndex(q=>q.startTime!==void 0&&q.endTime!==void 0&&L>=q.startTime&&L<=q.endTime):-1;if(F!==m&&F!==-1&&(h(F),b.current[F]&&w.current)){const q=b.current[F],ee=w.current,W=q.offsetTop,Z=q.offsetHeight,ve=ee.offsetHeight,ne=ee.scrollTop;(W<ne||W+Z>ne+ve)&&ee.scrollTo({top:W-ve/2+Z/2,behavior:"smooth"})}}},M=L=>{if(!_||_===0||!v.current){console.log("Cannot seek: Duration is 0 or not available");return}const F=v.current.getBoundingClientRect(),ee=Math.max(0,Math.min(L.clientX-F.left,F.width))/F.width,W=ee*_;console.log(`Seeking to: ${W.toFixed(2)}s of ${_}s (${(ee*100).toFixed(1)}%)`),o(Math.floor(W)),y.current&&(s!=null&&s.recording)&&(y.current.currentTime=W)},z=L=>{f&&(L.preventDefault(),M(L))},V=()=>{f&&(g(!1),console.log("Stopped dragging"))};p.useEffect(()=>{if(f)return document.addEventListener("mousemove",z),document.addEventListener("mouseup",V),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",V)}},[f,_]);const O=L=>{d(L),y.current&&(y.current.playbackRate=L)};return p.useEffect(()=>{if(y.current&&s){const L=y.current,F=()=>{n(!1),o(0),h(-1)};return L.addEventListener("timeupdate",T),L.addEventListener("ended",F),()=>{L.removeEventListener("timeupdate",T),L.removeEventListener("ended",F)}}},[m,s]),p.useEffect(()=>{e||(n(!1),o(0),h(-1),g(!1),y.current&&(y.current.pause(),y.current.currentTime=0))},[e]),p.useEffect(()=>{if(!e||!y.current||!_)return;const L=F=>{switch(F.key){case" ":F.preventDefault(),A();break;case"ArrowLeft":F.preventDefault();const q=Math.max(0,y.current.currentTime-5);y.current.currentTime=q,o(Math.floor(q)),console.log("Skipped back 5 seconds");break;case"ArrowRight":F.preventDefault();const ee=Math.min(_,y.current.currentTime+5);y.current.currentTime=ee,o(Math.floor(ee)),console.log("Skipped forward 5 seconds");break}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,_,a]),!e||!s?null:(console.log(" DEBUG: CallLogDetailsModal received callData:",{id:s.id,duration:s.duration,cost:s.cost,recording:s.recording,customerName:s.customerName,effectiveDuration:_,audioDuration:C,hasTranscript:!!s.transcript,transcriptType:typeof s.transcript,transcriptIsArray:Array.isArray(s.transcript),transcriptLength:typeof s.transcript=="string"||Array.isArray(s.transcript)?s.transcript.length:0,transcriptPreview:typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):"No transcript"}),t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-end bg-black/60 p-0 backdrop-blur-sm",onClick:r,children:t.jsx("div",{className:"h-full w-[50%] overflow-hidden border-l border-gray-700/50 bg-[#1a1a1a] shadow-2xl",onClick:L=>L.stopPropagation(),children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700/50 bg-[#1a1a1a] p-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-3",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-6 w-6 text-blue-400",children:t.jsx("path",{d:"M237.2,151.87v0a47.1,47.1,0,0,0-2.35-5.45L193.26,51.8a7.82,7.82,0,0,0-1.66-2.44,32,32,0,0,0-45.26,0A8,8,0,0,0,144,55V80H112V55a8,8,0,0,0-2.34-5.66,32,32,0,0,0-45.26,0,7.82,7.82,0,0,0-1.66,2.44L21.15,146.4a47.1,47.1,0,0,0-2.35,5.45v0A48,48,0,1,0,112,168V96h32v72a48,48,0,1,0,93.2-16.13ZM76.71,59.75a16,16,0,0,1,19.29-1v73.51a47.9,47.9,0,0,0-46.79-9.92ZM64,200a32,32,0,1,1,32-32A32,32,0,0,1,64,200ZM160,58.74a16,16,0,0,1,19.29,1l27.5,62.58A47.9,47.9,0,0,0,160,132.25ZM192,200a32,32,0,1,1,32-32A32,32,0,0,1,192,200Z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Call Log Details"}),s.customerName&&t.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:["with ",s.customerName,"  ",E(_)]})]})]}),t.jsx("button",{onClick:r,className:"rounded-xl p-2 text-gray-400 transition-all duration-200 hover:bg-gray-700/50 hover:text-white",children:t.jsx(At,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"overflow-y-auto flex-shrink-0 border-b border-gray-700/50 bg-[#1a1a1a] p-4",style:{maxHeight:"40%"},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:"Call Details"}),t.jsx("div",{className:"flex items-center gap-2",children:s.status&&t.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${s.status==="completed"?"bg-green-500/10 text-green-400":s.status==="failed"?"bg-red-500/10 text-red-400":"bg-gray-800/30 text-gray-400"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Contact"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Name:"}),t.jsx("span",{className:"text-white font-medium",children:s.customerName||"Unknown"})]}),s.customerPhone&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Phone:"}),t.jsx("span",{className:"text-white font-mono text-xs",children:s.customerPhone})]}),s.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Company:"}),t.jsx("span",{className:"text-white",children:s.customerCompany})]}),s.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Email:"}),t.jsx("span",{className:"text-white text-xs",children:s.customerEmail})]})]})]}),t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Call Stats"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Duration:"}),t.jsx("span",{className:"text-lg font-mono text-white font-medium",children:E(_)})]}),s.cost!==void 0&&s.cost>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Cost:"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:["$",s.cost.toFixed(3)]})]}),s.direction&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Direction:"}),t.jsx("span",{className:"text-white capitalize",children:s.direction})]})]})]})]}),(s.campaignName||s.startedAt||s.vapiCallId)&&t.jsxs("div",{className:"mb-4 space-y-2 rounded-lg bg-gray-800/30 p-3",children:[s.campaignName&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"text-white",children:s.campaignName})]}),s.startedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:new Date(s.startedAt).toLocaleString()})]}),s.endedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:new Date(s.endedAt).toLocaleString()})]}),s.vapiCallId&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI ID:"}),t.jsxs("span",{className:"text-white font-mono text-xs",children:[s.vapiCallId.substring(0,8),"..."]})]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Space: Play/Pause  : Skip 5s  Click/Drag: Seek"})]}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:E(_)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:A,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:a?t.jsx(vd,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Qn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4 cursor-pointer select-none",onMouseDown:L=>{if(L.preventDefault(),L.stopPropagation(),!_||_===0){console.log("Cannot seek: Duration is 0 or not available");return}const F=L.currentTarget.getBoundingClientRect(),q=L.clientX-F.left,ee=Math.max(0,Math.min(1,q/F.width)),W=ee*_;y.current&&s.recording&&(console.log(`Waveform seek to: ${W.toFixed(2)}s of ${_}s (${(ee*100).toFixed(1)}%)`),y.current.currentTime=W,o(Math.floor(W)))},children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5 pointer-events-none",children:N.current.map((L,F)=>{const q=_>0&&F/100*_<=i;return t.jsx("div",{className:"flex-1 rounded-t transition-all",style:{height:`${L}%`,backgroundColor:q?"#10b981":"#4b5563",opacity:q?1:.5,transition:"background-color 150ms ease-out"}},F)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50 pointer-events-none",style:{left:`${_>0?i/_*100:0}%`}}),t.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-800 rounded text-xs text-white whitespace-nowrap",children:"Click to seek"})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("select",{value:l,onChange:L=>O(Number(L.target.value)),className:"rounded-xl border border-gray-600/50 bg-gray-800/50 px-3 py-3 text-sm text-white transition-all focus:border-green-500/50 focus:ring-2 focus:ring-green-500/50 focus:outline-none",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:.75,children:"0.75x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.25,children:"1.25x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:1.75,children:"1.75x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("button",{onClick:()=>{s.recording&&window.open(s.recording,"_blank")},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Nn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:E(i)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",E(Math.max(0,_-i))]})]}),t.jsxs("div",{ref:v,className:"relative h-12 flex items-center cursor-pointer select-none",onMouseDown:L=>{if(L.preventDefault(),L.stopPropagation(),!_||_===0){console.log("Cannot seek: Duration is 0 or not available");return}g(!0),M(L),console.log("Started dragging")},onClick:L=>{L.preventDefault(),L.stopPropagation(),M(L)},style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0"}),t.jsx("div",{className:"absolute inset-x-0 h-2 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${_>0?i/_*100:0}%`,transition:f?"none":"width 100ms"}})}),t.jsx("div",{className:`absolute top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg ${f?"h-5 w-5":"h-4 w-4"} transition-all`,style:{left:`${_>0?i/_*100:0}%`,boxShadow:f?"0 0 0 8px rgba(34, 197, 94, 0.3)":"0 0 0 4px rgba(34, 197, 94, 0.2)",cursor:f?"grabbing":"grab",transition:f?"none":"all 100ms"}}),t.jsx("div",{className:"absolute -top-8 left-0 right-0 flex justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded",children:f?"Drag to seek":"Click or drag to seek"})})]})]})]})]})}),s.recording&&t.jsx("audio",{ref:y,src:s.recording,preload:"metacallData",onError:L=>{console.error("Audio loading error:",L),console.error("Failed to load:",s.recording),n(!1)},onLoadedMetadata:L=>{const F=L.currentTarget;console.log("Audio metadata loaded:",{duration:F.duration,src:F.src}),F.duration&&!isNaN(F.duration)&&(S(F.duration),console.log("Set audio duration to:",F.duration))},onDurationChange:L=>{const F=L.currentTarget;F.duration&&!isNaN(F.duration)&&(S(F.duration),console.log("Duration changed to:",F.duration))},onCanPlay:()=>{console.log("Audio ready to play")}})]})]}),t.jsxs(jo,{defaultValue:"transcripts",className:"flex flex-1 flex-col bg-[#1a1a1a] min-h-0",children:[t.jsx("div",{className:"border-b border-gray-700/50 bg-[#1a1a1a] px-6",children:t.jsxs(zi,{className:"h-14 space-x-8 bg-transparent p-0",children:[t.jsxs(bt,{value:"transcripts",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,48H160a40,40,0,0,0-32,16A40,40,0,0,0,96,48H24a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H96a24,24,0,0,1,24,24,8,8,0,0,0,16,0,24,24,0,0,1,24-24h72a8,8,0,0,0,8-8V56A8,8,0,0,0,232,48ZM96,192H32V64H96a24,24,0,0,1,24,24V200A39.81,39.81,0,0,0,96,192Zm128,0H160a39.81,39.81,0,0,0-24,8V88a24,24,0,0,1,24-24h64Z"})}),"Transcripts"]}),t.jsxs(bt,{value:"logs",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),"Logs"]}),t.jsxs(bt,{value:"analysis",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"})}),"Analysis"]}),t.jsxs(bt,{value:"messages",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M93.31,70,28,128l65.27,58a8,8,0,1,1-10.62,12l-72-64a8,8,0,0,1,0-12l72-64A8,8,0,1,1,93.31,70Zm152,52-72-64a8,8,0,0,0-10.62,12L228,128l-65.27,58a8,8,0,1,0,10.62,12l72-64a8,8,0,0,0,0-12Z"})}),"Messages"]}),t.jsxs(bt,{value:"cost",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V200H224A8,8,0,0,1,232,208ZM132,160a12,12,0,1,0-12-12A12,12,0,0,0,132,160Zm-24-56A12,12,0,1,0,96,92,12,12,0,0,0,108,104ZM76,176a12,12,0,1,0-12-12A12,12,0,0,0,76,176Zm96-48a12,12,0,1,0-12-12A12,12,0,0,0,172,128Zm24-40a12,12,0,1,0-12-12A12,12,0,0,0,196,88Zm-20,76a12,12,0,1,0,12-12A12,12,0,0,0,176,164Z"})}),"Call Cost"]})]})}),t.jsxs("div",{className:"mx-6 mb-6 mt-6 flex min-h-0 w-auto flex-1 flex-col rounded-2xl border border-gray-700/30 bg-gray-900/40 px-6 py-4 backdrop-blur-sm",children:[t.jsx(wt,{value:"transcripts",className:"mt-2 flex flex-1 flex-col",children:t.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-700/30",children:t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transcript"})}),t.jsx("div",{ref:w,className:"flex-1 overflow-y-auto space-y-4 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",style:{maxHeight:"calc(100vh - 400px)",minHeight:"200px"},children:s&&s.transcript&&Array.isArray(s.transcript)?t.jsx(t.Fragment,{children:s.transcript.map((L,F)=>t.jsxs("div",{ref:q=>b.current[F]=q,className:"flex flex-col space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("strong",{className:`text-sm font-bold ${L.speaker==="user"?"text-blue-400":"text-green-400"}`,children:L.speaker==="user"?"User":"AI"})}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 p-3 text-sm text-gray-300",children:L.text})]},F))}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[t.jsx("p",{className:"text-lg",children:"No transcript available"}),t.jsxs("p",{className:"text-xs mt-2",children:["Debug: callData=",s?"exists":"null",", transcript=",s!=null&&s.transcript?"exists":"null",", isArray=",Array.isArray(s==null?void 0:s.transcript)?"yes":"no"]})]})})]})}),t.jsxs(wt,{value:"logs",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"logs-tab-content",children:[t.jsx("div",{className:"sticky top-0 z-10 mb-4 border-b border-gray-700/30 bg-gray-900/40 pb-3 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-row items-center gap-3",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-5 w-5 text-gray-400",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),t.jsx("span",{className:"text-lg font-semibold text-white",children:"Logs"})]})}),t.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4a5568 #2d3748"},children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:883"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:162"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:442"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly stopping"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Endpointing timeout 600ms (rule: `heuristic`)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Transcriber output: Hello?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:923"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech stopped"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:964"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started (attempt #1, gpt-4.1-2025-04-14, azure-openai, westus)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:333"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request active (attempt #1, 0 buffered outputs)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:334"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model sent start token"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:336"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: Hello"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:380"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: , is it possible to speak to Harris please?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:827"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request cost (attempt #1, $0.004544, 2228 prompt, 11 completion)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-blue-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-blue-400",children:"[INFO]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Turn latency: 1889ms (transcriber: 0ms, endpointing: 762ms, kb: n/a, model: 374ms, voice: 727ms)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:28:489"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech stopped"})]}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 transition-colors hover:bg-gray-800/30",children:t.jsxs("div",{className:"flex items-start space-x-3 p-3",children:[t.jsx("span",{className:"w-20 rounded bg-gray-800/50 px-2 py-1 font-mono text-xs text-gray-500",children:"11:53:30:321"}),t.jsx("span",{className:"flex-shrink-0 rounded bg-cyan-400/10 px-2 py-1 text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-sm text-gray-300",children:"Transcriber output: Speaking."})]})})]})]}),t.jsx(wt,{value:"analysis",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"analysis-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Analysis"}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Sentiment Analysis"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Overall Sentiment:"}),t.jsx("span",{className:`${(R=s.analysis)!=null&&R.sentiment&&s.analysis.sentiment>.6?"text-green-400":"text-yellow-400"}`,children:($=s.analysis)!=null&&$.sentiment&&s.analysis.sentiment>.6?"Positive":"Neutral"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Confidence:"}),t.jsxs("span",{className:"text-white",children:[((((B=s.analysis)==null?void 0:B.sentiment)||0)*100).toFixed(0),"%"]})]})]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Call Summary"}),t.jsx("div",{className:"text-sm text-gray-300",children:(U=s.analysis)==null?void 0:U.summary})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Keywords"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(te=s.analysis)==null?void 0:te.keywords.map((L,F)=>t.jsx("span",{className:"rounded border border-gray-600 bg-gray-800 px-2 py-1 text-xs text-gray-300",children:L},F))})]})]})}),t.jsx(wt,{value:"messages",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"messages-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Messages"}),t.jsx("div",{className:"text-sm text-gray-400",children:t.jsx("p",{children:"Messages and notifications related to this call."})})]})}),t.jsx(wt,{value:"cost",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"cost-breakdown-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Cost Breakdown"}),t.jsxs("div",{className:"rounded-lg bg-gray-800/30 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Call Duration"}),t.jsx("span",{className:"text-2xl font-mono text-white font-medium",children:E(_)})]}),_>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.floor(_/60)," minutes ",Math.floor(_%60)," seconds"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Rate per Minute:"}),t.jsx("span",{className:"text-white",children:"$0.037"})]}),_>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Calculated Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(_/60*.037).toFixed(3)]})]}),t.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[t.jsx("span",{className:"font-medium text-gray-400",children:"Total Cost:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:["$",s.cost?s.cost.toFixed(2):"0.00"]})]})]})]})})]})]})]})})}))},ea=(e,r="")=>e||r,INe=[{id:"user-1",name:"Sarah Wilson",email:"s.wilson@company.com",role:"Sales Manager",isActive:!0},{id:"user-2",name:"Mark Johnson",email:"m.johnson@company.com",role:"Sales Rep",isActive:!0},{id:"user-3",name:"Emily Chen",email:"e.chen@company.com",role:"Sales Rep",isActive:!0},{id:"user-4",name:"David Rodriguez",email:"d.rodriguez@company.com",role:"Sales Rep",isActive:!0},{id:"user-5",name:"Lisa Park",email:"l.park@company.com",role:"SDR",isActive:!0}],qc={new:{label:"New",color:"bg-white/20 border border-white/50 text-white",icon:ts},contacted:{label:"Contacted",color:"bg-yellow-500/20 border border-yellow-500/50 text-yellow-400",icon:ct},interested:{label:"Interested",color:"bg-orange-500/20 border border-orange-500/50 text-orange-400",icon:oo},qualified:{label:"Qualified",color:"bg-amber-500/20 border border-amber-500/50 text-amber-400",icon:jt},converted:{label:"Converted",color:"bg-amber-600/20 border border-amber-600/50 text-amber-500",icon:Sr},unqualified:{label:"Unqualified",color:"bg-red-500/20 border border-red-500/50 text-red-400",icon:Pi}};function DNe(){const e=vr(),{t:r}=ANe(["crm","common"]),s=oe=>({id:`call_${oe.id}_001`,duration:Math.floor(Math.random()*300)+60,transcript:[{speaker:"ai",text:`Hello, is this ${ea(oe.firstName,"there")}?`},{speaker:"user",text:"Yes, this is me."},{speaker:"ai",text:`Hi ${ea(oe.firstName,"there")}, this is Sarah from Apex AI Solutions. I hope I'm not catching you at a bad time. I'm calling because we've developed an innovative AI calling solution that's been helping companies like ${ea(oe.company,"yours")} increase their outreach efficiency. Would you be interested in learning more?`},{speaker:"user",text:oe.status==="interested"?"Yes, that sounds very interesting. Tell me more.":"I might be interested, but I'm quite busy right now."},{speaker:"ai",text:oe.status==="interested"?"Great! Our AI platform can handle hundreds of calls simultaneously and provides detailed analytics. Would you like to schedule a demo?":"I understand you're busy. Would it be better if I called back at a more convenient time?"}],recording:"/mock-audio.wav",analysis:{sentiment:oe.status==="interested"?.8:oe.status==="contacted"?.6:.4,keywords:["AI","solution",ea(oe.company,""),"efficiency"].filter(Ne=>Ne),summary:`Call with ${ea(oe.firstName)} ${ea(oe.lastName)} from ${ea(oe.company)}. ${oe.status==="interested"?"Expressed strong interest in AI solutions.":oe.status==="contacted"?"Showed moderate interest, needs follow-up.":"Limited interest shown."}`},cost:+(Math.random()*2+.25).toFixed(2)}),a=oe=>{J(oe),le(!0)},{contacts:n}=ENe(),i=t.jsx("style",{children:`
      /* Campaign Details style table */
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }
      
      /* Modern table headers */
      thead th {
        background: rgba(31, 41, 55, 0.8) !important;
        backdrop-filter: blur(8px) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        color: #ffffff !important;
        font-weight: 600;
        text-transform: none;
        position: relative;
        padding: 12px 16px !important;
      }
      
      /* Table rows with Campaign Details styling */
      tbody tr {
        background: rgba(31, 41, 55, 0.4);
        border: 1px solid rgba(55, 65, 81, 0.3);
        transition: all 0.2s ease;
      }
      
      tbody tr:hover {
        background: rgba(31, 41, 55, 0.6);
        border-color: rgba(55, 65, 81, 0.5);
      }
      
      tbody td {
        border: none !important;
        padding: 12px 16px !important;
        vertical-align: middle;
      }
      
      /* Checkbox styling */
      input[type="checkbox"],
      button[role="checkbox"] {
        background-color: rgba(31, 41, 55, 0.8) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        border-radius: 4px;
      }
      
      button[role="checkbox"][data-state="checked"] {
        background-color: rgb(16, 185, 129) !important;
        border-color: rgb(16, 185, 129) !important;
      }
      
      /* Search input styling */
      .search-input-small {
        font-size: 10px !important;
      }
      
      .search-input-small::placeholder {
        font-size: 10px !important;
        color: #9CA3AF !important;
      }
    `}),[o,l]=p.useState([]),[d,m]=p.useState("table"),[h,f]=p.useState(""),[g,y]=p.useState("all"),[w,b]=p.useState("all"),[v,N]=p.useState("all"),[C,S]=p.useState("All leads"),[_,E]=p.useState("lastActivity"),[A,T]=p.useState("desc"),[M,z]=p.useState([]),[V,O]=p.useState({}),[R,$]=p.useState({}),[B,U]=p.useState(["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"]),[te,L]=p.useState(null),[F,q]=p.useState(null),[ee,W]=p.useState(!1),[Z,ve]=p.useState("contacts"),[ne,I]=p.useState(!1),[we,le]=p.useState(!1),[ke,J]=p.useState(null),[Ce,fe]=p.useState(!1),[Q,he]=p.useState([]),[Se,Te]=p.useState({status:!0,tags:!0,quickFilters:!0}),Ve=[...n.filter(oe=>{const Ne=h===""||oe.firstName&&oe.firstName.toLowerCase().includes(h.toLowerCase())||oe.lastName&&oe.lastName.toLowerCase().includes(h.toLowerCase())||oe.email&&oe.email.toLowerCase().includes(h.toLowerCase())||oe.company&&oe.company.toLowerCase().includes(h.toLowerCase())||oe.phone&&oe.phone.includes(h),Be=g==="all"||oe.status===g,lt=w==="all"||oe.assignedToId===w,Nt=v==="all"||oe.tags.includes(v),ir=(()=>{switch(C){case"All leads":return!0;case"My leads":return oe.assignedTo==="Sarah Johnson";case"Junk leads":return oe.status==="unqualified";case"Call backs":return oe.tags.includes("callback")||oe.status==="contacted";case"Today's leads":const _t=new Date;return new Date(oe.dateAdded).toDateString()===_t.toDateString();default:return!0}})();return Ne&&Be&&lt&&Nt&&ir})].sort((oe,Ne)=>{let Be=oe[_],lt=Ne[_];return typeof Be=="string"&&(Be=Be.toLowerCase()),typeof lt=="string"&&(lt=lt.toLowerCase()),A==="asc"?Be<lt?-1:Be>lt?1:0:Be>lt?-1:Be<lt?1:0});n.length,n.filter(oe=>oe.status==="new").length,n.filter(oe=>oe.status==="qualified").length,n.filter(oe=>oe.status==="converted").length,n.reduce((oe,Ne)=>oe+Ne.value,0),n.filter(oe=>new Date(oe.lastContactDate)>new Date("2025-01-01")).length;const ht=oe=>{l(Ne=>Ne.includes(oe)?Ne.filter(Be=>Be!==oe):[...Ne,oe])},de=()=>{l(o.length===Ve.length?[]:Ve.map(oe=>oe.id))},Le=oe=>{z(Ne=>[...Ne,oe]),U(Ne=>Ne.filter(Be=>Be!==oe))},nt=oe=>{z(lt=>lt.filter(Nt=>Nt!==oe));const Be=["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"].indexOf(oe);U(lt=>{const Nt=[...lt];return Nt.splice(Be,0,oe),Nt})},xt=(oe,Ne)=>{const Be=Ne||(_===oe?A==="asc"?"desc":"asc":"desc");O(lt=>{const Nt=lt[oe]||[];return Nt.includes(Be)?lt:{...lt,[oe]:[...Nt,Be]}}),E(oe),T(Be)},ar=oe=>{E("lastActivity"),T("desc"),O(Ne=>({...Ne,[oe]:[]}))},qr=oe=>{$(Ne=>({...Ne,[oe]:!Ne[oe]}))},Gt=(oe,Ne)=>{L(Ne),oe.dataTransfer.effectAllowed="move",oe.dataTransfer.setData("text/html",Ne);const Be=document.createElement("div");Be.innerHTML=fs[Ne].title,Be.style.cssText=`
      position: absolute;
      top: -1000px;
      background: rgba(16, 185, 129, 0.9);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    `,document.body.appendChild(Be),oe.dataTransfer.setDragImage(Be,0,0),setTimeout(()=>document.body.removeChild(Be),0)},Zt=oe=>{oe.preventDefault(),oe.dataTransfer.dropEffect="move"},Kr=(oe,Ne)=>{oe.preventDefault(),te&&te!==Ne&&q(Ne)},gr=oe=>{const Ne=oe.relatedTarget;oe.currentTarget.contains(Ne)||q(null)},Ye=(oe,Ne)=>{if(oe.preventDefault(),!te||te===Ne)return;const Be=[...B],lt=Be.indexOf(te),Nt=Be.indexOf(Ne);Be.splice(lt,1),Be.splice(Nt,0,te),U(Be),L(null),q(null)},xr=()=>{L(null),q(null)},kr=Array.from(new Set(n.flatMap(oe=>oe.tags))),_a={firstName:{title:"name",minWidth:"320px"},company:{title:"company",minWidth:"240px"},status:{title:"status",minWidth:"128px"},assignedTo:{title:"owner",minWidth:"192px"},campaign:{title:"campaign",minWidth:"160px"},phone:{title:"phone",minWidth:"140px"},cid:{title:"CID",minWidth:"120px"},date:{title:"Created Date",minWidth:"120px"},lastActivity:{title:"last activity",minWidth:"192px"}},ur={industry:{title:"industry",minWidth:"140px"},companySize:{title:"company size",minWidth:"120px"},location:{title:"location",minWidth:"140px"},website:{title:"website",minWidth:"140px"},pipelineValue:{title:"pipeline value",minWidth:"130px"},leadScore:{title:"lead score",minWidth:"110px"},interestLevel:{title:"interest level",minWidth:"120px"},priority:{title:"priority",minWidth:"100px"},source:{title:"lead source",minWidth:"130px"},nextFollowUp:{title:"next follow-up",minWidth:"140px"},lastCallOutcome:{title:"last call outcome",minWidth:"150px"},callDuration:{title:"call duration",minWidth:"120px"},owner:{title:"lead owner",minWidth:"130px"},title:{title:"job title",minWidth:"130px"}},fs={..._a,...Object.fromEntries(Q.map(oe=>[oe,ur[oe]]))},Yt=(oe,Ne)=>{const Be=qc[Ne.status]||qc.new,lt=Be.icon;switch(oe){case"firstName":return t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center text-xs font-semibold text-white",children:[ea(Ne.firstName)," ",ea(Ne.lastName),Ne.isStarred&&t.jsx(ld,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"text-xs text-gray-400",children:ea(Ne.email)})]})});case"company":return t.jsx("div",{className:"flex items-center",children:t.jsx("div",{className:"text-xs font-medium text-white",children:ea(Ne.company)})});case"status":return t.jsxs(Pe,{className:`${Be.color} px-2 py-1 text-xs font-medium`,children:[t.jsx(lt,{className:"mr-1 h-3 w-3"}),Be.label]});case"assignedTo":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:Ne.assignedTo.split(" ").map(Wa=>Wa[0]).join("")}),t.jsx("span",{className:"text-xs text-white font-medium",children:Ne.assignedTo})]});case"campaign":return t.jsx("div",{className:"inline-flex items-center rounded-full bg-gray-500/20 px-2 py-1 text-xs font-medium text-gray-300 border border-gray-500/30",children:Ne.campaign});case"phone":return t.jsxs("div",{className:"flex items-center",children:[t.jsx(ct,{className:"mr-1 h-3 w-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-white font-medium",children:ea(Ne.phone)})]});case"cid":return t.jsx("span",{className:"font-mono text-xs text-white",children:Ne.cid||"N/A"});case"date":return t.jsx("span",{className:"text-xs text-white",children:ww(Ne.date)});case"lastActivity":return t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-white font-medium",children:ww(Ne.lastActivity)}),t.jsxs("div",{className:"flex items-center text-gray-400",style:{fontSize:"10px"},children:[t.jsx(Ns,{className:"mr-1 h-2.5 w-2.5"}),Ne.activities," activities"]})]});case"industry":return t.jsx("span",{className:"text-xs text-white",children:Ne.industry||"N/A"});case"companySize":return t.jsx("span",{className:"text-xs text-white",children:Ne.companySize||"N/A"});case"location":return t.jsx("span",{className:"text-xs text-white",children:Ne.location||"N/A"});case"website":return t.jsx("span",{className:"text-xs text-gray-400 hover:text-gray-300",children:Ne.website||"N/A"});case"pipelineValue":return t.jsxs("span",{className:"text-xs text-amber-400",children:["$",Ne.pipelineValue?Number(Ne.pipelineValue).toLocaleString():"0"]});case"leadScore":const Nt=Ne.leadScore||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${Nt>=8?"text-amber-400":Nt>=6?"text-yellow-400":"text-red-400"}`,children:[Nt,"/10"]})});case"interestLevel":const ir=Ne.interestLevel||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${ir>=8?"text-amber-400":ir>=6?"text-yellow-400":"text-red-400"}`,children:[ir,"/10"]})});case"priority":const _t=Ne.priority||"medium",Pa={high:"text-red-400",medium:"text-yellow-400",low:"text-amber-400"};return t.jsx("span",{className:`text-xs font-medium ${Pa[_t]}`,children:_t.charAt(0).toUpperCase()+_t.slice(1)});case"source":return t.jsx("span",{className:"text-xs text-white",children:Ne.source||"N/A"});case"nextFollowUp":const _s=Ne.nextFollowUp;return t.jsx("span",{className:"text-xs text-white",children:_s?ww(_s):"Not scheduled"});case"lastCallOutcome":const Aa=Ne.lastCallOutcome||"N/A",oa={interested:"text-amber-400","not-interested":"text-red-400",callback:"text-yellow-400",voicemail:"text-gray-400","no-answer":"text-gray-400"};return t.jsx("span",{className:`text-xs ${oa[Aa]||"text-white"}`,children:Aa.replace("-"," ").replace(/\b\w/g,Wa=>Wa.toUpperCase())});case"callDuration":const as=Ne.callDuration||0,ps=Math.floor(as/60),$s=as%60;return t.jsx("span",{className:"text-xs text-white",children:as>0?`${ps}:${$s.toString().padStart(2,"0")}`:"N/A"});case"owner":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:(Ne.owner||"U").split(" ").map(Wa=>Wa[0]).join("")}),t.jsx("span",{className:"text-xs text-white",children:Ne.owner||"Unassigned"})]});case"title":return t.jsx("span",{className:"text-xs text-white",children:Ne.title||Ne.title||"N/A"});default:return t.jsx("span",{className:"text-xs text-white",children:"-"})}},on=oe=>{he(Ne=>[...Ne,...oe]),U(Ne=>[...Ne,...oe])};ue.useEffect(()=>{setTimeout(()=>{const Be=Array.from(document.styleSheets).filter(Nt=>{try{return Nt.href&&(Nt.href.includes("chrome-extension://")||Nt.href.includes("moz-extension://")||Nt.href.includes("extension"))}catch{return!1}});Be.length>0&&(console.log(" Browser extensions detected affecting CSS:",Be.length),console.log("Extensions:",Be.map(Nt=>Nt.href)));const lt=document.createElement("style");lt.textContent=`
        table thead th {
          background: #1f2937 !important;
          background-color: #1f2937 !important;
          color: #ffffff !important;
        }
      `,lt.setAttribute("data-force-override","true"),document.head.appendChild(lt)},100)},[]),ue.useEffect(()=>{const oe=()=>{const Be=document.querySelector(".table-scroll-container");Be&&I(Be.scrollTop>300)},Ne=document.querySelector(".table-scroll-container");if(Ne)return Ne.addEventListener("scroll",oe),()=>Ne.removeEventListener("scroll",oe)},[]);const Mt=oe=>{Te(Ne=>({...Ne,[oe]:!Ne[oe]}))},zt=({title:oe,sortKey:Ne,minWidth:Be})=>{const lt=te===Ne,Nt=F===Ne;return t.jsxs("th",{className:`relative whitespace-nowrap px-6 py-5 text-left transition-all duration-300 ease-out ${Ne?"cursor-move":""} ${lt?"scale-95 opacity-40":Nt?"bg-gray-700/50":"hover:bg-gray-700/30"}`,style:{background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",minWidth:Be,transform:Nt?"scale(1.02)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"sticky",top:0,zIndex:45},draggable:!!Ne,onDragStart:Ne?ir=>Gt(ir,Ne):void 0,onDragOver:Zt,onDragEnter:Ne?ir=>Kr(ir,Ne):void 0,onDragLeave:gr,onDrop:Ne?ir=>Ye(ir,Ne):void 0,onDragEnd:xr,children:[Nt&&t.jsx("div",{className:"pointer-events-none absolute inset-0 animate-pulse rounded bg-gradient-to-r from-gray-600/20 to-gray-400/20"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsxs("div",{className:"group flex items-center",children:[Ne&&t.jsx("div",{className:`drag-handle mr-2 transition-all duration-300 ${lt?"rotate-45 scale-125 transform text-gray-400":"text-gray-500 group-hover:scale-110 group-hover:text-gray-400"}`,title:"Drag to reorder column",children:t.jsx(pY,{className:"h-3.5 w-3.5"})}),t.jsx("span",{className:`text-sm font-semibold transition-all duration-300 ${lt?"text-gray-400":"text-white"}`,style:{textTransform:"capitalize"},children:oe})]}),t.jsx(Hc,{trigger:t.jsx("div",{className:"cursor-pointer text-white transition-all hover:scale-110 hover:text-gray-300",children:t.jsx(Nm,{className:"h-3 w-3"})}),title:oe,sortKey:Ne,onSort:(ir,_t)=>{xt(ir,_t)},onUnsort:Ne?()=>ar(Ne):void 0,onPinToggle:Ne?()=>qr(Ne):void 0,onHideColumn:Ne?()=>Le(Ne):void 0,sortHistory:Ne?V[Ne]||[]:[],isPinned:Ne&&R[Ne]||!1})]})]})};return t.jsxs(ue.Fragment,{children:[i,t.jsx("div",{className:"h-full w-full bg-black overflow-hidden flex flex-col",children:t.jsxs("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:[t.jsx("div",{className:"bg-black pb-4 flex-shrink-0",children:t.jsx("div",{className:"mb-4 max-w-full",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx(H,{variant:"outline",size:"sm",onClick:()=>W(!ee),className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:t.jsx(OY,{className:"h-4 w-4"})}),t.jsx(Hc,{trigger:t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[C,t.jsx(os,{className:"ml-2 h-4 w-4"})]}),title:"Lead Type",options:["All leads","My leads","Junk leads","Call backs","Today's leads"],onSelect:oe=>S(oe)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Hc,{trigger:t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:["10 Records per page",t.jsx(os,{className:"ml-2 h-4 w-4"})]}),title:"10 Records per page",options:["10 Records per page","20 Records per page","30 Records per page","40 Records per page","50 Records per page"]}),t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export"]}),t.jsx(Hc,{trigger:t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[d==="table"?t.jsx(vY,{className:"h-4 w-4"}):t.jsx(yY,{className:"h-4 w-4"}),t.jsx(os,{className:"ml-2 h-4 w-4"})]}),title:"View Mode",options:["Table View","Tile View"],onOptionSelect:oe=>{oe==="Table View"&&m("table"),oe==="Tile View"&&m("tile")}}),t.jsx(Hc,{trigger:t.jsxs(H,{variant:"outline",size:"sm",className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"New Lead",t.jsx(os,{className:"ml-2 h-4 w-4"})]}),title:"Add Lead",options:["Import Leads","New Lead"]}),t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",onClick:()=>fe(!0),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Columns"]}),M.length>0&&t.jsx(Hc,{trigger:t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Tr,{className:"mr-2 h-4 w-4"}),r("common:actions.view_details")," ",r("common:table.columns")," (",M.length,")",t.jsx(os,{className:"ml-2 h-4 w-4"})]}),title:`${r("common:actions.view_details")} ${r("common:table.columns")}`,options:M.map(oe=>{var Ne;return`${r("common:actions.view_details")} ${((Ne=fs[oe])==null?void 0:Ne.title)||oe}`}),onOptionSelect:oe=>{const Ne=M.find(Be=>{var lt;return oe.includes(((lt=fs[Be])==null?void 0:lt.title)||Be)});Ne&&nt(Ne)}})]})]})})}),t.jsxs("div",{className:"mb-6 flex items-center justify-between flex-shrink-0",children:[t.jsx("div",{className:"text-sm text-gray-400",children:r("common:data_states.showing_total",{total:n.length})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(mc,{className:"h-4 w-4"})}),t.jsx("span",{className:"text-xs text-gray-400",children:"1 - 50"}),t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(Di,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"mb-4 border-b border-gray-700 flex-shrink-0"}),o.length>0&&t.jsx("div",{className:"sticky top-0 z-20 flex-shrink-0 border-b border-gray-700 bg-gray-900 px-6 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm font-medium text-white",children:[o.length," contact",o.length!==1?"s":""," ","selected"]}),t.jsxs(H,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(na,{className:"mr-2 h-3.5 w-3.5"}),"Mail"]}),t.jsxs(H,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(cs,{className:"mr-2 h-3.5 w-3.5"}),"Create Task"]}),t.jsx(Hc,{trigger:t.jsxs(H,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:["Actions",t.jsx(os,{className:"ml-2 h-3.5 w-3.5"})]}),title:"Actions",options:["Mass Update","Change Owner","Delete"]})]}),t.jsx("button",{className:"p-1 text-gray-400 transition-all hover:text-gray-300",onClick:()=>l([]),children:t.jsx(Pi,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"main-content-scroll flex flex-1 overflow-hidden pl-6",style:{gap:ee?"24px":"0px"},children:[t.jsx("div",{className:`mt-6 h-[calc(100vh-140px)] rounded-lg border border-gray-800 bg-gray-900 transition-all duration-300 ease-in-out ${ee?"w-64 translate-x-0 overflow-y-auto p-4 opacity-100":"w-0 -translate-x-full overflow-hidden border-0 p-0 opacity-0"}`,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"flex items-center text-sm font-semibold text-white",children:[t.jsx(Zx,{className:"mr-2 h-4 w-4 text-amber-500"}),"Filters"]}),t.jsx("button",{className:"text-xs text-gray-400 hover:text-white",onClick:()=>{f(""),y("all"),b("all"),N("all"),S("All leads")},children:"Clear all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx("input",{type:"text",placeholder:"Name, email, company...",value:h,onChange:oe=>f(oe.target.value),style:{fontSize:"10px",color:"#ffffff",backgroundColor:"rgba(31, 41, 55, 0.5)",borderColor:"rgba(55, 65, 81, 0.7)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"6px",paddingLeft:"32px",paddingRight:"12px",paddingTop:"8px",paddingBottom:"8px",height:"32px",width:"100%",outline:"none"},className:"search-input-small"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Mt("status"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Status"}),t.jsx(os,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Se.status?"rotate-180 transform":""}`})]}),Se.status&&t.jsx("div",{className:"space-y-1",children:Object.entries(qc).map(([oe,Ne])=>{const Be=Ne.icon,lt=g===oe;return t.jsxs("button",{onClick:()=>y(lt?"all":oe),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${lt?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Be,{className:"mr-2 h-3 w-3"}),Ne.label]}),t.jsx("span",{className:"text-gray-500",children:n.filter(Nt=>Nt.status===oe).length})]},oe)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Owner"}),t.jsxs(tt,{value:w,onValueChange:b,children:[t.jsx(Qe,{className:"h-8 border-gray-700 bg-gray-800 text-xs",children:t.jsx(rt,{placeholder:"All owners"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900/95 backdrop-blur-sm",children:[t.jsx(ae,{value:"all",className:"text-xs",children:"All owners"}),INe.map(oe=>t.jsx(ae,{value:oe.id,className:"text-xs",children:oe.name},oe.id))]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Mt("tags"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Tags"}),t.jsx(os,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Se.tags?"rotate-180 transform":""}`})]}),Se.tags&&t.jsxs("div",{className:"space-y-1",children:[kr.slice(0,5).map(oe=>{const Ne=v===oe;return t.jsxs("button",{onClick:()=>N(Ne?"all":oe),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${Ne?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(pM,{className:"mr-2 h-3 w-3"}),oe]}),t.jsx("span",{className:"text-gray-500",children:n.filter(Be=>Be.tags.includes(oe)).length})]},oe)}),kr.length>5&&t.jsxs("button",{className:"text-xs text-amber-400 hover:text-amber-300",children:["+",kr.length-5," more"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Mt("quickFilters"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Quick filters"}),t.jsx(os,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Se.quickFilters?"rotate-180 transform":""}`})]}),Se.quickFilters&&t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(ld,{className:"mr-2 h-3 w-3 text-yellow-400"}),"Starred only"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Ut,{className:"mr-2 h-3 w-3 text-gray-400"}),"Recently active"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Na,{className:"mr-2 h-3 w-3 text-amber-400"}),"High value"]})]})]})]})}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out min-h-0",children:d==="table"?t.jsx("div",{className:"flex flex-1 flex-col overflow-hidden min-h-0",children:t.jsx("div",{className:"table-scroll-container flex-1 overflow-x-auto overflow-y-auto bg-gradient-to-b from-black to-gray-950",style:{maxWidth:"calc(100vw - 140px)"},children:t.jsxs("table",{className:"w-full min-w-max",children:[t.jsx("thead",{className:"sticky top-0 z-40 bg-gradient-to-b from-gray-900 to-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"sticky left-0 z-50 px-6 py-5 text-center bg-gradient-to-r from-gray-900 to-gray-800",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(v0,{checked:o.length===Ve.length,onCheckedChange:de})})}),B.map(oe=>{const Ne=fs[oe];return t.jsx(zt,{title:Ne.title,sortKey:oe,minWidth:Ne.minWidth},oe)})]})}),t.jsx("tbody",{className:"",children:Ve.map(oe=>((qc[oe.status]||qc.new).icon,t.jsxs("tr",{className:"cursor-pointer text-xs transition-all duration-200 hover:bg-gray-900/30 group",onClick:()=>e(`/leads/${oe.id}`),children:[t.jsx("td",{className:"z-5 sticky left-0 px-6 py-4 bg-black group-hover:bg-gray-900/50",onClick:Be=>Be.stopPropagation(),children:t.jsx(v0,{checked:o.includes(oe.id),onCheckedChange:()=>ht(oe.id)})}),B.map(Be=>{const lt=fs[Be];return t.jsx("td",{className:"whitespace-nowrap px-6 py-4",style:{minWidth:lt.minWidth},children:Yt(Be,oe)},Be)})]},oe.id)))})]})})}):t.jsx("div",{className:"overflow-y-auto p-6",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Ve.map(oe=>{const Ne=qc[oe.status]||qc.new,Be=Ne.icon;return t.jsx(K,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all hover:border-gray-600 hover:bg-gray-800/50",onClick:()=>e(`/leads/${oe.id}`),children:t.jsxs(G,{className:"p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center text-sm font-medium text-white",children:[ea(oe.firstName)," ",ea(oe.lastName),oe.isStarred&&t.jsx(ld,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"mt-1 text-xs text-gray-400",children:ea(oe.email)})]}),t.jsx("div",{onClick:lt=>lt.stopPropagation(),className:"-m-2 p-2",children:t.jsx(v0,{checked:o.includes(oe.id),onCheckedChange:()=>ht(oe.id)})})]}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsx("div",{className:"text-sm text-white",children:ea(oe.company)}),t.jsx("div",{className:"text-xs text-gray-400",children:oe.title})]}),t.jsx("div",{className:"mb-3 flex items-center justify-between",children:t.jsxs(Pe,{className:`${Ne.color} text-xs text-white`,children:[t.jsx(Be,{className:"mr-1 h-3 w-3"}),Ne.label]})}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx("div",{className:"mr-2 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-gray-500 to-gray-600 text-xs font-medium text-white",children:oe.assignedTo.split(" ").map(lt=>lt[0]).join("")}),t.jsx("span",{className:"text-gray-300",children:oe.assignedTo})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Campaign: ",oe.campaign||"Q4 Growth"]}),t.jsx("div",{className:"text-xs text-gray-400",children:ea(oe.phone)})]}),t.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-amber-600 hover:bg-amber-700 text-white border-amber-600 hover:border-amber-700",onClick:lt=>{lt.stopPropagation(),a(oe)},children:[t.jsx(ct,{className:"mr-1 h-3 w-3"}),"Call"]}),t.jsxs(H,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 hover:border-emerald-700",children:[t.jsx(na,{className:"mr-1 h-3 w-3"}),"Email"]})]})]})},oe.id)})})})})]})]})}),t.jsx(gv,{isOpen:we,onClose:()=>le(!1),callData:ke?s(ke):void 0}),t.jsx(MNe,{isOpen:Ce,onClose:()=>fe(!1),onSave:on,availableColumns:[],currentColumns:[...Object.keys(_a),...Q]})]})}function LNe(){const[e,r]=p.useState([]),[s,a]=p.useState({transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0}),[n,i]=p.useState(!1),[o,l]=p.useState("today"),d=async()=>{var g,y,w,b,v,N;i(!0);try{const C=await c1.getCalls({limit:1e3}),S=[];let _={transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0};for(const E of C){const A=E.duration||0,T={transport:A*.0075,stt:A*5e-4,llm:(((g=E.messages)==null?void 0:g.length)||0)*.002,tts:(((y=E.messages)==null?void 0:y.filter(z=>z.role==="assistant").length)||0)*.001,vapi:A*.001,total:0,llmPromptTokens:(((w=E.messages)==null?void 0:w.length)||0)*50,llmCompletionTokens:(((b=E.messages)==null?void 0:b.filter(z=>z.role==="assistant").length)||0)*30,ttsCharacters:(((v=E.messages)==null?void 0:v.filter(z=>z.role==="assistant").length)||0)*100};T.total=T.transport+T.stt+T.llm+T.tts+T.vapi;const M={id:`cost_${E.id}`,callId:E.id,leadName:((N=E.customer)==null?void 0:N.name)||"Unknown",campaign:"Campaign Name",duration:h(E.startedAt,E.endedAt),status:E.status,timestamp:E.startedAt||new Date().toISOString(),costs:T};S.push(M),_.transport+=T.transport,_.stt+=T.stt,_.llm+=T.llm,_.tts+=T.tts,_.vapi+=T.vapi,_.total+=T.total,_.llmPromptTokens+=T.llmPromptTokens,_.llmCompletionTokens+=T.llmCompletionTokens,_.ttsCharacters+=T.ttsCharacters}r(S),a(_)}catch(C){console.error("Failed to fetch cost data:",C),m()}finally{i(!1)}},m=()=>{const g={transport:45.67,stt:12.34,llm:23.45,tts:8.9,vapi:6.78,total:97.14,llmPromptTokens:12500,llmCompletionTokens:8500,ttsCharacters:45e3},y=[{id:"cost_1",callId:"call_1",leadName:"John Smith",campaign:"Sales Campaign A",duration:"3:45",status:"ended",timestamp:new Date().toISOString(),costs:{transport:1.69,stt:.45,llm:.89,tts:.33,vapi:.25,total:3.61,llmPromptTokens:450,llmCompletionTokens:320,ttsCharacters:1200}},{id:"cost_2",callId:"call_2",leadName:"Sarah Johnson",campaign:"Sales Campaign B",duration:"2:30",status:"ended",timestamp:new Date(Date.now()-36e5).toISOString(),costs:{transport:1.13,stt:.3,llm:.67,tts:.25,vapi:.19,total:2.54,llmPromptTokens:380,llmCompletionTokens:280,ttsCharacters:950}}];r(y),a(g)},h=(g,y)=>{if(!g||!y)return"0:00";const w=new Date(g),v=new Date(y).getTime()-w.getTime(),N=Math.floor(v/6e4),C=Math.floor(v%6e4/1e3);return`${N}:${C.toString().padStart(2,"0")}`},f=()=>{const g=[];return s.llm>s.transport&&g.push({type:"warning",title:"High LLM Costs",description:"Consider optimizing your assistant prompts to reduce token usage",savings:"$"+(s.llm*.3).toFixed(2)}),s.tts>s.stt&&g.push({type:"info",title:"TTS vs STT Balance",description:"Your TTS costs exceed STT costs. Consider shorter responses.",savings:"$"+(s.tts*.2).toFixed(2)}),g};return p.useEffect(()=>{d()},[o]),t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Real-time VAPI cost tracking and optimization"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(tt,{value:o,onValueChange:l,children:[t.jsx(Qe,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"today",children:"Today"}),t.jsx(ae,{value:"week",children:"This Week"}),t.jsx(ae,{value:"month",children:"This Month"}),t.jsx(ae,{value:"quarter",children:"This Quarter"})]})]}),t.jsxs(H,{onClick:d,disabled:n,variant:"outline",className:"border-gray-700 text-gray-300",children:[t.jsx(aa,{className:`mr-2 h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),t.jsxs(H,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Transport"}),t.jsxs("p",{className:"text-xl font-bold text-blue-400",children:["$",s.transport.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Call routing"})]}),t.jsx(ct,{className:"h-6 w-6 text-blue-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"STT"}),t.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",s.stt.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Speech recognition"})]}),t.jsx(SY,{className:"h-6 w-6 text-green-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"LLM"}),t.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["$",s.llm.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.llmPromptTokens.toLocaleString()," tokens"]})]}),t.jsx(mM,{className:"h-6 w-6 text-emerald-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"TTS"}),t.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:["$",s.tts.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.ttsCharacters.toLocaleString()," chars"]})]}),t.jsx(IY,{className:"h-6 w-6 text-yellow-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"VAPI"}),t.jsxs("p",{className:"text-xl font-bold text-orange-400",children:["$",s.vapi.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Platform fee"})]}),t.jsx(Ns,{className:"h-6 w-6 text-orange-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total"}),t.jsxs("p",{className:"text-xl font-bold text-white",children:["$",s.total.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"All services"})]}),t.jsx(Qr,{className:"h-6 w-6 text-white"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(oY,{className:"h-5 w-5"}),"Cost Distribution"]})}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),t.jsx("span",{className:"text-gray-300",children:"Transport"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jt,{value:s.transport/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.transport.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Speech-to-Text"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jt,{value:s.stt/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.stt.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-gray-300",children:"LLM Processing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jt,{value:s.llm/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.llm.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Text-to-Speech"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jt,{value:s.tts/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.tts.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"VAPI Platform"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jt,{value:s.vapi/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.vapi.toFixed(3)]})]})]})]})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(T0,{className:"h-5 w-5"}),"Cost Optimization"]})}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[f().map((g,y)=>t.jsx("div",{className:"rounded-lg bg-gray-800/50 p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ms,{className:"mt-0.5 h-5 w-5 text-yellow-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:g.title}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:g.description}),t.jsx("div",{className:"mt-2 flex items-center justify-between",children:t.jsxs(Pe,{variant:"outline",className:"border-green-400 text-green-400",children:["Potential savings: ",g.savings]})})]})]})},y)),f().length===0&&t.jsxs("div",{className:"py-4 text-center text-gray-400",children:[t.jsx(Na,{className:"mx-auto mb-2 h-12 w-12 text-gray-600"}),t.jsx("p",{children:"Your costs are well optimized!"}),t.jsx("p",{className:"mt-1 text-sm",children:"No immediate optimization opportunities found."})]})]})})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(za,{className:"h-5 w-5"}),"Detailed Call Costs"]})}),t.jsx(G,{children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Lead"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Campaign"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Duration"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Status"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Transport"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"STT"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"LLM"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"TTS"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"VAPI"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Total"})]})}),t.jsx("tbody",{children:e.slice(0,10).map((g,y)=>t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"py-3 text-white",children:g.leadName}),t.jsx("td",{className:"py-3 text-gray-400",children:g.campaign}),t.jsx("td",{className:"py-3 text-gray-400",children:g.duration}),t.jsx("td",{className:"py-3",children:t.jsx(Pe,{className:g.status==="ended"?"bg-green-500":g.status==="in-progress"?"bg-blue-500":"bg-gray-500",children:g.status})}),t.jsxs("td",{className:"py-3 text-right text-blue-400",children:["$",g.costs.transport.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-green-400",children:["$",g.costs.stt.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-emerald-400",children:["$",g.costs.llm.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-yellow-400",children:["$",g.costs.tts.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-orange-400",children:["$",g.costs.vapi.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right font-medium text-white",children:["$",g.costs.total.toFixed(3)]})]},g.id))})]}),e.length>10&&t.jsx("div",{className:"mt-4 text-center",children:t.jsxs(H,{variant:"outline",className:"border-gray-700 text-gray-300",children:["Load More (",e.length-10," remaining)"]})})]})})]})]})}const $Ne="http://localhost:3001/api";class zNe{async makeRequest(r,s={}){const a=localStorage.getItem("auth_token")||localStorage.getItem("supabase_token"),n=`${$Ne}${r}`;console.log(" API Request:",{method:s.method||"GET",url:n,hasToken:!!a,token:a?`${a.substring(0,10)}...`:"none"});const i=await fetch(n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...s.headers},...s});if(console.log(" API Response:",{status:i.status,statusText:i.statusText}),!i.ok){const l=await i.json().catch(()=>({error:"Network error"}));throw console.error(" API Error:",l),new Error(l.error||`HTTP ${i.status}`)}const o=await i.json();return console.log(" API Success:",o),o}async getApiConfiguration(r){try{const s=await this.makeRequest(`/api/api-configurations/${r}`);return!s||Object.keys(s).length===0?null:s}catch(s){throw console.error("Error in getApiConfiguration:",s),s}}async saveApiConfiguration(r,s){try{console.log(" Saving API configuration:",{serviceName:r,configuration:s});const a=await this.makeRequest(`/api/api-configurations/${r}`,{method:"POST",body:JSON.stringify({configuration:s})});return console.log(" API configuration saved successfully:",a),a.id}catch(a){throw console.error(" Error in saveApiConfiguration:",a),a}}async getAllApiConfigurations(){try{return await this.makeRequest("/api/api-configurations")}catch(r){throw console.error("Error fetching all API configurations:",r),r}}async deleteApiConfiguration(r){try{await this.makeRequest(`/api/api-configurations/${r}`,{method:"DELETE"})}catch(s){throw console.error("Error in deleteApiConfiguration:",s),s}}async testApiConfiguration(r,s){try{switch(r){case"stripe":return!!(s.publicKey&&s.secretKey&&s.publicKey.startsWith("pk_")&&s.secretKey.startsWith("sk_"));case"openai":return!!(s.apiKey&&s.apiKey.startsWith("sk-"));case"supabase":return!!(s.url&&s.anonKey&&s.url.includes("supabase")&&s.anonKey.length>10);default:return!1}}catch(a){return console.error(`Error testing ${r} configuration:`,a),!1}}async getConfigurationAuditLog(r){try{const s=new URLSearchParams;r&&s.append("serviceName",r);const a=`/api/api-configurations-audit${s.toString()?`?${s.toString()}`:""}`;return await this.makeRequest(a)}catch(s){throw console.error("Error in getConfigurationAuditLog:",s),s}}}const vN=new zNe;function FNe(){const e={language:"en-GB",changeLanguage:ne=>{localStorage.setItem("apex-language",ne)}},{preferences:r,updatePreferences:s}=Pm(),{toast:a}=Vr(),{userContext:n}=dl(),[i,o]=p.useState(!1),[l,d]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(!1),[b,v]=p.useState(!1),[N,C]=p.useState({stripe:{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:{apiKey:"",organizationId:"",model:"gpt-4"},supabase:{url:"",anonKey:"",serviceRoleKey:""}}),[S,_]=p.useState(!1),[E,A]=p.useState({stripe:{publicKey:!1,secretKey:!1,webhookSecret:!1},openai:{apiKey:!1},supabase:{anonKey:!1,serviceRoleKey:!1}}),[T,M]=p.useState({fullName:`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim(),email:(n==null?void 0:n.email)||"",company:(n==null?void 0:n.organization_name)||"",timezone:"Eastern Time"}),[z,V]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,R]=p.useState(!1),[$,B]=p.useState(!1),[U,te]=p.useState(e.language);p.useEffect(()=>{y&&L()},[y]);const L=async()=>{_(!0);try{const ne=await vN.getAllApiConfigurations();C({stripe:ne.stripe||{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:ne.openai||{apiKey:"",organizationId:"",model:"gpt-4"},supabase:ne.supabase||{url:"",anonKey:"",serviceRoleKey:""}})}catch(ne){console.error("Error loading API configurations:",ne),a({title:"Error loading configurations",description:"Failed to load API configurations. Please try again.",variant:"destructive"})}finally{_(!1)}},F=async()=>{o(!0);try{a({title:"Changes saved",description:"Your settings have been updated successfully."})}catch{a({title:"Error",description:"Failed to save changes.",variant:"destructive"})}finally{o(!1)}},q=async()=>{if(!z.currentPassword||!z.newPassword||!z.confirmPassword){a({title:"Error",description:"Please fill in all password fields.",variant:"destructive"});return}if(z.newPassword!==z.confirmPassword){a({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(z.newPassword.length<8){a({title:"Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}o(!0);try{await new Promise(ne=>setTimeout(ne,1e3)),a({title:"Password updated",description:"Your password has been changed successfully."}),V({currentPassword:"",newPassword:"",confirmPassword:""})}catch{a({title:"Error",description:"Failed to change password. Please try again.",variant:"destructive"})}finally{o(!1)}},ee=ne=>{te(ne),e.changeLanguage(ne),localStorage.setItem("apex-language",ne),a({title:"Language updated",description:"Platform language changed successfully."})},W=async()=>{v(!0);try{f==="admin123"||f.length>=6?(w(!0),h(!1),g(""),a({title:"Access granted",description:"You now have access to API management settings."})):a({title:"Invalid password",description:"Please enter your correct password.",variant:"destructive"})}catch{a({title:"Verification failed",description:"Failed to verify password. Please try again.",variant:"destructive"})}finally{v(!1)}},Z=async ne=>{if(console.log(" Debug - User Context:",n),console.log(" Debug - Organization ID:",n==null?void 0:n.organization_id),!(n!=null&&n.organization_id)){console.error(" No organization ID found in user context"),a({title:"Error",description:"Organization ID not found. Please try logging in again.",variant:"destructive"});return}o(!0);try{const I=N[ne];if(!await vN.testApiConfiguration(ne,I)){a({title:"Invalid configuration",description:`Please check your ${ne} configuration values.`,variant:"destructive"}),o(!1);return}await vN.saveApiConfiguration(ne,I),a({title:"Configuration saved",description:`${ne.charAt(0).toUpperCase()+ne.slice(1)} API settings have been updated successfully.`})}catch(I){console.error(`Error saving ${ne} configuration:`,I),a({title:"Save failed",description:`Failed to save ${ne} API configuration: ${I instanceof Error?I.message:"Unknown error"}`,variant:"destructive"})}finally{o(!1)}},ve=(ne,I)=>{A(we=>({...we,[ne]:{...we[ne],[I]:!we[ne][I]}}))};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 px-4 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),t.jsx("p",{className:"text-gray-400",children:"Manage your account settings and preferences"})]}),t.jsxs(H,{onClick:F,disabled:i,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Wt,{className:"mr-2 h-4 w-4"}),i?"Saving...":"Save Changes"]})]}),t.jsxs(jo,{defaultValue:"profile",className:"space-y-6",children:[t.jsxs(zi,{className:`grid w-full border-gray-800 bg-gray-900 ${(n==null?void 0:n.role)==="platform_owner"?"grid-cols-4":"grid-cols-3"}`,children:[t.jsxs(bt,{value:"profile",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(ts,{className:"mr-2 h-4 w-4"}),"Profile"]}),t.jsxs(bt,{value:"notifications",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Go,{className:"mr-2 h-4 w-4"}),"Notifications"]}),t.jsxs(bt,{value:"appearance",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Appearance"]}),(n==null?void 0:n.role)==="platform_owner"&&t.jsxs(bt,{value:"api-management",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",onClick:()=>{y||h(!0)},children:[t.jsx(yd,{className:"mr-2 h-4 w-4"}),"API Management"]})]}),t.jsxs(wt,{value:"profile",className:"space-y-6",children:[t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(ts,{className:"h-5 w-5 text-emerald-400"}),"Profile Information"]}),t.jsx("p",{className:"text-gray-400",children:"Update your personal information and preferences"})]}),t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(sc,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),t.jsx(Ee,{id:"fullName",value:T.fullName,onChange:ne=>M({...T,fullName:ne.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),t.jsx(Ee,{id:"email",type:"email",value:T.email,onChange:ne=>M({...T,email:ne.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"company",className:"text-gray-300",children:"Company"}),t.jsx(Ee,{id:"company",value:T.company,onChange:ne=>M({...T,company:ne.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"timezone",className:"text-gray-300",children:"Timezone"}),t.jsxs(tt,{value:T.timezone,onValueChange:ne=>M({...T,timezone:ne}),children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"Eastern Time",children:"Eastern Time"}),t.jsx(ae,{value:"Central Time",children:"Central Time"}),t.jsx(ae,{value:"Mountain Time",children:"Mountain Time"}),t.jsx(ae,{value:"Pacific Time",children:"Pacific Time"}),t.jsx(ae,{value:"GMT",children:"GMT"})]})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-white",children:[t.jsx(Xn,{className:"h-4 w-4 text-emerald-400"}),"Language & Region"]}),t.jsxs("div",{className:"max-w-sm",children:[t.jsx(re,{htmlFor:"language",className:"text-gray-300",children:"Language"}),t.jsxs(tt,{value:U,onValueChange:ee,children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"en-US",children:" English (US)"}),t.jsx(ae,{value:"en-GB",children:" English (UK)"}),t.jsx(ae,{value:"de",children:" German"}),t.jsx(ae,{value:"fr",children:" French"}),t.jsx(ae,{value:"it",children:" Italian"}),t.jsx(ae,{value:"es",children:" Spanish"}),t.jsx(ae,{value:"ru",children:" Russian"}),t.jsx(ae,{value:"sr",children:" Serbian"}),t.jsx(ae,{value:"mt",children:" Maltese"})]})]})]})]})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(ja,{className:"h-5 w-5 text-emerald-400"}),"Change Password"]}),t.jsx("p",{className:"text-gray-400",children:"Update your account password for enhanced security"})]}),t.jsx("div",{className:"mb-6 rounded-lg border border-gray-700 bg-gray-900/30 p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Password Status"}),t.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Security Level"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Strong"})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Password Age"}),t.jsx("span",{className:"text-xs text-gray-300",children:"Unknown"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"currentPassword",type:l?"text":"password",value:z.currentPassword,onChange:ne=>V({...z,currentPassword:ne.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"current-password"}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!l),children:l?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"newPassword",type:O?"text":"password",value:z.newPassword,onChange:ne=>V({...z,newPassword:ne.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>R(!O),children:O?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"confirmPassword",type:$?"text":"password",value:z.confirmPassword,onChange:ne=>V({...z,confirmPassword:ne.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>B(!$),children:$?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-400",children:t.jsx("p",{children:"Password must be at least 8 characters long"})}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(H,{onClick:q,disabled:i||!z.currentPassword||!z.newPassword||!z.confirmPassword,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Wt,{className:"mr-2 h-4 w-4"}),i?"Changing Password...":"Change Password"]})})]})]}),t.jsx(wt,{value:"notifications",className:"space-y-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Notification Preferences"}),t.jsx(vt,{className:"text-gray-400",children:"Choose how and when you want to be notified"})]}),t.jsx(G,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),t.jsx(Fr,{checked:r.emailNotifications,onCheckedChange:ne=>s({emailNotifications:ne})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Push Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive push notifications in your browser"})]}),t.jsx(Fr,{checked:r.pushNotifications,onCheckedChange:ne=>s({pushNotifications:ne})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via SMS"})]}),t.jsx(Fr,{checked:r.smsNotifications,onCheckedChange:ne=>s({smsNotifications:ne})})]})]})})]})}),t.jsx(wt,{value:"appearance",className:"space-y-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Appearance Settings"}),t.jsx(vt,{className:"text-gray-400",children:"Customize how the platform looks and feels"})]}),t.jsx(G,{children:t.jsx("p",{className:"text-gray-400",children:"Appearance settings coming soon..."})})]})}),(n==null?void 0:n.role)==="platform_owner"&&t.jsx(wt,{value:"api-management",className:"space-y-6",children:y?t.jsxs("div",{className:"space-y-6",children:[S&&t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Kn,{className:"h-8 w-8 animate-spin text-emerald-400"}),t.jsx("span",{className:"ml-2 text-gray-400",children:"Loading API configurations..."})]}),!S&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Manage your API integrations securely. All sensitive data is encrypted."}),t.jsxs(H,{variant:"outline",size:"sm",onClick:L,className:"border-gray-700",children:[t.jsx(aa,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(ei,{className:"h-5 w-5 text-emerald-400"}),"Stripe API Configuration"]}),t.jsx(vt,{className:"text-gray-400",children:"Configure Stripe payment processing integration for billing and subscriptions."})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"stripePublicKey",className:"text-gray-300",children:"Publishable Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"stripePublicKey",type:E.stripe.publicKey?"text":"password",value:N.stripe.publicKey,onChange:ne=>C(I=>({...I,stripe:{...I.stripe,publicKey:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"pk_test_..."}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ve("stripe","publicKey"),children:E.stripe.publicKey?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"stripeSecretKey",className:"text-gray-300",children:"Secret Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"stripeSecretKey",type:E.stripe.secretKey?"text":"password",value:N.stripe.secretKey,onChange:ne=>C(I=>({...I,stripe:{...I.stripe,secretKey:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk_test_..."}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ve("stripe","secretKey"),children:E.stripe.secretKey?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"stripeWebhookSecret",className:"text-gray-300",children:"Webhook Secret"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"stripeWebhookSecret",type:E.stripe.webhookSecret?"text":"password",value:N.stripe.webhookSecret,onChange:ne=>C(I=>({...I,stripe:{...I.stripe,webhookSecret:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"whsec_..."}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ve("stripe","webhookSecret"),children:E.stripe.webhookSecret?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"stripeTestMode",className:"text-gray-300",children:"Test Mode"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx(Fr,{id:"stripeTestMode",checked:N.stripe.testMode,onCheckedChange:ne=>C(I=>({...I,stripe:{...I.stripe,testMode:ne}}))}),t.jsx(re,{htmlFor:"stripeTestMode",className:"text-sm text-gray-400",children:"Use test environment"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(H,{onClick:()=>Z("stripe"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save Stripe Config"]})})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(mM,{className:"h-5 w-5 text-emerald-400"}),"OpenAI API Configuration"]}),t.jsx(vt,{className:"text-gray-400",children:"Configure OpenAI integration for AI-powered features and call analysis."})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"openaiApiKey",className:"text-gray-300",children:"API Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"openaiApiKey",type:E.openai.apiKey?"text":"password",value:N.openai.apiKey,onChange:ne=>C(I=>({...I,openai:{...I.openai,apiKey:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk-..."}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ve("openai","apiKey"),children:E.openai.apiKey?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"openaiOrgId",className:"text-gray-300",children:"Organization ID (Optional)"}),t.jsx(Ee,{id:"openaiOrgId",value:N.openai.organizationId,onChange:ne=>C(I=>({...I,openai:{...I.openai,organizationId:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"org-..."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(re,{htmlFor:"openaiModel",className:"text-gray-300",children:"Default Model"}),t.jsxs(tt,{value:N.openai.model,onValueChange:ne=>C(I=>({...I,openai:{...I.openai,model:ne}})),children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"gpt-4",children:"GPT-4"}),t.jsx(ae,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),t.jsx(ae,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(H,{onClick:()=>Z("openai"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save OpenAI Config"]})})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Xx,{className:"h-5 w-5 text-emerald-400"}),"Supabase API Configuration"]}),t.jsxs(vt,{className:"text-gray-400",children:["Configure external Supabase instances for client projects or multi-tenant features.",t.jsx("span",{className:"text-amber-500 text-xs block mt-1",children:"Note: This does NOT affect the main platform database connection."})]})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"supabaseUrl",className:"text-gray-300",children:"Project URL"}),t.jsx(Ee,{id:"supabaseUrl",value:N.supabase.url,onChange:ne=>C(I=>({...I,supabase:{...I.supabase,url:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"https://xxx.supabase.co"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"supabaseAnonKey",className:"text-gray-300",children:"Anon Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"supabaseAnonKey",type:E.supabase.anonKey?"text":"password",value:N.supabase.anonKey,onChange:ne=>C(I=>({...I,supabase:{...I.supabase,anonKey:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ve("supabase","anonKey"),children:E.supabase.anonKey?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"supabaseServiceKey",className:"text-gray-300",children:"Service Role Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{id:"supabaseServiceKey",type:E.supabase.serviceRoleKey?"text":"password",value:N.supabase.serviceRoleKey,onChange:ne=>C(I=>({...I,supabase:{...I.supabase,serviceRoleKey:ne.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ve("supabase","serviceRoleKey"),children:E.supabase.serviceRoleKey?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"rounded-lg border border-amber-700 bg-amber-900/20 p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ms,{className:"h-4 w-4 text-amber-500"}),t.jsxs("p",{className:"text-sm text-amber-200",children:[t.jsx("strong",{children:"Warning:"})," Service Role Key has full database access. Keep it secure."]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(H,{onClick:()=>Z("supabase"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save Supabase Config"]})})]})]})]})]}):t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(K,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:t.jsxs(xe,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900",children:t.jsx(P0,{className:"h-6 w-6 text-amber-600"})}),t.jsx(ye,{className:"text-white",children:"Password Required"}),t.jsx(vt,{className:"text-gray-400",children:"Enter your password to access API management settings"})]})})})})]}),m&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:t.jsxs(K,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(P0,{className:"h-5 w-5 text-amber-500"}),"Enter Password"]}),t.jsx(vt,{className:"text-gray-400",children:"Please enter your account password to access API management settings."})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"apiPassword",className:"text-gray-300",children:"Password"}),t.jsx(Ee,{id:"apiPassword",type:"password",value:f,onChange:ne=>g(ne.target.value),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"Enter your password",onKeyPress:ne=>{ne.key==="Enter"&&W()}})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(H,{variant:"outline",onClick:()=>{h(!1),g("")},className:"border-gray-700",children:"Cancel"}),t.jsx(H,{onClick:W,disabled:b||!f,className:"bg-emerald-600 hover:bg-emerald-700",children:b?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(yd,{className:"mr-2 h-4 w-4"}),"Unlock"]})})]})]})]})})]})})}var xv="Checkbox",[UNe,oCe]=Gs(xv),[BNe,T4]=UNe(xv);function WNe(e){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:f}=e,[g,y]=Ei({prop:s,defaultProp:n??!1,onChange:d,caller:xv}),[w,b]=p.useState(null),[v,N]=p.useState(null),C=p.useRef(!1),S=w?!!o||!!w.closest("form"):!0,_={checked:g,disabled:i,setChecked:y,control:w,setControl:b,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:ec(n)?!1:n,isFormControl:S,bubbleInput:v,setBubbleInput:N};return t.jsx(BNe,{scope:r,..._,children:VNe(f)?f(_):a})}var i9="CheckboxTrigger",o9=p.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:d,required:m,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:w}=T4(i9,e),b=mt(n,h),v=p.useRef(d);return p.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const C=()=>f(v.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,f]),t.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":ec(d)?"mixed":d,"aria-required":m,"data-state":m9(d),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:b,onKeyDown:Fe(r,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Fe(s,N=>{f(C=>ec(C)?!0:!C),w&&y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});o9.displayName=i9;var O4=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:m,form:h,...f}=e;return t.jsx(WNe,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:m,name:a,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>t.jsxs(t.Fragment,{children:[t.jsx(o9,{...f,ref:r,__scopeCheckbox:s}),g&&t.jsx(u9,{__scopeCheckbox:s})]})})});O4.displayName=xv;var l9="CheckboxIndicator",c9=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:a,...n}=e,i=T4(l9,s);return t.jsx(Sa,{present:a||ec(i.checked)||i.checked===!0,children:t.jsx(qe.span,{"data-state":m9(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});c9.displayName=l9;var d9="CheckboxBubbleInput",u9=p.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:d,name:m,value:h,form:f,bubbleInput:g,setBubbleInput:y}=T4(d9,e),w=mt(s,y),b=gp(i),v=Vf(a);p.useEffect(()=>{const C=g;if(!C)return;const S=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(S,"checked").set,A=!n.current;if(b!==i&&E){const T=new Event("click",{bubbles:A});C.indeterminate=ec(i),E.call(C,ec(i)?!1:i),C.dispatchEvent(T)}},[g,b,i,n]);const N=p.useRef(ec(i)?!1:i);return t.jsx(qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:d,name:m,value:h,form:f,...r,tabIndex:-1,ref:w,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});u9.displayName=d9;function VNe(e){return typeof e=="function"}function ec(e){return e==="indeterminate"}function m9(e){return ec(e)?"indeterminate":e?"checked":"unchecked"}const od=p.forwardRef(({className:e,...r},s)=>t.jsx(O4,{ref:s,className:$e("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-50 dark:border-zinc-800 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",e),...r,children:t.jsx(c9,{className:$e("flex items-center justify-center text-current"),children:t.jsx(jm,{className:"h-4 w-4"})})}));od.displayName=O4.displayName;const x3="http://localhost:3001/api";function HNe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState(!1),{toast:d}=Vr(),[m,h]=p.useState({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});p.useEffect(()=>{f()},[]);const f=async()=>{try{const b=await fetch(`${x3}/team/members`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`}});if(b.ok){const v=await b.json();r(v.members||[])}}catch(b){console.error("Error fetching team:",b)}finally{a(!1)}},g=async()=>{l(!0);try{const b=await fetch(`${x3}/team/members`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`},body:JSON.stringify(m)}),v=await b.json();if(b.ok)d({title:"Team Member Added",description:`Invitation sent to ${m.email} successfully.`}),i(!1),f(),h({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});else throw new Error(v.error||"Failed to add team member")}catch(b){console.error("Error adding team member:",b),d({title:"Error",description:b.message||"Failed to add team member. Please try again.",variant:"destructive"})}finally{l(!1)}},y=(b,v)=>{h(N=>({...N,permissions:{...N.permissions,[b]:v}}))},w={support_admin:{canAccessAllOrganizations:!0,canManageClients:!0,canViewClientData:!0,canManageTeam:!0},support_agent:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-gray-400",children:"Manage your support team members and their permissions"})}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Total Members"}),t.jsx(Rt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Active staff"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Support Admins"}),t.jsx(ja,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(b=>b.role==="support_admin").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Full access"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Pending Verification"}),t.jsx(na,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(b=>b.verificationRequired).length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Awaiting setup"})]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs(H,{onClick:()=>i(!0),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(zf,{className:"mr-2 h-4 w-4"}),"Add Team Member"]})}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Support Team Members"}),t.jsx(vt,{className:"text-gray-400",children:"Manage your support team members who can access client organizations"})]}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[e.map(b=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 font-semibold text-white",children:[b.firstName[0],b.lastName[0]]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("h4",{className:"font-medium text-white",children:[b.firstName," ",b.lastName]}),t.jsx(Pe,{variant:b.role==="support_admin"?"default":"secondary",children:b.role==="support_admin"?"Support Admin":"Support Agent"}),b.verificationRequired&&t.jsxs(Pe,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[t.jsx(Lt,{className:"mr-1 h-3 w-3"}),"Pending Verification"]})]}),t.jsx("p",{className:"text-sm text-gray-400",children:b.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex gap-2",children:[b.permissions.canAccessAllOrganizations&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(Tr,{className:"h-3 w-3"}),t.jsx("span",{children:"View All"})]}),b.permissions.canManageClients&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(rr,{className:"h-3 w-3"}),t.jsx("span",{children:"Manage"})]}),b.permissions.canManageTeam&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(Cs,{className:"h-3 w-3"}),t.jsx("span",{children:"Admin"})]})]}),t.jsx("div",{className:"text-right",children:b.isActive?t.jsxs(Pe,{className:"bg-green-600",children:[t.jsx(jt,{className:"mr-1 h-3 w-3"}),"Active"]}):t.jsx(Pe,{variant:"secondary",children:"Inactive"})})]})]},b.id)),e.length===0&&!s&&t.jsxs("div",{className:"py-8 text-center text-gray-400",children:[t.jsx(Rt,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{children:"No team members yet"})]})]})})]}),t.jsx(ol,{open:n,onOpenChange:i,children:t.jsxs(fo,{className:"max-w-2xl border-gray-800 bg-gray-900 text-white",children:[t.jsxs(po,{children:[t.jsx(go,{children:"Add Team Member"}),t.jsx(ll,{className:"text-gray-400",children:"Add a new member to your support team with custom permissions"})]}),t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{children:"First Name"}),t.jsx(Ee,{value:m.firstName,onChange:b=>h({...m,firstName:b.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"John"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{children:"Last Name"}),t.jsx(Ee,{value:m.lastName,onChange:b=>h({...m,lastName:b.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"Doe"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{children:"Email Address"}),t.jsx(Ee,{type:"email",value:m.email,onChange:b=>h({...m,email:b.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"john@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{children:"Role"}),t.jsxs(tt,{value:m.role,onValueChange:b=>{h({...m,role:b,permissions:w[b]})},children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-800",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"support_admin",children:"Support Admin"}),t.jsx(ae,{value:"support_agent",children:"Support Agent"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(re,{children:"Permissions"}),t.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Access all client organizations"})]}),t.jsx(od,{checked:m.permissions.canAccessAllOrganizations,onCheckedChange:b=>y("canAccessAllOrganizations",b)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rr,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Manage client organizations"})]}),t.jsx(od,{checked:m.permissions.canManageClients,onCheckedChange:b=>y("canManageClients",b)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ja,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"View client data"})]}),t.jsx(od,{checked:m.permissions.canViewClientData,onCheckedChange:b=>y("canViewClientData",b)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Manage team members"})]}),t.jsx(od,{checked:m.permissions.canManageTeam,onCheckedChange:b=>y("canManageTeam",b)})]})]})]}),t.jsx("div",{className:"rounded-lg border border-blue-800 bg-blue-900/20 p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(na,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-400"}),t.jsxs("div",{className:"text-sm text-gray-300",children:[t.jsx("p",{className:"mb-1 font-medium text-blue-400",children:"Email Verification Required"}),t.jsx("p",{children:"The new team member will receive an email invitation to verify their account and set up their password."})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(H,{variant:"outline",onClick:()=>i(!1),className:"border-gray-700",children:"Cancel"}),t.jsx(H,{onClick:g,disabled:!m.email||!m.firstName||!m.lastName||o,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 disabled:opacity-50",children:o?"Sending Invitation...":"Send Invitation"})]})]})]})})]})})}const bN="da8956d4-0508-474e-bd96-7eda82d2d943",wN="https://api.vapi.ai";class qNe{async updateAssistantPrompt(r,s){try{const a=await fetch(`${wN}/assistant/${r}`,{headers:{Authorization:`Bearer ${bN}`,"Content-Type":"application/json"}});if(!a.ok)return console.error("Failed to fetch assistant:",a.status),!1;const n=await a.json();console.log("Current assistant fetched");const i=await fetch(`${wN}/assistant/${r}`,{method:"PATCH",headers:{Authorization:`Bearer ${bN}`,"Content-Type":"application/json"},body:JSON.stringify({model:{...n.model,messages:[{role:"system",content:s}]}})});if(!i.ok){const o=await i.text();return console.error("Failed to update assistant:",i.status,o),!1}return console.log("Assistant updated successfully in Apex"),!0}catch(a){return console.error("Error updating Apex assistant:",a),!1}}async fetchAssistantDetails(r){var s,a,n;try{const i=await fetch(`${wN}/assistant/${r}`,{headers:{Authorization:`Bearer ${bN}`,"Content-Type":"application/json"}});if(!i.ok)return console.error("Failed to fetch assistant:",i.status),null;const o=await i.json();return{name:o.name||"AI Assistant",systemPrompt:((n=(a=(s=o.model)==null?void 0:s.messages)==null?void 0:a[0])==null?void 0:n.content)||"",voice:o.voice||{},model:o.model}}catch(i){return console.error("Error fetching assistant:",i),null}}}const y3=new qNe,Kc={id:"",name:"",description:"",productDescription:"",status:"draft",progress:0,leadsCalled:0,answered:0,calledBack:0,opportunities:0,tags:[],phoneNumbers:[],voiceAgent:{name:"AI Assistant",voice:"default",language:"en-US",tone:"professional"},callingSchedule:{timezone:"America/New_York",startTime:"09:00",endTime:"17:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday"],startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+2160*60*60*1e3).toISOString().split("T")[0]},script:{introduction:"",mainContent:"",objections:"",closing:""},teamMembers:[],budget:{total:0,perCall:0,dailyLimit:0,spent:0},settings:{maxCallsPerDay:100,retryAttempts:3,callDuration:300,voicemailEnabled:!0},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()},v3=[{value:"sarah",label:"Sarah (Professional)",language:"en-US"},{value:"mike",label:"Mike (Friendly)",language:"en-US"},{value:"emma",label:"Emma (Conversational)",language:"en-GB"},{value:"david",label:"David (Authoritative)",language:"en-US"},{value:"lisa",label:"Lisa (Warm)",language:"en-US"},{value:"james",label:"James (Confident)",language:"en-GB"}],KNe=[{value:"professional",label:"Professional"},{value:"friendly",label:"Friendly"},{value:"conversational",label:"Conversational"},{value:"authoritative",label:"Authoritative"},{value:"warm",label:"Warm"},{value:"confident",label:"Confident"}],b3=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}];function GNe(){var ve,ne;const{id:e}=Of(),r=vr(),{toast:s}=Vr();SU();const[a,n]=p.useState(!1),[i,o]=p.useState(Kc),[l,d]=p.useState(!0),[m,h]=p.useState(!1),[f,g]=p.useState("overview"),[y,w]=p.useState(!1),[b,v]=p.useState(null),[N,C]=p.useState(!1),[S,_]=p.useState(!1),E=async I=>{var we,le,ke,J,Ce;if(console.log("Opening call modal with call:",I),console.log(" Call from list has transcript?",{hasTranscript:!!I.transcript,transcriptLength:(we=I.transcript)==null?void 0:we.length,transcriptPreview:(le=I.transcript)==null?void 0:le.substring(0,50)}),I.id)try{const fe=I;console.log("Full call data from API:",fe),console.log(" DEBUG - Transcript check:",{hasTranscript:!!fe.transcript,transcriptType:typeof fe.transcript,transcriptLength:(ke=fe.transcript)==null?void 0:ke.length,transcriptPreview:(J=fe.transcript)==null?void 0:J.substring(0,100)}),fe.transcript?console.log(" TRANSCRIPT EXISTS! Length:",fe.transcript.length):console.log(" NO TRANSCRIPT IN API RESPONSE!"),console.log(" DEBUG: Raw fullCallData fields:",{id:fe.id,duration:fe.duration,cost:fe.cost,recording_url:fe.recording_url,recordingUrl:fe.recordingUrl,recording:fe.recording,customerName:fe.customerName,customer_name:fe.customer_name});const Q={id:fe.id||fe.callId,duration:fe.duration||0,recording:fe.recording||fe.recording_url||fe.recordingUrl,cost:fe.cost||0,customerName:fe.customerName||fe.customer_name||"Unknown",customerPhone:fe.customerPhone||fe.customer_phone||fe.phone_number,customerEmail:fe.customerEmail||fe.customer_email,customerCompany:fe.customerCompany||fe.customer_company,status:fe.status||"unknown",startedAt:fe.startedAt||fe.started_at,endedAt:fe.endedAt||fe.ended_at,campaignName:fe.campaignName||fe.campaign_name,direction:fe.direction||"outbound",vapiCallId:fe.vapiCallId||fe.vapi_call_id,transcript:fe.transcript||I.transcript?String(fe.transcript||I.transcript||"").split(`
`).filter(he=>he.trim()).map((he,Se)=>{const Te=he.trim(),ce=/^(User|Customer):/i.test(Te),Ve=/^(AI|Agent|Assistant|Voicemail System):/i.test(Te);let ht;ce?ht="user":(Ve||console.warn("No speaker marker found for line:",Te),ht="ai");const de=Te.replace(/^(User|Customer|AI|Agent|Assistant|Voicemail System):\s*/i,"").trim(),xt=de.split(" ").length/2.5,ar=fe.duration||0,qr=ar>0?ar/((fe.transcript||I.transcript).split(`
`).filter(Kr=>Kr.trim()).length||1):0,Gt=Se*qr,Zt=Gt+Math.min(xt,qr);return{speaker:ht,text:de||Te,timestamp:Date.now()-(fe.duration||0)*1e3+Se*1e3,startTime:Gt,endTime:Zt}}):[{speaker:"ai",text:"No transcript available",timestamp:Date.now()}],analysis:{sentiment:fe.sentiment==="positive"?.8:fe.sentiment==="negative"?.2:.5,keywords:fe.keywords||[],summary:fe.summary||"No summary available"},messages:[{type:"info",content:`Call ${fe.status} - ${fe.customerName}`,timestamp:Date.now()}]};console.log(" DEBUG: transformedCallData being passed to modal:",{id:Q.id,duration:Q.duration,cost:Q.cost,recording:Q.recording,customerName:Q.customerName,hasTranscript:!!Q.transcript,transcriptType:typeof Q.transcript,transcriptIsArray:Array.isArray(Q.transcript),transcriptLength:(Ce=Q.transcript)==null?void 0:Ce.length,transcriptSample:Array.isArray(Q.transcript)&&Q.transcript.length>0?JSON.stringify(Q.transcript[0]):"Not an array or empty",fullData:Q}),console.log(" FINAL CHECK - Setting selectedCall with:",{hasTranscript:!!Q.transcript,transcriptType:typeof Q.transcript,transcriptIsArray:Array.isArray(Q.transcript),transcriptLength:Array.isArray(Q.transcript)?Q.transcript.length:"not an array",allKeys:Object.keys(Q)}),v(Q),w(!0)}catch(fe){console.error("Error processing call details:",fe);const Q={id:I.id||"unknown",duration:I.duration||0,recording:I.recording_url||I.recording,cost:I.cost||0,customerName:I.contactName||"Unknown",customerPhone:I.phoneNumber||"",status:I.status||"completed",transcript:I.transcript?String(I.transcript).split(`
`).filter(he=>he.trim()).map((he,Se)=>({speaker:he.startsWith("User:")?"user":"ai",text:he.replace(/^(User|AI):\s*/i,"").trim(),timestamp:Date.now()-(I.duration||0)*1e3+Se*1e3,startTime:Se*2,endTime:(Se+1)*2})):[{speaker:"ai",text:"Transcript not available",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:I.summary||"No summary available"}};v(Q),w(!0)}else{const fe={id:I.id||"unknown",duration:I.duration||0,recording:I.recording_url||I.recording,cost:I.cost||0,transcript:[{speaker:"ai",text:"Call data is loading...",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:"Loading..."}};v(fe),w(!0)}},[A,T]=p.useState([]),[M,z]=p.useState(!0);p.useEffect(()=>{V(),O()},[e]);const V=async()=>{var I,we,le,ke;if(e)try{d(!0);let J;console.log(" Fetching campaign details for ID:",e),J=await Zu.getCampaignById(e),J||(console.error(" Campaign not found in database"),J={id:e,name:"Campaign Not Found",status:"draft",totalLeads:0,callsCompleted:0,totalCost:0,successRate:0,settings:{total_leads:0,calls_completed:0,totalLeads:0,callsCompleted:0}}),console.log(" Campaign data from backend:",J),J||(console.error(" Campaign data is undefined!"),J={id:e,name:"Loading...",status:"draft",totalLeads:0,callsCompleted:0,settings:{}}),console.log(" Metrics:",{totalLeads:J==null?void 0:J.totalLeads,callsCompleted:J==null?void 0:J.callsCompleted,metrics:J==null?void 0:J.metrics}),console.log(" Setting campaign state with:",{totalLeads:J.totalLeads,callsCompleted:J.callsCompleted,leadsCalled:J.totalLeads,answered:J.callsCompleted,name:J.name,fullData:J}),o({...Kc,id:J.id,name:J.name,status:J.status,phoneNumbers:J.phoneNumber?[J.phoneNumber]:[],phoneNumberId:J.phoneNumberId,phoneNumberDetails:J.phoneNumberDetails||[],voiceAgent:{...Kc.voiceAgent,name:((I=J.settings)==null?void 0:I.voice_agent)||J.assistantName||"AI Assistant"},script:J.script||Kc.script,systemPrompt:((we=J.settings)==null?void 0:we.system_prompt)||"",assistantId:J.assistantId||((le=J.settings)==null?void 0:le.assistant_id)||"",callingSchedule:((ke=J.settings)==null?void 0:ke.schedule)||Kc.callingSchedule,team:J.team||[],budget:J.budget||Kc.budget,settings:J.settings||Kc.settings,createdAt:J.createdAt,lastModified:J.updatedAt,totalLeads:J.totalLeads||0,callsCompleted:J.callsCompleted||0,leadsContacted:J.totalLeads||0,leadsCalled:J.totalLeads||0,callsToday:J.callsToday||0,callsConnected:J.callsCompleted||0,answered:J.callsCompleted||0,avgCallDuration:J.avgCallDuration||120,outcomes:{answered:J.callsCompleted||0,voicemail:0,noAnswer:0,busy:0,failed:0},meetings:J.meetings||0,opportunities:J.opportunities||0,callbacks:J.totalCost||0,calledBack:J.callbacks||0,totalCost:J.totalCost||0,progress:J.totalLeads>0?Math.round(J.callsCompleted/J.totalLeads*100):0})}catch(J){console.error("Error fetching campaign details:",J),s({title:"Error",description:"Failed to load campaign details",variant:"destructive"})}finally{d(!1)}},O=async()=>{if(e)try{z(!0),console.log(" Fetching calls for campaign:",e);const I=await Zu.getCampaignCalls(e);console.log(" Fetched calls from direct Supabase:",I),console.log(" Extracted calls data:",I);const we=I.map(le=>{var ke;return{id:le.id,phoneNumber:le.customerPhone||le.customer_phone||le.phone_number||((ke=le.lead)==null?void 0:ke.phone),contactName:le.customerName||le.customer_name||(le.lead?`${le.lead.firstName||""} ${le.lead.lastName||""}`.trim():""),callTime:le.startedAt||le.started_at||le.created_at,duration:le.duration||0,cost:le.cost||0,outcome:le.outcome||(le.status==="completed"?"Completed":le.status==="initiated"?"In Progress":le.status==="failed"?"Failed":le.status),status:le.status,recording_url:le.recording||le.recording_url,recording:le.recording||le.recording_url,transcript:le.transcript,summary:le.summary,sentimentScore:le.sentiment==="positive"?.85:le.sentiment==="negative"?.15:.5,leadQuality:le.sentiment==="positive"?"hot":le.sentiment==="negative"?"cold":"warm"}});console.log(" Transformed calls:",we),console.log(" Setting",we.length,"calls in state"),T(we)}catch(I){console.error(" Error fetching campaign calls:",I),T([])}finally{console.log(" Setting isLoadingCalls to false"),z(!1)}},R=(I,we)=>{o(le=>({...le,[I]:we}))},$=async()=>{var we;const I=i.assistantId||((we=i.settings)==null?void 0:we.assistant_id);if(!I){s({title:"Error",description:"No VAPI assistant ID found for this campaign",variant:"destructive"});return}try{if(h(!0),!await y3.updateAssistantPrompt(I,i.systemPrompt))throw new Error("Failed to update VAPI assistant");const{error:ke}=await Xe.from("campaigns").update({settings:{...i.settings,system_prompt:i.systemPrompt},updated_at:new Date().toISOString()}).eq("id",e);if(ke)throw ke;s({title:"Success",description:"System prompt updated in both VAPI and database successfully"}),setOriginalCampaign({...i})}catch(le){console.error("Error updating VAPI prompt:",le),s({title:"Error",description:"Failed to update system prompt in VAPI",variant:"destructive"})}finally{h(!1)}},B=(I,we,le)=>{o(ke=>({...ke,[I]:{...ke[I],[we]:le}}))},U=()=>{const I=prompt("Enter phone number:");I&&!i.phoneNumbers.includes(I)&&R("phoneNumbers",[...i.phoneNumbers,I])},te=I=>{R("phoneNumbers",i.phoneNumbers.filter((we,le)=>le!==I))},L=()=>{const I=prompt("Enter team member name:"),we=prompt("Enter email:"),le=prompt("Enter role (manager/agent/viewer):");I&&we&&le&&R("teamMembers",[...i.teamMembers,{id:Date.now().toString(),name:I,email:we,role:le}])},F=I=>{R("teamMembers",i.teamMembers.filter(we=>we.id!==I))},q=()=>{R("status",i.status==="active"?"paused":"active")},ee=()=>{console.log("Saving campaign:",i),n(!1)},W=async()=>{if(e){_(!0);try{await Zu.deleteCampaign(e),s({title:"Campaign Deleted",description:`Campaign "${i.name}" has been permanently deleted.`}),C(!1),r("/campaigns")}catch(I){console.error("Failed to delete campaign:",I),s({title:"Error",description:I instanceof Error?I.message:"Failed to delete campaign",variant:"destructive"})}finally{_(!1)}}},Z=I=>{switch(I){case"active":return t.jsx(Pe,{className:"bg-green-500 hover:bg-green-600",children:"Active"});case"paused":return t.jsx(Pe,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Paused"});case"draft":return t.jsx(Pe,{className:"bg-gray-500 hover:bg-gray-600",children:"Draft"});case"disabled":return t.jsx(Pe,{className:"bg-red-500 hover:bg-red-600",children:"Disabled"});default:return t.jsx(Pe,{variant:"secondary",children:I})}};return l?t.jsx("div",{className:"min-h-screen w-full bg-black flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading campaign details..."})]})}):t.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden bg-black px-4",children:[t.jsxs("div",{className:"mx-auto mt-8 w-full max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"flex items-center text-lg font-semibold text-gray-400 transition-colors hover:text-white",onClick:()=>r("/campaigns"),children:[t.jsx(gd,{className:"mr-2 h-5 w-5"}),"Back to Campaigns"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsx("h1",{className:"text-3xl font-bold text-white",children:i.name}),Z(i.status)]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(H,{variant:"outline",onClick:q,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:i.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(vd,{className:"mr-2 h-4 w-4"}),"Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:t.jsx(Qx,{className:"h-4 w-4"})})}),t.jsxs(ti,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Xt,{className:"text-white hover:bg-gray-700",children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Duplicate Campaign"]}),t.jsxs(Xt,{className:"text-white hover:bg-gray-700",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export Data"]}),t.jsxs(Xt,{className:"text-white hover:bg-gray-700",children:[t.jsx(TY,{className:"mr-2 h-4 w-4"}),"Share"]}),t.jsxs(Xt,{className:"text-red-400 hover:bg-gray-700",onClick:()=>C(!0),children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]})]})]}),a?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(H,{variant:"outline",onClick:()=>n(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(At,{className:"mr-2 h-4 w-4"}),"Cancel"]}),t.jsxs(H,{onClick:ee,className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}):t.jsxs(H,{onClick:()=>n(!0),className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(dr,{className:"mr-2 h-4 w-4"}),"Edit Campaign"]})]})]}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Leads Called"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.leadsCalled||i.callsCompleted||A.length||0})]}),t.jsx(ct,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Answered"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.answered||i.callsConnected||A.filter(I=>I.status==="completed"||I.outcome==="Completed").length||0})]}),t.jsx(jt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",(i.callbacks||0).toFixed(2)]})]}),t.jsx(Qr,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Opportunities"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.meetings||0})]}),t.jsx(Sr,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsx(K,{className:"mb-8 border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Campaign Progress"}),t.jsxs("span",{className:"text-gray-400",children:[i.totalLeads>0?Math.round((i.callsCompleted||A.length||0)/i.totalLeads*100):A.length>0?100:0,"%"]})]}),t.jsx(Jt,{value:i.totalLeads>0?(i.callsCompleted||A.length||0)/i.totalLeads*100:A.length>0?100:0,className:"h-3"})]})}),t.jsxs(jo,{value:f,onValueChange:g,className:"w-full",children:[t.jsxs(zi,{className:"grid w-full grid-cols-9 bg-gray-800",children:[t.jsx(bt,{value:"overview",className:"text-white",children:"Overview"}),t.jsx(bt,{value:"calls",className:"text-white",children:"Calls"}),t.jsx(bt,{value:"phone-numbers",className:"text-white",children:"Phone Numbers"}),t.jsx(bt,{value:"voice-agent",className:"text-white",children:"Voice Agent"}),t.jsx(bt,{value:"schedule",className:"text-white",children:"Schedule"}),t.jsx(bt,{value:"script",className:"text-white",children:"System Prompt"}),t.jsx(bt,{value:"team",className:"text-white",children:"Team"}),t.jsx(bt,{value:"budget",className:"text-white",children:"Budget"}),t.jsx(bt,{value:"settings",className:"text-white",children:"Settings"})]}),t.jsx(wt,{value:"overview",className:"mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Campaign Information"})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Campaign Name"}),a?t.jsx(Ee,{value:i.name,onChange:I=>R("name",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.name})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Description"}),a?t.jsx(ya,{value:i.description,onChange:I=>R("description",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.description})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Product/Service Description"}),a?t.jsx(ya,{value:i.productDescription,onChange:I=>R("productDescription",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.productDescription})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Budget Overview"})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Budget:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Spent:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Remaining:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total-i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per Call:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.perCall]})]}),t.jsx(Jt,{value:i.budget.spent/i.budget.total*100,className:"h-2"})]})]})]})}),t.jsx(wt,{value:"calls",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(ct,{className:"h-5 w-5"}),"Campaign Calls (",A.length,")"]})}),t.jsx(G,{children:M?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading calls..."})]})}):A.length===0?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ct,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No calls have been made for this campaign yet."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Calls will appear here once the campaign starts making calls."})]})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Call ID"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Phone Number"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Contact Name"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Time"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Duration"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Cost"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Outcome"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Recording"})]})}),t.jsx("tbody",{children:A.map(I=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-mono text-sm text-emerald-400",children:I.id})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-medium text-white",children:I.phoneNumber})}),t.jsx("td",{className:"px-4 py-3",children:I.contactName?t.jsx("span",{className:"text-white",children:I.contactName}):t.jsx("span",{className:"italic text-gray-500",children:"Name not confirmed"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:new Date(I.callTime).toLocaleString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:I.duration>0?`${Math.floor(I.duration/60)}m ${I.duration%60}s`:I.status==="completed"?"Unknown":"0m 0s"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"font-medium text-green-400",children:["$",(I.cost||0).toFixed(2)]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(Pe,{variant:"outline",className:I.outcome==="interested"||I.outcome.includes("Interested")?"border-green-500 text-green-400":I.outcome==="callback"||I.outcome.includes("Callback")?"border-yellow-500 text-yellow-400":I.outcome==="not_interested"||I.outcome.includes("Not Interested")?"border-red-500 text-red-400":I.outcome==="failed"?"border-orange-500 text-orange-400":I.outcome==="no_answer"||I.outcome.includes("No Answer")?"border-gray-500 text-gray-400":I.outcome==="voicemail"?"border-purple-500 text-purple-400":I.outcome==="completed"||I.outcome==="Completed"?"border-emerald-500 text-emerald-400":"border-blue-500 text-blue-400",children:I.outcome==="failed"?"Unsuccessful":I.outcome==="no_answer"?"No Answer":I.outcome==="interested"?"Interested":I.outcome==="not_interested"?"Not Interested":I.outcome==="voicemail"?"Voicemail":I.outcome==="completed"?"Completed":I.outcome||"Unknown"})}),t.jsx("td",{className:"px-4 py-3",children:I.status==="in_progress"||I.status==="initiated"?t.jsx("span",{className:"text-sm text-yellow-500",children:"In progress..."}):I.status==="failed"?t.jsx("span",{className:"text-sm text-gray-500",children:"Call failed"}):I.status==="completed"||I.outcome==="Completed"?t.jsxs(H,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:we=>{we.stopPropagation(),console.log(" Opening call modal for:",I.id),E(I)},children:[t.jsx(Qn,{className:"mr-1 h-4 w-4"}),"Play"]}):t.jsx("span",{className:"text-sm text-gray-500",children:"No recording"})})]},I.id))})]})})})]})}),t.jsx(wt,{value:"phone-numbers",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Phone Numbers"}),t.jsx(vt,{className:"text-gray-400",children:"Phone numbers used for making calls in this campaign"})]}),t.jsxs(G,{className:"space-y-4",children:[i.phoneNumbers&&i.phoneNumbers.length>0?i.phoneNumbers.map((I,we)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ct,{className:"h-5 w-5 text-emerald-500"}),t.jsx("span",{className:"text-white font-medium",children:I})]}),a&&t.jsx(H,{variant:"outline",size:"sm",onClick:()=>te(we),children:t.jsx(At,{className:"h-4 w-4"})})]},we)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ct,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"No phone numbers configured for this campaign"}),i.phoneNumberId&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Phone Number ID: ",i.phoneNumberId]})]}),a&&t.jsxs(H,{onClick:U,variant:"outline",className:"w-full",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Phone Number"]})]})]})}),t.jsx(wt,{value:"voice-agent",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Voice Agent Configuration"})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Assistant Name"}),a?t.jsx(Ee,{value:i.voiceAgent.name,onChange:I=>B("voiceAgent","name",I.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white"}):t.jsxs("div",{className:"mt-2 p-3 bg-gray-800 rounded-lg",children:[t.jsx("p",{className:"text-white font-medium",children:i.voiceAgent.name}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"VAPI Assistant"})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Voice Selection"}),a?t.jsxs(tt,{value:i.voiceAgent.voice,onValueChange:I=>B("voiceAgent","voice",I),children:[t.jsx(Qe,{className:"mt-2",children:t.jsx(rt,{})}),t.jsx(Ze,{children:v3.map(I=>t.jsx(ae,{value:I.value,children:I.label},I.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(ve=v3.find(I=>I.value===i.voiceAgent.voice))==null?void 0:ve.label})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Tone"}),a?t.jsxs(tt,{value:i.voiceAgent.tone,onValueChange:I=>B("voiceAgent","tone",I),children:[t.jsx(Qe,{className:"mt-2",children:t.jsx(rt,{})}),t.jsx(Ze,{children:KNe.map(I=>t.jsx(ae,{value:I.value,children:I.label},I.value))})]}):t.jsx("p",{className:"mt-2 capitalize text-gray-300",children:i.voiceAgent.tone})]})]})]})}),t.jsx(wt,{value:"schedule",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Calling Schedule"}),t.jsx(vt,{className:"text-gray-400",children:i.callingSchedule?"Schedule configuration for automated calling":"No schedule configured"})]}),t.jsx(G,{className:"space-y-6",children:!i.callingSchedule||!i.callingSchedule.timezone?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(cs,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No schedule configured for this campaign"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Calls will be made immediately when campaign is active"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Timezone"}),a?t.jsxs(tt,{value:i.callingSchedule.timezone,onValueChange:I=>B("callingSchedule","timezone",I),children:[t.jsx(Qe,{className:"mt-2",children:t.jsx(rt,{})}),t.jsx(Ze,{children:b3.map(I=>t.jsx(ae,{value:I.value,children:I.label},I.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(ne=b3.find(I=>I.value===i.callingSchedule.timezone))==null?void 0:ne.label})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Start Time"}),a?t.jsx(Ee,{type:"time",value:i.callingSchedule.startTime,onChange:I=>B("callingSchedule","startTime",I.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startTime})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"End Time"}),a?t.jsx(Ee,{type:"time",value:i.callingSchedule.endTime,onChange:I=>B("callingSchedule","endTime",I.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endTime})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Days of Week"}),t.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(I=>t.jsx(H,{variant:i.callingSchedule.daysOfWeek.includes(I)?"default":"outline",size:"sm",disabled:!a,onClick:()=>{if(a){const we=i.callingSchedule.daysOfWeek.includes(I)?i.callingSchedule.daysOfWeek.filter(le=>le!==I):[...i.callingSchedule.daysOfWeek,I];B("callingSchedule","daysOfWeek",we)}},children:I.slice(0,3).toUpperCase()},I))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Start Date"}),a?t.jsx(Ee,{type:"date",value:i.callingSchedule.startDate,onChange:I=>B("callingSchedule","startDate",I.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startDate})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"End Date"}),a?t.jsx(Ee,{type:"date",value:i.callingSchedule.endDate,onChange:I=>B("callingSchedule","endDate",I.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endDate})]})]})]})})]})}),t.jsx(wt,{value:"script",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"System Prompt"}),t.jsx(vt,{className:"text-gray-400",children:"The system prompt used by the VAPI assistant for this campaign"})]}),t.jsx(G,{className:"space-y-6",children:i.systemPrompt?t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(re,{className:"text-white",children:"VAPI System Prompt"}),a&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{onClick:async()=>{var we;const I=i.assistantId||((we=i.settings)==null?void 0:we.assistant_id);if(I){h(!0);const le=await y3.fetchAssistantDetails(I);le!=null&&le.systemPrompt&&(R("systemPrompt",le.systemPrompt),s({title:"Success",description:"Fetched latest prompt from VAPI"})),h(!1)}},variant:"outline",className:"text-sm",size:"sm",disabled:m,children:[t.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Fetch from VAPI"]}),t.jsxs(H,{onClick:()=>$(),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",disabled:m,children:[t.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Push to VAPI"]})]})]}),a?t.jsx("div",{className:"relative flex-1",children:t.jsx(ya,{value:i.systemPrompt,onChange:I=>R("systemPrompt",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white font-mono text-sm w-full h-[500px] resize-none",style:{minHeight:"500px",maxHeight:"500px"}})}):t.jsx("div",{className:"mt-2 p-4 bg-gray-800 rounded-lg h-[500px] overflow-hidden",children:t.jsx("div",{className:"h-full overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:t.jsx("pre",{className:"text-gray-300 whitespace-pre-wrap font-mono text-sm",children:i.systemPrompt})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Introduction"}),a?t.jsx(ya,{value:i.script.introduction,onChange:I=>B("script","introduction",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.introduction})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Main Content"}),a?t.jsx(ya,{value:i.script.mainContent,onChange:I=>B("script","mainContent",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.mainContent})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Objection Handling"}),a?t.jsx(ya,{value:i.script.objections,onChange:I=>B("script","objections",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.objections})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Closing"}),a?t.jsx(ya,{value:i.script.closing,onChange:I=>B("script","closing",I.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.closing})]})]})})]})}),t.jsx(wt,{value:"team",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ye,{className:"text-white",children:"Team Members"}),a&&t.jsxs(H,{onClick:L,variant:"outline",size:"sm",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Member"]})]})}),t.jsxs(G,{className:"space-y-4",children:[i.teamMembers.map(I=>t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:I.name}),t.jsx("p",{className:"text-sm text-gray-400",children:I.email}),t.jsx(Pe,{variant:"secondary",className:"mt-1",children:I.role})]}),a&&t.jsx(H,{variant:"outline",size:"sm",onClick:()=>F(I.id),children:t.jsx(At,{className:"h-4 w-4"})})]})})},I.id)),i.teamMembers.length===0&&t.jsx("p",{className:"py-8 text-center text-gray-400",children:"No team members assigned to this campaign."})]})]})}),t.jsx(wt,{value:"budget",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Budget Management"})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Total Budget ($)"}),a?t.jsx(Ee,{type:"number",value:i.budget.total,onChange:I=>B("budget","total",parseFloat(I.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.total]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Cost Per Call ($)"}),a?t.jsx(Ee,{type:"number",step:"0.01",value:i.budget.perCall,onChange:I=>B("budget","perCall",parseFloat(I.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.perCall]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Daily Budget Limit ($)"}),a?t.jsx(Ee,{type:"number",value:i.budget.dailyLimit,onChange:I=>B("budget","dailyLimit",parseFloat(I.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.dailyLimit]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Budget Usage"}),t.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.budget.spent," / $",i.budget.total]})]}),t.jsx(Jt,{value:i.budget.spent/i.budget.total*100,className:"h-2"}),t.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Estimated calls remaining:"," ",Math.floor((i.budget.total-i.budget.spent)/i.budget.perCall)]})]})]})]})}),t.jsx(wt,{value:"settings",className:"mt-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Advanced Settings"})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Max Calls Per Day"}),a?t.jsx(Ee,{type:"number",value:i.settings.maxCallsPerDay,onChange:I=>B("settings","maxCallsPerDay",parseInt(I.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.maxCallsPerDay})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Retry Attempts"}),a?t.jsx(Ee,{type:"number",value:i.settings.retryAttempts,onChange:I=>B("settings","retryAttempts",parseInt(I.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.retryAttempts})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-white",children:"Max Call Duration (seconds)"}),a?t.jsx(Ee,{type:"number",value:i.settings.callDuration,onChange:I=>B("settings","callDuration",parseInt(I.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.callDuration})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fr,{id:"voicemail",checked:i.settings.voicemailEnabled,onCheckedChange:I=>B("settings","voicemailEnabled",I),disabled:!a}),t.jsx(re,{htmlFor:"voicemail",className:"text-white",children:"Enable Voicemail"})]})]})]})})]})]}),t.jsx(gv,{isOpen:y,onClose:()=>w(!1),callData:b}),t.jsx(t9,{open:N,onOpenChange:C,title:"Delete Campaign",description:"Are you sure you want to delete this campaign? This will permanently remove all associated leads, calls, and analytics data.",itemName:i.name,onConfirm:W,isLoading:S})]})}function YNe(){const[e,r]=p.useState(""),s=[{id:"1",name:"Sales Qualifier Bot",type:"outbound",status:"active",model:"GPT-4",voice:"ElevenLabs - Rachel",calls:1234,avgDuration:"3:45",successRate:78},{id:"2",name:"Customer Support Agent",type:"inbound",status:"active",model:"GPT-3.5 Turbo",voice:"OpenAI - Alloy",calls:5678,avgDuration:"5:12",successRate:92},{id:"3",name:"Appointment Scheduler",type:"web",status:"inactive",model:"Claude 3",voice:"Deepgram - Nova",calls:890,avgDuration:"2:30",successRate:85}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI-powered voice assistants"})}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Assistant"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]}),t.jsx(xd,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"2"})]}),t.jsx(Ns,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"7,802"})]}),t.jsx(ct,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Avg Success Rate"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"85%"})]}),t.jsx(oo,{className:"h-8 w-8 text-orange-500"})]})})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{type:"text",placeholder:"Search assistants...",value:e,onChange:a=>r(a.target.value),className:"border-gray-700 bg-gray-900/50 pl-10 text-white placeholder-gray-500 focus:border-emerald-500"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(a=>t.jsxs(K,{className:"border-gray-800 bg-gray-900 transition-shadow hover:shadow-lg",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-lg text-white",children:a.name}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(Pe,{variant:a.type==="outbound"?"default":"secondary",children:a.type}),t.jsx(Pe,{variant:a.status==="active"?"default":"outline",children:a.status})]})]}),t.jsx(xd,{className:"h-6 w-6 text-gray-400"})]})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Model:"}),t.jsx("span",{className:"font-medium text-white",children:a.model})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Voice:"}),t.jsx("span",{className:"font-medium text-white",children:a.voice})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Calls:"}),t.jsx("span",{className:"font-medium text-white",children:a.calls.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Duration:"}),t.jsx("span",{className:"font-medium text-white",children:a.avgDuration})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:[a.successRate,"%"]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsxs(H,{size:"sm",variant:"outline",className:"flex-1 border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(sc,{className:"mr-1 h-4 w-4"}),"Edit"]}),t.jsx(H,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:t.jsx(Hn,{className:"h-4 w-4"})}),t.jsx(H,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-red-400 hover:bg-red-900/20",children:t.jsx(ds,{className:"h-4 w-4"})})]})]})]},a.id))})]})})}const JNe=()=>{var n,i;const[e,r]=p.useState(null),s=[{id:"1",contact:"John Doe",phone:"+1 (555) 123-4567",lastMessage:"Thanks for the follow-up call!",timestamp:"2 hours ago",unread:2,status:"active"},{id:"2",contact:"Jane Smith",phone:"+1 (555) 987-6543",lastMessage:"When can we schedule the next meeting?",timestamp:"5 hours ago",unread:0,status:"pending"},{id:"3",contact:"Mike Johnson",phone:"+1 (555) 456-7890",lastMessage:"Received the proposal, reviewing now.",timestamp:"1 day ago",unread:1,status:"completed"}],a=e?[{id:"1",sender:"contact",text:"Hi, I received your call earlier today.",timestamp:"10:30 AM"},{id:"2",sender:"agent",text:"Great! Thanks for getting back to me. How did you find the information we discussed?",timestamp:"10:35 AM"},{id:"3",sender:"contact",text:"Very helpful! I'm interested in moving forward.",timestamp:"10:40 AM"},{id:"4",sender:"agent",text:"Excellent! I'll send you the next steps via email.",timestamp:"10:42 AM"}]:[];return t.jsxs("div",{className:"p-6 h-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Messaging"}),t.jsx("p",{className:"text-gray-600",children:"Manage conversations and follow-ups with leads"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs(K,{className:"lg:col-span-1",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center gap-2",children:[t.jsx(oo,{className:"h-5 w-5"}),"Conversations"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Ee,{placeholder:"Search conversations...",className:"pl-10"})]}),t.jsx(H,{variant:"outline",size:"icon",children:t.jsx(Zx,{className:"h-4 w-4"})})]})]}),t.jsx(G,{className:"p-0",children:t.jsx("div",{className:"divide-y",children:s.map(o=>t.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${e===o.id?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>r(o.id),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ts,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:o.contact})]}),o.unread>0&&t.jsx(Pe,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:o.unread})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.phone}),t.jsx("p",{className:"text-sm text-gray-500 truncate mb-2",children:o.lastMessage}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-400",children:o.timestamp}),t.jsx(Pe,{variant:o.status==="active"?"default":o.status==="pending"?"secondary":"outline",className:"text-xs",children:o.status})]})]},o.id))})})]}),t.jsx(K,{className:"lg:col-span-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx(xe,{className:"border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(ye,{className:"flex items-center gap-2",children:[t.jsx(ts,{className:"h-5 w-5"}),(n=s.find(o=>o.id===e))==null?void 0:n.contact]}),t.jsxs(vt,{className:"flex items-center gap-2 mt-1",children:[t.jsx(ct,{className:"h-4 w-4"}),(i=s.find(o=>o.id===e))==null?void 0:i.phone]})]}),t.jsxs(H,{variant:"outline",size:"sm",children:[t.jsx(ct,{className:"h-4 w-4 mr-2"}),"Call"]})]})}),t.jsxs(G,{className:"flex flex-col h-full p-0",children:[t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:a.map(o=>t.jsx("div",{className:`flex ${o.sender==="agent"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${o.sender==="agent"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[t.jsx("p",{className:"text-sm",children:o.text}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(Ut,{className:"h-3 w-3 opacity-70"}),t.jsx("span",{className:"text-xs opacity-70",children:o.timestamp})]})]})},o.id))}),t.jsx("div",{className:"border-t p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ya,{placeholder:"Type your message...",className:"resize-none min-h-[60px]"}),t.jsx(H,{size:"icon",className:"self-end",children:t.jsx(tc,{className:"h-4 w-4"})})]})})]})]}):t.jsx(G,{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(oo,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),t.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})]})},Lh=[{id:1,name:"Campaign Type",icon:Sr},{id:2,name:"Name & Objective",icon:Sr},{id:3,name:"Phone Numbers",icon:ct},{id:4,name:"Voice Agent",icon:xd},{id:5,name:"Test Agent",icon:Qn},{id:6,name:"Import Leads",icon:Yo},{id:7,name:"Budget & Credits",icon:Qr},{id:8,name:"Team Assignment",icon:Rt},{id:9,name:"Final Review",icon:bs}],w3=[{id:"sales",name:"Sales Outreach",description:"Generate new sales opportunities"},{id:"qualification",name:"Lead Qualification",description:"Qualify and score leads"},{id:"followup",name:"Follow-up",description:"Re-engage existing leads"},{id:"survey",name:"Survey",description:"Collect feedback and insights"},{id:"appointment",name:"Appointment Setting",description:"Schedule meetings"},{id:"custom",name:"Custom",description:"Define your own objective"}],r0=[{id:"emma",name:"Emma - Sales Specialist",description:"Friendly and persuasive, great for B2C sales",avatar:"",languages:["English","Spanish"],specialties:["Sales","Product Demos","Objection Handling"]},{id:"marcus",name:"Marcus - Enterprise Sales",description:"Professional and consultative for B2B",avatar:"",languages:["English"],specialties:["Enterprise Sales","Technical Discussions","ROI Analysis"]},{id:"sophia",name:"Sophia - Lead Qualifier",description:"Efficient at gathering information and scoring leads",avatar:"",languages:["English","French"],specialties:["Lead Qualification","Data Collection","Scheduling"]},{id:"alex",name:"Alex - Customer Success",description:"Warm and helpful for follow-ups and support",avatar:"",languages:["English"],specialties:["Follow-ups","Customer Support","Satisfaction Surveys"]}],j3=[{id:"1",name:"Sarah Johnson",role:"Sales Manager",avatar:"SJ"},{id:"2",name:"Mike Davis",role:"Senior Sales Rep",avatar:"MD"},{id:"3",name:"Emily Wilson",role:"Sales Rep",avatar:"EW"},{id:"4",name:"John Smith",role:"Sales Rep",avatar:"JS"},{id:"5",name:"Lisa Chen",role:"Sales Coordinator",avatar:"LC"}];function XNe(){const e=vr(),r=p.useRef(null),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,b]=p.useState(!1),[v,N]=p.useState({name:"",objective:"",description:"",phoneNumber:"",twilioIntegration:!1,vapiPhoneId:"",voiceAgent:"",voiceSettings:{speed:1,pitch:1,temperature:.7},testCompleted:!1,testNotes:"",leads:[],csvFileName:"",budget:100,callCredits:1e3,autoReload:!1,autoReloadThreshold:100,assignedTeam:[],teamLeader:"",immediateStart:!0,campaignType:""}),C="campaign-wizard-draft",S=()=>localStorage.getItem(C)!==null,_=()=>{const Q=v.name.trim()!==""||v.objective.trim()!==""||v.description.trim()!==""||v.phoneNumber.trim()!==""||v.voiceAgent.trim()!==""||v.leads.length>0||v.csvFileName.trim()!==""||v.campaignType!==""||s>1||w||Object.keys(o).length>0;return console.log(" Draft check:",{name:v.name.trim(),objective:v.objective.trim(),description:v.description.trim(),phoneNumber:v.phoneNumber.trim(),voiceAgent:v.voiceAgent.trim(),leadsCount:v.leads.length,csvFileName:v.csvFileName.trim(),campaignType:v.campaignType,currentStep:s,hasChanges:Q}),Q},E=async()=>{if(_()){y(!0);try{const Q={campaignData:v,currentStep:s,timestamp:new Date().toISOString(),version:"1.0"};localStorage.setItem(C,JSON.stringify(Q)),console.log("Draft saved successfully")}catch(Q){console.error("Failed to save draft:",Q)}finally{y(!1)}}},A=()=>{try{const Q=localStorage.getItem(C);if(Q){const he=JSON.parse(Q);return N(he.campaignData),a(he.currentStep),!0}}catch(Q){console.error("Failed to load draft:",Q),localStorage.removeItem(C)}return!1},T=()=>{localStorage.removeItem(C)},M=Q=>{console.log(" Exit attempt to:",Q);const he=_();console.log(" Has unsaved changes:",he),he?(console.log(" Showing exit dialog"),f(Q),m(!0)):(console.log(" No changes, navigating directly"),e(Q))},z=async()=>{await E(),m(!1),h&&(ne.state==="blocked"?ne.proceed():e(h),f(null))},V=()=>{T(),m(!1),h&&(ne.state==="blocked"?ne.proceed():e(h),f(null))},[O,R]=p.useState([]),[$,B]=p.useState([]),[U,te]=p.useState(!1),[L,F]=p.useState(!1),[q,ee]=p.useState([]),[W,Z]=p.useState(!1),ve=s/Lh.length*100;p.useEffect(()=>{(async()=>{try{te(!0),F(!0),ee([]),console.log(" Loading Apex data..."),console.log(" Campaign Wizard: Loading Apex data from backend..."),console.log(" Campaign Wizard: API Base URL:","http://localhost:3001/api");const[he,Se]=await Promise.all([of.getAssistants().catch(Ve=>{var ht;return console.error(" Failed to load assistants:",Ve),console.error(" Error details:",((ht=Ve.response)==null?void 0:ht.data)||Ve.message),{assistants:[]}}),of.getPhoneNumbers().catch(Ve=>{var ht;return console.error(" Failed to load phone numbers:",Ve),console.error(" Error details:",((ht=Ve.response)==null?void 0:ht.data)||Ve.message),{phoneNumbers:[]}})]);console.log(" Loaded assistants:",he),console.log(" Loaded phone numbers:",Se);const Te=Array.isArray(he)?he:he.assistants||[],ce=Array.isArray(Se)?Se:Se.phoneNumbers||[];R(Te),B(ce),Z(!0),(Te.length>0||ce.length>0)&&ee([])}catch(he){console.error(" Error loading Apex data:",he),ee(["Failed to connect to Apex service. Please check your Apex credentials in Settings."]),Z(!1)}finally{te(!1),F(!1)}})()},[]),p.useEffect(()=>{S()&&A()},[]),p.useEffect(()=>{if(_()){const Q=setTimeout(()=>{E()},2e3);return()=>clearTimeout(Q)}},[v,s]),p.useEffect(()=>{const Q=he=>{if(_())return he.preventDefault(),he.returnValue="You have unsaved changes. Do you want to save your progress as a draft?",he.returnValue};return window.addEventListener("beforeunload",Q),()=>window.removeEventListener("beforeunload",Q)},[v,s]);const ne=qW(({currentLocation:Q,nextLocation:he})=>{console.log(" Router blocker triggered:",{currentLocation:Q.pathname,nextLocation:he.pathname,hasChanges:_()});const Se=_()&&Q.pathname!==he.pathname;return console.log(" Should block navigation:",Se),Se});p.useEffect(()=>{var Q;ne.state==="blocked"&&(console.log(" Navigation blocked, showing dialog"),f(((Q=ne.location)==null?void 0:Q.pathname)||"/campaigns"),m(!0))},[ne.state]),p.useEffect(()=>{const Q=()=>{console.log(" User interaction detected"),b(!0)};return document.addEventListener("input",Q),document.addEventListener("click",Q),document.addEventListener("keydown",Q),()=>{document.removeEventListener("input",Q),document.removeEventListener("click",Q),document.removeEventListener("keydown",Q)}},[]);const I=Q=>{const he={};switch(Q){case 1:v.name.trim()||(he.name="Campaign name is required"),v.objective||(he.objective="Please select an objective");break;case 2:v.phoneNumber||(he.phoneNumber="Phone number is required");break;case 3:v.voiceAgent||(he.voiceAgent="Please select a voice agent");break;case 4:v.testCompleted||(he.test="Please test the voice agent before proceeding");break;case 5:v.leads.length===0&&(he.leads="Please import at least one lead");break;case 6:v.budget<10&&(he.budget="Minimum budget is $10");break;case 7:v.assignedTeam.length===0&&(he.team="Please assign at least one team member"),v.teamLeader||(he.teamLeader="Please select a team leader");break}return l(he),Object.keys(he).length===0},we=()=>{I(s)&&s<Lh.length&&a(s+1)},le=()=>{s>1&&(a(s-1),l({}))},ke=Q=>{Q<s?(a(Q),l({})):Q===s+1&&we()},J=Q=>{N(he=>({...he,...Q}))},Ce=()=>{var Q,he,Se,Te;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Select Campaign Type"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Choose whether you're targeting businesses or individual consumers"})]}),t.jsx(Jl,{value:v.campaignType,onValueChange:ce=>N({...v,campaignType:ce}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${v.campaignType==="b2b"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(sa,{value:"b2b",id:"b2b",className:"sr-only"}),t.jsx(re,{htmlFor:"b2b",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-blue-900/30 p-3",children:t.jsx(rr,{className:"h-6 w-6 text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2B (Business to Business)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target business decision makers and companies"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Pe,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Name"}),t.jsx(Pe,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Contact Title"}),t.jsx(Pe,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Industry"}),t.jsx(Pe,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Size"})]})]})]})]})})]}),t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${v.campaignType==="b2c"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(sa,{value:"b2c",id:"b2c",className:"sr-only"}),t.jsx(re,{htmlFor:"b2c",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-emerald-900/30 p-3",children:t.jsx(ts,{className:"h-6 w-6 text-emerald-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2C (Business to Consumer)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target individual consumers with personalized offers"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Pe,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Age Range"}),t.jsx(Pe,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Interests"}),t.jsx(Pe,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Location"}),t.jsx(Pe,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Consent Status"})]})]})]})]})})]})]})}),v.campaignType&&t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),t.jsx(Kt,{className:"text-gray-300",children:v.campaignType==="b2b"?"B2B campaigns focus on ROI, efficiency, and business value propositions. Your AI agent will be configured to speak professionally about business benefits.":"B2C campaigns require consent management and focus on personal benefits. Your AI agent will use a more conversational tone appropriate for consumers."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Give your campaign a name and select your primary objective"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Campaign Name *"}),t.jsx(Ee,{value:v.name,onChange:ce=>J({name:ce.target.value}),placeholder:"e.g., Q4 Enterprise Sales Outreach",className:"border-gray-700 bg-gray-800 text-white"}),o.name&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.name})]}),t.jsxs("div",{children:[t.jsx(re,{className:"mb-3 block text-gray-300",children:"Campaign Objective *"}),t.jsx(Jl,{value:v.objective,onValueChange:ce=>J({objective:ce}),children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:w3.map(ce=>t.jsxs("div",{className:`relative flex cursor-pointer items-start space-x-3 rounded-lg border p-4 transition-all ${v.objective===ce.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(sa,{value:ce.id,id:ce.id,className:"mt-1"}),t.jsxs(re,{htmlFor:ce.id,className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:ce.name}),t.jsx("div",{className:"text-sm text-gray-400",children:ce.description})]})]},ce.id))})}),o.objective&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.objective})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Campaign Description (Optional)"}),t.jsx(ya,{value:v.description,onChange:ce=>J({description:ce.target.value}),placeholder:"Describe your campaign goals, target audience, and any special instructions...",className:"border-gray-700 bg-gray-800 text-white",rows:4})]})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Configure Phone Numbers"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select your calling phone number and configure integrations"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(re,{className:"mb-3 block text-gray-300",children:"Phone Number Source"}),t.jsx(Jl,{value:v.twilioIntegration?"twilio":"vapi",onValueChange:ce=>J({twilioIntegration:ce==="twilio"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"vapi",id:"vapi"}),t.jsxs(re,{htmlFor:"vapi",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(ct,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"font-medium text-white",children:"Apex Phone Numbers"}),t.jsx(Pe,{className:"bg-emerald-600 text-white",children:"Recommended"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use phone numbers provisioned through Apex"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"twilio",id:"twilio"}),t.jsxs(re,{htmlFor:"twilio",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(ct,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"font-medium text-white",children:"Twilio Integration"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use your existing Twilio phone numbers"})]})]})]})})]}),v.twilioIntegration?t.jsxs("div",{className:"space-y-4",children:[t.jsxs(qt,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(Kt,{className:"text-yellow-300",children:"Twilio integration requires API credentials. Make sure your Twilio account is connected in Settings."})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Twilio Phone Number *"}),t.jsx(Ee,{value:v.phoneNumber,onChange:ce=>J({phoneNumber:ce.target.value}),placeholder:"+1234567890",className:"border-gray-700 bg-gray-800 text-white"}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber})]})]}):t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Select Apex Phone Number *"}),L&&t.jsxs("div",{className:"mb-2 flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading phone numbers..."})]}),t.jsxs(tt,{value:v.phoneNumber,onValueChange:ce=>J({phoneNumber:ce,vapiPhoneId:ce}),children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(rt,{placeholder:L?"Loading phone numbers...":"Choose a phone number"})}),t.jsx(Ze,{className:"border-gray-700 bg-gray-800",children:$.length>0?$.map(ce=>t.jsxs(ae,{value:ce.id||ce.number,children:[ce.number," - ",ce.country||ce.region||"Unknown"]},ce.id||ce.number)):t.jsxs(t.Fragment,{children:[t.jsx(ae,{value:"+1-555-0123",children:"+1 (555) 012-3456 - US"}),t.jsx(ae,{value:"+1-555-0124",children:"+1 (555) 012-3457 - US"}),t.jsx(ae,{value:"+44-7482-792343",children:"+44 7482 792343 - UK"})]})})]}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber}),$.length===0&&!L&&t.jsx("p",{className:"mt-1 text-sm text-yellow-400",children:"No Apex phone numbers found. Using demo numbers. Please configure Apex in Settings."})]}),vapiErrors.length>0&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-red-500"}),t.jsxs(Kt,{className:"text-red-300",children:["Apex Connection Issue: ",q.join(", ")]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium text-white",children:"Phone Number Features"}),W&&t.jsx(Pe,{className:"bg-green-600 text-xs text-white",children:"Apex Connected"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Automatic caller ID registration"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Call recording and transcription"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Real-time call monitoring"})]})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Select Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Choose the AI voice agent that best fits your campaign objective"})]}),t.jsxs("div",{className:"space-y-4",children:[vapiErrors.length>0&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-red-500"}),t.jsx(Kt,{className:"text-red-300",children:vapiErrors.join(", ")})]}),U&&t.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading voice agents..."})]}),O.length===0&&!U&&t.jsxs(qt,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(Kt,{className:"text-yellow-300",children:"No Apex assistants found. Using demo agents. Please configure Apex credentials in Settings."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:(O.length>0?O:r0).map(ce=>{var Ve,ht;return t.jsx("div",{className:`cursor-pointer rounded-lg border p-4 transition-all ${v.voiceAgent===ce.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>J({voiceAgent:ce.id}),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-4xl",children:ce.avatar||""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-1 font-medium text-white",children:ce.name}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:ce.description||"AI Assistant"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{className:"h-3 w-3 text-gray-500"}),t.jsx("span",{className:"text-xs text-gray-400",children:ce.languages?`Languages: ${ce.languages.join(", ")}`:`Voice: ${((Ve=ce.voice)==null?void 0:Ve.provider)||"Default"}`})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:ce.specialties?ce.specialties.map((de,Le)=>t.jsx(Pe,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:de},Le)):t.jsx(Pe,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:((ht=ce.model)==null?void 0:ht.provider)||"AI Model"})})]})]})]})},ce.id)})}),o.voiceAgent&&t.jsx("p",{className:"text-sm text-red-400",children:o.voiceAgent}),v.voiceAgent&&t.jsxs("div",{className:"space-y-4 rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Voice Settings"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Speaking Speed"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[v.voiceSettings.speed,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:v.voiceSettings.speed,onChange:ce=>J({voiceSettings:{...v.voiceSettings,speed:parseFloat(ce.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Voice Pitch"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[v.voiceSettings.pitch,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:v.voiceSettings.pitch,onChange:ce=>J({voiceSettings:{...v.voiceSettings,pitch:parseFloat(ce.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Response Creativity"}),t.jsx("span",{className:"text-sm text-gray-400",children:v.voiceSettings.temperature})]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:v.voiceSettings.temperature,onChange:ce=>J({voiceSettings:{...v.voiceSettings,temperature:parseFloat(ce.target.value)}}),className:"w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower = More consistent, Higher = More creative"})]})]})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Test Your Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Make a test call to ensure your voice agent is configured correctly"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t.jsx("div",{className:"text-4xl",children:((Q=(O.length>0?O:r0).find(ce=>ce.id===v.voiceAgent))==null?void 0:Q.avatar)||""}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-white",children:((he=(O.length>0?O:r0).find(ce=>ce.id===v.voiceAgent))==null?void 0:he.name)||"Selected Agent"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Ready for testing"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Test Phone Number"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{placeholder:"Enter your phone number",className:"border-gray-600 bg-gray-700 text-white"}),t.jsxs(H,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(ct,{className:"mr-2 h-4 w-4"}),"Start Test Call"]})]})]}),v.testCompleted&&t.jsxs(qt,{className:"border-green-500 bg-green-900/20",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx(Kt,{className:"text-green-300",children:"Test call completed successfully!"})]})]})]})}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Test Call Checklist"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${v.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:v.testCompleted&&t.jsx(bs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Voice clarity and quality"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Ensure the voice sounds natural and clear"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${v.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:v.testCompleted&&t.jsx(bs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Script accuracy"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verify the agent follows your intended script"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${v.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:v.testCompleted&&t.jsx(bs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Response handling"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Test different responses and objections"})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(re,{className:"text-gray-300",children:"Test Notes (Optional)"}),t.jsx(ya,{value:v.testNotes,onChange:ce=>J({testNotes:ce.target.value}),placeholder:"Any observations or adjustments needed...",className:"mt-2 border-gray-600 bg-gray-700 text-white",rows:3})]}),!v.testCompleted&&t.jsx(H,{variant:"outline",className:"mt-4 w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>J({testCompleted:!0}),children:"Mark Test as Completed"})]}),o.test&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-red-500"}),t.jsx(Kt,{className:"text-red-300",children:o.test})]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Import Your Leads"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Upload a CSV file with your lead data"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"cursor-pointer rounded-lg border-2 border-dashed border-gray-700 p-8 text-center transition-colors hover:border-gray-600",onClick:()=>{var ce;return(ce=r.current)==null?void 0:ce.click()},children:[t.jsx(Yo,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"mb-2 text-gray-300",children:"Drag and drop your CSV file here"}),t.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"}),t.jsx("input",{ref:r,type:"file",accept:".csv",onChange:ce=>{var ht;const Ve=(ht=ce.target.files)==null?void 0:ht[0];Ve&&J({leads:[{id:"1",firstName:"John",lastName:"Doe",phone:"+1234567890",email:"john@example.com"},{id:"2",firstName:"Jane",lastName:"Smith",phone:"+1234567891",email:"jane@example.com"},{id:"3",firstName:"Bob",lastName:"Johnson",phone:"+1234567892",email:"bob@example.com"}],csvFileName:Ve.name})},className:"hidden"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"CSV Format Requirements"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsx("p",{children:" Required columns: firstName, lastName, phone"}),t.jsx("p",{children:" Optional columns: email, company, title, custom fields"}),t.jsx("p",{children:" Phone numbers should include country code"}),t.jsx("p",{children:" Maximum 10,000 leads per file"})]}),t.jsxs(H,{variant:"outline",size:"sm",className:"mt-3 border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),v.leads.length>0&&t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:v.csvFileName}),t.jsxs("p",{className:"text-sm text-gray-400",children:[v.leads.length," leads imported"]})]}),t.jsx(H,{variant:"outline",size:"sm",onClick:()=>J({leads:[],csvFileName:""}),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Remove"})]}),t.jsxs("div",{className:"overflow-hidden rounded border border-gray-700",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Name"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Phone"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Email"})]})}),t.jsx("tbody",{children:v.leads.slice(0,5).map((ce,Ve)=>t.jsxs("tr",{className:"border-t border-gray-700",children:[t.jsxs("td",{className:"p-2 text-gray-300",children:[ce.firstName," ",ce.lastName]}),t.jsx("td",{className:"p-2 text-gray-400",children:ce.phone}),t.jsx("td",{className:"p-2 text-gray-400",children:ce.email||"-"})]},ce.id))})]}),v.leads.length>5&&t.jsxs("div",{className:"bg-gray-800 p-2 text-center text-sm text-gray-500",children:["And ",v.leads.length-5," more..."]})]})]}),o.leads&&t.jsxs(qt,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-red-500"}),t.jsx(Kt,{className:"text-red-300",children:o.leads})]})]})]});case 7:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Budget Allocation & Call Credits"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Set your campaign budget and configure credit management"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Qr,{className:"h-5 w-5 text-green-500"}),"Campaign Budget"]})}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Total Budget ($)"}),t.jsx(Ee,{type:"number",value:v.budget,onChange:ce=>J({budget:parseFloat(ce.target.value)||0,callCredits:Math.floor((parseFloat(ce.target.value)||0)/.1)}),className:"border-gray-600 bg-gray-700 text-white",min:"10",step:"10"}),o.budget&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.budget})]}),t.jsxs("div",{className:"space-y-2 rounded bg-gray-900/50 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per call"}),t.jsx("span",{className:"text-white",children:"$0.10"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Estimated calls"}),t.jsx("span",{className:"text-white",children:v.callCredits})]})]})]})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(ei,{className:"h-5 w-5 text-emerald-500"}),"Call Credits"]})}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"py-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white",children:v.callCredits}),t.jsx("p",{className:"text-sm text-gray-400",children:"Available Credits"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Auto-reload"}),t.jsx("input",{type:"checkbox",checked:v.autoReload,onChange:ce=>J({autoReload:ce.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-emerald-600"})]}),v.autoReload&&t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-300",children:"Reload when below"}),t.jsx(Ee,{type:"number",value:v.autoReloadThreshold,onChange:ce=>J({autoReloadThreshold:parseInt(ce.target.value)||0}),className:"mt-1 border-gray-600 bg-gray-700 text-white",min:"10",step:"10"})]})]})]})})]})]}),t.jsxs(qt,{className:"border-blue-500 bg-blue-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-blue-500"}),t.jsxs(Kt,{className:"text-blue-300",children:[t.jsx("strong",{children:"Billing Note:"})," You'll only be charged for completed calls. Failed or unanswered calls don't consume credits."]})]})]})]});case 8:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Assign Team Members"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select team members who will manage this campaign"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(re,{className:"mb-3 block text-gray-300",children:"Team Leader *"}),t.jsxs(tt,{value:v.teamLeader,onValueChange:ce=>J({teamLeader:ce}),children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(rt,{placeholder:"Select team leader"})}),t.jsx(Ze,{className:"border-gray-700 bg-gray-800",children:j3.filter(ce=>ce.role.includes("Manager")).map(ce=>t.jsx(ae,{value:ce.id,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-600 text-xs text-white",children:ce.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:ce.name}),t.jsx("div",{className:"text-xs text-gray-400",children:ce.role})]})]})},ce.id))})]}),o.teamLeader&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamLeader})]}),t.jsxs("div",{children:[t.jsx(re,{className:"mb-3 block text-gray-300",children:"Team Members *"}),t.jsx("div",{className:"space-y-2",children:j3.map(ce=>t.jsxs("div",{className:`flex cursor-pointer items-center justify-between rounded-lg border p-3 transition-all ${v.assignedTeam.includes(ce.id)?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{const Ve=v.assignedTeam.includes(ce.id);J({assignedTeam:Ve?v.assignedTeam.filter(ht=>ht!==ce.id):[...v.assignedTeam,ce.id]})},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-sm text-white",children:ce.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:ce.name}),t.jsx("div",{className:"text-sm text-gray-400",children:ce.role})]})]}),t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${v.assignedTeam.includes(ce.id)?"border-emerald-600 bg-emerald-600":"border-gray-600"}`,children:v.assignedTeam.includes(ce.id)&&t.jsx(bs,{className:"h-3 w-3 text-white"})})]},ce.id))}),o.team&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.team})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Team Permissions"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"View campaign performance and analytics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Access lead details and call recordings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Update lead status and add notes"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Receive real-time notifications"})]})]})]})]})]});case 9:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Review & Launch"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Review your campaign settings before launching"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 font-medium text-white",children:"Campaign Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign Name"}),t.jsx("span",{className:"font-medium text-white",children:v.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Objective"}),t.jsx("span",{className:"text-white",children:(Se=w3.find(ce=>ce.id===v.objective))==null?void 0:Se.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Phone Number"}),t.jsx("span",{className:"text-white",children:v.phoneNumber})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Voice Agent"}),t.jsx("span",{className:"text-white",children:((Te=(O.length>0?O:r0).find(ce=>ce.id===v.voiceAgent))==null?void 0:Te.name)||"Selected Agent"})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Total Leads"}),t.jsx("span",{className:"text-white",children:v.leads.length})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Budget"}),t.jsxs("span",{className:"text-white",children:["$",v.budget]})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Team Size"}),t.jsxs("span",{className:"text-white",children:[v.assignedTeam.length," members"]})]})]})]})}),t.jsxs("div",{children:[t.jsx(re,{className:"mb-3 block text-gray-300",children:"Launch Timing"}),t.jsx(Jl,{value:v.immediateStart?"now":"schedule",onValueChange:ce=>J({immediateStart:ce==="now"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"now",id:"now"}),t.jsxs(re,{htmlFor:"now",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Launch Immediately"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start calling as soon as you click launch"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"schedule",id:"schedule"}),t.jsxs(re,{htmlFor:"schedule",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Schedule for Later"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Set a specific date and time to start"})]})]})]})}),!v.immediateStart&&t.jsxs("div",{className:"mt-4",children:[t.jsx(re,{className:"text-gray-300",children:"Schedule Date & Time"}),t.jsx(Ee,{type:"datetime-local",value:v.scheduledStart,onChange:ce=>J({scheduledStart:ce.target.value}),className:"mt-2 border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(qt,{className:"border-green-500 bg-green-900/20",children:[t.jsx(bs,{className:"h-4 w-4 text-green-500"}),t.jsxs(Kt,{className:"text-green-300",children:[t.jsx("strong",{children:"Ready to Launch!"})," Your campaign is configured and ready to go. Click the launch button below to start."]})]})]})]})}},fe=()=>{switch(s){case 1:return v.campaignType!=="";case 2:return v.name&&v.objective;case 3:return v.phoneNumber.length>0;case 4:return v.voiceAgent.length>0;case 5:return v.testCompleted;case 6:return v.leads.length>0;case 7:return v.budget>0&&v.callCredits>0;case 8:return v.teamLeader.length>0&&v.assignedTeam.length>0;case 9:return!0;default:return!1}};return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rc,{className:"h-8 w-8 text-emerald-500"}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-gray-400",children:"Create your AI calling campaign step by step"}),g&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-emerald-400",children:[t.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Saving draft..."]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Step: ",s," | Changes: ",_()?"Yes":"No"," | Blocker: ",ne.state]})]})})]}),t.jsx(H,{variant:"outline",onClick:()=>M("/campaigns"),className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:"Cancel"})]}),t.jsx(Jt,{value:ve,className:"h-2 bg-gray-800"})]}),S()&&_()&&t.jsxs(qt,{className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-400",children:[t.jsx(Ht,{className:"h-4 w-4"}),t.jsx(Kt,{children:"Your draft has been automatically loaded. You can continue where you left off."})]}),t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"flex items-center justify-between",children:Lh.map((Q,he)=>{const Se=Q.icon,Te=Q.id===s,ce=Q.id<s,Ve=Q.id<=s+1;return t.jsxs(ue.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${Ve?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>Ve&&ke(Q.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${Te?"bg-emerald-600 text-white":ce?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:ce?t.jsx(bs,{className:"h-6 w-6"}):t.jsx(Se,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${Te?"font-medium text-white":"text-gray-400"}`,children:Q.name})]}),he<Lh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${ce?"bg-green-600":"bg-gray-800"}`})]},Q.id)})})}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(G,{className:"p-8",children:Ce()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(H,{variant:"outline",onClick:le,disabled:s===1,className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(mc,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<Lh.length?t.jsxs(H,{onClick:we,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:["Next",t.jsx(Di,{className:"ml-2 h-4 w-4"})]}):t.jsx(H,{onClick:()=>{fe()&&(i(!0),setTimeout(()=>{i(!1),T(),e("/campaigns")},2e3))},disabled:n,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Launching Campaign..."]}):t.jsxs(t.Fragment,{children:[t.jsx(rc,{className:"mr-2 h-4 w-4"}),"Launch Campaign"]})})]})})]}),t.jsx(ol,{open:d,onOpenChange:Q=>{m(Q),!Q&&ne.state==="blocked"&&(ne.reset(),f(null))},children:t.jsxs(fo,{className:"border-gray-800 bg-gray-900 text-white",children:[t.jsxs(po,{children:[t.jsx(go,{className:"text-white",children:"Save Your Progress?"}),t.jsx(ll,{className:"text-gray-400",children:"You have unsaved changes in your campaign setup. Would you like to save your progress as a draft before leaving?"})]}),t.jsxs(Yd,{className:"gap-2",children:[t.jsx(H,{variant:"outline",onClick:V,className:"border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700",children:"Exit Without Saving"}),t.jsx(H,{onClick:z,disabled:g,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Saving..."]}):"Save Draft & Exit"})]})]})})]})}const R4=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:$e("w-full caption-bottom text-sm",e),...r})}));R4.displayName="Table";const M4=p.forwardRef(({className:e,...r},s)=>t.jsx("thead",{ref:s,className:$e("[&_tr]:border-b",e),...r}));M4.displayName="TableHeader";const I4=p.forwardRef(({className:e,...r},s)=>t.jsx("tbody",{ref:s,className:$e("[&_tr:last-child]:border-0",e),...r}));I4.displayName="TableBody";const QNe=p.forwardRef(({className:e,...r},s)=>t.jsx("tfoot",{ref:s,className:$e("border-t bg-zinc-100/50 font-medium dark:bg-zinc-800/50 [&>tr]:last:border-b-0",e),...r}));QNe.displayName="TableFooter";const Tf=p.forwardRef(({className:e,...r},s)=>t.jsx("tr",{ref:s,className:$e("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",e),...r}));Tf.displayName="TableRow";const ga=p.forwardRef(({className:e,...r},s)=>t.jsx("th",{ref:s,className:$e("h-10 px-2 text-left align-middle font-medium text-zinc-500 dark:text-zinc-400 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));ga.displayName="TableHead";const xa=p.forwardRef(({className:e,...r},s)=>t.jsx("td",{ref:s,className:$e("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));xa.displayName="TableCell";const ZNe=p.forwardRef(({className:e,...r},s)=>t.jsx("caption",{ref:s,className:$e("mt-4 text-sm text-zinc-500 dark:text-zinc-400",e),...r}));ZNe.displayName="TableCaption";const e1e=[{id:"1",timestamp:new Date().toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.login",resource:"Authentication",details:{method:"email",mfa:!0},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"auth"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"campaign.create",resource:"Campaign",resourceId:"camp123",details:{name:"Q4 Sales Outreach",leads:500},ipAddress:"192.168.1.2",userAgent:"Firefox/121.0",status:"success",category:"campaign"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.update_role",resource:"User",resourceId:"user3",details:{oldRole:"agent",newRole:"manager",targetUser:"John Smith"},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"user"},{id:"4",timestamp:new Date(Date.now()-108e5).toISOString(),user:{id:"user3",name:"John Smith",email:"john@example.com",role:"agent"},action:"api.key_create",resource:"API Key",details:{keyName:"Production API",permissions:["read","write"]},ipAddress:"192.168.1.3",userAgent:"Safari/17.0",status:"success",category:"api"},{id:"5",timestamp:new Date(Date.now()-144e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"billing.payment_failed",resource:"Payment",details:{amount:599,reason:"Insufficient funds"},ipAddress:"192.168.1.2",userAgent:"Chrome/120.0.0.0",status:"failed",category:"billing"}],t1e={"user.login":P0,"user.logout":bY,"user.create":zf,"user.delete":RY,"user.update":sc,"user.update_role":ja,"campaign.create":ct,"campaign.update":sc,"campaign.delete":ds,"campaign.launch":xd,"billing.payment":ei,"billing.payment_failed":Pi,"api.key_create":yd,"api.key_delete":ds,"settings.update":Cs};function r1e(){const[e,r]=p.useState(e1e),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState("7days"),[h,f]=p.useState("all"),g=e.filter(N=>{const C=s===""||N.action.toLowerCase().includes(s.toLowerCase())||N.user.name.toLowerCase().includes(s.toLowerCase())||N.resource.toLowerCase().includes(s.toLowerCase())||JSON.stringify(N.details).toLowerCase().includes(s.toLowerCase()),S=n==="all"||N.category===n,_=o==="all"||N.status===o,E=h==="all"||N.user.id===h;return C&&S&&_&&E}),y=N=>{const C=t1e[N]||Ns;return t.jsx(C,{className:"h-4 w-4"})},w=N=>{const C={success:"bg-green-900/20 text-green-400 border-green-800",failed:"bg-red-900/20 text-red-400 border-red-800",warning:"bg-yellow-900/20 text-yellow-400 border-yellow-800"},S={success:t.jsx(jt,{className:"h-3 w-3"}),failed:t.jsx(Pi,{className:"h-3 w-3"}),warning:t.jsx(Lt,{className:"h-3 w-3"})};return t.jsx(Pe,{className:C[N],children:t.jsxs("span",{className:"flex items-center gap-1",children:[S[N],N]})})},b=N=>N.split(".").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),v=()=>{const N=[["Timestamp","User","Action","Resource","Status","IP Address","Details"].join(","),...g.map(E=>[E.timestamp,`${E.user.name} (${E.user.email})`,b(E.action),E.resource,E.status,E.ipAddress,JSON.stringify(E.details)].join(","))].join(`
`),C=new Blob([N],{type:"text/csv"}),S=window.URL.createObjectURL(C),_=document.createElement("a");_.href=S,_.download=`audit-logs-${Zi(new Date,"yyyy-MM-dd")}.csv`,_.click()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ja,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-400",children:"Track all actions and changes in your system"})]})]}),t.jsxs(H,{onClick:v,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export Logs"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Total Actions"}),t.jsx(Ns,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"In selected period"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Active Users"}),t.jsx(ts,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:new Set(e.map(N=>N.user.id)).size}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Unique users"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsx(jt,{className:"h-4 w-4 text-green-400"})]}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.filter(N=>N.status==="success").length/e.length*100),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful actions"})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Failed Actions"}),t.jsx(Pi,{className:"h-4 w-4 text-red-400"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(N=>N.status==="failed").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Require attention"})]})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Zx,{className:"h-5 w-5"}),"Filters"]})}),t.jsx(G,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Search"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{value:s,onChange:N=>a(N.target.value),placeholder:"Search logs...",className:"border-gray-700 bg-gray-900 pl-10 text-white"})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Category"}),t.jsxs(tt,{value:n,onValueChange:i,children:[t.jsx(Qe,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"all",children:"All Categories"}),t.jsx(ae,{value:"auth",children:"Authentication"}),t.jsx(ae,{value:"user",children:"User Management"}),t.jsx(ae,{value:"campaign",children:"Campaigns"}),t.jsx(ae,{value:"lead",children:"Leads"}),t.jsx(ae,{value:"billing",children:"Billing"}),t.jsx(ae,{value:"settings",children:"Settings"}),t.jsx(ae,{value:"api",children:"API"})]})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Status"}),t.jsxs(tt,{value:o,onValueChange:l,children:[t.jsx(Qe,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"all",children:"All Status"}),t.jsx(ae,{value:"success",children:"Success"}),t.jsx(ae,{value:"failed",children:"Failed"}),t.jsx(ae,{value:"warning",children:"Warning"})]})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"User"}),t.jsxs(tt,{value:h,onValueChange:f,children:[t.jsx(Qe,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"all",children:"All Users"}),Array.from(new Set(e.map(N=>N.user.id))).map(N=>{var S;const C=(S=e.find(_=>_.user.id===N))==null?void 0:S.user;return t.jsx(ae,{value:N,children:C==null?void 0:C.name},N)})]})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Date Range"}),t.jsxs(tt,{value:d,onValueChange:m,children:[t.jsx(Qe,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"today",children:"Today"}),t.jsx(ae,{value:"7days",children:"Last 7 Days"}),t.jsx(ae,{value:"30days",children:"Last 30 Days"}),t.jsx(ae,{value:"90days",children:"Last 90 Days"}),t.jsx(ae,{value:"all",children:"All Time"})]})]})]})]})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Audit Log Entries"}),t.jsxs(vt,{className:"text-gray-400",children:["Showing ",g.length," of ",e.length," total entries"]})]}),t.jsx(G,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(R4,{children:[t.jsx(M4,{children:t.jsxs(Tf,{className:"border-gray-700",children:[t.jsx(ga,{className:"text-gray-400",children:"Timestamp"}),t.jsx(ga,{className:"text-gray-400",children:"User"}),t.jsx(ga,{className:"text-gray-400",children:"Action"}),t.jsx(ga,{className:"text-gray-400",children:"Resource"}),t.jsx(ga,{className:"text-gray-400",children:"Details"}),t.jsx(ga,{className:"text-gray-400",children:"IP Address"}),t.jsx(ga,{className:"text-gray-400",children:"Status"})]})}),t.jsx(I4,{children:g.map(N=>t.jsxs(Tf,{className:"border-gray-700 hover:bg-gray-900/50",children:[t.jsx(xa,{className:"text-gray-300",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"h-4 w-4 text-gray-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:Zi(new Date(N.timestamp),"MMM dd, yyyy")}),t.jsx("div",{className:"text-xs text-gray-500",children:Zi(new Date(N.timestamp),"HH:mm:ss")})]})]})}),t.jsx(xa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.user.name}),t.jsx("div",{className:"text-xs text-gray-500",children:N.user.role})]})}),t.jsx(xa,{children:t.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[y(N.action),t.jsx("span",{className:"text-sm",children:b(N.action)})]})}),t.jsx(xa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.resource}),N.resourceId&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",N.resourceId]})]})}),t.jsx(xa,{children:t.jsx("div",{className:"max-w-xs truncate text-xs text-gray-400",children:Object.entries(N.details).map(([C,S])=>t.jsxs("div",{children:[t.jsxs("span",{className:"text-gray-500",children:[C,":"]})," ",String(S)]},C))})}),t.jsx(xa,{className:"text-sm text-gray-400",children:N.ipAddress}),t.jsx(xa,{children:w(N.status)})]},N.id))})]})})})]})]})})}function s1e(){const[e,r]=p.useState(30),[s,a]=p.useState(!0);return p.useEffect(()=>{const n=async()=>{await new Promise(i=>setTimeout(i,500))};if(n(),s){const i=setInterval(n,e*1e3);return()=>clearInterval(i)}},[e,s]),t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"System Health"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor system status and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(H,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Go,{className:"mr-2 h-4 w-4"}),"Alerts"]}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Configure"]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(ja,{className:"h-5 w-5 text-emerald-400"}),"Platform Status"]})}),t.jsxs(G,{children:[t.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"All Systems Operational"})]}),t.jsxs("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.9%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Uptime"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"12ms"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Response Time"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Active Issues"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"47"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Services"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"API Gateway"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.99%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Database"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.95%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Avg Response Time"})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"45ms"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Last 24 hours"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx(Ns,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Stable"})]})]})]})]})]})})}async function a1e(e,r){return console.warn("No OpenAI API key found, using fallback analysis"),n1e(e)}function n1e(e){const r=e.toLowerCase();let s="connected",a="neutral",n=!1,i=!1,o=!1;r.includes("hung up")||r.includes("call ended")?(s="hung_up",a="negative"):r.includes("voicemail")||r.includes("leave a message")?s="voicemail":r.includes("call me back")||r.includes("call back later")?(s="callback",n=!0):r.includes("interested")||r.includes("sounds good")||r.includes("tell me more")||r.includes("yes")&&r.includes("appointment")?(s="interested",a="positive",o=!0):(r.includes("not interested")||r.includes("don't need")||r.includes("no thank"))&&(s="not_interested",a="negative"),(r.includes("appointment")||r.includes("schedule")||r.includes("saturday at")||r.includes("monday at")||r.includes("tuesday at")||r.includes("wednesday at")||r.includes("thursday at")||r.includes("friday at"))&&(i=!0,a="positive",s="interested",o=!0);const l=[];i&&l.push("Appointment scheduled"),n&&l.push("Callback requested"),o&&l.push("Customer showed interest"),r.includes("solar")&&l.push("Discussed solar energy"),r.includes("consultation")&&l.push("Free consultation offered");let d="Call completed. ";return i?d="Appointment successfully scheduled. ":n?d="Customer requested a callback. ":s==="interested"?d="Customer expressed interest. ":s==="not_interested"&&(d="Customer declined the offer. "),{outcome:s,sentiment:a,confidence:.7,summary:d,keyPoints:l,nextSteps:i?"Follow up before appointment":n?"Schedule callback":s==="interested"?"Send follow-up information":void 0,callbackRequested:n,appointmentScheduled:i,interestedInProduct:o}}const h9=window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com"),f9=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",SS=h9?"https://apex-backend-new.vercel.app/api":"http://localhost:3001/api";console.log(" AllCalls using smart API detection:",{hostname:window.location.hostname,isNetlify:h9,isLocalDev:f9,API_BASE_URL:SS});const i1e={connected:"bg-green-500",interested:"bg-emerald-500",callback:"bg-blue-500",voicemail:"bg-yellow-500",no_answer:"bg-orange-500",busy:"bg-red-500",failed:"bg-red-600",not_interested:"bg-gray-500"},o1e={positive:"bg-green-500",neutral:"bg-gray-500",negative:"bg-red-500"};function l1e(e){if(!e)return[];const r=e.split(`
`),s=[];for(const a of r)a.trim()&&(a.startsWith("User:")||a.startsWith("user:")?s.push({speaker:"user",text:a.replace(/^(User:|user:)\s*/,"").trim()}):a.startsWith("AI:")||a.startsWith("ai:")||a.startsWith("Assistant:")?s.push({speaker:"ai",text:a.replace(/^(AI:|ai:|Assistant:)\s*/,"").trim()}):s.length>0&&(s[s.length-1].text+=" "+a.trim()));return s}async function c1e(e){if(!e.transcript)return e;console.log(` Analyzing call ${e.id} with OpenAI...`);try{const r=await a1e(e.transcript);return console.log(` OpenAI Analysis for call ${e.id}:`,{outcome:r.outcome,sentiment:r.sentiment,confidence:r.confidence,summary:r.summary}),{...e,outcome:r.outcome,sentiment:r.sentiment,summary:r.summary,ai_analysis:r}}catch(r){return console.error(` Failed to analyze call ${e.id} with OpenAI:`,r),e}}function d1e(){var te;const e=vr(),[r,s]=p.useState(!1),[a,n]=p.useState(null),{getToken:i}=_n(),{toast:o}=Vr(),[l,d]=p.useState([]),[m,h]=p.useState(!0),[f,g]=p.useState({totalCalls:0,connectedCalls:0,totalDuration:0,totalCost:0,averageDuration:0,connectionRate:0,positiveRate:0}),[y,w]=p.useState(1),[b,v]=p.useState(50),[N,C]=p.useState(""),[S,_]=p.useState({type:"all",outcome:"all",sentiment:"all",agent:"all",campaign:"all",dateRange:"all"}),[E,A]=p.useState("startTime"),[T,M]=p.useState("desc"),z=async()=>{var L,F,q,ee,W,Z,ve,ne;try{h(!0),console.log(" DEBUGGING: Fetching calls directly from Supabase...");const{createClient:I}=await bn(async()=>{const{createClient:he}=await Promise.resolve().then(()=>XG);return{createClient:he}},void 0),ke=I("https://twigokrtbvigiqnaybfy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24"),{data:J,error:Ce}=await ke.from("calls").select("*").eq("organization_id","2566d8c5-2245-4a3c-b539-4cea21a07d9b").order("created_at",{ascending:!1}).limit(50);if(Ce)throw console.error(" Supabase error:",Ce),new Error(`Supabase query failed: ${Ce.message}`);console.log(` Found ${J.length} real calls from Supabase directly`),console.log(" Starting OpenAI analysis for all calls...");const fe=await Promise.all(J.map(he=>c1e(he)));console.log(" OpenAI analysis complete for all calls");const Q={ok:!0,json:async()=>({success:!0,calls:fe,metrics:{totalCalls:fe.length,connectedCalls:fe.filter(he=>he.status==="completed").length,totalDuration:fe.reduce((he,Se)=>he+(Se.duration||0),0),totalCost:fe.reduce((he,Se)=>he+(Se.cost||0),0),averageDuration:fe.length>0?Math.round(fe.reduce((he,Se)=>he+(Se.duration||0),0)/fe.length):0,connectionRate:fe.length>0?Math.round(fe.filter(he=>he.status==="completed").length/fe.length*100):0,positiveRate:100}})};if(console.log(" DEBUGGING: Response status:",Q.status),console.log(" DEBUGGING: Response URL:",Q.url),Q.ok){const he=await Q.json();if(console.log(" DEBUGGING: Full response data:",he),console.log(" DEBUGGING: Response type:",typeof he),console.log(" DEBUGGING: Data keys:",Object.keys(he||{})),console.log(" DEBUGGING: Calls array:",he.calls),console.log(" DEBUGGING: Calls array type:",typeof he.calls),console.log(" DEBUGGING: First call data:",(L=he.calls)==null?void 0:L[0]),!he.calls||!Array.isArray(he.calls)){console.error(" DEBUGGING: data.calls is not an array:",he.calls),d([]);return}console.log(" DEBUGGING: Starting Supabase data transformation...");const Se=he.calls.map((Te,ce)=>{if(console.log(` DEBUGGING: Processing Supabase call ${ce}:`,Te),!Te)return console.error(` DEBUGGING: Call ${ce} is null/undefined`),null;let Ve=Te.customer_name||"Unknown Contact";if(!Te.customer_name&&Te.transcript){const de=[Te.transcript.match(/Hi,?\s+([A-Za-z]+)/),Te.transcript.match(/speak to ([A-Za-z]+)/),Te.transcript.match(/Hello,?\s+([A-Za-z]+)/)];for(const Le of de)if(Le&&Le[1]&&Le[1].length>1){Ve=Le[1];break}}if(Ve==="Unknown Contact"&&Te.summary){const de=Te.summary.match(/called ([A-Za-z]+)/);de&&de[1]&&(Ve=de[1])}const ht={id:Te.vapi_call_id||Te.id,type:Te.direction==="inbound"?"inbound":"outbound",contact:{name:Ve,phone:Te.phone_number||"Unknown",company:"Emerald Green Energy"},agent:{name:"AI Assistant",type:"ai"},campaign:Te.campaign_id?{name:`Campaign ${Te.campaign_id}`,id:Te.campaign_id}:null,startTime:Te.started_at||Te.created_at,duration:Te.duration||0,outcome:Te.outcome||"connected",sentiment:Te.sentiment||"positive",cost:Te.cost||0,recording:Te.recording_url,transcript:Te.transcript,notes:Te.summary,status:Te.status==="completed"?"completed":"in-progress"};return console.log(` DEBUGGING: Transformed Supabase call ${ce}:`,ht),ht}).filter(Boolean);console.log(" DEBUGGING: Final transformed calls:",Se),d(Se),g({totalCalls:((F=he.metrics)==null?void 0:F.totalCalls)||Se.length,connectedCalls:((q=he.metrics)==null?void 0:q.connectedCalls)||Se.length,totalDuration:((ee=he.metrics)==null?void 0:ee.totalDuration)||0,totalCost:((W=he.metrics)==null?void 0:W.totalCost)||0,averageDuration:((Z=he.metrics)==null?void 0:Z.averageDuration)||0,connectionRate:((ve=he.metrics)==null?void 0:ve.connectionRate)||100,positiveRate:((ne=he.metrics)==null?void 0:ne.positiveRate)||100})}else{console.log(" DEBUGGING: Response not ok, status:",Q.status);const he=await Q.text();throw console.log(" DEBUGGING: Error response text:",he),new Error(`HTTP ${Q.status}: ${he}`)}}catch(I){console.error(" Error fetching calls:",I),console.log(" DEBUGGING: Using fallback/mock data?"),o({title:"Error",description:"Failed to fetch calls. Please try again.",variant:"destructive"}),d([])}finally{h(!1)}},V=async()=>{try{const L=await i(),F=await fetch(`${SS}/calls/metrics`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(F.ok){const q=await F.json();g(q)}}catch(L){console.error(" Error fetching metrics:",L)}};p.useEffect(()=>{z(),V()},[y,b,N,S,E,T]);const O=async()=>{try{const L=await i(),F=await fetch(`${SS}/calls/export`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({filters:S,searchTerm:N})});if(F.ok){const q=await F.blob(),ee=window.URL.createObjectURL(q),W=document.createElement("a");W.href=ee,W.download=`calls-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(W),W.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(W),o({title:"Success",description:"Data exported successfully."})}else throw new Error("Export failed")}catch(L){console.error(" Error exporting calls:",L),o({title:"Error",description:"Failed to export data. Please try again.",variant:"destructive"})}},R=L=>{const F=Math.floor(L/60),q=L%60;return`${F}:${q.toString().padStart(2,"0")}`},$=L=>`$${L.toFixed(2)}`,B=L=>{n(L),s(!0)},U=l.filter(L=>{var ne;const F=L.contact.name.toLowerCase().includes(N.toLowerCase())||L.contact.phone.includes(N)||L.contact.company&&L.contact.company.toLowerCase().includes(N.toLowerCase())||L.agent.name.toLowerCase().includes(N.toLowerCase()),q=S.type==="all"||L.type===S.type,ee=S.outcome==="all"||L.outcome===S.outcome,W=S.sentiment==="all"||L.sentiment===S.sentiment,Z=S.agent==="all"||L.agent.name===S.agent,ve=S.campaign==="all"||((ne=L.campaign)==null?void 0:ne.id)===S.campaign;return F&&q&&ee&&W&&Z&&ve});return m?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between"}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading call data..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-zinc-400",children:"View and manage all your calls"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{onClick:z,variant:"outline",size:"sm",children:[t.jsx(aa,{className:"mr-2 h-4 w-4"}),"Refresh"]}),t.jsxs(H,{onClick:O,variant:"outline",size:"sm",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:((f==null?void 0:f.totalCalls)||0).toLocaleString()})]}),t.jsx(ct,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Connected"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:((f==null?void 0:f.connectedCalls)||0).toLocaleString()}),t.jsxs("p",{className:"text-xs text-zinc-500",children:[((f==null?void 0:f.connectionRate)||0).toFixed(1),"% connection rate"]})]}),t.jsx(A0,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:R((f==null?void 0:f.totalDuration)||0)}),t.jsxs("p",{className:"text-xs text-zinc-500",children:["Avg: ",R((f==null?void 0:f.averageDuration)||0)]})]})})})}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:$((f==null?void 0:f.totalCost)||0)}),t.jsxs("p",{className:"text-xs text-zinc-500",children:[((f==null?void 0:f.positiveRate)||0).toFixed(1),"% positive rate"]})]}),t.jsx(Qr,{className:"h-8 w-8 text-yellow-500"})]})})})]}),t.jsx(K,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(Ee,{placeholder:"Search calls...",value:N,onChange:L=>C(L.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(tt,{value:S.type,onValueChange:L=>_({...S,type:L}),children:[t.jsx(Qe,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{placeholder:"Filter by type"})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"all",children:"All Types"}),t.jsx(ae,{value:"inbound",children:"Inbound"}),t.jsx(ae,{value:"outbound",children:"Outbound"}),t.jsx(ae,{value:"missed",children:"Missed"})]})]}),t.jsxs(tt,{value:S.outcome,onValueChange:L=>_({...S,outcome:L}),children:[t.jsx(Qe,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{placeholder:"Filter by outcome"})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"all",children:"All Outcomes"}),t.jsx(ae,{value:"connected",children:"Connected"}),t.jsx(ae,{value:"interested",children:"Interested"}),t.jsx(ae,{value:"callback",children:"Callback"}),t.jsx(ae,{value:"voicemail",children:"Voicemail"}),t.jsx(ae,{value:"no_answer",children:"No Answer"}),t.jsx(ae,{value:"busy",children:"Busy"}),t.jsx(ae,{value:"failed",children:"Failed"})]})]}),t.jsxs(tt,{value:S.sentiment,onValueChange:L=>_({...S,sentiment:L}),children:[t.jsx(Qe,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{placeholder:"Filter by sentiment"})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"all",children:"All Sentiments"}),t.jsx(ae,{value:"positive",children:"Positive"}),t.jsx(ae,{value:"neutral",children:"Neutral"}),t.jsx(ae,{value:"negative",children:"Negative"})]})]})]})})}),t.jsxs(K,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"text-white",children:["Call Records (",U.length,")"]})}),t.jsx(G,{children:U.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(ct,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No calls found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:U.map(L=>t.jsxs("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4 transition-all duration-200 hover:bg-zinc-700/50",onClick:()=>B(L),children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:L.type==="inbound"?t.jsx(ct,{className:"h-5 w-5 text-green-500"}):L.type==="outbound"?t.jsx(A0,{className:"h-5 w-5 text-blue-500"}):t.jsx(PY,{className:"h-5 w-5 text-red-500"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"font-medium text-white",children:L.contact.name}),t.jsx(Pe,{className:`${i1e[L.outcome]} text-white`,children:L.outcome.replace(/_/g," ").replace(/\b\w/g,F=>F.toUpperCase())}),t.jsx(Pe,{className:`${o1e[L.sentiment]} text-white`,children:L.sentiment.charAt(0).toUpperCase()+L.sentiment.slice(1)})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsx("span",{children:L.contact.phone}),L.contact.company&&t.jsx("span",{children:L.contact.company}),t.jsxs("span",{children:[L.agent.name," (",L.agent.type.charAt(0).toUpperCase()+L.agent.type.slice(1),")"]}),L.campaign&&t.jsx("span",{children:L.campaign.name})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-6 text-sm text-zinc-400",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:new Date(L.startTime).toLocaleDateString()}),t.jsx("p",{children:new Date(L.startTime).toLocaleTimeString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:R(L.duration)}),t.jsx("p",{children:$(L.cost)})]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",onClick:F=>F.stopPropagation(),children:t.jsx(Qx,{className:"h-4 w-4"})})}),t.jsxs(ti,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Xt,{onClick:()=>B(L),className:"text-zinc-300 hover:text-white",children:[t.jsx(Vo,{className:"mr-2 h-4 w-4"}),"View Details"]}),L.recording&&t.jsxs(Xt,{onClick:()=>B(L),className:"text-zinc-300 hover:text-white",children:[t.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Play Recording"]}),L.transcript&&t.jsxs(Xt,{onClick:()=>B(L),className:"text-zinc-300 hover:text-white",children:[t.jsx(Vo,{className:"mr-2 h-4 w-4"}),"View Transcript"]}),L.leadId&&t.jsxs(Xt,{onClick:()=>e(`/leads/${L.leadId}`),className:"text-zinc-300 hover:text-white",children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),"View Lead"]})]})]})]})]},L.id))})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-zinc-400",children:"Show"}),t.jsxs(tt,{value:b.toString(),onValueChange:L=>v(parseInt(L)),children:[t.jsx(Qe,{className:"w-20 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(ae,{value:"25",children:"25"}),t.jsx(ae,{value:"50",children:"50"}),t.jsx(ae,{value:"100",children:"100"})]})]}),t.jsx("span",{className:"text-sm text-zinc-400",children:"per page"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(H,{variant:"outline",size:"sm",onClick:()=>w(Math.max(1,y-1)),disabled:y===1,children:t.jsx(mc,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm text-zinc-400",children:["Page ",y]}),t.jsx(H,{variant:"outline",size:"sm",onClick:()=>w(y+1),disabled:U.length<b,children:t.jsx(Di,{className:"h-4 w-4"})})]})]}),t.jsx(gv,{isOpen:r,onClose:()=>s(!1),callData:a?{id:a.id,duration:a.duration,transcript:a.transcript?l1e(a.transcript):[],recording:a.recording,cost:a.cost,customerName:a.contact.name,customerPhone:a.contact.phone,customerCompany:a.contact.company,status:a.status,startedAt:a.startTime,campaignName:(te=a.campaign)==null?void 0:te.name,direction:a.type,analysis:{sentiment:a.sentiment==="positive"?.8:a.sentiment==="negative"?.2:.5,keywords:["inquiry","interested","follow-up"],summary:a.notes||`Call with ${a.contact.name} resulted in ${a.outcome}.`}}:void 0})]})}const u1e=()=>{const e=vr(),{notifications:r,markAsRead:s,markAllAsRead:a,deleteNotification:n,clearAll:i}=Pm(),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState([]),[w,b]=p.useState(1),v=10,N=p.useMemo(()=>{const R=r.length,$=r.filter(U=>!U.read).length,B=r.reduce((U,te)=>(U[te.type]=(U[te.type]||0)+1,U),{});return{total:R,unread:$,byType:B}},[r]),C=R=>{switch(R){case"success":return t.jsx(jt,{className:"h-4 w-4 text-emerald-400"});case"error":return t.jsx(Lt,{className:"h-4 w-4 text-red-400"});case"warning":return t.jsx(Ms,{className:"h-4 w-4 text-yellow-400"});case"info":default:return t.jsx(Ht,{className:"h-4 w-4 text-blue-400"})}},S=R=>{switch(R){case"success":return"border-l-emerald-400";case"error":return"border-l-red-400";case"warning":return"border-l-yellow-400";case"info":default:return"border-l-blue-400"}},_=R=>{const $=new Date;let B;if(R instanceof Date)B=R;else if(typeof R=="string"||typeof R=="number")B=new Date(R);else return"Unknown";if(isNaN(B.getTime()))return"Unknown";const U=$.getTime()-B.getTime(),te=Math.floor(U/6e4),L=Math.floor(U/36e5),F=Math.floor(U/864e5);return F>0?`${F}d ago`:L>0?`${L}h ago`:te>0?`${te}m ago`:"Just now"},E=p.useMemo(()=>r.filter(R=>{const $=R.title.toLowerCase().includes(o.toLowerCase())||R.message.toLowerCase().includes(o.toLowerCase()),B=d==="all"||R.type===d,U=h==="all"||h==="unread"&&!R.read||h==="read"&&R.read;return $&&B&&U}),[r,o,d,h]),A=p.useMemo(()=>{const R=(w-1)*v,$=R+v;return E.slice(R,$)},[E,w]),T=Math.ceil(E.length/v),M=R=>{y(R?A.map($=>$.id):[])},z=(R,$)=>{y($?[...g,R]:g.filter(B=>B!==R))},V=R=>{g.forEach($=>{R==="read"?s($):n($)}),y([])},O=R=>{var $,B,U,te;s(R.id),($=R.metadata)!=null&&$.leadId?e(`/leads/${R.metadata.leadId}`):(B=R.metadata)!=null&&B.campaignId?e(`/campaigns/${R.metadata.campaignId}`):(U=R.metadata)!=null&&U.ticketId?e(`/support-tickets/${R.metadata.ticketId}`):(te=R.action)!=null&&te.href&&e(R.action.href)};return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(Go,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{className:"flex gap-2",children:[N.unread>0&&t.jsxs(H,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(e1,{className:"mr-2 h-4 w-4"}),"Mark All Read"]}),t.jsx(H,{variant:"outline",onClick:()=>e("/settings"),className:"border-gray-700 hover:bg-gray-800",children:"Settings"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:N.total})]}),t.jsx(Go,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Unread"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.unread})]}),t.jsx(Ut,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Success"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.byType.success||0})]}),t.jsx(jt,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Warnings"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:N.byType.warning||0})]}),t.jsx(Ms,{className:"h-8 w-8 text-yellow-600"})]})})})]}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(G,{className:"p-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{type:"search",placeholder:"Search notifications...",value:o,onChange:R=>l(R.target.value),className:"border-gray-600 bg-gray-900/50 pl-10 text-white"})]})}),t.jsxs(tt,{value:d,onValueChange:m,children:[t.jsx(Qe,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(rt,{placeholder:"Filter by type"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All Types"}),t.jsx(ae,{value:"success",children:"Success"}),t.jsx(ae,{value:"error",children:"Error"}),t.jsx(ae,{value:"warning",children:"Warning"}),t.jsx(ae,{value:"info",children:"Info"})]})]}),t.jsxs(tt,{value:h,onValueChange:f,children:[t.jsx(Qe,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(rt,{placeholder:"Filter by status"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All Status"}),t.jsx(ae,{value:"unread",children:"Unread"}),t.jsx(ae,{value:"read",children:"Read"})]})]})]}),g.length>0&&t.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-lg border border-emerald-700/30 bg-emerald-900/20 p-3",children:[t.jsxs("span",{className:"text-sm text-emerald-400",children:[g.length," selected"]}),t.jsxs(H,{size:"sm",variant:"ghost",onClick:()=>V("read"),className:"text-emerald-400 hover:text-emerald-300",children:[t.jsx(e1,{className:"mr-1 h-4 w-4"}),"Mark as Read"]}),t.jsxs(H,{size:"sm",variant:"ghost",onClick:()=>V("delete"),className:"text-red-400 hover:text-red-300",children:[t.jsx(ds,{className:"mr-1 h-4 w-4"}),"Delete"]}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>y([]),className:"ml-auto text-gray-400 hover:text-gray-300",children:"Clear Selection"})]})]})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-0",children:E.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[t.jsx(Go,{className:"mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{className:"text-lg",children:"No notifications found"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search":"You're all caught up!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-700 p-4",children:[t.jsx(od,{checked:g.length===A.length&&A.length>0,onCheckedChange:M,className:"border-gray-600"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Select all on this page"})]}),t.jsx("div",{className:"divide-y divide-gray-700",children:A.map(R=>t.jsxs("div",{className:$e("group relative flex cursor-pointer items-start border-l-4 p-4 transition-colors hover:bg-gray-700/50",S(R.type),!R.read&&"bg-gray-700/30"),children:[t.jsx(od,{checked:g.includes(R.id),onCheckedChange:$=>z(R.id,$),onClick:$=>$.stopPropagation(),className:"mr-4 mt-1 border-gray-600"}),t.jsx("div",{className:"min-w-0 flex-1",onClick:()=>O(R),children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex-shrink-0",children:C(R.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("p",{className:$e("text-sm font-medium",R.read?"text-gray-300":"text-white"),children:R.title}),!R.read&&t.jsx(Pe,{className:"border-emerald-500/30 bg-emerald-500/20 text-xs text-emerald-400",children:"New"})]}),t.jsx("p",{className:"mb-2 text-sm text-gray-400",children:R.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:_(R.timestamp)}),R.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:"capitalize",children:R.category})]}),R.source&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:R.source})]})]}),R.action&&t.jsxs(H,{variant:"ghost",size:"sm",className:"mt-2 h-auto p-0 text-xs text-emerald-400 hover:text-emerald-300",onClick:$=>{var B;$.stopPropagation(),(B=R.action)!=null&&B.href&&e(R.action.href)},children:[R.action.label,t.jsx(Ai,{className:"ml-1 h-3 w-3"})]})]})]}),t.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[!R.read&&t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"}),t.jsx(Di,{className:"h-4 w-4 text-gray-600 opacity-0 transition-opacity group-hover:opacity-100"})]})]})})]},R.id))}),T>1&&t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 p-4",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(w-1)*v+1," to"," ",Math.min(w*v,E.length)," of"," ",E.length," notifications"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(w-1),disabled:w===1,className:"border-gray-600 hover:bg-gray-700",children:"Previous"}),Array.from({length:Math.min(5,T)},(R,$)=>{let B;return T<=5||w<=3?B=$+1:w>=T-2?B=T-4+$:B=w-2+$,t.jsx(H,{variant:w===B?"default":"outline",size:"sm",onClick:()=>b(B),className:$e("w-10",w===B?"bg-emerald-600 hover:bg-emerald-700":"border-gray-600 hover:bg-gray-700"),children:B},B)}),t.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(w+1),disabled:w===T,className:"border-gray-600 hover:bg-gray-700",children:"Next"})]})]})]})})})]})};function m1e(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),{getToken:h}=_n(),{toast:f}=Vr(),g=vr(),y=async()=>{try{a(!0);const{supabaseService:T}=await bn(async()=>{const{supabaseService:V}=await Promise.resolve().then(()=>qu);return{supabaseService:V}},void 0);console.log(" Fetching organizations from Supabase...");const M=await T.getOrganizations();if(console.log(" Organizations fetched:",M),!M||M.length===0){console.warn(" No organizations returned from Supabase"),r([]);return}const z=await Promise.all(M.map(async V=>{let O=0;try{O=(await T.getOrganizationUsers(V.id)).length,console.log(` Organization ${V.name} has ${O} users`)}catch(R){console.error(`Failed to fetch user count for ${V.name}:`,R)}return{id:V.id,name:V.name,domain:V.custom_domain||void 0,contact_name:void 0,contact_email:V.billing_email,contact_phone:V.phone,address:V.address,status:V.status==="active"?"active":"inactive",subscription_plan:V.plan==="professional"?"growth":V.plan==="starter"?"starter":"enterprise",subscription_status:V.status==="active"?"active":"cancelled",subscription_mrr:V.monthly_cost,users_count:O,campaigns_count:0,total_calls:0,created_at:V.created_at,updated_at:V.updated_at}}));console.log(" Organizations with user counts:",z),r(z)}catch(T){console.error(" Error fetching organizations:",T),console.error("Error details:",{message:T instanceof Error?T.message:"Unknown error",stack:T instanceof Error?T.stack:void 0}),f({title:"Error",description:`Failed to fetch organizations: ${T instanceof Error?T.message:"Unknown error"}`,variant:"destructive"}),r([])}finally{a(!1)}},w=async(T,M)=>{try{const z=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${T}`,{method:"PUT",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify(M)})).ok)throw new Error("Failed to update organization");f({title:"Success",description:"Organization updated successfully"}),y()}catch(z){console.error("Error updating organization:",z),f({title:"Error",description:"Failed to update organization. Please try again.",variant:"destructive"})}},b=async T=>{if(confirm("Are you sure you want to delete this organization? This action cannot be undone."))try{const M=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete organization");f({title:"Success",description:"Organization deleted successfully"}),y()}catch(M){console.error("Error deleting organization:",M),f({title:"Error",description:"Failed to delete organization. Please try again.",variant:"destructive"})}},v=e.filter(T=>{var O,R;const M=T.name.toLowerCase().includes(n.toLowerCase())||((O=T.contact_name)==null?void 0:O.toLowerCase().includes(n.toLowerCase()))||((R=T.contact_email)==null?void 0:R.toLowerCase().includes(n.toLowerCase())),z=o==="all"||T.status&&T.status===o,V=d==="all"||T.subscription_plan&&T.subscription_plan===d;return M&&z&&V}),C={totalOrgs:e.length,activeOrgs:e.filter(T=>T.status==="active").length,totalRevenue:e.reduce((T,M)=>T+(M.subscription_mrr||0),0),totalCalls:e.reduce((T,M)=>T+(M.total_calls||0),0)};p.useEffect(()=>{y()},[]);const S=T=>{if(!T)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(T){case"active":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"inactive":return"bg-red-500/10 text-red-400 border-red-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},_=T=>{if(!T)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(T){case"enterprise":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"growth":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"starter":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},E=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),A=T=>new Date(T).toLocaleDateString();return s?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx("div",{className:"text-lg text-white",children:"Loading organizations..."})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Organizations"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage client organizations and their subscriptions"})]}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Organizations"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(rr,{className:"h-6 w-6 text-emerald-500"})})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.activeOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/10",children:t.jsx(Na,{className:"h-6 w-6 text-blue-500"})})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:E(C.totalRevenue)})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-500/10",children:t.jsx(Qr,{className:"h-6 w-6 text-yellow-500"})})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(A0,{className:"h-6 w-6 text-emerald-500"})})]})})})]}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{type:"text",placeholder:"Search organizations by name, contact, or email...",value:n,onChange:T=>i(T.target.value),className:"border-gray-800 bg-gray-900/90 pl-10 text-white placeholder-gray-500 focus:border-emerald-600"})]}),t.jsxs("select",{value:o,onChange:T=>l(T.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"pending",children:"Pending"})]}),t.jsxs("select",{value:d,onChange:T=>m(T.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"growth",children:"Growth"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(G,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(rr,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No organizations found"}),t.jsx("p",{children:"Create your first organization to get started."})]}),t.jsxs(H,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]})}):v.map(T=>t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm transition-all duration-200 hover:bg-gray-900",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(rr,{className:"h-6 w-6 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white hover:text-emerald-400 cursor-pointer transition-colors",onClick:()=>g(`/organizations/${T.id}`),children:T.name}),t.jsx("p",{className:"text-sm text-gray-400",children:T.contact_name||"No contact assigned"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Pe,{className:S(T.status),children:T.status?T.status.charAt(0).toUpperCase()+T.status.slice(1):"Unknown"}),t.jsx(Pe,{className:_(T.subscription_plan),children:T.subscription_plan?T.subscription_plan.charAt(0).toUpperCase()+T.subscription_plan.slice(1):"No Plan"}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Nm,{className:"h-4 w-4"})})}),t.jsxs(ti,{align:"end",className:"border-gray-800 bg-gray-900",children:[t.jsx(nD,{className:"text-gray-300",children:"Actions"}),t.jsx(dC,{className:"bg-gray-800"}),t.jsxs(Xt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",children:[t.jsx(Tr,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Xt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",onClick:()=>{const M=prompt("Enter new organization name:",T.name);M&&M!==T.name&&w(T.id,{name:M})},children:[t.jsx(sc,{className:"mr-2 h-4 w-4"}),"Edit Organization"]}),t.jsxs(Xt,{className:"text-red-400 hover:bg-gray-800 hover:text-red-300",onClick:()=>b(T.id),children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(na,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:T.contact_email||"No email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(ct,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:T.contact_phone||"No phone"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(el,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:T.address||"No address"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(cs,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-gray-300",children:["Since ",A(T.created_at)]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 border-t border-gray-800 pt-4 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Users"}),t.jsxs("p",{className:"flex items-center gap-1 text-sm font-medium text-white",children:[t.jsx(Rt,{className:"h-3 w-3"}),T.users_count||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"}),t.jsx("p",{className:"text-sm font-medium text-white",children:T.campaigns_count||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-sm font-medium text-white",children:(T.total_calls||0).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-sm font-medium text-emerald-400",children:E(T.subscription_mrr||0)})]})]})]})},T.id))})]})})}var h1e="Separator",N3="horizontal",f1e=["horizontal","vertical"],p9=p.forwardRef((e,r)=>{const{decorative:s,orientation:a=N3,...n}=e,i=p1e(a)?a:N3,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(qe.div,{"data-orientation":i,...l,...n,ref:r})});p9.displayName=h1e;function p1e(e){return f1e.includes(e)}var g9=p9;const _i=p.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...a},n)=>t.jsx(g9,{ref:n,decorative:s,orientation:r,className:$e("shrink-0 bg-zinc-200 dark:bg-zinc-800",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));_i.displayName=g9.displayName;const x9=p.createContext(void 0);function g1e({children:e}){const{user:r}=Ud(),[s,a]=p.useState(null),[n,i]=p.useState(null),[o,l]=p.useState(!1),[d,m]=p.useState(null),[h,f]=p.useState(0),[g,y]=p.useState(!1),w=()=>r!=null&&r.organization_id?(console.log(" Using organization_id from user:",r.organization_id),r.organization_id):(r==null?void 0:r.email)==="sean@artificialmedia.co.uk"?"00000000-0000-0000-0000-000000000000":(r==null?void 0:r.email)==="seanwentz99@gmail.com"?"2566d8c5-2245-4a3c-b539-4cea21a07d9b":(console.warn(" No organization ID found for user:",r==null?void 0:r.email),null),b=async()=>{if(console.log(" fetchOrganization called",{user:r==null?void 0:r.email,userId:r==null?void 0:r.id,orgId:r==null?void 0:r.organization_id,retryCount:h}),h>=3){console.warn(" Max retry attempts reached for fetching organization"),l(!1);return}try{l(!0),m(null);const N=w();if(console.log(" Organization ID resolved to:",N),!N)throw console.error(" No organization ID found for user:",r==null?void 0:r.email),new Error("No organization ID found");console.log(" Starting Supabase fetch for org:",N);const C=await Ql.getOrganization(N);if(console.log(" Organization data received from service:",C),!C)throw new Error("Organization not found");console.log(" Organization data received:",C),a(C);try{const S=await Ql.getOrganizationStats(N);i({totalUsers:S.totalUsers,totalCampaigns:S.totalCampaigns,totalCalls:S.totalCalls,totalLeads:S.totalLeads,monthlySpend:C.monthly_cost||0,creditsUsed:S.completedCalls*10,creditsRemaining:Math.max(0,(C.call_limit||5e3)-S.completedCalls)})}catch(S){console.warn(" Could not fetch organization stats:",S),i({totalUsers:0,totalCampaigns:0,totalCalls:0,totalLeads:0,monthlySpend:C.monthly_cost||0,creditsUsed:0,creditsRemaining:C.call_limit||5e3})}f(0)}catch(N){console.error("Error fetching organization:",N),m(N instanceof Error?N.message:"Failed to fetch organization"),a(null),i(null),f(C=>C+1)}finally{l(!1)}},v=async N=>{try{if(!s)return;a({...s,...N});const C=await Ql.updateOrganization(s.id,N);console.log(" Updated organization data:",C),a(C),console.log("Organization updated successfully:",N)}catch(C){throw console.error("Error updating organization:",C),await b(),C}};return p.useEffect(()=>{console.log(" OrganizationContext useEffect triggered",{user:r,isLoading:o,organization:s,hasFetched:g,condition:r&&!o&&!s&&!g}),r&&!o&&(!g||!s)&&(console.log(" Triggering fetchOrganization from useEffect"),y(!0),b())},[r,g,s,o]),t.jsx(x9.Provider,{value:{organization:s,stats:n,isLoading:o,error:d,refreshOrganization:b,updateOrganization:v},children:e})}function x1e(){const e=p.useContext(x9);if(!e)throw new Error("useOrganization must be used within OrganizationProvider");return e}class y1e{async getOrganizationUsers(r){try{return[{id:"1",clerk_id:"clerk_user_1",email:"john.doe@example.com",first_name:"John",last_name:"Doe",role:"client_admin",organization_id:r,created_at:"2024-07-01T00:00:00Z",updated_at:"2024-07-01T00:00:00Z",is_active:!0,last_login:"2024-07-29T10:00:00Z"},{id:"2",clerk_id:"clerk_user_2",email:"jane.smith@example.com",first_name:"Jane",last_name:"Smith",role:"client_user",organization_id:r,created_at:"2024-07-15T00:00:00Z",updated_at:"2024-07-15T00:00:00Z",is_active:!0,last_login:"2024-07-28T14:30:00Z"},{id:"3",clerk_id:"clerk_user_3",email:"bob.wilson@example.com",first_name:"Bob",last_name:"Wilson",role:"client_user",organization_id:r,created_at:"2024-07-20T00:00:00Z",updated_at:"2024-07-20T00:00:00Z",is_active:!1,last_login:"2024-07-25T09:15:00Z"}]}catch(s){throw console.error("Error fetching organization users:",s),s}}async getOrganizationCampaigns(r){try{return[{id:"1",name:"Summer Sales Outreach",status:"active",created_at:"2024-07-01T00:00:00Z",total_calls:1250,successful_calls:375,conversion_rate:30},{id:"2",name:"Q4 Lead Generation",status:"paused",created_at:"2024-07-15T00:00:00Z",total_calls:800,successful_calls:200,conversion_rate:25},{id:"3",name:"Product Launch Campaign",status:"completed",created_at:"2024-06-01T00:00:00Z",total_calls:2e3,successful_calls:600,conversion_rate:30},{id:"4",name:"Holiday Special Offers",status:"draft",created_at:"2024-07-28T00:00:00Z",total_calls:0,successful_calls:0,conversion_rate:0}]}catch(s){throw console.error("Error fetching organization campaigns:",s),s}}async getOrganizationLeads(r,s=10){try{return[{id:"1",name:"Alice Johnson",email:"alice@company.com",phone:"+1 555-0123",status:"qualified",source:"Summer Sales Outreach",created_at:"2024-07-28T10:00:00Z",last_contacted:"2024-07-28T10:30:00Z",assigned_to:"John Doe"},{id:"2",name:"Bob Martinez",email:"bob@enterprise.com",phone:"+1 555-0124",status:"contacted",source:"Q4 Lead Generation",created_at:"2024-07-27T14:00:00Z",last_contacted:"2024-07-27T14:15:00Z",assigned_to:"Jane Smith"},{id:"3",name:"Carol Davis",email:"carol@startup.com",phone:"+1 555-0125",status:"new",source:"Website Form",created_at:"2024-07-29T08:00:00Z",assigned_to:"John Doe"},{id:"4",name:"David Lee",phone:"+1 555-0126",status:"interested",source:"Summer Sales Outreach",created_at:"2024-07-26T11:00:00Z",last_contacted:"2024-07-28T09:00:00Z",assigned_to:"Jane Smith"},{id:"5",name:"Eva Wilson",email:"eva@tech.com",phone:"+1 555-0127",status:"qualified",source:"Product Launch Campaign",created_at:"2024-07-25T16:00:00Z",last_contacted:"2024-07-29T10:00:00Z",assigned_to:"Bob Wilson"}].slice(0,s)}catch(a){throw console.error("Error fetching organization leads:",a),a}}async updateOrganization(r,s){try{console.log("Updating organization:",r,s)}catch(a){throw console.error("Error updating organization:",a),a}}async updateUserRole(r,s){try{console.log("Updating user role:",r,s)}catch(a){throw console.error("Error updating user role:",a),a}}async deactivateUser(r){try{console.log("Deactivating user:",r)}catch(s){throw console.error("Error deactivating user:",s),s}}async activateUser(r){try{console.log("Activating user:",r)}catch(s){throw console.error("Error activating user:",s),s}}async inviteUser(r,s,a){try{console.log("Inviting user:",s,"to organization:",r,"with role:",a)}catch(n){throw console.error("Error inviting user:",n),n}}}const $h=new y1e;window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com");const v1e=({organizationId:e})=>{const{toast:r}=Vr(),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,m]=p.useState("client_user"),[h,f]=p.useState(!1);p.useEffect(()=>{g()},[e]);const g=async()=>{try{i(!0);const C=await $h.getOrganizationUsers(e);a(C)}catch{r({title:"Error",description:"Failed to load team members",variant:"destructive"})}finally{i(!1)}},y=async(C,S)=>{try{await $h.updateUserRole(C,S),r({title:"Success",description:"User role updated successfully"}),g()}catch{r({title:"Error",description:"Failed to update user role",variant:"destructive"})}},w=async C=>{try{C.is_active?await $h.deactivateUser(C.id):await $h.activateUser(C.id),r({title:"Success",description:`User ${C.is_active?"deactivated":"activated"} successfully`}),g()}catch{r({title:"Error",description:"Failed to update user status",variant:"destructive"})}},b=async()=>{try{await $h.inviteUser(e,o,d),r({title:"Success",description:"Invitation sent successfully"}),f(!1),l(""),m("client_user")}catch{r({title:"Error",description:"Failed to send invitation",variant:"destructive"})}},v=C=>{switch(C){case"client_admin":return"border-purple-500 text-purple-400";case"client_user":return"border-blue-500 text-blue-400";default:return"border-gray-500 text-gray-400"}},N=C=>C?"border-emerald-500 text-emerald-400":"border-red-500 text-red-400";return n?t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsxs(G,{className:"p-12 text-center",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading team members..."})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-white",children:"Team Members"}),t.jsx(vt,{children:"Manage your organization's team members and their permissions"})]}),t.jsxs(H,{onClick:()=>f(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]})}),t.jsx(G,{children:t.jsx("div",{className:"space-y-4",children:s.map(C=>{var S,_;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(jd,{className:"h-10 w-10",children:t.jsxs(Nd,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:[(S=C.first_name)==null?void 0:S[0],(_=C.last_name)==null?void 0:_[0]]})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:C.first_name&&C.last_name?`${C.first_name} ${C.last_name}`:C.email}),t.jsx("p",{className:"text-sm text-gray-400",children:C.email}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Pe,{variant:"outline",className:$e("text-xs",v(C.role)),children:C.role.replace("client_","").replace("_"," ").toUpperCase()}),t.jsx(Pe,{variant:"outline",className:$e("text-xs",N(C.is_active)),children:C.is_active?"Active":"Inactive"}),C.last_login&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Last login: ",new Date(C.last_login).toLocaleDateString()]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(tt,{value:C.role,onValueChange:E=>y(C.id,E),children:[t.jsx(Qe,{className:"w-32 bg-gray-800 border-gray-700",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"client_admin",children:"Admin"}),t.jsx(ae,{value:"client_user",children:"User"})]})]}),t.jsxs(pm,{children:[t.jsx(bS,{asChild:!0,children:t.jsx(H,{variant:"outline",size:"sm",className:$e("border-gray-700",C.is_active?"text-red-400 hover:bg-red-600/20":"text-emerald-400 hover:bg-emerald-600/20"),children:C.is_active?"Deactivate":"Activate"})}),t.jsxs(Id,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(Dd,{children:[t.jsx($d,{className:"text-white",children:C.is_active?"Deactivate User":"Activate User"}),t.jsxs(zd,{className:"text-gray-400",children:["Are you sure you want to ",C.is_active?"deactivate":"activate"," ",C.email,"? ",C.is_active?"They will no longer be able to access the platform.":"They will be able to access the platform again."]})]}),t.jsxs(Ld,{children:[t.jsx(xm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(gm,{onClick:()=>w(C),className:C.is_active?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700",children:C.is_active?"Deactivate":"Activate"})]})]})]})]})]},C.id)})})})]}),t.jsx(pm,{open:h,onOpenChange:f,children:t.jsxs(Id,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(Dd,{children:[t.jsx($d,{className:"text-white",children:"Invite Team Member"}),t.jsx(zd,{className:"text-gray-400",children:"Send an invitation to a new team member"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Email Address"}),t.jsx(Ee,{type:"email",value:o,onChange:C=>l(C.target.value),placeholder:"user@example.com",className:"bg-gray-800 border-gray-700"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Role"}),t.jsxs(tt,{value:d,onValueChange:m,children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"client_admin",children:"Admin"}),t.jsx(ae,{value:"client_user",children:"User"})]})]})]})]}),t.jsxs(Ld,{children:[t.jsx(xm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(gm,{onClick:b,disabled:!o,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Send Invitation"})]})]})})]})},b1e=()=>{const{organization:e,stats:r,isLoading:s,updateOrganization:a}=x1e(),{toast:n}=Vr(),[i,o]=p.useState("overview"),[l,d]=p.useState(!1),[m,h]=p.useState(e),[f,g]=p.useState(!1),[y,w]=p.useState(!1),[b,v]=p.useState((e==null?void 0:e.vapi_private_key)||""),[N,C]=p.useState(!1),[S,_]=p.useState(null),[E,A]=p.useState(""),[T,M]=p.useState(!1),[z,V]=p.useState((e==null?void 0:e.vapi_public_key)||(e==null?void 0:e.vapi_api_key)||""),[O,R]=p.useState(!1),[$,B]=p.useState(null);p.useEffect(()=>{e?(console.log(" Full organization data loaded:",e),console.log(" Organization fields:",{name:e.name,billing_email:e.billing_email,phone:e.phone,website:e.website,industry:e.industry,address:e.address,vapi_api_key:e.vapi_api_key,vapi_private_key:e.vapi_private_key}),v(e.vapi_private_key||""),V(e.vapi_public_key||e.vapi_api_key||""),h(e)):console.log(" No organization data available")},[e]);const U=async ve=>{_({type:ve,value:ve==="private"?b:z}),C(!0)},te=async()=>{if(!(!S||!E)){M(!0);try{const{data:{user:ve}}=await Xe.auth.getUser();if(!(ve!=null&&ve.email))throw new Error("User not authenticated");const{error:ne}=await Xe.auth.signInWithPassword({email:ve.email,password:E});if(ne){n({title:"Authentication Failed",description:"Incorrect password. Please try again.",variant:"destructive"});return}const I=S.type==="private"?{vapi_private_key:S.value}:{vapi_public_key:S.value,vapi_api_key:S.value};await a(I),await L(S.type,ve.email),await F(S.type,ve.email),n({title:"Apex Credentials Updated",description:`Your Apex ${S.type} key has been updated successfully. All administrators have been notified.`}),C(!1),_(null),A("")}catch(ve){console.error("Error updating VAPI key:",ve),n({title:"Update Failed",description:ve instanceof Error?ve.message:"Failed to update VAPI credentials",variant:"destructive"})}finally{M(!1)}}},L=async(ve,ne)=>{try{const{error:I}=await Xe.from("audit_logs").insert({organization_id:e==null?void 0:e.id,user_email:ne,action:"vapi_credential_update",details:{key_type:ve,timestamp:new Date().toISOString(),ip_address:window.location.hostname}});I&&console.error("Failed to log audit:",I)}catch(I){console.error("Error logging credential change:",I)}},F=async(ve,ne)=>{try{const{data:I}=await Xe.from("users").select("email, first_name, last_name").eq("organization_id",e==null?void 0:e.id).in("role",["client_admin","platform_owner"]);if(!I||I.length===0)return;console.log("Sending notifications to:",I.map(we=>we.email)),n({title:"Notifications Sent",description:`${I.length} administrator(s) have been notified of this change.`})}catch(I){console.error("Error sending notifications:",I)}};if(s||!e)return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading organization settings..."})]})});const q=async()=>{try{m&&(await a(m),d(!1),n({title:"Success",description:"Organization settings updated successfully"}))}catch{n({title:"Error",description:"Failed to update organization settings",variant:"destructive"})}},ee=ve=>{switch(ve){case"enterprise":return t.jsx($f,{className:"h-5 w-5 text-purple-400"});case"professional":return t.jsx(ws,{className:"h-5 w-5 text-blue-400"});default:return t.jsx(Ns,{className:"h-5 w-5 text-gray-400"})}},W=ve=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ve),Z=ve=>ve===-1?"Unlimited":ve.toLocaleString();return t.jsxs("div",{className:"min-h-screen bg-black p-6",children:[t.jsxs("div",{className:"mx-auto max-w-7xl",children:[t.jsx("div",{className:"mb-8 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/20 backdrop-blur-sm",children:t.jsx(rr,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:e.name}),t.jsx("p",{className:"text-gray-400",children:"Organization Settings & Management"})]})]})}),t.jsxs(jo,{value:i,onValueChange:o,className:"space-y-6",children:[t.jsxs(zi,{className:"flex w-full justify-start bg-black p-0 h-auto border-b border-gray-800",children:[t.jsxs(bt,{value:"overview",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(rr,{className:"h-4 w-4"}),"Overview"]}),t.jsxs(bt,{value:"details",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(Cs,{className:"h-4 w-4"}),"Details"]}),t.jsxs(bt,{value:"usage",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(Ns,{className:"h-4 w-4"}),"Usage & Limits"]}),t.jsxs(bt,{value:"billing",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(ei,{className:"h-4 w-4"}),"Billing"]}),t.jsxs(bt,{value:"team",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[t.jsx(Rt,{className:"h-4 w-4"}),"Team"]}),t.jsxs(bt,{value:"security",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all",children:[t.jsx(ja,{className:"h-4 w-4"}),"Security"]})]}),t.jsxs(wt,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Total Users"}),t.jsx(Rt,{className:"h-4 w-4 text-gray-600"})]})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.totalUsers)||0}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",Z(e.user_limit)," allowed"]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Active Campaigns"}),t.jsx(Na,{className:"h-4 w-4 text-gray-600"})]})}),t.jsx(G,{children:t.jsx("div",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.totalCampaigns)||0})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Total Calls"}),t.jsx(ct,{className:"h-4 w-4 text-gray-600"})]})}),t.jsx(G,{children:t.jsx("div",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.totalCalls)||0})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{className:"pb-3",children:t.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[t.jsx("span",{children:"Monthly Spend"}),t.jsx(FS,{className:"h-4 w-4 text-gray-600"})]})}),t.jsx(G,{children:t.jsx("div",{className:"text-2xl font-bold text-white",children:W((r==null?void 0:r.monthlySpend)||0)})})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ye,{className:"text-white",children:"Organization Information"}),l?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{d(!1),h(e)},className:"border-gray-700 hover:bg-gray-800",children:[t.jsx(At,{className:"mr-2 h-4 w-4"}),"Cancel"]}),t.jsxs(H,{size:"sm",onClick:q,className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save"]})]}):t.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{d(!0),h(e)},className:"border-gray-700 hover:bg-gray-800",children:[t.jsx(sc,{className:"mr-2 h-4 w-4"}),"Edit"]})]})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Organization Name"}),l?t.jsx(Ee,{value:(m==null?void 0:m.name)||"",onChange:ve=>h(ne=>ne?{...ne,name:ve.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsx("p",{className:"text-white",children:e.name})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Industry"}),l?t.jsx(Ee,{value:(m==null?void 0:m.industry)||"",onChange:ve=>h(ne=>ne?{...ne,industry:ve.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsx("p",{className:"text-white",children:e.industry||"Not specified"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Billing Email"}),l?t.jsx(Ee,{type:"email",value:(m==null?void 0:m.billing_email)||"",onChange:ve=>h(ne=>ne?{...ne,billing_email:ve.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(na,{className:"mr-2 h-4 w-4 text-gray-600"}),e.billing_email||"Not specified"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Phone"}),l?t.jsx(Ee,{value:(m==null?void 0:m.phone)||"",onChange:ve=>h(ne=>ne?{...ne,phone:ve.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(ct,{className:"mr-2 h-4 w-4 text-gray-600"}),e.phone||"Not specified"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Website"}),l?t.jsx(Ee,{value:(m==null?void 0:m.website)||"",onChange:ve=>h(ne=>ne?{...ne,website:ve.target.value}:null),className:"bg-gray-800 border-gray-700"}):t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(Xn,{className:"mr-2 h-4 w-4 text-gray-600"}),e.website?t.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 flex items-center",children:[e.website,t.jsx(Ai,{className:"ml-1 h-3 w-3"})]}):"Not specified"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Created"}),t.jsxs("p",{className:"text-white flex items-center",children:[t.jsx(cs,{className:"mr-2 h-4 w-4 text-gray-600"}),new Date(e.created_at).toLocaleDateString()]})]})]}),e.address&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Address"}),t.jsxs("p",{className:"text-white flex items-start",children:[t.jsx(el,{className:"mr-2 h-4 w-4 text-gray-600 mt-0.5"}),e.address]})]})]})]})]}),t.jsx(wt,{value:"usage",className:"space-y-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Resource Usage & Limits"}),t.jsx(vt,{children:"Monitor your organization's resource consumption"})]}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-400",children:"Users"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.totalUsers)||0," / ",Z(e.user_limit)]})]}),t.jsx(Jt,{value:e.user_limit===-1?0:((r==null?void 0:r.totalUsers)||0)/e.user_limit*100,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-400",children:"Monthly Calls"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.totalCalls)||0," / ",Z(e.call_limit)]})]}),t.jsx(Jt,{value:e.call_limit===-1?0:((r==null?void 0:r.totalCalls)||0)/e.call_limit*100,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-400",children:"Storage"}),t.jsxs("span",{className:"text-sm text-gray-500",children:["0 GB / ",Z(e.storage_limit_gb)," GB"]})]}),t.jsx(Jt,{value:e.storage_limit_gb===-1?0:0/e.storage_limit_gb*100,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-400",children:"VAPI Credits"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[(r==null?void 0:r.creditsUsed)||0," used / ",(r==null?void 0:r.creditsRemaining)||0," remaining"]})]}),t.jsx(Jt,{value:((r==null?void 0:r.creditsUsed)||0)/(((r==null?void 0:r.creditsUsed)||0)+((r==null?void 0:r.creditsRemaining)||0))*100,className:"h-2 bg-gray-800"})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"API Requests"}),t.jsx("p",{className:"text-xl font-bold text-white",children:"0"})]}),t.jsx(hY,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Database Size"}),t.jsx("p",{className:"text-xl font-bold text-white",children:"0 GB"})]}),t.jsx(Xx,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Bandwidth"}),t.jsx("p",{className:"text-xl font-bold text-white",children:"0 GB"})]}),t.jsx(gY,{className:"h-8 w-8 text-gray-600"})]})})})]})]})]})}),t.jsxs(wt,{value:"details",className:"space-y-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Apex API Keys"}),t.jsx(vt,{children:"Use these keys for interacting with Apex APIs"})]}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs(qt,{className:"border-yellow-800 bg-yellow-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-400"}),t.jsxs(Kt,{className:"text-yellow-200",children:[t.jsx("strong",{children:"Critical Configuration:"})," Changing Apex API keys will immediately affect all active campaigns and ongoing calls. Ensure you have the correct keys from your Apex dashboard before making changes. All administrators will be notified of any modifications."]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Private API Key"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Ee,{type:f?"text":"password",placeholder:"Enter your Apex Private API Key",className:"bg-gray-800 border-gray-700 text-white font-mono",value:b,onChange:ve=>v(ve.target.value)}),t.jsx(H,{variant:"outline",className:"border-gray-700",onClick:()=>g(!f),children:f?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})}),t.jsx(H,{variant:"outline",className:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:()=>U("private"),children:t.jsx(Wt,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Use this key for interacting with our APIs in your backend systems."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-400",children:"Public API Key"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Ee,{type:y?"text":"password",placeholder:"Enter your Apex Public API Key",className:"bg-gray-800 border-gray-700 text-white font-mono",value:z,onChange:ve=>V(ve.target.value)}),t.jsx(H,{variant:"outline",className:"border-gray-700",onClick:()=>w(!y),children:y?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})}),t.jsx(H,{variant:"outline",className:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:()=>U("public"),children:t.jsx(Wt,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Use this key for interacting with VAPI Client SDKs (e.g. from your frontend)."}),t.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Origins:"})," All domains allowed"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Assistants:"})," All Assistants allowed"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Transient Assistants:"})," Allowed"]})]})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Notification Settings"}),t.jsx(vt,{children:"Configure how you receive notifications"})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive email updates for important events"})]}),t.jsx(Fr,{defaultChecked:!0})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Weekly Reports"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive weekly performance summaries"})]}),t.jsx(Fr,{defaultChecked:!0})]})]})]})]}),t.jsx(wt,{value:"billing",className:"space-y-6",children:t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-white",children:"Current Plan"}),t.jsx(vt,{children:"Manage your subscription and billing"})]}),t.jsxs(Pe,{className:"flex items-center space-x-1 px-3 py-1",children:[ee(e.plan),t.jsx("span",{className:"text-xs font-medium uppercase",children:e.plan})]})]})}),t.jsxs(G,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(G,{className:"p-4",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Monthly Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:W(e.monthly_cost)}),t.jsx("p",{className:"text-xs text-gray-500",children:"Billed monthly"})]})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(G,{className:"p-4",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Next Payment"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.last_payment_at?new Date(new Date(e.last_payment_at).setMonth(new Date(e.last_payment_at).getMonth()+1)).toLocaleDateString():"N/A"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Auto-renewal"})]})}),t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(G,{className:"p-4",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Payment Method"}),t.jsxs("p",{className:"text-lg font-bold text-white flex items-center",children:[t.jsx(ei,{className:"mr-2 h-4 w-4"})," 4242"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Visa"})]})})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"Payment History"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:"December 2024"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Professional Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white font-medium",children:W(299)}),t.jsx(Pe,{variant:"outline",className:"text-xs border-emerald-500 text-emerald-400",children:"Paid"})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:"November 2024"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Professional Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white font-medium",children:W(299)}),t.jsx(Pe,{variant:"outline",className:"text-xs border-emerald-500 text-emerald-400",children:"Paid"})]})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg border border-purple-500/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Upgrade to Enterprise"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Get unlimited resources and priority support"})]}),t.jsx(H,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Upgrade Plan"})]})]})]})}),t.jsx(wt,{value:"team",children:t.jsx(v1e,{organizationId:e.id})}),t.jsx(wt,{value:"security",children:t.jsx(K,{className:"border-gray-800 bg-gray-900/50",children:t.jsxs(G,{className:"p-12 text-center",children:[t.jsx(ja,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Security Settings"}),t.jsx("p",{className:"text-gray-400",children:"Configure security and compliance settings"})]})})})]})]}),t.jsx(pm,{open:N,onOpenChange:C,children:t.jsxs(Id,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(Dd,{children:[t.jsx($d,{className:"text-white",children:"Confirm Apex Credential Update"}),t.jsxs(zd,{className:"text-gray-400 space-y-3",children:[t.jsxs("p",{children:["You are about to update your organization's Apex ",S==null?void 0:S.type," API key."]}),t.jsxs(qt,{className:"border-orange-800 bg-orange-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-orange-400"}),t.jsxs(Kt,{className:"text-orange-200 text-sm",children:[t.jsx("strong",{children:"Warning:"})," This change will:",t.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[t.jsx("li",{children:"Immediately affect all active calling campaigns"}),t.jsx("li",{children:"Interrupt any ongoing calls if the key is invalid"}),t.jsx("li",{children:"Prevent new calls from starting if misconfigured"}),t.jsx("li",{children:"Be logged and notify all organization administrators"})]})]})]}),t.jsxs("div",{className:"space-y-2 pt-2",children:[t.jsx(re,{htmlFor:"password",className:"text-gray-300",children:"Enter your password to confirm this change:"}),t.jsx(Ee,{id:"password",type:"password",value:E,onChange:ve=>A(ve.target.value),placeholder:"Enter your password",className:"bg-gray-800 border-gray-700 text-white",onKeyPress:ve=>{ve.key==="Enter"&&E&&te()}})]})]})]}),t.jsxs(Ld,{children:[t.jsx(xm,{className:"bg-gray-800 text-white hover:bg-gray-700 border-gray-700",onClick:()=>{A(""),_(null)},children:"Cancel"}),t.jsx(gm,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:te,disabled:!E||T,children:T?"Updating...":"Confirm Update"})]})]})})]})},zh=[{id:1,name:"Organization",icon:rr},{id:2,name:"Admin User",icon:ts},{id:3,name:"Team Setup",icon:Rt},{id:4,name:"VAPI Setup",icon:Cs},{id:5,name:"Review & Submit",icon:bs}],Fh=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"ES",name:"Spain",flag:""},{code:"IT",name:"Italy",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"NO",name:"Norway",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"FI",name:"Finland",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"AT",name:"Austria",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"SG",name:"Singapore",flag:""}],w1e=["Technology","Healthcare","Finance","Real Estate","Marketing & Advertising","Consulting","E-commerce","Manufacturing","Education","Legal","Insurance","Telecommunications","Media & Entertainment","Non-profit","Other"],S3=[{id:"admin",name:"Admin",description:"Full access to all features and settings"},{id:"user",name:"User",description:"Can create and manage campaigns"},{id:"viewer",name:"Viewer",description:"Read-only access to campaigns and reports"}];function j1e(){var $,B,U;const e=vr(),{getToken:r}=_n(),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,b]=p.useState({businessName:"",email:"",country:"",website:"",industry:"",adminFirstName:"",adminLastName:"",adminEmail:"",adminPhone:"",teamSize:"",addTeamMembers:!1,teamMembers:[],vapiApiKey:"",vapiPrivateKey:"",vapiSetupComplete:!1,isDraft:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),v=s/zh.length*100,N=te=>{const L={};switch(te){case 1:w.businessName.trim()||(L.businessName="Business name is required"),w.email.trim()||(L.email="Email is required"),w.email.includes("@")||(L.email="Please enter a valid email address"),w.country||(L.country="Please select a country");break;case 2:w.adminFirstName.trim()||(L.adminFirstName="First name is required"),w.adminLastName.trim()||(L.adminLastName="Last name is required"),w.adminEmail.trim()||(L.adminEmail="Admin email is required"),w.adminEmail.includes("@")||(L.adminEmail="Please enter a valid email address");break;case 3:w.teamSize||(L.teamSize="Please select team size"),w.addTeamMembers&&w.teamMembers.length===0&&(L.teamMembers="Please add at least one team member or disable team member addition"),w.teamMembers.forEach((F,q)=>{F.firstName.trim()||(L[`teamMember${q}FirstName`]="First name is required"),F.lastName.trim()||(L[`teamMember${q}LastName`]="Last name is required"),F.email.trim()||(L[`teamMember${q}Email`]="Email is required"),F.email.includes("@")||(L[`teamMember${q}Email`]="Please enter a valid email"),F.role||(L[`teamMember${q}Role`]="Please select a role")});break;case 4:w.vapiPrivateKey.trim()||(L.vapiPrivateKey="VAPI Private Key is required"),w.vapiApiKey.trim()||(L.vapiApiKey="VAPI Public Key is required");break}return l(L),Object.keys(L).length===0},C=()=>{N(s)&&s<zh.length&&(a(s+1),b(te=>({...te,updatedAt:new Date().toISOString()})))},S=()=>{s>1&&(a(s-1),l({}))},_=te=>{te<s?(a(te),l({})):te===s+1&&C()},E=te=>{b(L=>({...L,...te,updatedAt:new Date().toISOString()}))},A=()=>{const te={id:`member_${Date.now()}`,firstName:"",lastName:"",email:"",role:"user"};E({teamMembers:[...w.teamMembers,te]})},T=(te,L)=>{const F=[...w.teamMembers];F[te]={...F[te],...L},E({teamMembers:F})},M=te=>{const L=w.teamMembers.filter((F,q)=>q!==te);E({teamMembers:L})},z=async()=>{i(!0);try{const te={...w,isDraft:!0};localStorage.setItem("organizationDraft",JSON.stringify(te)),alert(" Organization setup saved as draft!")}catch(te){console.error("Error saving draft:",te),alert(" Failed to save draft. Please try again.")}finally{i(!1)}},V=async()=>{if(console.log(" Complete Setup button clicked - Starting process..."),!N(s)){console.log(" Validation failed for current step:",s);return}i(!0),console.log(" Loading state set to true");try{console.log(" Getting authentication token...");const te=await r();if(console.log(" Token received:",te?"Yes":"No"),!te)throw console.error(" No authentication token received"),new Error("Authentication required. Please sign in.");console.log(" Authentication token received:",te?"Token exists":"No token");const L={businessName:w.businessName,email:w.email,country:w.country,website:w.website,industry:w.industry,adminFirstName:w.adminFirstName,adminLastName:w.adminLastName,adminEmail:w.adminEmail,adminPhone:w.adminPhone,useBusinessEmail:w.adminEmail===w.email,teamSize:w.teamSize,addTeamMembers:w.addTeamMembers,teamMembers:w.teamMembers,vapiApiKey:w.vapiApiKey,vapiPrivateKey:w.vapiPrivateKey};console.log(" Submitting organization setup:",L);const q="http://localhost:3001/api/api/organization-setup/setup";console.log(" Making API call to:",q),console.log(" Request headers:",{"Content-Type":"application/json",Authorization:`Bearer ${te.substring(0,20)}...`});const ee=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify(L)});console.log(" Response status:",ee.status,ee.statusText);const W=await ee.json();if(console.log(" Response body:",W),!ee.ok)throw console.error(" API call failed:",W),new Error(W.error||`HTTP error! status: ${ee.status}`);console.log(" Organization setup completed:",W),console.log(" Setting setup result and showing success screen..."),y(W),f(!0),E({vapiApiKey:"",vapiPrivateKey:""}),console.log(" Success screen should now be visible!")}catch(te){console.error(" Error completing setup:",te),console.log(" Setting error result and showing error screen..."),y({success:!1,error:te instanceof Error?te.message:"Failed to complete setup",details:"If the problem persists, please contact support."}),f(!0),console.log(" Error screen should now be visible!")}finally{i(!1),console.log(" Loading state set to false")}},O=()=>{var te,L,F,q;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Organization Details"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Tell us about your business to get started with the Apex AI Calling Platform"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Business Name *"}),t.jsx(Ee,{value:w.businessName,onChange:ee=>E({businessName:ee.target.value}),placeholder:"e.g., Acme Marketing Agency",className:"border-gray-700 bg-gray-800 text-white"}),o.businessName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.businessName})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Business Email *"}),t.jsx(Ee,{type:"email",value:w.email,onChange:ee=>E({email:ee.target.value}),placeholder:"contact@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.email&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.email})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(tt,{value:w.country,onValueChange:ee=>E({country:ee}),children:[t.jsx(Qe,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(rt,{placeholder:"Select your country",children:w.country?t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:(te=Fh.find(ee=>ee.code===w.country))==null?void 0:te.flag}),t.jsx("span",{className:"text-white",children:(L=Fh.find(ee=>ee.code===w.country))==null?void 0:L.name})]}):t.jsx("span",{className:"text-gray-400",children:"Select your country"})})}),t.jsx(Ze,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:Fh.map(ee=>t.jsx(ae,{value:ee.code,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3 py-1",children:[t.jsx("span",{className:"min-w-[24px] text-lg",children:ee.flag}),t.jsx("span",{className:"text-white",children:ee.name})]})},ee.code))})]}),o.country&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.country})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Website (Optional)"}),t.jsx(Ee,{type:"url",value:w.website,onChange:ee=>E({website:ee.target.value}),placeholder:"https://www.acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(tt,{value:w.industry,onValueChange:ee=>E({industry:ee}),children:[t.jsx(Qe,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(rt,{placeholder:"Select your industry"})}),t.jsx(Ze,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:w1e.map(ee=>t.jsx(ae,{value:ee,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsx("span",{className:"text-white",children:ee})},ee))})]})]})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),t.jsx(Kt,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Admin User Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Create the primary administrator account for your organization"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"First Name *"}),t.jsx(Ee,{value:w.adminFirstName,onChange:ee=>E({adminFirstName:ee.target.value}),placeholder:"John",className:"border-gray-700 bg-gray-800 text-white"}),o.adminFirstName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminFirstName})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Last Name *"}),t.jsx(Ee,{value:w.adminLastName,onChange:ee=>E({adminLastName:ee.target.value}),placeholder:"Smith",className:"border-gray-700 bg-gray-800 text-white"}),o.adminLastName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminLastName})]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Email Address *"}),t.jsx(Ee,{type:"email",value:w.adminEmail,onChange:ee=>E({adminEmail:ee.target.value}),placeholder:"john.smith@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.adminEmail&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminEmail})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Telephone Number (Optional)"}),t.jsx(Ee,{type:"tel",value:w.adminPhone,onChange:ee=>E({adminPhone:ee.target.value}),placeholder:"+1 (555) 123-4567",className:"border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(ts,{className:"h-4 w-4 text-emerald-400"}),t.jsx(Kt,{className:"text-gray-300",children:"The admin user will have full access to all platform features and will be able to manage other team members."})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your team size and add team members to your organization"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(re,{className:"mb-3 block text-gray-300",children:"Team Size *"}),t.jsx(Jl,{value:w.teamSize,onValueChange:ee=>E({teamSize:ee}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"0-5",id:"small"}),t.jsxs(re,{htmlFor:"small",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"0 - 5 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Small team or startup"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"6-9",id:"medium"}),t.jsxs(re,{htmlFor:"medium",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"6 - 9 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Growing team"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(sa,{value:"10+",id:"large"}),t.jsxs(re,{htmlFor:"large",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"10+ members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Large team or enterprise"})]})]})]})}),o.teamSize&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamSize})]}),t.jsx(_i,{className:"bg-gray-700"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"Add Team Members (Optional)"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"addTeamMembers",checked:w.addTeamMembers,onChange:ee=>E({addTeamMembers:ee.target.checked}),className:"rounded border-gray-600 bg-gray-700"}),t.jsx(re,{htmlFor:"addTeamMembers",className:"cursor-pointer text-gray-300",children:"Enable team member setup"})]})]}),w.addTeamMembers&&t.jsxs("div",{className:"space-y-4",children:[w.teamMembers.map((ee,W)=>t.jsx(K,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(G,{className:"p-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium text-white",children:["Team Member ",W+1]}),t.jsx(H,{variant:"outline",size:"sm",onClick:()=>M(W),className:"border-red-600 text-red-400 hover:bg-red-900/20",children:t.jsx(ds,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"First Name *"}),t.jsx(Ee,{value:ee.firstName,onChange:Z=>T(W,{firstName:Z.target.value}),placeholder:"Jane",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${W}FirstName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${W}FirstName`]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Last Name *"}),t.jsx(Ee,{value:ee.lastName,onChange:Z=>T(W,{lastName:Z.target.value}),placeholder:"Doe",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${W}LastName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${W}LastName`]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Email *"}),t.jsx(Ee,{type:"email",value:ee.email,onChange:Z=>T(W,{email:Z.target.value}),placeholder:"jane.doe@acmemarketing.com",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${W}Email`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${W}Email`]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"Role *"}),t.jsxs(tt,{value:ee.role,onValueChange:Z=>T(W,{role:Z}),children:[t.jsx(Qe,{className:"hover:bg-gray-650 border-gray-600 bg-gray-700 text-white transition-colors",children:t.jsx(rt,{placeholder:"Select role"})}),t.jsx(Ze,{className:"border-gray-600 bg-gray-700",children:S3.map(Z=>t.jsx(ae,{value:Z.id,className:"cursor-pointer text-white hover:bg-gray-600 focus:bg-gray-600",children:t.jsxs("div",{className:"py-1",children:[t.jsx("div",{className:"font-medium text-white",children:Z.name}),t.jsx("div",{className:"text-xs text-gray-300",children:Z.description})]})},Z.id))})]}),o[`teamMember${W}Role`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${W}Role`]})]})]})]})},ee.id)),t.jsxs(H,{variant:"outline",onClick:A,className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add Another Team Member"]}),o.teamMembers&&t.jsx("p",{className:"text-sm text-red-400",children:o.teamMembers})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"VAPI Integration Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your VAPI account to enable AI calling functionality"})]}),t.jsxs(qt,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),t.jsx(Kt,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"How to set up your VAPI account:"}),t.jsxs("ol",{className:"list-inside list-decimal space-y-1 text-sm",children:[t.jsxs("li",{children:["Visit"," ",t.jsxs("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-400 hover:underline",children:["vapi.ai ",t.jsx(Ai,{className:"h-3 w-3"})]})," ","and create an account"]}),t.jsx("li",{children:'Navigate to your dashboard and go to "API Keys"'}),t.jsx("li",{children:"Generate a new API key and copy it"}),t.jsx("li",{children:"Also copy your Private Key from the account settings"}),t.jsx("li",{children:"Paste both keys below to connect your account"})]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(re,{className:"text-gray-300",children:"VAPI Private Key (Bearer Token) *"}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>m(!d),className:"text-gray-400 hover:text-white",children:d?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]}),t.jsx(Ee,{type:d?"text":"password",value:w.vapiPrivateKey,onChange:ee=>E({vapiPrivateKey:ee.target.value}),placeholder:"sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiPrivateKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiPrivateKey})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-300",children:"VAPI Public Key *"}),t.jsx(Ee,{type:d?"text":"password",value:w.vapiApiKey,onChange:ee=>E({vapiApiKey:ee.target.value}),placeholder:"vapi_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiApiKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiApiKey})]})]}),t.jsxs(qt,{className:"border-green-700 bg-green-900/20",children:[t.jsx(bs,{className:"h-4 w-4 text-green-400"}),t.jsx(Kt,{className:"text-green-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens next:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsx("li",{children:"Your VAPI account will be connected to the platform"}),t.jsx("li",{children:"You'll be able to create AI voice agents"}),t.jsx("li",{children:"Phone numbers can be purchased and configured"}),t.jsx("li",{children:"AI calling campaigns can be launched"})]})]})})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Security Note"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Your API keys are encrypted and stored securely. They are only used to authenticate with VAPI services and are never shared with third parties."})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Review & Submit"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Please review all information before submitting. Once submitted, your organization and user accounts will be created."})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(rr,{className:"h-5 w-5 text-emerald-500"}),"Organization Details"]})}),t.jsx(G,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Business Name"}),t.jsx("p",{className:"font-medium text-white",children:w.businessName})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(na,{className:"h-4 w-4 text-gray-400"}),w.email]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Country"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx("span",{className:"text-lg",children:(F=Fh.find(ee=>ee.code===w.country))==null?void 0:F.flag}),((q=Fh.find(ee=>ee.code===w.country))==null?void 0:q.name)||w.country]})]}),w.website&&t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Website"}),t.jsx("p",{className:"font-medium text-white",children:w.website})]}),w.industry&&t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Industry"}),t.jsx("p",{className:"font-medium text-white",children:w.industry})]})]})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(ts,{className:"h-5 w-5 text-blue-500"}),"Administrator Account"]})}),t.jsx(G,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Full Name"}),t.jsxs("p",{className:"font-medium text-white",children:[w.adminFirstName," ",w.adminLastName]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(na,{className:"h-4 w-4 text-gray-400"}),w.adminEmail]})]}),w.adminPhone&&t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Phone"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(ct,{className:"h-4 w-4 text-gray-400"}),w.adminPhone]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Role"}),t.jsx(Pe,{variant:"secondary",className:"bg-blue-900 text-blue-300",children:"Organization Administrator"})]})]})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Rt,{className:"h-5 w-5 text-purple-500"}),"Team Setup"]})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Team Size"}),t.jsxs("p",{className:"font-medium text-white",children:[w.teamSize," members"]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Additional Team Members"}),t.jsx("p",{className:"font-medium text-white",children:w.addTeamMembers?`${w.teamMembers.length} added`:"None"})]})]}),w.addTeamMembers&&w.teamMembers.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx(re,{className:"mb-2 block text-sm text-gray-400",children:"Team Members"}),t.jsx("div",{className:"space-y-2",children:w.teamMembers.map((ee,W)=>{var Z;return t.jsx("div",{className:"rounded-lg bg-gray-700 p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[ee.firstName," ",ee.lastName]}),t.jsx("p",{className:"text-sm text-gray-400",children:ee.email})]}),t.jsx(Pe,{variant:"outline",className:"border-gray-600 text-gray-300",children:((Z=S3.find(ve=>ve.id===ee.role))==null?void 0:Z.name)||ee.role})]})},ee.id)})})]})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(Cs,{className:"h-5 w-5 text-orange-500"}),"VAPI Integration"]})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"API Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(jt,{className:"h-4 w-4 text-green-500"}),"Connected"]})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-sm text-gray-400",children:"Private Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(jt,{className:"h-4 w-4 text-green-500"}),"Configured"]})]})]}),t.jsxs(qt,{className:"border-green-700 bg-green-900/20",children:[t.jsx(bs,{className:"h-4 w-4 text-green-400"}),t.jsx(Kt,{className:"text-green-300",children:"VAPI integration is ready. You'll be able to create AI voice agents and launch calling campaigns immediately after setup."})]})]})]}),t.jsx(K,{className:"border-emerald-700 bg-gradient-to-r from-emerald-900/20 to-blue-900/20",children:t.jsxs(G,{className:"p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Setup Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"1"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Organization"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:1+(w.addTeamMembers?w.teamMembers.length:0)}),t.jsx("div",{className:"text-sm text-gray-400",children:"Users"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:w.teamSize}),t.jsx("div",{className:"text-sm text-gray-400",children:"Team Size"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:""}),t.jsx("div",{className:"text-sm text-gray-400",children:"VAPI Ready"})]})]})]})}),t.jsxs(qt,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),t.jsx(Kt,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens when you submit:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsxs("li",{children:['Your organization "',w.businessName,'" will be created']}),t.jsxs("li",{children:["Admin account for ",w.adminFirstName," ",w.adminLastName," will be set up"]}),w.addTeamMembers&&w.teamMembers.length>0&&t.jsxs("li",{children:[w.teamMembers.length," team member account(s) will be created"]}),t.jsx("li",{children:"VAPI integration will be activated for AI calling"}),t.jsx("li",{children:"You'll receive login credentials via email"})]})]})})]})]});default:return null}},R=()=>{switch(s){case 1:return w.businessName&&w.email&&w.country;case 2:return w.adminFirstName&&w.adminLastName&&w.adminEmail;case 3:return w.teamSize&&(!w.addTeamMembers||w.teamMembers.length>0);case 4:return w.vapiApiKey&&w.vapiPrivateKey;case 5:return!0;default:return!1}};return h&&g?t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-4xl",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500",children:g.success?t.jsx(jt,{className:"h-8 w-8 text-white"}):t.jsx(At,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:g.success?"Setup Complete!":"Setup Failed"}),t.jsx("p",{className:"text-gray-400",children:g.success?"Your organization has been created successfully":"There was an issue creating your organization"})]}),g.success?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(qt,{className:"border-emerald-600 bg-emerald-900",children:[t.jsx(jt,{className:"h-4 w-4 text-emerald-500"}),t.jsx(Kt,{className:"text-emerald-100",children:g.message})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(rr,{className:"h-5 w-5 text-emerald-500"}),"Organization Created"]})}),t.jsx(G,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-400",children:"Organization Name"}),t.jsx("p",{className:"font-medium text-white",children:g.organizationName})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-400",children:"Organization ID"}),t.jsx("p",{className:"font-mono text-sm text-white",children:g.organizationId})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-400",children:"Admin Email"}),t.jsx("p",{className:"text-white",children:g.adminEmail})]}),t.jsxs("div",{children:[t.jsx(re,{className:"text-gray-400",children:"Team Members"}),t.jsxs("p",{className:"text-white",children:[g.teamMembersCreated||0," created"]})]})]})})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(rc,{className:"h-5 w-5 text-emerald-500"}),"Next Steps"]})}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"1"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Check Your Email"}),t.jsx("p",{className:"text-sm text-gray-400",children:($=g.nextSteps)==null?void 0:$.emailVerification})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"2"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"text-sm text-gray-400",children:(B=g.nextSteps)==null?void 0:B.accountSetup})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"3"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Start Calling"}),t.jsxs("p",{className:"text-sm text-gray-400",children:["VAPI Status:"," ",(U=g.vapiStatus)!=null&&U.connected?" Ready":" Needs Configuration"]})]})]})]})})]}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(H,{onClick:()=>e("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(rr,{className:"mr-2 h-4 w-4"}),"View Organizations"]}),t.jsxs(H,{variant:"outline",onClick:()=>e("/dashboard"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(aY,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(qt,{className:"border-red-600 bg-red-900",children:[t.jsx(At,{className:"h-4 w-4 text-red-500"}),t.jsx(Kt,{className:"text-red-100",children:g.error})]}),g.details&&t.jsx(K,{className:"border-gray-700 bg-gray-800",children:t.jsx(G,{className:"pt-6",children:t.jsx("p",{className:"text-gray-400",children:g.details})})}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(H,{onClick:()=>{f(!1),y(null),a(1)},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(gd,{className:"mr-2 h-4 w-4"}),"Try Again"]}),t.jsxs(H,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-950 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Organization Setup"}),t.jsx("p",{className:"text-gray-400",children:"Set up your organization on the Apex AI Calling Platform"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(H,{variant:"outline",onClick:z,disabled:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),t.jsx(H,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx(Jt,{value:v,className:"h-2 bg-gray-800"})]}),t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between",children:zh.map((te,L)=>{const F=te.icon,q=te.id===s,ee=te.id<s,W=te.id<=s+1;return t.jsxs(ue.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${W?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>W&&_(te.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${q?"bg-emerald-600 text-white":ee?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:ee?t.jsx(bs,{className:"h-6 w-6"}):t.jsx(F,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${q?"font-medium text-white":"text-gray-400"}`,children:te.name})]}),L<zh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${ee?"bg-green-600":"bg-gray-800"}`})]},te.id)})})}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(G,{className:"p-8",children:O()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(H,{variant:"outline",onClick:S,disabled:s===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(mc,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<zh.length?t.jsxs(H,{onClick:C,className:"bg-emerald-600 hover:bg-emerald-700",children:["Next",t.jsx(Di,{className:"ml-2 h-4 w-4"})]}):t.jsx(H,{onClick:V,disabled:n||!R(),className:"bg-green-600 hover:bg-green-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Setting up Organization..."]}):t.jsxs(t.Fragment,{children:[t.jsx(rc,{className:"mr-2 h-4 w-4"}),"Complete Setup"]})})]})})]})]})})}function N1e({user:e,isOpen:r,onClose:s,onResendInvitation:a,onSuspendUser:n,onActivateUser:i}){if(!e)return null;const o=(N,C)=>{const S={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:jt,label:"Active"},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:na,label:C||"Invited"},"Invitation Pending":{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Ut,label:"Invitation Pending"},"Invitation Expired":{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Lt,label:"Invitation Expired"},"Never Logged In":{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:ts,label:"Never Logged In"},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Fu,label:"Inactive"},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Fu,label:"Suspended"}},_=S[C||N]||S.invited,E=_.icon;return t.jsxs(Pe,{variant:"outline",className:_.className,children:[t.jsx(E,{className:"mr-1 h-3 w-3"}),_.label]})},l=N=>{const C=N.replace("client_","").replace("_"," ").split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ");return t.jsxs(Pe,{variant:"outline",className:"border-blue-500/20 bg-blue-500/10 text-blue-400",children:[t.jsx(ja,{className:"mr-1 h-3 w-3"}),C]})},d=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",h=(N=>{if(!N)return{text:"Never logged in",className:"text-gray-400"};const C=Math.floor((Date.now()-new Date(N).getTime())/(1e3*60*60*24));return C===0?{text:"Today",className:"text-emerald-400"}:C===1?{text:"Yesterday",className:"text-emerald-400"}:C<7?{text:`${C} days ago`,className:"text-blue-400"}:C<30?{text:`${Math.floor(C/7)} weeks ago`,className:"text-yellow-400"}:{text:`${Math.floor(C/30)} months ago`,className:"text-red-400"}})(e.last_login_at),f=e.status==="suspended"?"suspended":e.status==="invited"||!e.last_login_at?"invited":e.status==="active"&&e.last_login_at?"active":e.status,g=e.status==="suspended"?"Suspended":!e.last_login_at&&(e.status==="invited"||e.status==="active")?"Invitation Pending":e.status==="active"&&e.last_login_at?"Active":e.display_status||e.status,y=!e.last_login_at&&(e.status==="invited"||e.status==="active"),w=y,b=e.status==="active"&&e.last_login_at,v=e.status==="suspended"||e.status==="inactive";return t.jsx(ol,{open:r,onOpenChange:s,children:t.jsxs(fo,{className:"bg-gray-900 border-gray-800 max-w-2xl",children:[t.jsx(po,{children:t.jsx(go,{className:"text-xl font-semibold text-white",children:"User Profile"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(ts,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-white",children:[e.first_name," ",e.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:e.email}),e.phone&&t.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[t.jsx(ct,{className:"h-3 w-3"}),e.phone]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o(f,g),l(e.role)]})]}),y&&t.jsxs(qt,{className:"border-yellow-700 bg-yellow-900/20",children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-400"}),t.jsxs(Kt,{className:"text-yellow-200",children:["This user has been invited but hasn't set up their account yet.",e.display_status==="Invitation Expired"?" Their invitation has expired and needs to be resent.":" They need to check their email and complete the signup process."]})]}),e.status==="suspended"&&t.jsxs(qt,{className:"border-red-700 bg-red-900/20",children:[t.jsx(Fu,{className:"h-4 w-4 text-red-400"}),t.jsx(Kt,{className:"text-red-200",children:"This user account is suspended and cannot access the platform."})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Account Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),t.jsx("p",{className:"text-white",children:d(e.created_at)})]}),e.invited_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invited"}),t.jsx("p",{className:"text-white",children:d(e.invited_at)}),e.invited_by_name&&t.jsxs("p",{className:"text-xs text-gray-500",children:["by ",e.invited_by_name]})]}),e.invitation_accepted_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invitation Accepted"}),t.jsx("p",{className:"text-white",children:d(e.invitation_accepted_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Email Verified"}),t.jsx("p",{className:"text-white flex items-center gap-1",children:e.email_verified?t.jsxs(t.Fragment,{children:[t.jsx(jt,{className:"h-4 w-4 text-emerald-400"}),"Verified"]}):t.jsxs(t.Fragment,{children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-400"}),"Not Verified"]})})]})]})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Login Activity"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"First Login"}),t.jsx("p",{className:"text-white",children:d(e.first_login_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Login"}),t.jsx("p",{className:`font-medium ${h.className}`,children:h.text}),e.last_login_at&&t.jsx("p",{className:"text-xs text-gray-500",children:d(e.last_login_at)})]}),e.login_count!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Logins"}),t.jsx("p",{className:"text-white",children:e.login_count})]}),e.last_activity_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-white",children:U0(new Date(e.last_activity_at),{addSuffix:!0})})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[w&&a&&t.jsxs(H,{onClick:()=>a(e.id),variant:"outline",className:"border-yellow-700 text-yellow-400 hover:bg-yellow-900/20",children:[t.jsx(tc,{className:"mr-2 h-4 w-4"}),"Resend Invitation"]}),b&&n&&t.jsxs(H,{onClick:()=>n(e.id),variant:"outline",className:"border-red-700 text-red-400 hover:bg-red-900/20",children:[t.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Suspend User"]}),v&&i&&t.jsxs(H,{onClick:()=>i(e.id),variant:"outline",className:"border-emerald-700 text-emerald-400 hover:bg-emerald-900/20",children:[t.jsx(am,{className:"mr-2 h-4 w-4"}),"Activate User"]}),t.jsx(H,{onClick:s,variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})]})]})]})})}const C3=[{id:1,name:"Details",icon:rr},{id:2,name:"Team",icon:Rt},{id:3,name:"Settings",icon:Cs}],S1e=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],C1e=["Technology","Healthcare","Finance","Real Estate","Retail","Manufacturing","Education","Marketing & Advertising","Other"],k1e=[{value:"client_admin",label:"Admin",description:"Full access to organization"},{value:"client_user",label:"User",description:"Can manage campaigns"}];function _1e(){const{id:e}=Of(),r=vr(),{getToken:s}=_n(),{toast:a}=Vr(),[n,i]=p.useState(2),[o,l]=p.useState(null),[d,m]=p.useState([]),[h,f]=p.useState([]),[g,y]=p.useState(!0),[w,b]=p.useState(!1),[v,N]=p.useState(null),[C,S]=p.useState(!1),[_,E]=p.useState(""),[A,T]=p.useState(""),[M,z]=p.useState(""),[V,O]=p.useState("client_user"),[R,$]=p.useState(!1),[B,U]=p.useState({}),[te,L]=p.useState(""),[F,q]=p.useState(""),[ee,W]=p.useState(!1),[Z,ve]=p.useState(!1),[ne,I]=p.useState(!1),[we,le]=p.useState(null),[ke,J]=p.useState(!1);p.useEffect(()=>{Ce()},[e]),p.useEffect(()=>{o&&(console.log(" Updating VAPI fields from organization data:",{vapi_api_key:o.vapi_api_key,vapi_private_key:o.vapi_private_key,fullOrg:o}),L(o.vapi_private_key||""),q(o.vapi_api_key||""),W(!!o.vapi_api_key||!!o.vapi_private_key))},[o]);const Ce=async()=>{var de,Le;try{y(!0);const{supabaseService:nt}=await bn(async()=>{const{supabaseService:Ye}=await Promise.resolve().then(()=>qu);return{supabaseService:Ye}},void 0);console.log(" Fetching organization data for ID:",e);try{const Ye=await nt.getOrganization(e);if(!Ye)throw new Error("Organization not found");const xr={id:Ye.id,name:Ye.name,slug:Ye.slug,type:Ye.type,status:Ye.status,plan:Ye.plan,monthly_cost:Ye.monthly_cost,primary_color:Ye.primary_color,secondary_color:Ye.secondary_color,website:Ye.website,phone:Ye.phone,address:Ye.address,country:Ye.country,industry:Ye.industry,contact_name:Ye.contact_name,contact_email:Ye.billing_email||Ye.contact_email,contact_phone:Ye.contact_phone,vapi_api_key:Ye.vapi_api_key,vapi_private_key:Ye.vapi_private_key,created_at:Ye.created_at,updated_at:Ye.updated_at};l(xr),U(xr),console.log(" Loading VAPI settings from Supabase:",{vapi_api_key:Ye.vapi_api_key,vapi_private_key:Ye.vapi_private_key,fullOrgData:Ye}),L(Ye.vapi_private_key||""),q(Ye.vapi_api_key||""),W(!!(Ye.vapi_api_key||Ye.vapi_private_key));try{const _a=(await nt.getUsers(e)).map(ur=>({id:ur.id,email:ur.email,first_name:ur.first_name,last_name:ur.last_name,phone:ur.phone,role:ur.role,status:ur.status,email_verified:ur.email_verified,created_at:ur.created_at,invited_at:ur.invited_at,last_login_at:ur.last_login_at}));m(_a)}catch(kr){console.warn("Failed to fetch users:",kr),m([])}N(null),y(!1);return}catch(Ye){console.error(" Error fetching from Supabase:",Ye),N("Organization not found"),y(!1);return}const xt=await s(),ar={"Content-Type":"application/json",...xt&&{Authorization:`Bearer ${xt}`}},qr=await fetch(`http://localhost:3001/api/api/organizations/${e}`,{headers:ar});if(!qr.ok)throw new Error("Failed to fetch organization");const Gt=await qr.json(),Zt=Gt.organization||Gt;if(l(Zt),U(Zt),Zt.vapi_settings||(de=Zt.settings)!=null&&de.vapi){const Ye=Zt.vapi_settings?typeof Zt.vapi_settings=="string"?JSON.parse(Zt.vapi_settings):Zt.vapi_settings:(Le=Zt.settings)==null?void 0:Le.vapi;L(Ye.privateKey||Ye.apiKey||""),q(Ye.publicKey||""),W(Ye.enabled!==void 0?Ye.enabled:!0)}const Kr=await fetch(`http://localhost:3001/api/api/organizations/${e}/users`,{headers:ar});if(Kr.ok){const Ye=await Kr.json();m(Ye.users||[])}const gr=await fetch(`http://localhost:3001/api/api/organizations/${e}/invitations`,{headers:ar});if(gr.ok){const Ye=await gr.json();f(Ye.invitations||[])}}catch(nt){console.error("Error fetching organization data:",nt),a({title:"Error",description:"Failed to load organization data",variant:"destructive"})}finally{y(!1)}},fe=async()=>{try{b(!0);const{supabaseService:de}=await bn(async()=>{const{supabaseService:xt}=await Promise.resolve().then(()=>qu);return{supabaseService:xt}},void 0),Le={name:B.name,billing_email:B.contact_email,phone:B.phone,address:B.address,country:B.country,website:B.website,industry:B.industry,updated_at:new Date().toISOString()};n===3&&(Le.vapi_private_key=te,Le.vapi_api_key=F,console.log(" Including VAPI settings in update")),console.log(" Attempting to save organization with data:",{id:e,updateData:Le,currentStep:n});const nt=await de.updateOrganization(e,Le);console.log(" Update result:",nt),a({title:"Success",description:"Organization details saved successfully"}),console.log(" Save completed successfully - skipping refresh to avoid errors")}catch(de){console.error(" Error saving changes:",de),console.error("Error details:",{message:de instanceof Error?de.message:"Unknown error",error:de}),a({title:"Error",description:de instanceof Error?de.message:"Failed to save changes",variant:"destructive"})}finally{b(!1)}},Q=async()=>{try{$(!0);const de=await s(),Le=await fetch(`http://localhost:3001/api/api/organizations/${e}/invite`,{method:"POST",headers:{"Content-Type":"application/json",...de&&{Authorization:`Bearer ${de}`}},body:JSON.stringify({email:_,firstName:A,lastName:M,role:V,inviterName:"Admin"})});if(!Le.ok){const nt=await Le.json();throw new Error(nt.error||"Failed to send invitation")}a({title:"Success",description:`Invitation sent to ${_}`}),E(""),T(""),z(""),O("client_user"),S(!1),await Ce()}catch(de){console.error("Error sending invitation:",de),a({title:"Error",description:de instanceof Error?de.message:"Failed to send invitation",variant:"destructive"})}finally{$(!1)}},he=async de=>{try{const Le=await s();if(!(await fetch(`http://localhost:3001/api/api/invitations/${de}/resend`,{method:"POST",headers:{"Content-Type":"application/json",...Le&&{Authorization:`Bearer ${Le}`}}})).ok)throw new Error("Failed to resend invitation");a({title:"Success",description:"Invitation resent successfully"}),await Ce()}catch(Le){console.error("Error resending invitation:",Le),a({title:"Error",description:"Failed to resend invitation",variant:"destructive"})}},Se=async de=>{if(confirm("Are you sure you want to cancel this invitation?"))try{const Le=await s();if(!(await fetch(`http://localhost:3001/api/api/invitations/${de}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Le&&{Authorization:`Bearer ${Le}`}}})).ok)throw new Error("Failed to cancel invitation");a({title:"Success",description:"Invitation cancelled"}),await Ce()}catch(Le){console.error("Error cancelling invitation:",Le),a({title:"Error",description:"Failed to cancel invitation",variant:"destructive"})}},Te=de=>{const Le=`${window.location.origin}/accept-invitation?token=${de}`;navigator.clipboard.writeText(Le),a({title:"Copied!",description:"Invitation link copied to clipboard"})},ce=de=>de.status==="active"&&de.last_login_at?{status:"active",label:"Active"}:de.status==="invited"&&!de.invitation_accepted_at?{status:"invited",label:"Invitation Pending"}:de.status==="active"&&!de.last_login_at?{status:"never_logged_in",label:"Never Logged In"}:de.status==="suspended"?{status:"suspended",label:"Suspended"}:de.status==="inactive"?{status:"inactive",label:"Inactive"}:{status:de.status,label:de.status},Ve=(de,Le)=>{const nt={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:jt},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:na},never_logged_in:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Ut},pending:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Ut},cancelled:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:At},accepted:{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:bs},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Fu},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Fu}},xt=nt[de]||nt.pending,ar=xt.icon;return t.jsxs(Pe,{variant:"outline",className:xt.className,children:[t.jsx(ar,{className:"mr-1 h-3 w-3"}),Le||de.charAt(0).toUpperCase()+de.slice(1)]})},ht=de=>{const Le=ce(de),nt={...de,display_status:Le.label};le(nt),J(!0)};return g?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Kn,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading organization..."})]})}):o?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:[t.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(rr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:o.name}),t.jsx("p",{className:"text-gray-400",children:"Manage organization settings and team members"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(H,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(gd,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]}),t.jsx(H,{onClick:fe,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700",children:w?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]})}),t.jsx(H,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:C3.map((de,Le)=>{const nt=de.icon,xt=de.id===n,ar=de.id<n;return t.jsxs(ue.Fragment,{children:[t.jsxs("button",{onClick:()=>i(de.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 transition-all ${xt?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":ar?"bg-gray-800/50 text-gray-300 hover:bg-gray-800":"bg-gray-900/50 text-gray-500 hover:bg-gray-900"}`,children:[t.jsx("div",{className:`rounded-full p-2 ${xt?"bg-emerald-500/20":ar?"bg-gray-700":"bg-gray-800"}`,children:t.jsx(nt,{className:"h-5 w-5"})}),t.jsx("span",{className:"font-medium",children:de.name})]}),Le<C3.length-1&&t.jsx(Di,{className:"h-5 w-5 text-gray-600"})]},de.id)})})]}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(G,{className:"p-8",children:[n===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Organization Details"}),t.jsx("p",{className:"text-gray-400",children:"Update your organization's basic information"})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"name",className:"text-gray-300",children:"Business Name *"}),t.jsx(Ee,{id:"name",value:B.name||"",onChange:de=>U({...B,name:de.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"e.g., Acme Marketing Agency"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"contact_email",className:"text-gray-300",children:"Business Email *"}),t.jsx(Ee,{id:"contact_email",type:"email",value:B.contact_email||"",onChange:de=>U({...B,contact_email:de.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"contact@acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"country",className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(tt,{value:B.country||"",onValueChange:de=>U({...B,country:de}),children:[t.jsx(Qe,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{placeholder:"Select your country"})}),t.jsx(Ze,{children:S1e.map(de=>t.jsx(ae,{value:de.code,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{children:de.flag}),t.jsx("span",{children:de.name})]})},de.code))})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),t.jsx(Ee,{id:"phone",type:"tel",value:B.phone||"",onChange:de=>U({...B,phone:de.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"website",className:"text-gray-300",children:"Website (Optional)"}),t.jsx(Ee,{id:"website",type:"url",value:B.website||"",onChange:de=>U({...B,website:de.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://www.acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"industry",className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(tt,{value:B.industry||"",onValueChange:de=>U({...B,industry:de}),children:[t.jsx(Qe,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{placeholder:"Select your industry"})}),t.jsx(Ze,{children:C1e.map(de=>t.jsx(ae,{value:de,children:de},de))})]})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"address",className:"text-gray-300",children:"Business Address"}),t.jsx(ya,{id:"address",value:B.address||"",onChange:de=>U({...B,address:de.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:`123 Main Street, Suite 100
City, State 12345`,rows:3})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),t.jsx(Kt,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]}),n===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Members"}),t.jsx("p",{className:"text-gray-400",children:"Manage who has access to your organization"})]}),t.jsxs(H,{onClick:()=>S(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(zf,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Active Members"}),d.length>0?t.jsx("div",{className:"space-y-3",children:d.map(de=>{const Le=ce(de);return t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4 cursor-pointer hover:bg-gray-800/70 transition-colors",onClick:()=>ht(de),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(ts,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[de.first_name," ",de.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:de.email}),de.last_login_at&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(de.last_login_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Pe,{variant:"outline",className:"border-gray-700 text-gray-400",children:de.role.replace("client_","")}),Ve(Le.status,Le.label)]})]},de.id)})}):t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-8 text-center",children:[t.jsx(Rt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet. Start by inviting someone!"})]})]}),h.filter(de=>de.status==="pending").length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-3",children:h.filter(de=>de.status==="pending").map(de=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-500/10",children:t.jsx(na,{className:"h-5 w-5 text-yellow-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[de.first_name," ",de.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:de.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(de.expires_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Te(de.id),className:"text-gray-400 hover:text-white",children:t.jsx(Hn,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>he(de.id),className:"text-gray-400 hover:text-white",children:t.jsx(tc,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>Se(de.id),className:"text-red-400 hover:text-red-300",children:t.jsx(ds,{className:"h-4 w-4"})})]})]},de.id))})]})]}),n===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"VAPI Integration"}),t.jsx("p",{className:"text-gray-400",children:"Configure your VAPI settings for AI calling capabilities"})]}),t.jsx(_i,{className:"bg-gray-800"}),t.jsxs(qt,{className:"border-emerald-700 bg-emerald-900/20",children:[t.jsx(jt,{className:"h-4 w-4 text-emerald-400"}),t.jsxs(Kt,{className:"text-emerald-200",children:["VAPI integration enables AI-powered outbound calling. Get your API keys from"," ",t.jsx("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"vapi.ai"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"vapiPrivateKey",className:"text-gray-300",children:"VAPI Private Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Ee,{id:"vapiPrivateKey",type:Z?"text":"password",value:te,onChange:de=>L(de.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Private Key"}),t.jsx("button",{type:"button",onClick:()=>ve(!Z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:Z?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"vapiPublicKey",className:"text-gray-300",children:"VAPI Public Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Ee,{id:"vapiPublicKey",type:ne?"text":"password",value:F,onChange:de=>q(de.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Public Key"}),t.jsx("button",{type:"button",onClick:()=>I(!ne),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:ne?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Enable VAPI Integration"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Allow AI-powered calling for your campaigns"})]}),t.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[t.jsx("input",{type:"checkbox",checked:ee,onChange:de=>W(de.target.checked),className:"peer sr-only"}),t.jsx("div",{className:"peer h-6 w-11 rounded-full bg-gray-700 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:bg-white after:transition-all after:content-[''] peer-checked:bg-emerald-500 peer-checked:after:translate-x-full peer-focus:outline-none"})]})]})]}),t.jsxs(qt,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(yd,{className:"h-4 w-4 text-gray-400"}),t.jsx(Kt,{className:"text-gray-300",children:"Your API keys are encrypted and stored securely. Never share them publicly."})]})]})]})})]}),t.jsx(ol,{open:C,onOpenChange:S,children:t.jsxs(fo,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(po,{children:[t.jsx(go,{className:"text-white",children:"Invite Team Member"}),t.jsx(ll,{className:"text-gray-400",children:"Send an invitation to add a new member to your organization"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(re,{htmlFor:"inviteFirstName",className:"text-gray-300",children:"First Name"}),t.jsx(Ee,{id:"inviteFirstName",value:A,onChange:de=>T(de.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"inviteLastName",className:"text-gray-300",children:"Last Name"}),t.jsx(Ee,{id:"inviteLastName",value:M,onChange:de=>z(de.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"inviteEmail",className:"text-gray-300",children:"Email Address"}),t.jsx(Ee,{id:"inviteEmail",type:"email",value:_,onChange:de=>E(de.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"john.doe@example.com"})]}),t.jsxs("div",{children:[t.jsx(re,{htmlFor:"inviteRole",className:"text-gray-300",children:"Role"}),t.jsxs(tt,{value:V,onValueChange:O,children:[t.jsx(Qe,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{})}),t.jsx(Ze,{children:k1e.map(de=>t.jsx(ae,{value:de.value,children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:de.label}),t.jsx("p",{className:"text-sm text-gray-400",children:de.description})]})},de.value))})]})]})]}),t.jsxs(Yd,{children:[t.jsx(H,{variant:"outline",onClick:()=>S(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(H,{onClick:Q,disabled:!_||!A||!M||R,className:"bg-emerald-600 hover:bg-emerald-700",children:R?t.jsxs(t.Fragment,{children:[t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(tc,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})}),t.jsx(N1e,{user:we,isOpen:ke,onClose:()=>{J(!1),le(null)},onResendInvitation:async de=>{try{const Le=await s(),nt=await fetch(`http://localhost:3001/api/api/users/${de}/resend-invitation`,{method:"POST",headers:{"Content-Type":"application/json",...Le&&{Authorization:`Bearer ${Le}`}},body:JSON.stringify({inviterName:"Admin"})});if(!nt.ok){const ar=await nt.json();throw new Error(ar.error||"Failed to resend invitation")}const xt=await nt.json();xt.inviteLink&&xt.warning?a({title:"Invitation Link Generated",description:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:xt.message}),t.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-xs break-all",children:xt.inviteLink}),t.jsx("p",{className:"text-xs text-gray-400",children:xt.warning}),t.jsxs("div",{className:"mt-3 p-2 bg-blue-900/20 border border-blue-800 rounded text-xs",children:[t.jsx("p",{className:"font-semibold text-blue-400 mb-1",children:"To enable automatic email sending:"}),t.jsx("p",{className:"text-gray-300",children:"1. Get a free Resend API key at resend.com"}),t.jsx("p",{className:"text-gray-300",children:"2. Add to your /apps/backend/.env file:"}),t.jsx("p",{className:"text-gray-300 font-mono bg-gray-800 p-1 rounded mt-1",children:"RESEND_API_KEY=re_your_api_key"}),t.jsx("p",{className:"text-gray-300",children:"3. Restart the backend server"})]})]}),duration:15e3}):a({title:"Success",description:xt.message}),await Ce()}catch(Le){console.error("Error resending invitation:",Le),a({title:"Error",description:Le instanceof Error?Le.message:"Failed to resend invitation",variant:"destructive"})}},onSuspendUser:async de=>{if(confirm("Are you sure you want to suspend this user? They will lose access to the platform."))try{const Le=await s(),nt=await fetch(`http://localhost:3001/api/api/users/${de}/suspend`,{method:"POST",headers:{"Content-Type":"application/json",...Le&&{Authorization:`Bearer ${Le}`}},body:JSON.stringify({reason:"Suspended by administrator"})});if(!nt.ok){const xt=await nt.json();throw new Error(xt.error||"Failed to suspend user")}a({title:"User Suspended",description:"The user has been suspended and can no longer access the platform."}),await Ce(),J(!1)}catch(Le){console.error("Error suspending user:",Le),a({title:"Error",description:Le instanceof Error?Le.message:"Failed to suspend user",variant:"destructive"})}},onActivateUser:async de=>{try{const Le=await s(),nt=await fetch(`http://localhost:3001/api/api/users/${de}/activate`,{method:"POST",headers:{"Content-Type":"application/json",...Le&&{Authorization:`Bearer ${Le}`}}});if(!nt.ok){const ar=await nt.json();throw new Error(ar.error||"Failed to activate user")}const xt=await nt.json();a({title:"User Activated",description:xt.message}),await Ce(),J(!1)}catch(Le){console.error("Error activating user:",Le),a({title:"Error",description:Le instanceof Error?Le.message:"Failed to activate user",variant:"destructive"})}}})]}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx(K,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(G,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Lt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Organization not found"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"The organization you're looking for doesn't exist or you don't have access."}),t.jsx(H,{onClick:()=>r("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Back to Organizations"})]})})})})}const P1e=[{month:"Jan",revenue:45e3,mrr:38e3,growth:12},{month:"Feb",revenue:52e3,mrr:41e3,growth:15},{month:"Mar",revenue:48e3,mrr:43e3,growth:8},{month:"Apr",revenue:61e3,mrr:47e3,growth:18},{month:"May",revenue:58e3,mrr:51e3,growth:14},{month:"Jun",revenue:67e3,mrr:56e3,growth:22}],Uh=[{name:"TechCorp Solutions",revenue:12500,calls:8420,leads:342},{name:"Global Fitness Inc",revenue:9800,calls:6230,leads:287},{name:"Healthcare Partners",revenue:8200,calls:5140,leads:198},{name:"Real Estate Pro",revenue:7600,calls:4890,leads:176},{name:"E-commerce Plus",revenue:6400,calls:3920,leads:145}],Iu={totalCalls:128450,totalLeads:3847,avgSuccessRate:74.3,activeClients:47,totalAgents:156,avgCallDuration:"3:24"},A1e=[{name:"API Gateway",status:"operational",uptime:99.98,latency:42},{name:"Database",status:"operational",uptime:99.95,latency:18},{name:"AI Processing",status:"operational",uptime:99.92,latency:156},{name:"Voice Services",status:"degraded",uptime:98.76,latency:234},{name:"Analytics Engine",status:"operational",uptime:99.89,latency:67}],E1e=[{id:1,timestamp:"2024-01-07 14:23:45",service:"Voice API",error:"Connection timeout",severity:"warning"},{id:2,timestamp:"2024-01-07 13:45:12",service:"Database",error:"Slow query detected",severity:"info"},{id:3,timestamp:"2024-01-07 12:18:33",service:"AI Engine",error:"Rate limit exceeded",severity:"error"},{id:4,timestamp:"2024-01-07 11:02:45",service:"Analytics",error:"Data sync delayed",severity:"warning"}];function T1e(){const[e,r]=p.useState("last30days"),[s,a]=p.useState("all"),[n,i]=p.useState("all"),[o,l]=p.useState(!1),{toast:d}=Vr(),m=vr(),f="admin"==="admin";p.useEffect(()=>{},[f,m,d]);const g=b=>{l(!0),setTimeout(()=>{d({title:"Export Started",description:`Exporting platform analytics as ${b.toUpperCase()}...`}),l(!1)},1e3)},y=b=>{switch(b){case"operational":return"text-emerald-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400";default:return"text-gray-400"}},w=b=>{switch(b){case"error":return"bg-red-600/20 text-red-400 border-red-600/30";case"warning":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";case"info":return"bg-blue-600/20 text-blue-400 border-blue-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),t.jsxs(Pe,{className:"border-red-600/30 bg-red-600/20 text-red-400",children:[t.jsx(P0,{className:"mr-1 h-3 w-3"}),"Admin Only"]})]}),t.jsx("p",{className:"text-gray-400",children:"Comprehensive platform metrics and system health monitoring"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("csv"),disabled:o,children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),t.jsxs(H,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("pdf"),disabled:o,children:[t.jsx(fY,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(Zx,{className:"mr-2 h-5 w-5 text-emerald-500"}),"Data Filters"]})}),t.jsx(G,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Date Range"}),t.jsxs(tt,{value:e,onValueChange:r,children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"last7days",children:"Last 7 Days"}),t.jsx(ae,{value:"last30days",children:"Last 30 Days"}),t.jsx(ae,{value:"last90days",children:"Last 90 Days"}),t.jsx(ae,{value:"thisYear",children:"This Year"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Organization"}),t.jsxs(tt,{value:s,onValueChange:a,children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"all",children:"All Clients"}),Uh.map(b=>t.jsx(ae,{value:b.name,children:b.name},b.name))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Campaign Type"}),t.jsxs(tt,{value:n,onValueChange:i,children:[t.jsx(Qe,{className:"border-gray-700 bg-gray-950/50",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-900",children:[t.jsx(ae,{value:"all",children:"All Types"}),t.jsx(ae,{value:"outbound",children:"Outbound"}),t.jsx(ae,{value:"inbound",children:"Inbound"}),t.jsx(ae,{value:"hybrid",children:"Hybrid"})]})]})]})]})})]}),t.jsxs(jo,{defaultValue:"revenue",className:"space-y-6",children:[t.jsxs(zi,{className:"grid w-full grid-cols-4 border border-gray-800 bg-gray-900/90",children:[t.jsxs(bt,{value:"revenue",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Revenue Overview"]}),t.jsxs(bt,{value:"usage",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Usage Metrics"]}),t.jsxs(bt,{value:"clients",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(rr,{className:"mr-2 h-4 w-4"}),"Top Clients"]}),t.jsxs(bt,{value:"health",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(E0,{className:"mr-2 h-4 w-4"}),"System Health"]})]}),t.jsxs(wt,{value:"revenue",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$321,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(uM,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+18.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Qr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"MRR"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$56,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(Na,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+12.3% growth"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(ei,{className:"h-5 w-5 text-blue-400"})})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Revenue/Client"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$6,830"}),t.jsxs("div",{className:"mt-2 flex items-center text-orange-400",children:[t.jsx(Rt,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"47 active clients"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(rr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Churn Rate"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"2.1%"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(T0,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"-0.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-500/20",children:t.jsx(T0,{className:"h-5 w-5 text-red-400"})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Revenue & MRR Trends"}),t.jsx(vt,{className:"text-gray-400",children:"Monthly revenue and recurring revenue"})]}),t.jsx(G,{children:t.jsx("div",{className:"h-80",children:t.jsx(Jn,{width:"100%",height:"100%",children:t.jsxs(tv,{data:P1e,children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(ki,{stroke:"#9ca3af"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(Ed,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fill:"#10b981",fillOpacity:.3,name:"Total Revenue"}),t.jsx(Ed,{type:"monotone",dataKey:"mrr",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"MRR"})]})})})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Revenue by Client"}),t.jsx(vt,{className:"text-gray-400",children:"Top 5 revenue generating clients"})]}),t.jsx(G,{children:t.jsx("div",{className:"space-y-4",children:Uh.map((b,v)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-600/20 font-semibold text-emerald-400",children:v+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:b.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[b.calls.toLocaleString()," calls"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",b.revenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[(b.revenue/321e3*100).toFixed(1),"% of total"]})]})]},b.name))})})]})]})]}),t.jsxs(wt,{value:"usage",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Iu.totalCalls.toLocaleString()})]}),t.jsx(ct,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Iu.totalLeads.toLocaleString()})]}),t.jsx(Sr,{className:"h-8 w-8 text-blue-400"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsxs("p",{className:"mt-1 text-2xl font-bold text-white",children:[Iu.avgSuccessRate,"%"]})]}),t.jsx(jt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Iu.activeClients})]}),t.jsx(rr,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Agents"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Iu.totalAgents})]}),t.jsx(Rt,{className:"h-8 w-8 text-orange-400"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Iu.avgCallDuration})]}),t.jsx(Ut,{className:"h-8 w-8 text-yellow-400"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Call Volume by Hour"}),t.jsx(vt,{className:"text-gray-400",children:"Platform-wide call distribution"})]}),t.jsx(G,{children:t.jsx("div",{className:"h-80",children:t.jsx(Jn,{width:"100%",height:"100%",children:t.jsxs(m4,{data:[{hour:"8AM",calls:1200},{hour:"9AM",calls:2800},{hour:"10AM",calls:3400},{hour:"11AM",calls:3100},{hour:"12PM",calls:2200},{hour:"1PM",calls:2600},{hour:"2PM",calls:3200},{hour:"3PM",calls:3500},{hour:"4PM",calls:2900},{hour:"5PM",calls:1800}],children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"hour",stroke:"#9ca3af"}),t.jsx(ki,{stroke:"#9ca3af"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(Af,{dataKey:"calls",fill:"#10b981",radius:[8,8,0,0]})]})})})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Lead Conversion Funnel"}),t.jsx(vt,{className:"text-gray-400",children:"Platform-wide conversion metrics"})]}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Calls Made"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"128,450"})]}),t.jsx(Jt,{value:100,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Connected"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"95,414 (74.3%)"})]}),t.jsx(Jt,{value:74.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Interested"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"28,624 (22.3%)"})]}),t.jsx(Jt,{value:22.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Qualified Leads"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"3,847 (3.0%)"})]}),t.jsx(Jt,{value:3,className:"h-3 bg-gray-800"})]})]})})]})]})]}),t.jsxs(wt,{value:"clients",className:"space-y-6",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-white",children:"Top Performing Clients"}),t.jsx(vt,{className:"text-gray-400",children:"Ranked by revenue contribution and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(H,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(za,{className:"mr-2 h-4 w-4"}),"View Charts"]}),t.jsxs(H,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),t.jsx(G,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Rank"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Client Organization"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Call Volume"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Conversion Rate"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"})]})}),t.jsx("tbody",{children:Uh.map((b,v)=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg font-semibold ${v===0?"bg-yellow-600/20 text-yellow-400":v===1?"bg-gray-600/20 text-gray-300":v===2?"bg-orange-600/20 text-orange-400":"bg-gray-800 text-gray-400"}`,children:v+1})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:b.name}),t.jsx("p",{className:"text-xs text-gray-400",children:"Active since Jan 2023"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",b.revenue.toLocaleString()]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"+12% MoM"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:b.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"calls/month"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:b.leads}),t.jsx("p",{className:"text-xs text-gray-400",children:"qualified leads"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Jt,{value:b.leads/b.calls*100,className:"h-2 w-16"}),t.jsxs("span",{className:"text-sm text-white",children:[(b.leads/b.calls*100).toFixed(1),"%"]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(Pe,{className:"border-emerald-600/30 bg-emerald-600/20 text-emerald-400",children:"Active"})})]},b.name))})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Revenue Distribution"}),t.jsx(vt,{className:"text-gray-400",children:"Client revenue share"})]}),t.jsx(G,{children:t.jsx("div",{className:"h-80",children:t.jsx(Jn,{width:"100%",height:"100%",children:t.jsxs(h4,{children:[t.jsx(Qy,{data:Uh,cx:"50%",cy:"50%",outerRadius:100,dataKey:"revenue",label:({name:b,value:v})=>`${b}: $${v.toLocaleString()}`,children:Uh.map((b,v)=>t.jsx(Gd,{fill:v===0?"#10b981":v===1?"#3b82f6":v===2?"#8b5cf6":v===3?"#f59e0b":"#ef4444"},`cell-${v}`))}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})})})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Client Growth Trends"}),t.jsx(vt,{className:"text-gray-400",children:"Monthly client acquisition"})]}),t.jsx(G,{children:t.jsx("div",{className:"h-80",children:t.jsx(Jn,{width:"100%",height:"100%",children:t.jsxs(Gz,{data:[{month:"Jan",clients:32},{month:"Feb",clients:35},{month:"Mar",clients:38},{month:"Apr",clients:42},{month:"May",clients:45},{month:"Jun",clients:47}],children:[t.jsx(io,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(Ci,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(ki,{stroke:"#9ca3af"}),t.jsx(Yn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(_x,{type:"monotone",dataKey:"clients",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})})})]})]})]}),t.jsxs(wt,{value:"health",className:"space-y-6",children:[t.jsxs(qt,{className:"border-gray-800 bg-gray-900/90",children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-400"}),t.jsx(e9,{className:"text-white",children:"System Status"}),t.jsx(Kt,{className:"text-gray-300",children:"Voice Services experiencing minor degradation. All other systems operational."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:A1e.map(b=>t.jsx(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(G,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:b.name}),t.jsx(Pe,{className:b.status==="operational"?"border-emerald-600/30 bg-emerald-600/20 text-emerald-400":b.status==="degraded"?"border-yellow-600/30 bg-yellow-600/20 text-yellow-400":"border-red-600/30 bg-red-600/20 text-red-400",children:b.status})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Uptime"}),t.jsxs("span",{className:`text-sm font-medium ${y(b.status)}`,children:[b.uptime,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Latency"}),t.jsxs("span",{className:"text-sm font-medium text-white",children:[b.latency,"ms"]})]}),t.jsx(Jt,{value:b.uptime,className:"h-2 bg-gray-800"})]})]})},b.name))}),t.jsxs(K,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ye,{className:"text-white",children:"Recent Error Logs"}),t.jsx(vt,{className:"text-gray-400",children:"System errors and warnings"})]}),t.jsxs(H,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Vo,{className:"mr-2 h-4 w-4"}),"View Full Logs"]})]})}),t.jsx(G,{children:t.jsx("div",{className:"space-y-3",children:E1e.map(b=>t.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-950/50 p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(Pe,{className:w(b.severity),children:b.severity}),t.jsx("span",{className:"text-sm text-gray-400",children:b.timestamp})]}),t.jsx("p",{className:"font-medium text-white",children:b.service}),t.jsx("p",{className:"mt-1 text-sm text-gray-300",children:b.error})]}),t.jsx(H,{size:"sm",variant:"ghost",className:"hover:bg-gray-800",children:t.jsx(Tr,{className:"h-4 w-4"})})]})},b.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900/90",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"API Usage Stats"}),t.jsx(vt,{className:"text-gray-400",children:"Last 24 hours"})]}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ws,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Total API Calls"})]}),t.jsx("span",{className:"font-semibold text-white",children:"2.4M"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(jt,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Success Rate"})]}),t.jsx("span",{className:"font-semibold text-white",children:"99.7%"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ut,{className:"h-5 w-5 text-yellow-400"}),t.jsx("span",{className:"text-white",children:"Avg Response Time"})]}),t.jsx("span",{className:"font-semibold text-white",children:"142ms"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Pi,{className:"h-5 w-5 text-red-400"}),t.jsx("span",{className:"text-white",children:"Failed Requests"})]}),t.jsx("span",{className:"font-semibold text-white",children:"7,234"})]})]})})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Database Performance"}),t.jsx(vt,{className:"text-gray-400",children:"Current metrics"})]}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"CPU Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"42%"})]}),t.jsx(Jt,{value:42,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Memory Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"68%"})]}),t.jsx(Jt,{value:68,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Storage Used"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"234 GB / 500 GB"})]}),t.jsx(Jt,{value:46.8,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Active Connections"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"127 / 200"})]}),t.jsx(Jt,{value:63.5,className:"h-2 bg-gray-800"})]})]})})]})]})]})]})]})})}function O1e(){const e=vr(),{getToken:r}=_n(),{toast:s}=Vr(),[a,n]=p.useState(!0),[i,o]=p.useState([]),[l,d]=p.useState({}),[m,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(["read"]),[b,v]=p.useState("never"),[N,C]=p.useState(""),[S,_]=p.useState(!1);p.useEffect(()=>{E()},[]);const E=async()=>{try{const O=await r(),R=await fetch("/api/user/api-keys",{headers:{Authorization:`Bearer ${O}`}});if(R.ok){const $=await R.json();o($)}}catch{s({title:"Error",description:"Failed to fetch API keys",variant:"destructive"})}finally{n(!1)}},A=async()=>{if(!f.trim()){s({title:"Error",description:"Please enter a name for the API key",variant:"destructive"});return}h(!0);try{const O=await r(),R=await fetch("/api/user/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({name:f,permissions:y,expiry:b})});if(R.ok){const $=await R.json();C($.key),_(!0),g(""),w(["read"]),v("never"),E(),s({title:"API Key Created",description:"Your new API key has been generated successfully."})}}catch{s({title:"Error",description:"Failed to create API key",variant:"destructive"})}finally{h(!1)}},T=async O=>{try{const R=await r();(await fetch(`/api/user/api-keys/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`}})).ok&&(E(),s({title:"API Key Revoked",description:"The API key has been revoked successfully."}))}catch{s({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}},M=O=>{navigator.clipboard.writeText(O),s({title:"Copied",description:"API key copied to clipboard"})},z=O=>{switch(O){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},V=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(H,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-400 hover:text-white",children:t.jsx(gd,{className:"h-5 w-5"})}),t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your API keys and access tokens"})})]}),t.jsxs(ol,{children:[t.jsx(ONe,{asChild:!0,children:t.jsxs(H,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create New Key"]})}),t.jsxs(fo,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(po,{children:[t.jsx(go,{className:"text-white",children:"Create New API Key"}),t.jsx(ll,{children:"Generate a new API key for accessing the Apex AI platform"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"name",children:"Key Name"}),t.jsx(Ee,{id:"name",value:f,onChange:O=>g(O.target.value),placeholder:"e.g., Production App",className:"border-gray-600 bg-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{children:"Permissions"}),t.jsx("div",{className:"space-y-2",children:["read","write","delete"].map(O=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:y.includes(O),onChange:R=>{R.target.checked?w([...y,O]):w(y.filter($=>$!==O))},className:"rounded border-gray-600 bg-gray-700 text-emerald-600"}),t.jsx("span",{className:"capitalize text-white",children:O})]},O))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"expiry",children:"Expiration"}),t.jsxs(tt,{value:b,onValueChange:v,children:[t.jsx(Qe,{className:"border-gray-600 bg-gray-700",children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(ae,{value:"never",children:"Never"}),t.jsx(ae,{value:"30",children:"30 days"}),t.jsx(ae,{value:"60",children:"60 days"}),t.jsx(ae,{value:"90",children:"90 days"}),t.jsx(ae,{value:"365",children:"1 year"})]})]})]})]}),t.jsx(Yd,{children:t.jsx(H,{onClick:A,disabled:m,className:"bg-emerald-600 hover:bg-emerald-700",children:m?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating..."]}):"Create API Key"})})]})]})]}),S&&t.jsxs(qt,{className:"mb-6 border-emerald-700 bg-emerald-900/20",children:[t.jsx(yd,{className:"h-4 w-4"}),t.jsx(Kt,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-semibold text-white",children:"Your new API key has been created!"}),t.jsx("p",{className:"text-sm text-gray-300",children:"Make sure to copy it now. You won't be able to see it again."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-gray-800 p-2 font-mono text-sm text-white",children:N}),t.jsx(H,{size:"sm",variant:"outline",onClick:()=>M(N),className:"border-gray-600",children:t.jsx(Hn,{className:"h-4 w-4"})})]}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>_(!1),className:"mt-2",children:"Close"})]})})]}),t.jsxs(jo,{defaultValue:"active",className:"space-y-6",children:[t.jsxs(zi,{className:"border-gray-700 bg-gray-800",children:[t.jsx(bt,{value:"active",children:"Active Keys"}),t.jsx(bt,{value:"all",children:"All Keys"}),t.jsx(bt,{value:"usage",children:"Usage Analytics"})]}),t.jsx(wt,{value:"active",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.filter(O=>O.status==="active").map(O=>t.jsx(K,{className:"border-gray-700 bg-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:O.name}),t.jsx(Pe,{className:z(O.status),children:O.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(cs,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",V(O.createdAt)]})]}),O.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ut,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",V(O.lastUsed)]})]}),O.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Expires ",V(O.expiresAt)]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[O.prefix,"...",l[O.id]?O.key.slice(-8):""]}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>d({...l,[O.id]:!l[O.id]}),className:"text-gray-400 hover:text-white",children:l[O.id]?t.jsx(pa,{className:"h-4 w-4"}):t.jsx(Tr,{className:"h-4 w-4"})}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>M(O.key),className:"text-gray-400 hover:text-white",children:t.jsx(Hn,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Permissions:"}),O.permissions.map(R=>t.jsx(Pe,{variant:"secondary",className:"bg-gray-700",children:R},R))]})]}),t.jsxs(Ri,{children:[t.jsx(Mi,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Nm,{className:"h-4 w-4"})})}),t.jsxs(ti,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Xt,{className:"text-gray-300 hover:text-white",children:[t.jsx(_Y,{className:"mr-2 h-4 w-4"}),"Edit Permissions"]}),t.jsxs(Xt,{className:"text-gray-300 hover:text-white",children:[t.jsx(aa,{className:"mr-2 h-4 w-4"}),"Regenerate Key"]}),t.jsxs(Xt,{className:"text-red-400 hover:text-red-300",onClick:()=>T(O.id),children:[t.jsx(ds,{className:"mr-2 h-4 w-4"}),"Revoke Key"]})]})]})]})})},O.id))}),t.jsx(wt,{value:"all",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.map(O=>t.jsx(K,{className:"border-gray-700 bg-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:O.name}),t.jsx(Pe,{className:z(O.status),children:O.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(cs,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",V(O.createdAt)]})]}),O.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ut,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",V(O.lastUsed)]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[O.prefix,"..."]})})]}),O.status==="active"&&t.jsx(H,{variant:"outline",size:"sm",onClick:()=>T(O.id),className:"border-red-600 text-red-400 hover:bg-red-600/20",children:"Revoke"})]})})},O.id))}),t.jsx(wt,{value:"usage",className:"space-y-6",children:t.jsxs(K,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"API Usage Overview"}),t.jsx(vt,{children:"Monitor your API key usage and performance"})]}),t.jsxs(G,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"24,567"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Total API Calls"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:"98.5%"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Success Rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"145ms"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Avg Response Time"})]})]}),t.jsx(_i,{className:"my-6 bg-gray-700"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-white",children:"Usage by Key"}),i.filter(O=>O.status==="active").map(O=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-white",children:O.name})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[O.usage.calls," calls"]}),t.jsx(Ns,{className:"h-4 w-4 text-emerald-400"})]})]},O.id))]}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(H,{variant:"outline",className:"border-gray-600",children:[t.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Export Usage Report"]})})]})]})})]}),t.jsxs(K,{className:"mt-6 border-gray-700 bg-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[t.jsx(ja,{className:"h-5 w-5 text-emerald-400"}),"API Key Best Practices"]})}),t.jsx(G,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(jt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Never share your API keys publicly or commit them to version control"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(jt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use environment variables to store API keys in your applications"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(jt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Rotate your API keys regularly and revoke unused keys"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(jt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use different keys for different environments (development, staging, production)"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(jt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Monitor API key usage and set up alerts for unusual activity"})]})]})})]})]})})}class R1e{constructor(){Es(this,"phoneNumbers",[]);Es(this,"currentPhoneIndex",0);Es(this,"MAX_CALLS_PER_MINUTE",10);Es(this,"MAX_CALLS_PER_PHONE_PER_DAY",166);Es(this,"CALL_WINDOW_START",9);Es(this,"CALL_WINDOW_END",20);Es(this,"MAX_RETRIES",3);this.loadPhoneNumbers()}async loadPhoneNumbers(){const{data:r,error:s}=await Xe.from("phone_numbers").select("*").eq("status","active").eq("country","GB");s&&console.error("Error loading phone_numbers:",s),r&&r.length>0?this.phoneNumbers=r.map(a=>({id:a.id,number:a.number,dailyCallCount:0,lastUsed:new Date})):this.phoneNumbers=[{id:"default",number:"+447482792343",dailyCallCount:0,lastUsed:new Date}]}isWithinCallWindow(){const s=new Date().getHours();return s>=this.CALL_WINDOW_START&&s<this.CALL_WINDOW_END}getNextCallWindow(){const r=new Date,s=new Date(r);return r.getHours()>=this.CALL_WINDOW_END&&s.setDate(s.getDate()+1),s.setHours(this.CALL_WINDOW_START,0,0,0),s}async processCampaign(r,s){const{data:a}=await Xe.from("campaigns").select("*").eq("id",r).single();if(!a||a.status!=="active")throw new Error("Campaign not found or inactive");let n=Xe.from("leads").select("*").eq("campaign_id",r).in("status",["new","retry"]).order("priority",{ascending:!1});s&&s.length>0&&(n=n.in("id",s));const{data:i}=await n;if(!i||i.length===0)return console.log("No leads to process"),{processed:0};let o=0;for(const l of i)await Xe.from("leads").update({status:"queued",queued_at:new Date().toISOString()}).eq("id",l.id),o++;return await Xe.from("campaigns").update({status:"processing",last_run_at:new Date().toISOString()}).eq("id",r),{processed:o,campaign:a.name,estimatedTime:`${Math.ceil(o/10)} minutes`,message:"Leads queued for processing. Backend service will process calls."}}async getQueueStatus(){const{data:r}=await Xe.from("leads").select("id").eq("status","queued"),{data:s}=await Xe.from("leads").select("id").eq("status","processing"),{data:a}=await Xe.from("calls").select("id").eq("status","completed"),{data:n}=await Xe.from("calls").select("id").eq("status","failed");return{waiting:(r==null?void 0:r.length)||0,active:(s==null?void 0:s.length)||0,completed:(a==null?void 0:a.length)||0,failed:(n==null?void 0:n.length)||0,delayed:0,phoneNumbers:this.phoneNumbers.map(i=>({number:i.number,dailyCallsUsed:i.dailyCallCount,dailyCallsRemaining:this.MAX_CALLS_PER_PHONE_PER_DAY-i.dailyCallCount})),isWithinCallWindow:this.isWithinCallWindow(),nextCallWindow:this.isWithinCallWindow()?null:this.getNextCallWindow(),message:"Frontend view - actual processing happens on backend"}}async pauseCampaign(r){return await Xe.from("campaigns").update({status:"paused",paused_at:new Date().toISOString()}).eq("id",r),await Xe.from("leads").update({status:"new",queued_at:null}).eq("campaign_id",r).eq("status","queued"),{paused:!0}}async resumeCampaign(r){return await Xe.from("campaigns").update({status:"active",resumed_at:new Date().toISOString()}).eq("id",r),await this.processCampaign(r)}async getDailyStats(){const r=new Date;r.setHours(0,0,0,0);const{data:s}=await Xe.from("calls").select("*").gte("created_at",r.toISOString()),a=(s==null?void 0:s.length)||0,n=(s==null?void 0:s.filter(l=>l.status==="completed").length)||0,i=(s==null?void 0:s.filter(l=>l.status==="failed").length)||0,o=(s==null?void 0:s.reduce((l,d)=>l+(d.cost||0),0))||0;return{date:Zi(r,"yyyy-MM-dd"),totalCalls:a,completedCalls:n,failedCalls:i,successRate:a>0?(n/a*100).toFixed(2)+"%":"0%",totalCost:`${o.toFixed(2)}`,callsRemaining:2e3-a,estimatedCostToday:`${(a*2.05).toFixed(2)}`,note:"Frontend statistics - actual call processing requires backend service"}}}const Bh=new R1e;function M1e(){var b;const[e,r]=p.useState([]),[s,a]=p.useState(null),[n,i]=p.useState(null),[o,l]=p.useState(!1),[d,m]=p.useState("");p.useEffect(()=>{h(),f();const v=setInterval(()=>{f()},1e4);return()=>clearInterval(v)},[]);const h=async()=>{const{data:v}=await Xe.from("campaigns").select("*").order("created_at",{ascending:!1});v&&(r(v),v.length>0&&!d&&m(v[0].id))},f=async()=>{const v=await Bh.getQueueStatus();a(v);const N=await Bh.getDailyStats();i(N)},g=async()=>{if(d){l(!0);try{const v=await Bh.processCampaign(d);console.log("Campaign started:",v),await f()}catch(v){console.error("Failed to start campaign:",v)}l(!1)}},y=async()=>{if(d){l(!0);try{await Bh.pauseCampaign(d),await f()}catch(v){console.error("Failed to pause campaign:",v)}l(!1)}},w=async()=>{if(d){l(!0);try{await Bh.resumeCampaign(d),await f()}catch(v){console.error("Failed to resume campaign:",v)}l(!1)}};return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Campaign Processor"}),t.jsx("p",{className:"text-gray-500",children:"Manage automated calling campaigns"})]}),t.jsx(Pe,{variant:s!=null&&s.isWithinCallWindow?"success":"secondary",children:s!=null&&s.isWithinCallWindow?"Call Window Open":"Call Window Closed"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(K,{children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ye,{className:"text-sm font-medium",children:"Today's Calls"}),t.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalCalls)||0}),t.jsx(Jt,{value:((n==null?void 0:n.totalCalls)||0)/20,className:"mt-2"}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(n==null?void 0:n.callsRemaining)||2e3," remaining today"]})]})]}),t.jsxs(K,{children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ye,{className:"text-sm font-medium",children:"Success Rate"}),t.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.successRate)||"0%"}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs(Pe,{variant:"success",className:"text-xs",children:[(n==null?void 0:n.completedCalls)||0," completed"]}),t.jsxs(Pe,{variant:"destructive",className:"text-xs",children:[(n==null?void 0:n.failedCalls)||0," failed"]})]})]})]}),t.jsxs(K,{children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ye,{className:"text-sm font-medium",children:"Today's Cost"}),t.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalCost)||"0.00"}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Est. total: ",(n==null?void 0:n.estimatedCostToday)||"0.00"]})]})]}),t.jsxs(K,{children:[t.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ye,{className:"text-sm font-medium",children:"Queue Status"}),t.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(G,{children:t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsxs(Pe,{variant:"default",children:[(s==null?void 0:s.active)||0," active"]}),t.jsxs(Pe,{variant:"secondary",children:[(s==null?void 0:s.waiting)||0," waiting"]}),t.jsxs(Pe,{variant:"outline",children:[(s==null?void 0:s.delayed)||0," delayed"]})]})})]})]}),t.jsxs(K,{children:[t.jsxs(xe,{children:[t.jsx(ye,{children:"Campaign Control"}),t.jsx(vt,{children:"Start, pause, or resume calling campaigns"})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{className:"flex-1 p-2 border rounded",value:d,onChange:v=>m(v.target.value),children:[t.jsx("option",{value:"",children:"Select a campaign"}),e.map(v=>t.jsxs("option",{value:v.id,children:[v.name," (",v.is_active?"Active":"Inactive",")"]},v.id))]}),t.jsxs(H,{onClick:g,disabled:o||!d,className:"gap-2",children:[t.jsx(Qn,{className:"h-4 w-4"}),"Start"]}),t.jsxs(H,{onClick:y,disabled:o||!d,variant:"secondary",className:"gap-2",children:[t.jsx(vd,{className:"h-4 w-4"}),"Pause"]}),t.jsxs(H,{onClick:w,disabled:o||!d,variant:"secondary",className:"gap-2",children:[t.jsx(aa,{className:"h-4 w-4"}),"Resume"]})]}),!(s!=null&&s.isWithinCallWindow)&&(s==null?void 0:s.nextCallWindow)&&t.jsxs(qt,{children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsxs(Kt,{children:["Call window is closed. Calls will resume at ",Zi(new Date(s.nextCallWindow),"HH:mm")]})]})]})]}),t.jsxs(K,{children:[t.jsxs(xe,{children:[t.jsx(ye,{children:"Phone Numbers"}),t.jsx(vt,{children:"Status and usage of configured phone numbers"})]}),t.jsx(G,{children:t.jsxs("div",{className:"space-y-3",children:[(b=s==null?void 0:s.phoneNumbers)==null?void 0:b.map((v,N)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ct,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"font-mono",children:v.number})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Used: "}),t.jsx("span",{className:"font-semibold",children:v.dailyCallsUsed})]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Remaining: "}),t.jsx("span",{className:"font-semibold",children:v.dailyCallsRemaining})]}),t.jsx(Jt,{value:v.dailyCallsUsed/166*100,className:"w-24"})]})]},N)),(!(s!=null&&s.phoneNumbers)||s.phoneNumbers.length===0)&&t.jsxs(qt,{children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsx(Kt,{children:"No phone numbers configured. Using default number."})]})]})})]}),t.jsxs(K,{children:[t.jsxs(xe,{children:[t.jsx(ye,{children:"Recent Activity"}),t.jsx(vt,{children:"Latest call attempts and results"})]}),t.jsx(G,{children:t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Activity log will appear here when calls are processed"})})]})]})}const I1e={error:(e,r)=>{},warn:(e,r)=>{},info:(e,r)=>{}},D1e=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},L1e=e=>new Promise(r=>setTimeout(r,e));async function k3(e,r){var o,l,d,m,h,f,g;const{maxRetries:s=3,showErrorToast:a=!0,retryDelay:n=1e3}={};let i=null;for(let y=0;y<=s;y++)try{return{ok:!0,data:(await ss(e)).data}}catch(w){const b=w;if(i=b,I1e.error(`API request failed (attempt ${y+1}/${s+1})`,{url:e.url,method:e.method,status:(o=b.response)==null?void 0:o.status,error:b.message}),y<s&&D1e(b)){const N=n*Math.pow(2,y);await L1e(N);continue}const v={message:((d=(l=b.response)==null?void 0:l.data)==null?void 0:d.message)||b.message||"An unexpected error occurred",status:(m=b.response)==null?void 0:m.status,code:b.code,details:(h=b.response)==null?void 0:h.data};return a&&DD({title:"Error",description:v.message,variant:"destructive"}),{ok:!1,error:v}}return{ok:!1,error:{message:(i==null?void 0:i.message)||"Maximum retries exceeded",status:(f=i==null?void 0:i.response)==null?void 0:f.status,code:i==null?void 0:i.code,details:(g=i==null?void 0:i.response)==null?void 0:g.data}}}class $1e{constructor(){Es(this,"baseUrl","/api/leads")}async getLeads(r,s={},a=1,n=50){var i;try{const o=new URLSearchParams({page:a.toString(),limit:n.toString()});r&&o.append("clientId",r),(i=s.status)!=null&&i.length&&o.append("status",s.status.join(",")),s.search&&o.append("search",s.search);const l=await fetch(`${this.baseUrl}?${o}`);if(!l.ok)throw new Error(`Failed to fetch leads: ${l.statusText}`);return await l.json()}catch(o){throw console.error("Error fetching leads:",o),o}}async getLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead:",a),a}}async createLead(r,s){try{const a={...r,clientId:s},n=await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error creating lead:",a),a}}async updateLead(r,s,a){try{const n={...s,clientId:a},i=await fetch(`${this.baseUrl}/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to update lead: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error updating lead:",n),n}}async deleteLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete lead: ${n.statusText}`)}catch(a){throw console.error("Error deleting lead:",a),a}}async bulkUpdateLeads(r,s,a){try{const n={leadIds:r,updates:s,clientId:a},i=await fetch(`${this.baseUrl}/bulk-update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to bulk update leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error bulk updating leads:",n),n}}async getLeadStats(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/stats?${s}`);if(!a.ok)throw new Error(`Failed to fetch lead stats: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching lead stats:",s),s}}async getCampaignPerformance(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns/performance?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaign performance: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaign performance:",s),s}}async importLeads(r,s,a,n={}){try{const i=new FormData;i.append("file",r),s&&i.append("campaignId",s),a&&i.append("clientId",a),n.skipDuplicates&&i.append("skipDuplicates","true"),n.updateExisting&&i.append("updateExisting","true"),n.campaignType&&i.append("campaignType",n.campaignType);const o=await fetch(`${this.baseUrl}/import`,{method:"POST",body:i});if(!o.ok)throw new Error(`Failed to import leads: ${o.statusText}`);return await o.json()}catch(i){throw console.error("Error importing leads:",i),i}}async exportLeads(r,s={}){try{const a=new URLSearchParams;r&&a.append("clientId",r),Object.entries(s).forEach(([i,o])=>{o!=null&&(Array.isArray(o)?a.append(i,o.join(",")):typeof o=="object"&&"start"in o?(a.append("startDate",o.start),a.append("endDate",o.end)):a.append(i,o.toString()))});const n=await fetch(`${this.baseUrl}/export?${a}`);if(!n.ok)throw new Error(`Failed to export leads: ${n.statusText}`);return await n.blob()}catch(a){throw console.error("Error exporting leads:",a),a}}async downloadTemplate(){try{const r=await fetch(`${this.baseUrl}/template`);if(!r.ok)throw new Error(`Failed to download template: ${r.statusText}`);return await r.blob()}catch(r){throw console.error("Error downloading template:",r),r}}async getCallHistory(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/calls?${a}`);if(!n.ok)throw new Error(`Failed to fetch call history: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching call history:",a),a}}async addCallRecord(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/calls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add call record: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding call record:",a),a}}async getActivities(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/activities?${a}`);if(!n.ok)throw new Error(`Failed to fetch activities: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching activities:",a),a}}async addActivity(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add activity: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding activity:",a),a}}async calculateLeadScore(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/score?${a}`,{method:"POST"});if(!n.ok)throw new Error(`Failed to calculate lead score: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error calculating lead score:",a),a}}async getLeadInsights(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/insights?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead insights: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead insights:",a),a}}async searchLeads(r,s,a=20){try{const n=new URLSearchParams({search:r,limit:a.toString()});s&&n.append("clientId",s);const i=await fetch(`${this.baseUrl}/search?${n}`);if(!i.ok)throw new Error(`Failed to search leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error searching leads:",n),n}}async getCampaigns(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaigns: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaigns:",s),s}}async getSources(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/sources?${s}`);if(!a.ok)throw new Error(`Failed to fetch sources: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching sources:",s),s}}}const CS=new $1e;class z1e{async getCallDetails(r){const a=await k3({method:"GET",url:`http://localhost:3001/api/api/vapi-outbound/calls/${r}`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch call details");if(!a.data.call)throw new Error("Call not found");return a.data.call}async getCampaignCalls(r){const a=await k3({method:"GET",url:`http://localhost:3001/api/api/vapi-outbound/campaigns/${r}/calls`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch campaign calls");return a.data}getStatusInfo(r){return{initiated:{label:"Initiated",color:"blue",icon:""},ringing:{label:"Ringing",color:"yellow",icon:""},answered:{label:"Answered",color:"green",icon:""},completed:{label:"Completed",color:"emerald",icon:""},failed:{label:"Failed",color:"red",icon:""},busy:{label:"Busy",color:"orange",icon:""},no_answer:{label:"No Answer",color:"gray",icon:""}}[r]||{label:r,color:"gray",icon:""}}formatDuration(r){if(!r||r===0)return"0s";if(r<60)return`${Math.round(r)}s`;if(r<3600){const s=Math.floor(r/60),a=Math.round(r%60);return`${s}m ${a}s`}else{const s=Math.floor(r/3600),a=Math.floor(r%3600/60);return`${s}h ${a}m`}}formatCost(r){return!r||r===0?"$0.00":`$${r.toFixed(3)}`}isPositiveOutcome(r,s){const a=["interested","scheduled","follow-up","demo","meeting","callback","positive","qualified","hot","warm","opportunity","conversion","wants","needs","looking for","considering","evaluating"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))}extractSentiment(r,s){if(this.isPositiveOutcome(r,s))return"positive";const a=["not interested","declined","refused","busy","no thank you","unqualified"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))?"negative":"neutral"}async createLeadFromCall(r){try{if(!this.isPositiveOutcome(r.summary||"",r.transcript))return console.log("Call outcome not positive, skipping lead creation"),null;const[s,a]=this.extractNameFromCall(r),n={firstName:s||"Unknown",lastName:a||"Contact",email:r.customerEmail||"",phone:r.customerPhone,company:r.customerCompany||"",title:"",status:"new",priority:this.determinePriority(r),source:"vapi_outbound_call",campaign:r.campaignName,notes:this.generateLeadNotes(r),tags:["ai-generated","positive-call"],score:this.calculateLeadScore(r),lastContactDate:r.startedAt,nextFollowUp:this.suggestNextFollowUp(r),customFields:{originalCallId:r.id,vapiCallId:r.vapiCallId,callOutcome:r.summary,callDuration:r.duration,callCost:r.cost,sentiment:this.extractSentiment(r.summary||"",r.transcript)}};console.log("Creating lead from positive call:",n);const i=await CS.createLead(n);return await CS.addCallRecord({leadId:i.id,date:r.startedAt,duration:this.formatDuration(r.duration),outcome:r.summary||"Positive outcome",transcript:r.transcript||"",sentiment:this.extractSentiment(r.summary||"",r.transcript),recordingUrl:r.recording,nextAction:this.suggestNextAction(r)}),i}catch(s){return console.error("Error creating lead from call:",s),null}}extractNameFromCall(r){if(r.customerName){const s=r.customerName.split(" ");return[s[0]||"",s.slice(1).join(" ")||""]}return["",""]}determinePriority(r){const s=(r.summary||"").toLowerCase();return s.includes("hot")||s.includes("urgent")||s.includes("asap")?"high":s.includes("warm")||s.includes("scheduled")||s.includes("demo")?"medium":"low"}generateLeadNotes(r){let s=`Lead generated from AI call on ${new Date(r.startedAt).toLocaleDateString()}.

`;return r.summary&&(s+=`Call Summary: ${r.summary}

`),s+=`Call Duration: ${this.formatDuration(r.duration)}
`,s+=`Call Cost: ${this.formatCost(r.cost)}
`,r.customerCompany&&(s+=`Company: ${r.customerCompany}
`),r.transcript&&(s+=`
Call Transcript:
${r.transcript.substring(0,500)}${r.transcript.length>500?"...":""}`),s}calculateLeadScore(r){let s=50;const a=(r.summary||"").toLowerCase();return a.includes("very interested")?s+=30:a.includes("interested")&&(s+=20),(a.includes("scheduled")||a.includes("demo"))&&(s+=25),a.includes("follow-up")&&(s+=15),a.includes("qualified")&&(s+=20),r.duration&&r.duration>120&&(s+=10),r.duration&&r.duration>300&&(s+=15),r.customerCompany&&(s+=10),Math.min(100,Math.max(0,s))}suggestNextFollowUp(r){const s=(r.summary||"").toLowerCase();let a=7;s.includes("urgent")||s.includes("asap")?a=1:s.includes("hot")||s.includes("very interested")?a=2:s.includes("scheduled")||s.includes("demo")?a=0:(s.includes("warm")||s.includes("considering"))&&(a=5);const n=new Date;return n.setDate(n.getDate()+a),n.toISOString()}suggestNextAction(r){const s=(r.summary||"").toLowerCase();return s.includes("demo")||s.includes("presentation")?"Prepare and conduct product demo":s.includes("proposal")||s.includes("quote")?"Send detailed proposal and pricing":s.includes("email")||s.includes("information")?"Send follow-up email with additional information":s.includes("meeting")||s.includes("call back")?"Schedule follow-up meeting":s.includes("decision maker")||s.includes("manager")?"Contact decision maker or manager":"Follow up with personalized outreach based on call discussion"}}const Lo=new z1e;function F1e(){const{callId:e}=Of(),r=vr(),{toast:s}=Vr(),[a,n]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(!1),[m,h]=p.useState(null),[f,g]=p.useState(!1),[y,w]=p.useState(0),[b,v]=p.useState(1),N=p.useRef(null);p.useEffect(()=>{e&&E()},[e]),p.useEffect(()=>{if(N.current){const R=()=>{N.current&&w(Math.floor(N.current.currentTime))};return N.current.addEventListener("timeupdate",R),()=>{N.current&&N.current.removeEventListener("timeupdate",R)}}},[]);const C=R=>{const $=Math.floor(R/60),B=R%60;return`${String($).padStart(2,"0")}:${String(B).padStart(2,"0")}`},S=async()=>{if(N.current)try{l?(N.current.pause(),d(!1)):(await N.current.play(),d(!0))}catch(R){console.error("Playback error:",R),a!=null&&a.recording&&a.recording.includes("vapi.ai")&&window.open(a.recording,"_blank")}},_=R=>{v(R),N.current&&(N.current.playbackRate=R)},E=async()=>{try{o(!0);const R=await Lo.getCallDetails(e);if(!R){s({title:"Error",description:"Call details not found",variant:"destructive"}),r(-1);return}n(R);const $=R;Lo.isPositiveOutcome($.summary||"",$.transcript)&&await A($)}catch(R){console.error("Failed to load call details:",R),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}finally{o(!1)}},A=async R=>{try{g(!0),console.log(" Checking/creating lead for call:",{callId:R.id,customerPhone:R.customerPhone,customerName:R.customerName,summary:R.summary});const $=await CS.searchLeads(R.customerPhone);console.log(" Found existing leads:",$.length);const B=$.find(te=>{var L,F;return((L=te.customFields)==null?void 0:L.originalCallId)===R.id||((F=te.customFields)==null?void 0:F.vapiCallId)===R.vapiCallId});if(B){h(B),console.log(" Lead already exists for this call:",B);return}console.log(" Creating new lead from call...");const U=await Lo.createLeadFromCall(R);U?(h(U),console.log(" Lead created successfully:",U),s({title:"Lead Created",description:`New lead "${U.firstName} ${U.lastName}" added to CRM`})):console.log(" Lead creation returned null")}catch($){console.error(" Error checking/creating lead:",$)}finally{g(!1)}},T=async()=>{if(a!=null&&a.vapiCallId)try{o(!0);const R=await qs.post(`/sync-vapi-call/${a.vapiCallId}`);R.data.success&&(s({title:"Call Synced",description:"Call data has been updated from VAPI"}),await E(),R.data.aiProcessing&&s({title:"AI Processing Started",description:"Call is being analyzed by AI"}))}catch(R){console.error("Error syncing call:",R),s({title:"Sync Failed",description:"Failed to sync call data from VAPI",variant:"destructive"})}finally{o(!1)}},M=async()=>{if(a)try{g(!0);const R=await Lo.createLeadFromCall(a);R&&(h(R),s({title:"Lead Created",description:`Lead "${R.firstName} ${R.lastName}" added to CRM`}))}catch(R){console.error("Error creating lead manually:",R),s({title:"Error",description:"Failed to create lead in CRM",variant:"destructive"})}finally{g(!1)}},z=async(R,$)=>{try{await navigator.clipboard.writeText(R),s({title:"Copied",description:`${$} copied to clipboard`})}catch{s({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}},V=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading call details..."})]})});if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"mb-4 text-gray-400",children:"Call not found"}),t.jsxs(H,{onClick:()=>r(-1),variant:"outline",children:[t.jsx(gd,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})});const O=Lo.getStatusInfo(a.status);return t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(H,{onClick:()=>r(-1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[t.jsx(gd,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Call Details"}),t.jsx("p",{className:"text-gray-400",children:"View call transcript, recording, and results"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Pe,{className:`px-3 py-1 ${O.color==="green"||O.color==="emerald"?"bg-emerald-500/20 text-emerald-400":O.color==="red"?"bg-red-500/20 text-red-400":O.color==="yellow"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:[O.icon," ",O.label]}),(a.status==="in_progress"||a.status==="ringing"||!a.transcript)&&t.jsxs(H,{onClick:T,size:"sm",variant:"outline",disabled:i||!a.vapiCallId,className:"border-gray-600",children:[t.jsx(aa,{className:`mr-2 h-4 w-4 ${i?"animate-spin":""}`}),"Sync from VAPI"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(ts,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Customer Information"]})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Name:"}),t.jsx("span",{className:"font-medium text-white",children:a.customerName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Phone:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-white",children:a.customerPhone}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>z(a.customerPhone,"Phone number"),children:t.jsx(Hn,{className:"h-3 w-3"})})]})]}),a.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Email:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-white",children:a.customerEmail}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>z(a.customerEmail,"Email"),children:t.jsx(Hn,{className:"h-3 w-3"})})]})]}),a.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Company:"}),t.jsx("span",{className:"text-white",children:a.customerCompany})]})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(ct,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Information"]})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"font-medium text-white",children:a.campaignName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:V(a.startedAt)})]}),a.endedAt&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:V(a.endedAt)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Duration:"}),t.jsx("span",{className:"font-mono text-white",children:Lo.formatDuration(a.duration)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Direction:"}),t.jsx("span",{className:"capitalize text-white",children:a.direction})]})]})]}),t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(Qr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Metrics"]})}),t.jsxs(G,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost:"}),t.jsx("span",{className:"font-bold text-emerald-400",children:Lo.formatCost(a.cost)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI Call ID:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-xs text-white",children:a.vapiCallId?`${a.vapiCallId.substring(0,8)}...`:"N/A"}),t.jsx(H,{size:"sm",variant:"ghost",onClick:()=>a.vapiCallId&&z(a.vapiCallId,"VAPI Call ID"),disabled:!a.vapiCallId,children:t.jsx(Hn,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Transcript:"}),t.jsx("span",{className:a.transcript?"text-emerald-400":"text-gray-500",children:a.transcript?"Yes":"No"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Recording:"}),t.jsx("span",{className:a.recording?"text-emerald-400":"text-gray-500",children:a.recording?"Yes":"No"})]})]})]})]}),a&&t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(rr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"CRM Integration"]})}),t.jsxs(G,{className:"space-y-4",children:[Lo.isPositiveOutcome(a.summary||"",a.transcript)&&t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(jm,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"Positive Outcome Detected"})]}),t.jsx(Pe,{className:"bg-emerald-500/20 text-emerald-400",children:"Lead Eligible"})]}),m?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-blue-500/30 bg-blue-500/10 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-400",children:"Lead Created in CRM"}),t.jsxs("p",{className:"text-sm text-gray-300",children:[m.firstName," ",m.lastName," - ",m.company]})]}),t.jsx(H,{size:"sm",variant:"outline",onClick:()=>window.open(`/crm/leads/${m.id}`,"_blank"),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:"View in CRM"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Status:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.status})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Priority:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.priority})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Score:"}),t.jsx("p",{className:"font-medium text-white",children:m.score||"N/A"})]})]})]}):Lo.isPositiveOutcome(a.summary||"",a.transcript)?t.jsxs("div",{className:"py-4 text-center",children:[t.jsx(H,{onClick:M,disabled:f,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating Lead..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Create Lead in CRM"]})}),t.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Automatically creates a new lead with call details"})]}):t.jsxs("div",{className:"py-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[t.jsx(At,{className:"h-4 w-4"}),t.jsx("span",{children:"No positive outcome detected"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lead creation is triggered for positive call outcomes"})]})]})]}),t.jsxs(jo,{defaultValue:"transcript",className:"w-full",children:[t.jsxs(zi,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[t.jsxs(bt,{value:"transcript",className:"flex items-center space-x-2",children:[t.jsx(Vo,{className:"h-4 w-4"}),t.jsx("span",{children:"Transcript"})]}),t.jsxs(bt,{value:"recording",className:"flex items-center space-x-2",children:[t.jsx(uf,{className:"h-4 w-4"}),t.jsx("span",{children:"Recording"})]}),t.jsxs(bt,{value:"summary",className:"flex items-center space-x-2",children:[t.jsx(Vo,{className:"h-4 w-4"}),t.jsx("span",{children:"Summary"})]})]}),t.jsx(wt,{value:"transcript",className:"mt-6",children:t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Call Transcript"})}),t.jsx(G,{children:a.transcript?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative rounded-lg border border-gray-700 bg-gray-900/50",children:[t.jsxs("div",{className:"max-h-[500px] overflow-y-auto p-6",children:[t.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-300",children:a.transcript}),t.jsx("div",{className:"pb-4"})," "]}),t.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-900/80 to-transparent"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-400",children:[a.transcript.split(`
`).length," lines  ",a.transcript.split(" ").length," words"]}),t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>z(a.transcript,"Transcript"),children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Copy Transcript"]})]})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Vo,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Transcripts are generated automatically for completed calls"})]})})]})}),t.jsx(wt,{value:"recording",className:"mt-6",children:t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Call Recording"})}),t.jsx(G,{children:a.recording?t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:C(a.duration||0)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-3",children:t.jsxs("select",{value:b,onChange:R=>_(Number(R.target.value)),className:"rounded-lg border border-gray-600/50 bg-gray-800/50 px-2 py-1 text-xs text-white transition-all focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/50",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:S,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:l?t.jsx(vd,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Qn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4",children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5",children:Array.from({length:100}).map((R,$)=>{const B=20+Math.random()*80,U=$/100*(a.duration||0)<=y;return t.jsx("div",{className:"flex-1 rounded-t bg-gray-600 transition-all duration-150",style:{height:`${B}%`,backgroundColor:U?"#10b981":"#4b5563",opacity:U?1:.5}},$)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50",style:{left:`${y/(a.duration||1)*100}%`}})]}),t.jsxs("button",{onClick:()=>{if(a.recording)if(a.recording.includes("vapi.ai"))window.open(a.recording,"_blank");else{const R=document.createElement("a");R.href=a.recording,R.download=`call-recording-${a.id}.wav`,document.body.appendChild(R),R.click(),document.body.removeChild(R)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Nn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:C(y)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",C((a.duration||0)-y)]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-100",style:{width:`${y/(a.duration||1)*100}%`}})}),t.jsx("div",{className:"absolute top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg transition-all duration-100",style:{left:`${y/(a.duration||1)*100}%`,boxShadow:"0 0 0 3px rgba(34, 197, 94, 0.2)"}})]})]})]})]}),t.jsx("audio",{ref:N,src:a.recording,onEnded:()=>d(!1),className:"hidden"})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(uf,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No recording available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Recordings are generated automatically for answered calls"})]})})]})}),t.jsx(wt,{value:"summary",className:"mt-6",children:t.jsxs(K,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-white",children:"Call Summary"})}),t.jsx(G,{children:a.summary?t.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsx("div",{className:"leading-relaxed text-gray-300",children:a.summary}),t.jsx("div",{className:"mt-4 flex space-x-2",children:t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>z(a.summary,"Summary"),children:[t.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Copy Summary"]})})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Vo,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No summary available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"AI summaries are generated for completed calls with transcripts"})]})})]})})]})]})})}const U1e=()=>{const{campaignId:e}=Of(),r=vr(),{toast:s}=Vr(),[a,n]=p.useState([]),[i,o]=p.useState(null),[l,d]=p.useState({page:1,limit:20,total:0,totalPages:0}),[m,h]=p.useState(!0),[f,g]=p.useState(""),[y,w]=p.useState("all"),[b,v]=p.useState("started_at"),[N,C]=p.useState("desc"),[S,_]=p.useState(null),[E,A]=p.useState(!1);p.useEffect(()=>{e&&T()},[e,l.page,f,y,b,N]);const T=async()=>{try{h(!0);const $=new URLSearchParams({page:l.page.toString(),limit:l.limit.toString(),sortBy:b,sortOrder:N,...y!=="all"&&{status:y},...f&&{search:f}}),B=await fetch(`/api/vapi-outbound/campaigns/${e}/calls?${$}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!B.ok)throw new Error("Failed to fetch campaign calls");const U=await B.json();n(U.calls),o(U.campaign),d(U.pagination)}catch($){console.error("Error loading campaign calls:",$),s({title:"Error",description:"Failed to load campaign calls",variant:"destructive"})}finally{h(!1)}},M=$=>{switch($){case"completed":return t.jsx(jt,{className:"h-4 w-4 text-green-500"});case"failed":return t.jsx(Pi,{className:"h-4 w-4 text-red-500"});case"in-progress":return null;default:return t.jsx(Lt,{className:"h-4 w-4 text-gray-500"})}},z=$=>{switch($){case"positive":return t.jsx(Na,{className:"h-4 w-4 text-green-500"});case"negative":return t.jsx(T0,{className:"h-4 w-4 text-red-500"});default:return t.jsx(ld,{className:"h-4 w-4 text-gray-500"})}},V=$=>{const B=Math.floor($/60),U=$%60;return`${B}:${U.toString().padStart(2,"0")}`},O=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format($),R=({call:$,isOpen:B,onClose:U})=>B?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:t.jsxs("div",{className:"mx-4 max-h-[90vh] w-full max-w-4xl overflow-hidden rounded-lg border border-gray-800 bg-gray-900 shadow-xl",children:[t.jsx("div",{className:"border-b border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Call Transcript"}),t.jsxs("p",{className:"text-sm text-gray-400",children:[$.customerName," "," ",U0(new Date($.startedAt),{addSuffix:!0})]})]}),t.jsx(H,{variant:"ghost",onClick:U,className:"text-gray-400 hover:text-white",children:t.jsx(Pi,{className:"h-5 w-5"})})]})}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:$.formattedTranscript&&$.formattedTranscript.length>0?t.jsx("div",{className:"space-y-4",children:$.formattedTranscript.map((te,L)=>t.jsxs("div",{className:`rounded-lg p-4 ${te.speaker==="customer"?"border-l-4 border-blue-500 bg-blue-900/20":"border-l-4 border-gray-600 bg-gray-800/50"}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[te.speaker==="customer"?t.jsx(ts,{className:"h-4 w-4 text-blue-400"}):t.jsx(xd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium capitalize text-gray-300",children:te.speaker==="customer"?"Customer":"Assistant"}),te.timestamp&&t.jsx("span",{className:"text-xs text-gray-500",children:new Date(te.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"leading-relaxed text-gray-100",children:te.text})]},L))}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(oo,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"})]})})]})}):null;return m?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsx(aa,{className:"h-8 w-8 animate-spin text-emerald-500"})}):t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(H,{variant:"ghost",onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[t.jsx(gd,{className:"h-4 w-4"}),"Back to Dashboard"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campaign Calls"}),t.jsx("p",{className:"text-gray-400",children:i==null?void 0:i.name})]})]}),t.jsxs(H,{onClick:T,className:"flex items-center gap-2 bg-emerald-600 text-white hover:bg-emerald-700",disabled:m,children:[t.jsx(aa,{className:`h-4 w-4 ${m?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:l.total})]}),t.jsx(ct,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.filter($=>$.status==="completed").length})]}),t.jsx(jt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:O(a.reduce(($,B)=>$+B.cost,0))})]}),t.jsx(Qr,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(K,{className:"border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:V(a.reduce(($,B)=>$+B.duration,0)/a.length||0)})]})})})})]}),t.jsx(K,{className:"mb-6 border-gray-800 bg-gray-900",children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ua,{className:"h-4 w-4 text-gray-400"}),t.jsx(Ee,{placeholder:"Search calls...",value:f,onChange:$=>g($.target.value),className:"w-64 border-gray-700 bg-gray-800 text-white"})]}),t.jsxs(tt,{value:y,onValueChange:w,children:[t.jsx(Qe,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(rt,{placeholder:"Status"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"all",children:"All Status"}),t.jsx(ae,{value:"completed",children:"Completed"}),t.jsx(ae,{value:"failed",children:"Failed"}),t.jsx(ae,{value:"in-progress",children:"In Progress"})]})]}),t.jsxs(tt,{value:b,onValueChange:v,children:[t.jsx(Qe,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(rt,{placeholder:"Sort by"})}),t.jsxs(Ze,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ae,{value:"started_at",children:"Date"}),t.jsx(ae,{value:"duration",children:"Duration"}),t.jsx(ae,{value:"cost",children:"Cost"})]})]}),t.jsxs(H,{variant:"outline",onClick:()=>C(N==="asc"?"desc":"asc"),className:"flex items-center gap-2 border-gray-700 text-gray-300 hover:bg-gray-800",children:[N==="asc"?"":""," ",N.toUpperCase()]})]})})}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{children:t.jsx(ye,{className:"text-xl font-semibold text-white",children:"Campaign Calls"})}),t.jsxs(G,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(R4,{children:[t.jsx(M4,{children:t.jsxs(Tf,{className:"border-gray-800",children:[t.jsx(ga,{className:"text-gray-400",children:"Customer"}),t.jsx(ga,{className:"text-gray-400",children:"Phone"}),t.jsx(ga,{className:"text-gray-400",children:"Status"}),t.jsx(ga,{className:"text-gray-400",children:"Duration"}),t.jsx(ga,{className:"text-gray-400",children:"Cost"}),t.jsx(ga,{className:"text-gray-400",children:"Sentiment"}),t.jsx(ga,{className:"text-gray-400",children:"Date"}),t.jsx(ga,{className:"text-gray-400",children:"Actions"})]})}),t.jsx(I4,{children:a.map($=>t.jsxs(Tf,{className:"border-gray-800 hover:bg-gray-800/50",children:[t.jsx(xa,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-800",children:t.jsx(ts,{className:"h-4 w-4 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:$.customerName}),$.customerEmail&&t.jsx("p",{className:"text-sm text-gray-400",children:$.customerEmail})]})]})}),t.jsx(xa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:$.customerPhone})}),t.jsx(xa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[M($.status),t.jsx(Pe,{variant:$.status==="completed"?"default":"secondary",className:"bg-gray-800 text-white",children:$.status})]})}),t.jsx(xa,{children:t.jsx("span",{className:"text-sm text-white",children:V($.duration)})}),t.jsx(xa,{children:t.jsx("span",{className:"text-sm text-white",children:O($.cost)})}),t.jsx(xa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[z($.sentiment),t.jsx("span",{className:"text-sm capitalize text-white",children:$.sentiment})]})}),t.jsx(xa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:U0(new Date($.startedAt),{addSuffix:!0})})}),t.jsx(xa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[$.hasTranscript&&t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{_($),A(!0)},className:"text-gray-400 hover:text-white",children:t.jsx(oo,{className:"h-4 w-4"})}),$.hasRecording&&t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>window.open($.recording,"_blank"),className:"text-gray-400 hover:text-white",children:t.jsx(Qn,{className:"h-4 w-4"})}),t.jsx(H,{variant:"ghost",size:"sm",onClick:()=>r(`/calls/${$.id}`),className:"text-gray-400 hover:text-white",children:t.jsx(Tr,{className:"h-4 w-4"})})]})})]},$.id))})]})}),a.length===0&&t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(ct,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No calls found for this campaign"})]})]})]}),l.totalPages>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of ",l.total," ","calls"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(H,{variant:"outline",onClick:()=>d($=>({...$,page:$.page-1})),disabled:l.page===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(mc,{className:"h-4 w-4"}),"Previous"]}),t.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",l.page," of ",l.totalPages]}),t.jsxs(H,{variant:"outline",onClick:()=>d($=>({...$,page:$.page+1})),disabled:l.page===l.totalPages,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:["Next",t.jsx(Di,{className:"h-4 w-4"})]})]})]}),S&&t.jsx(R,{call:S,isOpen:E,onClose:()=>{A(!1),_(null)}})]})})},B1e=({appointments:e,tasks:r,onAppointmentClick:s,onTaskClick:a})=>{const n=f=>{const g=new Date(f),y=new Date,w=new Date(y);return w.setDate(w.getDate()+1),g.toDateString()===y.toDateString()?"Today":g.toDateString()===w.toDateString()?"Tomorrow":g.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},i=f=>{if(!f)return"";try{const[g,y]=f.split(":"),w=parseInt(g),b=w>=12?"PM":"AM";return`${w>12?w-12:w===0?12:w}:${y} ${b}`}catch{return f}},o=(f,g)=>g==="video"?t.jsx(dA,{className:"h-4 w-4"}):g==="in_person"?t.jsx(el,{className:"h-4 w-4"}):f==="meeting"?t.jsx(Rt,{className:"h-4 w-4"}):t.jsx(ct,{className:"h-4 w-4"}),l=f=>{switch(f){case"urgent":return"text-red-400 bg-red-900/30 border-red-800";case"high":return"text-orange-400 bg-orange-900/30 border-orange-800";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-800";default:return"text-gray-400 bg-gray-900/30 border-gray-800"}},d=f=>{switch(f){case"confirmed":return t.jsx(jt,{className:"h-4 w-4 text-green-400"});case"scheduled":return t.jsx(Ut,{className:"h-4 w-4 text-blue-400"});case"tentative":return t.jsx(Lt,{className:"h-4 w-4 text-yellow-400"});default:return t.jsx(Ut,{className:"h-4 w-4 text-gray-400"})}},h=[...e.map(f=>({...f,itemType:"appointment"})),...r.map(f=>({...f,itemType:"task",date:f.due_date,time:f.due_time}))].sort((f,g)=>{const y=new Date(`${f.date} ${f.time||"00:00"}`),w=new Date(`${g.date} ${g.time||"00:00"}`);return y.getTime()-w.getTime()}).reduce((f,g)=>{const y=g.date;return f[y]||(f[y]=[]),f[y].push(g),f},{});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cs,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.jsxs("span",{className:"text-gray-400",children:[e.length," appointment",e.length!==1?"s":"",","," ",r.length," task",r.length!==1?"s":""]})})]}),Object.keys(h).length===0?t.jsxs("div",{className:"rounded-lg border border-gray-700/50 bg-gray-800/30 p-8 text-center",children:[t.jsx(cs,{className:"mx-auto h-12 w-12 text-gray-600 mb-3"}),t.jsx("p",{className:"text-gray-400",children:"No upcoming appointments or tasks"})]}):t.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([f,g])=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-px flex-1 bg-gray-700"}),t.jsx("span",{className:"text-sm font-medium text-gray-400",children:n(f)}),t.jsx("div",{className:"h-px flex-1 bg-gray-700"})]}),t.jsx("div",{className:"space-y-2",children:g.map(y=>t.jsx("div",{onClick:()=>{y.itemType==="appointment"&&s?s(y):y.itemType==="task"&&a&&a(y)},className:"group cursor-pointer rounded-lg border border-gray-700/50 bg-gray-800/50 p-4 transition-all hover:border-gray-600 hover:bg-gray-800",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"flex items-center gap-3",children:y.itemType==="appointment"?t.jsxs(t.Fragment,{children:[o(y.type,y.location_type),t.jsx("span",{className:"text-sm font-medium text-white",children:y.title}),d(y.status)]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`flex items-center gap-2 rounded px-2 py-1 text-xs font-medium border ${l(y.priority)}`,children:y.priority}),t.jsx("span",{className:"text-sm font-medium text-white",children:y.title})]})}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[y.time&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ut,{className:"h-3 w-3"}),i(y.time),y.itemType==="appointment"&&y.duration_minutes&&t.jsxs("span",{children:[" (",y.duration_minutes," min)"]})]}),y.itemType==="appointment"&&y.location_type&&t.jsxs("div",{className:"flex items-center gap-1",children:[y.location_type==="in_person"&&t.jsx(el,{className:"h-3 w-3"}),y.location_type==="video"&&t.jsx(dA,{className:"h-3 w-3"}),y.location_type==="phone"&&t.jsx(ct,{className:"h-3 w-3"}),t.jsx("span",{className:"capitalize",children:y.location_type.replace("_"," ")})]}),y.itemType==="task"&&y.category&&t.jsx("span",{className:"capitalize",children:y.category.replace("_"," ")})]}),(y.description||y.agenda)&&t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:y.description||y.agenda}),y.itemType==="appointment"&&y.preparation_notes&&t.jsx("div",{className:"mt-2 rounded bg-blue-900/20 border border-blue-800/50 p-2",children:t.jsxs("p",{className:"text-xs text-blue-400",children:["Prep: ",y.preparation_notes]})})]}),t.jsx("div",{className:"ml-4",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${y.itemType==="appointment"?"bg-blue-900/30 text-blue-400 border border-blue-800":"bg-purple-900/30 text-purple-400 border border-purple-800"}`,children:y.itemType==="appointment"?"Appointment":"Task"})})]})},y.id))})]},f))}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-700/50",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>new Date(f.date)>=new Date().setHours(0,0,0,0)&&new Date(f.date)<new Date().setHours(24,0,0,0)).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>{const g=new Date(f.date),y=new Date,w=new Date(y);return w.setDate(w.getDate()+7),g>=y&&g<=w}).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"This Week"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(f=>f.priority==="urgent"||f.priority==="high").length}),t.jsx("div",{className:"text-xs text-gray-400",children:"High Priority"})]})]})]})},W1e=({isOpen:e,onClose:r,onCreateTask:s,leadId:a})=>{const[n,i]=p.useState({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),o=()=>{if(!n.title.trim())return;const l={...n,id:`task_${Date.now()}`,lead_id:a,created_at:new Date().toISOString()};s(l),i({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),r()};return t.jsx(ol,{open:e,onOpenChange:r,children:t.jsxs(fo,{className:"max-w-2xl bg-gray-900 border-gray-800",children:[t.jsxs(po,{children:[t.jsxs(go,{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx(cA,{className:"h-5 w-5 text-emerald-400"}),"Create New Task"]}),t.jsx(ll,{className:"text-gray-400",children:"Add a task to follow up with this lead"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(re,{htmlFor:"title",className:"text-white",children:["Task Title ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx(Ee,{id:"title",value:n.title,onChange:l=>i({...n,title:l.target.value}),placeholder:"e.g., Follow up on proposal",className:"bg-gray-800 border-gray-700 text-white",autoFocus:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"description",className:"text-white",children:"Description"}),t.jsx(ya,{id:"description",value:n.description,onChange:l=>i({...n,description:l.target.value}),placeholder:"Add more details about this task...",className:"bg-gray-800 border-gray-700 text-white min-h-[80px]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"category",className:"text-white",children:"Category"}),t.jsxs(tt,{value:n.category,onValueChange:l=>i({...n,category:l}),children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"follow_up",children:"Follow Up"}),t.jsx(ae,{value:"call",children:"Phone Call"}),t.jsx(ae,{value:"email",children:"Email"}),t.jsx(ae,{value:"meeting",children:"Meeting"}),t.jsx(ae,{value:"proposal",children:"Proposal"}),t.jsx(ae,{value:"contract",children:"Contract"}),t.jsx(ae,{value:"research",children:"Research"}),t.jsx(ae,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"priority",className:"text-white",children:"Priority"}),t.jsxs(tt,{value:n.priority,onValueChange:l=>i({...n,priority:l}),children:[t.jsx(Qe,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(rt,{})}),t.jsxs(Ze,{className:"bg-gray-800 border-gray-700",children:[t.jsx(ae,{value:"urgent",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Lt,{className:"h-4 w-4 text-red-400"}),"Urgent"]})}),t.jsx(ae,{value:"high",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Lt,{className:"h-4 w-4 text-orange-400"}),"High"]})}),t.jsx(ae,{value:"medium",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Lt,{className:"h-4 w-4 text-yellow-400"}),"Medium"]})}),t.jsx(ae,{value:"low",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Lt,{className:"h-4 w-4 text-gray-400"}),"Low"]})})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(re,{htmlFor:"due_date",className:"text-white flex items-center gap-2",children:[t.jsx(cs,{className:"h-4 w-4"}),"Due Date"]}),t.jsx(Ee,{id:"due_date",type:"date",value:n.due_date,onChange:l=>i({...n,due_date:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(re,{htmlFor:"due_time",className:"text-white flex items-center gap-2",children:[t.jsx(Ut,{className:"h-4 w-4"}),"Due Time"]}),t.jsx(Ee,{id:"due_time",type:"time",value:n.due_time,onChange:l=>i({...n,due_time:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"notes",className:"text-white",children:"Additional Notes"}),t.jsx(ya,{id:"notes",value:n.notes,onChange:l=>i({...n,notes:l.target.value}),placeholder:"Any additional information...",className:"bg-gray-800 border-gray-700 text-white min-h-[60px]"})]})]}),t.jsxs(Yd,{children:[t.jsx(H,{variant:"outline",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsxs(H,{onClick:o,disabled:!n.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[t.jsx(cA,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})]})})};function V1e(){const e=vr(),{leadId:r}=Of(),{toast:s}=Vr(),a=Uee(),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,b]=p.useState(!1),v=p.useRef(null),[N,C]=p.useState([]),[S,_]=p.useState([]),[E,A]=p.useState([]),[T,M]=p.useState([]),[z,V]=p.useState(null),[O,R]=p.useState(!1),[$,B]=p.useState(!1),[U,te]=p.useState({status:"new",customerId:"",lastActivity:{date:"",type:""},owner:{id:"",name:"Unassigned",role:"",initials:"NA"},personalDetails:{firstName:"",lastName:"",email:"",phone:"",position:"",website:""},companyInfo:{company:"",industry:""},companyDetails:{foundedYear:"",employees:"",revenue:"",headquarters:"",description:"",website:"",linkedIn:"",type:"",tags:[]},socialMedia:{linkedin:"",twitter:"",facebook:"https://facebook.com/john.doe",instagram:"https://instagram.com/johndoe",youtube:"",tiktok:"",github:"",website:"https://johndoe.dev"},aiCallSummary:"Customer showed strong interest in our enterprise features. Regarding implementation, the customer prefers a phased rollout starting with their core team of 15 users, then expanding to the full organization over 3-4 months. They have dedicated project management resources and are willing to assign a technical lead to work closely with our implementation team. Training is critical as their staff has varying levels of technical expertise. The competitive landscape includes two other vendors they're actively evaluating. One is a legacy solution that's significantly cheaper but lacks modern features. The other is a newer startup with innovative features but concerns about long-term viability. Our solution was positioned as the best balance of reliability, features, and cost. Next steps include scheduling a technical deep-dive demo for next Tuesday at 2 PM EST with their IT Director, CTO, and lead developer. They also requested a detailed implementation timeline and cost breakdown including training and support options. Customer indicated they want to make a final decision by end of January.",notes:[{id:"note_571135000001729018",content:`Pramod was primarily interested in social media management & ads and email marketing (want to focus on incoming traffic as they're working on automating everything).
Sean will send a breakdown of the services we can offer them based on what he said they're looking for`,module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-19T15:40:00Z",createdBy:"Khalid Adib",lastUpdated:"2024-09-19T15:40:00Z",tag:"meeting"},{id:"note_571135000001729019",content:"Follow-up call scheduled for next week to discuss pricing and implementation timeline. Customer seems very interested in our automation solutions.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-18T10:30:00Z",createdBy:"Sean Wentz",lastUpdated:"2024-09-18T10:30:00Z",tag:"follow-up"},{id:"note_571135000001729020",content:"Initial discovery call completed. Budget confirmed at $5k-10k range. Decision maker identified. Next step is technical assessment.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-17T14:15:00Z",createdBy:"John Doe",lastUpdated:"2024-09-17T14:15:00Z",tag:"call"}],address:{street:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",country:"United States"}}),[L,F]=p.useState(!1),[q,ee]=p.useState(!1),[W,Z]=p.useState(!1),[ve,ne]=p.useState(!1),[I,we]=p.useState(!1),[le,ke]=p.useState(!1),[J,Ce]=p.useState(!1),[fe,Q]=p.useState(!1),[he,Se]=p.useState(!1),[Te,ce]=p.useState(!1),[Ve,ht]=p.useState("Recent Last"),[de,Le]=p.useState(!1),[nt,xt]=p.useState(""),[ar,qr]=p.useState(null),[Gt,Zt]=p.useState("general"),[Kr,gr]=p.useState("all"),[Ye,xr]=p.useState(!1),[kr,_a]=p.useState(""),[ur,fs]=p.useState(""),[Yt,on]=p.useState(null),[Mt,zt]=p.useState({}),[oe,Ne]=p.useState(U.personalDetails),[Be,lt]=p.useState(U.companyInfo),[Nt,ir]=p.useState({street:"",city:"",state:"",zipCode:"",country:"United States"}),[_t,Pa]=p.useState(U.owner),[_s,Aa]=p.useState(U.companyDetails),[oa,as]=p.useState(U.socialMedia),ps=["1-10","11-50","51-200","201-500","501-1000","1001-5000","5001-10000","10000+"],$s=["Under $1M","$1M - $5M","$5M - $10M","$10M - $50M","$50M - $100M","$100M - $500M","$500M - $1B","Over $1B"],Wa=["Private Company","Public Company","LLC","Corporation","Partnership","Sole Proprietorship","Non-profit","Government","Startup","Other"],Xs=[{value:"general",label:"General",color:"bg-gray-600",textColor:"text-gray-300"},{value:"task",label:"Task",color:"bg-blue-600",textColor:"text-blue-300"},{value:"meeting",label:"Meeting",color:"bg-green-600",textColor:"text-green-300"},{value:"call",label:"Call",color:"bg-purple-600",textColor:"text-purple-300"},{value:"email",label:"Email",color:"bg-orange-600",textColor:"text-orange-300"},{value:"follow-up",label:"Follow-up",color:"bg-yellow-600",textColor:"text-yellow-300"},{value:"urgent",label:"Urgent",color:"bg-red-600",textColor:"text-red-300"},{value:"reminder",label:"Reminder",color:"bg-indigo-600",textColor:"text-indigo-300"}],Va=[{value:"New",color:"bg-blue-500",textColor:"text-blue-400"},{value:"Contacted",color:"bg-yellow-500",textColor:"text-yellow-400"},{value:"Qualified",color:"bg-green-500",textColor:"text-green-400"},{value:"Proposal",color:"bg-purple-500",textColor:"text-purple-400"},{value:"Negotiation",color:"bg-orange-500",textColor:"text-orange-400"},{value:"Closed Won",color:"bg-emerald-500",textColor:"text-emerald-400"},{value:"Closed Lost",color:"bg-red-500",textColor:"text-red-400"},{value:"On Hold",color:"bg-gray-500",textColor:"text-gray-400"}],Ea=()=>Va.find(X=>X.value===U.status)||Va[2],Bi=X=>{te(_e=>({..._e,status:X,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`Status changed to ${X}`}})),b(!1)};p.useEffect(()=>{const X=_e=>{v.current&&!v.current.contains(_e.target)&&b(!1)};return w&&document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[w]);const Pt=(X,_e)=>{on(X),zt({[X]:_e})},nr=(X,_e)=>{const _r=Mt[X];te(xs=>{const Gr={...xs},Ka=X.split(".");return Ka.length===2?Gr[Ka[0]]={...Gr[Ka[0]],[Ka[1]]:_r}:Gr[X]=_r,Gr.lastActivity={date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`${X} updated`},Gr}),on(null),zt({})},Oe=()=>{on(null),zt({})},ot=()=>{te(X=>({...X,personalDetails:oe,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Personal details updated"}})),F(!1)},ft=()=>{Ne(U.personalDetails),F(!1)},Tt=()=>{te(X=>({...X,address:Nt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Address updated"}})),ee(!1)},It=()=>{ir(U.address),ee(!1)},Wi=()=>{Pa(U.owner),Z(!0)},oi=async()=>{try{const{error:X}=await Xe.from("leads").update({uploaded_by:_t.id||null}).eq("id",r);if(X)throw X;te(_e=>({..._e,owner:_t,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Lead owner updated"}})),Z(!1),s({title:"Success",description:"Lead owner updated successfully"})}catch(X){console.error("Error updating lead owner:",X),s({title:"Error",description:"Failed to update lead owner",variant:"destructive"})}},la=()=>{Pa(U.owner),Z(!1)},Mr=async()=>{try{await navigator.clipboard.writeText(U.aiCallSummary)}catch(X){console.error("Failed to copy AI Call Summary:",X)}},Ha=X=>new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Nc=X=>new Date(X).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),or=()=>{if(!nt.trim())return;const X={id:`note_${Date.now()}`,content:nt,module:"Lead",recordName:U.personalDetails.firstName+" "+U.personalDetails.lastName,recordId:"lead_current",createdAt:new Date().toISOString(),createdBy:"Current User",lastUpdated:new Date().toISOString(),tag:Gt};if(Gt==="reminder"&&kr&&ur){const _e=new Date(`${kr}T${ur}`);Jd(nt,_e),X.content=`${nt}

 Reminder set for: ${_e.toLocaleString()}`}te(_e=>({..._e,notes:[X,..._e.notes],lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note added"}})),xt(""),Zt("general"),_a(""),fs(""),xr(!1),Le(!1)},An=X=>{V(X),R(!0)},En=async()=>{if(z)try{const X=U.notes.filter(_e=>_e.id!==z);if(te(_e=>({..._e,notes:X,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note deleted"}})),r){const{data:_e,error:_r}=await Xe.from("leads").select("custom_fields").eq("id",r).single();if(_r)throw _r;const{error:xs}=await Xe.from("leads").update({custom_fields:{..._e.custom_fields,notes:X},updated_at:new Date().toISOString()}).eq("id",r);xs?(console.error("Error deleting note:",xs),s({title:"Error",description:"Failed to delete note. Please try again.",variant:"destructive"}),te(Gr=>({...Gr,notes:U.notes}))):s({title:"Success",description:"Note deleted successfully"})}}catch(X){console.error("Error deleting note:",X),s({title:"Error",description:"Failed to delete note",variant:"destructive"})}finally{R(!1),V(null)}},gs=()=>{R(!1),V(null)},zs=()=>{let X=U.notes.filter(_e=>_e.tag!=="ai-summary"&&_e.createdBy!=="AI System");return Kr!=="all"&&(X=X.filter(_e=>_e.tag===Kr)),Ve==="Recent First"?X.sort((_e,_r)=>new Date(_r.createdAt).getTime()-new Date(_e.createdAt).getTime()):X.sort((_e,_r)=>new Date(_e.createdAt).getTime()-new Date(_r.createdAt).getTime())},No=X=>Xs.find(_e=>_e.value===X)||Xs[0],Jd=(X,_e)=>{const _r=`${U.personalDetails.firstName} ${U.personalDetails.lastName}`,xs=_e.getTime()-Date.now();xs>0&&setTimeout(()=>{a.info("Reminder",`${X}`,{category:"system",source:"leads",priority:"medium",persistent:!0,metadata:{leadId:U.personalDetails.firstName+U.personalDetails.lastName,leadName:_r,type:"reminder",originalContent:X,scheduledFor:_e.toISOString()},action:{label:"View Lead",href:`/leads/${U.personalDetails.firstName}`}})},xs)};p.useEffect(()=>{xr(Gt==="reminder")},[Gt]),p.useEffect(()=>{(async()=>{var _e,_r,xs,Gr,Ka,li,Vi,Cc,Re,Ue,yt,Ct,br,So,Ta,St,Tn,ys,ln,Ir,ca,Dr,Oa,Co,ci,di,ui,xl,yl,mi,jp,Vm,vl,Np,Hm,kc,qm,Sp,bl,wl,ko,_c,Cp,kp,Xd;if(!r){s({title:"Error",description:"No lead ID provided",variant:"destructive"}),e("/crm");return}try{i(!0);const{data:We,error:Km}=await Xe.from("leads").select(`
            *,
            uploaded_by:users!leads_uploaded_by_fkey(
              id,
              first_name,
              last_name,
              role
            ),
            campaigns(
              id,
              name
            )
          `).eq("id",r).single();if(Km||!We)throw new Error("Lead not found");te({status:We.qualification_status||We.status||"new",customerId:We.id.substring(0,8).toUpperCase(),lastActivity:{date:We.last_call_at?new Date(We.last_call_at).toLocaleString():"No activity",type:We.last_call_at?"Call":"None"},owner:{id:((_e=We.uploaded_by)==null?void 0:_e.id)||"",name:We.uploaded_by?`${We.uploaded_by.first_name} ${We.uploaded_by.last_name}`:"Unassigned",role:((_r=We.uploaded_by)==null?void 0:_r.role)||"",initials:We.uploaded_by?`${((xs=We.uploaded_by.first_name)==null?void 0:xs[0])||""}${((Gr=We.uploaded_by.last_name)==null?void 0:Gr[0])||""}`.toUpperCase():"NA"},personalDetails:{firstName:We.first_name||"",lastName:We.last_name||"",email:((Ka=We.custom_fields)==null?void 0:Ka.email)||We.email||"",phone:We.phone||"",position:((li=We.custom_fields)==null?void 0:li.job_title)||We.job_title||"",website:((Vi=We.custom_fields)==null?void 0:Vi.website)||""},companyInfo:{company:((Cc=We.custom_fields)==null?void 0:Cc.company)||We.company||"",industry:((Re=We.custom_fields)==null?void 0:Re.industry)||""},companyDetails:{foundedYear:((Ue=We.custom_fields)==null?void 0:Ue.foundedYear)||"",employees:((yt=We.custom_fields)==null?void 0:yt.employees)||"",revenue:((Ct=We.custom_fields)==null?void 0:Ct.revenue)||"",headquarters:`${We.city||""}, ${We.state||""}`.trim().replace(/^,\s*/,""),description:((br=We.custom_fields)==null?void 0:br.description)||"",website:((So=We.custom_fields)==null?void 0:So.website)||"",linkedIn:((Ta=We.custom_fields)==null?void 0:Ta.linkedIn)||"",type:((St=We.custom_fields)==null?void 0:St.type)||"",tags:((Tn=We.custom_fields)==null?void 0:Tn.tags)||[]},socialMedia:{linkedin:((ln=(ys=We.custom_fields)==null?void 0:ys.socialMedia)==null?void 0:ln.linkedin)||"",twitter:((ca=(Ir=We.custom_fields)==null?void 0:Ir.socialMedia)==null?void 0:ca.twitter)||"",facebook:((Oa=(Dr=We.custom_fields)==null?void 0:Dr.socialMedia)==null?void 0:Oa.facebook)||"",instagram:((ci=(Co=We.custom_fields)==null?void 0:Co.socialMedia)==null?void 0:ci.instagram)||"",youtube:((ui=(di=We.custom_fields)==null?void 0:di.socialMedia)==null?void 0:ui.youtube)||"",tiktok:((yl=(xl=We.custom_fields)==null?void 0:xl.socialMedia)==null?void 0:yl.tiktok)||""},address:{street:((mi=We.custom_fields)==null?void 0:mi.address_line1)||We.address_line1||"",city:((jp=We.custom_fields)==null?void 0:jp.city)||We.city||"",state:((Vm=We.custom_fields)==null?void 0:Vm.state)||We.state||"",zipCode:((vl=We.custom_fields)==null?void 0:vl.postal_code)||We.postal_code||"",country:((Np=We.custom_fields)==null?void 0:Np.country)||We.country||"United States"},aiCallSummary:((qm=(kc=(Hm=We.custom_fields)==null?void 0:Hm.notes)==null?void 0:kc[0])==null?void 0:qm.content)||((Sp=We.custom_fields)==null?void 0:Sp.aiCallSummary)||((ko=(wl=(bl=We.custom_fields)==null?void 0:bl.ultraDetailedBrief)==null?void 0:wl.executiveSummary)==null?void 0:ko.nextAction)||"",notes:Array.isArray((_c=We.custom_fields)==null?void 0:_c.notes)?We.custom_fields.notes:[]});const{data:Qd}=await Xe.from("calls").select("*").eq("lead_id",r).order("created_at",{ascending:!1});if(Qd){C(Qd);const lr=Qd.find(Lr=>Lr.notes||Lr.summary||Lr.ultra_detailed_brief);lr&&te(Lr=>{var _o,Gm;return{...Lr,aiCallSummary:lr.notes||lr.summary||((Gm=(_o=lr.ultra_detailed_brief)==null?void 0:_o.executiveSummary)==null?void 0:Gm.nextAction)||Lr.aiCallSummary}})}try{const{data:lr,error:Lr}=await Xe.from("appointments").select("*").eq("lead_id",r).order("date",{ascending:!0});!Lr&&lr?A(lr):Lr&&console.log("Appointments table not available:",Lr.message)}catch{console.log("Could not fetch appointments")}try{const{data:lr,error:Lr}=await Xe.from("tasks").select("*").eq("lead_id",r).eq("status","pending").order("due_date",{ascending:!0});!Lr&&lr?M(lr):Lr&&console.log("Tasks table not available:",Lr.message)}catch{console.log("Could not fetch tasks")}if(We.custom_fields&&(((Cp=We.custom_fields.upcomingAppointments)==null?void 0:Cp.length)>0&&A(lr=>[...lr,...We.custom_fields.upcomingAppointments]),((kp=We.custom_fields.pendingTasks)==null?void 0:kp.length)>0&&M(lr=>[...lr,...We.custom_fields.pendingTasks]),((Xd=We.custom_fields.missingInfo)==null?void 0:Xd.length)>0)){const lr=We.custom_fields.missingInfo.map((Lr,_o)=>({id:`missing-${_o}`,title:`Get ${Lr.field}`,description:Lr.question,priority:Lr.importance==="critical"?"high":"medium",category:"follow_up",due_date:new Date(Date.now()+864e5).toISOString().split("T")[0]}));M(Lr=>[...Lr,...lr])}if(We.organization_id){const{data:lr}=await Xe.from("users").select("id, first_name, last_name, email, role").eq("organization_id",We.organization_id).order("first_name");lr&&_(lr)}}catch(We){console.error("Error fetching lead data:",We),s({title:"Error",description:"Failed to load lead data",variant:"destructive"}),e("/crm")}finally{i(!1)}})()},[r,e,s]);const gl=N.map(X=>({id:X.id,date:X.started_at?new Date(X.started_at).toLocaleDateString():"N/A",time:X.started_at?new Date(X.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",duration:X.duration?`${Math.floor(X.duration/60)}:${(X.duration%60).toString().padStart(2,"0")}`:"N/A",outcome:X.outcome||X.status||"Unknown",sentiment:X.sentiment||"N/A",cost:X.cost?`$${X.cost.toFixed(2)}`:"$0.00",status:X.status||"unknown",...X})),qa=X=>{const _e={id:X.id,duration:parseInt(X.duration.split(":")[0])*60+parseInt(X.duration.split(":")[1]),transcript:[{speaker:"user",text:"Hello? Alright."},{speaker:"ai",text:"Hello. Is it possible to speak to Harris, please?"},{speaker:"user",text:"Speaking."},{speaker:"ai",text:"Hi, Harris. This is Joanne calling from Emerald Green Energy. You spoke to 1 of our reps who was in your area about solar energy for your property. Does that sound familiar?"},{speaker:"user",text:"Yes. That sounds familiar."},{speaker:"ai",text:"Great. Thanks for confirming. I hope you've been enjoying the nice weather. So just to check, was solar something you'd considered before our rep visit? Or was it more of a new idea when they spoke to you?"}],recording:"/mock-audio.wav",analysis:{sentiment:X.sentiment==="Positive"?.75:X.sentiment==="Neutral"?.5:.25,keywords:["solar energy","property","rep visit"],summary:`Call with ${X.outcome.toLowerCase()} outcome. Duration: ${X.duration}`},cost:parseFloat(X.cost.replace("$","")),messages:[{type:"info",content:`Call initiated at ${X.time}`,timestamp:Date.now()-864e5},{type:"success",content:`Call completed with ${X.outcome} outcome`,timestamp:Date.now()}]};f(_e),y(!0)},Sc=async X=>{try{const{data:_e,error:_r}=await Xe.from("tasks").insert([{...X,lead_id:r,organization_id:U.organizationId,created_by:U.owner.id||"system"}]).select().single();if(_r){console.log("Tasks table not available, saving to custom_fields");const xs=[...T,X],{error:Gr}=await Xe.from("leads").update({custom_fields:{...U.customFields,pendingTasks:xs}}).eq("id",r);if(Gr)throw Gr;M(xs),s({title:"Task Created",description:`Task "${X.title}" has been added successfully.`})}else M([...T,_e]),s({title:"Task Created",description:`Task "${X.title}" has been added successfully.`})}catch(_e){console.error("Error creating task:",_e),s({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent mx-auto"}),t.jsx("p",{className:"text-gray-400",children:"Loading lead data..."})]})}):t.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[t.jsx("div",{className:"sticky top-0 z-30 flex-shrink-0 border-b border-gray-800 bg-gray-900/90",children:t.jsx("div",{className:"px-6 py-4",children:t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsxs(H,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>e("/crm"),children:[t.jsx(mc,{className:"mr-1 h-4 w-4"}),"Back to CRM"]})})})}),t.jsxs("div",{className:"flex-1 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"mb-6 flex items-center justify-between",children:t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Lead Overview"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx("div",{className:"relative rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",ref:v,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Status"}),t.jsxs("div",{className:"-m-2 flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-700/30",onClick:()=>b(!w),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${Ea().color}`}),t.jsx("span",{className:"font-medium text-white",children:U.status}),t.jsx(os,{className:`ml-auto h-4 w-4 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&t.jsx("div",{className:"absolute left-0 right-0 top-full z-50 mt-2 rounded-lg border border-gray-700 bg-gray-800 shadow-xl",children:t.jsx("div",{className:"space-y-1 p-2",children:Va.map(X=>t.jsxs("div",{className:`flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors ${U.status===X.value?"bg-gray-700/50":"hover:bg-gray-700/30"}`,onClick:()=>Bi(X.value),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${X.color}`}),t.jsx("span",{className:`font-medium ${X.textColor}`,children:X.value})]},X.value))})})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Customer ID"}),t.jsx("span",{className:"font-mono text-lg text-white",children:U.customerId})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Last Activity"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium text-white",children:U.lastActivity.date}),t.jsx("div",{className:"text-sm text-gray-400",children:U.lastActivity.type})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Owner"}),W?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:oi,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:la,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]}):t.jsx("button",{onClick:Wi,className:"text-gray-500 transition-colors hover:text-gray-300",children:t.jsx(dr,{className:"h-4 w-4"})})]}),W?t.jsx("div",{children:t.jsxs("select",{value:_t.id,onChange:X=>{var _r,xs;const _e=S.find(Gr=>Gr.id===X.target.value);_e&&Pa({id:_e.id,name:`${_e.first_name} ${_e.last_name}`,role:_e.role,initials:`${((_r=_e.first_name)==null?void 0:_r[0])||""}${((xs=_e.last_name)==null?void 0:xs[0])||""}`.toUpperCase()})},className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:[t.jsx("option",{value:"",children:"Unassigned"}),S.map(X=>t.jsxs("option",{value:X.id,children:[X.first_name," ",X.last_name," - ",X.role]},X.id))]})}):t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:U.owner.initials})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-white",children:U.owner.name}),t.jsx("div",{className:"text-sm text-gray-400",children:U.owner.role})]})]})]})})]})]}),t.jsx("div",{className:`${o?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${o?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${o?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ts,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Personal Details"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!o&&L&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:ot,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:ft,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>l(!o),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`})})]})]}),!o&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"First Name"}),Yt!=="personalDetails.firstName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:U.personalDetails.firstName}),t.jsx("button",{onClick:()=>Pt("personalDetails.firstName",U.personalDetails.firstName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["personalDetails.firstName"]||"",onChange:X=>zt(_e=>({..._e,"personalDetails.firstName":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.firstName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Last Name"}),Yt!=="personalDetails.lastName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:U.personalDetails.lastName}),t.jsx("button",{onClick:()=>Pt("personalDetails.lastName",U.personalDetails.lastName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["personalDetails.lastName"]||"",onChange:X=>zt(_e=>({..._e,"personalDetails.lastName":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.lastName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),Yt!=="personalDetails.email"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.email}),t.jsx("button",{onClick:()=>Pt("personalDetails.email",U.personalDetails.email),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:Mt["personalDetails.email"]||"",onChange:X=>zt(_e=>({..._e,"personalDetails.email":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.email"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Phone"}),Yt!=="personalDetails.phone"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.phone}),t.jsx("button",{onClick:()=>Pt("personalDetails.phone",U.personalDetails.phone),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:Mt["personalDetails.phone"]||"",onChange:X=>zt(_e=>({..._e,"personalDetails.phone":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.phone"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Position"}),Yt!=="personalDetails.position"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.position}),t.jsx("button",{onClick:()=>Pt("personalDetails.position",U.personalDetails.position),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["personalDetails.position"]||"",onChange:X=>zt(_e=>({..._e,"personalDetails.position":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.position"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Website"}),Yt!=="personalDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.website}),t.jsx("button",{onClick:()=>Pt("personalDetails.website",U.personalDetails.website),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["personalDetails.website"]||"",onChange:X=>zt(_e=>({..._e,"personalDetails.website":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("personalDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700/50 pt-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx(rr,{className:"h-4 w-4 text-purple-500"}),t.jsx("h4",{className:"font-medium text-white",children:"Company Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company"}),Yt!=="companyInfo.company"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyInfo.company}),t.jsx("button",{onClick:()=>Pt("companyInfo.company",U.companyInfo.company),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["companyInfo.company"]||"",onChange:X=>zt(_e=>({..._e,"companyInfo.company":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyInfo.company"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry"}),Yt!=="companyInfo.industry"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyInfo.industry}),t.jsx("button",{onClick:()=>Pt("companyInfo.industry",U.companyInfo.industry),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["companyInfo.industry"]||"",onChange:X=>zt(_e=>({..._e,"companyInfo.industry":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyInfo.industry"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]})]})]})]})]})}),t.jsx("div",{className:`${d?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${d?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${d?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(el,{className:"h-5 w-5 text-green-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Address Information"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!d&&q&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Tt,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:It,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>m(!d),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${d?"rotate-180":""}`})})]})]}),!d&&t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2 md:col-span-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Street Address"}),Yt!=="address.street"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.street}),t.jsx("button",{onClick:()=>Pt("address.street",U.address.street),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["address.street"]||"",onChange:X=>zt(_e=>({..._e,"address.street":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("address.street"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"City"}),Yt!=="address.city"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.city}),t.jsx("button",{onClick:()=>Pt("address.city",U.address.city),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["address.city"]||"",onChange:X=>zt(_e=>({..._e,"address.city":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("address.city"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"State"}),q?t.jsx("input",{type:"text",value:Nt.state,onChange:X=>ir(_e=>({..._e,state:X.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.state}),t.jsx("button",{onClick:()=>{ir(U.address),ee(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"ZIP Code"}),q?t.jsx("input",{type:"text",value:Nt.zipCode,onChange:X=>ir(_e=>({..._e,zipCode:X.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.zipCode}),t.jsx("button",{onClick:()=>{ir(U.address),ee(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Country"}),q?t.jsx("input",{type:"text",value:Nt.country,onChange:X=>ir(_e=>({..._e,country:X.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.country}),t.jsx("button",{onClick:()=>{ir(U.address),ee(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})})]})]})]})}),t.jsx("div",{className:`${I?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${I?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${I?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Jx,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Company Details"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>we(!I),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${I?"rotate-180":""}`})})})]}),!I&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Founded Year"}),Yt!=="companyDetails.foundedYear"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.foundedYear}),t.jsx("button",{onClick:()=>Pt("companyDetails.foundedYear",U.companyDetails.foundedYear),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["companyDetails.foundedYear"]||"",onChange:X=>zt(_e=>({..._e,"companyDetails.foundedYear":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyDetails.foundedYear"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Employees"}),Yt!=="companyDetails.employees"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.employees}),t.jsx("button",{onClick:()=>Pt("companyDetails.employees",U.companyDetails.employees),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(tt,{value:Mt["companyDetails.employees"]||"",onValueChange:X=>zt(_e=>({..._e,"companyDetails.employees":X})),children:[t.jsx(Qe,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(rt,{placeholder:"Select employee count"})}),t.jsx(Ze,{children:ps.map(X=>t.jsx(ae,{value:X,children:X},X))})]}),t.jsx("button",{onClick:()=>nr("companyDetails.employees"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Annual Revenue"}),Yt!=="companyDetails.revenue"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.revenue}),t.jsx("button",{onClick:()=>Pt("companyDetails.revenue",U.companyDetails.revenue),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(tt,{value:Mt["companyDetails.revenue"]||"",onValueChange:X=>zt(_e=>({..._e,"companyDetails.revenue":X})),children:[t.jsx(Qe,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(rt,{placeholder:"Select revenue range"})}),t.jsx(Ze,{children:$s.map(X=>t.jsx(ae,{value:X,children:X},X))})]}),t.jsx("button",{onClick:()=>nr("companyDetails.revenue"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Headquarters"}),Yt!=="companyDetails.headquarters"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.headquarters}),t.jsx("button",{onClick:()=>Pt("companyDetails.headquarters",U.companyDetails.headquarters),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Mt["companyDetails.headquarters"]||"",onChange:X=>zt(_e=>({..._e,"companyDetails.headquarters":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("companyDetails.headquarters"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Type"}),Yt!=="companyDetails.type"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.type}),t.jsx("button",{onClick:()=>Pt("companyDetails.type",U.companyDetails.type),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(tt,{value:Mt["companyDetails.type"]||"",onValueChange:X=>zt(_e=>({..._e,"companyDetails.type":X})),children:[t.jsx(Qe,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(rt,{placeholder:"Select company type"})}),t.jsx(Ze,{children:Wa.map(X=>t.jsx(ae,{value:X,children:X},X))})]}),t.jsx("button",{onClick:()=>nr("companyDetails.type"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Website"}),Yt!=="companyDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:t.jsx("a",{href:U.companyDetails.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.companyDetails.website})}),t.jsx("button",{onClick:()=>Pt("companyDetails.website",U.companyDetails.website),className:"opacity-0 text-gray-400 transition-opacity group-hover:opacity-100 hover:text-white",children:t.jsx(dr,{size:16})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["companyDetails.website"]||"",onChange:X=>zt(_e=>({..._e,"companyDetails.website":X.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}),t.jsx("button",{onClick:()=>nr("companyDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Check,{size:16})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{size:16})})]})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Description"}),Yt!=="companyDetails.description"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:"font-medium leading-relaxed text-white pr-8",children:U.companyDetails.description}),t.jsx("button",{onClick:()=>Pt("companyDetails.description",U.companyDetails.description),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100 flex-shrink-0",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("textarea",{value:Mt["companyDetails.description"]||"",onChange:X=>zt(_e=>({..._e,"companyDetails.description":X.target.value})),rows:3,className:"flex-1 resize-none rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{onClick:()=>nr("companyDetails.description"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry Tags"}),ve?t.jsx("input",{type:"text",value:_s.tags.join(", "),onChange:X=>Aa(_e=>({..._e,tags:X.target.value.split(", ").filter(_r=>_r.trim())})),placeholder:"Enter tags separated by commas",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:U.companyDetails.tags.map((X,_e)=>t.jsx("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-sm text-blue-400",children:X},_e))})]})]})]})}),t.jsx("div",{className:`${fe?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${fe?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${fe?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(EY,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Social Media Profiles"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>Q(!fe),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${fe?"rotate-180":""}`})})})]}),!fe&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(rr,{className:"h-4 w-4"}),"Professional Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"LinkedIn"}),Yt!=="socialMedia.linkedin"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.linkedin?t.jsx("a",{href:U.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.linkedin}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.linkedin",U.socialMedia.linkedin||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.linkedin"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.linkedin":X.target.value})),placeholder:"https://linkedin.com/in/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.linkedin"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"GitHub"}),Yt!=="socialMedia.github"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.github?t.jsx("a",{href:U.socialMedia.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.github}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.github",U.socialMedia.github||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.github"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.github":X.target.value})),placeholder:"https://github.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.github"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(ts,{className:"h-4 w-4"}),"Social Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Twitter"}),Yt!=="socialMedia.twitter"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.twitter?t.jsx("a",{href:U.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.twitter}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.twitter",U.socialMedia.twitter||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.twitter"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.twitter":X.target.value})),placeholder:"https://twitter.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.twitter"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Facebook"}),Yt!=="socialMedia.facebook"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.facebook?t.jsx("a",{href:U.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.facebook}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.facebook",U.socialMedia.facebook||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.facebook"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.facebook":X.target.value})),placeholder:"https://facebook.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.facebook"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Instagram"}),Yt!=="socialMedia.instagram"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.instagram?t.jsx("a",{href:U.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.instagram}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.instagram",U.socialMedia.instagram||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.instagram"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.instagram":X.target.value})),placeholder:"https://instagram.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.instagram"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"TikTok"}),Yt!=="socialMedia.tiktok"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.tiktok?t.jsx("a",{href:U.socialMedia.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.tiktok}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.tiktok",U.socialMedia.tiktok||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.tiktok"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.tiktok":X.target.value})),placeholder:"https://tiktok.com/@username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.tiktok"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(Vo,{className:"h-4 w-4"}),"Video Platforms"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"YouTube"}),Yt!=="socialMedia.youtube"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.youtube?t.jsx("a",{href:U.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.youtube}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>Pt("socialMedia.youtube",U.socialMedia.youtube||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(dr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Mt["socialMedia.youtube"]||"",onChange:X=>zt(_e=>({..._e,"socialMedia.youtube":X.target.value})),placeholder:"https://youtube.com/channel/...",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>nr("socialMedia.youtube"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Wt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:Oe,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(At,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Personal Website"}),J?t.jsx("input",{type:"url",value:oa.website,onChange:X=>as(_e=>({..._e,website:X.target.value})),placeholder:"https://personal-website.com",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.website?t.jsx("a",{href:U.socialMedia.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.website}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})})]})]})]})]})]})}),t.jsx("div",{className:`${he?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:`${he?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xd,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Call Summary"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!he&&t.jsxs("button",{onClick:Mr,className:"flex items-center gap-2 rounded-lg bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600/50 hover:text-white",children:[t.jsx(Hn,{className:"h-4 w-4"}),"Copy"]}),t.jsx("button",{onClick:()=>Se(!he),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${he?"rotate-180":""}`})})]})]}),!he&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"rounded-lg border border-gray-700/50 bg-gray-900/30 p-4",children:t.jsx("p",{className:"leading-relaxed text-gray-300",children:U.aiCallSummary})}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:"Generated from last call"}),t.jsx("span",{children:""}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})}),t.jsxs("div",{className:"mb-6 rounded-xl border border-gray-700/50 bg-gray-800/50 p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cs,{className:"h-5 w-5 text-emerald-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsxs(H,{onClick:()=>B(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",children:[t.jsx(Br,{className:"h-4 w-4 mr-1"}),"Add Task"]})]}),t.jsx(B1e,{appointments:E,tasks:T,onAppointmentClick:X=>console.log("Appointment clicked:",X),onTaskClick:X=>console.log("Task clicked:",X)})]}),t.jsx("div",{className:`${Te?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Te?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Te?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(oo,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"cursor-pointer text-lg font-semibold text-white transition-colors hover:text-gray-300",onClick:()=>ce(!Te),children:"Notes"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!Te&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Kr,onChange:X=>gr(X.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Tags"}),Xs.map(X=>t.jsx("option",{value:X.value,children:X.label},X.value))]})}),!Te&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Ve,onChange:X=>ht(X.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"Recent Last",children:"Recent Last"}),t.jsx("option",{value:"Recent First",children:"Recent First"})]})}),t.jsx("button",{onClick:()=>ce(!Te),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${Te?"rotate-180":""}`})})]})]}),!Te&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"space-y-4",children:zs().map(X=>t.jsxs("div",{className:"group flex gap-4",children:[t.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-600 text-sm font-medium text-white",children:X.createdBy?X.createdBy.charAt(0).toUpperCase():"N"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all hover:border-gray-600/50",children:[t.jsx("div",{className:"mb-3 flex items-center gap-2",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${No(X.tag).color} ${No(X.tag).textColor}`,children:No(X.tag).label})}),t.jsx("div",{className:"mb-4 whitespace-pre-wrap leading-relaxed text-gray-300",children:X.content}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-blue-400",children:X.module}),t.jsx("span",{children:"-"}),t.jsx("a",{href:`#/leads/${X.recordId}`,className:"text-blue-400 transition-colors hover:text-blue-300",title:X.recordName,children:X.recordName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"cursor-pointer text-gray-400 transition-colors hover:text-blue-400",onClick:()=>Le(!0),children:"Add Note"}),t.jsx("span",{children:""}),t.jsxs("div",{className:"flex items-center gap-1",title:`Edited on ${Nc(X.lastUpdated)}`,children:[t.jsx(Ut,{className:"h-3 w-3"}),t.jsxs("span",{children:["Edited on ",Ha(X.lastUpdated)]})]}),t.jsx("span",{children:"by"}),t.jsx("span",{title:X.createdBy,children:X.createdBy})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-blue-400",title:"Edit",onClick:()=>qr(X.id),children:t.jsx(dr,{className:"h-4 w-4"})}),t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-red-400",title:"Delete",onClick:()=>An(X.id),children:t.jsx(ds,{className:"h-4 w-4"})})]})]})]},X.id))}),t.jsx("div",{className:"mt-6",children:de?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Tag:"}),t.jsxs(tt,{value:Gt,onValueChange:Zt,children:[t.jsx(Qe,{className:"w-48 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(rt,{})}),t.jsx(Ze,{children:Xs.map(X=>t.jsx(ae,{value:X.value,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${X.color}`}),X.label]})},X.value))})]})]}),Ye&&t.jsxs("div",{className:"rounded-lg border border-gray-600 bg-gray-700/50 p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(Go,{className:"h-4 w-4"}),t.jsx("span",{children:"Set reminder for:"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),t.jsx("input",{type:"date",value:kr,onChange:X=>_a(X.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Time"}),t.jsx("input",{type:"time",value:ur,onChange:X=>fs(X.target.value),className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]})]})]}),t.jsx("textarea",{value:nt,onChange:X=>xt(X.target.value),placeholder:"What's this note about?",className:"min-h-[100px] w-full resize-none rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:or,disabled:!nt.trim()||Gt==="reminder"&&(!kr||!ur),className:"flex items-center gap-2 rounded border border-gray-600 bg-gray-700 px-4 py-2 text-sm text-white transition-colors hover:border-gray-500 hover:bg-gray-600 disabled:cursor-not-allowed disabled:bg-gray-800",children:[t.jsx(tc,{className:"h-4 w-4"}),"Add Note"]}),t.jsx("button",{onClick:()=>{Le(!1),xt(""),Zt("general"),_a(""),fs(""),xr(!1)},className:"rounded-lg px-4 py-2 text-sm text-gray-400 transition-colors hover:text-white",children:"Cancel"})]})]}):t.jsx("button",{onClick:()=>Le(!0),className:"w-full rounded-lg border border-gray-600/50 bg-gray-700/50 px-4 py-3 text-left text-gray-400 transition-colors hover:border-gray-600 hover:bg-gray-700",children:"Add a note"})})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Vo,{className:"h-5 w-5 text-orange-400"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Call Results"})]}),t.jsx("button",{onClick:()=>ke(!le),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(os,{className:`h-5 w-5 transition-transform ${le?"rotate-180":""}`})})]}),!le&&t.jsx("div",{className:"space-y-3",children:gl.map(X=>t.jsx("div",{onClick:()=>qa(X),className:"group cursor-pointer rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all duration-200 hover:border-gray-600/50 hover:bg-gray-900/70",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${X.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:t.jsx(ct,{className:"h-5 w-5"})}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-white",children:X.date}),t.jsx("span",{className:"text-sm text-gray-400",children:X.time})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ut,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:X.duration})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Na,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:X.sentiment})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-sm font-medium ${X.outcome==="Qualified"?"text-green-400":X.outcome==="Follow-up"?"text-yellow-400":"text-gray-400"}`,children:X.outcome}),t.jsx("div",{className:"text-sm text-gray-500",children:X.cost})]}),t.jsx(os,{className:"h-5 w-5 rotate-[-90deg] text-gray-500 transition-colors group-hover:text-gray-300"})]})]})},X.id))})]})})]}),O&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"mx-4 max-w-md rounded-lg border border-gray-700 bg-gray-800 p-6 shadow-xl",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-900/30",children:t.jsx(ds,{className:"h-5 w-5 text-red-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Delete"})]}),t.jsx("p",{className:"mb-6 text-gray-300",children:"Are you sure you want to delete this note? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:gs,className:"rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{onClick:En,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700",children:"Delete Note"})]})]})}),t.jsx(gv,{isOpen:g,onClose:()=>y(!1),callData:h}),t.jsx(W1e,{isOpen:$,onClose:()=>B(!1),onCreateTask:Sc,leadId:r||""})]})}const H1e=({leadId:e,contactId:r,showAll:s=!0})=>{const[a,n]=p.useState([]),[i,o]=p.useState(!0),[l,d]=p.useState("upcoming"),[m,h]=p.useState(""),[f,g]=p.useState(!1),[y,w]=p.useState(null),b=wp(),{toast:v}=Vr(),[N,C]=p.useState({title:"",description:"",scheduled_at:Zi(u1(new Date,1),"yyyy-MM-dd'T'HH:mm"),duration_minutes:30,location:"Phone",lead_name:"",lead_email:"",lead_phone:"",lead_company:""});p.useEffect(()=>{S()},[e,r]);const S=async()=>{try{o(!0);let O="/appointments";const R=new URLSearchParams;e&&R.append("lead_id",e),r&&R.append("contact_id",r),s||R.append("limit","5");const $=await b.get(`${O}?${R}`),B=Array.isArray($.data)?$.data:Array.isArray($)?$:[];n(B)}catch(O){console.error("Error fetching appointments:",O),v({title:"Error",description:"Failed to load appointments",variant:"destructive"})}finally{o(!1)}},_=async()=>{try{const O=await b.post("/appointments",{...N,lead_id:e,contact_id:r,source:"manual"});v({title:"Success",description:"Appointment created successfully"}),g(!1),S(),C({title:"",description:"",scheduled_at:Zi(u1(new Date,1),"yyyy-MM-dd'T'HH:mm"),duration_minutes:30,location:"Phone",lead_name:"",lead_email:"",lead_phone:"",lead_company:""})}catch(O){console.error("Error creating appointment:",O),v({title:"Error",description:"Failed to create appointment",variant:"destructive"})}},E=async(O,R)=>{try{await b.patch(`/appointments/${O}`,{status:R}),v({title:"Success",description:`Appointment ${R}`}),S()}catch($){console.error("Error updating appointment:",$),v({title:"Error",description:"Failed to update appointment",variant:"destructive"})}},A=O=>{switch(O){case"scheduled":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"confirmed":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"completed":return"bg-gray-500/10 text-gray-400 border-gray-500/20";case"cancelled":return"bg-red-500/10 text-red-400 border-red-500/20";case"no_show":return"bg-orange-500/10 text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},T=O=>{const R=new Date(O);return JA(R)?"Today":rre(R)?"Tomorrow":Zi(R,"MMM d, yyyy")},z=(Array.isArray(a)?a:[]).filter(O=>{var B,U;const R=O.title.toLowerCase().includes(m.toLowerCase())||((B=O.lead_name)==null?void 0:B.toLowerCase().includes(m.toLowerCase()))||((U=O.lead_company)==null?void 0:U.toLowerCase().includes(m.toLowerCase())),$=new Date(O.scheduled_at);switch(l){case"today":return R&&JA($);case"upcoming":return R&&!YA($);case"past":return R&&YA($);default:return R}}),V=z.reduce((O,R)=>{const $=T(R.scheduled_at);return O[$]||(O[$]=[]),O[$].push(R),O},{});return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-400",children:"Loading appointments..."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Appointments"}),t.jsxs("p",{className:"text-sm text-gray-400",children:[z.length," appointment",z.length!==1?"s":""]})]}),t.jsxs(H,{size:"sm",onClick:()=>g(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Br,{className:"w-4 h-4 mr-1"}),"New Appointment"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx(Ee,{placeholder:"Search appointments...",value:m,onChange:O=>h(O.target.value),className:"pl-10 bg-gray-900 border-gray-800"})]}),t.jsxs(tt,{value:l,onValueChange:O=>d(O),children:[t.jsx(Qe,{className:"w-40 bg-gray-900 border-gray-800",children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(ae,{value:"all",children:"All"}),t.jsx(ae,{value:"today",children:"Today"}),t.jsx(ae,{value:"upcoming",children:"Upcoming"}),t.jsx(ae,{value:"past",children:"Past"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[Object.entries(V).map(([O,R])=>t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:O}),t.jsx("div",{className:"space-y-3",children:R.map($=>t.jsx(K,{className:"bg-gray-900 border-gray-800 hover:border-gray-700 transition-colors cursor-pointer",onClick:()=>w($),children:t.jsx(G,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h5",{className:"font-medium text-white",children:$.title}),t.jsx(Pe,{variant:"secondary",className:A($.status),children:$.status}),$.source==="ai_call"&&t.jsx(Pe,{variant:"secondary",className:"bg-purple-500/10 text-purple-400 border-purple-500/20",children:"AI Detected"})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ut,{className:"w-3 h-3"}),Zi(new Date($.scheduled_at),"h:mm a"),t.jsx("span",{className:"text-gray-600",children:""}),$.duration_minutes," min"]}),$.location&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(el,{className:"w-3 h-3"}),$.location]})]}),$.lead_name&&t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[t.jsx(ts,{className:"w-3 h-3"}),$.lead_name]}),$.lead_company&&t.jsx("span",{className:"text-gray-500",children:$.lead_company})]}),$.ai_meeting_purpose&&t.jsxs("p",{className:"mt-2 text-sm text-gray-500 italic",children:['"',$.ai_meeting_purpose,'"']})]}),t.jsx(Di,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]})})},$.id))})]},O)),z.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(cs,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-400",children:"No appointments found"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m?"Try adjusting your search":"Schedule your first appointment"})]})]}),t.jsx(ol,{open:f,onOpenChange:g,children:t.jsxs(fo,{className:"sm:max-w-[500px]",children:[t.jsxs(po,{children:[t.jsx(go,{children:"Schedule Appointment"}),t.jsx(ll,{children:"Create a new appointment manually"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"title",children:"Title"}),t.jsx(Ee,{id:"title",value:N.title,onChange:O=>C({...N,title:O.target.value}),placeholder:"e.g., Sales call with John"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"date",children:"Date & Time"}),t.jsx(Ee,{id:"date",type:"datetime-local",value:N.scheduled_at,onChange:O=>C({...N,scheduled_at:O.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"duration",children:"Duration"}),t.jsxs(tt,{value:N.duration_minutes.toString(),onValueChange:O=>C({...N,duration_minutes:parseInt(O)}),children:[t.jsx(Qe,{children:t.jsx(rt,{})}),t.jsxs(Ze,{children:[t.jsx(ae,{value:"15",children:"15 minutes"}),t.jsx(ae,{value:"30",children:"30 minutes"}),t.jsx(ae,{value:"45",children:"45 minutes"}),t.jsx(ae,{value:"60",children:"1 hour"}),t.jsx(ae,{value:"90",children:"1.5 hours"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"location",children:"Location"}),t.jsx(Ee,{id:"location",value:N.location,onChange:O=>C({...N,location:O.target.value}),placeholder:"e.g., Phone, Zoom, Office"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"lead_name",children:"Lead Name"}),t.jsx(Ee,{id:"lead_name",value:N.lead_name,onChange:O=>C({...N,lead_name:O.target.value}),placeholder:"Contact name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"lead_email",children:"Email"}),t.jsx(Ee,{id:"lead_email",type:"email",value:N.lead_email,onChange:O=>C({...N,lead_email:O.target.value}),placeholder:"email@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"lead_phone",children:"Phone"}),t.jsx(Ee,{id:"lead_phone",value:N.lead_phone,onChange:O=>C({...N,lead_phone:O.target.value}),placeholder:"+1 (555) 123-4567"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{htmlFor:"description",children:"Notes"}),t.jsx(ya,{id:"description",value:N.description,onChange:O=>C({...N,description:O.target.value}),placeholder:"Additional notes about the appointment...",rows:3})]})]}),t.jsxs(Yd,{children:[t.jsx(H,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),t.jsx(H,{onClick:_,disabled:!N.title||!N.scheduled_at,className:"bg-emerald-600 hover:bg-emerald-700",children:"Create Appointment"})]})]})}),t.jsx(ol,{open:!!y,onOpenChange:()=>w(null),children:t.jsxs(fo,{className:"sm:max-w-[500px]",children:[t.jsxs(po,{children:[t.jsx(go,{children:y==null?void 0:y.title}),t.jsx(ll,{children:"Appointment details and actions"})]}),y&&t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Status"}),t.jsx(Pe,{variant:"secondary",className:A(y.status),children:y.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Date & Time"}),t.jsx("span",{className:"text-sm text-white",children:Zi(new Date(y.scheduled_at),"PPp")})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Duration"}),t.jsxs("span",{className:"text-sm text-white",children:[y.duration_minutes," minutes"]})]}),y.location&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Location"}),t.jsx("span",{className:"text-sm text-white",children:y.location})]}),y.lead_name&&t.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[t.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Contact Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(ts,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:y.lead_name})]}),y.lead_email&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(na,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:y.lead_email})]}),y.lead_phone&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(ct,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:y.lead_phone})]})]})]}),y.source==="ai_call"&&t.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[t.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"AI Detection"}),y.ai_confidence_score&&t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Confidence"}),t.jsxs("span",{className:"text-sm text-white",children:[(y.ai_confidence_score*100).toFixed(0),"%"]})]}),y.ai_extracted_datetime&&t.jsxs("div",{className:"text-sm text-gray-400 italic",children:['"They mentioned: ',y.ai_extracted_datetime,'"']})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-800",children:[y.status==="scheduled"&&t.jsxs(t.Fragment,{children:[t.jsxs(H,{size:"sm",onClick:()=>E(y.id,"confirmed"),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(jt,{className:"w-4 h-4 mr-1"}),"Confirm"]}),t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>E(y.id,"cancelled"),className:"flex-1 border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:[t.jsx(Pi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),y.status==="confirmed"&&t.jsxs(t.Fragment,{children:[t.jsxs(H,{size:"sm",onClick:()=>E(y.id,"completed"),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(jt,{className:"w-4 h-4 mr-1"}),"Mark Complete"]}),t.jsxs(H,{size:"sm",variant:"outline",onClick:()=>E(y.id,"no_show"),className:"flex-1 border-orange-600 text-orange-400 hover:bg-orange-600 hover:text-white",children:[t.jsx(Lt,{className:"w-4 h-4 mr-1"}),"No Show"]})]})]})]})]})})]})};function q1e(){const[e,r]=p.useState({today:0,thisWeek:0,completed:0,upcoming:0}),[s,a]=p.useState(!0),n=wp();Vr(),ue.useEffect(()=>{i()},[]);const i=async()=>{try{const o=new Date;o.setHours(0,0,0,0);const l=new Date(o);l.setDate(l.getDate()+7);const d=await n.get("/appointments"),h=(Array.isArray(d.data)?d.data:Array.isArray(d)?d:[]).reduce((f,g)=>{const y=new Date(g.scheduled_at);return y.toDateString()===o.toDateString()&&f.today++,y>=o&&y<=l&&f.thisWeek++,g.status==="completed"?f.completed++:["scheduled","confirmed"].includes(g.status)&&y>=o&&f.upcoming++,f},{today:0,thisWeek:0,completed:0,upcoming:0});r(h)}catch(o){console.error("Error fetching appointment stats:",o)}finally{a(!1)}};return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Appointments"}),t.jsx("p",{className:"text-gray-400",children:"Manage your scheduled appointments and meetings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(K,{className:"bg-gray-900 border-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Today"}),t.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.today})]}),t.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:t.jsx(cs,{className:"w-6 h-6 text-blue-400"})})]})})}),t.jsx(K,{className:"bg-gray-900 border-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"This Week"}),t.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.thisWeek})]}),t.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:t.jsx(Ut,{className:"w-6 h-6 text-purple-400"})})]})})}),t.jsx(K,{className:"bg-gray-900 border-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Upcoming"}),t.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.upcoming})]}),t.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:t.jsx(Lt,{className:"w-6 h-6 text-emerald-400"})})]})})}),t.jsx(K,{className:"bg-gray-900 border-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.completed})]}),t.jsx("div",{className:"p-3 bg-gray-500/10 rounded-lg",children:t.jsx(jt,{className:"w-6 h-6 text-gray-400"})})]})})})]}),t.jsx(K,{className:"bg-gray-900 border-gray-800",children:t.jsx(G,{className:"p-6",children:t.jsx(H1e,{showAll:!0})})})]})}const K1e=()=>{const{userContext:e}=dl(),[r,s]=p.useState([]),[a,n]=p.useState({totalMRR:0,newMRR:0,churnedMRR:0,averageRevenue:0,growthRate:0,clientLifetimeValue:0}),[i,o]=p.useState(""),[l,d]=p.useState("all"),[m,h]=p.useState("all");p.useEffect(()=>{const b=[{id:"1",name:"TechStart Solutions",plan:"professional",monthlyRevenue:599,callVolume:2450,status:"active",joinDate:"2024-01-15",lastActivity:"2024-01-18 14:30",industry:"SaaS",contactEmail:"sarah@techstart.com"},{id:"2",name:"Local Home Services",plan:"starter",monthlyRevenue:299,callVolume:890,status:"active",joinDate:"2024-01-10",lastActivity:"2024-01-18 09:15",industry:"Home Services",contactEmail:"mike@localhome.com"},{id:"3",name:"Enterprise Corp",plan:"enterprise",monthlyRevenue:1299,callVolume:5200,status:"active",joinDate:"2023-12-01",lastActivity:"2024-01-18 16:45",industry:"Enterprise",contactEmail:"jennifer@enterprise.com"},{id:"4",name:"GrowthCo Marketing",plan:"professional",monthlyRevenue:599,callVolume:1800,status:"trial",joinDate:"2024-01-12",lastActivity:"2024-01-17 11:20",industry:"Marketing",contactEmail:"david@growthco.com"},{id:"5",name:"RetailMax Store",plan:"starter",monthlyRevenue:299,callVolume:650,status:"paused",joinDate:"2023-11-20",lastActivity:"2024-01-10 08:30",industry:"Retail",contactEmail:"lisa@retailmax.com"}];s(b);const v=b.filter(S=>S.status==="active"),N=v.reduce((S,_)=>S+_.monthlyRevenue,0),C=b.filter(S=>S.status==="active"&&new Date(S.joinDate)>new Date("2024-01-01")).reduce((S,_)=>S+_.monthlyRevenue,0);n({totalMRR:N,newMRR:C,churnedMRR:299,averageRevenue:N/v.length,growthRate:23.5,clientLifetimeValue:N*24})},[]);const f=b=>{switch(b){case"starter":return"bg-blue-100 text-blue-800";case"professional":return"bg-purple-100 text-emerald-800";case"enterprise":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=b=>{switch(b){case"active":return"bg-green-100 text-green-800";case"trial":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"churned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=b=>{switch(b){case"active":return t.jsx(jt,{className:"h-4 w-4"});case"trial":return t.jsx(Ut,{className:"h-4 w-4"});case"paused":return t.jsx(Lt,{className:"h-4 w-4"});case"churned":return t.jsx(Lt,{className:"h-4 w-4"});default:return t.jsx(Ut,{className:"h-4 w-4"})}},w=r.filter(b=>{const v=b.name.toLowerCase().includes(i.toLowerCase())||b.industry.toLowerCase().includes(i.toLowerCase()),N=l==="all"||b.plan===l,C=m==="all"||b.status===m;return v&&N&&C});return t.jsx("div",{className:"min-h-screen bg-black text-white",children:t.jsxs("div",{className:"w-full space-y-8 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agency Command Center"}),t.jsxs("p",{className:"mt-2 text-gray-400",children:["Welcome back, ",(e==null?void 0:e.firstName)||"Agency Admin","! Manage your client portfolio and track revenue performance."]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(H,{className:"bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>window.location.href="/client-onboarding",children:[t.jsx(zf,{className:"mr-2 h-4 w-4"}),"Start Onboarding"]}),t.jsxs(H,{className:"bg-blue-600 text-white hover:bg-blue-700",children:[t.jsx(Br,{className:"mr-2 h-4 w-4"}),"Add New Client"]}),t.jsxs(H,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Settings"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Total MRR"]})}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",a.totalMRR.toLocaleString()]}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-green-400",children:[t.jsx(Na,{className:"mr-1 h-3 w-3"}),"+",a.growthRate,"% from last month"]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Active Clients"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(b=>b.status==="active").length}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-blue-400",children:[t.jsx(uM,{className:"mr-1 h-3 w-3"}),r.filter(b=>b.status==="trial").length," in trial"]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(za,{className:"mr-2 h-4 w-4"}),"Avg Revenue/Client"]})}),t.jsxs(G,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Math.round(a.averageRevenue).toLocaleString()]}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"Per month"})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsx(xe,{className:"pb-2",children:t.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(ws,{className:"mr-2 h-4 w-4"}),"Total Call Volume"]})}),t.jsxs(G,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.reduce((b,v)=>b+v.callVolume,0).toLocaleString()}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"This month"})]})]})]}),t.jsxs(jo,{defaultValue:"clients",className:"space-y-6",children:[t.jsxs(zi,{className:"border-gray-800 bg-gray-900",children:[t.jsx(bt,{value:"clients",className:"text-gray-300 data-[state=active]:text-white",children:"Client Management"}),t.jsx(bt,{value:"revenue",className:"text-gray-300 data-[state=active]:text-white",children:"Revenue Analytics"}),t.jsx(bt,{value:"branding",className:"text-gray-300 data-[state=active]:text-white",children:"White-Label Controls"})]}),t.jsxs(wt,{value:"clients",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ua,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(Ee,{placeholder:"Search clients...",value:i,onChange:b=>o(b.target.value),className:"border-gray-700 bg-gray-900 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:l,onChange:b=>d(b.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]}),t.jsxs("select",{value:m,onChange:b=>h(b.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"trial",children:"Trial"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"churned",children:"Churned"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:w.map(b=>t.jsx(K,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(jd,{className:"h-12 w-12",children:[t.jsx(im,{src:b.logo}),t.jsx(Nd,{className:"bg-gray-800 text-white",children:b.name.substring(0,2).toUpperCase()})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:b.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs(Pe,{variant:"secondary",className:f(b.plan),children:[b.plan==="starter"&&t.jsx(ws,{className:"mr-1 h-3 w-3"}),b.plan==="professional"&&t.jsx($f,{className:"mr-1 h-3 w-3"}),b.plan==="enterprise"&&t.jsx(Xn,{className:"mr-1 h-3 w-3"}),b.plan.charAt(0).toUpperCase()+b.plan.slice(1)]}),t.jsxs(Pe,{variant:"secondary",className:g(b.status),children:[y(b.status),t.jsx("span",{className:"ml-1",children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Revenue"}),t.jsxs("div",{className:"font-semibold text-white",children:["$",b.monthlyRevenue]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Call Volume"}),t.jsx("div",{className:"font-semibold text-white",children:b.callVolume.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Industry"}),t.jsx("div",{className:"font-semibold text-white",children:b.industry})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Join Date"}),t.jsx("div",{className:"font-semibold text-white",children:new Date(b.joinDate).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(H,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"View Details"}),t.jsx(H,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Manage"})]})]})})},b.id))})]}),t.jsx(wt,{value:"revenue",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Revenue Breakdown"}),t.jsx(vt,{className:"text-gray-400",children:"Monthly recurring revenue by plan type"})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Enterprise Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,299"})]}),t.jsx(Jt,{value:65,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Professional Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,198"})]}),t.jsx(Jt,{value:60,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Starter Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$598"})]}),t.jsx(Jt,{value:30,className:"h-2"})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsx(ye,{className:"text-white",children:"Growth Metrics"}),t.jsx(vt,{className:"text-gray-400",children:"Key performance indicators"})]}),t.jsx(G,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"+$899"}),t.jsx("div",{className:"text-sm text-gray-400",children:"New MRR"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:"-$299"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Churned MRR"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",Math.round(a.clientLifetimeValue).toLocaleString()]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Avg Client LTV"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"23.5%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Growth Rate"})]})]})})]})]})}),t.jsx(wt,{value:"branding",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(lA,{className:"mr-2 h-5 w-5"}),"Brand Customization"]}),t.jsx(vt,{className:"text-gray-400",children:"Customize the platform appearance for your clients"})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Logo"}),t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-700 p-6 text-center",children:[t.jsxs("div",{className:"mb-2 text-gray-400",children:[t.jsx(lA,{className:"mx-auto mb-2 h-8 w-8"}),"Upload your logo"]}),t.jsx(H,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300",children:"Choose File"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Primary Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ee,{type:"color",defaultValue:"#3B82F6",className:"h-10 w-16 border-gray-700 bg-gray-800"}),t.jsx(Ee,{defaultValue:"#3B82F6",className:"border-gray-700 bg-gray-800 text-white"})]})]})]})]}),t.jsxs(K,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(xe,{children:[t.jsxs(ye,{className:"flex items-center text-white",children:[t.jsx(Xn,{className:"mr-2 h-5 w-5"}),"Domain Settings"]}),t.jsx(vt,{className:"text-gray-400",children:"Configure custom domains for client portals"})]}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Domain"}),t.jsx(Ee,{placeholder:"yourcompany.apex.ai",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Portal Template"}),t.jsxs("select",{className:"w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-white",children:[t.jsx("option",{children:"Professional Template"}),t.jsx("option",{children:"Modern Template"}),t.jsx("option",{children:"Minimalist Template"})]})]}),t.jsx(H,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Save Configuration"})]})]})]})})]})]})})};function G1e(){const[e]=uV(),r=vr(),{toast:s}=Vr(),a=e.get("token"),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(null),[h,f]=p.useState(null),[g,y]=p.useState(""),[w,b]=p.useState(""),[v,N]=p.useState("");p.useEffect(()=>{a?C():(f("No invitation token provided"),i(!1))},[a]);const C=async()=>{try{const T=await fetch(`http://localhost:3001/api/api/invitations/validate/${a}`),M=await T.json();console.log("Invitation validation response:",M),!T.ok||!M.valid?f(M.error||"Invalid or expired invitation"):m(M.invitation)}catch(T){console.error("Error validating invitation:",T),f("Failed to validate invitation")}finally{i(!1)}},{isSignedIn:S,user:_}=Ud(),{getToken:E}=_n();p.useEffect(()=>{S&&_&&d&&a&&A()},[S,_,d,a]);const A=async()=>{try{l(!0);const T=await E(),M=await fetch("http://localhost:3001/api/api/invitations/accept-clerk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({token:a,clerkUserId:_.clerkId||_.id})}),z=await M.json();if(M.ok)s({title:"Success!",description:"Your account has been linked. Redirecting to dashboard..."}),setTimeout(()=>{r("/dashboard")},2e3);else throw new Error(z.error||"Failed to link account")}catch(T){console.error("Error linking account:",T),s({title:"Error",description:T instanceof Error?T.message:"Failed to link account",variant:"destructive"})}finally{l(!1)}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Kn,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Validating invitation..."})]})}):h?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsx(K,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(G,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pi,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Invitation"}),t.jsx("p",{className:"text-gray-400 mb-6",children:h}),t.jsx(H,{onClick:()=>r("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go to Login"})]})})})}):d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsxs(K,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[t.jsx(xe,{children:t.jsxs(ye,{className:"text-2xl font-bold text-center text-white",children:["Join ",d.organizationName]})}),t.jsxs(G,{className:"space-y-4",children:[t.jsxs(qt,{className:"bg-emerald-900/20 border-emerald-700",children:[t.jsx(na,{className:"h-4 w-4 text-emerald-500"}),t.jsxs(Kt,{className:"text-emerald-200",children:["You've been invited to join as a ",d.role.replace("client_","").replace("_"," "),"."]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(re,{className:"text-gray-300",children:"Your Information"}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 space-y-1",children:[t.jsxs("p",{className:"text-white",children:[t.jsx(ts,{className:"inline h-4 w-4 mr-2 text-gray-400"}),d.firstName," ",d.lastName]}),t.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]})]}),!S&&t.jsx(qt,{className:"bg-blue-900/20 border-blue-700",children:t.jsx(Kt,{className:"text-blue-200",children:`Click "Sign Up & Join" below to create your account with Clerk. You'll be redirected back here after signup.`})}),S&&t.jsx(qt,{className:"bg-green-900/20 border-green-700",children:t.jsxs(Kt,{className:"text-green-200",children:['Welcome back! Click "Complete Setup" to link your account to ',d.organizationName,"."]})}),t.jsxs("div",{className:"text-xs text-gray-400",children:["This invitation expires on ",new Date(d.expiresAt).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(H,{variant:"outline",onClick:()=>r("/login"),className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),S?o?t.jsxs(H,{disabled:!0,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking Account..."]}):t.jsxs(H,{onClick:()=>A(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(jt,{className:"mr-2 h-4 w-4"}),"Complete Setup"]}):t.jsx(eK,{mode:"modal",afterSignUpUrl:`/accept-invitation?token=${a}`,signUpForceRedirectUrl:`/accept-invitation?token=${a}`,children:t.jsxs(H,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(jt,{className:"mr-2 h-4 w-4"}),"Sign Up & Join"]})})]})]})]})}):null}function Y1e(){return vr(),p.useEffect(()=>{(async()=>{console.log(" Force logging out..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),await Xe.auth.signOut(),setTimeout(()=>{window.location.href="/login"},500)})()},[]),t.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-xl",children:"Logging out..."})})}const J1e=()=>{const e=vr(),{userContext:r}=dl();return p.useEffect(()=>{if(!(r!=null&&r.role)){console.log(" RoleBasedRedirect: No role detected, waiting...");return}const s=r.role.toLowerCase();switch(console.log(" RoleBasedRedirect: Redirecting based on role:",s),s){case"platform_owner":console.log(" Redirecting to Platform Owner Dashboard"),e("/platform",{replace:!0});break;case"agency_owner":case"agency_admin":case"agency_user":console.log(" Redirecting to Agency Dashboard"),e("/agency",{replace:!0});break;case"client_admin":case"client_user":default:console.log(" Redirecting to Client Dashboard"),e("/dashboard",{replace:!0});break}},[r==null?void 0:r.role,e]),t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Redirecting to your dashboard..."})]})})},Fn=({children:e,allowedRoles:r,redirectTo:s="/dashboard"})=>{var o;const{userContext:a}=dl();if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});const n=(o=a.role)==null?void 0:o.toLowerCase(),i=r.some(l=>l.toLowerCase()===n);return console.log(" RoleBasedRoute: Checking access",{userRole:n,allowedRoles:r,hasAccess:i}),i?t.jsx(t.Fragment,{children:e}):(console.log(" Access denied, redirecting to:",s),t.jsx($x,{to:s,replace:!0}))},_3=({children:e})=>{const{isLoaded:r,isSignedIn:s}=_n();return r?s?t.jsx($x,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:e}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})};function X1e(){return t.jsx(TNe,{children:t.jsxs(wJ,{children:[t.jsxs(QW,{children:[t.jsx(gt,{path:"/",element:t.jsx($x,{to:"/crm",replace:!0})}),t.jsx(gt,{path:"/login/*",element:t.jsx(_3,{children:t.jsx(wq,{})})}),t.jsx(gt,{path:"/signup/*",element:t.jsx(_3,{children:t.jsx(jq,{})})}),t.jsx(gt,{path:"/accept-invitation",element:t.jsx(G1e,{})}),t.jsx(gt,{path:"/force-logout",element:t.jsx(Y1e,{})}),t.jsx(gt,{path:"/portal",element:t.jsx(gA,{children:t.jsx(J1e,{})})}),t.jsx(gt,{path:"/scale-architecture",element:t.jsx(ebe,{})}),t.jsxs(gt,{element:t.jsx(gA,{children:t.jsx(Nre,{})}),children:[t.jsx(gt,{path:"/dashboard",element:t.jsx(yve,{})}),t.jsx(gt,{path:"/campaigns",element:t.jsx(gN,{})}),t.jsx(gt,{path:"/vapi-dashboard",element:t.jsx(gN,{})}),t.jsx(gt,{path:"/test-campaigns",element:t.jsx(gN,{})}),t.jsx(gt,{path:"/assistants",element:t.jsx(YNe,{})}),t.jsx(gt,{path:"/campaign-wizard",element:t.jsx(XNe,{})}),t.jsx(gt,{path:"/campaigns/:id",element:t.jsx(GNe,{})}),t.jsx(gt,{path:"/campaigns/:campaignId/calls",element:t.jsx(U1e,{})}),t.jsx(gt,{path:"/campaign-processor",element:t.jsx(M1e,{})}),t.jsx(gt,{path:"/calls/:callId",element:t.jsx(F1e,{})}),t.jsx(gt,{path:"/leads/:leadId",element:t.jsx(V1e,{})}),t.jsx(gt,{path:"/all-calls",element:t.jsx(d1e,{})}),t.jsx(gt,{path:"/live-calls",element:t.jsx(aNe,{})}),t.jsx(gt,{path:"/analytics",element:t.jsx(rNe,{})}),t.jsx(gt,{path:"/cost-analytics",element:t.jsx(LNe,{})}),t.jsx(gt,{path:"/crm",element:t.jsx(DNe,{})}),t.jsx(gt,{path:"/phone-numbers",element:t.jsx(rbe,{})}),t.jsx(gt,{path:"/messaging",element:t.jsx(JNe,{})}),t.jsx(gt,{path:"/appointments",element:t.jsx(q1e,{})}),t.jsx(gt,{path:"/settings",element:t.jsx(FNe,{})}),t.jsx(gt,{path:"/organization-settings",element:t.jsx(Fn,{allowedRoles:["client_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(g1e,{children:t.jsx(b1e,{})})})}),t.jsx(gt,{path:"/api-keys",element:t.jsx(O1e,{})}),t.jsx(gt,{path:"/billing",element:t.jsx(hNe,{})}),t.jsx(gt,{path:"/notifications",element:t.jsx(u1e,{})}),t.jsx(gt,{path:"/platform",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(f3,{})})}),t.jsx(gt,{path:"/platform-owner",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(f3,{})})}),t.jsx(gt,{path:"/organizations",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(m1e,{})})}),t.jsx(gt,{path:"/organizations/:id",element:t.jsx(Fn,{allowedRoles:["platform_owner","client_admin"],redirectTo:"/dashboard",children:t.jsx(_1e,{})})}),t.jsx(gt,{path:"/organization-setup",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(j1e,{})})}),t.jsx(gt,{path:"/user-management",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(Jve,{})})}),t.jsx(gt,{path:"/team-management",element:t.jsx(Fn,{allowedRoles:["platform_owner","client_admin","agency_admin"],redirectTo:"/dashboard",children:t.jsx(HNe,{})})}),t.jsx(gt,{path:"/support-tickets",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(tbe,{})})}),t.jsx(gt,{path:"/platform-analytics",element:t.jsx(Fn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(T1e,{})})}),t.jsx(gt,{path:"/agency",element:t.jsx(Fn,{allowedRoles:["agency_owner","agency_admin","agency_user"],redirectTo:"/dashboard",children:t.jsx(K1e,{})})}),t.jsx(gt,{path:"/clients",element:t.jsx(Fn,{allowedRoles:["agency_owner","agency_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(sNe,{})})}),t.jsx(gt,{path:"/audit-logs",element:t.jsx(r1e,{})}),t.jsx(gt,{path:"/system-health",element:t.jsx(s1e,{})}),t.jsx(gt,{path:"*",element:t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400",children:"The page you're looking for doesn't exist."})]})})})]})]}),t.jsx(Jre,{})]})})}console.log("main.tsx: Starting application initialization");console.log("main.tsx: Environment:",{NODE_ENV:"production",VITE_CLERK_KEY:"Present",VITE_API_URL:"http://localhost:3001/api",VITE_SUPABASE_URL:"https://twigokrtbvigiqnaybfy.supabase.co"});const Q1e="pk_test_dW5pdGVkLWNob3ctMTMuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("main.tsx: Clerk key configured:","Yes");function Z1e(){console.log("main.tsx: ClerkWithRouterBridge component rendering");const e=vr();return t.jsx(TR,{publishableKey:Q1e,afterSignInUrl:"/dashboard",afterSignUpUrl:"/dashboard",signInUrl:"/login",signUpUrl:"/signup",routerPush:r=>e(r),routerReplace:r=>e(r,{replace:!0}),children:t.jsx(eY,{children:t.jsx(X1e,{})})})}class eSe extends ue.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return console.error("ErrorBoundary caught error:",r),{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Error details:",r,s)}render(){var r;return this.state.hasError?t.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#0a0a0a"},children:[t.jsx("h1",{children:"Application Error"}),t.jsx("pre",{style:{color:"red"},children:(r=this.state.error)==null?void 0:r.toString()}),t.jsx("p",{children:"Check the browser console for details."})]}):this.props.children}}function tSe(){return t.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#0a0a0a",fontFamily:"monospace"},children:[t.jsx("h1",{children:"Apex AI - Diagnostic Mode"}),t.jsx("p",{children:"React is running but there may be an initialization issue."}),t.jsx("h2",{children:"Environment Variables:"}),t.jsx("pre",{children:JSON.stringify({MODE:"production",CLERK_KEY:"Present",API_URL:"http://localhost:3001/api",SUPABASE_URL:"https://twigokrtbvigiqnaybfy.supabase.co",BACKEND_URL:"http://localhost:3001",USE_DEV_AUTH:"false"},null,2)}),t.jsx("h2",{children:"Attempting to load main app..."})]})}console.log("main.tsx: Looking for root element");const s0=document.getElementById("root");if(!s0)console.error("main.tsx: Root element not found!"),document.body.innerHTML='<div style="color: white; padding: 20px;">Error: Root element not found in DOM</div>';else{console.log("main.tsx: Root element found, creating React root");try{const e=sP.createRoot(s0);console.log("main.tsx: React root created, attempting render"),e.render(t.jsx(ue.StrictMode,{children:t.jsx(eSe,{children:t.jsx(iV,{children:t.jsx(Z1e,{})})})})),console.log("main.tsx: Render method called successfully")}catch(e){console.error("main.tsx: Fatal error during render:",e);try{sP.createRoot(s0).render(t.jsx(tSe,{})),console.log("main.tsx: Rendered diagnostic app")}catch(r){console.error("main.tsx: Even diagnostic app failed:",r),s0.innerHTML=`<div style="color: white; padding: 20px;">
        <h1>Critical Error</h1>
        <p>Failed to initialize React application</p>
        <pre>${r}</pre>
      </div>`}}}console.log("main.tsx: Script execution completed");
