var fB=Object.defineProperty;var pB=(e,r,s)=>r in e?fB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var ci=(e,r,s)=>pB(e,typeof r!="symbol"?r+"":r,s);function gB(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var wb={exports:{}},nh={},jb={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function yB(){if(R_)return Ut;R_=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function b(B,Q,Ce){this.props=B,this.context=Q,this.refs=v,this.updater=Ce||y}b.prototype.isReactComponent={},b.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=b.prototype;function C(B,Q,Ce){this.props=B,this.context=Q,this.refs=v,this.updater=Ce||y}var S=C.prototype=new N;S.constructor=C,w(S,b.prototype),S.isPureReactComponent=!0;var _=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function M(B,Q,Ce){var Z,ne={},ze=null,Ae=null;if(Q!=null)for(Z in Q.ref!==void 0&&(Ae=Q.ref),Q.key!==void 0&&(ze=""+Q.key),Q)A.call(Q,Z)&&!E.hasOwnProperty(Z)&&(ne[Z]=Q[Z]);var Re=arguments.length-2;if(Re===1)ne.children=Ce;else if(1<Re){for(var de=Array(Re),Se=0;Se<Re;Se++)de[Se]=arguments[Se+2];ne.children=de}if(B&&B.defaultProps)for(Z in Re=B.defaultProps,Re)ne[Z]===void 0&&(ne[Z]=Re[Z]);return{$$typeof:e,type:B,key:ze,ref:Ae,props:ne,_owner:T.current}}function L(B,Q){return{$$typeof:e,type:B.type,key:Q,ref:B.ref,props:B.props,_owner:B._owner}}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function O(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ce){return Q[Ce]})}var I=/\/+/g;function W(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):Q.toString(36)}function V(B,Q,Ce,Z,ne){var ze=typeof B;(ze==="undefined"||ze==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(ze){case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case e:case r:Ae=!0}}if(Ae)return Ae=B,ne=ne(Ae),B=Z===""?"."+W(Ae,0):Z,_(ne)?(Ce="",B!=null&&(Ce=B.replace(I,"$&/")+"/"),V(ne,Q,Ce,"",function(Se){return Se})):ne!=null&&(H(ne)&&(ne=L(ne,Ce+(!ne.key||Ae&&Ae.key===ne.key?"":(""+ne.key).replace(I,"$&/")+"/")+B)),Q.push(ne)),1;if(Ae=0,Z=Z===""?".":Z+":",_(B))for(var Re=0;Re<B.length;Re++){ze=B[Re];var de=Z+W(ze,Re);Ae+=V(ze,Q,Ce,de,ne)}else if(de=g(B),typeof de=="function")for(B=de.call(B),Re=0;!(ze=B.next()).done;)ze=ze.value,de=Z+W(ze,Re++),Ae+=V(ze,Q,Ce,de,ne);else if(ze==="object")throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ae}function U(B,Q,Ce){if(B==null)return B;var Z=[],ne=0;return V(B,Z,"","",function(ze){return Q.call(Ce,ze,ne++)}),Z}function $(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(Ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ce)},function(Ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ce)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var R={current:null},F={transition:null},z={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:F,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:U,forEach:function(B,Q,Ce){U(B,function(){Q.apply(this,arguments)},Ce)},count:function(B){var Q=0;return U(B,function(){Q++}),Q},toArray:function(B){return U(B,function(Q){return Q})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ut.Component=b,Ut.Fragment=s,Ut.Profiler=n,Ut.PureComponent=C,Ut.StrictMode=a,Ut.Suspense=d,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ut.act=K,Ut.cloneElement=function(B,Q,Ce){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Z=w({},B.props),ne=B.key,ze=B.ref,Ae=B._owner;if(Q!=null){if(Q.ref!==void 0&&(ze=Q.ref,Ae=T.current),Q.key!==void 0&&(ne=""+Q.key),B.type&&B.type.defaultProps)var Re=B.type.defaultProps;for(de in Q)A.call(Q,de)&&!E.hasOwnProperty(de)&&(Z[de]=Q[de]===void 0&&Re!==void 0?Re[de]:Q[de])}var de=arguments.length-2;if(de===1)Z.children=Ce;else if(1<de){Re=Array(de);for(var Se=0;Se<de;Se++)Re[Se]=arguments[Se+2];Z.children=Re}return{$$typeof:e,type:B.type,key:ne,ref:ze,props:Z,_owner:Ae}},Ut.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Ut.createElement=M,Ut.createFactory=function(B){var Q=M.bind(null,B);return Q.type=B,Q},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(B){return{$$typeof:l,render:B}},Ut.isValidElement=H,Ut.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:$}},Ut.memo=function(B,Q){return{$$typeof:m,type:B,compare:Q===void 0?null:Q}},Ut.startTransition=function(B){var Q=F.transition;F.transition={};try{B()}finally{F.transition=Q}},Ut.unstable_act=K,Ut.useCallback=function(B,Q){return R.current.useCallback(B,Q)},Ut.useContext=function(B){return R.current.useContext(B)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(B){return R.current.useDeferredValue(B)},Ut.useEffect=function(B,Q){return R.current.useEffect(B,Q)},Ut.useId=function(){return R.current.useId()},Ut.useImperativeHandle=function(B,Q,Ce){return R.current.useImperativeHandle(B,Q,Ce)},Ut.useInsertionEffect=function(B,Q){return R.current.useInsertionEffect(B,Q)},Ut.useLayoutEffect=function(B,Q){return R.current.useLayoutEffect(B,Q)},Ut.useMemo=function(B,Q){return R.current.useMemo(B,Q)},Ut.useReducer=function(B,Q,Ce){return R.current.useReducer(B,Q,Ce)},Ut.useRef=function(B){return R.current.useRef(B)},Ut.useState=function(B){return R.current.useState(B)},Ut.useSyncExternalStore=function(B,Q,Ce){return R.current.useSyncExternalStore(B,Q,Ce)},Ut.useTransition=function(){return R.current.useTransition()},Ut.version="18.3.1",Ut}var I_;function Xu(){return I_||(I_=1,jb.exports=yB()),jb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function vB(){if(D_)return nh;D_=1;var e=Xu(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,m){var h,f={},g=null,y=null;m!==void 0&&(g=""+m),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)a.call(d,h)&&!i.hasOwnProperty(h)&&(f[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)f[h]===void 0&&(f[h]=d[h]);return{$$typeof:r,type:l,key:g,ref:y,props:f,_owner:n.current}}return nh.Fragment=s,nh.jsx=o,nh.jsxs=o,nh}var L_;function bB(){return L_||(L_=1,wb.exports=vB()),wb.exports}var t=bB(),p=Xu();const ce=vn(p),gx=gB({__proto__:null,default:ce},[p]);var tg={},Nb={exports:{}},Wa={},Sb={exports:{}},Cb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function wB(){return $_||($_=1,function(e){function r(F,z){var K=F.length;F.push(z);e:for(;0<K;){var B=K-1>>>1,Q=F[B];if(0<n(Q,z))F[B]=z,F[K]=Q,K=B;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var z=F[0],K=F.pop();if(K!==z){F[0]=K;e:for(var B=0,Q=F.length,Ce=Q>>>1;B<Ce;){var Z=2*(B+1)-1,ne=F[Z],ze=Z+1,Ae=F[ze];if(0>n(ne,K))ze<Q&&0>n(Ae,ne)?(F[B]=Ae,F[ze]=K,B=ze):(F[B]=ne,F[Z]=K,B=Z);else if(ze<Q&&0>n(Ae,K))F[B]=Ae,F[ze]=K,B=ze;else break e}}return z}function n(F,z){var K=F.sortIndex-z.sortIndex;return K!==0?K:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],m=[],h=1,f=null,g=3,y=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var z=s(m);z!==null;){if(z.callback===null)a(m);else if(z.startTime<=F)a(m),z.sortIndex=z.expirationTime,r(d,z);else break;z=s(m)}}function _(F){if(v=!1,S(F),!w)if(s(d)!==null)w=!0,$(A);else{var z=s(m);z!==null&&R(_,z.startTime-F)}}function A(F,z){w=!1,v&&(v=!1,N(M),M=-1),y=!0;var K=g;try{for(S(z),f=s(d);f!==null&&(!(f.expirationTime>z)||F&&!O());){var B=f.callback;if(typeof B=="function"){f.callback=null,g=f.priorityLevel;var Q=B(f.expirationTime<=z);z=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===s(d)&&a(d),S(z)}else a(d);f=s(d)}if(f!==null)var Ce=!0;else{var Z=s(m);Z!==null&&R(_,Z.startTime-z),Ce=!1}return Ce}finally{f=null,g=K,y=!1}}var T=!1,E=null,M=-1,L=5,H=-1;function O(){return!(e.unstable_now()-H<L)}function I(){if(E!==null){var F=e.unstable_now();H=F;var z=!0;try{z=E(!0,F)}finally{z?W():(T=!1,E=null)}}else T=!1}var W;if(typeof C=="function")W=function(){C(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=I,W=function(){U.postMessage(null)}}else W=function(){b(I,0)};function $(F){E=F,T||(T=!0,W())}function R(F,z){M=b(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,$(A))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(F){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var K=g;g=z;try{return F()}finally{g=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=g;g=F;try{return z()}finally{g=K}},e.unstable_scheduleCallback=function(F,z,K){var B=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,F){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,F={id:h++,callback:z,priorityLevel:F,startTime:K,expirationTime:Q,sortIndex:-1},K>B?(F.sortIndex=K,r(m,F),s(d)===null&&F===s(m)&&(v?(N(M),M=-1):v=!0,R(_,K-B))):(F.sortIndex=Q,r(d,F),w||y||(w=!0,$(A))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var z=g;return function(){var K=g;g=z;try{return F.apply(this,arguments)}finally{g=K}}}}(Cb)),Cb}var z_;function jB(){return z_||(z_=1,Sb.exports=wB()),Sb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function NB(){if(F_)return Wa;F_=1;var e=Xu(),r=jB();function s(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function i(c,u){o(c,u),o(c+"Capture",u)}function o(c,u){for(n[c]=u,c=0;c<u.length;c++)a.add(u[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(c){return d.call(f,c)?!0:d.call(h,c)?!1:m.test(c)?f[c]=!0:(h[c]=!0,!1)}function y(c,u,x,j){if(x!==null&&x.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,u,x,j){if(u===null||typeof u>"u"||y(c,u,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(c,u,x,j,k,P,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=k,this.mustUseProperty=x,this.propertyName=c,this.type=u,this.sanitizeURL=P,this.removeEmptyString=D}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];b[u]=new v(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(N,C);b[u]=new v(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(N,C);b[u]=new v(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(N,C);b[u]=new v(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function S(c,u,x,j){var k=b.hasOwnProperty(u)?b[u]:null;(k!==null?k.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,x,k,j)&&(x=null),j||k===null?g(u)&&(x===null?c.removeAttribute(u):c.setAttribute(u,""+x)):k.mustUseProperty?c[k.propertyName]=x===null?k.type===3?!1:"":x:(u=k.attributeName,j=k.attributeNamespace,x===null?c.removeAttribute(u):(k=k.type,x=k===3||k===4&&x===!0?"":""+x,j?c.setAttributeNS(j,u,x):c.setAttribute(u,x))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),F=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var K=Object.assign,B;function Q(c){if(B===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);B=u&&u[1]||""}return`
`+B+c}var Ce=!1;function Z(c,u){if(!c||Ce)return"";Ce=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(fe){var j=fe}Reflect.construct(c,[],u)}else{try{u.call()}catch(fe){j=fe}c.call(u.prototype)}else{try{throw Error()}catch(fe){j=fe}c()}}catch(fe){if(fe&&j&&typeof fe.stack=="string"){for(var k=fe.stack.split(`
`),P=j.stack.split(`
`),D=k.length-1,Y=P.length-1;1<=D&&0<=Y&&k[D]!==P[Y];)Y--;for(;1<=D&&0<=Y;D--,Y--)if(k[D]!==P[Y]){if(D!==1||Y!==1)do if(D--,Y--,0>Y||k[D]!==P[Y]){var re=`
`+k[D].replace(" at new "," at ");return c.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",c.displayName)),re}while(1<=D&&0<=Y);break}}}finally{Ce=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?Q(c):""}function ne(c){switch(c.tag){case 5:return Q(c.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return c=Z(c.type,!1),c;case 11:return c=Z(c.type.render,!1),c;case 1:return c=Z(c.type,!0),c;default:return""}}function ze(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case E:return"Fragment";case T:return"Portal";case L:return"Profiler";case M:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case O:return(c.displayName||"Context")+".Consumer";case H:return(c._context.displayName||"Context")+".Provider";case I:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case U:return u=c.displayName||null,u!==null?u:ze(c.type)||"Memo";case $:u=c._payload,c=c._init;try{return ze(c(u))}catch{}}return null}function Ae(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Re(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function de(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Se(c){var u=de(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),j=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var k=x.get,P=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return k.call(this)},set:function(D){j=""+D,P.call(this,D)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function(D){j=""+D},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function Ee(c){c._valueTracker||(c._valueTracker=Se(c))}function te(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),j="";return c&&(j=de(c)?c.checked?"true":"false":c.value),c=j,c!==x?(u.setValue(c),!0):!1}function be(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Te(c,u){var x=u.checked;return K({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function Ue(c,u){var x=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;x=Re(u.value!=null?u.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function oe(c,u){u=u.checked,u!=null&&S(c,"checked",u,!1)}function Ge(c,u){oe(c,u);var x=Re(u.value),j=u.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Tt(c,u.type,x):u.hasOwnProperty("defaultValue")&&Tt(c,u.type,Re(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function Ct(c,u,x){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,x||u===c.value||(c.value=u),c.defaultValue=u}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function Tt(c,u,x){(u!=="number"||be(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var Nt=Array.isArray;function me(c,u,x,j){if(c=c.options,u){u={};for(var k=0;k<x.length;k++)u["$"+x[k]]=!0;for(x=0;x<c.length;x++)k=u.hasOwnProperty("$"+c[x].value),c[x].selected!==k&&(c[x].selected=k),k&&j&&(c[x].defaultSelected=!0)}else{for(x=""+Re(x),u=null,k=0;k<c.length;k++){if(c[k].value===x){c[k].selected=!0,j&&(c[k].defaultSelected=!0);return}u!==null||c[k].disabled||(u=c[k])}u!==null&&(u.selected=!0)}}function Be(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(s(91));return K({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function kt(c,u){var x=u.value;if(x==null){if(x=u.children,u=u.defaultValue,x!=null){if(u!=null)throw Error(s(92));if(Nt(x)){if(1<x.length)throw Error(s(93));x=x[0]}u=x}u==null&&(u=""),x=u}c._wrapperState={initialValue:Re(x)}}function Kt(c,u){var x=Re(u.value),j=Re(u.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),u.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function _t(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function wr(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kr(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?wr(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var jr,vs=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,x,j,k){MSApp.execUnsafeLocalFunction(function(){return c(u,x,j,k)})}:c}(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=jr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function Tr(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var Ke={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Os=["Webkit","ms","Moz","O"];Object.keys(Ke).forEach(function(c){Os.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),Ke[u]=Ke[c]})});function es(c,u,x){return u==null||typeof u=="boolean"||u===""?"":x||typeof u!="number"||u===0||Ke.hasOwnProperty(c)&&Ke[c]?(""+u).trim():u+"px"}function ms(c,u){c=c.style;for(var x in u)if(u.hasOwnProperty(x)){var j=x.indexOf("--")===0,k=es(x,u[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,k):c[x]=k}}var pt=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(c,u){if(u){if(pt[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(s(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(s(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(s(61))}if(u.style!=null&&typeof u.style!="object")throw Error(s(62))}}function Rt(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=null;function ie(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ye=null,Fe=null,it=null;function vt(c){if(c=Vm(c)){if(typeof ye!="function")throw Error(s(280));var u=c.stateNode;u&&(u=gp(u),ye(c.stateNode,c.type,u))}}function Zt(c){Fe?it?it.push(c):it=[c]:Fe=c}function wt(){if(Fe){var c=Fe,u=it;if(it=Fe=null,vt(c),u)for(c=0;c<u.length;c++)vt(u[c])}}function ra(c,u){return c(u)}function sa(){}var aa=!1;function Oi(c,u,x){if(aa)return c(u,x);aa=!0;try{return ra(c,u,x)}finally{aa=!1,(Fe!==null||it!==null)&&(sa(),wt())}}function Nr(c,u){var x=c.stateNode;if(x===null)return null;var j=gp(x);if(j===null)return null;x=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(s(231,u,typeof x));return x}var bs=!1;if(l)try{var na={};Object.defineProperty(na,"passive",{get:function(){bs=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{bs=!1}function jn(c,u,x,j,k,P,D,Y,re){var fe=Array.prototype.slice.call(arguments,3);try{u.apply(x,fe)}catch(Oe){this.onError(Oe)}}var ws=!1,Da=null,Gt=!1,Mi=null,zt={onError:function(c){ws=!0,Da=c}};function tr(c,u,x,j,k,P,D,Y,re){ws=!1,Da=null,jn.apply(zt,arguments)}function ke(c,u,x,j,k,P,D,Y,re){if(tr.apply(this,arguments),ws){if(ws){var fe=Da;ws=!1,Da=null}else throw Error(s(198));Gt||(Gt=!0,Mi=fe)}}function Ze(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function Pt(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function It(c){if(Ze(c)!==c)throw Error(s(188))}function Ks(c){var u=c.alternate;if(!u){if(u=Ze(c),u===null)throw Error(s(188));return u!==c?null:c}for(var x=c,j=u;;){var k=x.return;if(k===null)break;var P=k.alternate;if(P===null){if(j=k.return,j!==null){x=j;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===x)return It(k),c;if(P===j)return It(k),u;P=P.sibling}throw Error(s(188))}if(x.return!==j.return)x=k,j=P;else{for(var D=!1,Y=k.child;Y;){if(Y===x){D=!0,x=k,j=P;break}if(Y===j){D=!0,j=k,x=P;break}Y=Y.sibling}if(!D){for(Y=P.child;Y;){if(Y===x){D=!0,x=P,j=k;break}if(Y===j){D=!0,j=P,x=k;break}Y=Y.sibling}if(!D)throw Error(s(189))}}if(x.alternate!==j)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?c:u}function Ms(c){return c=Ks(c),c!==null?Jn(c):null}function Jn(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=Jn(c);if(u!==null)return u;c=c.sibling}return null}var La=r.unstable_scheduleCallback,Nn=r.unstable_cancelCallback,Za=r.unstable_shouldYield,Zo=r.unstable_requestPaint,rr=r.unstable_now,el=r.unstable_getCurrentPriorityLevel,Xn=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,$e=r.unstable_NormalPriority,lt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,ur=null,jt=null;function sr(c){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ur,c,void 0,(c.current.flags&128)===128)}catch{}}var G=Math.clz32?Math.clz32:Cr,ve=Math.log,Qt=Math.LN2;function Cr(c){return c>>>=0,c===0?32:31-(ve(c)/Qt|0)|0}var vr=64,ia=4194304;function en(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Qn(c,u){var x=c.pendingLanes;if(x===0)return 0;var j=0,k=c.suspendedLanes,P=c.pingedLanes,D=x&268435455;if(D!==0){var Y=D&~k;Y!==0?j=en(Y):(P&=D,P!==0&&(j=en(P)))}else D=x&~k,D!==0?j=en(D):P!==0&&(j=en(P));if(j===0)return 0;if(u!==0&&u!==j&&(u&k)===0&&(k=j&-j,P=u&-u,k>=P||k===16&&(P&4194240)!==0))return u;if((j&4)!==0&&(j|=x&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=j;0<u;)x=31-G(u),k=1<<x,j|=c[x],u&=~k;return j}function _d(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(c,u){for(var x=c.suspendedLanes,j=c.pingedLanes,k=c.expirationTimes,P=c.pendingLanes;0<P;){var D=31-G(P),Y=1<<D,re=k[D];re===-1?((Y&x)===0||(Y&j)!==0)&&(k[D]=_d(Y,u)):re<=u&&(c.expiredLanes|=Y),P&=~Y}}function Pd(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function jm(){var c=vr;return vr<<=1,(vr&4194240)===0&&(vr=64),c}function Ad(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function tl(c,u,x){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-G(u),c[u]=x}function ep(c,u){var x=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var k=31-G(x),P=1<<k;u[k]=0,j[k]=-1,c[k]=-1,x&=~P}}function Ed(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var j=31-G(x),k=1<<j;k&u|c[j]&u&&(c[j]|=u),x&=~k}}var ar=0;function Nm(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Sm,Td,Cm,km,_m,Od=!1,hc=[],Zn=null,ei=null,ti=null,rl=new Map,sl=new Map,ri=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pm(c,u){switch(c){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":rl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(u.pointerId)}}function al(c,u,x,j,k,P){return c===null||c.nativeEvent!==P?(c={blockedOn:u,domEventName:x,eventSystemFlags:j,nativeEvent:P,targetContainers:[k]},u!==null&&(u=Vm(u),u!==null&&Td(u)),c):(c.eventSystemFlags|=j,u=c.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),c)}function rp(c,u,x,j,k){switch(u){case"focusin":return Zn=al(Zn,c,u,x,j,k),!0;case"dragenter":return ei=al(ei,c,u,x,j,k),!0;case"mouseover":return ti=al(ti,c,u,x,j,k),!0;case"pointerover":var P=k.pointerId;return rl.set(P,al(rl.get(P)||null,c,u,x,j,k)),!0;case"gotpointercapture":return P=k.pointerId,sl.set(P,al(sl.get(P)||null,c,u,x,j,k)),!0}return!1}function Am(c){var u=gc(c.target);if(u!==null){var x=Ze(u);if(x!==null){if(u=x.tag,u===13){if(u=Pt(x),u!==null){c.blockedOn=u,_m(c.priority,function(){Cm(x)});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function fc(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=Tm(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);$t=j,x.target.dispatchEvent(j),$t=null}else return u=Vm(x),u!==null&&Td(u),c.blockedOn=x,!1;u.shift()}return!0}function Em(c,u,x){fc(c)&&x.delete(u)}function sp(){Od=!1,Zn!==null&&fc(Zn)&&(Zn=null),ei!==null&&fc(ei)&&(ei=null),ti!==null&&fc(ti)&&(ti=null),rl.forEach(Em),sl.forEach(Em)}function nl(c,u){c.blockedOn===u&&(c.blockedOn=null,Od||(Od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sp)))}function il(c){function u(k){return nl(k,c)}if(0<hc.length){nl(hc[0],c);for(var x=1;x<hc.length;x++){var j=hc[x];j.blockedOn===c&&(j.blockedOn=null)}}for(Zn!==null&&nl(Zn,c),ei!==null&&nl(ei,c),ti!==null&&nl(ti,c),rl.forEach(u),sl.forEach(u),x=0;x<ri.length;x++)j=ri[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<ri.length&&(x=ri[0],x.blockedOn===null);)Am(x),x.blockedOn===null&&ri.shift()}var uo=_.ReactCurrentBatchConfig,pc=!0;function ap(c,u,x,j){var k=ar,P=uo.transition;uo.transition=null;try{ar=1,Md(c,u,x,j)}finally{ar=k,uo.transition=P}}function np(c,u,x,j){var k=ar,P=uo.transition;uo.transition=null;try{ar=4,Md(c,u,x,j)}finally{ar=k,uo.transition=P}}function Md(c,u,x,j){if(pc){var k=Tm(c,u,x,j);if(k===null)uv(c,u,j,We,x),Pm(c,j);else if(rp(k,c,u,x,j))j.stopPropagation();else if(Pm(c,j),u&4&&-1<tp.indexOf(c)){for(;k!==null;){var P=Vm(k);if(P!==null&&Sm(P),P=Tm(c,u,x,j),P===null&&uv(c,u,j,We,x),P===k)break;k=P}k!==null&&j.stopPropagation()}else uv(c,u,j,null,x)}}var We=null;function Tm(c,u,x,j){if(We=null,c=ie(j),c=gc(c),c!==null)if(u=Ze(c),u===null)c=null;else if(x=u.tag,x===13){if(c=Pt(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return We=c,null}function Rd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(el()){case Xn:return 1;case we:return 4;case $e:case lt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var mr=null,Lr=null,mo=null;function Om(){if(mo)return mo;var c,u=Lr,x=u.length,j,k="value"in mr?mr.value:mr.textContent,P=k.length;for(c=0;c<x&&u[c]===k[c];c++);var D=x-c;for(j=1;j<=D&&u[x-j]===k[P-j];j++);return mo=k.slice(c,1<j?1-j:void 0)}function ip(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function op(){return!0}function jk(){return!1}function tn(c){function u(x,j,k,P,D){this._reactName=x,this._targetInst=k,this.type=j,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var Y in c)c.hasOwnProperty(Y)&&(x=c[Y],this[Y]=x?x(P):P[Y]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?op:jk,this.isPropagationStopped=jk,this}return K(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=op)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=op)},persist:function(){},isPersistent:op}),u}var Id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jy=tn(Id),Mm=K({},Id,{view:0,detail:0}),UU=tn(Mm),Xy,Qy,Rm,lp=K({},Mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rm&&(Rm&&c.type==="mousemove"?(Xy=c.screenX-Rm.screenX,Qy=c.screenY-Rm.screenY):Qy=Xy=0,Rm=c),Xy)},movementY:function(c){return"movementY"in c?c.movementY:Qy}}),Nk=tn(lp),BU=K({},lp,{dataTransfer:0}),WU=tn(BU),VU=K({},Mm,{relatedTarget:0}),Zy=tn(VU),qU=K({},Id,{animationName:0,elapsedTime:0,pseudoElement:0}),HU=tn(qU),KU=K({},Id,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),GU=tn(KU),YU=K({},Id,{data:0}),Sk=tn(YU),JU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZU(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=QU[c])?!!u[c]:!1}function ev(){return ZU}var e9=K({},Mm,{key:function(c){if(c.key){var u=JU[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=ip(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?XU[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(c){return c.type==="keypress"?ip(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ip(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),t9=tn(e9),r9=K({},lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ck=tn(r9),s9=K({},Mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),a9=tn(s9),n9=K({},Id,{propertyName:0,elapsedTime:0,pseudoElement:0}),i9=tn(n9),o9=K({},lp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),l9=tn(o9),c9=[9,13,27,32],tv=l&&"CompositionEvent"in window,Im=null;l&&"documentMode"in document&&(Im=document.documentMode);var d9=l&&"TextEvent"in window&&!Im,kk=l&&(!tv||Im&&8<Im&&11>=Im),_k=" ",Pk=!1;function Ak(c,u){switch(c){case"keyup":return c9.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ek(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Dd=!1;function u9(c,u){switch(c){case"compositionend":return Ek(u);case"keypress":return u.which!==32?null:(Pk=!0,_k);case"textInput":return c=u.data,c===_k&&Pk?null:c;default:return null}}function m9(c,u){if(Dd)return c==="compositionend"||!tv&&Ak(c,u)?(c=Om(),mo=Lr=mr=null,Dd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return kk&&u.locale!=="ko"?null:u.data;default:return null}}var h9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tk(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!h9[c.type]:u==="textarea"}function Ok(c,u,x,j){Zt(j),u=hp(u,"onChange"),0<u.length&&(x=new Jy("onChange","change",null,x,j),c.push({event:x,listeners:u}))}var Dm=null,Lm=null;function f9(c){Jk(c,0)}function cp(c){var u=Ud(c);if(te(u))return c}function p9(c,u){if(c==="change")return u}var Mk=!1;if(l){var rv;if(l){var sv="oninput"in document;if(!sv){var Rk=document.createElement("div");Rk.setAttribute("oninput","return;"),sv=typeof Rk.oninput=="function"}rv=sv}else rv=!1;Mk=rv&&(!document.documentMode||9<document.documentMode)}function Ik(){Dm&&(Dm.detachEvent("onpropertychange",Dk),Lm=Dm=null)}function Dk(c){if(c.propertyName==="value"&&cp(Lm)){var u=[];Ok(u,Lm,c,ie(c)),Oi(f9,u)}}function g9(c,u,x){c==="focusin"?(Ik(),Dm=u,Lm=x,Dm.attachEvent("onpropertychange",Dk)):c==="focusout"&&Ik()}function x9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return cp(Lm)}function y9(c,u){if(c==="click")return cp(u)}function v9(c,u){if(c==="input"||c==="change")return cp(u)}function b9(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var si=typeof Object.is=="function"?Object.is:b9;function $m(c,u){if(si(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),j=Object.keys(u);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var k=x[j];if(!d.call(u,k)||!si(c[k],u[k]))return!1}return!0}function Lk(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function $k(c,u){var x=Lk(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=u&&j>=u)return{node:x,offset:u-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Lk(x)}}function zk(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?zk(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function Fk(){for(var c=window,u=be();u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=be(c.document)}return u}function av(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function w9(c){var u=Fk(),x=c.focusedElem,j=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&zk(x.ownerDocument.documentElement,x)){if(j!==null&&av(x)){if(u=j.start,c=j.end,c===void 0&&(c=u),"selectionStart"in x)x.selectionStart=u,x.selectionEnd=Math.min(c,x.value.length);else if(c=(u=x.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var k=x.textContent.length,P=Math.min(j.start,k);j=j.end===void 0?P:Math.min(j.end,k),!c.extend&&P>j&&(k=j,j=P,P=k),k=$k(x,P);var D=$k(x,j);k&&D&&(c.rangeCount!==1||c.anchorNode!==k.node||c.anchorOffset!==k.offset||c.focusNode!==D.node||c.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),c.removeAllRanges(),P>j?(c.addRange(u),c.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),c.addRange(u)))}}for(u=[],c=x;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<u.length;x++)c=u[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var j9=l&&"documentMode"in document&&11>=document.documentMode,Ld=null,nv=null,zm=null,iv=!1;function Uk(c,u,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;iv||Ld==null||Ld!==be(j)||(j=Ld,"selectionStart"in j&&av(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),zm&&$m(zm,j)||(zm=j,j=hp(nv,"onSelect"),0<j.length&&(u=new Jy("onSelect","select",null,u,x),c.push({event:u,listeners:j}),u.target=Ld)))}function dp(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var $d={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},ov={},Bk={};l&&(Bk=document.createElement("div").style,"AnimationEvent"in window||(delete $d.animationend.animation,delete $d.animationiteration.animation,delete $d.animationstart.animation),"TransitionEvent"in window||delete $d.transitionend.transition);function up(c){if(ov[c])return ov[c];if(!$d[c])return c;var u=$d[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in Bk)return ov[c]=u[x];return c}var Wk=up("animationend"),Vk=up("animationiteration"),qk=up("animationstart"),Hk=up("transitionend"),Kk=new Map,Gk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(c,u){Kk.set(c,u),i(u,[c])}for(var lv=0;lv<Gk.length;lv++){var cv=Gk[lv],N9=cv.toLowerCase(),S9=cv[0].toUpperCase()+cv.slice(1);ol(N9,"on"+S9)}ol(Wk,"onAnimationEnd"),ol(Vk,"onAnimationIteration"),ol(qk,"onAnimationStart"),ol("dblclick","onDoubleClick"),ol("focusin","onFocus"),ol("focusout","onBlur"),ol(Hk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fm));function Yk(c,u,x){var j=c.type||"unknown-event";c.currentTarget=x,ke(j,u,void 0,c),c.currentTarget=null}function Jk(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],k=j.event;j=j.listeners;e:{var P=void 0;if(u)for(var D=j.length-1;0<=D;D--){var Y=j[D],re=Y.instance,fe=Y.currentTarget;if(Y=Y.listener,re!==P&&k.isPropagationStopped())break e;Yk(k,Y,fe),P=re}else for(D=0;D<j.length;D++){if(Y=j[D],re=Y.instance,fe=Y.currentTarget,Y=Y.listener,re!==P&&k.isPropagationStopped())break e;Yk(k,Y,fe),P=re}}}if(Gt)throw c=Mi,Gt=!1,Mi=null,c}function Or(c,u){var x=u[xv];x===void 0&&(x=u[xv]=new Set);var j=c+"__bubble";x.has(j)||(Xk(u,c,2,!1),x.add(j))}function dv(c,u,x){var j=0;u&&(j|=4),Xk(x,c,j,u)}var mp="_reactListening"+Math.random().toString(36).slice(2);function Um(c){if(!c[mp]){c[mp]=!0,a.forEach(function(x){x!=="selectionchange"&&(C9.has(x)||dv(x,!1,c),dv(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[mp]||(u[mp]=!0,dv("selectionchange",!1,u))}}function Xk(c,u,x,j){switch(Rd(u)){case 1:var k=ap;break;case 4:k=np;break;default:k=Md}x=k.bind(null,u,x,c),k=void 0,!bs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),j?k!==void 0?c.addEventListener(u,x,{capture:!0,passive:k}):c.addEventListener(u,x,!0):k!==void 0?c.addEventListener(u,x,{passive:k}):c.addEventListener(u,x,!1)}function uv(c,u,x,j,k){var P=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var D=j.tag;if(D===3||D===4){var Y=j.stateNode.containerInfo;if(Y===k||Y.nodeType===8&&Y.parentNode===k)break;if(D===4)for(D=j.return;D!==null;){var re=D.tag;if((re===3||re===4)&&(re=D.stateNode.containerInfo,re===k||re.nodeType===8&&re.parentNode===k))return;D=D.return}for(;Y!==null;){if(D=gc(Y),D===null)return;if(re=D.tag,re===5||re===6){j=P=D;continue e}Y=Y.parentNode}}j=j.return}Oi(function(){var fe=P,Oe=ie(x),Me=[];e:{var Pe=Kk.get(c);if(Pe!==void 0){var qe=Jy,Xe=c;switch(c){case"keypress":if(ip(x)===0)break e;case"keydown":case"keyup":qe=t9;break;case"focusin":Xe="focus",qe=Zy;break;case"focusout":Xe="blur",qe=Zy;break;case"beforeblur":case"afterblur":qe=Zy;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Nk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=WU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=a9;break;case Wk:case Vk:case qk:qe=HU;break;case Hk:qe=i9;break;case"scroll":qe=UU;break;case"wheel":qe=l9;break;case"copy":case"cut":case"paste":qe=GU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Ck}var Qe=(u&4)!==0,ts=!Qe&&c==="scroll",le=Qe?Pe!==null?Pe+"Capture":null:Pe;Qe=[];for(var ae=fe,ue;ae!==null;){ue=ae;var Ie=ue.stateNode;if(ue.tag===5&&Ie!==null&&(ue=Ie,le!==null&&(Ie=Nr(ae,le),Ie!=null&&Qe.push(Bm(ae,Ie,ue)))),ts)break;ae=ae.return}0<Qe.length&&(Pe=new qe(Pe,Xe,null,x,Oe),Me.push({event:Pe,listeners:Qe}))}}if((u&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",qe=c==="mouseout"||c==="pointerout",Pe&&x!==$t&&(Xe=x.relatedTarget||x.fromElement)&&(gc(Xe)||Xe[ho]))break e;if((qe||Pe)&&(Pe=Oe.window===Oe?Oe:(Pe=Oe.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,qe?(Xe=x.relatedTarget||x.toElement,qe=fe,Xe=Xe?gc(Xe):null,Xe!==null&&(ts=Ze(Xe),Xe!==ts||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(qe=null,Xe=fe),qe!==Xe)){if(Qe=Nk,Ie="onMouseLeave",le="onMouseEnter",ae="mouse",(c==="pointerout"||c==="pointerover")&&(Qe=Ck,Ie="onPointerLeave",le="onPointerEnter",ae="pointer"),ts=qe==null?Pe:Ud(qe),ue=Xe==null?Pe:Ud(Xe),Pe=new Qe(Ie,ae+"leave",qe,x,Oe),Pe.target=ts,Pe.relatedTarget=ue,Ie=null,gc(Oe)===fe&&(Qe=new Qe(le,ae+"enter",Xe,x,Oe),Qe.target=ue,Qe.relatedTarget=ts,Ie=Qe),ts=Ie,qe&&Xe)t:{for(Qe=qe,le=Xe,ae=0,ue=Qe;ue;ue=zd(ue))ae++;for(ue=0,Ie=le;Ie;Ie=zd(Ie))ue++;for(;0<ae-ue;)Qe=zd(Qe),ae--;for(;0<ue-ae;)le=zd(le),ue--;for(;ae--;){if(Qe===le||le!==null&&Qe===le.alternate)break t;Qe=zd(Qe),le=zd(le)}Qe=null}else Qe=null;qe!==null&&Qk(Me,Pe,qe,Qe,!1),Xe!==null&&ts!==null&&Qk(Me,ts,Xe,Qe,!0)}}e:{if(Pe=fe?Ud(fe):window,qe=Pe.nodeName&&Pe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Pe.type==="file")var et=p9;else if(Tk(Pe))if(Mk)et=v9;else{et=x9;var ct=g9}else(qe=Pe.nodeName)&&qe.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(et=y9);if(et&&(et=et(c,fe))){Ok(Me,et,x,Oe);break e}ct&&ct(c,Pe,fe),c==="focusout"&&(ct=Pe._wrapperState)&&ct.controlled&&Pe.type==="number"&&Tt(Pe,"number",Pe.value)}switch(ct=fe?Ud(fe):window,c){case"focusin":(Tk(ct)||ct.contentEditable==="true")&&(Ld=ct,nv=fe,zm=null);break;case"focusout":zm=nv=Ld=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,Uk(Me,x,Oe);break;case"selectionchange":if(j9)break;case"keydown":case"keyup":Uk(Me,x,Oe)}var dt;if(tv)e:{switch(c){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Dd?Ak(c,x)&&(gt="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(gt="onCompositionStart");gt&&(kk&&x.locale!=="ko"&&(Dd||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Dd&&(dt=Om()):(mr=Oe,Lr="value"in mr?mr.value:mr.textContent,Dd=!0)),ct=hp(fe,gt),0<ct.length&&(gt=new Sk(gt,c,null,x,Oe),Me.push({event:gt,listeners:ct}),dt?gt.data=dt:(dt=Ek(x),dt!==null&&(gt.data=dt)))),(dt=d9?u9(c,x):m9(c,x))&&(fe=hp(fe,"onBeforeInput"),0<fe.length&&(Oe=new Sk("onBeforeInput","beforeinput",null,x,Oe),Me.push({event:Oe,listeners:fe}),Oe.data=dt))}Jk(Me,u)})}function Bm(c,u,x){return{instance:c,listener:u,currentTarget:x}}function hp(c,u){for(var x=u+"Capture",j=[];c!==null;){var k=c,P=k.stateNode;k.tag===5&&P!==null&&(k=P,P=Nr(c,x),P!=null&&j.unshift(Bm(c,P,k)),P=Nr(c,u),P!=null&&j.push(Bm(c,P,k))),c=c.return}return j}function zd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Qk(c,u,x,j,k){for(var P=u._reactName,D=[];x!==null&&x!==j;){var Y=x,re=Y.alternate,fe=Y.stateNode;if(re!==null&&re===j)break;Y.tag===5&&fe!==null&&(Y=fe,k?(re=Nr(x,P),re!=null&&D.unshift(Bm(x,re,Y))):k||(re=Nr(x,P),re!=null&&D.push(Bm(x,re,Y)))),x=x.return}D.length!==0&&c.push({event:u,listeners:D})}var k9=/\r\n?/g,_9=/\u0000|\uFFFD/g;function Zk(c){return(typeof c=="string"?c:""+c).replace(k9,`
`).replace(_9,"")}function fp(c,u,x){if(u=Zk(u),Zk(c)!==u&&x)throw Error(s(425))}function pp(){}var mv=null,hv=null;function fv(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var pv=typeof setTimeout=="function"?setTimeout:void 0,P9=typeof clearTimeout=="function"?clearTimeout:void 0,e4=typeof Promise=="function"?Promise:void 0,A9=typeof queueMicrotask=="function"?queueMicrotask:typeof e4<"u"?function(c){return e4.resolve(null).then(c).catch(E9)}:pv;function E9(c){setTimeout(function(){throw c})}function gv(c,u){var x=u,j=0;do{var k=x.nextSibling;if(c.removeChild(x),k&&k.nodeType===8)if(x=k.data,x==="/$"){if(j===0){c.removeChild(k),il(u);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=k}while(x);il(u)}function ll(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function t4(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}var Fd=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Fd,Wm="__reactProps$"+Fd,ho="__reactContainer$"+Fd,xv="__reactEvents$"+Fd,T9="__reactListeners$"+Fd,O9="__reactHandles$"+Fd;function gc(c){var u=c[Ri];if(u)return u;for(var x=c.parentNode;x;){if(u=x[ho]||x[Ri]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=t4(c);c!==null;){if(x=c[Ri])return x;c=t4(c)}return u}c=x,x=c.parentNode}return null}function Vm(c){return c=c[Ri]||c[ho],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ud(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(s(33))}function gp(c){return c[Wm]||null}var yv=[],Bd=-1;function cl(c){return{current:c}}function Mr(c){0>Bd||(c.current=yv[Bd],yv[Bd]=null,Bd--)}function kr(c,u){Bd++,yv[Bd]=c.current,c.current=u}var dl={},oa=cl(dl),$a=cl(!1),xc=dl;function Wd(c,u){var x=c.type.contextTypes;if(!x)return dl;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var k={},P;for(P in x)k[P]=u[P];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=k),k}function za(c){return c=c.childContextTypes,c!=null}function xp(){Mr($a),Mr(oa)}function r4(c,u,x){if(oa.current!==dl)throw Error(s(168));kr(oa,u),kr($a,x)}function s4(c,u,x){var j=c.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var k in j)if(!(k in u))throw Error(s(108,Ae(c)||"Unknown",k));return K({},x,j)}function yp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||dl,xc=oa.current,kr(oa,c),kr($a,$a.current),!0}function a4(c,u,x){var j=c.stateNode;if(!j)throw Error(s(169));x?(c=s4(c,u,xc),j.__reactInternalMemoizedMergedChildContext=c,Mr($a),Mr(oa),kr(oa,c)):Mr($a),kr($a,x)}var fo=null,vp=!1,vv=!1;function n4(c){fo===null?fo=[c]:fo.push(c)}function M9(c){vp=!0,n4(c)}function ul(){if(!vv&&fo!==null){vv=!0;var c=0,u=ar;try{var x=fo;for(ar=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}fo=null,vp=!1}catch(k){throw fo!==null&&(fo=fo.slice(c+1)),La(Xn,ul),k}finally{ar=u,vv=!1}}return null}var Vd=[],qd=0,bp=null,wp=0,Sn=[],Cn=0,yc=null,po=1,go="";function vc(c,u){Vd[qd++]=wp,Vd[qd++]=bp,bp=c,wp=u}function i4(c,u,x){Sn[Cn++]=po,Sn[Cn++]=go,Sn[Cn++]=yc,yc=c;var j=po;c=go;var k=32-G(j)-1;j&=~(1<<k),x+=1;var P=32-G(u)+k;if(30<P){var D=k-k%5;P=(j&(1<<D)-1).toString(32),j>>=D,k-=D,po=1<<32-G(u)+k|x<<k|j,go=P+c}else po=1<<P|x<<k|j,go=c}function bv(c){c.return!==null&&(vc(c,1),i4(c,1,0))}function wv(c){for(;c===bp;)bp=Vd[--qd],Vd[qd]=null,wp=Vd[--qd],Vd[qd]=null;for(;c===yc;)yc=Sn[--Cn],Sn[Cn]=null,go=Sn[--Cn],Sn[Cn]=null,po=Sn[--Cn],Sn[Cn]=null}var rn=null,sn=null,$r=!1,ai=null;function o4(c,u){var x=An(5,null,null,0);x.elementType="DELETED",x.stateNode=u,x.return=c,u=c.deletions,u===null?(c.deletions=[x],c.flags|=16):u.push(x)}function l4(c,u){switch(c.tag){case 5:var x=c.type;return u=u.nodeType!==1||x.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,rn=c,sn=ll(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,rn=c,sn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(x=yc!==null?{id:po,overflow:go}:null,c.memoizedState={dehydrated:u,treeContext:x,retryLane:1073741824},x=An(18,null,null,0),x.stateNode=u,x.return=c,c.child=x,rn=c,sn=null,!0):!1;default:return!1}}function jv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Nv(c){if($r){var u=sn;if(u){var x=u;if(!l4(c,u)){if(jv(c))throw Error(s(418));u=ll(x.nextSibling);var j=rn;u&&l4(c,u)?o4(j,x):(c.flags=c.flags&-4097|2,$r=!1,rn=c)}}else{if(jv(c))throw Error(s(418));c.flags=c.flags&-4097|2,$r=!1,rn=c}}}function c4(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;rn=c}function jp(c){if(c!==rn)return!1;if(!$r)return c4(c),$r=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!fv(c.type,c.memoizedProps)),u&&(u=sn)){if(jv(c))throw d4(),Error(s(418));for(;u;)o4(c,u),u=ll(u.nextSibling)}if(c4(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(u===0){sn=ll(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++}c=c.nextSibling}sn=null}}else sn=rn?ll(c.stateNode.nextSibling):null;return!0}function d4(){for(var c=sn;c;)c=ll(c.nextSibling)}function Hd(){sn=rn=null,$r=!1}function Sv(c){ai===null?ai=[c]:ai.push(c)}var R9=_.ReactCurrentBatchConfig;function qm(c,u,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(s(309));var j=x.stateNode}if(!j)throw Error(s(147,c));var k=j,P=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(D){var Y=k.refs;D===null?delete Y[P]:Y[P]=D},u._stringRef=P,u)}if(typeof c!="string")throw Error(s(284));if(!x._owner)throw Error(s(290,c))}return c}function Np(c,u){throw c=Object.prototype.toString.call(u),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function u4(c){var u=c._init;return u(c._payload)}function m4(c){function u(le,ae){if(c){var ue=le.deletions;ue===null?(le.deletions=[ae],le.flags|=16):ue.push(ae)}}function x(le,ae){if(!c)return null;for(;ae!==null;)u(le,ae),ae=ae.sibling;return null}function j(le,ae){for(le=new Map;ae!==null;)ae.key!==null?le.set(ae.key,ae):le.set(ae.index,ae),ae=ae.sibling;return le}function k(le,ae){return le=vl(le,ae),le.index=0,le.sibling=null,le}function P(le,ae,ue){return le.index=ue,c?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ae?(le.flags|=2,ae):ue):(le.flags|=2,ae)):(le.flags|=1048576,ae)}function D(le){return c&&le.alternate===null&&(le.flags|=2),le}function Y(le,ae,ue,Ie){return ae===null||ae.tag!==6?(ae=pb(ue,le.mode,Ie),ae.return=le,ae):(ae=k(ae,ue),ae.return=le,ae)}function re(le,ae,ue,Ie){var et=ue.type;return et===E?Oe(le,ae,ue.props.children,Ie,ue.key):ae!==null&&(ae.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===$&&u4(et)===ae.type)?(Ie=k(ae,ue.props),Ie.ref=qm(le,ae,ue),Ie.return=le,Ie):(Ie=Kp(ue.type,ue.key,ue.props,null,le.mode,Ie),Ie.ref=qm(le,ae,ue),Ie.return=le,Ie)}function fe(le,ae,ue,Ie){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ue.containerInfo||ae.stateNode.implementation!==ue.implementation?(ae=gb(ue,le.mode,Ie),ae.return=le,ae):(ae=k(ae,ue.children||[]),ae.return=le,ae)}function Oe(le,ae,ue,Ie,et){return ae===null||ae.tag!==7?(ae=_c(ue,le.mode,Ie,et),ae.return=le,ae):(ae=k(ae,ue),ae.return=le,ae)}function Me(le,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=pb(""+ae,le.mode,ue),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ue=Kp(ae.type,ae.key,ae.props,null,le.mode,ue),ue.ref=qm(le,null,ae),ue.return=le,ue;case T:return ae=gb(ae,le.mode,ue),ae.return=le,ae;case $:var Ie=ae._init;return Me(le,Ie(ae._payload),ue)}if(Nt(ae)||z(ae))return ae=_c(ae,le.mode,ue,null),ae.return=le,ae;Np(le,ae)}return null}function Pe(le,ae,ue,Ie){var et=ae!==null?ae.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return et!==null?null:Y(le,ae,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return ue.key===et?re(le,ae,ue,Ie):null;case T:return ue.key===et?fe(le,ae,ue,Ie):null;case $:return et=ue._init,Pe(le,ae,et(ue._payload),Ie)}if(Nt(ue)||z(ue))return et!==null?null:Oe(le,ae,ue,Ie,null);Np(le,ue)}return null}function qe(le,ae,ue,Ie,et){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return le=le.get(ue)||null,Y(ae,le,""+Ie,et);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case A:return le=le.get(Ie.key===null?ue:Ie.key)||null,re(ae,le,Ie,et);case T:return le=le.get(Ie.key===null?ue:Ie.key)||null,fe(ae,le,Ie,et);case $:var ct=Ie._init;return qe(le,ae,ue,ct(Ie._payload),et)}if(Nt(Ie)||z(Ie))return le=le.get(ue)||null,Oe(ae,le,Ie,et,null);Np(ae,Ie)}return null}function Xe(le,ae,ue,Ie){for(var et=null,ct=null,dt=ae,gt=ae=0,Ds=null;dt!==null&&gt<ue.length;gt++){dt.index>gt?(Ds=dt,dt=null):Ds=dt.sibling;var nr=Pe(le,dt,ue[gt],Ie);if(nr===null){dt===null&&(dt=Ds);break}c&&dt&&nr.alternate===null&&u(le,dt),ae=P(nr,ae,gt),ct===null?et=nr:ct.sibling=nr,ct=nr,dt=Ds}if(gt===ue.length)return x(le,dt),$r&&vc(le,gt),et;if(dt===null){for(;gt<ue.length;gt++)dt=Me(le,ue[gt],Ie),dt!==null&&(ae=P(dt,ae,gt),ct===null?et=dt:ct.sibling=dt,ct=dt);return $r&&vc(le,gt),et}for(dt=j(le,dt);gt<ue.length;gt++)Ds=qe(dt,le,gt,ue[gt],Ie),Ds!==null&&(c&&Ds.alternate!==null&&dt.delete(Ds.key===null?gt:Ds.key),ae=P(Ds,ae,gt),ct===null?et=Ds:ct.sibling=Ds,ct=Ds);return c&&dt.forEach(function(bl){return u(le,bl)}),$r&&vc(le,gt),et}function Qe(le,ae,ue,Ie){var et=z(ue);if(typeof et!="function")throw Error(s(150));if(ue=et.call(ue),ue==null)throw Error(s(151));for(var ct=et=null,dt=ae,gt=ae=0,Ds=null,nr=ue.next();dt!==null&&!nr.done;gt++,nr=ue.next()){dt.index>gt?(Ds=dt,dt=null):Ds=dt.sibling;var bl=Pe(le,dt,nr.value,Ie);if(bl===null){dt===null&&(dt=Ds);break}c&&dt&&bl.alternate===null&&u(le,dt),ae=P(bl,ae,gt),ct===null?et=bl:ct.sibling=bl,ct=bl,dt=Ds}if(nr.done)return x(le,dt),$r&&vc(le,gt),et;if(dt===null){for(;!nr.done;gt++,nr=ue.next())nr=Me(le,nr.value,Ie),nr!==null&&(ae=P(nr,ae,gt),ct===null?et=nr:ct.sibling=nr,ct=nr);return $r&&vc(le,gt),et}for(dt=j(le,dt);!nr.done;gt++,nr=ue.next())nr=qe(dt,le,gt,nr.value,Ie),nr!==null&&(c&&nr.alternate!==null&&dt.delete(nr.key===null?gt:nr.key),ae=P(nr,ae,gt),ct===null?et=nr:ct.sibling=nr,ct=nr);return c&&dt.forEach(function(hB){return u(le,hB)}),$r&&vc(le,gt),et}function ts(le,ae,ue,Ie){if(typeof ue=="object"&&ue!==null&&ue.type===E&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:e:{for(var et=ue.key,ct=ae;ct!==null;){if(ct.key===et){if(et=ue.type,et===E){if(ct.tag===7){x(le,ct.sibling),ae=k(ct,ue.props.children),ae.return=le,le=ae;break e}}else if(ct.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===$&&u4(et)===ct.type){x(le,ct.sibling),ae=k(ct,ue.props),ae.ref=qm(le,ct,ue),ae.return=le,le=ae;break e}x(le,ct);break}else u(le,ct);ct=ct.sibling}ue.type===E?(ae=_c(ue.props.children,le.mode,Ie,ue.key),ae.return=le,le=ae):(Ie=Kp(ue.type,ue.key,ue.props,null,le.mode,Ie),Ie.ref=qm(le,ae,ue),Ie.return=le,le=Ie)}return D(le);case T:e:{for(ct=ue.key;ae!==null;){if(ae.key===ct)if(ae.tag===4&&ae.stateNode.containerInfo===ue.containerInfo&&ae.stateNode.implementation===ue.implementation){x(le,ae.sibling),ae=k(ae,ue.children||[]),ae.return=le,le=ae;break e}else{x(le,ae);break}else u(le,ae);ae=ae.sibling}ae=gb(ue,le.mode,Ie),ae.return=le,le=ae}return D(le);case $:return ct=ue._init,ts(le,ae,ct(ue._payload),Ie)}if(Nt(ue))return Xe(le,ae,ue,Ie);if(z(ue))return Qe(le,ae,ue,Ie);Np(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ae!==null&&ae.tag===6?(x(le,ae.sibling),ae=k(ae,ue),ae.return=le,le=ae):(x(le,ae),ae=pb(ue,le.mode,Ie),ae.return=le,le=ae),D(le)):x(le,ae)}return ts}var Kd=m4(!0),h4=m4(!1),Sp=cl(null),Cp=null,Gd=null,Cv=null;function kv(){Cv=Gd=Cp=null}function _v(c){var u=Sp.current;Mr(Sp),c._currentValue=u}function Pv(c,u,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),c===x)break;c=c.return}}function Yd(c,u){Cp=c,Cv=Gd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Fa=!0),c.firstContext=null)}function kn(c){var u=c._currentValue;if(Cv!==c)if(c={context:c,memoizedValue:u,next:null},Gd===null){if(Cp===null)throw Error(s(308));Gd=c,Cp.dependencies={lanes:0,firstContext:c}}else Gd=Gd.next=c;return u}var bc=null;function Av(c){bc===null?bc=[c]:bc.push(c)}function f4(c,u,x,j){var k=u.interleaved;return k===null?(x.next=x,Av(u)):(x.next=k.next,k.next=x),u.interleaved=x,xo(c,j)}function xo(c,u){c.lanes|=u;var x=c.alternate;for(x!==null&&(x.lanes|=u),x=c,c=c.return;c!==null;)c.childLanes|=u,x=c.alternate,x!==null&&(x.childLanes|=u),x=c,c=c.return;return x.tag===3?x.stateNode:null}var ml=!1;function Ev(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p4(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function yo(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function hl(c,u,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(er&2)!==0){var k=j.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),j.pending=u,xo(c,x)}return k=j.interleaved,k===null?(u.next=u,Av(j)):(u.next=k.next,k.next=u),j.interleaved=u,xo(c,x)}function kp(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194240)!==0)){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Ed(c,x)}}function g4(c,u){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var k=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var D={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?k=P=D:P=P.next=D,x=x.next}while(x!==null);P===null?k=P=u:P=P.next=u}else k=P=u;x={baseState:j.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}function _p(c,u,x,j){var k=c.updateQueue;ml=!1;var P=k.firstBaseUpdate,D=k.lastBaseUpdate,Y=k.shared.pending;if(Y!==null){k.shared.pending=null;var re=Y,fe=re.next;re.next=null,D===null?P=fe:D.next=fe,D=re;var Oe=c.alternate;Oe!==null&&(Oe=Oe.updateQueue,Y=Oe.lastBaseUpdate,Y!==D&&(Y===null?Oe.firstBaseUpdate=fe:Y.next=fe,Oe.lastBaseUpdate=re))}if(P!==null){var Me=k.baseState;D=0,Oe=fe=re=null,Y=P;do{var Pe=Y.lane,qe=Y.eventTime;if((j&Pe)===Pe){Oe!==null&&(Oe=Oe.next={eventTime:qe,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Xe=c,Qe=Y;switch(Pe=u,qe=x,Qe.tag){case 1:if(Xe=Qe.payload,typeof Xe=="function"){Me=Xe.call(qe,Me,Pe);break e}Me=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Qe.payload,Pe=typeof Xe=="function"?Xe.call(qe,Me,Pe):Xe,Pe==null)break e;Me=K({},Me,Pe);break e;case 2:ml=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,Pe=k.effects,Pe===null?k.effects=[Y]:Pe.push(Y))}else qe={eventTime:qe,lane:Pe,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Oe===null?(fe=Oe=qe,re=Me):Oe=Oe.next=qe,D|=Pe;if(Y=Y.next,Y===null){if(Y=k.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,k.lastBaseUpdate=Pe,k.shared.pending=null}}while(!0);if(Oe===null&&(re=Me),k.baseState=re,k.firstBaseUpdate=fe,k.lastBaseUpdate=Oe,u=k.shared.interleaved,u!==null){k=u;do D|=k.lane,k=k.next;while(k!==u)}else P===null&&(k.shared.lanes=0);Nc|=D,c.lanes=D,c.memoizedState=Me}}function x4(c,u,x){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var j=c[u],k=j.callback;if(k!==null){if(j.callback=null,j=x,typeof k!="function")throw Error(s(191,k));k.call(j)}}}var Hm={},Ii=cl(Hm),Km=cl(Hm),Gm=cl(Hm);function wc(c){if(c===Hm)throw Error(s(174));return c}function Tv(c,u){switch(kr(Gm,u),kr(Km,c),kr(Ii,Hm),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kr(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Kr(u,c)}Mr(Ii),kr(Ii,u)}function Jd(){Mr(Ii),Mr(Km),Mr(Gm)}function y4(c){wc(Gm.current);var u=wc(Ii.current),x=Kr(u,c.type);u!==x&&(kr(Km,c),kr(Ii,x))}function Ov(c){Km.current===c&&(Mr(Ii),Mr(Km))}var Wr=cl(0);function Pp(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mv=[];function Rv(){for(var c=0;c<Mv.length;c++)Mv[c]._workInProgressVersionPrimary=null;Mv.length=0}var Ap=_.ReactCurrentDispatcher,Iv=_.ReactCurrentBatchConfig,jc=0,Vr=null,js=null,Rs=null,Ep=!1,Ym=!1,Jm=0,I9=0;function la(){throw Error(s(321))}function Dv(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!si(c[x],u[x]))return!1;return!0}function Lv(c,u,x,j,k,P){if(jc=P,Vr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ap.current=c===null||c.memoizedState===null?z9:F9,c=x(j,k),Ym){P=0;do{if(Ym=!1,Jm=0,25<=P)throw Error(s(301));P+=1,Rs=js=null,u.updateQueue=null,Ap.current=U9,c=x(j,k)}while(Ym)}if(Ap.current=Mp,u=js!==null&&js.next!==null,jc=0,Rs=js=Vr=null,Ep=!1,u)throw Error(s(300));return c}function $v(){var c=Jm!==0;return Jm=0,c}function Di(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?Vr.memoizedState=Rs=c:Rs=Rs.next=c,Rs}function _n(){if(js===null){var c=Vr.alternate;c=c!==null?c.memoizedState:null}else c=js.next;var u=Rs===null?Vr.memoizedState:Rs.next;if(u!==null)Rs=u,js=c;else{if(c===null)throw Error(s(310));js=c,c={memoizedState:js.memoizedState,baseState:js.baseState,baseQueue:js.baseQueue,queue:js.queue,next:null},Rs===null?Vr.memoizedState=Rs=c:Rs=Rs.next=c}return Rs}function Xm(c,u){return typeof u=="function"?u(c):u}function zv(c){var u=_n(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=js,k=j.baseQueue,P=x.pending;if(P!==null){if(k!==null){var D=k.next;k.next=P.next,P.next=D}j.baseQueue=k=P,x.pending=null}if(k!==null){P=k.next,j=j.baseState;var Y=D=null,re=null,fe=P;do{var Oe=fe.lane;if((jc&Oe)===Oe)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),j=fe.hasEagerState?fe.eagerState:c(j,fe.action);else{var Me={lane:Oe,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?(Y=re=Me,D=j):re=re.next=Me,Vr.lanes|=Oe,Nc|=Oe}fe=fe.next}while(fe!==null&&fe!==P);re===null?D=j:re.next=Y,si(j,u.memoizedState)||(Fa=!0),u.memoizedState=j,u.baseState=D,u.baseQueue=re,x.lastRenderedState=j}if(c=x.interleaved,c!==null){k=c;do P=k.lane,Vr.lanes|=P,Nc|=P,k=k.next;while(k!==c)}else k===null&&(x.lanes=0);return[u.memoizedState,x.dispatch]}function Fv(c){var u=_n(),x=u.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=x.dispatch,k=x.pending,P=u.memoizedState;if(k!==null){x.pending=null;var D=k=k.next;do P=c(P,D.action),D=D.next;while(D!==k);si(P,u.memoizedState)||(Fa=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),x.lastRenderedState=P}return[P,j]}function v4(){}function b4(c,u){var x=Vr,j=_n(),k=u(),P=!si(j.memoizedState,k);if(P&&(j.memoizedState=k,Fa=!0),j=j.queue,Uv(N4.bind(null,x,j,c),[c]),j.getSnapshot!==u||P||Rs!==null&&Rs.memoizedState.tag&1){if(x.flags|=2048,Qm(9,j4.bind(null,x,j,k,u),void 0,null),Is===null)throw Error(s(349));(jc&30)!==0||w4(x,u,k)}return k}function w4(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=Vr.updateQueue,u===null?(u={lastEffect:null,stores:null},Vr.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function j4(c,u,x,j){u.value=x,u.getSnapshot=j,S4(u)&&C4(c)}function N4(c,u,x){return x(function(){S4(u)&&C4(c)})}function S4(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!si(c,x)}catch{return!0}}function C4(c){var u=xo(c,1);u!==null&&li(u,c,1,-1)}function k4(c){var u=Di();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:c},u.queue=c,c=c.dispatch=$9.bind(null,Vr,c),[u.memoizedState,c]}function Qm(c,u,x,j){return c={tag:c,create:u,destroy:x,deps:j,next:null},u=Vr.updateQueue,u===null?(u={lastEffect:null,stores:null},Vr.updateQueue=u,u.lastEffect=c.next=c):(x=u.lastEffect,x===null?u.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,u.lastEffect=c)),c}function _4(){return _n().memoizedState}function Tp(c,u,x,j){var k=Di();Vr.flags|=c,k.memoizedState=Qm(1|u,x,void 0,j===void 0?null:j)}function Op(c,u,x,j){var k=_n();j=j===void 0?null:j;var P=void 0;if(js!==null){var D=js.memoizedState;if(P=D.destroy,j!==null&&Dv(j,D.deps)){k.memoizedState=Qm(u,x,P,j);return}}Vr.flags|=c,k.memoizedState=Qm(1|u,x,P,j)}function P4(c,u){return Tp(8390656,8,c,u)}function Uv(c,u){return Op(2048,8,c,u)}function A4(c,u){return Op(4,2,c,u)}function E4(c,u){return Op(4,4,c,u)}function T4(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function O4(c,u,x){return x=x!=null?x.concat([c]):null,Op(4,4,T4.bind(null,u,c),x)}function Bv(){}function M4(c,u){var x=_n();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&Dv(u,j[1])?j[0]:(x.memoizedState=[c,u],c)}function R4(c,u){var x=_n();u=u===void 0?null:u;var j=x.memoizedState;return j!==null&&u!==null&&Dv(u,j[1])?j[0]:(c=c(),x.memoizedState=[c,u],c)}function I4(c,u,x){return(jc&21)===0?(c.baseState&&(c.baseState=!1,Fa=!0),c.memoizedState=x):(si(x,u)||(x=jm(),Vr.lanes|=x,Nc|=x,c.baseState=!0),u)}function D9(c,u){var x=ar;ar=x!==0&&4>x?x:4,c(!0);var j=Iv.transition;Iv.transition={};try{c(!1),u()}finally{ar=x,Iv.transition=j}}function D4(){return _n().memoizedState}function L9(c,u,x){var j=xl(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},L4(c))$4(u,x);else if(x=f4(c,u,x,j),x!==null){var k=ka();li(x,c,j,k),z4(x,u,j)}}function $9(c,u,x){var j=xl(c),k={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(L4(c))$4(u,k);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var D=u.lastRenderedState,Y=P(D,x);if(k.hasEagerState=!0,k.eagerState=Y,si(Y,D)){var re=u.interleaved;re===null?(k.next=k,Av(u)):(k.next=re.next,re.next=k),u.interleaved=k;return}}catch{}finally{}x=f4(c,u,k,j),x!==null&&(k=ka(),li(x,c,j,k),z4(x,u,j))}}function L4(c){var u=c.alternate;return c===Vr||u!==null&&u===Vr}function $4(c,u){Ym=Ep=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function z4(c,u,x){if((x&4194240)!==0){var j=u.lanes;j&=c.pendingLanes,x|=j,u.lanes=x,Ed(c,x)}}var Mp={readContext:kn,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useInsertionEffect:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useSyncExternalStore:la,useId:la,unstable_isNewReconciler:!1},z9={readContext:kn,useCallback:function(c,u){return Di().memoizedState=[c,u===void 0?null:u],c},useContext:kn,useEffect:P4,useImperativeHandle:function(c,u,x){return x=x!=null?x.concat([c]):null,Tp(4194308,4,T4.bind(null,u,c),x)},useLayoutEffect:function(c,u){return Tp(4194308,4,c,u)},useInsertionEffect:function(c,u){return Tp(4,2,c,u)},useMemo:function(c,u){var x=Di();return u=u===void 0?null:u,c=c(),x.memoizedState=[c,u],c},useReducer:function(c,u,x){var j=Di();return u=x!==void 0?x(u):u,j.memoizedState=j.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},j.queue=c,c=c.dispatch=L9.bind(null,Vr,c),[j.memoizedState,c]},useRef:function(c){var u=Di();return c={current:c},u.memoizedState=c},useState:k4,useDebugValue:Bv,useDeferredValue:function(c){return Di().memoizedState=c},useTransition:function(){var c=k4(!1),u=c[0];return c=D9.bind(null,c[1]),Di().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,x){var j=Vr,k=Di();if($r){if(x===void 0)throw Error(s(407));x=x()}else{if(x=u(),Is===null)throw Error(s(349));(jc&30)!==0||w4(j,u,x)}k.memoizedState=x;var P={value:x,getSnapshot:u};return k.queue=P,P4(N4.bind(null,j,P,c),[c]),j.flags|=2048,Qm(9,j4.bind(null,j,P,x,u),void 0,null),x},useId:function(){var c=Di(),u=Is.identifierPrefix;if($r){var x=go,j=po;x=(j&~(1<<32-G(j)-1)).toString(32)+x,u=":"+u+"R"+x,x=Jm++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=I9++,u=":"+u+"r"+x.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},F9={readContext:kn,useCallback:M4,useContext:kn,useEffect:Uv,useImperativeHandle:O4,useInsertionEffect:A4,useLayoutEffect:E4,useMemo:R4,useReducer:zv,useRef:_4,useState:function(){return zv(Xm)},useDebugValue:Bv,useDeferredValue:function(c){var u=_n();return I4(u,js.memoizedState,c)},useTransition:function(){var c=zv(Xm)[0],u=_n().memoizedState;return[c,u]},useMutableSource:v4,useSyncExternalStore:b4,useId:D4,unstable_isNewReconciler:!1},U9={readContext:kn,useCallback:M4,useContext:kn,useEffect:Uv,useImperativeHandle:O4,useInsertionEffect:A4,useLayoutEffect:E4,useMemo:R4,useReducer:Fv,useRef:_4,useState:function(){return Fv(Xm)},useDebugValue:Bv,useDeferredValue:function(c){var u=_n();return js===null?u.memoizedState=c:I4(u,js.memoizedState,c)},useTransition:function(){var c=Fv(Xm)[0],u=_n().memoizedState;return[c,u]},useMutableSource:v4,useSyncExternalStore:b4,useId:D4,unstable_isNewReconciler:!1};function ni(c,u){if(c&&c.defaultProps){u=K({},u),c=c.defaultProps;for(var x in c)u[x]===void 0&&(u[x]=c[x]);return u}return u}function Wv(c,u,x,j){u=c.memoizedState,x=x(j,u),x=x==null?u:K({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var Rp={isMounted:function(c){return(c=c._reactInternals)?Ze(c)===c:!1},enqueueSetState:function(c,u,x){c=c._reactInternals;var j=ka(),k=xl(c),P=yo(j,k);P.payload=u,x!=null&&(P.callback=x),u=hl(c,P,k),u!==null&&(li(u,c,k,j),kp(u,c,k))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var j=ka(),k=xl(c),P=yo(j,k);P.tag=1,P.payload=u,x!=null&&(P.callback=x),u=hl(c,P,k),u!==null&&(li(u,c,k,j),kp(u,c,k))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=ka(),j=xl(c),k=yo(x,j);k.tag=2,u!=null&&(k.callback=u),u=hl(c,k,j),u!==null&&(li(u,c,j,x),kp(u,c,j))}};function F4(c,u,x,j,k,P,D){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,P,D):u.prototype&&u.prototype.isPureReactComponent?!$m(x,j)||!$m(k,P):!0}function U4(c,u,x){var j=!1,k=dl,P=u.contextType;return typeof P=="object"&&P!==null?P=kn(P):(k=za(u)?xc:oa.current,j=u.contextTypes,P=(j=j!=null)?Wd(c,k):dl),u=new u(x,P),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Rp,c.stateNode=u,u._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=k,c.__reactInternalMemoizedMaskedChildContext=P),u}function B4(c,u,x,j){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,j),u.state!==c&&Rp.enqueueReplaceState(u,u.state,null)}function Vv(c,u,x,j){var k=c.stateNode;k.props=x,k.state=c.memoizedState,k.refs={},Ev(c);var P=u.contextType;typeof P=="object"&&P!==null?k.context=kn(P):(P=za(u)?xc:oa.current,k.context=Wd(c,P)),k.state=c.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Wv(c,u,P,x),k.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Rp.enqueueReplaceState(k,k.state,null),_p(c,x,k,j),k.state=c.memoizedState),typeof k.componentDidMount=="function"&&(c.flags|=4194308)}function Xd(c,u){try{var x="",j=u;do x+=ne(j),j=j.return;while(j);var k=x}catch(P){k=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:u,stack:k,digest:null}}function qv(c,u,x){return{value:c,source:null,stack:x??null,digest:u??null}}function Hv(c,u){try{console.error(u.value)}catch(x){setTimeout(function(){throw x})}}var B9=typeof WeakMap=="function"?WeakMap:Map;function W4(c,u,x){x=yo(-1,x),x.tag=3,x.payload={element:null};var j=u.value;return x.callback=function(){Up||(Up=!0,ob=j),Hv(c,u)},x}function V4(c,u,x){x=yo(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var k=u.value;x.payload=function(){return j(k)},x.callback=function(){Hv(c,u)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){Hv(c,u),typeof j!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),x}function q4(c,u,x){var j=c.pingCache;if(j===null){j=c.pingCache=new B9;var k=new Set;j.set(u,k)}else k=j.get(u),k===void 0&&(k=new Set,j.set(u,k));k.has(x)||(k.add(x),c=rB.bind(null,c,u,x),u.then(c,c))}function H4(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function K4(c,u,x,j,k){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(u=yo(-1,1),u.tag=2,hl(x,u,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=k,c)}var W9=_.ReactCurrentOwner,Fa=!1;function Ca(c,u,x,j){u.child=c===null?h4(u,null,x,j):Kd(u,c.child,x,j)}function G4(c,u,x,j,k){x=x.render;var P=u.ref;return Yd(u,k),j=Lv(c,u,x,j,P,k),x=$v(),c!==null&&!Fa?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~k,vo(c,u,k)):($r&&x&&bv(u),u.flags|=1,Ca(c,u,j,k),u.child)}function Y4(c,u,x,j,k){if(c===null){var P=x.type;return typeof P=="function"&&!fb(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(u.tag=15,u.type=P,J4(c,u,P,j,k)):(c=Kp(x.type,null,j,u,u.mode,k),c.ref=u.ref,c.return=u,u.child=c)}if(P=c.child,(c.lanes&k)===0){var D=P.memoizedProps;if(x=x.compare,x=x!==null?x:$m,x(D,j)&&c.ref===u.ref)return vo(c,u,k)}return u.flags|=1,c=vl(P,j),c.ref=u.ref,c.return=u,u.child=c}function J4(c,u,x,j,k){if(c!==null){var P=c.memoizedProps;if($m(P,j)&&c.ref===u.ref)if(Fa=!1,u.pendingProps=j=P,(c.lanes&k)!==0)(c.flags&131072)!==0&&(Fa=!0);else return u.lanes=c.lanes,vo(c,u,k)}return Kv(c,u,x,j,k)}function X4(c,u,x){var j=u.pendingProps,k=j.children,P=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Zd,an),an|=x;else{if((x&1073741824)===0)return c=P!==null?P.baseLanes|x:x,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,kr(Zd,an),an|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=P!==null?P.baseLanes:x,kr(Zd,an),an|=j}else P!==null?(j=P.baseLanes|x,u.memoizedState=null):j=x,kr(Zd,an),an|=j;return Ca(c,u,k,x),u.child}function Q4(c,u){var x=u.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(u.flags|=512,u.flags|=2097152)}function Kv(c,u,x,j,k){var P=za(x)?xc:oa.current;return P=Wd(u,P),Yd(u,k),x=Lv(c,u,x,j,P,k),j=$v(),c!==null&&!Fa?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~k,vo(c,u,k)):($r&&j&&bv(u),u.flags|=1,Ca(c,u,x,k),u.child)}function Z4(c,u,x,j,k){if(za(x)){var P=!0;yp(u)}else P=!1;if(Yd(u,k),u.stateNode===null)Dp(c,u),U4(u,x,j),Vv(u,x,j,k),j=!0;else if(c===null){var D=u.stateNode,Y=u.memoizedProps;D.props=Y;var re=D.context,fe=x.contextType;typeof fe=="object"&&fe!==null?fe=kn(fe):(fe=za(x)?xc:oa.current,fe=Wd(u,fe));var Oe=x.getDerivedStateFromProps,Me=typeof Oe=="function"||typeof D.getSnapshotBeforeUpdate=="function";Me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==j||re!==fe)&&B4(u,D,j,fe),ml=!1;var Pe=u.memoizedState;D.state=Pe,_p(u,j,D,k),re=u.memoizedState,Y!==j||Pe!==re||$a.current||ml?(typeof Oe=="function"&&(Wv(u,x,Oe,j),re=u.memoizedState),(Y=ml||F4(u,x,Y,j,Pe,re,fe))?(Me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=re),D.props=j,D.state=re,D.context=fe,j=Y):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{D=u.stateNode,p4(c,u),Y=u.memoizedProps,fe=u.type===u.elementType?Y:ni(u.type,Y),D.props=fe,Me=u.pendingProps,Pe=D.context,re=x.contextType,typeof re=="object"&&re!==null?re=kn(re):(re=za(x)?xc:oa.current,re=Wd(u,re));var qe=x.getDerivedStateFromProps;(Oe=typeof qe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==Me||Pe!==re)&&B4(u,D,j,re),ml=!1,Pe=u.memoizedState,D.state=Pe,_p(u,j,D,k);var Xe=u.memoizedState;Y!==Me||Pe!==Xe||$a.current||ml?(typeof qe=="function"&&(Wv(u,x,qe,j),Xe=u.memoizedState),(fe=ml||F4(u,x,fe,j,Pe,Xe,re)||!1)?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(j,Xe,re),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(j,Xe,re)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=Xe),D.props=j,D.state=Xe,D.context=re,j=fe):(typeof D.componentDidUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Pe===c.memoizedState||(u.flags|=1024),j=!1)}return Gv(c,u,x,j,P,k)}function Gv(c,u,x,j,k,P){Q4(c,u);var D=(u.flags&128)!==0;if(!j&&!D)return k&&a4(u,x,!1),vo(c,u,P);j=u.stateNode,W9.current=u;var Y=D&&typeof x.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,c!==null&&D?(u.child=Kd(u,c.child,null,P),u.child=Kd(u,null,Y,P)):Ca(c,u,Y,P),u.memoizedState=j.state,k&&a4(u,x,!0),u.child}function e_(c){var u=c.stateNode;u.pendingContext?r4(c,u.pendingContext,u.pendingContext!==u.context):u.context&&r4(c,u.context,!1),Tv(c,u.containerInfo)}function t_(c,u,x,j,k){return Hd(),Sv(k),u.flags|=256,Ca(c,u,x,j),u.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Jv(c){return{baseLanes:c,cachePool:null,transitions:null}}function r_(c,u,x){var j=u.pendingProps,k=Wr.current,P=!1,D=(u.flags&128)!==0,Y;if((Y=D)||(Y=c!==null&&c.memoizedState===null?!1:(k&2)!==0),Y?(P=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(k|=1),kr(Wr,k&1),c===null)return Nv(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=j.children,c=j.fallback,P?(j=u.mode,P=u.child,D={mode:"hidden",children:D},(j&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=D):P=Gp(D,j,0,null),c=_c(c,j,x,null),P.return=u,c.return=u,P.sibling=c,u.child=P,u.child.memoizedState=Jv(x),u.memoizedState=Yv,c):Xv(u,D));if(k=c.memoizedState,k!==null&&(Y=k.dehydrated,Y!==null))return V9(c,u,D,j,Y,k,x);if(P){P=j.fallback,D=u.mode,k=c.child,Y=k.sibling;var re={mode:"hidden",children:j.children};return(D&1)===0&&u.child!==k?(j=u.child,j.childLanes=0,j.pendingProps=re,u.deletions=null):(j=vl(k,re),j.subtreeFlags=k.subtreeFlags&14680064),Y!==null?P=vl(Y,P):(P=_c(P,D,x,null),P.flags|=2),P.return=u,j.return=u,j.sibling=P,u.child=j,j=P,P=u.child,D=c.child.memoizedState,D=D===null?Jv(x):{baseLanes:D.baseLanes|x,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=c.childLanes&~x,u.memoizedState=Yv,j}return P=c.child,c=P.sibling,j=vl(P,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=x),j.return=u,j.sibling=null,c!==null&&(x=u.deletions,x===null?(u.deletions=[c],u.flags|=16):x.push(c)),u.child=j,u.memoizedState=null,j}function Xv(c,u){return u=Gp({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function Ip(c,u,x,j){return j!==null&&Sv(j),Kd(u,c.child,null,x),c=Xv(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function V9(c,u,x,j,k,P,D){if(x)return u.flags&256?(u.flags&=-257,j=qv(Error(s(422))),Ip(c,u,D,j)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(P=j.fallback,k=u.mode,j=Gp({mode:"visible",children:j.children},k,0,null),P=_c(P,k,D,null),P.flags|=2,j.return=u,P.return=u,j.sibling=P,u.child=j,(u.mode&1)!==0&&Kd(u,c.child,null,D),u.child.memoizedState=Jv(D),u.memoizedState=Yv,P);if((u.mode&1)===0)return Ip(c,u,D,null);if(k.data==="$!"){if(j=k.nextSibling&&k.nextSibling.dataset,j)var Y=j.dgst;return j=Y,P=Error(s(419)),j=qv(P,j,void 0),Ip(c,u,D,j)}if(Y=(D&c.childLanes)!==0,Fa||Y){if(j=Is,j!==null){switch(D&-D){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(j.suspendedLanes|D))!==0?0:k,k!==0&&k!==P.retryLane&&(P.retryLane=k,xo(c,k),li(j,c,k,-1))}return hb(),j=qv(Error(s(421))),Ip(c,u,D,j)}return k.data==="$?"?(u.flags|=128,u.child=c.child,u=sB.bind(null,c),k._reactRetry=u,null):(c=P.treeContext,sn=ll(k.nextSibling),rn=u,$r=!0,ai=null,c!==null&&(Sn[Cn++]=po,Sn[Cn++]=go,Sn[Cn++]=yc,po=c.id,go=c.overflow,yc=u),u=Xv(u,j.children),u.flags|=4096,u)}function s_(c,u,x){c.lanes|=u;var j=c.alternate;j!==null&&(j.lanes|=u),Pv(c.return,u,x)}function Qv(c,u,x,j,k){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:k}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=j,P.tail=x,P.tailMode=k)}function a_(c,u,x){var j=u.pendingProps,k=j.revealOrder,P=j.tail;if(Ca(c,u,j.children,x),j=Wr.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&s_(c,x,u);else if(c.tag===19)s_(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(kr(Wr,j),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(x=u.child,k=null;x!==null;)c=x.alternate,c!==null&&Pp(c)===null&&(k=x),x=x.sibling;x=k,x===null?(k=u.child,u.child=null):(k=x.sibling,x.sibling=null),Qv(u,!1,k,x,P);break;case"backwards":for(x=null,k=u.child,u.child=null;k!==null;){if(c=k.alternate,c!==null&&Pp(c)===null){u.child=k;break}c=k.sibling,k.sibling=x,x=k,k=c}Qv(u,!0,x,null,P);break;case"together":Qv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Dp(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function vo(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),Nc|=u.lanes,(x&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(s(153));if(u.child!==null){for(c=u.child,x=vl(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=vl(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function q9(c,u,x){switch(u.tag){case 3:e_(u),Hd();break;case 5:y4(u);break;case 1:za(u.type)&&yp(u);break;case 4:Tv(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,k=u.memoizedProps.value;kr(Sp,j._currentValue),j._currentValue=k;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(kr(Wr,Wr.current&1),u.flags|=128,null):(x&u.child.childLanes)!==0?r_(c,u,x):(kr(Wr,Wr.current&1),c=vo(c,u,x),c!==null?c.sibling:null);kr(Wr,Wr.current&1);break;case 19:if(j=(x&u.childLanes)!==0,(c.flags&128)!==0){if(j)return a_(c,u,x);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),kr(Wr,Wr.current),j)break;return null;case 22:case 23:return u.lanes=0,X4(c,u,x)}return vo(c,u,x)}var n_,Zv,i_,o_;n_=function(c,u){for(var x=u.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Zv=function(){},i_=function(c,u,x,j){var k=c.memoizedProps;if(k!==j){c=u.stateNode,wc(Ii.current);var P=null;switch(x){case"input":k=Te(c,k),j=Te(c,j),P=[];break;case"select":k=K({},k,{value:void 0}),j=K({},j,{value:void 0}),P=[];break;case"textarea":k=Be(c,k),j=Be(c,j),P=[];break;default:typeof k.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=pp)}Sa(x,j);var D;x=null;for(fe in k)if(!j.hasOwnProperty(fe)&&k.hasOwnProperty(fe)&&k[fe]!=null)if(fe==="style"){var Y=k[fe];for(D in Y)Y.hasOwnProperty(D)&&(x||(x={}),x[D]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(n.hasOwnProperty(fe)?P||(P=[]):(P=P||[]).push(fe,null));for(fe in j){var re=j[fe];if(Y=k!=null?k[fe]:void 0,j.hasOwnProperty(fe)&&re!==Y&&(re!=null||Y!=null))if(fe==="style")if(Y){for(D in Y)!Y.hasOwnProperty(D)||re&&re.hasOwnProperty(D)||(x||(x={}),x[D]="");for(D in re)re.hasOwnProperty(D)&&Y[D]!==re[D]&&(x||(x={}),x[D]=re[D])}else x||(P||(P=[]),P.push(fe,x)),x=re;else fe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Y=Y?Y.__html:void 0,re!=null&&Y!==re&&(P=P||[]).push(fe,re)):fe==="children"?typeof re!="string"&&typeof re!="number"||(P=P||[]).push(fe,""+re):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(n.hasOwnProperty(fe)?(re!=null&&fe==="onScroll"&&Or("scroll",c),P||Y===re||(P=[])):(P=P||[]).push(fe,re))}x&&(P=P||[]).push("style",x);var fe=P;(u.updateQueue=fe)&&(u.flags|=4)}},o_=function(c,u,x,j){x!==j&&(u.flags|=4)};function Zm(c,u){if(!$r)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function ca(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(u)for(var k=c.child;k!==null;)x|=k.lanes|k.childLanes,j|=k.subtreeFlags&14680064,j|=k.flags&14680064,k.return=c,k=k.sibling;else for(k=c.child;k!==null;)x|=k.lanes|k.childLanes,j|=k.subtreeFlags,j|=k.flags,k.return=c,k=k.sibling;return c.subtreeFlags|=j,c.childLanes=x,u}function H9(c,u,x){var j=u.pendingProps;switch(wv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ca(u),null;case 1:return za(u.type)&&xp(),ca(u),null;case 3:return j=u.stateNode,Jd(),Mr($a),Mr(oa),Rv(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(jp(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ai!==null&&(db(ai),ai=null))),Zv(c,u),ca(u),null;case 5:Ov(u);var k=wc(Gm.current);if(x=u.type,c!==null&&u.stateNode!=null)i_(c,u,x,j,k),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(s(166));return ca(u),null}if(c=wc(Ii.current),jp(u)){j=u.stateNode,x=u.type;var P=u.memoizedProps;switch(j[Ri]=u,j[Wm]=P,c=(u.mode&1)!==0,x){case"dialog":Or("cancel",j),Or("close",j);break;case"iframe":case"object":case"embed":Or("load",j);break;case"video":case"audio":for(k=0;k<Fm.length;k++)Or(Fm[k],j);break;case"source":Or("error",j);break;case"img":case"image":case"link":Or("error",j),Or("load",j);break;case"details":Or("toggle",j);break;case"input":Ue(j,P),Or("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!P.multiple},Or("invalid",j);break;case"textarea":kt(j,P),Or("invalid",j)}Sa(x,P),k=null;for(var D in P)if(P.hasOwnProperty(D)){var Y=P[D];D==="children"?typeof Y=="string"?j.textContent!==Y&&(P.suppressHydrationWarning!==!0&&fp(j.textContent,Y,c),k=["children",Y]):typeof Y=="number"&&j.textContent!==""+Y&&(P.suppressHydrationWarning!==!0&&fp(j.textContent,Y,c),k=["children",""+Y]):n.hasOwnProperty(D)&&Y!=null&&D==="onScroll"&&Or("scroll",j)}switch(x){case"input":Ee(j),Ct(j,P,!0);break;case"textarea":Ee(j),_t(j);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(j.onclick=pp)}j=k,u.updateQueue=j,j!==null&&(u.flags|=4)}else{D=k.nodeType===9?k:k.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=wr(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=D.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=D.createElement(x,{is:j.is}):(c=D.createElement(x),x==="select"&&(D=c,j.multiple?D.multiple=!0:j.size&&(D.size=j.size))):c=D.createElementNS(c,x),c[Ri]=u,c[Wm]=j,n_(c,u,!1,!1),u.stateNode=c;e:{switch(D=Rt(x,j),x){case"dialog":Or("cancel",c),Or("close",c),k=j;break;case"iframe":case"object":case"embed":Or("load",c),k=j;break;case"video":case"audio":for(k=0;k<Fm.length;k++)Or(Fm[k],c);k=j;break;case"source":Or("error",c),k=j;break;case"img":case"image":case"link":Or("error",c),Or("load",c),k=j;break;case"details":Or("toggle",c),k=j;break;case"input":Ue(c,j),k=Te(c,j),Or("invalid",c);break;case"option":k=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},k=K({},j,{value:void 0}),Or("invalid",c);break;case"textarea":kt(c,j),k=Be(c,j),Or("invalid",c);break;default:k=j}Sa(x,k),Y=k;for(P in Y)if(Y.hasOwnProperty(P)){var re=Y[P];P==="style"?ms(c,re):P==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&vs(c,re)):P==="children"?typeof re=="string"?(x!=="textarea"||re!=="")&&Tr(c,re):typeof re=="number"&&Tr(c,""+re):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(n.hasOwnProperty(P)?re!=null&&P==="onScroll"&&Or("scroll",c):re!=null&&S(c,P,re,D))}switch(x){case"input":Ee(c),Ct(c,j,!1);break;case"textarea":Ee(c),_t(c);break;case"option":j.value!=null&&c.setAttribute("value",""+Re(j.value));break;case"select":c.multiple=!!j.multiple,P=j.value,P!=null?me(c,!!j.multiple,P,!1):j.defaultValue!=null&&me(c,!!j.multiple,j.defaultValue,!0);break;default:typeof k.onClick=="function"&&(c.onclick=pp)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ca(u),null;case 6:if(c&&u.stateNode!=null)o_(c,u,c.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(s(166));if(x=wc(Gm.current),wc(Ii.current),jp(u)){if(j=u.stateNode,x=u.memoizedProps,j[Ri]=u,(P=j.nodeValue!==x)&&(c=rn,c!==null))switch(c.tag){case 3:fp(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&fp(j.nodeValue,x,(c.mode&1)!==0)}P&&(u.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[Ri]=u,u.stateNode=j}return ca(u),null;case 13:if(Mr(Wr),j=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if($r&&sn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)d4(),Hd(),u.flags|=98560,P=!1;else if(P=jp(u),j!==null&&j.dehydrated!==null){if(c===null){if(!P)throw Error(s(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(s(317));P[Ri]=u}else Hd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ca(u),P=!1}else ai!==null&&(db(ai),ai=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=x,u):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(Wr.current&1)!==0?Ns===0&&(Ns=3):hb())),u.updateQueue!==null&&(u.flags|=4),ca(u),null);case 4:return Jd(),Zv(c,u),c===null&&Um(u.stateNode.containerInfo),ca(u),null;case 10:return _v(u.type._context),ca(u),null;case 17:return za(u.type)&&xp(),ca(u),null;case 19:if(Mr(Wr),P=u.memoizedState,P===null)return ca(u),null;if(j=(u.flags&128)!==0,D=P.rendering,D===null)if(j)Zm(P,!1);else{if(Ns!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(D=Pp(c),D!==null){for(u.flags|=128,Zm(P,!1),j=D.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=x,x=u.child;x!==null;)P=x,c=j,P.flags&=14680066,D=P.alternate,D===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=D.childLanes,P.lanes=D.lanes,P.child=D.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=D.memoizedProps,P.memoizedState=D.memoizedState,P.updateQueue=D.updateQueue,P.type=D.type,c=D.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return kr(Wr,Wr.current&1|2),u.child}c=c.sibling}P.tail!==null&&rr()>eu&&(u.flags|=128,j=!0,Zm(P,!1),u.lanes=4194304)}else{if(!j)if(c=Pp(D),c!==null){if(u.flags|=128,j=!0,x=c.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),Zm(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!$r)return ca(u),null}else 2*rr()-P.renderingStartTime>eu&&x!==1073741824&&(u.flags|=128,j=!0,Zm(P,!1),u.lanes=4194304);P.isBackwards?(D.sibling=u.child,u.child=D):(x=P.last,x!==null?x.sibling=D:u.child=D,P.last=D)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=rr(),u.sibling=null,x=Wr.current,kr(Wr,j?x&1|2:x&1),u):(ca(u),null);case 22:case 23:return mb(),j=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(an&1073741824)!==0&&(ca(u),u.subtreeFlags&6&&(u.flags|=8192)):ca(u),null;case 24:return null;case 25:return null}throw Error(s(156,u.tag))}function K9(c,u){switch(wv(u),u.tag){case 1:return za(u.type)&&xp(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Jd(),Mr($a),Mr(oa),Rv(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return Ov(u),null;case 13:if(Mr(Wr),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Hd()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Mr(Wr),null;case 4:return Jd(),null;case 10:return _v(u.type._context),null;case 22:case 23:return mb(),null;case 24:return null;default:return null}}var Lp=!1,da=!1,G9=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Qd(c,u){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Gr(c,u,j)}else x.current=null}function eb(c,u,x){try{x()}catch(j){Gr(c,u,j)}}var l_=!1;function Y9(c,u){if(mv=pc,c=Fk(),av(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var k=j.anchorOffset,P=j.focusNode;j=j.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var D=0,Y=-1,re=-1,fe=0,Oe=0,Me=c,Pe=null;t:for(;;){for(var qe;Me!==x||k!==0&&Me.nodeType!==3||(Y=D+k),Me!==P||j!==0&&Me.nodeType!==3||(re=D+j),Me.nodeType===3&&(D+=Me.nodeValue.length),(qe=Me.firstChild)!==null;)Pe=Me,Me=qe;for(;;){if(Me===c)break t;if(Pe===x&&++fe===k&&(Y=D),Pe===P&&++Oe===j&&(re=D),(qe=Me.nextSibling)!==null)break;Me=Pe,Pe=Me.parentNode}Me=qe}x=Y===-1||re===-1?null:{start:Y,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(hv={focusedElem:c,selectionRange:x},pc=!1,Ye=u;Ye!==null;)if(u=Ye,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ye=c;else for(;Ye!==null;){u=Ye;try{var Xe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var Qe=Xe.memoizedProps,ts=Xe.memoizedState,le=u.stateNode,ae=le.getSnapshotBeforeUpdate(u.elementType===u.type?Qe:ni(u.type,Qe),ts);le.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var ue=u.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ie){Gr(u,u.return,Ie)}if(c=u.sibling,c!==null){c.return=u.return,Ye=c;break}Ye=u.return}return Xe=l_,l_=!1,Xe}function eh(c,u,x){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var k=j=j.next;do{if((k.tag&c)===c){var P=k.destroy;k.destroy=void 0,P!==void 0&&eb(u,x,P)}k=k.next}while(k!==j)}}function $p(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var x=u=u.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==u)}}function tb(c){var u=c.ref;if(u!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof u=="function"?u(c):u.current=c}}function c_(c){var u=c.alternate;u!==null&&(c.alternate=null,c_(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[Ri],delete u[Wm],delete u[xv],delete u[T9],delete u[O9])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function d_(c){return c.tag===5||c.tag===3||c.tag===4}function u_(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||d_(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function rb(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.nodeType===8?x.parentNode.insertBefore(c,u):x.insertBefore(c,u):(x.nodeType===8?(u=x.parentNode,u.insertBefore(c,x)):(u=x,u.appendChild(c)),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=pp));else if(j!==4&&(c=c.child,c!==null))for(rb(c,u,x),c=c.sibling;c!==null;)rb(c,u,x),c=c.sibling}function sb(c,u,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(sb(c,u,x),c=c.sibling;c!==null;)sb(c,u,x),c=c.sibling}var Gs=null,ii=!1;function fl(c,u,x){for(x=x.child;x!==null;)m_(c,u,x),x=x.sibling}function m_(c,u,x){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ur,x)}catch{}switch(x.tag){case 5:da||Qd(x,u);case 6:var j=Gs,k=ii;Gs=null,fl(c,u,x),Gs=j,ii=k,Gs!==null&&(ii?(c=Gs,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Gs.removeChild(x.stateNode));break;case 18:Gs!==null&&(ii?(c=Gs,x=x.stateNode,c.nodeType===8?gv(c.parentNode,x):c.nodeType===1&&gv(c,x),il(c)):gv(Gs,x.stateNode));break;case 4:j=Gs,k=ii,Gs=x.stateNode.containerInfo,ii=!0,fl(c,u,x),Gs=j,ii=k;break;case 0:case 11:case 14:case 15:if(!da&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){k=j=j.next;do{var P=k,D=P.destroy;P=P.tag,D!==void 0&&((P&2)!==0||(P&4)!==0)&&eb(x,u,D),k=k.next}while(k!==j)}fl(c,u,x);break;case 1:if(!da&&(Qd(x,u),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(Y){Gr(x,u,Y)}fl(c,u,x);break;case 21:fl(c,u,x);break;case 22:x.mode&1?(da=(j=da)||x.memoizedState!==null,fl(c,u,x),da=j):fl(c,u,x);break;default:fl(c,u,x)}}function h_(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new G9),u.forEach(function(j){var k=aB.bind(null,c,j);x.has(j)||(x.add(j),j.then(k,k))})}}function oi(c,u){var x=u.deletions;if(x!==null)for(var j=0;j<x.length;j++){var k=x[j];try{var P=c,D=u,Y=D;e:for(;Y!==null;){switch(Y.tag){case 5:Gs=Y.stateNode,ii=!1;break e;case 3:Gs=Y.stateNode.containerInfo,ii=!0;break e;case 4:Gs=Y.stateNode.containerInfo,ii=!0;break e}Y=Y.return}if(Gs===null)throw Error(s(160));m_(P,D,k),Gs=null,ii=!1;var re=k.alternate;re!==null&&(re.return=null),k.return=null}catch(fe){Gr(k,u,fe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)f_(u,c),u=u.sibling}function f_(c,u){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(oi(u,c),Li(c),j&4){try{eh(3,c,c.return),$p(3,c)}catch(Qe){Gr(c,c.return,Qe)}try{eh(5,c,c.return)}catch(Qe){Gr(c,c.return,Qe)}}break;case 1:oi(u,c),Li(c),j&512&&x!==null&&Qd(x,x.return);break;case 5:if(oi(u,c),Li(c),j&512&&x!==null&&Qd(x,x.return),c.flags&32){var k=c.stateNode;try{Tr(k,"")}catch(Qe){Gr(c,c.return,Qe)}}if(j&4&&(k=c.stateNode,k!=null)){var P=c.memoizedProps,D=x!==null?x.memoizedProps:P,Y=c.type,re=c.updateQueue;if(c.updateQueue=null,re!==null)try{Y==="input"&&P.type==="radio"&&P.name!=null&&oe(k,P),Rt(Y,D);var fe=Rt(Y,P);for(D=0;D<re.length;D+=2){var Oe=re[D],Me=re[D+1];Oe==="style"?ms(k,Me):Oe==="dangerouslySetInnerHTML"?vs(k,Me):Oe==="children"?Tr(k,Me):S(k,Oe,Me,fe)}switch(Y){case"input":Ge(k,P);break;case"textarea":Kt(k,P);break;case"select":var Pe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!P.multiple;var qe=P.value;qe!=null?me(k,!!P.multiple,qe,!1):Pe!==!!P.multiple&&(P.defaultValue!=null?me(k,!!P.multiple,P.defaultValue,!0):me(k,!!P.multiple,P.multiple?[]:"",!1))}k[Wm]=P}catch(Qe){Gr(c,c.return,Qe)}}break;case 6:if(oi(u,c),Li(c),j&4){if(c.stateNode===null)throw Error(s(162));k=c.stateNode,P=c.memoizedProps;try{k.nodeValue=P}catch(Qe){Gr(c,c.return,Qe)}}break;case 3:if(oi(u,c),Li(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{il(u.containerInfo)}catch(Qe){Gr(c,c.return,Qe)}break;case 4:oi(u,c),Li(c);break;case 13:oi(u,c),Li(c),k=c.child,k.flags&8192&&(P=k.memoizedState!==null,k.stateNode.isHidden=P,!P||k.alternate!==null&&k.alternate.memoizedState!==null||(ib=rr())),j&4&&h_(c);break;case 22:if(Oe=x!==null&&x.memoizedState!==null,c.mode&1?(da=(fe=da)||Oe,oi(u,c),da=fe):oi(u,c),Li(c),j&8192){if(fe=c.memoizedState!==null,(c.stateNode.isHidden=fe)&&!Oe&&(c.mode&1)!==0)for(Ye=c,Oe=c.child;Oe!==null;){for(Me=Ye=Oe;Ye!==null;){switch(Pe=Ye,qe=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:eh(4,Pe,Pe.return);break;case 1:Qd(Pe,Pe.return);var Xe=Pe.stateNode;if(typeof Xe.componentWillUnmount=="function"){j=Pe,x=Pe.return;try{u=j,Xe.props=u.memoizedProps,Xe.state=u.memoizedState,Xe.componentWillUnmount()}catch(Qe){Gr(j,x,Qe)}}break;case 5:Qd(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){x_(Me);continue}}qe!==null?(qe.return=Pe,Ye=qe):x_(Me)}Oe=Oe.sibling}e:for(Oe=null,Me=c;;){if(Me.tag===5){if(Oe===null){Oe=Me;try{k=Me.stateNode,fe?(P=k.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Y=Me.stateNode,re=Me.memoizedProps.style,D=re!=null&&re.hasOwnProperty("display")?re.display:null,Y.style.display=es("display",D))}catch(Qe){Gr(c,c.return,Qe)}}}else if(Me.tag===6){if(Oe===null)try{Me.stateNode.nodeValue=fe?"":Me.memoizedProps}catch(Qe){Gr(c,c.return,Qe)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===c)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===c)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===c)break e;Oe===Me&&(Oe=null),Me=Me.return}Oe===Me&&(Oe=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:oi(u,c),Li(c),j&4&&h_(c);break;case 21:break;default:oi(u,c),Li(c)}}function Li(c){var u=c.flags;if(u&2){try{e:{for(var x=c.return;x!==null;){if(d_(x)){var j=x;break e}x=x.return}throw Error(s(160))}switch(j.tag){case 5:var k=j.stateNode;j.flags&32&&(Tr(k,""),j.flags&=-33);var P=u_(c);sb(c,P,k);break;case 3:case 4:var D=j.stateNode.containerInfo,Y=u_(c);rb(c,Y,D);break;default:throw Error(s(161))}}catch(re){Gr(c,c.return,re)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function J9(c,u,x){Ye=c,p_(c)}function p_(c,u,x){for(var j=(c.mode&1)!==0;Ye!==null;){var k=Ye,P=k.child;if(k.tag===22&&j){var D=k.memoizedState!==null||Lp;if(!D){var Y=k.alternate,re=Y!==null&&Y.memoizedState!==null||da;Y=Lp;var fe=da;if(Lp=D,(da=re)&&!fe)for(Ye=k;Ye!==null;)D=Ye,re=D.child,D.tag===22&&D.memoizedState!==null?y_(k):re!==null?(re.return=D,Ye=re):y_(k);for(;P!==null;)Ye=P,p_(P),P=P.sibling;Ye=k,Lp=Y,da=fe}g_(c)}else(k.subtreeFlags&8772)!==0&&P!==null?(P.return=k,Ye=P):g_(c)}}function g_(c){for(;Ye!==null;){var u=Ye;if((u.flags&8772)!==0){var x=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:da||$p(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!da)if(x===null)j.componentDidMount();else{var k=u.elementType===u.type?x.memoizedProps:ni(u.type,x.memoizedProps);j.componentDidUpdate(k,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&x4(u,P,j);break;case 3:var D=u.updateQueue;if(D!==null){if(x=null,u.child!==null)switch(u.child.tag){case 5:x=u.child.stateNode;break;case 1:x=u.child.stateNode}x4(u,D,x)}break;case 5:var Y=u.stateNode;if(x===null&&u.flags&4){x=Y;var re=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&x.focus();break;case"img":re.src&&(x.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var fe=u.alternate;if(fe!==null){var Oe=fe.memoizedState;if(Oe!==null){var Me=Oe.dehydrated;Me!==null&&il(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}da||u.flags&512&&tb(u)}catch(Pe){Gr(u,u.return,Pe)}}if(u===c){Ye=null;break}if(x=u.sibling,x!==null){x.return=u.return,Ye=x;break}Ye=u.return}}function x_(c){for(;Ye!==null;){var u=Ye;if(u===c){Ye=null;break}var x=u.sibling;if(x!==null){x.return=u.return,Ye=x;break}Ye=u.return}}function y_(c){for(;Ye!==null;){var u=Ye;try{switch(u.tag){case 0:case 11:case 15:var x=u.return;try{$p(4,u)}catch(re){Gr(u,x,re)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var k=u.return;try{j.componentDidMount()}catch(re){Gr(u,k,re)}}var P=u.return;try{tb(u)}catch(re){Gr(u,P,re)}break;case 5:var D=u.return;try{tb(u)}catch(re){Gr(u,D,re)}}}catch(re){Gr(u,u.return,re)}if(u===c){Ye=null;break}var Y=u.sibling;if(Y!==null){Y.return=u.return,Ye=Y;break}Ye=u.return}}var X9=Math.ceil,zp=_.ReactCurrentDispatcher,ab=_.ReactCurrentOwner,Pn=_.ReactCurrentBatchConfig,er=0,Is=null,hs=null,Ys=0,an=0,Zd=cl(0),Ns=0,th=null,Nc=0,Fp=0,nb=0,rh=null,Ua=null,ib=0,eu=1/0,bo=null,Up=!1,ob=null,pl=null,Bp=!1,gl=null,Wp=0,sh=0,lb=null,Vp=-1,qp=0;function ka(){return(er&6)!==0?rr():Vp!==-1?Vp:Vp=rr()}function xl(c){return(c.mode&1)===0?1:(er&2)!==0&&Ys!==0?Ys&-Ys:R9.transition!==null?(qp===0&&(qp=jm()),qp):(c=ar,c!==0||(c=window.event,c=c===void 0?16:Rd(c.type)),c)}function li(c,u,x,j){if(50<sh)throw sh=0,lb=null,Error(s(185));tl(c,x,j),((er&2)===0||c!==Is)&&(c===Is&&((er&2)===0&&(Fp|=x),Ns===4&&yl(c,Ys)),Ba(c,j),x===1&&er===0&&(u.mode&1)===0&&(eu=rr()+500,vp&&ul()))}function Ba(c,u){var x=c.callbackNode;Zf(c,u);var j=Qn(c,c===Is?Ys:0);if(j===0)x!==null&&Nn(x),c.callbackNode=null,c.callbackPriority=0;else if(u=j&-j,c.callbackPriority!==u){if(x!=null&&Nn(x),u===1)c.tag===0?M9(b_.bind(null,c)):n4(b_.bind(null,c)),A9(function(){(er&6)===0&&ul()}),x=null;else{switch(Nm(j)){case 1:x=Xn;break;case 4:x=we;break;case 16:x=$e;break;case 536870912:x=ot;break;default:x=$e}x=P_(x,v_.bind(null,c))}c.callbackPriority=u,c.callbackNode=x}}function v_(c,u){if(Vp=-1,qp=0,(er&6)!==0)throw Error(s(327));var x=c.callbackNode;if(tu()&&c.callbackNode!==x)return null;var j=Qn(c,c===Is?Ys:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||u)u=Hp(c,j);else{u=j;var k=er;er|=2;var P=j_();(Is!==c||Ys!==u)&&(bo=null,eu=rr()+500,Cc(c,u));do try{eB();break}catch(Y){w_(c,Y)}while(!0);kv(),zp.current=P,er=k,hs!==null?u=0:(Is=null,Ys=0,u=Ns)}if(u!==0){if(u===2&&(k=Pd(c),k!==0&&(j=k,u=cb(c,k))),u===1)throw x=th,Cc(c,0),yl(c,j),Ba(c,rr()),x;if(u===6)yl(c,j);else{if(k=c.current.alternate,(j&30)===0&&!Q9(k)&&(u=Hp(c,j),u===2&&(P=Pd(c),P!==0&&(j=P,u=cb(c,P))),u===1))throw x=th,Cc(c,0),yl(c,j),Ba(c,rr()),x;switch(c.finishedWork=k,c.finishedLanes=j,u){case 0:case 1:throw Error(s(345));case 2:kc(c,Ua,bo);break;case 3:if(yl(c,j),(j&130023424)===j&&(u=ib+500-rr(),10<u)){if(Qn(c,0)!==0)break;if(k=c.suspendedLanes,(k&j)!==j){ka(),c.pingedLanes|=c.suspendedLanes&k;break}c.timeoutHandle=pv(kc.bind(null,c,Ua,bo),u);break}kc(c,Ua,bo);break;case 4:if(yl(c,j),(j&4194240)===j)break;for(u=c.eventTimes,k=-1;0<j;){var D=31-G(j);P=1<<D,D=u[D],D>k&&(k=D),j&=~P}if(j=k,j=rr()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*X9(j/1960))-j,10<j){c.timeoutHandle=pv(kc.bind(null,c,Ua,bo),j);break}kc(c,Ua,bo);break;case 5:kc(c,Ua,bo);break;default:throw Error(s(329))}}}return Ba(c,rr()),c.callbackNode===x?v_.bind(null,c):null}function cb(c,u){var x=rh;return c.current.memoizedState.isDehydrated&&(Cc(c,u).flags|=256),c=Hp(c,u),c!==2&&(u=Ua,Ua=x,u!==null&&db(u)),c}function db(c){Ua===null?Ua=c:Ua.push.apply(Ua,c)}function Q9(c){for(var u=c;;){if(u.flags&16384){var x=u.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var k=x[j],P=k.getSnapshot;k=k.value;try{if(!si(P(),k))return!1}catch{return!1}}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function yl(c,u){for(u&=~nb,u&=~Fp,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var x=31-G(u),j=1<<x;c[x]=-1,u&=~j}}function b_(c){if((er&6)!==0)throw Error(s(327));tu();var u=Qn(c,0);if((u&1)===0)return Ba(c,rr()),null;var x=Hp(c,u);if(c.tag!==0&&x===2){var j=Pd(c);j!==0&&(u=j,x=cb(c,j))}if(x===1)throw x=th,Cc(c,0),yl(c,u),Ba(c,rr()),x;if(x===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,kc(c,Ua,bo),Ba(c,rr()),null}function ub(c,u){var x=er;er|=1;try{return c(u)}finally{er=x,er===0&&(eu=rr()+500,vp&&ul())}}function Sc(c){gl!==null&&gl.tag===0&&(er&6)===0&&tu();var u=er;er|=1;var x=Pn.transition,j=ar;try{if(Pn.transition=null,ar=1,c)return c()}finally{ar=j,Pn.transition=x,er=u,(er&6)===0&&ul()}}function mb(){an=Zd.current,Mr(Zd)}function Cc(c,u){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,P9(x)),hs!==null)for(x=hs.return;x!==null;){var j=x;switch(wv(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&xp();break;case 3:Jd(),Mr($a),Mr(oa),Rv();break;case 5:Ov(j);break;case 4:Jd();break;case 13:Mr(Wr);break;case 19:Mr(Wr);break;case 10:_v(j.type._context);break;case 22:case 23:mb()}x=x.return}if(Is=c,hs=c=vl(c.current,null),Ys=an=u,Ns=0,th=null,nb=Fp=Nc=0,Ua=rh=null,bc!==null){for(u=0;u<bc.length;u++)if(x=bc[u],j=x.interleaved,j!==null){x.interleaved=null;var k=j.next,P=x.pending;if(P!==null){var D=P.next;P.next=k,j.next=D}x.pending=j}bc=null}return c}function w_(c,u){do{var x=hs;try{if(kv(),Ap.current=Mp,Ep){for(var j=Vr.memoizedState;j!==null;){var k=j.queue;k!==null&&(k.pending=null),j=j.next}Ep=!1}if(jc=0,Rs=js=Vr=null,Ym=!1,Jm=0,ab.current=null,x===null||x.return===null){Ns=1,th=u,hs=null;break}e:{var P=c,D=x.return,Y=x,re=u;if(u=Ys,Y.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,Oe=Y,Me=Oe.tag;if((Oe.mode&1)===0&&(Me===0||Me===11||Me===15)){var Pe=Oe.alternate;Pe?(Oe.updateQueue=Pe.updateQueue,Oe.memoizedState=Pe.memoizedState,Oe.lanes=Pe.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var qe=H4(D);if(qe!==null){qe.flags&=-257,K4(qe,D,Y,P,u),qe.mode&1&&q4(P,fe,u),u=qe,re=fe;var Xe=u.updateQueue;if(Xe===null){var Qe=new Set;Qe.add(re),u.updateQueue=Qe}else Xe.add(re);break e}else{if((u&1)===0){q4(P,fe,u),hb();break e}re=Error(s(426))}}else if($r&&Y.mode&1){var ts=H4(D);if(ts!==null){(ts.flags&65536)===0&&(ts.flags|=256),K4(ts,D,Y,P,u),Sv(Xd(re,Y));break e}}P=re=Xd(re,Y),Ns!==4&&(Ns=2),rh===null?rh=[P]:rh.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var le=W4(P,re,u);g4(P,le);break e;case 1:Y=re;var ae=P.type,ue=P.stateNode;if((P.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(pl===null||!pl.has(ue)))){P.flags|=65536,u&=-u,P.lanes|=u;var Ie=V4(P,Y,u);g4(P,Ie);break e}}P=P.return}while(P!==null)}S_(x)}catch(et){u=et,hs===x&&x!==null&&(hs=x=x.return);continue}break}while(!0)}function j_(){var c=zp.current;return zp.current=Mp,c===null?Mp:c}function hb(){(Ns===0||Ns===3||Ns===2)&&(Ns=4),Is===null||(Nc&268435455)===0&&(Fp&268435455)===0||yl(Is,Ys)}function Hp(c,u){var x=er;er|=2;var j=j_();(Is!==c||Ys!==u)&&(bo=null,Cc(c,u));do try{Z9();break}catch(k){w_(c,k)}while(!0);if(kv(),er=x,zp.current=j,hs!==null)throw Error(s(261));return Is=null,Ys=0,Ns}function Z9(){for(;hs!==null;)N_(hs)}function eB(){for(;hs!==null&&!Za();)N_(hs)}function N_(c){var u=__(c.alternate,c,an);c.memoizedProps=c.pendingProps,u===null?S_(c):hs=u,ab.current=null}function S_(c){var u=c;do{var x=u.alternate;if(c=u.return,(u.flags&32768)===0){if(x=H9(x,u,an),x!==null){hs=x;return}}else{if(x=K9(x,u),x!==null){x.flags&=32767,hs=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Ns=6,hs=null;return}}if(u=u.sibling,u!==null){hs=u;return}hs=u=c}while(u!==null);Ns===0&&(Ns=5)}function kc(c,u,x){var j=ar,k=Pn.transition;try{Pn.transition=null,ar=1,tB(c,u,x,j)}finally{Pn.transition=k,ar=j}return null}function tB(c,u,x,j){do tu();while(gl!==null);if((er&6)!==0)throw Error(s(327));x=c.finishedWork;var k=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0;var P=x.lanes|x.childLanes;if(ep(c,P),c===Is&&(hs=Is=null,Ys=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Bp||(Bp=!0,P_($e,function(){return tu(),null})),P=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||P){P=Pn.transition,Pn.transition=null;var D=ar;ar=1;var Y=er;er|=4,ab.current=null,Y9(c,x),f_(x,c),w9(hv),pc=!!mv,hv=mv=null,c.current=x,J9(x),Zo(),er=Y,ar=D,Pn.transition=P}else c.current=x;if(Bp&&(Bp=!1,gl=c,Wp=k),P=c.pendingLanes,P===0&&(pl=null),sr(x.stateNode),Ba(c,rr()),u!==null)for(j=c.onRecoverableError,x=0;x<u.length;x++)k=u[x],j(k.value,{componentStack:k.stack,digest:k.digest});if(Up)throw Up=!1,c=ob,ob=null,c;return(Wp&1)!==0&&c.tag!==0&&tu(),P=c.pendingLanes,(P&1)!==0?c===lb?sh++:(sh=0,lb=c):sh=0,ul(),null}function tu(){if(gl!==null){var c=Nm(Wp),u=Pn.transition,x=ar;try{if(Pn.transition=null,ar=16>c?16:c,gl===null)var j=!1;else{if(c=gl,gl=null,Wp=0,(er&6)!==0)throw Error(s(331));var k=er;for(er|=4,Ye=c.current;Ye!==null;){var P=Ye,D=P.child;if((Ye.flags&16)!==0){var Y=P.deletions;if(Y!==null){for(var re=0;re<Y.length;re++){var fe=Y[re];for(Ye=fe;Ye!==null;){var Oe=Ye;switch(Oe.tag){case 0:case 11:case 15:eh(8,Oe,P)}var Me=Oe.child;if(Me!==null)Me.return=Oe,Ye=Me;else for(;Ye!==null;){Oe=Ye;var Pe=Oe.sibling,qe=Oe.return;if(c_(Oe),Oe===fe){Ye=null;break}if(Pe!==null){Pe.return=qe,Ye=Pe;break}Ye=qe}}}var Xe=P.alternate;if(Xe!==null){var Qe=Xe.child;if(Qe!==null){Xe.child=null;do{var ts=Qe.sibling;Qe.sibling=null,Qe=ts}while(Qe!==null)}}Ye=P}}if((P.subtreeFlags&2064)!==0&&D!==null)D.return=P,Ye=D;else e:for(;Ye!==null;){if(P=Ye,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:eh(9,P,P.return)}var le=P.sibling;if(le!==null){le.return=P.return,Ye=le;break e}Ye=P.return}}var ae=c.current;for(Ye=ae;Ye!==null;){D=Ye;var ue=D.child;if((D.subtreeFlags&2064)!==0&&ue!==null)ue.return=D,Ye=ue;else e:for(D=ae;Ye!==null;){if(Y=Ye,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:$p(9,Y)}}catch(et){Gr(Y,Y.return,et)}if(Y===D){Ye=null;break e}var Ie=Y.sibling;if(Ie!==null){Ie.return=Y.return,Ye=Ie;break e}Ye=Y.return}}if(er=k,ul(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ur,c)}catch{}j=!0}return j}finally{ar=x,Pn.transition=u}}return!1}function C_(c,u,x){u=Xd(x,u),u=W4(c,u,1),c=hl(c,u,1),u=ka(),c!==null&&(tl(c,1,u),Ba(c,u))}function Gr(c,u,x){if(c.tag===3)C_(c,c,x);else for(;u!==null;){if(u.tag===3){C_(u,c,x);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(pl===null||!pl.has(j))){c=Xd(x,c),c=V4(u,c,1),u=hl(u,c,1),c=ka(),u!==null&&(tl(u,1,c),Ba(u,c));break}}u=u.return}}function rB(c,u,x){var j=c.pingCache;j!==null&&j.delete(u),u=ka(),c.pingedLanes|=c.suspendedLanes&x,Is===c&&(Ys&x)===x&&(Ns===4||Ns===3&&(Ys&130023424)===Ys&&500>rr()-ib?Cc(c,0):nb|=x),Ba(c,u)}function k_(c,u){u===0&&((c.mode&1)===0?u=1:(u=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var x=ka();c=xo(c,u),c!==null&&(tl(c,u,x),Ba(c,x))}function sB(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),k_(c,x)}function aB(c,u){var x=0;switch(c.tag){case 13:var j=c.stateNode,k=c.memoizedState;k!==null&&(x=k.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(u),k_(c,x)}var __;__=function(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps||$a.current)Fa=!0;else{if((c.lanes&x)===0&&(u.flags&128)===0)return Fa=!1,q9(c,u,x);Fa=(c.flags&131072)!==0}else Fa=!1,$r&&(u.flags&1048576)!==0&&i4(u,wp,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;Dp(c,u),c=u.pendingProps;var k=Wd(u,oa.current);Yd(u,x),k=Lv(null,u,j,c,k,x);var P=$v();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,za(j)?(P=!0,yp(u)):P=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Ev(u),k.updater=Rp,u.stateNode=k,k._reactInternals=u,Vv(u,j,c,x),u=Gv(null,u,j,!0,P,x)):(u.tag=0,$r&&P&&bv(u),Ca(null,u,k,x),u=u.child),u;case 16:j=u.elementType;e:{switch(Dp(c,u),c=u.pendingProps,k=j._init,j=k(j._payload),u.type=j,k=u.tag=iB(j),c=ni(j,c),k){case 0:u=Kv(null,u,j,c,x);break e;case 1:u=Z4(null,u,j,c,x);break e;case 11:u=G4(null,u,j,c,x);break e;case 14:u=Y4(null,u,j,ni(j.type,c),x);break e}throw Error(s(306,j,""))}return u;case 0:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:ni(j,k),Kv(c,u,j,k,x);case 1:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:ni(j,k),Z4(c,u,j,k,x);case 3:e:{if(e_(u),c===null)throw Error(s(387));j=u.pendingProps,P=u.memoizedState,k=P.element,p4(c,u),_p(u,j,null,x);var D=u.memoizedState;if(j=D.element,P.isDehydrated)if(P={element:j,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){k=Xd(Error(s(423)),u),u=t_(c,u,j,x,k);break e}else if(j!==k){k=Xd(Error(s(424)),u),u=t_(c,u,j,x,k);break e}else for(sn=ll(u.stateNode.containerInfo.firstChild),rn=u,$r=!0,ai=null,x=h4(u,null,j,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Hd(),j===k){u=vo(c,u,x);break e}Ca(c,u,j,x)}u=u.child}return u;case 5:return y4(u),c===null&&Nv(u),j=u.type,k=u.pendingProps,P=c!==null?c.memoizedProps:null,D=k.children,fv(j,k)?D=null:P!==null&&fv(j,P)&&(u.flags|=32),Q4(c,u),Ca(c,u,D,x),u.child;case 6:return c===null&&Nv(u),null;case 13:return r_(c,u,x);case 4:return Tv(u,u.stateNode.containerInfo),j=u.pendingProps,c===null?u.child=Kd(u,null,j,x):Ca(c,u,j,x),u.child;case 11:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:ni(j,k),G4(c,u,j,k,x);case 7:return Ca(c,u,u.pendingProps,x),u.child;case 8:return Ca(c,u,u.pendingProps.children,x),u.child;case 12:return Ca(c,u,u.pendingProps.children,x),u.child;case 10:e:{if(j=u.type._context,k=u.pendingProps,P=u.memoizedProps,D=k.value,kr(Sp,j._currentValue),j._currentValue=D,P!==null)if(si(P.value,D)){if(P.children===k.children&&!$a.current){u=vo(c,u,x);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var Y=P.dependencies;if(Y!==null){D=P.child;for(var re=Y.firstContext;re!==null;){if(re.context===j){if(P.tag===1){re=yo(-1,x&-x),re.tag=2;var fe=P.updateQueue;if(fe!==null){fe=fe.shared;var Oe=fe.pending;Oe===null?re.next=re:(re.next=Oe.next,Oe.next=re),fe.pending=re}}P.lanes|=x,re=P.alternate,re!==null&&(re.lanes|=x),Pv(P.return,x,u),Y.lanes|=x;break}re=re.next}}else if(P.tag===10)D=P.type===u.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(s(341));D.lanes|=x,Y=D.alternate,Y!==null&&(Y.lanes|=x),Pv(D,x,u),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===u){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}Ca(c,u,k.children,x),u=u.child}return u;case 9:return k=u.type,j=u.pendingProps.children,Yd(u,x),k=kn(k),j=j(k),u.flags|=1,Ca(c,u,j,x),u.child;case 14:return j=u.type,k=ni(j,u.pendingProps),k=ni(j.type,k),Y4(c,u,j,k,x);case 15:return J4(c,u,u.type,u.pendingProps,x);case 17:return j=u.type,k=u.pendingProps,k=u.elementType===j?k:ni(j,k),Dp(c,u),u.tag=1,za(j)?(c=!0,yp(u)):c=!1,Yd(u,x),U4(u,j,k),Vv(u,j,k,x),Gv(null,u,j,!0,c,x);case 19:return a_(c,u,x);case 22:return X4(c,u,x)}throw Error(s(156,u.tag))};function P_(c,u){return La(c,u)}function nB(c,u,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(c,u,x,j){return new nB(c,u,x,j)}function fb(c){return c=c.prototype,!(!c||!c.isReactComponent)}function iB(c){if(typeof c=="function")return fb(c)?1:0;if(c!=null){if(c=c.$$typeof,c===I)return 11;if(c===U)return 14}return 2}function vl(c,u){var x=c.alternate;return x===null?(x=An(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function Kp(c,u,x,j,k,P){var D=2;if(j=c,typeof c=="function")fb(c)&&(D=1);else if(typeof c=="string")D=5;else e:switch(c){case E:return _c(x.children,k,P,u);case M:D=8,k|=8;break;case L:return c=An(12,x,u,k|2),c.elementType=L,c.lanes=P,c;case W:return c=An(13,x,u,k),c.elementType=W,c.lanes=P,c;case V:return c=An(19,x,u,k),c.elementType=V,c.lanes=P,c;case R:return Gp(x,k,P,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case H:D=10;break e;case O:D=9;break e;case I:D=11;break e;case U:D=14;break e;case $:D=16,j=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return u=An(D,x,u,k),u.elementType=c,u.type=j,u.lanes=P,u}function _c(c,u,x,j){return c=An(7,c,j,u),c.lanes=x,c}function Gp(c,u,x,j){return c=An(22,c,j,u),c.elementType=R,c.lanes=x,c.stateNode={isHidden:!1},c}function pb(c,u,x){return c=An(6,c,null,u),c.lanes=x,c}function gb(c,u,x){return u=An(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function oB(c,u,x,j,k){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ad(0),this.expirationTimes=Ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ad(0),this.identifierPrefix=j,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function xb(c,u,x,j,k,P,D,Y,re){return c=new oB(c,u,x,Y,re),u===1?(u=1,P===!0&&(u|=8)):u=0,P=An(3,null,null,u),c.current=P,P.stateNode=c,P.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(P),c}function lB(c,u,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:j==null?null:""+j,children:c,containerInfo:u,implementation:x}}function A_(c){if(!c)return dl;c=c._reactInternals;e:{if(Ze(c)!==c||c.tag!==1)throw Error(s(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(za(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(c.tag===1){var x=c.type;if(za(x))return s4(c,x,u)}return u}function E_(c,u,x,j,k,P,D,Y,re){return c=xb(x,j,!0,c,k,P,D,Y,re),c.context=A_(null),x=c.current,j=ka(),k=xl(x),P=yo(j,k),P.callback=u??null,hl(x,P,k),c.current.lanes=k,tl(c,k,j),Ba(c,j),c}function Yp(c,u,x,j){var k=u.current,P=ka(),D=xl(k);return x=A_(x),u.context===null?u.context=x:u.pendingContext=x,u=yo(P,D),u.payload={element:c},j=j===void 0?null:j,j!==null&&(u.callback=j),c=hl(k,u,D),c!==null&&(li(c,k,D,P),kp(c,k,D)),D}function Jp(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function T_(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function yb(c,u){T_(c,u),(c=c.alternate)&&T_(c,u)}function cB(){return null}var O_=typeof reportError=="function"?reportError:function(c){console.error(c)};function vb(c){this._internalRoot=c}Xp.prototype.render=vb.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(s(409));Yp(c,u,null,null)},Xp.prototype.unmount=vb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Sc(function(){Yp(null,c,null,null)}),u[ho]=null}};function Xp(c){this._internalRoot=c}Xp.prototype.unstable_scheduleHydration=function(c){if(c){var u=km();c={blockedOn:null,target:c,priority:u};for(var x=0;x<ri.length&&u!==0&&u<ri[x].priority;x++);ri.splice(x,0,c),x===0&&Am(c)}};function bb(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Qp(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function M_(){}function dB(c,u,x,j,k){if(k){if(typeof j=="function"){var P=j;j=function(){var fe=Jp(D);P.call(fe)}}var D=E_(u,j,c,0,null,!1,!1,"",M_);return c._reactRootContainer=D,c[ho]=D.current,Um(c.nodeType===8?c.parentNode:c),Sc(),D}for(;k=c.lastChild;)c.removeChild(k);if(typeof j=="function"){var Y=j;j=function(){var fe=Jp(re);Y.call(fe)}}var re=xb(c,0,!1,null,null,!1,!1,"",M_);return c._reactRootContainer=re,c[ho]=re.current,Um(c.nodeType===8?c.parentNode:c),Sc(function(){Yp(u,re,x,j)}),re}function Zp(c,u,x,j,k){var P=x._reactRootContainer;if(P){var D=P;if(typeof k=="function"){var Y=k;k=function(){var re=Jp(D);Y.call(re)}}Yp(u,D,c,k)}else D=dB(x,u,c,k,j);return Jp(D)}Sm=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var x=en(u.pendingLanes);x!==0&&(Ed(u,x|1),Ba(u,rr()),(er&6)===0&&(eu=rr()+500,ul()))}break;case 13:Sc(function(){var j=xo(c,1);if(j!==null){var k=ka();li(j,c,1,k)}}),yb(c,1)}},Td=function(c){if(c.tag===13){var u=xo(c,134217728);if(u!==null){var x=ka();li(u,c,134217728,x)}yb(c,134217728)}},Cm=function(c){if(c.tag===13){var u=xl(c),x=xo(c,u);if(x!==null){var j=ka();li(x,c,u,j)}yb(c,u)}},km=function(){return ar},_m=function(c,u){var x=ar;try{return ar=c,u()}finally{ar=x}},ye=function(c,u,x){switch(u){case"input":if(Ge(c,x),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<x.length;u++){var j=x[u];if(j!==c&&j.form===c.form){var k=gp(j);if(!k)throw Error(s(90));te(j),Ge(j,k)}}}break;case"textarea":Kt(c,x);break;case"select":u=x.value,u!=null&&me(c,!!x.multiple,u,!1)}},ra=ub,sa=Sc;var uB={usingClientEntryPoint:!1,Events:[Vm,Ud,gp,Zt,wt,ub]},ah={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mB={bundleType:ah.bundleType,version:ah.version,rendererPackageName:ah.rendererPackageName,rendererConfig:ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ms(c),c===null?null:c.stateNode},findFiberByHostInstance:ah.findFiberByHostInstance||cB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eg.isDisabled&&eg.supportsFiber)try{ur=eg.inject(mB),jt=eg}catch{}}return Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uB,Wa.createPortal=function(c,u){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bb(u))throw Error(s(200));return lB(c,u,null,x)},Wa.createRoot=function(c,u){if(!bb(c))throw Error(s(299));var x=!1,j="",k=O_;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=xb(c,1,!1,null,null,x,!1,j,k),c[ho]=u.current,Um(c.nodeType===8?c.parentNode:c),new vb(u)},Wa.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=Ms(u),c=c===null?null:c.stateNode,c},Wa.flushSync=function(c){return Sc(c)},Wa.hydrate=function(c,u,x){if(!Qp(u))throw Error(s(200));return Zp(null,c,u,!0,x)},Wa.hydrateRoot=function(c,u,x){if(!bb(c))throw Error(s(405));var j=x!=null&&x.hydratedSources||null,k=!1,P="",D=O_;if(x!=null&&(x.unstable_strictMode===!0&&(k=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onRecoverableError!==void 0&&(D=x.onRecoverableError)),u=E_(u,null,c,1,x??null,k,!1,P,D),c[ho]=u.current,Um(c),j)for(c=0;c<j.length;c++)x=j[c],k=x._getVersion,k=k(x._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[x,k]:u.mutableSourceEagerHydrationData.push(x,k);return new Xp(u)},Wa.render=function(c,u,x){if(!Qp(u))throw Error(s(200));return Zp(null,c,u,!1,x)},Wa.unmountComponentAtNode=function(c){if(!Qp(c))throw Error(s(40));return c._reactRootContainer?(Sc(function(){Zp(null,null,c,!1,function(){c._reactRootContainer=null,c[ho]=null})}),!0):!1},Wa.unstable_batchedUpdates=ub,Wa.unstable_renderSubtreeIntoContainer=function(c,u,x,j){if(!Qp(x))throw Error(s(200));if(c==null||c._reactInternals===void 0)throw Error(s(38));return Zp(c,u,x,!1,j)},Wa.version="18.3.1-next-f1338f8080-20240426",Wa}var U_;function yO(){if(U_)return Nb.exports;U_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Nb.exports=NB(),Nb.exports}var B_;function SB(){if(B_)return tg;B_=1;var e=yO();return tg.createRoot=e.createRoot,tg.hydrateRoot=e.hydrateRoot,tg}var CB=SB();const kB=vn(CB);var Jl=yO();const _B=vn(Jl);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zh.apply(this,arguments)}var Dl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dl||(Dl={}));const W_="popstate";function PB(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:o,hash:l}=a.location;return iN("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Yg(n)}return EB(r,s,null,e)}function ns(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function vO(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function AB(){return Math.random().toString(36).substr(2,8)}function V_(e,r){return{usr:e.state,key:e.key,idx:r}}function iN(e,r,s,a){return s===void 0&&(s=null),zh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Qu(r):r,{state:s,key:r&&r.key||a||AB()})}function Yg(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Qu(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function EB(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Dl.Pop,d=null,m=h();m==null&&(m=0,o.replaceState(zh({},o.state,{idx:m}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Dl.Pop;let b=h(),N=b==null?null:b-m;m=b,d&&d({action:l,location:v.location,delta:N})}function g(b,N){l=Dl.Push;let C=iN(v.location,b,N);m=h()+1;let S=V_(C,m),_=v.createHref(C);try{o.pushState(S,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(_)}i&&d&&d({action:l,location:v.location,delta:1})}function y(b,N){l=Dl.Replace;let C=iN(v.location,b,N);m=h();let S=V_(C,m),_=v.createHref(C);o.replaceState(S,"",_),i&&d&&d({action:l,location:v.location,delta:0})}function w(b){let N=n.location.origin!=="null"?n.location.origin:n.location.href,C=typeof b=="string"?b:Yg(b);return C=C.replace(/ $/,"%20"),ns(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let v={get action(){return l},get location(){return e(n,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(W_,f),d=b,()=>{n.removeEventListener(W_,f),d=null}},createHref(b){return r(n,b)},createURL:w,encodeLocation(b){let N=w(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:y,go(b){return o.go(b)}};return v}var q_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(q_||(q_={}));function TB(e,r,s){return s===void 0&&(s="/"),OB(e,r,s)}function OB(e,r,s,a){let n=typeof r=="string"?Qu(r):r,i=Fh(n.pathname||"/",s);if(i==null)return null;let o=bO(e);MB(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let m=qB(i);l=BB(o[d],m)}return l}function bO(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ns(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let m=zl([a,d.relativePath]),h=s.concat(d);i.children&&i.children.length>0&&(ns(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),bO(i.children,r,h,m)),!(i.path==null&&!i.index)&&r.push({path:m,score:FB(m,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of wO(i.path))n(i,o,d)}),r}function wO(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=wO(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function MB(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:UB(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const RB=/^:[\w-]+$/,IB=3,DB=2,LB=1,$B=10,zB=-2,H_=e=>e==="*";function FB(e,r){let s=e.split("/"),a=s.length;return s.some(H_)&&(a+=zB),r&&(a+=DB),s.filter(n=>!H_(n)).reduce((n,i)=>n+(RB.test(i)?IB:i===""?LB:$B),a)}function UB(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function BB(e,r,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],m=l===a.length-1,h=i==="/"?r:r.slice(i.length)||"/",f=WB({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),g=d.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:zl([i,f.pathname]),pathnameBase:YB(zl([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=zl([i,f.pathnameBase]))}return o}function WB(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=VB(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((m,h,f)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function VB(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),vO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function qB(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return vO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Fh(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function HB(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Qu(e):e;return{pathname:s?s.startsWith("/")?s:KB(s,r):r,search:JB(a),hash:XB(n)}}function KB(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function kb(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GB(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function lS(e,r){let s=GB(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function cS(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Qu(e):(n=zh({},e),ns(!n.pathname||!n.pathname.includes("?"),kb("?","pathname","search",n)),ns(!n.pathname||!n.pathname.includes("#"),kb("#","pathname","hash",n)),ns(!n.search||!n.search.includes("#"),kb("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let f=r.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;n.pathname=g.join("/")}l=f>=0?r[f]:"/"}let d=HB(n,l),m=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}const zl=e=>e.join("/").replace(/\/\/+/g,"/"),YB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jO=["post","put","patch","delete"];new Set(jO);const ZB=["get",...jO];new Set(ZB);const eW={state:"unblocked",proceed:void 0,reset:void 0,location:void 0};/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ed.apply(this,arguments)}const dS=p.createContext(null),tW=p.createContext(null),Xl=p.createContext(null),xx=p.createContext(null),ao=p.createContext({outlet:null,matches:[],isDataRoute:!1}),NO=p.createContext(null);function rW(e,r){let{relative:s}=r===void 0?{}:r;Zu()||ns(!1);let{basename:a,navigator:n}=p.useContext(Xl),{hash:i,pathname:o,search:l}=CO(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:zl([a,o])),n.createHref({pathname:d,search:l,hash:i})}function Zu(){return p.useContext(xx)!=null}function Ql(){return Zu()||ns(!1),p.useContext(xx).location}function SO(e){p.useContext(Xl).static||p.useLayoutEffect(e)}function br(){let{isDataRoute:e}=p.useContext(ao);return e?xW():sW()}function sW(){Zu()||ns(!1);let e=p.useContext(dS),{basename:r,future:s,navigator:a}=p.useContext(Xl),{matches:n}=p.useContext(ao),{pathname:i}=Ql(),o=JSON.stringify(lS(n,s.v7_relativeSplatPath)),l=p.useRef(!1);return SO(()=>{l.current=!0}),p.useCallback(function(m,h){if(h===void 0&&(h={}),!l.current)return;if(typeof m=="number"){a.go(m);return}let f=cS(m,JSON.parse(o),i,h.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:zl([r,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[r,a,o,i,e])}const aW=p.createContext(null);function nW(e){let r=p.useContext(ao).outlet;return r&&p.createElement(aW.Provider,{value:e},r)}function uf(){let{matches:e}=p.useContext(ao),r=e[e.length-1];return r?r.params:{}}function CO(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=p.useContext(Xl),{matches:n}=p.useContext(ao),{pathname:i}=Ql(),o=JSON.stringify(lS(n,a.v7_relativeSplatPath));return p.useMemo(()=>cS(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function iW(e,r){return oW(e,r)}function oW(e,r,s,a){Zu()||ns(!1);let{navigator:n}=p.useContext(Xl),{matches:i}=p.useContext(ao),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let m=Ql(),h;if(r){var f;let b=typeof r=="string"?Qu(r):r;d==="/"||(f=b.pathname)!=null&&f.startsWith(d)||ns(!1),h=b}else h=m;let g=h.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=TB(e,{pathname:y}),v=mW(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:zl([d,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:zl([d,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return r&&v?p.createElement(xx.Provider,{value:{location:ed({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Dl.Pop}},v):v}function lW(){let e=fW(),r=QB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},r),s?p.createElement("pre",{style:n},s):null,null)}const cW=p.createElement(lW,null);class dW extends p.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?p.createElement(ao.Provider,{value:this.props.routeContext},p.createElement(NO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uW(e){let{routeContext:r,match:s,children:a}=e,n=p.useContext(dS);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(ao.Provider,{value:r},a)}function mW(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ns(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:g,errors:y}=s,w=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let y,w=!1,v=null,b=null;s&&(y=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||cW,d&&(m<0&&g===0?(yW("route-fallback"),w=!0,b=null):m===g&&(w=!0,b=f.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,g+1)),C=()=>{let S;return y?S=v:w?S=b:f.route.Component?S=p.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,p.createElement(uW,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:S})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(dW,{location:s.location,revalidation:s.revalidation,component:v,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var kO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kO||{}),_O=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_O||{});function PO(e){let r=p.useContext(dS);return r||ns(!1),r}function AO(e){let r=p.useContext(tW);return r||ns(!1),r}function hW(e){let r=p.useContext(ao);return r||ns(!1),r}function EO(e){let r=hW(),s=r.matches[r.matches.length-1];return s.route.id||ns(!1),s.route.id}function fW(){var e;let r=p.useContext(NO),s=AO(),a=EO();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}let pW=0;function gW(e){let{router:r,basename:s}=PO(),a=AO(),[n,i]=p.useState(""),o=p.useCallback(l=>{if(typeof e!="function")return!!e;if(s==="/")return e(l);let{currentLocation:d,nextLocation:m,historyAction:h}=l;return e({currentLocation:ed({},d,{pathname:Fh(d.pathname,s)||d.pathname}),nextLocation:ed({},m,{pathname:Fh(m.pathname,s)||m.pathname}),historyAction:h})},[s,e]);return p.useEffect(()=>{let l=String(++pW);return i(l),()=>r.deleteBlocker(l)},[r]),p.useEffect(()=>{n!==""&&r.getBlocker(n,o)},[r,n,o]),n&&a.blockers.has(n)?a.blockers.get(n):eW}function xW(){let{router:e}=PO(kO.UseNavigateStable),r=EO(_O.UseNavigateStable),s=p.useRef(!1);return SO(()=>{s.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,ed({fromRouteId:r},i)))},[e,r])}const K_={};function yW(e,r,s){K_[e]||(K_[e]=!0)}function vW(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uS(e){let{to:r,replace:s,state:a,relative:n}=e;Zu()||ns(!1);let{future:i,static:o}=p.useContext(Xl),{matches:l}=p.useContext(ao),{pathname:d}=Ql(),m=br(),h=cS(r,lS(l,i.v7_relativeSplatPath),d,n==="path"),f=JSON.stringify(h);return p.useEffect(()=>m(JSON.parse(f),{replace:s,state:a,relative:n}),[m,f,n,s,a]),null}function bW(e){return nW(e.context)}function mt(e){ns(!1)}function wW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=Dl.Pop,navigator:i,static:o=!1,future:l}=e;Zu()&&ns(!1);let d=r.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:d,navigator:i,static:o,future:ed({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=Qu(a));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:w="default"}=a,v=p.useMemo(()=>{let b=Fh(h,d);return b==null?null:{location:{pathname:b,search:f,hash:g,state:y,key:w},navigationType:n}},[d,h,f,g,y,w,n]);return v==null?null:p.createElement(Xl.Provider,{value:m},p.createElement(xx.Provider,{children:s,value:v}))}function jW(e){let{children:r,location:s}=e;return iW(oN(r),s)}new Promise(()=>{});function oN(e,r){r===void 0&&(r=[]);let s=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...r,n];if(a.type===p.Fragment){s.push.apply(s,oN(a.props.children,i));return}a.type!==mt&&ns(!1),!a.props.index||!a.props.children||ns(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=oN(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lN.apply(this,arguments)}function NW(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function SW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CW(e,r){return e.button===0&&(!r||r==="_self")&&!SW(e)}function cN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function kW(e,r){let s=cN(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const _W=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PW="6";try{window.__reactRouterVersion=PW}catch{}const AW="startTransition",G_=gx[AW];function EW(e){let{basename:r,children:s,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=PB({window:n,v5Compat:!0}));let o=i.current,[l,d]=p.useState({action:o.action,location:o.location}),{v7_startTransition:m}=a||{},h=p.useCallback(f=>{m&&G_?G_(()=>d(f)):d(f)},[d,m]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>vW(a),[a]),p.createElement(wW,{basename:r,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const TW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MW=p.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:m,preventScrollReset:h,viewTransition:f}=r,g=NW(r,_W),{basename:y}=p.useContext(Xl),w,v=!1;if(typeof m=="string"&&OW.test(m)&&(w=m,TW))try{let S=new URL(window.location.href),_=m.startsWith("//")?new URL(S.protocol+m):new URL(m),A=Fh(_.pathname,y);_.origin===S.origin&&A!=null?m=A+_.search+_.hash:v=!0}catch{}let b=rW(m,{relative:n}),N=RW(m,{replace:o,state:l,target:d,preventScrollReset:h,relative:n,viewTransition:f});function C(S){a&&a(S),S.defaultPrevented||N(S)}return p.createElement("a",lN({},g,{href:w||b,onClick:v||i?a:C,ref:s,target:d}))});var Y_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var J_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function RW(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=r===void 0?{}:r,d=br(),m=Ql(),h=CO(e,{relative:o});return p.useCallback(f=>{if(CW(f,s)){f.preventDefault();let g=a!==void 0?a:Yg(m)===Yg(h);d(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[m,d,h,a,n,s,e,i,o,l])}function IW(e){let r=p.useRef(cN(e)),s=p.useRef(!1),a=Ql(),n=p.useMemo(()=>kW(a.search,s.current?null:r.current),[a.search]),i=br(),o=p.useCallback((l,d)=>{const m=cN(typeof l=="function"?l(n):l);s.current=!0,i("?"+m,d)},[i,n]);return[n,o]}var DW=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function TO({packageName:e,customMessages:r}){let s=e;function a(i,o){if(!o)return`${s}: ${i}`;let l=i;const d=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const m of d){const h=(o[m[1]]||"").toString();l=l.replace(`{{${m[1]}}}`,h)}return`${s}: ${l}`}const n={...DW,...r};return{setPackageName({packageName:i}){return typeof i=="string"&&(s=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(a(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(a(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(a(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(a(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(a(n.MissingClerkProvider,i))},throw(i){throw new Error(a(i))}}}var OO=Object.defineProperty,LW=Object.getOwnPropertyDescriptor,$W=Object.getOwnPropertyNames,zW=Object.prototype.hasOwnProperty,FW=(e,r)=>{for(var s in r)OO(e,s,{get:r[s],enumerable:!0})},UW=(e,r,s,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of $W(r))!zW.call(e,n)&&n!==s&&OO(e,n,{get:()=>r[n],enumerable:!(a=LW(r,n))||a.enumerable});return e},BW=(e,r,s)=>(UW(e,r,"default"),s),WW={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},VW=new Set(["first_factor","second_factor","multi_factor"]),qW=new Set(["strict_mfa","strict","moderate","lax"]),HW=e=>typeof e=="number"&&e>0,KW=e=>VW.has(e),GW=e=>qW.has(e),_b=e=>e.replace(/^(org:)*/,"org:"),YW=(e,r)=>{const{orgId:s,orgRole:a,orgPermissions:n}=r;return!e.role&&!e.permission||!s||!a||!n?null:e.permission?n.includes(_b(e.permission)):e.role?_b(a)===_b(e.role):null},X_=(e,r)=>{const{org:s,user:a}=XW(e),[n,i]=r.split(":"),o=i||n;return n==="org"?s.includes(o):n==="user"?a.includes(o):[...s,...a].includes(o)},JW=(e,r)=>{const{features:s,plans:a}=r;return e.feature&&s?X_(s,e.feature):e.plan&&a?X_(a,e.plan):null},XW=e=>{const r=e?e.split(",").map(s=>s.trim()):[];return{org:r.filter(s=>s.split(":")[0].includes("o")).map(s=>s.split(":")[1]),user:r.filter(s=>s.split(":")[0].includes("u")).map(s=>s.split(":")[1])}},QW=e=>{if(!e)return!1;const r=n=>typeof n=="string"?WW[n]:n,s=typeof e=="string"&&GW(e),a=typeof e=="object"&&KW(e.level)&&HW(e.afterMinutes);return s||a?r.bind(null,e):!1},ZW=(e,{factorVerificationAge:r})=>{if(!e.reverification||!r)return null;const s=QW(e.reverification);if(!s)return null;const{level:a,afterMinutes:n}=s(),[i,o]=r,l=i!==-1?n>i:null,d=o!==-1?n>o:null;switch(a){case"first_factor":return l;case"second_factor":return o!==-1?d:l;case"multi_factor":return o===-1?l:l&&d}},eV=e=>r=>{if(!e.userId)return!1;const s=JW(r,e),a=YW(r,e),n=ZW(r,e);return[s||a,n].some(i=>i===null)?[s||a,n].some(i=>i===!0):[s||a,n].every(i=>i===!0)},tV=({authObject:{sessionId:e,sessionStatus:r,userId:s,actor:a,orgId:n,orgRole:i,orgSlug:o,signOut:l,getToken:d,has:m,sessionClaims:h},options:{treatPendingAsSignedOut:f=!0}})=>{if(e===void 0&&s===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:s,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:d};if(e===null&&s===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:s,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(f&&r==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(e&&h&&s&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:n,orgRole:i,orgSlug:o||null,has:m,signOut:l,getToken:d};if(e&&h&&s&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:null,orgRole:null,orgSlug:null,has:m,signOut:l,getToken:d}},MO=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,rV=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],RO="pk_live_",sV="pk_test_";function IO(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function Q_(e,r={}){if(e=e||"",!e||!dN(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!dN(e))throw new Error("Publishable key not valid.");return null}const s=e.startsWith(RO)?"production":"development";let a;try{a=MO(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!IO(a)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let n=a.slice(0,-1);return r.proxyUrl?n=r.proxyUrl:s!=="development"&&r.domain&&r.isSatellite&&(n=`clerk.${r.domain}`),{instanceType:s,frontendApi:n}}function dN(e=""){try{if(!(e.startsWith(RO)||e.startsWith(sV)))return!1;const s=e.split("_");if(s.length!==3)return!1;const a=s[2];if(!a)return!1;const n=MO(a);return IO(n)}catch{return!1}}function aV(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const s=typeof r=="string"?r:r.hostname;let a=e.get(s);return a===void 0&&(a=rV.some(n=>s.endsWith(n)),e.set(s,a)),a}}}var nV="METHOD_CALLED";function DO(e,r){return{event:nV,payload:{method:e,...r}}}var Pb={exports:{}},Ab={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function iV(){if(Z_)return Ab;Z_=1;var e=Xu();function r(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,g){var y=g(),w=a({inst:{value:y,getSnapshot:g}}),v=w[0].inst,b=w[1];return i(function(){v.value=y,v.getSnapshot=g,d(v)&&b({inst:v})},[f,y,g]),n(function(){return d(v)&&b({inst:v}),f(function(){d(v)&&b({inst:v})})},[f]),o(y),y}function d(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!s(f,y)}catch{return!0}}function m(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return Ab.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ab}var eP;function LO(){return eP||(eP=1,Pb.exports=iV()),Pb.exports}var mS=LO();const $O=0,zO=1,FO=2,tP=3;var rP=Object.prototype.hasOwnProperty;function uN(e,r){var s,a;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&uN(e[a],r[a]););return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(rP.call(e,s)&&++a&&!rP.call(r,s)||!(s in r)||!uN(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}const fi=new WeakMap,Ll=()=>{},ks=Ll(),Jg=Object,Lt=e=>e===ks,Dn=e=>typeof e=="function",Lo=(e,r)=>({...e,...r}),UO=e=>Dn(e.then),Eb={},rg={},hS="undefined",mf=typeof window!=hS,mN=typeof document!=hS,oV=mf&&"Deno"in window,lV=()=>mf&&typeof window.requestAnimationFrame!=hS,El=(e,r)=>{const s=fi.get(e);return[()=>!Lt(r)&&e.get(r)||Eb,a=>{if(!Lt(r)){const n=e.get(r);r in rg||(rg[r]=n),s[5](r,Lo(n,a),n||Eb)}},s[6],()=>!Lt(r)&&r in rg?rg[r]:!Lt(r)&&e.get(r)||Eb]};let hN=!0;const cV=()=>hN,[fN,pN]=mf&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ll,Ll],dV=()=>{const e=mN&&document.visibilityState;return Lt(e)||e!=="hidden"},uV=e=>(mN&&document.addEventListener("visibilitychange",e),fN("focus",e),()=>{mN&&document.removeEventListener("visibilitychange",e),pN("focus",e)}),mV=e=>{const r=()=>{hN=!0,e()},s=()=>{hN=!1};return fN("online",r),fN("offline",s),()=>{pN("online",r),pN("offline",s)}},hV={isOnline:cV,isVisible:dV},fV={initFocus:uV,initReconnect:mV},sP=!ce.useId,Uh=!mf||oV,pV=e=>lV()?window.requestAnimationFrame(e):setTimeout(e,1),Th=Uh?p.useEffect:p.useLayoutEffect,Tb=typeof navigator<"u"&&navigator.connection,aP=!Uh&&Tb&&(["slow-2g","2g"].includes(Tb.effectiveType)||Tb.saveData),sg=new WeakMap,gV=e=>Jg.prototype.toString.call(e),Ob=(e,r)=>e===`[object ${r}]`;let xV=0;const gN=e=>{const r=typeof e,s=gV(e),a=Ob(s,"Date"),n=Ob(s,"RegExp"),i=Ob(s,"Object");let o,l;if(Jg(e)===e&&!a&&!n){if(o=sg.get(e),o)return o;if(o=++xV+"~",sg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=gN(e[l])+",";sg.set(e,o)}if(i){o="#";const d=Jg.keys(e).sort();for(;!Lt(l=d.pop());)Lt(e[l])||(o+=l+":"+gN(e[l])+",");sg.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},Iu=e=>{if(Dn(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?gN(e):"",[e,r]};let yV=0;const xN=()=>++yV;async function BO(...e){const[r,s,a,n]=e,i=Lo({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let o=i.populateCache;const l=i.rollbackOnError;let d=i.optimisticData;const m=g=>typeof l=="function"?l(g):l!==!1,h=i.throwOnError;if(Dn(s)){const g=s,y=[],w=r.keys();for(const v of w)!/^\$(inf|sub)\$/.test(v)&&g(r.get(v)._k)&&y.push(v);return Promise.all(y.map(f))}return f(s);async function f(g){const[y]=Iu(g);if(!y)return;const[w,v]=El(r,y),[b,N,C,S]=fi.get(r),_=()=>{const V=b[y];return(Dn(i.revalidate)?i.revalidate(w().data,g):i.revalidate!==!1)&&(delete C[y],delete S[y],V&&V[0])?V[0](FO).then(()=>w().data):w().data};if(e.length<3)return _();let A=a,T,E=!1;const M=xN();N[y]=[M,0];const L=!Lt(d),H=w(),O=H.data,I=H._c,W=Lt(I)?O:I;if(L&&(d=Dn(d)?d(W,O):d,v({data:d,_c:W})),Dn(A))try{A=A(W)}catch(V){T=V,E=!0}if(A&&UO(A))if(A=await A.catch(V=>{T=V,E=!0}),M!==N[y][0]){if(E)throw T;return A}else E&&L&&m(T)&&(o=!0,v({data:W,_c:ks}));if(o&&!E)if(Dn(o)){const V=o(A,W);v({data:V,error:ks,_c:ks})}else v({data:A,error:ks,_c:ks});if(N[y][1]=xN(),Promise.resolve(_()).then(()=>{v({_c:ks})}),E){if(h)throw T;return}return A}}const nP=(e,r)=>{for(const s in e)e[s][0]&&e[s][0](r)},WO=(e,r)=>{if(!fi.has(e)){const s=Lo(fV,r),a=Object.create(null),n=BO.bind(ks,e);let i=Ll;const o=Object.create(null),l=(h,f)=>{const g=o[h]||[];return o[h]=g,g.push(f),()=>g.splice(g.indexOf(f),1)},d=(h,f,g)=>{e.set(h,f);const y=o[h];if(y)for(const w of y)w(f,g)},m=()=>{if(!fi.has(e)&&(fi.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,d,l]),!Uh)){const h=s.initFocus(setTimeout.bind(ks,nP.bind(ks,a,$O))),f=s.initReconnect(setTimeout.bind(ks,nP.bind(ks,a,zO)));i=()=>{h&&h(),f&&f(),fi.delete(e)}}};return m(),[e,n,m,i]}return[e,fi.get(e)[4]]},vV=(e,r,s,a,n)=>{const i=s.errorRetryCount,o=n.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!Lt(i)&&o>i||setTimeout(a,l,n)},bV=uN,[hf,VO]=WO(new Map),qO=Lo({onLoadingSlow:Ll,onSuccess:Ll,onError:Ll,onErrorRetry:vV,onDiscarded:Ll,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:aP?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:aP?5e3:3e3,compare:bV,isPaused:()=>!1,cache:hf,mutate:VO,fallback:{}},hV),HO=(e,r)=>{const s=Lo(e,r);if(r){const{use:a,fallback:n}=e,{use:i,fallback:o}=r;a&&i&&(s.use=a.concat(i)),n&&o&&(s.fallback=Lo(n,o))}return s},yN=p.createContext({}),wV=e=>{const{value:r}=e,s=p.useContext(yN),a=Dn(r),n=p.useMemo(()=>a?r(s):r,[a,s,r]),i=p.useMemo(()=>a?n:HO(s,n),[a,s,n]),o=n&&n.provider,l=p.useRef(ks);o&&!l.current&&(l.current=WO(o(i.cache||hf),n));const d=l.current;return d&&(i.cache=d[0],i.mutate=d[1]),Th(()=>{if(d)return d[2]&&d[2](),d[3]},[]),p.createElement(yN.Provider,Lo(e,{value:i}))},KO="$inf$",GO=mf&&window.__SWR_DEVTOOLS_USE__,jV=GO?window.__SWR_DEVTOOLS_USE__:[],NV=()=>{GO&&(window.__SWR_DEVTOOLS_REACT__=ce)},YO=e=>Dn(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],JO=()=>Lo(qO,p.useContext(yN)),SV=(e,r)=>{const[s,a]=Iu(e),[,,,n]=fi.get(hf);if(n[s])return n[s];const i=r(a);return n[s]=i,i},CV=e=>(r,s,a)=>e(r,s&&((...i)=>{const[o]=Iu(r),[,,,l]=fi.get(hf);if(o.startsWith(KO))return s(...i);const d=l[o];return Lt(d)?s(...i):(delete l[o],d)}),a),kV=jV.concat(CV),_V=e=>function(...s){const a=JO(),[n,i,o]=YO(s),l=HO(a,o);let d=e;const{use:m}=l,h=(m||[]).concat(kV);for(let f=h.length;f--;)d=h[f](d);return d(n,i||l.fetcher||null,l)},PV=(e,r,s)=>{const a=r[e]||(r[e]=[]);return a.push(s),()=>{const n=a.indexOf(s);n>=0&&(a[n]=a[a.length-1],a.pop())}},AV=(e,r)=>(...s)=>{const[a,n,i]=YO(s),o=(i.use||[]).concat(r);return e(a,n,{...i,use:o})};NV();const EV=()=>{},TV=EV(),vN=Object,iP=e=>e===TV,OV=e=>typeof e=="function",ag=new WeakMap,MV=e=>vN.prototype.toString.call(e),Mb=(e,r)=>e===`[object ${r}]`;let RV=0;const bN=e=>{const r=typeof e,s=MV(e),a=Mb(s,"Date"),n=Mb(s,"RegExp"),i=Mb(s,"Object");let o,l;if(vN(e)===e&&!a&&!n){if(o=ag.get(e),o)return o;if(o=++RV+"~",ag.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=bN(e[l])+",";ag.set(e,o)}if(i){o="#";const d=vN.keys(e).sort();for(;!iP(l=d.pop());)iP(e[l])||(o+=l+":"+bN(e[l])+",");ag.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},IV=e=>{if(OV(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?bN(e):"",[e,r]},DV=e=>IV(e)[0],Rb=ce.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}}),Ib={dedupe:!0},LV=(e,r,s)=>{const{cache:a,compare:n,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:d,refreshInterval:m,refreshWhenHidden:h,refreshWhenOffline:f,keepPreviousData:g}=s,[y,w,v,b]=fi.get(a),[N,C]=Iu(e),S=p.useRef(!1),_=p.useRef(!1),A=p.useRef(N),T=p.useRef(r),E=p.useRef(s),M=()=>E.current,L=()=>M().isVisible()&&M().isOnline(),[H,O,I,W]=El(a,N),V=p.useRef({}).current,U=Lt(o)?Lt(s.fallback)?ks:s.fallback[N]:o,$=(be,Te)=>{for(const Ue in V){const oe=Ue;if(oe==="data"){if(!n(be[oe],Te[oe])&&(!Lt(be[oe])||!n(ne,Te[oe])))return!1}else if(Te[oe]!==be[oe])return!1}return!0},R=p.useMemo(()=>{const be=!N||!r?!1:Lt(l)?M().isPaused()||i?!1:d!==!1:l,Te=Nt=>{const me=Lo(Nt);return delete me._k,be?{isValidating:!0,isLoading:!0,...me}:me},Ue=H(),oe=W(),Ge=Te(Ue),Ct=Ue===oe?Ge:Te(oe);let Tt=Ge;return[()=>{const Nt=Te(H());return $(Nt,Tt)?(Tt.data=Nt.data,Tt.isLoading=Nt.isLoading,Tt.isValidating=Nt.isValidating,Tt.error=Nt.error,Tt):(Tt=Nt,Nt)},()=>Ct]},[a,N]),F=mS.useSyncExternalStore(p.useCallback(be=>I(N,(Te,Ue)=>{$(Ue,Te)||be()}),[a,N]),R[0],R[1]),z=!S.current,K=y[N]&&y[N].length>0,B=F.data,Q=Lt(B)?U&&UO(U)?Rb(U):U:B,Ce=F.error,Z=p.useRef(Q),ne=g?Lt(B)?Lt(Z.current)?Q:Z.current:B:Q,ze=K&&!Lt(Ce)?!1:z&&!Lt(l)?l:M().isPaused()?!1:i?Lt(Q)?!1:d:Lt(Q)||d,Ae=!!(N&&r&&z&&ze),Re=Lt(F.isValidating)?Ae:F.isValidating,de=Lt(F.isLoading)?Ae:F.isLoading,Se=p.useCallback(async be=>{const Te=T.current;if(!N||!Te||_.current||M().isPaused())return!1;let Ue,oe,Ge=!0;const Ct=be||{},Tt=!v[N]||!Ct.dedupe,Nt=()=>sP?!_.current&&N===A.current&&S.current:N===A.current,me={isValidating:!1,isLoading:!1},Be=()=>{O(me)},kt=()=>{const _t=v[N];_t&&_t[1]===oe&&delete v[N]},Kt={isValidating:!0};Lt(H().data)&&(Kt.isLoading=!0);try{if(Tt&&(O(Kt),s.loadingTimeout&&Lt(H().data)&&setTimeout(()=>{Ge&&Nt()&&M().onLoadingSlow(N,s)},s.loadingTimeout),v[N]=[Te(C),xN()]),[Ue,oe]=v[N],Ue=await Ue,Tt&&setTimeout(kt,s.dedupingInterval),!v[N]||v[N][1]!==oe)return Tt&&Nt()&&M().onDiscarded(N),!1;me.error=ks;const _t=w[N];if(!Lt(_t)&&(oe<=_t[0]||oe<=_t[1]||_t[1]===0))return Be(),Tt&&Nt()&&M().onDiscarded(N),!1;const wr=H().data;me.data=n(wr,Ue)?wr:Ue,Tt&&Nt()&&M().onSuccess(Ue,N,s)}catch(_t){kt();const wr=M(),{shouldRetryOnError:Kr}=wr;wr.isPaused()||(me.error=_t,Tt&&Nt()&&(wr.onError(_t,N,wr),(Kr===!0||Dn(Kr)&&Kr(_t))&&(!M().revalidateOnFocus||!M().revalidateOnReconnect||L())&&wr.onErrorRetry(_t,N,wr,jr=>{const vs=y[N];vs&&vs[0]&&vs[0](tP,jr)},{retryCount:(Ct.retryCount||0)+1,dedupe:!0})))}return Ge=!1,Be(),!0},[N,a]),Ee=p.useCallback((...be)=>BO(a,A.current,...be),[]);if(Th(()=>{T.current=r,E.current=s,Lt(B)||(Z.current=B)}),Th(()=>{if(!N)return;const be=Se.bind(ks,Ib);let Te=0;M().revalidateOnFocus&&(Te=Date.now()+M().focusThrottleInterval);const oe=PV(N,y,(Ge,Ct={})=>{if(Ge==$O){const Tt=Date.now();M().revalidateOnFocus&&Tt>Te&&L()&&(Te=Tt+M().focusThrottleInterval,be())}else if(Ge==zO)M().revalidateOnReconnect&&L()&&be();else{if(Ge==FO)return Se();if(Ge==tP)return Se(Ct)}});return _.current=!1,A.current=N,S.current=!0,O({_k:C}),ze&&(v[N]||(Lt(Q)||Uh?be():pV(be))),()=>{_.current=!0,oe()}},[N]),Th(()=>{let be;function Te(){const oe=Dn(m)?m(H().data):m;oe&&be!==-1&&(be=setTimeout(Ue,oe))}function Ue(){!H().error&&(h||M().isVisible())&&(f||M().isOnline())?Se(Ib).then(Te):Te()}return Te(),()=>{be&&(clearTimeout(be),be=-1)}},[m,h,f,N]),p.useDebugValue(ne),i&&Lt(Q)&&N){if(!sP&&Uh)throw new Error("Fallback data is required when using Suspense in SSR.");T.current=r,E.current=s,_.current=!1;const be=b[N];if(!Lt(be)){const Te=Ee(be);Rb(Te)}if(Lt(Ce)){const Te=Se(Ib);Lt(ne)||(Te.status="fulfilled",Te.value=!0),Rb(Te)}else throw Ce}return{mutate:Ee,get data(){return V.data=!0,ne},get error(){return V.error=!0,Ce},get isValidating(){return V.isValidating=!0,Re},get isLoading(){return V.isLoading=!0,de}}},$V=Jg.defineProperty(wV,"defaultValue",{value:qO}),fS=_V(LV),zV=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:$V,default:fS,mutate:VO,preload:SV,unstable_serialize:DV,useSWRConfig:JO},Symbol.toStringTag,{value:"Module"})),FV=()=>{},UV=FV(),wN=Object,oP=e=>e===UV,BV=e=>typeof e=="function",ng=new WeakMap,WV=e=>wN.prototype.toString.call(e),Db=(e,r)=>e===`[object ${r}]`;let VV=0;const jN=e=>{const r=typeof e,s=WV(e),a=Db(s,"Date"),n=Db(s,"RegExp"),i=Db(s,"Object");let o,l;if(wN(e)===e&&!a&&!n){if(o=ng.get(e),o)return o;if(o=++VV+"~",ng.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=jN(e[l])+",";ng.set(e,o)}if(i){o="#";const d=wN.keys(e).sort();for(;!oP(l=d.pop());)oP(e[l])||(o+=l+":"+jN(e[l])+",");ng.set(e,o)}}else o=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return o},qV=e=>{if(BV(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?jN(e):"",[e,r]},HV=e=>qV(e?e(0,null):null)[0],Lb=Promise.resolve(),KV=e=>(r,s,a)=>{const n=p.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:d=!1,revalidateFirstPage:m=!0,revalidateOnMount:h=!1,parallel:f=!1}=a,[,,,g]=fi.get(hf);let y;try{y=HV(r),y&&(y=KO+y)}catch{}const[w,v,b]=El(i,y),N=p.useCallback(()=>Lt(w()._l)?o:w()._l,[i,y,o]);mS.useSyncExternalStore(p.useCallback(M=>y?b(y,()=>{M()}):()=>{},[i,y]),N,N);const C=p.useCallback(()=>{const M=w()._l;return Lt(M)?o:M},[y,o]),S=p.useRef(C());Th(()=>{if(!n.current){n.current=!0;return}y&&v({_l:d?S.current:C()})},[y,i]);const _=h&&!n.current,A=e(y,async M=>{const L=w()._i,H=w()._r;v({_r:ks});const O=[],I=C(),[W]=El(i,M),V=W().data,U=[];let $=null;for(let R=0;R<I;++R){const[F,z]=Iu(r(R,f?null:$));if(!F)break;const[K,B]=El(i,F);let Q=K().data;const Ce=l||L||Lt(Q)||m&&!R&&!Lt(V)||_||V&&!Lt(V[R])&&!a.compare(V[R],Q);if(s&&(typeof H=="function"?H(Q,z):Ce)){const Z=async()=>{if(!(F in g))Q=await s(z);else{const ze=g[F];delete g[F],Q=await ze}B({data:Q,_k:z}),O[R]=Q};f?U.push(Z):await Z()}else O[R]=Q;f||($=Q)}return f&&await Promise.all(U.map(R=>R())),v({_i:ks}),O},a),T=p.useCallback(function(M,L){const H=typeof L=="boolean"?{revalidate:L}:L||{},O=H.revalidate!==!1;return y?(O&&(Lt(M)?v({_i:!0,_r:H.revalidate}):v({_i:!1,_r:H.revalidate})),arguments.length?A.mutate(M,{...H,revalidate:O}):A.mutate()):Lb},[y,i]),E=p.useCallback(M=>{if(!y)return Lb;const[,L]=El(i,y);let H;if(Dn(M)?H=M(C()):typeof M=="number"&&(H=M),typeof H!="number")return Lb;L({_l:H}),S.current=H;const O=[],[I]=El(i,y);let W=null;for(let V=0;V<H;++V){const[U]=Iu(r(V,W)),[$]=El(i,U),R=U?$().data:ks;if(Lt(R))return T(I().data);O.push(R),W=R}return T(O)},[y,i,T,C]);return{size:C(),setSize:E,mutate:T,get data(){return A.data},get error(){return A.error},get isValidating(){return A.isValidating},get isLoading(){return A.isLoading}}},GV=AV(fS,KV);var lP=Object.prototype.hasOwnProperty;function cP(e,r,s){for(s of e.keys())if(Oh(s,r))return s}function Oh(e,r){var s,a,n;if(e===r)return!0;if(e&&r&&(s=e.constructor)===r.constructor){if(s===Date)return e.getTime()===r.getTime();if(s===RegExp)return e.toString()===r.toString();if(s===Array){if((a=e.length)===r.length)for(;a--&&Oh(e[a],r[a]););return a===-1}if(s===Set){if(e.size!==r.size)return!1;for(a of e)if(n=a,n&&typeof n=="object"&&(n=cP(r,n),!n)||!r.has(n))return!1;return!0}if(s===Map){if(e.size!==r.size)return!1;for(a of e)if(n=a[0],n&&typeof n=="object"&&(n=cP(r,n),!n)||!Oh(a[1],r.get(n)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),r=new Uint8Array(r);else if(s===DataView){if((a=e.byteLength)===r.byteLength)for(;a--&&e.getInt8(a)===r.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===r.byteLength)for(;a--&&e[a]===r[a];);return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(lP.call(e,s)&&++a&&!lP.call(r,s)||!(s in r)||!Oh(e[s],r[s]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}function YV(e,r){if(!e)throw typeof r=="string"?new Error(r):new Error(`${r.displayName} not found`)}var no=(e,r)=>{const{assertCtxFn:s=YV}={},a=ce.createContext(void 0);return a.displayName=e,[a,()=>{const o=ce.useContext(a);return s(o,`${e} not found`),o.value},()=>{const o=ce.useContext(a);return o?o.value:{}}]},pS={};FW(pS,{useSWR:()=>fS,useSWRInfinite:()=>GV});BW(pS,zV);var[XO,QO]=no("ClerkInstanceContext"),[JV,XV]=no("UserContext"),[QV,c1e]=no("ClientContext"),[ZV,d1e]=no("SessionContext");ce.createContext({});var[eq,u1e]=no("CheckoutContext"),tq=({children:e,...r})=>ce.createElement(eq.Provider,{value:{value:r}},e),[rq,m1e]=no("OrganizationContext"),sq=({children:e,organization:r,swrConfig:s})=>ce.createElement(pS.SWRConfig,{value:s},ce.createElement(rq.Provider,{value:{value:{organization:r}}},e));function ZO(e){if(!ce.useContext(XO)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?ce.useLayoutEffect:ce.useEffect;var dP="useUser";function gS(){var s;ZO(dP);const e=XV();return(s=QO().telemetry)==null||s.record(DO(dP)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var uP=Oh,aq=e=>{const r=p.useRef(e);return p.useEffect(()=>{r.current=e},[e]),r.current},nn=(e,r,s)=>{const a=!!s,n=p.useRef(s);p.useEffect(()=>{n.current=s},[s]),p.useEffect(()=>{if(!a||!e)return()=>{};const i=(...o)=>{n.current&&n.current(...o)};return e.on(r,i),()=>{e.off(r,i)}},[a,r,e,n])},eM=ce.createContext(null);eM.displayName="ElementsContext";var nq=(e,r)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${r} in an <Elements> provider.`);return e},Xg=e=>e!==null&&typeof e=="object",iq=(e,r,s)=>Xg(e)?Object.keys(e).reduce((a,n)=>{const i=!Xg(r)||!tM(e[n],r[n]);return s.includes(n)?(i&&console.warn(`Unsupported prop change: options.${n} is not a mutable property.`),a):i?{...a||{},[n]:e[n]}:a},null):null,mP="[object Object]",tM=(e,r)=>{if(!Xg(e)||!Xg(r))return e===r;const s=Array.isArray(e),a=Array.isArray(r);if(s!==a)return!1;const n=Object.prototype.toString.call(e)===mP,i=Object.prototype.toString.call(r)===mP;if(n!==i)return!1;if(!n&&!s)return e===r;const o=Object.keys(e),l=Object.keys(r);if(o.length!==l.length)return!1;const d={};for(let y=0;y<o.length;y+=1)d[o[y]]=!0;for(let y=0;y<l.length;y+=1)d[l[y]]=!0;const m=Object.keys(d);if(m.length!==o.length)return!1;const h=e,f=r,g=y=>tM(h[y],f[y]);return m.every(g)},hP=e=>{const r=ce.useContext(eM);return nq(r,e)},oq=e=>e.charAt(0).toUpperCase()+e.slice(1),lq=(e,r)=>{const s=`${oq(e)}Element`,i=r?o=>{hP(`mounts <${s}>`);const{id:l,className:d}=o;return ce.createElement("div",{id:l,className:d})}:({id:o,className:l,fallback:d,options:m={},onBlur:h,onFocus:f,onReady:g,onChange:y,onEscape:w,onClick:v,onLoadError:b,onLoaderStart:N,onNetworksChange:C,onConfirm:S,onCancel:_,onShippingAddressChange:A,onShippingRateChange:T})=>{const E=hP(`mounts <${s}>`),M="elements"in E?E.elements:null,[L,H]=ce.useState(null),O=ce.useRef(null),I=ce.useRef(null),[W,V]=p.useState(!1);nn(L,"blur",h),nn(L,"focus",f),nn(L,"escape",w),nn(L,"click",v),nn(L,"loaderror",b),nn(L,"loaderstart",N),nn(L,"networkschange",C),nn(L,"confirm",S),nn(L,"cancel",_),nn(L,"shippingaddresschange",A),nn(L,"shippingratechange",T),nn(L,"change",y);let U;g&&(U=()=>{V(!0),g(L)}),nn(L,"ready",U),ce.useLayoutEffect(()=>{if(O.current===null&&I.current!==null&&M){let R=null;M&&(R=M.create(e,m)),O.current=R,H(R),R&&R.mount(I.current)}},[M,m]);const $=aq(m);return ce.useEffect(()=>{if(!O.current)return;const R=iq(m,$,["paymentRequest"]);R&&"update"in O.current&&O.current.update(R)},[m,$]),ce.useLayoutEffect(()=>()=>{if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}},[]),ce.createElement(ce.Fragment,null,!W&&d,ce.createElement("div",{id:o,className:l,ref:I}))};return i.displayName=s,i.__elementType=e,i},cq=typeof window>"u";lq("payment",cq);no("StripeLibsContext");no("PaymentElementContext");no("StripeUtilsContext");var Wi=TO({packageName:"@clerk/clerk-react"});function dq(e){Wi.setMessages(e).setPackageName(e)}var[uq,mq]=no("AuthContext"),hq=XO,rM=QO,fq="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",pq=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,gq="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",$b="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",xq="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",yq="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",vq="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",bq="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",wq=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,jq=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,Nq=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,Sq="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Cq="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",kq="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",_q="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",Pq="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",Aq="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",Eq="Missing props. <UserButton.Action /> component requires the following props: label.",sM=e=>{ZO(()=>{Wi.throwMissingClerkProviderError({source:e})})},aM=e=>new Promise(r=>{const s=a=>{["ready","degraded"].includes(a)&&(r(),e.off("status",s))};e.on("status",s,{notify:!0})}),Tq=e=>async r=>(await aM(e),e.session?e.session.getToken(r):null),Oq=e=>async(...r)=>(await aM(e),e.signOut(...r)),Mq=(e={})=>{var r,s;sM("useAuth");const{treatPendingAsSignedOut:a,...n}=e??{},i=n;let l=mq();l.sessionId===void 0&&l.userId===void 0&&(l=i??{});const d=rM(),m=p.useCallback(Tq(d),[d]),h=p.useCallback(Oq(d),[d]);return(r=d.telemetry)==null||r.record(DO("useAuth",{treatPendingAsSignedOut:a})),Rq({...l,getToken:m,signOut:h},{treatPendingAsSignedOut:a??((s=d.__internal_getOption)==null?void 0:s.call(d,"treatPendingAsSignedOut"))})};function Rq(e,{treatPendingAsSignedOut:r=!0}={}){const{userId:s,orgId:a,orgRole:n,has:i,signOut:o,getToken:l,orgPermissions:d,factorVerificationAge:m,sessionClaims:h}=e??{},f=p.useCallback(y=>i?i(y):eV({userId:s,orgId:a,orgRole:n,orgPermissions:d,factorVerificationAge:m,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(y),[i,s,a,n,d,m]),g=tV({authObject:{...e,getToken:l,signOut:o,has:f},options:{treatPendingAsSignedOut:r}});return g||Wi.throw(gq)}var Hr=(e,r)=>{const a=(typeof r=="string"?r:r==null?void 0:r.component)||e.displayName||e.name||"Component";e.displayName=a;const n=typeof r=="string"?void 0:r,i=o=>{sM(a||"withClerk");const l=rM();return!l.loaded&&!(n!=null&&n.renderWhileLoading)?null:ce.createElement(e,{...o,component:a,clerk:l})};return i.displayName=`withClerk(${a})`,i},Iq=()=>{try{return!1}catch{}return!1},Dq=()=>{try{return!1}catch{}return!1},Lq=()=>{try{return!0}catch{}return!1},fP=new Set,xS=(e,r,s)=>{const a=Dq()||Lq(),n=e;fP.has(n)||a||(fP.add(n),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${r}`))};Hr(({clerk:e,...r})=>{const{client:s,session:a}=e,n=s.signedInSessions?s.signedInSessions.length>0:s.activeSessions&&s.activeSessions.length>0;return ce.useEffect(()=>{a===null&&n?e.redirectToAfterSignOut():e.redirectToSignIn(r)},[]),null},"RedirectToSignIn");Hr(({clerk:e,...r})=>(ce.useEffect(()=>{e.redirectToSignUp(r)},[]),null),"RedirectToSignUp");Hr(({clerk:e})=>(ce.useEffect(()=>{xS("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Hr(({clerk:e})=>(ce.useEffect(()=>{xS("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Hr(({clerk:e})=>(ce.useEffect(()=>{xS("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Hr(({clerk:e,...r})=>(ce.useEffect(()=>{e.handleRedirectCallback(r)},[]),null),"AuthenticateWithRedirectCallback");var Pa=e=>{Iq()&&console.error(`Clerk: ${e}`)};function zb(e,r,s){if(typeof e=="function")return e(r);if(typeof e<"u")return e;if(typeof s<"u")return s}var pP=(e,...r)=>{const s={...e};for(const a of r)delete s[a];return s},yx=e=>r=>{try{return ce.Children.only(e)}catch{return Wi.throw(pq(r))}},vx=(e,r)=>(e||(e=r),typeof e=="string"&&(e=ce.createElement("button",null,e)),e),bx=e=>(...r)=>{if(e&&typeof e=="function")return e(...r)};function $q(e){return typeof e=="function"}var ig=new Map;function zq(e,r,s=1){ce.useEffect(()=>{const a=ig.get(e)||0;return a==s?Wi.throw(r):(ig.set(e,a+1),()=>{ig.set(e,(ig.get(e)||1)-1)})},[])}function Fq(e,r,s){const a=e.displayName||e.name||r||"Component",n=i=>(zq(r,s),ce.createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${a})`,n}var Mh=e=>{const r=Array(e.length).fill(null),[s,a]=p.useState(r);return e.map((n,i)=>({id:n.id,mount:o=>a(l=>l.map((d,m)=>m===i?o:d)),unmount:()=>a(o=>o.map((l,d)=>d===i?null:l)),portal:()=>ce.createElement(ce.Fragment,null,s[i]?Jl.createPortal(n.component,s[i]):null)}))},_a=(e,r)=>!!e&&ce.isValidElement(e)&&(e==null?void 0:e.type)===r,nM=(e,r)=>lM({children:e,reorderItemsLabels:["account","security"],LinkComponent:pf,PageComponent:ff,MenuItemsComponent:jx,componentName:"UserProfile"},r),iM=(e,r)=>lM({children:e,reorderItemsLabels:["general","members"],LinkComponent:Sx,PageComponent:Nx,componentName:"OrganizationProfile"},r),oM=e=>{const r=[],s=[Sx,Nx,jx,ff,pf];return ce.Children.forEach(e,a=>{s.some(n=>_a(a,n))||r.push(a)}),r},lM=(e,r)=>{const{children:s,LinkComponent:a,PageComponent:n,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:d=!1}=r||{},m=[];ce.Children.forEach(s,C=>{if(!_a(C,n)&&!_a(C,a)&&!_a(C,i)){C&&!d&&Pa(wq(l));return}const{props:S}=C,{children:_,label:A,url:T,labelIcon:E}=S;if(_a(C,n))if(gP(S,o))m.push({label:A});else if(Fb(S))m.push({label:A,labelIcon:E,children:_,url:T});else{Pa(jq(l));return}if(_a(C,a))if(Ub(S))m.push({label:A,labelIcon:E,url:T});else{Pa(Nq(l));return}});const h=[],f=[],g=[];m.forEach((C,S)=>{if(Fb(C)){h.push({component:C.children,id:S}),f.push({component:C.labelIcon,id:S});return}Ub(C)&&g.push({component:C.labelIcon,id:S})});const y=Mh(h),w=Mh(f),v=Mh(g),b=[],N=[];return m.forEach((C,S)=>{if(gP(C,o)){b.push({label:C.label});return}if(Fb(C)){const{portal:_,mount:A,unmount:T}=y.find(H=>H.id===S),{portal:E,mount:M,unmount:L}=w.find(H=>H.id===S);b.push({label:C.label,url:C.url,mount:A,unmount:T,mountIcon:M,unmountIcon:L}),N.push(_),N.push(E);return}if(Ub(C)){const{portal:_,mount:A,unmount:T}=v.find(E=>E.id===S);b.push({label:C.label,url:C.url,mountIcon:A,unmountIcon:T}),N.push(_);return}}),{customPages:b,customPagesPortals:N}},gP=(e,r)=>{const{children:s,label:a,url:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},Fb=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!!r&&!!a&&!!n&&!!s},Ub=e=>{const{children:r,label:s,url:a,labelIcon:n}=e;return!r&&!!a&&!!n&&!!s},Uq=e=>Bq({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:jx,MenuActionComponent:dM,MenuLinkComponent:uM,UserProfileLinkComponent:pf,UserProfilePageComponent:ff}),Bq=({children:e,MenuItemsComponent:r,MenuActionComponent:s,MenuLinkComponent:a,UserProfileLinkComponent:n,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],d=[],m=[];ce.Children.forEach(e,w=>{if(!_a(w,r)&&!_a(w,n)&&!_a(w,i)){w&&Pa(Sq);return}if(_a(w,n)||_a(w,i))return;const{props:v}=w;ce.Children.forEach(v.children,b=>{if(!_a(b,s)&&!_a(b,a)){b&&Pa(Cq);return}const{props:N}=b,{label:C,labelIcon:S,href:_,onClick:A,open:T}=N;if(_a(b,s))if(xP(N,o))l.push({label:C});else if(Bb(N)){const E={label:C,labelIcon:S};if(A!==void 0)l.push({...E,onClick:A});else if(T!==void 0)l.push({...E,open:T.startsWith("/")?T:`/${T}`});else{Pa("Custom menu item must have either onClick or open property");return}}else{Pa(Eq);return}if(_a(b,a))if(Wb(N))l.push({label:C,labelIcon:S,href:_});else{Pa(Aq);return}})});const h=[],f=[];l.forEach((w,v)=>{Bb(w)&&h.push({component:w.labelIcon,id:v}),Wb(w)&&f.push({component:w.labelIcon,id:v})});const g=Mh(h),y=Mh(f);return l.forEach((w,v)=>{if(xP(w,o)&&d.push({label:w.label}),Bb(w)){const{portal:b,mount:N,unmount:C}=g.find(_=>_.id===v),S={label:w.label,mountIcon:N,unmountIcon:C};"onClick"in w?S.onClick=w.onClick:"open"in w&&(S.open=w.open),d.push(S),m.push(b)}if(Wb(w)){const{portal:b,mount:N,unmount:C}=y.find(S=>S.id===v);d.push({label:w.label,href:w.href,mountIcon:N,unmountIcon:C}),m.push(b)}}),{customMenuItems:d,customMenuItemsPortals:m}},xP=(e,r)=>{const{children:s,label:a,onClick:n,labelIcon:i}=e;return!s&&!n&&!i&&r.some(o=>o===a)},Bb=e=>{const{label:r,labelIcon:s,onClick:a,open:n}=e;return!!s&&!!r&&(typeof a=="function"||typeof n=="string")},Wb=e=>{const{label:r,href:s,labelIcon:a}=e;return!!s&&!!a&&!!r};function Wq(e){const{root:r=document==null?void 0:document.body,selector:s,timeout:a=0}=e;return new Promise((n,i)=>{if(!r){i(new Error("No root element provided"));return}let o=r;if(s&&(o=r==null?void 0:r.querySelector(s)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){n();return}const d=new MutationObserver(m=>{for(const h of m)if(h.type==="childList"&&(!o&&s&&(o=r==null?void 0:r.querySelector(s)),o!=null&&o.childElementCount&&o.childElementCount>0)){d.disconnect(),n();return}});d.observe(r,{childList:!0,subtree:!0}),a>0&&setTimeout(()=>{d.disconnect(),i(new Error("Timeout waiting for element children"))},a)})}function bn(e){const r=p.useRef(),[s,a]=p.useState("rendering");return p.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!r.current&&(r.current=Wq({selector:`[data-clerk-component="${e}"]`}).then(()=>{a("rendered")}).catch(()=>{a("error")}))},[e]),s}var og=e=>"mount"in e,yP=e=>"open"in e,vP=e=>e==null?void 0:e.map(({mountIcon:r,unmountIcon:s,...a})=>a),Ma=class extends ce.PureComponent{constructor(){super(...arguments),this.rootRef=ce.createRef()}componentDidUpdate(e){var r,s,a,n;if(!og(e)||!og(this.props))return;const i=pP(e.props,"customPages","customMenuItems","children"),o=pP(this.props.props,"customPages","customMenuItems","children"),l=((r=i.customPages)==null?void 0:r.length)!==((s=o.customPages)==null?void 0:s.length),d=((a=i.customMenuItems)==null?void 0:a.length)!==((n=o.customMenuItems)==null?void 0:n.length),m=vP(e.props.customMenuItems),h=vP(this.props.props.customMenuItems);(!uP(i,o)||!uP(m,h)||l||d)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(og(this.props)&&this.props.mount(this.rootRef.current,this.props.props),yP(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(og(this.props)&&this.props.unmount(this.rootRef.current),yP(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,r={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return ce.createElement(ce.Fragment,null,!e&&ce.createElement("div",{...r}),this.props.children)}},wx=e=>{var r,s;return ce.createElement(ce.Fragment,null,(r=e==null?void 0:e.customPagesPortals)==null?void 0:r.map((a,n)=>p.createElement(a,{key:n})),(s=e==null?void 0:e.customMenuItemsPortals)==null?void 0:s.map((a,n)=>p.createElement(a,{key:n})))},Vq=Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),qq=Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function ff({children:e}){return Pa(xq),ce.createElement(ce.Fragment,null,e)}function pf({children:e}){return Pa(yq),ce.createElement(ce.Fragment,null,e)}var Hq=Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=nM(a.children);return ce.createElement(ce.Fragment,null,i&&s,ce.createElement(Ma,{component:r,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},ce.createElement(wx,{customPagesPortals:d})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(Hq,{Page:ff,Link:pf});var cM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Kq=Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=nM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.userProfileProps||{},{customPages:l}),{customMenuItems:h,customMenuItemsPortals:f}=Uq(a.children),g=oM(a.children),y={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...a,userProfileProps:m,customMenuItems:h}},w={customPagesPortals:d,customMenuItemsPortals:f};return ce.createElement(cM.Provider,{value:y},i&&s,e.loaded&&ce.createElement(Ma,{component:r,...y,hideRootHtmlElement:!!a.__experimental_asProvider,rootProps:o},a.__experimental_asProvider?g:null,ce.createElement(wx,{...w})))},{component:"UserButton",renderWhileLoading:!0});function jx({children:e}){return Pa(kq),ce.createElement(ce.Fragment,null,e)}function dM({children:e}){return Pa(_q),ce.createElement(ce.Fragment,null,e)}function uM({children:e}){return Pa(Pq),ce.createElement(ce.Fragment,null,e)}function Gq(e){const r=p.useContext(cM),s={...r,props:{...r.props,...e}};return ce.createElement(Ma,{...s})}Object.assign(Kq,{UserProfilePage:ff,UserProfileLink:pf,MenuItems:jx,Action:dM,Link:uM,__experimental_Outlet:Gq});function Nx({children:e}){return Pa(vq),ce.createElement(ce.Fragment,null,e)}function Sx({children:e}){return Pa(bq),ce.createElement(ce.Fragment,null,e)}var Yq=Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=iM(a.children);return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},ce.createElement(wx,{customPagesPortals:d})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(Yq,{Page:Nx,Link:Sx});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var mM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Jq=Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=iM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),m=Object.assign(a.organizationProfileProps||{},{customPages:l}),h=oM(a.children),f={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...a,organizationProfileProps:m},rootProps:o,component:r};return e.__experimental_prefetchOrganizationSwitcher(),ce.createElement(mM.Provider,{value:f},ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{...f,hideRootHtmlElement:!!a.__experimental_asProvider},a.__experimental_asProvider?h:null,ce.createElement(wx,{customPagesPortals:d}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Xq(e){const r=p.useContext(mM),s={...r,props:{...r.props,...e}};return ce.createElement(Ma,{...s})}Object.assign(Jq,{OrganizationProfilePage:Nx,OrganizationProfileLink:Sx,__experimental_Outlet:Xq});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Hr(({clerk:e,component:r,fallback:s,...a})=>{const i=bn(r)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return ce.createElement(ce.Fragment,null,i&&s,e.loaded&&ce.createElement(Ma,{component:r,mount:e.mountTaskSelectOrganization,unmount:e.unmountTaskSelectOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"TaskSelectOrganization",renderWhileLoading:!0});var hM=e=>{throw TypeError(e)},yS=(e,r,s)=>r.has(e)||hM("Cannot "+s),qr=(e,r,s)=>(yS(e,r,"read from private field"),s?s.call(e):r.get(e)),Mc=(e,r,s)=>r.has(e)?hM("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),ru=(e,r,s,a)=>(yS(e,r,"write to private field"),r.set(e,s),s),Vb=(e,r,s)=>(yS(e,r,"access private method"),s),Qq=(e,r="5.77.0")=>{if(e)return e;const s=Zq(r);return s?s==="snapshot"?"5.77.0":s:eH(r)},Zq=e=>{var r;return(r=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:r[1]},eH=e=>e.trim().replace(/^v/,"").split(".")[0];function tH(e){return e?rH(e)||fM(e):!0}function rH(e){return/^http(s)?:\/\//.test(e||"")}function fM(e){return e.startsWith("/")}function sH(e){return e?fM(e)?new URL(e,window.location.origin).toString():e:""}function aH(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var nH={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},iH=100,pM=async e=>new Promise(r=>setTimeout(r,e)),gM=(e,r)=>r?e*(1+Math.random()):e,oH=e=>{let r=0;const s=()=>{const a=e.initialDelay,n=e.factor;let i=a*Math.pow(n,r);return i=gM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await pM(s()),r++}},lH=async(e,r={})=>{let s=0;const{shouldRetry:a,initialDelay:n,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:d}={...nH,...r},m=oH({initialDelay:n,maxDelayBetweenRetries:i,factor:o,jitter:d});for(;;)try{return await e()}catch(h){if(s++,!a(h,s))throw h;l&&s===1?await pM(gM(iH,d)):await m()}},cH="loadScript cannot be called when document does not exist",dH="loadScript cannot be called without a src";async function uH(e="",r){const{async:s,defer:a,beforeLoad:n,crossOrigin:i,nonce:o}=r||{};return lH(()=>new Promise((d,m)=>{e||m(new Error(dH)),(!document||!document.body)&&m(cH);const h=document.createElement("script");i&&h.setAttribute("crossorigin",i),h.async=s||!1,h.defer=a||!1,h.addEventListener("load",()=>{h.remove(),d(h)}),h.addEventListener("error",()=>{h.remove(),m()}),h.src=e,h.nonce=o,n==null||n(h),document.body.appendChild(h)}),{shouldRetry:(d,m)=>m<=5})}var xM="Clerk: Failed to load Clerk",{isDevOrStagingUrl:mH}=aV(),yM=TO({packageName:"@clerk/shared"});function hH(e){yM.setPackageName({packageName:e})}function NN(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function bP(e){return new Promise((r,s)=>{let a=!1;const n=(m,h)=>{clearTimeout(m),clearInterval(h)},i=()=>{a||NN()&&(a=!0,n(l,d),r(null))},l=setTimeout(()=>{a||(a=!0,n(l,d),NN()?r(null):s(new Error(xM)))},e);i();const d=setInterval(()=>{if(a){clearInterval(d);return}i()},100)})}var fH=async e=>{const r=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(NN())return null;if(document.querySelector("script[data-clerk-js-script]"))return bP(r);if(!(e!=null&&e.publishableKey))return yM.throwMissingPublishableKeyError(),null;const a=bP(r);return uH(pH(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:xH(e)}).catch(()=>{throw new Error(xM)}),a},pH=e=>{var h,f;const{clerkJSUrl:r,clerkJSVariant:s,clerkJSVersion:a,proxyUrl:n,domain:i,publishableKey:o}=e;if(r)return r;let l="";n&&tH(n)?l=sH(n).replace(/http(s)?:\/\//,""):i&&!mH(((h=Q_(o))==null?void 0:h.frontendApi)||"")?l=aH(i):l=((f=Q_(o))==null?void 0:f.frontendApi)||"";const d=s?`${s.replace(/\.+$/,"")}.`:"",m=Qq(a);return`https://${l}/npm/@clerk/clerk-js@${m}/dist/clerk.${d}browser.js`},gH=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},xH=e=>r=>{const s=gH(e);for(const a in s)r.setAttribute(a,s[a])},yH=(e,r,s)=>!e&&s?vH(s):bH(r),vH=e=>{const r=e.userId,s=e.user,a=e.sessionId,n=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,d=e.orgId,m=e.orgRole,h=e.orgPermissions,f=e.orgSlug,g=e.actor,y=e.factorVerificationAge;return{userId:r,user:s,sessionId:a,session:o,sessionStatus:n,sessionClaims:i,organization:l,orgId:d,orgRole:m,orgPermissions:h,orgSlug:f,actor:g,factorVerificationAge:y}},bH=e=>{var v,b,N,C;const r=e.user?e.user.id:e.user,s=e.user,a=e.session?e.session.id:e.session,n=e.session,i=(v=e.session)==null?void 0:v.status,o=e.session?(N=(b=e.session.lastActiveToken)==null?void 0:b.jwt)==null?void 0:N.claims:null,l=e.session?e.session.factorVerificationAge:null,d=n==null?void 0:n.actor,m=e.organization,h=e.organization?e.organization.id:e.organization,f=m==null?void 0:m.slug,g=m&&((C=s==null?void 0:s.organizationMemberships)==null?void 0:C.find(S=>S.organization.id===h)),y=g&&g.permissions,w=g&&g.role;return{userId:r,user:s,sessionId:a,session:n,sessionStatus:i,sessionClaims:o,organization:m,orgId:h,orgRole:w,orgSlug:f,orgPermissions:y,actor:d,factorVerificationAge:l}};function wP(){return typeof window<"u"}var jP=(e,r,s,a,n)=>{const{notify:i}=n||{};let o=e.get(s);o||(o=[],e.set(s,o)),o.push(a),i&&r.has(s)&&a(r.get(s))},NP=(e,r,s)=>(e.get(r)||[]).map(a=>a(s)),SP=(e,r,s)=>{const a=e.get(r);a&&(s?a.splice(a.indexOf(s)>>>0,1):e.set(r,[]))},wH=()=>{const e=new Map,r=new Map,s=new Map;return{on:(...n)=>jP(e,r,...n),prioritizedOn:(...n)=>jP(s,r,...n),emit:(n,i)=>{r.set(n,i),NP(s,n,i),NP(e,n,i)},off:(...n)=>SP(e,...n),prioritizedOff:(...n)=>SP(s,...n),internal:{retrieveListeners:n=>e.get(n)||[]}}},lg={Status:"status"},jH=()=>wH();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Hr(({clerk:e,children:r,...s})=>{const{signUpFallbackRedirectUrl:a,forceRedirectUrl:n,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:d,withSignUp:m,oauthFlow:h,...f}=s;r=vx(r,"Sign in");const g=yx(r)("SignInButton"),y=()=>{const b={forceRedirectUrl:n,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:o,initialValues:d,withSignUp:m,oauthFlow:h};return l==="modal"?e.openSignIn({...b,appearance:s.appearance}):e.redirectToSignIn({...b,signInFallbackRedirectUrl:i,signInForceRedirectUrl:n})},v={...f,onClick:async b=>(g&&typeof g=="object"&&"props"in g&&await bx(g.props.onClick)(b),y())};return ce.cloneElement(g,v)},{component:"SignInButton",renderWhileLoading:!0});Hr(({clerk:e,children:r,...s})=>{const{redirectUrl:a,...n}=s;r=vx(r,"Sign in with Metamask");const i=yx(r)("SignInWithMetamaskButton"),o=async()=>{async function m(){await e.authenticateWithMetamask({redirectUrl:a||void 0})}m()},d={...n,onClick:async m=>(await bx(i.props.onClick)(m),o())};return ce.cloneElement(i,d)},{component:"SignInWithMetamask",renderWhileLoading:!0});Hr(({clerk:e,children:r,...s})=>{const{redirectUrl:a="/",signOutOptions:n,...i}=s;r=vx(r,"Sign out");const o=yx(r)("SignOutButton"),l=()=>e.signOut({redirectUrl:a,...n}),m={...i,onClick:async h=>(await bx(o.props.onClick)(h),l())};return ce.cloneElement(o,m)},{component:"SignOutButton",renderWhileLoading:!0});var NH=Hr(({clerk:e,children:r,...s})=>{const{fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:d,oauthFlow:m,...h}=s;r=vx(r,"Sign up");const f=yx(r)("SignUpButton"),g=()=>{const v={fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:d,oauthFlow:m};return l==="modal"?e.openSignUp({...v,appearance:s.appearance,unsafeMetadata:s.unsafeMetadata}):e.redirectToSignUp({...v,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:n})},w={...h,onClick:async v=>(f&&typeof f=="object"&&"props"in f&&await bx(f.props.onClick)(v),g())};return ce.cloneElement(f,w)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var SH={name:"@clerk/clerk-react",version:"5.37.0",environment:"production"},Dg,bu,wu,_l,No,Tl,Ch,Lg,vM=class bM{constructor(r){Mc(this,Ch),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskSelectOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Mc(this,Dg,"loading"),Mc(this,bu),Mc(this,wu),Mc(this,_l),Mc(this,No,jH()),this.buildSignInUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterSignOutUrl",n)},this.buildNewSubscriptionRedirectUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",n)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",n)},this.buildUserProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildUserProfileUrl",n)},this.buildCreateOrganizationUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildCreateOrganizationUrl",n)},this.buildOrganizationProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildOrganizationProfileUrl",n)},this.buildWaitlistUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildWaitlistUrl",n)},this.buildUrlWithAuth=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("handleUnauthenticated",n)},this.on=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...n);qr(this,No).on(...n)},this.off=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...n);qr(this,No).off(...n)},this.addOnLoaded=n=>{this.loadedListeners.push(n),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(n=>n()),this.loadedListeners=[]},this.beforeLoad=n=>{if(!n)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=n=>{var i;if(!n)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=n,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=n.addListener(l)}),(i=qr(this,No).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&n.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&n.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&n.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&n.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&n.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&n.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&n.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&n.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&n.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&n.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&n.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{n.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{n.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{n.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{n.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{n.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{n.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{n.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{n.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{n.__internal_mountOAuthConsent(l,o)}),this.premountTaskSelectOrganizationNodes.forEach((o,l)=>{n.mountTaskSelectOrganization(l,o)}),typeof this.clerkjs.status>"u"&&qr(this,No).emit(lg.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...n)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...n)},this.__unstable__updateProps=async n=>{const i=await Vb(this,Ch,Lg).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(n)},this.__internal_navigateToTaskIfAvailable=async n=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(n):Promise.reject(),this.setActive=n=>this.clerkjs?this.clerkjs.setActive(n):Promise.reject(),this.openSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(n):this.preopenSignIn=n},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(n):this.preopenCheckout=n},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(n):this.preopenPlanDetails=n},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(n):this.preopenSubscriptionDetails=n??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(n):this.preopenUserVerification=n},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=n=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(n):this.preopenOneTap=n},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(n):this.preopenUserProfile=n},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(n):this.preopenOrganizationProfile=n},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(n):this.preopenCreateOrganization=n},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(n):this.preOpenWaitlist=n},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(n):this.preopenSignUp=n},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(n,i):this.premountSignInNodes.set(n,i)},this.unmountSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(n):this.premountSignInNodes.delete(n)},this.mountSignUp=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(n,i):this.premountSignUpNodes.set(n,i)},this.unmountSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(n):this.premountSignUpNodes.delete(n)},this.mountUserProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(n,i):this.premountUserProfileNodes.set(n,i)},this.unmountUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(n):this.premountUserProfileNodes.delete(n)},this.mountOrganizationProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(n,i):this.premountOrganizationProfileNodes.set(n,i)},this.unmountOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(n):this.premountOrganizationProfileNodes.delete(n)},this.mountCreateOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(n,i):this.premountCreateOrganizationNodes.set(n,i)},this.unmountCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(n):this.premountCreateOrganizationNodes.delete(n)},this.mountOrganizationSwitcher=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(n,i):this.premountOrganizationSwitcherNodes.set(n,i)},this.unmountOrganizationSwitcher=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(n):this.premountOrganizationSwitcherNodes.delete(n)},this.__experimental_prefetchOrganizationSwitcher=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",n)},this.mountOrganizationList=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(n,i):this.premountOrganizationListNodes.set(n,i)},this.unmountOrganizationList=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(n):this.premountOrganizationListNodes.delete(n)},this.mountUserButton=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(n,i):this.premountUserButtonNodes.set(n,i)},this.unmountUserButton=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(n):this.premountUserButtonNodes.delete(n)},this.mountWaitlist=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(n,i):this.premountWaitlistNodes.set(n,i)},this.unmountWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(n):this.premountWaitlistNodes.delete(n)},this.mountPricingTable=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(n,i):this.premountPricingTableNodes.set(n,i)},this.unmountPricingTable=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(n):this.premountPricingTableNodes.delete(n)},this.mountApiKeys=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(n,i):this.premountApiKeysNodes.set(n,i)},this.unmountApiKeys=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(n):this.premountApiKeysNodes.delete(n)},this.__internal_mountOAuthConsent=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(n,i):this.premountOAuthConsentNodes.set(n,i)},this.__internal_unmountOAuthConsent=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(n):this.premountOAuthConsentNodes.delete(n)},this.mountTaskSelectOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskSelectOrganization(n,i):this.premountTaskSelectOrganizationNodes.set(n,i)},this.unmountTaskSelectOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskSelectOrganization(n):this.premountTaskSelectOrganizationNodes.delete(n)},this.addListener=n=>{if(this.clerkjs)return this.clerkjs.addListener(n);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(n);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(n))};return this.premountAddListenerCalls.set(n,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(n)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToUserProfile",n)},this.redirectToAfterSignUp=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToAfterSignUp",n)},this.redirectToAfterSignIn=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignIn",n)},this.redirectToAfterSignOut=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignOut",n)},this.redirectToOrganizationProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToOrganizationProfile",n)},this.redirectToCreateOrganization=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToCreateOrganization",n)},this.redirectToWaitlist=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToWaitlist",n)},this.handleRedirectCallback=async n=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(n)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(n,i)=>{var o;const l=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(n,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async n=>(await Vb(this,Ch,Lg).call(this)).authenticateWithGoogleOneTap(n),this.__internal_loadStripeJs=async()=>(await Vb(this,Ch,Lg).call(this)).__internal_loadStripeJs(),this.createOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:s=null,publishableKey:a}=r||{};ru(this,_l,a),ru(this,wu,r==null?void 0:r.proxyUrl),ru(this,bu,r==null?void 0:r.domain),this.options=r,this.Clerk=s,this.mode=wP()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=SH),qr(this,No).emit(lg.Status,"loading"),qr(this,No).prioritizedOn(lg.Status,n=>ru(this,Dg,n)),qr(this,_l)&&this.loadClerkJS()}get publishableKey(){return qr(this,_l)}get loaded(){var r;return((r=this.clerkjs)==null?void 0:r.loaded)||!1}get status(){var r;return this.clerkjs?((r=this.clerkjs)==null?void 0:r.status)||(this.clerkjs.loaded?"ready":"loading"):qr(this,Dg)}static getOrCreateInstance(r){return(!wP()||!qr(this,Tl)||r.Clerk&&qr(this,Tl).Clerk!==r.Clerk||qr(this,Tl).publishableKey!==r.publishableKey)&&ru(this,Tl,new bM(r)),qr(this,Tl)}static clearInstance(){ru(this,Tl,null)}get domain(){return typeof window<"u"&&window.location?zb(qr(this,bu),new URL(window.location.href),""):typeof qr(this,bu)=="function"?Wi.throw($b):qr(this,bu)||""}get proxyUrl(){return typeof window<"u"&&window.location?zb(qr(this,wu),new URL(window.location.href),""):typeof qr(this,wu)=="function"?Wi.throw($b):qr(this,wu)||""}__internal_getOption(r){var s,a;return(s=this.clerkjs)!=null&&s.__internal_getOption?(a=this.clerkjs)==null?void 0:a.__internal_getOption(r):this.options[r]}get sdkMetadata(){var r;return((r=this.clerkjs)==null?void 0:r.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var r;return(r=this.clerkjs)==null?void 0:r.instanceType}get frontendApi(){var r;return((r=this.clerkjs)==null?void 0:r.frontendApi)||""}get isStandardBrowser(){var r;return((r=this.clerkjs)==null?void 0:r.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?zb(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Wi.throw($b):!1}async loadClerkJS(){var r;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=qr(this,_l),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;$q(this.Clerk)?(s=new this.Clerk(qr(this,_l),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(s),await s.load(this.options)):(s=this.Clerk,s.loaded||(this.beforeLoad(s),await s.load(this.options))),global.Clerk=s}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await fH({...this.options,publishableKey:qr(this,_l),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(r=global.Clerk)!=null&&r.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(s){const a=s;qr(this,No).emit(lg.Status,"error"),console.error(a.stack||a.message||a);return}}}get version(){var r;return(r=this.clerkjs)==null?void 0:r.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var r;return(r=this.clerkjs)==null?void 0:r.billing}get apiKeys(){var r;return(r=this.clerkjs)==null?void 0:r.apiKeys}__unstable__setEnvironment(...r){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(r);else return}};Dg=new WeakMap;bu=new WeakMap;wu=new WeakMap;_l=new WeakMap;No=new WeakMap;Tl=new WeakMap;Ch=new WeakSet;Lg=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Mc(vM,Tl);var CP=vM;function CH(e){const{isomorphicClerkOptions:r,initialState:s,children:a}=e,{isomorphicClerk:n,clerkStatus:i}=kH(r),[o,l]=ce.useState({client:n.client,session:n.session,user:n.user,organization:n.organization});ce.useEffect(()=>n.addListener(I=>l({...I})),[]);const d=yH(n.loaded,o,s),m=ce.useMemo(()=>({value:n}),[i]),h=ce.useMemo(()=>({value:o.client}),[o.client]),{sessionId:f,sessionStatus:g,sessionClaims:y,session:w,userId:v,user:b,orgId:N,actor:C,organization:S,orgRole:_,orgSlug:A,orgPermissions:T,factorVerificationAge:E}=d,M=ce.useMemo(()=>({value:{sessionId:f,sessionStatus:g,sessionClaims:y,userId:v,actor:C,orgId:N,orgRole:_,orgSlug:A,orgPermissions:T,factorVerificationAge:E}}),[f,g,v,C,N,_,A,E,y==null?void 0:y.__raw]),L=ce.useMemo(()=>({value:w}),[f,w]),H=ce.useMemo(()=>({value:b}),[v,b]),O=ce.useMemo(()=>({value:{organization:S}}),[N,S]);return ce.createElement(hq.Provider,{value:m},ce.createElement(QV.Provider,{value:h},ce.createElement(ZV.Provider,{value:L},ce.createElement(sq,{...O.value},ce.createElement(uq.Provider,{value:M},ce.createElement(JV.Provider,{value:H},ce.createElement(tq,{value:void 0},a)))))))}var kH=e=>{const r=ce.useRef(CP.getOrCreateInstance(e)),[s,a]=ce.useState(r.current.status);return ce.useEffect(()=>{r.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),ce.useEffect(()=>{r.current.__unstable__updateProps({options:e})},[e.localization]),ce.useEffect(()=>(r.current.on("status",a),()=>{r.current&&r.current.off("status",a),CP.clearInstance()}),[]),{isomorphicClerk:r.current,clerkStatus:s}};function _H(e){const{initialState:r,children:s,__internal_bypassMissingPublishableKey:a,...n}=e,{publishableKey:i="",Clerk:o}=n;return!o&&!a&&(i?i&&!dN(i)&&Wi.throwInvalidPublishableKeyError({key:i}):Wi.throwMissingPublishableKeyError()),ce.createElement(CH,{initialState:r,isomorphicClerkOptions:n},s)}var wM=Fq(_H,"ClerkProvider",fq);wM.displayName="ClerkProvider";dq({packageName:"@clerk/clerk-react"});hH("@clerk/clerk-react");p.createContext(null);const PH="modulepreload",AH=function(e){return"/"+e},kP={},fn=function(r,s,a){let n=Promise.resolve();if(s&&s.length>0){let o=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(s.map(m=>{if(m=AH(m),m in kP)return;kP[m]=!0;const h=m.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":PH,h||(g.as="script"),g.crossOrigin="",g.href=m,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},EH=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>fn(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class vS extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class TH extends vS{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class _P extends vS{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class PP extends vS{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var SN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(SN||(SN={}));var OH=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class MH{constructor(r,{headers:s={},customFetch:a,region:n=SN.Any}={}){this.url=r,this.headers=s,this.region=n,this.fetch=EH(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var a;return OH(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let l={},{region:d}=s;d||(d=this.region);const m=new URL(`${this.url}/${r}`);d&&d!=="any"&&(l["x-region"]=d,m.searchParams.set("forceFunctionRegion",d));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(m.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h}).catch(v=>{throw new TH(v)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new _P(f);if(!f.ok)throw new PP(f);let y=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof PP||n instanceof _P?n.context:void 0}}})}}var Ls={},su={},au={},nu={},iu={},ou={},RH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Du=RH();const IH=Du.fetch,jM=Du.fetch.bind(Du),NM=Du.Headers,DH=Du.Request,LH=Du.Response,em=Object.freeze(Object.defineProperty({__proto__:null,Headers:NM,Request:DH,Response:LH,default:jM,fetch:IH},Symbol.toStringTag,{value:"Module"})),$H=xB(em);var cg={},AP;function SM(){if(AP)return cg;AP=1,Object.defineProperty(cg,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return cg.default=e,cg}var EP;function CM(){if(EP)return ou;EP=1;var e=ou&&ou.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ou,"__esModule",{value:!0});const r=e($H),s=e(SM());class a{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var h,f,g;let y=null,w=null,v=null,b=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const A=await m.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=A:w=JSON.parse(A))}const S=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=m.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,b=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await m.text();try{y=JSON.parse(S),Array.isArray(y)&&m.status===404&&(w=[],y=null,b=200,N="OK")}catch{m.status===404&&S===""?(b=204,N="No Content"):y={message:S}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,b=200,N="OK"),y&&this.shouldThrowOnError)throw new s.default(y)}return{error:y,data:w,count:v,status:b,statusText:N}});return this.shouldThrowOnError||(d=d.catch(m=>{var h,f,g;return{error:{message:`${(h=m==null?void 0:m.name)!==null&&h!==void 0?h:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(f=m==null?void 0:m.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=m==null?void 0:m.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,o)}returns(){return this}overrideTypes(){return this}}return ou.default=a,ou}var TP;function kM(){if(TP)return iu;TP=1;var e=iu&&iu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(iu,"__esModule",{value:!0});const r=e(CM());class s extends r.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const m=d?`${d}.order`:"order",h=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,m=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(m,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:m="text"}={}){var h;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${g}"; options=${f};`,m==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return iu.default=s,iu}var OP;function bS(){if(OP)return nu;OP=1;var e=nu&&nu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nu,"__esModule",{value:!0});const r=e(kM());class s extends r.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const m=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${d}fts${m}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return nu.default=s,nu}var MP;function _M(){if(MP)return au;MP=1;var e=au&&au.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(au,"__esModule",{value:!0});const r=e(bS());class s{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=i,this.schema=o,this.fetch=l}select(n,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let d=!1;const m=(n??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",m),o&&(this.headers.Prefer=`count=${o}`),new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const l="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(n)){const m=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(m.length>0){const h=[...new Set(m)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){const m="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),this.headers.Prefer=l.join(","),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return au.default=s,au}var ih={},oh={},RP;function zH(){return RP||(RP=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.version=void 0,oh.version="0.0.0-automated"),oh}var IP;function FH(){if(IP)return ih;IP=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.DEFAULT_HEADERS=void 0;const e=zH();return ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ih}var DP;function UH(){if(DP)return su;DP=1;var e=su&&su.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(su,"__esModule",{value:!0});const r=e(_M()),s=e(bS()),a=FH();class n{constructor(o,{headers:l={},schema:d,fetch:m}={}){this.url=o,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),l),this.schemaName=d,this.fetch=m}from(o){const l=new URL(`${this.url}/${o}`);return new r.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:m=!1,count:h}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let y;d||m?(f=d?"HEAD":"GET",Object.entries(l).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{g.searchParams.append(v,b)})):(f="POST",y=l);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new s.default({method:f,url:g,headers:w,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return su.default=n,su}var LP;function BH(){if(LP)return Ls;LP=1;var e=Ls&&Ls.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.PostgrestError=Ls.PostgrestBuilder=Ls.PostgrestTransformBuilder=Ls.PostgrestFilterBuilder=Ls.PostgrestQueryBuilder=Ls.PostgrestClient=void 0;const r=e(UH());Ls.PostgrestClient=r.default;const s=e(_M());Ls.PostgrestQueryBuilder=s.default;const a=e(bS());Ls.PostgrestFilterBuilder=a.default;const n=e(kM());Ls.PostgrestTransformBuilder=n.default;const i=e(CM());Ls.PostgrestBuilder=i.default;const o=e(SM());return Ls.PostgrestError=o.default,Ls.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ls}var WH=BH();const VH=vn(WH),{PostgrestClient:qH,PostgrestQueryBuilder:h1e,PostgrestFilterBuilder:f1e,PostgrestTransformBuilder:p1e,PostgrestBuilder:g1e,PostgrestError:x1e}=VH;function HH(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const KH=HH(),GH="2.11.15",YH=`realtime-js/${GH}`,JH="1.0.0",PM=1e4,XH=1e3;var Rh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rh||(Rh={}));var ua;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ua||(ua={}));var mi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mi||(mi={}));var CN;(function(e){e.websocket="websocket"})(CN||(CN={}));var zc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zc||(zc={}));class QH{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(r.slice(o,o+n));o=o+n;const d=a.decode(r.slice(o,o+i));o=o+i;const m=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:l,event:d,payload:m}}}class AM{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_r||(_r={}));const $P=(e,r,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((i,o)=>(i[o]=ZH(o,e,r,n),i),{})},ZH=(e,r,s,a)=>{const n=r.find(l=>l.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!a.includes(i)?EM(i,o):kN(o)},EM=(e,r)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return sK(r,s)}switch(e){case _r.bool:return eK(r);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return tK(r);case _r.json:case _r.jsonb:return rK(r);case _r.timestamp:return aK(r);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return kN(r);default:return kN(r)}},kN=e=>e,eK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tK=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},rK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},sK=(e,r)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>EM(r,l))}return e},aK=e=>typeof e=="string"?e.replace(" ","T"):e,TM=e=>{let r=e;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class qb{constructor(r,s,a={},n=PM){this.channel=r,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var zP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zP||(zP={}));class Ih{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ih.syncState(this.state,n,i,o),this.pendingDiffs.forEach(d=>{this.state=Ih.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ih.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,n){const i=this.cloneDeep(r),o=this.transformState(s),l={},d={};return this.map(i,(m,h)=>{o[m]||(d[m]=h)}),this.map(o,(m,h)=>{const f=i[m];if(f){const g=h.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),w=h.filter(b=>y.indexOf(b.presence_ref)<0),v=f.filter(b=>g.indexOf(b.presence_ref)<0);w.length>0&&(l[m]=w),v.length>0&&(d[m]=v)}else l[m]=h}),this.syncDiff(i,{joins:l,leaves:d},a,n)}static syncDiff(r,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,d)=>{var m;const h=(m=r[l])!==null&&m!==void 0?m:[];if(r[l]=this.cloneDeep(d),h.length>0){const f=r[l].map(y=>y.presence_ref),g=h.filter(y=>f.indexOf(y.presence_ref)<0);r[l].unshift(...g)}a(l,h,d)}),this.map(o,(l,d)=>{let m=r[l];if(!m)return;const h=d.map(f=>f.presence_ref);m=m.filter(f=>h.indexOf(f.presence_ref)<0),r[l]=m,n(l,m,d),m.length===0&&delete r[l]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const n=r[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FP||(FP={}));var UP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(UP||(UP={}));var Co;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Co||(Co={}));class wS{constructor(r,s={config:{}},a){this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=ua.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new qb(this,mi.join,this.params,this.timeout),this.rejoinTimer=new AM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ua.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ua.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ih(this),this.broadcastEndpointURL=TM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ua.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>r==null?void 0:r(Co.CHANNEL_ERROR,h)),this._onClose(()=>r==null?void 0:r(Co.CLOSED));const d={},m={broadcast:i,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){r==null||r(Co.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<y;v++){const b=g[v],{filter:{event:N,schema:C,table:S,filter:_}}=b,A=h&&h[v];if(A&&A.event===N&&A.schema===C&&A.table===S&&A.filter===_)w.push(Object.assign(Object.assign({},b),{id:A.id}));else{this.unsubscribe(),this.state=ua.errored,r==null||r(Co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,r&&r(Co.SUBSCRIBED);return}}).receive("error",h=>{this.state=ua.errored,r==null||r(Co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this._on(r,s,a)}async send(r,s={}){var a,n;if(!this._canPush()&&r.type==="broadcast"){const{event:i,payload:o}=r,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=m.body)===null||n===void 0?void 0:n.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ua.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new qb(this,mi.leave,{},r),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new qb(this,r,s,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var n,i;const o=r.toLocaleLowerCase(),{close:l,error:d,leave:m,join:h}=mi;if(a&&[l,d,m,h].indexOf(o)>=0&&a!==this._joinRef())return;let g=this._onMessage(o,s,a);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(y=>{var w,v,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(g,a)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,v,b,N,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,A=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((v=s.ids)===null||v===void 0?void 0:v.includes(_))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return _==="*"||_===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:v,table:b,commit_timestamp:N,type:C,errors:S}=w;g=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:N,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(w))}y.callback(g,a)})}_isClosed(){return this.state===ua.closed}_isJoined(){return this.state===ua.joined}_isJoining(){return this.state===ua.joining}_isLeaving(){return this.state===ua.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const n=r.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&wS.isEqual(n.filter,s))}),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(mi.close,{},r)}_onError(r){this._on(mi.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ua.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=$P(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=$P(r.columns,r.old_record)),s}}const BP=()=>{},nK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iK{constructor(r,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=PM,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=BP,this.ref=0,this.logger=BP,this.conn=null,this.sendBuffer=[],this.serializer=new QH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>fn(async()=>{const{default:d}=await Promise.resolve().then(()=>em);return{default:d}},void 0).then(({default:d})=>d(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${r}/${CN.websocket}`,this.httpEndpoint=TM(r),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new AM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=KH),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JH}))}disconnect(r,s){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Rh.connecting:return zc.Connecting;case Rh.open:return zc.Open;case Rh.closing:return zc.Closing;default:return zc.Closed}}isConnected(){return this.connectionState()===zc.Open}channel(r,s={config:{}}){const a=`realtime:${r}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new wS(`realtime:${r}`,s,this);return this.channels.push(i),i}}push(r){const{topic:s,event:a,payload:n,ref:i}=r,o=()=>{this.encode(r,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){let s=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:YH};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(mi.access_token,{access_token:s})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(XH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,s=>{let{topic:a,event:n,payload:i,ref:o}=s;a==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(a)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(mi.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${r}${a}${n}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([nK],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class jS extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function $s(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oK extends jS{constructor(r,s){super(r),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _N extends jS{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var lK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const OM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>fn(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},cK=()=>lK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fn(()=>Promise.resolve().then(()=>em),void 0)).Response:Response}),PN=e=>{if(Array.isArray(e))return e.map(s=>PN(s));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[n]=PN(a)}),r};var xd=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const Hb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dK=(e,r,s)=>xd(void 0,void 0,void 0,function*(){const a=yield cK();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{r(new oK(Hb(n),e.status||500))}).catch(n=>{r(new _N(Hb(n),n))}):r(new _N(Hb(e),e))}),uK=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),a&&(n.body=JSON.stringify(a)),Object.assign(Object.assign({},n),s))};function gf(e,r,s,a,n,i){return xd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,uK(r,a,n,i)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>dK(d,l,a))})})}function Qg(e,r,s,a){return xd(this,void 0,void 0,function*(){return gf(e,"GET",r,s,a)})}function Ol(e,r,s,a,n){return xd(this,void 0,void 0,function*(){return gf(e,"POST",r,a,n,s)})}function mK(e,r,s,a,n){return xd(this,void 0,void 0,function*(){return gf(e,"PUT",r,a,n,s)})}function hK(e,r,s,a){return xd(this,void 0,void 0,function*(){return gf(e,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function MM(e,r,s,a,n){return xd(this,void 0,void 0,function*(){return gf(e,"DELETE",r,a,n,s)})}var Va=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const fK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pK{constructor(r,s={},a,n){this.url=r,this.headers=s,this.bucketId=a,this.fetch=OM(n)}uploadOrUpdate(r,s,a,n){return Va(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},WP),n);let l=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const m=this._removeEmptyFolders(s),h=this._getFinalPath(m),f=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:r,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield f.json();return f.ok?{data:{path:m,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if($s(i))return{data:null,error:i};throw i}})}upload(r,s,a){return Va(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,n){return Va(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let d;const m=Object.assign({upsert:WP.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",m.cacheControl)):(d=a,h["cache-control"]=`max-age=${m.cacheControl}`,h["content-type"]=m.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:d,headers:h}),g=yield f.json();return f.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if($s(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(r,s){return Va(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ol(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new jS("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}update(r,s,a){return Va(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return Va(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}copy(r,s,a){return Va(this,void 0,void 0,function*(){try{return{data:{path:(yield Ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}createSignedUrl(r,s,a){return Va(this,void 0,void 0,function*(){try{let n=this._getFinalPath(r),i=yield Ol(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}createSignedUrls(r,s,a){return Va(this,void 0,void 0,function*(){try{const n=yield Ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}download(r,s){return Va(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(r);return{data:yield(yield Qg(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if($s(l))return{data:null,error:l};throw l}})}info(r){return Va(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield Qg(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:PN(a),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}exists(r){return Va(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield hK(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if($s(a)&&a instanceof _N){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});d!==""&&n.push(d);let m=n.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${m}`)}}}remove(r){return Va(this,void 0,void 0,function*(){try{return{data:yield MM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}list(r,s,a){return Va(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},fK),s),{prefix:r||""});return{data:yield Ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if($s(n))return{data:null,error:n};throw n}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const gK="2.7.1",xK={"X-Client-Info":`storage-js/${gK}`};var lu=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class yK{constructor(r,s={},a){this.url=r,this.headers=Object.assign(Object.assign({},xK),s),this.fetch=OM(a)}listBuckets(){return lu(this,void 0,void 0,function*(){try{return{data:yield Qg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if($s(r))return{data:null,error:r};throw r}})}getBucket(r){return lu(this,void 0,void 0,function*(){try{return{data:yield Qg(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return lu(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}updateBucket(r,s){return lu(this,void 0,void 0,function*(){try{return{data:yield mK(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if($s(a))return{data:null,error:a};throw a}})}emptyBucket(r){return lu(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}deleteBucket(r){return lu(this,void 0,void 0,function*(){try{return{data:yield MM(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if($s(s))return{data:null,error:s};throw s}})}}class vK extends yK{constructor(r,s={},a){super(r,s,a)}from(r){return new pK(this.url,this.headers,r,this.fetch)}}const bK="2.52.1";let kh="";typeof Deno<"u"?kh="deno":typeof document<"u"?kh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kh="react-native":kh="node";const wK={"X-Client-Info":`supabase-js-${kh}/${bK}`},jK={headers:wK},NK={schema:"public"},SK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CK={};var kK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};const _K=e=>{let r;return e?r=e:typeof fetch>"u"?r=jM:r=fetch,(...s)=>r(...s)},PK=()=>typeof Headers>"u"?NM:Headers,AK=(e,r,s)=>{const a=_K(s),n=PK();return(i,o)=>kK(void 0,void 0,void 0,function*(){var l;const d=(l=yield r())!==null&&l!==void 0?l:e;let m=new n(o==null?void 0:o.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(i,Object.assign(Object.assign({},o),{headers:m}))})};var EK=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};function TK(e){return e.endsWith("/")?e:e+"/"}function OK(e,r){var s,a;const{db:n,auth:i,realtime:o,global:l}=e,{db:d,auth:m,realtime:h,global:f}=r,g={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>EK(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const RM="2.71.1",ju=30*1e3,AN=3,Kb=AN*ju,MK="http://localhost:9999",RK="supabase.auth.token",IK={"X-Client-Info":`gotrue-js/${RM}`},EN="X-Supabase-Api-Version",IM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LK=10*60*1e3;class NS extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function At(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $K extends NS{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function zK(e){return At(e)&&e.name==="AuthApiError"}class DM extends NS{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Zl extends NS{constructor(r,s,a,n){super(r,a,n),this.name=s,this.status=a}}class Pl extends Zl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FK(e){return At(e)&&e.name==="AuthSessionMissingError"}class dg extends Zl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ug extends Zl{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class mg extends Zl{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UK(e){return At(e)&&e.name==="AuthImplicitGrantRedirectError"}class VP extends Zl{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TN extends Zl{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Gb(e){return At(e)&&e.name==="AuthRetryableFetchError"}class qP extends Zl{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class ON extends Zl{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HP=` 	
\r=`.split(""),BK=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<HP.length;r+=1)e[HP[r].charCodeAt(0)]=-2;for(let r=0;r<Zg.length;r+=1)e[Zg[r].charCodeAt(0)]=r;return e})();function KP(e,r,s){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Zg[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Zg[a]),r.queuedBits-=6}}function LM(e,r,s){const a=BK[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function GP(e){const r=[],s=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{qK(o,a,s)};for(let o=0;o<e.length;o+=1)LM(e.charCodeAt(o),n,i);return r.join("")}function WK(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VK(e,r){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}WK(a,r)}}function qK(e,r,s){if(r.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function HK(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};for(let n=0;n<e.length;n+=1)LM(e.charCodeAt(n),s,a);return new Uint8Array(r)}function KK(e){const r=[];return VK(e,s=>r.push(s)),new Uint8Array(r)}function GK(e){const r=[],s={queue:0,queuedBits:0},a=n=>{r.push(n)};return e.forEach(n=>KP(n,s,a)),KP(null,s,a),r.join("")}function YK(e){return Math.round(Date.now()/1e3)+e}function JK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const di=()=>typeof window<"u"&&typeof document<"u",Pc={tested:!1,writable:!1},$M=()=>{if(!di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pc.tested)return Pc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pc.tested=!0,Pc.writable=!0}catch{Pc.tested=!0,Pc.writable=!1}return Pc.writable};function XK(e){const r={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{r[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{r[n]=a}),r}const zM=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...s)=>fn(async()=>{const{default:a}=await Promise.resolve().then(()=>em);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},QK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nu=async(e,r,s)=>{await e.setItem(r,JSON.stringify(s))},Ac=async(e,r)=>{const s=await e.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},wl=async(e,r)=>{await e.removeItem(r)};class Cx{constructor(){this.promise=new Cx.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Cx.promiseConstructor=Promise;function Yb(e){const r=e.split(".");if(r.length!==3)throw new ON("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!DK.test(r[a]))throw new ON("JWT not in base64url format");return{header:JSON.parse(GP(r[0])),payload:JSON.parse(GP(r[1])),signature:HK(r[2]),raw:{header:r[0],payload:r[1]}}}async function ZK(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function eG(e,r){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){n(o);return}}})()})}function tG(e){return("0"+e.toString(16)).substr(-2)}function rG(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(r),Array.from(r,tG).join("")}async function sG(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function aG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await sG(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cu(e,r,s=!1){const a=rG();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await Nu(e,`${r}-code-verifier`,n);const i=await aG(a);return[i,a===i?"plain":"s256"]}const nG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iG(e){const r=e.headers.get(EN);if(!r||!r.match(nG))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function oG(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function lG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function du(e){if(!cG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jb(){const e={};return new Proxy(e,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YP(e){return JSON.parse(JSON.stringify(e))}var dG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};const Rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uG=[502,503,504];async function JP(e){var r;if(!QK(e))throw new TN(Rc(e),0);if(uG.includes(e.status))throw new TN(Rc(e),e.status);let s;try{s=await e.json()}catch(i){throw new DM(Rc(i),i)}let a;const n=iG(e);if(n&&n.getTime()>=IM["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new qP(Rc(s),e.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Pl}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qP(Rc(s),e.status,s.weak_password.reasons);throw new $K(Rc(s),e.status||500,a)}const mG=(e,r,s,a)=>{const n={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function Bt(e,r,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[EN]||(i[EN]=IM["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await hG(e,r,s+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function hG(e,r,s,a,n,i){const o=mG(r,a,n,i);let l;try{l=await e(s,Object.assign({},o))}catch(d){throw console.error(d),new TN(Rc(d),0)}if(l.ok||await JP(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await JP(d)}}function So(e){var r;let s=null;xG(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=YK(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:s,user:a},error:null}}function XP(e){const r=So(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function Rl(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function fG(e){return{data:e,error:null}}function pG(e){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=e,o=dG(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function gG(e){return e}function xG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xb=["global","local","others"];var yG=function(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};class vG{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=zM(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=Xb[0]){if(Xb.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xb.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Rl})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=yG(r,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:pG,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(At(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Rl})}catch(s){if(At(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,n,i,o,l,d;try{const m={nextPage:null,lastPage:0,total:0},h=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=r==null?void 0:r.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:gG});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);m[`${b}Page`]=v}),m.total=parseInt(g)),{data:Object.assign(Object.assign({},f),m),error:null}}catch(m){if(At(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){du(r);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Rl})}catch(s){if(At(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){du(r);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Rl})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){du(r);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Rl})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){du(r.userId);try{const{data:s,error:a}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(At(s))return{data:null,error:s};throw s}}async _deleteFactor(r){du(r.userId),du(r.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}}}function QP(e={}){return{getItem:r=>e[r]||null,setItem:(r,s)=>{e[r]=s},removeItem:r=>{delete e[r]}}}function bG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const uu={debug:!!(globalThis&&$M()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FM extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class wG extends FM{}async function jG(e,r,s){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),uu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(r===0)throw uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}bG();const NG={url:MK,storageKey:RK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ZP(e,r,s){return await s()}const mu={};class Bh{constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bh.nextInstanceID,Bh.nextInstanceID+=1,this.instanceID>0&&di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},NG),r);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new vG({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=zM(n.fetch),this.lock=n.lock||ZP,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:di()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=jG:this.lock=ZP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:$M()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=QP(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=QP(this.memoryStorage)),di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=mu[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){mu[this.storageKey]=Object.assign(Object.assign({},mu[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=mu[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){mu[this.storageKey]=Object.assign(Object.assign({},mu[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${RM}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=XK(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),di()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UK(i)){const d=(r=i.details)===null||r===void 0?void 0:r.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return At(s)?{error:s}:{error:new DM("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,n;try{const i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.captchaToken}},xform:So}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(At(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var s,a,n;try{let i;if("email"in r){const{email:h,password:f,options:g}=r;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await cu(this.storage,this.storageKey)),i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:w},xform:So})}else if("phone"in r){const{phone:h,password:f,options:g}=r;i=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:So})}else throw new ug("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,m=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(i){if(At(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let s;if("email"in r){const{email:i,password:o,options:l}=r;s=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:XP})}else if("phone"in r){const{phone:i,password:o,options:l}=r;s=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:XP})}else throw new ug("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new dg}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,n,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=r.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,a,n,i,o,l,d,m,h,f,g,y;let w,v;if("message"in r)w=r.message,v=r.signature;else{const{chain:b,wallet:N,statement:C,options:S}=r;let _;if(di())if(typeof N=="object")_=N;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=N}const A=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),C?{statement:C}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(n=(a=S==null?void 0:S.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(h=S==null?void 0:S.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:b,error:N}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:GK(v)},!((g=r.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=r.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:So});if(N)throw N;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new dg}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:N})}catch(b){if(At(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(r){const s=await Ac(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:So});if(await wl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dg}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(At(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=r,l=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:So}),{data:d,error:m}=l;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new dg}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:m})}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,n,i,o;try{if("email"in r){const{email:l,options:d}=r;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await cu(this.storage,this.storageKey));const{error:f}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in r){const{phone:l,options:d}=r,{data:m,error:h}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:h}}throw new ug("You must provide either an email or phone number.")}catch(l){if(At(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(r){var s,a;try{let n,i;"options"in r&&(n=(s=r.options)===null||s===void 0?void 0:s.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:So});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,m=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:m,session:d},error:null}}catch(n){if(At(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(r){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cu(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=r==null?void 0:r.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fG})}catch(i){if(At(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new Pl;const{error:n}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(r){if(At(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:n,options:i}=r,{error:o}=await Bt(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:n,options:i}=r,{data:o,error:l}=await Bt(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ug("You must provide either an email or phone number and a type")}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Ac(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Kb:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await Ac(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=Jb()}if(this.storage.isServer&&r.user){let o=this.suppressGetSessionWarning;r=new Proxy(r,{get:(d,m,h)=>(!o&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,m,h))})}return{data:{session:r},error:null}}const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Rl}):await this._useSession(async s=>{var a,n,i;const{data:o,error:l}=s;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pl}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Rl})})}catch(s){if(At(s))return FK(s)&&(await this._removeSession(),await wl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Pl;const o=n.session;let l=null,d=null;this.flowType==="pkce"&&r.email!=null&&([l,d]=await cu(this.storage,this.storageKey));const{data:m,error:h}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Rl});if(h)throw h;return o.user=m.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(At(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Pl;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=Yb(r.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:l,error:d}=await this._callRefreshToken(r.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(r.access_token);if(d)throw d;i={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(At(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:o,error:l}=s;if(l)throw l;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Pl;const{session:n,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(At(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!di())throw new mg("No browser detected.");if(r.error||r.error_description||r.error_code)throw new mg(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new VP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mg("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new VP("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(r.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:m}=r;if(!i||!l||!o||!m)throw new mg("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const y=g-h;y*1e3<=ju&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=g-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const N={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:m,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(a){if(At(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Ac(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!(zK(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return r!=="others"&&(await this._removeSession(),await wl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=JK(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(r))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await cu(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(At(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,d,m,h;const{data:f,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=r.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(m=f.session)===null||m===void 0?void 0:m.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return di()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(At(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(At(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await eG(async n=>(n>0&&await ZK(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:So})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Gb(i)&&Date.now()+o-a<ju})}catch(a){if(this._debug(s,"error",a),At(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),di()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Ac(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Ac(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Nu(this.userStorage,this.storageKey+"-user",o)),n.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:Jb()}else if(n&&!n.user&&!n.user){const o=await Ac(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await wl(this.storage,this.storageKey+"-user"),await Nu(this.storage,this.storageKey,n)):n.user=Jb()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Kb;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Kb}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Gb(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new Pl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Cx;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new Pl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),At(i)){const o={session:null,error:i};return Gb(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(r,s,a=!0){const n=`#_notifyAllSubscribers(${r})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,s)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Nu(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=YP(n);await Nu(this.storage,this.storageKey,i)}else{const n=YP(s);await Nu(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await wl(this.storage,this.storageKey),await wl(this.storage,this.storageKey+"-code-verifier"),await wl(this.storage,this.storageKey+"-user"),this.userStorage&&await wl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&di()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ju);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-r)/ju);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ju}ms, refresh threshold is ${AN} ticks`),n<=AN&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof FM)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!di()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await cu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${n.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(At(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:d,error:m}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((n=d==null?void 0:d.totp)===null||n===void 0)&&n.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(s){if(At(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(At(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Bt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(At(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(r==null?void 0:r.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:n},error:i}=r;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Yb(n.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(l=>l.kid===r);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===r),a&&this.jwks_cached_at+LK>n)return a;const{data:i,error:o}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};a=y.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:d}}=Yb(a);s!=null&&s.allowExpired||oG(i.exp);const m=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:n,signature:o},error:null}}const h=lG(n.alg),f=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,KK(`${l}.${d}`)))throw new ON("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}}}Bh.nextInstanceID=0;const SG=Bh;class CG extends SG{constructor(r){super(r)}}var kG=function(e,r,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{m(a.next(h))}catch(f){o(f)}}function d(h){try{m(a.throw(h))}catch(f){o(f)}}function m(h){h.done?i(h.value):n(h.value).then(l,d)}m((a=a.apply(e,r||[])).next())})};class _G{constructor(r,s,a){var n,i,o;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=TK(r),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:NK,realtime:CK,auth:Object.assign(Object.assign({},SK),{storageKey:m}),global:jK},f=OK(a??{},h);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=AK(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qH(new URL("rest/v1",d).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new MH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vK(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return kG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:d},m,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CG({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),m),storageKey:i,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new iK(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PG=(e,r,s)=>new _G(e,r,s);function AG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}AG()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EG="https://twigokrtbvigiqnaybfy.supabase.co",TG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24";let Qb;function SS(){if(!Qb){if(typeof window>"u")throw new Error("Supabase client can only be used in the browser");Qb=PG(EG,TG,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,storageKey:"sb-twigokrtbvigiqnaybfy-auth-token",detectSessionInUrl:!0}})}return Qb}const Cs=new Proxy({},{get(e,r,s){const a=SS();return Reflect.get(a,r,s)}}),Dt=SS();console.log("🔍 Supabase client initialized:",!!Dt);console.log("🔍 Supabase URL:","https://twigokrtbvigiqnaybfy.supabase.co");class OG{get client(){return Dt}async getOrganizations(){console.log("📡 SupabaseService.getOrganizations called");const{data:r,error:s}=await Dt.from("organizations").select("*").order("created_at",{ascending:!1});if(console.log("📊 Supabase query result:",{data:r,error:s}),s)throw console.error("❌ Supabase error in getOrganizations:",s),s;return console.log("✅ Returning organizations:",(r==null?void 0:r.length)||0),r}async getOrganization(r){const{data:s,error:a}=await Dt.from("organizations").select("*").eq("id",r).single();if(a)throw a;return s}async createOrganization(r){const{data:s,error:a}=await Dt.from("organizations").insert(r).select().single();if(a)throw a;return s}async updateOrganization(r,s){const{data:a,error:n}=await Dt.from("organizations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUsers(r){let s=Dt.from("users").select("*").order("created_at",{ascending:!1});r&&(s=s.eq("organization_id",r));const{data:a,error:n}=await s;if(n)throw n;return a}async getUserByClerkId(r){console.log("🔍 getUserByClerkId called with:",r);try{const{data:s,error:a}=await Dt.from("users").select("*").eq("clerk_id",r).single();if(console.log("📊 Query result:",{data:s,error:a}),a){if(a.code==="PGRST116")return console.log("⚠️ No user found with clerk_id:",r),null;throw console.error("❌ Full error:",a),a}return s}catch(s){throw console.error("❌ getUserByClerkId error:",s),s}}async getUserById(r){var n;console.log("🔍 getUserById called with:",r);const{data:s,error:a}=await Dt.from("users").select(`
        *,
        organizations(
          id,
          name,
          slug
        )
      `).eq("id",r).single();return a?(console.error("❌ getUserById error:",a),a.code==="PGRST116"&&console.log("⚠️ No user found with ID:",r),null):s?(console.log("✅ Found user:",s.email,"Role:",s.role),{...s,organizationName:(n=s.organizations)==null?void 0:n.name}):(console.log("⚠️ No user found with ID:",r),null)}async getUserByEmail(r){console.log("🔍 getUserByEmail called with:",r);try{console.log("📡 Attempting simple query...");const{data:s,error:a}=await Dt.from("users").select("*").eq("email",r).single();if(console.log("📊 Query completed - Data:",!!s,"Error:",!!a),a){if(console.error("❌ Query error:",a),console.log("Error details:",{code:a.code,details:a.details,hint:a.hint,message:a.message}),a.code==="PGRST116")return console.log("⚠️ No user found"),null;throw a}if(!s)return console.log("⚠️ No user found with email:",r),null;if(console.log("✅ Found user:",s.email,"Role:",s.role,"ID:",s.id),s.organization_id)try{const{data:n}=await Dt.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}catch(n){console.warn("Could not fetch organization:",n)}return s}catch(s){throw console.error("❌ getUserByEmail failed:",s),s}}async getUserByEmailFallback(r){console.log("🔧 Using fallback query (no joins)...");try{const{data:s,error:a}=await Dt.from("users").select("*").eq("email",r).single();if(a)throw console.error("❌ Fallback query error:",a),a;if(!s)return console.log("⚠️ No user found in fallback"),null;if(console.log("✅ Fallback query successful:",s.email,"Role:",s.role),s.organization_id){const{data:n}=await Dt.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}return s}catch(s){throw console.error("❌ Fallback query failed:",s),s}}async createUser(r){const{data:s,error:a}=await Dt.from("users").insert(r).select().single();if(a)throw a;return s}async updateUser(r,s){const{data:a,error:n}=await Dt.from("users").update(s).eq("id",r).select().single();if(n)throw n;return a}async syncUserFromClerk(r,s){var i,o,l;const a=await this.getUserByClerkId(r.id),n={clerk_id:r.id,first_name:r.firstName||"",last_name:r.lastName||"",email:((i=r.primaryEmailAddress)==null?void 0:i.emailAddress)||"",avatar_url:r.imageUrl,email_verified:((l=(o=r.primaryEmailAddress)==null?void 0:o.verification)==null?void 0:l.status)==="verified",last_login_at:new Date().toISOString()};return a?await this.updateUser(a.id,n):await this.createUser({...n,organization_id:s,role:"client_user",permissions:{},status:"active",timezone:"UTC",language:"en"})}async getCampaigns(r){const{data:s,error:a}=await Dt.from("campaigns").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async getCampaign(r){const{data:s,error:a}=await Dt.from("campaigns").select("*").eq("id",r).single();if(a)throw a;return s}async createCampaign(r){const{data:s,error:a}=await Dt.from("campaigns").insert(r).select().single();if(a)throw a;return s}async updateCampaign(r,s){const{data:a,error:n}=await Dt.from("campaigns").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteCampaign(r){const{error:s}=await Dt.from("campaigns").delete().eq("id",r);if(s)throw s}async getLeads(r,s){let a=Dt.from("leads").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(a=a.eq("campaign_id",s));const{data:n,error:i}=await a;if(i)throw i;return n}async createLead(r){const{data:s,error:a}=await Dt.from("leads").insert(r).select().single();if(a)throw a;return s}async updateLead(r,s){const{data:a,error:n}=await Dt.from("leads").update(s).eq("id",r).select().single();if(n)throw n;return a}async deleteLead(r){const{error:s}=await Dt.from("leads").delete().eq("id",r);if(s)throw s}async bulkCreateLeads(r){const{data:s,error:a}=await Dt.from("leads").insert(r).select();if(a)throw a;return s}async getCalls(r,s,a){let n=Dt.from("calls").select(`
        *,
        leads(*),
        campaigns(*)
      `).eq("organization_id",r).order("started_at",{ascending:!1});s&&(n=n.eq("campaign_id",s)),a&&(n=n.eq("lead_id",a));const{data:i,error:o}=await n;if(o)throw o;return i}async createCall(r){const{data:s,error:a}=await Dt.from("calls").insert(r).select().single();if(a)throw a;return s}async updateCall(r,s){const{data:a,error:n}=await Dt.from("calls").update(s).eq("id",r).select().single();if(n)throw n;return a}async getVapiIntegrations(r){const{data:s,error:a}=await Dt.from("vapi_integrations").select("*").eq("organization_id",r).order("created_at",{ascending:!1});if(a)throw a;return s}async createVapiIntegration(r){const{data:s,error:a}=await Dt.from("vapi_integrations").insert(r).select().single();if(a)throw a;return s}async updateVapiIntegration(r,s){const{data:a,error:n}=await Dt.from("vapi_integrations").update(s).eq("id",r).select().single();if(n)throw n;return a}async getUserSettings(r){const{data:s,error:a}=await Dt.from("user_settings").select("*").eq("user_id",r).single();if(a&&a.code!=="PGRST116")throw a;return s}async upsertUserSettings(r){const{data:s,error:a}=await Dt.from("user_settings").upsert(r).select().single();if(a)throw a;return s}async getNotifications(r,s,a=!1){let n=Dt.from("notifications").select("*").eq("organization_id",r).order("created_at",{ascending:!1});s&&(n=n.eq("user_id",s)),a&&(n=n.eq("read",!1));const{data:i,error:o}=await n;if(o)throw o;return i}async createNotification(r){const{data:s,error:a}=await Dt.from("notifications").insert(r).select().single();if(a)throw a;return s}async markNotificationAsRead(r){const{data:s,error:a}=await Dt.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",r).select().single();if(a)throw a;return s}async markAllNotificationsAsRead(r,s){let a=Dt.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("organization_id",r).eq("read",!1);s&&(a=a.eq("user_id",s));const{error:n}=await a;if(n)throw n}async getCampaignAnalytics(r,s,a){let n=Dt.from("calls").select(`
        *,
        campaigns(*),
        leads(*)
      `).eq("organization_id",r);s&&(n=n.eq("campaign_id",s)),a&&(n=n.gte("started_at",a.start).lte("started_at",a.end));const{data:i,error:o}=await n;if(o)throw o;return i}async getOrganizationStats(r){const[s,a,n,i]=await Promise.all([this.getCampaigns(r),this.getLeads(r),this.getCalls(r),this.getUsers(r)]);return{totalCampaigns:s.length,activeCampaigns:s.filter(o=>o.status==="active").length,totalLeads:a.length,qualifiedLeads:a.filter(o=>o.qualification_status==="qualified").length,totalCalls:n.length,completedCalls:n.filter(o=>o.status==="completed").length,totalUsers:i.length,activeUsers:i.filter(o=>o.status==="active").length}}async getPhoneNumbers(r){try{const{data:s,error:a}=await Dt.from("phone_numbers").select("*").eq("organization_id",r);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching phone numbers:",s),[]}}async getAssistants(r){try{return console.log("vapi_assistants table does not exist, returning empty array"),[]}catch(s){return console.error("Error fetching assistants:",s),[]}}async getOrganizationUsers(r){try{const{data:s,error:a}=await Dt.from("users").select("*").eq("organization_id",r);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching organization users:",s),[]}}}const xi=new OG,_u=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:xi},Symbol.toStringTag,{value:"Module"}));p.createContext(void 0);function xf(){var n,i,o;const[e,r]=p.useState(null),[s,a]=p.useState(!1);{const l=gS();if(p.useEffect(()=>{l.isSignedIn&&l.user&&!s&&(a(!0),xi.getUserByClerkId(l.user.id).then(async d=>{var m;if(!d&&((m=l.user.primaryEmailAddress)!=null&&m.emailAddress)){const h=await xi.getUserByEmail(l.user.primaryEmailAddress.emailAddress);r(h)}else r(d)}).catch(d=>{var m;(m=d.message)!=null&&m.includes("404")||console.error("❌ Error fetching db user:",d)}))},[l.isSignedIn,(n=l.user)==null?void 0:n.id,s]),!l.isSignedIn||!l.user)return{isSignedIn:!1,user:null,isLoaded:l.isLoaded};if(!e){const d=(i=l.user.primaryEmailAddress)==null?void 0:i.emailAddress;let m="client_user",h=null;return d==="sean@artificialmedia.co.uk"?(m="platform_owner",h="47a8e3ea-cd34-4746-a786-dd31e8f8105e"):d==="seanwentz99@gmail.com"&&(m="client_admin",h="2566d8c5-2245-4a3c-b539-4cea21a07d9b"),{isSignedIn:!0,isLoaded:!0,user:{id:l.user.id,firstName:l.user.firstName||"",lastName:l.user.lastName||"",fullName:l.user.fullName||"",email:d||"",emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:m,organization_id:h,organizationName:null}}}return{isSignedIn:!0,isLoaded:!0,user:{id:e.id,clerkId:l.user.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(o=e.organizations)==null?void 0:o.name,...e}}}}function wa(){var s;const[e,r]=p.useState(null);{const a=Mq(),{user:n}=gS();return p.useEffect(()=>{a.isSignedIn&&n&&xi.getUserByClerkId(n.id).then(i=>r(i)).catch(i=>console.error("Error fetching db user:",i))},[a.isSignedIn,n==null?void 0:n.id]),{isLoaded:a.isLoaded&&(a.isSignedIn?e!==null:!0),isSignedIn:a.isSignedIn,user:a.isSignedIn&&n&&e?{id:e.id,clerkId:n.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:n.emailAddresses,primaryEmailAddress:n.primaryEmailAddress,imageUrl:n.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(s=e.organizations)==null?void 0:s.name,...e}:null,signOut:a.signOut,getToken:a.getToken}}}const UM=p.createContext(void 0),MG=({children:e})=>{const[r,s]=p.useState(null),[a,n]=p.useState(null),{user:i,isLoaded:o}=xf();return p.useEffect(()=>{var d,m,h,f;const l=(i==null?void 0:i.id)||(i==null?void 0:i.email)||null;if(o&&i&&l!==a){n(l),console.log("🔍 MinimalUserProvider: User data received:",{email:i.email,role:i.role,firstName:i.firstName||i.first_name,lastName:i.lastName||i.last_name,organization_id:i.organization_id});const g=((d=i.primaryEmailAddress)==null?void 0:d.emailAddress)||((h=(m=i.emailAddresses)==null?void 0:m[0])==null?void 0:h.emailAddress)||i.email||"user@example.com",y={firstName:i.firstName||i.first_name||"User",lastName:i.lastName||i.last_name||"",organizationName:i.organizationName||((f=i.organizations)==null?void 0:f.name)||"Organization",organization_id:i.organization_id,email:g,role:i.role||"client_user"};console.log("🎯 MinimalUserProvider: Setting user context:",y),s(y)}else o&&!i&&a!==null&&(n(null),s(null))},[i==null?void 0:i.id,i==null?void 0:i.email,o,a]),t.jsx(UM.Provider,{value:{userContext:r,setUserContext:s},children:e})},ki=()=>{const e=p.useContext(UM);if(!e)throw new Error("useUserContext must be used within a MinimalUserProvider");return e};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BM=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=p.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>p.createElement("svg",{ref:d,...IG,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:BM("lucide",n),...l},[...o.map(([m,h])=>p.createElement(m,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,r)=>{const s=p.forwardRef(({className:a,...n},i)=>p.createElement(DG,{ref:i,iconNode:r,className:BM(`lucide-${RG(e)}`,a),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Ne("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Ne("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Ne("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Ne("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Ne("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Ne("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Ne("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Ne("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Ne("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Ne("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ne("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Ne("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Ne("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Ne("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ne("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ne("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Ne("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ne("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ne("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ne("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ne("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function rA(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Ox(...e){return r=>{let s=!1;const a=e.map(n=>{const i=rA(n,r);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():rA(e[n],null)}}}}function ut(...e){return p.useCallback(Ox(...e),e)}function nd(e){const r=mY(e),s=p.forwardRef((a,n)=>{const{children:i,...o}=a,l=p.Children.toArray(i),d=l.find(fY);if(d){const m=d.props.children,h=l.map(f=>f===d?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:f);return t.jsx(r,{...o,ref:n,children:p.isValidElement(m)?p.cloneElement(m,void 0,h):null})}return t.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}var uY=nd("Slot");function mY(e){const r=p.forwardRef((s,a)=>{const{children:n,...i}=s;if(p.isValidElement(n)){const o=gY(n),l=pY(i,n.props);return n.type!==p.Fragment&&(l.ref=a?Ox(a,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var JM=Symbol("radix.slottable");function hY(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=JM,r}function fY(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JM}function pY(e,r){const s={...r};for(const a in r){const n=e[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const d=i(...l);return n(...l),d}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function gY(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function XM(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=XM(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Xt(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=XM(e))&&(a&&(a+=" "),a+=r);return a}const sA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aA=Xt,vf=(e,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return aA(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=r,o=Object.keys(n).map(m=>{const h=s==null?void 0:s[m],f=i==null?void 0:i[m];if(h===null)return null;const g=sA(h)||sA(f);return n[m][g]}),l=s&&Object.entries(s).reduce((m,h)=>{let[f,g]=h;return g===void 0||(m[f]=g),m},{}),d=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((m,h)=>{let{class:f,className:g,...y}=h;return Object.entries(y).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...m,f,g]:m},[]);return aA(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)},CS="-",xY=e=>{const r=vY(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(CS);return l[0]===""&&l.length!==1&&l.shift(),QM(l,r)||yY(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},QM=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const s=e[0],a=r.nextPart.get(s),n=a?QM(e.slice(1),a):void 0;if(n)return n;if(r.validators.length===0)return;const i=e.join(CS);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nA=/^\[(.+)\]$/,yY=e=>{if(nA.test(e)){const r=nA.exec(e)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},vY=e=>{const{theme:r,prefix:s}=e,a={nextPart:new Map,validators:[]};return wY(Object.entries(e.classGroups),s).forEach(([i,o])=>{DN(o,a,i,r)}),a},DN=(e,r,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?r:iA(r,n);i.classGroupId=s;return}if(typeof n=="function"){if(bY(n)){DN(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{DN(o,iA(r,i),s,a)})})},iA=(e,r)=>{let s=e;return r.split(CS).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},bY=e=>e.isThemeGetter,wY=(e,r)=>r?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[s,n]}):e,jY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),r++,r>e&&(r=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},ZM="!",NY=e=>{const{separator:r,experimentalParseClassName:s}=e,a=r.length===1,n=r[0],i=r.length,o=l=>{const d=[];let m=0,h=0,f;for(let b=0;b<l.length;b++){let N=l[b];if(m===0){if(N===n&&(a||l.slice(b,b+i)===r)){d.push(l.slice(h,b)),h=b+i;continue}if(N==="/"){f=b;continue}}N==="["?m++:N==="]"&&m--}const g=d.length===0?l:l.substring(h),y=g.startsWith(ZM),w=y?g.substring(1):g,v=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:o}):o},SY=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},CY=e=>({cache:jY(e.cacheSize),parseClassName:NY(e),...xY(e)}),kY=/\s+/,_Y=(e,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=r,i=[],o=e.trim().split(kY);let l="";for(let d=o.length-1;d>=0;d-=1){const m=o[d],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=s(m);let w=!!y,v=a(w?g.substring(0,y):g);if(!v){if(!w){l=m+(l.length>0?" "+l:l);continue}if(v=a(g),!v){l=m+(l.length>0?" "+l:l);continue}w=!1}const b=SY(h).join(":"),N=f?b+ZM:b,C=N+v;if(i.includes(C))continue;i.push(C);const S=n(v,w);for(let _=0;_<S.length;++_){const A=S[_];i.push(N+A)}l=m+(l.length>0?" "+l:l)}return l};function PY(){let e=0,r,s,a="";for(;e<arguments.length;)(r=arguments[e++])&&(s=eR(r))&&(a&&(a+=" "),a+=s);return a}const eR=e=>{if(typeof e=="string")return e;let r,s="";for(let a=0;a<e.length;a++)e[a]&&(r=eR(e[a]))&&(s&&(s+=" "),s+=r);return s};function AY(e,...r){let s,a,n,i=o;function o(d){const m=r.reduce((h,f)=>f(h),e());return s=CY(m),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const m=a(d);if(m)return m;const h=_Y(d,s);return n(d,h),h}return function(){return i(PY.apply(null,arguments))}}const Rr=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},tR=/^\[(?:([a-z-]+):)?(.+)\]$/i,EY=/^\d+\/\d+$/,TY=new Set(["px","full","screen"]),OY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wo=e=>Pu(e)||TY.has(e)||EY.test(e),jl=e=>sm(e,"length",VY),Pu=e=>!!e&&!Number.isNaN(Number(e)),Zb=e=>sm(e,"number",Pu),lh=e=>!!e&&Number.isInteger(Number(e)),LY=e=>e.endsWith("%")&&Pu(e.slice(0,-1)),Ot=e=>tR.test(e),Nl=e=>OY.test(e),$Y=new Set(["length","size","percentage"]),zY=e=>sm(e,$Y,rR),FY=e=>sm(e,"position",rR),UY=new Set(["image","url"]),BY=e=>sm(e,UY,HY),WY=e=>sm(e,"",qY),ch=()=>!0,sm=(e,r,s)=>{const a=tR.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},VY=e=>MY.test(e)&&!RY.test(e),rR=()=>!1,qY=e=>IY.test(e),HY=e=>DY.test(e),KY=()=>{const e=Rr("colors"),r=Rr("spacing"),s=Rr("blur"),a=Rr("brightness"),n=Rr("borderColor"),i=Rr("borderRadius"),o=Rr("borderSpacing"),l=Rr("borderWidth"),d=Rr("contrast"),m=Rr("grayscale"),h=Rr("hueRotate"),f=Rr("invert"),g=Rr("gap"),y=Rr("gradientColorStops"),w=Rr("gradientColorStopPositions"),v=Rr("inset"),b=Rr("margin"),N=Rr("opacity"),C=Rr("padding"),S=Rr("saturate"),_=Rr("scale"),A=Rr("sepia"),T=Rr("skew"),E=Rr("space"),M=Rr("translate"),L=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ot,r],I=()=>[Ot,r],W=()=>["",wo,jl],V=()=>["auto",Pu,Ot],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ot],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Pu,Ot];return{cacheSize:500,separator:":",theme:{colors:[ch],spacing:[wo,jl],blur:["none","",Nl,Ot],brightness:B(),borderColor:[e],borderRadius:["none","","full",Nl,Ot],borderSpacing:I(),borderWidth:W(),contrast:B(),grayscale:z(),hueRotate:B(),invert:z(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[LY,jl],inset:O(),margin:O(),opacity:B(),padding:I(),saturate:B(),scale:B(),sepia:z(),skew:B(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ot]}],container:["container"],columns:[{columns:[Nl]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ot]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lh,Ot]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ot]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",lh,Ot]}],"grid-cols":[{"grid-cols":[ch]}],"col-start-end":[{col:["auto",{span:["full",lh,Ot]},Ot]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[ch]}],"row-start-end":[{row:["auto",{span:[lh,Ot]},Ot]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ot]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ot,r]}],"min-w":[{"min-w":[Ot,r,"min","max","fit"]}],"max-w":[{"max-w":[Ot,r,"none","full","min","max","fit","prose",{screen:[Nl]},Nl]}],h:[{h:[Ot,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ot,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ot,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ot,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Nl,jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zb]}],"font-family":[{font:[ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ot]}],"line-clamp":[{"line-clamp":["none",Pu,Zb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wo,Ot]}],"list-image":[{"list-image":["none",Ot]}],"list-style-type":[{list:["none","disc","decimal",Ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wo,jl]}],"underline-offset":[{"underline-offset":["auto",wo,Ot]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),FY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:$()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[wo,Ot]}],"outline-w":[{outline:[wo,jl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[wo,jl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nl,WY]}],"shadow-color":[{shadow:[ch]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Nl,Ot]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ot]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ot]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[lh,Ot]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ot]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wo,jl,Zb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GY=AY(KY);function Le(...e){return GY(Xt(e))}function ew(e){const r=new Date(e);return isNaN(r.getTime())?"Invalid Date":r.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}const kS=vf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-600 hover:bg-gray-700 text-white shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-700 bg-transparent hover:bg-gray-600/10 hover:border-gray-600 text-gray-300 hover:text-white",secondary:"bg-gray-800 text-white hover:bg-gray-700 border border-gray-700 hover:border-gray-600",ghost:"hover:bg-gray-800 text-gray-300 hover:text-white",link:"text-gray-400 underline-offset-4 hover:underline hover:text-gray-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=p.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},i)=>{const o=a?uY:"button";return t.jsx(o,{className:Le(kS({variant:r,size:s,className:e})),ref:i,...n})});q.displayName="Button";const YY=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class JY extends ce.Component{constructor(s){super(s);ci(this,"handleReload",()=>{window.location.reload()});ci(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("🚨 ErrorBoundary caught an error:",s),console.error("🚨 Component stack:",a.componentStack),this.setState({error:s,errorInfo:a})}render(){return this.state.hasError?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-6",children:t.jsxs("div",{className:"w-full max-w-md rounded-xl border border-red-500/20 bg-gray-900 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500/10",children:t.jsx(va,{className:"h-8 w-8 text-red-400"})})}),t.jsx("h1",{className:"mb-2 text-2xl font-bold text-white",children:"Oops! Something went wrong"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"We encountered an unexpected error. Don't worry, your data is safe."}),t.jsxs("div",{className:"mb-6 space-y-3",children:[t.jsxs(q,{onClick:this.handleReload,className:"w-full bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-pink/80 hover:to-brand-magenta/80",children:[t.jsx(ss,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),t.jsxs(q,{onClick:this.handleGoHome,variant:"outline",className:"w-full border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Tx,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]}),t.jsxs("details",{className:"text-left",children:[t.jsx("summary",{className:"mb-2 cursor-pointer text-sm text-gray-500 hover:text-gray-400",children:"View Technical Details"}),t.jsxs("div",{className:"mt-2 rounded-lg bg-gray-800 p-4",children:[t.jsx("pre",{className:"max-h-32 overflow-auto text-xs text-red-400",children:YY(this.state.error)}),this.state.errorInfo&&t.jsx("pre",{className:"mt-2 max-h-32 overflow-auto text-xs text-gray-500",children:this.state.errorInfo.componentStack})]})]}),t.jsx("div",{className:"mt-6 border-t border-gray-800 pt-4",children:t.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support."})})]})}):this.props.children}}const oA=({children:e})=>{const r=Ql(),{isLoaded:s,isSignedIn:a}=wa();return s?a?t.jsx(t.Fragment,{children:e}):t.jsx(uS,{to:"/login",state:{from:r},replace:!0}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})};function De(e,r,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e==null||e(n),s===!1||!n.defaultPrevented)return r==null?void 0:r(n)}}function XY(e,r){const s=p.createContext(r),a=i=>{const{children:o,...l}=i,d=p.useMemo(()=>l,Object.values(l));return t.jsx(s.Provider,{value:d,children:o})};a.displayName=e+"Provider";function n(i){const o=p.useContext(s);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function qs(e,r=[]){let s=[];function a(i,o){const l=p.createContext(o),d=s.length;s=[...s,o];const m=f=>{var N;const{scope:g,children:y,...w}=f,v=((N=g==null?void 0:g[e])==null?void 0:N[d])||l,b=p.useMemo(()=>w,Object.values(w));return t.jsx(v.Provider,{value:b,children:y})};m.displayName=i+"Provider";function h(f,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||l,w=p.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[m,h]}const n=()=>{const i=s.map(o=>p.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return n.scopeName=e,[a,QY(n,...r)]}function QY(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:m})=>{const f=d(i)[`__scope${m}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return s.scopeName=r.scopeName,s}var os=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},ZY=gx[" useInsertionEffect ".trim().toString()]||os;function wi({prop:e,defaultProp:r,onChange:s=()=>{},caller:a}){const[n,i,o]=eJ({defaultProp:r,onChange:s}),l=e!==void 0,d=l?e:n;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,a])}const m=p.useCallback(h=>{var f;if(l){const g=tJ(h)?h(e):h;g!==e&&((f=o.current)==null||f.call(o,g))}else i(h)},[l,e,i,o]);return[d,m]}function eJ({defaultProp:e,onChange:r}){const[s,a]=p.useState(e),n=p.useRef(s),i=p.useRef(r);return ZY(()=>{i.current=r},[r]),p.useEffect(()=>{var o;n.current!==s&&((o=i.current)==null||o.call(i,s),n.current=s)},[s,n]),[s,a,i]}function tJ(e){return typeof e=="function"}var rJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=rJ.reduce((e,r)=>{const s=nd(`Primitive.${r}`),a=p.forwardRef((n,i)=>{const{asChild:o,...l}=n,d=o?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function _S(e,r){e&&Jl.flushSync(()=>e.dispatchEvent(r))}function bf(e){const r=e+"CollectionProvider",[s,a]=qs(r),[n,i]=s(r,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:N}=v,C=ce.useRef(null),S=ce.useRef(new Map).current;return t.jsx(n,{scope:b,itemMap:S,collectionRef:C,children:N})};o.displayName=r;const l=e+"CollectionSlot",d=nd(l),m=ce.forwardRef((v,b)=>{const{scope:N,children:C}=v,S=i(l,N),_=ut(b,S.collectionRef);return t.jsx(d,{ref:_,children:C})});m.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",g=nd(h),y=ce.forwardRef((v,b)=>{const{scope:N,children:C,...S}=v,_=ce.useRef(null),A=ut(b,_),T=i(h,N);return ce.useEffect(()=>(T.itemMap.set(_,{ref:_,...S}),()=>void T.itemMap.delete(_))),t.jsx(g,{[f]:"",ref:A,children:C})});y.displayName=h;function w(v){const b=i(e+"CollectionConsumer",v);return ce.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((T,E)=>S.indexOf(T.ref.current)-S.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:m,ItemSlot:y},w,a]}var sJ=p.createContext(void 0);function yd(e){const r=p.useContext(sJ);return e||r||"ltr"}function Qr(e){const r=p.useRef(e);return p.useEffect(()=>{r.current=e}),p.useMemo(()=>(...s)=>{var a;return(a=r.current)==null?void 0:a.call(r,...s)},[])}function aJ(e,r=globalThis==null?void 0:globalThis.document){const s=Qr(e);p.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var nJ="DismissableLayer",LN="dismissableLayer.update",iJ="dismissableLayer.pointerDownOutside",oJ="dismissableLayer.focusOutside",lA,sR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wf=p.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,m=p.useContext(sR),[h,f]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),w=ut(r,E=>f(E)),v=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(b),C=h?v.indexOf(h):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,_=C>=N,A=cJ(E=>{const M=E.target,L=[...m.branches].some(H=>H.contains(M));!_||L||(n==null||n(E),o==null||o(E),E.defaultPrevented||l==null||l())},g),T=dJ(E=>{const M=E.target;[...m.branches].some(H=>H.contains(M))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},g);return aJ(E=>{C===m.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},g),p.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(lA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),cA(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=lA)}},[h,g,s,m]),p.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),cA())},[h,m]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(LN,E),()=>document.removeEventListener(LN,E)},[]),t.jsx(He.div,{...d,ref:w,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:De(e.onFocusCapture,T.onFocusCapture),onBlurCapture:De(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:De(e.onPointerDownCapture,A.onPointerDownCapture)})});wf.displayName=nJ;var lJ="DismissableLayerBranch",aR=p.forwardRef((e,r)=>{const s=p.useContext(sR),a=p.useRef(null),n=ut(r,a);return p.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),t.jsx(He.div,{...e,ref:n})});aR.displayName=lJ;function cJ(e,r=globalThis==null?void 0:globalThis.document){const s=Qr(e),a=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){nR(iJ,s,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=d,r.addEventListener("click",n.current,{once:!0})):d()}else r.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",n.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function dJ(e,r=globalThis==null?void 0:globalThis.document){const s=Qr(e),a=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!a.current&&nR(oJ,s,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function cA(){const e=new CustomEvent(LN);document.dispatchEvent(e)}function nR(e,r,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?_S(n,i):n.dispatchEvent(i)}var uJ=wf,mJ=aR,tw=0;function PS(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dA()),document.body.insertAdjacentElement("beforeend",e[1]??dA()),tw++,()=>{tw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),tw--}},[])}function dA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rw="focusScope.autoFocusOnMount",sw="focusScope.autoFocusOnUnmount",uA={bubbles:!1,cancelable:!0},hJ="FocusScope",Mx=p.forwardRef((e,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,d]=p.useState(null),m=Qr(n),h=Qr(i),f=p.useRef(null),g=ut(r,v=>d(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let v=function(S){if(y.paused||!l)return;const _=S.target;l.contains(_)?f.current=_:Al(f.current,{select:!0})},b=function(S){if(y.paused||!l)return;const _=S.relatedTarget;_!==null&&(l.contains(_)||Al(f.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Al(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const C=new MutationObserver(N);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),C.disconnect()}}},[a,l,y.paused]),p.useEffect(()=>{if(l){hA.add(y);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(rw,uA);l.addEventListener(rw,m),l.dispatchEvent(N),N.defaultPrevented||(fJ(vJ(iR(l)),{select:!0}),document.activeElement===v&&Al(l))}return()=>{l.removeEventListener(rw,m),setTimeout(()=>{const N=new CustomEvent(sw,uA);l.addEventListener(sw,h),l.dispatchEvent(N),N.defaultPrevented||Al(v??document.body,{select:!0}),l.removeEventListener(sw,h),hA.remove(y)},0)}}},[l,m,h,y]);const w=p.useCallback(v=>{if(!s&&!a||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(b&&N){const C=v.currentTarget,[S,_]=pJ(C);S&&_?!v.shiftKey&&N===_?(v.preventDefault(),s&&Al(S,{select:!0})):v.shiftKey&&N===S&&(v.preventDefault(),s&&Al(_,{select:!0})):N===C&&v.preventDefault()}},[s,a,y.paused]);return t.jsx(He.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});Mx.displayName=hJ;function fJ(e,{select:r=!1}={}){const s=document.activeElement;for(const a of e)if(Al(a,{select:r}),document.activeElement!==s)return}function pJ(e){const r=iR(e),s=mA(r,e),a=mA(r.reverse(),e);return[s,a]}function iR(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function mA(e,r){for(const s of e)if(!gJ(s,{upTo:r}))return s}function gJ(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xJ(e){return e instanceof HTMLInputElement&&"select"in e}function Al(e,{select:r=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&xJ(e)&&r&&e.select()}}var hA=yJ();function yJ(){let e=[];return{add(r){const s=e[0];r!==s&&(s==null||s.pause()),e=fA(e,r),e.unshift(r)},remove(r){var s;e=fA(e,r),(s=e[0])==null||s.resume()}}}function fA(e,r){const s=[...e],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function vJ(e){return e.filter(r=>r.tagName!=="A")}var bJ=gx[" useId ".trim().toString()]||(()=>{}),wJ=0;function Vi(e){const[r,s]=p.useState(bJ());return os(()=>{s(a=>a??String(wJ++))},[e]),r?`radix-${r}`:""}const jJ=["top","right","bottom","left"],Hl=Math.min,dn=Math.max,n0=Math.round,hg=Math.floor,qi=e=>({x:e,y:e}),NJ={left:"right",right:"left",bottom:"top",top:"bottom"},SJ={start:"end",end:"start"};function $N(e,r,s){return dn(e,Hl(r,s))}function zo(e,r){return typeof e=="function"?e(r):e}function Fo(e){return e.split("-")[0]}function am(e){return e.split("-")[1]}function AS(e){return e==="x"?"y":"x"}function ES(e){return e==="y"?"height":"width"}const CJ=new Set(["top","bottom"]);function Ui(e){return CJ.has(Fo(e))?"y":"x"}function TS(e){return AS(Ui(e))}function kJ(e,r,s){s===void 0&&(s=!1);const a=am(e),n=TS(e),i=ES(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=i0(o)),[o,i0(o)]}function _J(e){const r=i0(e);return[zN(e),r,zN(r)]}function zN(e){return e.replace(/start|end/g,r=>SJ[r])}const pA=["left","right"],gA=["right","left"],PJ=["top","bottom"],AJ=["bottom","top"];function EJ(e,r,s){switch(e){case"top":case"bottom":return s?r?gA:pA:r?pA:gA;case"left":case"right":return r?PJ:AJ;default:return[]}}function TJ(e,r,s,a){const n=am(e);let i=EJ(Fo(e),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),r&&(i=i.concat(i.map(zN)))),i}function i0(e){return e.replace(/left|right|bottom|top/g,r=>NJ[r])}function OJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function oR(e){return typeof e!="number"?OJ(e):{top:e,right:e,bottom:e,left:e}}function o0(e){const{x:r,y:s,width:a,height:n}=e;return{width:a,height:n,top:s,left:r,right:r+a,bottom:s+n,x:r,y:s}}function xA(e,r,s){let{reference:a,floating:n}=e;const i=Ui(r),o=TS(r),l=ES(o),d=Fo(r),m=i==="y",h=a.x+a.width/2-n.width/2,f=a.y+a.height/2-n.height/2,g=a[l]/2-n[l]/2;let y;switch(d){case"top":y={x:h,y:a.y-n.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:f};break;case"left":y={x:a.x-n.width,y:f};break;default:y={x:a.x,y:a.y}}switch(am(r)){case"start":y[o]-=g*(s&&m?-1:1);break;case"end":y[o]+=g*(s&&m?-1:1);break}return y}const MJ=async(e,r,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(r));let m=await o.getElementRects({reference:e,floating:r,strategy:n}),{x:h,y:f}=xA(m,a,d),g=a,y={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:N}=l[v],{x:C,y:S,data:_,reset:A}=await N({x:h,y:f,initialPlacement:a,placement:g,strategy:n,middlewareData:y,rects:m,platform:o,elements:{reference:e,floating:r}});h=C??h,f=S??f,y={...y,[b]:{...y[b],..._}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(m=A.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:n}):A.rects),{x:h,y:f}=xA(m,g,d)),v=-1)}return{x:h,y:f,placement:g,strategy:n,middlewareData:y}};async function Vh(e,r){var s;r===void 0&&(r={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=zo(r,e),w=oR(y),b=l[g?f==="floating"?"reference":"floating":f],N=o0(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(b)))==null||s?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:m,rootBoundary:h,strategy:d})),C=f==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},A=o0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:d}):C);return{top:(N.top-A.top+w.top)/_.y,bottom:(A.bottom-N.bottom+w.bottom)/_.y,left:(N.left-A.left+w.left)/_.x,right:(A.right-N.right+w.right)/_.x}}const RJ=e=>({name:"arrow",options:e,async fn(r){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:d}=r,{element:m,padding:h=0}=zo(e,r)||{};if(m==null)return{};const f=oR(h),g={x:s,y:a},y=TS(n),w=ES(y),v=await o.getDimensions(m),b=y==="y",N=b?"top":"left",C=b?"bottom":"right",S=b?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[y]-g[y]-i.floating[w],A=g[y]-i.reference[y],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m));let E=T?T[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(T)))&&(E=l.floating[S]||i.floating[w]);const M=_/2-A/2,L=E/2-v[w]/2-1,H=Hl(f[N],L),O=Hl(f[C],L),I=H,W=E-v[w]-O,V=E/2-v[w]/2+M,U=$N(I,V,W),$=!d.arrow&&am(n)!=null&&V!==U&&i.reference[w]/2-(V<I?H:O)-v[w]/2<0,R=$?V<I?V-I:V-W:0;return{[y]:g[y]+R,data:{[y]:U,centerOffset:V-U-R,...$&&{alignmentOffset:R}},reset:$}}}),IJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:m}=r,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=zo(e,r);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const N=Fo(n),C=Ui(l),S=Fo(l)===l,_=await(d.isRTL==null?void 0:d.isRTL(m.floating)),A=g||(S||!v?[i0(l)]:_J(l)),T=w!=="none";!g&&T&&A.push(...TJ(l,v,w,_));const E=[l,...A],M=await Vh(r,b),L=[];let H=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&L.push(M[N]),f){const V=kJ(n,o,_);L.push(M[V[0]],M[V[1]])}if(H=[...H,{placement:n,overflows:L}],!L.every(V=>V<=0)){var O,I;const V=(((O=i.flip)==null?void 0:O.index)||0)+1,U=E[V];if(U&&(!(f==="alignment"?C!==Ui(U):!1)||H.every(F=>F.overflows[0]>0&&Ui(F.placement)===C)))return{data:{index:V,overflows:H},reset:{placement:U}};let $=(I=H.filter(R=>R.overflows[0]<=0).sort((R,F)=>R.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(y){case"bestFit":{var W;const R=(W=H.filter(F=>{if(T){const z=Ui(F.placement);return z===C||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:W[0];R&&($=R);break}case"initialPlacement":$=l;break}if(n!==$)return{reset:{placement:$}}}return{}}}};function yA(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function vA(e){return jJ.some(r=>e[r]>=0)}const DJ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...n}=zo(e,r);switch(a){case"referenceHidden":{const i=await Vh(r,{...n,elementContext:"reference"}),o=yA(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:vA(o)}}}case"escaped":{const i=await Vh(r,{...n,altBoundary:!0}),o=yA(i,s.floating);return{data:{escapedOffsets:o,escaped:vA(o)}}}default:return{}}}}},lR=new Set(["left","top"]);async function LJ(e,r){const{placement:s,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Fo(s),l=am(s),d=Ui(s)==="y",m=lR.has(o)?-1:1,h=i&&d?-1:1,f=zo(r,e);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),d?{x:y*h,y:g*m}:{x:g*m,y:y*h}}const $J=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=r,d=await LJ(r,e);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+d.x,y:i+d.y,data:{...d,placement:o}}}}},zJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:s,y:a,placement:n}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:N,y:C}=b;return{x:N,y:C}}},...d}=zo(e,r),m={x:s,y:a},h=await Vh(r,d),f=Ui(Fo(n)),g=AS(f);let y=m[g],w=m[f];if(i){const b=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=y+h[b],S=y-h[N];y=$N(C,y,S)}if(o){const b=f==="y"?"top":"left",N=f==="y"?"bottom":"right",C=w+h[b],S=w-h[N];w=$N(C,w,S)}const v=l.fn({...r,[g]:y,[f]:w});return{...v,data:{x:v.x-s,y:v.y-a,enabled:{[g]:i,[f]:o}}}}}},FJ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:d=!0,crossAxis:m=!0}=zo(e,r),h={x:s,y:a},f=Ui(n),g=AS(f);let y=h[g],w=h[f];const v=zo(l,r),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const S=g==="y"?"height":"width",_=i.reference[g]-i.floating[S]+b.mainAxis,A=i.reference[g]+i.reference[S]-b.mainAxis;y<_?y=_:y>A&&(y=A)}if(m){var N,C;const S=g==="y"?"width":"height",_=lR.has(Fo(n)),A=i.reference[f]-i.floating[S]+(_&&((N=o.offset)==null?void 0:N[f])||0)+(_?0:b.crossAxis),T=i.reference[f]+i.reference[S]+(_?0:((C=o.offset)==null?void 0:C[f])||0)-(_?b.crossAxis:0);w<A?w=A:w>T&&(w=T)}return{[g]:y,[f]:w}}}},UJ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var s,a;const{placement:n,rects:i,platform:o,elements:l}=r,{apply:d=()=>{},...m}=zo(e,r),h=await Vh(r,m),f=Fo(n),g=am(n),y=Ui(n)==="y",{width:w,height:v}=i.floating;let b,N;f==="top"||f==="bottom"?(b=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,b=g==="end"?"top":"bottom");const C=v-h.top-h.bottom,S=w-h.left-h.right,_=Hl(v-h[b],C),A=Hl(w-h[N],S),T=!r.middlewareData.shift;let E=_,M=A;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(M=S),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(E=C),T&&!g){const H=dn(h.left,0),O=dn(h.right,0),I=dn(h.top,0),W=dn(h.bottom,0);y?M=w-2*(H!==0||O!==0?H+O:dn(h.left,h.right)):E=v-2*(I!==0||W!==0?I+W:dn(h.top,h.bottom))}await d({...r,availableWidth:M,availableHeight:E});const L=await o.getDimensions(l.floating);return w!==L.width||v!==L.height?{reset:{rects:!0}}:{}}}};function Rx(){return typeof window<"u"}function nm(e){return cR(e)?(e.nodeName||"").toLowerCase():"#document"}function pn(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function oo(e){var r;return(r=(cR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function cR(e){return Rx()?e instanceof Node||e instanceof pn(e).Node:!1}function ji(e){return Rx()?e instanceof Element||e instanceof pn(e).Element:!1}function Zi(e){return Rx()?e instanceof HTMLElement||e instanceof pn(e).HTMLElement:!1}function bA(e){return!Rx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pn(e).ShadowRoot}const BJ=new Set(["inline","contents"]);function jf(e){const{overflow:r,overflowX:s,overflowY:a,display:n}=Ni(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!BJ.has(n)}const WJ=new Set(["table","td","th"]);function VJ(e){return WJ.has(nm(e))}const qJ=[":popover-open",":modal"];function Ix(e){return qJ.some(r=>{try{return e.matches(r)}catch{return!1}})}const HJ=["transform","translate","scale","rotate","perspective"],KJ=["transform","translate","scale","rotate","perspective","filter"],GJ=["paint","layout","strict","content"];function OS(e){const r=MS(),s=ji(e)?Ni(e):e;return HJ.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||KJ.some(a=>(s.willChange||"").includes(a))||GJ.some(a=>(s.contain||"").includes(a))}function YJ(e){let r=Kl(e);for(;Zi(r)&&!$u(r);){if(OS(r))return r;if(Ix(r))return null;r=Kl(r)}return null}function MS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JJ=new Set(["html","body","#document"]);function $u(e){return JJ.has(nm(e))}function Ni(e){return pn(e).getComputedStyle(e)}function Dx(e){return ji(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kl(e){if(nm(e)==="html")return e;const r=e.assignedSlot||e.parentNode||bA(e)&&e.host||oo(e);return bA(r)?r.host:r}function dR(e){const r=Kl(e);return $u(r)?e.ownerDocument?e.ownerDocument.body:e.body:Zi(r)&&jf(r)?r:dR(r)}function qh(e,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const n=dR(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=pn(n);if(i){const l=FN(o);return r.concat(o,o.visualViewport||[],jf(n)?n:[],l&&s?qh(l):[])}return r.concat(n,qh(n,[],s))}function FN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uR(e){const r=Ni(e);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const n=Zi(e),i=n?e.offsetWidth:s,o=n?e.offsetHeight:a,l=n0(s)!==i||n0(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function RS(e){return ji(e)?e:e.contextElement}function Au(e){const r=RS(e);if(!Zi(r))return qi(1);const s=r.getBoundingClientRect(),{width:a,height:n,$:i}=uR(r);let o=(i?n0(s.width):s.width)/a,l=(i?n0(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const XJ=qi(0);function mR(e){const r=pn(e);return!MS()||!r.visualViewport?XJ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function QJ(e,r,s){return r===void 0&&(r=!1),!s||r&&s!==pn(e)?!1:r}function id(e,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=RS(e);let o=qi(1);r&&(a?ji(a)&&(o=Au(a)):o=Au(e));const l=QJ(i,s,a)?mR(i):qi(0);let d=(n.left+l.x)/o.x,m=(n.top+l.y)/o.y,h=n.width/o.x,f=n.height/o.y;if(i){const g=pn(i),y=a&&ji(a)?pn(a):a;let w=g,v=FN(w);for(;v&&a&&y!==w;){const b=Au(v),N=v.getBoundingClientRect(),C=Ni(v),S=N.left+(v.clientLeft+parseFloat(C.paddingLeft))*b.x,_=N.top+(v.clientTop+parseFloat(C.paddingTop))*b.y;d*=b.x,m*=b.y,h*=b.x,f*=b.y,d+=S,m+=_,w=pn(v),v=FN(w)}}return o0({width:h,height:f,x:d,y:m})}function IS(e,r){const s=Dx(e).scrollLeft;return r?r.left+s:id(oo(e)).left+s}function hR(e,r,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),n=a.left+r.scrollLeft-(s?0:IS(e,a)),i=a.top+r.scrollTop;return{x:n,y:i}}function ZJ(e){let{elements:r,rect:s,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=oo(a),l=r?Ix(r.floating):!1;if(a===o||l&&i)return s;let d={scrollLeft:0,scrollTop:0},m=qi(1);const h=qi(0),f=Zi(a);if((f||!f&&!i)&&((nm(a)!=="body"||jf(o))&&(d=Dx(a)),Zi(a))){const y=id(a);m=Au(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const g=o&&!f&&!i?hR(o,d,!0):qi(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-d.scrollLeft*m.x+h.x+g.x,y:s.y*m.y-d.scrollTop*m.y+h.y+g.y}}function eX(e){return Array.from(e.getClientRects())}function tX(e){const r=oo(e),s=Dx(e),a=e.ownerDocument.body,n=dn(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=dn(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+IS(e);const l=-s.scrollTop;return Ni(a).direction==="rtl"&&(o+=dn(r.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function rX(e,r){const s=pn(e),a=oo(e),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(n){i=n.width,o=n.height;const m=MS();(!m||m&&r==="fixed")&&(l=n.offsetLeft,d=n.offsetTop)}return{width:i,height:o,x:l,y:d}}const sX=new Set(["absolute","fixed"]);function aX(e,r){const s=id(e,!0,r==="fixed"),a=s.top+e.clientTop,n=s.left+e.clientLeft,i=Zi(e)?Au(e):qi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=n*i.x,m=a*i.y;return{width:o,height:l,x:d,y:m}}function wA(e,r,s){let a;if(r==="viewport")a=rX(e,s);else if(r==="document")a=tX(oo(e));else if(ji(r))a=aX(r,s);else{const n=mR(e);a={x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}return o0(a)}function fR(e,r){const s=Kl(e);return s===r||!ji(s)||$u(s)?!1:Ni(s).position==="fixed"||fR(s,r)}function nX(e,r){const s=r.get(e);if(s)return s;let a=qh(e,[],!1).filter(l=>ji(l)&&nm(l)!=="body"),n=null;const i=Ni(e).position==="fixed";let o=i?Kl(e):e;for(;ji(o)&&!$u(o);){const l=Ni(o),d=OS(o);!d&&l.position==="fixed"&&(n=null),(i?!d&&!n:!d&&l.position==="static"&&!!n&&sX.has(n.position)||jf(o)&&!d&&fR(e,o))?a=a.filter(h=>h!==o):n=l,o=Kl(o)}return r.set(e,a),a}function iX(e){let{element:r,boundary:s,rootBoundary:a,strategy:n}=e;const o=[...s==="clippingAncestors"?Ix(r)?[]:nX(r,this._c):[].concat(s),a],l=o[0],d=o.reduce((m,h)=>{const f=wA(r,h,n);return m.top=dn(f.top,m.top),m.right=Hl(f.right,m.right),m.bottom=Hl(f.bottom,m.bottom),m.left=dn(f.left,m.left),m},wA(r,l,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function oX(e){const{width:r,height:s}=uR(e);return{width:r,height:s}}function lX(e,r,s){const a=Zi(r),n=oo(r),i=s==="fixed",o=id(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const d=qi(0);function m(){d.x=IS(n)}if(a||!a&&!i)if((nm(r)!=="body"||jf(n))&&(l=Dx(r)),a){const y=id(r,!0,i,r);d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}else n&&m();i&&!a&&n&&m();const h=n&&!a&&!i?hR(n,l):qi(0),f=o.left+l.scrollLeft-d.x-h.x,g=o.top+l.scrollTop-d.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function aw(e){return Ni(e).position==="static"}function jA(e,r){if(!Zi(e)||Ni(e).position==="fixed")return null;if(r)return r(e);let s=e.offsetParent;return oo(e)===s&&(s=s.ownerDocument.body),s}function pR(e,r){const s=pn(e);if(Ix(e))return s;if(!Zi(e)){let n=Kl(e);for(;n&&!$u(n);){if(ji(n)&&!aw(n))return n;n=Kl(n)}return s}let a=jA(e,r);for(;a&&VJ(a)&&aw(a);)a=jA(a,r);return a&&$u(a)&&aw(a)&&!OS(a)?s:a||YJ(e)||s}const cX=async function(e){const r=this.getOffsetParent||pR,s=this.getDimensions,a=await s(e.floating);return{reference:lX(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function dX(e){return Ni(e).direction==="rtl"}const uX={convertOffsetParentRelativeRectToViewportRelativeRect:ZJ,getDocumentElement:oo,getClippingRect:iX,getOffsetParent:pR,getElementRects:cX,getClientRects:eX,getDimensions:oX,getScale:Au,isElement:ji,isRTL:dX};function gR(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function mX(e,r){let s=null,a;const n=oo(e);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const m=e.getBoundingClientRect(),{left:h,top:f,width:g,height:y}=m;if(l||r(),!g||!y)return;const w=hg(f),v=hg(n.clientWidth-(h+g)),b=hg(n.clientHeight-(f+y)),N=hg(h),S={rootMargin:-w+"px "+-v+"px "+-b+"px "+-N+"px",threshold:dn(0,Hl(1,d))||1};let _=!0;function A(T){const E=T[0].intersectionRatio;if(E!==d){if(!_)return o();E?o(!1,E):a=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!gR(m,e.getBoundingClientRect())&&o(),_=!1}try{s=new IntersectionObserver(A,{...S,root:n.ownerDocument})}catch{s=new IntersectionObserver(A,S)}s.observe(e)}return o(!0),i}function hX(e,r,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,m=RS(e),h=n||i?[...m?qh(m):[],...qh(r)]:[];h.forEach(N=>{n&&N.addEventListener("scroll",s,{passive:!0}),i&&N.addEventListener("resize",s)});const f=m&&l?mX(m,s):null;let g=-1,y=null;o&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===m&&y&&(y.unobserve(r),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(r)})),s()}),m&&!d&&y.observe(m),y.observe(r));let w,v=d?id(e):null;d&&b();function b(){const N=id(e);v&&!gR(v,N)&&s(),v=N,w=requestAnimationFrame(b)}return s(),()=>{var N;h.forEach(C=>{n&&C.removeEventListener("scroll",s),i&&C.removeEventListener("resize",s)}),f==null||f(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(w)}}const fX=$J,pX=zJ,gX=IJ,xX=UJ,yX=DJ,NA=RJ,vX=FJ,bX=(e,r,s)=>{const a=new Map,n={platform:uX,...s},i={...n.platform,_c:a};return MJ(e,r,{...n,platform:i})};var wX=typeof document<"u",jX=function(){},$g=wX?p.useLayoutEffect:jX;function l0(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let s,a,n;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!l0(e[a],r[a]))return!1;return!0}if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!l0(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function xR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function SA(e,r){const s=xR(e);return Math.round(r*s)/s}function nw(e){const r=p.useRef(e);return $g(()=>{r.current=e}),r}function NX(e){e===void 0&&(e={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[h,f]=p.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[g,y]=p.useState(a);l0(g,a)||y(a);const[w,v]=p.useState(null),[b,N]=p.useState(null),C=p.useCallback(F=>{F!==T.current&&(T.current=F,v(F))},[]),S=p.useCallback(F=>{F!==E.current&&(E.current=F,N(F))},[]),_=i||w,A=o||b,T=p.useRef(null),E=p.useRef(null),M=p.useRef(h),L=d!=null,H=nw(d),O=nw(n),I=nw(m),W=p.useCallback(()=>{if(!T.current||!E.current)return;const F={placement:r,strategy:s,middleware:g};O.current&&(F.platform=O.current),bX(T.current,E.current,F).then(z=>{const K={...z,isPositioned:I.current!==!1};V.current&&!l0(M.current,K)&&(M.current=K,Jl.flushSync(()=>{f(K)}))})},[g,r,s,O,I]);$g(()=>{m===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[m]);const V=p.useRef(!1);$g(()=>(V.current=!0,()=>{V.current=!1}),[]),$g(()=>{if(_&&(T.current=_),A&&(E.current=A),_&&A){if(H.current)return H.current(_,A,W);W()}},[_,A,W,H,L]);const U=p.useMemo(()=>({reference:T,floating:E,setReference:C,setFloating:S}),[C,S]),$=p.useMemo(()=>({reference:_,floating:A}),[_,A]),R=p.useMemo(()=>{const F={position:s,left:0,top:0};if(!$.floating)return F;const z=SA($.floating,h.x),K=SA($.floating,h.y);return l?{...F,transform:"translate("+z+"px, "+K+"px)",...xR($.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:z,top:K}},[s,l,$.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:W,refs:U,elements:$,floatingStyles:R}),[h,W,U,$,R])}const SX=e=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:n}=typeof e=="function"?e(s):e;return a&&r(a)?a.current!=null?NA({element:a.current,padding:n}).fn(s):{}:a?NA({element:a,padding:n}).fn(s):{}}}},CX=(e,r)=>({...fX(e),options:[e,r]}),kX=(e,r)=>({...pX(e),options:[e,r]}),_X=(e,r)=>({...vX(e),options:[e,r]}),PX=(e,r)=>({...gX(e),options:[e,r]}),AX=(e,r)=>({...xX(e),options:[e,r]}),EX=(e,r)=>({...yX(e),options:[e,r]}),TX=(e,r)=>({...SX(e),options:[e,r]});var OX="Arrow",yR=p.forwardRef((e,r)=>{const{children:s,width:a=10,height:n=5,...i}=e;return t.jsx(He.svg,{...i,ref:r,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});yR.displayName=OX;var MX=yR;function Nf(e){const[r,s]=p.useState(void 0);return os(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;o=m.inlineSize,l=m.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),r}var DS="Popper",[vR,Lx]=qs(DS),[RX,bR]=vR(DS),wR=e=>{const{__scopePopper:r,children:s}=e,[a,n]=p.useState(null);return t.jsx(RX,{scope:r,anchor:a,onAnchorChange:n,children:s})};wR.displayName=DS;var jR="PopperAnchor",NR=p.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:a,...n}=e,i=bR(jR,s),o=p.useRef(null),l=ut(r,o);return p.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:t.jsx(He.div,{...n,ref:l})});NR.displayName=jR;var LS="PopperContent",[IX,DX]=vR(LS),SR=p.forwardRef((e,r)=>{var Ae,Re,de,Se,Ee,te;const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,b=bR(LS,s),[N,C]=p.useState(null),S=ut(r,be=>C(be)),[_,A]=p.useState(null),T=Nf(_),E=(T==null?void 0:T.width)??0,M=(T==null?void 0:T.height)??0,L=a+(i!=="center"?"-"+i:""),H=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(m)?m:[m],I=O.length>0,W={padding:H,boundary:O.filter($X),altBoundary:I},{refs:V,floatingStyles:U,placement:$,isPositioned:R,middlewareData:F}=NX({strategy:"fixed",placement:L,whileElementsMounted:(...be)=>hX(...be,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[CX({mainAxis:n+M,alignmentAxis:o}),d&&kX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_X():void 0,...W}),d&&PX({...W}),AX({...W,apply:({elements:be,rects:Te,availableWidth:Ue,availableHeight:oe})=>{const{width:Ge,height:Ct}=Te.reference,Tt=be.floating.style;Tt.setProperty("--radix-popper-available-width",`${Ue}px`),Tt.setProperty("--radix-popper-available-height",`${oe}px`),Tt.setProperty("--radix-popper-anchor-width",`${Ge}px`),Tt.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),_&&TX({element:_,padding:l}),zX({arrowWidth:E,arrowHeight:M}),g&&EX({strategy:"referenceHidden",...W})]}),[z,K]=_R($),B=Qr(w);os(()=>{R&&(B==null||B())},[R,B]);const Q=(Ae=F.arrow)==null?void 0:Ae.x,Ce=(Re=F.arrow)==null?void 0:Re.y,Z=((de=F.arrow)==null?void 0:de.centerOffset)!==0,[ne,ze]=p.useState();return os(()=>{N&&ze(window.getComputedStyle(N).zIndex)},[N]),t.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:R?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(Se=F.transformOrigin)==null?void 0:Se.x,(Ee=F.transformOrigin)==null?void 0:Ee.y].join(" "),...((te=F.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(IX,{scope:s,placedSide:z,onArrowChange:A,arrowX:Q,arrowY:Ce,shouldHideArrow:Z,children:t.jsx(He.div,{"data-side":z,"data-align":K,...v,ref:S,style:{...v.style,animation:R?void 0:"none"}})})})});SR.displayName=LS;var CR="PopperArrow",LX={top:"bottom",right:"left",bottom:"top",left:"right"},kR=p.forwardRef(function(r,s){const{__scopePopper:a,...n}=r,i=DX(CR,a),o=LX[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(MX,{...n,ref:s,style:{...n.style,display:"block"}})})});kR.displayName=CR;function $X(e){return e!==null}var zX=e=>({name:"transformOrigin",options:e,fn(r){var b,N,C;const{placement:s,rects:a,middlewareData:n}=r,o=((b=n.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[m,h]=_R(s),f={start:"0%",center:"50%",end:"100%"}[h],g=(((N=n.arrow)==null?void 0:N.x)??0)+l/2,y=(((C=n.arrow)==null?void 0:C.y)??0)+d/2;let w="",v="";return m==="bottom"?(w=o?f:`${g}px`,v=`${-d}px`):m==="top"?(w=o?f:`${g}px`,v=`${a.floating.height+d}px`):m==="right"?(w=`${-d}px`,v=o?f:`${y}px`):m==="left"&&(w=`${a.floating.width+d}px`,v=o?f:`${y}px`),{data:{x:w,y:v}}}});function _R(e){const[r,s="center"]=e.split("-");return[r,s]}var PR=wR,AR=NR,ER=SR,TR=kR,FX="Portal",Sf=p.forwardRef((e,r)=>{var l;const{container:s,...a}=e,[n,i]=p.useState(!1);os(()=>i(!0),[]);const o=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_B.createPortal(t.jsx(He.div,{...a,ref:r}),o):null});Sf.displayName=FX;function UX(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var ja=e=>{const{present:r,children:s}=e,a=BX(r),n=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),i=ut(a.ref,WX(n));return typeof s=="function"||a.isPresent?p.cloneElement(n,{ref:i}):null};ja.displayName="Presence";function BX(e){const[r,s]=p.useState(),a=p.useRef(null),n=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,d]=UX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=fg(a.current);i.current=l==="mounted"?m:"none"},[l]),os(()=>{const m=a.current,h=n.current;if(h!==e){const g=i.current,y=fg(m);e?d("MOUNT"):y==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,d]),os(()=>{if(r){let m;const h=r.ownerDocument.defaultView??window,f=y=>{const v=fg(a.current).includes(y.animationName);if(y.target===r&&v&&(d("ANIMATION_END"),!n.current)){const b=r.style.animationFillMode;r.style.animationFillMode="forwards",m=h.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=b)})}},g=y=>{y.target===r&&(i.current=fg(a.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",f),r.addEventListener("animationend",f),()=>{h.clearTimeout(m),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",f),r.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(m=>{a.current=m?getComputedStyle(m):null,s(m)},[])}}function fg(e){return(e==null?void 0:e.animationName)||"none"}function WX(e){var a,n;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var iw="rovingFocusGroup.onEntryFocus",VX={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[UN,OR,qX]=bf(Cf),[HX,im]=qs(Cf,[qX]),[KX,GX]=HX(Cf),MR=p.forwardRef((e,r)=>t.jsx(UN.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(UN.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(YX,{...e,ref:r})})}));MR.displayName=Cf;var YX=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...f}=e,g=p.useRef(null),y=ut(r,g),w=yd(i),[v,b]=wi({prop:o,defaultProp:l??null,onChange:d,caller:Cf}),[N,C]=p.useState(!1),S=Qr(m),_=OR(s),A=p.useRef(!1),[T,E]=p.useState(0);return p.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(iw,S),()=>M.removeEventListener(iw,S)},[S]),t.jsx(KX,{scope:s,orientation:a,dir:w,loop:n,currentTabStopId:v,onItemFocus:p.useCallback(M=>b(M),[b]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>E(M=>M-1),[]),children:t.jsx(He.div,{tabIndex:N||T===0?-1:0,"data-orientation":a,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:De(e.onMouseDown,()=>{A.current=!0}),onFocus:De(e.onFocus,M=>{const L=!A.current;if(M.target===M.currentTarget&&L&&!N){const H=new CustomEvent(iw,VX);if(M.currentTarget.dispatchEvent(H),!H.defaultPrevented){const O=_().filter($=>$.focusable),I=O.find($=>$.active),W=O.find($=>$.id===v),U=[I,W,...O].filter(Boolean).map($=>$.ref.current);DR(U,h)}}A.current=!1}),onBlur:De(e.onBlur,()=>C(!1))})})}),RR="RovingFocusGroupItem",IR=p.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,d=Vi(),m=i||d,h=GX(RR,s),f=h.currentTabStopId===m,g=OR(s),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=h;return p.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),t.jsx(UN.ItemSlot,{scope:s,id:m,focusable:a,active:n,children:t.jsx(He.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:r,onMouseDown:De(e.onMouseDown,b=>{a?h.onItemFocus(m):b.preventDefault()}),onFocus:De(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:De(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=QX(b,h.orientation,h.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=g().filter(_=>_.focusable).map(_=>_.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const _=S.indexOf(b.currentTarget);S=h.loop?ZX(S,_+1):S.slice(_+1)}setTimeout(()=>DR(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});IR.displayName=RR;var JX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XX(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function QX(e,r,s){const a=XX(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return JX[a]}function DR(e,r=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function ZX(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var $S=MR,zS=IR,eQ=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},hu=new WeakMap,pg=new WeakMap,gg={},ow=0,LR=function(e){return e&&(e.host||LR(e.parentNode))},tQ=function(e,r){return r.map(function(s){if(e.contains(s))return s;var a=LR(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},rQ=function(e,r,s,a){var n=tQ(r,Array.isArray(e)?e:[e]);gg[s]||(gg[s]=new WeakMap);var i=gg[s],o=[],l=new Set,d=new Set(n),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};n.forEach(m);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(a),w=y!==null&&y!=="false",v=(hu.get(g)||0)+1,b=(i.get(g)||0)+1;hu.set(g,v),i.set(g,b),o.push(g),v===1&&w&&pg.set(g,!0),b===1&&g.setAttribute(s,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(r),l.clear(),ow++,function(){o.forEach(function(f){var g=hu.get(f)-1,y=i.get(f)-1;hu.set(f,g),i.set(f,y),g||(pg.has(f)||f.removeAttribute(a),pg.delete(f)),y||f.removeAttribute(s)}),ow--,ow||(hu=new WeakMap,hu=new WeakMap,pg=new WeakMap,gg={})}},FS=function(e,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=eQ(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),rQ(a,n,s,"aria-hidden")):function(){return null}},Fi=function(){return Fi=Object.assign||function(r){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},Fi.apply(this,arguments)};function $R(e,r){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function sQ(e,r,s){if(s||arguments.length===2)for(var a=0,n=r.length,i;a<n;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var zg="right-scroll-bar-position",Fg="width-before-scroll-bar",aQ="with-scroll-bars-hidden",nQ="--removed-body-scroll-bar-size";function lw(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function iQ(e,r){var s=p.useState(function(){return{value:e,callback:r,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=r,s.facade}var oQ=typeof window<"u"?p.useLayoutEffect:p.useEffect,CA=new WeakMap;function lQ(e,r){var s=iQ(null,function(a){return e.forEach(function(n){return lw(n,a)})});return oQ(function(){var a=CA.get(s);if(a){var n=new Set(a),i=new Set(e),o=s.current;n.forEach(function(l){i.has(l)||lw(l,null)}),i.forEach(function(l){n.has(l)||lw(l,o)})}CA.set(s,e)},[e]),s}function cQ(e){return e}function dQ(e,r){r===void 0&&(r=cQ);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=r(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var d=function(){var h=o;o=[],h.forEach(i)},m=function(){return Promise.resolve().then(d)};m(),s={push:function(h){o.push(h),m()},filter:function(h){return o=o.filter(h),s}}}};return n}function uQ(e){e===void 0&&(e={});var r=dQ(null);return r.options=Fi({async:!0,ssr:!1},e),r}var zR=function(e){var r=e.sideCar,s=$R(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Fi({},s))};zR.isSideCarExport=!0;function mQ(e,r){return e.useMedium(r),zR}var FR=uQ(),cw=function(){},$x=p.forwardRef(function(e,r){var s=p.useRef(null),a=p.useState({onScrollCapture:cw,onWheelCapture:cw,onTouchMoveCapture:cw}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,S=e.gapMode,_=$R(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,T=lQ([s,r]),E=Fi(Fi({},_),n);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:FR,removeScrollBar:m,shards:f,noRelative:y,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:s,gapMode:S}),o?p.cloneElement(p.Children.only(l),Fi(Fi({},E),{ref:T})):p.createElement(C,Fi({},E,{className:d,ref:T}),l))});$x.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$x.classNames={fullWidth:Fg,zeroRight:zg};var hQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=hQ();return r&&e.setAttribute("nonce",r),e}function pQ(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function gQ(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var xQ=function(){var e=0,r=null;return{add:function(s){e==0&&(r=fQ())&&(pQ(r,s),gQ(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},yQ=function(){var e=xQ();return function(r,s){p.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&s])}},UR=function(){var e=yQ(),r=function(s){var a=s.styles,n=s.dynamic;return e(a,n),null};return r},vQ={left:0,top:0,right:0,gap:0},dw=function(e){return parseInt(e||"",10)||0},bQ=function(e){var r=window.getComputedStyle(document.body),s=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],n=r[e==="padding"?"paddingRight":"marginRight"];return[dw(s),dw(a),dw(n)]},wQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vQ;var r=bQ(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},jQ=UR(),Eu="data-scroll-locked",NQ=function(e,r,s,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(aQ,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Eu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Fg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(zg," .").concat(zg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Fg," .").concat(Fg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Eu,`] {
    `).concat(nQ,": ").concat(l,`px;
  }
`)},kA=function(){var e=parseInt(document.body.getAttribute(Eu)||"0",10);return isFinite(e)?e:0},SQ=function(){p.useEffect(function(){return document.body.setAttribute(Eu,(kA()+1).toString()),function(){var e=kA()-1;e<=0?document.body.removeAttribute(Eu):document.body.setAttribute(Eu,e.toString())}},[])},CQ=function(e){var r=e.noRelative,s=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;SQ();var i=p.useMemo(function(){return wQ(n)},[n]);return p.createElement(jQ,{styles:NQ(i,!r,n,s?"":"!important")})},BN=!1;if(typeof window<"u")try{var xg=Object.defineProperty({},"passive",{get:function(){return BN=!0,!0}});window.addEventListener("test",xg,xg),window.removeEventListener("test",xg,xg)}catch{BN=!1}var fu=BN?{passive:!1}:!1,kQ=function(e){return e.tagName==="TEXTAREA"},BR=function(e,r){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!kQ(e)&&s[r]==="visible")},_Q=function(e){return BR(e,"overflowY")},PQ=function(e){return BR(e,"overflowX")},_A=function(e,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=WR(e,a);if(n){var i=VR(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},AQ=function(e){var r=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[r,s,a]},EQ=function(e){var r=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[r,s,a]},WR=function(e,r){return e==="v"?_Q(r):PQ(r)},VR=function(e,r){return e==="v"?AQ(r):EQ(r)},TQ=function(e,r){return e==="h"&&r==="rtl"?-1:1},OQ=function(e,r,s,a,n){var i=TQ(e,window.getComputedStyle(r).direction),o=i*a,l=s.target,d=r.contains(l),m=!1,h=o>0,f=0,g=0;do{if(!l)break;var y=VR(e,l),w=y[0],v=y[1],b=y[2],N=v-b-i*w;(w||N)&&WR(e,l)&&(f+=N,g+=w);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&l!==document.body||d&&(r.contains(l)||r===l));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(m=!0),m},yg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},PA=function(e){return[e.deltaX,e.deltaY]},AA=function(e){return e&&"current"in e?e.current:e},MQ=function(e,r){return e[0]===r[0]&&e[1]===r[1]},RQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IQ=0,pu=[];function DQ(e){var r=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),n=p.useState(IQ++)[0],i=p.useState(UR)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var v=sQ([e.lockRef.current],(e.shards||[]).map(AA),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=yg(v),C=s.current,S="deltaX"in v?v.deltaX:C[0]-N[0],_="deltaY"in v?v.deltaY:C[1]-N[1],A,T=v.target,E=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in v&&E==="h"&&T.type==="range")return!1;var M=_A(E,T);if(!M)return!0;if(M?A=E:(A=E==="v"?"h":"v",M=_A(E,T)),!M)return!1;if(!a.current&&"changedTouches"in v&&(S||_)&&(a.current=A),!A)return!0;var L=a.current||A;return OQ(L,b,v,L==="h"?S:_)},[]),d=p.useCallback(function(v){var b=v;if(!(!pu.length||pu[pu.length-1]!==i)){var N="deltaY"in b?PA(b):yg(b),C=r.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&MQ(A.delta,N)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var S=(o.current.shards||[]).map(AA).filter(Boolean).filter(function(A){return A.contains(b.target)}),_=S.length>0?l(b,S[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),m=p.useCallback(function(v,b,N,C){var S={name:v,delta:b,target:N,should:C,shadowParent:LQ(N)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(_){return _!==S})},1)},[]),h=p.useCallback(function(v){s.current=yg(v),a.current=void 0},[]),f=p.useCallback(function(v){m(v.type,PA(v),v.target,l(v,e.lockRef.current))},[]),g=p.useCallback(function(v){m(v.type,yg(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return pu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,fu),document.addEventListener("touchmove",d,fu),document.addEventListener("touchstart",h,fu),function(){pu=pu.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,fu),document.removeEventListener("touchmove",d,fu),document.removeEventListener("touchstart",h,fu)}},[]);var y=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:RQ(n)}):null,y?p.createElement(CQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LQ(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const $Q=mQ(FR,DQ);var zx=p.forwardRef(function(e,r){return p.createElement($x,Fi({},e,{ref:r,sideCar:$Q}))});zx.classNames=$x.classNames;var WN=["Enter"," "],zQ=["ArrowDown","PageUp","Home"],qR=["ArrowUp","PageDown","End"],FQ=[...zQ,...qR],UQ={ltr:[...WN,"ArrowRight"],rtl:[...WN,"ArrowLeft"]},BQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kf="Menu",[Hh,WQ,VQ]=bf(kf),[vd,HR]=qs(kf,[VQ,Lx,im]),Fx=Lx(),KR=im(),[qQ,bd]=vd(kf),[HQ,_f]=vd(kf),GR=e=>{const{__scopeMenu:r,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=Fx(r),[d,m]=p.useState(null),h=p.useRef(!1),f=Qr(i),g=yd(n);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),t.jsx(PR,{...l,children:t.jsx(qQ,{scope:r,open:s,onOpenChange:f,content:d,onContentChange:m,children:t.jsx(HQ,{scope:r,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:o,children:a})})})};GR.displayName=kf;var KQ="MenuAnchor",US=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=Fx(s);return t.jsx(AR,{...n,...a,ref:r})});US.displayName=KQ;var BS="MenuPortal",[GQ,YR]=vd(BS,{forceMount:void 0}),JR=e=>{const{__scopeMenu:r,forceMount:s,children:a,container:n}=e,i=bd(BS,r);return t.jsx(GQ,{scope:r,forceMount:s,children:t.jsx(ja,{present:s||i.open,children:t.jsx(Sf,{asChild:!0,container:n,children:a})})})};JR.displayName=BS;var Bn="MenuContent",[YQ,WS]=vd(Bn),XR=p.forwardRef((e,r)=>{const s=YR(Bn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=bd(Bn,e.__scopeMenu),o=_f(Bn,e.__scopeMenu);return t.jsx(Hh.Provider,{scope:e.__scopeMenu,children:t.jsx(ja,{present:a||i.open,children:t.jsx(Hh.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(JQ,{...n,ref:r}):t.jsx(XQ,{...n,ref:r})})})})}),JQ=p.forwardRef((e,r)=>{const s=bd(Bn,e.__scopeMenu),a=p.useRef(null),n=ut(r,a);return p.useEffect(()=>{const i=a.current;if(i)return FS(i)},[]),t.jsx(VS,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:De(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),XQ=p.forwardRef((e,r)=>{const s=bd(Bn,e.__scopeMenu);return t.jsx(VS,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),QQ=nd("MenuContent.ScrollLock"),VS=p.forwardRef((e,r)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,disableOutsideScroll:w,...v}=e,b=bd(Bn,s),N=_f(Bn,s),C=Fx(s),S=KR(s),_=WQ(s),[A,T]=p.useState(null),E=p.useRef(null),M=ut(r,E,b.onContentChange),L=p.useRef(0),H=p.useRef(""),O=p.useRef(0),I=p.useRef(null),W=p.useRef("right"),V=p.useRef(0),U=w?zx:p.Fragment,$=w?{as:QQ,allowPinchZoom:!0}:void 0,R=z=>{var Ae,Re;const K=H.current+z,B=_().filter(de=>!de.disabled),Q=document.activeElement,Ce=(Ae=B.find(de=>de.ref.current===Q))==null?void 0:Ae.textValue,Z=B.map(de=>de.textValue),ne=dZ(Z,K,Ce),ze=(Re=B.find(de=>de.textValue===ne))==null?void 0:Re.ref.current;(function de(Se){H.current=Se,window.clearTimeout(L.current),Se!==""&&(L.current=window.setTimeout(()=>de(""),1e3))})(K),ze&&setTimeout(()=>ze.focus())};p.useEffect(()=>()=>window.clearTimeout(L.current),[]),PS();const F=p.useCallback(z=>{var B,Q;return W.current===((B=I.current)==null?void 0:B.side)&&mZ(z,(Q=I.current)==null?void 0:Q.area)},[]);return t.jsx(YQ,{scope:s,searchRef:H,onItemEnter:p.useCallback(z=>{F(z)&&z.preventDefault()},[F]),onItemLeave:p.useCallback(z=>{var K;F(z)||((K=E.current)==null||K.focus(),T(null))},[F]),onTriggerLeave:p.useCallback(z=>{F(z)&&z.preventDefault()},[F]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(z=>{I.current=z},[]),children:t.jsx(U,{...$,children:t.jsx(Mx,{asChild:!0,trapped:n,onMountAutoFocus:De(i,z=>{var K;z.preventDefault(),(K=E.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx(wf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,children:t.jsx($S,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:A,onCurrentTabStopIdChange:T,onEntryFocus:De(d,z=>{N.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(ER,{role:"menu","aria-orientation":"vertical","data-state":hI(b.open),"data-radix-menu-content":"",dir:N.dir,...C,...v,ref:M,style:{outline:"none",...v.style},onKeyDown:De(v.onKeyDown,z=>{const B=z.target.closest("[data-radix-menu-content]")===z.currentTarget,Q=z.ctrlKey||z.altKey||z.metaKey,Ce=z.key.length===1;B&&(z.key==="Tab"&&z.preventDefault(),!Q&&Ce&&R(z.key));const Z=E.current;if(z.target!==Z||!FQ.includes(z.key))return;z.preventDefault();const ze=_().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);qR.includes(z.key)&&ze.reverse(),lZ(ze)}),onBlur:De(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(L.current),H.current="")}),onPointerMove:De(e.onPointerMove,Kh(z=>{const K=z.target,B=V.current!==z.clientX;if(z.currentTarget.contains(K)&&B){const Q=z.clientX>V.current?"right":"left";W.current=Q,V.current=z.clientX}}))})})})})})})});XR.displayName=Bn;var ZQ="MenuGroup",qS=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{role:"group",...a,ref:r})});qS.displayName=ZQ;var eZ="MenuLabel",QR=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});QR.displayName=eZ;var c0="MenuItem",EA="menu.itemSelect",Ux=p.forwardRef((e,r)=>{const{disabled:s=!1,onSelect:a,...n}=e,i=p.useRef(null),o=_f(c0,e.__scopeMenu),l=WS(c0,e.__scopeMenu),d=ut(r,i),m=p.useRef(!1),h=()=>{const f=i.current;if(!s&&f){const g=new CustomEvent(EA,{bubbles:!0,cancelable:!0});f.addEventListener(EA,y=>a==null?void 0:a(y),{once:!0}),_S(f,g),g.defaultPrevented?m.current=!1:o.onClose()}};return t.jsx(ZR,{...n,ref:d,disabled:s,onClick:De(e.onClick,h),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),m.current=!0},onPointerUp:De(e.onPointerUp,f=>{var g;m.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:De(e.onKeyDown,f=>{const g=l.searchRef.current!=="";s||g&&f.key===" "||WN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ux.displayName=c0;var ZR=p.forwardRef((e,r)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=e,o=WS(c0,s),l=KR(s),d=p.useRef(null),m=ut(r,d),[h,f]=p.useState(!1),[g,y]=p.useState("");return p.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[i.children]),t.jsx(Hh.ItemSlot,{scope:s,disabled:a,textValue:n??g,children:t.jsx(zS,{asChild:!0,...l,focusable:!a,children:t.jsx(He.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:m,onPointerMove:De(e.onPointerMove,Kh(w=>{a?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(e.onPointerLeave,Kh(w=>o.onItemLeave(w))),onFocus:De(e.onFocus,()=>f(!0)),onBlur:De(e.onBlur,()=>f(!1))})})})}),tZ="MenuCheckboxItem",eI=p.forwardRef((e,r)=>{const{checked:s=!1,onCheckedChange:a,...n}=e;return t.jsx(nI,{scope:e.__scopeMenu,checked:s,children:t.jsx(Ux,{role:"menuitemcheckbox","aria-checked":d0(s)?"mixed":s,...n,ref:r,"data-state":KS(s),onSelect:De(n.onSelect,()=>a==null?void 0:a(d0(s)?!0:!s),{checkForDefaultPrevented:!1})})})});eI.displayName=tZ;var tI="MenuRadioGroup",[rZ,sZ]=vd(tI,{value:void 0,onValueChange:()=>{}}),rI=p.forwardRef((e,r)=>{const{value:s,onValueChange:a,...n}=e,i=Qr(a);return t.jsx(rZ,{scope:e.__scopeMenu,value:s,onValueChange:i,children:t.jsx(qS,{...n,ref:r})})});rI.displayName=tI;var sI="MenuRadioItem",aI=p.forwardRef((e,r)=>{const{value:s,...a}=e,n=sZ(sI,e.__scopeMenu),i=s===n.value;return t.jsx(nI,{scope:e.__scopeMenu,checked:i,children:t.jsx(Ux,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":KS(i),onSelect:De(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,s)},{checkForDefaultPrevented:!1})})})});aI.displayName=sI;var HS="MenuItemIndicator",[nI,aZ]=vd(HS,{checked:!1}),iI=p.forwardRef((e,r)=>{const{__scopeMenu:s,forceMount:a,...n}=e,i=aZ(HS,s);return t.jsx(ja,{present:a||d0(i.checked)||i.checked===!0,children:t.jsx(He.span,{...n,ref:r,"data-state":KS(i.checked)})})});iI.displayName=HS;var nZ="MenuSeparator",oI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e;return t.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});oI.displayName=nZ;var iZ="MenuArrow",lI=p.forwardRef((e,r)=>{const{__scopeMenu:s,...a}=e,n=Fx(s);return t.jsx(TR,{...n,...a,ref:r})});lI.displayName=iZ;var oZ="MenuSub",[y1e,cI]=vd(oZ),_h="MenuSubTrigger",dI=p.forwardRef((e,r)=>{const s=bd(_h,e.__scopeMenu),a=_f(_h,e.__scopeMenu),n=cI(_h,e.__scopeMenu),i=WS(_h,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,m={__scopeMenu:e.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),t.jsx(US,{asChild:!0,...m,children:t.jsx(ZR,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":hI(s.open),...e,ref:Ox(r,n.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:De(e.onPointerMove,Kh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:De(e.onPointerLeave,Kh(f=>{var y,w;h();const g=(y=s.content)==null?void 0:y.getBoundingClientRect();if(g){const v=(w=s.content)==null?void 0:w.dataset.side,b=v==="right",N=b?-5:5,C=g[b?"left":"right"],S=g[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:C,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:C,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:De(e.onKeyDown,f=>{var y;const g=i.searchRef.current!=="";e.disabled||g&&f.key===" "||UQ[a.dir].includes(f.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),f.preventDefault())})})})});dI.displayName=_h;var uI="MenuSubContent",mI=p.forwardRef((e,r)=>{const s=YR(Bn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=bd(Bn,e.__scopeMenu),o=_f(Bn,e.__scopeMenu),l=cI(uI,e.__scopeMenu),d=p.useRef(null),m=ut(r,d);return t.jsx(Hh.Provider,{scope:e.__scopeMenu,children:t.jsx(ja,{present:a||i.open,children:t.jsx(Hh.Slot,{scope:e.__scopeMenu,children:t.jsx(VS,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:m,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:De(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:De(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:De(e.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),g=BQ[o.dir].includes(h.key);f&&g&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});mI.displayName=uI;function hI(e){return e?"open":"closed"}function d0(e){return e==="indeterminate"}function KS(e){return d0(e)?"indeterminate":e?"checked":"unchecked"}function lZ(e){const r=document.activeElement;for(const s of e)if(s===r||(s.focus(),document.activeElement!==r))return}function cZ(e,r){return e.map((s,a)=>e[(r+a)%e.length])}function dZ(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=cZ(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function uZ(e,r){const{x:s,y:a}=e;let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],d=r[o],m=l.x,h=l.y,f=d.x,g=d.y;h>a!=g>a&&s<(f-m)*(a-h)/(g-h)+m&&(n=!n)}return n}function mZ(e,r){if(!r)return!1;const s={x:e.clientX,y:e.clientY};return uZ(s,r)}function Kh(e){return r=>r.pointerType==="mouse"?e(r):void 0}var hZ=GR,fZ=US,pZ=JR,gZ=XR,xZ=qS,yZ=QR,vZ=Ux,bZ=eI,wZ=rI,jZ=aI,NZ=iI,SZ=oI,CZ=lI,kZ=dI,_Z=mI,Bx="DropdownMenu",[PZ,v1e]=qs(Bx,[HR]),Ra=HR(),[AZ,fI]=PZ(Bx),pI=e=>{const{__scopeDropdownMenu:r,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=Ra(r),m=p.useRef(null),[h,f]=wi({prop:n,defaultProp:i??!1,onChange:o,caller:Bx});return t.jsx(AZ,{scope:r,triggerId:Vi(),triggerRef:m,contentId:Vi(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),modal:l,children:t.jsx(hZ,{...d,open:h,onOpenChange:f,dir:a,modal:l,children:s})})};pI.displayName=Bx;var gI="DropdownMenuTrigger",xI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=e,i=fI(gI,s),o=Ra(s);return t.jsx(fZ,{asChild:!0,...o,children:t.jsx(He.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Ox(r,i.triggerRef),onPointerDown:De(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:De(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});xI.displayName=gI;var EZ="DropdownMenuPortal",yI=e=>{const{__scopeDropdownMenu:r,...s}=e,a=Ra(r);return t.jsx(pZ,{...a,...s})};yI.displayName=EZ;var vI="DropdownMenuContent",bI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=fI(vI,s),i=Ra(s),o=p.useRef(!1);return t.jsx(gZ,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:r,onCloseAutoFocus:De(e.onCloseAutoFocus,l=>{var d;o.current||(d=n.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:De(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!n.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bI.displayName=vI;var TZ="DropdownMenuGroup",wI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(xZ,{...n,...a,ref:r})});wI.displayName=TZ;var OZ="DropdownMenuLabel",jI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(yZ,{...n,...a,ref:r})});jI.displayName=OZ;var MZ="DropdownMenuItem",NI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(vZ,{...n,...a,ref:r})});NI.displayName=MZ;var RZ="DropdownMenuCheckboxItem",SI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(bZ,{...n,...a,ref:r})});SI.displayName=RZ;var IZ="DropdownMenuRadioGroup",DZ=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(wZ,{...n,...a,ref:r})});DZ.displayName=IZ;var LZ="DropdownMenuRadioItem",CI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(jZ,{...n,...a,ref:r})});CI.displayName=LZ;var $Z="DropdownMenuItemIndicator",kI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(NZ,{...n,...a,ref:r})});kI.displayName=$Z;var zZ="DropdownMenuSeparator",_I=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(SZ,{...n,...a,ref:r})});_I.displayName=zZ;var FZ="DropdownMenuArrow",UZ=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(CZ,{...n,...a,ref:r})});UZ.displayName=FZ;var BZ="DropdownMenuSubTrigger",PI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(kZ,{...n,...a,ref:r})});PI.displayName=BZ;var WZ="DropdownMenuSubContent",AI=p.forwardRef((e,r)=>{const{__scopeDropdownMenu:s,...a}=e,n=Ra(s);return t.jsx(_Z,{...n,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AI.displayName=WZ;var VZ=pI,qZ=xI,HZ=yI,EI=bI,KZ=wI,TI=jI,OI=NI,MI=SI,RI=CI,II=kI,DI=_I,LI=PI,$I=AI;const Si=VZ,Ci=qZ,GZ=KZ,YZ=p.forwardRef(({className:e,inset:r,children:s,...a},n)=>t.jsxs(LI,{ref:n,className:Le("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...a,children:[s,t.jsx(io,{className:"ml-auto"})]}));YZ.displayName=LI.displayName;const JZ=p.forwardRef(({className:e,...r},s)=>t.jsx($I,{ref:s,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));JZ.displayName=$I.displayName;const Vn=p.forwardRef(({className:e,sideOffset:r=4,style:s,...a},n)=>t.jsx(HZ,{children:t.jsx(EI,{ref:n,sideOffset:r,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),style:{backgroundColor:"#111827 !important",borderColor:"#374151 !important",color:"#f9fafb !important",border:"1px solid #374151 !important",opacity:"1 !important",...s},...a})}));Vn.displayName=EI.displayName;const Jt=p.forwardRef(({className:e,inset:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsx(OI,{ref:o,className:Le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 outline-none data-[disabled]:pointer-events-none [&>svg]:size-4 [&>svg]:shrink-0","[&:active]:bg-transparent [&:focus]:bg-transparent [&[data-highlighted]]:bg-transparent [&]:bg-transparent [&]:hover:bg-transparent",r&&"pl-8",e),style:{backgroundColor:"transparent !important",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i}));Jt.displayName=OI.displayName;const XZ=p.forwardRef(({className:e,children:r,checked:s,style:a,onMouseEnter:n,onMouseLeave:i,...o},l)=>t.jsxs(MI,{ref:l,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,style:{backgroundColor:"transparent",color:"#d1d5db",...a},onMouseEnter:d=>{console.log("Mouse enter - setting background to #374151"),d.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",n==null||n(d)},onMouseLeave:d=>{d.currentTarget.style.setProperty("background-color","transparent","important"),d.currentTarget.style.setProperty("background","transparent","important"),d.currentTarget.style.setProperty("color","#d1d5db","important"),i==null||i(d)},...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(II,{children:t.jsx(tm,{className:"h-4 w-4"})})}),r]}));XZ.displayName=MI.displayName;const QZ=p.forwardRef(({className:e,children:r,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>t.jsxs(RI,{ref:o,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),style:{backgroundColor:"transparent",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(II,{children:t.jsx(qM,{className:"h-2 w-2 fill-current"})})}),r]}));QZ.displayName=RI.displayName;const zI=p.forwardRef(({className:e,inset:r,...s},a)=>t.jsx(TI,{ref:a,className:Le("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...s}));zI.displayName=TI.displayName;const GS=p.forwardRef(({className:e,...r},s)=>t.jsx(DI,{ref:s,className:Le("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));GS.displayName=DI.displayName;function ZZ(){return mS.useSyncExternalStore(eee,()=>!0,()=>!1)}function eee(){return()=>{}}var YS="Avatar",[tee,b1e]=qs(YS),[ree,FI]=tee(YS),UI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,...a}=e,[n,i]=p.useState("idle");return t.jsx(ree,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:t.jsx(He.span,{...a,ref:r})})});UI.displayName=YS;var BI="AvatarImage",WI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=FI(BI,s),l=see(a,i),d=Qr(m=>{n(m),o.onImageLoadingStatusChange(m)});return os(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?t.jsx(He.img,{...i,ref:r,src:a}):null});WI.displayName=BI;var VI="AvatarFallback",qI=p.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,i=FI(VI,s),[o,l]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(He.span,{...n,ref:r}):null});qI.displayName=VI;function TA(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function see(e,{referrerPolicy:r,crossOrigin:s}){const a=ZZ(),n=p.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=p.useState(()=>TA(i,e));return os(()=>{l(TA(i,e))},[i,e]),os(()=>{const d=f=>()=>{l(f)};if(!i)return;const m=d("loaded"),h=d("error");return i.addEventListener("load",m),i.addEventListener("error",h),r&&(i.referrerPolicy=r),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",m),i.removeEventListener("error",h)}},[i,s,r]),o}var HI=UI,KI=WI,GI=qI;const zu=p.forwardRef(({className:e,...r},s)=>t.jsx(HI,{ref:s,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));zu.displayName=HI.displayName;const Fu=p.forwardRef(({className:e,...r},s)=>t.jsx(KI,{ref:s,className:Le("aspect-square h-full w-full",e),...r}));Fu.displayName=KI.displayName;const Uu=p.forwardRef(({className:e,...r},s)=>t.jsx(GI,{ref:s,className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Uu.displayName=GI.displayName;const aee=vf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:r,...s}){return t.jsx("div",{className:Le(aee({variant:r}),e),...s})}const J=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...r}));J.displayName="Card";const pe=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("flex flex-col space-y-1.5 p-6",e),...r}));pe.displayName="CardHeader";const xe=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("font-semibold leading-none tracking-tight",e),...r}));xe.displayName="CardTitle";const Ht=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));Ht.displayName="CardDescription";const X=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("p-6 pt-0",e),...r}));X.displayName="CardContent";const nee=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("flex items-center p-6 pt-0",e),...r}));nee.displayName="CardFooter";const iee="https://api.vapi.ai";class oee{constructor(){ci(this,"baseURL",iee);ci(this,"apiKey",null);ci(this,"organizationId",null);console.log("📝 VAPI Service initialized - requires organization credentials to make API calls")}async initializeWithOrganization(r){var s;try{this.organizationId=r;const a=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),n=await fetch(`${window.location.origin}/api/vapi-credentials`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""}});if(!n.ok)return console.warn("⚠️ Failed to fetch VAPI credentials for organization"),!1;const i=await n.json();return i.hasApiKey&&((s=i.credentials)!=null&&s.vapi_api_key)?(this.apiKey=i.credentials.vapi_api_key,console.log("✅ VAPI service initialized with organization credentials"),!0):i.hasApiKey?(console.warn("⚠️ VAPI API key exists but user lacks permission to view it"),!1):(console.warn("⚠️ No VAPI API key configured for this organization"),!1)}catch(a){return console.error("❌ Error initializing VAPI service with organization:",a),!1}}isInitialized(){return!!(this.apiKey&&this.organizationId)}getOrganizationId(){return this.organizationId}async request(r,s={}){if(!this.isInitialized())throw new Error("VAPI Service not initialized. Call initializeWithOrganization() first.");const a=`${this.baseURL}${r}`,n={Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json",...s.headers};try{const i=await fetch(a,{...s,headers:n});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`VAPI API Error: ${i.status} - ${o.message||"Unknown error"}`)}return await i.json()}catch(i){throw console.error("VAPI Service Error:",i),i}}async getAssistants(){return this.request("/assistant")}async getAssistant(r){return this.request(`/assistant/${r}`)}async createAssistant(r){return this.request("/assistant",{method:"POST",body:JSON.stringify(r)})}async updateAssistant(r,s){return this.request(`/assistant/${r}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteAssistant(r){await this.request(`/assistant/${r}`,{method:"DELETE"})}async getCalls(r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([n,i])=>{i&&s.append(n,i.toString())});const a=s.toString();return this.request(`/call${a?`?${a}`:""}`)}async getCall(r){return this.request(`/call/${r}`)}async createCall(r){return this.request("/call",{method:"POST",body:JSON.stringify(r)})}async getPhoneNumbers(){return this.request("/phone-number")}async getPhoneNumber(r){return this.request(`/phone-number/${r}`)}async getCallAnalytics(r){const s=await this.getCalls(r);return this.aggregateCallData(s)}aggregateCallData(r){const s=r.length,a=r.filter(m=>m.status==="ended"&&m.duration&&m.duration>30).length,n=r.reduce((m,h)=>m+(h.duration||0),0),i=r.reduce((m,h)=>m+(h.cost||0),0),o=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.sentiment)||"neutral";return m[f]++,m},{positive:0,negative:0,neutral:0}),l=r.reduce((m,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.outcome)||"unknown";return m[f]=(m[f]||0)+1,m},{}),d=Array.from({length:24},(m,h)=>({hour:h,count:r.filter(f=>f.startedAt?new Date(f.startedAt).getHours()===h:!1).length}));return{totalCalls:s,successfulCalls:a,averageDuration:n/(s||1),totalCost:i,sentimentBreakdown:o,outcomeBreakdown:l,callsByHour:d,conversionRate:a/(s||1)*100}}async verifyWebhook(r,s,a){try{const i=(await fn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).createHmac("sha256",a).update(s).digest("hex");return r===i}catch{return!1}}async subscribeToCallUpdates(r,s){const a=setInterval(async()=>{try{const n=await this.getCall(r);s({type:"status-update",call:n,timestamp:new Date().toISOString()})}catch(n){console.error("Error polling call updates:",n)}},2e3);return()=>clearInterval(a)}scoreLeadFromCall(r){var n,i,o,l;let s=50;const a=[];if(r.duration&&(r.duration>300?(s+=20,a.push({factor:"Long Call Duration",impact:20,description:"Engaged in lengthy conversation"})):r.duration>120?(s+=10,a.push({factor:"Good Call Duration",impact:10,description:"Reasonable conversation length"})):r.duration<30&&(s-=15,a.push({factor:"Short Call Duration",impact:-15,description:"Very brief interaction"}))),((n=r.analysis)==null?void 0:n.sentiment)==="positive"?(s+=15,a.push({factor:"Positive Sentiment",impact:15,description:"Showed positive attitude during call"})):((i=r.analysis)==null?void 0:i.sentiment)==="negative"&&(s-=10,a.push({factor:"Negative Sentiment",impact:-10,description:"Expressed negative sentiment"})),(o=r.analysis)!=null&&o.followUpRequired&&(s+=10,a.push({factor:"Follow-up Interest",impact:10,description:"Expressed interest in follow-up"})),(l=r.analysis)!=null&&l.intent){const d=r.analysis.intent.toLowerCase();d.includes("purchase")||d.includes("buy")?(s+=25,a.push({factor:"Purchase Intent",impact:25,description:"Showed buying intent"})):(d.includes("interested")||d.includes("learn"))&&(s+=15,a.push({factor:"Learning Intent",impact:15,description:"Interested in learning more"}))}return{score:Math.max(0,Math.min(100,s)),factors:a}}async launchCampaign(r){const s=r.leads.length;return{success:!0,campaignId:`campaign_${Date.now()}`,scheduledCalls:s}}async launchProductionCampaign(r){if(!r.leads||r.leads.length===0)throw new Error("No leads provided for campaign");if(!this.apiKey)throw new Error("VAPI API key not configured");return this.launchCampaign(r)}}const VN=new oee,OA=e=>{let r;const s=new Set,a=(m,h)=>{const f=typeof m=="function"?m(r):m;if(!Object.is(f,r)){const g=r;r=h??(typeof f!="object"||f===null)?f:Object.assign({},r,f),s.forEach(y=>y(r,g))}},n=()=>r,l={setState:a,getState:n,getInitialState:()=>d,subscribe:m=>(s.add(m),()=>s.delete(m))},d=r=e(a,n,l);return l},lee=e=>e?OA(e):OA,cee=e=>e;function dee(e,r=cee){const s=ce.useSyncExternalStore(e.subscribe,ce.useCallback(()=>r(e.getState()),[e,r]),ce.useCallback(()=>r(e.getInitialState()),[e,r]));return ce.useDebugValue(s),s}const uee=e=>{const r=lee(e),s=a=>dee(r,a);return Object.assign(s,r),s},mee=e=>uee;function YI(e,r){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,r==null?void 0:r.reviver),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,r==null?void 0:r.replacer)),removeItem:n=>s.removeItem(n)}}const qN=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(a){return qN(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return qN(a)(s)}}}},hee=(e,r)=>(s,a,n)=>{let i={storage:YI(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...r},o=!1;const l=new Set,d=new Set;let m=i.storage;if(!m)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...v)},a,n);const h=()=>{const v=i.partialize({...a()});return m.setItem(i.name,{state:v,version:i.version})},f=n.setState;n.setState=(v,b)=>{f(v,b),h()};const g=e((...v)=>{s(...v),h()},a,n);n.getInitialState=()=>g;let y;const w=()=>{var v,b;if(!m)return;o=!1,l.forEach(C=>{var S;return C((S=a())!=null?S:g)});const N=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(v=a())!=null?v:g))||void 0;return qN(m.getItem.bind(m))(i.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==i.version){if(i.migrate){const S=i.migrate(C.state,C.version);return S instanceof Promise?S.then(_=>[!0,_]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var S;const[_,A]=C;if(y=i.merge(A,(S=a())!=null?S:g),s(y,!0),_)return h()}).then(()=>{N==null||N(y,void 0),y=a(),o=!0,d.forEach(C=>C(y))}).catch(C=>{N==null||N(void 0,C)})};return n.persist={setOptions:v=>{i={...i,...v},v.storage&&(m=v.storage)},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(d.add(v),()=>{d.delete(v)})},i.skipHydration||w(),y||g},fee=hee,MA={categories:[],types:[],priorities:[],sources:[],unreadOnly:!1},pee={categories:{calls:!0,performance:!0,system:!0,billing:!0,campaigns:!0,security:!0},emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:{enabled:!1,start:"22:00",end:"08:00"}},om=mee()(fee((e,r)=>({notifications:[],filters:MA,maxNotifications:25,preferences:pee,addNotification:s=>{const a=`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...s,id:a,timestamp:new Date,read:!1,priority:s.priority||"medium",category:s.category||"system",source:s.source||"unknown"};return e(i=>{const o=[n,...i.notifications];return o.length>i.maxNotifications&&o.splice(i.maxNotifications),{notifications:o}}),s.autoHide&&s.hideAfter&&setTimeout(()=>{r().removeNotification(a)},s.hideAfter),a},removeNotification:s=>{e(a=>({notifications:a.notifications.filter(n=>n.id!==s)}))},markAsRead:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!0}:n)}))},markAsUnread:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!1}:n)}))},markAllAsRead:()=>{e(s=>({notifications:s.notifications.map(a=>({...a,read:!0}))}))},clearAll:()=>{e({notifications:[]})},clearByCategory:s=>{e(a=>({notifications:a.notifications.filter(n=>n.category!==s)}))},clearByType:s=>{e(a=>({notifications:a.notifications.filter(n=>n.type!==s)}))},clearOld:s=>{const a=new Date;a.setDate(a.getDate()-s),e(n=>({notifications:n.notifications.filter(i=>(i.timestamp instanceof Date?i.timestamp:new Date(i.timestamp))>a||i.persistent)}))},setFilters:s=>{e(a=>({filters:{...a.filters,...s}}))},resetFilters:()=>{e({filters:MA})},getFilteredNotifications:()=>{const{notifications:s,filters:a}=r();return s.filter(n=>{if(a.categories.length>0&&!a.categories.includes(n.category)||a.types.length>0&&!a.types.includes(n.type)||a.priorities.length>0&&!a.priorities.includes(n.priority)||a.sources.length>0&&!a.sources.includes(n.source)||a.unreadOnly&&n.read)return!1;if(a.dateRange){const i=n.timestamp;if(i<a.dateRange.start||i>a.dateRange.end)return!1}return!0})},getStats:()=>{const{notifications:s}=r(),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),i=new Date(n);i.setDate(i.getDate()-7);const o=new Date(a.getFullYear(),a.getMonth(),1),l={total:s.length,unread:s.filter(d=>!d.read).length,byCategory:{system:0,calls:0,campaigns:0,performance:0,billing:0,security:0},byType:{success:0,error:0,warning:0,info:0,system:0,campaign:0,billing:0},byPriority:{low:0,medium:0,high:0,urgent:0},recentActivity:{today:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=n).length,thisWeek:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=i).length,thisMonth:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=o).length}};return s.forEach(d=>{l.byCategory[d.category]++,l.byType[d.type]++,l.byPriority[d.priority]++}),l},getUnreadCount:()=>r().notifications.filter(s=>!s.read).length,getNotificationsByCategory:s=>r().notifications.filter(a=>a.category===s),getNotificationsByType:s=>r().notifications.filter(a=>a.type===s),getNotificationsByPriority:s=>r().notifications.filter(a=>a.priority===s),getRecentNotifications:s=>r().notifications.slice(0,s),setMaxNotifications:s=>{e(a=>{const n=a.notifications.slice(0,s);return{maxNotifications:s,notifications:n}})},updatePreferences:s=>{e(a=>({preferences:{...a.preferences,...s}}))}}),{name:"apex-notifications",storage:YI(()=>localStorage,{reviver:(e,r)=>e==="timestamp"&&typeof r=="string"?new Date(r):r,replacer:(e,r)=>r}),partialize:e=>({notifications:e.notifications.slice(0,25),maxNotifications:e.maxNotifications})})),Ec={success:(e,r,s)=>({type:"success",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:5e3,...s}),error:(e,r,s)=>({type:"error",title:e,message:r,priority:"high",category:"system",source:"app",persistent:!0,...s}),warning:(e,r,s)=>({type:"warning",title:e,message:r,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:8e3,...s}),info:(e,r,s)=>({type:"info",title:e,message:r,priority:"low",category:"system",source:"app",autoHide:!0,hideAfter:4e3,...s}),system:(e,r,s)=>({type:"system",title:e,message:r,priority:"medium",category:"system",source:"system",...s}),campaign:(e,r,s)=>({type:"campaign",title:e,message:r,priority:"medium",category:"campaigns",source:"campaign-manager",...s}),billing:(e,r,s)=>({type:"billing",title:e,message:r,priority:"medium",category:"billing",source:"billing",...s})},gee=()=>{const e=om(r=>r.addNotification);return{success:(r,s,a)=>e(Ec.success(r,s,a)),error:(r,s,a)=>e(Ec.error(r,s,a)),warning:(r,s,a)=>e(Ec.warning(r,s,a)),info:(r,s,a)=>e(Ec.info(r,s,a)),system:(r,s,a)=>e(Ec.system(r,s,a)),campaign:(r,s,a)=>e(Ec.campaign(r,s,a)),billing:(r,s,a)=>e(Ec.billing(r,s,a))}};function xee(){var v,b,N;const e=br(),{signOut:r}=wa(),{user:s}=xf(),{userContext:a}=ki(),{addNotification:n}=om(),[i,o]=p.useState(!1),[l,d]=p.useState({credits:0,totalCalls:0,monthlySpend:0,lastSync:new Date,status:"disconnected",accounts:[]}),[m,h]=p.useState(!1),f=async()=>{h(!0);try{const C=await VN.getCalls({limit:100}),S=await VN.getCallAnalytics();d({credits:0,totalCalls:S.totalCalls||0,monthlySpend:S.totalCost||0,lastSync:new Date,status:"connected",accounts:[]})}catch(C){console.error("Failed to sync VAPI data:",C),d(S=>({...S,status:"error"}))}finally{h(!1)}};p.useEffect(()=>{},[]);const g=async()=>{try{await r(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(C){console.error("Sign out error:",C),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},y=()=>{switch(l.status){case"connected":return t.jsx(yt,{className:"h-3 w-3 text-gray-400"});case"syncing":return t.jsx(ss,{className:"h-3 w-3 animate-spin text-blue-400"});case"error":return t.jsx(Yt,{className:"h-3 w-3 text-red-400"});default:return t.jsx(Yt,{className:"h-3 w-3 text-gray-400"})}},w=()=>{const C=new Date().getHours(),S=(a==null?void 0:a.firstName)||(s==null?void 0:s.firstName)||"User";return C<12?`Good morning, ${S}!`:C<17?`Good afternoon, ${S}!`:`Good evening, ${S}!`};return t.jsxs(Si,{open:i,onOpenChange:o,children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",className:Le("relative h-10 rounded-lg px-3 transition-all duration-200","hover:bg-gray-800 focus:bg-gray-800 focus:ring-2 focus:ring-gray-500/20",i&&"bg-gray-800"),children:t.jsxs("div",{className:"flex items-center space-x-2 max-w-[200px]",children:[t.jsxs(zu,{className:"h-8 w-8 ring-2 ring-gray-700 transition-all hover:ring-gray-500/50 flex-shrink-0",children:[t.jsx(Fu,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),t.jsx(Uu,{className:"bg-gray-600 font-medium text-white",children:((v=s==null?void 0:s.firstName)==null?void 0:v[0])||"U"})]}),t.jsxs("div",{className:"hidden flex-col items-start lg:flex min-w-0 flex-1",children:[t.jsx("span",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:(s==null?void 0:s.firstName)||"User"}),t.jsx("span",{className:"text-xs text-gray-400 truncate max-w-[100px]",children:(a==null?void 0:a.role)||"User"})]}),t.jsx(rs,{className:Le("h-4 w-4 text-gray-400 transition-transform duration-200 flex-shrink-0",i&&"rotate-180")})]})})}),t.jsxs(Vn,{className:"w-80 border-gray-700 bg-gray-900/95 p-0 shadow-xl",align:"end",children:[t.jsx("div",{className:"border-b border-gray-700 bg-gradient-to-r from-gray-600/10 to-gray-700/10 p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(zu,{className:"h-12 w-12 ring-2 ring-gray-500/30",children:[t.jsx(Fu,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),t.jsx(Uu,{className:"bg-gray-600 text-lg font-bold text-white",children:((b=s==null?void 0:s.firstName)==null?void 0:b[0])||"U"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-base font-medium text-white",children:w()}),t.jsx("p",{className:"text-sm text-gray-300",children:s==null?void 0:s.fullName}),t.jsx("p",{className:"text-xs text-gray-400",children:(N=s==null?void 0:s.primaryEmailAddress)==null?void 0:N.emailAddress}),t.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[t.jsx(je,{variant:"outline",className:"border-gray-500/30 text-xs text-gray-400",children:(a==null?void 0:a.role)||"User"}),(a==null?void 0:a.organizationName)&&t.jsxs(je,{variant:"outline",className:"border-blue-500/30 text-xs text-blue-400",children:[t.jsx(cr,{className:"mr-1 h-3 w-3"}),a.organizationName]})]})]})]})}),t.jsxs("div",{className:"border-b border-gray-700 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-white",children:"Account Overview"}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-gray-400 hover:text-white",onClick:f,disabled:m,children:[m?t.jsx(ss,{className:"h-3 w-3 animate-spin"}):t.jsx(ss,{className:"h-3 w-3"}),"Sync"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Credits"}),t.jsx("p",{className:"text-lg font-bold text-gray-400",children:l.credits>0?l.credits.toLocaleString():"N/A"})]}),t.jsx(Fr,{className:"h-5 w-5 text-gray-400"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-lg font-bold text-blue-400",children:l.totalCalls>0?l.totalCalls.toLocaleString():"N/A"})]}),t.jsx(xt,{className:"h-5 w-5 text-blue-400"})]})})})]}),t.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[y(),t.jsxs("span",{className:"text-gray-400",children:["VAPI Status:"," ",l.status==="connected"?"Connected":l.status==="syncing"?"Syncing...":l.status==="error"?"Connection Error":"Disconnected"]})]}),t.jsxs("span",{className:"text-gray-500",children:["Last sync: ",l.lastSync.toLocaleTimeString()]})]}),l.accounts.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"mb-2 text-xs text-gray-400",children:"Connected Accounts"}),t.jsx("div",{className:"space-y-1",children:l.accounts.map(C=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-300",children:C.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-400",children:C.credits.toLocaleString()}),t.jsx("span",{className:"text-gray-500",children:"•"}),t.jsx("span",{className:"text-blue-400",children:C.calls})]})]},C.id))})]})]}),t.jsxs("div",{className:"p-2",children:[t.jsxs(GZ,{children:[t.jsxs(Jt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/api-keys"),o(!1)},children:[t.jsx(rd,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"API Keys"})]}),t.jsxs(Jt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/billing"),o(!1)},children:[t.jsx(Ji,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Billing & Credits"})]}),(a==null?void 0:a.role)==="platform_owner"&&t.jsxs(t.Fragment,{children:[t.jsxs(Jt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/platform"),o(!1)},children:[t.jsx(_x,{className:"mr-3 h-4 w-4 text-yellow-400"}),t.jsx("span",{className:"text-gray-200",children:"Platform Admin"})]}),t.jsxs(Jt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/system-health"),o(!1)},children:[t.jsx(gs,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Security & Health"})]})]}),t.jsxs(Jt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/settings"),o(!1)},children:[t.jsx(is,{className:"mr-3 h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-200",children:"Settings"})]})]}),t.jsx(GS,{className:"my-2 bg-gray-700"}),t.jsxs(Jt,{className:"cursor-pointer text-red-400 hover:bg-red-900/20 focus:bg-red-900/20",onClick:g,children:[t.jsx(XG,{className:"mr-3 h-4 w-4"}),t.jsx("span",{children:"Sign Out"})]})]}),t.jsx("div",{className:"border-t border-gray-700 bg-gray-800/50 p-3",children:t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[t.jsx("span",{children:"Apex Platform"}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:text-white",onClick:()=>window.open("https://docs.apex.ai","_blank"),children:[t.jsx(Xi,{className:"mr-1 h-3 w-3"}),"Docs"]})]})})]})]})}const JI=6048e5,yee=864e5,vg=43200,RA=1440,IA=Symbol.for("constructDateFrom");function Uo(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&IA in e?e[IA](r):e instanceof Date?new e.constructor(r):new Date(r)}function Vs(e,r){return Uo(r||e,e)}let vee={};function Pf(){return vee}function Gh(e,r){var l,d,m,h;const s=Pf(),a=(r==null?void 0:r.weekStartsOn)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,n=Vs(e,r==null?void 0:r.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function u0(e,r){return Gh(e,{...r,weekStartsOn:1})}function XI(e,r){const s=Vs(e,r==null?void 0:r.in),a=s.getFullYear(),n=Uo(s,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=u0(n),o=Uo(s,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=u0(o);return s.getTime()>=i.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function m0(e){const r=Vs(e),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+e-+s}function Wx(e,...r){const s=Uo.bind(null,e||r.find(a=>typeof a=="object"));return r.map(s)}function DA(e,r){const s=Vs(e,r==null?void 0:r.in);return s.setHours(0,0,0,0),s}function bee(e,r,s){const[a,n]=Wx(s==null?void 0:s.in,e,r),i=DA(a),o=DA(n),l=+i-m0(i),d=+o-m0(o);return Math.round((l-d)/yee)}function wee(e,r){const s=XI(e,r),a=Uo(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),u0(a)}function Ug(e,r){const s=+Vs(e)-+Vs(r);return s<0?-1:s>0?1:s}function jee(e){return Uo(e,Date.now())}function Nee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function See(e){return!(!Nee(e)&&typeof e!="number"||isNaN(+Vs(e)))}function Cee(e,r,s){const[a,n]=Wx(s==null?void 0:s.in,e,r),i=a.getFullYear()-n.getFullYear(),o=a.getMonth()-n.getMonth();return i*12+o}function kee(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function _ee(e,r){return+Vs(e)-+Vs(r)}function Pee(e,r){const s=Vs(e,r==null?void 0:r.in);return s.setHours(23,59,59,999),s}function Aee(e,r){const s=Vs(e,r==null?void 0:r.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function Eee(e,r){const s=Vs(e,r==null?void 0:r.in);return+Pee(s,r)==+Aee(s,r)}function Tee(e,r,s){const[a,n,i]=Wx(s==null?void 0:s.in,e,e,r),o=Ug(n,i),l=Math.abs(Cee(n,i));if(l<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*l);let d=Ug(n,i)===-o;Eee(a)&&l===1&&Ug(a,i)===1&&(d=!1);const m=o*(l-+d);return m===0?0:m}function Oee(e,r,s){const a=_ee(e,r)/1e3;return kee(s==null?void 0:s.roundingMethod)(a)}function Mee(e,r){const s=Vs(e,r==null?void 0:r.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Ree={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Iee=(e,r,s)=>{let a;const n=Ree[e];return typeof n=="string"?a=n:r===1?a=n.one:a=n.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function uw(e){return(r={})=>{const s=r.width?String(r.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Dee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$ee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zee={date:uw({formats:Dee,defaultWidth:"full"}),time:uw({formats:Lee,defaultWidth:"full"}),dateTime:uw({formats:$ee,defaultWidth:"full"})},Fee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uee=(e,r,s,a)=>Fee[e];function dh(e){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return n[i]}}const Bee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gee=(e,r)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Yee={ordinalNumber:Gee,era:dh({values:Bee,defaultWidth:"wide"}),quarter:dh({values:Wee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dh({values:Vee,defaultWidth:"wide"}),day:dh({values:qee,defaultWidth:"wide"}),dayPeriod:dh({values:Hee,defaultWidth:"wide",formattingValues:Kee,defaultFormattingWidth:"wide"})};function uh(e){return(r,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?Xee(l,f=>f.test(o)):Jee(l,f=>f.test(o));let m;m=e.valueCallback?e.valueCallback(d):d,m=s.valueCallback?s.valueCallback(m):m;const h=r.slice(o.length);return{value:m,rest:h}}}function Jee(e,r){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r(e[s]))return s}function Xee(e,r){for(let s=0;s<e.length;s++)if(r(e[s]))return s}function Qee(e){return(r,s={})=>{const a=r.match(e.matchPattern);if(!a)return null;const n=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=r.slice(n.length);return{value:o,rest:l}}}const Zee=/^(\d+)(th|st|nd|rd)?/i,ete=/\d+/i,tte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rte={any:[/^b/i,/^(a|c)/i]},ste={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ate={any:[/1/i,/2/i,/3/i,/4/i]},nte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ite={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ote={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ute={ordinalNumber:Qee({matchPattern:Zee,parsePattern:ete,valueCallback:e=>parseInt(e,10)}),era:uh({matchPatterns:tte,defaultMatchWidth:"wide",parsePatterns:rte,defaultParseWidth:"any"}),quarter:uh({matchPatterns:ste,defaultMatchWidth:"wide",parsePatterns:ate,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uh({matchPatterns:nte,defaultMatchWidth:"wide",parsePatterns:ite,defaultParseWidth:"any"}),day:uh({matchPatterns:ote,defaultMatchWidth:"wide",parsePatterns:lte,defaultParseWidth:"any"}),dayPeriod:uh({matchPatterns:cte,defaultMatchWidth:"any",parsePatterns:dte,defaultParseWidth:"any"})},QI={code:"en-US",formatDistance:Iee,formatLong:zee,formatRelative:Uee,localize:Yee,match:ute,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mte(e,r){const s=Vs(e,r==null?void 0:r.in);return bee(s,Mee(s))+1}function hte(e,r){const s=Vs(e,r==null?void 0:r.in),a=+u0(s)-+wee(s);return Math.round(a/JI)+1}function ZI(e,r){var h,f,g,y;const s=Vs(e,r==null?void 0:r.in),a=s.getFullYear(),n=Pf(),i=(r==null?void 0:r.firstWeekContainsDate)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Uo((r==null?void 0:r.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Gh(o,r),d=Uo((r==null?void 0:r.in)||e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const m=Gh(d,r);return+s>=+l?a+1:+s>=+m?a:a-1}function fte(e,r){var l,d,m,h;const s=Pf(),a=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,n=ZI(e,r),i=Uo((r==null?void 0:r.in)||e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Gh(i,r)}function pte(e,r){const s=Vs(e,r==null?void 0:r.in),a=+Gh(s,r)-+fte(s,r);return Math.round(a/JI)+1}function pr(e,r){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return s+a}const Sl={y(e,r){const s=e.getFullYear(),a=s>0?s:1-s;return pr(r==="yy"?a%100:a,r.length)},M(e,r){const s=e.getMonth();return r==="M"?String(s+1):pr(s+1,2)},d(e,r){return pr(e.getDate(),r.length)},a(e,r){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,r){return pr(e.getHours()%12||12,r.length)},H(e,r){return pr(e.getHours(),r.length)},m(e,r){return pr(e.getMinutes(),r.length)},s(e,r){return pr(e.getSeconds(),r.length)},S(e,r){const s=r.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return pr(n,r.length)}},gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LA={G:function(e,r,s){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,r,s){if(r==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return Sl.y(e,r)},Y:function(e,r,s,a){const n=ZI(e,a),i=n>0?n:1-n;if(r==="YY"){const o=i%100;return pr(o,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):pr(i,r.length)},R:function(e,r){const s=XI(e);return pr(s,r.length)},u:function(e,r){const s=e.getFullYear();return pr(s,r.length)},Q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return pr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return pr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,s){const a=e.getMonth();switch(r){case"M":case"MM":return Sl.M(e,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,s){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return pr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,s,a){const n=pte(e,a);return r==="wo"?s.ordinalNumber(n,{unit:"week"}):pr(n,r.length)},I:function(e,r,s){const a=hte(e);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):pr(a,r.length)},d:function(e,r,s){return r==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Sl.d(e,r)},D:function(e,r,s){const a=mte(e);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):pr(a,r.length)},E:function(e,r,s){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return pr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return pr(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,r,s){const a=e.getDay(),n=a===0?7:a;switch(r){case"i":return String(n);case"ii":return pr(n,r.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,s){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,r,s){const a=e.getHours();let n;switch(a===12?n=gu.noon:a===0?n=gu.midnight:n=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,r,s){const a=e.getHours();let n;switch(a>=17?n=gu.evening:a>=12?n=gu.afternoon:a>=4?n=gu.morning:n=gu.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,r,s){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Sl.h(e,r)},H:function(e,r,s){return r==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Sl.H(e,r)},K:function(e,r,s){const a=e.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):pr(a,r.length)},k:function(e,r,s){let a=e.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):pr(a,r.length)},m:function(e,r,s){return r==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Sl.m(e,r)},s:function(e,r,s){return r==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Sl.s(e,r)},S:function(e,r){return Sl.S(e,r)},X:function(e,r,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return zA(a);case"XXXX":case"XX":return Ic(a);case"XXXXX":case"XXX":default:return Ic(a,":")}},x:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"x":return zA(a);case"xxxx":case"xx":return Ic(a);case"xxxxx":case"xxx":default:return Ic(a,":")}},O:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+$A(a,":");case"OOOO":default:return"GMT"+Ic(a,":")}},z:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+$A(a,":");case"zzzz":default:return"GMT"+Ic(a,":")}},t:function(e,r,s){const a=Math.trunc(+e/1e3);return pr(a,r.length)},T:function(e,r,s){return pr(+e,r.length)}};function $A(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+r+pr(i,2)}function zA(e,r){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):Ic(e,r)}function Ic(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=pr(Math.trunc(a/60),2),i=pr(a%60,2);return s+n+r+i}const FA=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},eD=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},gte=(e,r)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return FA(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",FA(a,r)).replace("{{time}}",eD(n,r))},xte={p:eD,P:gte},yte=/^D+$/,vte=/^Y+$/,bte=["D","DD","YY","YYYY"];function wte(e){return yte.test(e)}function jte(e){return vte.test(e)}function Nte(e,r,s){const a=Ste(e,r,s);if(console.warn(a),bte.includes(e))throw new RangeError(a)}function Ste(e,r,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_te=/^'([^]*?)'?$/,Pte=/''/g,Ate=/[a-zA-Z]/;function mw(e,r,s){var h,f,g,y;const a=Pf(),n=a.locale??QI,i=a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Vs(e,s==null?void 0:s.in);if(!See(l))throw new RangeError("Invalid time value");let d=r.match(kte).map(w=>{const v=w[0];if(v==="p"||v==="P"){const b=xte[v];return b(w,n.formatLong)}return w}).join("").match(Cte).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:Ete(w)};if(LA[v])return{isToken:!0,value:w};if(v.match(Ate))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const m={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(w=>{if(!w.isToken)return w.value;const v=w.value;(jte(v)||wte(v))&&Nte(v,r,String(e));const b=LA[v[0]];return b(l,v,n.localize,m)}).join("")}function Ete(e){const r=e.match(_te);return r?r[1].replace(Pte,"'"):e}function Tte(e,r,s){const a=Pf(),n=(s==null?void 0:s.locale)??a.locale??QI,i=2520,o=Ug(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o}),[d,m]=Wx(s==null?void 0:s.in,...o>0?[r,e]:[e,r]),h=Oee(m,d),f=(m0(m)-m0(d))/1e3,g=Math.round((h-f)/60);let y;if(g<2)return s!=null&&s.includeSeconds?h<5?n.formatDistance("lessThanXSeconds",5,l):h<10?n.formatDistance("lessThanXSeconds",10,l):h<20?n.formatDistance("lessThanXSeconds",20,l):h<40?n.formatDistance("halfAMinute",0,l):h<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):g===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",g,l);if(g<45)return n.formatDistance("xMinutes",g,l);if(g<90)return n.formatDistance("aboutXHours",1,l);if(g<RA){const w=Math.round(g/60);return n.formatDistance("aboutXHours",w,l)}else{if(g<i)return n.formatDistance("xDays",1,l);if(g<vg){const w=Math.round(g/RA);return n.formatDistance("xDays",w,l)}else if(g<vg*2)return y=Math.round(g/vg),n.formatDistance("aboutXMonths",y,l)}if(y=Tee(m,d),y<12){const w=Math.round(g/vg);return n.formatDistance("xMonths",w,l)}else{const w=y%12,v=Math.trunc(y/12);return w<3?n.formatDistance("aboutXYears",v,l):w<9?n.formatDistance("overXYears",v,l):n.formatDistance("almostXYears",v+1,l)}}function h0(e,r){return Tte(e,jee(e),r)}function Yh(e,[r,s]){return Math.min(s,Math.max(r,e))}function Ote(e,r){return p.useReducer((s,a)=>r[s][a]??s,e)}var JS="ScrollArea",[tD,w1e]=qs(JS),[Mte,Kn]=tD(JS),rD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,d]=p.useState(null),[m,h]=p.useState(null),[f,g]=p.useState(null),[y,w]=p.useState(null),[v,b]=p.useState(null),[N,C]=p.useState(0),[S,_]=p.useState(0),[A,T]=p.useState(!1),[E,M]=p.useState(!1),L=ut(r,O=>d(O)),H=yd(n);return t.jsx(Mte,{scope:s,type:a,dir:H,scrollHideDelay:i,scrollArea:l,viewport:m,onViewportChange:h,content:f,onContentChange:g,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:A,onScrollbarXEnabledChange:T,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:M,onCornerWidthChange:C,onCornerHeightChange:_,children:t.jsx(He.div,{dir:H,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});rD.displayName=JS;var sD="ScrollAreaViewport",aD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=e,o=Kn(sD,s),l=p.useRef(null),d=ut(r,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(He.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});aD.displayName=sD;var lo="ScrollAreaScrollbar",XS=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Kn(lo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?t.jsx(Rte,{...a,ref:r,forceMount:s}):n.type==="scroll"?t.jsx(Ite,{...a,ref:r,forceMount:s}):n.type==="auto"?t.jsx(nD,{...a,ref:r,forceMount:s}):n.type==="always"?t.jsx(QS,{...a,ref:r}):null});XS.displayName=lo;var Rte=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Kn(lo,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),t.jsx(ja,{present:s||i,children:t.jsx(nD,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Ite=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=Kn(lo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=qx(()=>d("SCROLL_END"),100),[l,d]=Ote("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,n.scrollHideDelay,d]),p.useEffect(()=>{const m=n.viewport,h=i?"scrollLeft":"scrollTop";if(m){let f=m[h];const g=()=>{const y=m[h];f!==y&&(d("SCROLL"),o()),f=y};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[n.viewport,i,d,o]),t.jsx(ja,{present:s||l!=="hidden",children:t.jsx(QS,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:De(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:De(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),nD=p.forwardRef((e,r)=>{const s=Kn(lo,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",d=qx(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?m:h)}},10);return Bu(s.viewport,d),Bu(s.content,d),t.jsx(ja,{present:a||i,children:t.jsx(QS,{"data-state":i?"visible":"hidden",...n,ref:r})})}),QS=p.forwardRef((e,r)=>{const{orientation:s="vertical",...a}=e,n=Kn(lo,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=dD(l.viewport,l.content),h={...a,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function f(g,y){return Ute(g,o.current,l,y)}return s==="horizontal"?t.jsx(Dte,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,y=UA(g,l,n.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}}):s==="vertical"?t.jsx(Lte,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,y=UA(g,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}}):null}),Dte=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=Kn(lo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=ut(r,d,i.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(oD,{"data-orientation":"horizontal",...n,ref:m,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),mD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:p0(o.paddingLeft),paddingEnd:p0(o.paddingRight)}})}})}),Lte=p.forwardRef((e,r)=>{const{sizes:s,onSizesChange:a,...n}=e,i=Kn(lo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),m=ut(r,d,i.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),t.jsx(oD,{"data-orientation":"vertical",...n,ref:m,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vx(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),mD(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:p0(o.paddingTop),paddingEnd:p0(o.paddingBottom)}})}})}),[$te,iD]=tD(lo),oD=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:h,onResize:f,...g}=e,y=Kn(lo,s),[w,v]=p.useState(null),b=ut(r,L=>v(L)),N=p.useRef(null),C=p.useRef(""),S=y.viewport,_=a.content-a.viewport,A=Qr(h),T=Qr(d),E=qx(f,10);function M(L){if(N.current){const H=L.clientX-N.current.left,O=L.clientY-N.current.top;m({x:H,y:O})}}return p.useEffect(()=>{const L=H=>{const O=H.target;(w==null?void 0:w.contains(O))&&A(H,_)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[S,w,_,A]),p.useEffect(T,[a,T]),Bu(w,E),Bu(y.content,E),t.jsx($te,{scope:s,scrollbar:w,hasThumb:n,onThumbChange:Qr(i),onThumbPointerUp:Qr(o),onThumbPositionChange:T,onThumbPointerDown:Qr(l),children:t.jsx(He.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:De(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),N.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),M(L))}),onPointerMove:De(e.onPointerMove,M),onPointerUp:De(e.onPointerUp,L=>{const H=L.target;H.hasPointerCapture(L.pointerId)&&H.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=C.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),f0="ScrollAreaThumb",lD=p.forwardRef((e,r)=>{const{forceMount:s,...a}=e,n=iD(f0,e.__scopeScrollArea);return t.jsx(ja,{present:s||n.hasThumb,children:t.jsx(zte,{ref:r,...a})})}),zte=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,style:a,...n}=e,i=Kn(f0,s),o=iD(f0,s),{onThumbPositionChange:l}=o,d=ut(r,f=>o.onThumbChange(f)),m=p.useRef(void 0),h=qx(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(h(),!m.current){const y=Bte(f,l);m.current=y,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,h,l]),t.jsx(He.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:De(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,v=f.clientY-y.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:De(e.onPointerUp,o.onThumbPointerUp)})});lD.displayName=f0;var ZS="ScrollAreaCorner",cD=p.forwardRef((e,r)=>{const s=Kn(ZS,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?t.jsx(Fte,{...e,ref:r}):null});cD.displayName=ZS;var Fte=p.forwardRef((e,r)=>{const{__scopeScrollArea:s,...a}=e,n=Kn(ZS,s),[i,o]=p.useState(0),[l,d]=p.useState(0),m=!!(i&&l);return Bu(n.scrollbarX,()=>{var f;const h=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(h),d(h)}),Bu(n.scrollbarY,()=>{var f;const h=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(h),o(h)}),m?t.jsx(He.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function p0(e){return e?parseInt(e,10):0}function dD(e,r){const s=e/r;return isNaN(s)?0:s}function Vx(e){const r=dD(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*r;return Math.max(a,18)}function Ute(e,r,s,a="ltr"){const n=Vx(s),i=n/2,o=r||i,l=n-o,d=s.scrollbar.paddingStart+o,m=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,f=a==="ltr"?[0,h]:[h*-1,0];return uD([d,m],f)(e)}function UA(e,r,s="ltr"){const a=Vx(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,o=r.content-r.viewport,l=i-a,d=s==="ltr"?[0,o]:[o*-1,0],m=Yh(e,d);return uD([0,o],[0,l])(m)}function uD(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function mD(e,r){return e>0&&e<r}var Bte=(e,r=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&r(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function qx(e,r){const s=Qr(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function Bu(e,r){const s=Qr(r);os(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,s])}var hD=rD,Wte=aD,Vte=cD;const g0=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(hD,{ref:a,className:Le("relative overflow-hidden",e),...s,children:[t.jsx(Wte,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(fD,{}),t.jsx(Vte,{})]}));g0.displayName=hD.displayName;const fD=p.forwardRef(({className:e,orientation:r="vertical",...s},a)=>t.jsx(XS,{ref:a,orientation:r,className:Le("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(lD,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));fD.displayName=XS.displayName;const _e=p.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:Le("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:a,...s}));_e.displayName="Input";const qte={success:yt,error:Yt,warning:va,info:qt,system:as,campaign:lr,billing:Fr,calls:xt,performance:Bs,security:gs,message:Qi,update:ss},BA={system:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/20",icon:"text-purple-500"},calls:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",icon:"text-blue-500"},campaigns:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",icon:"text-emerald-500"},performance:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"text-orange-500"},billing:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/20",icon:"text-yellow-500"},security:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20",icon:"text-red-500"}},Hte={low:{color:"bg-gray-400",pulse:!1},medium:{color:"bg-blue-500",pulse:!1},high:{color:"bg-orange-500",pulse:!0},urgent:{color:"bg-red-500",pulse:!0}},Kte=ce.memo(function({notification:r,onMarkAsRead:s,onRemove:a,onAction:n}){var g;const[i,o]=p.useState(!1),l=qte[r.type]||qt,d=BA[r.category]||BA.system,m=Hte[r.priority],h=h0(r.timestamp,{addSuffix:!0}),f=()=>{r.action&&(n==null||n(r.action),r.action.href&&window.open(r.action.href,"_blank"),r.action.callback&&r.action.callback())};return t.jsxs("div",{className:Le("group relative cursor-pointer rounded-lg border p-3 transition-all duration-200","hover:border-gray-600/50 hover:bg-gray-800/30",!r.read&&"border-gray-700/30 bg-gray-800/20",r.read&&"border-gray-800/30 bg-transparent"),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>!r.read&&s(r.id),children:[t.jsx("div",{className:Le("absolute left-2 top-2 h-2 w-2 rounded-full",m.color,m.pulse&&"animate-pulse")}),!r.read&&t.jsx("div",{className:"absolute right-2 top-2 h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsxs("div",{className:"ml-4 flex items-start gap-3",children:[t.jsx("div",{className:Le("flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg transition-all duration-200",d.bg,d.border,"border"),children:t.jsx(l,{className:Le("h-4 w-4",d.icon)})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:Le("text-sm font-semibold leading-tight transition-colors duration-200",r.read?"text-gray-300":"text-white",i&&"text-emerald-400"),children:r.title}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsx(je,{variant:"outline",className:Le("border-0 px-2 py-0.5 text-xs font-medium",d.bg,d.text),children:r.category}),t.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[t.jsx(Mt,{className:"h-3 w-3"}),h]})]})]}),t.jsxs("div",{className:Le("flex items-center gap-1 opacity-0 transition-opacity duration-200",i&&"opacity-100"),children:[r.action&&t.jsxs(q,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-emerald-400 hover:bg-emerald-500/10 hover:text-emerald-300",onClick:y=>{y.stopPropagation(),f()},children:[r.action.label,t.jsx(Xi,{className:"ml-1 h-3 w-3"})]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:bg-white/10 hover:text-white",onClick:y=>y.stopPropagation(),children:t.jsx(rm,{className:"h-3 w-3"})})}),t.jsxs(Vn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsx(Jt,{onClick:y=>{y.stopPropagation(),r.read,s(r.id)},className:"text-gray-300 hover:bg-white/10 hover:text-white",children:r.read?t.jsxs(t.Fragment,{children:[t.jsx(ha,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Mark as Read"]})}),t.jsxs(Jt,{onClick:y=>{y.stopPropagation(),a(r.id)},className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]}),t.jsx("p",{className:"mb-3 line-clamp-2 text-sm leading-relaxed text-gray-400",children:r.message}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500",children:r.source}),((g=r.metadata)==null?void 0:g.tags)&&t.jsx("div",{className:"flex items-center gap-1",children:r.metadata.tags.slice(0,2).map((y,w)=>t.jsx(je,{variant:"outline",className:"border-gray-700 px-1.5 py-0 text-xs text-gray-400",children:y},w))})]})]})]})]})});function Gte(){const e=br(),[r,s]=p.useState(!1),[a,n]=p.useState(""),[i,o]=p.useState("all"),{notifications:l,markAsRead:d,markAllAsRead:m,removeNotification:h,clearAll:f,getUnreadCount:g,getFilteredNotifications:y}=om(),w=g(),v=ce.useMemo(()=>[...l.filter(A=>{const T=a===""||A.title.toLowerCase().includes(a.toLowerCase())||A.message.toLowerCase().includes(a.toLowerCase())||A.source.toLowerCase().includes(a.toLowerCase()),E=i==="all"||i==="unread"&&!A.read||i==="read"&&A.read;return T&&E})].sort((A,T)=>{if(A.read!==T.read)return A.read?1:-1;const E=A.timestamp instanceof Date?A.timestamp:new Date(A.timestamp);return(T.timestamp instanceof Date?T.timestamp:new Date(T.timestamp)).getTime()-E.getTime()}).slice(0,50),[l,a,i]),b=ce.useCallback(S=>{d(S)},[d]),N=ce.useCallback(S=>{h(S)},[h]),C=S=>{S!=null&&S.href&&window.open(S.href,"_blank"),S!=null&&S.callback&&S.callback()};return t.jsxs(Si,{open:r,onOpenChange:s,children:[t.jsx(Ci,{asChild:!0,children:t.jsxs("div",{className:"relative h-10 w-10 cursor-pointer inline-flex items-center justify-center bg-transparent border-none outline-none focus:outline-none",children:[t.jsx(To,{className:Le("h-5 w-5 transition-colors duration-200",r?"text-emerald-400":"text-gray-300 hover:text-white")}),w>0&&t.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 animate-pulse rounded-full bg-emerald-500 shadow-lg"})]})}),t.jsxs(Vn,{className:"w-96 border-gray-700/50 bg-gray-900/95 p-0 shadow-2xl backdrop-blur-sm",align:"end",sideOffset:8,children:[t.jsx("div",{className:"relative border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[t.jsx($o,{className:"h-4 w-4 text-gray-400"}),"Notifications"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:w>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-500"}),w===1?`${w} new notification`:`${w} new notifications`]}):"All caught up!"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[w>0&&t.jsxs(q,{variant:"ghost",size:"sm",onClick:m,className:"h-7 px-2 text-xs text-gray-300 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:[t.jsx(RN,{className:"mr-1 h-3 w-3"}),"Mark All Read"]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 transition-all duration-200 hover:bg-white/10 hover:text-white",children:t.jsx(is,{className:"h-4 w-4"})})}),t.jsxs(Vn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[t.jsxs(Jt,{onClick:f,className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Clear All"]}),t.jsxs(Jt,{className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Notification Settings"]})]})]})]})]})}),t.jsxs("div",{className:"space-y-2 border-b border-gray-800/30 p-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx(_e,{placeholder:"Search notifications...",value:a,onChange:S=>n(S.target.value),className:"h-8 border-gray-700/50 bg-gray-800/50 pl-8 text-xs text-white transition-all duration-200 placeholder:text-gray-500 focus:border-gray-600 focus:ring-0"})]}),t.jsx("div",{className:"flex items-center gap-1",children:["all","unread","read"].map(S=>t.jsxs(q,{variant:i===S?"default":"ghost",size:"sm",onClick:()=>o(S),className:Le("h-6 px-2 text-xs capitalize transition-all duration-200",i===S?"bg-gray-700 text-white hover:bg-gray-600":"text-gray-400 hover:bg-gray-800/50 hover:text-white"),children:[S==="all"?"All":S==="unread"?"Unread":"Read",S==="unread"&&w>0&&t.jsx(je,{className:"ml-1 border-0 bg-emerald-500 px-1 py-0 text-xs text-white",children:w})]},S))})]}),t.jsx(g0,{className:"h-80",children:t.jsx("div",{className:"p-1",children:v.length>0?t.jsx("div",{className:"space-y-1 p-2",children:v.map(S=>t.jsx(Kte,{notification:S,onMarkAsRead:b,onRemove:N,onAction:C},S.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[t.jsxs("div",{className:"relative",children:[t.jsx(To,{className:"mx-auto mb-4 h-16 w-16 opacity-30"}),t.jsx($o,{className:"absolute -right-1 -top-1 h-6 w-6 animate-pulse text-emerald-400"})]}),t.jsx("p",{className:"mb-2 text-lg font-medium",children:a?"No matching notifications":"All clear!"}),t.jsx("p",{className:"max-w-xs text-center text-sm text-gray-600",children:a?"Try adjusting your search or filters.":"No new notifications right now."})]})})}),t.jsxs("div",{className:"border-t border-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Us,{className:"h-3 w-3"}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{children:[v.length," shown"]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:[l.length," total"]})]})]}),t.jsx(q,{variant:"ghost",className:"mt-3 w-full h-9 text-sm text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>{s(!1),e("/notifications")},children:"View All Notifications"})]})]})]})}const Yte=[{title:"Platform Overview",titleKey:"platform_overview",url:"/platform",icon:Tx,isActive:e=>e==="/platform"||e==="/platform-owner"},{title:"Organizations",titleKey:"organizations",url:"/organizations",icon:cr,isActive:e=>e==="/organizations"||e.startsWith("/organization")},{title:"User Management",titleKey:"user_management",url:"/user-management",icon:ql,isActive:e=>e==="/user-management"},{title:"Platform Analytics",titleKey:"platform_analytics",url:"/platform-analytics",icon:ba,isActive:e=>e==="/platform-analytics"},{title:"Support Tickets",titleKey:"support_tickets",url:"/support-tickets",icon:Wh,isActive:e=>e==="/support-tickets"},{title:"System Health",titleKey:"system_health",url:"/system-health",icon:Us,isActive:e=>e==="/system-health"},{title:"Security & Audit",titleKey:"security_audit",url:"/audit-logs",icon:gs,isActive:e=>e==="/audit-logs"}],Jte=[{title:"Agency Dashboard",titleKey:"agency_dashboard",url:"/agency",icon:Tx,isActive:e=>e==="/agency"},{title:"Client Management",titleKey:"client_management",url:"/clients",icon:cr,isActive:e=>e==="/clients"||e.startsWith("/client/")},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:lr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:ba,isActive:e=>e==="/analytics"},{title:"Team",titleKey:"team",url:"/team-management",icon:bt,isActive:e=>e==="/team-management"},{title:"Billing",titleKey:"billing",url:"/billing",icon:Ji,isActive:e=>e==="/billing"},{title:"Settings",titleKey:"settings",url:"/settings",icon:is,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],Xte=[{title:"Dashboard",titleKey:"dashboard",url:"/dashboard",icon:Tx,isActive:e=>e==="/dashboard"},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:lr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"CRM",titleKey:"crm",url:"/crm",icon:Px,isActive:e=>e==="/crm"},{title:"Appointments",titleKey:"appointments",url:"/appointments",icon:_s,isActive:e=>e==="/appointments"},{title:"All Calls",titleKey:"all_calls",url:"/all-calls",icon:t0,isActive:e=>e==="/all-calls"},{title:"Live Monitor",titleKey:"live_monitor",url:"/live-calls",icon:tY,isActive:e=>e==="/live-calls"},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:ba,isActive:e=>e==="/analytics"},{title:"Cost Analytics",titleKey:"cost_analytics",url:"/cost-analytics",icon:Fr,isActive:e=>e==="/cost-analytics"},{title:"Team",titleKey:"team_management",url:"/team-management",icon:bt,isActive:e=>e==="/team-management"},{title:"Organization",titleKey:"organization",url:"/organization-settings",icon:cr,isActive:e=>e==="/organization-settings",adminOnly:!0},{title:"Settings",titleKey:"settings",url:"/settings",icon:is,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],Qte=()=>{var m,h,f;const e=Ql(),r=br(),{userContext:s}=ki(),{addNotification:a,notifications:n}=om(),[i,o]=p.useState(!1),{user:l}=gS();p.useEffect(()=>{var v;const g=(v=l==null?void 0:l.primaryEmailAddress)==null?void 0:v.emailAddress,w=["/dashboard","/campaigns","/crm","/all-calls","/live-calls"].some(b=>e.pathname.startsWith(b));g==="sean@artificialmedia.co.uk"&&w&&(console.log("🚀 Redirecting platform owner away from client path to /platform"),r("/platform",{replace:!0}))},[l,e.pathname,r]),p.useEffect(()=>{n.length===0&&(console.log("🔔 Layout: Initializing demo notifications"),a({type:"success",title:"Campaign Performance Alert",message:"Summer Sale campaign exceeded target conversion rate by 15%! Great job on the optimization.",category:"campaigns",priority:"medium",source:"Campaign Engine",read:!1,action:{label:"View Campaign",href:"/campaigns"}}),a({type:"warning",title:"Low Credit Balance",message:"VAPI credits running low. Current balance: 150 credits. Consider topping up.",category:"billing",priority:"high",source:"Billing System",read:!1,action:{label:"Add Credits",href:"/billing"}}),a({type:"info",title:"System Update Complete",message:"Platform has been updated to v2.1.3 with improved call quality and new analytics features.",category:"system",priority:"low",source:"System",read:!0}))},[n.length,a]);const d=p.useMemo(()=>{var y;const g=(y=s==null?void 0:s.role)==null?void 0:y.toLowerCase();switch(console.log("🎯 Layout: Determining menu for role:",g),g){case"platform_owner":return Yte;case"agency_owner":case"agency_admin":case"agency_user":return Jte;case"client_admin":case"client_user":default:return Xte}},[s==null?void 0:s.role]);return t.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>o(!1)}),t.jsxs("div",{className:`group relative transition-all duration-300 ease-in-out z-50 ${i?"fixed inset-y-0 left-0 w-[280px] md:relative md:w-16 md:hover:w-[280px]":"hidden md:block md:w-16 md:hover:w-[280px]"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-xl border-r border-cyan-400/10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-400/5 to-transparent pointer-events-none"}),t.jsxs("div",{className:"relative h-full flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-cyan-400 to-blue-500 shadow-lg shadow-cyan-400/20 flex-shrink-0",children:t.jsx(as,{className:"h-6 w-6 text-black font-bold"})}),t.jsxs("div",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap overflow-hidden ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[t.jsx("h1",{className:"text-xl font-bold text-cyan-400 uppercase tracking-wider",children:"Apex AI"}),t.jsx("p",{className:"text-xs text-white/60",children:"Voice AI Platform"})]})]})}),t.jsx("div",{className:"flex-1 py-5",children:t.jsx("nav",{className:"space-y-1",children:d.map(g=>{if(g.adminOnly&&(s==null?void 0:s.role)!=="client_admin"&&(s==null?void 0:s.role)!=="platform_owner")return null;const y=g.isActive(e.pathname);return t.jsxs(MW,{to:g.url,onClick:()=>o(!1),className:`
                      nav-item flex items-center px-4 py-3.5 text-sm font-medium transition-all duration-300 
                      border-l-3 relative mx-2 rounded-lg
                      ${y?"bg-cyan-400/10 text-cyan-400 border-l-cyan-400":"text-white/70 border-l-transparent hover:bg-cyan-400/5 hover:text-cyan-400 hover:border-l-cyan-400/30"}
                    `,children:[y&&t.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-transparent via-cyan-400 to-transparent"}),t.jsx(g.icon,{className:`
                      h-5 w-5 flex-shrink-0 transition-all duration-300
                      ${y?"text-cyan-400":"text-white/60 group-hover:text-cyan-400"}
                    `}),t.jsx("span",{className:`ml-3 tracking-wide whitespace-nowrap overflow-hidden transition-opacity duration-300 ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:g.title}),g.badge&&t.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded-full animate-pulse opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.badge})]},g.title)})})}),t.jsx("div",{className:"p-4 border-t border-cyan-400/10",children:t.jsxs("div",{className:"flex items-center cursor-pointer transition-all duration-300",children:[t.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center font-semibold text-black text-sm flex-shrink-0",children:[((m=s==null?void 0:s.firstName)==null?void 0:m[0])||"U",((h=s==null?void 0:s.lastName)==null?void 0:h[0])||"U"]}),t.jsxs("div",{className:"ml-3 flex-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap overflow-hidden",children:[t.jsxs("div",{className:"text-sm font-semibold text-white",children:[(s==null?void 0:s.firstName)||"User"," ",(s==null?void 0:s.lastName)||""]}),t.jsx("div",{className:"text-xs text-white/60",children:((f=s==null?void 0:s.role)==null?void 0:f.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase()))||"User"})]})]})})]})]}),t.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-gray-900/50 via-black to-gray-900/50",children:[t.jsxs("header",{className:"h-[70px] bg-black/95 backdrop-blur-xl border-b border-cyan-400/10 flex items-center justify-between px-4 sm:px-6 lg:px-8 relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>o(!i),children:t.jsx(ZG,{className:"h-5 w-5"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white tracking-wide",children:(()=>{const g=d.find(y=>y.isActive(e.pathname));return g?g.title:"Dashboard"})()})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-5",children:[t.jsx(Gte,{}),t.jsx(xee,{})]})]}),t.jsx("main",{className:"flex-1 overflow-auto bg-black",children:t.jsx(bW,{})})]})]})},Zte=1,ere=1e6;let hw=0;function tre(){return hw=(hw+1)%Number.MAX_SAFE_INTEGER,hw.toString()}const fw=new Map,WA=e=>{if(fw.has(e))return;const r=setTimeout(()=>{fw.delete(e),Dh({type:"REMOVE_TOAST",toastId:e})},ere);fw.set(e,r)},rre=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Zte)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?WA(s):e.toasts.forEach(a=>{WA(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)}}},Bg=[];let Wg={toasts:[]};function Dh(e){Wg=rre(Wg,e),Bg.forEach(r=>{r(Wg)})}function pD({...e}){const r=tre(),s=n=>Dh({type:"UPDATE_TOAST",toast:{...n,id:r}}),a=()=>Dh({type:"DISMISS_TOAST",toastId:r});return Dh({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:n=>{n||a()}}}),{id:r,dismiss:a,update:s}}function cs(){const[e,r]=p.useState(Wg);return p.useEffect(()=>(Bg.push(r),()=>{const s=Bg.indexOf(r);s>-1&&Bg.splice(s,1)}),[e]),{...e,toast:pD,dismiss:s=>Dh({type:"DISMISS_TOAST",toastId:s})}}var gD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sre="VisuallyHidden",eC=p.forwardRef((e,r)=>t.jsx(He.span,{...e,ref:r,style:{...gD,...e.style}}));eC.displayName=sre;var tC="ToastProvider",[rC,are,nre]=bf("Toast"),[xD,j1e]=qs("Toast",[nre]),[ire,Hx]=xD(tC),yD=e=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,d]=p.useState(null),[m,h]=p.useState(0),f=p.useRef(!1),g=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${tC}\`. Expected non-empty \`string\`.`),t.jsx(rC.Provider,{scope:r,children:t.jsx(ire,{scope:r,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:m,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};yD.displayName=tC;var vD="ToastViewport",ore=["F8"],HN="toast.viewportPause",KN="toast.viewportResume",bD=p.forwardRef((e,r)=>{const{__scopeToast:s,hotkey:a=ore,label:n="Notifications ({hotkey})",...i}=e,o=Hx(vD,s),l=are(s),d=p.useRef(null),m=p.useRef(null),h=p.useRef(null),f=p.useRef(null),g=ut(r,f,o.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const b=N=>{var S;a.length!==0&&a.every(_=>N[_]||N.code===_)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),p.useEffect(()=>{const b=d.current,N=f.current;if(w&&b&&N){const C=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(HN);N.dispatchEvent(T),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(KN);N.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!b.contains(T.relatedTarget)&&S()},A=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",C),b.addEventListener("focusout",_),b.addEventListener("pointermove",C),b.addEventListener("pointerleave",A),window.addEventListener("blur",C),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",C),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",C),b.removeEventListener("pointerleave",A),window.removeEventListener("blur",C),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:b})=>{const C=l().map(S=>{const _=S.ref.current,A=[_,...bre(_)];return b==="forwards"?A:A.reverse()});return(b==="forwards"?C.reverse():C).flat()},[l]);return p.useEffect(()=>{const b=f.current;if(b){const N=C=>{var A,T,E;const S=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!S){const M=document.activeElement,L=C.shiftKey;if(C.target===b&&L){(A=m.current)==null||A.focus();return}const I=v({tabbingDirection:L?"backwards":"forwards"}),W=I.findIndex(V=>V===M);pw(I.slice(W+1))?C.preventDefault():L?(T=m.current)==null||T.focus():(E=h.current)==null||E.focus()}};return b.addEventListener("keydown",N),()=>b.removeEventListener("keydown",N)}},[l,v]),t.jsxs(mJ,{ref:d,role:"region","aria-label":n.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&t.jsx(GN,{ref:m,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});pw(b)}}),t.jsx(rC.Slot,{scope:s,children:t.jsx(He.ol,{tabIndex:-1,...i,ref:g})}),w&&t.jsx(GN,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});pw(b)}})]})});bD.displayName=vD;var wD="ToastFocusProxy",GN=p.forwardRef((e,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=Hx(wD,s);return t.jsx(eC,{"aria-hidden":!0,tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:o=>{var m;const l=o.relatedTarget;!((m=i.viewport)!=null&&m.contains(l))&&a()}})});GN.displayName=wD;var Af="Toast",lre="toast.swipeStart",cre="toast.swipeMove",dre="toast.swipeCancel",ure="toast.swipeEnd",jD=p.forwardRef((e,r)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,d]=wi({prop:a,defaultProp:n??!0,onChange:i,caller:Af});return t.jsx(ja,{present:s||l,children:t.jsx(fre,{open:l,...o,ref:r,onClose:()=>d(!1),onPause:Qr(e.onPause),onResume:Qr(e.onResume),onSwipeStart:De(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(e.onSwipeMove,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:De(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(e.onSwipeEnd,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});jD.displayName=Af;var[mre,hre]=xD(Af,{onClose(){}}),fre=p.forwardRef((e,r)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:m,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:y,...w}=e,v=Hx(Af,s),[b,N]=p.useState(null),C=ut(r,V=>N(V)),S=p.useRef(null),_=p.useRef(null),A=n||v.duration,T=p.useRef(0),E=p.useRef(A),M=p.useRef(0),{onToastAdd:L,onToastRemove:H}=v,O=Qr(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=v.viewport)==null||U.focus()),o()}),I=p.useCallback(V=>{!V||V===1/0||(window.clearTimeout(M.current),T.current=new Date().getTime(),M.current=window.setTimeout(O,V))},[O]);p.useEffect(()=>{const V=v.viewport;if(V){const U=()=>{I(E.current),m==null||m()},$=()=>{const R=new Date().getTime()-T.current;E.current=E.current-R,window.clearTimeout(M.current),d==null||d()};return V.addEventListener(HN,$),V.addEventListener(KN,U),()=>{V.removeEventListener(HN,$),V.removeEventListener(KN,U)}}},[v.viewport,A,d,m,I]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&I(A)},[i,A,v.isClosePausedRef,I]),p.useEffect(()=>(L(),()=>H()),[L,H]);const W=p.useMemo(()=>b?AD(b):null,[b]);return v.viewport?t.jsxs(t.Fragment,{children:[W&&t.jsx(pre,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),t.jsx(mre,{scope:s,onClose:O,children:Jl.createPortal(t.jsx(rC.ItemSlot,{scope:s,children:t.jsx(uJ,{asChild:!0,onEscapeKeyDown:De(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:De(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:De(e.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:De(e.onPointerMove,V=>{if(!S.current)return;const U=V.clientX-S.current.x,$=V.clientY-S.current.y,R=!!_.current,F=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,K=F?z(0,U):0,B=F?0:z(0,$),Q=V.pointerType==="touch"?10:2,Ce={x:K,y:B},Z={originalEvent:V,delta:Ce};R?(_.current=Ce,bg(cre,f,Z,{discrete:!1})):VA(Ce,v.swipeDirection,Q)?(_.current=Ce,bg(lre,h,Z,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(U)>Q||Math.abs($)>Q)&&(S.current=null)}),onPointerUp:De(e.onPointerUp,V=>{const U=_.current,$=V.target;if($.hasPointerCapture(V.pointerId)&&$.releasePointerCapture(V.pointerId),_.current=null,S.current=null,U){const R=V.currentTarget,F={originalEvent:V,delta:U};VA(U,v.swipeDirection,v.swipeThreshold)?bg(ure,y,F,{discrete:!0}):bg(dre,g,F,{discrete:!0}),R.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pre=e=>{const{__scopeToast:r,children:s,...a}=e,n=Hx(Af,r),[i,o]=p.useState(!1),[l,d]=p.useState(!1);return yre(()=>o(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:t.jsx(Sf,{asChild:!0,children:t.jsx(eC,{...a,children:i&&t.jsxs(t.Fragment,{children:[n.label," ",s]})})})},gre="ToastTitle",ND=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});ND.displayName=gre;var xre="ToastDescription",SD=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e;return t.jsx(He.div,{...a,ref:r})});SD.displayName=xre;var CD="ToastAction",kD=p.forwardRef((e,r)=>{const{altText:s,...a}=e;return s.trim()?t.jsx(PD,{altText:s,asChild:!0,children:t.jsx(sC,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${CD}\`. Expected non-empty \`string\`.`),null)});kD.displayName=CD;var _D="ToastClose",sC=p.forwardRef((e,r)=>{const{__scopeToast:s,...a}=e,n=hre(_D,s);return t.jsx(PD,{asChild:!0,children:t.jsx(He.button,{type:"button",...a,ref:r,onClick:De(e.onClick,n.onClose)})})});sC.displayName=_D;var PD=p.forwardRef((e,r)=>{const{__scopeToast:s,altText:a,...n}=e;return t.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:r})});function AD(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),vre(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...AD(a))}}),r}function bg(e,r,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&n.addEventListener(e,r,{once:!0}),a?_S(n,i):n.dispatchEvent(i)}var VA=(e,r,s=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return r==="left"||r==="right"?i&&a>s:!i&&n>s};function yre(e=()=>{}){const r=Qr(e);os(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function vre(e){return e.nodeType===e.ELEMENT_NODE}function bre(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function pw(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var wre=yD,ED=bD,TD=jD,OD=ND,MD=SD,RD=kD,ID=sC;const jre=wre,DD=p.forwardRef(({className:e,...r},s)=>t.jsx(ED,{ref:s,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));DD.displayName=ED.displayName;const Nre=vf("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),LD=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx(TD,{ref:a,className:Le(Nre({variant:r}),e),...s}));LD.displayName=TD.displayName;const Sre=p.forwardRef(({className:e,...r},s)=>t.jsx(RD,{ref:s,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",e),...r}));Sre.displayName=RD.displayName;const $D=p.forwardRef(({className:e,...r},s)=>t.jsx(ID,{ref:s,className:Le("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...r,children:t.jsx(St,{className:"h-4 w-4"})}));$D.displayName=ID.displayName;const zD=p.forwardRef(({className:e,...r},s)=>t.jsx(OD,{ref:s,className:Le("text-sm font-semibold [&+div]:text-xs",e),...r}));zD.displayName=OD.displayName;const FD=p.forwardRef(({className:e,...r},s)=>t.jsx(MD,{ref:s,className:Le("text-sm opacity-90",e),...r}));FD.displayName=MD.displayName;function Cre(){const{toasts:e}=cs();return t.jsxs(jre,{children:[e.map(function({id:r,title:s,description:a,action:n,...i}){return t.jsxs(LD,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(zD,{children:s}),a&&t.jsx(FD,{children:a})]}),n,t.jsx($D,{})]},r)}),t.jsx(DD,{})]})}var gw={},xw={},qA;function kre(){return qA||(qA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r}(xw)),xw}var yw={},HA;function UD(){return HA||(HA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r}(yw)),yw}var vw={},KA;function BD(){return KA||(KA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r}(vw)),vw}var bw={},GA;function aC(){return GA||(GA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){const a=[],n=s.length;if(n===0)return a;let i=0,o="",l="",d=!1;for(s.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const m=s[i];l?m==="\\"&&i+1<n?(i++,o+=s[i]):m===l?l="":o+=m:d?m==='"'||m==="'"?l=m:m==="]"?(d=!1,a.push(o),o=""):o+=m:m==="["?(d=!0,o&&(a.push(o),o="")):m==="."?o&&(a.push(o),o=""):o+=m,i++}return o&&a.push(o),a}e.toPath=r}(bw)),bw}var YA;function nC(){return YA||(YA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=kre(),s=UD(),a=BD(),n=aC();function i(l,d,m){if(l==null)return m;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?s.isDeepKey(d)?i(l,n.toPath(d),m):m:h}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const h=l[d];return h===void 0?m:h}default:{if(Array.isArray(d))return o(l,d,m);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return m;const h=l[d];return h===void 0?m:h}}}function o(l,d,m){if(d.length===0)return m;let h=l;for(let f=0;f<d.length;f++){if(h==null||r.isUnsafeProperty(d[f]))return m;h=h[d[f]]}return h===void 0?m:h}e.get=i}(gw)),gw}var ww,JA;function _re(){return JA||(JA=1,ww=nC().get),ww}var Pre=_re();const Gl=vn(Pre);var jw={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function Are(){if(XA)return hr;XA=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case e:switch(b=b.type,b){case s:case n:case a:case m:case h:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case d:case g:case f:case i:return b;default:return N}}case r:return N}}}return hr.ContextConsumer=o,hr.ContextProvider=i,hr.Element=e,hr.ForwardRef=d,hr.Fragment=s,hr.Lazy=g,hr.Memo=f,hr.Portal=r,hr.Profiler=n,hr.StrictMode=a,hr.Suspense=m,hr.SuspenseList=h,hr.isAsyncMode=function(){return!1},hr.isConcurrentMode=function(){return!1},hr.isContextConsumer=function(b){return v(b)===o},hr.isContextProvider=function(b){return v(b)===i},hr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},hr.isForwardRef=function(b){return v(b)===d},hr.isFragment=function(b){return v(b)===s},hr.isLazy=function(b){return v(b)===g},hr.isMemo=function(b){return v(b)===f},hr.isPortal=function(b){return v(b)===r},hr.isProfiler=function(b){return v(b)===n},hr.isStrictMode=function(b){return v(b)===a},hr.isSuspense=function(b){return v(b)===m},hr.isSuspenseList=function(b){return v(b)===h},hr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===s||b===n||b===a||b===m||b===h||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===f||b.$$typeof===i||b.$$typeof===o||b.$$typeof===d||b.$$typeof===w||b.getModuleId!==void 0)},hr.typeOf=v,hr}var QA;function Ere(){return QA||(QA=1,jw.exports=Are()),jw.exports}var Tre=Ere(),Fs=e=>e===0?0:e>0?1:-1,Xa=e=>typeof e=="number"&&e!=+e,Fc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ve=e=>(typeof e=="number"||e instanceof Number)&&!Xa(e),eo=e=>Ve(e)||typeof e=="string",Ore=0,Jh=e=>{var r=++Ore;return"".concat(e||"").concat(r)},Ta=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(r)&&typeof r!="string")return a;var i;if(Fc(r)){if(s==null)return a;var o=r.indexOf("%");i=s*parseFloat(r.slice(0,o))/100}else i=+r;return Xa(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},WD=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},ZA=(e,r)=>Ve(e)&&Ve(r)?s=>e+s*(r-e):()=>r;function ea(e,r,s){return Ve(e)&&Ve(r)?e+s*(r-e):r}function VD(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):Gl(a,r))===s)}var Er=e=>e===null||typeof e>"u",Ef=e=>Er(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Mre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iC(e){if(typeof e!="string")return!1;var r=Mre;return r.includes(e)}var Rre=["viewBox","children"],eE=["points","pathLength"],Nw={svg:Rre,polygon:eE,polyline:eE},oC=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(p.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{iC(n)&&(a[n]=i=>s[n](s,i))}),a},Ire=(e,r,s)=>a=>(e(r,s,a),null),Kx=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];iC(n)&&typeof i=="function"&&(a||(a={}),a[n]=Ire(i,r,s))}),a},Dre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function qD(e){if(typeof e!="string")return!1;var r=Dre;return r.includes(e)}function _i(e){var r=Object.entries(e).filter(s=>{var[a]=s;return qD(a)});return Object.fromEntries(r)}var tE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",rE=null,Sw=null,HD=e=>{if(e===rE&&Array.isArray(Sw))return Sw;var r=[];return p.Children.forEach(e,s=>{Er(s)||(Tre.isFragment(s)?r=r.concat(HD(s.props.children)):r.push(s))}),Sw=r,rE=e,r};function Tf(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>tE(n)):a=[tE(r)],HD(e).forEach(n=>{var i=Gl(n,"type.displayName")||Gl(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}var Gx=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Lre=(e,r,s,a)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=a&&(Nw==null?void 0:Nw[a]))!==null&&n!==void 0?n:[],o=r.startsWith("data-"),l=typeof e!="function"&&(!!a&&i.includes(r)||qD(r)),d=!!s&&iC(r);return o||l||d},Ar=(e,r,s)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var o;Lre((o=a)===null||o===void 0?void 0:o[i],i,r,s)&&(n[i]=a[i])}),n},$re=["children","width","height","viewBox","className","style","title","desc"];function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},YN.apply(null,arguments)}function zre(e,r){if(e==null)return{};var s,a,n=Fre(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fre(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var KD=p.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:o,style:l,title:d,desc:m}=e,h=zre(e,$re),f=i||{width:a,height:n,x:0,y:0},g=Xt("recharts-surface",o);return p.createElement("svg",YN({},Ar(h,!0,"svg"),{className:g,width:a,height:n,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:r}),p.createElement("title",null,d),p.createElement("desc",null,m),s)}),Ure=["children","className"];function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},JN.apply(null,arguments)}function Bre(e,r){if(e==null)return{};var s,a,n=Wre(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wre(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ls=p.forwardRef((e,r)=>{var{children:s,className:a}=e,n=Bre(e,Ure),i=Xt("recharts-layer",a);return p.createElement("g",JN({className:i},Ar(n,!0),{ref:r}),s)}),Vre=p.createContext(null);function Pr(e){return function(){return e}}const GD=Math.cos,x0=Math.sin,Pi=Math.sqrt,y0=Math.PI,Yx=2*y0,XN=Math.PI,QN=2*XN,Dc=1e-6,qre=QN-Dc;function YD(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function Hre(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return YD;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class Kre{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?YD:Hre(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,o){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-r,m=n-s,h=o-r,f=l-s,g=h*h+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(g>Dc)if(!(Math.abs(f*d-m*h)>Dc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let y=a-o,w=n-l,v=d*d+m*m,b=y*y+w*w,N=Math.sqrt(v),C=Math.sqrt(g),S=i*Math.tan((XN-Math.acos((v+g-b)/(2*N*C)))/2),_=S/C,A=S/N;Math.abs(_-1)>Dc&&this._append`L${r+_*h},${s+_*f}`,this._append`A${i},${i},0,0,${+(f*y>h*w)},${this._x1=r+A*d},${this._y1=s+A*m}`}}arc(r,s,a,n,i,o){if(r=+r,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),d=a*Math.sin(n),m=r+l,h=s+d,f=1^o,g=o?n-i:i-n;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Dc||Math.abs(this._y1-h)>Dc)&&this._append`L${m},${h}`,a&&(g<0&&(g=g%QN+QN),g>qre?this._append`A${a},${a},0,1,${f},${r-l},${s-d}A${a},${a},0,1,${f},${this._x1=m},${this._y1=h}`:g>Dc&&this._append`A${a},${a},0,${+(g>=XN)},${f},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function lC(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new Kre(r)}function cC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JD(e){this._context=e}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Jx(e){return new JD(e)}function XD(e){return e[0]}function QD(e){return e[1]}function ZD(e,r){var s=Pr(!0),a=null,n=Jx,i=null,o=lC(l);e=typeof e=="function"?e:e===void 0?XD:Pr(e),r=typeof r=="function"?r:r===void 0?QD:Pr(r);function l(d){var m,h=(d=cC(d)).length,f,g=!1,y;for(a==null&&(i=n(y=o())),m=0;m<=h;++m)!(m<h&&s(f=d[m],m,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,m,d),+r(f,m,d));if(y)return i=null,y+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Pr(+d),l):e},l.y=function(d){return arguments.length?(r=typeof d=="function"?d:Pr(+d),l):r},l.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Pr(!!d),l):s},l.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),l):n},l.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),l):a},l}function wg(e,r,s){var a=null,n=Pr(!0),i=null,o=Jx,l=null,d=lC(m);e=typeof e=="function"?e:e===void 0?XD:Pr(+e),r=typeof r=="function"?r:Pr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?QD:Pr(+s);function m(f){var g,y,w,v=(f=cC(f)).length,b,N=!1,C,S=new Array(v),_=new Array(v);for(i==null&&(l=o(C=d())),g=0;g<=v;++g){if(!(g<v&&n(b=f[g],g,f))===N)if(N=!N)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=y;--w)l.point(S[w],_[w]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+e(b,g,f),_[g]=+r(b,g,f),l.point(a?+a(b,g,f):S[g],s?+s(b,g,f):_[g]))}if(C)return l=null,C+""||null}function h(){return ZD().defined(n).curve(o).context(i)}return m.x=function(f){return arguments.length?(e=typeof f=="function"?f:Pr(+f),a=null,m):e},m.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Pr(+f),m):e},m.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Pr(+f),m):a},m.y=function(f){return arguments.length?(r=typeof f=="function"?f:Pr(+f),s=null,m):r},m.y0=function(f){return arguments.length?(r=typeof f=="function"?f:Pr(+f),m):r},m.y1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Pr(+f),m):s},m.lineX0=m.lineY0=function(){return h().x(e).y(r)},m.lineY1=function(){return h().x(e).y(s)},m.lineX1=function(){return h().x(a).y(r)},m.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Pr(!!f),m):n},m.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),m):o},m.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),m):i},m}class eL{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function Gre(e){return new eL(e,!0)}function Yre(e){return new eL(e,!1)}const dC={draw(e,r){const s=Pi(r/y0);e.moveTo(s,0),e.arc(0,0,s,0,Yx)}},Jre={draw(e,r){const s=Pi(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},tL=Pi(1/3),Xre=tL*2,Qre={draw(e,r){const s=Pi(r/Xre),a=s*tL;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},Zre={draw(e,r){const s=Pi(r),a=-s/2;e.rect(a,a,s,s)}},ese=.8908130915292852,rL=x0(y0/10)/x0(7*y0/10),tse=x0(Yx/10)*rL,rse=-GD(Yx/10)*rL,sse={draw(e,r){const s=Pi(r*ese),a=tse*s,n=rse*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const o=Yx*i/5,l=GD(o),d=x0(o);e.lineTo(d*s,-l*s),e.lineTo(l*a-d*n,d*a+l*n)}e.closePath()}},Cw=Pi(3),ase={draw(e,r){const s=-Pi(r/(Cw*3));e.moveTo(0,s*2),e.lineTo(-Cw*s,-s),e.lineTo(Cw*s,-s),e.closePath()}},En=-.5,Tn=Pi(3)/2,ZN=1/Pi(12),nse=(ZN/2+1)*3,ise={draw(e,r){const s=Pi(r/nse),a=s/2,n=s*ZN,i=a,o=s*ZN+s,l=-i,d=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(En*a-Tn*n,Tn*a+En*n),e.lineTo(En*i-Tn*o,Tn*i+En*o),e.lineTo(En*l-Tn*d,Tn*l+En*d),e.lineTo(En*a+Tn*n,En*n-Tn*a),e.lineTo(En*i+Tn*o,En*o-Tn*i),e.lineTo(En*l+Tn*d,En*d-Tn*l),e.closePath()}};function ose(e,r){let s=null,a=lC(n);e=typeof e=="function"?e:Pr(e||dC),r=typeof r=="function"?r:Pr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Pr(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Pr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function v0(){}function b0(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function sL(e){this._context=e}sL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:b0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:b0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function lse(e){return new sL(e)}function aL(e){this._context=e}aL.prototype={areaStart:v0,areaEnd:v0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:b0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function cse(e){return new aL(e)}function nL(e){this._context=e}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:b0(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function dse(e){return new nL(e)}function iL(e){this._context=e}iL.prototype={areaStart:v0,areaEnd:v0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function use(e){return new iL(e)}function sE(e){return e<0?-1:1}function aE(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(s-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(sE(i)+sE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function nE(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function kw(e,r,s){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*r,i-l,o-l*s,i,o)}function w0(e){this._context=e}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kw(this,this._t0,nE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,kw(this,nE(this,s=aE(this,e,r)),s);break;default:kw(this,this._t0,s=aE(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function oL(e){this._context=new lL(e)}(oL.prototype=Object.create(w0.prototype)).point=function(e,r){w0.prototype.point.call(this,r,e)};function lL(e){this._context=e}lL.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function mse(e){return new w0(e)}function hse(e){return new oL(e)}function cL(e){this._context=e}cL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=iE(e),n=iE(r),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],r[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function iE(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(n[s-1]=o[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function fse(e){return new cL(e)}function Xx(e,r){this._context=e,this._t=r}Xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function pse(e){return new Xx(e,.5)}function gse(e){return new Xx(e,0)}function xse(e){return new Xx(e,1)}function Wu(e,r){if((o=e.length)>1)for(var s=1,a,n,i=e[r[0]],o,l=i.length;s<o;++s)for(n=i,i=e[r[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function e1(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function yse(e,r){return e[r]}function vse(e){const r=[];return r.key=e,r}function bse(){var e=Pr([]),r=e1,s=Wu,a=yse;function n(i){var o=Array.from(e.apply(this,arguments),vse),l,d=o.length,m=-1,h;for(const f of i)for(l=0,++m;l<d;++l)(o[l][m]=[0,+a(f,o[l].key,m,i)]).data=f;for(l=0,h=cC(r(o));l<d;++l)o[h[l]].index=l;return s(o,h),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Pr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Pr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?e1:typeof i=="function"?i:Pr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??Wu,n):s},n}function wse(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<a;++s)e[s][n][1]/=o}Wu(e,r)}}function jse(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}Wu(e,r)}}function Nse(e,r){if(!(!((o=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,d=0,m=0;l<o;++l){for(var h=e[r[l]],f=h[a][1]||0,g=h[a-1][1]||0,y=(f-g)/2,w=0;w<l;++w){var v=e[r[w]],b=v[a][1]||0,N=v[a-1][1]||0;y+=b-N}d+=f,m+=y*f}n[a-1][1]+=n[a-1][0]=s,d&&(s-=m/d)}n[a-1][1]+=n[a-1][0]=s,Wu(e,r)}}var Sse=["type","size","sizeType"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},t1.apply(null,arguments)}function oE(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function lE(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?oE(Object(s),!0).forEach(function(a){Cse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cse(e,r,s){return(r=kse(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kse(e){var r=_se(e,"string");return typeof r=="symbol"?r:r+""}function _se(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pse(e,r){if(e==null)return{};var s,a,n=Ase(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ase(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var dL={symbolCircle:dC,symbolCross:Jre,symbolDiamond:Qre,symbolSquare:Zre,symbolStar:sse,symbolTriangle:ase,symbolWye:ise},Ese=Math.PI/180,Tse=e=>{var r="symbol".concat(Ef(e));return dL[r]||dC},Ose=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Ese;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mse=(e,r)=>{dL["symbol".concat(Ef(e))]=r},uL=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=Pse(e,Sse),i=lE(lE({},n),{},{type:r,size:s,sizeType:a}),o=()=>{var f=Tse(r),g=ose().type(f).size(Ose(s,a,r));return g()},{className:l,cx:d,cy:m}=i,h=Ar(i,!0);return d===+d&&m===+m&&s===+s?p.createElement("path",t1({},h,{className:Xt("recharts-symbols",l),transform:"translate(".concat(d,", ").concat(m,")"),d:o()})):null};uL.registerSymbol=Mse;var _w={},Pw={},cE;function Rse(){return cE||(cE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const o=s[i],l=a(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}e.uniqBy=r}(Pw)),Pw}var Aw={},dE;function mL(){return dE||(dE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r}(Aw)),Aw}var Ew={},Tw={},Ow={},uE;function Ise(){return uE||(uE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r}(Ow)),Ow}var mE;function uC(){return mE||(mE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Ise();function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s}(Tw)),Tw}var Mw={},hE;function Dse(){return hE||(hE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r}(Mw)),Mw}var fE;function Lse(){return fE||(fE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=uC(),s=Dse();function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a}(Ew)),Ew}var Rw={},Iw={},pE;function $se(){return pE||(pE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=nC();function s(a){return function(n){return r.get(n,a)}}e.property=s}(Iw)),Iw}var Dw={},Lw={},$w={},zw={},gE;function hL(){return gE||(gE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r}(zw)),zw}var Fw={},xE;function fL(){return xE||(xE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r}(Fw)),Fw}var Uw={},yE;function mC(){return yE||(yE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r}(Uw)),Uw}var vE;function zse(){return vE||(vE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=hC(),s=hL(),a=fL(),n=mC();function i(f,g,y){return typeof y!="function"?r.isMatch(f,g):o(f,g,function w(v,b,N,C,S,_){const A=y(v,b,N,C,S,_);return A!==void 0?!!A:o(v,b,w,_)},new Map)}function o(f,g,y,w){if(g===f)return!0;switch(typeof g){case"object":return l(f,g,y,w);case"function":return Object.keys(g).length>0?o(f,{...g},y,w):n.eq(f,g);default:return s.isObject(f)?typeof g=="string"?g==="":!0:n.eq(f,g)}}function l(f,g,y,w){if(g==null)return!0;if(Array.isArray(g))return m(f,g,y,w);if(g instanceof Map)return d(f,g,y,w);if(g instanceof Set)return h(f,g,y,w);const v=Object.keys(g);if(f==null)return v.length===0;if(v.length===0)return!0;if(w&&w.has(g))return w.get(g)===f;w&&w.set(g,f);try{for(let b=0;b<v.length;b++){const N=v[b];if(!a.isPrimitive(f)&&!(N in f)||g[N]===void 0&&f[N]!==void 0||g[N]===null&&f[N]!==null||!y(f[N],g[N],N,f,g,w))return!1}return!0}finally{w&&w.delete(g)}}function d(f,g,y,w){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,b]of g.entries()){const N=f.get(v);if(y(N,b,v,f,g,w)===!1)return!1}return!0}function m(f,g,y,w){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let b=0;b<g.length;b++){const N=g[b];let C=!1;for(let S=0;S<f.length;S++){if(v.has(S))continue;const _=f[S];let A=!1;if(y(_,N,b,f,g,w)&&(A=!0),A){v.add(S),C=!0;break}}if(!C)return!1}return!0}function h(f,g,y,w){return g.size===0?!0:f instanceof Set?m([...f],[...g],y,w):!1}e.isMatchWith=i,e.isSetMatch=h}($w)),$w}var bE;function hC(){return bE||(bE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zse();function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s}(Lw)),Lw}var Bw={},Ww={},Vw={},wE;function pL(){return wE||(wE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r}(Vw)),Vw}var qw={},jE;function fC(){return jE||(jE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r}(qw)),qw}var Hw={},NE;function pC(){return NE||(NE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",m="[object Set]",h="[object Array]",f="[object Function]",g="[object ArrayBuffer]",y="[object Object]",w="[object Error]",v="[object DataView]",b="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",_="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",E="[object Int32Array]",M="[object BigInt64Array]",L="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=_,e.booleanTag=n,e.dataViewTag=v,e.dateTag=l,e.errorTag=w,e.float32ArrayTag=L,e.float64ArrayTag=H,e.functionTag=f,e.int16ArrayTag=T,e.int32ArrayTag=E,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=a,e.objectTag=y,e.regexpTag=r,e.setTag=m,e.stringTag=s,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=N}(Hw)),Hw}var Kw={},SE;function Fse(){return SE||(SE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r}(Kw)),Kw}var CE;function gL(){return CE||(CE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=pL(),s=fC(),a=pC(),n=fL(),i=Fse();function o(h,f){return l(h,void 0,h,new Map,f)}function l(h,f,g,y=new Map,w=void 0){const v=w==null?void 0:w(h,f,g,y);if(v!==void 0)return v;if(n.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const b=new Array(h.length);y.set(h,b);for(let N=0;N<h.length;N++)b[N]=l(h[N],N,g,y,w);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;y.set(h,b);for(const[N,C]of h)b.set(N,l(C,N,g,y,w));return b}if(h instanceof Set){const b=new Set;y.set(h,b);for(const N of h)b.add(l(N,void 0,g,y,w));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,b);for(let N=0;N<h.length;N++)b[N]=l(h[N],N,g,y,w);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,b),d(b,h,g,y,w),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return y.set(h,b),d(b,h,g,y,w),b}if(h instanceof Blob){const b=new Blob([h],{type:h.type});return y.set(h,b),d(b,h,g,y,w),b}if(h instanceof Error){const b=new h.constructor;return y.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,d(b,h,g,y,w),b}if(typeof h=="object"&&m(h)){const b=Object.create(Object.getPrototypeOf(h));return y.set(h,b),d(b,h,g,y,w),b}return h}function d(h,f,g=h,y,w){const v=[...Object.keys(f),...r.getSymbols(f)];for(let b=0;b<v.length;b++){const N=v[b],C=Object.getOwnPropertyDescriptor(h,N);(C==null||C.writable)&&(h[N]=l(f[N],N,g,y,w))}}function m(h){switch(s.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d}(Ww)),Ww}var kE;function Use(){return kE||(kE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=gL();function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s}(Bw)),Bw}var _E;function Bse(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=hC(),s=Use();function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a}(Dw)),Dw}var Gw={},Yw={},Jw={},PE;function Wse(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=gL(),s=pC();function a(n,i){return r.cloneDeepWith(n,(o,l,d,m)=>{const h=i==null?void 0:i(o,l,d,m);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const f=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(f,n),f}case s.argumentsTag:{const f={};return r.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a}(Jw)),Jw}var AE;function Vse(){return AE||(AE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Wse();function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s}(Yw)),Yw}var Xw={},Qw={},EE;function xL(){return EE||(EE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s}(Qw)),Qw}var Zw={},TE;function qse(){return TE||(TE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=fC();function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s}(Zw)),Zw}var OE;function Hse(){return OE||(OE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=UD(),s=xL(),a=qse(),n=aC();function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&r.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=n.toPath(l):d=[l],d.length===0)return!1;let m=o;for(let h=0;h<d.length;h++){const f=d[h];if((m==null||!Object.hasOwn(m,f))&&!((Array.isArray(m)||a.isArguments(m))&&s.isIndex(f)&&f<m.length))return!1;m=m[f]}return!0}e.has=i}(Xw)),Xw}var ME;function Kse(){return ME||(ME=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=hC(),s=BD(),a=Vse(),n=nC(),i=Hse();function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=s.toKey(l);break}}return d=a.cloneDeep(d),function(m){const h=n.get(m,l);return h===void 0?i.has(m,l):d===void 0?h===void 0:r.isMatch(h,d)}}e.matchesProperty=o}(Gw)),Gw}var RE;function Gse(){return RE||(RE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=mL(),s=$se(),a=Bse(),n=Kse();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return s.property(o)}}e.iteratee=i}(Rw)),Rw}var IE;function Yse(){return IE||(IE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Rse(),s=mL(),a=Lse(),n=Gse();function i(o,l=s.identity){return a.isArrayLikeObject(o)?r.uniqBy(Array.from(o),n.iteratee(l)):[]}e.uniqBy=i}(_w)),_w}var ej,DE;function Jse(){return DE||(DE=1,ej=Yse().uniqBy),ej}var Xse=Jse();const LE=vn(Xse);function Qse(e,r,s){return r===!0?LE(e,s):typeof r=="function"?LE(e,r):e}var tj={exports:{}},rj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function Zse(){if($E)return rj;$E=1;var e=Xu(),r=LO();function s(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:s,n=r.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return rj.useSyncExternalStoreWithSelector=function(m,h,f,g,y){var w=i(null);if(w.current===null){var v={hasValue:!1,value:null};w.current=v}else v=w.current;w=l(function(){function N(T){if(!C){if(C=!0,S=T,T=g(T),y!==void 0&&v.hasValue){var E=v.value;if(y(E,T))return _=E}return _=T}if(E=_,a(S,T))return E;var M=g(T);return y!==void 0&&y(E,M)?(S=T,E):(S=T,_=M)}var C=!1,S,_,A=f===void 0?null:f;return[function(){return N(h())},A===null?void 0:function(){return N(A())}]},[h,f,g,y]);var b=n(m,w[0],w[1]);return o(function(){v.hasValue=!0,v.value=b},[b]),d(b),b},rj}var zE;function eae(){return zE||(zE=1,tj.exports=Zse()),tj.exports}var tae=eae(),gC=p.createContext(null),rae=e=>e,ds=()=>{var e=p.useContext(gC);return e?e.store.dispatch:rae},Vg=()=>{},sae=()=>Vg,aae=(e,r)=>e===r;function tt(e){var r=p.useContext(gC);return tae.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:sae,r?r.store.getState:Vg,r?r.store.getState:Vg,r?e:Vg,aae)}function nae(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function iae(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function oae(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var FE=e=>Array.isArray(e)?e:[e];function lae(e){const r=Array.isArray(e[0])?e[0]:e;return oae(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function cae(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var dae=class{constructor(e){this.value=e}deref(){return this.value}},uae=typeof WeakRef<"u"?WeakRef:dae,mae=0,UE=1;function jg(){return{s:mae,v:void 0,o:null,p:null}}function yL(e,r={}){let s=jg();const{resultEqualityCheck:a}=r;let n,i=0;function o(){var f;let l=s;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(w);b===void 0?(l=jg(),v.set(w,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(w);b===void 0?(l=jg(),v.set(w,l)):l=b}}const m=l;let h;if(l.s===UE)h=l.v;else if(h=e.apply(null,arguments),i++,a){const g=((f=n==null?void 0:n.deref)==null?void 0:f.call(n))??n;g!=null&&a(g,h)&&(h=g,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new uae(h):h}return m.s=UE,m.v=h,h}return o.clearCache=()=>{s=jg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function hae(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,o=0,l,d={},m=n.pop();typeof m=="object"&&(d=m,m=n.pop()),nae(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...s,...d},{memoize:f,memoizeOptions:g=[],argsMemoize:y=yL,argsMemoizeOptions:w=[]}=h,v=FE(g),b=FE(w),N=lae(n),C=f(function(){return i++,m.apply(null,arguments)},...v),S=y(function(){o++;const A=cae(N,arguments);return l=C.apply(null,A),l},...b);return Object.assign(S,{resultFunc:m,memoizedResultFunc:C,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var he=hae(yL),fae=Object.assign((e,r=he)=>{iae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((o,l,d)=>(o[s[d]]=l,o),{}))},{withTypes:()=>fae}),sj={},aj={},nj={},BE;function pae(){return BE||(BE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const o=r(a),l=r(n);if(o===l&&o===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=s}(nj)),nj}var ij={},oj={},WE;function vL(){return WE||(WE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r}(oj)),oj}var VE;function gae(){return VE||(VE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=vL(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=n}(ij)),ij}var qE;function xae(){return qE||(qE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=pae(),s=gae(),a=aC();function n(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const m=(y,w)=>{let v=y;for(let b=0;b<w.length&&v!=null;++b)v=v[w[b]];return v},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:m(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?m(w,y):typeof w=="object"?w[y]:w,f=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||s.isKey(y)?y:{key:y,path:a.toPath(y)}));return i.map(y=>({original:y,criteria:f.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let v=0;v<f.length;v++){const b=r.compareValues(y.criteria[v],w.criteria[v],l[v]);if(b!==0)return b}return 0}).map(y=>y.original)}e.orderBy=n}(aj)),aj}var lj={},HE;function yae(){return HE||(HE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),o=(l,d)=>{for(let m=0;m<l.length;m++){const h=l[m];Array.isArray(h)&&d<i?o(h,d+1):n.push(h)}};return o(s,0),n}e.flatten=r}(lj)),lj}var cj={},KE;function bL(){return KE||(KE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=xL(),s=uC(),a=hL(),n=mC();function i(o,l,d){return a.isObject(d)&&(typeof l=="number"&&s.isArrayLike(d)&&r.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?n.eq(d[l],o):!1}e.isIterateeCall=i}(cj)),cj}var GE;function vae(){return GE||(GE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=xae(),s=yae(),a=bL();function n(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,s.flatten(o),["asc"])}e.sortBy=n}(sj)),sj}var dj,YE;function bae(){return YE||(YE=1,dj=vae().sortBy),dj}var wae=bae();const Qx=vn(wae);var wL=e=>e.legend.settings,jae=e=>e.legend.size,Nae=e=>e.legend.payload;he([Nae,wL],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?Qx(a,s):a});var Ng=1;function Sae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>Ng||Math.abs(o.left-r.left)>Ng||Math.abs(o.top-r.top)>Ng||Math.abs(o.width-r.width)>Ng)&&s({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Xs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Cae=typeof Symbol=="function"&&Symbol.observable||"@@observable",JE=Cae,uj=()=>Math.random().toString(36).substring(7).split("").join("."),kae={INIT:`@@redux/INIT${uj()}`,REPLACE:`@@redux/REPLACE${uj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${uj()}`},j0=kae;function xC(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function jL(e,r,s){if(typeof e!="function")throw new Error(Xs(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Xs(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Xs(1));return s(jL)(e,r)}let a=e,n=r,i=new Map,o=i,l=0,d=!1;function m(){o===i&&(o=new Map,i.forEach((b,N)=>{o.set(N,b)}))}function h(){if(d)throw new Error(Xs(3));return n}function f(b){if(typeof b!="function")throw new Error(Xs(4));if(d)throw new Error(Xs(5));let N=!0;m();const C=l++;return o.set(C,b),function(){if(N){if(d)throw new Error(Xs(6));N=!1,m(),o.delete(C),i=null}}}function g(b){if(!xC(b))throw new Error(Xs(7));if(typeof b.type>"u")throw new Error(Xs(8));if(typeof b.type!="string")throw new Error(Xs(17));if(d)throw new Error(Xs(9));try{d=!0,n=a(n,b)}finally{d=!1}return(i=o).forEach(C=>{C()}),b}function y(b){if(typeof b!="function")throw new Error(Xs(10));a=b,g({type:j0.REPLACE})}function w(){const b=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Xs(11));function C(){const _=N;_.next&&_.next(h())}return C(),{unsubscribe:b(C)}},[JE](){return this}}}return g({type:j0.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:y,[JE]:w}}function _ae(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:j0.INIT})>"u")throw new Error(Xs(12));if(typeof s(void 0,{type:j0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xs(13))})}function NL(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const o=r[i];typeof e[o]=="function"&&(s[o]=e[o])}const a=Object.keys(s);let n;try{_ae(s)}catch(i){n=i}return function(o={},l){if(n)throw n;let d=!1;const m={};for(let h=0;h<a.length;h++){const f=a[h],g=s[f],y=o[f],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(Xs(14));m[f]=w,d=d||w!==y}return d=d||a.length!==Object.keys(o).length,d?m:o}}function N0(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function Pae(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(Xs(15))};const o={getState:n.getState,dispatch:(d,...m)=>i(d,...m)},l=e.map(d=>d(o));return i=N0(...l)(n.dispatch),{...n,dispatch:i}}}function SL(e){return xC(e)&&"type"in e&&typeof e.type=="string"}var CL=Symbol.for("immer-nothing"),XE=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function pi(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vu=Object.getPrototypeOf;function od(e){return!!e&&!!e[xn]}function Bo(e){var r;return e?kL(e)||Array.isArray(e)||!!e[XE]||!!((r=e.constructor)!=null&&r[XE])||ey(e)||ty(e):!1}var Aae=Object.prototype.constructor.toString();function kL(e){if(!e||typeof e!="object")return!1;const r=Vu(e);if(r===null)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===Aae}function S0(e,r){Zx(e)===0?Reflect.ownKeys(e).forEach(s=>{r(s,e[s],e)}):e.forEach((s,a)=>r(a,s,e))}function Zx(e){const r=e[xn];return r?r.type_:Array.isArray(e)?1:ey(e)?2:ty(e)?3:0}function r1(e,r){return Zx(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function _L(e,r,s){const a=Zx(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function Eae(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function ey(e){return e instanceof Map}function ty(e){return e instanceof Set}function Lc(e){return e.copy_||e.base_}function s1(e,r){if(ey(e))return new Map(e);if(ty(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=kL(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[xn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const o=n[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Vu(e),a)}else{const a=Vu(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function yC(e,r=!1){return ry(e)||od(e)||!Bo(e)||(Zx(e)>1&&(e.set=e.add=e.clear=e.delete=Tae),Object.freeze(e),r&&Object.entries(e).forEach(([s,a])=>yC(a,!0))),e}function Tae(){pi(2)}function ry(e){return Object.isFrozen(e)}var Oae={};function ld(e){const r=Oae[e];return r||pi(0,e),r}var Xh;function PL(){return Xh}function Mae(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QE(e,r){r&&(ld("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function a1(e){n1(e),e.drafts_.forEach(Rae),e.drafts_=null}function n1(e){e===Xh&&(Xh=e.parent_)}function ZE(e){return Xh=Mae(Xh,e)}function Rae(e){const r=e[xn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function eT(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[xn].modified_&&(a1(r),pi(4)),Bo(e)&&(e=C0(r,e),r.parent_||k0(r,e)),r.patches_&&ld("Patches").generateReplacementPatches_(s[xn].base_,e,r.patches_,r.inversePatches_)):e=C0(r,s,[]),a1(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==CL?e:void 0}function C0(e,r,s){if(ry(r))return r;const a=r[xn];if(!a)return S0(r,(n,i)=>tT(e,a,r,n,i,s)),r;if(a.scope_!==e)return r;if(!a.modified_)return k0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,o=!1;a.type_===3&&(i=new Set(n),n.clear(),o=!0),S0(i,(l,d)=>tT(e,a,n,l,d,s,o)),k0(e,n,!1),s&&e.patches_&&ld("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function tT(e,r,s,a,n,i,o){if(od(n)){const l=i&&r&&r.type_!==3&&!r1(r.assigned_,a)?i.concat(a):void 0,d=C0(e,n,l);if(_L(s,a,d),od(d))e.canAutoFreeze_=!1;else return}else o&&s.add(n);if(Bo(n)&&!ry(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;C0(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,a)&&k0(e,n)}}function k0(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yC(r,s)}function Iae(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:PL(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=vC;s&&(n=[a],i=Qh);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=o,l}var vC={get(e,r){if(r===xn)return e;const s=Lc(e);if(!r1(s,r))return Dae(e,s,r);const a=s[r];return e.finalized_||!Bo(a)?a:a===mj(e.base_,r)?(hj(e),e.copy_[r]=o1(a,e)):a},has(e,r){return r in Lc(e)},ownKeys(e){return Reflect.ownKeys(Lc(e))},set(e,r,s){const a=AL(Lc(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=mj(Lc(e),r),i=n==null?void 0:n[xn];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(Eae(s,n)&&(s!==void 0||r1(e.base_,r)))return!0;hj(e),i1(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return mj(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,hj(e),i1(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Lc(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){pi(11)},getPrototypeOf(e){return Vu(e.base_)},setPrototypeOf(){pi(12)}},Qh={};S0(vC,(e,r)=>{Qh[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});Qh.deleteProperty=function(e,r){return Qh.set.call(this,e,r,void 0)};Qh.set=function(e,r,s){return vC.set.call(this,e[0],r,s,e[0])};function mj(e,r){const s=e[xn];return(s?Lc(s):e)[r]}function Dae(e,r,s){var n;const a=AL(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function AL(e,r){if(!(r in e))return;let s=Vu(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=Vu(s)}}function i1(e){e.modified_||(e.modified_=!0,e.parent_&&i1(e.parent_))}function hj(e){e.copy_||(e.copy_=s1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const o=this;return function(d=i,...m){return o.produce(d,h=>s.call(this,h,...m))}}typeof s!="function"&&pi(6),a!==void 0&&typeof a!="function"&&pi(7);let n;if(Bo(r)){const i=ZE(this),o=o1(r,void 0);let l=!0;try{n=s(o),l=!1}finally{l?a1(i):n1(i)}return QE(i,a),eT(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===CL&&(n=void 0),this.autoFreeze_&&yC(n,!0),a){const i=[],o=[];ld("Patches").generateReplacementPatches_(r,n,i,o),a(i,o)}return n}else pi(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(o,...l)=>this.produceWithPatches(o,d=>r(d,...l));let a,n;return[this.produce(r,s,(o,l)=>{a=o,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bo(e)||pi(8),od(e)&&(e=Mo(e));const r=ZE(this),s=o1(e,void 0);return s[xn].isManual_=!0,n1(r),s}finishDraft(e,r){const s=e&&e[xn];(!s||!s.isManual_)&&pi(9);const{scope_:a}=s;return QE(a,r),eT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=ld("Patches").applyPatches_;return od(e)?a(e,r):this.produce(e,n=>a(n,r))}};function o1(e,r){const s=ey(e)?ld("MapSet").proxyMap_(e,r):ty(e)?ld("MapSet").proxySet_(e,r):Iae(e,r);return(r?r.scope_:PL()).drafts_.push(s),s}function Mo(e){return od(e)||pi(10,e),EL(e)}function EL(e){if(!Bo(e)||ry(e))return e;const r=e[xn];let s;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=s1(e,r.scope_.immer_.useStrictShallowCopy_)}else s=s1(e,!0);return S0(s,(a,n)=>{_L(s,a,EL(n))}),r&&(r.finalized_=!1),s}var yn=new Lae,TL=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function OL(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var $ae=OL(),zae=OL,Fae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?N0:N0.apply(null,arguments)};function qn(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(gn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>SL(a)&&a.type===e,s}var ML=class Ph extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Ph.prototype)}static get[Symbol.species](){return Ph}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Ph(...r[0].concat(this)):new Ph(...r.concat(this))}};function rT(e){return Bo(e)?TL(e,()=>{}):e}function Sg(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function Uae(e){return typeof e=="boolean"}var Bae=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let o=new ML;return s&&(Uae(s)?o.push($ae):o.push(zae(s.extraArgument))),o},Wae="RTK_autoBatch",sT=e=>r=>{setTimeout(r,e)},Vae=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sT(10):e.type==="callback"?e.queueNotification:sT(e.timeout),m=()=>{o=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const f=()=>n&&h(),g=a.subscribe(f);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var f;try{return n=!((f=h==null?void 0:h.meta)!=null&&f[Wae]),i=!n,i&&(o||(o=!0,d(m))),a.dispatch(h)}finally{n=!0}}})},qae=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new ML(e);return a&&n.push(Vae(typeof a=="object"?a:void 0)),n};function Hae(e){const r=Bae(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof s=="function")l=s;else if(xC(s))l=NL(s);else throw new Error(gn(1));let d;typeof a=="function"?d=a(r):d=r();let m=N0;n&&(m=Fae({trace:!1,...typeof n=="object"&&n}));const h=Pae(...d),f=qae(h);let g=typeof o=="function"?o(f):f();const y=m(...g);return jL(l,i,y)}function RL(e){const r={},s=[];let a;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(gn(28));if(l in r)throw new Error(gn(29));return r[l]=o,n},addMatcher(i,o){return s.push({matcher:i,reducer:o}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}function Kae(e){return typeof e=="function"}function Gae(e,r){let[s,a,n]=RL(r),i;if(Kae(e))i=()=>rT(e());else{const l=rT(e);i=()=>l}function o(l=i(),d){let m=[s[d.type],...a.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[n]),m.reduce((h,f)=>{if(f)if(od(h)){const y=f(h,d);return y===void 0?h:y}else{if(Bo(h))return TL(h,g=>f(g,d));{const g=f(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return o.getInitialState=i,o}var Yae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jae=(e=21)=>{let r="",s=e;for(;s--;)r+=Yae[Math.random()*64|0];return r},Xae=Symbol.for("rtk-slice-createasyncthunk");function Qae(e,r){return`${e}/${r}`}function Zae({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[Xae];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(gn(11));const l=(typeof n.reducers=="function"?n.reducers(tne()):n.reducers)||{},d=Object.keys(l),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(_,A){const T=typeof _=="string"?_:_.type;if(!T)throw new Error(gn(12));if(T in m.sliceCaseReducersByType)throw new Error(gn(13));return m.sliceCaseReducersByType[T]=A,h},addMatcher(_,A){return m.sliceMatchers.push({matcher:_,reducer:A}),h},exposeAction(_,A){return m.actionCreators[_]=A,h},exposeCaseReducer(_,A){return m.sliceCaseReducersByName[_]=A,h}};d.forEach(_=>{const A=l[_],T={reducerName:_,type:Qae(i,_),createNotation:typeof n.reducers=="function"};sne(A)?nne(T,A,h,r):rne(T,A,h)});function f(){const[_={},A=[],T=void 0]=typeof n.extraReducers=="function"?RL(n.extraReducers):[n.extraReducers],E={..._,...m.sliceCaseReducersByType};return Gae(n.initialState,M=>{for(let L in E)M.addCase(L,E[L]);for(let L of m.sliceMatchers)M.addMatcher(L.matcher,L.reducer);for(let L of A)M.addMatcher(L.matcher,L.reducer);T&&M.addDefaultCase(T)})}const g=_=>_,y=new Map,w=new WeakMap;let v;function b(_,A){return v||(v=f()),v(_,A)}function N(){return v||(v=f()),v.getInitialState()}function C(_,A=!1){function T(M){let L=M[_];return typeof L>"u"&&A&&(L=Sg(w,T,N)),L}function E(M=g){const L=Sg(y,A,()=>new WeakMap);return Sg(L,M,()=>{const H={};for(const[O,I]of Object.entries(n.selectors??{}))H[O]=ene(I,M,()=>Sg(w,M,N),A);return H})}return{reducerPath:_,getSelectors:E,get selectors(){return E(T)},selectSlice:T}}const S={name:i,reducer:b,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:N,...C(o),injectInto(_,{reducerPath:A,...T}={}){const E=A??o;return _.inject({reducerPath:E,reducer:b},T),{...S,...C(E,!0)}}};return S}}function ene(e,r,s,a){function n(i,...o){let l=r(i);return typeof l>"u"&&a&&(l=s()),e(l,...o)}return n.unwrapped=e,n}var wn=Zae();function tne(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function rne({type:e,reducerName:r,createNotation:s},a,n){let i,o;if("reducer"in a){if(s&&!ane(a))throw new Error(gn(17));i=a.reducer,o=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,o?qn(e,o):qn(e))}function sne(e){return e._reducerDefinitionType==="asyncThunk"}function ane(e){return e._reducerDefinitionType==="reducerWithPrepare"}function nne({type:e,reducerName:r},s,a,n){if(!n)throw new Error(gn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:m,options:h}=s,f=n(e,i,h);a.exposeAction(r,f),o&&a.addCase(f.fulfilled,o),l&&a.addCase(f.pending,l),d&&a.addCase(f.rejected,d),m&&a.addMatcher(f.settled,m),a.exposeCaseReducer(r,{fulfilled:o||Cg,pending:l||Cg,rejected:d||Cg,settled:m||Cg})}function Cg(){}var ine="task",IL="listener",DL="completed",bC="cancelled",one=`task-${bC}`,lne=`task-${DL}`,l1=`${IL}-${bC}`,cne=`${IL}-${DL}`,sy=class{constructor(e){ci(this,"name","TaskAbortError");ci(this,"message");this.code=e,this.message=`${ine} ${bC} (reason: ${e})`}},wC=(e,r)=>{if(typeof e!="function")throw new TypeError(gn(32))},_0=()=>{},LL=(e,r=_0)=>(e.catch(r),e),$L=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),Gc=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},Yc=e=>{if(e.aborted){const{reason:r}=e;throw new sy(r)}};function zL(e,r){let s=_0;return new Promise((a,n)=>{const i=()=>n(new sy(e.reason));if(e.aborted){i();return}s=$L(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=_0})}var dne=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof sy?"cancelled":"rejected",error:s}}finally{r==null||r()}},P0=e=>r=>LL(zL(e,r).then(s=>(Yc(e),s))),FL=e=>{const r=P0(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Tu}=Object,aT={},ay="listenerMiddleware",une=(e,r)=>{const s=a=>$L(e,()=>Gc(a,e.reason));return(a,n)=>{wC(a);const i=new AbortController;s(i);const o=dne(async()=>{Yc(e),Yc(i.signal);const l=await a({pause:P0(i.signal),delay:FL(i.signal),signal:i.signal});return Yc(i.signal),l},()=>Gc(i,lne));return n!=null&&n.autoJoin&&r.push(o.catch(_0)),{result:P0(e)(o),cancel(){Gc(i,one)}}}},mne=(e,r)=>{const s=async(a,n)=>{Yc(r);let i=()=>{};const l=[new Promise((d,m)=>{let h=e({predicate:a,effect:(f,g)=>{g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}});i=()=>{h(),m()}})];n!=null&&l.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await zL(r,Promise.race(l));return Yc(r),d}finally{i()}};return(a,n)=>LL(s(a,n))},UL=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=qn(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(gn(21));return wC(i),{predicate:n,type:r,effect:i}},BL=Tu(e=>{const{type:r,predicate:s,effect:a}=UL(e);return{id:Jae(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>BL}),nT=(e,r)=>{const{type:s,effect:a,predicate:n}=UL(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},c1=e=>{e.pending.forEach(r=>{Gc(r,l1)})},hne=e=>()=>{e.forEach(c1),e.clear()},iT=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},WL=Tu(qn(`${ay}/add`),{withTypes:()=>WL}),fne=qn(`${ay}/removeAll`),VL=Tu(qn(`${ay}/remove`),{withTypes:()=>VL}),pne=(...e)=>{console.error(`${ay}/error`,...e)},Of=(e={})=>{const r=new Map,{extra:s,onError:a=pne}=e;wC(a);const n=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),f=>{h.unsubscribe(),f!=null&&f.cancelActive&&c1(h)}),i=h=>{const f=nT(r,h)??BL(h);return n(f)};Tu(i,{withTypes:()=>i});const o=h=>{const f=nT(r,h);return f&&(f.unsubscribe(),h.cancelActive&&c1(f)),!!f};Tu(o,{withTypes:()=>o});const l=async(h,f,g,y)=>{const w=new AbortController,v=mne(i,w.signal),b=[];try{h.pending.add(w),await Promise.resolve(h.effect(f,Tu({},g,{getOriginalState:y,condition:(N,C)=>v(N,C).then(Boolean),take:v,delay:FL(w.signal),pause:P0(w.signal),extra:s,signal:w.signal,fork:une(w.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,C,S)=>{N!==w&&(Gc(N,l1),S.delete(N))})},cancel:()=>{Gc(w,l1),h.pending.delete(w)},throwIfCancelled:()=>{Yc(w.signal)}})))}catch(N){N instanceof sy||iT(a,N,{raisedBy:"effect"})}finally{await Promise.all(b),Gc(w,cne),h.pending.delete(w)}},d=hne(r);return{middleware:h=>f=>g=>{if(!SL(g))return f(g);if(WL.match(g))return i(g.payload);if(fne.match(g)){d();return}if(VL.match(g))return o(g.payload);let y=h.getState();const w=()=>{if(y===aT)throw new Error(gn(23));return y};let v;try{if(v=f(g),r.size>0){const b=h.getState(),N=Array.from(r.values());for(const C of N){let S=!1;try{S=C.predicate(g,b,y)}catch(_){S=!1,iT(a,_,{raisedBy:"predicate"})}S&&l(C,g,h,w)}}}finally{y=aT}return v},startListening:i,stopListening:o,clearListeners:d}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},qL=wn({name:"chartLayout",initialState:gne,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){e.margin.top=r.payload.top,e.margin.right=r.payload.right,e.margin.bottom=r.payload.bottom,e.margin.left=r.payload.left},setScale(e,r){e.scale=r.payload}}}),{setMargin:xne,setLayout:yne,setChartSize:vne,setScale:bne}=qL.actions,wne=qL.reducer;function oT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function lT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?oT(Object(s),!0).forEach(function(a){jne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function jne(e,r,s){return(r=Nne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Nne(e){var r=Sne(e,"string");return typeof r=="symbol"?r:r+""}function Sne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var A0=Math.PI/180,Cne=e=>e*180/Math.PI,ps=(e,r,s,a)=>({x:e+Math.cos(-A0*a)*s,y:r+Math.sin(-A0*a)*s}),HL=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},kne=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},_ne=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,o=kne({x:s,y:a},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(s-n)/o,d=Math.acos(l);return a>i&&(d=2*Math.PI-d),{radius:o,angle:Cne(d),angleInRadian:d}},Pne=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},Ane=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return e+o*360},Ene=(e,r)=>{var{x:s,y:a}=e,{radius:n,angle:i}=_ne({x:s,y:a},r),{innerRadius:o,outerRadius:l}=r;if(n<o||n>l||n===0)return null;var{startAngle:d,endAngle:m}=Pne(r),h=i,f;if(d<=m){for(;h>m;)h-=360;for(;h<d;)h+=360;f=h>=d&&h<=m}else{for(;h>d;)h-=360;for(;h<m;)h+=360;f=h>=m&&h<=d}return f?lT(lT({},r),{},{radius:n,angle:Ane(h,r)}):null};function KL(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function cT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function In(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(s),!0).forEach(function(a){Tne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tne(e,r,s){return(r=One(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function One(e){var r=Mne(e,"string");return typeof r=="symbol"?r:r+""}function Mne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yr(e,r,s){return Er(e)||Er(r)?s:eo(r)?Gl(e,r,s):typeof r=="function"?r(e):s}var Rne=(e,r,s,a,n)=>{var i,o=-1,l=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<l;d++){var m=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Fs(h-m)!==Fs(f-h)){var y=[];if(Fs(f-h)===Fs(n[1]-n[0])){g=f;var w=h+n[1]-n[0];y[0]=Math.min(w,(w+m)/2),y[1]=Math.max(w,(w+m)/2)}else{g=m;var v=f+n[1]-n[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){({index:o}=s[d]);break}}else{var N=Math.min(m,f),C=Math.max(m,f);if(e>(N+h)/2&&e<=(C+h)/2){({index:o}=s[d]);break}}}else if(r){for(var S=0;S<l;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){({index:o}=r[S]);break}}return o},Ine=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:o,layout:l}=r;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Ve(e[i]))return In(In({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Ve(e[o]))return In(In({},e),{},{[o]:e[o]+(n||0)})}return e},co=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",GL=(e,r,s,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,o=e.map(l=>(l.coordinate===r&&(n=!0),l.coordinate===s&&(i=!0),l.coordinate));return n||o.push(r),i||o.push(s),o},YL=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:m,tickCount:h,ticks:f,niceTicks:g,axisType:y}=e;if(!o)return null;var w=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=n==="category"&&o.bandwidth?o.bandwidth()/w:0;if(v=y==="angleAxis"&&i&&i.length>=2?Fs(i[0]-i[1])*2*v:v,f||g){var b=(f||g||[]).map((N,C)=>{var S=a?a.indexOf(N):N;return{coordinate:o(S)+v,value:N,offset:v,index:C}});return b.filter(N=>!Xa(N.coordinate))}return d&&m?m.map((N,C)=>({coordinate:o(N)+v,value:N,index:C,offset:v})):o.ticks&&h!=null?o.ticks(h).map((N,C)=>({coordinate:o(N)+v,value:N,offset:v,index:C})):o.domain().map((N,C)=>({coordinate:o(N)+v,value:a?a[N]:N,index:C,offset:v}))},dT=1e-4,Dne=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-dT,i=Math.max(a[0],a[1])+dT,o=e(r[0]),l=e(r[s-1]);(o<n||o>i||l<n||l>i)&&e.domain([r[0],r[s-1]])}},Lne=(e,r)=>{if(!r||r.length!==2||!Ve(r[0])||!Ve(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!Ve(e[0])||e[0]<s)&&(n[0]=s),(!Ve(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},$ne=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,o=0;o<r;++o){var l=Xa(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=n,e[o][s][1]=n+l,n=e[o][s][1]):(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1])}},zne=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var o=Xa(e[i][s][1])?e[i][s][0]:e[i][s][1];o>=0?(e[i][s][0]=n,e[i][s][1]=n+o,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},Fne={sign:$ne,expand:wse,none:Wu,silhouette:jse,wiggle:Nse,positive:zne},Une=(e,r,s)=>{var a=Fne[s],n=bse().keys(r).value((i,o)=>+yr(i,o,0)).order(e1).offset(a);return n(e)};function JL(e){return e==null?void 0:String(e)}function E0(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:o}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Er(n[r.dataKey])){var l=VD(s,"value",n[r.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=yr(n,Er(o)?r.dataKey:o);return Er(d)?null:r.scale(d)}var uT=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:o}=e;if(r.type==="category")return s[o]?s[o].coordinate+a:null;var l=yr(i,r.dataKey,r.scale.domain()[o]);return Er(l)?null:r.scale(l)-n/2+a},Bne=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},Wne=e=>{var r=e.flat(2).filter(Ve);return[Math.min(...r),Math.max(...r)]},Vne=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qne=(e,r,s)=>{if(e!=null)return Vne(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:o}=i,l=o.reduce((d,m)=>{var h=KL(m,r,s),f=Wne(h);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},mT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cd=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=Qx(r,h=>h.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var d=n[o],m=n[o-1];i=Math.min((d.coordinate||0)-(m.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function fT(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return In(In({},r),{},{dataKey:s,payload:a,value:n,name:i})}function tc(e,r){if(e)return String(e);if(typeof r=="string")return r}function Hne(e,r,s,a,n){if(s==="horizontal"||s==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:e,y:r}:null}return a?Ene({x:e,y:r},a):null}var Kne=(e,r,s,a)=>{var n=r.find(m=>m&&m.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:o}=a;return In(In(In({},a),ps(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:d}=a;return In(In(In({},a),ps(a.cx,a.cy,l,d)),{},{angle:d,radius:l})}return{x:0,y:0}},Gne=(e,r)=>r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius,Ko=e=>e.layout.width,Go=e=>e.layout.height,Yne=e=>e.layout.scale,XL=e=>e.layout.margin,jC=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),NC=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QL="data-recharts-item-index",ZL="data-recharts-item-data-key",ny=60;function pT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?pT(Object(s),!0).forEach(function(a){Jne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Jne(e,r,s){return(r=Xne(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Xne(e){var r=Qne(e,"string");return typeof r=="symbol"?r:r+""}function Qne(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Zne=e=>e.brush.height,Ps=he([Ko,Go,XL,Zne,jC,NC,wL,jae],(e,r,s,a,n,i,o,l)=>{var d=i.reduce((w,v)=>{var{orientation:b}=v;if(!v.mirror&&!v.hide){var N=typeof v.width=="number"?v.width:ny;return Cl(Cl({},w),{},{[b]:w[b]+N})}return w},{left:s.left||0,right:s.right||0}),m=n.reduce((w,v)=>{var{orientation:b}=v;return!v.mirror&&!v.hide?Cl(Cl({},w),{},{[b]:Gl(w,"".concat(b))+v.height}):w},{top:s.top||0,bottom:s.bottom||0}),h=Cl(Cl({},m),d),f=h.bottom;h.bottom+=a,h=Ine(h,o,l);var g=e-h.left-h.right,y=r-h.top-h.bottom;return Cl(Cl({brushBottom:f},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),eie=he(Ps,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e8=he(Ko,Go,(e,r)=>({x:0,y:0,width:e,height:r})),tie=p.createContext(null),Na=()=>p.useContext(tie)!=null,iy=e=>e.brush,oy=he([iy,Ps,XL],(e,r,s)=>({height:e.height,x:Ve(e.x)?e.x:r.left,y:Ve(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:Ve(e.width)?e.width:r.width})),SC=()=>{var e,r=Na(),s=tt(eie),a=tt(oy),n=(e=tt(iy))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},rie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},t8=()=>{var e;return(e=tt(Ps))!==null&&e!==void 0?e:rie},r8=()=>tt(Ko),s8=()=>tt(Go),Wt=e=>e.layout.layoutType,Mf=()=>tt(Wt),sie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},a8=wn({name:"legend",initialState:sie,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload(e,r){e.payload.push(r.payload)},removeLegendPayload(e,r){var s=Mo(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)}}}),{setLegendSize:N1e,setLegendSettings:S1e,addLegendPayload:n8,removeLegendPayload:i8}=a8.actions,aie=a8.reducer;function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},d1.apply(null,arguments)}function gT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gT(Object(s),!0).forEach(function(a){nie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nie(e,r,s){return(r=iie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function iie(e){var r=oie(e,"string");return typeof r=="symbol"?r:r+""}function oie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function lie(e){return Array.isArray(e)&&eo(e[0])&&eo(e[1])?e.join(" ~ "):e}var cie=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:m,label:h,labelFormatter:f,accessibilityLayer:g=!1}=e,y=()=>{if(i&&i.length){var A={padding:0,margin:0},T=(l?Qx(i,l):i).map((E,M)=>{if(E.type==="none")return null;var L=E.formatter||o||lie,{value:H,name:O}=E,I=H,W=O;if(L){var V=L(H,O,E,M,i);if(Array.isArray(V))[I,W]=V;else if(V!=null)I=V;else return null}var U=fj({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:U},eo(W)?p.createElement("span",{className:"recharts-tooltip-item-name"},W):null,eo(W)?p.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,p.createElement("span",{className:"recharts-tooltip-item-value"},I),p.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},w=fj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),v=fj({margin:0},n),b=!Er(h),N=b?h:"",C=Xt("recharts-default-tooltip",d),S=Xt("recharts-tooltip-label",m);b&&f&&i!==void 0&&i!==null&&(N=f(h,i));var _=g?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",d1({className:C,style:w},_),p.createElement("p",{className:S,style:v},p.isValidElement(N)?N:"".concat(N)),y())},mh="recharts-tooltip-wrapper",die={visibility:"hidden"};function uie(e){var{coordinate:r,translateX:s,translateY:a}=e;return Xt(mh,{["".concat(mh,"-right")]:Ve(s)&&r&&Ve(r.x)&&s>=r.x,["".concat(mh,"-left")]:Ve(s)&&r&&Ve(r.x)&&s<r.x,["".concat(mh,"-bottom")]:Ve(a)&&r&&Ve(r.y)&&a>=r.y,["".concat(mh,"-top")]:Ve(a)&&r&&Ve(r.y)&&a<r.y})}function xT(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:m}=e;if(i&&Ve(i[a]))return i[a];var h=s[a]-l-(n>0?n:0),f=s[a]+n;if(r[a])return o[a]?h:f;var g=d[a];if(g==null)return 0;if(o[a]){var y=h,w=g;return y<w?Math.max(f,g):Math.max(h,g)}if(m==null)return 0;var v=f+l,b=g+m;return v>b?Math.max(h,g):Math.max(f,g)}function mie(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function hie(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,m,h,f;return o.height>0&&o.width>0&&s?(h=xT({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=xT({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),m=mie({translateX:h,translateY:f,useTranslate3d:l})):m=die,{cssProperties:m,cssClasses:uie({translateX:h,translateY:f,coordinate:s})}}function yT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function kg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yT(Object(s),!0).forEach(function(a){u1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function u1(e,r,s){return(r=fie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function fie(e){var r=pie(e,"string");return typeof r=="symbol"?r:r+""}function pie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class gie extends p.PureComponent{constructor(){super(...arguments),u1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),u1(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:m,position:h,reverseDirection:f,useTranslate3d:g,viewBox:y,wrapperStyle:w,lastBoundingBox:v,innerRef:b,hasPortalFromProps:N}=this.props,{cssClasses:C,cssProperties:S}=hie({allowEscapeViewBox:s,coordinate:o,offsetTopLeft:m,position:h,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:y}),_=N?{}:kg(kg({transition:d&&r?"transform ".concat(a,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0}),A=kg(kg({},_),{},{visibility:!this.state.dismissed&&r&&l?"visible":"hidden"},w);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:A,ref:b},i)}}var xie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rc={isSsr:xie()},o8=()=>tt(e=>e.rootProps.accessibilityLayer);function ta(e){return Number.isFinite(e)}function qu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},m1.apply(null,arguments)}function vT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function bT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?vT(Object(s),!0).forEach(function(a){yie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yie(e,r,s){return(r=vie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vie(e){var r=bie(e,"string");return typeof r=="symbol"?r:r+""}function bie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var wT={curveBasisClosed:cse,curveBasisOpen:dse,curveBasis:lse,curveBumpX:Gre,curveBumpY:Yre,curveLinearClosed:use,curveLinear:Jx,curveMonotoneX:mse,curveMonotoneY:hse,curveNatural:fse,curveStep:pse,curveStepAfter:xse,curveStepBefore:gse},_g=e=>ta(e.x)&&ta(e.y),hh=e=>e.x,fh=e=>e.y,wie=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(Ef(e));return(s==="curveMonotone"||s==="curveBump")&&r?wT["".concat(s).concat(r==="vertical"?"Y":"X")]:wT[s]||Jx},jie=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,o=wie(r,n),l=i?s.filter(_g):s,d;if(Array.isArray(a)){var m=i?a.filter(f=>_g(f)):a,h=l.map((f,g)=>bT(bT({},f),{},{base:m[g]}));return n==="vertical"?d=wg().y(fh).x1(hh).x0(f=>f.base.x):d=wg().x(hh).y1(fh).y0(f=>f.base.y),d.defined(_g).curve(o),d(h)}return n==="vertical"&&Ve(a)?d=wg().y(fh).x1(hh).x0(a):Ve(a)?d=wg().x(hh).y1(fh).y0(a):d=ZD().x(hh).y(fh),d.defined(_g).curve(o),d(l)},Ou=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?jie(e):a;return p.createElement("path",m1({},_i(e),oC(e),{className:Xt("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Nie=["x","y","top","left","width","height","className"];function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},h1.apply(null,arguments)}function jT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Sie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?jT(Object(s),!0).forEach(function(a){Cie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cie(e,r,s){return(r=kie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kie(e){var r=_ie(e,"string");return typeof r=="symbol"?r:r+""}function _ie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pie(e,r){if(e==null)return{};var s,a,n=Aie(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Aie(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Eie=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),Tie=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:o=0,className:l}=e,d=Pie(e,Nie),m=Sie({x:r,y:s,top:a,left:n,width:i,height:o},d);return!Ve(r)||!Ve(s)||!Ve(i)||!Ve(o)||!Ve(a)||!Ve(n)?null:p.createElement("path",h1({},Ar(m,!0),{className:Xt("recharts-cross",l),d:Eie(r,s,i,o,a,n)}))};function Oie(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function NT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Mie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?NT(Object(s),!0).forEach(function(a){Rie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Rie(e,r,s){return(r=Iie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Iie(e){var r=Die(e,"string");return typeof r=="symbol"?r:r+""}function Die(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ia(e,r){var s=Mie({},e),a=r,n=Object.keys(r),i=n.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),s);return i}var pj={},gj={},xj={},ST;function Lie(){return ST||(ST=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){if(!s||typeof s!="object")return!1;const a=Object.getPrototypeOf(s);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(s)==="[object Object]":!1}e.isPlainObject=r}(xj)),xj}var CT;function $ie(){return CT||(CT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Lie(),s=pL(),a=fC(),n=pC(),i=mC();function o(m,h,f){return l(m,h,void 0,void 0,void 0,void 0,f)}function l(m,h,f,g,y,w,v){const b=v(m,h,f,g,y,w);if(b!==void 0)return b;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return d(m,h,w,v)}return d(m,h,w,v)}function d(m,h,f,g){if(Object.is(m,h))return!0;let y=a.getTag(m),w=a.getTag(h);if(y===n.argumentsTag&&(y=n.objectTag),w===n.argumentsTag&&(w=n.objectTag),y!==w)return!1;switch(y){case n.stringTag:return m.toString()===h.toString();case n.numberTag:{const N=m.valueOf(),C=h.valueOf();return i.eq(N,C)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(m.valueOf(),h.valueOf());case n.regexpTag:return m.source===h.source&&m.flags===h.flags;case n.functionTag:return m===h}f=f??new Map;const v=f.get(m),b=f.get(h);if(v!=null&&b!=null)return v===h;f.set(m,h),f.set(h,m);try{switch(y){case n.mapTag:{if(m.size!==h.size)return!1;for(const[N,C]of m.entries())if(!h.has(N)||!l(C,h.get(N),N,m,h,f,g))return!1;return!0}case n.setTag:{if(m.size!==h.size)return!1;const N=Array.from(m.values()),C=Array.from(h.values());for(let S=0;S<N.length;S++){const _=N[S],A=C.findIndex(T=>l(_,T,void 0,m,h,f,g));if(A===-1)return!1;C.splice(A,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let N=0;N<m.length;N++)if(!l(m[N],h[N],N,m,h,f,g))return!1;return!0}case n.arrayBufferTag:return m.byteLength!==h.byteLength?!1:d(new Uint8Array(m),new Uint8Array(h),f,g);case n.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:d(new Uint8Array(m),new Uint8Array(h),f,g);case n.errorTag:return m.name===h.name&&m.message===h.message;case n.objectTag:{if(!(d(m.constructor,h.constructor,f,g)||r.isPlainObject(m)&&r.isPlainObject(h)))return!1;const C=[...Object.keys(m),...s.getSymbols(m)],S=[...Object.keys(h),...s.getSymbols(h)];if(C.length!==S.length)return!1;for(let _=0;_<C.length;_++){const A=C[_],T=m[A];if(!Object.hasOwn(h,A))return!1;const E=h[A];if(!l(T,E,A,m,h,f,g))return!1}return!0}default:return!1}}finally{f.delete(m),f.delete(h)}}e.isEqualWith=o}(gj)),gj}var yj={},kT;function zie(){return kT||(kT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(){}e.noop=r}(yj)),yj}var _T;function Fie(){return _T||(_T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=$ie(),s=zie();function a(n,i){return r.isEqualWith(n,i,s.noop)}e.isEqual=a}(pj)),pj}var vj,PT;function Uie(){return PT||(PT=1,vj=Fie().isEqual),vj}var Bie=Uie();const Wie=vn(Bie);var T0=1e-4,l8=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],c8=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),AT=(e,r)=>s=>{var a=l8(e,r);return c8(a,s)},Vie=(e,r)=>s=>{var a=l8(e,r),n=[...a.map((i,o)=>i*o).slice(1),0];return c8(n,s)},ET=function(){for(var r,s,a,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[r,a,s,n]=[0,0,1,1];break;case"ease":[r,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[r,a,s,n]=[.42,0,1,1];break;case"ease-out":[r,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[r,a,s,n]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([r,a,s,n]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([r,a,s,n]=o);var m=AT(r,s),h=AT(a,n),f=Vie(r,s),g=w=>w>1?1:w<0?0:w,y=w=>{for(var v=w>1?1:w,b=v,N=0;N<8;++N){var C=m(b)-v,S=f(b);if(Math.abs(C-v)<T0||S<T0)return h(b);b=g(b-C/S)}return h(b)};return y.isStepper=!1,y},qie=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(o,l,d)=>{var m=-(o-l)*s,h=d*a,f=d+(m-h)*n/1e3,g=d*n/1e3+o;return Math.abs(g-l)<T0&&Math.abs(f)<T0?[l,0]:[g,f]};return i.isStepper=!0,i.dt=n,i},d8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ET(e);case"spring":return qie();default:if(e.split("(")[0]==="cubic-bezier")return ET(e)}return typeof e=="function"?e:null};function TT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function OT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TT(Object(s),!0).forEach(function(a){Hie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Hie(e,r,s){return(r=Kie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kie(e){var r=Gie(e,"string");return typeof r=="symbol"?r:r+""}function Gie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Yie=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),Jie=(e,r,s)=>e.map(a=>"".concat(Yie(a)," ").concat(r,"ms ").concat(s)).join(","),Xie=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),Zh=(e,r)=>Object.keys(r).reduce((s,a)=>OT(OT({},s),{},{[a]:e(a,r[a])}),{});function MT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?MT(Object(s),!0).forEach(function(a){Qie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qie(e,r,s){return(r=Zie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zie(e){var r=eoe(e,"string");return typeof r=="symbol"?r:r+""}function eoe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var O0=(e,r,s)=>e+(r-e)*s,f1=e=>{var{from:r,to:s}=e;return r!==s},u8=(e,r,s)=>{var a=Zh((n,i)=>{if(f1(i)){var[o,l]=e(i.from,i.to,i.velocity);return Qs(Qs({},i),{},{from:o,velocity:l})}return i},r);return s<1?Zh((n,i)=>f1(i)?Qs(Qs({},i),{},{velocity:O0(i.velocity,a[n].velocity,s),from:O0(i.from,a[n].from,s)}):i,r):u8(e,a,s-1)};function toe(e,r,s,a,n,i){var o,l=a.reduce((g,y)=>Qs(Qs({},g),{},{[y]:{from:e[y],velocity:0,to:r[y]}}),{}),d=()=>Zh((g,y)=>y.from,l),m=()=>!Object.values(l).filter(f1).length,h=null,f=g=>{o||(o=g);var y=g-o,w=y/s.dt;l=u8(s,l,w),n(Qs(Qs(Qs({},e),r),d())),o=g,m()||(h=i.setTimeout(f))};return()=>(h=i.setTimeout(f),()=>{h()})}function roe(e,r,s,a,n,i,o){var l=null,d=n.reduce((f,g)=>Qs(Qs({},f),{},{[g]:[e[g],r[g]]}),{}),m,h=f=>{m||(m=f);var g=(f-m)/a,y=Zh((v,b)=>O0(...b,s(g)),d);if(i(Qs(Qs(Qs({},e),r),y)),g<1)l=o.setTimeout(h);else{var w=Zh((v,b)=>O0(...b,s(1)),d);i(Qs(Qs(Qs({},e),r),w))}};return()=>(l=o.setTimeout(h),()=>{l()})}const m8=(e,r,s,a,n,i)=>{var o=Xie(e,r);return s.isStepper===!0?toe(e,r,s,o,n,i):roe(e,r,s,a,o,n,i)};function soe(e){var r,s=()=>null,a=!1,n=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...m]=l;if(typeof d=="number"){n=e.setTimeout(i.bind(null,m),d);return}i(d),n=e.setTimeout(i.bind(null,m));return}typeof o=="string"&&(r=o,s(r)),typeof o=="object"&&(r=o,s(r)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,n&&(n(),n=null),i(o)},subscribe:o=>(s=o,()=>{s=()=>null}),getTimeoutController:()=>e}}class aoe{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=o=>{o-a>=s?r(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function noe(){return soe(new aoe)}var ioe=p.createContext(noe);function h8(e,r){var s=p.useContext(ioe);return p.useMemo(()=>r??s(e),[e,r,s])}var ooe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},p1.apply(null,arguments)}function loe(e,r){if(e==null)return{};var s,a,n=coe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function coe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function RT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function kl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?RT(Object(s),!0).forEach(function(a){Uc(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uc(e,r,s){return(r=doe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function doe(e){var r=uoe(e,"string");return typeof r=="symbol"?r:r+""}function uoe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class CC extends p.PureComponent{constructor(r,s){super(r,s),Uc(this,"mounted",!1),Uc(this,"manager",void 0),Uc(this,"stopJSAnimation",null),Uc(this,"unSubscribe",null);var{isActive:a,attributeName:n,from:i,to:o,children:l,duration:d,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||d<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:s}=this.props;this.mounted=!0,!(!r||!s)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:s,canBegin:a,attributeName:n,shouldReAnimate:i,to:o,from:l}=this.props,{style:d}=this.state;if(a){if(!s){var m={style:n?{[n]:o}:o};this.state&&d&&(n&&d[n]!==o||!n&&d!==o)&&this.setState(m);return}if(!(Wie(r.to,o)&&r.canBegin&&r.isActive)){var h=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=h||i?l:r.to;if(this.state&&d){var g={style:n?{[n]:f}:f};(n&&d[n]!==f||!n&&d!==f)&&this.setState(g)}this.runAnimation(kl(kl({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:s,to:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d}=r,m=m8(s,a,d8(i),n,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([d,o,h,n,l])}runAnimation(r){var{begin:s,duration:a,attributeName:n,to:i,easing:o,onAnimationStart:l,onAnimationEnd:d,children:m}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof m=="function"||o==="spring"){this.runJSAnimation(r);return}var h=n?{[n]:i}:i,f=Jie(Object.keys(h),a,o);this.manager.start([l,s,kl(kl({},h),{},{transition:f}),a,d])}render(){var r=this.props,{children:s,begin:a,duration:n,attributeName:i,easing:o,isActive:l,from:d,to:m,canBegin:h,onAnimationEnd:f,shouldReAnimate:g,onAnimationReStart:y,animationManager:w}=r,v=loe(r,ooe),b=p.Children.count(s),N=this.state.style;if(typeof s=="function")return s(N);if(!l||b===0||n<=0)return s;var C=S=>{var{style:_={},className:A}=S.props,T=p.cloneElement(S,kl(kl({},v),{},{style:kl(kl({},_),N),className:A}));return T};return b===1?C(p.Children.only(s)):p.createElement("div",null,p.Children.map(s,S=>C(S)))}}Uc(CC,"displayName","Animate");Uc(CC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function M0(e){var r,s=h8((r=e.attributeName)!==null&&r!==void 0?r:Object.keys(e.to).join(","),e.animationManager);return p.createElement(CC,p1({},e,{animationManager:s}))}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R0.apply(null,arguments)}var IT=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),o=a>=0?1:-1,l=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,m;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],f=0,g=4;f<g;f++)h[f]=n[f]>i?i:n[f];m="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+l*h[0],",").concat(r)),m+="L ".concat(e+s-l*h[1],",").concat(r),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+o*h[1])),m+="L ".concat(e+s,",").concat(r+a-o*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-l*h[2],",").concat(r+a)),m+="L ".concat(e+l*h[3],",").concat(r+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-o*h[3])),m+="Z"}else if(i>0&&n===+n&&n>0){var y=Math.min(i,n);m="M ".concat(e,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+s-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s,",").concat(r+o*y,`
            L `).concat(e+s,",").concat(r+a-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s-l*y,",").concat(r+a,`
            L `).concat(e+l*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(r+a-o*y," Z")}else m="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return m},moe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f8=e=>{var r=Ia(e,moe),s=p.useRef(null),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&n(N)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:v}=r;if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var b=Xt("recharts-rectangle",h);return v?p.createElement(M0,{canBegin:a>0,from:{width:l,height:d,x:i,y:o},to:{width:l,height:d,x:i,y:o},duration:g,animationEasing:f,isActive:v},N=>{var{width:C,height:S,x:_,y:A}=N;return p.createElement(M0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:w,easing:f},p.createElement("path",R0({},Ar(r,!0),{className:b,d:IT(_,A,C,S,m),ref:s})))}):p.createElement("path",R0({},Ar(r,!0),{className:b,d:IT(i,o,l,d,m)}))};function p8(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,o=ps(r,s,a,n),l=ps(r,s,a,i);return{points:[o,l],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},g1.apply(null,arguments)}var hoe=(e,r)=>{var s=Fs(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},Pg=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,m=l*(o?1:-1)+a,h=Math.asin(l/m)/A0,f=d?n:n+i*h,g=ps(r,s,m,f),y=ps(r,s,a,f),w=d?n-i*h:n,v=ps(r,s,m*Math.cos(h*A0),w);return{center:g,circleTangency:y,lineTangency:v,theta:h}},g8=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:o}=e,l=hoe(i,o),d=i+l,m=ps(r,s,n,i),h=ps(r,s,n,d),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=ps(r,s,a,i),y=ps(r,s,a,d);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},foe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:m}=e,h=Fs(m-d),{circleTangency:f,lineTangency:g,theta:y}=Pg({cx:r,cy:s,radius:n,angle:d,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:v,theta:b}=Pg({cx:r,cy:s,radius:n,angle:m,sign:-h,cornerRadius:i,cornerIsExternal:l}),N=l?Math.abs(d-m):Math.abs(d-m)-y-b;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):g8({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:m});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:S,lineTangency:_,theta:A}=Pg({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:T,lineTangency:E,theta:M}=Pg({cx:r,cy:s,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),L=l?Math.abs(d-m):Math.abs(d-m)-A-M;if(L<0&&i===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},poe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},x8=e=>{var r=Ia(e,poe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h,className:f}=r;if(i<n||m===h)return null;var g=Xt("recharts-sector",f),y=i-n,w=Ta(o,y,0,!0),v;return w>0&&Math.abs(m-h)<360?v=foe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h}):v=g8({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:m,endAngle:h}),p.createElement("path",g1({},Ar(r,!0),{className:g,d:v}))};function goe(e,r,s){var a,n,i,o;if(e==="horizontal")a=r.x,i=a,n=s.top,o=s.top+s.height;else if(e==="vertical")n=r.y,o=n,a=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var{cx:l,cy:d,innerRadius:m,outerRadius:h,angle:f}=r,g=ps(l,d,m,f),y=ps(l,d,h,f);a=g.x,n=g.y,i=y.x,o=y.y}else return p8(r);return[{x:a,y:n},{x:i,y:o}]}var bj={},wj={},jj={},DT;function xoe(){return DT||(DT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=vL();function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s}(jj)),jj}var LT;function yoe(){return LT||(LT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=xoe();function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s}(wj)),wj}var $T;function voe(){return $T||($T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=bL(),s=yoe();function a(n,i,o){o&&typeof o!="number"&&r.isIterateeCall(n,i,o)&&(i=o=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),o=o===void 0?n<i?1:-1:s.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),d=new Array(l);for(let m=0;m<l;m++)d[m]=n,n+=o;return d}e.range=a}(bj)),bj}var Nj,zT;function boe(){return zT||(zT=1,Nj=voe().range),Nj}var woe=boe();const y8=vn(woe);function Ul(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function joe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function kC(e){let r,s,a;e.length!==2?(r=Ul,s=(l,d)=>Ul(e(l),d),a=(l,d)=>e(l)-d):(r=e===Ul||e===joe?e:Noe,s=e,a=e);function n(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<0?m=f+1:h=f}while(m<h)}return m}function i(l,d,m=0,h=l.length){if(m<h){if(r(d,d)!==0)return h;do{const f=m+h>>>1;s(l[f],d)<=0?m=f+1:h=f}while(m<h)}return m}function o(l,d,m=0,h=l.length){const f=n(l,d,m,h-1);return f>m&&a(l[f-1],d)>-a(l[f],d)?f-1:f}return{left:n,center:o,right:i}}function Noe(){return 0}function v8(e){return e===null?NaN:+e}function*Soe(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Coe=kC(Ul),Rf=Coe.right;kC(v8).center;class FT extends Map{constructor(r,s=Poe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(UT(this,r))}has(r){return super.has(UT(this,r))}set(r,s){return super.set(koe(this,r),s)}delete(r){return super.delete(_oe(this,r))}}function UT({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function koe({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function _oe({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Poe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Aoe(e=Ul){if(e===Ul)return b8;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function b8(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const Eoe=Math.sqrt(50),Toe=Math.sqrt(10),Ooe=Math.sqrt(2);function I0(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=Eoe?10:i>=Toe?5:i>=Ooe?2:1;let l,d,m;return n<0?(m=Math.pow(10,-n)/o,l=Math.round(e*m),d=Math.round(r*m),l/m<e&&++l,d/m>r&&--d,m=-m):(m=Math.pow(10,n)*o,l=Math.round(e/m),d=Math.round(r/m),l*m<e&&++l,d*m>r&&--d),d<l&&.5<=s&&s<2?I0(e,r,s*2):[l,d,m]}function x1(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,o]=a?I0(r,e,s):I0(e,r,s);if(!(i>=n))return[];const l=i-n+1,d=new Array(l);if(a)if(o<0)for(let m=0;m<l;++m)d[m]=(i-m)/-o;else for(let m=0;m<l;++m)d[m]=(i-m)*o;else if(o<0)for(let m=0;m<l;++m)d[m]=(n+m)/-o;else for(let m=0;m<l;++m)d[m]=(n+m)*o;return d}function y1(e,r,s){return r=+r,e=+e,s=+s,I0(e,r,s)[2]}function v1(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?y1(r,e,s):y1(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function BT(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function WT(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function w8(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?b8:Aoe(n);a>s;){if(a-s>600){const d=a-s+1,m=r-s+1,h=Math.log(d),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(d-f)/d)*(m-d/2<0?-1:1),y=Math.max(s,Math.floor(r-m*f/d+g)),w=Math.min(a,Math.floor(r+(d-m)*f/d+g));w8(e,r,y,w,n)}const i=e[r];let o=s,l=a;for(ph(e,s,r),n(e[a],i)>0&&ph(e,s,a);o<l;){for(ph(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?ph(e,s,l):(++l,ph(e,l,a)),l<=r&&(s=l+1),r<=l&&(a=l-1)}return e}function ph(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function Moe(e,r,s){if(e=Float64Array.from(Soe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return WT(e);if(r>=1)return BT(e);var a,n=(a-1)*r,i=Math.floor(n),o=BT(w8(e,i).subarray(0,i+1)),l=WT(e.subarray(i+1));return o+(l-o)*(n-i)}}function Roe(e,r,s=v8){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function Ioe(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function Gn(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Yo(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const b1=Symbol("implicit");function _C(){var e=new FT,r=[],s=[],a=b1;function n(i){let o=e.get(i);if(o===void 0){if(a!==b1)return a;e.set(i,o=r.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new FT;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return _C(r,s).unknown(a)},Gn.apply(n,arguments),n}function PC(){var e=_C().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,o,l=!1,d=0,m=0,h=.5;delete e.unknown;function f(){var g=r().length,y=n<a,w=y?n:a,v=y?a:n;i=(v-w)/Math.max(1,g-d+m*2),l&&(i=Math.floor(i)),w+=(v-w-i*(g-d))*h,o=i*(1-d),l&&(w=Math.round(w),o=Math.round(o));var b=Ioe(g).map(function(N){return w+i*N});return s(y?b.reverse():b)}return e.domain=function(g){return arguments.length?(r(g),f()):r()},e.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,f()):[a,n]},e.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,f()):l},e.padding=function(g){return arguments.length?(d=Math.min(1,m=+g),f()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),f()):d},e.paddingOuter=function(g){return arguments.length?(m=+g,f()):m},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),f()):h},e.copy=function(){return PC(r(),[a,n]).round(l).paddingInner(d).paddingOuter(m).align(h)},Gn.apply(f(),arguments)}function j8(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j8(r())},e}function Doe(){return j8(PC.apply(null,arguments).paddingInner(1))}function AC(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function N8(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function If(){}var ef=.7,D0=1/ef,Mu="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Loe=/^#([0-9a-f]{3,8})$/,$oe=new RegExp(`^rgb\\(${Mu},${Mu},${Mu}\\)$`),zoe=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),Foe=new RegExp(`^rgba\\(${Mu},${Mu},${Mu},${tf}\\)$`),Uoe=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${tf}\\)$`),Boe=new RegExp(`^hsl\\(${tf},${Hi},${Hi}\\)$`),Woe=new RegExp(`^hsla\\(${tf},${Hi},${Hi},${tf}\\)$`),VT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AC(If,rf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qT,formatHex:qT,formatHex8:Voe,formatHsl:qoe,formatRgb:HT,toString:HT});function qT(){return this.rgb().formatHex()}function Voe(){return this.rgb().formatHex8()}function qoe(){return S8(this).formatHsl()}function HT(){return this.rgb().formatRgb()}function rf(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=Loe.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?KT(r):s===3?new Ga(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Ag(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Ag(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=$oe.exec(e))?new Ga(r[1],r[2],r[3],1):(r=zoe.exec(e))?new Ga(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Foe.exec(e))?Ag(r[1],r[2],r[3],r[4]):(r=Uoe.exec(e))?Ag(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Boe.exec(e))?JT(r[1],r[2]/100,r[3]/100,1):(r=Woe.exec(e))?JT(r[1],r[2]/100,r[3]/100,r[4]):VT.hasOwnProperty(e)?KT(VT[e]):e==="transparent"?new Ga(NaN,NaN,NaN,0):null}function KT(e){return new Ga(e>>16&255,e>>8&255,e&255,1)}function Ag(e,r,s,a){return a<=0&&(e=r=s=NaN),new Ga(e,r,s,a)}function Hoe(e){return e instanceof If||(e=rf(e)),e?(e=e.rgb(),new Ga(e.r,e.g,e.b,e.opacity)):new Ga}function w1(e,r,s,a){return arguments.length===1?Hoe(e):new Ga(e,r,s,a??1)}function Ga(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}AC(Ga,w1,N8(If,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ga(Jc(this.r),Jc(this.g),Jc(this.b),L0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GT,formatHex:GT,formatHex8:Koe,formatRgb:YT,toString:YT}));function GT(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}`}function Koe(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}${Bc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YT(){const e=L0(this.opacity);return`${e===1?"rgb(":"rgba("}${Jc(this.r)}, ${Jc(this.g)}, ${Jc(this.b)}${e===1?")":`, ${e})`}`}function L0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bc(e){return e=Jc(e),(e<16?"0":"")+e.toString(16)}function JT(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new gi(e,r,s,a)}function S8(e){if(e instanceof gi)return new gi(e.h,e.s,e.l,e.opacity);if(e instanceof If||(e=rf(e)),!e)return new gi;if(e instanceof gi)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),o=NaN,l=i-n,d=(i+n)/2;return l?(r===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-r)/l+2:o=(r-s)/l+4,l/=d<.5?i+n:2-i-n,o*=60):l=d>0&&d<1?0:o,new gi(o,l,d,e.opacity)}function Goe(e,r,s,a){return arguments.length===1?S8(e):new gi(e,r,s,a??1)}function gi(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}AC(gi,Goe,N8(If,{brighter(e){return e=e==null?D0:Math.pow(D0,e),new gi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new gi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new Ga(Sj(e>=240?e-240:e+120,n,a),Sj(e,n,a),Sj(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new gi(XT(this.h),Eg(this.s),Eg(this.l),L0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=L0(this.opacity);return`${e===1?"hsl(":"hsla("}${XT(this.h)}, ${Eg(this.s)*100}%, ${Eg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XT(e){return e=(e||0)%360,e<0?e+360:e}function Eg(e){return Math.max(0,Math.min(1,e||0))}function Sj(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const EC=e=>()=>e;function Yoe(e,r){return function(s){return e+s*r}}function Joe(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function Xoe(e){return(e=+e)==1?C8:function(r,s){return s-r?Joe(r,s,e):EC(isNaN(r)?s:r)}}function C8(e,r){var s=r-e;return s?Yoe(e,s):EC(isNaN(e)?r:e)}const QT=function e(r){var s=Xoe(r);function a(n,i){var o=s((n=w1(n)).r,(i=w1(i)).r),l=s(n.g,i.g),d=s(n.b,i.b),m=C8(n.opacity,i.opacity);return function(h){return n.r=o(h),n.g=l(h),n.b=d(h),n.opacity=m(h),n+""}}return a.gamma=e,a}(1);function Qoe(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function Zoe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ele(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=lm(e[o],r[o]);for(;o<s;++o)i[o]=r[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function tle(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function $0(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function rle(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=lm(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var j1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cj=new RegExp(j1.source,"g");function sle(e){return function(){return e}}function ale(e){return function(r){return e(r)+""}}function nle(e,r){var s=j1.lastIndex=Cj.lastIndex=0,a,n,i,o=-1,l=[],d=[];for(e=e+"",r=r+"";(a=j1.exec(e))&&(n=Cj.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,d.push({i:o,x:$0(a,n)})),s=Cj.lastIndex;return s<r.length&&(i=r.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?ale(d[0].x):sle(r):(r=d.length,function(m){for(var h=0,f;h<r;++h)l[(f=d[h]).i]=f.x(m);return l.join("")})}function lm(e,r){var s=typeof r,a;return r==null||s==="boolean"?EC(r):(s==="number"?$0:s==="string"?(a=rf(r))?(r=a,QT):nle:r instanceof rf?QT:r instanceof Date?tle:Zoe(r)?Qoe:Array.isArray(r)?ele:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?rle:$0)(e,r)}function TC(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function ile(e,r){r===void 0&&(r=e,e=lm);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function ole(e){return function(){return e}}function z0(e){return+e}var ZT=[0,1];function Aa(e){return e}function N1(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:ole(isNaN(r)?NaN:.5)}function lle(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function cle(e,r,s){var a=e[0],n=e[1],i=r[0],o=r[1];return n<a?(a=N1(n,a),i=s(o,i)):(a=N1(a,n),i=s(i,o)),function(l){return i(a(l))}}function dle(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)n[o]=N1(e[o],e[o+1]),i[o]=s(r[o],r[o+1]);return function(l){var d=Rf(e,l,1,a)-1;return i[d](n[d](l))}}function Df(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ly(){var e=ZT,r=ZT,s=lm,a,n,i,o=Aa,l,d,m;function h(){var g=Math.min(e.length,r.length);return o!==Aa&&(o=lle(e[0],e[g-1])),l=g>2?dle:cle,d=m=null,f}function f(g){return g==null||isNaN(g=+g)?i:(d||(d=l(e.map(a),r,s)))(a(o(g)))}return f.invert=function(g){return o(n((m||(m=l(r,e.map(a),$0)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,z0),h()):e.slice()},f.range=function(g){return arguments.length?(r=Array.from(g),h()):r.slice()},f.rangeRound=function(g){return r=Array.from(g),s=TC,h()},f.clamp=function(g){return arguments.length?(o=g?!0:Aa,h()):o!==Aa},f.interpolate=function(g){return arguments.length?(s=g,h()):s},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,y){return a=g,n=y,h()}}function OC(){return ly()(Aa,Aa)}function ule(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function F0(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function Hu(e){return e=F0(Math.abs(e)),e?e[1]:NaN}function mle(e,r){return function(s,a){for(var n=s.length,i=[],o=0,l=e[0],d=0;n>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(s.substring(n-=l,n+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function hle(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var fle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sf(e){if(!(r=fle.exec(e)))throw new Error("invalid format: "+e);var r;return new MC({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}sf.prototype=MC.prototype;function MC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ple(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var k8;function gle(e,r){var s=F0(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(k8=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+F0(e,Math.max(0,r+i-1))[0]}function e5(e,r){var s=F0(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const t5={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ule,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>e5(e*100,r),r:e5,s:gle,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r5(e){return e}var s5=Array.prototype.map,a5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xle(e){var r=e.grouping===void 0||e.thousands===void 0?r5:mle(s5.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?r5:hle(s5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(f){f=sf(f);var g=f.fill,y=f.align,w=f.sign,v=f.symbol,b=f.zero,N=f.width,C=f.comma,S=f.precision,_=f.trim,A=f.type;A==="n"?(C=!0,A="g"):t5[A]||(S===void 0&&(S=12),_=!0,A="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var T=v==="$"?s:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=v==="$"?a:/[%p]/.test(A)?o:"",M=t5[A],L=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function H(O){var I=T,W=E,V,U,$;if(A==="c")W=M(O)+W,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?d:M(Math.abs(O),S),_&&(O=ple(O)),R&&+O==0&&w!=="+"&&(R=!1),I=(R?w==="("?w:l:w==="-"||w==="("?"":w)+I,W=(A==="s"?a5[8+k8/3]:"")+W+(R&&w==="("?")":""),L){for(V=-1,U=O.length;++V<U;)if($=O.charCodeAt(V),48>$||$>57){W=($===46?n+O.slice(V+1):O.slice(V))+W,O=O.slice(0,V);break}}}C&&!b&&(O=r(O,1/0));var F=I.length+O.length+W.length,z=F<N?new Array(N-F+1).join(g):"";switch(C&&b&&(O=r(z+O,z.length?N-W.length:1/0),z=""),y){case"<":O=I+O+W+z;break;case"=":O=I+z+O+W;break;case"^":O=z.slice(0,F=z.length>>1)+I+O+W+z.slice(F);break;default:O=z+I+O+W;break}return i(O)}return H.toString=function(){return f+""},H}function h(f,g){var y=m((f=sf(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(Hu(g)/3)))*3,v=Math.pow(10,-w),b=a5[8+w/3];return function(N){return y(v*N)+b}}return{format:m,formatPrefix:h}}var Tg,RC,_8;yle({thousands:",",grouping:[3],currency:["$",""]});function yle(e){return Tg=xle(e),RC=Tg.format,_8=Tg.formatPrefix,Tg}function vle(e){return Math.max(0,-Hu(Math.abs(e)))}function ble(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hu(r)/3)))*3-Hu(Math.abs(e)))}function wle(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Hu(r)-Hu(e))+1}function P8(e,r,s,a){var n=v1(e,r,s),i;switch(a=sf(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=ble(n,o))&&(a.precision=i),_8(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=wle(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=vle(n))&&(a.precision=i-(a.type==="%")*2);break}}return RC(a)}function sc(e){var r=e.domain;return e.ticks=function(s){var a=r();return x1(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return P8(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,o=a[n],l=a[i],d,m,h=10;for(l<o&&(m=o,o=l,l=m,m=n,n=i,i=m);h-- >0;){if(m=y1(o,l,s),m===d)return a[n]=o,a[i]=l,r(a);if(m>0)o=Math.floor(o/m)*m,l=Math.ceil(l/m)*m;else if(m<0)o=Math.ceil(o*m)/m,l=Math.floor(l*m)/m;else break;d=m}return e},e}function A8(){var e=OC();return e.copy=function(){return Df(e,A8())},Gn.apply(e,arguments),sc(e)}function E8(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,z0),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return E8(e).unknown(r)},e=arguments.length?Array.from(e,z0):[0,1],sc(s)}function T8(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),e[s]=r.floor(n),e[a]=r.ceil(i),e}function n5(e){return Math.log(e)}function i5(e){return Math.exp(e)}function jle(e){return-Math.log(-e)}function Nle(e){return-Math.exp(-e)}function Sle(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cle(e){return e===10?Sle:e===Math.E?Math.exp:r=>Math.pow(e,r)}function kle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function o5(e){return(r,s)=>-e(-r,s)}function IC(e){const r=e(n5,i5),s=r.domain;let a=10,n,i;function o(){return n=kle(a),i=Cle(a),s()[0]<0?(n=o5(n),i=o5(i),e(jle,Nle)):e(n5,i5),r}return r.base=function(l){return arguments.length?(a=+l,o()):a},r.domain=function(l){return arguments.length?(s(l),o()):s()},r.ticks=l=>{const d=s();let m=d[0],h=d[d.length-1];const f=h<m;f&&([m,h]=[h,m]);let g=n(m),y=n(h),w,v;const b=l==null?10:+l;let N=[];if(!(a%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),m>0){for(;g<=y;++g)for(w=1;w<a;++w)if(v=g<0?w/i(-g):w*i(g),!(v<m)){if(v>h)break;N.push(v)}}else for(;g<=y;++g)for(w=a-1;w>=1;--w)if(v=g>0?w/i(-g):w*i(g),!(v<m)){if(v>h)break;N.push(v)}N.length*2<b&&(N=x1(m,h,b))}else N=x1(g,y,Math.min(y-g,b)).map(i);return f?N.reverse():N},r.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=sf(d)).precision==null&&(d.trim=!0),d=RC(d)),l===1/0)return d;const m=Math.max(1,a*l/r.ticks().length);return h=>{let f=h/i(Math.round(n(h)));return f*a<a-.5&&(f*=a),f<=m?d(h):""}},r.nice=()=>s(T8(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function O8(){const e=IC(ly()).domain([1,10]);return e.copy=()=>Df(e,O8()).base(e.base()),Gn.apply(e,arguments),e}function l5(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function c5(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function DC(e){var r=1,s=e(l5(r),c5(r));return s.constant=function(a){return arguments.length?e(l5(r=+a),c5(r)):r},sc(s)}function M8(){var e=DC(ly());return e.copy=function(){return Df(e,M8()).constant(e.constant())},Gn.apply(e,arguments)}function d5(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function _le(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ple(e){return e<0?-e*e:e*e}function LC(e){var r=e(Aa,Aa),s=1;function a(){return s===1?e(Aa,Aa):s===.5?e(_le,Ple):e(d5(s),d5(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},sc(r)}function $C(){var e=LC(ly());return e.copy=function(){return Df(e,$C()).exponent(e.exponent())},Gn.apply(e,arguments),e}function Ale(){return $C.apply(null,arguments).exponent(.5)}function u5(e){return Math.sign(e)*e*e}function Ele(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function R8(){var e=OC(),r=[0,1],s=!1,a;function n(i){var o=Ele(e(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return e.invert(u5(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,z0)).map(u5)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return R8(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},Gn.apply(n,arguments),sc(n)}function I8(){var e=[],r=[],s=[],a;function n(){var o=0,l=Math.max(1,r.length);for(s=new Array(l-1);++o<l;)s[o-1]=Roe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Rf(s,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return I8().domain(e).range(r).unknown(a)},Gn.apply(i,arguments)}function D8(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function o(d){return d!=null&&d<=d?n[Rf(a,d,0,s)]:i}function l(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*r-(d-s)*e)/(s+1);return o}return o.domain=function(d){return arguments.length?([e,r]=d,e=+e,r=+r,l()):[e,r]},o.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,l()):n.slice()},o.invertExtent=function(d){var m=n.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=s?[a[s-1],r]:[a[m-1],a[m]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return D8().domain([e,r]).range(n).unknown(i)},Gn.apply(sc(o),arguments)}function L8(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[Rf(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return L8().domain(e).range(r).unknown(s)},Gn.apply(n,arguments)}const kj=new Date,_j=new Date;function As(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const d=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let m;do d.push(m=new Date(+i)),r(i,l),e(i);while(m<i&&i<o);return d},n.filter=i=>As(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),s&&(n.count=(i,o)=>(kj.setTime(+i),_j.setTime(+o),e(kj),e(_j),Math.floor(s(kj,_j))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const U0=As(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);U0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?As(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):U0);U0.range;const Ao=1e3,$n=Ao*60,Eo=$n*60,Wo=Eo*24,zC=Wo*7,m5=Wo*30,Pj=Wo*365,Wc=As(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Ao)},(e,r)=>(r-e)/Ao,e=>e.getUTCSeconds());Wc.range;const FC=As(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ao)},(e,r)=>{e.setTime(+e+r*$n)},(e,r)=>(r-e)/$n,e=>e.getMinutes());FC.range;const UC=As(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*$n)},(e,r)=>(r-e)/$n,e=>e.getUTCMinutes());UC.range;const BC=As(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ao-e.getMinutes()*$n)},(e,r)=>{e.setTime(+e+r*Eo)},(e,r)=>(r-e)/Eo,e=>e.getHours());BC.range;const WC=As(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*Eo)},(e,r)=>(r-e)/Eo,e=>e.getUTCHours());WC.range;const Lf=As(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*$n)/Wo,e=>e.getDate()-1);Lf.range;const cy=As(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Wo,e=>e.getUTCDate()-1);cy.range;const $8=As(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Wo,e=>Math.floor(e/Wo));$8.range;function wd(e){return As(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*$n)/zC)}const dy=wd(0),B0=wd(1),Tle=wd(2),Ole=wd(3),Ku=wd(4),Mle=wd(5),Rle=wd(6);dy.range;B0.range;Tle.range;Ole.range;Ku.range;Mle.range;Rle.range;function jd(e){return As(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/zC)}const uy=jd(0),W0=jd(1),Ile=jd(2),Dle=jd(3),Gu=jd(4),Lle=jd(5),$le=jd(6);uy.range;W0.range;Ile.range;Dle.range;Gu.range;Lle.range;$le.range;const VC=As(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VC.range;const qC=As(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qC.range;const Vo=As(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:As(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});Vo.range;const qo=As(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:As(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});qo.range;function z8(e,r,s,a,n,i){const o=[[Wc,1,Ao],[Wc,5,5*Ao],[Wc,15,15*Ao],[Wc,30,30*Ao],[i,1,$n],[i,5,5*$n],[i,15,15*$n],[i,30,30*$n],[n,1,Eo],[n,3,3*Eo],[n,6,6*Eo],[n,12,12*Eo],[a,1,Wo],[a,2,2*Wo],[s,1,zC],[r,1,m5],[r,3,3*m5],[e,1,Pj]];function l(m,h,f){const g=h<m;g&&([m,h]=[h,m]);const y=f&&typeof f.range=="function"?f:d(m,h,f),w=y?y.range(m,+h+1):[];return g?w.reverse():w}function d(m,h,f){const g=Math.abs(h-m)/f,y=kC(([,,b])=>b).right(o,g);if(y===o.length)return e.every(v1(m/Pj,h/Pj,f));if(y===0)return U0.every(Math.max(v1(m,h,f),1));const[w,v]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return w.every(v)}return[l,d]}const[zle,Fle]=z8(qo,qC,uy,$8,WC,UC),[Ule,Ble]=z8(Vo,VC,dy,Lf,BC,FC);function Aj(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ej(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gh(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function Wle(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,m=xh(n),h=yh(n),f=xh(i),g=yh(i),y=xh(o),w=yh(o),v=xh(l),b=yh(l),N=xh(d),C=yh(d),S={a:R,A:F,b:z,B:K,c:null,d:y5,e:y5,f:mce,g:jce,G:Sce,H:cce,I:dce,j:uce,L:F8,m:hce,M:fce,p:B,q:Q,Q:w5,s:j5,S:pce,u:gce,U:xce,V:yce,w:vce,W:bce,x:null,X:null,y:wce,Y:Nce,Z:Cce,"%":b5},_={a:Ce,A:Z,b:ne,B:ze,c:null,d:v5,e:v5,f:Ace,g:zce,G:Uce,H:kce,I:_ce,j:Pce,L:B8,m:Ece,M:Tce,p:Ae,q:Re,Q:w5,s:j5,S:Oce,u:Mce,U:Rce,V:Ice,w:Dce,W:Lce,x:null,X:null,y:$ce,Y:Fce,Z:Bce,"%":b5},A={a:H,A:O,b:I,B:W,c:V,d:g5,e:g5,f:nce,g:p5,G:f5,H:x5,I:x5,j:tce,L:ace,m:ece,M:rce,p:L,q:Zle,Q:oce,s:lce,S:sce,u:Gle,U:Yle,V:Jle,w:Kle,W:Xle,x:U,X:$,y:p5,Y:f5,Z:Qle,"%":ice};S.x=T(s,S),S.X=T(a,S),S.c=T(r,S),_.x=T(s,_),_.X=T(a,_),_.c=T(r,_);function T(de,Se){return function(Ee){var te=[],be=-1,Te=0,Ue=de.length,oe,Ge,Ct;for(Ee instanceof Date||(Ee=new Date(+Ee));++be<Ue;)de.charCodeAt(be)===37&&(te.push(de.slice(Te,be)),(Ge=h5[oe=de.charAt(++be)])!=null?oe=de.charAt(++be):Ge=oe==="e"?" ":"0",(Ct=Se[oe])&&(oe=Ct(Ee,Ge)),te.push(oe),Te=be+1);return te.push(de.slice(Te,be)),te.join("")}}function E(de,Se){return function(Ee){var te=gh(1900,void 0,1),be=M(te,de,Ee+="",0),Te,Ue;if(be!=Ee.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Te=Ej(gh(te.y,0,1)),Ue=Te.getUTCDay(),Te=Ue>4||Ue===0?W0.ceil(Te):W0(Te),Te=cy.offset(Te,(te.V-1)*7),te.y=Te.getUTCFullYear(),te.m=Te.getUTCMonth(),te.d=Te.getUTCDate()+(te.w+6)%7):(Te=Aj(gh(te.y,0,1)),Ue=Te.getDay(),Te=Ue>4||Ue===0?B0.ceil(Te):B0(Te),Te=Lf.offset(Te,(te.V-1)*7),te.y=Te.getFullYear(),te.m=Te.getMonth(),te.d=Te.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Ue="Z"in te?Ej(gh(te.y,0,1)).getUTCDay():Aj(gh(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Ue+5)%7:te.w+te.U*7-(Ue+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Ej(te)):Aj(te)}}function M(de,Se,Ee,te){for(var be=0,Te=Se.length,Ue=Ee.length,oe,Ge;be<Te;){if(te>=Ue)return-1;if(oe=Se.charCodeAt(be++),oe===37){if(oe=Se.charAt(be++),Ge=A[oe in h5?Se.charAt(be++):oe],!Ge||(te=Ge(de,Ee,te))<0)return-1}else if(oe!=Ee.charCodeAt(te++))return-1}return te}function L(de,Se,Ee){var te=m.exec(Se.slice(Ee));return te?(de.p=h.get(te[0].toLowerCase()),Ee+te[0].length):-1}function H(de,Se,Ee){var te=y.exec(Se.slice(Ee));return te?(de.w=w.get(te[0].toLowerCase()),Ee+te[0].length):-1}function O(de,Se,Ee){var te=f.exec(Se.slice(Ee));return te?(de.w=g.get(te[0].toLowerCase()),Ee+te[0].length):-1}function I(de,Se,Ee){var te=N.exec(Se.slice(Ee));return te?(de.m=C.get(te[0].toLowerCase()),Ee+te[0].length):-1}function W(de,Se,Ee){var te=v.exec(Se.slice(Ee));return te?(de.m=b.get(te[0].toLowerCase()),Ee+te[0].length):-1}function V(de,Se,Ee){return M(de,r,Se,Ee)}function U(de,Se,Ee){return M(de,s,Se,Ee)}function $(de,Se,Ee){return M(de,a,Se,Ee)}function R(de){return o[de.getDay()]}function F(de){return i[de.getDay()]}function z(de){return d[de.getMonth()]}function K(de){return l[de.getMonth()]}function B(de){return n[+(de.getHours()>=12)]}function Q(de){return 1+~~(de.getMonth()/3)}function Ce(de){return o[de.getUTCDay()]}function Z(de){return i[de.getUTCDay()]}function ne(de){return d[de.getUTCMonth()]}function ze(de){return l[de.getUTCMonth()]}function Ae(de){return n[+(de.getUTCHours()>=12)]}function Re(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Se=T(de+="",S);return Se.toString=function(){return de},Se},parse:function(de){var Se=E(de+="",!1);return Se.toString=function(){return de},Se},utcFormat:function(de){var Se=T(de+="",_);return Se.toString=function(){return de},Se},utcParse:function(de){var Se=E(de+="",!0);return Se.toString=function(){return de},Se}}}var h5={"-":"",_:" ",0:"0"},Hs=/^\s*\d+/,Vle=/^%/,qle=/[\\^$*+?|[\]().{}]/g;function dr(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function Hle(e){return e.replace(qle,"\\$&")}function xh(e){return new RegExp("^(?:"+e.map(Hle).join("|")+")","i")}function yh(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function Kle(e,r,s){var a=Hs.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function Gle(e,r,s){var a=Hs.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Yle(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function Jle(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Xle(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function f5(e,r,s){var a=Hs.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function p5(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Qle(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Zle(e,r,s){var a=Hs.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function ece(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function g5(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function tce(e,r,s){var a=Hs.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function x5(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function rce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function sce(e,r,s){var a=Hs.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function ace(e,r,s){var a=Hs.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function nce(e,r,s){var a=Hs.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function ice(e,r,s){var a=Vle.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function oce(e,r,s){var a=Hs.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function lce(e,r,s){var a=Hs.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function y5(e,r){return dr(e.getDate(),r,2)}function cce(e,r){return dr(e.getHours(),r,2)}function dce(e,r){return dr(e.getHours()%12||12,r,2)}function uce(e,r){return dr(1+Lf.count(Vo(e),e),r,3)}function F8(e,r){return dr(e.getMilliseconds(),r,3)}function mce(e,r){return F8(e,r)+"000"}function hce(e,r){return dr(e.getMonth()+1,r,2)}function fce(e,r){return dr(e.getMinutes(),r,2)}function pce(e,r){return dr(e.getSeconds(),r,2)}function gce(e){var r=e.getDay();return r===0?7:r}function xce(e,r){return dr(dy.count(Vo(e)-1,e),r,2)}function U8(e){var r=e.getDay();return r>=4||r===0?Ku(e):Ku.ceil(e)}function yce(e,r){return e=U8(e),dr(Ku.count(Vo(e),e)+(Vo(e).getDay()===4),r,2)}function vce(e){return e.getDay()}function bce(e,r){return dr(B0.count(Vo(e)-1,e),r,2)}function wce(e,r){return dr(e.getFullYear()%100,r,2)}function jce(e,r){return e=U8(e),dr(e.getFullYear()%100,r,2)}function Nce(e,r){return dr(e.getFullYear()%1e4,r,4)}function Sce(e,r){var s=e.getDay();return e=s>=4||s===0?Ku(e):Ku.ceil(e),dr(e.getFullYear()%1e4,r,4)}function Cce(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+dr(r/60|0,"0",2)+dr(r%60,"0",2)}function v5(e,r){return dr(e.getUTCDate(),r,2)}function kce(e,r){return dr(e.getUTCHours(),r,2)}function _ce(e,r){return dr(e.getUTCHours()%12||12,r,2)}function Pce(e,r){return dr(1+cy.count(qo(e),e),r,3)}function B8(e,r){return dr(e.getUTCMilliseconds(),r,3)}function Ace(e,r){return B8(e,r)+"000"}function Ece(e,r){return dr(e.getUTCMonth()+1,r,2)}function Tce(e,r){return dr(e.getUTCMinutes(),r,2)}function Oce(e,r){return dr(e.getUTCSeconds(),r,2)}function Mce(e){var r=e.getUTCDay();return r===0?7:r}function Rce(e,r){return dr(uy.count(qo(e)-1,e),r,2)}function W8(e){var r=e.getUTCDay();return r>=4||r===0?Gu(e):Gu.ceil(e)}function Ice(e,r){return e=W8(e),dr(Gu.count(qo(e),e)+(qo(e).getUTCDay()===4),r,2)}function Dce(e){return e.getUTCDay()}function Lce(e,r){return dr(W0.count(qo(e)-1,e),r,2)}function $ce(e,r){return dr(e.getUTCFullYear()%100,r,2)}function zce(e,r){return e=W8(e),dr(e.getUTCFullYear()%100,r,2)}function Fce(e,r){return dr(e.getUTCFullYear()%1e4,r,4)}function Uce(e,r){var s=e.getUTCDay();return e=s>=4||s===0?Gu(e):Gu.ceil(e),dr(e.getUTCFullYear()%1e4,r,4)}function Bce(){return"+0000"}function b5(){return"%"}function w5(e){return+e}function j5(e){return Math.floor(+e/1e3)}var xu,V8,q8;Wce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wce(e){return xu=Wle(e),V8=xu.format,xu.parse,q8=xu.utcFormat,xu.utcParse,xu}function Vce(e){return new Date(e)}function qce(e){return e instanceof Date?+e:+new Date(+e)}function HC(e,r,s,a,n,i,o,l,d,m){var h=OC(),f=h.invert,g=h.domain,y=m(".%L"),w=m(":%S"),v=m("%I:%M"),b=m("%I %p"),N=m("%a %d"),C=m("%b %d"),S=m("%B"),_=m("%Y");function A(T){return(d(T)<T?y:l(T)<T?w:o(T)<T?v:i(T)<T?b:a(T)<T?n(T)<T?N:C:s(T)<T?S:_)(T)}return h.invert=function(T){return new Date(f(T))},h.domain=function(T){return arguments.length?g(Array.from(T,qce)):g().map(Vce)},h.ticks=function(T){var E=g();return e(E[0],E[E.length-1],T??10)},h.tickFormat=function(T,E){return E==null?A:m(E)},h.nice=function(T){var E=g();return(!T||typeof T.range!="function")&&(T=r(E[0],E[E.length-1],T??10)),T?g(T8(E,T)):h},h.copy=function(){return Df(h,HC(e,r,s,a,n,i,o,l,d,m))},h}function Hce(){return Gn.apply(HC(Ule,Ble,Vo,VC,dy,Lf,BC,FC,Wc,V8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kce(){return Gn.apply(HC(zle,Fle,qo,qC,uy,cy,WC,UC,Wc,q8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function my(){var e=0,r=1,s,a,n,i,o=Aa,l=!1,d;function m(f){return f==null||isNaN(f=+f)?d:o(n===0?.5:(f=(i(f)-s)*n,l?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([e,r]=f,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),m):[e,r]},m.clamp=function(f){return arguments.length?(l=!!f,m):l},m.interpolator=function(f){return arguments.length?(o=f,m):o};function h(f){return function(g){var y,w;return arguments.length?([y,w]=g,o=f(y,w),m):[o(0),o(1)]}}return m.range=h(lm),m.rangeRound=h(TC),m.unknown=function(f){return arguments.length?(d=f,m):d},function(f){return i=f,s=f(e),a=f(r),n=s===a?0:1/(a-s),m}}function ac(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function H8(){var e=sc(my()(Aa));return e.copy=function(){return ac(e,H8())},Yo.apply(e,arguments)}function K8(){var e=IC(my()).domain([1,10]);return e.copy=function(){return ac(e,K8()).base(e.base())},Yo.apply(e,arguments)}function G8(){var e=DC(my());return e.copy=function(){return ac(e,G8()).constant(e.constant())},Yo.apply(e,arguments)}function KC(){var e=LC(my());return e.copy=function(){return ac(e,KC()).exponent(e.exponent())},Yo.apply(e,arguments)}function Gce(){return KC.apply(null,arguments).exponent(.5)}function Y8(){var e=[],r=Aa;function s(a){if(a!=null&&!isNaN(a=+a))return r((Rf(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Ul),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>Moe(e,i/a))},s.copy=function(){return Y8(r).domain(e)},Yo.apply(s,arguments)}function hy(){var e=0,r=.5,s=1,a=1,n,i,o,l,d,m=Aa,h,f=!1,g;function y(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-i)*(a*v<a*i?l:d),m(f?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([e,r,s]=v,n=h(e=+e),i=h(r=+r),o=h(s=+s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y):[e,r,s]},y.clamp=function(v){return arguments.length?(f=!!v,y):f},y.interpolator=function(v){return arguments.length?(m=v,y):m};function w(v){return function(b){var N,C,S;return arguments.length?([N,C,S]=b,m=ile(v,[N,C,S]),y):[m(0),m(.5),m(1)]}}return y.range=w(lm),y.rangeRound=w(TC),y.unknown=function(v){return arguments.length?(g=v,y):g},function(v){return h=v,n=v(e),i=v(r),o=v(s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y}}function J8(){var e=sc(hy()(Aa));return e.copy=function(){return ac(e,J8())},Yo.apply(e,arguments)}function X8(){var e=IC(hy()).domain([.1,1,10]);return e.copy=function(){return ac(e,X8()).base(e.base())},Yo.apply(e,arguments)}function Q8(){var e=DC(hy());return e.copy=function(){return ac(e,Q8()).constant(e.constant())},Yo.apply(e,arguments)}function GC(){var e=LC(hy());return e.copy=function(){return ac(e,GC()).exponent(e.exponent())},Yo.apply(e,arguments)}function Yce(){return GC.apply(null,arguments).exponent(.5)}const Ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:PC,scaleDiverging:J8,scaleDivergingLog:X8,scaleDivergingPow:GC,scaleDivergingSqrt:Yce,scaleDivergingSymlog:Q8,scaleIdentity:E8,scaleImplicit:b1,scaleLinear:A8,scaleLog:O8,scaleOrdinal:_C,scalePoint:Doe,scalePow:$C,scaleQuantile:I8,scaleQuantize:D8,scaleRadial:R8,scaleSequential:H8,scaleSequentialLog:K8,scaleSequentialPow:KC,scaleSequentialQuantile:Y8,scaleSequentialSqrt:Gce,scaleSequentialSymlog:G8,scaleSqrt:Ale,scaleSymlog:M8,scaleThreshold:L8,scaleTime:Hce,scaleUtc:Kce,tickFormat:P8},Symbol.toStringTag,{value:"Module"}));var nc=e=>e.chartData,YC=he([nc],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),$f=(e,r,s,a)=>a?YC(e):nc(e);function Yu(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(ta(r)&&ta(s))return!0}return!1}function N5(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function Jce(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ta(s))n=s;else if(typeof s=="function")return;if(ta(a))i=a;else if(typeof a=="function")return;var o=[n,i];if(Yu(o))return o}}function Xce(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(Yu(a))return N5(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(n==="auto")r!=null&&(o=Math.min(...r));else if(Ve(n))o=n;else if(typeof n=="function")try{r!=null&&(o=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&mT.test(n)){var d=mT.exec(n);if(d==null||r==null)o=void 0;else{var m=+d[1];o=r[0]-m}}else o=r==null?void 0:r[0];if(i==="auto")r!=null&&(l=Math.max(...r));else if(Ve(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&hT.test(i)){var h=hT.exec(i);if(h==null||r==null)l=void 0;else{var f=+h[1];l=r[1]+f}}else l=r==null?void 0:r[1];var g=[o,l];if(Yu(g))return r==null?g:N5(g,r,s)}}}var cm=1e9,Qce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XC,zr=!0,Hn="[DecimalError] ",Xc=Hn+"Invalid argument: ",JC=Hn+"Exponent out of range: ",dm=Math.floor,$c=Math.pow,Zce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,zs=1e7,Dr=7,Z8=9007199254740991,V0=dm(Z8/Dr),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Dr;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Je.dividedBy=Je.div=function(e){return Ro(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var r=this,s=r.constructor;return Sr(Ro(r,new s(e),0,1),s.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return xs(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(hn))throw Error(Hn+"NaN");if(s.s<1)throw Error(Hn+(s.s?"NaN":"-Infinity"));return s.eq(hn)?new a(0):(zr=!1,r=Ro(af(s,i),af(e,i),i),zr=!0,Sr(r,n))};Je.minus=Je.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?r6(r,e):e6(r,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Hn+"NaN");return s.s?(zr=!1,r=Ro(s,e,0,1).times(e),zr=!0,s.minus(r)):Sr(new a(s),n)};Je.naturalExponential=Je.exp=function(){return t6(this)};Je.naturalLogarithm=Je.ln=function(){return af(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?e6(r,e):r6(r,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xc+e);if(r=xs(n)+1,a=n.d.length-1,s=a*Dr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Je.squareRoot=Je.sqrt=function(){var e,r,s,a,n,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Hn+"NaN")}for(e=xs(l),zr=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=Bi(l.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=dm((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new d(r)):a=new d(n.toString()),s=d.precision,n=o=s+3;;)if(i=a,a=i.plus(Ro(l,i,o+2)).times(.5),Bi(i.d).slice(0,o)===(r=Bi(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(Sr(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(r!="9999")break;o+=4}return zr=!0,Sr(a,s)};Je.times=Je.mul=function(e){var r,s,a,n,i,o,l,d,m,h=this,f=h.constructor,g=h.d,y=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,s=h.e+e.e,d=g.length,m=y.length,d<m&&(i=g,g=y,y=i,o=d,d=m,m=o),i=[],o=d+m,a=o;a--;)i.push(0);for(a=m;--a>=0;){for(r=0,n=d+a;n>a;)l=i[n]+y[a]*g[n-a-1]+r,i[n--]=l%zs|0,r=l/zs|0;i[n]=(i[n]+r)%zs|0}for(;!i[--o];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,zr?Sr(e,f.precision):e};Je.toDecimalPlaces=Je.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(to(e,0,cm),r===void 0?r=a.rounding:to(r,0,8),Sr(s,e+xs(s)+1,r))};Je.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=dd(a,!0):(to(e,0,cm),r===void 0?r=n.rounding:to(r,0,8),a=Sr(new n(a),e+1,r),s=dd(a,!0,e+1)),s};Je.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?dd(n):(to(e,0,cm),r===void 0?r=i.rounding:to(r,0,8),a=Sr(new i(n),e+xs(n)+1,r),s=dd(a.abs(),!1,e+xs(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Je.toInteger=Je.toint=function(){var e=this,r=e.constructor;return Sr(new r(e),xs(e)+1,r.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var r,s,a,n,i,o,l=this,d=l.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(hn);if(l=new d(l),!l.s){if(e.s<1)throw Error(Hn+"Infinity");return l}if(l.eq(hn))return l;if(a=d.precision,e.eq(hn))return Sr(l,a);if(r=e.e,s=e.d.length-1,o=r>=s,i=l.s,o){if((s=h<0?-h:h)<=Z8){for(n=new d(hn),r=Math.ceil(a/Dr+4),zr=!1;s%2&&(n=n.times(l),C5(n.d,r)),s=dm(s/2),s!==0;)l=l.times(l),C5(l.d,r);return zr=!0,e.s<0?new d(hn).div(n):Sr(n,a)}}else if(i<0)throw Error(Hn+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,l.s=1,zr=!1,n=e.times(af(l,a+m)),zr=!0,n=t6(n),n.s=i,n};Je.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=xs(n),a=dd(n,s<=i.toExpNeg||s>=i.toExpPos)):(to(e,1,cm),r===void 0?r=i.rounding:to(r,0,8),n=Sr(new i(n),e,r),s=xs(n),a=dd(n,e<=s||s<=i.toExpNeg,e)),a};Je.toSignificantDigits=Je.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(to(e,1,cm),r===void 0?r=a.rounding:to(r,0,8)),Sr(new a(s),e,r)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=xs(e),s=e.constructor;return dd(e,r<=s.toExpNeg||r>=s.toExpPos)};function e6(e,r){var s,a,n,i,o,l,d,m,h=e.constructor,f=h.precision;if(!e.s||!r.s)return r.s||(r=new h(e)),zr?Sr(r,f):r;if(d=e.d,m=r.d,o=e.e,n=r.e,d=d.slice(),i=o-n,i){for(i<0?(a=d,i=-i,l=m.length):(a=m,n=o,l=d.length),o=Math.ceil(f/Dr),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=m.length,l-i<0&&(i=l,a=m,m=d,d=a),s=0;i;)s=(d[--i]=d[i]+m[i]+s)/zs|0,d[i]%=zs;for(s&&(d.unshift(s),++n),l=d.length;d[--l]==0;)d.pop();return r.d=d,r.e=n,zr?Sr(r,f):r}function to(e,r,s){if(e!==~~e||e<r||e>s)throw Error(Xc+e)}function Bi(e){var r,s,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,r=1;r<n;r++)a=e[r]+"",s=Dr-a.length,s&&(i+=Ml(s)),i+=a;o=e[r],a=o+"",s=Dr-a.length,s&&(i+=Ml(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ro=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%zs|0,o=i/zs|0;return o&&a.unshift(o),a}function r(a,n,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=n[l]){d=a[l]>n[l]?1:-1;break}return d}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*zs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,d,m,h,f,g,y,w,v,b,N,C,S,_,A,T,E,M,L=a.constructor,H=a.s==n.s?1:-1,O=a.d,I=n.d;if(!a.s)return new L(a);if(!n.s)throw Error(Hn+"Division by zero");for(d=a.e-n.e,E=I.length,A=O.length,y=new L(H),w=y.d=[],m=0;I[m]==(O[m]||0);)++m;if(I[m]>(O[m]||0)&&--d,i==null?C=i=L.precision:o?C=i+(xs(a)-xs(n))+1:C=i,C<0)return new L(0);if(C=C/Dr+2|0,m=0,E==1)for(h=0,I=I[0],C++;(m<A||h)&&C--;m++)S=h*zs+(O[m]||0),w[m]=S/I|0,h=S%I|0;else{for(h=zs/(I[0]+1)|0,h>1&&(I=e(I,h),O=e(O,h),E=I.length,A=O.length),_=E,v=O.slice(0,E),b=v.length;b<E;)v[b++]=0;M=I.slice(),M.unshift(0),T=I[0],I[1]>=zs/2&&++T;do h=0,l=r(I,v,E,b),l<0?(N=v[0],E!=b&&(N=N*zs+(v[1]||0)),h=N/T|0,h>1?(h>=zs&&(h=zs-1),f=e(I,h),g=f.length,b=v.length,l=r(f,v,g,b),l==1&&(h--,s(f,E<g?M:I,g))):(h==0&&(l=h=1),f=I.slice()),g=f.length,g<b&&f.unshift(0),s(v,f,b),l==-1&&(b=v.length,l=r(I,v,E,b),l<1&&(h++,s(v,E<b?M:I,b))),b=v.length):l===0&&(h++,v=[0]),w[m++]=h,l&&v[0]?v[b++]=O[_]||0:(v=[O[_]],b=1);while((_++<A||v[0]!==void 0)&&C--)}return w[0]||w.shift(),y.e=d,Sr(y,o?i+xs(y)+1:i)}}();function t6(e,r){var s,a,n,i,o,l,d=0,m=0,h=e.constructor,f=h.precision;if(xs(e)>16)throw Error(JC+xs(e));if(!e.s)return new h(hn);for(zr=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(a=Math.log($c(2,m))/Math.LN10*2+5|0,l+=a,s=n=i=new h(hn),h.precision=l;;){if(n=Sr(n.times(e),l),s=s.times(++d),o=i.plus(Ro(n,s,l)),Bi(o.d).slice(0,l)===Bi(i.d).slice(0,l)){for(;m--;)i=Sr(i.times(i),l);return h.precision=f,r==null?(zr=!0,Sr(i,f)):i}i=o}}function xs(e){for(var r=e.e*Dr,s=e.d[0];s>=10;s/=10)r++;return r}function Tj(e,r,s){if(r>e.LN10.sd())throw zr=!0,s&&(e.precision=s),Error(Hn+"LN10 precision limit exceeded");return Sr(new e(e.LN10),r)}function Ml(e){for(var r="";e--;)r+="0";return r}function af(e,r){var s,a,n,i,o,l,d,m,h,f=1,g=10,y=e,w=y.d,v=y.constructor,b=v.precision;if(y.s<1)throw Error(Hn+(y.s?"NaN":"-Infinity"));if(y.eq(hn))return new v(0);if(r==null?(zr=!1,m=b):m=r,y.eq(10))return r==null&&(zr=!0),Tj(v,m);if(m+=g,v.precision=m,s=Bi(w),a=s.charAt(0),i=xs(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)y=y.times(e),s=Bi(y.d),a=s.charAt(0),f++;i=xs(y),a>1?(y=new v("0."+s),i++):y=new v(a+"."+s.slice(1))}else return d=Tj(v,m+2,b).times(i+""),y=af(new v(a+"."+s.slice(1)),m-g).plus(d),v.precision=b,r==null?(zr=!0,Sr(y,b)):y;for(l=o=y=Ro(y.minus(hn),y.plus(hn),m),h=Sr(y.times(y),m),n=3;;){if(o=Sr(o.times(h),m),d=l.plus(Ro(o,new v(n),m)),Bi(d.d).slice(0,m)===Bi(l.d).slice(0,m))return l=l.times(2),i!==0&&(l=l.plus(Tj(v,m+2,b).times(i+""))),l=Ro(l,new v(f),m),v.precision=b,r==null?(zr=!0,Sr(l,b)):l;l=d,n+=2}}function S5(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=dm(s/Dr),e.d=[],a=(s+1)%Dr,s<0&&(a+=Dr),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Dr;a<n;)e.d.push(+r.slice(a,a+=Dr));r=r.slice(a),a=Dr-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),zr&&(e.e>V0||e.e<-V0))throw Error(JC+s)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,r,s){var a,n,i,o,l,d,m,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Dr,n=r,m=f[h=0];else{if(h=Math.ceil((a+1)/Dr),i=f.length,h>=i)return e;for(m=i=f[h],o=1;i>=10;i/=10)o++;a%=Dr,n=a-Dr+o}if(s!==void 0&&(i=$c(10,o-n-1),l=m/i%10|0,d=r<0||f[h+1]!==void 0||m%i,d=s<4?(l||d)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||d||s==6&&(a>0?n>0?m/$c(10,o-n):0:f[h-1])%10&1||s==(e.s<0?8:7))),r<1||!f[0])return d?(i=xs(e),f.length=1,r=r-i-1,f[0]=$c(10,(Dr-r%Dr)%Dr),e.e=dm(-r/Dr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=h,i=1,h--):(f.length=h+1,i=$c(10,Dr-a),f[h]=n>0?(m/$c(10,o-n)%$c(10,n)|0)*i:0),d)for(;;)if(h==0){(f[0]+=i)==zs&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=zs)break;f[h--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(zr&&(e.e>V0||e.e<-V0))throw Error(JC+xs(e));return e}function r6(e,r){var s,a,n,i,o,l,d,m,h,f,g=e.constructor,y=g.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new g(e),zr?Sr(r,y):r;if(d=e.d,f=r.d,a=r.e,m=e.e,d=d.slice(),o=m-a,o){for(h=o<0,h?(s=d,o=-o,l=f.length):(s=f,a=m,l=d.length),n=Math.max(Math.ceil(y/Dr),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=d.length,l=f.length,h=n<l,h&&(l=n),n=0;n<l;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}o=0}for(h&&(s=d,d=f,f=s,r.s=-r.s),l=d.length,n=f.length-l;n>0;--n)d[l++]=0;for(n=f.length;n>o;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=zs-1;--d[i],d[n]+=zs}d[n]-=f[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(r.d=d,r.e=a,zr?Sr(r,y):r):new g(0)}function dd(e,r,s){var a,n=xs(e),i=Bi(e.d),o=i.length;return r?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ml(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Ml(-n-1)+i,s&&(a=s-o)>0&&(i+=Ml(a))):n>=o?(i+=Ml(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+Ml(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=Ml(a))),e.s<0?"-"+i:i}function C5(e,r){if(e.length>r)return e.length=r,!0}function s6(e){var r,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return S5(o,i.toString())}else if(typeof i!="string")throw Error(Xc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Zce.test(i))S5(o,i);else throw Error(Xc+i)}if(n.prototype=Je,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=s6,n.config=n.set=ede,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function ede(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var r,s,a,n=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(dm(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(Xc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Xc+s+": "+a);return this}var XC=s6(Qce);hn=new XC(1);const gr=XC;var tde=e=>e,a6={},n6=e=>e===a6,k5=e=>function r(){return arguments.length===0||arguments.length===1&&n6(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},i6=(e,r)=>e===1?r:k5(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(o=>o!==a6).length;return i>=e?r(...a):i6(e-i,k5(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var m=a.map(h=>n6(h)?l.shift():h);return r(...m,...l)}))}),fy=e=>i6(e.length,e),S1=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},rde=fy((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),sde=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return tde;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},C1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),o6=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((o,l)=>{var d;return o===((d=r)===null||d===void 0?void 0:d[l])})||(r=n,s=e(...n)),s}};function l6(e){var r;return e===0?r=1:r=Math.floor(new gr(e).abs().log(10).toNumber())+1,r}function c6(e,r,s){for(var a=new gr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}fy((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});fy((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});fy((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var d6=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},u6=(e,r,s)=>{if(e.lte(0))return new gr(0);var a=l6(e.toNumber()),n=new gr(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new gr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),d=l.mul(n);return r?new gr(d.toNumber()):new gr(Math.ceil(d.toNumber()))},ade=(e,r,s)=>{var a=new gr(1),n=new gr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new gr(10).pow(l6(e)-1),n=new gr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new gr(Math.floor(e)))}else e===0?n=new gr(Math.floor((r-1)/2)):s||(n=new gr(Math.floor(e)));var o=Math.floor((r-1)/2),l=sde(rde(d=>n.add(new gr(d-o).mul(a)).toNumber()),S1);return l(0,r)},m6=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new gr(0),tickMin:new gr(0),tickMax:new gr(0)};var o=u6(new gr(s).sub(r).div(a-1),n,i),l;r<=0&&s>=0?l=new gr(0):(l=new gr(r).add(s).div(2),l=l.sub(new gr(l).mod(o)));var d=Math.ceil(l.sub(r).div(o).toNumber()),m=Math.ceil(new gr(s).sub(l).div(o).toNumber()),h=d+m+1;return h>a?m6(r,s,a,n,i+1):(h<a&&(m=s>0?m+(a-h):m,d=s>0?d:d+(a-h)),{step:o,tickMin:l.sub(new gr(d).mul(o)),tickMax:l.add(new gr(m).mul(o))})};function nde(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=d6([r,s]);if(o===-1/0||l===1/0){var d=l===1/0?[o,...S1(0,a-1).map(()=>1/0)]:[...S1(0,a-1).map(()=>-1/0),l];return r>s?C1(d):d}if(o===l)return ade(o,a,n);var{step:m,tickMin:h,tickMax:f}=m6(o,l,i,n,0),g=c6(h,f.add(new gr(.1).mul(m)),m);return r>s?C1(g):g}function ide(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=d6([s,a]);if(i===-1/0||o===1/0)return[s,a];if(i===o)return[i];var l=Math.max(r,2),d=u6(new gr(o).sub(i).div(l-1),n,0),m=[...c6(new gr(i),new gr(o),d),o];return n===!1&&(m=m.map(h=>Math.round(h))),s>a?C1(m):m}var ode=o6(nde),lde=o6(ide),h6=e=>e.rootProps.maxBarSize,cde=e=>e.rootProps.barGap,f6=e=>e.rootProps.barCategoryGap,dde=e=>e.rootProps.barSize,zf=e=>e.rootProps.stackOffset,QC=e=>e.options.chartName,ZC=e=>e.rootProps.syncId,p6=e=>e.rootProps.syncMethod,e2=e=>e.options.eventEmitter,ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},py=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},ude={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:ko.reversed,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:ko.type,unit:void 0},mde={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:cn.type,unit:void 0},hde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ko.scale,tick:ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fde={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:"category",unit:void 0},t2=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?hde:ude,r2=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?fde:mde,gy=e=>e.polarOptions,s2=he([Ko,Go,Ps],HL),g6=he([gy,s2],(e,r)=>{if(e!=null)return Ta(e.innerRadius,r,0)}),x6=he([gy,s2],(e,r)=>{if(e!=null)return Ta(e.outerRadius,r,r*.8)}),pde=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},y6=he([gy],pde);he([t2,y6],py);var v6=he([s2,g6,x6],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});he([r2,v6],py);var b6=he([Wt,gy,g6,x6,Ko,Go],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:o,cy:l,startAngle:d,endAngle:m}=r;return{cx:Ta(o,n,n/2),cy:Ta(l,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:m,clockWise:!1}}}),Br=(e,r)=>r,Ff=(e,r,s)=>s;function xy(e){return e==null?void 0:e.id}var Es=e=>{var r=Wt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},um=e=>e.tooltip.settings.axisId,Ts=e=>{var r=Es(e),s=um(e);return Uf(e,r,s)};function w6(e,r,s){var{chartData:a=[]}=r,n=s==null?void 0:s.dataKey,i=new Map;return e.forEach(o=>{var l,d=(l=o.data)!==null&&l!==void 0?l:a;if(!(d==null||d.length===0)){var m=xy(o);d.forEach((h,f)=>{var g=n==null?f:String(yr(h,n,null)),y=yr(h,o.dataKey,0),w;i.has(g)?w=i.get(g):w={},Object.assign(w,{[m]:y}),i.set(g,w)})}}),Array.from(i.values())}function yy(e){return e.stackId!=null&&e.dataKey!=null}function _5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function q0(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_5(Object(s),!0).forEach(function(a){gde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gde(e,r,s){return(r=xde(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xde(e){var r=yde(e,"string");return typeof r=="symbol"?r:r+""}function yde(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var k1=[0,"auto"],on={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jo=(e,r)=>{var s=e.cartesianAxis.xAxis[r];return s??on},ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:k1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ny},ic=(e,r)=>{var s=e.cartesianAxis.yAxis[r];return s??ln},vde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},a2=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??vde},us=(e,r,s)=>{switch(r){case"xAxis":return Jo(e,s);case"yAxis":return ic(e,s);case"zAxis":return a2(e,s);case"angleAxis":return t2(e,s);case"radiusAxis":return r2(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},bde=(e,r,s)=>{switch(r){case"xAxis":return Jo(e,s);case"yAxis":return ic(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Uf=(e,r,s)=>{switch(r){case"xAxis":return Jo(e,s);case"yAxis":return ic(e,s);case"angleAxis":return t2(e,s);case"radiusAxis":return r2(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},j6=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function n2(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var Bf=e=>e.graphicalItems.cartesianItems,wde=he([Br,Ff],n2),i2=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),Wf=he([Bf,us,wde],i2),N6=he([Wf],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(yy)),S6=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),C6=he([Wf],S6),o2=e=>e.map(r=>r.data).filter(Boolean).flat(1),jde=he([Wf],o2),l2=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},c2=he([jde,$f],l2),d2=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:yr(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:yr(n,a)}))):e.map(a=>({value:a})),vy=he([c2,us,Wf],d2);function k6(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Nd(e){return e.filter(r=>eo(r)||r instanceof Date).map(Number).filter(r=>Xa(r)===!1)}function Nde(e,r,s){return!s||typeof r!="number"||Xa(r)?[]:s.length?Nd(s.flatMap(a=>{var n=yr(e,a.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!ta(i)||!ta(o)))return[r-i,r+o]})):[]}var Sde=he([N6,$f,Ts],w6),_6=(e,r,s)=>{var a={},n=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,d=l.map(xy);return[o,{stackedData:Une(e,d,s),graphicalItems:l}]}))},nf=he([Sde,N6,zf],_6),P6=(e,r,s)=>{var{dataStartIndex:a,dataEndIndex:n}=r;if(s!=="zAxis"){var i=qne(e,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Cde=he([nf,nc,Br],P6),A6=(e,r,s,a,n)=>s.length>0?e.flatMap(i=>s.flatMap(o=>{var l,d,m=(l=a[o.id])===null||l===void 0?void 0:l.filter(f=>k6(n,f)),h=yr(i,(d=r.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:h,errorDomain:Nde(i,h,m)}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(i=>({value:yr(i,r.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),by=e=>e.errorBars,E6=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>k6(s,a));he([C6,by,Br],E6);var kde=he([c2,us,C6,by,Br],A6);function _de(e){var{value:r}=e;if(eo(r)||r instanceof Date)return r}var P5=e=>{var r=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),s=Nd(r);if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Pde=(e,r,s)=>{var a=e.map(_de).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&WD(a))?y8(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},u2=e=>{var r;if(e==null||!("domain"in e))return k1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Nd(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:k1},H0=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},T6=e=>e.referenceElements.dots,mm=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),Ade=he([T6,Br,Ff],mm),O6=e=>e.referenceElements.areas,Ede=he([O6,Br,Ff],mm),M6=e=>e.referenceElements.lines,Tde=he([M6,Br,Ff],mm),R6=(e,r)=>{var s=Nd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Ode=he(Ade,Br,R6),I6=(e,r)=>{var s=Nd(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Mde=he([Ede,Br],I6),D6=(e,r)=>{var s=Nd(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Rde=he(Tde,Br,D6),Ide=he(Ode,Rde,Mde,(e,r,s)=>H0(e,s,r)),L6=he([us],u2),m2=(e,r,s,a,n,i,o)=>{var l=Jce(r,e.allowDataOverflow);if(l!=null)return l;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",m=d?H0(s,n,P5(a)):H0(n,P5(a));return Xce(r,m,e.allowDataOverflow)},Dde=he([us,L6,Cde,kde,Ide,Wt,Br],m2),Lde=[0,1],h2=(e,r,s,a,n,i,o)=>{if(!((e==null||s==null||s.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,m=co(r,i);return m&&l==null?y8(0,s.length):d==="category"?Pde(a,e,m):n==="expand"?Lde:o}},f2=he([us,Wt,c2,vy,zf,Br,Dde],h2),$6=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Ef(i));return l in Ah?l:"point"}}},hm=he([us,Wt,j6,QC,Br],$6);function $de(e){if(e!=null){if(e in Ah)return Ah[e]();var r="scale".concat(Ef(e));if(r in Ah)return Ah[r]()}}function p2(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=$de(r);if(n!=null){var i=n.domain(s).range(a);return Dne(i),i}}}var g2=(e,r,s)=>{var a=u2(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Yu(e))return ode(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Yu(e))return lde(e,r.tickCount,r.allowDecimals)}},x2=he([f2,Uf,hm],g2),y2=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Yu(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],o=r[1],l=s[s.length-1];return[Math.min(n,i),Math.max(o,l)]}return r},zde=he([us,f2,x2,Br],y2),Fde=he(vy,us,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Nd(e.map(l=>l.value))).sort((l,d)=>l-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];s=Math.min(s,o)}return s/n}}),z6=he(Fde,Wt,f6,Ps,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!ta(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var o=Ta(s,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Ude=(e,r)=>{var s=Jo(e,r);return s==null||typeof s.padding!="string"?0:z6(e,"xAxis",r,s.padding)},Bde=(e,r)=>{var s=ic(e,r);return s==null||typeof s.padding!="string"?0:z6(e,"yAxis",r,s.padding)},Wde=he(Jo,Ude,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),Vde=he(ic,Bde,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),qde=he([Ps,Wde,oy,iy,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),Hde=he([Ps,Wt,Vde,oy,iy,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:o}=n;return i?[a.height-o.bottom,o.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Vf=(e,r,s,a)=>{var n;switch(r){case"xAxis":return qde(e,s,a);case"yAxis":return Hde(e,s,a);case"zAxis":return(n=a2(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return y6(e);case"radiusAxis":return v6(e,s);default:return}},F6=he([us,Vf],py),fm=he([us,hm,zde,F6],p2);he([Wf,by,Br],E6);function U6(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var wy=(e,r)=>r,jy=(e,r,s)=>s,Kde=he(jC,wy,jy,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(U6)),Gde=he(NC,wy,jy,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(U6)),B6=(e,r)=>({width:e.width,height:r.height}),Yde=(e,r)=>{var s=typeof r.width=="number"?r.width:ny;return{width:s,height:e.height}},W6=he(Ps,Jo,B6),Jde=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},Xde=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},Qde=he(Go,Ps,Kde,wy,jy,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=B6(r,l);o==null&&(o=Jde(r,a,e));var m=a==="top"&&!n||a==="bottom"&&n;i[l.id]=o-Number(m)*d.height,o+=(m?-1:1)*d.height}),i}),Zde=he(Ko,Ps,Gde,wy,jy,(e,r,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=Yde(r,l);o==null&&(o=Xde(r,a,e));var m=a==="left"&&!n||a==="right"&&n;i[l.id]=o-Number(m)*d.width,o+=(m?-1:1)*d.width}),i}),eue=(e,r)=>{var s=Ps(e),a=Jo(e,r);if(a!=null){var n=Qde(e,a.orientation,a.mirror),i=n[r];return i==null?{x:s.left,y:0}:{x:s.left,y:i}}},tue=(e,r)=>{var s=Ps(e),a=ic(e,r);if(a!=null){var n=Zde(e,a.orientation,a.mirror),i=n[r];return i==null?{x:0,y:s.top}:{x:i,y:s.top}}},V6=he(Ps,ic,(e,r)=>{var s=typeof r.width=="number"?r.width:ny;return{width:s,height:e.height}}),A5=(e,r,s)=>{switch(r){case"xAxis":return W6(e,s).width;case"yAxis":return V6(e,s).height;default:return}},q6=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=s,l=co(e,a),d=r.map(m=>m.value);if(o&&l&&i==="category"&&n&&WD(d))return d}},v2=he([Wt,vy,us,Br],q6),H6=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,o=co(e,a);if(o&&(n==="number"||i!=="auto"))return r.map(l=>l.value)}},b2=he([Wt,vy,Uf,Br],H6),E5=he([Wt,bde,hm,fm,v2,b2,Vf,x2,Br],(e,r,s,a,n,i,o,l,d)=>{if(r==null)return null;var m=co(e,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:m,niceTicks:l,range:o,realScaleType:s,scale:a}}),rue=(e,r,s,a,n,i,o,l,d)=>{if(!(r==null||a==null)){var m=co(e,d),{type:h,ticks:f,tickCount:g}=r,y=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/y:0;w=d==="angleAxis"&&i!=null&&i.length>=2?Fs(i[0]-i[1])*2*w:w;var v=f||n;if(v){var b=v.map((N,C)=>{var S=o?o.indexOf(N):N;return{index:C,coordinate:a(S)+w,value:N,offset:w}});return b.filter(N=>!Xa(N.coordinate))}return m&&l?l.map((N,C)=>({coordinate:a(N)+w,value:N,index:C,offset:w})):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+w,value:N,offset:w})):a.domain().map((N,C)=>({coordinate:a(N)+w,value:o?o[N]:N,index:C,offset:w}))}},K6=he([Wt,Uf,hm,fm,x2,Vf,v2,b2,Br],rue),sue=(e,r,s,a,n,i,o)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var l=co(e,o),{tickCount:d}=r,m=0;return m=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Fs(a[0]-a[1])*2*m:m,l&&i?i.map((h,f)=>({coordinate:s(h)+m,value:h,index:f,offset:m})):s.ticks?s.ticks(d).map(h=>({coordinate:s(h)+m,value:h,offset:m})):s.domain().map((h,f)=>({coordinate:s(h)+m,value:n?n[h]:h,index:f,offset:m}))}},ro=he([Wt,Uf,fm,Vf,v2,b2,Br],sue),so=he(us,fm,(e,r)=>{if(!(e==null||r==null))return q0(q0({},e),{},{scale:r})}),aue=he([us,hm,f2,F6],p2);he((e,r,s)=>a2(e,s),aue,(e,r)=>{if(!(e==null||r==null))return q0(q0({},e),{},{scale:r})});var nue=he([Wt,jC,NC],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),G6=e=>e.options.defaultTooltipEventType,Y6=e=>e.options.validateTooltipEventTypes;function J6(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function w2(e,r){var s=G6(e),a=Y6(e);return J6(r,s,a)}function iue(e){return tt(r=>w2(r,e))}var X6=(e,r)=>{var s,a=Number(r);if(!(Xa(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},oue=e=>e.tooltip.settings,Il={active:!1,index:null,dataKey:void 0,coordinate:void 0},lue={itemInteraction:{click:Il,hover:Il},axisInteraction:{click:Il,hover:Il},keyboardInteraction:Il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Q6=wn({name:"tooltip",initialState:lue,reducers:{addTooltipEntrySettings(e,r){e.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(e,r){var s=Mo(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:cue,removeTooltipEntrySettings:due,setTooltipSettingsState:uue,setActiveMouseOverItemIndex:Z6,mouseLeaveItem:mue,mouseLeaveChart:e$,setActiveClickItemIndex:hue,setMouseOverAxisIndex:t$,setMouseClickAxisIndex:fue,setSyncInteraction:_1,setKeyboardInteraction:P1}=Q6.actions,pue=Q6.reducer;function T5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Og(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?T5(Object(s),!0).forEach(function(a){gue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gue(e,r,s){return(r=xue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xue(e){var r=yue(e,"string");return typeof r=="symbol"?r:r+""}function yue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function vue(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bue(e){return e.index!=null}var r$=(e,r,s,a)=>{if(r==null)return Il;var n=vue(e,r,s);if(n==null)return Il;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(bue(n)){if(i)return Og(Og({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Og(Og({},Il),{},{coordinate:n.coordinate})},j2=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!ta(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},s$=(e,r,s,a,n,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],m=d==null?void 0:l(d.positions,i);if(m!=null)return m;var h=n==null?void 0:n[Number(i)];if(h)switch(s){case"horizontal":return{x:h.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},a$=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},qf=e=>e.options.tooltipPayloadSearcher,pm=e=>e.tooltip;function O5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function M5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?O5(Object(s),!0).forEach(function(a){wue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function wue(e,r,s){return(r=jue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function jue(e){var r=Nue(e,"string");return typeof r=="symbol"?r:r+""}function Nue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sue(e,r){return e??r}var n$=(e,r,s,a,n,i,o)=>{if(!(r==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:m,dataEndIndex:h}=s,f=[];return e.reduce((g,y)=>{var w,{dataDefinedOnItem:v,settings:b}=y,N=Sue(v,l),C=Array.isArray(N)?KL(N,m,h):N,S=(w=b==null?void 0:b.dataKey)!==null&&w!==void 0?w:a==null?void 0:a.dataKey,_=b==null?void 0:b.nameKey,A;if(a!=null&&a.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?A=VD(C,a.dataKey,n):A=i(C,r,d,_),Array.isArray(A))A.forEach(E=>{var M=M5(M5({},b),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});g.push(fT({tooltipEntrySettings:M,dataKey:E.dataKey,payload:E.payload,value:yr(E.payload,E.dataKey),name:E.name}))});else{var T;g.push(fT({tooltipEntrySettings:b,dataKey:S,payload:A,value:yr(A,S),name:(T=yr(A,_))!==null&&T!==void 0?T:b==null?void 0:b.name}))}return g},f)}},N2=he([Ts,Wt,j6,QC,Es],$6),Cue=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),kue=he([Es,um],n2),Hf=he([Cue,Ts,kue],i2),_ue=he([Hf],e=>e.filter(yy)),Pue=he([Hf],o2),gm=he([Pue,nc],l2),Aue=he([_ue,nc,Ts],w6),S2=he([gm,Ts,Hf],d2),Eue=he([Ts],u2),Tue=he([Hf],e=>e.filter(yy)),Oue=he([Aue,Tue,zf],_6),Mue=he([Oue,nc,Es],P6),Rue=he([Hf],S6),Iue=he([gm,Ts,Rue,by,Es],A6),Due=he([T6,Es,um],mm),Lue=he([Due,Es],R6),$ue=he([O6,Es,um],mm),zue=he([$ue,Es],I6),Fue=he([M6,Es,um],mm),Uue=he([Fue,Es],D6),Bue=he([Lue,Uue,zue],H0),Wue=he([Ts,Eue,Mue,Iue,Bue,Wt,Es],m2),i$=he([Ts,Wt,gm,S2,zf,Es,Wue],h2),Vue=he([i$,Ts,N2],g2),que=he([Ts,i$,Vue,Es],y2),o$=e=>{var r=Es(e),s=um(e),a=!1;return Vf(e,r,s,a)},l$=he([Ts,o$],py),c$=he([Ts,N2,que,l$],p2),Hue=he([Wt,S2,Ts,Es],q6),Kue=he([Wt,S2,Ts,Es],H6),Gue=(e,r,s,a,n,i,o,l)=>{if(r){var{type:d}=r,m=co(e,l);if(a){var h=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=d==="category"&&a.bandwidth?a.bandwidth()/h:0;return f=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Fs(n[0]-n[1])*2*f:f,m&&o?o.map((g,y)=>({coordinate:a(g)+f,value:g,index:y,offset:f})):a.domain().map((g,y)=>({coordinate:a(g)+f,value:i?i[g]:g,index:y,offset:f}))}}},Xo=he([Wt,Ts,N2,c$,o$,Hue,Kue,Es],Gue),C2=he([G6,Y6,oue],(e,r,s)=>J6(s.shared,e,r)),d$=e=>e.tooltip.settings.trigger,k2=e=>e.tooltip.settings.defaultIndex,Ny=he([pm,C2,d$,k2],r$),Yl=he([Ny,gm],j2),u$=he([Xo,Yl],X6),m$=he([Ny],e=>{if(e)return e.dataKey}),h$=he([pm,C2,d$,k2],a$),Yue=he([Ko,Go,Wt,Ps,Xo,k2,h$,qf],s$),Jue=he([Ny,Yue],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),Xue=he([Ny],e=>e.active),Que=he([h$,Yl,nc,Ts,u$,qf,C2],n$),Zue=he([Que],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function R5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function I5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?R5(Object(s),!0).forEach(function(a){eme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function eme(e,r,s){return(r=tme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function tme(e){var r=rme(e,"string");return typeof r=="symbol"?r:r+""}function rme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sme=()=>tt(Ts),ame=()=>{var e=sme(),r=tt(Xo),s=tt(c$);return cd(I5(I5({},e),{},{scale:s}),r)},f$=()=>tt(QC),_2=(e,r)=>r,p$=(e,r,s)=>s,P2=(e,r,s,a)=>a,nme=he(Xo,e=>Qx(e,r=>r.coordinate)),A2=he([pm,_2,p$,P2],r$),g$=he([A2,gm],j2),ime=(e,r,s)=>{if(r!=null){var a=pm(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},x$=he([pm,_2,p$,P2],a$),K0=he([Ko,Go,Wt,Ps,Xo,P2,x$,qf],s$),ome=he([A2,K0],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),y$=he(Xo,g$,X6),lme=he([x$,g$,nc,Ts,y$,qf,_2],n$),cme=he([A2],e=>({isActive:e.active,activeIndex:e.index})),dme=(e,r,s,a,n,i,o,l)=>{if(!(!e||!r||!a||!n||!i)){var d=Hne(e.chartX,e.chartY,r,s,l);if(d){var m=Gne(d,r),h=Rne(m,o,i,a,n),f=Kne(r,i,h,d);return{activeIndex:String(h),activeCoordinate:f}}}};function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},A1.apply(null,arguments)}function D5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Mg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D5(Object(s),!0).forEach(function(a){ume(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ume(e,r,s){return(r=mme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function mme(e){var r=hme(e,"string");return typeof r=="symbol"?r:r+""}function hme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function fme(e){var{coordinate:r,payload:s,index:a,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:d,chartName:m}=e,h=r,f=s,g=a;if(!l||!h||m!=="ScatterChart"&&d!=="axis")return null;var y,w;if(m==="ScatterChart")y=h,w=Tie;else if(m==="BarChart")y=Oie(o,h,n,i),w=f8;else if(o==="radial"){var{cx:v,cy:b,radius:N,startAngle:C,endAngle:S}=p8(h);y={cx:v,cy:b,startAngle:C,endAngle:S,innerRadius:N,outerRadius:N},w=x8}else y={points:goe(o,h,n)},w=Ou;var _=typeof l=="object"&&"className"in l?l.className:void 0,A=Mg(Mg(Mg(Mg({stroke:"#ccc",pointerEvents:"none"},n),y),Ar(l,!1)),{},{payload:f,payloadIndex:g,className:Xt("recharts-tooltip-cursor",_)});return p.isValidElement(l)?p.cloneElement(l,A):p.createElement(w,A)}function pme(e){var r=ame(),s=t8(),a=Mf(),n=f$();return p.createElement(fme,A1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var v$=p.createContext(null),gme=()=>p.useContext(v$),Oj={exports:{}},L5;function xme(){return L5||(L5=1,function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function i(d,m,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new n(h,f||d,g),w=s?s+m:m;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function o(d,m){--d._eventsCount===0?d._events=new a:delete d._events[m]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var m=[],h,f;if(this._eventsCount===0)return m;for(f in h=this._events)r.call(h,f)&&m.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},l.prototype.listeners=function(m){var h=s?s+m:m,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,y=f.length,w=new Array(y);g<y;g++)w[g]=f[g].fn;return w},l.prototype.listenerCount=function(m){var h=s?s+m:m,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(m,h,f,g,y,w){var v=s?s+m:m;if(!this._events[v])return!1;var b=this._events[v],N=arguments.length,C,S;if(b.fn){switch(b.once&&this.removeListener(m,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,f),!0;case 4:return b.fn.call(b.context,h,f,g),!0;case 5:return b.fn.call(b.context,h,f,g,y),!0;case 6:return b.fn.call(b.context,h,f,g,y,w),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];b.fn.apply(b.context,C)}else{var _=b.length,A;for(S=0;S<_;S++)switch(b[S].once&&this.removeListener(m,b[S].fn,void 0,!0),N){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,h);break;case 3:b[S].fn.call(b[S].context,h,f);break;case 4:b[S].fn.call(b[S].context,h,f,g);break;default:if(!C)for(A=1,C=new Array(N-1);A<N;A++)C[A-1]=arguments[A];b[S].fn.apply(b[S].context,C)}}return!0},l.prototype.on=function(m,h,f){return i(this,m,h,f,!1)},l.prototype.once=function(m,h,f){return i(this,m,h,f,!0)},l.prototype.removeListener=function(m,h,f,g){var y=s?s+m:m;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!f||w.context===f)&&o(this,y);else{for(var v=0,b=[],N=w.length;v<N;v++)(w[v].fn!==h||g&&!w[v].once||f&&w[v].context!==f)&&b.push(w[v]);b.length?this._events[y]=b.length===1?b[0]:b:o(this,y)}return this},l.prototype.removeAllListeners=function(m){var h;return m?(h=s?s+m:m,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l}(Oj)),Oj.exports}var yme=xme();const vme=vn(yme);var of=new vme,E1="recharts.syncEvent.tooltip",$5="recharts.syncEvent.brush";function Sy(e,r){if(r){var s=Number.parseInt(r,10);if(!Xa(s))return e==null?void 0:e[s]}}var bme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},b$=wn({name:"options",initialState:bme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wme=b$.reducer,{createEventEmitter:jme}=b$.actions;function Nme(e){return e.tooltip.syncInteraction}var Sme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},w$=wn({name:"chartData",initialState:Sme,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:z5,setDataStartEndIndexes:Cme,setComputedData:C1e}=w$.actions,kme=w$.reducer,j$=()=>{};function _me(){var e=tt(ZC),r=tt(e2),s=ds(),a=tt(p6),n=tt(Xo),i=Mf(),o=SC(),l=tt(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return j$;var d=(m,h,f)=>{if(r!==f&&e===m){if(a==="index"){s(h);return}if(n!=null){var g;if(typeof a=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=a(n,y);g=n[w]}else a==="value"&&(g=n.find(T=>String(T.value)===h.payload.label));var{coordinate:v}=h.payload;if(g==null||h.payload.active===!1||v==null||o==null){s(_1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:N}=v,C=Math.min(b,o.x+o.width),S=Math.min(N,o.y+o.height),_={x:i==="horizontal"?g.coordinate:C,y:i==="horizontal"?S:g.coordinate},A=_1({active:h.payload.active,coordinate:_,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});s(A)}}};return of.on(E1,d),()=>{of.off(E1,d)}},[l,s,r,e,a,n,i,o])}function Pme(){var e=tt(ZC),r=tt(e2),s=ds();p.useEffect(()=>{if(e==null)return j$;var a=(n,i,o)=>{r!==o&&e===n&&s(Cme(i))};return of.on($5,a),()=>{of.off($5,a)}},[s,r,e])}function Ame(){var e=ds();p.useEffect(()=>{e(jme())},[e]),_me(),Pme()}function Eme(e,r,s,a,n,i){var o=tt(g=>ime(g,e,r)),l=tt(e2),d=tt(ZC),m=tt(p6),h=tt(Nme),f=h==null?void 0:h.active;p.useEffect(()=>{if(!f&&d!=null&&l!=null){var g=_1({active:i,coordinate:s,dataKey:o,index:n,label:typeof a=="number"?String(a):a});of.emit(E1,d,g,l)}},[f,s,o,n,a,l,d,m,i])}function F5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function U5(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?F5(Object(s),!0).forEach(function(a){Tme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tme(e,r,s){return(r=Ome(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ome(e){var r=Mme(e,"string");return typeof r=="symbol"?r:r+""}function Mme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Rme(e){return e.dataKey}function Ime(e,r){return p.isValidElement(e)?p.cloneElement(e,r):typeof e=="function"?p.createElement(e,r):p.createElement(cie,r)}var B5=[],Dme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zn(e){var r=Ia(e,Dme),{active:s,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:d,offset:m,payloadUniqBy:h,position:f,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:v,shared:b,trigger:N,defaultIndex:C,portal:S,axisId:_}=r,A=ds(),T=typeof C=="number"?String(C):C;p.useEffect(()=>{A(uue({shared:b,trigger:N,axisId:_,active:s,defaultIndex:T}))},[A,b,N,_,s,T]);var E=SC(),M=o8(),L=iue(b),{activeIndex:H,isActive:O}=tt(ne=>cme(ne,L,N,T)),I=tt(ne=>lme(ne,L,N,T)),W=tt(ne=>y$(ne,L,N,T)),V=tt(ne=>ome(ne,L,N,T)),U=I,$=gme(),R=s??O,[F,z]=Sae([U,R]),K=L==="axis"?W:void 0;Eme(L,N,V,K,H,R);var B=S??$;if(B==null)return null;var Q=U??B5;R||(Q=B5),l&&Q.length&&(Q=Qse(U.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),h,Rme));var Ce=Q.length>0,Z=p.createElement(gie,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:d,active:R,coordinate:V,hasPayload:Ce,offset:m,position:f,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:w,lastBoundingBox:F,innerRef:z,hasPortalFromProps:!!S},Ime(o,U5(U5({},r),{},{payload:Q,label:K,active:R,coordinate:V,accessibilityLayer:M})));return p.createElement(p.Fragment,null,Jl.createPortal(Z,B),R&&p.createElement(pme,{cursor:v,tooltipEventType:L,coordinate:V,payload:U,index:H}))}var Mj={},Rj={},Ij={},W5;function Lme(){return W5||(W5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),m=i==null||i.includes("trailing"),h=()=>{l!==null&&(s.apply(o,l),o=void 0,l=null)},f=()=>{m&&h(),v()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{w(),o=void 0,l=null},b=()=>{h()},N=function(...C){if(n!=null&&n.aborted)return;o=this,l=C;const S=g==null;y(),d&&S&&h()};return N.schedule=y,N.cancel=v,N.flush=b,n==null||n.addEventListener("abort",v,{once:!0}),N}e.debounce=r}(Ij)),Ij}var V5;function $me(){return V5||(V5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Lme();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,m=Array(2);o&&(m[0]="leading"),l&&(m[1]="trailing");let h,f=null;const g=r.debounce(function(...v){h=a.apply(this,v),f=null},n,{edges:m}),y=function(...v){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(h=a.apply(this,v),f=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},w=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=w,y}e.debounce=s}(Rj)),Rj}var q5;function zme(){return q5||(q5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=$me();function s(a,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return r.debounce(a,n,{leading:o,maxWait:n,trailing:l})}e.throttle=s}(Mj)),Mj}var Dj,H5;function Fme(){return H5||(H5=1,Dj=zme().throttle),Dj}var Ume=Fme();const Bme=vn(Ume);var Lh=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function K5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Lj(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?K5(Object(s),!0).forEach(function(a){Wme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):K5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Wme(e,r,s){return(r=Vme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Vme(e){var r=qme(e,"string");return typeof r=="symbol"?r:r+""}function qme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Fn=p.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:d,children:m,debounce:h=0,id:f,className:g,onResize:y,style:w={}}=e,v=p.useRef(null),b=p.useRef();b.current=y,p.useImperativeHandle(r,()=>v.current);var[N,C]=p.useState({containerWidth:a.width,containerHeight:a.height}),S=p.useCallback((A,T)=>{C(E=>{var M=Math.round(A),L=Math.round(T);return E.containerWidth===M&&E.containerHeight===L?E:{containerWidth:M,containerHeight:L}})},[]);p.useEffect(()=>{var A=L=>{var H,{width:O,height:I}=L[0].contentRect;S(O,I),(H=b.current)===null||H===void 0||H.call(b,O,I)};h>0&&(A=Bme(A,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(A),{width:E,height:M}=v.current.getBoundingClientRect();return S(E,M),T.observe(v.current),()=>{T.disconnect()}},[S,h]);var _=p.useMemo(()=>{var{containerWidth:A,containerHeight:T}=N;if(A<0||T<0)return null;Lh(Fc(n)||Fc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),Lh(!s||s>0,"The aspect(%s) must be greater than zero.",s);var E=Fc(n)?A:n,M=Fc(i)?T:i;return s&&s>0&&(E?M=E/s:M&&(E=M*s),d&&M>d&&(M=d)),Lh(E>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,M,n,i,o,l,s),p.Children.map(m,L=>p.cloneElement(L,{width:E,height:M,style:Lj({width:E,height:M},L.props.style)}))},[s,m,i,d,l,o,N,n]);return p.createElement("div",{id:f?"".concat(f):void 0,className:Xt("recharts-responsive-container",g),style:Lj(Lj({},w),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:v},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Sd=e=>null;Sd.displayName="Cell";function Hme(e,r,s){return(r=Kme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kme(e){var r=Gme(e,"string");return typeof r=="symbol"?r:r+""}function Gme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Yme{constructor(r){Hme(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function G5(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Jme(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?G5(Object(s),!0).forEach(function(a){Xme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):G5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Xme(e,r,s){return(r=Qme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Qme(e){var r=Zme(e,"string");return typeof r=="symbol"?r:r+""}function Zme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ehe={cacheSize:2e3,enableCache:!0},N$=Jme({},ehe),Y5=new Yme(N$.cacheSize),the={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},J5="recharts_measurement_span";function rhe(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",l=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l)}var X5=(e,r)=>{try{var s=document.getElementById(J5);s||(s=document.createElement("span"),s.setAttribute("id",J5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,the,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},$h=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||rc.isSsr)return{width:0,height:0};if(!N$.enableCache)return X5(r,s);var a=rhe(r,s),n=Y5.get(a);if(n)return n;var i=X5(r,s);return Y5.set(a,i),i},Q5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,she=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ahe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nhe=Object.keys(S$),Cu="NaN";function ihe(e,r){return e*S$[r]}class qa{static parse(r){var s,[,a,n]=(s=ahe.exec(r))!==null&&s!==void 0?s:[];return new qa(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,Xa(r)&&(this.unit=""),s!==""&&!she.test(s)&&(this.num=NaN,this.unit=""),nhe.includes(s)&&(this.num=ihe(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new qa(NaN,""):new qa(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new qa(NaN,""):new qa(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new qa(NaN,""):new qa(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new qa(NaN,""):new qa(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xa(this.num)}}function C$(e){if(e.includes(Cu))return Cu;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=Q5.exec(r))!==null&&s!==void 0?s:[],o=qa.parse(a??""),l=qa.parse(i??""),d=n==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return Cu;r=r.replace(Q5,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,[,h,f,g]=(m=Z5.exec(r))!==null&&m!==void 0?m:[],y=qa.parse(h??""),w=qa.parse(g??""),v=f==="+"?y.add(w):y.subtract(w);if(v.isNaN())return Cu;r=r.replace(Z5,v.toString())}return r}var e3=/\(([^()]*)\)/;function ohe(e){for(var r=e,s;(s=e3.exec(r))!=null;){var[,a]=s;r=r.replace(e3,C$(a))}return r}function lhe(e){var r=e.replace(/\s+/g,"");return r=ohe(r),r=C$(r),r}function che(e){try{return lhe(e)}catch{return Cu}}function $j(e){var r=che(e.slice(5,-1));return r===Cu?"":r}var dhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uhe=["dx","dy","angle","className","breakAll"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},T1.apply(null,arguments)}function t3(e,r){if(e==null)return{};var s,a,n=mhe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mhe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var k$=/[ \f\n\r\t\v\u2028\u2029]+/,_$=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Er(r)||(s?n=r.toString().split(""):n=r.toString().split(k$));var i=n.map(l=>({word:l,width:$h(l,a).width})),o=s?0:$h(" ",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},hhe=(e,r,s,a,n)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,m=Ve(i),h=o,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((I,W)=>{var{word:V,width:U}=W,$=I[I.length-1];if($&&(a==null||n||$.width+U+s<Number(a)))$.words.push(V),$.width+=U+s;else{var R={words:[V],width:U};I.push(R)}return I},[])},g=f(r),y=H=>H.reduce((O,I)=>O.width>I.width?O:I);if(!m||n)return g;var w=g.length>i||y(g).width>Number(a);if(!w)return g;for(var v="…",b=H=>{var O=h.slice(0,H),I=_$({breakAll:d,style:l,children:O+v}).wordsWithComputedWidth,W=f(I),V=W.length>i||y(W).width>Number(a);return[V,W]},N=0,C=h.length-1,S=0,_;N<=C&&S<=h.length-1;){var A=Math.floor((N+C)/2),T=A-1,[E,M]=b(T),[L]=b(A);if(!E&&!L&&(N=A+1),E&&L&&(C=A-1),!E&&L){_=M;break}S++}return _||g},r3=e=>{var r=Er(e)?[]:e.toString().split(k$);return[{words:r}]},fhe=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:o}=e;if((r||s)&&!rc.isSsr){var l,d,m=_$({breakAll:i,children:a,style:n});if(m){var{wordsWithComputedWidth:h,spaceWidth:f}=m;l=h,d=f}else return r3(a);return hhe({breakAll:i,children:a,maxLines:o,style:n},l,d,r,s)}return r3(a)},s3="#808080",Cy=p.forwardRef((e,r)=>{var{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:d="end",fill:m=s3}=e,h=t3(e,dhe),f=p.useMemo(()=>fhe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:g,dy:y,angle:w,className:v,breakAll:b}=h,N=t3(h,uhe);if(!eo(s)||!eo(a))return null;var C=s+(Ve(g)?g:0),S=a+(Ve(y)?y:0),_;switch(d){case"start":_=$j("calc(".concat(i,")"));break;case"middle":_=$j("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:_=$j("calc(".concat(f.length-1," * -").concat(n,")"));break}var A=[];if(o){var T=f[0].width,{width:E}=h;A.push("scale(".concat(Ve(E)?E/T:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(S,")")),A.length&&(N.transform=A.join(" ")),p.createElement("text",T1({},Ar(N,!0),{ref:r,x:C,y:S,className:Xt("recharts-text",v),textAnchor:l,fill:m.includes("url")?s3:m}),f.map((M,L)=>{var H=M.words.join(b?"":" ");return p.createElement("tspan",{x:C,dy:L===0?_:n,key:"".concat(H,"-").concat(L)},H)}))});Cy.displayName="Text";var phe=["offset"],ghe=["labelRef"];function a3(e,r){if(e==null)return{};var s,a,n=xhe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function xhe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function n3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Yr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?n3(Object(s),!0).forEach(function(a){yhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yhe(e,r,s){return(r=vhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vhe(e){var r=bhe(e,"string");return typeof r=="symbol"?r:r+""}function bhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_o.apply(null,arguments)}var whe=e=>{var{value:r,formatter:s}=e,a=Er(e.children)?r:e.children;return typeof s=="function"?s(a):a},E2=e=>e!=null&&typeof e=="function",jhe=(e,r)=>{var s=Fs(r-e),a=Math.min(Math.abs(r-e),360);return s*a},Nhe=(e,r,s,a)=>{var{position:n,offset:i,className:o}=e,{cx:l,cy:d,innerRadius:m,outerRadius:h,startAngle:f,endAngle:g,clockWise:y}=a,w=(m+h)/2,v=jhe(f,g),b=v>=0?1:-1,N,C;n==="insideStart"?(N=f+b*i,C=y):n==="insideEnd"?(N=g-b*i,C=!y):n==="end"&&(N=g+b*i,C=y),C=v<=0?C:!C;var S=ps(l,d,w,N),_=ps(l,d,w,N+(C?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Er(e.id)?Jh("recharts-radial-line-"):e.id;return p.createElement("text",_o({},s,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:T,d:A})),p.createElement("textPath",{xlinkHref:"#".concat(T)},r))},She=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,m=(l+d)/2;if(s==="outside"){var{x:h,y:f}=ps(a,n,o+r,m);return{x:h,y:f,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x:y,y:w}=ps(a,n,g,m);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Che=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,{x:i,y:o,width:l,height:d}=r,m=d>=0?1:-1,h=m*a,f=m>0?"end":"start",g=m>0?"start":"end",y=l>=0?1:-1,w=y*a,v=y>0?"end":"start",b=y>0?"start":"end";if(n==="top"){var N={x:i+l/2,y:o-m*a,textAnchor:"middle",verticalAnchor:f};return Yr(Yr({},N),s?{height:Math.max(o-s.y,0),width:l}:{})}if(n==="bottom"){var C={x:i+l/2,y:o+d+h,textAnchor:"middle",verticalAnchor:g};return Yr(Yr({},C),s?{height:Math.max(s.y+s.height-(o+d),0),width:l}:{})}if(n==="left"){var S={x:i-w,y:o+d/2,textAnchor:v,verticalAnchor:"middle"};return Yr(Yr({},S),s?{width:Math.max(S.x-s.x,0),height:d}:{})}if(n==="right"){var _={x:i+l+w,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return Yr(Yr({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:d}:{})}var A=s?{width:l,height:d}:{};return n==="insideLeft"?Yr({x:i+w,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},A):n==="insideRight"?Yr({x:i+l-w,y:o+d/2,textAnchor:v,verticalAnchor:"middle"},A):n==="insideTop"?Yr({x:i+l/2,y:o+h,textAnchor:"middle",verticalAnchor:g},A):n==="insideBottom"?Yr({x:i+l/2,y:o+d-h,textAnchor:"middle",verticalAnchor:f},A):n==="insideTopLeft"?Yr({x:i+w,y:o+h,textAnchor:b,verticalAnchor:g},A):n==="insideTopRight"?Yr({x:i+l-w,y:o+h,textAnchor:v,verticalAnchor:g},A):n==="insideBottomLeft"?Yr({x:i+w,y:o+d-h,textAnchor:b,verticalAnchor:f},A):n==="insideBottomRight"?Yr({x:i+l-w,y:o+d-h,textAnchor:v,verticalAnchor:f},A):n&&typeof n=="object"&&(Ve(n.x)||Fc(n.x))&&(Ve(n.y)||Fc(n.y))?Yr({x:i+Ta(n.x,l),y:o+Ta(n.y,d),textAnchor:"end",verticalAnchor:"end"},A):Yr({x:i+l/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},khe=e=>"cx"in e&&Ve(e.cx);function un(e){var{offset:r=5}=e,s=a3(e,phe),a=Yr({offset:r},s),{viewBox:n,position:i,value:o,children:l,content:d,className:m="",textBreakAll:h,labelRef:f}=a,g=tt(b6),y=SC(),w=i==="center"?y:g??y,v=n||w;if(!v||Er(o)&&Er(l)&&!p.isValidElement(d)&&typeof d!="function")return null;var b=Yr(Yr({},a),{},{viewBox:v});if(p.isValidElement(d)){var{labelRef:N}=b,C=a3(b,ghe);return p.cloneElement(d,C)}var S;if(typeof d=="function"){if(S=p.createElement(d,b),p.isValidElement(S))return S}else S=whe(a);var _=khe(v),A=Ar(a,!0);if(_&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Nhe(a,S,A,v);var T=_?She(v,a.offset,a.position):Che(a,v);return p.createElement(Cy,_o({ref:f,className:Xt("recharts-label",m)},A,T,{breakAll:h}),S)}un.displayName="Label";var P$=e=>{var{cx:r,cy:s,angle:a,startAngle:n,endAngle:i,r:o,radius:l,innerRadius:d,outerRadius:m,x:h,y:f,top:g,left:y,width:w,height:v,clockWise:b,labelViewBox:N}=e;if(N)return N;if(Ve(w)&&Ve(v)){if(Ve(h)&&Ve(f))return{x:h,y:f,width:w,height:v};if(Ve(g)&&Ve(y))return{x:g,y,width:w,height:v}}if(Ve(h)&&Ve(f))return{x:h,y:f,width:0,height:0};if(Ve(r)&&Ve(s))return{cx:r,cy:s,startAngle:n||a||0,endAngle:i||a||0,innerRadius:d||0,outerRadius:m||l||o||0,clockWise:b};if(e.viewBox)return e.viewBox},_he=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?p.createElement(un,_o({key:"label-implicit"},a)):eo(e)?p.createElement(un,_o({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===un?p.cloneElement(e,Yr({key:"label-implicit"},a)):p.createElement(un,_o({key:"label-implicit",content:e},a)):E2(e)?p.createElement(un,_o({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(un,_o({},e,{key:"label-implicit"},a)):null},Phe=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var{children:n,labelRef:i}=r,o=P$(r),l=Tf(n,un).map((m,h)=>p.cloneElement(m,{viewBox:s||o,key:"label-".concat(h)}));if(!a)return l;var d=_he(r.label,s||o,i);return[d,...l]};un.parseViewBox=P$;un.renderCallByParent=Phe;var zj={},Fj={},i3;function Ahe(){return i3||(i3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r}(Fj)),Fj}var Uj={},o3;function Ehe(){return o3||(o3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r}(Uj)),Uj}var l3;function The(){return l3||(l3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Ahe(),s=Ehe(),a=uC();function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n}(zj)),zj}var Bj,c3;function Ohe(){return c3||(c3=1,Bj=The().last),Bj}var Mhe=Ohe();const Rhe=vn(Mhe);var Ihe=["valueAccessor"],Dhe=["data","dataKey","clockWise","id","textBreakAll"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},G0.apply(null,arguments)}function d3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function u3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?d3(Object(s),!0).forEach(function(a){Lhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Lhe(e,r,s){return(r=$he(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function $he(e){var r=zhe(e,"string");return typeof r=="symbol"?r:r+""}function zhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function m3(e,r){if(e==null)return{};var s,a,n=Fhe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fhe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Uhe=e=>Array.isArray(e.value)?Rhe(e.value):e.value;function Io(e){var{valueAccessor:r=Uhe}=e,s=m3(e,Ihe),{data:a,dataKey:n,clockWise:i,id:o,textBreakAll:l}=s,d=m3(s,Dhe);return!a||!a.length?null:p.createElement(ls,{className:"recharts-label-list"},a.map((m,h)=>{var f=Er(n)?r(m,h):yr(m&&m.payload,n),g=Er(o)?{}:{id:"".concat(o,"-").concat(h)};return p.createElement(un,G0({},Ar(m,!0),d,g,{parentViewBox:m.parentViewBox,value:f,textBreakAll:l,viewBox:un.parseViewBox(Er(i)?m:u3(u3({},m),{},{clockWise:i})),key:"label-".concat(h),index:h}))}))}Io.displayName="LabelList";function Bhe(e,r){return e?e===!0?p.createElement(Io,{key:"labelList-implicit",data:r}):p.isValidElement(e)||E2(e)?p.createElement(Io,{key:"labelList-implicit",data:r,content:e}):typeof e=="object"?p.createElement(Io,G0({data:r},e,{key:"labelList-implicit"})):null:null}function Whe(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var{children:a}=e,n=Tf(a,Io).map((o,l)=>p.cloneElement(o,{data:r,key:"labelList-".concat(l)}));if(!s)return n;var i=Bhe(e.label,r);return[i,...n]}Io.renderCallByParent=Whe;function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},O1.apply(null,arguments)}var T2=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=Xt("recharts-dot",n);return r===+r&&s===+s&&a===+a?p.createElement("circle",O1({},_i(e),oC(e),{className:i,cx:r,cy:s,r:a})):null},A$=e=>e.graphicalItems.polarItems,Vhe=he([Br,Ff],n2),O2=he([A$,us,Vhe],i2),qhe=he([O2],o2),M2=he([qhe,YC],l2),Hhe=he([M2,us,O2],d2),Khe=he([M2,us,O2],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,o=yr(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:yr(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),h3=()=>{},Ghe=he([us,L6,h3,Khe,h3,Wt,Br],m2),E$=he([us,Wt,M2,Hhe,zf,Br,Ghe],h2),Yhe=he([E$,us,hm],g2);he([us,E$,Yhe,Br],y2);var Jhe={radiusAxis:{},angleAxis:{}},T$=wn({name:"polarAxis",initialState:Jhe,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:k1e,removeRadiusAxis:_1e,addAngleAxis:P1e,removeAngleAxis:A1e}=T$.actions,Xhe=T$.reducer;function f3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function p3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?f3(Object(s),!0).forEach(function(a){Qhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qhe(e,r,s){return(r=Zhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zhe(e){var r=efe(e,"string");return typeof r=="symbol"?r:r+""}function efe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var tfe=(e,r)=>r,R2=he([A$,tfe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),rfe=[],I2=(e,r,s)=>(s==null?void 0:s.length)===0?rfe:s,O$=he([YC,R2,I2],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>p3(p3({},r.presentationProps),i.props))),n!=null)return n}}),sfe=he([O$,R2,I2],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,o=yr(a,r.nameKey,r.name),l;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=r.fill,{value:tc(o,r.dataKey),color:l,payload:a,type:r.legendType}})}),afe=he([O$,R2,I2,Ps],(e,r,s,a)=>{if(!(r==null||e==null))return Xfe({offset:a,pieSettings:r,displayedData:e,cells:s})}),Wj={},g3;function nfe(){return g3||(g3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r}(Wj)),Wj}var Vj,x3;function ife(){return x3||(x3=1,Vj=nfe().isPlainObject),Vj}var ofe=ife();const lfe=vn(ofe);function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Y0.apply(null,arguments)}var y3=(e,r,s,a,n)=>{var i=s-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+s,",").concat(r),o+="L ".concat(e+s-i/2,",").concat(r+n),o+="L ".concat(e+s-i/2-a,",").concat(r+n),o+="L ".concat(e,",").concat(r," Z"),o},cfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dfe=e=>{var r=Ia(e,cfe),s=p.useRef(),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&n(b)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:d,height:m,className:h}=r,{animationEasing:f,animationDuration:g,animationBegin:y,isUpdateAnimationActive:w}=r;if(i!==+i||o!==+o||l!==+l||d!==+d||m!==+m||l===0&&d===0||m===0)return null;var v=Xt("recharts-trapezoid",h);return w?p.createElement(M0,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:i,y:o},to:{upperWidth:l,lowerWidth:d,height:m,x:i,y:o},duration:g,animationEasing:f,isActive:w},b=>{var{upperWidth:N,lowerWidth:C,height:S,x:_,y:A}=b;return p.createElement(M0,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:f},p.createElement("path",Y0({},Ar(r,!0),{className:v,d:y3(_,A,N,C,S),ref:s})))}):p.createElement("g",null,p.createElement("path",Y0({},Ar(r,!0),{className:v,d:y3(i,o,l,d,m)})))},ufe=["option","shapeType","propTransformer","activeClassName","isActive"];function mfe(e,r){if(e==null)return{};var s,a,n=hfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function v3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function J0(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?v3(Object(s),!0).forEach(function(a){ffe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ffe(e,r,s){return(r=pfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function pfe(e){var r=gfe(e,"string");return typeof r=="symbol"?r:r+""}function gfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function xfe(e,r){return J0(J0({},r),e)}function yfe(e,r){return e==="symbols"}function b3(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return p.createElement(f8,s);case"trapezoid":return p.createElement(dfe,s);case"sector":return p.createElement(x8,s);case"symbols":if(yfe(r))return p.createElement(uL,s);break;default:return null}}function vfe(e){return p.isValidElement(e)?e.props:e}function M$(e){var{option:r,shapeType:s,propTransformer:a=xfe,activeClassName:n="recharts-active-shape",isActive:i}=e,o=mfe(e,ufe),l;if(p.isValidElement(r))l=p.cloneElement(r,J0(J0({},o),vfe(r)));else if(typeof r=="function")l=r(o);else if(lfe(r)&&typeof r!="boolean"){var d=a(r,o);l=p.createElement(b3,{shapeType:s,elementProps:d})}else{var m=o;l=p.createElement(b3,{shapeType:s,elementProps:m})}return i?p.createElement(ls,{className:n},l):l}var D2=(e,r)=>{var s=ds();return(a,n)=>i=>{e==null||e(a,n,i),s(Z6({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},L2=e=>{var r=ds();return(s,a)=>n=>{e==null||e(s,a,n),r(mue())}},$2=(e,r)=>{var s=ds();return(a,n)=>i=>{e==null||e(a,n,i),s(hue({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function ky(e){var{fn:r,args:s}=e,a=ds(),n=Na();return p.useEffect(()=>{if(!n){var i=r(s);return a(cue(i)),()=>{a(due(i))}}},[r,s,a,n]),null}var R$=()=>{};function z2(e){var{legendPayload:r}=e,s=ds(),a=Na();return p.useEffect(()=>a?R$:(s(n8(r)),()=>{s(i8(r))}),[s,a,r]),null}function bfe(e){var{legendPayload:r}=e,s=ds(),a=tt(Wt);return p.useEffect(()=>a!=="centric"&&a!=="radial"?R$:(s(n8(r)),()=>{s(i8(r))}),[s,a,r]),null}function _y(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=p.useRef(Jh(r)),a=p.useRef(e);return a.current!==e&&(s.current=Jh(r),a.current=e),s.current}var qj,wfe=()=>{var[e]=p.useState(()=>Jh("uid-"));return e},jfe=(qj=gx.useId)!==null&&qj!==void 0?qj:wfe;function Nfe(e,r){var s=jfe();return r||(e?"".concat(e,"-").concat(s):s)}var Sfe=p.createContext(void 0),Py=e=>{var{id:r,type:s,children:a}=e,n=Nfe("recharts-".concat(s),r);return p.createElement(Sfe.Provider,{value:n},a(n))},Cfe={cartesianItems:[],polarItems:[]},I$=wn({name:"graphicalItems",initialState:Cfe,reducers:{addCartesianGraphicalItem(e,r){e.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(e,r){var{prev:s,next:a}=r.payload,n=Mo(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,r){var s=Mo(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},addPolarGraphicalItem(e,r){e.polarItems.push(r.payload)},removePolarGraphicalItem(e,r){var s=Mo(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)}}}),{addCartesianGraphicalItem:kfe,replaceCartesianGraphicalItem:_fe,removeCartesianGraphicalItem:Pfe,addPolarGraphicalItem:Afe,removePolarGraphicalItem:Efe}=I$.actions,Tfe=I$.reducer;function F2(e){var r=ds(),s=p.useRef(null);return p.useEffect(()=>{s.current===null?r(kfe(e)):s.current!==e&&r(_fe({prev:s.current,next:e})),s.current=e},[r,e]),p.useEffect(()=>()=>{s.current&&(r(Pfe(s.current)),s.current=null)},[r]),null}function Ofe(e){var r=ds();return p.useEffect(()=>(r(Afe(e)),()=>{r(Efe(e))}),[r,e]),null}function Mfe(){}var Rfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},w3={t:0},Hj={t:1};function Ay(e){var r=Ia(e,Rfe),{isActive:s,canBegin:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:m}=r,h=h8("JavascriptAnimate",r.animationManager),[f,g]=p.useState(s?w3:Hj),y=p.useRef(null);return p.useEffect(()=>{s||g(Hj)},[s]),p.useEffect(()=>{if(!s||!a)return Mfe;var w=m8(w3,Hj,d8(i),n,g,h.getTimeoutController()),v=()=>{y.current=w()};return h.start([d,o,v,n,l]),()=>{h.stop(),y.current&&y.current(),l()}},[s,a,n,i,o,d,l,h]),m(f.t)}var Ife=["onMouseEnter","onClick","onMouseLeave"],Dfe=["id"],Lfe=["id"];function U2(e,r){if(e==null)return{};var s,a,n=$fe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $fe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function j3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Jr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?j3(Object(s),!0).forEach(function(a){zfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zfe(e,r,s){return(r=Ffe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ffe(e){var r=Ufe(e,"string");return typeof r=="symbol"?r:r+""}function Ufe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ho.apply(null,arguments)}function Bfe(e){var r=p.useMemo(()=>Tf(e.children,Sd),[e.children]),s=tt(a=>sfe(a,e.id,r));return s==null?null:p.createElement(bfe,{legendPayload:s})}function Wfe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:s,name:tc(l,r),hide:d,type:m,color:o,unit:""}}}var Vfe=(e,r)=>e>r?"start":e<r?"end":"middle",qfe=(e,r,s)=>typeof r=="function"?r(e):Ta(r,s,s*.8),Hfe=(e,r,s)=>{var{top:a,left:n,width:i,height:o}=r,l=HL(i,o),d=n+Ta(e.cx,i,i/2),m=a+Ta(e.cy,o,o/2),h=Ta(e.innerRadius,l,0),f=qfe(s,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:m,innerRadius:h,outerRadius:f,maxRadius:g}},Kfe=(e,r)=>{var s=Fs(r-e),a=Math.min(Math.abs(r-e),360);return s*a},Gfe=(e,r)=>{if(p.isValidElement(e))return p.cloneElement(e,r);if(typeof e=="function")return e(r);var s=Xt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Ou,Ho({},r,{type:"linear",className:s}))},Yfe=(e,r,s)=>{if(p.isValidElement(e))return p.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),p.isValidElement(a)))return a;var n=Xt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(Cy,Ho({},r,{alignmentBaseline:"middle",className:n}),a)};function Jfe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=s;if(!a||!n||!r)return null;var l=_i(s),d=Ar(n,!1),m=Ar(i,!1),h=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,f=r.map((g,y)=>{var w=(g.startAngle+g.endAngle)/2,v=ps(g.cx,g.cy,g.outerRadius+h,w),b=Jr(Jr(Jr(Jr({},l),g),{},{stroke:"none"},d),{},{index:y,textAnchor:Vfe(v.x,g.cx)},v),N=Jr(Jr(Jr(Jr({},l),g),{},{fill:"none",stroke:g.fill},m),{},{index:y,points:[ps(g.cx,g.cy,g.outerRadius,w),v],key:"line"});return p.createElement(ls,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},i&&Gfe(i,N),Yfe(n,b,yr(g,o)))});return p.createElement(ls,{className:"recharts-pie-labels"},f)}function D$(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n,showLabels:i}=e,o=tt(Yl),{onMouseEnter:l,onClick:d,onMouseLeave:m}=n,h=U2(n,Ife),f=D2(l,n.dataKey),g=L2(m),y=$2(d,n.dataKey);return r==null?null:p.createElement(p.Fragment,null,r.map((w,v)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&r.length!==1)return null;var b=s&&String(v)===o,N=o?a:null,C=b?s:N,S=Jr(Jr({},w),{},{stroke:w.stroke,tabIndex:-1,[QL]:v,[ZL]:n.dataKey});return p.createElement(ls,Ho({tabIndex:-1,className:"recharts-pie-sector"},Kx(h,w,v),{onMouseEnter:f(w,v),onMouseLeave:g(w,v),onClick:y(w,v),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(v)}),p.createElement(M$,Ho({option:C,isActive:b,shapeType:"sector"},S)))}),p.createElement(Jfe,{sectors:r,props:n,showLabels:i}))}function Xfe(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:m,nameKey:h,tooltipType:f}=s,g=Math.abs(s.minAngle),y=Kfe(l,d),w=Math.abs(y),v=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,b=a.filter(T=>yr(T,m,0)!==0).length,N=(w>=360?b:b-1)*v,C=w-b*g-N,S=a.reduce((T,E)=>{var M=yr(E,m,0);return T+(Ve(M)?M:0)},0),_;if(S>0){var A;_=a.map((T,E)=>{var M=yr(T,m,0),L=yr(T,h,E),H=Hfe(s,i,T),O=(Ve(M)?M:0)/S,I,W=Jr(Jr({},T),n&&n[E]&&n[E].props);E?I=A.endAngle+Fs(y)*v*(M!==0?1:0):I=l;var V=I+Fs(y)*((M!==0?g:0)+O*C),U=(I+V)/2,$=(H.innerRadius+H.outerRadius)/2,R=[{name:L,value:M,payload:W,dataKey:m,type:f}],F=ps(H.cx,H.cy,$,U);return A=Jr(Jr(Jr(Jr({},s.presentationProps),{},{percent:O,cornerRadius:o,name:L,tooltipPayload:R,midAngle:U,middleRadius:$,tooltipPosition:F},W),H),{},{value:yr(T,m),startAngle:I,endAngle:V,payload:W,paddingAngle:Fs(y)*v}),A})}return _}function Qfe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:d,inactiveShape:m,onAnimationStart:h,onAnimationEnd:f}=r,g=_y(r,"recharts-pie-"),y=s.current,[w,v]=p.useState(!0),b=p.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),N=p.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return p.createElement(Ay,{begin:i,duration:o,isActive:n,easing:l,onAnimationStart:N,onAnimationEnd:b,key:g},C=>{var S=[],_=a&&a[0],A=_.startAngle;return a.forEach((T,E)=>{var M=y&&y[E],L=E>0?Gl(T,"paddingAngle",0):0;if(M){var H=ZA(M.endAngle-M.startAngle,T.endAngle-T.startAngle),O=Jr(Jr({},T),{},{startAngle:A+L,endAngle:A+H(C)+L});S.push(O),A=O.endAngle}else{var{endAngle:I,startAngle:W}=T,V=ZA(0,I-W),U=V(C),$=Jr(Jr({},T),{},{startAngle:A+L,endAngle:A+U+L});S.push($),A=$.endAngle}}),s.current=S,p.createElement(ls,null,p.createElement(D$,{sectors:S,activeShape:d,inactiveShape:m,allOtherPieProps:r,showLabels:!w}))})}function Zfe(e){var{sectors:r,isAnimationActive:s,activeShape:a,inactiveShape:n}=e,i=p.useRef(null),o=i.current;return s&&r&&r.length&&(!o||o!==r)?p.createElement(Qfe,{props:e,previousSectorsRef:i}):p.createElement(D$,{sectors:r,activeShape:a,inactiveShape:n,allOtherPieProps:e,showLabels:!0})}function epe(e){var{hide:r,className:s,rootTabIndex:a}=e,n=Xt("recharts-pie",s);return r?null:p.createElement(ls,{tabIndex:a,className:n},p.createElement(Zfe,e))}var tpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!rc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function rpe(e){var{id:r}=e,s=U2(e,Dfe),a=p.useMemo(()=>Tf(e.children,Sd),[e.children]),n=tt(i=>afe(i,r,a));return p.createElement(p.Fragment,null,p.createElement(ky,{fn:Wfe,args:Jr(Jr({},e),{},{sectors:n})}),p.createElement(epe,Ho({},s,{sectors:n})))}function Ey(e){var r=Ia(e,tpe),{id:s}=r,a=U2(r,Lfe),n=_i(a);return p.createElement(Py,{id:s,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(Ofe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),p.createElement(Bfe,Ho({},a,{id:i})),p.createElement(rpe,Ho({},a,{id:i})),a.children))}Ey.displayName="Pie";var spe=he([Ps],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ape=he([spe,Ko,Go],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Ty=()=>tt(ape),npe=()=>tt(Zue);function N3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function S3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?N3(Object(s),!0).forEach(function(a){ipe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ipe(e,r,s){return(r=ope(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ope(e){var r=lpe(e,"string");return typeof r=="symbol"?r:r+""}function lpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cpe=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var o=S3(S3({index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Ar(n,!1)),oC(n)),l;return p.isValidElement(n)?l=p.cloneElement(n,o):typeof n=="function"?l=n(o):l=p.createElement(T2,o),p.createElement(ls,{className:"recharts-active-dot"},l)};function M1(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n}=e,i=tt(Yl),o=npe();if(r==null||o==null)return null;var l=r.find(d=>o.includes(d.payload));return Er(l)?null:cpe({point:l,childIndex:Number(i),mainColor:s,dataKey:n,activeDot:a})}var dpe="Invariant failed";function upe(e,r){throw new Error(dpe)}var mpe=["x","y"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R1.apply(null,arguments)}function C3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?C3(Object(s),!0).forEach(function(a){hpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hpe(e,r,s){return(r=fpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function fpe(e){var r=ppe(e,"string");return typeof r=="symbol"?r:r+""}function ppe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function gpe(e,r){if(e==null)return{};var s,a,n=xpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function xpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ype(e,r){var{x:s,y:a}=e,n=gpe(e,mpe),i="".concat(s),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),m="".concat(r.height||n.height),h=parseInt(m,10),f="".concat(r.width||n.width),g=parseInt(f,10);return vh(vh(vh(vh(vh({},r),n),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:g,name:r.name,radius:r.radius})}function L$(e){return p.createElement(M$,R1({shapeType:"rectangle",propTransformer:ype,activeClassName:"recharts-active-bar"},e))}var vpe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Ve(r))return r;var i=Ve(a)||Er(a);return i?r(a,n):(i||upe(),s)}},bpe={},$$=wn({name:"errorBars",initialState:bpe,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:E1e,removeErrorBar:T1e}=$$.actions,wpe=$$.reducer,jpe=["children"];function Npe(e,r){if(e==null)return{};var s,a,n=Spe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Spe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Cpe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kpe=p.createContext(Cpe);function z$(e){var{children:r}=e,s=Npe(e,jpe);return p.createElement(kpe.Provider,{value:s},r)}function Oy(e,r){var s,a,n=tt(m=>Jo(m,e)),i=tt(m=>ic(m,r)),o=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:on.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:ln.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function B2(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=Ty(),{needClipX:i,needClipY:o,needClip:l}=Oy(r,s);if(!l)return null;var{x:d,y:m,width:h,height:f}=n;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:i?d:d-h/2,y:o?m:m-f/2,width:i?h:h*2,height:o?f:f*2}))}var _pe=["onMouseEnter","onMouseLeave","onClick"],Ppe=["value","background","tooltipPosition"],Ape=["id"],Epe=["onMouseEnter","onClick","onMouseLeave"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ju.apply(null,arguments)}function k3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ga(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?k3(Object(s),!0).forEach(function(a){Tpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tpe(e,r,s){return(r=Ope(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ope(e){var r=Mpe(e,"string");return typeof r=="symbol"?r:r+""}function Mpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function X0(e,r){if(e==null)return{};var s,a,n=Rpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Ipe=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:tc(s,r),payload:e}]};function Dpe(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:tc(i,r),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Lpe(e){var r=tt(Yl),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,m=X0(i,_pe),h=D2(o,a),f=L2(l),g=$2(d,a);if(!n||s==null)return null;var y=Ar(n,!1);return p.createElement(p.Fragment,null,s.map((w,v)=>{var{value:b,background:N,tooltipPosition:C}=w,S=X0(w,Ppe);if(!N)return null;var _=h(w,v),A=f(w,v),T=g(w,v),E=ga(ga(ga(ga(ga({option:n,isActive:String(v)===r},S),{},{fill:"#eee"},N),y),Kx(m,w,v)),{},{onMouseEnter:_,onMouseLeave:A,onClick:T,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(L$,Ju({key:"background-bar-".concat(v)},E))}))}function F$(e){var{data:r,props:s,showLabels:a}=e,n=_i(s),{id:i}=n,o=X0(n,Ape),{shape:l,dataKey:d,activeBar:m}=s,h=tt(Yl),f=tt(m$),{onMouseEnter:g,onClick:y,onMouseLeave:w}=s,v=X0(s,Epe),b=D2(g,d),N=L2(w),C=$2(y,d);return r?p.createElement(p.Fragment,null,r.map((S,_)=>{var A=m&&String(_)===h&&(f==null||d===f),T=A?m:l,E=ga(ga(ga({},o),S),{},{isActive:A,option:T,index:_,dataKey:d});return p.createElement(ls,Ju({className:"recharts-bar-rectangle"},Kx(v,S,_),{onMouseEnter:b(S,_),onMouseLeave:N(S,_),onClick:C(S,_),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(_)}),p.createElement(L$,E))}),a&&Io.renderCallByParent(s,r)):null}function $pe(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:m,onAnimationStart:h}=r,f=s.current,g=_y(r,"recharts-bar-"),[y,w]=p.useState(!1),v=p.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),b=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(Ay,{begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:v,onAnimationStart:b,key:g},N=>{var C=N===1?a:a==null?void 0:a.map((S,_)=>{var A=f&&f[_];if(A)return ga(ga({},S),{},{x:ea(A.x,S.x,N),y:ea(A.y,S.y,N),width:ea(A.width,S.width,N),height:ea(A.height,S.height,N)});if(n==="horizontal"){var T=ea(0,S.height,N);return ga(ga({},S),{},{y:S.y+S.height-T,height:T})}var E=ea(0,S.width,N);return ga(ga({},S),{},{width:E})});return N>0&&(s.current=C??null),C==null?null:p.createElement(ls,null,p.createElement(F$,{props:r,data:C,showLabels:!y}))})}function zpe(e){var{data:r,isAnimationActive:s}=e,a=p.useRef(null);return s&&r&&r.length&&(a.current==null||a.current!==r)?p.createElement($pe,{previousRectanglesRef:a,props:e}):p.createElement(F$,{props:e,data:r,showLabels:!0})}var U$=0,Fpe=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:yr(e,r)}};class Upe extends p.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:d,id:m}=this.props;if(r)return null;var h=Xt("recharts-bar",n),f=m;return p.createElement(ls,{className:h,id:m},l&&p.createElement("defs",null,p.createElement(B2,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(ls,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Lpe,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),p.createElement(zpe,this.props)),this.props.children)}}var Bpe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!rc.isSsr,legendType:"rect",minPointSize:U$,xAxisId:0,yAxisId:0};function Wpe(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h}=e,{needClip:f}=Oy(r,s),g=Mf(),y=Na(),w=Tf(e.children,Sd),v=tt(C=>gge(C,r,s,y,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var b,N=v==null?void 0:v[0];return N==null||N.height==null||N.width==null?b=0:b=g==="vertical"?N.height/2:N.width/2,p.createElement(z$,{xAxisId:r,yAxisId:s,data:v,dataPointFormatter:Fpe,errorBarOffset:b},p.createElement(Upe,Ju({},e,{layout:g,needClip:f,data:v,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:m,isAnimationActive:h})))}function Vpe(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:m,stackedData:h,displayedData:f,offset:g,cells:y}=e,w=r==="horizontal"?l:o,v=h?w.scale.domain():null,b=Bne({numericAxis:w});return f.map((N,C)=>{var S,_,A,T,E,M;h?S=Lne(h[C],v):(S=yr(N,s),Array.isArray(S)||(S=[b,S]));var L=vpe(a,U$)(S[1],C);if(r==="horizontal"){var H,[O,I]=[l.scale(S[0]),l.scale(S[1])];_=uT({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:C}),A=(H=I??O)!==null&&H!==void 0?H:void 0,T=n.size;var W=O-I;if(E=Xa(W)?0:W,M={x:_,y:g.top,width:T,height:g.height},Math.abs(L)>0&&Math.abs(E)<Math.abs(L)){var V=Fs(E||L)*(Math.abs(L)-Math.abs(E));A-=V,E+=V}}else{var[U,$]=[o.scale(S[0]),o.scale(S[1])];if(_=U,A=uT({axis:l,ticks:m,bandSize:i,offset:n.offset,entry:N,index:C}),T=$-U,E=n.size,M={x:g.left,y:A,width:g.width,height:E},Math.abs(L)>0&&Math.abs(T)<Math.abs(L)){var R=Fs(T||L)*(Math.abs(L)-Math.abs(T));T+=R}}if(_==null||A==null||T==null||E==null)return null;var F=ga(ga({},N),{},{x:_,y:A,width:T,height:E,value:h?S:S[1],payload:N,background:M,tooltipPosition:{x:_+T/2,y:A+E/2}},y&&y[C]&&y[C].props);return F}).filter(Boolean)}function lf(e){var r=Ia(e,Bpe),s=Na();return p.createElement(Py,{id:r.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(z2,{legendPayload:Ipe(r)}),p.createElement(ky,{fn:Dpe,args:r}),p.createElement(F2,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:JL(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),p.createElement(Wpe,Ju({},r,{id:a}))))}lf.displayName="Bar";function _3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_3(Object(s),!0).forEach(function(a){qpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qpe(e,r,s){return(r=Hpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Hpe(e){var r=Kpe(e,"string");return typeof r=="symbol"?r:r+""}function Kpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Gpe=(e,r)=>r,Ype=(e,r,s)=>s,Jpe=(e,r,s,a)=>a,Xpe=(e,r,s,a,n)=>n,Kf=he([Bf,Xpe],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),Qpe=he([Kf],e=>e==null?void 0:e.maxBarSize),Zpe=(e,r,s,a,n,i)=>i,P3=(e,r,s)=>{var a=s??e;if(!Er(a))return Ta(a,r,0)},ege=he([Wt,Bf,Gpe,Ype,Jpe],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),tge=(e,r,s,a)=>{var n=Wt(e);return n==="horizontal"?nf(e,"yAxis",s,a):nf(e,"xAxis",r,a)},rge=(e,r,s)=>{var a=Wt(e);return a==="horizontal"?A5(e,"xAxis",r):A5(e,"yAxis",s)},sge=(e,r,s)=>{var a={},n=e.filter(yy),i=e.filter(m=>m.stackId==null),o=n.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),l=Object.entries(o).map(m=>{var[h,f]=m,g=f.map(w=>w.dataKey),y=P3(r,s,f[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=i.map(m=>{var h=[m.dataKey].filter(g=>g!=null),f=P3(r,s,m.barSize);return{stackId:void 0,dataKeys:h,barSize:f}});return[...l,...d]},age=he([ege,dde,rge],sge),nge=(e,r,s,a,n)=>{var i,o,l=Kf(e,r,s,a,n);if(l!=null){var d=Wt(e),m=h6(e),{maxBarSize:h}=l,f=Er(h)?m:h,g,y;return d==="horizontal"?(g=so(e,"xAxis",r,a),y=ro(e,"xAxis",r,a)):(g=so(e,"yAxis",s,a),y=ro(e,"yAxis",s,a)),(i=(o=cd(g,y,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},B$=(e,r,s,a)=>{var n=Wt(e),i,o;return n==="horizontal"?(i=so(e,"xAxis",r,a),o=ro(e,"xAxis",r,a)):(i=so(e,"yAxis",s,a),o=ro(e,"yAxis",s,a)),cd(i,o)};function ige(e,r,s,a,n){var i=a.length;if(!(i<1)){var o=Ta(e,s,0,!0),l,d=[];if(ta(a[0].barSize)){var m=!1,h=s/i,f=a.reduce((N,C)=>N+(C.barSize||0),0);f+=(i-1)*o,f>=s&&(f-=(i-1)*o,o=0),f>=s&&h>0&&(m=!0,h*=.9,f=i*h);var g=(s-f)/2>>0,y={offset:g-o,size:0};l=a.reduce((N,C)=>{var S,_={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y.offset+y.size+o,size:m?h:(S=C.barSize)!==null&&S!==void 0?S:0}},A=[...N,_];return y=A[A.length-1].position,A},d)}else{var w=Ta(r,s,0,!0);s-2*w-(i-1)*o<=0&&(o=0);var v=(s-2*w-(i-1)*o)/i;v>1&&(v>>=0);var b=ta(n)?Math.min(v,n):v;l=a.reduce((N,C,S)=>[...N,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:w+(v+o)*S+(v-b)/2,size:b}}],d)}return l}}var oge=(e,r,s,a,n,i,o)=>{var l=Er(o)?r:o,d=ige(s,a,n!==i?n:i,e,l);return n!==i&&d!=null&&(d=d.map(m=>Rg(Rg({},m),{},{position:Rg(Rg({},m.position),{},{offset:m.position.offset-n/2})}))),d},lge=he([age,h6,cde,f6,nge,B$,Qpe],oge),cge=(e,r,s,a)=>so(e,"xAxis",r,a),dge=(e,r,s,a)=>so(e,"yAxis",s,a),uge=(e,r,s,a)=>ro(e,"xAxis",r,a),mge=(e,r,s,a)=>ro(e,"yAxis",s,a),hge=he([lge,Kf],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),fge=(e,r)=>{var s=xy(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===s)}}}},pge=he([tge,Kf],fge),gge=he([Ps,cge,dge,uge,mge,hge,Wt,$f,B$,pge,Kf,Zpe],(e,r,s,a,n,i,o,l,d,m,h,f)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:w}=l;if(!(h==null||i==null||o!=="horizontal"&&o!=="vertical"||r==null||s==null||a==null||n==null||d==null)){var{data:v}=h,b;if(v!=null&&v.length>0?b=v:b=g==null?void 0:g.slice(y,w+1),b!=null)return Vpe({layout:o,barSettings:h,pos:i,bandSize:d,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,stackedData:m,displayedData:b,offset:e,cells:f})}}),W$=e=>{var{chartData:r}=e,s=ds(),a=Na();return p.useEffect(()=>a?()=>{}:(s(z5(r)),()=>{s(z5(void 0))}),[r,s,a]),null},A3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},V$=wn({name:"brush",initialState:A3,reducers:{setBrushSettings(e,r){return r.payload==null?A3:r.payload}}}),{setBrushSettings:O1e}=V$.actions,xge=V$.reducer;function yge(e,r,s){return(r=vge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vge(e){var r=bge(e,"string");return typeof r=="symbol"?r:r+""}function bge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class W2{static create(r){return new W2(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}yge(W2,"EPS",1e-4);function wge(e){return(e%180+180)%180}var jge=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=wge(n),o=i*Math.PI/180,l=Math.atan(a/s),d=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(d)},Nge={dots:[],areas:[],lines:[]},q$=wn({name:"referenceElements",initialState:Nge,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Mo(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Mo(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Mo(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:M1e,removeDot:R1e,addArea:I1e,removeArea:D1e,addLine:L1e,removeLine:$1e}=q$.actions,Sge=q$.reducer,Cge=p.createContext(void 0),kge=e=>{var{children:r}=e,[s]=p.useState("".concat(Jh("recharts"),"-clip")),a=Ty();if(a==null)return null;var{x:n,y:i,width:o,height:l}=a;return p.createElement(Cge.Provider,{value:s},p.createElement("defs",null,p.createElement("clipPath",{id:s},p.createElement("rect",{x:n,y:i,height:l,width:o}))),r)};function Kj(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function H$(e,r,s){if(r<1)return[];if(r===1&&s===void 0)return e;for(var a=[],n=0;n<e.length;n+=r)a.push(e[n]);return a}function _ge(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return jge(a,s)}function Pge(e,r,s){var a=s==="width",{x:n,y:i,width:o,height:l}=e;return r===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function Q0(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function Age(e,r){return H$(e,r+1)}function Ege(e,r,s,a,n){for(var i=(a||[]).slice(),{start:o,end:l}=r,d=0,m=1,h=o,f=function(){var w=a==null?void 0:a[d];if(w===void 0)return{v:H$(a,m)};var v=d,b,N=()=>(b===void 0&&(b=s(w,v)),b),C=w.coordinate,S=d===0||Q0(e,C,N,h,l);S||(d=0,h=o,m+=1),S&&(h=C+e*(N()/2+n),d+=m)},g;m<=i.length;)if(g=f(),g)return g.v;return[]}function E3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ma(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?E3(Object(s),!0).forEach(function(a){Tge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tge(e,r,s){return(r=Oge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Oge(e){var r=Mge(e,"string");return typeof r=="symbol"?r:r+""}function Mge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Rge(e,r,s,a,n){for(var i=(a||[]).slice(),o=i.length,{start:l}=r,{end:d}=r,m=function(g){var y=i[g],w,v=()=>(w===void 0&&(w=s(y,g)),w);if(g===o-1){var b=e*(y.coordinate+e*v()/2-d);i[g]=y=ma(ma({},y),{},{tickCoord:b>0?y.coordinate-b*e:y.coordinate})}else i[g]=y=ma(ma({},y),{},{tickCoord:y.coordinate});var N=Q0(e,y.tickCoord,v,l,d);N&&(d=y.tickCoord-e*(v()/2+n),i[g]=ma(ma({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)m(h);return i}function Ige(e,r,s,a,n,i){var o=(a||[]).slice(),l=o.length,{start:d,end:m}=r;if(i){var h=a[l-1],f=s(h,l-1),g=e*(h.coordinate+e*f/2-m);o[l-1]=h=ma(ma({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=Q0(e,h.tickCoord,()=>f,d,m);y&&(m=h.tickCoord-e*(f/2+n),o[l-1]=ma(ma({},h),{},{isShow:!0}))}for(var w=i?l-1:l,v=function(C){var S=o[C],_,A=()=>(_===void 0&&(_=s(S,C)),_);if(C===0){var T=e*(S.coordinate-e*A()/2-d);o[C]=S=ma(ma({},S),{},{tickCoord:T<0?S.coordinate-T*e:S.coordinate})}else o[C]=S=ma(ma({},S),{},{tickCoord:S.coordinate});var E=Q0(e,S.tickCoord,A,d,m);E&&(d=S.tickCoord+e*(A()/2+n),o[C]=ma(ma({},S),{},{isShow:!0}))},b=0;b<w;b++)v(b);return o}function V2(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:m,unit:h,angle:f}=e;if(!n||!n.length||!a)return[];if(Ve(d)||rc.isSsr){var g;return(g=Age(n,Ve(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],w=l==="top"||l==="bottom"?"width":"height",v=h&&w==="width"?$h(h,{fontSize:r,letterSpacing:s}):{width:0,height:0},b=(S,_)=>{var A=typeof m=="function"?m(S.value,_):S.value;return w==="width"?_ge($h(A,{fontSize:r,letterSpacing:s}),v,f):$h(A,{fontSize:r,letterSpacing:s})[w]},N=n.length>=2?Fs(n[1].coordinate-n[0].coordinate):1,C=Pge(i,N,w);return d==="equidistantPreserveStart"?Ege(N,C,b,n,o):(d==="preserveStart"||d==="preserveStartEnd"?y=Ige(N,C,b,n,o,d==="preserveStartEnd"):y=Rge(N,C,b,n,o),y.filter(S=>S.isShow))}var Dge=["viewBox"],Lge=["viewBox"];function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ku.apply(null,arguments)}function T3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ss(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?T3(Object(s),!0).forEach(function(a){q2(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function O3(e,r){if(e==null)return{};var s,a,n=$ge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $ge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function q2(e,r,s){return(r=zge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function zge(e){var r=Fge(e,"string");return typeof r=="symbol"?r:r+""}function Fge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class oc extends p.Component{constructor(r){super(r),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,s){var{viewBox:a}=r,n=O3(r,Dge),i=this.props,{viewBox:o}=i,l=O3(i,Lge);return!Kj(a,o)||!Kj(n,l)||!Kj(s,this.state)}getTickLineCoord(r){var{x:s,y:a,width:n,height:i,orientation:o,tickSize:l,mirror:d,tickMargin:m}=this.props,h,f,g,y,w,v,b=d?-1:1,N=r.tickSize||l,C=Ve(r.tickCoord)?r.tickCoord:r.coordinate;switch(o){case"top":h=f=r.coordinate,y=a+ +!d*i,g=y-b*N,v=g-b*m,w=C;break;case"left":g=y=r.coordinate,f=s+ +!d*n,h=f-b*N,w=h-b*m,v=C;break;case"right":g=y=r.coordinate,f=s+ +d*n,h=f+b*N,w=h+b*m,v=C;break;default:h=f=r.coordinate,y=a+ +d*i,g=y+b*N,v=g+b*m,w=C;break}return{line:{x1:h,y1:g,x2:f,y2:y},tick:{x:w,y:v}}}getTickTextAnchor(){var{orientation:r,mirror:s}=this.props,a;switch(r){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:r,mirror:s}=this.props;switch(r){case"left":case"right":return"middle";case"top":return s?"start":"end";default:return s?"end":"start"}}renderAxisLine(){var{x:r,y:s,width:a,height:n,orientation:i,mirror:o,axisLine:l}=this.props,d=Ss(Ss(Ss({},Ar(this.props,!1)),Ar(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);d=Ss(Ss({},d),{},{x1:r,y1:s+m*n,x2:r+a,y2:s+m*n})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=Ss(Ss({},d),{},{x1:r+h*a,y1:s,x2:r+h*a,y2:s+n})}return p.createElement("line",ku({},d,{className:Xt("recharts-cartesian-axis-line",Gl(l,"className"))}))}static renderTickItem(r,s,a){var n,i=Xt(s.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(r))n=p.cloneElement(r,Ss(Ss({},s),{},{className:i}));else if(typeof r=="function")n=r(Ss(Ss({},s),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=Xt(o,r.className)),n=p.createElement(Cy,ku({},s,{className:o}),a)}return n}renderTicks(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:d,padding:m}=this.props,h=V2(Ss(Ss({},this.props),{},{ticks:a}),r,s),f=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=_i(this.props),w=Ar(o,!1),v=Ss(Ss({},y),{},{fill:"none"},Ar(n,!1)),b=h.map((N,C)=>{var{line:S,tick:_}=this.getTickLineCoord(N),A=Ss(Ss(Ss(Ss({textAnchor:f,verticalAnchor:g},y),{},{stroke:"none",fill:i},w),_),{},{index:C,payload:N,visibleTicksCount:h.length,tickFormatter:l,padding:m});return p.createElement(ls,ku({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Kx(this.props,N,C)),n&&p.createElement("line",ku({},v,S,{className:Xt("recharts-cartesian-axis-tick-line",Gl(n,"className"))})),o&&oc.renderTickItem(o,A,"".concat(typeof l=="function"?l(N.value,C):N.value).concat(d||"")))});return b.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:r,width:s,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(ls,{className:Xt("recharts-cartesian-axis",n),ref:l=>{if(l){var d=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var m=d[0];if(m){var h=window.getComputedStyle(m).fontSize,f=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),un.renderCallByParent(this.props))}}q2(oc,"displayName","CartesianAxis");q2(oc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uge=["x1","y1","x2","y2","key"],Bge=["offset"],Wge=["xAxisId","yAxisId"],Vge=["xAxisId","yAxisId"];function M3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?M3(Object(s),!0).forEach(function(a){qge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qge(e,r,s){return(r=Hge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Hge(e){var r=Kge(e,"string");return typeof r=="symbol"?r:r+""}function Kge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vc.apply(null,arguments)}function Z0(e,r){if(e==null)return{};var s,a,n=Gge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Yge=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function K$(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var{x1:a,y1:n,x2:i,y2:o,key:l}=r,d=Z0(r,Uge),m=_i(d),{offset:h}=m,f=Z0(m,Bge);s=p.createElement("line",Vc({},f,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function Jge(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Z0(e,Wge),d=n.map((m,h)=>{var f=xa(xa({},l),{},{x1:r,y1:m,x2:r+s,y2:m,key:"line-".concat(h),index:h});return K$(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Xge(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Z0(e,Vge),d=n.map((m,h)=>{var f=xa(xa({},l),{},{x1:m,y1:r,x2:m,y2:r+s,key:"line-".concat(h),index:h});return K$(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Qge(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!r||!r.length)return null;var m=l.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var y=!m[g+1],w=y?n+o-f:m[g+1]-f;if(w<=0)return null;var v=g%r.length;return p.createElement("rect",{key:"react-".concat(g),y:f,x:a,height:w,width:i,stroke:"none",fill:r[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Zge(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:o,height:l,verticalPoints:d}=e;if(!r||!s||!s.length)return null;var m=d.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==m[0]&&m.unshift(0);var h=m.map((f,g)=>{var y=!m[g+1],w=y?n+o-f:m[g+1]-f;if(w<=0)return null;var v=g%s.length;return p.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:w,height:l,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var e0e=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return GL(V2(xa(xa(xa({},oc.defaultProps),s),{},{ticks:YL(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},t0e=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return GL(V2(xa(xa(xa({},oc.defaultProps),s),{},{ticks:YL(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},r0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ki(e){var r=r8(),s=s8(),a=t8(),n=xa(xa({},Ia(e,r0e)),{},{x:Ve(e.x)?e.x:a.left,y:Ve(e.y)?e.y:a.top,width:Ve(e.width)?e.width:a.width,height:Ve(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:m,height:h,syncWithTicks:f,horizontalValues:g,verticalValues:y}=n,w=Na(),v=tt(L=>E5(L,"xAxis",i,w)),b=tt(L=>E5(L,"yAxis",o,w));if(!Ve(m)||m<=0||!Ve(h)||h<=0||!Ve(l)||l!==+l||!Ve(d)||d!==+d)return null;var N=n.verticalCoordinatesGenerator||e0e,C=n.horizontalCoordinatesGenerator||t0e,{horizontalPoints:S,verticalPoints:_}=n;if((!S||!S.length)&&typeof C=="function"){var A=g&&g.length,T=C({yAxis:b?xa(xa({},b),{},{ticks:A?g:b.ticks}):void 0,width:r,height:s,offset:a},A?!0:f);Lh(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}if((!_||!_.length)&&typeof N=="function"){var E=y&&y.length,M=N({xAxis:v?xa(xa({},v),{},{ticks:E?y:v.ticks}):void 0,width:r,height:s,offset:a},E?!0:f);Lh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Yge,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),p.createElement(Qge,Vc({},n,{horizontalPoints:S})),p.createElement(Zge,Vc({},n,{verticalPoints:_})),p.createElement(Jge,Vc({},n,{offset:a,horizontalPoints:S,xAxis:v,yAxis:b})),p.createElement(Xge,Vc({},n,{offset:a,verticalPoints:_,xAxis:v,yAxis:b})))}Ki.displayName="CartesianGrid";var G$=(e,r,s,a)=>so(e,"xAxis",r,a),Y$=(e,r,s,a)=>ro(e,"xAxis",r,a),J$=(e,r,s,a)=>so(e,"yAxis",s,a),X$=(e,r,s,a)=>ro(e,"yAxis",s,a),s0e=he([Wt,G$,J$,Y$,X$],(e,r,s,a,n)=>co(e,"xAxis")?cd(r,a,!1):cd(s,n,!1)),a0e=(e,r,s,a,n)=>n;function n0e(e){return e.type==="line"}var i0e=he([Bf,a0e],(e,r)=>e.filter(n0e).find(s=>s.id===r)),o0e=he([Wt,G$,J$,Y$,X$,i0e,s0e,$f],(e,r,s,a,n,i,o,l)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:h}=l;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:f,data:g}=i,y;if(g!=null&&g.length>0?y=g:y=d==null?void 0:d.slice(m,h+1),y!=null)return P0e({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:o,displayedData:y})}}),l0e=["id"],c0e=["type","layout","connectNulls","needClip"],d0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function R3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hi(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?R3(Object(s),!0).forEach(function(a){u0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function u0e(e,r,s){return(r=m0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function m0e(e){var r=h0e(e,"string");return typeof r=="symbol"?r:r+""}function h0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function H2(e,r){if(e==null)return{};var s,a,n=f0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function f0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ud.apply(null,arguments)}var p0e=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:tc(s,r),payload:e}]};function g0e(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:tc(o,r),hide:l,type:e.tooltipType,color:e.stroke,unit:d}}}var Q$=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function x0e(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var y0e=(e,r,s)=>{var a=s.reduce((f,g)=>f+g);if(!a)return Q$(r,e);for(var n=Math.floor(e/a),i=e%a,o=r-e,l=[],d=0,m=0;d<s.length;m+=s[d],++d)if(m+s[d]>i){l=[...s.slice(0,d),i-m];break}var h=l.length%2===0?[0,o]:[o];return[...x0e(s,n),...l,...h].map(f=>"".concat(f,"px")).join(", ")};function v0e(e,r){var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Xt("recharts-line-dot",typeof e!="boolean"?e.className:"");s=p.createElement(T2,ud({},r,{className:a}))}return s}function b0e(e,r){return e==null?!1:r?!0:e.length===1}function w0e(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!b0e(s,n))return null;var{id:l}=a,d=H2(a,l0e),m=Gx(n),h=_i(d),f=Ar(n,!0),g=s.map((w,v)=>{var b=hi(hi(hi({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:w.x,cy:w.y,dataKey:i,value:w.value,payload:w.payload,points:s});return v0e(n,b)}),y={clipPath:o?"url(#clipPath-".concat(m?"":"dots-").concat(r,")"):void 0};return p.createElement(ls,ud({className:"recharts-line-dots",key:"dots"},y),g)}function I1(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i,showLabels:o}=e,{type:l,layout:d,connectNulls:m,needClip:h}=i,f=H2(i,c0e),g=hi(hi({},Ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:d,connectNulls:m,strokeDasharray:n??i.strokeDasharray});return p.createElement(p.Fragment,null,(a==null?void 0:a.length)>1&&p.createElement(Ou,ud({},g,{pathRef:s})),p.createElement(w0e,{points:a,clipPathId:r,props:i}),o&&Io.renderCallByParent(i,a))}function j0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function N0e(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,animateNewValues:g,width:y,height:w,onAnimationEnd:v,onAnimationStart:b}=s,N=n.current,C=_y(s,"recharts-line-"),[S,_]=p.useState(!1),A=p.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),T=p.useCallback(()=>{typeof b=="function"&&b(),_(!0)},[b]),E=j0e(a.current),M=i.current;return p.createElement(Ay,{begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:A,onAnimationStart:T,key:C},L=>{var H=ea(M,E+M,L),O=Math.min(H,E),I;if(l){var W="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));I=y0e(O,E,W)}else I=Q$(E,O);if(N){var V=N.length/o.length,U=L===1?o:o.map(($,R)=>{var F=Math.floor(R*V);if(N[F]){var z=N[F];return hi(hi({},$),{},{x:ea(z.x,$.x,L),y:ea(z.y,$.y,L)})}return g?hi(hi({},$),{},{x:ea(y*2,$.x,L),y:ea(w/2,$.y,L)}):hi(hi({},$),{},{x:$.x,y:$.y})});return n.current=U,p.createElement(I1,{props:s,points:U,clipPathId:r,pathRef:a,showLabels:!S,strokeDasharray:I})}return L>0&&E>0&&(n.current=o,i.current=O),p.createElement(I1,{props:s,points:o,clipPathId:r,pathRef:a,showLabels:!S,strokeDasharray:I})})}function S0e(e){var{clipPathId:r,props:s}=e,{points:a,isAnimationActive:n}=s,i=p.useRef(null),o=p.useRef(0),l=p.useRef(null),d=i.current;return n&&a&&a.length&&d!==a?p.createElement(N0e,{props:s,clipPathId:r,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):p.createElement(I1,{props:s,points:a,clipPathId:r,pathRef:l,showLabels:!0})}var C0e=(e,r)=>({x:e.x,y:e.y,value:e.value,errorVal:yr(e.payload,r)});class k0e extends p.Component{render(){var r,{hide:s,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:d,left:m,width:h,height:f,id:g,needClip:y}=this.props;if(s)return null;var w=Xt("recharts-line",i),v=g,{r:b=3,strokeWidth:N=2}=(r=Ar(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=Gx(a),S=b*2+N;return p.createElement(p.Fragment,null,p.createElement(ls,{className:w},y&&p.createElement("defs",null,p.createElement(B2,{clipPathId:v,xAxisId:o,yAxisId:l}),!C&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:m-S/2,y:d-S/2,width:h+S,height:f+S}))),p.createElement(S0e,{props:this.props,clipPathId:v}),p.createElement(z$,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:C0e,errorBarOffset:0},this.props.children)),p.createElement(M1,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Z$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!rc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function _0e(e){var r=Ia(e,Z$),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:m,isAnimationActive:h,label:f,legendType:g,xAxisId:y,yAxisId:w,id:v}=r,b=H2(r,d0e),{needClip:N}=Oy(y,w),C=Ty(),S=Mf(),_=Na(),A=tt(H=>o0e(H,y,w,_,v));if(S!=="horizontal"&&S!=="vertical"||A==null||C==null)return null;var{height:T,width:E,x:M,y:L}=C;return p.createElement(k0e,ud({},b,{id:v,connectNulls:l,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:h,hide:m,label:f,legendType:g,xAxisId:y,yAxisId:w,points:A,layout:S,height:T,width:E,left:M,top:L,needClip:N}))}function P0e(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((m,h)=>{var f=yr(m,o);if(r==="horizontal"){var g=E0({axis:s,ticks:n,bandSize:l,entry:m,index:h}),y=Er(f)?null:a.scale(f);return{x:g,y,value:f,payload:m}}var w=Er(f)?null:s.scale(f),v=E0({axis:a,ticks:i,bandSize:l,entry:m,index:h});return w==null||v==null?null:{x:w,y:v,value:f,payload:m}}).filter(Boolean)}function ex(e){var r=Ia(e,Z$),s=Na();return p.createElement(Py,{id:r.id,type:"line"},a=>p.createElement(p.Fragment,null,p.createElement(z2,{legendPayload:p0e(r)}),p.createElement(ky,{fn:g0e,args:r}),p.createElement(F2,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),p.createElement(_0e,ud({},r,{id:a}))))}ex.displayName="Line";var ez=(e,r,s,a)=>so(e,"xAxis",r,a),tz=(e,r,s,a)=>ro(e,"xAxis",r,a),rz=(e,r,s,a)=>so(e,"yAxis",s,a),sz=(e,r,s,a)=>ro(e,"yAxis",s,a),A0e=he([Wt,ez,rz,tz,sz],(e,r,s,a,n)=>co(e,"xAxis")?cd(r,a,!1):cd(s,n,!1)),E0e=(e,r,s,a,n)=>n,az=he([Bf,E0e],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),T0e=(e,r,s,a,n)=>{var i,o=az(e,r,s,a,n);if(o!=null){var l=Wt(e),d=co(l,"xAxis"),m;if(d?m=nf(e,"yAxis",s,a):m=nf(e,"xAxis",r,a),m!=null){var{stackId:h}=o,f=xy(o);if(!(h==null||f==null)){var g=(i=m[h])===null||i===void 0?void 0:i.stackedData;return g==null?void 0:g.find(y=>y.key===f)}}}},O0e=he([Wt,ez,rz,tz,sz,T0e,$f,A0e,az],(e,r,s,a,n,i,o,l,d)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:f}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:g}=d,y;if(g&&g.length>0?y=g:y=m==null?void 0:m.slice(h,f+1),y!=null){var w=void 0;return Q0e({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:d,stackedData:i,displayedData:y,chartBaseValue:w,bandSize:l})}}}),M0e=["id"],R0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nz(e,r){if(e==null)return{};var s,a,n=I0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function I0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function I3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qc(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?I3(Object(s),!0).forEach(function(a){D0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function D0e(e,r,s){return(r=L0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function L0e(e){var r=$0e(e,"string");return typeof r=="symbol"?r:r+""}function $0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Do.apply(null,arguments)}function tx(e,r){return e&&e!=="none"?e:r}var z0e=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:tx(a,n),value:tc(s,r),payload:e}]};function F0e(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:tc(o,r),hide:l,type:e.tooltipType,color:tx(a,i),unit:d}}}var U0e=(e,r)=>{var s;if(p.isValidElement(e))s=p.cloneElement(e,r);else if(typeof e=="function")s=e(r);else{var a=Xt("recharts-area-dot",typeof e!="boolean"?e.className:"");s=p.createElement(T2,Do({},r,{className:a}))}return s};function B0e(e,r){return e==null?!1:r?!0:e.length===1}function W0e(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:o}=a;if(!B0e(s,i))return null;var l=Gx(i),d=_i(a),m=Ar(i,!0),h=s.map((g,y)=>{var w=qc(qc(qc({key:"dot-".concat(y),r:3},d),m),{},{index:y,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:s});return U0e(i,w)}),f={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return p.createElement(ls,Do({className:"recharts-area-dots"},f),h)}function D1(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i,showLabels:o}=e,{layout:l,type:d,stroke:m,connectNulls:h,isRange:f}=i,{id:g}=i,y=nz(i,M0e),w=_i(y);return p.createElement(p.Fragment,null,(r==null?void 0:r.length)>1&&p.createElement(ls,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},p.createElement(Ou,Do({},w,{id:g,points:r,connectNulls:h,type:d,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),m!=="none"&&p.createElement(Ou,Do({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:r})),m!=="none"&&f&&p.createElement(Ou,Do({},w,{className:"recharts-area-curve",layout:l,type:d,connectNulls:h,fill:"none",points:s}))),p.createElement(W0e,{points:r,props:y,clipPathId:n}),o&&Io.renderCallByParent(y,r))}function V0e(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,o=a[a.length-1].y;if(!ta(i)||!ta(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.x||0));return Ve(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.x||0),d)),Ve(d)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function q0e(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,o=a[a.length-1].x;if(!ta(i)||!ta(o))return null;var l=r*Math.abs(i-o),d=Math.max(...a.map(m=>m.y||0));return Ve(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(m=>m.y||0),d)),Ve(d)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function H0e(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?p.createElement(V0e,{alpha:r,points:a,baseLine:n,strokeWidth:i}):p.createElement(q0e,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function K0e(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:d,animationBegin:m,animationDuration:h,animationEasing:f,onAnimationStart:g,onAnimationEnd:y}=a,w=_y(a,"recharts-area-"),[v,b]=p.useState(!0),N=p.useCallback(()=>{typeof y=="function"&&y(),b(!1)},[y]),C=p.useCallback(()=>{typeof g=="function"&&g(),b(!0)},[g]),S=n.current,_=i.current;return p.createElement(Ay,{begin:m,duration:h,isActive:d,easing:f,onAnimationEnd:N,onAnimationStart:C,key:w},A=>{if(S){var T=S.length/o.length,E=A===1?o:o.map((L,H)=>{var O=Math.floor(H*T);if(S[O]){var I=S[O];return qc(qc({},L),{},{x:ea(I.x,L.x,A),y:ea(I.y,L.y,A)})}return L}),M;return Ve(l)?M=ea(_,l,A):Er(l)||Xa(l)?M=ea(_,0,A):M=l.map((L,H)=>{var O=Math.floor(H*T);if(Array.isArray(_)&&_[O]){var I=_[O];return qc(qc({},L),{},{x:ea(I.x,L.x,A),y:ea(I.y,L.y,A)})}return L}),A>0&&(n.current=E,i.current=M),p.createElement(D1,{points:E,baseLine:M,needClip:r,clipPathId:s,props:a,showLabels:!v})}return A>0&&(n.current=o,i.current=l),p.createElement(ls,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(s)},p.createElement(H0e,{alpha:A,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),p.createElement(ls,{clipPath:"url(#animationClipPath-".concat(s,")")},p.createElement(D1,{points:o,baseLine:l,needClip:r,clipPathId:s,props:a,showLabels:!0})))})}function G0e(e){var{needClip:r,clipPathId:s,props:a}=e,{points:n,baseLine:i,isAnimationActive:o}=a,l=p.useRef(null),d=p.useRef(),m=l.current,h=d.current;return o&&n&&n.length&&(m!==n||h!==i)?p.createElement(K0e,{needClip:r,clipPathId:s,props:a,previousPointsRef:l,previousBaselineRef:d}):p.createElement(D1,{points:n,baseLine:i,needClip:r,clipPathId:s,props:a,showLabels:!0})}class Y0e extends p.PureComponent{render(){var r,{hide:s,dot:a,points:n,className:i,top:o,left:l,needClip:d,xAxisId:m,yAxisId:h,width:f,height:g,id:y,baseLine:w}=this.props;if(s)return null;var v=Xt("recharts-area",i),b=y,{r:N=3,strokeWidth:C=2}=(r=Ar(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=Gx(a),_=N*2+C;return p.createElement(p.Fragment,null,p.createElement(ls,{className:v},d&&p.createElement("defs",null,p.createElement(B2,{clipPathId:b,xAxisId:m,yAxisId:h}),!S&&p.createElement("clipPath",{id:"clipPath-dots-".concat(b)},p.createElement("rect",{x:l-_/2,y:o-_/2,width:f+_,height:g+_}))),p.createElement(G0e,{needClip:d,clipPathId:b,props:this.props})),p.createElement(M1,{points:n,mainColor:tx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(w)&&p.createElement(M1,{points:w,mainColor:tx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var iz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!rc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function J0e(e){var r,s=Ia(e,iz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,fill:m,fillOpacity:h,hide:f,isAnimationActive:g,legendType:y,stroke:w,xAxisId:v,yAxisId:b}=s,N=nz(s,R0e),C=Mf(),S=f$(),{needClip:_}=Oy(v,b),A=Na(),{points:T,isRange:E,baseLine:M}=(r=tt(V=>O0e(V,v,b,A,e.id)))!==null&&r!==void 0?r:{},L=Ty();if(C!=="horizontal"&&C!=="vertical"||L==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:H,width:O,x:I,y:W}=L;return!T||!T.length?null:p.createElement(Y0e,Do({},N,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:M,connectNulls:l,dot:d,fill:m,fillOpacity:h,height:H,hide:f,layout:C,isAnimationActive:g,isRange:E,legendType:y,needClip:_,points:T,stroke:w,width:O,left:I,top:W,xAxisId:v,yAxisId:b}))}var X0e=(e,r,s,a,n)=>{var i=s??r;if(Ve(i))return i;var o=e==="horizontal"?n:a,l=o.scale.domain();if(o.type==="number"){var d=Math.max(l[0],l[1]),m=Math.min(l[0],l[1]);return i==="dataMin"?m:i==="dataMax"||d<0?d:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function Q0e(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:d,displayedData:m,dataStartIndex:h,xAxisTicks:f,yAxisTicks:g,bandSize:y}=e,w=n&&n.length,v=X0e(i,o,s,l,d),b=i==="horizontal",N=!1,C=m.map((_,A)=>{var T;w?T=n[h+A]:(T=yr(_,a),Array.isArray(T)?N=!0:T=[v,T]);var E=T[1]==null||w&&!r&&yr(_,a)==null;return b?{x:E0({axis:l,ticks:f,bandSize:y,entry:_,index:A}),y:E?null:d.scale(T[1]),value:T,payload:_}:{x:E?null:l.scale(T[1]),y:E0({axis:d,ticks:g,bandSize:y,entry:_,index:A}),value:T,payload:_}}),S;return w||N?S=C.map(_=>{var A=Array.isArray(_.value)?_.value[0]:null;return b?{x:_.x,y:A!=null&&_.y!=null?d.scale(A):null,payload:_.payload}:{x:A!=null?l.scale(A):null,y:_.y,payload:_.payload}}):S=b?d.scale(v):l.scale(v),{points:C,baseLine:S,isRange:N}}function md(e){var r=Ia(e,iz),s=Na();return p.createElement(Py,{id:r.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(z2,{legendPayload:z0e(r)}),p.createElement(ky,{fn:F0e,args:r}),p.createElement(F2,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:JL(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),p.createElement(J0e,Do({},r,{id:a}))))}md.displayName="Area";function D3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function L3(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?D3(Object(s),!0).forEach(function(a){Z0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Z0e(e,r,s){return(r=exe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function exe(e){var r=txe(e,"string");return typeof r=="symbol"?r:r+""}function txe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rxe={xAxis:{},yAxis:{},zAxis:{}},oz=wn({name:"cartesianAxis",initialState:rxe,reducers:{addXAxis(e,r){e.xAxis[r.payload.id]=r.payload},removeXAxis(e,r){delete e.xAxis[r.payload.id]},addYAxis(e,r){e.yAxis[r.payload.id]=r.payload},removeYAxis(e,r){delete e.yAxis[r.payload.id]},addZAxis(e,r){e.zAxis[r.payload.id]=r.payload},removeZAxis(e,r){delete e.zAxis[r.payload.id]},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload;e.yAxis[s]&&(e.yAxis[s]=L3(L3({},e.yAxis[s]),{},{width:a}))}}}),{addXAxis:sxe,removeXAxis:axe,addYAxis:nxe,removeYAxis:ixe,addZAxis:z1e,removeZAxis:F1e,updateYAxisWidth:oxe}=oz.actions,lxe=oz.reducer,cxe=["children"],dxe=["dangerouslySetInnerHTML","ticks"];function lz(e,r,s){return(r=uxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function uxe(e){var r=mxe(e,"string");return typeof r=="symbol"?r:r+""}function mxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},L1.apply(null,arguments)}function cz(e,r){if(e==null)return{};var s,a,n=hxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function fxe(e){var r=ds(),s=p.useMemo(()=>{var{children:i}=e,o=cz(e,cxe);return o},[e]),a=tt(i=>Jo(i,s.id)),n=s===a;return p.useEffect(()=>(r(sxe(s)),()=>{r(axe(s))}),[s,r]),n?e.children:null}var pxe=e=>{var{xAxisId:r,className:s}=e,a=tt(e8),n=Na(),i="xAxis",o=tt(y=>fm(y,i,r,n)),l=tt(y=>K6(y,i,r,n)),d=tt(y=>W6(y,r)),m=tt(y=>eue(y,r));if(d==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,g=cz(e,dxe);return p.createElement(oc,L1({},g,{scale:o,x:m.x,y:m.y,width:d.width,height:d.height,className:Xt("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l}))},gxe=e=>{var r,s,a,n,i;return p.createElement(fxe,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(pxe,e))};class vi extends p.Component{render(){return p.createElement(gxe,this.props)}}lz(vi,"displayName","XAxis");lz(vi,"defaultProps",{allowDataOverflow:on.allowDataOverflow,allowDecimals:on.allowDecimals,allowDuplicatedCategory:on.allowDuplicatedCategory,height:on.height,hide:!1,mirror:on.mirror,orientation:on.orientation,padding:on.padding,reversed:on.reversed,scale:on.scale,tickCount:on.tickCount,type:on.type,xAxisId:0});var xxe=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(r){r.forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=s?s.getBoundingClientRect().width:0,d=n+i,m=o+d+l+(s?a:0);return Math.round(m)}return 0},yxe=["dangerouslySetInnerHTML","ticks"];function dz(e,r,s){return(r=vxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vxe(e){var r=bxe(e,"string");return typeof r=="symbol"?r:r+""}function bxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$1.apply(null,arguments)}function wxe(e,r){if(e==null)return{};var s,a,n=jxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Nxe(e){var r=ds();return p.useEffect(()=>(r(nxe(e)),()=>{r(ixe(e))}),[e,r]),null}var Sxe=e=>{var r,{yAxisId:s,className:a,width:n,label:i}=e,o=p.useRef(null),l=p.useRef(null),d=tt(e8),m=Na(),h=ds(),f="yAxis",g=tt(S=>fm(S,f,s,m)),y=tt(S=>V6(S,s)),w=tt(S=>tue(S,s)),v=tt(S=>K6(S,f,s,m));if(p.useLayoutEffect(()=>{var S;if(!(n!=="auto"||!y||E2(i)||p.isValidElement(i))){var _=o.current,A=_==null||(S=_.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:T,tickMargin:E}=_.props,M=xxe({ticks:A,label:l.current,labelGapWithTick:5,tickSize:T,tickMargin:E});Math.round(y.width)!==Math.round(M)&&h(oxe({id:s,width:M}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,y==null?void 0:y.width,y,h,i,s,n]),y==null||w==null)return null;var{dangerouslySetInnerHTML:b,ticks:N}=e,C=wxe(e,yxe);return p.createElement(oc,$1({},C,{ref:o,labelRef:l,scale:g,x:w.x,y:w.y,width:y.width,height:y.height,className:Xt("recharts-".concat(f," ").concat(f),a),viewBox:d,ticks:v}))},Cxe=e=>{var r,s,a,n,i;return p.createElement(p.Fragment,null,p.createElement(Nxe,{interval:(r=e.interval)!==null&&r!==void 0?r:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement(Sxe,e))},kxe={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,hide:!1,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tickCount:ln.tickCount,type:ln.type,width:ln.width,yAxisId:0};class bi extends p.Component{render(){return p.createElement(Cxe,this.props)}}dz(bi,"displayName","YAxis");dz(bi,"defaultProps",kxe);var Gj={exports:{}},Yj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3;function _xe(){if($3)return Yj;$3=1;var e=Xu();function r(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var s=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Yj.useSyncExternalStoreWithSelector=function(d,m,h,f,g){var y=n(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function b(A){if(!N){if(N=!0,C=A,A=f(A),g!==void 0&&w.hasValue){var T=w.value;if(g(T,A))return S=T}return S=A}if(T=S,s(C,A))return T;var E=f(A);return g!==void 0&&g(T,E)?(C=A,T):(C=A,S=E)}var N=!1,C,S,_=h===void 0?null:h;return[function(){return b(m())},_===null?void 0:function(){return b(_())}]},[m,h,f,g]);var v=a(d,y[0],y[1]);return i(function(){w.hasValue=!0,w.value=v},[v]),l(v),v},Yj}var z3;function Pxe(){return z3||(z3=1,Gj.exports=_xe()),Gj.exports}Pxe();function Axe(e){e()}function Exe(){let e=null,r=null;return{clear(){e=null,r=null},notify(){Axe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var F3={notify(){},get:()=>[]};function Txe(e,r){let s,a=F3,n=0,i=!1;function o(v){h();const b=a.subscribe(v);let N=!1;return()=>{N||(N=!0,b(),f())}}function l(){a.notify()}function d(){w.onStateChange&&w.onStateChange()}function m(){return i}function h(){n++,s||(s=e.subscribe(d),a=Exe())}function f(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=F3)}function g(){i||(i=!0,h())}function y(){i&&(i=!1,f())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:m,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>a};return w}var Oxe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mxe=Oxe(),Rxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ixe=Rxe(),Dxe=()=>Mxe||Ixe?p.useLayoutEffect:p.useEffect,Lxe=Dxe(),Jj=Symbol.for("react-redux-context"),Xj=typeof globalThis<"u"?globalThis:{};function $xe(){if(!p.createContext)return{};const e=Xj[Jj]??(Xj[Jj]=new Map);let r=e.get(p.createContext);return r||(r=p.createContext(null),e.set(p.createContext,r)),r}var zxe=$xe();function Fxe(e){const{children:r,context:s,serverState:a,store:n}=e,i=p.useMemo(()=>{const d=Txe(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),o=p.useMemo(()=>n.getState(),[n]);Lxe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=s||zxe;return p.createElement(l.Provider,{value:i},r)}var Uxe=Fxe,Bxe=(e,r)=>r,K2=he([Bxe,Wt,b6,Es,l$,Xo,nme,Ps],dme),G2=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},uz=qn("mouseClick"),mz=Of();mz.startListening({actionCreator:uz,effect:(e,r)=>{var s=e.payload,a=K2(r.getState(),G2(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(fue({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var z1=qn("mouseMove"),hz=Of();hz.startListening({actionCreator:z1,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=w2(a,a.tooltip.settings.shared),i=K2(a,G2(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(t$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(e$()))}});function Wxe(e,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var U3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fz=wn({name:"rootProps",initialState:U3,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:U3.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className}}}),Vxe=fz.reducer,{updateOptions:qxe}=fz.actions,pz=wn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:Hxe}=pz.actions,Kxe=pz.reducer,gz=qn("keyDown"),xz=qn("focus"),Y2=Of();Y2.startListening({actionCreator:gz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(j2(n,gm(s))),l=Xo(s);if(i==="Enter"){var d=K0(s,"axis","hover",String(n.index));r.dispatch(P1({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var m=nue(s),h=m==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,g=o+f*h;if(!(l==null||g>=l.length||g<0)){var y=K0(s,"axis","hover",String(g));r.dispatch(P1({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});Y2.startListening({actionCreator:xz,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",o=K0(s,"axis","hover",String(i));r.dispatch(P1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Mn=qn("externalEvent"),yz=Of();yz.startListening({actionCreator:Mn,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:Jue(s),activeDataKey:m$(s),activeIndex:Yl(s),activeLabel:u$(s),activeTooltipIndex:Yl(s),isTooltipActive:Xue(s)};e.payload.handler(a,e.payload.reactEvent)}}});var Gxe=he([pm],e=>e.tooltipItemPayloads),Yxe=he([Gxe,qf,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var o=r(i,s);return o}}}),vz=qn("touchMove"),bz=Of();bz.startListening({actionCreator:vz,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=w2(a,a.tooltip.settings.shared);if(n==="axis"){var i=K2(a,G2({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(t$({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=s.touches[0],d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(QL),h=(o=d.getAttribute(ZL))!==null&&o!==void 0?o:void 0,f=Yxe(r.getState(),m,h);r.dispatch(Z6({activeDataKey:h,activeIndex:m,activeCoordinate:f}))}}});var Jxe=NL({brush:xge,cartesianAxis:lxe,chartData:kme,errorBars:wpe,graphicalItems:Tfe,layout:wne,legend:aie,options:wme,polarAxis:Xhe,polarOptions:Kxe,referenceElements:Sge,rootProps:Vxe,tooltip:pue}),Xxe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Hae({reducer:Jxe,preloadedState:r,middleware:a=>a({serializableCheck:!1}).concat([mz.middleware,hz.middleware,Y2.middleware,yz.middleware,bz.middleware]),devTools:{serialize:{replacer:Wxe},name:"recharts-".concat(s)}})};function wz(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=Na(),i=p.useRef(null);if(n)return s;i.current==null&&(i.current=Xxe(r,a));var o=gC;return p.createElement(Uxe,{context:o,store:i.current},s)}function jz(e){var{layout:r,width:s,height:a,margin:n}=e,i=ds(),o=Na();return p.useEffect(()=>{o||(i(yne(r)),i(vne({width:s,height:a})),i(xne(n)))},[i,o,r,s,a,n]),null}function Nz(e){var r=ds();return p.useEffect(()=>{r(qxe(e))},[r,e]),null}var Qxe=["children"];function Zxe(e,r){if(e==null)return{};var s,a,n=eye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},rx.apply(null,arguments)}var tye={width:"100%",height:"100%"},rye=p.forwardRef((e,r)=>{var s=r8(),a=s8(),n=o8();if(!qu(s)||!qu(a))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,m,h;return typeof o.tabIndex=="number"?m=o.tabIndex:m=n?0:void 0,typeof o.role=="string"?h=o.role:h=n?"application":void 0,p.createElement(KD,rx({},o,{title:l,desc:d,role:h,tabIndex:m,width:s,height:a,style:tye,ref:r}),i)}),sye=e=>{var{children:r}=e,s=tt(oy);if(!s)return null;var{width:a,height:n,y:i,x:o}=s;return p.createElement(KD,{width:a,height:n,x:o,y:i},r)},B3=p.forwardRef((e,r)=>{var{children:s}=e,a=Zxe(e,Qxe),n=Na();return n?p.createElement(sye,null,s):p.createElement(rye,rx({ref:r},a),s)});function aye(){var e=ds(),[r,s]=p.useState(null),a=tt(Yne);return p.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;ta(i)&&i!==a&&e(bne(i))}},[r,e,a]),s}function W3(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function nye(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?W3(Object(s),!0).forEach(function(a){iye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):W3(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function iye(e,r,s){return(r=oye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function oye(e){var r=lye(e,"string");return typeof r=="symbol"?r:r+""}function lye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cye=p.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:m,onMouseLeave:h,onMouseMove:f,onMouseUp:g,onTouchEnd:y,onTouchMove:w,onTouchStart:v,style:b,width:N}=e,C=ds(),[S,_]=p.useState(null),[A,T]=p.useState(null);Ame();var E=aye(),M=p.useCallback(Q=>{E(Q),typeof r=="function"&&r(Q),_(Q),T(Q)},[E,r,_,T]),L=p.useCallback(Q=>{C(uz(Q)),C(Mn({handler:i,reactEvent:Q}))},[C,i]),H=p.useCallback(Q=>{C(z1(Q)),C(Mn({handler:m,reactEvent:Q}))},[C,m]),O=p.useCallback(Q=>{C(e$()),C(Mn({handler:h,reactEvent:Q}))},[C,h]),I=p.useCallback(Q=>{C(z1(Q)),C(Mn({handler:f,reactEvent:Q}))},[C,f]),W=p.useCallback(()=>{C(xz())},[C]),V=p.useCallback(Q=>{C(gz(Q.key))},[C]),U=p.useCallback(Q=>{C(Mn({handler:o,reactEvent:Q}))},[C,o]),$=p.useCallback(Q=>{C(Mn({handler:l,reactEvent:Q}))},[C,l]),R=p.useCallback(Q=>{C(Mn({handler:d,reactEvent:Q}))},[C,d]),F=p.useCallback(Q=>{C(Mn({handler:g,reactEvent:Q}))},[C,g]),z=p.useCallback(Q=>{C(Mn({handler:v,reactEvent:Q}))},[C,v]),K=p.useCallback(Q=>{C(vz(Q)),C(Mn({handler:w,reactEvent:Q}))},[C,w]),B=p.useCallback(Q=>{C(Mn({handler:y,reactEvent:Q}))},[C,y]);return p.createElement(v$.Provider,{value:S},p.createElement(Vre.Provider,{value:A},p.createElement("div",{className:Xt("recharts-wrapper",a),style:nye({position:"relative",cursor:"default",width:N,height:n},b),onClick:L,onContextMenu:U,onDoubleClick:$,onFocus:W,onKeyDown:V,onMouseDown:R,onMouseEnter:H,onMouseLeave:O,onMouseMove:I,onMouseUp:F,onTouchEnd:B,onTouchMove:K,onTouchStart:z,ref:M},s)))}),dye=["children","className","width","height","style","compact","title","desc"];function uye(e,r){if(e==null)return{};var s,a,n=mye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Sz=p.forwardRef((e,r)=>{var{children:s,className:a,width:n,height:i,style:o,compact:l,title:d,desc:m}=e,h=uye(e,dye),f=_i(h);return l?p.createElement(B3,{otherAttributes:f,title:d,desc:m},s):p.createElement(cye,{className:a,style:o,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(B3,{otherAttributes:f,title:d,desc:m,ref:r},p.createElement(kge,null,s)))}),hye=["width","height"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},F1.apply(null,arguments)}function fye(e,r){if(e==null)return{};var s,a,n=pye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var gye={top:5,right:5,bottom:5,left:5},xye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gye,reverseStackOrder:!1,syncMethod:"index"},J2=p.forwardRef(function(r,s){var a,n=Ia(r.categoricalChartProps,xye),{width:i,height:o}=n,l=fye(n,hye);if(!qu(i)||!qu(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,categoricalChartProps:g}=r,y={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(wz,{preloadedState:{options:y},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:d},p.createElement(W$,{chartData:g.data}),p.createElement(jz,{width:i,height:o,layout:n.layout,margin:n.margin}),p.createElement(Nz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Sz,F1({},l,{width:i,height:o,ref:s})))}),yye=["axis"],Cz=p.forwardRef((e,r)=>p.createElement(J2,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yye,tooltipPayloadSearcher:Sy,categoricalChartProps:e,ref:r})),vye=["axis","item"],X2=p.forwardRef((e,r)=>p.createElement(J2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vye,tooltipPayloadSearcher:Sy,categoricalChartProps:e,ref:r}));function bye(e){var r=ds();return p.useEffect(()=>{r(Hxe(e))},[r,e]),null}var wye=["width","height","layout"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},U1.apply(null,arguments)}function jye(e,r){if(e==null)return{};var s,a,n=Nye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Sye={top:5,right:5,bottom:5,left:5},Cye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Sye,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kye=p.forwardRef(function(r,s){var a,n=Ia(r.categoricalChartProps,Cye),{width:i,height:o,layout:l}=n,d=jye(n,wye);if(!qu(i)||!qu(o))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g}=r,y={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(wz,{preloadedState:{options:y},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:m},p.createElement(W$,{chartData:n.data}),p.createElement(jz,{width:i,height:o,layout:l,margin:n.margin}),p.createElement(Nz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(bye,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),p.createElement(Sz,U1({width:i,height:o},d,{ref:s})))}),_ye=["item"],Pye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Q2=p.forwardRef((e,r)=>{var s=Ia(e,Pye);return p.createElement(kye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_ye,tooltipPayloadSearcher:Sy,categoricalChartProps:s,ref:r})}),Aye=["axis"],My=p.forwardRef((e,r)=>p.createElement(J2,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Aye,tooltipPayloadSearcher:Sy,categoricalChartProps:e,ref:r}));const Eye=[{name:"Summer Sale",success:78},{name:"Product Launch",success:65},{name:"Customer Win-back",success:82},{name:"Holiday Promo",success:91},{name:"Lead Nurture",success:73}],Tye=[{id:1,contact:"John Smith",campaign:"Summer Sale",duration:"3:45",status:"completed"},{id:2,contact:"Sarah Johnson",campaign:"Product Launch",duration:"2:30",status:"in-progress"},{id:3,contact:"Mike Davis",campaign:"Customer Win-back",duration:"5:12",status:"completed"},{id:4,contact:"Emily Brown",campaign:"Holiday Promo",duration:"1:55",status:"completed"},{id:5,contact:"David Wilson",campaign:"Lead Nurture",duration:"4:20",status:"missed"}];function Oye(){console.log("Dashboard component rendering...");const e=[{date:"Monday",calls:320},{date:"Tuesday",calls:450},{date:"Wednesday",calls:380},{date:"Thursday",calls:520},{date:"Friday",calls:480},{date:"Saturday",calls:350},{date:"Sunday",calls:290}],r=br(),{userContext:s}=ki(),{user:a}=xf();cs();const[n,i]=p.useState(new Date),[o,l]=p.useState("all"),[d,m]=p.useState("all"),[h]=p.useState(8),[f,g]=p.useState(12543),[y,w]=p.useState(72.5),[v,b]=p.useState(1502.34),[N,C]=p.useState(437),[S,_]=p.useState(12.8);p.useEffect(()=>{console.log("Dashboard useEffect running...");const E=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(E)},[]),p.useEffect(()=>{const E=setInterval(()=>{g(M=>M+Math.floor(Math.random()*3)),w(M=>Math.max(70,Math.min(80,M+(Math.random()-.5)*2))),b(M=>M+Math.random()*.5),C(M=>M+(Math.random()>.7?1:0)),_(M=>Math.max(20,Math.min(30,M+(Math.random()-.5)*1)))},3e4);return()=>clearInterval(E)},[]);const A=[{title:"Total Calls",value:"12,543",change:"+12.5%",icon:xt,color:"purple"},{title:"Active Campaigns",value:"24",change:"+3",icon:lr,color:"emerald"},{title:"Conversion Rate",value:"32.8%",change:"+5.2%",icon:Bs,color:"pink"},{title:"Revenue",value:"$45,231",change:"+18.7%",icon:Fr,color:"blue"}],T=()=>{const E=new Date().getHours();return E<12?"Good morning":E<18?"Good afternoon":"Good evening"};return t.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-black",children:t.jsxs("div",{className:"w-full mt-8 space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),t.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[T(),", ",(s==null?void 0:s.firstName)||(a==null?void 0:a.firstName)||"User","! • ",n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(q,{onClick:()=>r("/campaigns"),className:"bg-emerald-600 font-medium text-white transition-all duration-200 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})})]}),t.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:A.map(E=>t.jsx(J,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:E.title}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:E.value}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:`text-xs font-medium ${E.change.startsWith("+")?"text-pink-400":"text-red-400"}`,children:E.change}),t.jsx("span",{className:"text-xs text-gray-500",children:"Weekly growth"})]})]}),t.jsx("div",{className:`rounded-lg border p-3 ${E.color==="purple"?"border-purple-500/20 bg-purple-500/10":E.color==="emerald"?"border-emerald-500/20 bg-emerald-500/10":E.color==="pink"?"border-pink-500/20 bg-pink-500/10":E.color==="blue"?"border-blue-500/20 bg-blue-500/10":"border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(E.icon,{className:`h-5 w-5 ${E.color==="purple"?"text-purple-400":E.color==="emerald"?"text-emerald-400":E.color==="pink"?"text-pink-400":E.color==="blue"?"text-blue-400":"text-gray-300"}`})})]})})},E.title))}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(pe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(xe,{className:"text-lg font-semibold text-white",children:"Call Volume"}),t.jsx(Ht,{className:"text-sm text-gray-400",children:"Last 7 days"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(My,{data:e,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#ec4899",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#ec4899",stopOpacity:0})]})}),t.jsx(Ki,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(vi,{dataKey:"date",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(bi,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(zn,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.95)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#fff"}}),t.jsx(md,{type:"monotone",dataKey:"calls",stroke:"#ec4899",fillOpacity:1,fill:"url(#colorCalls)"})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsxs(pe,{className:"border-b border-gray-800/30 p-4",children:[t.jsx(xe,{className:"text-lg font-semibold text-white",children:"Campaign Performance"}),t.jsx(Ht,{className:"text-sm text-gray-400",children:"Success rate by campaign"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-[300px]",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(X2,{data:Eye,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:.9}),t.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:1})]})}),t.jsx(Ki,{strokeDasharray:"3 3",stroke:"rgba(55, 65, 81, 0.3)"}),t.jsx(vi,{dataKey:"name",stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(bi,{stroke:"rgba(156, 163, 175, 0.7)"}),t.jsx(zn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.9)",border:"1px solid rgba(236, 72, 153, 0.5)",borderRadius:"8px",backdropFilter:"blur(12px)",boxShadow:"0 8px 32px rgba(236, 72, 153, 0.2)"},labelStyle:{color:"#fff"},cursor:{fill:"rgba(236, 72, 153, 0.1)"}}),t.jsx(lf,{dataKey:"success",fill:"url(#barGradient)",radius:[8,8,0,0]})]})})})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-all duration-200 hover:border-gray-600 hover:bg-gray-800/50",children:[t.jsx(pe,{className:"border-b border-gray-800/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-lg font-semibold text-white",children:"Recent Calls"}),t.jsx(Ht,{className:"text-sm text-gray-400",children:"Recent Activity"})]}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r("/all-calls"),className:"text-gray-400 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:"View All"})]})}),t.jsx(X,{className:"p-0",children:t.jsx("div",{className:"divide-y divide-gray-800/30",children:Tye.map(E=>t.jsxs("div",{className:"group flex cursor-pointer items-center justify-between px-4 py-3 transition-all duration-200 hover:bg-gray-800/30",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg ${E.status==="completed"?"border border-pink-500/20 bg-pink-500/10":E.status==="in-progress"?"border border-blue-500/20 bg-blue-500/10":"border border-gray-700/30 bg-gray-800/50"}`,children:t.jsx(xt,{className:`h-4 w-4 ${E.status==="completed"?"text-pink-400":E.status==="in-progress"?"text-blue-400":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:E.contact}),t.jsx("p",{className:"text-xs text-gray-400",children:E.campaign})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-white",children:E.duration}),t.jsx("p",{className:`text-xs ${E.status==="completed"?"text-pink-400":E.status==="in-progress"?"text-blue-400":"text-gray-400"}`,children:E.status==="completed"?"Completed":E.status==="in-progress"?"In Progress":E.status==="missed"?"Missed":E.status})]}),t.jsx(io,{className:"h-3 w-3 text-gray-500 transition-all duration-200 group-hover:text-gray-300"})]})]},E.id))})})]})]})})}function Gf(e){const r=p.useRef({value:e,previous:e});return p.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Mye=[" ","Enter","ArrowUp","ArrowDown"],Rye=[" ","Enter"],hd="Select",[Ry,Iy,Iye]=bf(hd),[xm,U1e]=qs(hd,[Iye,Lx]),Dy=Lx(),[Dye,lc]=xm(hd),[Lye,$ye]=xm(hd),kz=e=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:m,name:h,autoComplete:f,disabled:g,required:y,form:w}=e,v=Dy(r),[b,N]=p.useState(null),[C,S]=p.useState(null),[_,A]=p.useState(!1),T=yd(m),[E,M]=wi({prop:a,defaultProp:n??!1,onChange:i,caller:hd}),[L,H]=wi({prop:o,defaultProp:l,onChange:d,caller:hd}),O=p.useRef(null),I=b?w||!!b.closest("form"):!0,[W,V]=p.useState(new Set),U=Array.from(W).map($=>$.props.value).join(";");return t.jsx(PR,{...v,children:t.jsxs(Dye,{required:y,scope:r,trigger:b,onTriggerChange:N,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:Vi(),value:L,onValueChange:H,open:E,onOpenChange:M,dir:T,triggerPointerDownPosRef:O,disabled:g,children:[t.jsx(Ry.Provider,{scope:r,children:t.jsx(Lye,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback($=>{V(R=>new Set(R).add($))},[]),onNativeOptionRemove:p.useCallback($=>{V(R=>{const F=new Set(R);return F.delete($),F})},[]),children:s})}),I?t.jsxs(Jz,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:L,onChange:$=>H($.target.value),disabled:g,form:w,children:[L===void 0?t.jsx("option",{value:""}):null,Array.from(W)]},U):null]})})};kz.displayName=hd;var _z="SelectTrigger",Pz=p.forwardRef((e,r)=>{const{__scopeSelect:s,disabled:a=!1,...n}=e,i=Dy(s),o=lc(_z,s),l=o.disabled||a,d=ut(r,o.onTriggerChange),m=Iy(s),h=p.useRef("touch"),[f,g,y]=Qz(v=>{const b=m().filter(S=>!S.disabled),N=b.find(S=>S.value===o.value),C=Zz(b,v,N);C!==void 0&&o.onValueChange(C.value)}),w=v=>{l||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return t.jsx(AR,{asChild:!0,...i,children:t.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Xz(o.value)?"":void 0,...n,ref:d,onClick:De(n.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:De(n.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:De(n.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(b&&v.key===" ")&&Mye.includes(v.key)&&(w(),v.preventDefault())})})})});Pz.displayName=_z;var Az="SelectValue",Ez=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=e,d=lc(Az,s),{onValueNodeHasChildrenChange:m}=d,h=i!==void 0,f=ut(r,d.onValueNodeChange);return os(()=>{m(h)},[m,h]),t.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:Xz(d.value)?t.jsx(t.Fragment,{children:o}):i})});Ez.displayName=Az;var zye="SelectIcon",Tz=p.forwardRef((e,r)=>{const{__scopeSelect:s,children:a,...n}=e;return t.jsx(He.span,{"aria-hidden":!0,...n,ref:r,children:a||"▼"})});Tz.displayName=zye;var Fye="SelectPortal",Oz=e=>t.jsx(Sf,{asChild:!0,...e});Oz.displayName=Fye;var fd="SelectContent",Mz=p.forwardRef((e,r)=>{const s=lc(fd,e.__scopeSelect),[a,n]=p.useState();if(os(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?Jl.createPortal(t.jsx(Rz,{scope:e.__scopeSelect,children:t.jsx(Ry.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Iz,{...e,ref:r})});Mz.displayName=fd;var ui=10,[Rz,cc]=xm(fd),Uye="SelectContentImpl",Bye=nd("SelectContent.RemoveScroll"),Iz=p.forwardRef((e,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:b,...N}=e,C=lc(fd,s),[S,_]=p.useState(null),[A,T]=p.useState(null),E=ut(r,Ae=>_(Ae)),[M,L]=p.useState(null),[H,O]=p.useState(null),I=Iy(s),[W,V]=p.useState(!1),U=p.useRef(!1);p.useEffect(()=>{if(S)return FS(S)},[S]),PS();const $=p.useCallback(Ae=>{const[Re,...de]=I().map(te=>te.ref.current),[Se]=de.slice(-1),Ee=document.activeElement;for(const te of Ae)if(te===Ee||(te==null||te.scrollIntoView({block:"nearest"}),te===Re&&A&&(A.scrollTop=0),te===Se&&A&&(A.scrollTop=A.scrollHeight),te==null||te.focus(),document.activeElement!==Ee))return},[I,A]),R=p.useCallback(()=>$([M,S]),[$,M,S]);p.useEffect(()=>{W&&R()},[W,R]);const{onOpenChange:F,triggerPointerDownPosRef:z}=C;p.useEffect(()=>{if(S){let Ae={x:0,y:0};const Re=Se=>{var Ee,te;Ae={x:Math.abs(Math.round(Se.pageX)-(((Ee=z.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((te=z.current)==null?void 0:te.y)??0))}},de=Se=>{Ae.x<=10&&Ae.y<=10?Se.preventDefault():S.contains(Se.target)||F(!1),document.removeEventListener("pointermove",Re),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",de,{capture:!0})}}},[S,F,z]),p.useEffect(()=>{const Ae=()=>F(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[F]);const[K,B]=Qz(Ae=>{const Re=I().filter(Ee=>!Ee.disabled),de=Re.find(Ee=>Ee.ref.current===document.activeElement),Se=Zz(Re,Ae,de);Se&&setTimeout(()=>Se.ref.current.focus())}),Q=p.useCallback((Ae,Re,de)=>{const Se=!U.current&&!de;(C.value!==void 0&&C.value===Re||Se)&&(L(Ae),Se&&(U.current=!0))},[C.value]),Ce=p.useCallback(()=>S==null?void 0:S.focus(),[S]),Z=p.useCallback((Ae,Re,de)=>{const Se=!U.current&&!de;(C.value!==void 0&&C.value===Re||Se)&&O(Ae)},[C.value]),ne=a==="popper"?B1:Dz,ze=ne===B1?{side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return t.jsx(Rz,{scope:s,content:S,viewport:A,onViewportChange:T,itemRefCallback:Q,selectedItem:M,onItemLeave:Ce,itemTextRefCallback:Z,focusSelectedItem:R,selectedItemText:H,position:a,isPositioned:W,searchRef:K,children:t.jsx(zx,{as:Bye,allowPinchZoom:!0,children:t.jsx(Mx,{asChild:!0,trapped:C.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:De(n,Ae=>{var Re;(Re=C.trigger)==null||Re.focus({preventScroll:!0}),Ae.preventDefault()}),children:t.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:t.jsx(ne,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Ae=>Ae.preventDefault(),...N,...ze,onPlaced:()=>V(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:De(N.onKeyDown,Ae=>{const Re=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!Re&&Ae.key.length===1&&B(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let Se=I().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const Ee=Ae.target,te=Se.indexOf(Ee);Se=Se.slice(te+1)}setTimeout(()=>$(Se)),Ae.preventDefault()}})})})})})})});Iz.displayName=Uye;var Wye="SelectItemAlignedPosition",Dz=p.forwardRef((e,r)=>{const{__scopeSelect:s,onPlaced:a,...n}=e,i=lc(fd,s),o=cc(fd,s),[l,d]=p.useState(null),[m,h]=p.useState(null),f=ut(r,E=>h(E)),g=Iy(s),y=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:N,focusSelectedItem:C}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&m&&v&&b&&N){const E=i.trigger.getBoundingClientRect(),M=m.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),H=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=H.left-M.left,te=L.left-Ee,be=E.left-te,Te=E.width+be,Ue=Math.max(Te,M.width),oe=window.innerWidth-ui,Ge=Yh(te,[ui,Math.max(ui,oe-Ue)]);l.style.minWidth=Te+"px",l.style.left=Ge+"px"}else{const Ee=M.right-H.right,te=window.innerWidth-L.right-Ee,be=window.innerWidth-E.right-te,Te=E.width+be,Ue=Math.max(Te,M.width),oe=window.innerWidth-ui,Ge=Yh(te,[ui,Math.max(ui,oe-Ue)]);l.style.minWidth=Te+"px",l.style.right=Ge+"px"}const O=g(),I=window.innerHeight-ui*2,W=v.scrollHeight,V=window.getComputedStyle(m),U=parseInt(V.borderTopWidth,10),$=parseInt(V.paddingTop,10),R=parseInt(V.borderBottomWidth,10),F=parseInt(V.paddingBottom,10),z=U+$+W+F+R,K=Math.min(b.offsetHeight*5,z),B=window.getComputedStyle(v),Q=parseInt(B.paddingTop,10),Ce=parseInt(B.paddingBottom,10),Z=E.top+E.height/2-ui,ne=I-Z,ze=b.offsetHeight/2,Ae=b.offsetTop+ze,Re=U+$+Ae,de=z-Re;if(Re<=Z){const Ee=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const te=m.clientHeight-v.offsetTop-v.offsetHeight,be=Math.max(ne,ze+(Ee?Ce:0)+te+R),Te=Re+be;l.style.height=Te+"px"}else{const Ee=O.length>0&&b===O[0].ref.current;l.style.top="0px";const be=Math.max(Z,U+v.offsetTop+(Ee?Q:0)+ze)+de;l.style.height=be+"px",v.scrollTop=Re-Z+v.offsetTop}l.style.margin=`${ui}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,l,m,v,b,N,i.dir,a]);os(()=>S(),[S]);const[_,A]=p.useState();os(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const T=p.useCallback(E=>{E&&w.current===!0&&(S(),C==null||C(),w.current=!1)},[S,C]);return t.jsx(qye,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:t.jsx(He.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Dz.displayName=Wye;var Vye="SelectPopperPosition",B1=p.forwardRef((e,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=ui,...i}=e,o=Dy(s);return t.jsx(ER,{...o,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});B1.displayName=Vye;var[qye,Z2]=xm(fd,{}),W1="SelectViewport",Lz=p.forwardRef((e,r)=>{const{__scopeSelect:s,nonce:a,...n}=e,i=cc(W1,s),o=Z2(W1,s),l=ut(r,i.onViewportChange),d=p.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Ry.Slot,{scope:s,children:t.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:De(n.onScroll,m=>{const h=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const y=Math.abs(d.current-h.scrollTop);if(y>0){const w=window.innerHeight-ui*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),N=Math.max(v,b);if(N<w){const C=N+y,S=Math.min(w,C),_=C-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});Lz.displayName=W1;var $z="SelectGroup",[Hye,Kye]=xm($z),Gye=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Vi();return t.jsx(Hye,{scope:s,id:n,children:t.jsx(He.div,{role:"group","aria-labelledby":n,...a,ref:r})})});Gye.displayName=$z;var zz="SelectLabel",Fz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Kye(zz,s);return t.jsx(He.div,{id:n.id,...a,ref:r})});Fz.displayName=zz;var sx="SelectItem",[Yye,Uz]=xm(sx),Bz=p.forwardRef((e,r)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=e,l=lc(sx,s),d=cc(sx,s),m=l.value===a,[h,f]=p.useState(i??""),[g,y]=p.useState(!1),w=ut(r,C=>{var S;return(S=d.itemRefCallback)==null?void 0:S.call(d,C,a,n)}),v=Vi(),b=p.useRef("touch"),N=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Yye,{scope:s,value:a,disabled:n,textId:v,isSelected:m,onItemTextChange:p.useCallback(C=>{f(S=>S||((C==null?void 0:C.textContent)??"").trim())},[]),children:t.jsx(Ry.ItemSlot,{scope:s,value:a,disabled:n,textValue:h,children:t.jsx(He.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:w,onFocus:De(o.onFocus,()=>y(!0)),onBlur:De(o.onBlur,()=>y(!1)),onClick:De(o.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:De(o.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:De(o.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:De(o.onPointerMove,C=>{var S;b.current=C.pointerType,n?(S=d.onItemLeave)==null||S.call(d):b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,C=>{var S;C.currentTarget===document.activeElement&&((S=d.onItemLeave)==null||S.call(d))}),onKeyDown:De(o.onKeyDown,C=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&C.key===" "||(Rye.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});Bz.displayName=sx;var Eh="SelectItemText",Wz=p.forwardRef((e,r)=>{const{__scopeSelect:s,className:a,style:n,...i}=e,o=lc(Eh,s),l=cc(Eh,s),d=Uz(Eh,s),m=$ye(Eh,s),[h,f]=p.useState(null),g=ut(r,N=>f(N),d.onItemTextChange,N=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,N,d.value,d.disabled)}),y=h==null?void 0:h.textContent,w=p.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=m;return os(()=>(v(w),()=>b(w)),[v,b,w]),t.jsxs(t.Fragment,{children:[t.jsx(He.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jl.createPortal(i.children,o.valueNode):null]})});Wz.displayName=Eh;var Vz="SelectItemIndicator",qz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return Uz(Vz,s).isSelected?t.jsx(He.span,{"aria-hidden":!0,...a,ref:r}):null});qz.displayName=Vz;var V1="SelectScrollUpButton",Hz=p.forwardRef((e,r)=>{const s=cc(V1,e.__scopeSelect),a=Z2(V1,e.__scopeSelect),[n,i]=p.useState(!1),o=ut(r,a.onScrollButtonChange);return os(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollTop>0;i(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(Gz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Hz.displayName=V1;var q1="SelectScrollDownButton",Kz=p.forwardRef((e,r)=>{const s=cc(q1,e.__scopeSelect),a=Z2(q1,e.__scopeSelect),[n,i]=p.useState(!1),o=ut(r,a.onScrollButtonChange);return os(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?t.jsx(Gz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Kz.displayName=q1;var Gz=p.forwardRef((e,r)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=e,i=cc("SelectScrollButton",s),o=p.useRef(null),l=Iy(s),d=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),os(()=>{var h;const m=l().find(f=>f.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),t.jsx(He.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:De(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:De(n.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:De(n.onPointerLeave,()=>{d()})})}),Jye="SelectSeparator",Yz=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e;return t.jsx(He.div,{"aria-hidden":!0,...a,ref:r})});Yz.displayName=Jye;var H1="SelectArrow",Xye=p.forwardRef((e,r)=>{const{__scopeSelect:s,...a}=e,n=Dy(s),i=lc(H1,s),o=cc(H1,s);return i.open&&o.position==="popper"?t.jsx(TR,{...n,...a,ref:r}):null});Xye.displayName=H1;var Qye="SelectBubbleInput",Jz=p.forwardRef(({__scopeSelect:e,value:r,...s},a)=>{const n=p.useRef(null),i=ut(a,n),o=Gf(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(He.select,{...s,style:{...gD,...s.style},ref:i,defaultValue:r})});Jz.displayName=Qye;function Xz(e){return e===""||e===void 0}function Qz(e){const r=Qr(e),s=p.useRef(""),a=p.useRef(0),n=p.useCallback(o=>{const l=s.current+o;r(l),function d(m){s.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[r]),i=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function Zz(e,r,s){const n=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=s?e.indexOf(s):-1;let o=Zye(e,Math.max(i,0));n.length===1&&(o=o.filter(m=>m!==s));const d=o.find(m=>m.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function Zye(e,r){return e.map((s,a)=>e[(r+a)%e.length])}var eve=kz,eF=Pz,tve=Ez,rve=Tz,sve=Oz,tF=Mz,ave=Lz,rF=Fz,sF=Bz,nve=Wz,ive=qz,aF=Hz,nF=Kz,iF=Yz;const at=eve,nt=tve,rt=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(eF,{ref:a,className:Le("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(rve,{asChild:!0,children:t.jsx(rs,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=eF.displayName;const oF=p.forwardRef(({className:e,...r},s)=>t.jsx(aF,{ref:s,className:Le("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(FG,{className:"h-4 w-4"})}));oF.displayName=aF.displayName;const lF=p.forwardRef(({className:e,...r},s)=>t.jsx(nF,{ref:s,className:Le("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(rs,{className:"h-4 w-4"})}));lF.displayName=nF.displayName;const st=p.forwardRef(({className:e,children:r,position:s="popper",...a},n)=>t.jsx(sve,{children:t.jsxs(tF,{ref:n,className:Le("relative z-[9999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,style:{zIndex:9999},...a,children:[t.jsx(oF,{}),t.jsx(ave,{className:Le("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(lF,{})]})}));st.displayName=tF.displayName;const ove=p.forwardRef(({className:e,...r},s)=>t.jsx(rF,{ref:s,className:Le("px-2 py-1.5 text-sm font-semibold",e),...r}));ove.displayName=rF.displayName;const se=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(sF,{ref:a,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm text-white outline-none hover:bg-gray-700 hover:text-white focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ive,{children:t.jsx(tm,{className:"h-4 w-4"})})}),t.jsx(nve,{children:r})]}));se.displayName=sF.displayName;const lve=p.forwardRef(({className:e,...r},s)=>t.jsx(iF,{ref:s,className:Le("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...r}));lve.displayName=iF.displayName;const cve={agency_owner:"Agency Owner",agency_admin:"Agency Admin",agency_user:"Agency User",platform_admin:"Platform Admin",platform_owner:"Platform Owner",client_admin:"Client Admin",client_user:"Client User"};function dve(){const[e,r]=p.useState([]),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState("all"),{getToken:w}=wa(),{toast:v}=cs(),b=async()=>{try{i(!0);const{supabaseService:_}=await fn(async()=>{const{supabaseService:M}=await Promise.resolve().then(()=>_u);return{supabaseService:M}},void 0);console.log("🔍 Fetching users from Supabase...");const{data:A,error:T}=await _.client.from("users").select("*").order("created_at",{ascending:!1});if(console.log("📊 Supabase response:",{users:A,error:T}),T)throw console.error("❌ Supabase error details:",{message:T.message,code:T.code,details:T.details,hint:T.hint}),T;const E=(A||[]).map(M=>({id:M.id,email:M.email,first_name:M.first_name||"",last_name:M.last_name||"",role:M.role||"client_user",is_active:M.is_active!==!1,organization_id:M.organization_id,organization_name:"",last_login:M.last_login,created_at:M.created_at,phone:M.phone||"",avatar_url:M.avatar_url||""}));console.log("✅ Transformed users:",E.length),r(E);try{const{data:M,error:L}=await _.client.from("organizations").select("*").order("name");if(console.log("📊 Organizations response:",{orgs:M,orgError:L}),!L&&M){a(M);const H=E.map(O=>{const I=M.find(W=>W.id===O.organization_id);return{...O,organization_name:(I==null?void 0:I.name)||""}});r(H)}}catch(M){console.warn("⚠️ Failed to fetch organizations:",M)}}catch(_){console.error("❌ Error fetching users from Supabase:",_),v({title:"Error",description:"Failed to load users from database. Check console for details.",variant:"destructive"}),r([])}finally{i(!1)}};p.useEffect(()=>{b()},[]);const N=async(_,A)=>{try{const{supabaseService:T}=await fn(async()=>{const{supabaseService:M}=await Promise.resolve().then(()=>_u);return{supabaseService:M}},void 0),{error:E}=await T.client.from("users").update(A).eq("id",_);if(E)throw E;await b(),v({title:"Success",description:"User updated successfully"})}catch(T){throw console.error("❌ Error updating user:",T),v({title:"Error",description:T.message||"Failed to update user. Please try again.",variant:"destructive"}),T}},C=async _=>{try{const{supabaseService:A}=await fn(async()=>{const{supabaseService:E}=await Promise.resolve().then(()=>_u);return{supabaseService:E}},void 0),{error:T}=await A.client.from("users").delete().eq("id",_);if(T)throw T;await b(),v({title:"Success",description:"User deleted successfully"})}catch(A){console.error("❌ Error deleting user:",A),v({title:"Error",description:A.message||"Failed to delete user. Please try again.",variant:"destructive"})}},S=e.filter(_=>{var L,H,O,I;const A=(((L=_.first_name)==null?void 0:L.toLowerCase())||"").includes(o.toLowerCase())||(((H=_.last_name)==null?void 0:H.toLowerCase())||"").includes(o.toLowerCase())||(((O=_.email)==null?void 0:O.toLowerCase())||"").includes(o.toLowerCase())||(((I=_.organization_name)==null?void 0:I.toLowerCase())||"").includes(o.toLowerCase()),T=d==="all"||_.role===d,E=h==="all"||h==="active"&&_.is_active||h==="inactive"&&!_.is_active,M=g==="all"||_.organization_id===g;return A&&T&&E&&M});return n?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"})}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading users..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),t.jsx("p",{className:"mt-1 text-zinc-400",children:"Manage users and their permissions across your organization"})]}),t.jsxs(q,{onClick:()=>{},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),t.jsx(bt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(_=>_.is_active).length})]}),t.jsx(ql,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Organizations"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(cr,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Admin Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(_=>_.role&&(_.role.includes("admin")||_.role.includes("owner"))).length})]}),t.jsx(gs,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(_e,{placeholder:"Search users...",value:o,onChange:_=>l(_.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Role"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Roles"}),t.jsx(se,{value:"platform_owner",children:"Platform Owner"}),t.jsx(se,{value:"platform_admin",children:"Platform Admin"}),t.jsx(se,{value:"agency_owner",children:"Agency Owner"}),t.jsx(se,{value:"agency_admin",children:"Agency Admin"}),t.jsx(se,{value:"agency_user",children:"Agency User"})]})]}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(rt,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Status"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"active",children:"Active"}),t.jsx(se,{value:"inactive",children:"Inactive"})]})]}),t.jsxs(at,{value:g,onValueChange:y,children:[t.jsx(rt,{className:"w-48 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Organization"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Organizations"}),s.map(_=>t.jsx(se,{value:_.id,children:_.name},_.id))]})]})]})})}),t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"text-white",children:["Users (",S.length,")"]}),t.jsx(Ht,{className:"text-zinc-400",children:"Manage user accounts and permissions"})]}),t.jsx(X,{children:S.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No users found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:S.map(_=>{var A,T;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-600",children:t.jsxs("span",{className:"font-medium text-white",children:[(((A=_.first_name)==null?void 0:A[0])||"").toUpperCase(),(((T=_.last_name)==null?void 0:T[0])||"").toUpperCase()]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("p",{className:"font-medium text-white",children:[_.first_name||""," ",_.last_name||""]}),t.jsx(je,{className:`${_.is_active?"bg-green-500":"bg-gray-500"} text-white`,children:_.is_active?"Active":"Inactive"}),t.jsx(je,{variant:"outline",className:"border-zinc-600 text-zinc-300",children:cve[_.role]||_.role})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Oa,{className:"mr-1 h-3 w-3"}),_.email]}),_.organization_name&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(cr,{className:"mr-1 h-3 w-3"}),_.organization_name]}),_.phone&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(xt,{className:"mr-1 h-3 w-3"}),_.phone]})]})]})]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",children:t.jsx(Ax,{className:"h-4 w-4"})})}),t.jsxs(Vn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Jt,{onClick:()=>{},className:"text-zinc-300 hover:text-white",children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Edit User"]}),t.jsx(Jt,{onClick:()=>N(_.id,{is_active:!_.is_active}),className:"text-zinc-300 hover:text-white",children:_.is_active?t.jsxs(t.Fragment,{children:[t.jsx(GM,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(ql,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(Jt,{onClick:()=>C(_.id),className:"text-red-400 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]},_.id)})})})]})]})}var Ly="Tabs",[uve,B1e]=qs(Ly,[im]),cF=im(),[mve,ek]=uve(Ly),dF=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...m}=e,h=yd(l),[f,g]=wi({prop:a,onChange:n,defaultProp:i??"",caller:Ly});return t.jsx(mve,{scope:s,baseId:Vi(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:d,children:t.jsx(He.div,{dir:h,"data-orientation":o,...m,ref:r})})});dF.displayName=Ly;var uF="TabsList",mF=p.forwardRef((e,r)=>{const{__scopeTabs:s,loop:a=!0,...n}=e,i=ek(uF,s),o=cF(s);return t.jsx($S,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});mF.displayName=uF;var hF="TabsTrigger",fF=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=e,o=ek(hF,s),l=cF(s),d=xF(o.baseId,a),m=yF(o.baseId,a),h=a===o.value;return t.jsx(zS,{asChild:!0,...l,focusable:!n,active:h,children:t.jsx(He.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:r,onMouseDown:De(e.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:De(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:De(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!n&&f&&o.onValueChange(a)})})})});fF.displayName=hF;var pF="TabsContent",gF=p.forwardRef((e,r)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=e,l=ek(pF,s),d=xF(l.baseId,a),m=yF(l.baseId,a),h=a===l.value,f=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(ja,{present:n||h,children:({present:g})=>t.jsx(He.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:m,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});gF.displayName=pF;function xF(e,r){return`${e}-trigger-${r}`}function yF(e,r){return`${e}-content-${r}`}var hve=dF,vF=mF,bF=fF,wF=gF;const Ai=hve,Yn=p.forwardRef(({className:e,...r},s)=>t.jsx(vF,{ref:s,className:Le("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",e),...r}));Yn.displayName=vF.displayName;const ht=p.forwardRef(({className:e,...r},s)=>t.jsx(bF,{ref:s,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",e),...r}));ht.displayName=bF.displayName;const ft=p.forwardRef(({className:e,...r},s)=>t.jsx(wF,{ref:s,className:Le("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",e),...r}));ft.displayName=wF.displayName;const fve=[{name:"Sarah Johnson",company:"TechCorp Solutions",role:"VP of Sales",quote:"The campaign automation engine is a game-changer. We set up campaigns that respect time zones, retry failed calls intelligently, and qualify leads automatically. Our sales team now focuses only on hot leads.",results:"340% increase in qualified leads"},{name:"Michael Chen",company:"Digital Marketing Pro",role:"Agency Owner",quote:"The 22 preset qualification fields saved us hours of setup time. Our AI asks the right questions every time, and the automatic lead scoring means we never miss a hot prospect.",results:"5x better conversion rates"},{name:"Emma Rodriguez",company:"Real Estate Masters",role:"Team Lead",quote:"Working hours enforcement and holiday respect features are brilliant. Our campaigns run 24/7 but only call when appropriate. The multi-phone number support handles our volume perfectly.",results:"89% contact rate improvement"}],pve=[{icon:Gi,title:"Campaign Automation Engine",description:"Fully automated campaign execution with minute-by-minute scheduling, intelligent retry logic, and multi-phone support",highlight:"Runs every 60 seconds",details:["Respects working hours & time zones","Smart retry based on call outcomes","Round-robin phone distribution","Real-time webhook processing"]},{icon:lr,title:"AI Lead Qualification",description:"22 preset fields across 9 categories with custom field support and automatic scoring",highlight:"0-100 scoring system",details:["Appointment readiness detection","Budget & timeline extraction","Authority identification","Automatic CRM actions"]},{icon:Us,title:"Real-Time Analytics",description:"Comprehensive campaign monitoring with call outcomes, lead insights, and team performance metrics",highlight:"Live dashboard updates",details:["Campaign performance tracking","Cost analytics per campaign","Lead qualification insights","Team collaboration metrics"]},{icon:YM,title:"Enterprise Integrations",description:"Seamless integration with VAPI.ai, Supabase, webhooks, and your existing tech stack",highlight:"API-first architecture",details:["VAPI.ai voice platform","Webhook event processing","CSV import/export","Clerk authentication"]}],gve=[{number:"340%",label:"More Qualified Leads",icon:Bs},{number:"5 Min",label:"Setup Time",icon:Mt},{number:"24/7",label:"Never Stops",icon:gs},{number:"2,500+",label:"Happy Businesses",icon:bt}];function xve(){const[e,r]=p.useState(!1),[s,a]=p.useState(0),{isSignedIn:n}=wa(),{userContext:i}=ki(),o=br();p.useEffect(()=>{const d=()=>a(window.scrollY);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),p.useEffect(()=>{n&&((i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard"))},[n,i,o]);const l=()=>{n?(i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard"):o("/signup")};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[t.jsx("nav",{className:"fixed top-0 z-50 w-full border-b border-slate-700/50 bg-slate-900/80 backdrop-blur-xl",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex h-16 items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:t.jsx(as,{className:"h-6 w-6 text-white"})}),t.jsx("span",{className:"bg-gradient-to-r from-white to-blue-400 bg-clip-text text-xl font-bold text-transparent",children:"Artificial Media"})]}),t.jsxs("div",{className:"hidden items-center space-x-8 md:flex",children:[t.jsx("a",{href:"#features",className:"text-slate-300 transition-colors hover:text-blue-400",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"text-slate-300 transition-colors hover:text-blue-400",children:"How It Works"}),t.jsx("a",{href:"#testimonials",className:"text-slate-300 transition-colors hover:text-blue-400",children:"Success Stories"}),n?t.jsx(q,{onClick:()=>{(i==null?void 0:i.role)==="Platform Owner"||(i==null?void 0:i.role)==="platform_owner"?o("/platform"):o("/dashboard")},className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-purple-700 hover:shadow-xl",children:"Go to Dashboard"}):t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"text-slate-300 transition-colors hover:text-blue-400",onClick:()=>o("/login"),children:"Sign In"}),t.jsx("button",{onClick:()=>o("/signup"),className:"rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 font-medium text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-purple-700 hover:shadow-xl",children:"Start Free Trial"})]})]})]})})}),t.jsxs("section",{className:"relative overflow-hidden pb-20 pt-32",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-slate-900/20"}),t.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-blue-500/10 blur-3xl",style:{transform:`translateY(${s*.3}px)`}}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 h-96 w-96 rounded-full bg-purple-500/10 blur-3xl",style:{transform:`translateY(${s*-.2}px)`}})]}),t.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"space-y-8 text-center",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-center space-x-4",children:[t.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(d=>t.jsx(Oo,{className:"h-5 w-5 fill-current text-yellow-400"},d))}),t.jsx("span",{className:"text-slate-300",children:"Trusted by 2,500+ businesses"}),t.jsxs(je,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),"340% ROI Average"]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h1",{className:"text-5xl font-bold leading-tight md:text-7xl",children:[t.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Transform Your Sales with"}),t.jsx("br",{}),t.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"AI Voice Automation"})]}),t.jsxs("p",{className:"mx-auto max-w-3xl text-xl leading-relaxed text-slate-300 md:text-2xl",children:["Complete campaign automation, intelligent lead qualification, and 24/7 AI calling - all managed from one powerful platform. ",t.jsx("span",{className:"font-semibold text-blue-400",children:"340% more qualified leads"})," ","with enterprise-grade automation."]})]}),t.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row",children:[t.jsxs(q,{onClick:l,className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 text-lg font-semibold text-white shadow-xl transition-all duration-200 hover:scale-105 hover:from-blue-700 hover:to-purple-700 hover:shadow-2xl",children:["Start Free 14-Day Trial",t.jsx(MN,{className:"ml-2 h-5 w-5"})]}),t.jsxs(q,{variant:"outline",onClick:()=>r(!0),className:"rounded-xl border-slate-600 px-8 py-4 text-lg font-semibold text-slate-300 transition-all duration-200 hover:bg-slate-800",children:[t.jsx(Un,{className:"mr-2 h-5 w-5"}),"Watch 2-Min Demo"]})]}),t.jsxs("div",{className:"mt-12 border-t border-slate-700/50 pt-8",children:[t.jsx("p",{className:"mb-6 text-sm text-slate-400",children:"No credit card required • Setup in 5 minutes • Cancel anytime"}),t.jsx("div",{className:"mt-8 grid grid-cols-2 gap-8 md:grid-cols-4",children:gve.map((d,m)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-2 flex items-center justify-center",children:t.jsx(d.icon,{className:"mr-2 h-6 w-6 text-blue-400"})}),t.jsx("div",{className:"text-2xl font-bold text-white md:text-3xl",children:d.number}),t.jsx("div",{className:"text-sm text-slate-400",children:d.label})]},m))})]})]})})]}),t.jsx("section",{className:"bg-slate-800/50 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"See Artificial Media AI in Action"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Watch how our AI qualifies leads in real-time"})]}),t.jsx("div",{className:"mx-auto max-w-4xl",children:t.jsx(J,{className:"overflow-hidden border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-0",children:[t.jsx("div",{className:"border-b border-slate-700 bg-gradient-to-r from-green-500/20 to-blue-500/20 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-green-400"}),t.jsx("span",{className:"font-medium text-green-400",children:"AI Qualification in Progress"})]}),t.jsx(je,{className:"bg-green-500/20 text-green-400",children:"Active"})]})}),t.jsxs("div",{className:"space-y-4 p-6",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:"AI"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-white",children:`"Hi John, I noticed you downloaded our guide on sales automation. I'm calling to see if you're still looking to improve your outbound calling results?"`})})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-600",children:t.jsx(bt,{className:"h-4 w-4 text-white"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-slate-300",children:`"Yes, we're actually struggling with our cold calling team. We make about 500 calls per day but our conversion rate is only 2%..."`})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 rounded-lg bg-slate-800/50 p-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:"2:34"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Duration"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-green-400",children:"Positive"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Sentiment"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-bold text-blue-400",children:"85/100"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Lead Score"})]})]}),t.jsxs("div",{className:"mt-4 space-x-2",children:[t.jsx(je,{className:"bg-green-500/20 text-green-400",children:"Budget: Qualified"}),t.jsx(je,{className:"bg-blue-500/20 text-blue-400",children:"Authority: Decision Maker"}),t.jsx(je,{className:"bg-purple-500/20 text-purple-400",children:"Timeline: This Quarter"})]})]})]})})})]})}),t.jsx("section",{id:"features",className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Enterprise-Grade AI Sales Automation"}),t.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-300",children:"Complete campaign automation with intelligent lead qualification, powered by cutting-edge AI technology and enterprise integrations."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:pve.map((d,m)=>t.jsx(J,{className:"group border-slate-700 bg-slate-800/50 transition-all duration-200 hover:bg-slate-800/70",children:t.jsx(X,{className:"p-8",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 transition-transform duration-200 group-hover:scale-110",children:t.jsx(d.icon,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:d.title}),t.jsx("p",{className:"mb-3 text-slate-300",children:d.description}),t.jsx(je,{className:"mb-3 bg-blue-500/20 text-blue-400",children:d.highlight}),d.details&&t.jsx("ul",{className:"space-y-1 text-sm text-slate-400",children:d.details.map((h,f)=>t.jsxs("li",{className:"flex items-center",children:[t.jsx(yt,{className:"mr-2 h-3 w-3 text-green-400"}),h]},f))})]})]})})},m))})]})}),t.jsx("section",{id:"how-it-works",className:"bg-slate-800/30 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"How Our AI Automation Works"}),t.jsx("p",{className:"text-lg text-slate-300",children:"From campaign creation to qualified leads in your CRM"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-4",children:[{step:"1",title:"Create Campaign",description:"Set up your campaign with working hours, phone numbers, and retry logic. Upload contacts via CSV.",icon:is},{step:"2",title:"AI Starts Calling",description:"Our automation engine runs every minute, respecting time zones and business hours automatically.",icon:xt},{step:"3",title:"Qualify Leads",description:"AI extracts 22+ qualification fields, scores leads 0-100, and triggers CRM actions instantly.",icon:lr},{step:"4",title:"Review & Close",description:"Hot leads appear in your dashboard. Focus on closing while AI handles the qualifying.",icon:Bs}].map((d,m)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600",children:t.jsx(d.icon,{className:"h-8 w-8 text-white"})}),t.jsxs("div",{className:"mb-2 text-2xl font-bold text-blue-400",children:["Step ",d.step]}),t.jsx("h3",{className:"mb-3 text-xl font-semibold text-white",children:d.title}),t.jsx("p",{className:"text-slate-300",children:d.description})]},m))})]})}),t.jsx("section",{className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"AI That Knows What to Ask"}),t.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-300",children:"22 preset qualification fields across 9 categories, plus unlimited custom fields. Our AI extracts the data that matters for your sales process."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[{category:"Appointment Readiness",icon:_s,fields:["Meeting Interest","Preferred Time","Calendar Availability"],color:"from-green-500 to-emerald-600"},{category:"Budget & Authority",icon:Fr,fields:["Budget Range","Decision Maker","Approval Process"],color:"from-blue-500 to-cyan-600"},{category:"Timeline & Urgency",icon:Mt,fields:["Purchase Timeline","Current Solution","Pain Points"],color:"from-purple-500 to-pink-600"},{category:"Company Details",icon:cr,fields:["Company Size","Industry","Department"],color:"from-orange-500 to-red-600"},{category:"Contact Information",icon:ql,fields:["Email Confirmation","Best Contact Time","Preferred Channel"],color:"from-teal-500 to-blue-600"},{category:"Interest Level",icon:lr,fields:["Product Interest","Feature Requirements","Use Case"],color:"from-indigo-500 to-purple-600"}].map((d,m)=>t.jsxs(J,{className:"border-slate-700 bg-slate-800/50",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r ${d.color}`,children:t.jsx(d.icon,{className:"h-5 w-5 text-white"})}),t.jsx(xe,{className:"text-lg text-white",children:d.category})]})}),t.jsx(X,{children:t.jsx("ul",{className:"space-y-2",children:d.fields.map((h,f)=>t.jsxs("li",{className:"flex items-center text-sm text-slate-300",children:[t.jsx(IN,{className:"mr-2 h-4 w-4 text-green-400"}),h]},f))})})]},m))}),t.jsxs("div",{className:"mt-12 text-center",children:[t.jsx("p",{className:"mb-4 text-slate-300",children:"Plus custom fields specific to your business needs"}),t.jsxs(je,{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400",children:[t.jsx($o,{className:"mr-1 h-4 w-4"}),"AI automatically detects and extracts all fields during conversations"]})]})]})}),t.jsx("section",{className:"bg-slate-800/30 py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Powerful Platform Views"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Everything you need to manage campaigns, track performance, and close deals"})]}),t.jsxs(Ai,{defaultValue:"campaigns",className:"w-full",children:[t.jsxs(Yn,{className:"grid w-full grid-cols-4 bg-slate-800",children:[t.jsx(ht,{value:"campaigns",className:"data-[state=active]:bg-slate-700",children:"Campaign Dashboard"}),t.jsx(ht,{value:"qualification",className:"data-[state=active]:bg-slate-700",children:"Lead Qualification"}),t.jsx(ht,{value:"analytics",className:"data-[state=active]:bg-slate-700",children:"Analytics"}),t.jsx(ht,{value:"team",className:"data-[state=active]:bg-slate-700",children:"Team Management"})]}),t.jsx(ft,{value:"campaigns",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Active Campaigns"}),t.jsx(je,{className:"bg-green-500/20 text-green-400",children:"Live"})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-white",children:"Q1 Outreach Campaign"}),t.jsx("span",{className:"text-sm text-slate-400",children:"2,450 / 5,000 calls"})]}),t.jsx("div",{className:"mb-2 h-2 overflow-hidden rounded-full bg-slate-700",children:t.jsx("div",{className:"h-full w-[49%] bg-gradient-to-r from-blue-500 to-purple-600"})}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-green-400",children:"342 Qualified Leads"}),t.jsx("span",{className:"text-slate-400",children:"Running 9am-5pm EST"})]})]})})]})})}),t.jsx(ft,{value:"qualification",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Lead Review Queue"}),t.jsx("div",{className:"space-y-3",children:[{name:"John Smith",score:92,company:"TechCorp",status:"Hot Lead"},{name:"Sarah Johnson",score:85,company:"StartupXYZ",status:"Qualified"},{name:"Mike Chen",score:78,company:"Digital Pro",status:"Interested"}].map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsx("p",{className:"text-sm text-slate-400",children:d.company})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(je,{className:`${d.score>=90?"bg-green-500/20 text-green-400":d.score>=80?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}`,children:["Score: ",d.score,"/100"]}),t.jsx(je,{variant:"outline",children:d.status})]})]},m))})]})})}),t.jsx(ft,{value:"analytics",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Campaign Performance"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(ba,{className:"mx-auto mb-2 h-8 w-8 text-blue-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"12,543"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Total Calls"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(lr,{className:"mx-auto mb-2 h-8 w-8 text-green-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"1,247"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Qualified Leads"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(Bs,{className:"mx-auto mb-2 h-8 w-8 text-purple-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"9.9%"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Conversion Rate"})]}),t.jsxs("div",{className:"rounded-lg bg-slate-800/50 p-4 text-center",children:[t.jsx(Fr,{className:"mx-auto mb-2 h-8 w-8 text-yellow-400"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"$0.42"}),t.jsx("p",{className:"text-sm text-slate-400",children:"Cost per Lead"})]})]})]})})}),t.jsx(ft,{value:"team",className:"mt-6",children:t.jsx(J,{className:"border-slate-700 bg-slate-900/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-semibold text-white",children:"Team Performance"}),t.jsx("div",{className:"space-y-3",children:[{name:"Sales Team A",campaigns:3,leads:423,performance:"+12%"},{name:"Sales Team B",campaigns:2,leads:312,performance:"+8%"},{name:"Sales Team C",campaigns:4,leads:567,performance:"+15%"}].map((d,m)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:d.name}),t.jsxs("p",{className:"text-sm text-slate-400",children:[d.campaigns," active campaigns"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-white",children:d.leads}),t.jsx("p",{className:"text-sm text-slate-400",children:"Leads Generated"})]}),t.jsx(je,{className:"bg-green-500/20 text-green-400",children:d.performance})]})]},m))})]})})})]})]})}),t.jsx("section",{id:"testimonials",className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-16 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Success Stories"}),t.jsx("p",{className:"text-lg text-slate-300",children:"See how businesses are transforming their sales with Apex AI"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:fve.map((d,m)=>t.jsx(J,{className:"border-slate-700 bg-slate-800/50",children:t.jsxs(X,{className:"p-8",children:[t.jsx("div",{className:"mb-4 flex items-center space-x-1",children:[1,2,3,4,5].map(h=>t.jsx(Oo,{className:"h-4 w-4 fill-current text-yellow-400"},h))}),t.jsxs("p",{className:"mb-6 italic text-slate-300",children:['"',d.quote,'"']}),t.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[t.jsx("div",{className:"font-semibold text-white",children:d.name}),t.jsx("div",{className:"text-sm text-slate-400",children:d.role}),t.jsx("div",{className:"text-sm text-slate-400",children:d.company}),t.jsx(je,{className:"mt-2 bg-green-500/20 text-green-400",children:d.results})]})]})},m))})]})}),t.jsx("section",{className:"py-20",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Enterprise-Ready Features"}),t.jsx("p",{className:"text-lg text-slate-300",children:"Built for scale, security, and compliance from day one"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[{icon:Ea,title:"Time Zone Intelligence",description:"Automatically respects contact time zones and business hours across the globe",features:["DST aware","Holiday detection","Working hours enforcement"]},{icon:ss,title:"Smart Retry Logic",description:"Intelligent retry strategies based on call outcomes and lead behavior",features:["No answer retry","Busy signal handling","Custom retry intervals"]},{icon:gs,title:"Enterprise Security",description:"Bank-level security with complete data isolation and encryption",features:["SOC 2 compliant","GDPR ready","Role-based access"]},{icon:YM,title:"Real-time Webhooks",description:"Instant notifications for every call event and lead update",features:["Call started/ended","Lead qualified","Custom events"]},{icon:bt,title:"Team Collaboration",description:"Built for teams with role management and performance tracking",features:["Multi-tenant","Team analytics","Permission controls"]},{icon:Px,title:"Data Management",description:"Powerful data handling with import, export, and backup capabilities",features:["CSV import/export","API access","Automated backups"]}].map((d,m)=>t.jsx(J,{className:"border-slate-700 bg-slate-800/50",children:t.jsxs(X,{className:"p-6",children:[t.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-to-br from-slate-700 to-slate-600",children:t.jsx(d.icon,{className:"h-6 w-6 text-white"})}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:d.title}),t.jsx("p",{className:"mb-4 text-sm text-slate-300",children:d.description}),t.jsx("ul",{className:"space-y-1",children:d.features.map((h,f)=>t.jsxs("li",{className:"flex items-center text-sm text-slate-400",children:[t.jsx(yt,{className:"mr-2 h-3 w-3 text-green-400"}),h]},f))})]})},m))})]})}),t.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 py-20",children:t.jsxs("div",{className:"mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8",children:[t.jsx("h2",{className:"mb-4 text-3xl font-bold md:text-4xl",children:"Ready to Transform Your Sales?"}),t.jsx("p",{className:"mb-8 text-lg text-slate-300",children:"Join 2,500+ businesses using Artificial Media to automate their sales calls, qualify leads intelligently, and close more deals."}),t.jsxs(q,{onClick:l,className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 text-lg font-semibold text-white shadow-xl transition-all duration-200 hover:scale-105 hover:from-blue-700 hover:to-purple-700 hover:shadow-2xl",children:["Start Your Free 14-Day Trial",t.jsx(MN,{className:"ml-2 h-5 w-5"})]}),t.jsx("p",{className:"mt-4 text-sm text-slate-400",children:"No credit card required • 5-minute setup • 14-day free trial • Cancel anytime"}),t.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-8",children:[t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(gs,{className:"mr-2 h-5 w-5 text-green-400"}),t.jsx("span",{children:"GDPR Compliant"})]}),t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(Mt,{className:"mr-2 h-5 w-5 text-blue-400"}),t.jsx("span",{children:"24/7 Support"})]}),t.jsxs("div",{className:"flex items-center text-slate-300",children:[t.jsx(Ea,{className:"mr-2 h-5 w-5 text-purple-400"}),t.jsx("span",{children:"Global Coverage"})]})]})]})}),t.jsx("footer",{className:"border-t border-slate-700 bg-slate-900 py-12",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-purple-600",children:t.jsx(as,{className:"h-5 w-5 text-white"})}),t.jsx("span",{className:"text-lg font-bold text-white",children:"Artificial Media"})]}),t.jsxs("div",{className:"text-sm text-slate-400",children:["© 2025 Artificial Media. All rights reserved. | ",t.jsx("a",{href:"https://artificialmedia.co.uk",className:"text-blue-400 hover:text-blue-300",children:"artificialmedia.co.uk"})]})]})})}),e&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",children:t.jsxs("div",{className:"relative aspect-video w-full max-w-4xl rounded-xl bg-slate-900",children:[t.jsx("button",{onClick:()=>r(!1),className:"absolute right-4 top-4 z-10 text-white hover:text-slate-300",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"flex h-full w-full items-center justify-center",children:t.jsx("p",{className:"text-white",children:"Demo video would be embedded here"})})]})})]})}function yve(){const[e,r]=p.useState("enterprise"),a={current:{clients:5,monthlyRevenue:2995,annualRevenue:35940,infrastructureCost:150,profitMargin:95,supportTickets:25,serverLoad:15,responseTime:180},growth:{clients:50,monthlyRevenue:29950,annualRevenue:359400,infrastructureCost:2500,profitMargin:92,supportTickets:150,serverLoad:45,responseTime:220},enterprise:{clients:500,monthlyRevenue:324750,annualRevenue:3897e3,infrastructureCost:15e3,profitMargin:85,supportTickets:1200,serverLoad:75,responseTime:150}}[e],n=[{name:"Load Balancers",current:"$50/month",growth:"$200/month",enterprise:"$800/month",description:"Distribute traffic across multiple servers"},{name:"Database Cluster",current:"$100/month",growth:"$800/month",enterprise:"$4,000/month",description:"Sharded PostgreSQL with read replicas"},{name:"Application Servers",current:"$150/month",growth:"$800/month",enterprise:"$6,000/month",description:"Auto-scaling Node.js containers"},{name:"CDN & Storage",current:"$30/month",growth:"$200/month",enterprise:"$1,500/month",description:"Global content delivery network"},{name:"Monitoring & Logs",current:"$20/month",growth:"$150/month",enterprise:"$800/month",description:"Real-time monitoring and alerting"},{name:"Security & Compliance",current:"$50/month",growth:"$350/month",enterprise:"$1,900/month",description:"WAF, DDoS protection, SOC 2"}],i=[{role:"Support Team",current:1,growth:3,enterprise:12,salary:6e4,description:"24/7 customer support coverage"},{role:"DevOps Engineers",current:0,growth:1,enterprise:3,salary:14e4,description:"Infrastructure and deployment management"},{role:"Backend Developers",current:1,growth:2,enterprise:5,salary:12e4,description:"Platform development and optimization"},{role:"Sales Team",current:0,growth:2,enterprise:8,salary:8e4,description:"Client acquisition and account management"},{role:"Customer Success",current:0,growth:1,enterprise:4,salary:75e3,description:"Client onboarding and retention"}],o=[{plan:"Starter",price:299,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*299},{plan:"Professional",price:599,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*599},{plan:"Enterprise",price:1299,clients:Math.floor(a.clients*.2),total:Math.floor(a.clients*.2)*1299}];return t.jsx("div",{className:"bg-gray-950 p-4 lg:p-8",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-semibold text-white lg:text-3xl",children:[t.jsx(nY,{className:"h-6 w-6 text-emerald-500 lg:h-8 lg:w-8"}),"Scale Architecture: 500+ Clients"]}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Enterprise-grade infrastructure for massive scale"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[t.jsx(q,{variant:e==="current"?"default":"outline",onClick:()=>r("current"),className:`text-sm ${e==="current"?"bg-emerald-600":""}`,size:"sm",children:"Current (5)"}),t.jsx(q,{variant:e==="growth"?"default":"outline",onClick:()=>r("growth"),className:`text-sm ${e==="growth"?"bg-emerald-600":""}`,size:"sm",children:"Growth (50)"}),t.jsx(q,{variant:e==="enterprise"?"default":"outline",onClick:()=>r("enterprise"),className:`text-sm ${e==="enterprise"?"bg-emerald-600":""}`,size:"sm",children:"Enterprise (500+)"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 lg:gap-6",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.monthlyRevenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:["$",(a.monthlyRevenue/a.clients).toFixed(0)," per client"]})]}),t.jsx(Fr,{className:"h-6 w-6 flex-shrink-0 text-green-500 lg:h-8 lg:w-8"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Annual Revenue"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",(a.annualRevenue/1e6).toFixed(1),"M"]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[a.profitMargin,"% profit margin"]})]}),t.jsx(Bs,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Infrastructure Cost"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.infrastructureCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-orange-400",children:["$",(a.infrastructureCost/a.clients).toFixed(0)," per client"]})]}),t.jsx(r0,{className:"h-6 w-6 flex-shrink-0 text-blue-500 lg:h-8 lg:w-8"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Profit"}),t.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",((a.monthlyRevenue-a.infrastructureCost)/1e3).toFixed(0),"K"]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"After infrastructure costs"})]}),t.jsx(lr,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})})]}),t.jsxs(Ai,{defaultValue:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(Yn,{className:"grid h-auto w-full grid-cols-5",children:[t.jsx(ht,{value:"infrastructure",className:"text-xs lg:text-sm",children:"Infrastructure"}),t.jsx(ht,{value:"revenue",className:"text-xs lg:text-sm",children:"Revenue Model"}),t.jsx(ht,{value:"team",className:"text-xs lg:text-sm",children:"Team Scaling"}),t.jsx(ht,{value:"automation",className:"text-xs lg:text-sm",children:"Automation"}),t.jsx(ht,{value:"roadmap",className:"text-xs lg:text-sm",children:"Roadmap"})]}),t.jsxs(ft,{value:"infrastructure",className:"space-y-4 lg:space-y-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-4",children:t.jsx(xe,{className:"text-lg text-white lg:text-xl",children:"Infrastructure Components"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:n.map((l,d)=>t.jsxs("div",{className:"flex flex-col gap-2 rounded-lg bg-gray-800 p-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.name}),t.jsx("p",{className:"mt-1 text-xs text-gray-400 lg:text-sm",children:l.description})]}),t.jsx("div",{className:"flex-shrink-0 text-left sm:text-right",children:t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise]})})]},d))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-3",children:t.jsxs(xe,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(Px,{className:"h-4 w-4 text-blue-500 lg:h-5 lg:w-5"}),"Database Strategy"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Sharding"}),t.jsx(je,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e==="enterprise"?"Required":"Optional"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Read Replicas"}),t.jsx(je,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Not Needed"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Connection Pooling"}),t.jsx(je,{className:"bg-green-500/20 text-xs text-green-400",children:"Required"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-3",children:t.jsxs(xe,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(VG,{className:"h-4 w-4 text-emerald-500 lg:h-5 lg:w-5"}),"Auto-Scaling"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Horizontal Scaling"}),t.jsx(je,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Essential":"Planned"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Load Balancing"}),t.jsx(je,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Future"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"CDN"}),t.jsx(je,{className:"bg-green-500/20 text-xs text-green-400",children:"Global"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-3",children:t.jsxs(xe,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[t.jsx(gs,{className:"h-4 w-4 text-red-500 lg:h-5 lg:w-5"}),"Security & Compliance"]})}),t.jsxs(X,{className:"space-y-3 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"SOC 2 Type II"}),t.jsx(je,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Required":"In Progress"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"GDPR Compliance"}),t.jsx(je,{className:"bg-green-500/20 text-xs text-green-400",children:"Compliant"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"WAF & DDoS"}),t.jsx(je,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Protected":"Basic"})]})]})]})]})]}),t.jsx(ft,{value:"revenue",className:"space-y-4 lg:space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-4",children:t.jsx(xe,{className:"text-lg text-white lg:text-xl",children:"Revenue Breakdown"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsx("div",{className:"space-y-3 lg:space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.plan}),t.jsxs("p",{className:"text-xs text-gray-400 lg:text-sm",children:[l.clients," clients"]})]}),t.jsxs("div",{className:"flex-shrink-0 text-right",children:[t.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:["$",l.total.toLocaleString(),"/mo"]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["$",l.price,"/client"]})]})]},d))})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-4",children:t.jsx(xe,{className:"text-lg text-white lg:text-xl",children:"Growth Projections"})}),t.jsx(X,{className:"p-4 lg:p-6",children:t.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 1 Target"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$3.9M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 2 Projection"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"1,200 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$9.4M Annual Revenue"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[t.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 3 Vision"}),t.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"2,500 Clients"}),t.jsx("p",{className:"text-sm text-gray-400",children:"$19.5M Annual Revenue"})]})]})})]})]})}),t.jsx(ft,{value:"team",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Team Scaling Requirements"})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:i.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:l.role}),t.jsx("p",{className:"text-sm text-gray-400",children:l.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-emerald-400",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise," people"]}),t.jsxs("p",{className:"text-sm text-gray-400",children:["$",(l.salary/1e3).toFixed(0),"K avg salary"]})]})]},d))})})]})}),t.jsx(ft,{value:"automation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Client Onboarding Automation"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Self-service signup flow"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic VAPI account setup"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Guided assistant creation"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Automated billing setup"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Support Automation"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"AI chatbot for tier 1 support"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Automatic ticket routing"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Knowledge base integration"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Proactive issue detection"})]})]})]})]})}),t.jsx(ft,{value:"roadmap",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Q1 2024 (0-50 Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Core platform launch"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Support ticketing system"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Mt,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Stripe billing integration"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Mt,{className:"h-4 w-4 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Basic monitoring setup"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Q2-Q3 2024 (50-200 Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Database sharding"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Load balancer deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Auto-scaling implementation"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Advanced monitoring"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Q4 2024 (200-500+ Clients)"})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(as,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Microservices architecture"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(as,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Global CDN deployment"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(as,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"SOC 2 compliance"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(as,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Enterprise white-labeling"})]})]})]})]})})]}),t.jsxs(J,{className:"border-emerald-500/30 bg-gradient-to-r from-emerald-500/10 to-blue-500/10",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"🚀 Next Steps for 500+ Client Scale"})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-emerald-400",children:"Immediate Actions (This Month)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• Deploy to production (Vercel + Supabase Pro)"}),t.jsx("li",{children:"• Implement Stripe billing automation"}),t.jsx("li",{children:"• Set up monitoring with DataDog/New Relic"}),t.jsx("li",{children:"• Create client onboarding automation"}),t.jsx("li",{children:"• Establish support ticket workflows"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"mb-2 font-semibold text-blue-400",children:"Scale Preparation (Next 3 Months)"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• Design database sharding strategy"}),t.jsx("li",{children:"• Implement horizontal auto-scaling"}),t.jsx("li",{children:"• Hire DevOps engineer"}),t.jsx("li",{children:"• Build enterprise white-label features"}),t.jsx("li",{children:"• Start SOC 2 compliance process"})]})]})]})})]})]})})}const Ha=p.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:Le("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:s,...r}));Ha.displayName="Textarea";function vve(){const[e,r]=p.useState(null),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState(""),[h,f]=p.useState(!1),g=p.useRef(null),y=[{id:"technical",name:"Technical Support",color:"text-blue-400",icon:as},{id:"billing",name:"Billing & Payments",color:"text-green-400",icon:Ji},{id:"onboarding",name:"Onboarding",color:"text-emerald-400",icon:bt},{id:"feature",name:"Feature Requests",color:"text-yellow-400",icon:Oo},{id:"emergency",name:"Emergency",color:"text-red-400",icon:va}],[w,v]=p.useState([{id:"TKT-001",organizationName:"TechFlow Solutions",organizationId:"ORG-001",clientEmail:"sarah@techflow.com",clientPhone:"+1 (555) 123-4567",title:"VAPI Integration Not Working - Urgent Campaign Launch",description:"Cannot connect to VAPI API, getting 401 errors consistently. This is blocking our campaign launch.",priority:"high",status:"in-progress",category:"technical",department:"technical",assignedTo:"Mike Torres",createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T14:15:00Z",starred:!0,messages:[{id:"msg-1",author:"Sarah Johnson",authorType:"client",message:"Hi, we're having trouble with our VAPI integration. Getting consistent 401 errors when trying to make calls. This is urgent as we have a campaign launching tomorrow.",timestamp:"2024-01-20T10:30:00Z"},{id:"msg-2",author:"Apex AI Bot",authorType:"ai-bot",message:`I've detected this might be an API key issue. Let me run some diagnostics on your account... 🔍

I found that your VAPI API key appears to be expired. I'm escalating this to our technical team for immediate assistance.`,timestamp:"2024-01-20T10:31:00Z"},{id:"msg-3",author:"Mike Torres",authorType:"support",message:"Hi Sarah! I've taken over this ticket. I can see the API key issue. I'm generating a new VAPI key for your account right now. You should have this resolved within the next 30 minutes.",timestamp:"2024-01-20T14:15:00Z"}]},{id:"TKT-002",organizationName:"Digital Dynamics",organizationId:"ORG-002",clientEmail:"mike@digitaldynamics.com",title:"Billing Inquiry - Duplicate Charge",description:"We were charged twice for our monthly subscription this month",priority:"medium",status:"open",category:"billing",department:"billing",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",messages:[{id:"msg-5",author:"Mike Chen",authorType:"client",message:"Hi, I notice we were charged $1299 twice this month on January 15th. Can you please look into this and process a refund for the duplicate charge?",timestamp:"2024-01-20T09:15:00Z"}]},{id:"TKT-003",organizationName:"Growth Partners",organizationId:"ORG-003",clientEmail:"emma@growthpartners.com",title:"New User Onboarding - Need Help Setting Up",description:"Just signed up for trial, need help with initial setup",priority:"medium",status:"open",category:"account",department:"onboarding",createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T08:00:00Z",messages:[{id:"msg-7",author:"Emma Rodriguez",authorType:"client",message:"Hi team, we just signed up for the trial. Could someone help us with the initial setup? We want to import our leads and set up our first campaign.",timestamp:"2024-01-20T08:00:00Z"}]}]),b={total:w.length,open:w.filter(T=>T.status==="open").length,inProgress:w.filter(T=>T.status==="in-progress").length,resolved:w.filter(T=>T.status==="resolved").length};p.useEffect(()=>{var T;(T=g.current)==null||T.scrollIntoView({behavior:"smooth"})},[e==null?void 0:e.messages]);const N=async()=>{if(!d.trim()||!e)return;const T={id:`msg-${Date.now()}`,author:"Sean Wentz",authorType:"support",message:d,timestamp:new Date().toISOString()};v(E=>E.map(M=>M.id===e.id?{...M,messages:[...M.messages,T],updatedAt:new Date().toISOString()}:M)),m("")},C=T=>{v(E=>E.map(M=>M.id===T?{...M,starred:!M.starred}:M))},S=T=>{switch(T){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},_=T=>{switch(T){case"open":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"waiting":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"closed":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},A=w.filter(T=>{const E=T.title.toLowerCase().includes(s.toLowerCase())||T.organizationName.toLowerCase().includes(s.toLowerCase())||T.description.toLowerCase().includes(s.toLowerCase()),M=n==="all"||T.status===n,L=o==="all"||T.department===o;return E&&M&&L});return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"mb-2 text-4xl font-bold text-white",children:"Support Command Center"}),t.jsx("p",{className:"text-gray-400",children:"Manage tickets across all departments"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(je,{className:"border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20 px-4 py-2 text-emerald-400",children:[b.open," Open Tickets"]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"New Ticket"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:y.map(T=>{const E=T.icon,M=w.filter(L=>L.department===T.id);return t.jsx(J,{className:"cursor-pointer border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(E,{className:`h-5 w-5 ${T.color}`}),t.jsx("span",{className:"text-2xl font-bold text-white",children:M.length})]}),t.jsx("p",{className:"text-sm text-gray-400",children:T.name}),M.filter(L=>L.status==="open").length>0&&t.jsxs("p",{className:"mt-1 text-xs text-orange-400",children:[M.filter(L=>L.status==="open").length," open"]})]})},T.id)})}),t.jsxs("div",{className:"grid h-[800px] grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(J,{className:"h-full overflow-hidden border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(xe,{className:"text-white",children:"Inbox"}),t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400",children:t.jsx(ss,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{placeholder:"Search tickets...",value:s,onChange:T=>a(T.target.value),className:"border-gray-600 bg-gray-700 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(rt,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"open",children:"Open"}),t.jsx(se,{value:"in-progress",children:"In Progress"}),t.jsx(se,{value:"resolved",children:"Resolved"})]})]}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Departments"}),y.map(T=>t.jsx(se,{value:T.id,children:T.name},T.id))]})]})]})]})}),t.jsx(g0,{className:"flex-1",children:t.jsx("div",{className:"divide-y divide-gray-700",children:A.map(T=>{const E=y.find(M=>M.id===T.department);return t.jsxs("div",{onClick:()=>r(T),className:`cursor-pointer p-4 transition-colors hover:bg-gray-700/50 ${(e==null?void 0:e.id)===T.id?"border-l-4 border-emerald-500 bg-gray-700/50":""}`,children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("span",{className:"truncate font-medium text-white",children:T.organizationName}),t.jsxs(je,{className:"border-gray-500 bg-gray-600/50 text-xs text-gray-300",children:[t.jsx(KG,{className:"mr-1 h-3 w-3"}),T.id]})]}),t.jsx("p",{className:"truncate text-sm font-medium text-white",children:T.title}),t.jsx("p",{className:"mt-1 truncate text-xs text-gray-400",children:T.description})]}),t.jsx(q,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),C(T.id)},className:"text-gray-400 hover:text-yellow-400",children:t.jsx(Oo,{className:`h-4 w-4 ${T.starred?"fill-yellow-400 text-yellow-400":""}`})})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(je,{className:S(T.priority),children:T.priority}),t.jsx(je,{className:_(T.status),children:T.status}),E&&t.jsxs(je,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:[t.jsx(E.icon,{className:`mr-1 h-3 w-3 ${E.color}`}),E.name]})]}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.updatedAt).toLocaleDateString()})]})]},T.id)})})})]}),t.jsx("div",{className:"lg:col-span-2",children:e?t.jsxs(J,{className:"flex h-full flex-col border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{className:"border-b border-gray-700",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e.title}),t.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(kx,{className:"h-4 w-4"}),e.organizationName]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Oa,{className:"h-4 w-4"}),e.clientEmail]}),e.clientPhone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(xt,{className:"h-4 w-4"}),e.clientPhone]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(at,{value:e.status,onValueChange:T=>{v(E=>E.map(M=>M.id===e.id?{...M,status:T}:M))},children:[t.jsx(rt,{className:"w-32 border-gray-600 bg-gray-700",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"open",children:"Open"}),t.jsx(se,{value:"in-progress",children:"In Progress"}),t.jsx(se,{value:"waiting",children:"Waiting"}),t.jsx(se,{value:"resolved",children:"Resolved"}),t.jsx(se,{value:"closed",children:"Closed"})]})]}),t.jsx(q,{variant:"ghost",size:"sm",children:t.jsx(rm,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(je,{className:S(e.priority),children:[e.priority," priority"]}),t.jsx(je,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:e.category}),e.assignedTo&&t.jsxs(je,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:["Assigned to ",e.assignedTo]})]})]})}),t.jsx(g0,{className:"flex-1 p-6",children:t.jsxs("div",{className:"space-y-4",children:[e.messages.map(T=>t.jsx("div",{className:`flex ${T.authorType==="support"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${T.authorType==="support"?"border border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20":T.authorType==="ai-bot"?"border border-blue-600/30 bg-blue-600/20":(T.authorType==="system","border border-gray-600 bg-gray-700/50")}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[T.authorType==="ai-bot"&&t.jsx(Gi,{className:"h-4 w-4 text-blue-400"}),T.authorType==="client"&&t.jsx(ys,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium text-white",children:T.author}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(T.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"whitespace-pre-wrap text-sm text-gray-200",children:T.message})]})},T.id)),t.jsx("div",{ref:g})]})}),t.jsx("div",{className:"border-t border-gray-700 p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ha,{placeholder:"Type your response...",value:d,onChange:T=>m(T.target.value),className:"resize-none border-gray-600 bg-gray-700 text-white",rows:3,onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),N())}}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-600",children:t.jsx(rY,{className:"h-4 w-4"})}),t.jsx(q,{onClick:N,disabled:!d.trim(),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:t.jsx(Vl,{className:"h-4 w-4"})})]})]})})]}):t.jsx(J,{className:"flex h-full items-center justify-center border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Qi,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:"Select a Ticket"}),t.jsx("p",{className:"text-gray-400",children:"Choose a support ticket from the inbox to view details"})]})})})]})]})})}function bve(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),[h,f]=p.useState("createdAt"),[g,y]=p.useState("desc"),{getToken:w}=wa(),{toast:v}=cs(),b=async()=>{try{a(!0);const O=await w(),I=await fetch("http://localhost:3001/api/phone-numbers",{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const W=await I.json();r(W.phoneNumbers||[])}catch(O){console.error("Error fetching phone numbers:",O),v({title:"Error",description:"Failed to fetch phone numbers. Please try again.",variant:"destructive"})}finally{a(!1)}},N=async(O,I="US")=>{try{const W=await w(),V=await fetch("http://localhost:3001/api/phone-numbers",{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({areaCode:O,country:I})});if(!V.ok)throw new Error("Failed to purchase phone number");const U=await V.json();v({title:"Success",description:`Phone number ${U.phoneNumber.number} purchased successfully`}),b()}catch(W){console.error("Error purchasing phone number:",W),v({title:"Error",description:"Failed to purchase phone number. Please try again.",variant:"destructive"})}},C=async O=>{if(confirm("Are you sure you want to release this phone number? This action cannot be undone."))try{const I=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to release phone number");v({title:"Success",description:"Phone number released successfully"}),b()}catch(I){console.error("Error releasing phone number:",I),v({title:"Error",description:"Failed to release phone number. Please try again.",variant:"destructive"})}},S=async(O,I)=>{try{const W=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${O}/assign`,{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({campaignId:I})})).ok)throw new Error("Failed to assign phone number");v({title:"Success",description:"Phone number assigned successfully"}),b()}catch(W){console.error("Error assigning phone number:",W),v({title:"Error",description:"Failed to assign phone number. Please try again.",variant:"destructive"})}},_=()=>({totalNumbers:e.length,activeNumbers:e.filter(O=>O.status==="connected").length,totalCallsMade:e.reduce((O,I)=>O+I.callsMade,0),totalLeadsGenerated:e.reduce((O,I)=>O+I.leadsGenerated,0),avgConversionRate:e.length>0?e.reduce((O,I)=>O+I.conversionRate,0)/e.length:0,totalMonthlyCost:e.reduce((O,I)=>O+I.monthlyLimit*I.costPerCall,0)}),A=e.filter(O=>{var U;const I=O.number.includes(n)||((U=O.assignedCampaign)==null?void 0:U.toLowerCase().includes(n.toLowerCase())),W=o==="all"||O.status===o,V=d==="all"||O.country===d;return I&&W&&V}).sort((O,I)=>{const W=O[h],V=I[h];return typeof W=="string"&&typeof V=="string"?g==="asc"?W.localeCompare(V):V.localeCompare(W):typeof W=="number"&&typeof V=="number"?g==="asc"?W-V:V-W:0}),T=_();p.useEffect(()=>{b()},[]);const E=O=>{switch(O){case"connected":return"bg-emerald-600/20 text-emerald-400 border-emerald-600/30";case"disconnected":return"bg-red-600/20 text-red-400 border-red-600/30";case"pending":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}},M=O=>{switch(O){case"connected":return t.jsx(yt,{className:"h-3 w-3"});case"disconnected":return t.jsx(Yt,{className:"h-3 w-3"});case"pending":return t.jsx(Us,{className:"h-3 w-3"});default:return null}},L=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O),H=O=>new Date(O).toLocaleDateString();return s?t.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsx("div",{className:"text-lg text-white",children:"Loading phone numbers..."})}):t.jsx("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex-shrink-0 p-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI phone numbers and calling capacity"})}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const O=prompt("Enter area code (e.g., 555):");O&&N(O)},children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Buy Number"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Total Numbers"}),t.jsx(xt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.totalNumbers}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"All numbers"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Active"}),t.jsx(as,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.activeNumbers}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"Connected"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Calls Made"}),t.jsx(Us,{className:"h-4 w-4 text-blue-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.totalCallsMade.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total volume"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx(bt,{className:"h-4 w-4 text-emerald-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T.totalLeadsGenerated}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful contacts"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Avg Conversion"}),t.jsx(ba,{className:"h-4 w-4 text-orange-400"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[T.avgConversionRate.toFixed(1),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Success rate"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Monthly Cost"}),t.jsx(Ji,{className:"h-4 w-4 text-yellow-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:L(T.totalMonthlyCost)}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Estimated"})]})]})]}),t.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{placeholder:"Search numbers or campaigns...",value:n,onChange:O=>i(O.target.value),className:"border-gray-700 bg-gray-800/50 pl-10 text-white placeholder-gray-400"})]}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(nt,{placeholder:"All statuses"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All statuses"}),t.jsx(se,{value:"connected",children:"Connected"}),t.jsx(se,{value:"disconnected",children:"Disconnected"}),t.jsx(se,{value:"pending",children:"Pending"})]})]}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:t.jsx(nt,{placeholder:"All countries"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All countries"}),t.jsx(se,{value:"US",children:"United States"}),t.jsx(se,{value:"CA",children:"Canada"}),t.jsx(se,{value:"UK",children:"United Kingdom"}),t.jsx(se,{value:"AU",children:"Australia"})]})]}),t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-700",children:[t.jsx(LG,{className:"mr-2 h-4 w-4"}),"Sort"]})]})]}),t.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:A.length===0?t.jsx(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No phone numbers found"}),t.jsx("p",{children:"Purchase your first phone number to start making calls."})]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const O=prompt("Enter area code (e.g., 555):");O&&N(O)},children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Buy Phone Number"]})]})}):t.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:A.map(O=>t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:[t.jsxs(pe,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xt,{className:"h-4 w-4 text-blue-400"}),t.jsx(xe,{className:"text-lg text-white",children:O.number})]}),t.jsxs(je,{className:`${E(O.status)} border`,children:[M(O.status),t.jsx("span",{className:"ml-1 capitalize",children:O.status})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx("span",{children:O.country}),t.jsx("span",{children:"•"}),t.jsx("span",{children:O.provider}),O.assignedCampaign&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{className:"text-emerald-400",children:O.assignedCampaign})]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Usage"}),t.jsxs("span",{className:"text-white",children:[O.callsMade," / ",O.maxCalls]})]}),t.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 transition-all duration-300",style:{width:`${Math.min(O.callsMade/O.maxCalls*100,100)}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Leads Generated"}),t.jsx("div",{className:"font-semibold text-white",children:O.leadsGenerated})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Conversion Rate"}),t.jsxs("div",{className:"font-semibold text-emerald-400",children:[O.conversionRate.toFixed(1),"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Cost per Call"}),t.jsx("div",{className:"font-semibold text-white",children:L(O.costPerCall)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Limit"}),t.jsx("div",{className:"font-semibold text-white",children:O.monthlyLimit})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-2",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",H(O.createdAt)]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(Ax,{className:"h-4 w-4"})})}),t.jsxs(Vn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Jt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{const I=prompt("Enter campaign ID to assign:");I&&S(O.id,I)},children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Assign to Campaign"]}),t.jsxs(Jt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{},children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"View Analytics"]}),t.jsxs(Jt,{className:"text-red-400 hover:bg-red-600/20",onClick:()=>C(O.id),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Release Number"]})]})]})]})]})]},O.id))})})]})})}function jF(e,r){return function(){return e.apply(r,arguments)}}const{toString:wve}=Object.prototype,{getPrototypeOf:tk}=Object,{iterator:$y,toStringTag:NF}=Symbol,zy=(e=>r=>{const s=wve.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ei=e=>(e=e.toLowerCase(),r=>zy(r)===e),Fy=e=>r=>typeof r===e,{isArray:ym}=Array,cf=Fy("undefined");function Yf(e){return e!==null&&!cf(e)&&e.constructor!==null&&!cf(e.constructor)&&Ya(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const SF=Ei("ArrayBuffer");function jve(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&SF(e.buffer),r}const Nve=Fy("string"),Ya=Fy("function"),CF=Fy("number"),Jf=e=>e!==null&&typeof e=="object",Sve=e=>e===!0||e===!1,qg=e=>{if(zy(e)!=="object")return!1;const r=tk(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(NF in e)&&!($y in e)},Cve=e=>{if(!Jf(e)||Yf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kve=Ei("Date"),_ve=Ei("File"),Pve=Ei("Blob"),Ave=Ei("FileList"),Eve=e=>Jf(e)&&Ya(e.pipe),Tve=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ya(e.append)&&((r=zy(e))==="formdata"||r==="object"&&Ya(e.toString)&&e.toString()==="[object FormData]"))},Ove=Ei("URLSearchParams"),[Mve,Rve,Ive,Dve]=["ReadableStream","Request","Response","Headers"].map(Ei),Lve=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xf(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),ym(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(Yf(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],r.call(null,e[l],l,e)}}function kF(e,r){if(Yf(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_F=e=>!cf(e)&&e!==Hc;function K1(){const{caseless:e}=_F(this)&&this||{},r={},s=(a,n)=>{const i=e&&kF(r,n)||n;qg(r[i])&&qg(a)?r[i]=K1(r[i],a):qg(a)?r[i]=K1({},a):ym(a)?r[i]=a.slice():r[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&Xf(arguments[a],s);return r}const $ve=(e,r,s,{allOwnKeys:a}={})=>(Xf(r,(n,i)=>{s&&Ya(n)?e[i]=jF(n,s):e[i]=n},{allOwnKeys:a}),e),zve=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fve=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},Uve=(e,r,s,a)=>{let n,i,o;const l={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,r))&&!l[o]&&(r[o]=e[o],l[o]=!0);e=s!==!1&&tk(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},Bve=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},Wve=e=>{if(!e)return null;if(ym(e))return e;let r=e.length;if(!CF(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},Vve=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&tk(Uint8Array)),qve=(e,r)=>{const a=(e&&e[$y]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},Hve=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},Kve=Ei("HTMLFormElement"),Gve=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),V3=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),Yve=Ei("RegExp"),PF=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};Xf(s,(n,i)=>{let o;(o=r(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},Jve=e=>{PF(e,(r,s)=>{if(Ya(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Ya(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Xve=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return ym(e)?a(e):a(String(e).split(r)),s},Qve=()=>{},Zve=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function ebe(e){return!!(e&&Ya(e.append)&&e[NF]==="FormData"&&e[$y])}const tbe=e=>{const r=new Array(10),s=(a,n)=>{if(Jf(a)){if(r.indexOf(a)>=0)return;if(Yf(a))return a;if(!("toJSON"in a)){r[n]=a;const i=ym(a)?[]:{};return Xf(a,(o,l)=>{const d=s(o,n+1);!cf(d)&&(i[l]=d)}),r[n]=void 0,i}}return a};return s(e,0)},rbe=Ei("AsyncFunction"),sbe=e=>e&&(Jf(e)||Ya(e))&&Ya(e.then)&&Ya(e.catch),AF=((e,r)=>e?setImmediate:r?((s,a)=>(Hc.addEventListener("message",({source:n,data:i})=>{n===Hc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Hc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ya(Hc.postMessage)),abe=typeof queueMicrotask<"u"?queueMicrotask.bind(Hc):typeof process<"u"&&process.nextTick||AF,nbe=e=>e!=null&&Ya(e[$y]),ge={isArray:ym,isArrayBuffer:SF,isBuffer:Yf,isFormData:Tve,isArrayBufferView:jve,isString:Nve,isNumber:CF,isBoolean:Sve,isObject:Jf,isPlainObject:qg,isEmptyObject:Cve,isReadableStream:Mve,isRequest:Rve,isResponse:Ive,isHeaders:Dve,isUndefined:cf,isDate:kve,isFile:_ve,isBlob:Pve,isRegExp:Yve,isFunction:Ya,isStream:Eve,isURLSearchParams:Ove,isTypedArray:Vve,isFileList:Ave,forEach:Xf,merge:K1,extend:$ve,trim:Lve,stripBOM:zve,inherits:Fve,toFlatObject:Uve,kindOf:zy,kindOfTest:Ei,endsWith:Bve,toArray:Wve,forEachEntry:qve,matchAll:Hve,isHTMLForm:Kve,hasOwnProperty:V3,hasOwnProp:V3,reduceDescriptors:PF,freezeMethods:Jve,toObjectSet:Xve,toCamelCase:Gve,noop:Qve,toFiniteNumber:Zve,findKey:kF,global:Hc,isContextDefined:_F,isSpecCompliantForm:ebe,toJSONObject:tbe,isAsyncFn:rbe,isThenable:sbe,setImmediate:AF,asap:abe,isIterable:nbe};function Et(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ge.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ge.toJSONObject(this.config),code:this.code,status:this.status}}});const EF=Et.prototype,TF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{TF[e]={value:e}});Object.defineProperties(Et,TF);Object.defineProperty(EF,"isAxiosError",{value:!0});Et.from=(e,r,s,a,n,i)=>{const o=Object.create(EF);return ge.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Et.call(o,e.message,r,s,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ibe=null;function G1(e){return ge.isPlainObject(e)||ge.isArray(e)}function OF(e){return ge.endsWith(e,"[]")?e.slice(0,-2):e}function q3(e,r,s){return e?e.concat(r).map(function(n,i){return n=OF(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function obe(e){return ge.isArray(e)&&!e.some(G1)}const lbe=ge.toFlatObject(ge,{},null,function(r){return/^is[A-Z]/.test(r)});function Uy(e,r,s){if(!ge.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=ge.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!ge.isUndefined(b[v])});const a=s.metaTokens,n=s.visitor||h,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&ge.isSpecCompliantForm(r);if(!ge.isFunction(n))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(ge.isDate(w))return w.toISOString();if(ge.isBoolean(w))return w.toString();if(!d&&ge.isBlob(w))throw new Et("Blob is not supported. Use a Buffer instead.");return ge.isArrayBuffer(w)||ge.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,b){let N=w;if(w&&!b&&typeof w=="object"){if(ge.endsWith(v,"{}"))v=a?v:v.slice(0,-2),w=JSON.stringify(w);else if(ge.isArray(w)&&obe(w)||(ge.isFileList(w)||ge.endsWith(v,"[]"))&&(N=ge.toArray(w)))return v=OF(v),N.forEach(function(S,_){!(ge.isUndefined(S)||S===null)&&r.append(o===!0?q3([v],_,i):o===null?v:v+"[]",m(S))}),!1}return G1(w)?!0:(r.append(q3(b,v,i),m(w)),!1)}const f=[],g=Object.assign(lbe,{defaultVisitor:h,convertValue:m,isVisitable:G1});function y(w,v){if(!ge.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(w),ge.forEach(w,function(N,C){(!(ge.isUndefined(N)||N===null)&&n.call(r,N,ge.isString(C)?C.trim():C,v,g))===!0&&y(N,v?v.concat(C):[C])}),f.pop()}}if(!ge.isObject(e))throw new TypeError("data must be an object");return y(e),r}function H3(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function rk(e,r){this._pairs=[],e&&Uy(e,this,r)}const MF=rk.prototype;MF.append=function(r,s){this._pairs.push([r,s])};MF.toString=function(r){const s=r?function(a){return r.call(this,a,H3)}:H3;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function cbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RF(e,r,s){if(!r)return e;const a=s&&s.encode||cbe;ge.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=ge.isURLSearchParams(r)?r.toString():new rk(r,s).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class K3{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ge.forEach(this.handlers,function(a){a!==null&&r(a)})}}const IF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dbe=typeof URLSearchParams<"u"?URLSearchParams:rk,ube=typeof FormData<"u"?FormData:null,mbe=typeof Blob<"u"?Blob:null,hbe={isBrowser:!0,classes:{URLSearchParams:dbe,FormData:ube,Blob:mbe},protocols:["http","https","file","blob","url","data"]},sk=typeof window<"u"&&typeof document<"u",Y1=typeof navigator=="object"&&navigator||void 0,fbe=sk&&(!Y1||["ReactNative","NativeScript","NS"].indexOf(Y1.product)<0),pbe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gbe=sk&&window.location.href||"http://localhost",xbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sk,hasStandardBrowserEnv:fbe,hasStandardBrowserWebWorkerEnv:pbe,navigator:Y1,origin:gbe},Symbol.toStringTag,{value:"Module"})),ya={...xbe,...hbe};function ybe(e,r){return Uy(e,new ya.classes.URLSearchParams,{visitor:function(s,a,n,i){return ya.isNode&&ge.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function vbe(e){return ge.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function bbe(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function DF(e){function r(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&ge.isArray(n)?n.length:o,d?(ge.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!ge.isObject(n[o]))&&(n[o]=[]),r(s,a,n[o],i)&&ge.isArray(n[o])&&(n[o]=bbe(n[o])),!l)}if(ge.isFormData(e)&&ge.isFunction(e.entries)){const s={};return ge.forEachEntry(e,(a,n)=>{r(vbe(a),n,s,0)}),s}return null}function wbe(e,r,s){if(ge.isString(e))try{return(r||JSON.parse)(e),ge.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const Qf={transitional:IF,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=ge.isObject(r);if(i&&ge.isHTMLForm(r)&&(r=new FormData(r)),ge.isFormData(r))return n?JSON.stringify(DF(r)):r;if(ge.isArrayBuffer(r)||ge.isBuffer(r)||ge.isStream(r)||ge.isFile(r)||ge.isBlob(r)||ge.isReadableStream(r))return r;if(ge.isArrayBufferView(r))return r.buffer;if(ge.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ybe(r,this.formSerializer).toString();if((l=ge.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Uy(l?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),wbe(r)):r}],transformResponse:[function(r){const s=this.transitional||Qf.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(ge.isResponse(r)||ge.isReadableStream(r))return r;if(r&&ge.isString(r)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(l){if(o)throw l.name==="SyntaxError"?Et.from(l,Et.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ya.classes.FormData,Blob:ya.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ge.forEach(["delete","get","head","post","put","patch"],e=>{Qf.headers[e]={}});const jbe=ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nbe=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||r[s]&&jbe[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},G3=Symbol("internals");function bh(e){return e&&String(e).trim().toLowerCase()}function Hg(e){return e===!1||e==null?e:ge.isArray(e)?e.map(Hg):String(e)}function Sbe(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const Cbe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qj(e,r,s,a,n){if(ge.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!ge.isString(r)){if(ge.isString(a))return r.indexOf(a)!==-1;if(ge.isRegExp(a))return a.test(r)}}function kbe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function _be(e,r){const s=ge.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,o){return this[a].call(this,r,n,i,o)},configurable:!0})})}let Ja=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(l,d,m){const h=bh(d);if(!h)throw new Error("header name must be a non-empty string");const f=ge.findKey(n,h);(!f||n[f]===void 0||m===!0||m===void 0&&n[f]!==!1)&&(n[f||d]=Hg(l))}const o=(l,d)=>ge.forEach(l,(m,h)=>i(m,h,d));if(ge.isPlainObject(r)||r instanceof this.constructor)o(r,s);else if(ge.isString(r)&&(r=r.trim())&&!Cbe(r))o(Nbe(r),s);else if(ge.isObject(r)&&ge.isIterable(r)){let l={},d,m;for(const h of r){if(!ge.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[m=h[0]]=(d=l[m])?ge.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=bh(r),r){const a=ge.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return Sbe(n);if(ge.isFunction(s))return s.call(this,n,a);if(ge.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=bh(r),r){const a=ge.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||Qj(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(o){if(o=bh(o),o){const l=ge.findKey(a,o);l&&(!s||Qj(a,a[l],l,s))&&(delete a[l],n=!0)}}return ge.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||Qj(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return ge.forEach(this,(n,i)=>{const o=ge.findKey(a,i);if(o){s[o]=Hg(n),delete s[i];return}const l=r?kbe(i):String(i).trim();l!==i&&delete s[i],s[l]=Hg(n),a[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return ge.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&ge.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[G3]=this[G3]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=bh(o);a[l]||(_be(n,o),a[l]=!0)}return ge.isArray(r)?r.forEach(i):i(r),this}};Ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ge.reduceDescriptors(Ja.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});ge.freezeMethods(Ja);function Zj(e,r){const s=this||Qf,a=r||s,n=Ja.from(a.headers);let i=a.data;return ge.forEach(e,function(l){i=l.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function LF(e){return!!(e&&e.__CANCEL__)}function vm(e,r,s){Et.call(this,e??"canceled",Et.ERR_CANCELED,r,s),this.name="CanceledError"}ge.inherits(vm,Et,{__CANCEL__:!0});function $F(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new Et("Request failed with status code "+s.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Pbe(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function Abe(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,o;return r=r!==void 0?r:1e3,function(d){const m=Date.now(),h=a[i];o||(o=m),s[n]=d,a[n]=m;let f=i,g=0;for(;f!==n;)g+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),m-o<r)return;const y=h&&m-h;return y?Math.round(g*1e3/y):void 0}}function Ebe(e,r){let s=0,a=1e3/r,n,i;const o=(m,h=Date.now())=>{s=h,n=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const h=Date.now(),f=h-s;f>=a?o(m,h):(n=m,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const ax=(e,r,s=3)=>{let a=0;const n=Abe(50,250);return Ebe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,m=n(d),h=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:m||void 0,estimated:m&&l&&h?(l-o)/m:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};e(f)},s)},Y3=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},J3=e=>(...r)=>ge.asap(()=>e(...r)),Tbe=ya.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,ya.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(ya.origin),ya.navigator&&/(msie|trident)/i.test(ya.navigator.userAgent)):()=>!0,Obe=ya.hasStandardBrowserEnv?{write(e,r,s,a,n,i){const o=[e+"="+encodeURIComponent(r)];ge.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),ge.isString(a)&&o.push("path="+a),ge.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mbe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rbe(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function zF(e,r,s){let a=!Mbe(r);return e&&(a||s==!1)?Rbe(e,r):r}const X3=e=>e instanceof Ja?{...e}:e;function pd(e,r){r=r||{};const s={};function a(m,h,f,g){return ge.isPlainObject(m)&&ge.isPlainObject(h)?ge.merge.call({caseless:g},m,h):ge.isPlainObject(h)?ge.merge({},h):ge.isArray(h)?h.slice():h}function n(m,h,f,g){if(ge.isUndefined(h)){if(!ge.isUndefined(m))return a(void 0,m,f,g)}else return a(m,h,f,g)}function i(m,h){if(!ge.isUndefined(h))return a(void 0,h)}function o(m,h){if(ge.isUndefined(h)){if(!ge.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function l(m,h,f){if(f in r)return a(m,h);if(f in e)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(m,h,f)=>n(X3(m),X3(h),f,!0)};return ge.forEach(Object.keys({...e,...r}),function(h){const f=d[h]||n,g=f(e[h],r[h],h);ge.isUndefined(g)&&f!==l||(s[h]=g)}),s}const FF=e=>{const r=pd({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=r;r.headers=o=Ja.from(o),r.url=RF(zF(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(ge.isFormData(s)){if(ya.hasStandardBrowserEnv||ya.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[m,...h]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...h].join("; "))}}if(ya.hasStandardBrowserEnv&&(a&&ge.isFunction(a)&&(a=a(r)),a||a!==!1&&Tbe(r.url))){const m=n&&i&&Obe.read(i);m&&o.set(n,m)}return r},Ibe=typeof XMLHttpRequest<"u",Dbe=Ibe&&function(e){return new Promise(function(s,a){const n=FF(e);let i=n.data;const o=Ja.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:m}=n,h,f,g,y,w;function v(){y&&y(),w&&w(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function N(){if(!b)return;const S=Ja.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};$F(function(E){s(E),v()},function(E){a(E),v()},A),b=null}"onloadend"in b?b.onloadend=N:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(N)},b.onabort=function(){b&&(a(new Et("Request aborted",Et.ECONNABORTED,e,b)),b=null)},b.onerror=function(){a(new Et("Network Error",Et.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||IF;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),a(new Et(_,A.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&ge.forEach(o.toJSON(),function(_,A){b.setRequestHeader(A,_)}),ge.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),l&&l!=="json"&&(b.responseType=n.responseType),m&&([g,w]=ax(m,!0),b.addEventListener("progress",g)),d&&b.upload&&([f,y]=ax(d),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(h=S=>{b&&(a(!S||S.type?new vm(null,e,b):S),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const C=Pbe(n.url);if(C&&ya.protocols.indexOf(C)===-1){a(new Et("Unsupported protocol "+C+":",Et.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Lbe=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(m){if(!n){n=!0,l();const h=m instanceof Error?m:this.reason;a.abort(h instanceof Et?h:new vm(h instanceof Error?h.message:h))}};let o=r&&setTimeout(()=>{o=null,i(new Et(`timeout ${r} of ms exceeded`,Et.ETIMEDOUT))},r);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>ge.asap(l),d}},$be=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},zbe=async function*(e,r){for await(const s of Fbe(e))yield*$be(s,r)},Fbe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},Q3=(e,r,s,a)=>{const n=zbe(e,r);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:h}=await n.next();if(m){l(),d.close();return}let f=h.byteLength;if(s){let g=i+=f;s(g)}d.enqueue(new Uint8Array(h))}catch(m){throw l(m),m}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},By=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",UF=By&&typeof ReadableStream=="function",Ube=By&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),BF=(e,...r)=>{try{return!!e(...r)}catch{return!1}},Bbe=UF&&BF(()=>{let e=!1;const r=new Request(ya.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),Z3=64*1024,J1=UF&&BF(()=>ge.isReadableStream(new Response("").body)),nx={stream:J1&&(e=>e.body)};By&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!nx[r]&&(nx[r]=ge.isFunction(e[r])?s=>s[r]():(s,a)=>{throw new Et(`Response type '${r}' is not supported`,Et.ERR_NOT_SUPPORT,a)})})})(new Response);const Wbe=async e=>{if(e==null)return 0;if(ge.isBlob(e))return e.size;if(ge.isSpecCompliantForm(e))return(await new Request(ya.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ge.isArrayBufferView(e)||ge.isArrayBuffer(e))return e.byteLength;if(ge.isURLSearchParams(e)&&(e=e+""),ge.isString(e))return(await Ube(e)).byteLength},Vbe=async(e,r)=>{const s=ge.toFiniteNumber(e.getContentLength());return s??Wbe(r)},qbe=By&&(async e=>{let{url:r,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:m,headers:h,withCredentials:f="same-origin",fetchOptions:g}=FF(e);m=m?(m+"").toLowerCase():"text";let y=Lbe([n,i&&i.toAbortSignal()],o),w;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let b;try{if(d&&Bbe&&s!=="get"&&s!=="head"&&(b=await Vbe(h,a))!==0){let A=new Request(r,{method:"POST",body:a,duplex:"half"}),T;if(ge.isFormData(a)&&(T=A.headers.get("content-type"))&&h.setContentType(T),A.body){const[E,M]=Y3(b,ax(J3(d)));a=Q3(A.body,Z3,E,M)}}ge.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;w=new Request(r,{...g,signal:y,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let C=await fetch(w,g);const S=J1&&(m==="stream"||m==="response");if(J1&&(l||S&&v)){const A={};["status","statusText","headers"].forEach(L=>{A[L]=C[L]});const T=ge.toFiniteNumber(C.headers.get("content-length")),[E,M]=l&&Y3(T,ax(J3(l),!0))||[];C=new Response(Q3(C.body,Z3,E,()=>{M&&M(),v&&v()}),A)}m=m||"text";let _=await nx[ge.findKey(nx,m)||"text"](C,e);return!S&&v&&v(),await new Promise((A,T)=>{$F(A,T,{data:_,headers:Ja.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:w})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,e,w),{cause:N.cause||N}):Et.from(N,N&&N.code,e,w)}}),X1={http:ibe,xhr:Dbe,fetch:qbe};ge.forEach(X1,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const eO=e=>`- ${e}`,Hbe=e=>ge.isFunction(e)||e===null||e===!1,WF={getAdapter:e=>{e=ge.isArray(e)?e:[e];const{length:r}=e;let s,a;const n={};for(let i=0;i<r;i++){s=e[i];let o;if(a=s,!Hbe(s)&&(a=X1[(o=String(s)).toLowerCase()],a===void 0))throw new Et(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(eO).join(`
`):" "+eO(i[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:X1};function eN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vm(null,e)}function tO(e){return eN(e),e.headers=Ja.from(e.headers),e.data=Zj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WF.getAdapter(e.adapter||Qf.adapter)(e).then(function(a){return eN(e),a.data=Zj.call(e,e.transformResponse,a),a.headers=Ja.from(a.headers),a},function(a){return LF(a)||(eN(e),a&&a.response&&(a.response.data=Zj.call(e,e.transformResponse,a.response),a.response.headers=Ja.from(a.response.headers))),Promise.reject(a)})}const VF="1.11.0",Wy={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Wy[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const rO={};Wy.transitional=function(r,s,a){function n(i,o){return"[Axios v"+VF+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(r===!1)throw new Et(n(o," has been removed"+(s?" in "+s:"")),Et.ERR_DEPRECATED);return s&&!rO[o]&&(rO[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,o,l):!0}};Wy.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Kbe(e,r,s){if(typeof e!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=r[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Et("option "+i+" must be "+d,Et.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Et("Unknown option "+i,Et.ERR_BAD_OPTION)}}const Kg={assertOptions:Kbe,validators:Wy},$i=Kg.validators;let Qc=class{constructor(r){this.defaults=r||{},this.interceptors={request:new K3,response:new K3}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=pd(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Kg.assertOptions(a,{silentJSONParsing:$i.transitional($i.boolean),forcedJSONParsing:$i.transitional($i.boolean),clarifyTimeoutError:$i.transitional($i.boolean)},!1),n!=null&&(ge.isFunction(n)?s.paramsSerializer={serialize:n}:Kg.assertOptions(n,{encode:$i.function,serialize:$i.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Kg.assertOptions(s,{baseUrl:$i.spelling("baseURL"),withXsrfToken:$i.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&ge.merge(i.common,i[s.method]);i&&ge.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=Ja.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(d=d&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const m=[];this.interceptors.response.forEach(function(v){m.push(v.fulfilled,v.rejected)});let h,f=0,g;if(!d){const w=[tO.bind(this),void 0];for(w.unshift(...l),w.push(...m),g=w.length,h=Promise.resolve(s);f<g;)h=h.then(w[f++],w[f++]);return h}g=l.length;let y=s;for(f=0;f<g;){const w=l[f++],v=l[f++];try{y=w(y)}catch(b){v.call(this,b);break}}try{h=tO.call(this,y)}catch(w){return Promise.reject(w)}for(f=0,g=m.length;f<g;)h=h.then(m[f++],m[f++]);return h}getUri(r){r=pd(this.defaults,r);const s=zF(r.baseURL,r.url,r.allowAbsoluteUrls);return RF(s,r.params,r.paramsSerializer)}};ge.forEach(["delete","get","head","options"],function(r){Qc.prototype[r]=function(s,a){return this.request(pd(a||{},{method:r,url:s,data:(a||{}).data}))}});ge.forEach(["post","put","patch"],function(r){function s(a){return function(i,o,l){return this.request(pd(l||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Qc.prototype[r]=s(),Qc.prototype[r+"Form"]=s(!0)});let Gbe=class qF{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,l){a.reason||(a.reason=new vm(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new qF(function(n){r=n}),cancel:r}}};function Ybe(e){return function(s){return e.apply(null,s)}}function Jbe(e){return ge.isObject(e)&&e.isAxiosError===!0}const Q1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Q1).forEach(([e,r])=>{Q1[r]=e});function HF(e){const r=new Qc(e),s=jF(Qc.prototype.request,r);return ge.extend(s,Qc.prototype,r,{allOwnKeys:!0}),ge.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return HF(pd(e,n))},s}const Zr=HF(Qf);Zr.Axios=Qc;Zr.CanceledError=vm;Zr.CancelToken=Gbe;Zr.isCancel=LF;Zr.VERSION=VF;Zr.toFormData=Uy;Zr.AxiosError=Et;Zr.Cancel=Zr.CanceledError;Zr.all=function(r){return Promise.all(r)};Zr.spread=Ybe;Zr.isAxiosError=Jbe;Zr.mergeConfig=pd;Zr.AxiosHeaders=Ja;Zr.formToJSON=e=>DF(ge.isHTMLForm(e)?new FormData(e):e);Zr.getAdapter=WF.getAdapter;Zr.HttpStatusCode=Q1;Zr.default=Zr;const{Axios:q1e,AxiosError:H1e,CanceledError:K1e,isCancel:G1e,CancelToken:Y1e,VERSION:J1e,all:X1e,Cancel:Q1e,isAxiosError:Z1e,spread:eSe,toFormData:tSe,AxiosHeaders:rSe,HttpStatusCode:sSe,formToJSON:aSe,getAdapter:nSe,mergeConfig:iSe}=Zr,KF="https://apex-backend-august-production.up.railway.app/api";console.log("🔗 API Connected to:",KF);const Xbe=3e4,Qbe=3,GF=1e3;class Zbe extends Error{constructor(r,s,a,n){super(r),this.status=s,this.code=a,this.details=n,this.name="ApiError"}}const YF=e=>new Promise(r=>setTimeout(r,e)),ewe=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},JF=async(e,r,s=0)=>{try{return await e(r)}catch(a){const n=a;if(s<Qbe&&ewe(n)){const i=GF*Math.pow(2,s);return await YF(i),JF(e,r,s+1)}throw a}},XF=e=>{const r=Zr.create({baseURL:KF,timeout:Xbe,headers:{"Content-Type":"application/json"}});return r.interceptors.request.use(async s=>{let a=null;console.log("🔍 API Client: Getting token...");{try{if(window.Clerk&&window.Clerk.session){const n=await window.Clerk.session.getToken();n&&(a=n,console.log("🔍 API Client: Got Clerk token from window.Clerk"))}else e&&(a=await e(),console.log("🔍 API Client: Got Clerk token from getToken"))}catch(n){console.warn("⚠️ Failed to get Clerk token:",n)}if(!a)try{const n=SS(),{data:{session:i}}=await n.auth.getSession();i!=null&&i.access_token?(a=i.access_token,console.log("🔍 API Client: Got Supabase token:","***EXISTS***")):console.warn("⚠️ API Client: No Supabase session found")}catch(n){console.error("❌ API Client: Error getting Supabase session:",n)}a||console.warn("⚠️ No authentication token available in production mode")}return a?(s.headers.Authorization=`Bearer ${a}`,console.log("🔍 API Client: Set Authorization header with token:",a),console.log("🔍 API Client: Full request config:",{url:s.url,method:s.method,headers:s.headers})):console.warn("⚠️ No authentication token available - user needs to sign in"),s.headers["X-Request-ID"]=`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s},s=>(console.error("❌ Request Error:",s),Promise.reject(s))),r.interceptors.response.use(s=>s,async s=>{var o,l,d,m,h,f;const a=s.config;if(((o=s.response)==null?void 0:o.status)===401&&!a._retry)return a._retry=!0,console.error("🔓 Dev Mode: 401 error - continuing without redirect"),Promise.reject(s);if(((l=s.response)==null?void 0:l.status)===429){const g=s.response.headers["retry-after"],y=g?parseInt(g)*1e3:GF;return await YF(y),JF(r,a)}const n=(d=s.response)==null?void 0:d.data,i=new Zbe((n==null?void 0:n.message)||s.message||"An unexpected error occurred",(m=s.response)==null?void 0:m.status,n==null?void 0:n.code,n);return console.error("❌ API Error:",{message:i.message,status:i.status,code:i.code,url:(h=s.config)==null?void 0:h.url,method:(f=s.config)==null?void 0:f.method}),Promise.reject(i)}),r},Ft=XF(),ak=()=>{const{getToken:e}=wa();return XF(e)};class twe{constructor(){ci(this,"baseURL","https://apex-backend-august-production.up.railway.app/api")}async getCampaigns(){try{console.log("🎯 VapiOutboundService: Fetching campaigns from:",this.baseURL);const r=await Ft.get("/vapi-outbound/campaigns");return console.log("📡 VapiOutboundService: API Response:",r),(r.data.campaigns||r.data||[]).map(a=>({id:a.id,apexId:a.apexId||`apex${a.id.substring(0,5)}`,name:a.name,description:a.description,status:a.status,assistantId:a.assistantId,assistantName:a.assistantName||"AI Assistant",phoneNumberId:a.phoneNumberId,phoneNumber:a.phoneNumber,organizationId:a.organizationId||"",objective:a.objective,budget:a.budget,campaignType:a.campaignType,createdAt:a.createdAt,updatedAt:a.updatedAt,totalLeads:a.totalLeads||0,callsCompleted:a.callsCompleted||0,totalCost:a.totalCost||0,successRate:a.successRate||0,callsInProgress:a.callsInProgress||0,settings:a.settings||{callsPerHour:10,retryAttempts:2,timeZone:"America/New_York",workingHours:{start:"09:00",end:"17:00"}},teamAssignment:a.teamAssignment}))}catch(r){console.error("❌ Error fetching campaigns from API:",r);try{console.log("🔄 Attempting to fetch campaigns directly from Supabase...");const{data:s,error:a}=await Cs.from("campaigns").select("*").order("created_at",{ascending:!1});return a?(console.error("❌ Supabase error:",a),[]):(console.log("✅ Fetched campaigns from Supabase:",s),(s||[]).map(n=>({id:n.id,apexId:n.apex_id||`apex${n.id.substring(0,5)}`,name:n.name,description:n.description,status:n.status||"draft",assistantId:n.assistant_id||"",assistantName:n.assistant_name||"AI Assistant",phoneNumberId:n.phone_number_id||"",phoneNumber:n.phone_number,organizationId:n.organization_id||"",objective:n.objective,budget:n.budget,campaignType:n.campaign_type,createdAt:n.created_at,updatedAt:n.updated_at,totalLeads:n.total_leads||0,callsCompleted:n.calls_completed||0,totalCost:n.total_cost||0,successRate:n.success_rate||0,callsInProgress:n.calls_in_progress||0,settings:{callsPerHour:n.calls_per_hour||10,retryAttempts:n.retry_attempts||2,timeZone:n.time_zone||"America/New_York",workingHours:{start:n.working_hours_start||"09:00",end:n.working_hours_end||"17:00"}},teamAssignment:n.team_assignment})))}catch(s){return console.error("❌ Failed to fetch from Supabase:",s),[]}}}async createCampaign(r){var s;try{const a=((s=r.callBehavior)==null?void 0:s.customConcurrency)||10,n={...r,max_concurrent_calls:a,callBehavior:void 0};return console.log("📡 Sending campaign data to backend:",n),(await Ft.post("/vapi-outbound/campaigns",n)).data.campaign}catch(a){throw console.error("Error creating campaign:",a),a}}async getCampaignDashboard(r){try{return(await Ft.get(`/vapi-outbound/campaigns/${r}`)).data}catch(s){throw console.error("Error fetching campaign dashboard:",s),s}}async uploadLeads(r,s){try{const a=new FormData;return a.append("csvFile",s),(await Ft.post(`/vapi-outbound/campaigns/${r}/upload-leads`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error uploading leads:",a),a}}async startCampaign(r){try{return console.log("🚀 Starting campaign:",r),(await Ft.post(`/vapi-outbound/campaigns/${r}/start`)).data}catch(s){throw console.error("Error starting campaign:",s),s}}async pauseCampaign(r){try{return(await Ft.post(`/vapi-outbound/campaigns/${r}/pause`)).data}catch(s){throw console.error("Error pausing campaign:",s),s}}async resumeCampaign(r){try{return(await Ft.post(`/vapi-outbound/campaigns/${r}/resume`)).data}catch(s){throw console.error("Error resuming campaign:",s),s}}async getLiveMonitoring(r){try{return(await Ft.get(`/vapi-outbound/campaigns/${r}/live`)).data}catch(s){throw console.error("Error fetching live monitoring:",s),s}}async getCampaignResults(r){try{return(await Ft.get(`/vapi-outbound/campaigns/${r}/results`)).data}catch(s){throw console.error("Error fetching campaign results:",s),s}}async getAssistants(){var r,s;try{console.log("📡 VapiOutboundService.getAssistants: Making API call...");const a=await Ft.get("/vapi-data/assistants");console.log("📡 VapiOutboundService.getAssistants: Response:",a),console.log("📡 VapiOutboundService.getAssistants: Response data:",a.data),console.log("📡 VapiOutboundService.getAssistants: Assistants array:",a.data.assistants);const n=a.data.assistants||[];return console.log("📡 VapiOutboundService.getAssistants: Returning",n.length,"assistants"),n}catch(a){throw console.error("❌ VapiOutboundService.getAssistants: Error:",a),console.error("❌ Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async getPhoneNumbers(){var r,s;try{console.log("📡 VapiOutboundService.getPhoneNumbers: Making API call...");const a=await Ft.get("/vapi-data/phone-numbers");console.log("📡 VapiOutboundService.getPhoneNumbers: Response:",a),console.log("📡 VapiOutboundService.getPhoneNumbers: Response data:",a.data),console.log("📡 VapiOutboundService.getPhoneNumbers: Phone numbers array:",a.data.phoneNumbers);const n=a.data.phoneNumbers||[];return console.log("📡 VapiOutboundService.getPhoneNumbers: Returning",n.length,"phone numbers"),n}catch(a){throw console.error("❌ VapiOutboundService.getPhoneNumbers: Error:",a),console.error("❌ Error details:",{message:a.message,response:(r=a.response)==null?void 0:r.data,status:(s=a.response)==null?void 0:s.status}),a}}async downloadLeadsTemplate(){try{return(await Ft.get("/vapi-outbound/leads-template",{responseType:"blob"})).data}catch(r){throw console.error("Error downloading template:",r),r}}async getToken(){return""}formatPhoneNumber(r){const s=r.replace(/\D/g,"");return s.length===10?`+1${s}`:s.length===11&&s.startsWith("1")?`+${s}`:`+${s}`}validateLeadData(r){var n,i,o;const s=[],a=[];for(const l of r){const d=[];(n=l.firstName)!=null&&n.trim()||d.push("First name required"),(i=l.lastName)!=null&&i.trim()||d.push("Last name required"),(o=l.phone)!=null&&o.trim()||d.push("Phone number required"),l.phone&&!/^\+?[\d\s\-\(\)]+$/.test(l.phone)&&d.push("Invalid phone format"),d.length===0?s.push({...l,phone:this.formatPhoneNumber(l.phone)}):a.push({...l,errors:d})}return{valid:s,invalid:a}}async getRecentCalls(r=20){try{console.log("📡 VapiOutboundService: Fetching recent calls...");const s=await Ft.get(`/vapi-outbound/calls/recent?limit=${r}`);return console.log("📡 VapiOutboundService: Recent calls response:",s),s.data.calls||s.data||[]}catch(s){console.error("Error fetching recent calls from API:",s);try{console.log("🔄 Attempting to fetch calls directly from Supabase...");const{data:a,error:n}=await Cs.from("calls").select("*").order("created_at",{ascending:!1}).limit(r);return n?(console.error("❌ Supabase error:",n),[]):(console.log("✅ Fetched calls from Supabase:",a),a||[])}catch(a){return console.error("❌ Failed to fetch from Supabase:",a),[]}}}async getCampaignCalls(r,s){try{return(await Ft.get(`/campaigns/${r}/calls?${s}`)).data}catch(a){throw console.error("Error fetching campaign calls:",a),a}}async getCampaignDashboard(r){try{return(await Ft.get(`/vapi-outbound/campaigns/${r}/dashboard`)).data}catch(s){return console.error("Error fetching campaign dashboard:",s),{totalCalls:0,completedCalls:0,inProgressCalls:0,averageCallDuration:0,conversionRate:0,totalCost:0,outcomeBreakdown:{answered:0,voicemail:0,no_answer:0,busy:0,failed:0}}}}async getCampaignResults(r){try{const s=await Ft.get(`/vapi-outbound/campaigns/${r}/calls`);return s.data.calls||s.data||[]}catch(s){console.error("Error fetching campaign results from API:",s);try{console.log("🔄 Fetching campaign calls from Supabase...");const{data:a,error:n}=await Cs.from("calls").select("*").eq("campaign_id",r).order("created_at",{ascending:!1});if(n)return console.error("❌ Supabase error:",n),[];const i=(a||[]).map(o=>({id:o.id,status:o.status||"completed",outcome:o.outcome||"completed",duration:o.duration||0,cost:o.cost||.05,phone_number:o.phone_number,customer_phone:o.phone_number,customerPhone:o.phone_number,recording_url:o.recording_url,transcript:o.transcript,summary:o.summary,created_at:o.created_at,started_at:o.started_at||o.created_at,lead:{firstName:"Matt",lastName:"",phone:o.phone_number||"N/A"},startedAt:o.started_at||o.created_at,endedAt:o.ended_at}));return console.log(`✅ Fetched ${i.length} calls for campaign ${r}`),i}catch(a){return console.error("❌ Failed to fetch from Supabase:",a),[]}}}async getLiveData(r){return this.getCampaignDashboard(r)}async startCampaign(r){try{await Ft.post(`/vapi-outbound/campaigns/${r}/start`)}catch(s){throw console.error("Error starting campaign:",s),s}}async pauseCampaign(r){try{await Ft.post(`/vapi-outbound/campaigns/${r}/pause`)}catch(s){throw console.error("Error pausing campaign:",s),s}}async resumeCampaign(r){try{await Ft.post(`/vapi-outbound/campaigns/${r}/resume`)}catch(s){throw console.error("Error resuming campaign:",s),s}}}const Ka=new twe,rwe=Object.freeze(Object.defineProperty({__proto__:null,default:Ka,vapiOutboundService:Ka},Symbol.toStringTag,{value:"Module"}));var swe="Label",QF=p.forwardRef((e,r)=>t.jsx(He.label,{...e,ref:r,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));QF.displayName=swe;var ZF=QF;const awe=vf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=p.forwardRef(({className:e,...r},s)=>t.jsx(ZF,{ref:s,className:Le(awe(),e),...r}));ee.displayName=ZF.displayName;var nk="Radio",[nwe,e7]=qs(nk),[iwe,owe]=nwe(nk),t7=p.forwardRef((e,r)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:d,form:m,...h}=e,[f,g]=p.useState(null),y=ut(r,b=>g(b)),w=p.useRef(!1),v=f?m||!!f.closest("form"):!0;return t.jsxs(iwe,{scope:s,checked:n,disabled:o,children:[t.jsx(He.button,{type:"button",role:"radio","aria-checked":n,"data-state":n7(n),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:De(e.onClick,b=>{n||d==null||d(),v&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),v&&t.jsx(a7,{control:f,bubbles:!w.current,name:a,value:l,checked:n,required:i,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});t7.displayName=nk;var r7="RadioIndicator",s7=p.forwardRef((e,r)=>{const{__scopeRadio:s,forceMount:a,...n}=e,i=owe(r7,s);return t.jsx(ja,{present:a||i.checked,children:t.jsx(He.span,{"data-state":n7(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});s7.displayName=r7;var lwe="RadioBubbleInput",a7=p.forwardRef(({__scopeRadio:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ut(o,i),d=Gf(s),m=Nf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),t.jsx(He.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});a7.displayName=lwe;function n7(e){return e?"checked":"unchecked"}var cwe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vy="RadioGroup",[dwe,oSe]=qs(Vy,[im,e7]),i7=im(),o7=e7(),[uwe,mwe]=dwe(Vy),l7=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:m,loop:h=!0,onValueChange:f,...g}=e,y=i7(s),w=yd(m),[v,b]=wi({prop:i,defaultProp:n??null,onChange:f,caller:Vy});return t.jsx(uwe,{scope:s,name:a,required:o,disabled:l,value:v,onValueChange:b,children:t.jsx($S,{asChild:!0,...y,orientation:d,dir:w,loop:h,children:t.jsx(He.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:w,...g,ref:r})})})});l7.displayName=Vy;var c7="RadioGroupItem",d7=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,disabled:a,...n}=e,i=mwe(c7,s),o=i.disabled||a,l=i7(s),d=o7(s),m=p.useRef(null),h=ut(r,m),f=i.value===n.value,g=p.useRef(!1);return p.useEffect(()=>{const y=v=>{cwe.includes(v.key)&&(g.current=!0)},w=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),t.jsx(zS,{asChild:!0,...l,focusable:!o,active:f,children:t.jsx(t7,{disabled:o,required:i.required,checked:f,...d,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:De(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:De(n.onFocus,()=>{var y;g.current&&((y=m.current)==null||y.click())})})})});d7.displayName=c7;var hwe="RadioGroupIndicator",u7=p.forwardRef((e,r)=>{const{__scopeRadioGroup:s,...a}=e,n=o7(s);return t.jsx(s7,{...n,...a,ref:r})});u7.displayName=hwe;var m7=l7,h7=d7,fwe=u7;const $l=p.forwardRef(({className:e,...r},s)=>t.jsx(m7,{className:Le("grid gap-2",e),...r,ref:s}));$l.displayName=m7.displayName;const Zs=p.forwardRef(({className:e,...r},s)=>t.jsx(h7,{ref:s,className:Le("aspect-square h-4 w-4 rounded-full border border-zinc-200 border-zinc-900 text-zinc-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-50 dark:border-zinc-800 dark:text-zinc-50 dark:focus-visible:ring-zinc-300",e),...r,children:t.jsx(fwe,{className:"flex items-center justify-center",children:t.jsx(qM,{className:"h-3.5 w-3.5 fill-primary"})})}));Zs.displayName=h7.displayName;var f7=["PageUp","PageDown"],p7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],g7={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bm="Slider",[Z1,pwe,gwe]=bf(bm),[x7,lSe]=qs(bm,[gwe]),[xwe,qy]=x7(bm),y7=p.forwardRef((e,r)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[a],value:h,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:w,...v}=e,b=p.useRef(new Set),N=p.useRef(0),S=o==="horizontal"?ywe:vwe,[_=[],A]=wi({prop:h,defaultProp:m,onChange:O=>{var W;(W=[...b.current][N.current])==null||W.focus(),f(O)}}),T=p.useRef(_);function E(O){const I=Swe(_,O);H(O,I)}function M(O){H(O,N.current)}function L(){const O=T.current[N.current];_[N.current]!==O&&g(_)}function H(O,I,{commit:W}={commit:!1}){const V=Pwe(i),U=Awe(Math.round((O-a)/i)*i+a,V),$=Yh(U,[a,n]);A((R=[])=>{const F=jwe(R,$,I);if(_we(F,d*i)){N.current=F.indexOf($);const z=String(F)!==String(R);return z&&W&&g(F),z?F:R}else return R})}return t.jsx(xwe,{scope:e.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:N,thumbs:b.current,values:_,orientation:o,form:w,children:t.jsx(Z1.Provider,{scope:e.__scopeSlider,children:t.jsx(Z1.Slot,{scope:e.__scopeSlider,children:t.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:r,onPointerDown:De(v.onPointerDown,()=>{l||(T.current=_)}),min:a,max:n,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:M,onSlideEnd:l?void 0:L,onHomeKeyDown:()=>!l&&H(a,0,{commit:!0}),onEndKeyDown:()=>!l&&H(n,_.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:I})=>{if(!l){const U=f7.includes(O.key)||O.shiftKey&&p7.includes(O.key)?10:1,$=N.current,R=_[$],F=i*U*I;H(R+F,$,{commit:!0})}}})})})})});y7.displayName=bm;var[v7,b7]=x7(bm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ywe=p.forwardRef((e,r)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...h}=e,[f,g]=p.useState(null),y=ut(r,S=>g(S)),w=p.useRef(void 0),v=yd(n),b=v==="ltr",N=b&&!i||!b&&i;function C(S){const _=w.current||f.getBoundingClientRect(),A=[0,_.width],E=ik(A,N?[s,a]:[a,s]);return w.current=_,E(S-_.left)}return t.jsx(v7,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:t.jsx(w7,{dir:v,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const _=C(S.clientX);o==null||o(_)},onSlideMove:S=>{const _=C(S.clientX);l==null||l(_)},onSlideEnd:()=>{w.current=void 0,d==null||d()},onStepKeyDown:S=>{const A=g7[N?"from-left":"from-right"].includes(S.key);m==null||m({event:S,direction:A?-1:1})}})})}),vwe=p.forwardRef((e,r)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...m}=e,h=p.useRef(null),f=ut(r,h),g=p.useRef(void 0),y=!n;function w(v){const b=g.current||h.current.getBoundingClientRect(),N=[0,b.height],S=ik(N,y?[a,s]:[s,a]);return g.current=b,S(v-b.top)}return t.jsx(v7,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:t.jsx(w7,{"data-orientation":"vertical",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=w(v.clientY);o==null||o(b)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:v=>{const N=g7[y?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:N?-1:1})}})})}),w7=p.forwardRef((e,r)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...m}=e,h=qy(bm,s);return t.jsx(He.span,{...m,ref:r,onKeyDown:De(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):f7.concat(p7).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:De(e.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(g)?g.focus():a(f)}),onPointerMove:De(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&n(f)}),onPointerUp:De(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),j7="SliderTrack",N7=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=qy(j7,s);return t.jsx(He.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:r})});N7.displayName=j7;var eS="SliderRange",S7=p.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,n=qy(eS,s),i=b7(eS,s),o=p.useRef(null),l=ut(r,o),d=n.values.length,m=n.values.map(g=>_7(g,n.min,n.max)),h=d>1?Math.min(...m):0,f=100-Math.max(...m);return t.jsx(He.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});S7.displayName=eS;var tS="SliderThumb",C7=p.forwardRef((e,r)=>{const s=pwe(e.__scopeSlider),[a,n]=p.useState(null),i=ut(r,l=>n(l)),o=p.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return t.jsx(bwe,{...e,ref:i,index:o})}),bwe=p.forwardRef((e,r)=>{const{__scopeSlider:s,index:a,name:n,...i}=e,o=qy(tS,s),l=b7(tS,s),[d,m]=p.useState(null),h=ut(r,C=>m(C)),f=d?o.form||!!d.closest("form"):!0,g=Nf(d),y=o.values[a],w=y===void 0?0:_7(y,o.min,o.max),v=Nwe(a,o.values.length),b=g==null?void 0:g[l.size],N=b?Cwe(b,w,l.direction):0;return p.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${N}px)`},children:[t.jsx(Z1.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(He.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:De(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),f&&t.jsx(k7,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},a)]})});C7.displayName=tS;var wwe="RadioBubbleInput",k7=p.forwardRef(({__scopeSlider:e,value:r,...s},a)=>{const n=p.useRef(null),i=ut(n,a),o=Gf(r);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const f=new Event("input",{bubbles:!0});h.call(l,r),l.dispatchEvent(f)}},[o,r]),t.jsx(He.input,{style:{display:"none"},...s,ref:i,defaultValue:r})});k7.displayName=wwe;function jwe(e=[],r,s){const a=[...e];return a[s]=r,a.sort((n,i)=>n-i)}function _7(e,r,s){const i=100/(s-r)*(e-r);return Yh(i,[0,100])}function Nwe(e,r){return r>2?`Value ${e+1} of ${r}`:r===2?["Minimum","Maximum"][e]:void 0}function Swe(e,r){if(e.length===1)return 0;const s=e.map(n=>Math.abs(n-r)),a=Math.min(...s);return s.indexOf(a)}function Cwe(e,r,s){const a=e/2,i=ik([0,50],[0,a]);return(a-i(r)*s)*s}function kwe(e){return e.slice(0,-1).map((r,s)=>e[s+1]-r)}function _we(e,r){if(r>0){const s=kwe(e);return Math.min(...s)>=r}return!0}function ik(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}function Pwe(e){return(String(e).split(".")[1]||"").length}function Awe(e,r){const s=Math.pow(10,r);return Math.round(e*s)/s}var P7=y7,Ewe=N7,Twe=S7,Owe=C7;const Ln=p.forwardRef(({className:e,...r},s)=>t.jsxs(P7,{ref:s,className:Le("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(Ewe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:t.jsx(Twe,{className:"absolute h-full bg-emerald-500"})}),t.jsx(Owe,{className:"block h-5 w-5 rounded-full border-2 border-emerald-500 bg-white shadow-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:pointer-events-none disabled:opacity-50 hover:bg-emerald-50"})]}));Ln.displayName=P7.displayName;var Hy="Switch",[Mwe,cSe]=qs(Hy),[Rwe,Iwe]=Mwe(Hy),A7=p.forwardRef((e,r)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:m,form:h,...f}=e,[g,y]=p.useState(null),w=ut(r,S=>y(S)),v=p.useRef(!1),b=g?h||!!g.closest("form"):!0,[N,C]=wi({prop:n,defaultProp:i??!1,onChange:m,caller:Hy});return t.jsxs(Rwe,{scope:s,checked:N,disabled:l,children:[t.jsx(He.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":M7(N),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:w,onClick:De(e.onClick,S=>{C(_=>!_),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&t.jsx(O7,{control:g,bubbles:!v.current,name:a,value:d,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});A7.displayName=Hy;var E7="SwitchThumb",T7=p.forwardRef((e,r)=>{const{__scopeSwitch:s,...a}=e,n=Iwe(E7,s);return t.jsx(He.span,{"data-state":M7(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});T7.displayName=E7;var Dwe="SwitchBubbleInput",O7=p.forwardRef(({__scopeSwitch:e,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ut(o,i),d=Gf(s),m=Nf(r);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});O7.displayName=Dwe;function M7(e){return e?"checked":"unchecked"}var R7=A7,Lwe=T7;const Xr=p.forwardRef(({className:e,...r},s)=>t.jsx(R7,{className:Le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-gray-600",e),...r,ref:s,children:t.jsx(Lwe,{className:Le("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xr.displayName=R7.displayName;var Ky="Dialog",[I7,D7]=qs(Ky),[$we,Ti]=I7(Ky),L7=e=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),d=p.useRef(null),[m,h]=wi({prop:a,defaultProp:n??!1,onChange:i,caller:Ky});return t.jsx($we,{scope:r,triggerRef:l,contentRef:d,contentId:Vi(),titleId:Vi(),descriptionId:Vi(),open:m,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:s})};L7.displayName=Ky;var $7="DialogTrigger",z7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ti($7,s),i=ut(r,n.triggerRef);return t.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ck(n.open),...a,ref:i,onClick:De(e.onClick,n.onOpenToggle)})});z7.displayName=$7;var ok="DialogPortal",[zwe,F7]=I7(ok,{forceMount:void 0}),U7=e=>{const{__scopeDialog:r,forceMount:s,children:a,container:n}=e,i=Ti(ok,r);return t.jsx(zwe,{scope:r,forceMount:s,children:p.Children.map(a,o=>t.jsx(ja,{present:s||i.open,children:t.jsx(Sf,{asChild:!0,container:n,children:o})}))})};U7.displayName=ok;var ix="DialogOverlay",B7=p.forwardRef((e,r)=>{const s=F7(ix,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Ti(ix,e.__scopeDialog);return i.modal?t.jsx(ja,{present:a||i.open,children:t.jsx(Uwe,{...n,ref:r})}):null});B7.displayName=ix;var Fwe=nd("DialogOverlay.RemoveScroll"),Uwe=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ti(ix,s);return t.jsx(zx,{as:Fwe,allowPinchZoom:!0,shards:[n.contentRef],children:t.jsx(He.div,{"data-state":ck(n.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),gd="DialogContent",W7=p.forwardRef((e,r)=>{const s=F7(gd,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Ti(gd,e.__scopeDialog);return t.jsx(ja,{present:a||i.open,children:i.modal?t.jsx(Bwe,{...n,ref:r}):t.jsx(Wwe,{...n,ref:r})})});W7.displayName=gd;var Bwe=p.forwardRef((e,r)=>{const s=Ti(gd,e.__scopeDialog),a=p.useRef(null),n=ut(r,s.contentRef,a);return p.useEffect(()=>{const i=a.current;if(i)return FS(i)},[]),t.jsx(V7,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:De(e.onFocusOutside,i=>i.preventDefault())})}),Wwe=p.forwardRef((e,r)=>{const s=Ti(gd,e.__scopeDialog),a=p.useRef(!1),n=p.useRef(!1);return t.jsx(V7,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var d,m;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((m=s.triggerRef.current)==null?void 0:m.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),V7=p.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Ti(gd,s),d=p.useRef(null),m=ut(r,d);return PS(),t.jsxs(t.Fragment,{children:[t.jsx(Mx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:t.jsx(wf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ck(l.open),...o,ref:m,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(qwe,{titleId:l.titleId}),t.jsx(Kwe,{contentRef:d,descriptionId:l.descriptionId})]})]})}),lk="DialogTitle",q7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ti(lk,s);return t.jsx(He.h2,{id:n.titleId,...a,ref:r})});q7.displayName=lk;var H7="DialogDescription",K7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ti(H7,s);return t.jsx(He.p,{id:n.descriptionId,...a,ref:r})});K7.displayName=H7;var G7="DialogClose",Y7=p.forwardRef((e,r)=>{const{__scopeDialog:s,...a}=e,n=Ti(G7,s);return t.jsx(He.button,{type:"button",...a,ref:r,onClick:De(e.onClick,()=>n.onOpenChange(!1))})});Y7.displayName=G7;function ck(e){return e?"open":"closed"}var J7="DialogTitleWarning",[Vwe,X7]=XY(J7,{contentName:gd,titleName:lk,docsSlug:"dialog"}),qwe=({titleId:e})=>{const r=X7(J7),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Hwe="DialogDescriptionWarning",Kwe=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X7(Hwe).contentName}}.`;return p.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},Q7=L7,Z7=z7,eU=U7,dk=B7,uk=W7,mk=q7,hk=K7,fk=Y7,tU="AlertDialog",[Gwe,dSe]=qs(tU,[D7]),Qo=D7(),rU=e=>{const{__scopeAlertDialog:r,...s}=e,a=Qo(r);return t.jsx(Q7,{...a,...s,modal:!0})};rU.displayName=tU;var Ywe="AlertDialogTrigger",sU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(Z7,{...n,...a,ref:r})});sU.displayName=Ywe;var Jwe="AlertDialogPortal",aU=e=>{const{__scopeAlertDialog:r,...s}=e,a=Qo(r);return t.jsx(eU,{...a,...s})};aU.displayName=Jwe;var Xwe="AlertDialogOverlay",nU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(dk,{...n,...a,ref:r})});nU.displayName=Xwe;var Ru="AlertDialogContent",[Qwe,Zwe]=Gwe(Ru),eje=hY("AlertDialogContent"),iU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,children:a,...n}=e,i=Qo(s),o=p.useRef(null),l=ut(r,o),d=p.useRef(null);return t.jsx(Vwe,{contentName:Ru,titleName:oU,docsSlug:"alert-dialog",children:t.jsx(Qwe,{scope:s,cancelRef:d,children:t.jsxs(uk,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:De(n.onOpenAutoFocus,m=>{var h;m.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[t.jsx(eje,{children:a}),t.jsx(rje,{contentRef:o})]})})})});iU.displayName=Ru;var oU="AlertDialogTitle",lU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(mk,{...n,...a,ref:r})});lU.displayName=oU;var cU="AlertDialogDescription",dU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(hk,{...n,...a,ref:r})});dU.displayName=cU;var tje="AlertDialogAction",uU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,n=Qo(s);return t.jsx(fk,{...n,...a,ref:r})});uU.displayName=tje;var mU="AlertDialogCancel",hU=p.forwardRef((e,r)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=Zwe(mU,s),i=Qo(s),o=ut(r,n);return t.jsx(fk,{...i,...a,ref:o})});hU.displayName=mU;var rje=({contentRef:e})=>{const r=`\`${Ru}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ru}\` by passing a \`${cU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ru}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},sje=rU,aje=sU,nje=aU,fU=nU,pU=iU,gU=uU,xU=hU,yU=lU,vU=dU;const rS=sje,sS=aje,ije=nje,bU=p.forwardRef(({className:e,...r},s)=>t.jsx(fU,{className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));bU.displayName=fU.displayName;const ox=p.forwardRef(({className:e,...r},s)=>t.jsxs(ije,{children:[t.jsx(bU,{}),t.jsx(pU,{ref:s,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...r})]}));ox.displayName=pU.displayName;const lx=({className:e,...r})=>t.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...r});lx.displayName="AlertDialogHeader";const cx=({className:e,...r})=>t.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});cx.displayName="AlertDialogFooter";const dx=p.forwardRef(({className:e,...r},s)=>t.jsx(yU,{ref:s,className:Le("text-lg font-semibold",e),...r}));dx.displayName=yU.displayName;const ux=p.forwardRef(({className:e,...r},s)=>t.jsx(vU,{ref:s,className:Le("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));ux.displayName=vU.displayName;const mx=p.forwardRef(({className:e,...r},s)=>t.jsx(gU,{ref:s,className:Le(kS(),e),...r}));mx.displayName=gU.displayName;const hx=p.forwardRef(({className:e,...r},s)=>t.jsx(xU,{ref:s,className:Le(kS({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));hx.displayName=xU.displayName;const wU=({campaignId:e,teamMembers:r=[],invitations:s=[],onAddMember:a,onRemoveMember:n,onUpdateRole:i,onResendInvitation:o,onCancelInvitation:l,isEditable:d=!0})=>{const[m,h]=p.useState(""),[f,g]=p.useState("agent"),[y,w]=p.useState("campaign_leads"),[v,b]=p.useState(!1),{toast:N}=cs(),C=async()=>{if(!m.trim()){N({title:"Error",description:"Please enter an email address",variant:"destructive"});return}if(r.some(I=>I.email===m)||s.some(I=>I.email===m&&I.status==="pending")){N({title:"Error",description:"This email is already a team member or has a pending invitation",variant:"destructive"});return}b(!0);try{await a(m,f),h(""),g("member"),N({title:"Invitation Sent",description:`Team invitation sent to ${m}`})}catch{N({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{b(!1)}},S=async(O,I)=>{try{await n(O),N({title:"Member Removed",description:`${I} has been removed from the campaign`})}catch{N({title:"Error",description:"Failed to remove team member",variant:"destructive"})}},_=async(O,I)=>{try{await i(O,I),N({title:"Role Updated",description:"Team member role has been updated"})}catch{N({title:"Error",description:"Failed to update role",variant:"destructive"})}},A=O=>{switch(O){case"owner":return t.jsx(_x,{className:"h-4 w-4 text-yellow-500"});case"manager":return t.jsx(gs,{className:"h-4 w-4 text-blue-500"});case"agent":return t.jsx(bt,{className:"h-4 w-4 text-emerald-500"});case"viewer":return t.jsx(Ir,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(bt,{className:"h-4 w-4 text-gray-500"})}},T=O=>{switch(O){case"owner":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"agent":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"viewer":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},E=O=>{switch(O){case"active":return t.jsx(yt,{className:"h-4 w-4 text-emerald-500"});case"pending":return t.jsx(Mt,{className:"h-4 w-4 text-yellow-500"});case"declined":return t.jsx(Yi,{className:"h-4 w-4 text-red-500"});case"expired":return t.jsx(Yt,{className:"h-4 w-4 text-gray-500"});default:return t.jsx(Mt,{className:"h-4 w-4 text-gray-500"})}},M=O=>{const I=`${window.location.origin}/invite/${O}`;navigator.clipboard.writeText(I),N({title:"Link Copied",description:"Invitation link copied to clipboard"})},L=O=>{switch(O){case"all_leads":return"Access to all CRM leads";case"campaign_leads":return"Access to campaign leads only";case"assigned_leads":return"Access to assigned leads only";case"no_access":return"No CRM access";default:return"Campaign leads only"}},H=O=>{switch(O){case"all_leads":return"text-red-400";case"campaign_leads":return"text-blue-400";case"assigned_leads":return"text-emerald-400";case"no_access":return"text-gray-400";default:return"text-blue-400"}};return t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(bt,{className:"mr-2 h-5 w-5"}),"Team Members",t.jsxs(je,{variant:"outline",className:"ml-2 border-gray-600 text-gray-400",children:[r.length," members"]})]})}),t.jsxs(X,{className:"space-y-6",children:[d&&t.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("h4",{className:"flex items-center text-sm font-medium text-white",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Invite Team Member"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx(_e,{placeholder:"Enter email address",type:"email",value:m,onChange:O=>h(O.target.value),className:"border-gray-600 bg-gray-800 text-white",onKeyDown:O=>{O.key==="Enter"&&C()}})}),t.jsxs(at,{value:f,onValueChange:g,children:[t.jsx(rt,{className:"w-28 border-gray-600 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"manager",children:"Manager"}),t.jsx(se,{value:"agent",children:"Agent"}),t.jsx(se,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(at,{value:y,onValueChange:w,children:[t.jsx(rt,{className:"w-40 border-gray-600 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all_leads",children:"All CRM Leads"}),t.jsx(se,{value:"campaign_leads",children:"Campaign Leads"}),t.jsx(se,{value:"assigned_leads",children:"Assigned Only"}),t.jsx(se,{value:"no_access",children:"No CRM Access"})]})]}),t.jsx(q,{onClick:C,disabled:v||!m.trim(),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:v?t.jsx(Mt,{className:"h-4 w-4 animate-spin"}):t.jsx(Vl,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:`text-xs ${H(y)} ml-2`,children:["🔍 ",L(y)]})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["💡 ",t.jsx("strong",{children:"Role & CRM Permissions:"}),t.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Manager:"})," Full campaign control + team management + CRM access"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Agent:"})," Campaign execution + lead management + CRM read/write"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Viewer:"})," Read-only campaign + limited CRM viewing"]})]}),t.jsxs("p",{className:"mt-2 text-xs text-blue-400",children:["🔍 ",t.jsx("strong",{children:"CRM Access Levels:"})," All Leads (full CRM) | Campaign Leads (campaign-specific) | Assigned Only (individual leads) | No Access"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Current Members"}),r.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(bt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Invite team members to collaborate on this campaign"})]}):t.jsx("div",{className:"space-y-2",children:r.map(O=>{var I;return t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-800/30 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(zu,{className:"h-8 w-8",children:[t.jsx(Fu,{src:O.avatarUrl,alt:O.email}),t.jsx(Uu,{className:"bg-gray-700 text-gray-300",children:((I=O.firstName)==null?void 0:I[0])||O.email[0].toUpperCase()})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"text-sm font-medium text-white",children:O.firstName&&O.lastName?`${O.firstName} ${O.lastName}`:O.email}),E(O.status)]}),t.jsx("p",{className:"text-xs text-gray-400",children:O.email}),t.jsxs("p",{className:`text-xs ${H(O.crmAccessLevel||"campaign_leads")}`,children:["🔍 ",L(O.crmAccessLevel||"campaign_leads")]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(je,{variant:"outline",className:T(O.role),children:[A(O.role),t.jsx("span",{className:"ml-1 capitalize",children:O.role})]}),d&&O.role!=="owner"&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs(at,{value:O.role,onValueChange:W=>_(O.id,W),children:[t.jsx(rt,{className:"h-8 w-24 border-gray-600 bg-gray-800 text-xs text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"manager",children:"Manager"}),t.jsx(se,{value:"agent",children:"Agent"}),t.jsx(se,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(rS,{children:[t.jsx(sS,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",children:t.jsx(Ws,{className:"h-3 w-3"})})}),t.jsxs(ox,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(lx,{children:[t.jsx(dx,{className:"text-white",children:"Remove Team Member"}),t.jsxs(ux,{className:"text-gray-400",children:["Are you sure you want to remove ",O.email," from this campaign? They will lose access immediately."]})]}),t.jsxs(cx,{children:[t.jsx(hx,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(mx,{onClick:()=>S(O.id,O.email),className:"bg-red-600 text-white hover:bg-red-700",children:"Remove"})]})]})]})]})]})]},O.id)})})]}),s.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-2",children:s.map(O=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-yellow-500/5 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Oa,{className:"h-5 w-5 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-white",children:O.email}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Invited ",new Date(O.createdAt).toLocaleDateString()," •"," ","Expires ",new Date(O.expiresAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(je,{variant:"outline",className:T(O.role),children:[A(O.role),t.jsx("span",{className:"ml-1 capitalize",children:O.role})]}),t.jsxs(je,{variant:"outline",className:"border-yellow-500/30 text-yellow-400",children:[E(O.status),t.jsx("span",{className:"ml-1 capitalize",children:O.status})]}),d&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>M(O.invitationToken),className:"h-8 w-8 p-0 text-gray-400 hover:text-white",title:"Copy invitation link",children:t.jsx(mn,{className:"h-3 w-3"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>o(O.id),className:"h-8 w-8 p-0 text-gray-400 hover:text-emerald-400",title:"Resend invitation",children:t.jsx(Vl,{className:"h-3 w-3"})}),t.jsxs(rS,{children:[t.jsx(sS,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",title:"Cancel invitation",children:t.jsx(Ws,{className:"h-3 w-3"})})}),t.jsxs(ox,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(lx,{children:[t.jsx(dx,{className:"text-white",children:"Cancel Invitation"}),t.jsxs(ux,{className:"text-gray-400",children:["Are you sure you want to cancel the invitation for ",O.email,"?"]})]}),t.jsxs(cx,{children:[t.jsx(hx,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Keep Invitation"}),t.jsx(mx,{onClick:()=>l(O.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Cancel Invitation"})]})]})]})]})]})]},O.id))})]}),t.jsx("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/5 p-3",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(is,{className:"h-4 w-4 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400",children:"Team Management"}),t.jsxs("ul",{className:"mt-1 text-xs text-gray-300 space-y-0.5",children:[t.jsx("li",{children:"• Only campaign owners and managers can invite team members"}),t.jsx("li",{children:"• Team members can collaborate on campaign execution and analytics"}),t.jsx("li",{children:"• Invitations expire after 7 days and can be resent"}),e&&t.jsx("li",{children:"• Changes take effect immediately for this campaign"})]})]})]})})]})]})};class oje{constructor(){ci(this,"baseUrl","/organization-settings")}async getSettings(){return(await Ft.get(this.baseUrl)).data}async getSetting(r){return(await Ft.get(`${this.baseUrl}/${r}`)).data}async setSetting(r,s,a=!1){await Ft.post(`${this.baseUrl}/${r}`,{value:s,encrypted:a})}async deleteSetting(r){await Ft.delete(`${this.baseUrl}/${r}`)}async bulkUpdateSettings(r){return(await Ft.put(`${this.baseUrl}/bulk`,{settings:r})).data}async getVapiCredentials(){return(await Ft.get(`${this.baseUrl}/vapi/credentials`)).data}async setVapiApiKey(r){await this.setSetting("vapi_api_key",r,!0)}async setVapiWebhookSecret(r){await this.setSetting("vapi_webhook_secret",r,!0)}async setVapiPhoneNumbers(r){await this.setSetting("vapi_phone_numbers",r,!1)}async setVapiAssistants(r){await this.setSetting("vapi_assistants",r,!1)}async setMaxConcurrentCalls(r){await this.setSetting("max_concurrent_calls",r,!1)}async setDefaultUserRole(r){await this.setSetting("default_user_role",r,!1)}async setOrganizationName(r){await this.setSetting("organization_name",r,!1)}async setBillingEmail(r){await this.setSetting("billing_email",r,!1)}async setComplianceSettings(r){await this.setSetting("compliance_settings",r,!1)}async getSettingWithFallback(r,s=null){var a;try{return(await this.getSetting(r)).value}catch(n){if(((a=n.response)==null?void 0:a.status)===404)return s;throw n}}async hasCapability(r){try{const s=await this.getSettings();switch(r){case"vapi_integration":return!!s.settings.vapi_api_key;case"webhooks":return!!s.settings.vapi_webhook_secret;case"phone_numbers":return Array.isArray(s.settings.vapi_phone_numbers)&&s.settings.vapi_phone_numbers.length>0;case"assistants":return Array.isArray(s.settings.vapi_assistants)&&s.settings.vapi_assistants.length>0;default:return!1}}catch(s){return console.error(`Error checking capability ${r}:`,s),!1}}async getCampaignDefaults(){const[r,s,a,n]=await Promise.all([this.getSettingWithFallback("max_concurrent_calls",10),this.getSettingWithFallback("default_working_hours",{enabled:!0,timezone:"America/New_York",hours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}}),this.getSettingWithFallback("compliance_settings",{tcpa_enabled:!0,do_not_call_enabled:!0,recording_consent:!0}),this.getVapiCredentials()]);return{maxConcurrentCalls:r,defaultWorkingHours:s,complianceSettings:a,vapiCredentials:n}}async testVapiConnection(){var r,s,a;try{return(await Ft.post("/vapi/test-connection")).data}catch(n){return{success:!1,message:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.message)||"Connection test failed",details:(a=n.response)==null?void 0:a.data}}}async syncVapiResources(){try{const r=await Ft.post("/vapi/sync-resources");return r.data.phoneNumbers&&await this.setVapiPhoneNumbers(r.data.phoneNumbers),r.data.assistants&&await this.setVapiAssistants(r.data.assistants),r.data}catch(r){throw console.error("Error syncing VAPI resources:",r),r}}async exportSettings(){return(await this.getSettings()).settings}async importSettings(r,s=!1){const a={};for(const[n,i]of Object.entries(r))n.includes("api_key")||n.includes("secret")||n.includes("password")||(a[n]={value:i,encrypted:!1});await this.bulkUpdateSettings(a)}}const fx=new oje,lje=({onCampaignCreated:e,onCancel:r})=>{var rr,el,Xn;const[s,a]=p.useState(1),[n,i]=p.useState(""),[o,l]=p.useState("manual"),[d,m]=p.useState(""),[h,f]=p.useState(""),[g,y]=p.useState("later"),[w,v]=p.useState(null),[b,N]=p.useState(!1),[C,S]=p.useState("today"),[_,A]=p.useState("06:32 PM"),[T,E]=p.useState("Europe/Malta (GMT+2)"),[M,L]=p.useState([]),[H,O]=p.useState([]),[I,W]=p.useState([]),[V,U]=p.useState(!0),[$,R]=p.useState(5),[F,z]=p.useState(20),[K,B]=p.useState(!0),[Q,Ce]=p.useState(10),[Z,ne]=p.useState(1),[ze,Ae]=p.useState("smart"),[Re,de]=p.useState({}),[Se,Ee]=p.useState([]),[te,be]=p.useState({minCallDuration:60,autoAcceptScore:80,requireAllFields:!1,disqualifiers:[]}),[Te,Ue]=p.useState(!0),[oe,Ge]=p.useState("America/New_York"),[Ct,Tt]=p.useState(!0),[Nt,me]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Be,kt]=p.useState(!0),[Kt,_t]=p.useState([]),[wr,Kr]=p.useState(!0),[jr,vs]=p.useState(!0),[Tr,Ke]=p.useState(30),[Os,es]=p.useState(["US"]),[ms,pt]=p.useState(!0),[Sa,Rt]=p.useState(0),[$t,ie]=p.useState(!1),[ye,Fe]=p.useState(""),[it,vt]=p.useState([]),[Zt,wt]=p.useState([]),[ra,sa]=p.useState(!1),[aa,Oi]=p.useState(2),[Nr,bs]=p.useState(null),[na,jn]=p.useState(.18),[ws,Da]=p.useState(10),[Gt,Mi]=p.useState(null);p.useEffect(()=>{s>1?(ie(!0),s===2?Fe("rateLimiting"):s===3?Fe("qualificationCriteria"):s===4?Fe("retryLogic"):s===5?Fe("workingHours"):s===6?Fe("teamManagement"):s===7&&Fe("review")):(ie(!1),Fe(""))},[s]),p.useEffect(()=>{console.log("🔄 Assistants state updated:",I.length,"items"),I.length>0&&console.log("📋 First assistant:",I[0])},[I]),p.useEffect(()=>{console.log("🔄 Phone numbers state updated:",H.length,"items"),H.length>0&&console.log("📋 First phone number:",H[0])},[H]),p.useRef(!1);const{toast:zt}=cs(),tr=ak(),{userContext:ke}=ki();p.useEffect(()=>{Pt();const we=setTimeout(()=>{Ze()},500);return()=>clearTimeout(we)},[]);const Ze=async()=>{var $e,lt,ot,ur;const we=Date.now();console.log(`🔄 [${we}] Loading VAPI data for SimpleCampaignWizard...`);try{U(!0);try{const jt=await fetch("/api/health");console.log("🏥 Backend health check:",jt.ok?"OK":"FAILED")}catch{console.error("❌ Backend is not running! Start it with: cd apps/backend && pnpm dev"),zt({title:"Backend Not Running",description:"Please start the backend server to load VAPI data.",variant:"destructive"}),U(!1);return}try{console.log(`📞 [${we}] Fetching assistants...`);const jt=await tr.get("/vapi-data/assistants");console.log("✅ Direct assistants API response:",jt);const sr=jt.data.assistants||[];console.log(`✅ [${we}] Assistants extracted:`,sr),console.log(`✅ [${we}] Assistants length:`,sr.length),sr.length>0?(console.log(`✅ [${we}] Setting assistants state with`,sr.length,"items"),console.log("🤖 Assistants to set:",sr),W(sr)):(console.log(`⚠️ [${we}] No assistants data or empty array`),W([]))}catch(jt){console.error("❌ Failed to load assistants from API:",jt),W([]),zt({title:"Assistants Temporarily Unavailable",description:"The backend is being updated. Assistants will be available shortly.",variant:"default"}),(lt=($e=jt.response)==null?void 0:$e.data)!=null&&lt.requiresConfiguration&&zt({title:"VAPI Configuration Required",description:"Please add your VAPI API key in Organization Settings to load assistants.",variant:"default"})}await new Promise(jt=>setTimeout(jt,500));try{console.log("📱 Fetching phone numbers...");const jt=await tr.get("/vapi-data/phone-numbers");console.log("✅ Direct API response:",jt);const sr=jt.data.phoneNumbers||[];console.log("✅ Phone numbers extracted:",sr),console.log("✅ Phone numbers length:",sr.length),sr.length>0?(console.log("✅ Setting phone numbers state with",sr.length,"items"),console.log("📱 Phone numbers to set:",sr),O(sr),U(G=>!G),U(G=>!G)):(console.log("⚠️ No phone numbers data or empty array"),O([]))}catch(jt){console.error("❌ Failed to load phone numbers from API, trying Supabase:",jt);try{if(ke!=null&&ke.organization_id){const sr=await xi.getPhoneNumbers(ke.organization_id);if(console.log("✅ Loaded phone numbers from Supabase:",sr),sr&&sr.length>0){const G=sr.map(ve=>({id:ve.id,number:ve.number,friendlyName:ve.number,country:ve.country_code||"US"}));O(G)}else O([])}}catch(sr){console.error("❌ Failed to load from Supabase too:",sr),O([])}(ur=(ot=jt.response)==null?void 0:ot.data)!=null&&ur.requiresConfiguration&&zt({title:"VAPI Configuration Required",description:"Please add your VAPI API key in Organization Settings to load phone numbers.",variant:"default"})}console.log("📊 Final VAPI data state:",{assistants:I.length,phoneNumbers:H.length})}catch(jt){console.error("❌ Unexpected error loading VAPI data:",jt),zt({title:"Warning",description:"Failed to load VAPI data. Please check your configuration.",variant:"destructive"})}finally{U(!1)}},Pt=async()=>{var we;try{const $e=await fx.getCampaignDefaults();$e.maxConcurrentCalls&&Da($e.maxConcurrentCalls),(we=$e.defaultWorkingHours)!=null&&we.enabled&&(Ue(!0),$e.defaultWorkingHours.timezone&&Ge($e.defaultWorkingHours.timezone),$e.defaultWorkingHours.hours&&me($e.defaultWorkingHours.hours)),console.log("✅ Organization defaults loaded successfully")}catch($e){console.warn("⚠️ Could not load organization defaults, using built-in defaults:",$e),Da(5),z(20),Ue(!0)}};p.useEffect(()=>{s===7&&M.length>0&&It()},[s,M.length,aa,Nr,na,ws]);const It=()=>{const we=M.length,$e=ze==="basic"?2:ze==="smart"?3:5,lt=Te?8:24,ot=we*(1+$e),ur=ot*aa,sr=ot*aa/ws*1.1/60/lt,G=ur*na;let ve="healthy",Qt=0;Nr!==null&&(Nr<G*.5?(ve="critical",Qt=Math.ceil((G*1.2-Nr)/10)*10):Nr<G&&(ve="warning",Qt=Math.ceil((G*1.2-Nr)/10)*10)),Mi({totalAttempts:ot,totalMinutes:Math.round(ur),totalCost:Math.round(G*100)/100,campaignDays:Math.round(sr*10)/10,recommendedTopUp:Qt,balanceStatus:ve})},Ks={rateLimiting:{title:"📊 Rate Limiting Controls",description:"🛡️ Prevent carrier blocks and optimize delivery rates",content:`
## ⚡ What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

### 🎯 Why It Matters

**🏢 Carrier Protection**
- 📱 Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
- 🚨 Spam flags can result in your phone numbers being blocked or marked as suspicious
- 🤖 Rate limiting mimics human calling patterns to maintain good sender reputation

**⚙️ API Optimization**
- 🚫 Prevents hitting VAPI's API rate limits which could pause your campaign
- 📈 Distributes calls evenly over time for better system performance
- 🌐 Reduces network congestion and improves call quality

### 🎯 Recommended Settings

**🐌 Conservative Approach (Recommended for new accounts)**
- 📞 3-5 calls per minute
- ⏰ 15-25 calls per hour  
- 🔄 Lower concurrency (5-8 simultaneous calls)

**🚀 Aggressive Approach (For established accounts)**
- 📞 8-12 calls per minute
- ⏰ 40-60 calls per hour
- 🔄 Higher concurrency (10-15 simultaneous calls)

### 📊 Key Metrics

**📞 Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

**⏰ Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

**🔄 Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

**⏱️ Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

### ✨ Best Practices

✅ **🎯 Start Conservative**: Begin with lower limits and gradually increase based on performance
✅ **📊 Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
✅ **🌍 Respect Time Zones**: Combine with working hours controls for optimal results
✅ **🧪 Test Gradually**: Increase limits slowly to find your account's optimal rates

⚠️ **🚨 Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},qualificationCriteria:{title:"🎯 Lead Qualification Criteria",description:"🔍 Define what makes a qualified lead for your campaign",content:`
## 🎯 What is Lead Qualification?

Lead qualification helps you automatically identify and prioritize the most promising prospects from your calling campaigns. The AI analyzes call transcripts to detect specific qualification signals you define.

### 🏆 Why Lead Qualification Matters

**📈 Better ROI**
- 🎯 Focus follow-up efforts on most promising leads
- ⏰ Save time by auto-filtering unqualified prospects
- 💰 Increase conversion rates by 40-60%
- 🚀 Scale your sales process efficiently

**🤖 AI-Powered Detection**
- 🔍 Automatically analyzes call transcripts
- 🏷️ Tags leads based on qualification criteria
- 📊 Scores leads on multiple dimensions
- 🎨 Customizable to your specific needs

### 📋 Preset Qualification Fields

We provide **22 preset fields** across 9 categories that cover most common qualification scenarios:

**📅 Appointment & Follow-up**
- ✅ Appointment Booked (90% weight)
- 📞 Callback Requested (30% weight)
- 🖥️ Demo Requested (80% weight)

**🎯 Interest Level**
- 🔥 High Interest Expressed (70% weight)
- ❓ Asking Detailed Questions (50% weight)
- 💡 Use Case Mentioned (60% weight)

**⏰ Timeline**
- 🚨 Urgent Need (85% weight)
- 📅 Timeline Mentioned (40% weight)

**💰 Budget & Authority**
- 💵 Budget Mentioned (75% weight)
- 🎯 Budget Qualified (85% weight)
- 👔 Decision Maker (80% weight)
- 🏢 Authority Confirmed (40% weight)

**🔧 Pain Points**
- 😟 Pain Point Expressed (65% weight)
- 🎯 Problem Fit Confirmed (75% weight)

**🏆 Competitor Info**
- 🔄 Using Competitor (45% weight)
- 😞 Competitor Dissatisfaction (70% weight)

**📧 Contact Info**
- ✉️ Email Provided (35% weight)
- 📞 Best Time to Call (25% weight)
- 👥 Additional Contacts (30% weight)

**🏢 Company Info**
- 📏 Company Size Mentioned (40% weight)
- 🏭 Industry Mentioned (30% weight)
- 💼 Company Name Confirmed (20% weight)

### ⚖️ Scoring Weights Explained

Each field has a **scoring weight** (0-100%) that determines its importance:

- **90-100%**: Critical buying signals (appointments, budget qualified)
- **70-89%**: Strong indicators (high interest, pain points)
- **50-69%**: Important context (questions, use cases)
- **30-49%**: Supporting information (company details, timeline)
- **0-29%**: Nice to have (contact preferences)

### 🎨 Custom Fields

Beyond presets, you can add **unlimited custom fields** specific to your business:

**Examples:**
- 🏥 Healthcare: "Insurance Type", "Patient Volume"
- 🏗️ Construction: "Project Size", "Timeline to Break Ground"
- 💻 Software: "Current Tech Stack", "Integration Requirements"
- 🏪 Retail: "Store Locations", "Annual Revenue"

### 🏁 Winning Criteria

Define what combination of fields makes a "winning" lead:

**Minimum Call Duration**
- ⏱️ Set minimum seconds for qualification (default: 60s)
- 🚫 Short calls automatically disqualified
- 📞 Ensures meaningful conversation occurred

**Auto-Accept Score**
- 🎯 Leads scoring above threshold auto-qualify (default: 80%)
- ⚡ Speeds up lead processing
- 🏆 Focuses human review on borderline cases

**Required Fields**
- ✅ Must-have information for qualification
- 🚫 Missing required fields = automatic review
- 📋 Examples: Budget range, decision maker status

**Disqualifiers**
- 🚫 Automatic rejection triggers
- 💡 Examples: "Already a customer", "Not interested"
- ⚡ Saves time on dead-end leads

### 🔧 Configuration Tips

**🎯 Start Focused**
- Begin with 5-8 critical fields
- Add more as you learn what matters
- Quality over quantity

**📊 Monitor Performance**
- Track which fields best predict conversions
- Adjust weights based on results
- Remove fields that don't correlate

**🏢 Industry Alignment**
- Choose fields relevant to your sales process
- Consider your typical buyer journey
- Match your CRM requirements

**⚖️ Balance Automation**
- Higher auto-accept threshold = fewer false positives
- Lower threshold = more leads need review
- Find your sweet spot through testing

### 🚀 Advanced Strategies

**📈 Progressive Qualification**
- Start with basic fields
- Add detailed fields as campaign matures
- Refine based on conversion data

**🎯 Segment-Specific Criteria**
- Different criteria for enterprise vs SMB
- Industry-specific qualification
- Geographic considerations

**🤖 AI Learning**
- System improves detection over time
- Learns your specific language patterns
- Adapts to your market terminology

### ✅ Best Practices

✅ **Review Sample Calls**: Listen to calls that barely qualified/disqualified
✅ **Iterate Quickly**: Adjust criteria based on first 50-100 calls
✅ **Team Alignment**: Ensure sales team agrees with criteria
✅ **CRM Integration**: Map fields to your CRM for seamless handoff
✅ **Regular Audits**: Review criteria quarterly for relevance
      `},retryLogic:{title:"🔄 Retry Logic Enhancements",description:"🧠 Intelligent failure handling to maximize contact rates",content:`
## 🎯 Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

### 📋 The Four Failure Types

**1. 📞 No Answer**
- **💭 What It Means**: Phone rings but nobody picks up
- **🤔 Common Causes**: Contact is busy, away from phone, or screening calls
- **🎯 Best Strategy**: Try again when they might be available
- **✅ Recommended**: 2-3 attempts with 30-60 minute delays

**2. 🎙️ Voicemail**
- **💭 What It Means**: Call was answered by voicemail system
- **🤔 Common Causes**: Contact is unavailable but message was delivered
- **🎯 Best Strategy**: Give them time to respond before trying again
- **✅ Recommended**: 1-2 attempts with 1-2 hour delays

**3. ❌ Dead/Disconnected Line**
- **💭 What It Means**: Number is no longer in service or unreachable
- **🤔 Common Causes**: Changed numbers, disconnected service, or technical issues
- **🎯 Best Strategy**: Minimal retries since issue is usually permanent
- **✅ Recommended**: 1 attempt after 24 hours (for technical issues)

**4. ⏰ Busy Signal**
- **💭 What It Means**: Line is currently occupied by another call
- **🤔 Common Causes**: Contact is on another call
- **🎯 Best Strategy**: Quick retries since busy signals clear fast
- **✅ Recommended**: 3-4 attempts with 5-10 minute delays

### 🚀 Advanced Features

**📈 Exponential Backoff**
Gradually increases delays between retries:
- 🥇 Attempt 1: Wait 30 minutes
- 🥈 Attempt 2: Wait 60 minutes  
- 🥉 Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

**🛡️ Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

### ⚖️ Legal Compliance

**📋 Calling Best Practices**
- 🚫 Limits excessive calling to prevent harassment complaints
- 🔒 Respects consumer privacy and calling preferences
- 💼 Maintains professional calling practices

**🏛️ Industry Standards**
- 📞 Follows telecommunications best practices
- ⭐ Aligns with carrier requirements for good sender reputation
- 🔐 Prevents account suspension due to aggressive calling

### 📊 Performance Impact

**📈 Higher Contact Rates**
- 🎯 Well-timed retries can improve contact rates by 40-60%
- 🔄 Different failure types have different success probabilities
- ⏰ Smart timing maximizes availability windows

**⚡ Resource Efficiency**
- 🚫 Prevents wasted calls on permanently unreachable numbers
- 💰 Optimizes campaign duration and costs
- 🎯 Focuses efforts on contacts most likely to connect

### 💡 Configuration Tips

**🎯 Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

**📊 Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

**🔧 Adjust Gradually**: Make small changes and measure impact before major adjustments.

**👥 Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:"📞 Calls Per Minute Control",description:"⏱️ Manage call frequency to prevent carrier blocks",content:`
## 📊 Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

### ❓ Why This Matters

**🛡️ Carrier Protection**
- 📱 Phone carriers actively monitor calling patterns from business numbers
- 🚨 Too many calls in a short time triggers automatic spam detection systems
- 🚫 Once flagged, your phone number may be blocked or marked as suspicious
- ⏳ Recovery from carrier blocks can take weeks or months

**⚡ Optimal Call Distribution**
- 🌊 Spreading calls over time mimics natural human calling patterns
- 🏗️ Prevents overwhelming carrier infrastructure
- 📶 Maintains consistent call quality and connection rates
- ✅ Reduces the risk of calls being automatically rejected

### 🎯 Recommended Settings

**🐌 Conservative (1-3 calls/minute)**
- 🆕 Best for new phone numbers or accounts
- 🛡️ Lowest risk of carrier flags
- 🐢 Slower campaign completion but highest success rates
- 🏛️ Recommended for highly regulated industries

**⚖️ Moderate (4-6 calls/minute)**  
- ⚡ Good balance of speed and safety
- 🏢 Suitable for established phone numbers
- 📊 Most commonly used setting across industries
- 🎯 Good starting point for most campaigns

**🚀 Aggressive (7-12 calls/minute)**
- ⭐ Only for well-established, high-reputation numbers
- 👀 Requires careful monitoring of delivery rates
- ⏰ Best for time-sensitive campaigns
- ⚠️ Higher risk but faster completion

### 🔧 Technical Implementation

The system enforces this limit by:
- 🗂️ Queuing calls when the limit is reached
- 📊 Distributing calls evenly across the minute window
- 🔄 Automatically adjusting for any failed or rejected calls
- 📈 Providing real-time monitoring of call rates

### 🚨 Warning Signs

**🔻 Reduce your rate immediately if you notice:**
- 📉 Sudden drops in answer rates (below 15-20%)
- ❌ Increased "failed to connect" errors
- 📧 Calls going straight to voicemail more frequently
- 😡 Recipients reporting they never received calls

### ✨ Best Practices

✅ **🎯 Start Low**: Begin with 3-5 calls/minute for new numbers
✅ **👀 Monitor Closely**: Watch delivery rates daily for first week
✅ **📈 Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
✅ **📝 Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:"⏰ Calls Per Hour Limit",description:"📊 Set hourly call volume caps for sustainable campaigns",content:`
## ⏰ Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

### 🔧 How It Works

**📊 Hierarchical Limiting**
- 🔗 The system respects BOTH per-minute and per-hour limits
- ⏸️ Whichever limit is reached first will pause calling
- 💡 Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
- 🛡️ Provides multiple layers of protection against over-calling

**🔄 Rolling Window**
- ⏱️ Calculated on a rolling 60-minute basis, not fixed hours
- 📊 If you made 80 calls in the past hour, only 20 more are allowed
- 🔄 Automatically resets as older calls fall outside the window
- 📈 Ensures consistent, sustainable calling rates

### 🎯 Strategic Applications

**⏰ Campaign Duration Control**
- 🐢 Lower hourly limits extend campaign duration
- 🚀 Higher limits complete campaigns faster
- 🎛️ Useful for managing resource allocation across multiple campaigns
- ⚖️ Helps balance speed vs. deliverability

**📋 Compliance Requirements**
- 🏛️ Some industries have specific hourly calling limits
- 📝 Helps maintain compliance with internal policies
- 🔍 Provides audit trail for regulatory requirements
- ⚖️ Supports fair calling practices

### 📊 Recommended Ranges

**🐌 Low Volume (20-50 calls/hour)**
- 💎 Ideal for high-value, personalized outreach
- 📈 Maximum deliverability and answer rates
- 🎯 Best for small, targeted contact lists
- 🏢 Suitable for premium or enterprise prospects

**⚖️ Medium Volume (60-120 calls/hour)**
- ⚡ Balanced approach for most business campaigns
- 🎯 Good mix of speed and quality
- 🏢 Suitable for established phone numbers
- 📊 Most common setting for B2B outreach

**🚀 High Volume (150-300 calls/hour)**
- 🏭 For large-scale campaigns with proven infrastructure
- ⭐ Requires excellent phone number reputation
- ⏰ Best for time-sensitive or promotional campaigns
- 👀 Needs constant monitoring and optimization

### 🔗 Interaction with Other Settings

**📊 Per-Minute Relationship**
- 🧮 5 calls/minute = 300 theoretical calls/hour
- 🚫 Hour limit of 100 would cap actual volume
- 🤖 System automatically calculates effective rates
- 📈 Displayed in real-time performance estimates

**🔄 Concurrent Calls Impact**
- 📈 Higher concurrency can help achieve hourly targets
- ⚖️ Must balance with carrier capacity
- 💻 More concurrent calls = higher resource usage
- 💰 Affects overall campaign cost structure

### 📊 Monitoring and Optimization

**📈 Key Metrics to Watch**
- 📊 Actual calls per hour vs. target
- 📶 Answer rate consistency throughout day
- 💰 Cost per successful connection
- ⏰ Overall campaign completion time

**🎯 Adjustment Strategies**
- 🎯 Start with conservative limits and increase gradually
- 👀 Monitor answer rates - drops indicate limits too high
- ⏰ Consider time-of-day variations in success rates
- 📝 Document optimal settings for future campaigns

### 🔧 Troubleshooting

**🛑 If calls stop before hourly limit:**
- 🔍 Check if per-minute limit is more restrictive
- 📋 Verify sufficient contacts remain in queue
- ⏰ Ensure working hours settings aren't blocking calls
- ⚠️ Check for system errors or API limits

**📉 If performance degrades:**
- 🔻 Reduce hourly limit by 20-30%
- 👀 Monitor recovery of answer rates
- 📅 Consider spreading calls across more hours
- 📊 Review carrier feedback and delivery reports
      `},concurrentCalls:{title:"🔄 Concurrent Calls Limit",description:"⚡ Control simultaneous active calls for optimal performance",content:`
## 🔄 Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

### 🧠 Understanding Concurrency

**🔄 What "Concurrent" Means**
- 🕐 Number of calls happening at exactly the same time
- 📞 Includes dialing, ringing, connected, and wrapping up calls
- ➡️ Different from calls per minute (which is about initiation rate)
- 🎛️ Affects both system resources and carrier load

**💻 System Resource Impact**
- 🖥️ Each concurrent call uses server resources
- 📈 Higher concurrency = more CPU, memory, and bandwidth
- ⚠️ Too high can degrade call quality for all calls
- ⚖️ Must balance speed with system stability

### 🔧 Technical Considerations

**🌐 Network Capacity**
- 📡 Your internet connection has finite bandwidth
- 🎵 Each call typically uses 64-100 kbps for audio
- 📊 10 concurrent calls ≈ 1 Mbps bandwidth minimum
- 📶 Poor connections may require lower concurrency

**🔌 VAPI API Limits**
- 🏢 VAPI may have account-specific concurrency limits
- ❌ Exceeding limits results in rejected call attempts
- 🔍 Check your account tier for maximum allowed
- ⬆️ Higher tiers typically support more concurrent calls

**📞 Carrier Relationships**
- 🏢 Some carriers limit simultaneous calls per number
- 💼 Business lines typically support 5-20+ concurrent calls
- 🏠 Residential lines may be limited to 1-3
- 🚫 Carrier-specific limits override system settings

### 🎯 Recommended Settings

**🐌 Conservative (1-5 concurrent)**
- 🆕 Best for new accounts or limited infrastructure
- ⭐ Highest call quality and reliability
- 🐢 Slower campaign completion
- 🛡️ Safest option for testing and optimization

**⚖️ Moderate (6-12 concurrent)**
- ⚡ Good balance for most business applications
- 🏢 Suitable for established systems
- 🎯 Reasonable speed with maintained quality
- 📊 Most common setting for professional campaigns

**🚀 Aggressive (15-25+ concurrent)**
- 🏭 For high-capacity systems and urgent campaigns
- 💪 Requires robust infrastructure and monitoring
- ⚡ Maximum speed but higher complexity
- 🎯 Best for experienced users with proven setups

### 📊 Impact on Campaign Performance

**🚀 Speed Benefits**
- ⚡ Higher concurrency = faster campaign completion
- 📈 More calls attempted per minute
- ⏰ Better utilization of available calling windows
- 📊 Improved overall efficiency

**⚖️ Quality Trade-offs**
- 💻 System resources spread across more calls
- 📡 Potential for increased latency or audio issues
- 🔧 More complex error handling and recovery
- ⚠️ Higher chance of simultaneous failures

### 🎯 Optimization Strategies

**🎯 Finding Your Sweet Spot**
1. 🎯 Start with 5-8 concurrent calls
2. 👀 Monitor call quality and connection rates
3. 📈 Gradually increase if performance remains stable
4. 🔻 Back down immediately if quality degrades

**📊 Performance Monitoring**
- 📶 Track connection success rates
- 🎵 Monitor audio quality reports
- ⚠️ Watch for timeout or error increases
- ⏱️ Measure actual vs. expected campaign duration

### 🔧 Troubleshooting Common Issues

**❌ Calls Failing to Connect**
- ⚠️ May indicate concurrency set too high
- 🔍 Check VAPI account limits
- 🌐 Verify internet bandwidth capacity
- 📞 Review carrier-specific restrictions

**🎵 Poor Audio Quality**
- 💻 Often caused by resource contention
- 🔻 Reduce concurrent calls by 20-30%
- 🌐 Check network congestion
- ⬆️ Consider upgrading internet connection

**🐌 Slower Than Expected Performance**
- 🎛️ System may be throttling due to resource limits
- 📊 Concurrent setting might be lower than displayed  
- 💻 Check for background processes using resources
- ✅ Verify all calls are actually being initiated

### ⚙️ Advanced Configuration

**⏰ Time-Based Adjustments**
- 📈 Higher concurrency during peak efficiency hours
- 📉 Lower during known network congestion periods
- 🤖 Automatic scaling based on system performance
- 🕐 Integration with working hours for optimal timing

**🎯 Campaign-Specific Settings**
- ⬆️ Higher for simple, short calls
- ⬇️ Lower for complex, longer conversations
- 👥 Adjust based on target audience availability
- 🎯 Consider call outcome requirements

### ✨ Best Practices

✅ **👀 Monitor Continuously**: Watch performance metrics in real-time
✅ **📈 Test Incrementally**: Increase concurrency slowly with monitoring
✅ **📝 Document Optimal Settings**: Record best configurations for reuse
✅ **⏰ Plan for Peak Times**: Account for varying system loads throughout day
✅ **🔄 Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:"⏱️ Delay Between Calls",description:"⏰ Set minimum wait time between consecutive call attempts",content:`
## ⏱️ Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

### 🎯 Purpose and Benefits

**🤖 Natural Calling Patterns**
- 👨 Human agents naturally have small pauses between calls
- 🕐 Even 1-2 second delays help mimic human behavior
- 🚫 Prevents the "machine gun" calling pattern that carriers flag
- ✅ Creates more realistic call timing for better acceptance

**🔧 System Stability**
- ⏰ Gives the system time to properly close previous calls
- 🚫 Prevents resource conflicts between rapid successive calls
- 🧹 Allows proper cleanup of call sessions
- 📈 Reduces system errors and improves reliability

**📞 Carrier Relationship Management**
- 🤝 Even small delays show respect for carrier infrastructure
- 🚫 Prevents overwhelming carrier switching equipment
- 💼 Demonstrates professional calling practices
- ⭐ Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay ≈ 10-15% reduction in call volume
- 5-second delay ≈ 25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

### ✨ Best Practices

✅ **🎯 Start Conservative**: Begin with 1-2 second delays
✅ **📊 Monitor Answer Rates**: Track improvements vs. speed loss
✅ **🏢 Industry Appropriate**: Adjust for your target audience expectations
✅ **📝 Document Optimal Settings**: Record best delays for different campaign types
✅ **🔄 Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:"🌍 Working Hours & Timezone Management",description:"⏰ Timezone-aware scheduling for compliance and better results",content:`
## 🌍 Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

### ❓ Why Timezone Management Matters

**🌟 Professional Standards**
- **📋 Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- **🌍 Regional Considerations**: Different regions may have varying acceptable calling times
- **💼 Business Impact**: Poor timing can damage your brand reputation

**📈 Better Results**
- **📞 Higher Answer Rates**: People are more likely to answer during business hours
- **💼 Professional Image**: Respecting time zones shows consideration
- **😊 Reduced Complaints**: Appropriate timing reduces negative responses

### 🌐 Timezone Settings

**Default Campaign Timezone**
- 🕐 Set the primary timezone for your campaign
- 🎯 All calls will be scheduled according to this timezone
- 🏠 Perfect for local or regional campaigns
- 📊 Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

### ✨ Best Practices

**💼 Business Hours Guidelines**
- **🏢 B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- **🏠 B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- **🏥 Healthcare**: Avoid meal times (12-1 PM) and shift changes
- **🛍️ Retail**: Consider evening hours when customers are home

**🎯 Contact Strategy Tips**
✅ **🕐 Respect reasonable calling hours** to maintain good relationships
✅ **🌅 Avoid early mornings and late evenings** for better contact rates
✅ **🌍 Consider cultural differences** in international campaigns
✅ **📝 Honor customer preferences** and communication requests

**📊 Performance Optimization**
- **🧪 Test different time windows** to find optimal contact rates
- **📈 Analyze answer rate patterns** by time of day and day of week
- **📅 Adjust for seasonal variations** in contact availability
- **🏢 Consider industry-specific schedules** (healthcare, education, etc.)

### 🌍 Common Time Zones

**🇺🇸 United States**
- 🕐 Eastern Time (ET): UTC-5/-4
- 🕐 Central Time (CT): UTC-6/-5  
- 🕐 Mountain Time (MT): UTC-7/-6
- 🕐 Pacific Time (PT): UTC-8/-7

**🌍 International**
- 🇬🇧 GMT (London): UTC+0/+1
- 🇫🇷 CET (Paris): UTC+1/+2
- 🇯🇵 JST (Tokyo): UTC+9
- 🇦🇺 AEDT (Sydney): UTC+10/+11

### ⚙️ Technical Implementation

The system automatically:
- 🔍 Filters contacts based on current local time
- 📅 Schedules calls for appropriate hours
- 🔄 Handles timezone conversions
- 🌄 Manages DST transitions
- 🎄 Respects holiday calendars
- 📋 Maintains compliance records
      `},teamManagement:{title:"👥 Team Management",description:"🤝 Collaborate with team members on campaign execution",content:`
## 🎯 What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

### 🏆 **Team Roles:**

**👑 Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

**🛡️ Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

**⚡ Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

**👁️ Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

### ✨ **Key Benefits:**

- 📧 **Email Invitations:** Send secure invites with expiration
- 🔄 **Real-time Collaboration:** Changes sync instantly
- 🎚️ **Granular Permissions:** Control campaign and CRM access precisely
- 📊 **CRM Integration:** Team members get appropriate lead access
- 🎯 **Lead Assignment:** Assign specific leads to team members
- 📈 **Audit Trail:** Track all team and lead changes
- 🚀 **Easy Onboarding:** One-click team member setup

### 💡 **Best Practices:**

- 🎯 Assign roles based on responsibility levels
- 📧 Use business email addresses for invitations
- 🔐 Limit CRM access to necessary leads only
- 🎯 Use "Assigned Only" for focused lead management
- 🔄 Review team access and lead assignments regularly
- 📋 Document role responsibilities and CRM permissions clearly
      `},review:{title:"📊 Campaign Review & Estimates",description:"💰 Pre-launch cost and timeline analysis",content:`
## 🎯 What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

### 📈 **Key Metrics Calculated:**

**⏱️ Campaign Timeline:**
- Total call attempts (leads × retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

**💵 Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

**🔋 Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

### 🧮 **Calculation Formulas:**

**Total Attempts** = Leads × (1 + Retry Attempts)
**Total Minutes** = Total Attempts × Avg Call Duration
**Campaign Days** = Total Minutes ÷ (Concurrent Calls × Working Hours × 60)
**Total Cost** = Total Minutes × Cost per Minute

### ⚡ **Key Factors:**

- 📞 **Average Call Duration:** Default 2 minutes (adjustable)
- 🔄 **Concurrent Calls:** Based on Vapi plan (10 default)
- 🔁 **Retry Logic:** Impacts total attempts significantly
- ⏰ **Working Hours:** Affects campaign timeline
- 💳 **Credit Balance:** Determines if top-up needed

### 💡 **Best Practices:**

- 🎯 Review all estimates before launching
- 💰 Maintain 20% buffer in credit balance
- 📊 Use historical data for accurate duration
- 🔄 Adjust concurrency for optimal throughput
- 📈 Monitor actual vs. estimated costs
- 🚨 Set up balance alerts in Vapi dashboard
      `}},Ms=we=>{Fe(we),ie(!0)},Jn=()=>{const we=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,$e=new Blob([we],{type:"text/csv"}),lt=window.URL.createObjectURL($e),ot=document.createElement("a");ot.href=lt,ot.download="campaign-template.csv",document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),window.URL.revokeObjectURL(lt)},La=we=>{var lt;const $e=(lt=we.target.files)==null?void 0:lt[0];if($e&&$e.type==="text/csv"){v($e);const ot=new FileReader;ot.onload=ur=>{var Qt,Cr;const sr=((Qt=ur.target)==null?void 0:Qt.result).split(`
`),G=((Cr=sr[0])==null?void 0:Cr.split(",").map(vr=>vr.trim()))||[],ve=sr.slice(1).filter(vr=>vr.trim()).map(vr=>{const ia=vr.split(",").map(Qn=>Qn.trim()),en={};return G.forEach((Qn,_d)=>{en[Qn]=ia[_d]||""}),en});L(ve)},ot.readAsText($e)}else zt({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},Nn=()=>{if(s===1){if(!n||!d||!h||!w){zt({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}a(2)}else s===2?a(3):s===3?a(4):s===4?a(5):s===5?a(6):s===6&&a(7)},Za=()=>{s===7?a(6):s===6?a(5):s===5?a(4):s===4?a(3):s===3?a(2):s===2?a(1):r()},Zo=async()=>{var we,$e,lt,ot;console.log("🚀 Starting campaign creation..."),console.log("Campaign data:",{name:n,phoneNumber:d,assistant:h,csvFile:w==null?void 0:w.name,whenToSend:g}),N(!0);try{let ur={vapiCredentials:null,maxConcurrentCalls:ws||5,complianceSettings:null};try{ur=await fx.getCampaignDefaults(),console.log("✅ Got organization defaults:",ur)}catch(Cr){console.warn("⚠️ Could not get organization defaults, using fallbacks:",Cr)}const sr=[{id:"current-user",email:"user@example.com",role:"owner",status:"active",firstName:"Current",lastName:"User",joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...it];let G;if(M.length>0){const Cr=Object.keys(M[0]),vr=M.map(ia=>Cr.map(en=>ia[en]||"").join(","));G=[Cr.join(","),...vr].join(`
`)}const ve={name:n,assistantId:h,phoneNumberId:d,csvData:G,sendTiming:g,settings:{callsPerHour:K?F:60,callsPerMinute:K?$:10,retryAttempts:2,timeZone:oe,workingHours:{enabled:Te,start:"09:00",end:"17:00",defaultTimezone:oe,useContactTimezone:Ct,schedule:Nt,excludeHolidays:Be,customHolidays:Kt,respectDST:wr},rateLimiting:{enabled:K,callsPerMinute:$,callsPerHour:F,customConcurrency:ws,delayBetweenCalls:Z},retryStrategy:ze},qualificationCriteria:{selectedFields:Re,customFields:Se,winningCriteria:te},teamManagement:{enabled:ra||sr.length>1,members:sr,invitations:Zt},organizationSettings:{vapiCredentials:ur.vapiCredentials,maxConcurrentCalls:ur.maxConcurrentCalls,complianceSettings:ur.complianceSettings}};console.log("📡 Calling createCampaign with data:",ve);const Qt=await Ka.createCampaign(ve);console.log("✅ Campaign created:",Qt),g==="now"&&await Ka.startCampaign(Qt.id),zt({title:"Campaign created",description:`Campaign "${n}" has been created successfully!`}),e(Qt)}catch(ur){console.error("❌ Error creating campaign:",ur),console.error("Error details:",{message:ur.message,response:(we=ur.response)==null?void 0:we.data,status:($e=ur.response)==null?void 0:$e.status});const jt=((ot=(lt=ur.response)==null?void 0:lt.data)==null?void 0:ot.message)||ur.message||"Failed to create campaign. Please try again.";zt({title:"Error",description:jt,variant:"destructive"})}finally{N(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Za,className:"text-gray-400 hover:text-white",children:t.jsx(ec,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["New campaign ",s===2&&"- Rate Limiting",s===3&&"- Qualification Criteria",s===4&&"- Retry Logic",s===5&&"- Working Hours",s===6&&"- Team Management",s===7&&"- Review & Launch"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${s===1||$t?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(_e,{id:"campaign-name",value:n,onChange:we=>i(we.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${o==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>l("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="manual"?"border-emerald-500":"border-gray-600"}`,children:o==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(ee,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(at,{value:d,onValueChange:m,disabled:V,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:V?"Loading...":"Select"})}),t.jsx(st,{className:"bg-gray-800 border-gray-700",children:H.length===0?t.jsx(se,{value:"none",disabled:!0,children:"No phone numbers available"}):H.map(we=>t.jsxs(se,{value:we.id,children:[we.number," ",we.name?`(${we.name})`:""]},we.id))})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(q,{variant:"link",onClick:Jn,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Fl,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),w?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:w.name})]}),t.jsx("button",{onClick:()=>{v(null),L([])},className:"text-gray-400 hover:text-white",children:t.jsx(St,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:La,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs("button",{type:"button",onClick:async()=>{console.log("🔧 Manual reload clicked"),console.log("🔧 Current assistants state:",I),console.log("🔧 Current phoneNumbers state:",H),console.log("🔧 Dev auth enabled:","false"),await Ze()},className:"text-xs text-emerald-500 hover:text-emerald-400",children:["Reload (",I.length,")"]})]}),t.jsxs(at,{value:h,onValueChange:f,disabled:V,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:V?"Loading...":"Select"})}),t.jsx(st,{className:"bg-gray-800 border-gray-700",children:(console.log("🎨 Rendering assistants dropdown:",{assistantsLength:I.length,assistants:I,loadingVapiData:V}),I.length===0?t.jsx(se,{value:"none",disabled:!0,children:"No assistants available"}):I.map(we=>t.jsx(se,{value:we.id,children:we.name},we.id)))})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="now"?"border-emerald-500":"border-gray-600"}`,children:g==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="later"?"border-emerald-500":"border-gray-600"}`,children:g==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),g==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(at,{value:C,onValueChange:S,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"tomorrow",children:"Tomorrow"}),t.jsx(se,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(_e,{type:"text",value:_,onChange:we=>A(we.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(at,{value:T,onValueChange:E,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(se,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(se,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(se,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(se,{value:"Europe/London",children:"London (GMT)"}),t.jsx(se,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),g==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),s===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(as,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(as,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>Ms("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Xr,{checked:K,onCheckedChange:B})]}),K&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>Ms("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[$," calls/min"]})]}),t.jsx(Ln,{value:[$],onValueChange:we=>R(we[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>Ms("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[F," calls/hr"]})]}),t.jsx(Ln,{value:[F],onValueChange:we=>z(we[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>Ms("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[Q," concurrent"]})]}),t.jsx(Ln,{value:[Q],onValueChange:we=>Ce(we[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>Ms("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[Z,"s delay"]})]}),t.jsx(Ln,{value:[Z],onValueChange:we=>ne(we[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ba,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min($*60,F)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",M.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:M.length>0?`~${Math.max(1,Math.ceil(M.length/Math.min($*60,F)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[$,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:Q})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[Z,"s"]})]})]})})]}),($>10||Q>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(va,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),s===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(lr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lead Qualification Criteria"})]}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Define what makes a qualified lead for your campaign. AI will analyze call transcripts to detect these signals."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:"Preset Qualification Fields"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[Object.keys(Re).filter(we=>Re[we].enabled).length," selected"]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{category:"appointment",label:"Appointments",icon:_s,count:3},{category:"interest",label:"Interest Level",icon:lr,count:3},{category:"timeline",label:"Timeline",icon:Mt,count:2},{category:"budget",label:"Budget",icon:Fr,count:4},{category:"pain_point",label:"Pain Points",icon:Yt,count:2},{category:"company",label:"Company Info",icon:cr,count:3}].map(we=>{var $e,lt,ot,ur;return t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(we.icon,{className:"w-4 h-4 text-emerald-400"}),t.jsx("h4",{className:"text-sm font-medium text-white",children:we.label}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",we.count,")"]})]}),t.jsxs("div",{className:"space-y-2",children:[we.category==="appointment"&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:(($e=Re.appointment_booked)==null?void 0:$e.enabled)||!1,onChange:jt=>de({...Re,appointment_booked:{enabled:jt.target.checked,weight:90}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Appointment Booked"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((lt=Re.demo_requested)==null?void 0:lt.enabled)||!1,onChange:jt=>de({...Re,demo_requested:{enabled:jt.target.checked,weight:80}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Demo Requested"})]})]}),we.category==="interest"&&t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((ot=Re.high_interest)==null?void 0:ot.enabled)||!1,onChange:jt=>de({...Re,high_interest:{enabled:jt.target.checked,weight:70}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"High Interest"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:((ur=Re.asking_questions)==null?void 0:ur.enabled)||!1,onChange:jt=>de({...Re,asking_questions:{enabled:jt.target.checked,weight:50}}),className:"rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500"}),t.jsx("span",{className:"text-sm text-gray-300",children:"Asking Questions"})]})]})]})]},we.category)})})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Winning Lead Criteria"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"minCallDuration",className:"text-gray-300 text-sm mb-2",children:"Minimum Call Duration (seconds)"}),t.jsx(_e,{id:"minCallDuration",type:"number",value:te.minCallDuration,onChange:we=>be({...te,minCallDuration:parseInt(we.target.value)||60}),className:"bg-gray-950 border-gray-700 text-white"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calls shorter than this are auto-disqualified"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"autoAcceptScore",className:"text-gray-300 text-sm mb-2",children:"Auto-Accept Score (%)"}),t.jsx(_e,{id:"autoAcceptScore",type:"number",value:te.autoAcceptScore,onChange:we=>be({...te,autoAcceptScore:parseInt(we.target.value)||80}),className:"bg-gray-950 border-gray-700 text-white"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leads scoring above this auto-qualify"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300 text-sm mb-2",children:"Disqualifier Keywords"}),t.jsx(_e,{type:"text",placeholder:"e.g., not interested, already a customer, competitor",className:"bg-gray-950 border-gray-700 text-white",onKeyPress:we=>{if(we.key==="Enter"){const $e=we.currentTarget.value.trim();$e&&(be({...te,disqualifiers:[...te.disqualifiers,$e]}),we.currentTarget.value="")}}}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:te.disqualifiers.map((we,$e)=>t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-500/10 text-red-400",children:[we,t.jsx("button",{onClick:()=>be({...te,disqualifiers:te.disqualifiers.filter((lt,ot)=>ot!==$e)}),className:"ml-1 hover:text-red-300",children:t.jsx(St,{className:"w-3 h-3"})})]},$e))})]})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-medium text-white",children:"Custom Fields"}),t.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{Ee([...Se,{id:Date.now().toString(),name:"",weight:50,keywords:[]}])},className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Add Custom Field"]})]}),Se.length===0?t.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No custom fields added yet. Add fields specific to your business."}):t.jsx("div",{className:"space-y-3",children:Se.map((we,$e)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(_e,{placeholder:"Field name",value:we.name,onChange:lt=>{const ot=[...Se];ot[$e].name=lt.target.value,Ee(ot)},className:"flex-1 bg-gray-950 border-gray-700 text-white"}),t.jsx(_e,{type:"number",placeholder:"Weight",value:we.weight,onChange:lt=>{const ot=[...Se];ot[$e].weight=parseInt(lt.target.value)||50,Ee(ot)},className:"w-20 bg-gray-950 border-gray-700 text-white"}),t.jsx("button",{onClick:()=>Ee(Se.filter((lt,ot)=>ot!==$e)),className:"p-2 text-gray-400 hover:text-red-400",children:t.jsx(St,{className:"w-4 h-4"})})]},we.id))})]})]}),s===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(lr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(lr,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>Ms("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs($l,{value:ze,onValueChange:we=>Ae(we),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:"🎯 Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:"🧠 Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:"🛡️ Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(lr,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",ze==="basic"&&"Basic (1-2 retries)",ze==="smart"&&"Smart (3-5 retries) - Recommended",ze==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),s===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ea,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Ea,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>Ms("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Xr,{checked:Te,onCheckedChange:Ue})]}),Te&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(_s,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(Nt).map(([we,$e])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Xr,{checked:$e.enabled,onCheckedChange:lt=>me(ot=>({...ot,[we]:{...ot[we],enabled:lt}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:we}),$e.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(_e,{type:"text",value:$e.start,onChange:lt=>me(ot=>({...ot,[we]:{...ot[we],start:lt.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(_e,{type:"text",value:$e.end,onChange:lt=>me(ot=>({...ot,[we]:{...ot[we],end:lt.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!$e.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},we))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(is,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(qt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Xr,{checked:Be,onCheckedChange:kt})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(qt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Xr,{checked:wr,onCheckedChange:Kr})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Ea,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",oe.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(Nt).filter(([we,$e])=>$e.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",Nt.monday.enabled?`${Nt.monday.start} - ${Nt.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Be&&"Holiday exclusion",wr&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(as,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(lr,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>Ms("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to VAPI based on their local time"})]})]}),t.jsx(Xr,{checked:ms,onCheckedChange:pt})]})}),ms&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Tr}),t.jsx(Ln,{value:[Tr],onValueChange:we=>Ke(we[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),Sa>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qt,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[Sa," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(_s,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(we=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Os.includes(we),onChange:$e=>{$e.target.checked?es(lt=>[...lt,we]):es(lt=>lt.filter(ot=>ot!==we))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:we})]},we))})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(_e,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:we=>{const $e=we.target.value.split(",").map(lt=>lt.trim()).filter(lt=>lt);_t($e)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(_s,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",oe]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",Os.length>0?Os.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Be&&"Holiday exclusion",wr&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),s===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(bt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(bt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>Ms("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Xr,{checked:ra,onCheckedChange:sa})]}),ra?t.jsx(wU,{teamMembers:it,invitations:Zt,onAddMember:async(we,$e)=>{const lt={id:`inv-${Date.now()}`,email:we,role:$e,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:$e==="manager"?"all_leads":$e==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:$e==="manager"||$e==="agent",delete:$e==="manager",export:$e==="manager"||$e==="agent",assign:$e==="manager"}};wt(ot=>[...ot,lt])},onRemoveMember:async we=>{vt($e=>$e.filter(lt=>lt.id!==we))},onUpdateRole:async(we,$e)=>{vt(lt=>lt.map(ot=>ot.id===we?{...ot,role:$e,crmAccessLevel:$e==="manager"?"all_leads":$e==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:$e==="manager"||$e==="agent",delete:$e==="manager",export:$e==="manager"||$e==="agent",assign:$e==="manager"}}:ot))},onResendInvitation:async we=>{console.log("Resending invitation:",we)},onCancelInvitation:async we=>{wt($e=>$e.filter(lt=>lt.id!==we))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(q,{onClick:()=>sa(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),ra&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(bt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",it.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",Zt.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",it.length+Zt.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),s===7&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ba,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(lr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",n]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:M.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:ze})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Te?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:it.length+Zt.length})]})]})]}),Gt&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Gt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Gt.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[Gt.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(ws/aa).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",ws]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Fr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(_e,{type:"number",value:aa,onChange:we=>Oi(Number(we.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",na.toFixed(2)]})]})]})]}),Gt&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",Gt.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Gt.totalMinutes.toLocaleString()," minutes × $",na,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(a0,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(_e,{type:"number",placeholder:"Enter your current balance",value:Nr||"",onChange:we=>bs(we.target.value?Number(we.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(Xi,{className:"w-3 h-3 ml-1"})]})]})]}),Nr!==null&&Gt&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${Gt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":Gt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[Gt.balanceStatus==="healthy"?t.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):Gt.balanceStatus==="warning"?t.jsx(va,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Yt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${Gt.balanceStatus==="healthy"?"text-emerald-300":Gt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:Gt.balanceStatus==="healthy"?"Balance Healthy":Gt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",Nr.toLocaleString()," | Required: $",Gt.totalCost.toLocaleString()," |",Gt.balanceStatus==="healthy"?` Surplus: $${(Nr-Gt.totalCost).toLocaleString()}`:` Deficit: $${(Gt.totalCost-Nr).toLocaleString()}`]})]}),Gt.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",Gt.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(Xi,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(qt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),Gt&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx($o,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:Gt.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",Gt.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:Gt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(q,{variant:"outline",onClick:Za,disabled:b,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:s===1?"Cancel":"Back"}),t.jsx(q,{onClick:s===7?Zo:Nn,disabled:b,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:s===7?b?"Creating...":"Launch campaign":"Next"})]})})]}),s===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:w&&M.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",M.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(M[0]||{}).map((we,$e)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:we},we))})}),t.jsx("tbody",{children:M.map((we,$e)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(we).map((lt,ot)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:lt,children:lt})},ot))},$e))})]})})}),M.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",M.length," contacts • Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),s>1&&t.jsx("div",{className:`${$t?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:$t&&ye&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(rr=Ks[ye])==null?void 0:rr.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(el=Ks[ye])==null?void 0:el.description})]}),t.jsx("button",{onClick:()=>ie(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(St,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(Xn=Ks[ye])==null?void 0:Xn.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/✅ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm">✅</span><span class="text-green-300 font-medium">$1</span></div>').replace(/⚠️ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm">⚠️</span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>ie(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})},cje=({campaign:e,onCampaignUpdated:r,onCancel:s})=>{var Mi,zt,tr;const[a,n]=p.useState(1),[i,o]=p.useState(e.name||""),[l,d]=p.useState(e.campaignType==="b2b"?"b2b":e.campaignType==="b2c"?"b2c":"manual"),[m,h]=p.useState(e.phoneNumber||""),[f,g]=p.useState(e.assistantName||""),[y,w]=p.useState("later"),[v,b]=p.useState(null),[N,C]=p.useState(!1),[S,_]=p.useState("today"),[A,T]=p.useState("06:32 PM"),[E,M]=p.useState("Europe/Malta (GMT+2)"),[L,H]=p.useState([]),[O,I]=p.useState(5),[W,V]=p.useState(20),[U,$]=p.useState(!0),[R,F]=p.useState(10),[z,K]=p.useState(1),[B,Q]=p.useState("smart"),[Ce,Z]=p.useState(!0),[ne,ze]=p.useState("America/New_York"),[Ae,Re]=p.useState(!0),[de,Se]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Ee,te]=p.useState(!0),[be,Te]=p.useState([]),[Ue,oe]=p.useState(!0),[Ge,Ct]=p.useState(!0),[Tt,Nt]=p.useState(30),[me,Be]=p.useState(["US"]),[kt,Kt]=p.useState(!0),[_t,wr]=p.useState(0),[Kr,jr]=p.useState(!1),[vs,Tr]=p.useState(""),[Ke,Os]=p.useState([]),[es,ms]=p.useState([]),[pt,Sa]=p.useState(!1),[Rt,$t]=p.useState(2),[ie,ye]=p.useState(null),[Fe,it]=p.useState(.18),[vt,Zt]=p.useState(10),[wt,ra]=p.useState(null);p.useEffect(()=>{a>1?(jr(!0),a===2?Tr("rateLimiting"):a===3?Tr("retryLogic"):a===4?Tr("workingHours"):a===5?Tr("teamManagement"):a===6&&Tr("review")):(jr(!1),Tr(""))},[a]);const{toast:sa}=cs();p.useEffect(()=>{aa()},[]);const aa=async()=>{try{const ke=await fx.getCampaignDefaults();Zt(ke.maxConcurrentCalls),ke.defaultWorkingHours.enabled&&(Z(!0),ze(ke.defaultWorkingHours.timezone),Se(ke.defaultWorkingHours.hours)),sa({title:"Organization Settings Loaded",description:"Campaign defaults loaded from organization settings"})}catch(ke){console.error("Error loading organization defaults:",ke)}};p.useEffect(()=>{a===6&&L.length>0&&Oi()},[a,L.length,Rt,ie,Fe,vt]);const Oi=()=>{const ke=L.length,Ze=B==="basic"?2:B==="smart"?3:5,Pt=Ce?8:24,It=ke*(1+Ze),Ks=It*Rt,Jn=It*Rt/vt*1.1/60/Pt,La=Ks*Fe;let Nn="healthy",Za=0;ie!==null&&(ie<La*.5?(Nn="critical",Za=Math.ceil((La*1.2-ie)/10)*10):ie<La&&(Nn="warning",Za=Math.ceil((La*1.2-ie)/10)*10)),ra({totalAttempts:It,totalMinutes:Math.round(Ks),totalCost:Math.round(La*100)/100,campaignDays:Math.round(Jn*10)/10,recommendedTopUp:Za,balanceStatus:Nn})},Nr={rateLimiting:{title:"📊 Rate Limiting Controls",description:"🛡️ Prevent carrier blocks and optimize delivery rates",content:`
## ⚡ What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

### 🎯 Why It Matters

**🏢 Carrier Protection**
- 📱 Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
- 🚨 Spam flags can result in your phone numbers being blocked or marked as suspicious
- 🤖 Rate limiting mimics human calling patterns to maintain good sender reputation

**⚙️ API Optimization**
- 🚫 Prevents hitting VAPI's API rate limits which could pause your campaign
- 📈 Distributes calls evenly over time for better system performance
- 🌐 Reduces network congestion and improves call quality

### 🎯 Recommended Settings

**🐌 Conservative Approach (Recommended for new accounts)**
- 📞 3-5 calls per minute
- ⏰ 15-25 calls per hour  
- 🔄 Lower concurrency (5-8 simultaneous calls)

**🚀 Aggressive Approach (For established accounts)**
- 📞 8-12 calls per minute
- ⏰ 40-60 calls per hour
- 🔄 Higher concurrency (10-15 simultaneous calls)

### 📊 Key Metrics

**📞 Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

**⏰ Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

**🔄 Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

**⏱️ Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

### ✨ Best Practices

✅ **🎯 Start Conservative**: Begin with lower limits and gradually increase based on performance
✅ **📊 Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
✅ **🌍 Respect Time Zones**: Combine with working hours controls for optimal results
✅ **🧪 Test Gradually**: Increase limits slowly to find your account's optimal rates

⚠️ **🚨 Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},retryLogic:{title:"🔄 Retry Logic Enhancements",description:"🧠 Intelligent failure handling to maximize contact rates",content:`
## 🎯 Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

### 📋 The Four Failure Types

**1. 📞 No Answer**
- **💭 What It Means**: Phone rings but nobody picks up
- **🤔 Common Causes**: Contact is busy, away from phone, or screening calls
- **🎯 Best Strategy**: Try again when they might be available
- **✅ Recommended**: 2-3 attempts with 30-60 minute delays

**2. 🎙️ Voicemail**
- **💭 What It Means**: Call was answered by voicemail system
- **🤔 Common Causes**: Contact is unavailable but message was delivered
- **🎯 Best Strategy**: Give them time to respond before trying again
- **✅ Recommended**: 1-2 attempts with 1-2 hour delays

**3. ❌ Dead/Disconnected Line**
- **💭 What It Means**: Number is no longer in service or unreachable
- **🤔 Common Causes**: Changed numbers, disconnected service, or technical issues
- **🎯 Best Strategy**: Minimal retries since issue is usually permanent
- **✅ Recommended**: 1 attempt after 24 hours (for technical issues)

**4. ⏰ Busy Signal**
- **💭 What It Means**: Line is currently occupied by another call
- **🤔 Common Causes**: Contact is on another call
- **🎯 Best Strategy**: Quick retries since busy signals clear fast
- **✅ Recommended**: 3-4 attempts with 5-10 minute delays

### 🚀 Advanced Features

**📈 Exponential Backoff**
Gradually increases delays between retries:
- 🥇 Attempt 1: Wait 30 minutes
- 🥈 Attempt 2: Wait 60 minutes  
- 🥉 Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

**🛡️ Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

### ⚖️ Legal Compliance

**📋 Calling Best Practices**
- 🚫 Limits excessive calling to prevent harassment complaints
- 🔒 Respects consumer privacy and calling preferences
- 💼 Maintains professional calling practices

**🏛️ Industry Standards**
- 📞 Follows telecommunications best practices
- ⭐ Aligns with carrier requirements for good sender reputation
- 🔐 Prevents account suspension due to aggressive calling

### 📊 Performance Impact

**📈 Higher Contact Rates**
- 🎯 Well-timed retries can improve contact rates by 40-60%
- 🔄 Different failure types have different success probabilities
- ⏰ Smart timing maximizes availability windows

**⚡ Resource Efficiency**
- 🚫 Prevents wasted calls on permanently unreachable numbers
- 💰 Optimizes campaign duration and costs
- 🎯 Focuses efforts on contacts most likely to connect

### 💡 Configuration Tips

**🎯 Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

**📊 Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

**🔧 Adjust Gradually**: Make small changes and measure impact before major adjustments.

**👥 Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:"📞 Calls Per Minute Control",description:"⏱️ Manage call frequency to prevent carrier blocks",content:`
## 📊 Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

### ❓ Why This Matters

**🛡️ Carrier Protection**
- 📱 Phone carriers actively monitor calling patterns from business numbers
- 🚨 Too many calls in a short time triggers automatic spam detection systems
- 🚫 Once flagged, your phone number may be blocked or marked as suspicious
- ⏳ Recovery from carrier blocks can take weeks or months

**⚡ Optimal Call Distribution**
- 🌊 Spreading calls over time mimics natural human calling patterns
- 🏗️ Prevents overwhelming carrier infrastructure
- 📶 Maintains consistent call quality and connection rates
- ✅ Reduces the risk of calls being automatically rejected

### 🎯 Recommended Settings

**🐌 Conservative (1-3 calls/minute)**
- 🆕 Best for new phone numbers or accounts
- 🛡️ Lowest risk of carrier flags
- 🐢 Slower campaign completion but highest success rates
- 🏛️ Recommended for highly regulated industries

**⚖️ Moderate (4-6 calls/minute)**  
- ⚡ Good balance of speed and safety
- 🏢 Suitable for established phone numbers
- 📊 Most commonly used setting across industries
- 🎯 Good starting point for most campaigns

**🚀 Aggressive (7-12 calls/minute)**
- ⭐ Only for well-established, high-reputation numbers
- 👀 Requires careful monitoring of delivery rates
- ⏰ Best for time-sensitive campaigns
- ⚠️ Higher risk but faster completion

### 🔧 Technical Implementation

The system enforces this limit by:
- 🗂️ Queuing calls when the limit is reached
- 📊 Distributing calls evenly across the minute window
- 🔄 Automatically adjusting for any failed or rejected calls
- 📈 Providing real-time monitoring of call rates

### 🚨 Warning Signs

**🔻 Reduce your rate immediately if you notice:**
- 📉 Sudden drops in answer rates (below 15-20%)
- ❌ Increased "failed to connect" errors
- 📧 Calls going straight to voicemail more frequently
- 😡 Recipients reporting they never received calls

### ✨ Best Practices

✅ **🎯 Start Low**: Begin with 3-5 calls/minute for new numbers
✅ **👀 Monitor Closely**: Watch delivery rates daily for first week
✅ **📈 Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
✅ **📝 Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:"⏰ Calls Per Hour Limit",description:"📊 Set hourly call volume caps for sustainable campaigns",content:`
## ⏰ Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

### 🔧 How It Works

**📊 Hierarchical Limiting**
- 🔗 The system respects BOTH per-minute and per-hour limits
- ⏸️ Whichever limit is reached first will pause calling
- 💡 Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
- 🛡️ Provides multiple layers of protection against over-calling

**🔄 Rolling Window**
- ⏱️ Calculated on a rolling 60-minute basis, not fixed hours
- 📊 If you made 80 calls in the past hour, only 20 more are allowed
- 🔄 Automatically resets as older calls fall outside the window
- 📈 Ensures consistent, sustainable calling rates

### 🎯 Strategic Applications

**⏰ Campaign Duration Control**
- 🐢 Lower hourly limits extend campaign duration
- 🚀 Higher limits complete campaigns faster
- 🎛️ Useful for managing resource allocation across multiple campaigns
- ⚖️ Helps balance speed vs. deliverability

**📋 Compliance Requirements**
- 🏛️ Some industries have specific hourly calling limits
- 📝 Helps maintain compliance with internal policies
- 🔍 Provides audit trail for regulatory requirements
- ⚖️ Supports fair calling practices

### 📊 Recommended Ranges

**🐌 Low Volume (20-50 calls/hour)**
- 💎 Ideal for high-value, personalized outreach
- 📈 Maximum deliverability and answer rates
- 🎯 Best for small, targeted contact lists
- 🏢 Suitable for premium or enterprise prospects

**⚖️ Medium Volume (60-120 calls/hour)**
- ⚡ Balanced approach for most business campaigns
- 🎯 Good mix of speed and quality
- 🏢 Suitable for established phone numbers
- 📊 Most common setting for B2B outreach

**🚀 High Volume (150-300 calls/hour)**
- 🏭 For large-scale campaigns with proven infrastructure
- ⭐ Requires excellent phone number reputation
- ⏰ Best for time-sensitive or promotional campaigns
- 👀 Needs constant monitoring and optimization

### 🔗 Interaction with Other Settings

**📊 Per-Minute Relationship**
- 🧮 5 calls/minute = 300 theoretical calls/hour
- 🚫 Hour limit of 100 would cap actual volume
- 🤖 System automatically calculates effective rates
- 📈 Displayed in real-time performance estimates

**🔄 Concurrent Calls Impact**
- 📈 Higher concurrency can help achieve hourly targets
- ⚖️ Must balance with carrier capacity
- 💻 More concurrent calls = higher resource usage
- 💰 Affects overall campaign cost structure

### 📊 Monitoring and Optimization

**📈 Key Metrics to Watch**
- 📊 Actual calls per hour vs. target
- 📶 Answer rate consistency throughout day
- 💰 Cost per successful connection
- ⏰ Overall campaign completion time

**🎯 Adjustment Strategies**
- 🎯 Start with conservative limits and increase gradually
- 👀 Monitor answer rates - drops indicate limits too high
- ⏰ Consider time-of-day variations in success rates
- 📝 Document optimal settings for future campaigns

### 🔧 Troubleshooting

**🛑 If calls stop before hourly limit:**
- 🔍 Check if per-minute limit is more restrictive
- 📋 Verify sufficient contacts remain in queue
- ⏰ Ensure working hours settings aren't blocking calls
- ⚠️ Check for system errors or API limits

**📉 If performance degrades:**
- 🔻 Reduce hourly limit by 20-30%
- 👀 Monitor recovery of answer rates
- 📅 Consider spreading calls across more hours
- 📊 Review carrier feedback and delivery reports
      `},concurrentCalls:{title:"🔄 Concurrent Calls Limit",description:"⚡ Control simultaneous active calls for optimal performance",content:`
## 🔄 Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

### 🧠 Understanding Concurrency

**🔄 What "Concurrent" Means**
- 🕐 Number of calls happening at exactly the same time
- 📞 Includes dialing, ringing, connected, and wrapping up calls
- ➡️ Different from calls per minute (which is about initiation rate)
- 🎛️ Affects both system resources and carrier load

**💻 System Resource Impact**
- 🖥️ Each concurrent call uses server resources
- 📈 Higher concurrency = more CPU, memory, and bandwidth
- ⚠️ Too high can degrade call quality for all calls
- ⚖️ Must balance speed with system stability

### 🔧 Technical Considerations

**🌐 Network Capacity**
- 📡 Your internet connection has finite bandwidth
- 🎵 Each call typically uses 64-100 kbps for audio
- 📊 10 concurrent calls ≈ 1 Mbps bandwidth minimum
- 📶 Poor connections may require lower concurrency

**🔌 VAPI API Limits**
- 🏢 VAPI may have account-specific concurrency limits
- ❌ Exceeding limits results in rejected call attempts
- 🔍 Check your account tier for maximum allowed
- ⬆️ Higher tiers typically support more concurrent calls

**📞 Carrier Relationships**
- 🏢 Some carriers limit simultaneous calls per number
- 💼 Business lines typically support 5-20+ concurrent calls
- 🏠 Residential lines may be limited to 1-3
- 🚫 Carrier-specific limits override system settings

### 🎯 Recommended Settings

**🐌 Conservative (1-5 concurrent)**
- 🆕 Best for new accounts or limited infrastructure
- ⭐ Highest call quality and reliability
- 🐢 Slower campaign completion
- 🛡️ Safest option for testing and optimization

**⚖️ Moderate (6-12 concurrent)**
- ⚡ Good balance for most business applications
- 🏢 Suitable for established systems
- 🎯 Reasonable speed with maintained quality
- 📊 Most common setting for professional campaigns

**🚀 Aggressive (15-25+ concurrent)**
- 🏭 For high-capacity systems and urgent campaigns
- 💪 Requires robust infrastructure and monitoring
- ⚡ Maximum speed but higher complexity
- 🎯 Best for experienced users with proven setups

### 📊 Impact on Campaign Performance

**🚀 Speed Benefits**
- ⚡ Higher concurrency = faster campaign completion
- 📈 More calls attempted per minute
- ⏰ Better utilization of available calling windows
- 📊 Improved overall efficiency

**⚖️ Quality Trade-offs**
- 💻 System resources spread across more calls
- 📡 Potential for increased latency or audio issues
- 🔧 More complex error handling and recovery
- ⚠️ Higher chance of simultaneous failures

### 🎯 Optimization Strategies

**🎯 Finding Your Sweet Spot**
1. 🎯 Start with 5-8 concurrent calls
2. 👀 Monitor call quality and connection rates
3. 📈 Gradually increase if performance remains stable
4. 🔻 Back down immediately if quality degrades

**📊 Performance Monitoring**
- 📶 Track connection success rates
- 🎵 Monitor audio quality reports
- ⚠️ Watch for timeout or error increases
- ⏱️ Measure actual vs. expected campaign duration

### 🔧 Troubleshooting Common Issues

**❌ Calls Failing to Connect**
- ⚠️ May indicate concurrency set too high
- 🔍 Check VAPI account limits
- 🌐 Verify internet bandwidth capacity
- 📞 Review carrier-specific restrictions

**🎵 Poor Audio Quality**
- 💻 Often caused by resource contention
- 🔻 Reduce concurrent calls by 20-30%
- 🌐 Check network congestion
- ⬆️ Consider upgrading internet connection

**🐌 Slower Than Expected Performance**
- 🎛️ System may be throttling due to resource limits
- 📊 Concurrent setting might be lower than displayed  
- 💻 Check for background processes using resources
- ✅ Verify all calls are actually being initiated

### ⚙️ Advanced Configuration

**⏰ Time-Based Adjustments**
- 📈 Higher concurrency during peak efficiency hours
- 📉 Lower during known network congestion periods
- 🤖 Automatic scaling based on system performance
- 🕐 Integration with working hours for optimal timing

**🎯 Campaign-Specific Settings**
- ⬆️ Higher for simple, short calls
- ⬇️ Lower for complex, longer conversations
- 👥 Adjust based on target audience availability
- 🎯 Consider call outcome requirements

### ✨ Best Practices

✅ **👀 Monitor Continuously**: Watch performance metrics in real-time
✅ **📈 Test Incrementally**: Increase concurrency slowly with monitoring
✅ **📝 Document Optimal Settings**: Record best configurations for reuse
✅ **⏰ Plan for Peak Times**: Account for varying system loads throughout day
✅ **🔄 Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:"⏱️ Delay Between Calls",description:"⏰ Set minimum wait time between consecutive call attempts",content:`
## ⏱️ Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

### 🎯 Purpose and Benefits

**🤖 Natural Calling Patterns**
- 👨 Human agents naturally have small pauses between calls
- 🕐 Even 1-2 second delays help mimic human behavior
- 🚫 Prevents the "machine gun" calling pattern that carriers flag
- ✅ Creates more realistic call timing for better acceptance

**🔧 System Stability**
- ⏰ Gives the system time to properly close previous calls
- 🚫 Prevents resource conflicts between rapid successive calls
- 🧹 Allows proper cleanup of call sessions
- 📈 Reduces system errors and improves reliability

**📞 Carrier Relationship Management**
- 🤝 Even small delays show respect for carrier infrastructure
- 🚫 Prevents overwhelming carrier switching equipment
- 💼 Demonstrates professional calling practices
- ⭐ Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay ≈ 10-15% reduction in call volume
- 5-second delay ≈ 25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

### ✨ Best Practices

✅ **🎯 Start Conservative**: Begin with 1-2 second delays
✅ **📊 Monitor Answer Rates**: Track improvements vs. speed loss
✅ **🏢 Industry Appropriate**: Adjust for your target audience expectations
✅ **📝 Document Optimal Settings**: Record best delays for different campaign types
✅ **🔄 Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:"🌍 Working Hours & Timezone Management",description:"⏰ Timezone-aware scheduling for compliance and better results",content:`
## 🌍 Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

### ❓ Why Timezone Management Matters

**🌟 Professional Standards**
- **📋 Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- **🌍 Regional Considerations**: Different regions may have varying acceptable calling times
- **💼 Business Impact**: Poor timing can damage your brand reputation

**📈 Better Results**
- **📞 Higher Answer Rates**: People are more likely to answer during business hours
- **💼 Professional Image**: Respecting time zones shows consideration
- **😊 Reduced Complaints**: Appropriate timing reduces negative responses

### 🌐 Timezone Settings

**Default Campaign Timezone**
- 🕐 Set the primary timezone for your campaign
- 🎯 All calls will be scheduled according to this timezone
- 🏠 Perfect for local or regional campaigns
- 📊 Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

### ✨ Best Practices

**💼 Business Hours Guidelines**
- **🏢 B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- **🏠 B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- **🏥 Healthcare**: Avoid meal times (12-1 PM) and shift changes
- **🛍️ Retail**: Consider evening hours when customers are home

**🎯 Contact Strategy Tips**
✅ **🕐 Respect reasonable calling hours** to maintain good relationships
✅ **🌅 Avoid early mornings and late evenings** for better contact rates
✅ **🌍 Consider cultural differences** in international campaigns
✅ **📝 Honor customer preferences** and communication requests

**📊 Performance Optimization**
- **🧪 Test different time windows** to find optimal contact rates
- **📈 Analyze answer rate patterns** by time of day and day of week
- **📅 Adjust for seasonal variations** in contact availability
- **🏢 Consider industry-specific schedules** (healthcare, education, etc.)

### 🌍 Common Time Zones

**🇺🇸 United States**
- 🕐 Eastern Time (ET): UTC-5/-4
- 🕐 Central Time (CT): UTC-6/-5  
- 🕐 Mountain Time (MT): UTC-7/-6
- 🕐 Pacific Time (PT): UTC-8/-7

**🌍 International**
- 🇬🇧 GMT (London): UTC+0/+1
- 🇫🇷 CET (Paris): UTC+1/+2
- 🇯🇵 JST (Tokyo): UTC+9
- 🇦🇺 AEDT (Sydney): UTC+10/+11

### ⚙️ Technical Implementation

The system automatically:
- 🔍 Filters contacts based on current local time
- 📅 Schedules calls for appropriate hours
- 🔄 Handles timezone conversions
- 🌄 Manages DST transitions
- 🎄 Respects holiday calendars
- 📋 Maintains compliance records
      `},teamManagement:{title:"👥 Team Management",description:"🤝 Collaborate with team members on campaign execution",content:`
## 🎯 What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

### 🏆 **Team Roles:**

**👑 Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

**🛡️ Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

**⚡ Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

**👁️ Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

### ✨ **Key Benefits:**

- 📧 **Email Invitations:** Send secure invites with expiration
- 🔄 **Real-time Collaboration:** Changes sync instantly
- 🎚️ **Granular Permissions:** Control campaign and CRM access precisely
- 📊 **CRM Integration:** Team members get appropriate lead access
- 🎯 **Lead Assignment:** Assign specific leads to team members
- 📈 **Audit Trail:** Track all team and lead changes
- 🚀 **Easy Onboarding:** One-click team member setup

### 💡 **Best Practices:**

- 🎯 Assign roles based on responsibility levels
- 📧 Use business email addresses for invitations
- 🔐 Limit CRM access to necessary leads only
- 🎯 Use "Assigned Only" for focused lead management
- 🔄 Review team access and lead assignments regularly
- 📋 Document role responsibilities and CRM permissions clearly
      `},review:{title:"📊 Campaign Review & Estimates",description:"💰 Pre-launch cost and timeline analysis",content:`
## 🎯 What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

### 📈 **Key Metrics Calculated:**

**⏱️ Campaign Timeline:**
- Total call attempts (leads × retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

**💵 Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

**🔋 Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

### 🧮 **Calculation Formulas:**

**Total Attempts** = Leads × (1 + Retry Attempts)
**Total Minutes** = Total Attempts × Avg Call Duration
**Campaign Days** = Total Minutes ÷ (Concurrent Calls × Working Hours × 60)
**Total Cost** = Total Minutes × Cost per Minute

### ⚡ **Key Factors:**

- 📞 **Average Call Duration:** Default 2 minutes (adjustable)
- 🔄 **Concurrent Calls:** Based on Vapi plan (10 default)
- 🔁 **Retry Logic:** Impacts total attempts significantly
- ⏰ **Working Hours:** Affects campaign timeline
- 💳 **Credit Balance:** Determines if top-up needed

### 💡 **Best Practices:**

- 🎯 Review all estimates before launching
- 💰 Maintain 20% buffer in credit balance
- 📊 Use historical data for accurate duration
- 🔄 Adjust concurrency for optimal throughput
- 📈 Monitor actual vs. estimated costs
- 🚨 Set up balance alerts in Vapi dashboard
      `}},bs=ke=>{Tr(ke),jr(!0)},na=()=>{const ke=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,Ze=new Blob([ke],{type:"text/csv"}),Pt=window.URL.createObjectURL(Ze),It=document.createElement("a");It.href=Pt,It.download="campaign-template.csv",document.body.appendChild(It),It.click(),document.body.removeChild(It),window.URL.revokeObjectURL(Pt)},jn=ke=>{var Pt;const Ze=(Pt=ke.target.files)==null?void 0:Pt[0];if(Ze&&Ze.type==="text/csv"){b(Ze);const It=new FileReader;It.onload=Ks=>{var Za,Zo;const Jn=((Za=Ks.target)==null?void 0:Za.result).split(`
`),La=((Zo=Jn[0])==null?void 0:Zo.split(",").map(rr=>rr.trim()))||[],Nn=Jn.slice(1).filter(rr=>rr.trim()).map(rr=>{const el=rr.split(",").map(we=>we.trim()),Xn={};return La.forEach((we,$e)=>{Xn[we]=el[$e]||""}),Xn});H(Nn)},It.readAsText(Ze)}else sa({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},ws=()=>{if(a===1){if(!i||!m||!f||!v){sa({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}n(2)}else a===2?n(3):a===3?n(4):a===4?n(5):a===5&&n(6)},Da=()=>{a===6?n(5):a===5?n(4):a===4?n(3):a===3?n(2):a===2?n(1):s()},Gt=async()=>{C(!0);try{const ke=await fx.getCampaignDefaults(),Pt=[{id:(userContext==null?void 0:userContext.id)||"current-user",email:(userContext==null?void 0:userContext.email)||"",role:"owner",status:"active",firstName:userContext==null?void 0:userContext.firstName,lastName:userContext==null?void 0:userContext.lastName,joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...Ke],It={name:i,assistantId:f,phoneNumberId:m,settings:{callsPerHour:U?W:60,callsPerMinute:U?O:10,retryAttempts:2,timeZone:ne,workingHours:{enabled:Ce,start:"09:00",end:"17:00",defaultTimezone:ne,useContactTimezone:Ae,schedule:de,excludeHolidays:Ee,customHolidays:be,respectDST:Ue},rateLimiting:{enabled:U,callsPerMinute:O,callsPerHour:W,customConcurrency:vt,delayBetweenCalls:z},retryStrategy:B},teamManagement:{enabled:pt||Pt.length>1,members:Pt,invitations:es},organizationSettings:{vapiCredentials:ke.vapiCredentials,maxConcurrentCalls:ke.maxConcurrentCalls,complianceSettings:ke.complianceSettings}},Ks=await Ka.createCampaign(It);v&&await Ka.uploadLeads(Ks.id,v),y==="now"&&await Ka.startCampaign(Ks.id),sa({title:"Campaign updated",description:`Campaign "${i}" has been updated successfully!`});const Ms={...Ks,name:i,assistantName:f,phoneNumber:m,campaignType:l,settings:{...Ks.settings,callsPerHour:U?W:60,callsPerMinute:U?O:10,retryAttempts:2,timeZone:ne,workingHours:{enabled:Ce,start:"09:00",end:"17:00",defaultTimezone:ne,useContactTimezone:Ae,schedule:de,excludeHolidays:Ee,customHolidays:be,respectDST:Ue}}};r(Ms)}catch(ke){console.error("Error updating campaign:",ke),sa({title:"Error",description:"Failed to update campaign. Please try again.",variant:"destructive"})}finally{C(!1)}};return t.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Da,className:"text-gray-400 hover:text-white",children:t.jsx(ec,{className:"w-5 h-5"})}),t.jsxs("h1",{className:"text-lg font-semibold text-white",children:["Edit campaign ",a===2&&"- Rate Limiting",a===3&&"- Retry Logic",a===4&&"- Working Hours",a===5&&"- Team Management",a===6&&"- Review & Save"]})]}),t.jsx("div",{})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:`${a===1||Kr?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),t.jsx(_e,{id:"campaign-name",value:i,onChange:ke=>o(ke.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${l==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>d("manual"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l==="manual"?"border-emerald-500":"border-gray-600"}`,children:l==="manual"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white font-medium",children:"Manual"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),t.jsx(ee,{className:"text-gray-500 font-medium",children:"Live"}),t.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),t.jsxs(at,{value:m,onValueChange:h,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select"})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"number1",children:"+1 (555) 123-4567"}),t.jsx(se,{value:"number2",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"font-medium",children:"Best Practices"})]}),t.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Upload CSV"}),t.jsxs(q,{variant:"link",onClick:na,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[t.jsx(Fl,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),v?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-white text-sm",children:v.name})]}),t.jsx("button",{onClick:()=>{b(null),H([])},className:"text-gray-400 hover:text-white",children:t.jsx(St,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[t.jsx("input",{type:"file",accept:".csv",onChange:jn,className:"hidden",id:"csv-upload"}),t.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[t.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),t.jsxs(at,{value:f,onValueChange:g,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select"})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"assistant1",children:"Sales Assistant"}),t.jsx(se,{value:"assistant2",children:"Support Assistant"}),t.jsx(se,{value:"assistant3",children:"Survey Assistant"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Choose when to send"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("now"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="now"?"border-emerald-500":"border-gray-600"}`,children:y==="now"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Send Now"})]})}),t.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("later"),children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="later"?"border-emerald-500":"border-gray-600"}`,children:y==="later"&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),t.jsx(ee,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),y==="later"&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{className:"text-gray-300",children:"Start at:"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Date"}),t.jsxs(at,{value:S,onValueChange:_,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"tomorrow",children:"Tomorrow"}),t.jsx(se,{value:"custom",children:"Custom Date"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Time"}),t.jsx("div",{className:"relative",children:t.jsx(_e,{type:"text",value:A,onChange:ke=>T(ke.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(ee,{className:"text-gray-500 text-xs",children:"Timezone"}),t.jsxs(at,{value:E,onValueChange:M,children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"America/New_York",children:"Eastern (EST)"}),t.jsx(se,{value:"America/Chicago",children:"Central (CST)"}),t.jsx(se,{value:"America/Denver",children:"Mountain (MST)"}),t.jsx(se,{value:"America/Los_Angeles",children:"Pacific (PST)"}),t.jsx(se,{value:"Europe/London",children:"London (GMT)"}),t.jsx(se,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),y==="later"&&t.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),t.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),t.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",t.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),a===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(as,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(as,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Rate Limiting"}),t.jsx("button",{onClick:()=>bs("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),t.jsx(Xr,{checked:U,onCheckedChange:$})]}),U&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Minute"}),t.jsx("button",{onClick:()=>bs("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[O," calls/min"]})]}),t.jsx(Ln,{value:[O],onValueChange:ke=>I(ke[0]),max:20,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 call/min"}),t.jsx("span",{children:"Conservative"}),t.jsx("span",{children:"Aggressive"}),t.jsx("span",{children:"20 calls/min"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Calls Per Hour"}),t.jsx("button",{onClick:()=>bs("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[W," calls/hr"]})]}),t.jsx(Ln,{value:[W],onValueChange:ke=>V(ke[0]),max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"5 calls/hr"}),t.jsx("span",{children:"Standard: 20-60"}),t.jsx("span",{children:"200 calls/hr"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Concurrent Calls Limit"}),t.jsx("button",{onClick:()=>bs("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[R," concurrent"]})]}),t.jsx(Ln,{value:[R],onValueChange:ke=>F(ke[0]),max:50,min:1,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"1 concurrent"}),t.jsx("span",{children:"Default: 10"}),t.jsx("span",{children:"50 concurrent"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[t.jsx("span",{children:"Delay Between Calls"}),t.jsx("button",{onClick:()=>bs("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[z,"s delay"]})]}),t.jsx(Ln,{value:[z],onValueChange:ke=>K(ke[0]),max:10,min:0,step:.5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"No delay"}),t.jsx("span",{children:"Recommended: 1-3s"}),t.jsx("span",{children:"10s delay"})]})]}),t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(ba,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),t.jsxs("p",{className:"text-white font-medium",children:[Math.min(O*60,W)," calls"]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-gray-400",children:["With ",L.length," contacts:"]}),t.jsx("p",{className:"text-white font-medium",children:L.length>0?`~${Math.max(1,Math.ceil(L.length/Math.min(O*60,W)))} hours`:"0 hours"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[O,"/min"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),t.jsx("p",{className:"text-blue-300 font-medium",children:R})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delay:"}),t.jsxs("p",{className:"text-blue-300 font-medium",children:[z,"s"]})]})]})})]}),(O>10||R>20)&&t.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(va,{className:"w-4 h-4 text-amber-400"}),t.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),t.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),a===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(lr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(lr,{className:"w-4 h-4"}),t.jsx("span",{children:"Smart Retry Settings"}),t.jsx("button",{onClick:()=>bs("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),t.jsxs($l,{value:B,onValueChange:ke=>Q(ke),className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"basic",id:"basic",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:"🎯 Basic (1-2 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"smart",id:"smart",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:"🧠 Smart (3-5 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[t.jsx(Zs,{value:"conservative",id:"conservative",className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:"🛡️ Conservative (2-3 retries)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(lr,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),t.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",B==="basic"&&"Basic (1-2 retries)",B==="smart"&&"Smart (3-5 retries) - Recommended",B==="conservative"&&"Conservative (2-3 retries)"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),a===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ea,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(Ea,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Working Hours"}),t.jsx("button",{onClick:()=>bs("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),t.jsx(Xr,{checked:Ce,onCheckedChange:Z})]}),Ce&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(_s,{className:"w-4 h-4"}),t.jsx("span",{children:"Weekly Schedule"})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsx("div",{className:"space-y-4",children:Object.entries(de).map(([ke,Ze])=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20",children:t.jsx(Xr,{checked:Ze.enabled,onCheckedChange:Pt=>Se(It=>({...It,[ke]:{...It[ke],enabled:Pt}}))})}),t.jsx("div",{className:"w-24 text-white font-medium capitalize",children:ke}),Ze.enabled&&t.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[t.jsx(_e,{type:"text",value:Ze.start,onChange:Pt=>Se(It=>({...It,[ke]:{...It[ke],start:Pt.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400",children:"to"}),t.jsx(_e,{type:"text",value:Ze.end,onChange:Pt=>Se(It=>({...It,[ke]:{...It[ke],end:Pt.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!Ze.enabled&&t.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},ke))})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(is,{className:"w-4 h-4"}),t.jsx("span",{children:"Advanced Settings"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Exclude Holidays"}),t.jsxs("div",{className:"group relative",children:[t.jsx(qt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),t.jsx(Xr,{checked:Ee,onCheckedChange:te})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),t.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Respect DST"}),t.jsxs("div",{className:"group relative",children:[t.jsx(qt,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),t.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:t.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),t.jsx(Xr,{checked:Ue,onCheckedChange:oe})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(Ea,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ne.replace("_"," ")]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(de).filter(([ke,Ze])=>Ze.enabled).length," days/week"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",de.monday.enabled?`${de.monday.start} - ${de.monday.end}`:"Varies by day"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Ee&&"Holiday exclusion",Ue&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[t.jsx(as,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),t.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:t.jsx(lr,{className:"w-4 h-4 text-blue-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"CSV Pre-filtering"}),t.jsx("button",{onClick:()=>bs("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to VAPI based on their local time"})]})]}),t.jsx(Xr,{checked:kt,onCheckedChange:Kt})]})}),kt&&t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Tt}),t.jsx(Ln,{value:[Tt],onValueChange:ke=>Nt(ke[0]),min:0,max:120,step:15,className:"flex-1"}),t.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),_t>0&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qt,{className:"w-4 h-4 text-blue-400"}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[_t," contacts excluded from current time window"]})]}),t.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:t.jsx(_s,{className:"w-4 h-4 text-green-400"})}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white font-medium",children:"Holiday Calendar Management"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(ke=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:me.includes(ke),onChange:Ze=>{Ze.target.checked?Be(Pt=>[...Pt,ke]):Be(Pt=>Pt.filter(It=>It!==ke))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),t.jsx("span",{className:"text-white text-sm",children:ke})]},ke))})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white text-sm",children:"Custom Holiday Dates"}),t.jsx(_e,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:ke=>{const Ze=ke.target.value.split(",").map(Pt=>Pt.trim()).filter(Pt=>Pt);Te(Ze)}}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(_s,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ne]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",me.length>0?me.join(", "):"None"]})]}),t.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Ee&&"Holiday exclusion",Ue&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),a===5&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(bt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:t.jsx(bt,{className:"w-4 h-4 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ee,{className:"text-white font-medium",children:"Enable Team Collaboration"}),t.jsx("button",{onClick:()=>bs("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:t.jsx(qt,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),t.jsx(Xr,{checked:pt,onCheckedChange:Sa})]}),pt?t.jsx(wU,{teamMembers:Ke,invitations:es,onAddMember:async(ke,Ze)=>{const Pt={id:`inv-${Date.now()}`,email:ke,role:Ze,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:Ze==="manager"?"all_leads":Ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ze==="manager"||Ze==="agent",delete:Ze==="manager",export:Ze==="manager"||Ze==="agent",assign:Ze==="manager"}};ms(It=>[...It,Pt])},onRemoveMember:async ke=>{Os(Ze=>Ze.filter(Pt=>Pt.id!==ke))},onUpdateRole:async(ke,Ze)=>{Os(Pt=>Pt.map(It=>It.id===ke?{...It,role:Ze,crmAccessLevel:Ze==="manager"?"all_leads":Ze==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:Ze==="manager"||Ze==="agent",delete:Ze==="manager",export:Ze==="manager"||Ze==="agent",assign:Ze==="manager"}}:It))},onResendInvitation:async ke=>{console.log("Resending invitation:",ke)},onCancelInvitation:async ke=>{ms(Ze=>Ze.filter(Pt=>Pt.id!==ke))},isEditable:!0}):t.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),t.jsxs(q,{onClick:()=>Sa(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),pt&&t.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(bt,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),t.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",Ke.length]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",es.length]})]}),t.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[t.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",Ke.length+es.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),a===6&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(ba,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(lr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",i]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:L.length.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),t.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:B})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Working Hours"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Ce?"8 hrs/day":"24/7"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Team Members"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:Ke.length+es.length})]})]})]}),wt&&t.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:wt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),t.jsx("p",{className:"text-xl font-semibold text-white",children:wt.totalMinutes.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[wt.campaignDays," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),t.jsxs("p",{className:"text-xl font-semibold text-white",children:[(vt/Rt).toFixed(1)," calls/min"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",vt]})]})]})]}),t.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[t.jsx(Fr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),t.jsx("div",{className:"mb-4 flex items-center space-x-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(_e,{type:"number",value:Rt,onChange:ke=>$t(Number(ke.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),t.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),t.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),t.jsx("span",{className:"text-white",children:"$0.01"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),t.jsx("span",{className:"text-white",children:"$0.05"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),t.jsx("span",{className:"text-white",children:"$0.07"})]}),t.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[t.jsx("span",{className:"text-white",children:"Total per Minute"}),t.jsxs("span",{className:"text-emerald-400",children:["$",Fe.toFixed(2)]})]})]})]}),wt&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",wt.totalCost.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[wt.totalMinutes.toLocaleString()," minutes × $",Fe,"/min"]})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[t.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[t.jsx(a0,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[t.jsx(_e,{type:"number",placeholder:"Enter your current balance",value:ie||"",onChange:ke=>ye(ke.target.value?Number(ke.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",t.jsx(Xi,{className:"w-3 h-3 ml-1"})]})]})]}),ie!==null&&wt&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${wt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":wt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[wt.balanceStatus==="healthy"?t.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):wt.balanceStatus==="warning"?t.jsx(va,{className:"w-5 h-5 text-yellow-400"}):t.jsx(Yt,{className:"w-5 h-5 text-red-400"}),t.jsx("p",{className:`font-medium ${wt.balanceStatus==="healthy"?"text-emerald-300":wt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:wt.balanceStatus==="healthy"?"Balance Healthy":wt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),t.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",ie.toLocaleString()," | Required: $",wt.totalCost.toLocaleString()," |",wt.balanceStatus==="healthy"?` Surplus: $${(ie-wt.totalCost).toLocaleString()}`:` Deficit: $${(wt.totalCost-ie).toLocaleString()}`]})]}),wt.recommendedTopUp>0&&t.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[t.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",wt.recommendedTopUp]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),t.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",t.jsx(Xi,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),t.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(qt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),t.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),t.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),t.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),t.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),wt&&t.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[t.jsx($o,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:wt.campaignDays}),t.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",wt.totalCost]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:wt.totalAttempts.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(q,{variant:"outline",onClick:Da,disabled:N,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:a===1?"Cancel":"Back"}),t.jsx(q,{onClick:a===6?Gt:ws,disabled:N,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:a===6?N?"Saving...":"Save Changes":"Next"})]})})]}),a===1&&t.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:v&&L.length>0?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",L.length," contacts)"]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[t.jsx("thead",{className:"sticky top-0 z-10",children:t.jsx("tr",{children:Object.keys(L[0]||{}).map((ke,Ze)=>t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:ke},ke))})}),t.jsx("tbody",{children:L.map((ke,Ze)=>t.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(ke).map((Pt,It)=>t.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:t.jsx("div",{className:"truncate max-w-[200px]",title:Pt,children:Pt})},It))},Ze))})]})})}),L.length>100&&t.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",L.length," contacts • Scroll to view more"]})})]}):t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Fl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),a>1&&t.jsx("div",{className:`${Kr?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Kr&&vs&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:(Mi=Nr[vs])==null?void 0:Mi.title}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(zt=Nr[vs])==null?void 0:zt.description})]}),t.jsx("button",{onClick:()=>jr(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:t.jsx(St,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(tr=Nr[vs])==null?void 0:tr.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/✅ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm">✅</span><span class="text-green-300 font-medium">$1</span></div>').replace(/⚠️ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm">⚠️</span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),t.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),t.jsx("button",{onClick:()=>jr(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})};var pk="Progress",gk=100,[dje,uSe]=qs(pk),[uje,mje]=dje(pk),jU=p.forwardRef((e,r)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=hje,...o}=e;(n||n===0)&&!sO(n)&&console.error(fje(`${n}`,"Progress"));const l=sO(n)?n:gk;a!==null&&!aO(a,l)&&console.error(pje(`${a}`,"Progress"));const d=aO(a,l)?a:null,m=px(d)?i(d,l):void 0;return t.jsx(uje,{scope:s,value:d,max:l,children:t.jsx(He.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":px(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":CU(d,l),"data-value":d??void 0,"data-max":l,...o,ref:r})})});jU.displayName=pk;var NU="ProgressIndicator",SU=p.forwardRef((e,r)=>{const{__scopeProgress:s,...a}=e,n=mje(NU,s);return t.jsx(He.div,{"data-state":CU(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});SU.displayName=NU;function hje(e,r){return`${Math.round(e/r*100)}%`}function CU(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function px(e){return typeof e=="number"}function sO(e){return px(e)&&!isNaN(e)&&e>0}function aO(e,r){return px(e)&&!isNaN(e)&&e<=r&&e>=0}function fje(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gk}\`.`}function pje(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kU=jU,gje=SU;const xr=p.forwardRef(({className:e,value:r,...s},a)=>t.jsx(kU,{ref:a,className:Le("relative h-2 w-full overflow-hidden rounded-full bg-gray-800",e),...s,children:t.jsx(gje,{className:"h-full w-full flex-1 bg-gradient-to-r from-pink-500 to-pink-600 transition-all duration-300",style:{transform:`translateX(-${100-(r||0)}%)`}})}));xr.displayName=kU.displayName;const xje=vf("relative w-full rounded-lg border border-zinc-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-zinc-950 [&>svg~*]:pl-7 dark:border-zinc-800 dark:[&>svg]:text-zinc-50",{variants:{variant:{default:"bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),ir=p.forwardRef(({className:e,variant:r,...s},a)=>t.jsx("div",{ref:a,role:"alert",className:Le(xje({variant:r}),e),...s}));ir.displayName="Alert";const _U=p.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:Le("mb-1 font-medium leading-none tracking-tight",e),...r}));_U.displayName="AlertTitle";const or=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:Le("text-sm [&_p]:leading-relaxed",e),...r}));or.displayName="AlertDescription";const yje=()=>{const[e,r]=p.useState({current:25,limit:50,queued:12,available:25,peak24h:47,averageUtilization:68,totalCallsToday:1247,estimatedCost:324.5}),[s,a]=p.useState([{id:"1",name:"Real Estate Outreach",activeCalls:15,queuedCalls:8,priority:"high",status:"active",budget:2e3,spent:845.3},{id:"2",name:"Insurance Follow-up",activeCalls:10,queuedCalls:4,priority:"medium",status:"active",budget:1500,spent:623.2},{id:"3",name:"Solar Panel Campaign",activeCalls:0,queuedCalls:0,priority:"low",status:"paused",budget:1e3,spent:267.8}]),[n,i]=p.useState({enabled:!0,minLimit:10,maxLimit:100,scaleUpThreshold:80,scaleDownThreshold:30,budgetLimit:1e3,peakHoursEnabled:!0,peakHours:{start:"09:00",end:"17:00"}}),[o,l]=p.useState(50),[d,m]=p.useState(!1);p.useEffect(()=>{const b=setInterval(()=>{r(N=>({...N,current:Math.max(0,N.current+Math.floor(Math.random()*6)-3),queued:Math.max(0,N.queued+Math.floor(Math.random()*4)-2),available:N.limit-N.current}))},3e3);return()=>clearInterval(b)},[]),p.useEffect(()=>{e.current/e.limit*100>85&&m(!0)},[e]);const h=()=>{const b=e.current/e.limit*100;if(b>n.scaleUpThreshold&&e.limit<n.maxLimit){const N=Math.min(n.maxLimit,e.limit+10);r(C=>({...C,limit:N,available:N-C.current})),l(N)}else if(b<n.scaleDownThreshold&&e.limit>n.minLimit){const N=Math.max(n.minLimit,e.limit-5);r(C=>({...C,limit:N,available:N-C.current})),l(N)}},f=b=>{const N=b[0];l(N),r(C=>({...C,limit:N,available:N-C.current}))},g=(b,N)=>{a(C=>C.map(S=>S.id===b?{...S,status:N==="pause"?"paused":"active"}:S))},y=b=>b<50?"text-emerald-400":b<80?"text-yellow-400":"text-red-400",w=b=>{switch(b){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},v=e.current/e.limit*100;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dynamic Concurrency Manager"}),t.jsx("p",{className:"text-gray-400",children:"Monitor and optimize Vapi org-level concurrency in real-time"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(ss,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700",onClick:()=>window.open("https://dashboard.vapi.ai","_blank"),children:[t.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Vapi Dashboard"]})]})]}),d&&t.jsxs(ir,{className:"border-orange-500 bg-orange-500/10",children:[t.jsx(va,{className:"h-4 w-4"}),t.jsxs(or,{className:"flex items-center justify-between",children:[t.jsxs("span",{children:["Nearing concurrency limit (",v.toFixed(1),"% utilized). Consider upgrading your Vapi plan."]}),t.jsx(q,{size:"sm",onClick:()=>window.open("https://dashboard.vapi.ai/billing","_blank"),className:"bg-orange-600 hover:bg-orange-700",children:"Upgrade Now"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(Us,{className:"h-4 w-4 mr-2 text-emerald-500"}),"Active Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.current}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",e.limit," limit"]}),t.jsx(xr,{value:v,className:"mt-2 h-2"})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(bt,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Queued Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.queued}),t.jsx("p",{className:"text-xs text-gray-500",children:"waiting for slots"}),e.queued>0&&t.jsx(je,{variant:"outline",className:"mt-2 text-xs text-yellow-400 border-yellow-400",children:"Auto-retry active"})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(HM,{className:"h-4 w-4 mr-2 text-blue-500"}),"Utilization"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:`text-2xl font-bold ${y(v)}`,children:[v.toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["24h avg: ",e.averageUtilization,"%"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(ba,{className:"h-4 w-4 mr-2 text-purple-500"}),"Today's Calls"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.totalCallsToday.toLocaleString()}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Est. cost: $",e.estimatedCost]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white flex items-center",children:[t.jsx(is,{className:"h-5 w-5 mr-2"}),"Manual Controls"]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Concurrency Limit"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:[o," sessions"]})]}),t.jsx(Ln,{value:[o],onValueChange:f,max:200,min:5,step:5,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"5 min"}),t.jsxs("span",{children:["Current: ",o]}),t.jsx("span",{children:"200 max"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(q,{variant:"outline",onClick:h,className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(as,{className:"h-4 w-4 mr-2"}),"Auto Scale"]}),t.jsxs(q,{variant:"outline",className:"border-gray-700",onClick:()=>m(!1),children:[t.jsx(To,{className:"h-4 w-4 mr-2"}),"Clear Alerts"]})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white flex items-center",children:[t.jsx(QG,{className:"h-5 w-5 mr-2"}),"Auto-scaling Rules"]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Enable Auto-scaling"}),t.jsx(Xr,{checked:n.enabled,onCheckedChange:b=>i(N=>({...N,enabled:b}))})]}),n.enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Up at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleUpThreshold,"% utilization"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Scale Down at"}),t.jsxs("div",{className:"text-sm text-white",children:[n.scaleDownThreshold,"% utilization"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Min Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.minLimit," sessions"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-400",children:"Max Limit"}),t.jsxs("div",{className:"text-sm text-white",children:[n.maxLimit," sessions"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Peak Hours Boost"}),t.jsx(Xr,{checked:n.peakHoursEnabled,onCheckedChange:b=>i(N=>({...N,peakHoursEnabled:b}))})]})]})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white flex items-center",children:[t.jsx(lr,{className:"h-5 w-5 mr-2"}),"Campaign Queue Management"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-4",children:s.map(b=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${w(b.priority)}`}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:b.name}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(xt,{className:"h-3 w-3 mr-1"}),b.activeCalls," active"]}),b.queuedCalls>0&&t.jsxs("span",{className:"flex items-center text-yellow-400",children:[t.jsx(lr,{className:"h-3 w-3 mr-1"}),b.queuedCalls," queued"]}),t.jsxs("span",{children:["Priority: ",b.priority]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm text-white",children:["$",b.spent.toFixed(2)," / $",b.budget]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[(b.spent/b.budget*100).toFixed(1),"% used"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[b.status==="active"?t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>g(b.id,"pause"),className:"border-amber-600 text-amber-400 hover:bg-amber-600/20",children:[t.jsx(Lu,{className:"h-3 w-3 mr-1"}),"Pause"]}):t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>g(b.id,"resume"),className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[t.jsx(Un,{className:"h-3 w-3 mr-1"}),"Resume"]}),t.jsx(je,{variant:"outline",className:b.status==="active"?"border-emerald-600 text-emerald-400":b.status==="paused"?"border-amber-600 text-amber-400":"border-gray-600 text-gray-400",children:b.status})]})]})]},b.id))}),t.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(qt,{className:"h-5 w-5 text-blue-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-1",children:"Queue Management Tips"}),t.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[t.jsx("li",{children:"• High priority campaigns get queue preference"}),t.jsx("li",{children:"• Vapi automatically retries queued calls for up to 1 hour"}),t.jsx("li",{children:"• Pause low-priority campaigns during peak hours to prevent bottlenecks"}),t.jsx("li",{children:"• Monitor budget utilization to prevent overspending"})]})]})]})})]})]})]})},tN=()=>{console.log("🚀 VapiDashboard component is rendering!");const[e,r]=p.useState(!0),[s,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(null),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,v]=p.useState("all"),[b,N]=p.useState([]),[C,S]=p.useState("all"),[_,A]=p.useState(!1),[T,E]=p.useState("campaigns"),{toast:M}=cs(),{userContext:L}=ki(),H=br();ak(),p.useEffect(()=>{console.log("🔄 VapiDashboard: Component mounted, starting data load..."),(async()=>{try{await O()}catch(R){console.error("🚨 VapiDashboard: Critical error during initialization:",R),a([]),i([]),l({}),A(!0),r(!1)}})()},[_]);const O=async($=!0)=>{console.log("📊 VapiDashboard: Starting data load, showLoader:",$),$&&r(!0);try{console.log("📞 VapiDashboard: Loading real campaigns data...");const R=await Ka.getCampaigns();console.log("✅ VapiDashboard: Real campaigns loaded:",R),R&&Array.isArray(R)?(a(R),console.log("✅ Set",R.length,"real campaigns")):(console.warn("Campaigns data is not an array:",R),a([]));const F=await Ka.getRecentCalls(10);console.log("✅ VapiDashboard: Recent calls loaded:",F),i(F||[]);const z=R.reduce((K,B)=>({totalCalls:K.totalCalls+(B.totalLeads||0),totalCost:K.totalCost+(B.totalCost||0),successfulCalls:K.successfulCalls+Math.floor((B.callsCompleted||0)*(B.successRate||0)/100),totalDuration:K.totalDuration+(B.callsCompleted||0)*120,totalCompletedCalls:K.totalCompletedCalls+(B.callsCompleted||0)}),{totalCalls:0,totalCost:0,successfulCalls:0,totalDuration:0,totalCompletedCalls:0});z.successRate=z.totalCalls>0?z.successfulCalls/z.totalCalls*100:0,z.averageDuration=z.totalCompletedCalls>0?z.totalDuration/z.totalCompletedCalls:0,z.sentimentBreakdown={positive:Math.round(z.successfulCalls*.6),neutral:Math.round(z.successfulCalls*.3),negative:Math.round(z.successfulCalls*.1)},z.sentimentBreakdown||(z.sentimentBreakdown={positive:0,neutral:0,negative:0}),z.outcomeBreakdown||(z.outcomeBreakdown={}),z.successRate||(z.successRate=0),z.totalCost||(z.totalCost=0),z.activeAssistants||(z.activeAssistants=0),l(z),A(!0)}catch(R){console.error("Error loading dashboard data:",R),a([]),i([]),l({}),M({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{$&&r(!1)}},I=async($,R)=>{try{let F;switch(R){case"start":F=await Ka.startCampaign($);break;case"pause":F=await Ka.pauseCampaign($);break;case"resume":F=await Ka.resumeCampaign($);break;default:throw new Error(`Unknown action: ${R}`)}M({title:"Success",description:`Campaign ${R}ed successfully`}),O(!1)}catch(F){console.error(`Failed to ${R} campaign:`,F),M({title:"Error",description:`Failed to ${R} campaign. Please try again.`,variant:"destructive"})}},W=$=>{switch($==null?void 0:$.toLowerCase()){case"active":return"text-emerald-400 bg-emerald-500/10 border-emerald-500/30";case"paused":return"text-amber-400 bg-amber-500/10 border-amber-500/30";case"completed":return"text-blue-400 bg-blue-500/10 border-blue-500/30";case"failed":return"text-red-400 bg-red-500/10 border-red-500/30";default:return"text-gray-400 bg-gray-500/10 border-gray-500/30"}},V=$=>{switch($==null?void 0:$.toLowerCase()){case"active":return t.jsx(BG,{className:"h-3 w-3"});case"paused":return t.jsx(UG,{className:"h-3 w-3"});case"completed":return t.jsx(yt,{className:"h-3 w-3"});case"failed":return t.jsx(Yt,{className:"h-3 w-3"});default:return t.jsx(WG,{className:"h-3 w-3"})}},U=(s||[]).filter($=>w==="all"?!0:w==="active"?$.status==="active":w==="paused"?$.status==="paused":!0);return e?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-400"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading campaigns dashboard..."})]})}):t.jsxs("div",{className:"w-full bg-black min-h-screen px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("h1",{className:"text-2xl font-bold text-white",children:"VAPI Dashboard"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(q,{variant:"outline",onClick:()=>O(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ss,{className:"mr-2 h-4 w-4"}),"Refresh"]}),T==="campaigns"&&t.jsxs(q,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex space-x-1 bg-gray-900 p-1 rounded-lg w-fit",children:[t.jsxs("button",{onClick:()=>E("campaigns"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${T==="campaigns"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(lr,{className:"mr-2 h-4 w-4 inline"}),"Campaigns"]}),t.jsxs("button",{onClick:()=>E("concurrency"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${T==="concurrency"?"bg-emerald-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[t.jsx(HM,{className:"mr-2 h-4 w-4 inline"}),"Concurrency Manager"]})]})}),T==="campaigns"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Campaigns"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),t.jsx(lr,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter($=>$.status==="active").length})]}),t.jsx(Un,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Paused"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter($=>$.status==="paused").length})]}),t.jsx(Lu,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Draft"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:s.filter($=>$.status==="draft").length})]})})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"border-b border-gray-800/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-2xl font-bold text-white mb-2",children:"Campaigns"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Manage and monitor your voice AI campaigns"})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800/50 rounded-lg p-1",children:[t.jsx(q,{variant:w==="all"?"default":"ghost",size:"sm",onClick:()=>v("all"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="all"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"All"}),t.jsx(q,{variant:w==="active"?"default":"ghost",size:"sm",onClick:()=>v("active"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="active"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Active"}),t.jsx(q,{variant:w==="paused"?"default":"ghost",size:"sm",onClick:()=>v("paused"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="paused"?"bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:"Paused"})]})]})}),t.jsx(X,{className:"p-0",children:U.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(lr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"mb-4 text-gray-400",children:"No campaigns found"}),t.jsxs(q,{onClick:()=>m(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]}):t.jsx("div",{className:"space-y-6",children:U.map(($,R)=>{var F,z;return t.jsxs("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-gray-800 bg-gradient-to-r from-gray-900/80 to-gray-800/50 p-6 backdrop-blur-sm transition-all duration-300 hover:border-gray-600 hover:shadow-xl hover:shadow-black/20",onClick:()=>H(`/campaigns/${$.id}`),children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/5 via-transparent to-pink-400/5 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2 tracking-tight",children:$.name}),t.jsxs("p",{className:"text-sm text-gray-400 font-medium",children:["ID: ",$.apexId||"apex00000"]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(je,{variant:"outline",className:`${W($.status)} px-3 py-1 text-xs font-semibold inline-flex items-center justify-center w-20`,children:[V($.status),t.jsx("span",{className:"ml-2 capitalize",children:$.status})]}),t.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[$.status==="draft"&&t.jsxs(q,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:K=>{K.stopPropagation(),I($.id,"start")},children:[t.jsx(Un,{className:"mr-2 h-4 w-4"}),"Start"]}),$.status==="active"&&t.jsxs(q,{size:"sm",variant:"outline",className:"border-amber-500/30 bg-amber-500/10 text-amber-400 transition-all duration-200 hover:border-amber-400 hover:bg-amber-500/20 hover:text-amber-300",onClick:K=>{K.stopPropagation(),I($.id,"pause")},children:[t.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Pause"]}),$.status==="paused"&&t.jsxs(q,{size:"sm",variant:"outline",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-400 transition-all duration-200 hover:border-emerald-400 hover:bg-emerald-500/20 hover:text-emerald-300",onClick:K=>{K.stopPropagation(),I($.id,"resume")},children:[t.jsx(Un,{className:"mr-2 h-4 w-4"}),"Resume"]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),y($),f(!0)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(is,{className:"h-4 w-4"})}),t.jsx(q,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),H(`/campaigns/${$.id}/calls`)},className:"text-gray-400 hover:bg-gray-700/50 hover:text-white transition-all duration-200 rounded-lg p-2",children:t.jsx(Xi,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10 border border-blue-500/20",children:t.jsx(bt,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Leads"}),t.jsx("p",{className:"text-lg font-bold text-white",children:$.totalLeads||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:t.jsx(yt,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-lg font-bold text-white",children:$.callsCompleted||0})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10 border border-amber-500/20",children:t.jsx(Fr,{className:"h-5 w-5 text-amber-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cost"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:["$",((F=$.totalCost)==null?void 0:F.toFixed(2))||"0.00"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-pink-500/10 border border-pink-500/20",children:t.jsx(Bs,{className:"h-5 w-5 text-pink-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success"}),t.jsxs("p",{className:"text-lg font-bold text-white",children:[((z=$.successRate)==null?void 0:z.toFixed(1))||0,"%"]})]})]})]}),t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Progress"}),t.jsx("span",{className:"text-sm font-bold text-white",children:$.totalLeads?`${$.callsCompleted||0}/${$.totalLeads}`:"0/0"})]}),t.jsx("div",{className:"relative h-2 w-full rounded-full bg-gray-800 overflow-hidden",children:t.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-pink-500 to-pink-400 transition-all duration-700 ease-out relative overflow-hidden",style:{width:`${Math.min($.totalLeads?($.callsCompleted||0)/$.totalLeads*100:0,100)}%`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]},$.id)})})})]})]}),T==="concurrency"&&t.jsx(yje,{}),d&&t.jsx(lje,{onCampaignCreated:$=>{m(!1),O(!1),M({title:"Campaign Created",description:`Campaign "${$.name}" has been created successfully!`})},onCancel:()=>m(!1)}),h&&g&&t.jsx(cje,{campaign:g,onCampaignUpdated:$=>{a(R=>R.map(F=>F.id===$.id?{...F,...$,updatedAt:new Date().toISOString()}:F)),f(!1),y(null),M({title:"Campaign Updated",description:`Campaign "${$.name}" has been updated successfully!`})},onCancel:()=>{f(!1),y(null)}})]})};function vje(){const[e,r]=p.useState("overview"),s={organizations:{active:38,new:5,churn:2},tickets:{avgResolutionTime:2.4,satisfaction:98.2},usage:{totalCalls:125420},calls:{total:125420,successful:11e4,failed:15420}},a=[{date:"Jan 1",revenue:12500,organizations:32},{date:"Jan 7",revenue:13200,organizations:34},{date:"Jan 14",revenue:14800,organizations:37},{date:"Jan 21",revenue:15200,organizations:40},{date:"Jan 28",revenue:16900,organizations:42},{date:"Feb 4",revenue:17600,organizations:44},{date:"Feb 11",revenue:18450,organizations:45}],n=[{name:"Starter",value:18,color:"#3B82F6"},{name:"Professional",value:22,color:"#8B5CF6"},{name:"Enterprise",value:5,color:"#F59E0B"}],i=[{category:"Technical",tickets:67,avgTime:2.1},{category:"Billing",tickets:34,avgTime:1.8},{category:"Onboarding",tickets:28,avgTime:3.2},{category:"Feature Requests",tickets:27,avgTime:4.5}],o=[{name:"TechFlow Solutions",calls:12450,revenue:599,status:"active"},{name:"Digital Dynamics",calls:18200,revenue:1299,status:"active"},{name:"Growth Partners",calls:450,revenue:0,status:"trial"},{name:"Enterprise Corp",calls:25100,revenue:2499,status:"active"},{name:"StartupHub",calls:8200,revenue:299,status:"active"}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Comprehensive analytics and insights for your platform"})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(_s,{className:"mr-2 h-4 w-4"}),"Export Report"]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Custom Dashboard"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:s.calls.total.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(xt,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",s.calls.successful," successful"]}),t.jsxs("span",{className:"text-red-400",children:["-",s.calls.failed," failed"]})]})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Organizations"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:s.organizations.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(kx,{className:"h-6 w-6 text-blue-400"})})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"text-green-400",children:["+",s.organizations.new," new"]}),t.jsxs("span",{className:"text-red-400",children:["-",s.organizations.churn," churn"]})]})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Support Satisfaction"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[s.tickets.satisfaction,"%"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Qi,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsxs("span",{children:[s.tickets.avgResolutionTime,"h avg resolution"]})]})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Platform Usage"}),t.jsxs("p",{className:"text-3xl font-bold text-white",children:[(s.usage.totalCalls/1e3).toFixed(1),"k"]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-500/20",children:t.jsx(Us,{className:"h-6 w-6 text-orange-400"})})]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Total calls this month"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center justify-between text-white",children:["Revenue & Growth Trend",t.jsxs(je,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),"+21.4%"]})]})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(My,{data:a,children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"date",stroke:"#9CA3AF"}),t.jsx(bi,{stroke:"#9CA3AF"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(md,{type:"monotone",dataKey:"revenue",stroke:"#8B5CF6",fill:"url(#colorRevenue)",strokeWidth:2}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})})]})})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Organization Distribution by Plan"})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(Q2,{children:[t.jsx(Ey,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:l=>`${l.name}: ${l.value}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((l,d)=>t.jsx(Sd,{fill:l.color},`cell-${d}`))}),t.jsx(zn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}})]})})})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Support Department Performance"})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(X2,{data:i,children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"category",stroke:"#9CA3AF"}),t.jsx(bi,{stroke:"#9CA3AF"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),t.jsx(lf,{dataKey:"tickets",fill:"#8B5CF6"}),t.jsx(lf,{dataKey:"avgTime",fill:"#3B82F6"})]})})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Top Organizations by Activity"})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:o.map((l,d)=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-700/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 to-blue-600",children:t.jsx("span",{className:"font-bold text-white",children:d+1})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:l.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[l.calls.toLocaleString()," calls this month"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",l.revenue,"/mo"]}),t.jsx(je,{className:`text-xs ${l.status==="active"?"border-green-500/30 bg-green-500/20 text-green-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:l.status})]})]},d))})})]})]})})}function bje(){const[e,r]=p.useState(""),[s,a]=p.useState("all"),n=[{id:"1",name:"Sarah Johnson",company:"TechFlow Solutions",email:"sarah@techflow.com",phone:"+1 (555) 123-4567",status:"active",campaigns:3,leads:1247,calls:2847,spend:2847.5,lastActivity:"2 hours ago",rating:4.8},{id:"2",name:"Mike Chen",company:"Digital Dynamics",email:"mike@digitaldynamics.com",phone:"+1 (555) 987-6543",status:"active",campaigns:5,leads:2156,calls:4123,spend:5123.75,lastActivity:"1 hour ago",rating:4.9},{id:"3",name:"Emma Rodriguez",company:"Growth Partners",email:"emma@growthpartners.com",phone:"+1 (555) 456-7890",status:"active",campaigns:2,leads:892,calls:1654,spend:1987.25,lastActivity:"3 hours ago",rating:4.7},{id:"4",name:"David Thompson",company:"Innovate Labs",email:"david@innovatelabs.com",phone:"+1 (555) 321-6540",status:"pending",campaigns:1,leads:234,calls:456,spend:567.8,lastActivity:"1 day ago",rating:4.5},{id:"5",name:"Lisa Wang",company:"ScaleUp Ventures",email:"lisa@scaleupventures.com",phone:"+1 (555) 789-0123",status:"inactive",campaigns:0,leads:0,calls:0,spend:0,lastActivity:"1 week ago",rating:4.6}],i=n.filter(d=>{const m=d.name.toLowerCase().includes(e.toLowerCase())||d.company.toLowerCase().includes(e.toLowerCase())||d.email.toLowerCase().includes(e.toLowerCase()),h=s==="all"||d.status===s;return m&&h}),o={total:n.length,active:n.filter(d=>d.status==="active").length,pending:n.filter(d=>d.status==="pending").length,inactive:n.filter(d=>d.status==="inactive").length,totalSpend:n.reduce((d,m)=>d+m.spend,0),totalCalls:n.reduce((d,m)=>d+m.calls,0),totalLeads:n.reduce((d,m)=>d+m.leads,0)},l=d=>{switch(d){case"active":return"bg-green-500/10 text-green-400 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"inactive":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return t.jsx("div",{className:"mx-auto w-full max-w-7xl px-4",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:items-center md:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Clients"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your agency clients and their campaigns"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs(q,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta transition-colors hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add New Client"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.total})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-900/20",children:t.jsx(cr,{className:"h-6 w-6 text-blue-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+2 this month"})})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.active})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-900/20",children:t.jsx(bt,{className:"h-6 w-6 text-green-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+1 this week"})})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(xt,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+12% this month"})})]})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",o.totalSpend.toLocaleString()]})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:t.jsx(Fr,{className:"h-6 w-6 text-emerald-400"})})]}),t.jsx("div",{className:"mt-4 flex items-center text-sm",children:t.jsx("span",{className:"text-green-400",children:"+8% this month"})})]})})]}),t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{placeholder:"Search clients by name, company, or email...",value:e,onChange:d=>r(d.target.value),className:"border-gray-800 bg-gray-900 pl-10 text-white placeholder-gray-400"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("all"),children:["All (",o.total,")"]}),t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("active"),children:["Active (",o.active,")"]}),t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("pending"),children:["Pending (",o.pending,")"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(d=>t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:[t.jsxs(pe,{className:"pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(zu,{className:"h-12 w-12",children:[t.jsx(Fu,{src:d.avatar}),t.jsx(Uu,{className:"bg-gray-800 text-white",children:d.name.split(" ").map(m=>m[0]).join("")})]}),t.jsxs("div",{children:[t.jsx(xe,{className:"text-lg text-white",children:d.name}),t.jsx(Ht,{className:"text-gray-400",children:d.company})]})]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsxs(Vn,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(Jt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Jt,{className:"text-gray-300 hover:text-white",children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Edit Client"]}),t.jsxs(Jt,{className:"text-gray-300 hover:text-white",children:[t.jsx(Oa,{className:"mr-2 h-4 w-4"}),"Send Message"]}),t.jsxs(Jt,{className:"text-red-400 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Remove Client"]})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx(je,{className:l(d.status),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),t.jsxs("div",{className:"flex items-center text-yellow-400",children:[t.jsx(Oo,{className:"h-4 w-4 fill-current"}),t.jsx("span",{className:"ml-1 text-sm",children:d.rating})]})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.campaigns}),t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.leads.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Leads"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-white",children:d.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"Calls"})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-800 pt-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-white",children:["$",d.spend.toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Total Spend"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-xs text-gray-300",children:d.lastActivity})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"View"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[t.jsx(xt,{className:"mr-2 h-4 w-4"}),"Contact"]})]})]})]},d.id))}),i.length===0&&t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(cr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No clients found"}),t.jsx("p",{className:"mb-4 text-gray-400",children:e?"Try adjusting your search terms":"Get started by adding your first client"}),t.jsxs(q,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-magenta hover:to-brand-pink",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add New Client"]})]})})]})})}const wje=()=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Live Calls"}),t.jsx("p",{className:"text-gray-600",children:"Monitor active calls in real-time"})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsx("div",{className:"rounded-lg border p-4 bg-green-50 border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xt,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"John Doe"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 123-4567"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsx("span",{children:"02:34"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(sd,{className:"h-4 w-4"}),t.jsx("span",{children:"New York, NY"})]}),t.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]})]})}),t.jsx("div",{className:"rounded-lg border p-4 bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xt,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Jane Smith"}),t.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 987-6543"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsx("span",{children:"01:12"})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(sd,{className:"h-4 w-4"}),t.jsx("span",{children:"Los Angeles, CA"})]}),t.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})]})]})}),t.jsxs("div",{className:"rounded-lg border p-8 text-center text-gray-500",children:[t.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No More Active Calls"}),t.jsx("p",{children:"All other calls have been completed."})]})]})]});function nO(){var _,A,T;const e=br(),{getToken:r}=wa(),[s,a]=p.useState("7d"),[n,i]=p.useState(null),[o,l]=p.useState([]),[d,m]=p.useState(!0),[h,f]=p.useState(null),g="http://localhost:3001",y=async()=>{try{m(!0),f(null);const E=await r(),M=await fetch(`${g}/api/platform-analytics/overview`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const L=await M.json();i(L),console.log("✅ Platform analytics loaded:",L)}catch(E){console.error("❌ Error fetching platform analytics:",E),f("Failed to load platform analytics"),i({overview:{totalOrganizations:0,activeOrganizations:0,totalUsers:0,activeUsers:0,totalMRR:0,totalCalls:0,systemUptime:99.8,supportTickets:0,recentGrowth:{organizations:0,users:0,organizationGrowth:0,userGrowth:0}},charts:{weeklyGrowth:[],monthlyRevenue:[],planDistribution:{starter:0,professional:0,enterprise:0}},topOrganizations:[]})}finally{m(!1)}},w=async()=>{try{const E=await r(),M=await fetch(`${g}/api/platform-analytics/activity`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(M.ok){const L=await M.json();l(L.activity||[])}}catch(E){console.error("❌ Error fetching activity:",E),l([])}};p.useEffect(()=>{y(),w()},[]);const v=((_=n==null?void 0:n.charts)==null?void 0:_.weeklyGrowth)||[{date:"Mon",users:0,organizations:0},{date:"Tue",users:0,organizations:0},{date:"Wed",users:0,organizations:0},{date:"Thu",users:0,organizations:0},{date:"Fri",users:0,organizations:0},{date:"Sat",users:0,organizations:0},{date:"Sun",users:0,organizations:0}],b=((A=n==null?void 0:n.charts)==null?void 0:A.monthlyRevenue)||[{month:"Jan",revenue:0,mrr:0},{month:"Feb",revenue:0,mrr:0},{month:"Mar",revenue:0,mrr:0},{month:"Apr",revenue:0,mrr:0},{month:"May",revenue:0,mrr:0},{month:"Jun",revenue:0,mrr:0}],N=[{status:"Open",count:((T=n==null?void 0:n.overview)==null?void 0:T.supportTickets)||0,color:"#ef4444"},{status:"In Progress",count:0,color:"#eab308"},{status:"Resolved",count:0,color:"#22c55e"}],C=[{service:"API",uptime:99.9,status:"operational"},{service:"Database",uptime:99.95,status:"operational"},{service:"Auth",uptime:98.5,status:"degraded"},{service:"Storage",uptime:99.99,status:"operational"}],S=n!=null&&n.overview?{totalOrganizations:n.overview.totalOrganizations,activeUsers:n.overview.totalUsers,mrr:n.overview.totalMRR,supportTickets:n.overview.supportTickets,systemUptime:n.overview.systemUptime,activeSubscriptions:n.overview.activeOrganizations}:{totalOrganizations:0,activeUsers:0,mrr:0,supportTickets:0,systemUptime:99.8,activeSubscriptions:0};return d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx("div",{className:"mx-auto mb-4 h-32 w-32 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-xl",children:"Loading platform analytics..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Overview"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor and manage your AI calling platform"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2",children:t.jsx("p",{className:"text-sm text-red-400",children:h})}),t.jsxs(q,{onClick:()=>{y(),w()},variant:"outline",size:"sm",className:"border-gray-600 text-white hover:bg-gray-700",children:[t.jsx(ss,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Organizations"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.totalOrganizations}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+8 this week"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Active Users"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeUsers.toLocaleString()}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+12% growth"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"MRR"})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(S.mrr/1e3).toFixed(0),"k"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+15% vs last month"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Support Tickets"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.supportTickets}),t.jsx("p",{className:"mt-1 text-xs text-yellow-400",children:"12 open"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"System Uptime"})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[S.systemUptime,"%"]}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"All systems operational"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Subscriptions"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S.activeSubscriptions}),t.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"89% retention"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[t.jsxs(q,{onClick:()=>e("/organizations"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(cr,{className:"h-6 w-6"}),t.jsx("span",{children:"Manage Organizations"})]}),t.jsxs(q,{onClick:()=>e("/user-management"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(ql,{className:"h-6 w-6"}),t.jsx("span",{children:"User Management"})]}),t.jsxs(q,{onClick:()=>e("/support-tickets"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(Wh,{className:"h-6 w-6"}),t.jsx("span",{children:"Support Tickets"})]}),t.jsxs(q,{onClick:()=>e("/system-health"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[t.jsx(Us,{className:"h-6 w-6"}),t.jsx("span",{children:"System Health"})]}),t.jsxs(q,{onClick:()=>e("/platform-monitoring"),className:"flex h-auto flex-col items-center gap-2 bg-emerald-800 p-6 text-white hover:bg-emerald-700",children:[t.jsx(r0,{className:"h-6 w-6"}),t.jsx("span",{children:"Platform Monitoring"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Bs,{className:"h-5 w-5"}),"User & Organization Growth"]})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(Cz,{data:v,children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"date",stroke:"#9ca3af"}),t.jsx(bi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(ex,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2,name:"Users"}),t.jsx(ex,{type:"monotone",dataKey:"organizations",stroke:"#8b5cf6",strokeWidth:2,name:"Organizations"})]})})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Fr,{className:"h-5 w-5"}),"Revenue Trends"]})}),t.jsx(X,{children:t.jsx(Fn,{width:"100%",height:300,children:t.jsxs(My,{data:b,children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(bi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(md,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Total Revenue"}),t.jsx(md,{type:"monotone",dataKey:"mrr",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"MRR"})]})})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Wh,{className:"h-5 w-5"}),"Support Tickets"]})}),t.jsxs(X,{children:[t.jsx(Fn,{width:"100%",height:200,children:t.jsxs(Q2,{children:[t.jsx(Ey,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"count",children:N.map((E,M)=>t.jsx(Sd,{fill:E.color},`cell-${M}`))}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})}),t.jsx("div",{className:"mt-4 space-y-2",children:N.map(E=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:E.color}}),t.jsx("span",{className:"text-gray-300",children:E.status})]}),t.jsx("span",{className:"font-medium text-white",children:E.count})]},E.status))})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(r0,{className:"h-5 w-5"}),"System Health"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-4",children:C.map(E=>t.jsxs("div",{children:[t.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:E.service}),t.jsxs("div",{className:"flex items-center gap-2",children:[E.status==="operational"?t.jsx(yt,{className:"h-4 w-4 text-green-500"}):t.jsx(Yt,{className:"h-4 w-4 text-yellow-500"}),t.jsxs("span",{className:"text-sm text-white",children:[E.uptime,"%"]})]})]}),t.jsx(xr,{value:E.uptime,className:"h-2"})]},E.service))}),t.jsx(q,{onClick:()=>e("/system-health"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View Details"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Us,{className:"h-5 w-5"}),"Recent Activity"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"space-y-3",children:o.length>0?o.slice(0,4).map((E,M)=>t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(je,{className:`${E.type==="organization"?"border-blue-500/30 bg-blue-500/20 text-blue-400":"border-emerald-500/30 bg-emerald-500/20 text-emerald-400"} mt-0.5`,children:E.type==="organization"?"ORG":"USER"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white",children:E.title}),t.jsxs("p",{className:"text-xs text-gray-400",children:[E.description," - ",new Date(E.time).toLocaleDateString()]})]})]},M)):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Us,{className:"mx-auto mb-2 h-8 w-8 text-gray-600"}),t.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"})]})}),t.jsx(q,{onClick:()=>e("/audit-logs"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View All Activity"})]})]})]})]})})}function jje(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Array(12).fill(0);let aS=1;class Nje{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const s=this.subscribers.indexOf(r);this.subscribers.splice(s,1)}),this.publish=r=>{this.subscribers.forEach(s=>s(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var s;const{message:a,...n}=r,i=typeof(r==null?void 0:r.id)=="number"||((s=r.id)==null?void 0:s.length)>0?r.id:aS++,o=this.toasts.find(d=>d.id===i),l=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...r,id:i,title:a}),{...d,...r,id:i,dismissible:l,title:a}):d):this.addToast({title:a,...n,dismissible:l,id:i}),i},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:r,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),r),this.message=(r,s)=>this.create({...s,message:r}),this.error=(r,s)=>this.create({...s,message:r,type:"error"}),this.success=(r,s)=>this.create({...s,type:"success",message:r}),this.info=(r,s)=>this.create({...s,type:"info",message:r}),this.warning=(r,s)=>this.create({...s,type:"warning",message:r}),this.loading=(r,s)=>this.create({...s,type:"loading",message:r}),this.promise=(r,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:r,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const n=Promise.resolve(r instanceof Function?r():r);let i=a!==void 0,o;const l=n.then(async m=>{if(o=["resolve",m],ce.isValidElement(m))i=!1,this.create({id:a,type:"default",message:m});else if(Cje(m)&&!m.ok){i=!1;const f=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,g=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,w=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(m instanceof Error){i=!1;const f=typeof s.error=="function"?await s.error(m):s.error,g=typeof s.description=="function"?await s.description(m):s.description,w=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(s.success!==void 0){i=!1;const f=typeof s.success=="function"?await s.success(m):s.success,g=typeof s.description=="function"?await s.description(m):s.description,w=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:a,type:"success",description:g,...w})}}).catch(async m=>{if(o=["reject",m],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(m):s.error,f=typeof s.description=="function"?await s.description(m):s.description,y=typeof h=="object"&&!ce.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((m,h)=>l.then(()=>o[0]==="reject"?h(o[1]):m(o[1])).catch(h));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(r,s)=>{const a=(s==null?void 0:s.id)||aS++;return this.create({jsx:r(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rn=new Nje,Sje=(e,r)=>{const s=(r==null?void 0:r.id)||aS++;return Rn.addToast({title:e,...r,id:s}),s},Cje=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kje=Sje,_je=()=>Rn.toasts,Pje=()=>Rn.getActiveToasts(),zi=Object.assign(kje,{success:Rn.success,info:Rn.info,warning:Rn.warning,error:Rn.error,custom:Rn.custom,message:Rn.message,promise:Rn.promise,dismiss:Rn.dismiss,loading:Rn.loading},{getHistory:_je,getToasts:Pje});jje("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const rN=(e,r)=>{switch(e){case"starter":return["1,000 monthly calls","3 team members","2 AI assistants","1 phone number","Basic analytics","Email support"];case"growth":return["10,000 monthly calls","10 team members","10 AI assistants","5 phone numbers","Advanced analytics","Priority support","Third-party integrations"];case"enterprise":return["Unlimited calls","Unlimited team members","Unlimited AI assistants","Unlimited phone numbers","Enterprise analytics","24/7 premium support","Custom SLA","Custom features"];default:return[]}},Aje=()=>[{id:"starter",name:"Starter",description:"Perfect for small teams getting started",price:99,interval:"month",features:rN("starter"),limits:{monthly_calls:1e3,team_members:3,ai_assistants:2,phone_numbers:1,api_calls:1e4}},{id:"growth",name:"Growth",description:"Scale your business with advanced features",price:299,interval:"month",recommended:!0,features:rN("growth"),limits:{monthly_calls:1e4,team_members:10,ai_assistants:10,phone_numbers:5,api_calls:1e5}},{id:"enterprise",name:"Enterprise",description:"Custom solutions for large organizations",price:999,interval:"month",features:rN("enterprise"),limits:{monthly_calls:-1,team_members:-1,ai_assistants:-1,phone_numbers:-1,api_calls:-1}}],Eje=()=>{br();const[e,r]=p.useState(!0),[s,a]=p.useState(null),[n,i]=p.useState([]),[o,l]=p.useState([]),[d,m]=p.useState(null);p.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const[S,_,A]=await Promise.all([Ft.get("/api/billing/subscription"),Ft.get("/api/billing/payment-methods"),Ft.get("/api/billing/history")]);a(S.data),i(_.data),l(A.data)}catch(S){console.error("Error fetching billing data:",S),zi.error("Failed to load billing data. Please try again.")}finally{r(!1)}},f=async S=>{try{m(S);const _=await Ft.post("/api/billing/upgrade",{plan_id:S});_.data.checkout_url?window.location.href=_.data.checkout_url:(await h(),zi.success("Subscription upgraded successfully!"))}catch(_){console.error("Error upgrading subscription:",_),zi.error("Failed to upgrade subscription. Please try again.")}finally{m(null)}},g=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{await Ft.post("/api/billing/cancel"),await h(),zi.success("Subscription cancelled successfully.")}catch(S){console.error("Error cancelling subscription:",S),zi.error("Failed to cancel subscription. Please try again.")}},y=async()=>{try{const S=await Ft.post("/api/billing/payment-method/setup");S.data.setup_url&&(window.location.href=S.data.setup_url)}catch(S){console.error("Error setting up payment method:",S),zi.error("Failed to add payment method. Please try again.")}},w=async S=>{if(confirm("Are you sure you want to remove this payment method?"))try{await Ft.delete(`/api/billing/payment-method/${S}`),await h(),zi.success("Payment method removed successfully.")}catch(_){console.error("Error removing payment method:",_),zi.error("Failed to remove payment method. Please try again.")}},v=async S=>{try{await Ft.post(`/api/billing/payment-method/${S}/default`),await h(),zi.success("Default payment method updated.")}catch(_){console.error("Error updating default payment method:",_),zi.error("Failed to update default payment method.")}},b=(S,_)=>_===-1?0:Math.min(S/_*100,100),N=S=>S===-1?"Unlimited":S.toLocaleString();if(e)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx(yi,{className:"h-8 w-8 animate-spin text-emerald-500"})});const C=Aje();return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-zinc-400",children:"Manage your subscription and billing settings"})}),t.jsxs(Ai,{defaultValue:"subscription",className:"space-y-6",children:[t.jsxs(Yn,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(ht,{value:"subscription",children:"Subscription"}),t.jsx(ht,{value:"payment",children:"Payment Methods"}),t.jsx(ht,{value:"history",children:"Billing History"})]}),t.jsxs(ft,{value:"subscription",className:"space-y-6",children:[s&&t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:"Current Subscription"}),t.jsx(Ht,{className:"text-zinc-400",children:"Your current subscription details and usage"})]}),t.jsx(je,{className:`${s.status==="active"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-red-500/30 bg-red-500/20 text-red-400"}`,children:s.status})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white",children:[s.plan_name," Plan"]}),t.jsxs("p",{className:"text-zinc-400",children:["Renews on ",new Date(s.current_period_end).toLocaleDateString()]})]}),s.cancel_at_period_end&&t.jsxs(ir,{className:"border-red-500/30 bg-red-500/10",children:[t.jsx(Yt,{className:"h-4 w-4 text-red-400"}),t.jsx(or,{className:"text-red-400",children:"Your subscription will cancel at the end of the current period"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-white",children:"Usage This Period"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(xt,{className:"h-4 w-4"}),"AI Calls"]}),t.jsxs("span",{className:"text-white",children:[s.usage.calls.toLocaleString()," /"," ",N(s.limits.monthly_calls)]})]}),t.jsx(xr,{value:b(s.usage.calls,s.limits.monthly_calls),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(bt,{className:"h-4 w-4"}),"Team Members"]}),t.jsxs("span",{className:"text-white",children:[s.usage.team_members," /"," ",N(s.limits.team_members)]})]}),t.jsx(xr,{value:b(s.usage.team_members,s.limits.team_members),className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[t.jsx(as,{className:"h-4 w-4"}),"AI Assistants"]}),t.jsxs("span",{className:"text-white",children:[s.usage.ai_assistants," /"," ",N(s.limits.ai_assistants)]})]}),t.jsx(xr,{value:b(s.usage.ai_assistants,s.limits.ai_assistants),className:"h-2"})]})]})]}),!s.cancel_at_period_end&&t.jsx(q,{variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:g,children:"Cancel Subscription"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Available Plans"}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:C.map(S=>{const _=(s==null?void 0:s.plan_id)===S.id,A=s&&C.findIndex(T=>T.id===s.plan_id)<C.findIndex(T=>T.id===S.id);return t.jsxs(J,{className:`relative border-zinc-800 bg-zinc-900 ${S.recommended?"ring-2 ring-emerald-500":""}`,children:[S.recommended&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 transform",children:t.jsx(je,{className:"bg-emerald-500 text-white",children:"Recommended"})}),t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[S.name,S.id==="enterprise"&&t.jsx(cr,{className:"h-5 w-5"}),S.id==="growth"&&t.jsx(_x,{className:"h-5 w-5 text-emerald-400"})]}),t.jsx(Ht,{className:"text-zinc-400",children:S.description}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",S.price]}),t.jsx("span",{className:"text-zinc-400",children:"/month"})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsx("ul",{className:"space-y-2",children:S.features.map((T,E)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx(tm,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-emerald-400"}),t.jsx("span",{className:"text-zinc-300",children:T})]},E))}),_?t.jsx(q,{className:"w-full bg-zinc-800 text-zinc-400",disabled:!0,children:"Current Plan"}):t.jsx(q,{className:"w-full bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>f(S.id),disabled:d===S.id,children:d===S.id?t.jsx(yi,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[A?`Upgrade to ${S.name}`:`Switch to ${S.name}`,t.jsx(io,{className:"ml-1 h-4 w-4"})]})})]})]},S.id)})})]})]}),t.jsx(ft,{value:"payment",className:"space-y-6",children:t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:"Payment Methods"}),t.jsx(Ht,{className:"text-zinc-400",children:"Manage your payment methods and billing information"})]}),t.jsx(q,{onClick:y,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Add Payment Method"})]})}),t.jsx(X,{children:n.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Ji,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No payment methods added yet"})]}):t.jsx("div",{className:"space-y-4",children:n.map(S=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ji,{className:"h-8 w-8 text-zinc-400"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[S.brand," •••• ",S.last4]}),t.jsxs("p",{className:"text-sm text-zinc-400",children:["Expires ",S.exp_month,"/",S.exp_year]})]}),S.is_default&&t.jsx(je,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:"Default"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!S.is_default&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(S.id),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:"Set as Default"}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(S.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:"Remove"})]})]},S.id))})})]})}),t.jsx(ft,{value:"history",className:"space-y-6",children:t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Billing History"}),t.jsx(Ht,{className:"text-zinc-400",children:"View your past invoices and payment history"})]}),t.jsx(X,{children:o.length===0?t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Mt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No billing history available"})]}):t.jsx("div",{className:"space-y-4",children:o.map(S=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`rounded-lg p-2 ${S.status==="paid"?"bg-emerald-500/20":"bg-yellow-500/20"}`,children:t.jsx(ba,{className:`h-5 w-5 ${S.status==="paid"?"text-emerald-400":"text-yellow-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:S.description}),t.jsx("p",{className:"text-sm text-zinc-400",children:new Date(S.date).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium text-white",children:["$",S.amount.toFixed(2)]}),t.jsx(je,{className:`${S.status==="paid"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]}),S.invoice_url&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>window.open(S.invoice_url,"_blank"),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:t.jsx(Wn,{className:"h-4 w-4"})})]})]},S.id))})})]})})]})]})},Tje=(e,r,s,a)=>{var i,o,l,d;const n=[s,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);Zc(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(d=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&d.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},iO={},nS=(e,r,s,a)=>{Zc(s)&&iO[s]||(Zc(s)&&(iO[s]=new Date),Tje(e,r,s,a))},PU=(e,r)=>()=>{if(e.isInitialized)r();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),r()};e.on("initialized",s)}},iS=(e,r,s)=>{e.loadNamespaces(r,PU(e,s))},oO=(e,r,s,a)=>{if(Zc(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(r)>-1)return iS(e,s,a);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(r,PU(e,a))},Oje=(e,r,s={})=>!r.languages||!r.languages.length?(nS(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),Zc=e=>typeof e=="string",Mje=e=>typeof e=="object"&&e!==null,Rje=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ije={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Dje=e=>Ije[e],Lje=e=>e.replace(Rje,Dje);let $je={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Lje};const zje=()=>$je;let Fje;const Uje=()=>Fje,Bje=p.createContext();class Wje{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Vje=(e,r)=>{const s=p.useRef();return p.useEffect(()=>{s.current=e},[e,r]),s.current},AU=(e,r,s,a)=>e.getFixedT(r,s,a),qje=(e,r,s,a)=>p.useCallback(AU(e,r,s,a),[e,r,s,a]),Hje=(e,r={})=>{var _,A,T,E;const{i18n:s}=r,{i18n:a,defaultNS:n}=p.useContext(Bje)||{},i=s||a||Uje();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Wje),!i){nS(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const M=(H,O)=>Zc(O)?O:Mje(O)&&Zc(O.defaultValue)?O.defaultValue:Array.isArray(H)?H[H.length-1]:H,L=[M,{},!1];return L.t=M,L.i18n={},L.ready=!1,L}(_=i.options.react)!=null&&_.wait&&nS(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...zje(),...i.options.react,...r},{useSuspense:l,keyPrefix:d}=o;let m=e||n||((A=i.options)==null?void 0:A.defaultNS);m=Zc(m)?[m]:m||["translation"],(E=(T=i.reportNamespaces).addUsedNamespaces)==null||E.call(T,m);const h=(i.isInitialized||i.initializedStoreOnce)&&m.every(M=>Oje(M,i,o)),f=qje(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),g=()=>f,y=()=>AU(i,r.lng||null,o.nsMode==="fallback"?m:m[0],d),[w,v]=p.useState(g);let b=m.join();r.lng&&(b=`${r.lng}${b}`);const N=Vje(b),C=p.useRef(!0);p.useEffect(()=>{const{bindI18n:M,bindI18nStore:L}=o;C.current=!0,!h&&!l&&(r.lng?oO(i,r.lng,m,()=>{C.current&&v(y)}):iS(i,m,()=>{C.current&&v(y)})),h&&N&&N!==b&&C.current&&v(y);const H=()=>{C.current&&v(y)};return M&&(i==null||i.on(M,H)),L&&(i==null||i.store.on(L,H)),()=>{C.current=!1,i&&M&&(M==null||M.split(" ").forEach(O=>i.off(O,H))),L&&i&&L.split(" ").forEach(O=>i.store.off(O,H))}},[i,b]),p.useEffect(()=>{C.current&&h&&v(g)},[i,d,h]);const S=[w,i,h];if(S.t=w,S.i18n=i,S.ready=h,h||!h&&!l)return S;throw new Promise(M=>{r.lng?oO(i,r.lng,m,()=>M()):iS(i,m,()=>M())})},Gg=p.forwardRef(({checked:e,onCheckedChange:r,onClick:s},a)=>t.jsx("div",{ref:a,onClick:n=>{s==null||s(n),r==null||r(!e)},style:{width:"12px",height:"12px",border:"1px solid white",borderRadius:"0px",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e&&t.jsx(tm,{style:{width:"8px",height:"8px",color:"black",strokeWidth:3}})}));Gg.displayName="SmallCheckbox";const Tc=({trigger:e,title:r,sortKey:s,onSort:a,onUnsort:n,onPinToggle:i,sortHistory:o=[],isPinned:l=!1,options:d,onOptionSelect:m,onHideColumn:h})=>{const[f,g]=p.useState(!1),y=p.useRef(null);p.useEffect(()=>{const v=b=>{y.current&&!y.current.contains(b.target)&&g(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const w=[];return d?d.forEach(v=>{w.push({label:v,icon:t.jsx("span",{className:"mr-2"}),onClick:()=>{m&&m(v),g(!1)}})}):(s&&a&&(w.push({label:"Sort ascending",icon:t.jsx("span",{className:"mr-2",children:"⬆️"}),onClick:()=>{a(s,"asc"),g(!1)}},{label:"Sort descending",icon:t.jsx("span",{className:"mr-2",children:"⬇️"}),onClick:()=>{a(s,"desc"),g(!1)}}),n&&w.push({label:"Unsort",icon:t.jsx("span",{className:"mr-2",children:"↕️"}),onClick:()=>{n(),g(!1)}})),i&&w.push({label:l?"Unpin column":"Pin column",icon:t.jsx("span",{className:"mr-2",children:l?"📌":"📍"}),onClick:()=>{i(),g(!1)}}),w.push({label:`Filter by ${r.toLowerCase()}`,icon:t.jsx("span",{className:"mr-2",children:"🔍"}),onClick:()=>g(!1)},{label:"Hide column",icon:t.jsx("span",{className:"mr-2",children:"👁️‍🗨️"}),onClick:()=>{h&&h(),g(!1)}})),t.jsxs("div",{className:"relative",ref:y,children:[t.jsx("div",{onClick:()=>g(!f),children:e}),f&&t.jsx("div",{className:"absolute right-0 top-full z-[9999] mt-1 max-h-[300px] overflow-y-auto",style:{minWidth:"160px",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.7)",padding:"6px"},children:w.map((v,b)=>t.jsxs(ce.Fragment,{children:[b===2&&s&&t.jsx("div",{style:{height:"1px",backgroundColor:"#374151",margin:"6px 8px"}}),t.jsxs("div",{onClick:v.onClick,className:"text-white",style:{display:"flex",alignItems:"center",padding:"6px 10px",cursor:"pointer",borderRadius:"6px",color:"#ffffff !important",fontSize:"10px",backgroundColor:"transparent",transition:"all 0.2s ease"},onMouseEnter:N=>{N.currentTarget.style.backgroundColor="rgba(55, 65, 81, 0.5)",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(2px)"},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="transparent",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(0)"},children:[v.icon,v.label]})]},b))})]})},EU=p.createContext(void 0),Kje=()=>{const e=p.useContext(EU);if(!e)throw new Error("useContacts must be used within ContactsProvider");return e},Gje=({children:e})=>{const[r,s]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),{user:l,isSignedIn:d,isLoaded:m}=xf(),h=async()=>{try{if(n(!0),o(null),!d||!l||!l.organization_id){console.log("⚠️ No user logged in or no organization, skipping contacts fetch"),s([]);return}const y=l.organization_id;console.log(`🔍 Fetching contacts for organization: ${y}`),console.log(`🔍 User: ${l.email} (${l.role})`);const{data:w,error:v}=await xi.client.from("leads").select(`
          *,
          campaigns(name),
          uploaded_by:users!leads_uploaded_by_fkey(
            id,
            first_name,
            last_name
          )
        `).eq("organization_id",y).order("created_at",{ascending:!1});if(console.log("📊 Raw contacts data:",w),console.log("❌ Fetch error:",v),v)throw v;const b=(w||[]).map(N=>{var C,S;return{id:N.id,firstName:N.first_name||void 0,lastName:N.last_name||void 0,email:N.email||void 0,phone:N.phone||void 0,company:N.company||void 0,title:N.job_title||void 0,status:N.status||"new",priority:N.priority||"medium",source:N.lead_source||N.source||"ai_voice_call",campaign:((C=N.campaigns)==null?void 0:C.name)||"General",notes:N.notes||void 0,cid:N.id,date:N.created_at,value:N.conversion_value||N.value||0,assignedTo:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",assignedToId:((S=N.uploaded_by)==null?void 0:S.id)||void 0,owner:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",lastContactDate:N.last_call_at||N.last_contact_date||N.created_at,nextFollowUp:N.next_call_at||N.next_follow_up||void 0,lastActivity:N.last_call_at||N.last_activity||N.created_at,activities:N.call_attempts||N.activities_count||0,tags:N.tags||[]}});s(b),console.log(`✅ Loaded ${b.length} contacts from database`)}catch(y){console.error("❌ Error fetching contacts:",y),o(y instanceof Error?y.message:"Failed to fetch contacts")}finally{n(!1)}},f=async()=>{await h()};p.useEffect(()=>{m&&(d&&l&&l.organization_id?h():(n(!1),s([])))},[m,d,l==null?void 0:l.organization_id]);const g=(y,w)=>{s(v=>v.find(N=>N.id===y)?v.map(N=>N.id===y?{...N,status:w}:N):(console.warn(`Contact with ID ${y} not found`),v))};return t.jsx(EU.Provider,{value:{contacts:r,setContacts:s,updateContactStatus:g,loading:a,error:i,refreshContacts:f},children:e})},Cd=Q7,Yje=Z7,Jje=eU,TU=p.forwardRef(({className:e,...r},s)=>t.jsx(dk,{ref:s,className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));TU.displayName=dk.displayName;const dc=p.forwardRef(({className:e,children:r,...s},a)=>t.jsxs(Jje,{children:[t.jsx(TU,{}),t.jsxs(uk,{ref:a,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...s,children:[r,t.jsxs(fk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[t.jsx(St,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dc.displayName=uk.displayName;const uc=({className:e,...r})=>t.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});uc.displayName="DialogHeader";const wm=({className:e,...r})=>t.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});wm.displayName="DialogFooter";const mc=p.forwardRef(({className:e,...r},s)=>t.jsx(mk,{ref:s,className:Le("text-lg font-semibold leading-none tracking-tight",e),...r}));mc.displayName=mk.displayName;const kd=p.forwardRef(({className:e,...r},s)=>t.jsx(hk,{ref:s,className:Le("text-sm text-zinc-500 dark:text-zinc-400",e),...r}));kd.displayName=hk.displayName;const sN=[{key:"industry",title:"Industry",description:"Business sector classification",category:"Business Info",icon:kx,width:"140px"},{key:"companySize",title:"Company Size",description:"Number of employees",category:"Business Info",icon:bt,width:"120px"},{key:"location",title:"Location",description:"Geographic location",category:"Business Info",icon:sd,width:"140px"},{key:"website",title:"Website",description:"Company website",category:"Business Info",icon:Ea,width:"140px"},{key:"pipelineValue",title:"Pipeline Value",description:"Estimated deal value",category:"Sales Data",icon:Fr,width:"130px"},{key:"leadScore",title:"Lead Score",description:"Lead quality rating (1-10)",category:"Sales Data",icon:Bs,width:"110px"},{key:"interestLevel",title:"Interest Level",description:"Interest rating (1-10)",category:"Sales Data",icon:ba,width:"120px"},{key:"priority",title:"Priority",description:"Lead priority level",category:"Sales Data",icon:lr,width:"100px"},{key:"source",title:"Lead Source",description:"How lead was acquired",category:"Contact Data",icon:KM,width:"130px"},{key:"nextFollowUp",title:"Next Follow-up",description:"Scheduled follow-up date",category:"Contact Data",icon:_s,width:"140px"},{key:"lastCallOutcome",title:"Last Call Outcome",description:"Result of last call",category:"Contact Data",icon:xt,width:"150px"},{key:"callDuration",title:"Call Duration",description:"Average call length",category:"Contact Data",icon:Mt,width:"120px"},{key:"owner",title:"Lead Owner",description:"Assigned team member",category:"Assignment",icon:ql,width:"130px"},{key:"title",title:"Job Title",description:"Contact job position",category:"Assignment",icon:$G,width:"130px"}];function Xje({isOpen:e,onClose:r,onSave:s,currentColumns:a}){const[n,i]=p.useState([]),[o,l]=p.useState({"Business Info":!0,"Sales Data":!0,"Contact Data":!0,Assignment:!0}),d=[...new Set(sN.map(w=>w.category))],m=sN.filter(w=>!a.includes(w.key)),h=w=>{i(v=>v.includes(w)?v.filter(b=>b!==w):[...v,w])},f=()=>{s(n),i([]),r()},g=()=>{i([]),r()},y=w=>{l(v=>({...v,[w]:!v[w]}))};return t.jsx(Cd,{open:e,onOpenChange:r,children:t.jsxs(dc,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-gray-700",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Add Columns to CRM Table"}),t.jsx(kd,{className:"text-gray-400",children:"Select additional fields to display in your CRM table. Choose from business information, sales data, and contact details."})]}),t.jsx("div",{className:"grid grid-cols-2 gap-6 overflow-y-auto max-h-[500px] py-4 pr-2",children:d.map(w=>{const v=m.filter(b=>b.category===w);return v.length===0?null:t.jsxs(J,{className:"bg-gray-800/60 border-gray-600 hover:border-gray-500 transition-colors",children:[t.jsx(pe,{className:"pb-3 cursor-pointer hover:bg-gray-700/30 rounded-t-lg transition-colors",onClick:()=>y(w),children:t.jsxs(xe,{className:"text-sm text-white flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:w}),t.jsx(je,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border border-blue-500/30",children:v.length})]})}),o[w]&&t.jsx(X,{className:"space-y-3",children:v.map(b=>{const N=b.icon,C=n.includes(b.key);return t.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border cursor-pointer transition-all ${C?"border-blue-500 bg-blue-500/15 shadow-sm":"border-gray-600 hover:border-gray-500 hover:bg-gray-700/30"}`,onClick:()=>h(b.key),children:[t.jsx("div",{className:"mt-0.5",children:t.jsx("input",{type:"checkbox",checked:C,onChange:()=>h(b.key),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),t.jsx(N,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:b.title}),t.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:b.description})]})]},b.key)})})]},w)})}),n.length>0&&t.jsxs("div",{className:"border-t border-gray-700 pt-4 bg-gray-800/30 -mx-6 px-6 rounded-b-lg",children:[t.jsxs("div",{className:"text-sm text-gray-300 mb-3 font-medium",children:["Selected fields (",n.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:n.map(w=>{const v=sN.find(b=>b.key===w);return v?t.jsx(je,{variant:"secondary",className:"bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:v.title},w):null})})]}),t.jsxs(wm,{className:"gap-3",children:[t.jsx(q,{variant:"outline",onClick:g,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:"Cancel"}),t.jsxs(q,{onClick:f,disabled:n.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",n.length," Column",n.length!==1?"s":""]})]})]})})}const Gy=({isOpen:e,onClose:r,callData:s})=>{var I,W,V,U,$;const[a,n]=p.useState(!1),[i,o]=p.useState(0),[l,d]=p.useState(1),[m,h]=p.useState(-1),[f,g]=p.useState(!1),y=p.useRef(null),w=p.useRef(null),v=p.useRef([]),b=p.useRef(null);p.useEffect(()=>{console.log("🎯 CallLogDetailsModal received callData:",{hasData:!!s,callDataKeys:s?Object.keys(s):[],hasTranscript:!!(s!=null&&s.transcript),transcriptType:s!=null&&s.transcript?typeof s.transcript:"no transcript",transcriptIsArray:Array.isArray(s==null?void 0:s.transcript),transcriptLength:Array.isArray(s==null?void 0:s.transcript)||typeof(s==null?void 0:s.transcript)=="string"?s.transcript.length:0,transcriptSample:s!=null&&s.transcript?Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":"Unknown format":"No transcript",fullData:s})},[s]);const N=p.useRef([]);if(N.current.length===0)for(let R=0;R<100;R++){const z=Math.sin(R*.1)*20+Math.sin(R*.3)*15+Math.random()*25;N.current.push(30+Math.abs(z))}const[C,S]=p.useState(0),_=C||(s==null?void 0:s.duration)||0;p.useEffect(()=>{e&&s&&(console.log("CallLogDetailsModal opened with callData:"),console.log("  id:",s.id),console.log("  customerName:",s.customerName),console.log("  duration:",s.duration),console.log("  hasTranscript:",!!s.transcript),console.log("  transcriptType:",typeof s.transcript),console.log("  All callData keys:",Object.keys(s)),s.transcript?(console.log("  Transcript exists! Type:",typeof s.transcript),typeof s.transcript=="string"?(console.log("  Transcript (string) length:",s.transcript.length),console.log("  Transcript preview:",s.transcript.substring(0,100))):Array.isArray(s.transcript)&&(console.log("  Transcript (array) length:",s.transcript.length),console.log("  First item:",s.transcript[0]))):console.log("  ❌ NO TRANSCRIPT IN DATA!"))},[e,s]);const A=R=>{const F=Math.floor(R/60),z=Math.floor(R%60);return`${String(F).padStart(2,"0")}:${String(z).padStart(2,"0")}`},T=async()=>{if(y.current&&s&&s.recording)try{a?(y.current.pause(),n(!1)):((!y.current.src||y.current.src!==s.recording)&&(y.current.src=s.recording,await new Promise((R,F)=>{y.current.addEventListener("canplay",R,{once:!0}),y.current.addEventListener("error",F,{once:!0}),y.current.load()})),await y.current.play(),n(!0))}catch(R){console.error("Playback error:",R),alert("Unable to play audio. The recording may not be available."),n(!1)}else s!=null&&s.recording||alert("No recording available for this call.")},E=()=>{if(y.current&&s&&!f){const R=y.current.currentTime;o(Math.floor(R));const F=Array.isArray(s.transcript)?s.transcript.findIndex(z=>z.startTime!==void 0&&z.endTime!==void 0&&R>=z.startTime&&R<=z.endTime):-1;if(F!==m&&F!==-1&&(h(F),v.current[F]&&w.current)){const z=v.current[F],K=w.current,B=z.offsetTop,Q=z.offsetHeight,Ce=K.offsetHeight,Z=K.scrollTop;(B<Z||B+Q>Z+Ce)&&K.scrollTo({top:B-Ce/2+Q/2,behavior:"smooth"})}}},M=R=>{if(!_||_===0||!b.current){console.log("Cannot seek: Duration is 0 or not available");return}const F=b.current.getBoundingClientRect(),K=Math.max(0,Math.min(R.clientX-F.left,F.width))/F.width,B=K*_;console.log(`Seeking to: ${B.toFixed(2)}s of ${_}s (${(K*100).toFixed(1)}%)`),o(Math.floor(B)),y.current&&(s!=null&&s.recording)&&(y.current.currentTime=B)},L=R=>{f&&(R.preventDefault(),M(R))},H=()=>{f&&(g(!1),console.log("Stopped dragging"))};p.useEffect(()=>{if(f)return document.addEventListener("mousemove",L),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",H)}},[f,_]);const O=R=>{d(R),y.current&&(y.current.playbackRate=R)};return p.useEffect(()=>{if(y.current&&s){const R=y.current,F=()=>{n(!1),o(0),h(-1)};return R.addEventListener("timeupdate",E),R.addEventListener("ended",F),()=>{R.removeEventListener("timeupdate",E),R.removeEventListener("ended",F)}}},[m,s]),p.useEffect(()=>{e||(n(!1),o(0),h(-1),g(!1),y.current&&(y.current.pause(),y.current.currentTime=0))},[e]),p.useEffect(()=>{if(!e||!y.current||!_)return;const R=F=>{switch(F.key){case" ":F.preventDefault(),T();break;case"ArrowLeft":F.preventDefault();const z=Math.max(0,y.current.currentTime-5);y.current.currentTime=z,o(Math.floor(z)),console.log("Skipped back 5 seconds");break;case"ArrowRight":F.preventDefault();const K=Math.min(_,y.current.currentTime+5);y.current.currentTime=K,o(Math.floor(K)),console.log("Skipped forward 5 seconds");break}};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,_,a]),!e||!s?null:(console.log("📊 DEBUG: CallLogDetailsModal received callData:",{id:s.id,duration:s.duration,cost:s.cost,recording:s.recording,customerName:s.customerName,effectiveDuration:_,audioDuration:C,hasTranscript:!!s.transcript,transcriptType:typeof s.transcript,transcriptIsArray:Array.isArray(s.transcript),transcriptLength:typeof s.transcript=="string"||Array.isArray(s.transcript)?s.transcript.length:0,transcriptPreview:typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):"No transcript"}),t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-end bg-black/60 p-0 backdrop-blur-sm",onClick:r,children:t.jsx("div",{className:"h-full w-[50%] overflow-hidden border-l border-gray-700/50 bg-[#1a1a1a] shadow-2xl",onClick:R=>R.stopPropagation(),children:t.jsxs("div",{className:"flex h-full flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700/50 bg-[#1a1a1a] p-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-3",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-6 w-6 text-blue-400",children:t.jsx("path",{d:"M237.2,151.87v0a47.1,47.1,0,0,0-2.35-5.45L193.26,51.8a7.82,7.82,0,0,0-1.66-2.44,32,32,0,0,0-45.26,0A8,8,0,0,0,144,55V80H112V55a8,8,0,0,0-2.34-5.66,32,32,0,0,0-45.26,0,7.82,7.82,0,0,0-1.66,2.44L21.15,146.4a47.1,47.1,0,0,0-2.35,5.45v0A48,48,0,1,0,112,168V96h32v72a48,48,0,1,0,93.2-16.13ZM76.71,59.75a16,16,0,0,1,19.29-1v73.51a47.9,47.9,0,0,0-46.79-9.92ZM64,200a32,32,0,1,1,32-32A32,32,0,0,1,64,200ZM160,58.74a16,16,0,0,1,19.29,1l27.5,62.58A47.9,47.9,0,0,0,160,132.25ZM192,200a32,32,0,1,1,32-32A32,32,0,0,1,192,200Z"})})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Call Log Details"}),s.customerName&&t.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:["with ",s.customerName," • ",A(_)]})]})]}),t.jsx("button",{onClick:r,className:"rounded-xl p-2 text-gray-400 transition-all duration-200 hover:bg-gray-700/50 hover:text-white",children:t.jsx(St,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"overflow-y-auto flex-shrink-0 border-b border-gray-700/50 bg-[#1a1a1a] p-4",style:{maxHeight:"40%"},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:"Call Details"}),t.jsx("div",{className:"flex items-center gap-2",children:s.status&&t.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${s.status==="completed"?"bg-green-500/10 text-green-400":s.status==="failed"?"bg-red-500/10 text-red-400":"bg-gray-800/30 text-gray-400"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Contact"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Name:"}),t.jsx("span",{className:"text-white font-medium",children:s.customerName||"Unknown"})]}),s.customerPhone&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Phone:"}),t.jsx("span",{className:"text-white font-mono text-xs",children:s.customerPhone})]}),s.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Company:"}),t.jsx("span",{className:"text-white",children:s.customerCompany})]}),s.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Email:"}),t.jsx("span",{className:"text-white text-xs",children:s.customerEmail})]})]})]}),t.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Call Stats"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Duration:"}),t.jsx("span",{className:"text-lg font-mono text-white font-medium",children:A(_)})]}),s.cost!==void 0&&s.cost>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Cost:"}),t.jsxs("span",{className:"text-emerald-400 font-medium",children:["$",s.cost.toFixed(3)]})]}),s.direction&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Direction:"}),t.jsx("span",{className:"text-white capitalize",children:s.direction})]})]})]})]}),(s.campaignName||s.startedAt||s.vapiCallId)&&t.jsxs("div",{className:"mb-4 space-y-2 rounded-lg bg-gray-800/30 p-3",children:[s.campaignName&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"text-white",children:s.campaignName})]}),s.startedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:new Date(s.startedAt).toLocaleString()})]}),s.endedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:new Date(s.endedAt).toLocaleString()})]}),s.vapiCallId&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI ID:"}),t.jsxs("span",{className:"text-white font-mono text-xs",children:[s.vapiCallId.substring(0,8),"..."]})]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Space: Play/Pause • ←→: Skip 5s • Click/Drag: Seek"})]}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:A(_)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:T,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:a?t.jsx(Lu,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Un,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4 cursor-pointer select-none",onMouseDown:R=>{if(R.preventDefault(),R.stopPropagation(),!_||_===0){console.log("Cannot seek: Duration is 0 or not available");return}const F=R.currentTarget.getBoundingClientRect(),z=R.clientX-F.left,K=Math.max(0,Math.min(1,z/F.width)),B=K*_;y.current&&s.recording&&(console.log(`Waveform seek to: ${B.toFixed(2)}s of ${_}s (${(K*100).toFixed(1)}%)`),y.current.currentTime=B,o(Math.floor(B)))},children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5 pointer-events-none",children:N.current.map((R,F)=>{const z=_>0&&F/100*_<=i;return t.jsx("div",{className:"flex-1 rounded-t transition-all",style:{height:`${R}%`,backgroundColor:z?"#10b981":"#4b5563",opacity:z?1:.5,transition:"background-color 150ms ease-out"}},F)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50 pointer-events-none",style:{left:`${_>0?i/_*100:0}%`}}),t.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-800 rounded text-xs text-white whitespace-nowrap",children:"Click to seek"})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("select",{value:l,onChange:R=>O(Number(R.target.value)),className:"rounded-xl border border-gray-600/50 bg-gray-800/50 px-3 py-3 text-sm text-white transition-all focus:border-green-500/50 focus:ring-2 focus:ring-green-500/50 focus:outline-none",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:.75,children:"0.75x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.25,children:"1.25x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:1.75,children:"1.75x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("button",{onClick:()=>{if(s.recording)if(s.recording.includes("vapi.ai"))window.open(s.recording,"_blank");else{const R=document.createElement("a");R.href=s.recording,R.download=`call-recording-${s.id}.wav`,document.body.appendChild(R),R.click(),document.body.removeChild(R)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Wn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:A(i)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",A(Math.max(0,_-i))]})]}),t.jsxs("div",{ref:b,className:"relative h-12 flex items-center cursor-pointer select-none",onMouseDown:R=>{if(R.preventDefault(),R.stopPropagation(),!_||_===0){console.log("Cannot seek: Duration is 0 or not available");return}g(!0),M(R),console.log("Started dragging")},onClick:R=>{R.preventDefault(),R.stopPropagation(),M(R)},style:{touchAction:"none"},children:[t.jsx("div",{className:"absolute inset-0"}),t.jsx("div",{className:"absolute inset-x-0 h-2 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${_>0?i/_*100:0}%`,transition:f?"none":"width 100ms"}})}),t.jsx("div",{className:`absolute top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg ${f?"h-5 w-5":"h-4 w-4"} transition-all`,style:{left:`${_>0?i/_*100:0}%`,boxShadow:f?"0 0 0 8px rgba(34, 197, 94, 0.3)":"0 0 0 4px rgba(34, 197, 94, 0.2)",cursor:f?"grabbing":"grab",transition:f?"none":"all 100ms"}}),t.jsx("div",{className:"absolute -top-8 left-0 right-0 flex justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded",children:f?"Drag to seek":"Click or drag to seek"})})]})]})]})]})}),s.recording&&t.jsx("audio",{ref:y,src:s.recording,preload:"metacallData",onError:R=>{console.error("Audio loading error:",R),console.error("Failed to load:",s.recording),n(!1)},onLoadedMetadata:R=>{const F=R.currentTarget;console.log("Audio metadata loaded:",{duration:F.duration,src:F.src}),F.duration&&!isNaN(F.duration)&&(S(F.duration),console.log("Set audio duration to:",F.duration))},onDurationChange:R=>{const F=R.currentTarget;F.duration&&!isNaN(F.duration)&&(S(F.duration),console.log("Duration changed to:",F.duration))},onCanPlay:()=>{console.log("Audio ready to play")}})]})]}),t.jsxs(Ai,{defaultValue:"transcripts",className:"flex flex-1 flex-col bg-[#1a1a1a] min-h-0",children:[t.jsx("div",{className:"border-b border-gray-700/50 bg-[#1a1a1a] px-6",children:t.jsxs(Yn,{className:"h-14 space-x-8 bg-transparent p-0",children:[t.jsxs(ht,{value:"transcripts",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,48H160a40,40,0,0,0-32,16A40,40,0,0,0,96,48H24a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H96a24,24,0,0,1,24,24,8,8,0,0,0,16,0,24,24,0,0,1,24-24h72a8,8,0,0,0,8-8V56A8,8,0,0,0,232,48ZM96,192H32V64H96a24,24,0,0,1,24,24V200A39.81,39.81,0,0,0,96,192Zm128,0H160a39.81,39.81,0,0,0-24,8V88a24,24,0,0,1,24-24h64Z"})}),"Transcripts"]}),t.jsxs(ht,{value:"logs",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),"Logs"]}),t.jsxs(ht,{value:"analysis",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"})}),"Analysis"]}),t.jsxs(ht,{value:"messages",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M93.31,70,28,128l65.27,58a8,8,0,1,1-10.62,12l-72-64a8,8,0,0,1,0-12l72-64A8,8,0,1,1,93.31,70Zm152,52-72-64a8,8,0,0,0-10.62,12L228,128l-65.27,58a8,8,0,1,0,10.62,12l72-64a8,8,0,0,0,0-12Z"})}),"Messages"]}),t.jsxs(ht,{value:"cost",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:t.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V200H224A8,8,0,0,1,232,208ZM132,160a12,12,0,1,0-12-12A12,12,0,0,0,132,160Zm-24-56A12,12,0,1,0,96,92,12,12,0,0,0,108,104ZM76,176a12,12,0,1,0-12-12A12,12,0,0,0,76,176Zm96-48a12,12,0,1,0-12-12A12,12,0,0,0,172,128Zm24-40a12,12,0,1,0-12-12A12,12,0,0,0,196,88Zm-20,76a12,12,0,1,0,12-12A12,12,0,0,0,176,164Z"})}),"Call Cost"]})]})}),t.jsxs("div",{className:"mx-6 mb-6 mt-6 flex min-h-0 w-auto flex-1 flex-col rounded-2xl border border-gray-700/30 bg-gray-900/40 px-6 py-4 backdrop-blur-sm overflow-hidden",children:[t.jsx(ft,{value:"transcripts",className:"mt-2 flex flex-1 flex-col",children:t.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-700/30",children:t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transcript"})}),t.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",style:{maxHeight:"500px"},children:s&&s.transcript&&Array.isArray(s.transcript)?t.jsx(t.Fragment,{children:s.transcript.map((R,F)=>t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("strong",{className:`text-sm font-bold ${R.speaker==="user"?"text-blue-400":"text-green-400"}`,children:R.speaker==="user"?"User":"AI"})}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 p-3 text-sm text-gray-300",children:R.text})]},F))}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[t.jsx("p",{className:"text-lg",children:"No transcript available"}),t.jsxs("p",{className:"text-xs mt-2",children:["Debug: callData=",s?"exists":"null",", transcript=",s!=null&&s.transcript?"exists":"null",", isArray=",Array.isArray(s==null?void 0:s.transcript)?"yes":"no"]})]})})]})}),t.jsxs(ft,{value:"logs",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"logs-tab-content",children:[t.jsx("div",{className:"sticky top-0 z-10 mb-4 border-b border-gray-700/30 bg-gray-900/40 pb-3 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-row items-center gap-3",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-5 w-5 text-gray-400",children:t.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),t.jsx("span",{className:"text-lg font-semibold text-white",children:"Logs"})]})}),t.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4a5568 #2d3748"},children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:883"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:162"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:442"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly stopping"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Endpointing timeout 600ms (rule: `heuristic`)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Transcriber output: Hello?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:923"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech stopped"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:963"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:964"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started (attempt #1, gpt-4.1-2025-04-14, azure-openai, westus)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:333"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request active (attempt #1, 0 buffered outputs)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:334"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model sent start token"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:336"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: Hello"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:380"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: , is it possible to speak to Harris please?"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:827"}),t.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request cost (attempt #1, $0.004544, 2228 prompt, 11 completion)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-blue-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-blue-400",children:"[INFO]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Turn latency: 1889ms (transcriber: 0ms, endpointing: 762ms, kb: n/a, model: 374ms, voice: 727ms)"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech started"})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[t.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:28:489"}),t.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),t.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech stopped"})]}),t.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 transition-colors hover:bg-gray-800/30",children:t.jsxs("div",{className:"flex items-start space-x-3 p-3",children:[t.jsx("span",{className:"w-20 rounded bg-gray-800/50 px-2 py-1 font-mono text-xs text-gray-500",children:"11:53:30:321"}),t.jsx("span",{className:"flex-shrink-0 rounded bg-cyan-400/10 px-2 py-1 text-xs font-medium text-cyan-400",children:"[LOG]"}),t.jsx("p",{className:"flex-1 text-sm text-gray-300",children:"Transcriber output: Speaking."})]})})]})]}),t.jsx(ft,{value:"analysis",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"analysis-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Analysis"}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Sentiment Analysis"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Overall Sentiment:"}),t.jsx("span",{className:`${(I=s.analysis)!=null&&I.sentiment&&s.analysis.sentiment>.6?"text-green-400":"text-yellow-400"}`,children:(W=s.analysis)!=null&&W.sentiment&&s.analysis.sentiment>.6?"Positive":"Neutral"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Confidence:"}),t.jsxs("span",{className:"text-white",children:[((((V=s.analysis)==null?void 0:V.sentiment)||0)*100).toFixed(0),"%"]})]})]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Call Summary"}),t.jsx("div",{className:"text-sm text-gray-300",children:(U=s.analysis)==null?void 0:U.summary})]}),t.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[t.jsx("h5",{className:"mb-3 font-medium text-white",children:"Keywords"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:($=s.analysis)==null?void 0:$.keywords.map((R,F)=>t.jsx("span",{className:"rounded border border-gray-600 bg-gray-800 px-2 py-1 text-xs text-gray-300",children:R},F))})]})]})}),t.jsx(ft,{value:"messages",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"messages-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Messages"}),t.jsx("div",{className:"text-sm text-gray-400",children:t.jsx("p",{children:"Messages and notifications related to this call."})})]})}),t.jsx(ft,{value:"cost",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"cost-breakdown-tab-content",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Call Cost Breakdown"}),t.jsxs("div",{className:"rounded-lg bg-gray-800/30 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Call Duration"}),t.jsx("span",{className:"text-2xl font-mono text-white font-medium",children:A(_)})]}),_>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:[Math.floor(_/60)," minutes ",Math.floor(_%60)," seconds"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Rate per Minute:"}),t.jsx("span",{className:"text-white",children:"$0.037"})]}),_>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Calculated Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(_/60*.037).toFixed(3)]})]}),t.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[t.jsx("span",{className:"font-medium text-gray-400",children:"Total Cost:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:["$",s.cost?s.cost.toFixed(2):"0.00"]})]})]})]})})]})]})]})})}))},Js=(e,r="")=>e||r,Qje=[{id:"user-1",name:"Sarah Wilson",email:"s.wilson@company.com",role:"Sales Manager",isActive:!0},{id:"user-2",name:"Mark Johnson",email:"m.johnson@company.com",role:"Sales Rep",isActive:!0},{id:"user-3",name:"Emily Chen",email:"e.chen@company.com",role:"Sales Rep",isActive:!0},{id:"user-4",name:"David Rodriguez",email:"d.rodriguez@company.com",role:"Sales Rep",isActive:!0},{id:"user-5",name:"Lisa Park",email:"l.park@company.com",role:"SDR",isActive:!0}],Oc={new:{label:"New",color:"bg-white/20 border border-white/50 text-white",icon:ys},contacted:{label:"Contacted",color:"bg-yellow-500/20 border border-yellow-500/50 text-yellow-400",icon:xt},interested:{label:"Interested",color:"bg-orange-500/20 border border-orange-500/50 text-orange-400",icon:Qi},qualified:{label:"Qualified",color:"bg-amber-500/20 border border-amber-500/50 text-amber-400",icon:yt},converted:{label:"Converted",color:"bg-amber-600/20 border border-amber-600/50 text-amber-500",icon:lr},unqualified:{label:"Unqualified",color:"bg-red-500/20 border border-red-500/50 text-red-400",icon:Yi}};function Zje(){const e=br(),{t:r}=Hje(["crm","common"]),s=ie=>({id:`call_${ie.id}_001`,duration:Math.floor(Math.random()*300)+60,transcript:[{speaker:"ai",text:`Hello, is this ${Js(ie.firstName,"there")}?`},{speaker:"user",text:"Yes, this is me."},{speaker:"ai",text:`Hi ${Js(ie.firstName,"there")}, this is Sarah from Apex AI Solutions. I hope I'm not catching you at a bad time. I'm calling because we've developed an innovative AI calling solution that's been helping companies like ${Js(ie.company,"yours")} increase their outreach efficiency. Would you be interested in learning more?`},{speaker:"user",text:ie.status==="interested"?"Yes, that sounds very interesting. Tell me more.":"I might be interested, but I'm quite busy right now."},{speaker:"ai",text:ie.status==="interested"?"Great! Our AI platform can handle hundreds of calls simultaneously and provides detailed analytics. Would you like to schedule a demo?":"I understand you're busy. Would it be better if I called back at a more convenient time?"}],recording:"/mock-audio.wav",analysis:{sentiment:ie.status==="interested"?.8:ie.status==="contacted"?.6:.4,keywords:["AI","solution",Js(ie.company,""),"efficiency"].filter(ye=>ye),summary:`Call with ${Js(ie.firstName)} ${Js(ie.lastName)} from ${Js(ie.company)}. ${ie.status==="interested"?"Expressed strong interest in AI solutions.":ie.status==="contacted"?"Showed moderate interest, needs follow-up.":"Limited interest shown."}`},cost:+(Math.random()*2+.25).toFixed(2)}),a=ie=>{de(ie),Ae(!0)},{contacts:n}=Kje(),i=t.jsx("style",{children:`
      /* Campaign Details style table */
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }
      
      /* Modern table headers */
      thead th {
        background: rgba(31, 41, 55, 0.8) !important;
        backdrop-filter: blur(8px) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        color: #ffffff !important;
        font-weight: 600;
        text-transform: none;
        position: relative;
        padding: 12px 16px !important;
      }
      
      /* Table rows with Campaign Details styling */
      tbody tr {
        background: rgba(31, 41, 55, 0.4);
        border: 1px solid rgba(55, 65, 81, 0.3);
        transition: all 0.2s ease;
      }
      
      tbody tr:hover {
        background: rgba(31, 41, 55, 0.6);
        border-color: rgba(55, 65, 81, 0.5);
      }
      
      tbody td {
        border: none !important;
        padding: 12px 16px !important;
        vertical-align: middle;
      }
      
      /* Checkbox styling */
      input[type="checkbox"],
      button[role="checkbox"] {
        background-color: rgba(31, 41, 55, 0.8) !important;
        border: 1px solid rgba(55, 65, 81, 0.5) !important;
        border-radius: 4px;
      }
      
      button[role="checkbox"][data-state="checked"] {
        background-color: rgb(16, 185, 129) !important;
        border-color: rgb(16, 185, 129) !important;
      }
      
      /* Search input styling */
      .search-input-small {
        font-size: 10px !important;
      }
      
      .search-input-small::placeholder {
        font-size: 10px !important;
        color: #9CA3AF !important;
      }
    `}),[o,l]=p.useState([]),[d,m]=p.useState("table"),[h,f]=p.useState(""),[g,y]=p.useState("all"),[w,v]=p.useState("all"),[b,N]=p.useState("all"),[C,S]=p.useState("All leads"),[_,A]=p.useState("lastActivity"),[T,E]=p.useState("desc"),[M,L]=p.useState([]),[H,O]=p.useState({}),[I,W]=p.useState({}),[V,U]=p.useState(["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"]),[$,R]=p.useState(null),[F,z]=p.useState(null),[K,B]=p.useState(!1),[Q,Ce]=p.useState("contacts"),[Z,ne]=p.useState(!1),[ze,Ae]=p.useState(!1),[Re,de]=p.useState(null),[Se,Ee]=p.useState(!1),[te,be]=p.useState([]),[Te,Ue]=p.useState({status:!0,tags:!0,quickFilters:!0}),Ge=[...n.filter(ie=>{const ye=h===""||ie.firstName&&ie.firstName.toLowerCase().includes(h.toLowerCase())||ie.lastName&&ie.lastName.toLowerCase().includes(h.toLowerCase())||ie.email&&ie.email.toLowerCase().includes(h.toLowerCase())||ie.company&&ie.company.toLowerCase().includes(h.toLowerCase())||ie.phone&&ie.phone.includes(h),Fe=g==="all"||ie.status===g,it=w==="all"||ie.assignedToId===w,vt=b==="all"||ie.tags.includes(b),Zt=(()=>{switch(C){case"All leads":return!0;case"My leads":return ie.assignedTo==="Sarah Johnson";case"Junk leads":return ie.status==="unqualified";case"Call backs":return ie.tags.includes("callback")||ie.status==="contacted";case"Today's leads":const wt=new Date;return new Date(ie.dateAdded).toDateString()===wt.toDateString();default:return!0}})();return ye&&Fe&&it&&vt&&Zt})].sort((ie,ye)=>{let Fe=ie[_],it=ye[_];return typeof Fe=="string"&&(Fe=Fe.toLowerCase()),typeof it=="string"&&(it=it.toLowerCase()),T==="asc"?Fe<it?-1:Fe>it?1:0:Fe>it?-1:Fe<it?1:0});n.length,n.filter(ie=>ie.status==="new").length,n.filter(ie=>ie.status==="qualified").length,n.filter(ie=>ie.status==="converted").length,n.reduce((ie,ye)=>ie+ye.value,0),n.filter(ie=>new Date(ie.lastContactDate)>new Date("2025-01-01")).length;const Ct=ie=>{l(ye=>ye.includes(ie)?ye.filter(Fe=>Fe!==ie):[...ye,ie])},Tt=()=>{l(o.length===Ge.length?[]:Ge.map(ie=>ie.id))},Nt=ie=>{L(ye=>[...ye,ie]),U(ye=>ye.filter(Fe=>Fe!==ie))},me=ie=>{L(it=>it.filter(vt=>vt!==ie));const Fe=["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"].indexOf(ie);U(it=>{const vt=[...it];return vt.splice(Fe,0,ie),vt})},Be=(ie,ye)=>{const Fe=ye||(_===ie?T==="asc"?"desc":"asc":"desc");O(it=>{const vt=it[ie]||[];return vt.includes(Fe)?it:{...it,[ie]:[...vt,Fe]}}),A(ie),E(Fe)},kt=ie=>{A("lastActivity"),E("desc"),O(ye=>({...ye,[ie]:[]}))},Kt=ie=>{W(ye=>({...ye,[ie]:!ye[ie]}))},_t=(ie,ye)=>{R(ye),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/html",ye);const Fe=document.createElement("div");Fe.innerHTML=ms[ye].title,Fe.style.cssText=`
      position: absolute;
      top: -1000px;
      background: rgba(16, 185, 129, 0.9);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    `,document.body.appendChild(Fe),ie.dataTransfer.setDragImage(Fe,0,0),setTimeout(()=>document.body.removeChild(Fe),0)},wr=ie=>{ie.preventDefault(),ie.dataTransfer.dropEffect="move"},Kr=(ie,ye)=>{ie.preventDefault(),$&&$!==ye&&z(ye)},jr=ie=>{const ye=ie.relatedTarget;ie.currentTarget.contains(ye)||z(null)},vs=(ie,ye)=>{if(ie.preventDefault(),!$||$===ye)return;const Fe=[...V],it=Fe.indexOf($),vt=Fe.indexOf(ye);Fe.splice(it,1),Fe.splice(vt,0,$),U(Fe),R(null),z(null)},Tr=()=>{R(null),z(null)},Ke=Array.from(new Set(n.flatMap(ie=>ie.tags))),Os={firstName:{title:"name",minWidth:"320px"},company:{title:"company",minWidth:"240px"},status:{title:"status",minWidth:"128px"},assignedTo:{title:"owner",minWidth:"192px"},campaign:{title:"campaign",minWidth:"160px"},phone:{title:"phone",minWidth:"140px"},cid:{title:"CID",minWidth:"120px"},date:{title:"Created Date",minWidth:"120px"},lastActivity:{title:"last activity",minWidth:"192px"}},es={industry:{title:"industry",minWidth:"140px"},companySize:{title:"company size",minWidth:"120px"},location:{title:"location",minWidth:"140px"},website:{title:"website",minWidth:"140px"},pipelineValue:{title:"pipeline value",minWidth:"130px"},leadScore:{title:"lead score",minWidth:"110px"},interestLevel:{title:"interest level",minWidth:"120px"},priority:{title:"priority",minWidth:"100px"},source:{title:"lead source",minWidth:"130px"},nextFollowUp:{title:"next follow-up",minWidth:"140px"},lastCallOutcome:{title:"last call outcome",minWidth:"150px"},callDuration:{title:"call duration",minWidth:"120px"},owner:{title:"lead owner",minWidth:"130px"},title:{title:"job title",minWidth:"130px"}},ms={...Os,...Object.fromEntries(te.map(ie=>[ie,es[ie]]))},pt=(ie,ye)=>{const Fe=Oc[ye.status]||Oc.new,it=Fe.icon;switch(ie){case"firstName":return t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center text-xs font-semibold text-white",children:[Js(ye.firstName)," ",Js(ye.lastName),ye.isStarred&&t.jsx(Oo,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"text-xs text-gray-400",children:Js(ye.email)})]})});case"company":return t.jsx("div",{className:"flex items-center",children:t.jsx("div",{className:"text-xs font-medium text-white",children:Js(ye.company)})});case"status":return t.jsxs(je,{className:`${Fe.color} px-2 py-1 text-xs font-medium`,children:[t.jsx(it,{className:"mr-1 h-3 w-3"}),Fe.label]});case"assignedTo":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:ye.assignedTo.split(" ").map(jn=>jn[0]).join("")}),t.jsx("span",{className:"text-xs text-white font-medium",children:ye.assignedTo})]});case"campaign":return t.jsx("div",{className:"inline-flex items-center rounded-full bg-gray-500/20 px-2 py-1 text-xs font-medium text-gray-300 border border-gray-500/30",children:ye.campaign});case"phone":return t.jsxs("div",{className:"flex items-center",children:[t.jsx(xt,{className:"mr-1 h-3 w-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-white font-medium",children:Js(ye.phone)})]});case"cid":return t.jsx("span",{className:"font-mono text-xs text-white",children:ye.cid||"N/A"});case"date":return t.jsx("span",{className:"text-xs text-white",children:ew(ye.date)});case"lastActivity":return t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-white font-medium",children:ew(ye.lastActivity)}),t.jsxs("div",{className:"flex items-center text-gray-400",style:{fontSize:"10px"},children:[t.jsx(Us,{className:"mr-1 h-2.5 w-2.5"}),ye.activities," activities"]})]});case"industry":return t.jsx("span",{className:"text-xs text-white",children:ye.industry||"N/A"});case"companySize":return t.jsx("span",{className:"text-xs text-white",children:ye.companySize||"N/A"});case"location":return t.jsx("span",{className:"text-xs text-white",children:ye.location||"N/A"});case"website":return t.jsx("span",{className:"text-xs text-gray-400 hover:text-gray-300",children:ye.website||"N/A"});case"pipelineValue":return t.jsxs("span",{className:"text-xs text-amber-400",children:["$",ye.pipelineValue?Number(ye.pipelineValue).toLocaleString():"0"]});case"leadScore":const vt=ye.leadScore||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${vt>=8?"text-amber-400":vt>=6?"text-yellow-400":"text-red-400"}`,children:[vt,"/10"]})});case"interestLevel":const Zt=ye.interestLevel||0;return t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`text-xs font-medium ${Zt>=8?"text-amber-400":Zt>=6?"text-yellow-400":"text-red-400"}`,children:[Zt,"/10"]})});case"priority":const wt=ye.priority||"medium",ra={high:"text-red-400",medium:"text-yellow-400",low:"text-amber-400"};return t.jsx("span",{className:`text-xs font-medium ${ra[wt]}`,children:wt.charAt(0).toUpperCase()+wt.slice(1)});case"source":return t.jsx("span",{className:"text-xs text-white",children:ye.source||"N/A"});case"nextFollowUp":const sa=ye.nextFollowUp;return t.jsx("span",{className:"text-xs text-white",children:sa?ew(sa):"Not scheduled"});case"lastCallOutcome":const aa=ye.lastCallOutcome||"N/A",Oi={interested:"text-amber-400","not-interested":"text-red-400",callback:"text-yellow-400",voicemail:"text-gray-400","no-answer":"text-gray-400"};return t.jsx("span",{className:`text-xs ${Oi[aa]||"text-white"}`,children:aa.replace("-"," ").replace(/\b\w/g,jn=>jn.toUpperCase())});case"callDuration":const Nr=ye.callDuration||0,bs=Math.floor(Nr/60),na=Nr%60;return t.jsx("span",{className:"text-xs text-white",children:Nr>0?`${bs}:${na.toString().padStart(2,"0")}`:"N/A"});case"owner":return t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:(ye.owner||"U").split(" ").map(jn=>jn[0]).join("")}),t.jsx("span",{className:"text-xs text-white",children:ye.owner||"Unassigned"})]});case"title":return t.jsx("span",{className:"text-xs text-white",children:ye.title||ye.title||"N/A"});default:return t.jsx("span",{className:"text-xs text-white",children:"-"})}},Sa=ie=>{be(ye=>[...ye,...ie]),U(ye=>[...ye,...ie])};ce.useEffect(()=>{setTimeout(()=>{const Fe=Array.from(document.styleSheets).filter(vt=>{try{return vt.href&&(vt.href.includes("chrome-extension://")||vt.href.includes("moz-extension://")||vt.href.includes("extension"))}catch{return!1}});Fe.length>0&&(console.log("🔍 Browser extensions detected affecting CSS:",Fe.length),console.log("Extensions:",Fe.map(vt=>vt.href)));const it=document.createElement("style");it.textContent=`
        table thead th {
          background: #1f2937 !important;
          background-color: #1f2937 !important;
          color: #ffffff !important;
        }
      `,it.setAttribute("data-force-override","true"),document.head.appendChild(it)},100)},[]),ce.useEffect(()=>{const ie=()=>{const Fe=document.querySelector(".table-scroll-container");Fe&&ne(Fe.scrollTop>300)},ye=document.querySelector(".table-scroll-container");if(ye)return ye.addEventListener("scroll",ie),()=>ye.removeEventListener("scroll",ie)},[]);const Rt=ie=>{Ue(ye=>({...ye,[ie]:!ye[ie]}))},$t=({title:ie,sortKey:ye,minWidth:Fe})=>{const it=$===ye,vt=F===ye;return t.jsxs("th",{className:`relative whitespace-nowrap px-6 py-5 text-left transition-all duration-300 ease-out ${ye?"cursor-move":""} ${it?"scale-95 opacity-40":vt?"bg-gray-700/50":"hover:bg-gray-700/30"}`,style:{background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",minWidth:Fe,transform:vt?"scale(1.02)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"sticky",top:0,zIndex:45},draggable:!!ye,onDragStart:ye?Zt=>_t(Zt,ye):void 0,onDragOver:wr,onDragEnter:ye?Zt=>Kr(Zt,ye):void 0,onDragLeave:jr,onDrop:ye?Zt=>vs(Zt,ye):void 0,onDragEnd:Tr,children:[vt&&t.jsx("div",{className:"pointer-events-none absolute inset-0 animate-pulse rounded bg-gradient-to-r from-gray-600/20 to-gray-400/20"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsxs("div",{className:"group flex items-center",children:[ye&&t.jsx("div",{className:`drag-handle mr-2 transition-all duration-300 ${it?"rotate-45 scale-125 transform text-gray-400":"text-gray-500 group-hover:scale-110 group-hover:text-gray-400"}`,title:"Drag to reorder column",children:t.jsx(HG,{className:"h-3.5 w-3.5"})}),t.jsx("span",{className:`text-sm font-semibold transition-all duration-300 ${it?"text-gray-400":"text-white"}`,style:{textTransform:"capitalize"},children:ie})]}),t.jsx(Tc,{trigger:t.jsx("div",{className:"cursor-pointer text-white transition-all hover:scale-110 hover:text-gray-300",children:t.jsx(rm,{className:"h-3 w-3"})}),title:ie,sortKey:ye,onSort:(Zt,wt)=>{Be(Zt,wt)},onUnsort:ye?()=>kt(ye):void 0,onPinToggle:ye?()=>Kt(ye):void 0,onHideColumn:ye?()=>Nt(ye):void 0,sortHistory:ye?H[ye]||[]:[],isPinned:ye&&I[ye]||!1})]})]})};return t.jsxs(ce.Fragment,{children:[i,t.jsx("div",{className:"h-full w-full bg-black overflow-hidden flex flex-col",children:t.jsxs("div",{className:"flex-1 flex flex-col px-6 py-6 overflow-hidden",children:[t.jsx("div",{className:"bg-black pb-4 flex-shrink-0",children:t.jsx("div",{className:"mb-4 max-w-full",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx(q,{variant:"outline",size:"sm",onClick:()=>B(!K),className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:t.jsx(lY,{className:"h-4 w-4"})}),t.jsx(Tc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[C,t.jsx(rs,{className:"ml-2 h-4 w-4"})]}),title:"Lead Type",options:["All leads","My leads","Junk leads","Call backs","Today's leads"],onSelect:ie=>S(ie)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Tc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:["10 Records per page",t.jsx(rs,{className:"ml-2 h-4 w-4"})]}),title:"10 Records per page",options:["10 Records per page","20 Records per page","30 Records per page","40 Records per page","50 Records per page"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),r("common:export")]}),t.jsx(Tc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[d==="table"?t.jsx(YG,{className:"h-4 w-4"}):t.jsx(GG,{className:"h-4 w-4"}),t.jsx(rs,{className:"ml-2 h-4 w-4"})]}),title:r("common:table.table_view"),options:[r("common:table.table_view"),r("common:table.tile_view")],onOptionSelect:ie=>{ie===r("common:table.table_view")&&m("table"),ie===r("common:table.tile_view")&&m("tile")}}),t.jsx(Tc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-amber-600 text-xs text-amber-400 transition-all hover:bg-amber-600 hover:text-white",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),r("crm:lead.new_lead"),t.jsx(rs,{className:"ml-2 h-4 w-4"})]}),title:r("crm:sections.leads"),options:[r("crm:import_export.import_leads"),r("crm:lead.new_lead")]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",onClick:()=>Ee(!0),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),r("common:actions.add")," ",r("common:table.columns")]}),M.length>0&&t.jsx(Tc,{trigger:t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),r("common:actions.view_details")," ",r("common:table.columns")," (",M.length,")",t.jsx(rs,{className:"ml-2 h-4 w-4"})]}),title:`${r("common:actions.view_details")} ${r("common:table.columns")}`,options:M.map(ie=>{var ye;return`${r("common:actions.view_details")} ${((ye=ms[ie])==null?void 0:ye.title)||ie}`}),onOptionSelect:ie=>{const ye=M.find(Fe=>{var it;return ie.includes(((it=ms[Fe])==null?void 0:it.title)||Fe)});ye&&me(ye)}})]})]})})}),t.jsxs("div",{className:"mb-6 flex items-center justify-between flex-shrink-0",children:[t.jsx("div",{className:"text-sm text-gray-400",children:r("common:data_states.showing_total",{total:n.length})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(ec,{className:"h-4 w-4"})}),t.jsx("span",{className:"text-xs text-gray-400",children:"1 - 50"}),t.jsx("button",{className:"p-1 text-gray-300 transition-all hover:text-gray-400",children:t.jsx(io,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"mb-4 border-b border-gray-700 flex-shrink-0"}),o.length>0&&t.jsx("div",{className:"sticky top-0 z-20 flex-shrink-0 border-b border-gray-700 bg-gray-900 px-6 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm font-medium text-white",children:[o.length," contact",o.length!==1?"s":""," ","selected"]}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(Oa,{className:"mr-2 h-3.5 w-3.5"}),"Mail"]}),t.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[t.jsx(_s,{className:"mr-2 h-3.5 w-3.5"}),"Create Task"]}),t.jsx(Tc,{trigger:t.jsxs(q,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:["Actions",t.jsx(rs,{className:"ml-2 h-3.5 w-3.5"})]}),title:"Actions",options:["Mass Update","Change Owner","Delete"]})]}),t.jsx("button",{className:"p-1 text-gray-400 transition-all hover:text-gray-300",onClick:()=>l([]),children:t.jsx(Yi,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"main-content-scroll flex flex-1 overflow-hidden pl-6",style:{gap:K?"24px":"0px"},children:[t.jsx("div",{className:`mt-6 h-[calc(100vh-140px)] rounded-lg border border-gray-800 bg-gray-900 transition-all duration-300 ease-in-out ${K?"w-64 translate-x-0 overflow-y-auto p-4 opacity-100":"w-0 -translate-x-full overflow-hidden border-0 p-0 opacity-0"}`,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"flex items-center text-sm font-semibold text-white",children:[t.jsx(Ex,{className:"mr-2 h-4 w-4 text-amber-500"}),"Filters"]}),t.jsx("button",{className:"text-xs text-gray-400 hover:text-white",onClick:()=>{f(""),y("all"),v("all"),N("all"),S("All leads")},children:"Clear all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),t.jsx("input",{type:"text",placeholder:"Name, email, company...",value:h,onChange:ie=>f(ie.target.value),style:{fontSize:"10px",color:"#ffffff",backgroundColor:"rgba(31, 41, 55, 0.5)",borderColor:"rgba(55, 65, 81, 0.7)",border:"1px solid rgba(55, 65, 81, 0.7)",borderRadius:"6px",paddingLeft:"32px",paddingRight:"12px",paddingTop:"8px",paddingBottom:"8px",height:"32px",width:"100%",outline:"none"},className:"search-input-small"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Rt("status"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Status"}),t.jsx(rs,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Te.status?"rotate-180 transform":""}`})]}),Te.status&&t.jsx("div",{className:"space-y-1",children:Object.entries(Oc).map(([ie,ye])=>{const Fe=ye.icon,it=g===ie;return t.jsxs("button",{onClick:()=>y(it?"all":ie),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${it?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Fe,{className:"mr-2 h-3 w-3"}),ye.label]}),t.jsx("span",{className:"text-gray-500",children:n.filter(vt=>vt.status===ie).length})]},ie)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-gray-200",children:"Owner"}),t.jsxs(at,{value:w,onValueChange:v,children:[t.jsx(rt,{className:"h-8 border-gray-700 bg-gray-800 text-xs",children:t.jsx(nt,{placeholder:"All owners"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900/95 backdrop-blur-sm",children:[t.jsx(se,{value:"all",className:"text-xs",children:"All owners"}),Qje.map(ie=>t.jsx(se,{value:ie.id,className:"text-xs",children:ie.name},ie.id))]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Rt("tags"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Tags"}),t.jsx(rs,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Te.tags?"rotate-180 transform":""}`})]}),Te.tags&&t.jsxs("div",{className:"space-y-1",children:[Ke.slice(0,5).map(ie=>{const ye=b===ie;return t.jsxs("button",{onClick:()=>N(ye?"all":ie),className:`flex w-full items-center justify-between rounded px-2 py-1.5 text-xs transition-all ${ye?"border border-amber-600/30 bg-amber-600/20 text-amber-400":"text-gray-200 hover:bg-gray-700/50 hover:text-white"}`,children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(KM,{className:"mr-2 h-3 w-3"}),ie]}),t.jsx("span",{className:"text-gray-500",children:n.filter(Fe=>Fe.tags.includes(ie)).length})]},ie)}),Ke.length>5&&t.jsxs("button",{className:"text-xs text-amber-400 hover:text-amber-300",children:["+",Ke.length-5," more"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex cursor-pointer items-center justify-between",onClick:()=>Rt("quickFilters"),children:[t.jsx("label",{className:"text-sm text-gray-200",children:"Quick filters"}),t.jsx(rs,{className:`h-3 w-3 text-gray-500 transition-transform duration-200 ${Te.quickFilters?"rotate-180 transform":""}`})]}),Te.quickFilters&&t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Oo,{className:"mr-2 h-3 w-3 text-yellow-400"}),"Starred only"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Mt,{className:"mr-2 h-3 w-3 text-gray-400"}),"Recently active"]}),t.jsxs("button",{className:"flex w-full items-center rounded px-2 py-1.5 text-left text-xs text-gray-300 hover:bg-gray-800",children:[t.jsx(Bs,{className:"mr-2 h-3 w-3 text-amber-400"}),"High value"]})]})]})]})}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out min-h-0",children:d==="table"?t.jsx("div",{className:"flex flex-1 flex-col overflow-hidden min-h-0",children:t.jsx("div",{className:"table-scroll-container flex-1 overflow-x-auto overflow-y-auto bg-gradient-to-b from-black to-gray-950",style:{maxWidth:"calc(100vw - 140px)"},children:t.jsxs("table",{className:"w-full min-w-max",children:[t.jsx("thead",{className:"sticky top-0 z-40 bg-gradient-to-b from-gray-900 to-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"sticky left-0 z-50 px-6 py-5 text-center bg-gradient-to-r from-gray-900 to-gray-800",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(Gg,{checked:o.length===Ge.length,onCheckedChange:Tt})})}),V.map(ie=>{const ye=ms[ie];return t.jsx($t,{title:ye.title,sortKey:ie,minWidth:ye.minWidth},ie)})]})}),t.jsx("tbody",{className:"",children:Ge.map(ie=>((Oc[ie.status]||Oc.new).icon,t.jsxs("tr",{className:"cursor-pointer text-xs transition-all duration-200 hover:bg-gray-900/30 group",onClick:()=>e(`/leads/${ie.id}`),children:[t.jsx("td",{className:"z-5 sticky left-0 px-6 py-4 bg-black group-hover:bg-gray-900/50",onClick:Fe=>Fe.stopPropagation(),children:t.jsx(Gg,{checked:o.includes(ie.id),onCheckedChange:()=>Ct(ie.id)})}),V.map(Fe=>{const it=ms[Fe];return t.jsx("td",{className:"whitespace-nowrap px-6 py-4",style:{minWidth:it.minWidth},children:pt(Fe,ie)},Fe)})]},ie.id)))})]})})}):t.jsx("div",{className:"overflow-y-auto p-6",children:t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Ge.map(ie=>{const ye=Oc[ie.status]||Oc.new,Fe=ye.icon;return t.jsx(J,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all hover:border-gray-600 hover:bg-gray-800/50",onClick:()=>e(`/leads/${ie.id}`),children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center text-sm font-medium text-white",children:[Js(ie.firstName)," ",Js(ie.lastName),ie.isStarred&&t.jsx(Oo,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),t.jsx("div",{className:"mt-1 text-xs text-gray-400",children:Js(ie.email)})]}),t.jsx("div",{onClick:it=>it.stopPropagation(),className:"-m-2 p-2",children:t.jsx(Gg,{checked:o.includes(ie.id),onCheckedChange:()=>Ct(ie.id)})})]}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsx("div",{className:"text-sm text-white",children:Js(ie.company)}),t.jsx("div",{className:"text-xs text-gray-400",children:ie.title})]}),t.jsx("div",{className:"mb-3 flex items-center justify-between",children:t.jsxs(je,{className:`${ye.color} text-xs text-white`,children:[t.jsx(Fe,{className:"mr-1 h-3 w-3"}),ye.label]})}),t.jsxs("div",{className:"mb-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx("div",{className:"mr-2 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-gray-500 to-gray-600 text-xs font-medium text-white",children:ie.assignedTo.split(" ").map(it=>it[0]).join("")}),t.jsx("span",{className:"text-gray-300",children:ie.assignedTo})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Campaign: ",ie.campaign||"Q4 Growth"]}),t.jsx("div",{className:"text-xs text-gray-400",children:Js(ie.phone)})]}),t.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-amber-600 hover:bg-amber-700 text-white border-amber-600 hover:border-amber-700",onClick:it=>{it.stopPropagation(),a(ie)},children:[t.jsx(xt,{className:"mr-1 h-3 w-3"}),"Call"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 hover:border-emerald-700",children:[t.jsx(Oa,{className:"mr-1 h-3 w-3"}),"Email"]})]})]})},ie.id)})})})})]})]})}),t.jsx(Gy,{isOpen:ze,onClose:()=>Ae(!1),callData:Re?s(Re):void 0}),t.jsx(Xje,{isOpen:Se,onClose:()=>Ee(!1),onSave:Sa,availableColumns:[],currentColumns:[...Object.keys(Os),...te]})]})}function eNe(){const[e,r]=p.useState([]),[s,a]=p.useState({transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0}),[n,i]=p.useState(!1),[o,l]=p.useState("today"),d=async()=>{var g,y,w,v,b,N;i(!0);try{const C=await VN.getCalls({limit:1e3}),S=[];let _={transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0};for(const A of C){const T=A.duration||0,E={transport:T*.0075,stt:T*5e-4,llm:(((g=A.messages)==null?void 0:g.length)||0)*.002,tts:(((y=A.messages)==null?void 0:y.filter(L=>L.role==="assistant").length)||0)*.001,vapi:T*.001,total:0,llmPromptTokens:(((w=A.messages)==null?void 0:w.length)||0)*50,llmCompletionTokens:(((v=A.messages)==null?void 0:v.filter(L=>L.role==="assistant").length)||0)*30,ttsCharacters:(((b=A.messages)==null?void 0:b.filter(L=>L.role==="assistant").length)||0)*100};E.total=E.transport+E.stt+E.llm+E.tts+E.vapi;const M={id:`cost_${A.id}`,callId:A.id,leadName:((N=A.customer)==null?void 0:N.name)||"Unknown",campaign:"Campaign Name",duration:h(A.startedAt,A.endedAt),status:A.status,timestamp:A.startedAt||new Date().toISOString(),costs:E};S.push(M),_.transport+=E.transport,_.stt+=E.stt,_.llm+=E.llm,_.tts+=E.tts,_.vapi+=E.vapi,_.total+=E.total,_.llmPromptTokens+=E.llmPromptTokens,_.llmCompletionTokens+=E.llmCompletionTokens,_.ttsCharacters+=E.ttsCharacters}r(S),a(_)}catch(C){console.error("Failed to fetch cost data:",C),m()}finally{i(!1)}},m=()=>{const g={transport:45.67,stt:12.34,llm:23.45,tts:8.9,vapi:6.78,total:97.14,llmPromptTokens:12500,llmCompletionTokens:8500,ttsCharacters:45e3},y=[{id:"cost_1",callId:"call_1",leadName:"John Smith",campaign:"Sales Campaign A",duration:"3:45",status:"ended",timestamp:new Date().toISOString(),costs:{transport:1.69,stt:.45,llm:.89,tts:.33,vapi:.25,total:3.61,llmPromptTokens:450,llmCompletionTokens:320,ttsCharacters:1200}},{id:"cost_2",callId:"call_2",leadName:"Sarah Johnson",campaign:"Sales Campaign B",duration:"2:30",status:"ended",timestamp:new Date(Date.now()-36e5).toISOString(),costs:{transport:1.13,stt:.3,llm:.67,tts:.25,vapi:.19,total:2.54,llmPromptTokens:380,llmCompletionTokens:280,ttsCharacters:950}}];r(y),a(g)},h=(g,y)=>{if(!g||!y)return"0:00";const w=new Date(g),b=new Date(y).getTime()-w.getTime(),N=Math.floor(b/6e4),C=Math.floor(b%6e4/1e3);return`${N}:${C.toString().padStart(2,"0")}`},f=()=>{const g=[];return s.llm>s.transport&&g.push({type:"warning",title:"High LLM Costs",description:"Consider optimizing your assistant prompts to reduce token usage",savings:"$"+(s.llm*.3).toFixed(2)}),s.tts>s.stt&&g.push({type:"info",title:"TTS vs STT Balance",description:"Your TTS costs exceed STT costs. Consider shorter responses.",savings:"$"+(s.tts*.2).toFixed(2)}),g};return p.useEffect(()=>{d()},[o]),t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Real-time VAPI cost tracking and optimization"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"week",children:"This Week"}),t.jsx(se,{value:"month",children:"This Month"}),t.jsx(se,{value:"quarter",children:"This Quarter"})]})]}),t.jsxs(q,{onClick:d,disabled:n,variant:"outline",className:"border-gray-700 text-gray-300",children:[t.jsx(ss,{className:`mr-2 h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Transport"}),t.jsxs("p",{className:"text-xl font-bold text-blue-400",children:["$",s.transport.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Call routing"})]}),t.jsx(xt,{className:"h-6 w-6 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"STT"}),t.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",s.stt.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Speech recognition"})]}),t.jsx(eY,{className:"h-6 w-6 text-green-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"LLM"}),t.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["$",s.llm.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.llmPromptTokens.toLocaleString()," tokens"]})]}),t.jsx(VM,{className:"h-6 w-6 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"TTS"}),t.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:["$",s.tts.toFixed(3)]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[s.ttsCharacters.toLocaleString()," chars"]})]}),t.jsx(dY,{className:"h-6 w-6 text-yellow-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"VAPI"}),t.jsxs("p",{className:"text-xl font-bold text-orange-400",children:["$",s.vapi.toFixed(3)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Platform fee"})]}),t.jsx(Us,{className:"h-6 w-6 text-orange-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total"}),t.jsxs("p",{className:"text-xl font-bold text-white",children:["$",s.total.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500",children:"All services"})]}),t.jsx(Fr,{className:"h-6 w-6 text-white"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(zG,{className:"h-5 w-5"}),"Cost Distribution"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),t.jsx("span",{className:"text-gray-300",children:"Transport"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(xr,{value:s.transport/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.transport.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),t.jsx("span",{className:"text-gray-300",children:"Speech-to-Text"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(xr,{value:s.stt/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.stt.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-gray-300",children:"LLM Processing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(xr,{value:s.llm/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.llm.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),t.jsx("span",{className:"text-gray-300",children:"Text-to-Speech"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(xr,{value:s.tts/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.tts.toFixed(3)]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),t.jsx("span",{className:"text-gray-300",children:"VAPI Platform"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(xr,{value:s.vapi/s.total*100,className:"w-24"}),t.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.vapi.toFixed(3)]})]})]})]})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(s0,{className:"h-5 w-5"}),"Cost Optimization"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[f().map((g,y)=>t.jsx("div",{className:"rounded-lg bg-gray-800/50 p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(va,{className:"mt-0.5 h-5 w-5 text-yellow-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-white",children:g.title}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:g.description}),t.jsx("div",{className:"mt-2 flex items-center justify-between",children:t.jsxs(je,{variant:"outline",className:"border-green-400 text-green-400",children:["Potential savings: ",g.savings]})})]})]})},y)),f().length===0&&t.jsxs("div",{className:"py-4 text-center text-gray-400",children:[t.jsx(Bs,{className:"mx-auto mb-2 h-12 w-12 text-gray-600"}),t.jsx("p",{children:"Your costs are well optimized!"}),t.jsx("p",{className:"mt-1 text-sm",children:"No immediate optimization opportunities found."})]})]})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(ba,{className:"h-5 w-5"}),"Detailed Call Costs"]})}),t.jsx(X,{children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Lead"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Campaign"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Duration"}),t.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Status"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Transport"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"STT"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"LLM"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"TTS"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"VAPI"}),t.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Total"})]})}),t.jsx("tbody",{children:e.slice(0,10).map((g,y)=>t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"py-3 text-white",children:g.leadName}),t.jsx("td",{className:"py-3 text-gray-400",children:g.campaign}),t.jsx("td",{className:"py-3 text-gray-400",children:g.duration}),t.jsx("td",{className:"py-3",children:t.jsx(je,{className:g.status==="ended"?"bg-green-500":g.status==="in-progress"?"bg-blue-500":"bg-gray-500",children:g.status})}),t.jsxs("td",{className:"py-3 text-right text-blue-400",children:["$",g.costs.transport.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-green-400",children:["$",g.costs.stt.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-emerald-400",children:["$",g.costs.llm.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-yellow-400",children:["$",g.costs.tts.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right text-orange-400",children:["$",g.costs.vapi.toFixed(3)]}),t.jsxs("td",{className:"py-3 text-right font-medium text-white",children:["$",g.costs.total.toFixed(3)]})]},g.id))})]}),e.length>10&&t.jsx("div",{className:"mt-4 text-center",children:t.jsxs(q,{variant:"outline",className:"border-gray-700 text-gray-300",children:["Load More (",e.length-10," remaining)"]})})]})})]})]})}const tNe="https://apex-backend-august-production.up.railway.app/api";class rNe{async makeRequest(r,s={}){const a=localStorage.getItem("auth_token")||localStorage.getItem("supabase_token"),n=`${tNe}${r}`;console.log("🌐 API Request:",{method:s.method||"GET",url:n,hasToken:!!a,token:a?`${a.substring(0,10)}...`:"none"});const i=await fetch(n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...s.headers},...s});if(console.log("📡 API Response:",{status:i.status,statusText:i.statusText}),!i.ok){const l=await i.json().catch(()=>({error:"Network error"}));throw console.error("❌ API Error:",l),new Error(l.error||`HTTP ${i.status}`)}const o=await i.json();return console.log("✅ API Success:",o),o}async getApiConfiguration(r){try{const s=await this.makeRequest(`/api/api-configurations/${r}`);return!s||Object.keys(s).length===0?null:s}catch(s){throw console.error("Error in getApiConfiguration:",s),s}}async saveApiConfiguration(r,s){try{console.log("🚀 Saving API configuration:",{serviceName:r,configuration:s});const a=await this.makeRequest(`/api/api-configurations/${r}`,{method:"POST",body:JSON.stringify({configuration:s})});return console.log("✅ API configuration saved successfully:",a),a.id}catch(a){throw console.error("❌ Error in saveApiConfiguration:",a),a}}async getAllApiConfigurations(){try{return await this.makeRequest("/api/api-configurations")}catch(r){throw console.error("Error fetching all API configurations:",r),r}}async deleteApiConfiguration(r){try{await this.makeRequest(`/api/api-configurations/${r}`,{method:"DELETE"})}catch(s){throw console.error("Error in deleteApiConfiguration:",s),s}}async testApiConfiguration(r,s){try{switch(r){case"stripe":return!!(s.publicKey&&s.secretKey&&s.publicKey.startsWith("pk_")&&s.secretKey.startsWith("sk_"));case"openai":return!!(s.apiKey&&s.apiKey.startsWith("sk-"));case"supabase":return!!(s.url&&s.anonKey&&s.url.includes("supabase")&&s.anonKey.length>10);default:return!1}}catch(a){return console.error(`Error testing ${r} configuration:`,a),!1}}async getConfigurationAuditLog(r){try{const s=new URLSearchParams;r&&s.append("serviceName",r);const a=`/api/api-configurations-audit${s.toString()?`?${s.toString()}`:""}`;return await this.makeRequest(a)}catch(s){throw console.error("Error in getConfigurationAuditLog:",s),s}}}const aN=new rNe;function sNe(){const e={language:"en-GB",changeLanguage:Z=>{localStorage.setItem("apex-language",Z)}},{preferences:r,updatePreferences:s}=om(),{toast:a}=cs(),{userContext:n}=ki(),[i,o]=p.useState(!1),[l,d]=p.useState(!1),[m,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(!1),[v,b]=p.useState(!1),[N,C]=p.useState({stripe:{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:{apiKey:"",organizationId:"",model:"gpt-4"},supabase:{url:"",anonKey:"",serviceRoleKey:""}}),[S,_]=p.useState(!1),[A,T]=p.useState({stripe:{publicKey:!1,secretKey:!1,webhookSecret:!1},openai:{apiKey:!1},supabase:{anonKey:!1,serviceRoleKey:!1}}),[E,M]=p.useState({fullName:`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim(),email:(n==null?void 0:n.email)||"",company:(n==null?void 0:n.organization_name)||"",timezone:"Eastern Time"}),[L,H]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,I]=p.useState(!1),[W,V]=p.useState(!1),[U,$]=p.useState(e.language);p.useEffect(()=>{y&&R()},[y]);const R=async()=>{_(!0);try{const Z=await aN.getAllApiConfigurations();C({stripe:Z.stripe||{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:Z.openai||{apiKey:"",organizationId:"",model:"gpt-4"},supabase:Z.supabase||{url:"",anonKey:"",serviceRoleKey:""}})}catch(Z){console.error("Error loading API configurations:",Z),a({title:"Error loading configurations",description:"Failed to load API configurations. Please try again.",variant:"destructive"})}finally{_(!1)}},F=async()=>{o(!0);try{a({title:"Changes saved",description:"Your settings have been updated successfully."})}catch{a({title:"Error",description:"Failed to save changes.",variant:"destructive"})}finally{o(!1)}},z=async()=>{if(!L.currentPassword||!L.newPassword||!L.confirmPassword){a({title:"Error",description:"Please fill in all password fields.",variant:"destructive"});return}if(L.newPassword!==L.confirmPassword){a({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(L.newPassword.length<8){a({title:"Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}o(!0);try{await new Promise(Z=>setTimeout(Z,1e3)),a({title:"Password updated",description:"Your password has been changed successfully."}),H({currentPassword:"",newPassword:"",confirmPassword:""})}catch{a({title:"Error",description:"Failed to change password. Please try again.",variant:"destructive"})}finally{o(!1)}},K=Z=>{$(Z),e.changeLanguage(Z),localStorage.setItem("apex-language",Z),a({title:"Language updated",description:"Platform language changed successfully."})},B=async()=>{b(!0);try{f==="admin123"||f.length>=6?(w(!0),h(!1),g(""),a({title:"Access granted",description:"You now have access to API management settings."})):a({title:"Invalid password",description:"Please enter your correct password.",variant:"destructive"})}catch{a({title:"Verification failed",description:"Failed to verify password. Please try again.",variant:"destructive"})}finally{b(!1)}},Q=async Z=>{if(console.log("🔍 Debug - User Context:",n),console.log("🔍 Debug - Organization ID:",n==null?void 0:n.organization_id),!(n!=null&&n.organization_id)){console.error("❌ No organization ID found in user context"),a({title:"Error",description:"Organization ID not found. Please try logging in again.",variant:"destructive"});return}o(!0);try{const ne=N[Z];if(!await aN.testApiConfiguration(Z,ne)){a({title:"Invalid configuration",description:`Please check your ${Z} configuration values.`,variant:"destructive"}),o(!1);return}await aN.saveApiConfiguration(Z,ne),a({title:"Configuration saved",description:`${Z.charAt(0).toUpperCase()+Z.slice(1)} API settings have been updated successfully.`})}catch(ne){console.error(`Error saving ${Z} configuration:`,ne),a({title:"Save failed",description:`Failed to save ${Z} API configuration: ${ne instanceof Error?ne.message:"Unknown error"}`,variant:"destructive"})}finally{o(!1)}},Ce=(Z,ne)=>{T(ze=>({...ze,[Z]:{...ze[Z],[ne]:!ze[Z][ne]}}))};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 px-4 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),t.jsx("p",{className:"text-gray-400",children:"Manage your account settings and preferences"})]}),t.jsxs(q,{onClick:F,disabled:i,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?t.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Vt,{className:"mr-2 h-4 w-4"}),i?"Saving...":"Save Changes"]})]}),t.jsxs(Ai,{defaultValue:"profile",className:"space-y-6",children:[t.jsxs(Yn,{className:`grid w-full border-gray-800 bg-gray-900 ${(n==null?void 0:n.role)==="platform_owner"?"grid-cols-4":"grid-cols-3"}`,children:[t.jsxs(ht,{value:"profile",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(ys,{className:"mr-2 h-4 w-4"}),"Profile"]}),t.jsxs(ht,{value:"notifications",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(To,{className:"mr-2 h-4 w-4"}),"Notifications"]}),t.jsxs(ht,{value:"appearance",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Appearance"]}),(n==null?void 0:n.role)==="platform_owner"&&t.jsxs(ht,{value:"api-management",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",onClick:()=>{y||h(!0)},children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"API Management"]})]}),t.jsxs(ft,{value:"profile",className:"space-y-6",children:[t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(ys,{className:"h-5 w-5 text-emerald-400"}),"Profile Information"]}),t.jsx("p",{className:"text-gray-400",children:"Update your personal information and preferences"})]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700",children:[t.jsx(ad,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),t.jsx(_e,{id:"fullName",value:E.fullName,onChange:Z=>M({...E,fullName:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),t.jsx(_e,{id:"email",type:"email",value:E.email,onChange:Z=>M({...E,email:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"company",className:"text-gray-300",children:"Company"}),t.jsx(_e,{id:"company",value:E.company,onChange:Z=>M({...E,company:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"timezone",className:"text-gray-300",children:"Timezone"}),t.jsxs(at,{value:E.timezone,onValueChange:Z=>M({...E,timezone:Z}),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"Eastern Time",children:"Eastern Time"}),t.jsx(se,{value:"Central Time",children:"Central Time"}),t.jsx(se,{value:"Mountain Time",children:"Mountain Time"}),t.jsx(se,{value:"Pacific Time",children:"Pacific Time"}),t.jsx(se,{value:"GMT",children:"GMT"})]})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-white",children:[t.jsx(Ea,{className:"h-4 w-4 text-emerald-400"}),"Language & Region"]}),t.jsxs("div",{className:"max-w-sm",children:[t.jsx(ee,{htmlFor:"language",className:"text-gray-300",children:"Language"}),t.jsxs(at,{value:U,onValueChange:K,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"en-US",children:"🇺🇸 English (US)"}),t.jsx(se,{value:"en-GB",children:"🇬🇧 English (UK)"}),t.jsx(se,{value:"de",children:"🇩🇪 German"}),t.jsx(se,{value:"fr",children:"🇫🇷 French"}),t.jsx(se,{value:"it",children:"🇮🇹 Italian"}),t.jsx(se,{value:"es",children:"🇪🇸 Spanish"}),t.jsx(se,{value:"ru",children:"🇷🇺 Russian"}),t.jsx(se,{value:"sr",children:"🇷🇸 Serbian"}),t.jsx(se,{value:"mt",children:"🇲🇹 Maltese"})]})]})]})]})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[t.jsx(gs,{className:"h-5 w-5 text-emerald-400"}),"Change Password"]}),t.jsx("p",{className:"text-gray-400",children:"Update your account password for enhanced security"})]}),t.jsx("div",{className:"mb-6 rounded-lg border border-gray-700 bg-gray-900/30 p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Password Status"}),t.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Security Level"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Strong"})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Password Age"}),t.jsx("span",{className:"text-xs text-gray-300",children:"Unknown"})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"currentPassword",type:l?"text":"password",value:L.currentPassword,onChange:Z=>H({...L,currentPassword:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"current-password"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!l),children:l?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"newPassword",type:O?"text":"password",value:L.newPassword,onChange:Z=>H({...L,newPassword:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>I(!O),children:O?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"confirmPassword",type:W?"text":"password",value:L.confirmPassword,onChange:Z=>H({...L,confirmPassword:Z.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>V(!W),children:W?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-400",children:t.jsx("p",{children:"Password must be at least 8 characters long"})}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(q,{onClick:z,disabled:i||!L.currentPassword||!L.newPassword||!L.confirmPassword,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?t.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(Vt,{className:"mr-2 h-4 w-4"}),i?"Changing Password...":"Change Password"]})})]})]}),t.jsx(ft,{value:"notifications",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Notification Preferences"}),t.jsx(Ht,{className:"text-gray-400",children:"Choose how and when you want to be notified"})]}),t.jsx(X,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),t.jsx(Xr,{checked:r.emailNotifications,onCheckedChange:Z=>s({emailNotifications:Z})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Push Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive push notifications in your browser"})]}),t.jsx(Xr,{checked:r.pushNotifications,onCheckedChange:Z=>s({pushNotifications:Z})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via SMS"})]}),t.jsx(Xr,{checked:r.smsNotifications,onCheckedChange:Z=>s({smsNotifications:Z})})]})]})})]})}),t.jsx(ft,{value:"appearance",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Appearance Settings"}),t.jsx(Ht,{className:"text-gray-400",children:"Customize how the platform looks and feels"})]}),t.jsx(X,{children:t.jsx("p",{className:"text-gray-400",children:"Appearance settings coming soon..."})})]})}),(n==null?void 0:n.role)==="platform_owner"&&t.jsx(ft,{value:"api-management",className:"space-y-6",children:y?t.jsxs("div",{className:"space-y-6",children:[S&&t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(yi,{className:"h-8 w-8 animate-spin text-emerald-400"}),t.jsx("span",{className:"ml-2 text-gray-400",children:"Loading API configurations..."})]}),!S&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Manage your API integrations securely. All sensitive data is encrypted."}),t.jsxs(q,{variant:"outline",size:"sm",onClick:R,className:"border-gray-700",children:[t.jsx(ss,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ji,{className:"h-5 w-5 text-emerald-400"}),"Stripe API Configuration"]}),t.jsx(Ht,{className:"text-gray-400",children:"Configure Stripe payment processing integration for billing and subscriptions."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripePublicKey",className:"text-gray-300",children:"Publishable Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"stripePublicKey",type:A.stripe.publicKey?"text":"password",value:N.stripe.publicKey,onChange:Z=>C(ne=>({...ne,stripe:{...ne.stripe,publicKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"pk_test_..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ce("stripe","publicKey"),children:A.stripe.publicKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripeSecretKey",className:"text-gray-300",children:"Secret Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"stripeSecretKey",type:A.stripe.secretKey?"text":"password",value:N.stripe.secretKey,onChange:Z=>C(ne=>({...ne,stripe:{...ne.stripe,secretKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk_test_..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ce("stripe","secretKey"),children:A.stripe.secretKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripeWebhookSecret",className:"text-gray-300",children:"Webhook Secret"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"stripeWebhookSecret",type:A.stripe.webhookSecret?"text":"password",value:N.stripe.webhookSecret,onChange:Z=>C(ne=>({...ne,stripe:{...ne.stripe,webhookSecret:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"whsec_..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ce("stripe","webhookSecret"),children:A.stripe.webhookSecret?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"stripeTestMode",className:"text-gray-300",children:"Test Mode"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx(Xr,{id:"stripeTestMode",checked:N.stripe.testMode,onCheckedChange:Z=>C(ne=>({...ne,stripe:{...ne.stripe,testMode:Z}}))}),t.jsx(ee,{htmlFor:"stripeTestMode",className:"text-sm text-gray-400",children:"Use test environment"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(q,{onClick:()=>Q("stripe"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save Stripe Config"]})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(VM,{className:"h-5 w-5 text-emerald-400"}),"OpenAI API Configuration"]}),t.jsx(Ht,{className:"text-gray-400",children:"Configure OpenAI integration for AI-powered features and call analysis."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"openaiApiKey",className:"text-gray-300",children:"API Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"openaiApiKey",type:A.openai.apiKey?"text":"password",value:N.openai.apiKey,onChange:Z=>C(ne=>({...ne,openai:{...ne.openai,apiKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk-..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ce("openai","apiKey"),children:A.openai.apiKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"openaiOrgId",className:"text-gray-300",children:"Organization ID (Optional)"}),t.jsx(_e,{id:"openaiOrgId",value:N.openai.organizationId,onChange:Z=>C(ne=>({...ne,openai:{...ne.openai,organizationId:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"org-..."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(ee,{htmlFor:"openaiModel",className:"text-gray-300",children:"Default Model"}),t.jsxs(at,{value:N.openai.model,onValueChange:Z=>C(ne=>({...ne,openai:{...ne.openai,model:Z}})),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"gpt-4",children:"GPT-4"}),t.jsx(se,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),t.jsx(se,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(q,{onClick:()=>Q("openai"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save OpenAI Config"]})})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Px,{className:"h-5 w-5 text-emerald-400"}),"Supabase API Configuration"]}),t.jsxs(Ht,{className:"text-gray-400",children:["Configure external Supabase instances for client projects or multi-tenant features.",t.jsx("span",{className:"text-amber-500 text-xs block mt-1",children:"Note: This does NOT affect the main platform database connection."})]})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"supabaseUrl",className:"text-gray-300",children:"Project URL"}),t.jsx(_e,{id:"supabaseUrl",value:N.supabase.url,onChange:Z=>C(ne=>({...ne,supabase:{...ne.supabase,url:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"https://xxx.supabase.co"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"supabaseAnonKey",className:"text-gray-300",children:"Anon Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"supabaseAnonKey",type:A.supabase.anonKey?"text":"password",value:N.supabase.anonKey,onChange:Z=>C(ne=>({...ne,supabase:{...ne.supabase,anonKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ce("supabase","anonKey"),children:A.supabase.anonKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"supabaseServiceKey",className:"text-gray-300",children:"Service Role Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(_e,{id:"supabaseServiceKey",type:A.supabase.serviceRoleKey?"text":"password",value:N.supabase.serviceRoleKey,onChange:Z=>C(ne=>({...ne,supabase:{...ne.supabase,serviceRoleKey:Z.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ce("supabase","serviceRoleKey"),children:A.supabase.serviceRoleKey?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]})]}),t.jsx("div",{className:"rounded-lg border border-amber-700 bg-amber-900/20 p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"h-4 w-4 text-amber-500"}),t.jsxs("p",{className:"text-sm text-amber-200",children:[t.jsx("strong",{children:"Warning:"})," Service Role Key has full database access. Keep it secure."]})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs(q,{onClick:()=>Q("supabase"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save Supabase Config"]})})]})]})]})]}):t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(J,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:t.jsxs(pe,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900",children:t.jsx(e0,{className:"h-6 w-6 text-amber-600"})}),t.jsx(xe,{className:"text-white",children:"Password Required"}),t.jsx(Ht,{className:"text-gray-400",children:"Enter your password to access API management settings"})]})})})})]}),m&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:t.jsxs(J,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(e0,{className:"h-5 w-5 text-amber-500"}),"Enter Password"]}),t.jsx(Ht,{className:"text-gray-400",children:"Please enter your account password to access API management settings."})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"apiPassword",className:"text-gray-300",children:"Password"}),t.jsx(_e,{id:"apiPassword",type:"password",value:f,onChange:Z=>g(Z.target.value),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"Enter your password",onKeyPress:Z=>{Z.key==="Enter"&&B()}})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(q,{variant:"outline",onClick:()=>{h(!1),g("")},className:"border-gray-700",children:"Cancel"}),t.jsx(q,{onClick:B,disabled:v||!f,className:"bg-emerald-600 hover:bg-emerald-700",children:v?t.jsxs(t.Fragment,{children:[t.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:[t.jsx(rd,{className:"mr-2 h-4 w-4"}),"Unlock"]})})]})]})]})})]})})}var Yy="Checkbox",[aNe,mSe]=qs(Yy),[nNe,xk]=aNe(Yy);function iNe(e){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:f}=e,[g,y]=wi({prop:s,defaultProp:n??!1,onChange:d,caller:Yy}),[w,v]=p.useState(null),[b,N]=p.useState(null),C=p.useRef(!1),S=w?!!o||!!w.closest("form"):!0,_={checked:g,disabled:i,setChecked:y,control:w,setControl:v,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:Bl(n)?!1:n,isFormControl:S,bubbleInput:b,setBubbleInput:N};return t.jsx(nNe,{scope:r,..._,children:oNe(f)?f(_):a})}var OU="CheckboxTrigger",MU=p.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:d,required:m,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:w}=xk(OU,e),v=ut(n,h),b=p.useRef(d);return p.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const C=()=>f(b.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,f]),t.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Bl(d)?"mixed":d,"aria-required":m,"data-state":$U(d),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:v,onKeyDown:De(r,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:De(s,N=>{f(C=>Bl(C)?!0:!C),w&&y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});MU.displayName=OU;var yk=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:m,form:h,...f}=e;return t.jsx(iNe,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:m,name:a,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>t.jsxs(t.Fragment,{children:[t.jsx(MU,{...f,ref:r,__scopeCheckbox:s}),g&&t.jsx(LU,{__scopeCheckbox:s})]})})});yk.displayName=Yy;var RU="CheckboxIndicator",IU=p.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:a,...n}=e,i=xk(RU,s);return t.jsx(ja,{present:a||Bl(i.checked)||i.checked===!0,children:t.jsx(He.span,{"data-state":$U(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});IU.displayName=RU;var DU="CheckboxBubbleInput",LU=p.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:d,name:m,value:h,form:f,bubbleInput:g,setBubbleInput:y}=xk(DU,e),w=ut(s,y),v=Gf(i),b=Nf(a);p.useEffect(()=>{const C=g;if(!C)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,T=!n.current;if(v!==i&&A){const E=new Event("click",{bubbles:T});C.indeterminate=Bl(i),A.call(C,Bl(i)?!1:i),C.dispatchEvent(E)}},[g,v,i,n]);const N=p.useRef(Bl(i)?!1:i);return t.jsx(He.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:d,name:m,value:h,form:f,...r,tabIndex:-1,ref:w,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LU.displayName=DU;function oNe(e){return typeof e=="function"}function Bl(e){return e==="indeterminate"}function $U(e){return Bl(e)?"indeterminate":e?"checked":"unchecked"}const Kc=p.forwardRef(({className:e,...r},s)=>t.jsx(yk,{ref:s,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-50 dark:border-zinc-800 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",e),...r,children:t.jsx(IU,{className:Le("flex items-center justify-center text-current"),children:t.jsx(tm,{className:"h-4 w-4"})})}));Kc.displayName=yk.displayName;const lO="https://apex-backend-august-production.up.railway.app/api";function lNe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState(!1),{toast:d}=cs(),[m,h]=p.useState({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});p.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await fetch(`${lO}/team/members`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`}});if(v.ok){const b=await v.json();r(b.members||[])}}catch(v){console.error("Error fetching team:",v)}finally{a(!1)}},g=async()=>{l(!0);try{const v=await fetch(`${lO}/team/members`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`},body:JSON.stringify(m)}),b=await v.json();if(v.ok)d({title:"Team Member Added",description:`Invitation sent to ${m.email} successfully.`}),i(!1),f(),h({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});else throw new Error(b.error||"Failed to add team member")}catch(v){console.error("Error adding team member:",v),d({title:"Error",description:v.message||"Failed to add team member. Please try again.",variant:"destructive"})}finally{l(!1)}},y=(v,b)=>{h(N=>({...N,permissions:{...N.permissions,[v]:b}}))},w={support_admin:{canAccessAllOrganizations:!0,canManageClients:!0,canViewClientData:!0,canManageTeam:!0},support_agent:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-gray-400",children:"Manage your support team members and their permissions"})}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Total Members"}),t.jsx(bt,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Active staff"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Support Admins"}),t.jsx(gs,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(v=>v.role==="support_admin").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Full access"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Pending Verification"}),t.jsx(Oa,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(v=>v.verificationRequired).length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Awaiting setup"})]})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs(q,{onClick:()=>i(!0),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Add Team Member"]})}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Support Team Members"}),t.jsx(Ht,{className:"text-gray-400",children:"Manage your support team members who can access client organizations"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[e.map(v=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 font-semibold text-white",children:[v.firstName[0],v.lastName[0]]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("h4",{className:"font-medium text-white",children:[v.firstName," ",v.lastName]}),t.jsx(je,{variant:v.role==="support_admin"?"default":"secondary",children:v.role==="support_admin"?"Support Admin":"Support Agent"}),v.verificationRequired&&t.jsxs(je,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[t.jsx(Yt,{className:"mr-1 h-3 w-3"}),"Pending Verification"]})]}),t.jsx("p",{className:"text-sm text-gray-400",children:v.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex gap-2",children:[v.permissions.canAccessAllOrganizations&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(Ir,{className:"h-3 w-3"}),t.jsx("span",{children:"View All"})]}),v.permissions.canManageClients&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(cr,{className:"h-3 w-3"}),t.jsx("span",{children:"Manage"})]}),v.permissions.canManageTeam&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[t.jsx(is,{className:"h-3 w-3"}),t.jsx("span",{children:"Admin"})]})]}),t.jsx("div",{className:"text-right",children:v.isActive?t.jsxs(je,{className:"bg-green-600",children:[t.jsx(yt,{className:"mr-1 h-3 w-3"}),"Active"]}):t.jsx(je,{variant:"secondary",children:"Inactive"})})]})]},v.id)),e.length===0&&!s&&t.jsxs("div",{className:"py-8 text-center text-gray-400",children:[t.jsx(bt,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{children:"No team members yet"})]})]})})]}),t.jsx(Cd,{open:n,onOpenChange:i,children:t.jsxs(dc,{className:"max-w-2xl border-gray-800 bg-gray-900 text-white",children:[t.jsxs(uc,{children:[t.jsx(mc,{children:"Add Team Member"}),t.jsx(kd,{className:"text-gray-400",children:"Add a new member to your support team with custom permissions"})]}),t.jsxs("div",{className:"mt-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"First Name"}),t.jsx(_e,{value:m.firstName,onChange:v=>h({...m,firstName:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"John"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Last Name"}),t.jsx(_e,{value:m.lastName,onChange:v=>h({...m,lastName:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"Doe"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Email Address"}),t.jsx(_e,{type:"email",value:m.email,onChange:v=>h({...m,email:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"john@example.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Role"}),t.jsxs(at,{value:m.role,onValueChange:v=>{h({...m,role:v,permissions:w[v]})},children:[t.jsx(rt,{className:"border-gray-700 bg-gray-800",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"support_admin",children:"Support Admin"}),t.jsx(se,{value:"support_agent",children:"Support Agent"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ee,{children:"Permissions"}),t.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ir,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Access all client organizations"})]}),t.jsx(Kc,{checked:m.permissions.canAccessAllOrganizations,onCheckedChange:v=>y("canAccessAllOrganizations",v)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cr,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Manage client organizations"})]}),t.jsx(Kc,{checked:m.permissions.canManageClients,onCheckedChange:v=>y("canManageClients",v)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"View client data"})]}),t.jsx(Kc,{checked:m.permissions.canViewClientData,onCheckedChange:v=>y("canViewClientData",v)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(is,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm",children:"Manage team members"})]}),t.jsx(Kc,{checked:m.permissions.canManageTeam,onCheckedChange:v=>y("canManageTeam",v)})]})]})]}),t.jsx("div",{className:"rounded-lg border border-blue-800 bg-blue-900/20 p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Oa,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-400"}),t.jsxs("div",{className:"text-sm text-gray-300",children:[t.jsx("p",{className:"mb-1 font-medium text-blue-400",children:"Email Verification Required"}),t.jsx("p",{children:"The new team member will receive an email invitation to verify their account and set up their password."})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(q,{variant:"outline",onClick:()=>i(!1),className:"border-gray-700",children:"Cancel"}),t.jsx(q,{onClick:g,disabled:!m.email||!m.firstName||!m.lastName||o,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 disabled:opacity-50",children:o?"Sending Invitation...":"Send Invitation"})]})]})]})})]})})}const yu={id:"",name:"",description:"",productDescription:"",status:"draft",progress:0,leadsCalled:0,answered:0,calledBack:0,opportunities:0,tags:[],phoneNumbers:[],voiceAgent:{name:"AI Assistant",voice:"default",language:"en-US",tone:"professional"},callingSchedule:{timezone:"America/New_York",startTime:"09:00",endTime:"17:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday"],startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0]},script:{introduction:"",mainContent:"",objections:"",closing:""},teamMembers:[],budget:{total:0,perCall:0,dailyLimit:0,spent:0},settings:{maxCallsPerDay:100,retryAttempts:3,callDuration:300,voicemailEnabled:!0},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()},cO=[{value:"sarah",label:"Sarah (Professional)",language:"en-US"},{value:"mike",label:"Mike (Friendly)",language:"en-US"},{value:"emma",label:"Emma (Conversational)",language:"en-GB"},{value:"david",label:"David (Authoritative)",language:"en-US"},{value:"lisa",label:"Lisa (Warm)",language:"en-US"},{value:"james",label:"James (Confident)",language:"en-GB"}],cNe=[{value:"professional",label:"Professional"},{value:"friendly",label:"Friendly"},{value:"conversational",label:"Conversational"},{value:"authoritative",label:"Authoritative"},{value:"warm",label:"Warm"},{value:"confident",label:"Confident"}],dO=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}];function dNe(){var U,$;const{id:e}=uf(),r=br(),{toast:s}=cs(),[a,n]=p.useState(!1),[i,o]=p.useState(yu),[l,d]=p.useState(!0),[m,h]=p.useState("overview"),[f,g]=p.useState(!1),[y,w]=p.useState(null),v=async R=>{var F,z,K,B,Q;if(console.log("Opening call modal with call:",R),console.log("🔍 Call from list has transcript?",{hasTranscript:!!R.transcript,transcriptLength:(F=R.transcript)==null?void 0:F.length,transcriptPreview:(z=R.transcript)==null?void 0:z.substring(0,50)}),R.id)try{const Z=(await Ft.get(`/vapi-outbound/calls/${R.id}`)).data.call;console.log("Full call data from API:",Z),console.log("🔍 DEBUG - Transcript check:",{hasTranscript:!!Z.transcript,transcriptType:typeof Z.transcript,transcriptLength:(K=Z.transcript)==null?void 0:K.length,transcriptPreview:(B=Z.transcript)==null?void 0:B.substring(0,100)}),Z.transcript?console.log("✅ TRANSCRIPT EXISTS! Length:",Z.transcript.length):console.log("❌ NO TRANSCRIPT IN API RESPONSE!"),console.log("📊 DEBUG: Raw fullCallData fields:",{id:Z.id,duration:Z.duration,cost:Z.cost,recording_url:Z.recording_url,recordingUrl:Z.recordingUrl,recording:Z.recording,customerName:Z.customerName,customer_name:Z.customer_name});const ne={id:Z.id||Z.callId,duration:Z.duration||0,recording:Z.recording||Z.recording_url||Z.recordingUrl,cost:Z.cost||0,customerName:Z.customerName||Z.customer_name||"Unknown",customerPhone:Z.customerPhone||Z.customer_phone||Z.phone_number,customerEmail:Z.customerEmail||Z.customer_email,customerCompany:Z.customerCompany||Z.customer_company,status:Z.status||"unknown",startedAt:Z.startedAt||Z.started_at,endedAt:Z.endedAt||Z.ended_at,campaignName:Z.campaignName||Z.campaign_name,direction:Z.direction||"outbound",vapiCallId:Z.vapiCallId||Z.vapi_call_id,transcript:Z.transcript||R.transcript?(Z.transcript||R.transcript).split(`
`).filter(ze=>ze.trim()).map((ze,Ae)=>{const Re=ze.trim(),de=/^(User|Customer):/i.test(Re),Se=/^(AI|Agent|Assistant|Voicemail System):/i.test(Re);let Ee;de?Ee="user":(Se||console.warn("No speaker marker found for line:",Re),Ee="ai");const te=Re.replace(/^(User|Customer|AI|Agent|Assistant|Voicemail System):\s*/i,"").trim(),Ue=te.split(" ").length/2.5,oe=Z.duration||0,Ge=oe>0?oe/((Z.transcript||R.transcript).split(`
`).filter(Nt=>Nt.trim()).length||1):0,Ct=Ae*Ge,Tt=Ct+Math.min(Ue,Ge);return{speaker:Ee,text:te||Re,timestamp:Date.now()-(Z.duration||0)*1e3+Ae*1e3,startTime:Ct,endTime:Tt}}):[{speaker:"ai",text:"No transcript available",timestamp:Date.now()}],analysis:{sentiment:Z.sentiment==="positive"?.8:Z.sentiment==="negative"?.2:.5,keywords:Z.keywords||[],summary:Z.summary||"No summary available"},messages:[{type:"info",content:`Call ${Z.status} - ${Z.customerName}`,timestamp:Date.now()}]};console.log("📊 DEBUG: transformedCallData being passed to modal:",{id:ne.id,duration:ne.duration,cost:ne.cost,recording:ne.recording,customerName:ne.customerName,hasTranscript:!!ne.transcript,transcriptType:typeof ne.transcript,transcriptIsArray:Array.isArray(ne.transcript),transcriptLength:(Q=ne.transcript)==null?void 0:Q.length,transcriptSample:Array.isArray(ne.transcript)&&ne.transcript.length>0?JSON.stringify(ne.transcript[0]):"Not an array or empty",fullData:ne}),console.log("🚨 FINAL CHECK - Setting selectedCall with:",{hasTranscript:!!ne.transcript,transcriptType:typeof ne.transcript,transcriptIsArray:Array.isArray(ne.transcript),transcriptLength:Array.isArray(ne.transcript)?ne.transcript.length:"not an array",allKeys:Object.keys(ne)}),w(ne),g(!0)}catch(Ce){console.error("Error fetching full call details:",Ce),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}else{const Ce={id:R.id||"unknown",duration:R.duration||0,recording:R.recording_url||R.recording,cost:R.cost||0,transcript:[{speaker:"ai",text:"Call data is loading...",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:"Loading..."}};w(Ce),g(!0)}},[b,N]=p.useState([]),[C,S]=p.useState(!0);p.useEffect(()=>{_(),A()},[e]);const _=async()=>{var R,F,z,K,B,Q,Ce;if(e)try{d(!0);const ne=(await Ft.get(`/vapi-outbound/campaigns/${e}`)).data.campaign;console.log("📊 Campaign data from backend:",ne),console.log("📊 Metrics:",{totalLeads:ne.totalLeads,callsCompleted:ne.callsCompleted,metrics:ne.metrics}),o({...yu,id:ne.id,name:ne.name,status:ne.status,phoneNumbers:ne.phoneNumbers||[],phoneNumberId:ne.phoneNumberId,phoneNumberDetails:ne.phoneNumberDetails||[],voiceAgent:{...yu.voiceAgent,name:ne.assistantName||"AI Assistant"},script:ne.script||yu.script,team:ne.team||[],budget:ne.budget||yu.budget,settings:ne.settings||yu.settings,createdAt:ne.createdAt,lastModified:ne.updatedAt,totalLeads:ne.totalLeads||((R=ne.metrics)==null?void 0:R.totalLeads)||0,callsCompleted:ne.callsCompleted||((F=ne.metrics)==null?void 0:F.callsCompleted)||0,leadsContacted:ne.callsCompleted||((z=ne.metrics)==null?void 0:z.callsCompleted)||0,leadsCalled:ne.callsCompleted||((K=ne.metrics)==null?void 0:K.callsCompleted)||ne.totalCalls||0,callsToday:ne.callsToday||((B=ne.metrics)==null?void 0:B.callsToday)||0,callsConnected:ne.successfulCalls||((Q=ne.metrics)==null?void 0:Q.callsConnected)||0,answered:ne.successfulCalls||((Ce=ne.metrics)==null?void 0:Ce.callsConnected)||0,avgCallDuration:ne.avgCallDuration||0,outcomes:ne.outcomes||{answered:ne.successfulCalls||0,voicemail:0,noAnswer:0,busy:0,failed:0},meetings:ne.meetings||0,opportunities:ne.meetings||0,callbacks:ne.callbacks||0,calledBack:ne.callbacks||0,progress:ne.totalLeads>0?Math.round(ne.callsCompleted/ne.totalLeads*100):0})}catch(Z){console.error("Error fetching campaign details:",Z),s({title:"Error",description:"Failed to load campaign details",variant:"destructive"})}finally{d(!1)}},A=async()=>{if(e)try{S(!0),console.log("🔍 Fetching calls for campaign:",e);let R=[];try{const z=await Ft.get(`/vapi-outbound/campaigns/${e}/calls`);console.log("📊 Raw API response:",z),console.log("📊 Response data:",z.data),z.data&&(Array.isArray(z.data)?R=z.data:z.data.calls&&Array.isArray(z.data.calls)?R=z.data.calls:z.data.data&&Array.isArray(z.data.data)&&(R=z.data.data))}catch(z){console.error("❌ API call failed, falling back to Supabase:",z);const{vapiOutboundService:K}=await fn(async()=>{const{vapiOutboundService:B}=await Promise.resolve().then(()=>rwe);return{vapiOutboundService:B}},void 0);R=await K.getCampaignResults(e),console.log("✅ Fetched calls from Supabase fallback:",R)}console.log("📊 Extracted calls data:",R);const F=R.map(z=>{var K;return{id:z.id,phoneNumber:z.customerPhone||z.customer_phone||z.phone_number||((K=z.lead)==null?void 0:K.phone),contactName:z.customerName||z.customer_name||(z.lead?`${z.lead.firstName||""} ${z.lead.lastName||""}`.trim():""),callTime:z.startedAt||z.started_at||z.created_at,duration:z.duration||0,cost:z.cost||0,outcome:z.outcome||(z.status==="completed"?"Completed":z.status==="initiated"?"In Progress":z.status==="failed"?"Failed":z.status),status:z.status,recording_url:z.recording||z.recording_url,recording:z.recording||z.recording_url,transcript:z.transcript,summary:z.summary,sentimentScore:z.sentiment==="positive"?.85:z.sentiment==="negative"?.15:.5,leadQuality:z.sentiment==="positive"?"hot":z.sentiment==="negative"?"cold":"warm"}});console.log("✅ Transformed calls:",F),console.log("✅ Setting",F.length,"calls in state"),N(F)}catch(R){console.error("❌ Error fetching campaign calls:",R),N([])}finally{console.log("🔍 Setting isLoadingCalls to false"),S(!1)}},T=(R,F)=>{o(z=>({...z,[R]:F}))},E=(R,F,z)=>{o(K=>({...K,[R]:{...K[R],[F]:z}}))},M=()=>{const R=prompt("Enter phone number:");R&&!i.phoneNumbers.includes(R)&&T("phoneNumbers",[...i.phoneNumbers,R])},L=R=>{T("phoneNumbers",i.phoneNumbers.filter((F,z)=>z!==R))},H=()=>{const R=prompt("Enter team member name:"),F=prompt("Enter email:"),z=prompt("Enter role (manager/agent/viewer):");R&&F&&z&&T("teamMembers",[...i.teamMembers,{id:Date.now().toString(),name:R,email:F,role:z}])},O=R=>{T("teamMembers",i.teamMembers.filter(F=>F.id!==R))},I=()=>{T("status",i.status==="active"?"paused":"active")},W=()=>{console.log("Saving campaign:",i),n(!1)},V=R=>{switch(R){case"active":return t.jsx(je,{className:"bg-green-500 hover:bg-green-600",children:"Active"});case"paused":return t.jsx(je,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Paused"});case"draft":return t.jsx(je,{className:"bg-gray-500 hover:bg-gray-600",children:"Draft"});case"disabled":return t.jsx(je,{className:"bg-red-500 hover:bg-red-600",children:"Disabled"});default:return t.jsx(je,{variant:"secondary",children:R})}};return l?t.jsx("div",{className:"min-h-screen w-full bg-black flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading campaign details..."})]})}):t.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden bg-black px-4",children:[t.jsxs("div",{className:"mx-auto mt-8 w-full max-w-7xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"flex items-center text-lg font-semibold text-gray-400 transition-colors hover:text-white",onClick:()=>r("/campaigns"),children:[t.jsx(td,{className:"mr-2 h-5 w-5"}),"Back to Campaigns"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsx("h1",{className:"text-3xl font-bold text-white",children:i.name}),V(i.status)]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(q,{variant:"outline",onClick:I,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:i.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Pause"]}):t.jsxs(t.Fragment,{children:[t.jsx(Un,{className:"mr-2 h-4 w-4"}),"Activate"]})}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:t.jsx(Ax,{className:"h-4 w-4"})})}),t.jsxs(Vn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Jt,{className:"text-white hover:bg-gray-700",children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Duplicate Campaign"]}),t.jsxs(Jt,{className:"text-white hover:bg-gray-700",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export Data"]}),t.jsxs(Jt,{className:"text-white hover:bg-gray-700",children:[t.jsx(oY,{className:"mr-2 h-4 w-4"}),"Share"]}),t.jsxs(Jt,{className:"text-red-400 hover:bg-gray-700",children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]})]})]}),a?t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(q,{variant:"outline",onClick:()=>n(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(St,{className:"mr-2 h-4 w-4"}),"Cancel"]}),t.jsxs(q,{onClick:W,className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}):t.jsxs(q,{onClick:()=>n(!0),className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[t.jsx(fr,{className:"mr-2 h-4 w-4"}),"Edit Campaign"]})]})]}),t.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Leads Called"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.leadsCalled||i.callsCompleted||b.length||0})]}),t.jsx(xt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Answered"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.answered||i.callsConnected||b.filter(R=>R.status==="completed"||R.outcome==="Completed").length||0})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Callbacks"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.callbacks||0})]}),t.jsx(Mt,{className:"h-8 w-8 text-amber-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Opportunities"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:i.meetings||0})]}),t.jsx(lr,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.jsx("div",{className:"mb-8 border-b border-gray-700"}),t.jsx(J,{className:"mb-8 border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Campaign Progress"}),t.jsxs("span",{className:"text-gray-400",children:[i.totalLeads>0?Math.round((i.callsCompleted||b.length||0)/i.totalLeads*100):b.length>0?100:0,"%"]})]}),t.jsx(xr,{value:i.totalLeads>0?(i.callsCompleted||b.length||0)/i.totalLeads*100:b.length>0?100:0,className:"h-3"})]})}),t.jsxs(Ai,{value:m,onValueChange:h,className:"w-full",children:[t.jsxs(Yn,{className:"grid w-full grid-cols-9 bg-gray-800",children:[t.jsx(ht,{value:"overview",className:"text-white",children:"Overview"}),t.jsx(ht,{value:"calls",className:"text-white",children:"Calls"}),t.jsx(ht,{value:"phone-numbers",className:"text-white",children:"Phone Numbers"}),t.jsx(ht,{value:"voice-agent",className:"text-white",children:"Voice Agent"}),t.jsx(ht,{value:"schedule",className:"text-white",children:"Schedule"}),t.jsx(ht,{value:"script",className:"text-white",children:"Script"}),t.jsx(ht,{value:"team",className:"text-white",children:"Team"}),t.jsx(ht,{value:"budget",className:"text-white",children:"Budget"}),t.jsx(ht,{value:"settings",className:"text-white",children:"Settings"})]}),t.jsx(ft,{value:"overview",className:"mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Campaign Information"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Campaign Name"}),a?t.jsx(_e,{value:i.name,onChange:R=>T("name",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.name})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Description"}),a?t.jsx(Ha,{value:i.description,onChange:R=>T("description",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.description})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Product/Service Description"}),a?t.jsx(Ha,{value:i.productDescription,onChange:R=>T("productDescription",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.productDescription})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Budget Overview"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Budget:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Spent:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Remaining:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total-i.budget.spent]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per Call:"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.perCall]})]}),t.jsx(xr,{value:i.budget.spent/i.budget.total*100,className:"h-2"})]})]})]})}),t.jsx(ft,{value:"calls",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(xt,{className:"h-5 w-5"}),"Campaign Calls (",b.length,")"]})}),t.jsx(X,{children:C?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading calls..."})]})}):b.length===0?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No calls have been made for this campaign yet."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Calls will appear here once the campaign starts making calls."})]})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Call ID"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Phone Number"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Contact Name"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Time"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Duration"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Cost"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Outcome"}),t.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Recording"})]})}),t.jsx("tbody",{children:b.map(R=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-mono text-sm text-emerald-400",children:R.id})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"font-medium text-white",children:R.phoneNumber})}),t.jsx("td",{className:"px-4 py-3",children:R.contactName?t.jsx("span",{className:"text-white",children:R.contactName}):t.jsx("span",{className:"italic text-gray-500",children:"Name not confirmed"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:new Date(R.callTime).toLocaleString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-gray-300",children:R.duration>0?`${Math.floor(R.duration/60)}m ${R.duration%60}s`:R.status==="completed"?"Unknown":"0m 0s"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"font-medium text-green-400",children:["$",(R.cost||0).toFixed(2)]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(je,{variant:"outline",className:R.outcome==="interested"||R.outcome.includes("Interested")?"border-green-500 text-green-400":R.outcome==="callback"||R.outcome.includes("Callback")?"border-yellow-500 text-yellow-400":R.outcome==="not_interested"||R.outcome.includes("Not Interested")?"border-red-500 text-red-400":R.outcome==="failed"?"border-orange-500 text-orange-400":R.outcome==="no_answer"||R.outcome.includes("No Answer")?"border-gray-500 text-gray-400":R.outcome==="voicemail"?"border-purple-500 text-purple-400":R.outcome==="completed"||R.outcome==="Completed"?"border-emerald-500 text-emerald-400":"border-blue-500 text-blue-400",children:R.outcome==="failed"?"Unsuccessful":R.outcome==="no_answer"?"No Answer":R.outcome==="interested"?"Interested":R.outcome==="not_interested"?"Not Interested":R.outcome==="voicemail"?"Voicemail":R.outcome==="completed"?"Completed":R.outcome||"Unknown"})}),t.jsx("td",{className:"px-4 py-3",children:R.status==="in_progress"||R.status==="initiated"?t.jsx("span",{className:"text-sm text-yellow-500",children:"In progress..."}):R.status==="failed"?t.jsx("span",{className:"text-sm text-gray-500",children:"Call failed"}):R.status==="completed"||R.outcome==="Completed"?t.jsxs(q,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:F=>{F.stopPropagation(),console.log("🎵 Opening call modal for:",R.id),v(R)},children:[t.jsx(Un,{className:"mr-1 h-4 w-4"}),"Play"]}):t.jsx("span",{className:"text-sm text-gray-500",children:"No recording"})})]},R.id))})]})})})]})}),t.jsx(ft,{value:"phone-numbers",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Phone Numbers"}),t.jsx(Ht,{className:"text-gray-400",children:"Phone numbers used for making calls in this campaign"})]}),t.jsxs(X,{className:"space-y-4",children:[i.phoneNumbers&&i.phoneNumbers.length>0?i.phoneNumbers.map((R,F)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(_e,{value:R,readOnly:!0,className:"flex-1 text-white bg-gray-800 border-gray-700"}),a&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>L(F),children:t.jsx(St,{className:"h-4 w-4"})})]},F)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-400 mb-4",children:"No phone numbers configured for this campaign"}),i.phoneNumberId&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Phone Number ID: ",i.phoneNumberId]})]}),a&&t.jsxs(q,{onClick:M,variant:"outline",className:"w-full",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add Phone Number"]})]})]})}),t.jsx(ft,{value:"voice-agent",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Voice Agent Configuration"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Voice Agent Name"}),a?t.jsx(_e,{value:i.voiceAgent.name,onChange:R=>E("voiceAgent","name",R.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.voiceAgent.name})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Voice Selection"}),a?t.jsxs(at,{value:i.voiceAgent.voice,onValueChange:R=>E("voiceAgent","voice",R),children:[t.jsx(rt,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(st,{children:cO.map(R=>t.jsx(se,{value:R.value,children:R.label},R.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:(U=cO.find(R=>R.value===i.voiceAgent.voice))==null?void 0:U.label})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Tone"}),a?t.jsxs(at,{value:i.voiceAgent.tone,onValueChange:R=>E("voiceAgent","tone",R),children:[t.jsx(rt,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(st,{children:cNe.map(R=>t.jsx(se,{value:R.value,children:R.label},R.value))})]}):t.jsx("p",{className:"mt-2 capitalize text-gray-300",children:i.voiceAgent.tone})]})]})]})}),t.jsx(ft,{value:"schedule",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Calling Schedule"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Timezone"}),a?t.jsxs(at,{value:i.callingSchedule.timezone,onValueChange:R=>E("callingSchedule","timezone",R),children:[t.jsx(rt,{className:"mt-2",children:t.jsx(nt,{})}),t.jsx(st,{children:dO.map(R=>t.jsx(se,{value:R.value,children:R.label},R.value))})]}):t.jsx("p",{className:"mt-2 text-gray-300",children:($=dO.find(R=>R.value===i.callingSchedule.timezone))==null?void 0:$.label})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Start Time"}),a?t.jsx(_e,{type:"time",value:i.callingSchedule.startTime,onChange:R=>E("callingSchedule","startTime",R.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startTime})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"End Time"}),a?t.jsx(_e,{type:"time",value:i.callingSchedule.endTime,onChange:R=>E("callingSchedule","endTime",R.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endTime})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Days of Week"}),t.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(R=>t.jsx(q,{variant:i.callingSchedule.daysOfWeek.includes(R)?"default":"outline",size:"sm",disabled:!a,onClick:()=>{if(a){const F=i.callingSchedule.daysOfWeek.includes(R)?i.callingSchedule.daysOfWeek.filter(z=>z!==R):[...i.callingSchedule.daysOfWeek,R];E("callingSchedule","daysOfWeek",F)}},children:R.slice(0,3).toUpperCase()},R))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Start Date"}),a?t.jsx(_e,{type:"date",value:i.callingSchedule.startDate,onChange:R=>E("callingSchedule","startDate",R.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startDate})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"End Date"}),a?t.jsx(_e,{type:"date",value:i.callingSchedule.endDate,onChange:R=>E("callingSchedule","endDate",R.target.value),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endDate})]})]})]})]})}),t.jsx(ft,{value:"script",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Calling Script"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Introduction"}),a?t.jsx(Ha,{value:i.script.introduction,onChange:R=>E("script","introduction",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.introduction})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Main Content"}),a?t.jsx(Ha,{value:i.script.mainContent,onChange:R=>E("script","mainContent",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.mainContent})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Objection Handling"}),a?t.jsx(Ha,{value:i.script.objections,onChange:R=>E("script","objections",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.objections})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Closing"}),a?t.jsx(Ha,{value:i.script.closing,onChange:R=>E("script","closing",R.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.script.closing})]})]})]})}),t.jsx(ft,{value:"team",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(xe,{className:"text-white",children:"Team Members"}),a&&t.jsxs(q,{onClick:H,variant:"outline",size:"sm",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add Member"]})]})}),t.jsxs(X,{className:"space-y-4",children:[i.teamMembers.map(R=>t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:R.name}),t.jsx("p",{className:"text-sm text-gray-400",children:R.email}),t.jsx(je,{variant:"secondary",className:"mt-1",children:R.role})]}),a&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>O(R.id),children:t.jsx(St,{className:"h-4 w-4"})})]})})},R.id)),i.teamMembers.length===0&&t.jsx("p",{className:"py-8 text-center text-gray-400",children:"No team members assigned to this campaign."})]})]})}),t.jsx(ft,{value:"budget",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Budget Management"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Total Budget ($)"}),a?t.jsx(_e,{type:"number",value:i.budget.total,onChange:R=>E("budget","total",parseFloat(R.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.total]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Cost Per Call ($)"}),a?t.jsx(_e,{type:"number",step:"0.01",value:i.budget.perCall,onChange:R=>E("budget","perCall",parseFloat(R.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.perCall]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Daily Budget Limit ($)"}),a?t.jsx(_e,{type:"number",value:i.budget.dailyLimit,onChange:R=>E("budget","dailyLimit",parseFloat(R.target.value)||0),className:"mt-2"}):t.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.dailyLimit]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Budget Usage"}),t.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.budget.spent," / $",i.budget.total]})]}),t.jsx(xr,{value:i.budget.spent/i.budget.total*100,className:"h-2"}),t.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Estimated calls remaining:"," ",Math.floor((i.budget.total-i.budget.spent)/i.budget.perCall)]})]})]})]})}),t.jsx(ft,{value:"settings",className:"mt-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Advanced Settings"})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Max Calls Per Day"}),a?t.jsx(_e,{type:"number",value:i.settings.maxCallsPerDay,onChange:R=>E("settings","maxCallsPerDay",parseInt(R.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.maxCallsPerDay})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Retry Attempts"}),a?t.jsx(_e,{type:"number",value:i.settings.retryAttempts,onChange:R=>E("settings","retryAttempts",parseInt(R.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.retryAttempts})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-white",children:"Max Call Duration (seconds)"}),a?t.jsx(_e,{type:"number",value:i.settings.callDuration,onChange:R=>E("settings","callDuration",parseInt(R.target.value)||0),className:"mt-2"}):t.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.callDuration})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xr,{id:"voicemail",checked:i.settings.voicemailEnabled,onCheckedChange:R=>E("settings","voicemailEnabled",R),disabled:!a}),t.jsx(ee,{htmlFor:"voicemail",className:"text-white",children:"Enable Voicemail"})]})]})]})})]})]}),t.jsx(Gy,{isOpen:f,onClose:()=>g(!1),callData:y})]})}function uNe(){const[e,r]=p.useState(""),s=[{id:"1",name:"Sales Qualifier Bot",type:"outbound",status:"active",model:"GPT-4",voice:"ElevenLabs - Rachel",calls:1234,avgDuration:"3:45",successRate:78},{id:"2",name:"Customer Support Agent",type:"inbound",status:"active",model:"GPT-3.5 Turbo",voice:"OpenAI - Alloy",calls:5678,avgDuration:"5:12",successRate:92},{id:"3",name:"Appointment Scheduler",type:"web",status:"inactive",model:"Claude 3",voice:"Deepgram - Nova",calls:890,avgDuration:"2:30",successRate:85}];return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your VAPI-powered voice assistants"})}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Assistant"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]}),t.jsx(Gi,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active Assistants"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"2"})]}),t.jsx(Us,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"7,802"})]}),t.jsx(xt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Avg Success Rate"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:"85%"})]}),t.jsx(Qi,{className:"h-8 w-8 text-orange-500"})]})})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{type:"text",placeholder:"Search assistants...",value:e,onChange:a=>r(a.target.value),className:"border-gray-700 bg-gray-900/50 pl-10 text-white placeholder-gray-500 focus:border-emerald-500"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(a=>t.jsxs(J,{className:"border-gray-800 bg-gray-900 transition-shadow hover:shadow-lg",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-lg text-white",children:a.name}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(je,{variant:a.type==="outbound"?"default":"secondary",children:a.type}),t.jsx(je,{variant:a.status==="active"?"default":"outline",children:a.status})]})]}),t.jsx(Gi,{className:"h-6 w-6 text-gray-400"})]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Model:"}),t.jsx("span",{className:"font-medium text-white",children:a.model})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Voice:"}),t.jsx("span",{className:"font-medium text-white",children:a.voice})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Total Calls:"}),t.jsx("span",{className:"font-medium text-white",children:a.calls.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Duration:"}),t.jsx("span",{className:"font-medium text-white",children:a.avgDuration})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),t.jsxs("span",{className:"font-medium text-emerald-400",children:[a.successRate,"%"]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsxs(q,{size:"sm",variant:"outline",className:"flex-1 border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(ad,{className:"mr-1 h-4 w-4"}),"Edit"]}),t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:t.jsx(mn,{className:"h-4 w-4"})}),t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-red-400 hover:bg-red-900/20",children:t.jsx(Ws,{className:"h-4 w-4"})})]})]})]},a.id))})]})})}const mNe=()=>{var n,i;const[e,r]=p.useState(null),s=[{id:"1",contact:"John Doe",phone:"+1 (555) 123-4567",lastMessage:"Thanks for the follow-up call!",timestamp:"2 hours ago",unread:2,status:"active"},{id:"2",contact:"Jane Smith",phone:"+1 (555) 987-6543",lastMessage:"When can we schedule the next meeting?",timestamp:"5 hours ago",unread:0,status:"pending"},{id:"3",contact:"Mike Johnson",phone:"+1 (555) 456-7890",lastMessage:"Received the proposal, reviewing now.",timestamp:"1 day ago",unread:1,status:"completed"}],a=e?[{id:"1",sender:"contact",text:"Hi, I received your call earlier today.",timestamp:"10:30 AM"},{id:"2",sender:"agent",text:"Great! Thanks for getting back to me. How did you find the information we discussed?",timestamp:"10:35 AM"},{id:"3",sender:"contact",text:"Very helpful! I'm interested in moving forward.",timestamp:"10:40 AM"},{id:"4",sender:"agent",text:"Excellent! I'll send you the next steps via email.",timestamp:"10:42 AM"}]:[];return t.jsxs("div",{className:"p-6 h-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Messaging"}),t.jsx("p",{className:"text-gray-600",children:"Manage conversations and follow-ups with leads"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs(J,{className:"lg:col-span-1",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center gap-2",children:[t.jsx(Qi,{className:"h-5 w-5"}),"Conversations"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(_e,{placeholder:"Search conversations...",className:"pl-10"})]}),t.jsx(q,{variant:"outline",size:"icon",children:t.jsx(Ex,{className:"h-4 w-4"})})]})]}),t.jsx(X,{className:"p-0",children:t.jsx("div",{className:"divide-y",children:s.map(o=>t.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${e===o.id?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>r(o.id),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ys,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"font-medium",children:o.contact})]}),o.unread>0&&t.jsx(je,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:o.unread})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.phone}),t.jsx("p",{className:"text-sm text-gray-500 truncate mb-2",children:o.lastMessage}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-400",children:o.timestamp}),t.jsx(je,{variant:o.status==="active"?"default":o.status==="pending"?"secondary":"outline",className:"text-xs",children:o.status})]})]},o.id))})})]}),t.jsx(J,{className:"lg:col-span-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx(pe,{className:"border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(xe,{className:"flex items-center gap-2",children:[t.jsx(ys,{className:"h-5 w-5"}),(n=s.find(o=>o.id===e))==null?void 0:n.contact]}),t.jsxs(Ht,{className:"flex items-center gap-2 mt-1",children:[t.jsx(xt,{className:"h-4 w-4"}),(i=s.find(o=>o.id===e))==null?void 0:i.phone]})]}),t.jsxs(q,{variant:"outline",size:"sm",children:[t.jsx(xt,{className:"h-4 w-4 mr-2"}),"Call"]})]})}),t.jsxs(X,{className:"flex flex-col h-full p-0",children:[t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:a.map(o=>t.jsx("div",{className:`flex ${o.sender==="agent"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${o.sender==="agent"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[t.jsx("p",{className:"text-sm",children:o.text}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(Mt,{className:"h-3 w-3 opacity-70"}),t.jsx("span",{className:"text-xs opacity-70",children:o.timestamp})]})]})},o.id))}),t.jsx("div",{className:"border-t p-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ha,{placeholder:"Type your message...",className:"resize-none min-h-[60px]"}),t.jsx(q,{size:"icon",className:"self-end",children:t.jsx(Vl,{className:"h-4 w-4"})})]})})]})]}):t.jsx(X,{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Qi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),t.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})]})},wh=[{id:1,name:"Campaign Type",icon:lr},{id:2,name:"Name & Objective",icon:lr},{id:3,name:"Phone Numbers",icon:xt},{id:4,name:"Voice Agent",icon:Gi},{id:5,name:"Test Agent",icon:Un},{id:6,name:"Import Leads",icon:Fl},{id:7,name:"Budget & Credits",icon:Fr},{id:8,name:"Team Assignment",icon:bt},{id:9,name:"Final Review",icon:fs}],uO=[{id:"sales",name:"Sales Outreach",description:"Generate new sales opportunities"},{id:"qualification",name:"Lead Qualification",description:"Qualify and score leads"},{id:"followup",name:"Follow-up",description:"Re-engage existing leads"},{id:"survey",name:"Survey",description:"Collect feedback and insights"},{id:"appointment",name:"Appointment Setting",description:"Schedule meetings"},{id:"custom",name:"Custom",description:"Define your own objective"}],Ig=[{id:"emma",name:"Emma - Sales Specialist",description:"Friendly and persuasive, great for B2C sales",avatar:"👩‍💼",languages:["English","Spanish"],specialties:["Sales","Product Demos","Objection Handling"]},{id:"marcus",name:"Marcus - Enterprise Sales",description:"Professional and consultative for B2B",avatar:"👨‍💼",languages:["English"],specialties:["Enterprise Sales","Technical Discussions","ROI Analysis"]},{id:"sophia",name:"Sophia - Lead Qualifier",description:"Efficient at gathering information and scoring leads",avatar:"👩‍💻",languages:["English","French"],specialties:["Lead Qualification","Data Collection","Scheduling"]},{id:"alex",name:"Alex - Customer Success",description:"Warm and helpful for follow-ups and support",avatar:"🧑‍💼",languages:["English"],specialties:["Follow-ups","Customer Support","Satisfaction Surveys"]}],mO=[{id:"1",name:"Sarah Johnson",role:"Sales Manager",avatar:"SJ"},{id:"2",name:"Mike Davis",role:"Senior Sales Rep",avatar:"MD"},{id:"3",name:"Emily Wilson",role:"Sales Rep",avatar:"EW"},{id:"4",name:"John Smith",role:"Sales Rep",avatar:"JS"},{id:"5",name:"Lisa Chen",role:"Sales Coordinator",avatar:"LC"}];function hNe(){const e=br(),r=p.useRef(null),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,v]=p.useState(!1),[b,N]=p.useState({name:"",objective:"",description:"",phoneNumber:"",twilioIntegration:!1,vapiPhoneId:"",voiceAgent:"",voiceSettings:{speed:1,pitch:1,temperature:.7},testCompleted:!1,testNotes:"",leads:[],csvFileName:"",budget:100,callCredits:1e3,autoReload:!1,autoReloadThreshold:100,assignedTeam:[],teamLeader:"",immediateStart:!0,campaignType:""}),C="campaign-wizard-draft",S=()=>localStorage.getItem(C)!==null,_=()=>{const te=b.name.trim()!==""||b.objective.trim()!==""||b.description.trim()!==""||b.phoneNumber.trim()!==""||b.voiceAgent.trim()!==""||b.leads.length>0||b.csvFileName.trim()!==""||b.campaignType!==""||s>1||w||Object.keys(o).length>0;return console.log("🔍 Draft check:",{name:b.name.trim(),objective:b.objective.trim(),description:b.description.trim(),phoneNumber:b.phoneNumber.trim(),voiceAgent:b.voiceAgent.trim(),leadsCount:b.leads.length,csvFileName:b.csvFileName.trim(),campaignType:b.campaignType,currentStep:s,hasChanges:te}),te},A=async()=>{if(_()){y(!0);try{const te={campaignData:b,currentStep:s,timestamp:new Date().toISOString(),version:"1.0"};localStorage.setItem(C,JSON.stringify(te)),console.log("Draft saved successfully")}catch(te){console.error("Failed to save draft:",te)}finally{y(!1)}}},T=()=>{try{const te=localStorage.getItem(C);if(te){const be=JSON.parse(te);return N(be.campaignData),a(be.currentStep),!0}}catch(te){console.error("Failed to load draft:",te),localStorage.removeItem(C)}return!1},E=()=>{localStorage.removeItem(C)},M=te=>{console.log("🚪 Exit attempt to:",te);const be=_();console.log("🚪 Has unsaved changes:",be),be?(console.log("🚪 Showing exit dialog"),f(te),m(!0)):(console.log("🚪 No changes, navigating directly"),e(te))},L=async()=>{await A(),m(!1),h&&(Z.state==="blocked"?Z.proceed():e(h),f(null))},H=()=>{E(),m(!1),h&&(Z.state==="blocked"?Z.proceed():e(h),f(null))},[O,I]=p.useState([]),[W,V]=p.useState([]),[U,$]=p.useState(!1),[R,F]=p.useState(!1),[z,K]=p.useState([]),[B,Q]=p.useState(!1),Ce=s/wh.length*100;p.useEffect(()=>{(async()=>{try{$(!0),F(!0),K([]),console.log("🔄 Loading VAPI data..."),console.log("🔄 Campaign Wizard: Loading VAPI data from backend..."),console.log("🔄 Campaign Wizard: API Base URL:","https://apex-backend-august-production.up.railway.app/api");const[be,Te]=await Promise.all([Ka.getAssistants().catch(Ge=>{var Ct;return console.error("❌ Failed to load assistants:",Ge),console.error("❌ Error details:",((Ct=Ge.response)==null?void 0:Ct.data)||Ge.message),{assistants:[]}}),Ka.getPhoneNumbers().catch(Ge=>{var Ct;return console.error("❌ Failed to load phone numbers:",Ge),console.error("❌ Error details:",((Ct=Ge.response)==null?void 0:Ct.data)||Ge.message),{phoneNumbers:[]}})]);console.log("📞 Loaded assistants:",be),console.log("📱 Loaded phone numbers:",Te);const Ue=Array.isArray(be)?be:be.assistants||[],oe=Array.isArray(Te)?Te:Te.phoneNumbers||[];I(Ue),V(oe),Q(!0),(Ue.length>0||oe.length>0)&&K([])}catch(be){console.error("❌ Error loading VAPI data:",be),K(["Failed to connect to VAPI service. Please check your VAPI credentials in Settings."]),Q(!1)}finally{$(!1),F(!1)}})()},[]),p.useEffect(()=>{S()&&T()},[]),p.useEffect(()=>{if(_()){const te=setTimeout(()=>{A()},2e3);return()=>clearTimeout(te)}},[b,s]),p.useEffect(()=>{const te=be=>{if(_())return be.preventDefault(),be.returnValue="You have unsaved changes. Do you want to save your progress as a draft?",be.returnValue};return window.addEventListener("beforeunload",te),()=>window.removeEventListener("beforeunload",te)},[b,s]);const Z=gW(({currentLocation:te,nextLocation:be})=>{console.log("🚧 Router blocker triggered:",{currentLocation:te.pathname,nextLocation:be.pathname,hasChanges:_()});const Te=_()&&te.pathname!==be.pathname;return console.log("🚧 Should block navigation:",Te),Te});p.useEffect(()=>{var te;Z.state==="blocked"&&(console.log("🚧 Navigation blocked, showing dialog"),f(((te=Z.location)==null?void 0:te.pathname)||"/campaigns"),m(!0))},[Z.state]),p.useEffect(()=>{const te=()=>{console.log("👤 User interaction detected"),v(!0)};return document.addEventListener("input",te),document.addEventListener("click",te),document.addEventListener("keydown",te),()=>{document.removeEventListener("input",te),document.removeEventListener("click",te),document.removeEventListener("keydown",te)}},[]);const ne=te=>{const be={};switch(te){case 1:b.name.trim()||(be.name="Campaign name is required"),b.objective||(be.objective="Please select an objective");break;case 2:b.phoneNumber||(be.phoneNumber="Phone number is required");break;case 3:b.voiceAgent||(be.voiceAgent="Please select a voice agent");break;case 4:b.testCompleted||(be.test="Please test the voice agent before proceeding");break;case 5:b.leads.length===0&&(be.leads="Please import at least one lead");break;case 6:b.budget<10&&(be.budget="Minimum budget is $10");break;case 7:b.assignedTeam.length===0&&(be.team="Please assign at least one team member"),b.teamLeader||(be.teamLeader="Please select a team leader");break}return l(be),Object.keys(be).length===0},ze=()=>{ne(s)&&s<wh.length&&a(s+1)},Ae=()=>{s>1&&(a(s-1),l({}))},Re=te=>{te<s?(a(te),l({})):te===s+1&&ze()},de=te=>{N(be=>({...be,...te}))},Se=()=>{var te,be,Te,Ue;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Select Campaign Type"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Choose whether you're targeting businesses or individual consumers"})]}),t.jsx($l,{value:b.campaignType,onValueChange:oe=>N({...b,campaignType:oe}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${b.campaignType==="b2b"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Zs,{value:"b2b",id:"b2b",className:"sr-only"}),t.jsx(ee,{htmlFor:"b2b",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-blue-900/30 p-3",children:t.jsx(cr,{className:"h-6 w-6 text-blue-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2B (Business to Business)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target business decision makers and companies"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Name"}),t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Contact Title"}),t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Industry"}),t.jsx(je,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Size"})]})]})]})]})})]}),t.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${b.campaignType==="b2c"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Zs,{value:"b2c",id:"b2c",className:"sr-only"}),t.jsx(ee,{htmlFor:"b2c",className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"rounded-lg bg-emerald-900/30 p-3",children:t.jsx(ys,{className:"h-6 w-6 text-emerald-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2C (Business to Consumer)"}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target individual consumers with personalized offers"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Age Range"}),t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Interests"}),t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Location"}),t.jsx(je,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Consent Status"})]})]})]})]})})]})]})}),b.campaignType&&t.jsxs(ir,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(qt,{className:"h-4 w-4 text-blue-400"}),t.jsx(or,{className:"text-gray-300",children:b.campaignType==="b2b"?"B2B campaigns focus on ROI, efficiency, and business value propositions. Your AI agent will be configured to speak professionally about business benefits.":"B2C campaigns require consent management and focus on personal benefits. Your AI agent will use a more conversational tone appropriate for consumers."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Campaign Details"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Give your campaign a name and select your primary objective"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Campaign Name *"}),t.jsx(_e,{value:b.name,onChange:oe=>de({name:oe.target.value}),placeholder:"e.g., Q4 Enterprise Sales Outreach",className:"border-gray-700 bg-gray-800 text-white"}),o.name&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.name})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Campaign Objective *"}),t.jsx($l,{value:b.objective,onValueChange:oe=>de({objective:oe}),children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:uO.map(oe=>t.jsxs("div",{className:`relative flex cursor-pointer items-start space-x-3 rounded-lg border p-4 transition-all ${b.objective===oe.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[t.jsx(Zs,{value:oe.id,id:oe.id,className:"mt-1"}),t.jsxs(ee,{htmlFor:oe.id,className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:oe.name}),t.jsx("div",{className:"text-sm text-gray-400",children:oe.description})]})]},oe.id))})}),o.objective&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.objective})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Campaign Description (Optional)"}),t.jsx(Ha,{value:b.description,onChange:oe=>de({description:oe.target.value}),placeholder:"Describe your campaign goals, target audience, and any special instructions...",className:"border-gray-700 bg-gray-800 text-white",rows:4})]})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Configure Phone Numbers"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select your calling phone number and configure integrations"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Phone Number Source"}),t.jsx($l,{value:b.twilioIntegration?"twilio":"vapi",onValueChange:oe=>de({twilioIntegration:oe==="twilio"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"vapi",id:"vapi"}),t.jsxs(ee,{htmlFor:"vapi",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(xt,{className:"h-4 w-4 text-emerald-500"}),t.jsx("span",{className:"font-medium text-white",children:"VAPI Phone Numbers"}),t.jsx(je,{className:"bg-emerald-600 text-white",children:"Recommended"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use phone numbers provisioned through VAPI"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"twilio",id:"twilio"}),t.jsxs(ee,{htmlFor:"twilio",className:"cursor-pointer",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(xt,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{className:"font-medium text-white",children:"Twilio Integration"})]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Use your existing Twilio phone numbers"})]})]})]})})]}),b.twilioIntegration?t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ir,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(or,{className:"text-yellow-300",children:"Twilio integration requires API credentials. Make sure your Twilio account is connected in Settings."})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Twilio Phone Number *"}),t.jsx(_e,{value:b.phoneNumber,onChange:oe=>de({phoneNumber:oe.target.value}),placeholder:"+1234567890",className:"border-gray-700 bg-gray-800 text-white"}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber})]})]}):t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Select VAPI Phone Number *"}),R&&t.jsxs("div",{className:"mb-2 flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading phone numbers..."})]}),t.jsxs(at,{value:b.phoneNumber,onValueChange:oe=>de({phoneNumber:oe,vapiPhoneId:oe}),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:R?"Loading phone numbers...":"Choose a phone number"})}),t.jsx(st,{className:"border-gray-700 bg-gray-800",children:W.length>0?W.map(oe=>t.jsxs(se,{value:oe.id||oe.number,children:[oe.number," - ",oe.country||oe.region||"Unknown"]},oe.id||oe.number)):t.jsxs(t.Fragment,{children:[t.jsx(se,{value:"+1-555-0123",children:"+1 (555) 012-3456 - US"}),t.jsx(se,{value:"+1-555-0124",children:"+1 (555) 012-3457 - US"}),t.jsx(se,{value:"+44-7482-792343",children:"+44 7482 792343 - UK"})]})})]}),o.phoneNumber&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber}),W.length===0&&!R&&t.jsx("p",{className:"mt-1 text-sm text-yellow-400",children:"No VAPI phone numbers found. Using demo numbers. Please configure VAPI in Settings."})]}),z.length>0&&t.jsxs(ir,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-red-500"}),t.jsxs(or,{className:"text-red-300",children:["VAPI Connection Issue: ",z.join(", ")]})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium text-white",children:"Phone Number Features"}),B&&t.jsx(je,{className:"bg-green-600 text-xs text-white",children:"VAPI Connected"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Automatic caller ID registration"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Call recording and transcription"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Real-time call monitoring"})]})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Select Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Choose the AI voice agent that best fits your campaign objective"})]}),t.jsxs("div",{className:"space-y-4",children:[z.length>0&&t.jsxs(ir,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-red-500"}),t.jsx(or,{className:"text-red-300",children:z.join(", ")})]}),U&&t.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[t.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),t.jsx("span",{children:"Loading voice agents..."})]}),O.length===0&&!U&&t.jsxs(ir,{className:"border-yellow-500 bg-yellow-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-yellow-500"}),t.jsx(or,{className:"text-yellow-300",children:"No VAPI assistants found. Using demo agents. Please configure VAPI credentials in Settings."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:(O.length>0?O:Ig).map(oe=>{var Ge,Ct;return t.jsx("div",{className:`cursor-pointer rounded-lg border p-4 transition-all ${b.voiceAgent===oe.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>de({voiceAgent:oe.id}),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-4xl",children:oe.avatar||"🤖"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-1 font-medium text-white",children:oe.name}),t.jsx("p",{className:"mb-3 text-sm text-gray-400",children:oe.description||"AI Assistant"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ea,{className:"h-3 w-3 text-gray-500"}),t.jsx("span",{className:"text-xs text-gray-400",children:oe.languages?`Languages: ${oe.languages.join(", ")}`:`Voice: ${((Ge=oe.voice)==null?void 0:Ge.provider)||"Default"}`})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:oe.specialties?oe.specialties.map((Tt,Nt)=>t.jsx(je,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:Tt},Nt)):t.jsx(je,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:((Ct=oe.model)==null?void 0:Ct.provider)||"AI Model"})})]})]})]})},oe.id)})}),o.voiceAgent&&t.jsx("p",{className:"text-sm text-red-400",children:o.voiceAgent}),b.voiceAgent&&t.jsxs("div",{className:"space-y-4 rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"font-medium text-white",children:"Voice Settings"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Speaking Speed"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[b.voiceSettings.speed,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:b.voiceSettings.speed,onChange:oe=>de({voiceSettings:{...b.voiceSettings,speed:parseFloat(oe.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Voice Pitch"}),t.jsxs("span",{className:"text-sm text-gray-400",children:[b.voiceSettings.pitch,"x"]})]}),t.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:b.voiceSettings.pitch,onChange:oe=>de({voiceSettings:{...b.voiceSettings,pitch:parseFloat(oe.target.value)}}),className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Response Creativity"}),t.jsx("span",{className:"text-sm text-gray-400",children:b.voiceSettings.temperature})]}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:b.voiceSettings.temperature,onChange:oe=>de({voiceSettings:{...b.voiceSettings,temperature:parseFloat(oe.target.value)}}),className:"w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower = More consistent, Higher = More creative"})]})]})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Test Your Voice Agent"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Make a test call to ensure your voice agent is configured correctly"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[t.jsx("div",{className:"text-4xl",children:((te=(O.length>0?O:Ig).find(oe=>oe.id===b.voiceAgent))==null?void 0:te.avatar)||"🤖"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-white",children:((be=(O.length>0?O:Ig).find(oe=>oe.id===b.voiceAgent))==null?void 0:be.name)||"Selected Agent"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Ready for testing"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Test Phone Number"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(_e,{placeholder:"Enter your phone number",className:"border-gray-600 bg-gray-700 text-white"}),t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(xt,{className:"mr-2 h-4 w-4"}),"Start Test Call"]})]})]}),b.testCompleted&&t.jsxs(ir,{className:"border-green-500 bg-green-900/20",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx(or,{className:"text-green-300",children:"Test call completed successfully!"})]})]})]})}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Test Call Checklist"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&t.jsx(fs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Voice clarity and quality"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Ensure the voice sounds natural and clear"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&t.jsx(fs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Script accuracy"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verify the agent follows your intended script"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&t.jsx(fs,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-300",children:"Response handling"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Test different responses and objections"})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Test Notes (Optional)"}),t.jsx(Ha,{value:b.testNotes,onChange:oe=>de({testNotes:oe.target.value}),placeholder:"Any observations or adjustments needed...",className:"mt-2 border-gray-600 bg-gray-700 text-white",rows:3})]}),!b.testCompleted&&t.jsx(q,{variant:"outline",className:"mt-4 w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>de({testCompleted:!0}),children:"Mark Test as Completed"})]}),o.test&&t.jsxs(ir,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-red-500"}),t.jsx(or,{className:"text-red-300",children:o.test})]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Import Your Leads"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Upload a CSV file with your lead data"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"cursor-pointer rounded-lg border-2 border-dashed border-gray-700 p-8 text-center transition-colors hover:border-gray-600",onClick:()=>{var oe;return(oe=r.current)==null?void 0:oe.click()},children:[t.jsx(Fl,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"mb-2 text-gray-300",children:"Drag and drop your CSV file here"}),t.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"}),t.jsx("input",{ref:r,type:"file",accept:".csv",onChange:oe=>{var Ct;const Ge=(Ct=oe.target.files)==null?void 0:Ct[0];Ge&&de({leads:[{id:"1",firstName:"John",lastName:"Doe",phone:"+1234567890",email:"john@example.com"},{id:"2",firstName:"Jane",lastName:"Smith",phone:"+1234567891",email:"jane@example.com"},{id:"3",firstName:"Bob",lastName:"Johnson",phone:"+1234567892",email:"bob@example.com"}],csvFileName:Ge.name})},className:"hidden"})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"CSV Format Requirements"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsx("p",{children:"• Required columns: firstName, lastName, phone"}),t.jsx("p",{children:"• Optional columns: email, company, title, custom fields"}),t.jsx("p",{children:"• Phone numbers should include country code"}),t.jsx("p",{children:"• Maximum 10,000 leads per file"})]}),t.jsxs(q,{variant:"outline",size:"sm",className:"mt-3 border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),b.leads.length>0&&t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-white",children:b.csvFileName}),t.jsxs("p",{className:"text-sm text-gray-400",children:[b.leads.length," leads imported"]})]}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>de({leads:[],csvFileName:""}),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Remove"})]}),t.jsxs("div",{className:"overflow-hidden rounded border border-gray-700",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Name"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Phone"}),t.jsx("th",{className:"p-2 text-left text-gray-300",children:"Email"})]})}),t.jsx("tbody",{children:b.leads.slice(0,5).map((oe,Ge)=>t.jsxs("tr",{className:"border-t border-gray-700",children:[t.jsxs("td",{className:"p-2 text-gray-300",children:[oe.firstName," ",oe.lastName]}),t.jsx("td",{className:"p-2 text-gray-400",children:oe.phone}),t.jsx("td",{className:"p-2 text-gray-400",children:oe.email||"-"})]},oe.id))})]}),b.leads.length>5&&t.jsxs("div",{className:"bg-gray-800 p-2 text-center text-sm text-gray-500",children:["And ",b.leads.length-5," more..."]})]})]}),o.leads&&t.jsxs(ir,{className:"border-red-500 bg-red-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-red-500"}),t.jsx(or,{className:"text-red-300",children:o.leads})]})]})]});case 7:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Budget Allocation & Call Credits"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Set your campaign budget and configure credit management"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Fr,{className:"h-5 w-5 text-green-500"}),"Campaign Budget"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Total Budget ($)"}),t.jsx(_e,{type:"number",value:b.budget,onChange:oe=>de({budget:parseFloat(oe.target.value)||0,callCredits:Math.floor((parseFloat(oe.target.value)||0)/.1)}),className:"border-gray-600 bg-gray-700 text-white",min:"10",step:"10"}),o.budget&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.budget})]}),t.jsxs("div",{className:"space-y-2 rounded bg-gray-900/50 p-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Cost per call"}),t.jsx("span",{className:"text-white",children:"$0.10"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Estimated calls"}),t.jsx("span",{className:"text-white",children:b.callCredits})]})]})]})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ji,{className:"h-5 w-5 text-emerald-500"}),"Call Credits"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"py-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white",children:b.callCredits}),t.jsx("p",{className:"text-sm text-gray-400",children:"Available Credits"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Auto-reload"}),t.jsx("input",{type:"checkbox",checked:b.autoReload,onChange:oe=>de({autoReload:oe.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-emerald-600"})]}),b.autoReload&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-300",children:"Reload when below"}),t.jsx(_e,{type:"number",value:b.autoReloadThreshold,onChange:oe=>de({autoReloadThreshold:parseInt(oe.target.value)||0}),className:"mt-1 border-gray-600 bg-gray-700 text-white",min:"10",step:"10"})]})]})]})})]})]}),t.jsxs(ir,{className:"border-blue-500 bg-blue-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-blue-500"}),t.jsxs(or,{className:"text-blue-300",children:[t.jsx("strong",{children:"Billing Note:"})," You'll only be charged for completed calls. Failed or unanswered calls don't consume credits."]})]})]})]});case 8:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Assign Team Members"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Select team members who will manage this campaign"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Leader *"}),t.jsxs(at,{value:b.teamLeader,onValueChange:oe=>de({teamLeader:oe}),children:[t.jsx(rt,{className:"border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Select team leader"})}),t.jsx(st,{className:"border-gray-700 bg-gray-800",children:mO.filter(oe=>oe.role.includes("Manager")).map(oe=>t.jsx(se,{value:oe.id,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-600 text-xs text-white",children:oe.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:oe.name}),t.jsx("div",{className:"text-xs text-gray-400",children:oe.role})]})]})},oe.id))})]}),o.teamLeader&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamLeader})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Members *"}),t.jsx("div",{className:"space-y-2",children:mO.map(oe=>t.jsxs("div",{className:`flex cursor-pointer items-center justify-between rounded-lg border p-3 transition-all ${b.assignedTeam.includes(oe.id)?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{const Ge=b.assignedTeam.includes(oe.id);de({assignedTeam:Ge?b.assignedTeam.filter(Ct=>Ct!==oe.id):[...b.assignedTeam,oe.id]})},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-sm text-white",children:oe.avatar}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:oe.name}),t.jsx("div",{className:"text-sm text-gray-400",children:oe.role})]})]}),t.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.assignedTeam.includes(oe.id)?"border-emerald-600 bg-emerald-600":"border-gray-600"}`,children:b.assignedTeam.includes(oe.id)&&t.jsx(fs,{className:"h-3 w-3 text-white"})})]},oe.id))}),o.team&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.team})]}),t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Team Permissions"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"View campaign performance and analytics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Access lead details and call recordings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Update lead status and add notes"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsx("span",{children:"Receive real-time notifications"})]})]})]})]})]});case 9:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Review & Launch"}),t.jsx("p",{className:"mb-6 text-gray-400",children:"Review your campaign settings before launching"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h3",{className:"mb-4 font-medium text-white",children:"Campaign Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign Name"}),t.jsx("span",{className:"font-medium text-white",children:b.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Objective"}),t.jsx("span",{className:"text-white",children:(Te=uO.find(oe=>oe.id===b.objective))==null?void 0:Te.name})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Phone Number"}),t.jsx("span",{className:"text-white",children:b.phoneNumber})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Voice Agent"}),t.jsx("span",{className:"text-white",children:((Ue=(O.length>0?O:Ig).find(oe=>oe.id===b.voiceAgent))==null?void 0:Ue.name)||"Selected Agent"})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Total Leads"}),t.jsx("span",{className:"text-white",children:b.leads.length})]}),t.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Budget"}),t.jsxs("span",{className:"text-white",children:["$",b.budget]})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsx("span",{className:"text-gray-400",children:"Team Size"}),t.jsxs("span",{className:"text-white",children:[b.assignedTeam.length," members"]})]})]})]})}),t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Launch Timing"}),t.jsx($l,{value:b.immediateStart?"now":"schedule",onValueChange:oe=>de({immediateStart:oe==="now"}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"now",id:"now"}),t.jsxs(ee,{htmlFor:"now",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Launch Immediately"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Start calling as soon as you click launch"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"schedule",id:"schedule"}),t.jsxs(ee,{htmlFor:"schedule",className:"cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"Schedule for Later"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Set a specific date and time to start"})]})]})]})}),!b.immediateStart&&t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{className:"text-gray-300",children:"Schedule Date & Time"}),t.jsx(_e,{type:"datetime-local",value:b.scheduledStart,onChange:oe=>de({scheduledStart:oe.target.value}),className:"mt-2 border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(ir,{className:"border-green-500 bg-green-900/20",children:[t.jsx(fs,{className:"h-4 w-4 text-green-500"}),t.jsxs(or,{className:"text-green-300",children:[t.jsx("strong",{children:"Ready to Launch!"})," Your campaign is configured and ready to go. Click the launch button below to start."]})]})]})]})}},Ee=()=>{switch(s){case 1:return b.campaignType!=="";case 2:return b.name&&b.objective;case 3:return b.phoneNumber.length>0;case 4:return b.voiceAgent.length>0;case 5:return b.testCompleted;case 6:return b.leads.length>0;case 7:return b.budget>0&&b.callCredits>0;case 8:return b.teamLeader.length>0&&b.assignedTeam.length>0;case 9:return!0;default:return!1}};return t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx($o,{className:"h-8 w-8 text-emerald-500"}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-gray-400",children:"Create your AI calling campaign step by step"}),g&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-emerald-400",children:[t.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Saving draft..."]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Step: ",s," | Changes: ",_()?"Yes":"No"," | Blocker: ",Z.state]})]})})]}),t.jsx(q,{variant:"outline",onClick:()=>M("/campaigns"),className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:"Cancel"})]}),t.jsx(xr,{value:Ce,className:"h-2 bg-gray-800"})]}),S()&&_()&&t.jsxs(ir,{className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-400",children:[t.jsx(qt,{className:"h-4 w-4"}),t.jsx(or,{children:"Your draft has been automatically loaded. You can continue where you left off."})]}),t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"flex items-center justify-between",children:wh.map((te,be)=>{const Te=te.icon,Ue=te.id===s,oe=te.id<s,Ge=te.id<=s+1;return t.jsxs(ce.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${Ge?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>Ge&&Re(te.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${Ue?"bg-emerald-600 text-white":oe?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:oe?t.jsx(fs,{className:"h-6 w-6"}):t.jsx(Te,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${Ue?"font-medium text-white":"text-gray-400"}`,children:te.name})]}),be<wh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${oe?"bg-green-600":"bg-gray-800"}`})]},te.id)})})}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(X,{className:"p-8",children:Se()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(q,{variant:"outline",onClick:Ae,disabled:s===1,className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(ec,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<wh.length?t.jsxs(q,{onClick:ze,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:["Next",t.jsx(io,{className:"ml-2 h-4 w-4"})]}):t.jsx(q,{onClick:()=>{Ee()&&(i(!0),setTimeout(()=>{i(!1),E(),e("/campaigns")},2e3))},disabled:n,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Launching Campaign..."]}):t.jsxs(t.Fragment,{children:[t.jsx($o,{className:"mr-2 h-4 w-4"}),"Launch Campaign"]})})]})})]}),t.jsx(Cd,{open:d,onOpenChange:te=>{m(te),!te&&Z.state==="blocked"&&(Z.reset(),f(null))},children:t.jsxs(dc,{className:"border-gray-800 bg-gray-900 text-white",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Save Your Progress?"}),t.jsx(kd,{className:"text-gray-400",children:"You have unsaved changes in your campaign setup. Would you like to save your progress as a draft before leaving?"})]}),t.jsxs(wm,{className:"gap-2",children:[t.jsx(q,{variant:"outline",onClick:H,className:"border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700",children:"Exit Without Saving"}),t.jsx(q,{onClick:L,disabled:g,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Saving..."]}):"Save Draft & Exit"})]})]})})]})}const vk=p.forwardRef(({className:e,...r},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:Le("w-full caption-bottom text-sm",e),...r})}));vk.displayName="Table";const bk=p.forwardRef(({className:e,...r},s)=>t.jsx("thead",{ref:s,className:Le("[&_tr]:border-b",e),...r}));bk.displayName="TableHeader";const wk=p.forwardRef(({className:e,...r},s)=>t.jsx("tbody",{ref:s,className:Le("[&_tr:last-child]:border-0",e),...r}));wk.displayName="TableBody";const fNe=p.forwardRef(({className:e,...r},s)=>t.jsx("tfoot",{ref:s,className:Le("border-t bg-zinc-100/50 font-medium dark:bg-zinc-800/50 [&>tr]:last:border-b-0",e),...r}));fNe.displayName="TableFooter";const df=p.forwardRef(({className:e,...r},s)=>t.jsx("tr",{ref:s,className:Le("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",e),...r}));df.displayName="TableRow";const fa=p.forwardRef(({className:e,...r},s)=>t.jsx("th",{ref:s,className:Le("h-10 px-2 text-left align-middle font-medium text-zinc-500 dark:text-zinc-400 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));fa.displayName="TableHead";const pa=p.forwardRef(({className:e,...r},s)=>t.jsx("td",{ref:s,className:Le("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));pa.displayName="TableCell";const pNe=p.forwardRef(({className:e,...r},s)=>t.jsx("caption",{ref:s,className:Le("mt-4 text-sm text-zinc-500 dark:text-zinc-400",e),...r}));pNe.displayName="TableCaption";const gNe=[{id:"1",timestamp:new Date().toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.login",resource:"Authentication",details:{method:"email",mfa:!0},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"auth"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"campaign.create",resource:"Campaign",resourceId:"camp123",details:{name:"Q4 Sales Outreach",leads:500},ipAddress:"192.168.1.2",userAgent:"Firefox/121.0",status:"success",category:"campaign"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.update_role",resource:"User",resourceId:"user3",details:{oldRole:"agent",newRole:"manager",targetUser:"John Smith"},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"user"},{id:"4",timestamp:new Date(Date.now()-108e5).toISOString(),user:{id:"user3",name:"John Smith",email:"john@example.com",role:"agent"},action:"api.key_create",resource:"API Key",details:{keyName:"Production API",permissions:["read","write"]},ipAddress:"192.168.1.3",userAgent:"Safari/17.0",status:"success",category:"api"},{id:"5",timestamp:new Date(Date.now()-144e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"billing.payment_failed",resource:"Payment",details:{amount:599,reason:"Insufficient funds"},ipAddress:"192.168.1.2",userAgent:"Chrome/120.0.0.0",status:"failed",category:"billing"}],xNe={"user.login":e0,"user.logout":JG,"user.create":yf,"user.delete":cY,"user.update":ad,"user.update_role":gs,"campaign.create":xt,"campaign.update":ad,"campaign.delete":Ws,"campaign.launch":Gi,"billing.payment":Ji,"billing.payment_failed":Yi,"api.key_create":rd,"api.key_delete":Ws,"settings.update":is};function yNe(){const[e,r]=p.useState(gNe),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,m]=p.useState("7days"),[h,f]=p.useState("all"),g=e.filter(N=>{const C=s===""||N.action.toLowerCase().includes(s.toLowerCase())||N.user.name.toLowerCase().includes(s.toLowerCase())||N.resource.toLowerCase().includes(s.toLowerCase())||JSON.stringify(N.details).toLowerCase().includes(s.toLowerCase()),S=n==="all"||N.category===n,_=o==="all"||N.status===o,A=h==="all"||N.user.id===h;return C&&S&&_&&A}),y=N=>{const C=xNe[N]||Us;return t.jsx(C,{className:"h-4 w-4"})},w=N=>{const C={success:"bg-green-900/20 text-green-400 border-green-800",failed:"bg-red-900/20 text-red-400 border-red-800",warning:"bg-yellow-900/20 text-yellow-400 border-yellow-800"},S={success:t.jsx(yt,{className:"h-3 w-3"}),failed:t.jsx(Yi,{className:"h-3 w-3"}),warning:t.jsx(Yt,{className:"h-3 w-3"})};return t.jsx(je,{className:C[N],children:t.jsxs("span",{className:"flex items-center gap-1",children:[S[N],N]})})},v=N=>N.split(".").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),b=()=>{const N=[["Timestamp","User","Action","Resource","Status","IP Address","Details"].join(","),...g.map(A=>[A.timestamp,`${A.user.name} (${A.user.email})`,v(A.action),A.resource,A.status,A.ipAddress,JSON.stringify(A.details)].join(","))].join(`
`),C=new Blob([N],{type:"text/csv"}),S=window.URL.createObjectURL(C),_=document.createElement("a");_.href=S,_.download=`audit-logs-${mw(new Date,"yyyy-MM-dd")}.csv`,_.click()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(gs,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-white",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-400",children:"Track all actions and changes in your system"})]})]}),t.jsxs(q,{onClick:b,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export Logs"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Total Actions"}),t.jsx(Us,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"In selected period"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Active Users"}),t.jsx(ys,{className:"h-4 w-4 text-gray-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:new Set(e.map(N=>N.user.id)).size}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Unique users"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsx(yt,{className:"h-4 w-4 text-green-400"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.filter(N=>N.status==="success").length/e.length*100),"%"]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful actions"})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Failed Actions"}),t.jsx(Yi,{className:"h-4 w-4 text-red-400"})]}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(N=>N.status==="failed").length}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Require attention"})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(Ex,{className:"h-5 w-5"}),"Filters"]})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Search"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{value:s,onChange:N=>a(N.target.value),placeholder:"Search logs...",className:"border-gray-700 bg-gray-900 pl-10 text-white"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Category"}),t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Categories"}),t.jsx(se,{value:"auth",children:"Authentication"}),t.jsx(se,{value:"user",children:"User Management"}),t.jsx(se,{value:"campaign",children:"Campaigns"}),t.jsx(se,{value:"lead",children:"Leads"}),t.jsx(se,{value:"billing",children:"Billing"}),t.jsx(se,{value:"settings",children:"Settings"}),t.jsx(se,{value:"api",children:"API"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Status"}),t.jsxs(at,{value:o,onValueChange:l,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"success",children:"Success"}),t.jsx(se,{value:"failed",children:"Failed"}),t.jsx(se,{value:"warning",children:"Warning"})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"User"}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Users"}),Array.from(new Set(e.map(N=>N.user.id))).map(N=>{var S;const C=(S=e.find(_=>_.user.id===N))==null?void 0:S.user;return t.jsx(se,{value:N,children:C==null?void 0:C.name},N)})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Date Range"}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"today",children:"Today"}),t.jsx(se,{value:"7days",children:"Last 7 Days"}),t.jsx(se,{value:"30days",children:"Last 30 Days"}),t.jsx(se,{value:"90days",children:"Last 90 Days"}),t.jsx(se,{value:"all",children:"All Time"})]})]})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Audit Log Entries"}),t.jsxs(Ht,{className:"text-gray-400",children:["Showing ",g.length," of ",e.length," total entries"]})]}),t.jsx(X,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(vk,{children:[t.jsx(bk,{children:t.jsxs(df,{className:"border-gray-700",children:[t.jsx(fa,{className:"text-gray-400",children:"Timestamp"}),t.jsx(fa,{className:"text-gray-400",children:"User"}),t.jsx(fa,{className:"text-gray-400",children:"Action"}),t.jsx(fa,{className:"text-gray-400",children:"Resource"}),t.jsx(fa,{className:"text-gray-400",children:"Details"}),t.jsx(fa,{className:"text-gray-400",children:"IP Address"}),t.jsx(fa,{className:"text-gray-400",children:"Status"})]})}),t.jsx(wk,{children:g.map(N=>t.jsxs(df,{className:"border-gray-700 hover:bg-gray-900/50",children:[t.jsx(pa,{className:"text-gray-300",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Mt,{className:"h-4 w-4 text-gray-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",children:mw(new Date(N.timestamp),"MMM dd, yyyy")}),t.jsx("div",{className:"text-xs text-gray-500",children:mw(new Date(N.timestamp),"HH:mm:ss")})]})]})}),t.jsx(pa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.user.name}),t.jsx("div",{className:"text-xs text-gray-500",children:N.user.role})]})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[y(N.action),t.jsx("span",{className:"text-sm",children:v(N.action)})]})}),t.jsx(pa,{children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-300",children:N.resource}),N.resourceId&&t.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",N.resourceId]})]})}),t.jsx(pa,{children:t.jsx("div",{className:"max-w-xs truncate text-xs text-gray-400",children:Object.entries(N.details).map(([C,S])=>t.jsxs("div",{children:[t.jsxs("span",{className:"text-gray-500",children:[C,":"]})," ",String(S)]},C))})}),t.jsx(pa,{className:"text-sm text-gray-400",children:N.ipAddress}),t.jsx(pa,{children:w(N.status)})]},N.id))})]})})})]})]})})}function vNe(){const[e,r]=p.useState(30),[s,a]=p.useState(!0);return p.useEffect(()=>{const n=async()=>{await new Promise(i=>setTimeout(i,500))};if(n(),s){const i=setInterval(n,e*1e3);return()=>clearInterval(i)}},[e,s]),t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"System Health"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor system status and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(To,{className:"mr-2 h-4 w-4"}),"Alerts"]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Configure"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(gs,{className:"h-5 w-5 text-emerald-400"}),"Platform Status"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"All Systems Operational"})]}),t.jsxs("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.9%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Uptime"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"12ms"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Response Time"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Active Issues"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"47"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Services"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"API Gateway"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.99%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Database"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"99.95%"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),t.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsx(xe,{className:"text-sm font-medium text-gray-400",children:"Avg Response Time"})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:"45ms"}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Last 24 hours"}),t.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[t.jsx(Us,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Stable"})]})]})]})]})]})})}const nN="https://apex-backend-august-production.up.railway.app/api",bNe={connected:"bg-green-500",interested:"bg-emerald-500",callback:"bg-blue-500",voicemail:"bg-yellow-500",no_answer:"bg-orange-500",busy:"bg-red-500",failed:"bg-red-600",not_interested:"bg-gray-500"},wNe={positive:"bg-green-500",neutral:"bg-gray-500",negative:"bg-red-500"};function jNe(){const e=br(),[r,s]=p.useState(!1),[a,n]=p.useState(null),{getToken:i}=wa(),{toast:o}=cs(),[l,d]=p.useState([]),[m,h]=p.useState(!0),[f,g]=p.useState({totalCalls:0,connectedCalls:0,totalDuration:0,totalCost:0,averageDuration:0,connectionRate:0,positiveRate:0}),[y,w]=p.useState(1),[v,b]=p.useState(50),[N,C]=p.useState(""),[S,_]=p.useState({type:"all",outcome:"all",sentiment:"all",agent:"all",campaign:"all",dateRange:"all"}),[A,T]=p.useState("startTime"),[E,M]=p.useState("desc"),L=async()=>{try{h(!0);const $=await i(),R=new URLSearchParams({page:y.toString(),limit:v.toString(),search:N,sortBy:A,sortOrder:E,...S}),F=await fetch(`${nN}/calls?${R}`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(F.ok){const z=await F.json();console.log("✅ Calls fetched from API:",z),d(z.calls||[]),g(z.metrics||f)}else{const z=await F.json();throw new Error(z.message||"Failed to fetch calls")}}catch($){console.error("❌ Error fetching calls:",$),o({title:"Error",description:"Failed to fetch calls. Please try again.",variant:"destructive"}),d([])}finally{h(!1)}},H=async()=>{try{const $=await i(),R=await fetch(`${nN}/calls/metrics`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(R.ok){const F=await R.json();g(F)}}catch($){console.error("❌ Error fetching metrics:",$)}};p.useEffect(()=>{L(),H()},[y,v,N,S,A,E]);const O=async()=>{try{const $=await i(),R=await fetch(`${nN}/calls/export`,{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({filters:S,searchTerm:N})});if(R.ok){const F=await R.blob(),z=window.URL.createObjectURL(F),K=document.createElement("a");K.href=z,K.download=`calls-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(z),document.body.removeChild(K),o({title:"Success",description:"Data exported successfully."})}else throw new Error("Export failed")}catch($){console.error("❌ Error exporting calls:",$),o({title:"Error",description:"Failed to export data. Please try again.",variant:"destructive"})}},I=$=>{const R=Math.floor($/60),F=$%60;return`${R}:${F.toString().padStart(2,"0")}`},W=$=>`$${$.toFixed(2)}`,V=$=>{n($),s(!0)},U=l.filter($=>{var Ce;const R=$.contact.name.toLowerCase().includes(N.toLowerCase())||$.contact.phone.includes(N)||$.contact.company&&$.contact.company.toLowerCase().includes(N.toLowerCase())||$.agent.name.toLowerCase().includes(N.toLowerCase()),F=S.type==="all"||$.type===S.type,z=S.outcome==="all"||$.outcome===S.outcome,K=S.sentiment==="all"||$.sentiment===S.sentiment,B=S.agent==="all"||$.agent.name===S.agent,Q=S.campaign==="all"||((Ce=$.campaign)==null?void 0:Ce.id)===S.campaign;return R&&F&&z&&K&&B&&Q});return m?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between"}),t.jsx("div",{className:"flex h-64 items-center justify-center",children:t.jsx("div",{className:"text-zinc-400",children:"Loading call data..."})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsx("p",{className:"text-zinc-400",children:"View and manage all your calls"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(q,{onClick:L,variant:"outline",size:"sm",children:[t.jsx(ss,{className:"mr-2 h-4 w-4"}),"Refresh"]}),t.jsxs(q,{onClick:O,variant:"outline",size:"sm",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:f.totalCalls.toLocaleString()})]}),t.jsx(xt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Connected"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:f.connectedCalls.toLocaleString()}),t.jsxs("p",{className:"text-xs text-zinc-500",children:[f.connectionRate.toFixed(1),"% connection rate"]})]}),t.jsx(t0,{className:"h-8 w-8 text-green-500"})]})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:I(f.totalDuration)}),t.jsxs("p",{className:"text-xs text-zinc-500",children:["Avg: ",I(f.averageDuration)]})]})})})}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:W(f.totalCost)}),t.jsxs("p",{className:"text-xs text-zinc-500",children:[f.positiveRate.toFixed(1),"% positive rate"]})]}),t.jsx(Fr,{className:"h-8 w-8 text-yellow-500"})]})})})]}),t.jsx(J,{className:"border-zinc-800 bg-zinc-900",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),t.jsx(_e,{placeholder:"Search calls...",value:N,onChange:$=>C($.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),t.jsxs(at,{value:S.type,onValueChange:$=>_({...S,type:$}),children:[t.jsx(rt,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Filter by type"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"inbound",children:"Inbound"}),t.jsx(se,{value:"outbound",children:"Outbound"}),t.jsx(se,{value:"missed",children:"Missed"})]})]}),t.jsxs(at,{value:S.outcome,onValueChange:$=>_({...S,outcome:$}),children:[t.jsx(rt,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Filter by outcome"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Outcomes"}),t.jsx(se,{value:"connected",children:"Connected"}),t.jsx(se,{value:"interested",children:"Interested"}),t.jsx(se,{value:"callback",children:"Callback"}),t.jsx(se,{value:"voicemail",children:"Voicemail"}),t.jsx(se,{value:"no_answer",children:"No Answer"}),t.jsx(se,{value:"busy",children:"Busy"}),t.jsx(se,{value:"failed",children:"Failed"})]})]}),t.jsxs(at,{value:S.sentiment,onValueChange:$=>_({...S,sentiment:$}),children:[t.jsx(rt,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{placeholder:"Filter by sentiment"})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"all",children:"All Sentiments"}),t.jsx(se,{value:"positive",children:"Positive"}),t.jsx(se,{value:"neutral",children:"Neutral"}),t.jsx(se,{value:"negative",children:"Negative"})]})]})]})})}),t.jsxs(J,{className:"border-zinc-800 bg-zinc-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-white",children:["Call Records (",U.length,")"]})}),t.jsx(X,{children:U.length===0?t.jsxs("div",{className:"py-12 text-center",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),t.jsx("p",{className:"text-zinc-400",children:"No calls found"}),t.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):t.jsx("div",{className:"space-y-3",children:U.map($=>t.jsxs("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4 transition-all duration-200 hover:bg-zinc-700/50",onClick:()=>V($),children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:$.type==="inbound"?t.jsx(xt,{className:"h-5 w-5 text-green-500"}):$.type==="outbound"?t.jsx(t0,{className:"h-5 w-5 text-blue-500"}):t.jsx(aY,{className:"h-5 w-5 text-red-500"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"font-medium text-white",children:$.contact.name}),t.jsx(je,{className:`${bNe[$.outcome]} text-white`,children:$.outcome.replace(/_/g," ").replace(/\b\w/g,R=>R.toUpperCase())}),t.jsx(je,{className:`${wNe[$.sentiment]} text-white`,children:$.sentiment.charAt(0).toUpperCase()+$.sentiment.slice(1)})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[t.jsx("span",{children:$.contact.phone}),$.contact.company&&t.jsx("span",{children:$.contact.company}),t.jsxs("span",{children:[$.agent.name," (",$.agent.type.charAt(0).toUpperCase()+$.agent.type.slice(1),")"]}),$.campaign&&t.jsx("span",{children:$.campaign.name})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-6 text-sm text-zinc-400",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:new Date($.startTime).toLocaleDateString()}),t.jsx("p",{children:new Date($.startTime).toLocaleTimeString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white",children:I($.duration)}),t.jsx("p",{children:W($.cost)})]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",onClick:R=>R.stopPropagation(),children:t.jsx(Ax,{className:"h-4 w-4"})})}),t.jsxs(Vn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[t.jsxs(Jt,{onClick:()=>V($),className:"text-zinc-300 hover:text-white",children:[t.jsx(Po,{className:"mr-2 h-4 w-4"}),"View Details"]}),$.recording&&t.jsxs(Jt,{onClick:()=>V($),className:"text-zinc-300 hover:text-white",children:[t.jsx(Un,{className:"mr-2 h-4 w-4"}),"Play Recording"]}),$.transcript&&t.jsxs(Jt,{onClick:()=>V($),className:"text-zinc-300 hover:text-white",children:[t.jsx(Po,{className:"mr-2 h-4 w-4"}),"View Transcript"]}),$.leadId&&t.jsxs(Jt,{onClick:()=>e(`/leads/${$.leadId}`),className:"text-zinc-300 hover:text-white",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"View Lead"]})]})]})]})]},$.id))})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-zinc-400",children:"Show"}),t.jsxs(at,{value:v.toString(),onValueChange:$=>b(parseInt($)),children:[t.jsx(rt,{className:"w-20 border-zinc-700 bg-zinc-800 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-zinc-700 bg-zinc-800",children:[t.jsx(se,{value:"25",children:"25"}),t.jsx(se,{value:"50",children:"50"}),t.jsx(se,{value:"100",children:"100"})]})]}),t.jsx("span",{className:"text-sm text-zinc-400",children:"per page"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(Math.max(1,y-1)),disabled:y===1,children:t.jsx(ec,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm text-zinc-400",children:["Page ",y]}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(y+1),disabled:U.length<v,children:t.jsx(io,{className:"h-4 w-4"})})]})]}),t.jsx(Gy,{isOpen:r,onClose:()=>s(!1),callData:a?{id:a.id,duration:a.duration,transcript:a.transcript?[{speaker:"ai",text:"Call transcript would be parsed and displayed here..."},{speaker:"user",text:"User responses would be shown alternately."}]:[],recording:a.recording,cost:a.cost,analysis:{sentiment:a.sentiment==="positive"?.8:a.sentiment==="negative"?.2:.5,keywords:["inquiry","interested","follow-up"],summary:`Call with ${a.contact.name} resulted in ${a.outcome}.`}}:void 0})]})}const NNe=()=>{const e=br(),{notifications:r,markAsRead:s,markAllAsRead:a,deleteNotification:n,clearAll:i}=om(),[o,l]=p.useState(""),[d,m]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState([]),[w,v]=p.useState(1),b=10,N=p.useMemo(()=>{const I=r.length,W=r.filter(U=>!U.read).length,V=r.reduce((U,$)=>(U[$.type]=(U[$.type]||0)+1,U),{});return{total:I,unread:W,byType:V}},[r]),C=I=>{switch(I){case"success":return t.jsx(yt,{className:"h-4 w-4 text-emerald-400"});case"error":return t.jsx(Yt,{className:"h-4 w-4 text-red-400"});case"warning":return t.jsx(va,{className:"h-4 w-4 text-yellow-400"});case"info":default:return t.jsx(qt,{className:"h-4 w-4 text-blue-400"})}},S=I=>{switch(I){case"success":return"border-l-emerald-400";case"error":return"border-l-red-400";case"warning":return"border-l-yellow-400";case"info":default:return"border-l-blue-400"}},_=I=>{const W=new Date;let V;if(I instanceof Date)V=I;else if(typeof I=="string"||typeof I=="number")V=new Date(I);else return"Unknown";if(isNaN(V.getTime()))return"Unknown";const U=W.getTime()-V.getTime(),$=Math.floor(U/6e4),R=Math.floor(U/36e5),F=Math.floor(U/864e5);return F>0?`${F}d ago`:R>0?`${R}h ago`:$>0?`${$}m ago`:"Just now"},A=p.useMemo(()=>r.filter(I=>{const W=I.title.toLowerCase().includes(o.toLowerCase())||I.message.toLowerCase().includes(o.toLowerCase()),V=d==="all"||I.type===d,U=h==="all"||h==="unread"&&!I.read||h==="read"&&I.read;return W&&V&&U}),[r,o,d,h]),T=p.useMemo(()=>{const I=(w-1)*b,W=I+b;return A.slice(I,W)},[A,w]),E=Math.ceil(A.length/b),M=I=>{y(I?T.map(W=>W.id):[])},L=(I,W)=>{y(W?[...g,I]:g.filter(V=>V!==I))},H=I=>{g.forEach(W=>{I==="read"?s(W):n(W)}),y([])},O=I=>{var W,V,U,$;s(I.id),(W=I.metadata)!=null&&W.leadId?e(`/leads/${I.metadata.leadId}`):(V=I.metadata)!=null&&V.campaignId?e(`/campaigns/${I.metadata.campaignId}`):(U=I.metadata)!=null&&U.ticketId?e(`/support-tickets/${I.metadata.ticketId}`):($=I.action)!=null&&$.href&&e(I.action.href)};return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx(To,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{className:"flex gap-2",children:[N.unread>0&&t.jsxs(q,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(RN,{className:"mr-2 h-4 w-4"}),"Mark All Read"]}),t.jsx(q,{variant:"outline",onClick:()=>e("/settings"),className:"border-gray-700 hover:bg-gray-800",children:"Settings"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:N.total})]}),t.jsx(To,{className:"h-8 w-8 text-gray-600"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Unread"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.unread})]}),t.jsx(Mt,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Success"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.byType.success||0})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-600"})]})})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Warnings"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:N.byType.warning||0})]}),t.jsx(va,{className:"h-8 w-8 text-yellow-600"})]})})})]}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{type:"search",placeholder:"Search notifications...",value:o,onChange:I=>l(I.target.value),className:"border-gray-600 bg-gray-900/50 pl-10 text-white"})]})}),t.jsxs(at,{value:d,onValueChange:m,children:[t.jsx(rt,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(nt,{placeholder:"Filter by type"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"success",children:"Success"}),t.jsx(se,{value:"error",children:"Error"}),t.jsx(se,{value:"warning",children:"Warning"}),t.jsx(se,{value:"info",children:"Info"})]})]}),t.jsxs(at,{value:h,onValueChange:f,children:[t.jsx(rt,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:t.jsx(nt,{placeholder:"Filter by status"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"unread",children:"Unread"}),t.jsx(se,{value:"read",children:"Read"})]})]})]}),g.length>0&&t.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-lg border border-emerald-700/30 bg-emerald-900/20 p-3",children:[t.jsxs("span",{className:"text-sm text-emerald-400",children:[g.length," selected"]}),t.jsxs(q,{size:"sm",variant:"ghost",onClick:()=>H("read"),className:"text-emerald-400 hover:text-emerald-300",children:[t.jsx(RN,{className:"mr-1 h-4 w-4"}),"Mark as Read"]}),t.jsxs(q,{size:"sm",variant:"ghost",onClick:()=>H("delete"),className:"text-red-400 hover:text-red-300",children:[t.jsx(Ws,{className:"mr-1 h-4 w-4"}),"Delete"]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>y([]),className:"ml-auto text-gray-400 hover:text-gray-300",children:"Clear Selection"})]})]})}),t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsx(X,{className:"p-0",children:A.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[t.jsx(To,{className:"mb-4 h-12 w-12 opacity-50"}),t.jsx("p",{className:"text-lg",children:"No notifications found"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search":"You're all caught up!"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-700 p-4",children:[t.jsx(Kc,{checked:g.length===T.length&&T.length>0,onCheckedChange:M,className:"border-gray-600"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Select all on this page"})]}),t.jsx("div",{className:"divide-y divide-gray-700",children:T.map(I=>t.jsxs("div",{className:Le("group relative flex cursor-pointer items-start border-l-4 p-4 transition-colors hover:bg-gray-700/50",S(I.type),!I.read&&"bg-gray-700/30"),children:[t.jsx(Kc,{checked:g.includes(I.id),onCheckedChange:W=>L(I.id,W),onClick:W=>W.stopPropagation(),className:"mr-4 mt-1 border-gray-600"}),t.jsx("div",{className:"min-w-0 flex-1",onClick:()=>O(I),children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex-shrink-0",children:C(I.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("p",{className:Le("text-sm font-medium",I.read?"text-gray-300":"text-white"),children:I.title}),!I.read&&t.jsx(je,{className:"border-emerald-500/30 bg-emerald-500/20 text-xs text-emerald-400",children:"New"})]}),t.jsx("p",{className:"mb-2 text-sm text-gray-400",children:I.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:_(I.timestamp)}),I.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{className:"capitalize",children:I.category})]}),I.source&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{children:I.source})]})]}),I.action&&t.jsxs(q,{variant:"ghost",size:"sm",className:"mt-2 h-auto p-0 text-xs text-emerald-400 hover:text-emerald-300",onClick:W=>{var V;W.stopPropagation(),(V=I.action)!=null&&V.href&&e(I.action.href)},children:[I.action.label,t.jsx(Xi,{className:"ml-1 h-3 w-3"})]})]})]}),t.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[!I.read&&t.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"}),t.jsx(io,{className:"h-4 w-4 text-gray-600 opacity-0 transition-opacity group-hover:opacity-100"})]})]})})]},I.id))}),E>1&&t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 p-4",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(w-1)*b+1," to"," ",Math.min(w*b,A.length)," of"," ",A.length," notifications"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(w-1),disabled:w===1,className:"border-gray-600 hover:bg-gray-700",children:"Previous"}),Array.from({length:Math.min(5,E)},(I,W)=>{let V;return E<=5||w<=3?V=W+1:w>=E-2?V=E-4+W:V=w-2+W,t.jsx(q,{variant:w===V?"default":"outline",size:"sm",onClick:()=>v(V),className:Le("w-10",w===V?"bg-emerald-600 hover:bg-emerald-700":"border-gray-600 hover:bg-gray-700"),children:V},V)}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(w+1),disabled:w===E,className:"border-gray-600 hover:bg-gray-700",children:"Next"})]})]})]})})})]})};function SNe(){const[e,r]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,m]=p.useState("all"),{getToken:h}=wa(),{toast:f}=cs(),g=br(),y=async()=>{try{a(!0);const{supabaseService:E}=await fn(async()=>{const{supabaseService:H}=await Promise.resolve().then(()=>_u);return{supabaseService:H}},void 0);console.log("🔍 Fetching organizations from Supabase...");const M=await E.getOrganizations();if(console.log("📊 Organizations fetched:",M),!M||M.length===0){console.warn("⚠️ No organizations returned from Supabase"),r([]);return}const L=M.map(H=>({id:H.id,name:H.name,domain:H.custom_domain||void 0,contact_name:void 0,contact_email:H.billing_email,contact_phone:H.phone,address:H.address,status:H.status==="active"?"active":"inactive",subscription_plan:H.plan==="professional"?"growth":H.plan==="starter"?"starter":"enterprise",subscription_status:H.status==="active"?"active":"cancelled",subscription_mrr:H.monthly_cost,users_count:0,campaigns_count:0,total_calls:0,created_at:H.created_at,updated_at:H.updated_at}));console.log("📊 Skipping stats fetch to avoid rate limiting"),r(L)}catch(E){console.error("❌ Error fetching organizations:",E),console.error("Error details:",{message:E instanceof Error?E.message:"Unknown error",stack:E instanceof Error?E.stack:void 0}),f({title:"Error",description:`Failed to fetch organizations: ${E instanceof Error?E.message:"Unknown error"}`,variant:"destructive"}),r([])}finally{a(!1)}},w=async(E,M)=>{try{const L=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(M)})).ok)throw new Error("Failed to update organization");f({title:"Success",description:"Organization updated successfully"}),y()}catch(L){console.error("Error updating organization:",L),f({title:"Error",description:"Failed to update organization. Please try again.",variant:"destructive"})}},v=async E=>{if(confirm("Are you sure you want to delete this organization? This action cannot be undone."))try{const M=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete organization");f({title:"Success",description:"Organization deleted successfully"}),y()}catch(M){console.error("Error deleting organization:",M),f({title:"Error",description:"Failed to delete organization. Please try again.",variant:"destructive"})}},b=e.filter(E=>{var O,I;const M=E.name.toLowerCase().includes(n.toLowerCase())||((O=E.contact_name)==null?void 0:O.toLowerCase().includes(n.toLowerCase()))||((I=E.contact_email)==null?void 0:I.toLowerCase().includes(n.toLowerCase())),L=o==="all"||E.status&&E.status===o,H=d==="all"||E.subscription_plan&&E.subscription_plan===d;return M&&L&&H}),C={totalOrgs:e.length,activeOrgs:e.filter(E=>E.status==="active").length,totalRevenue:e.reduce((E,M)=>E+(M.subscription_mrr||0),0),totalCalls:e.reduce((E,M)=>E+(M.total_calls||0),0)};p.useEffect(()=>{y()},[]);const S=E=>{if(!E)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(E){case"active":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"inactive":return"bg-red-500/10 text-red-400 border-red-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},_=E=>{if(!E)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(E){case"enterprise":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"growth":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"starter":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},A=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),T=E=>new Date(E).toLocaleDateString();return s?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx("div",{className:"text-lg text-white",children:"Loading organizations..."})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Organizations"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"Manage client organizations and their subscriptions"})]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Organizations"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(cr,{className:"h-6 w-6 text-emerald-500"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.activeOrgs})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/10",children:t.jsx(Bs,{className:"h-6 w-6 text-blue-500"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:A(C.totalRevenue)})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-500/10",children:t.jsx(Fr,{className:"h-6 w-6 text-yellow-500"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-semibold text-white",children:C.totalCalls.toLocaleString()})]}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(t0,{className:"h-6 w-6 text-emerald-500"})})]})})})]}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{type:"text",placeholder:"Search organizations by name, contact, or email...",value:n,onChange:E=>i(E.target.value),className:"border-gray-800 bg-gray-900/90 pl-10 text-white placeholder-gray-500 focus:border-emerald-600"})]}),t.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"pending",children:"Pending"})]}),t.jsxs("select",{value:d,onChange:E=>m(E.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"growth",children:"Growth"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),t.jsx("div",{className:"space-y-4",children:b.length===0?t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-4 text-gray-400",children:[t.jsx(cr,{className:"mx-auto mb-4 h-12 w-12"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No organizations found"}),t.jsx("p",{children:"Create your first organization to get started."})]}),t.jsxs(q,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]})}):b.map(E=>t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm transition-all duration-200 hover:bg-gray-900",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:t.jsx(cr,{className:"h-6 w-6 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white hover:text-emerald-400 cursor-pointer transition-colors",onClick:()=>g(`/organizations/${E.id}`),children:E.name}),t.jsx("p",{className:"text-sm text-gray-400",children:E.contact_name||"No contact assigned"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(je,{className:S(E.status),children:E.status?E.status.charAt(0).toUpperCase()+E.status.slice(1):"Unknown"}),t.jsx(je,{className:_(E.subscription_plan),children:E.subscription_plan?E.subscription_plan.charAt(0).toUpperCase()+E.subscription_plan.slice(1):"No Plan"}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsxs(Vn,{align:"end",className:"border-gray-800 bg-gray-900",children:[t.jsx(zI,{className:"text-gray-300",children:"Actions"}),t.jsx(GS,{className:"bg-gray-800"}),t.jsxs(Jt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",children:[t.jsx(Ir,{className:"mr-2 h-4 w-4"}),"View Details"]}),t.jsxs(Jt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",onClick:()=>{const M=prompt("Enter new organization name:",E.name);M&&M!==E.name&&w(E.id,{name:M})},children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"Edit Organization"]}),t.jsxs(Jt,{className:"text-red-400 hover:bg-gray-800 hover:text-red-300",onClick:()=>v(E.id),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(Oa,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:E.contact_email||"No email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(xt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:E.contact_phone||"No phone"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(sd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:E.address||"No address"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(_s,{className:"h-4 w-4 text-gray-400"}),t.jsxs("span",{className:"text-gray-300",children:["Since ",T(E.created_at)]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 border-t border-gray-800 pt-4 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Users"}),t.jsxs("p",{className:"flex items-center gap-1 text-sm font-medium text-white",children:[t.jsx(bt,{className:"h-3 w-3"}),E.users_count||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"}),t.jsx("p",{className:"text-sm font-medium text-white",children:E.campaigns_count||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-sm font-medium text-white",children:(E.total_calls||0).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),t.jsx("p",{className:"text-sm font-medium text-emerald-400",children:A(E.subscription_mrr||0)})]})]})]})},E.id))})]})})}const CNe=()=>{const[e,r]=p.useState("vapi"),[s,a]=p.useState({}),[n,i]=p.useState([]),[o,l]=p.useState(!0),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(!1),{toast:w}=cs(),{userContext:v}=ki(),b=ak(),N=(v==null?void 0:v.role)==="client_admin"||(v==null?void 0:v.role)==="platform_owner";p.useEffect(()=>{N&&(C(),S())},[N]);const C=async()=>{try{l(!0);const M=await b.get("/organization-settings");a(M.data.settings||{})}catch(M){console.error("Error loading organization settings from API, trying Supabase:",M);try{if(!(v!=null&&v.organization_id))throw new Error("No organization ID available");const L=await xi.getOrganization(v.organization_id);if(!L)throw new Error("Organization not found");const H={vapi_api_key:L.vapi_api_key||"",vapi_webhook_secret:L.vapi_webhook_secret||"",organization_name:L.name||"",webhook_url:L.webhook_url||"https://apex-backend-august-production.up.railway.app/api/vapi/webhook",billing_email:L.billing_email||"",max_concurrent_calls:L.max_concurrent_calls||10,default_user_role:L.default_user_role||"client_user",compliance_settings:L.compliance_settings||{tcpa_enabled:!1,do_not_call_enabled:!1,recording_consent:!1}},O=await xi.getPhoneNumbers(v.organization_id);O&&O.length>0&&(H.vapi_phone_numbers=O.map(W=>W.number));const I=await xi.getAssistants(v.organization_id);I&&I.length>0&&(H.vapi_assistants=I.map(W=>({id:W.id,name:W.name,model:W.model||"gpt-4"}))),a(H),console.log("✅ Loaded organization settings from Supabase fallback")}catch(L){console.error("Error loading from Supabase:",L),w({title:"Error",description:"Failed to load organization settings. Please try again.",variant:"destructive"})}}finally{l(!1)}},S=async()=>{try{const M=await b.get("/organizations/users");i(M.data.users||[])}catch(M){console.error("Error loading organization users from API, trying Supabase:",M);try{if(!(v!=null&&v.organization_id))throw new Error("No organization ID available");const H=(await xi.getOrganizationUsers(v.organization_id)||[]).map(O=>({id:O.id,email:O.email,first_name:O.first_name,last_name:O.last_name,role:O.role,status:O.status||"active",last_login:O.last_login,created_at:O.created_at}));i(H),console.log("✅ Loaded organization users from Supabase fallback")}catch(L){console.error("Error loading users from Supabase:",L)}}},_=async(M,L,H=!1)=>{try{m(!0),await b.post(`/organization-settings/${M}`,{value:L,encrypted:H}),w({title:"Success",description:"Settings saved successfully!"}),a(O=>({...O,[M]:L}))}catch(O){console.error("Error saving setting:",O),w({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{m(!1)}},A=async(M,L)=>{try{await b.put(`/organizations/users/${M}/role`,{role:L}),w({title:"Success",description:"User role updated successfully."}),S()}catch(H){console.error("Error updating user role:",H),w({title:"Error",description:"Failed to update user role. Please try again.",variant:"destructive"})}},T=async M=>{try{await b.put(`/organizations/users/${M}/suspend`),w({title:"Success",description:"User has been suspended successfully."}),S()}catch(L){console.error("Error suspending user:",L),w({title:"Error",description:"Failed to suspend user. Please try again.",variant:"destructive"})}},E=async()=>{if(!s.vapi_api_key){w({title:"Error",description:"API key is required for testing connection.",variant:"destructive"});return}try{m(!0),(await b.post("/vapi/test-connection")).data.success?w({title:"Success",description:"VAPI connection test successful!"}):w({title:"Error",description:"VAPI connection test failed. Please check your API key.",variant:"destructive"})}catch(M){console.error("Error testing VAPI connection:",M),w({title:"Error",description:"Error testing VAPI connection. Please try again.",variant:"destructive"})}finally{m(!1)}};return N?o?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx(ss,{className:"h-8 w-8 animate-spin text-emerald-500"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Loading organization settings..."})]})}):t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(is,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Organization Settings"}),t.jsx("p",{className:"text-gray-400",children:"Manage your organization's configuration and team members"})]})]})}),t.jsxs(Ai,{value:e,onValueChange:r,className:"space-y-6",children:[t.jsxs(Yn,{className:"grid w-full grid-cols-5 bg-gray-900",children:[t.jsxs(ht,{value:"vapi",className:"flex items-center space-x-2",children:[t.jsx(Gi,{className:"h-4 w-4"}),t.jsx("span",{children:"VAPI Integration"})]}),t.jsxs(ht,{value:"users",className:"flex items-center space-x-2",children:[t.jsx(bt,{className:"h-4 w-4"}),t.jsx("span",{children:"Team Members"})]}),t.jsxs(ht,{value:"permissions",className:"flex items-center space-x-2",children:[t.jsx(gs,{className:"h-4 w-4"}),t.jsx("span",{children:"Permissions"})]}),t.jsxs(ht,{value:"billing",className:"flex items-center space-x-2",children:[t.jsx(a0,{className:"h-4 w-4"}),t.jsx("span",{children:"Billing"})]}),t.jsxs(ht,{value:"general",className:"flex items-center space-x-2",children:[t.jsx(Ea,{className:"h-4 w-4"}),t.jsx("span",{children:"General"})]})]}),t.jsx(ft,{value:"vapi",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center space-x-2 text-white",children:[t.jsx(Gi,{className:"h-5 w-5 text-emerald-500"}),t.jsx("span",{children:"VAPI Configuration"})]})}),t.jsxs(X,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:"VAPI API Key"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(_e,{type:h?"text":"password",value:s.vapi_api_key||"",onChange:M=>a(L=>({...L,vapi_api_key:M.target.value})),placeholder:"Enter your VAPI API key",className:"pr-10 bg-gray-800 border-gray-700 text-white"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>f(!h),children:h?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]}),t.jsx(q,{onClick:()=>_("vapi_api_key",s.vapi_api_key,!0),disabled:d||!s.vapi_api_key,className:"bg-emerald-600 hover:bg-emerald-700",children:d?t.jsx(ss,{className:"h-4 w-4 animate-spin"}):t.jsx(Vt,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Your VAPI API key is used to authenticate requests to the VAPI service."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:"Webhook Secret"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(_e,{type:g?"text":"password",value:s.vapi_webhook_secret||"",onChange:M=>a(L=>({...L,vapi_webhook_secret:M.target.value})),placeholder:"Enter your webhook secret",className:"pr-10 bg-gray-800 border-gray-700 text-white"}),t.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>y(!g),children:g?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]}),t.jsx(q,{onClick:()=>_("vapi_webhook_secret",s.vapi_webhook_secret,!0),disabled:d||!s.vapi_webhook_secret,className:"bg-emerald-600 hover:bg-emerald-700",children:d?t.jsx(ss,{className:"h-4 w-4 animate-spin"}):t.jsx(Vt,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Test Connection"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Test your VAPI connection to ensure it's working properly"})]}),t.jsxs(q,{onClick:E,disabled:d||!s.vapi_api_key,variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[d?t.jsx(ss,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(yt,{className:"h-4 w-4 mr-2"}),"Test Connection"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:"Webhook URL"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(_e,{value:s.webhook_url||`${window.location.origin}/api/vapi-webhook`,readOnly:!0,className:"bg-gray-800 border-gray-700 text-gray-300"}),t.jsx(q,{onClick:()=>navigator.clipboard.writeText(s.webhook_url||`${window.location.origin}/api/vapi-webhook`),variant:"outline",className:"border-gray-700",children:t.jsx(mn,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Use this URL in your VAPI webhook configuration"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-white",children:"Max Concurrent Calls"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(_e,{type:"number",value:s.max_concurrent_calls||10,onChange:M=>a(L=>({...L,max_concurrent_calls:parseInt(M.target.value)})),min:"1",max:"100",className:"w-32 bg-gray-800 border-gray-700 text-white"}),t.jsx(q,{onClick:()=>_("max_concurrent_calls",s.max_concurrent_calls),disabled:d,className:"bg-emerald-600 hover:bg-emerald-700",children:"Save"})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Maximum number of simultaneous calls allowed"})]})]})]})}),t.jsx(ft,{value:"users",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(xe,{className:"flex items-center space-x-2 text-white",children:[t.jsx(bt,{className:"h-5 w-5 text-emerald-500"}),t.jsx("span",{children:"Team Members"})]}),t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Invite User"]})]})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:n.map(M=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-700 flex items-center justify-center",children:t.jsx(bt,{className:"h-5 w-5 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:M.first_name&&M.last_name?`${M.first_name} ${M.last_name}`:M.email}),t.jsx("p",{className:"text-sm text-gray-400",children:M.email}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(je,{variant:"outline",className:"text-xs",children:M.role.replace("client_","").charAt(0).toUpperCase()+M.role.replace("client_","").slice(1)}),t.jsx(je,{variant:"outline",className:`text-xs ${M.status==="active"?"border-emerald-500 text-emerald-400":M.status==="pending"?"border-yellow-500 text-yellow-400":"border-red-500 text-red-400"}`,children:M.status.charAt(0).toUpperCase()+M.status.slice(1)})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(at,{value:M.role,onValueChange:L=>A(M.id,L),children:[t.jsx(rt,{className:"w-32 bg-gray-800 border-gray-700",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"client_admin",children:"Admin"}),t.jsx(se,{value:"client_user",children:"User"}),t.jsx(se,{value:"client_viewer",children:"Viewer"})]})]}),M.status==="active"?t.jsxs(rS,{children:[t.jsx(sS,{asChild:!0,children:t.jsx(q,{variant:"outline",size:"sm",className:"border-red-600 text-red-400 hover:bg-red-600/20",children:t.jsx(GM,{className:"h-4 w-4"})})}),t.jsxs(ox,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(lx,{children:[t.jsx(dx,{className:"text-white",children:"Suspend User"}),t.jsxs(ux,{className:"text-gray-400",children:["Are you sure you want to suspend ",M.email,"? They will lose access to the organization."]})]}),t.jsxs(cx,{children:[t.jsx(hx,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(mx,{onClick:()=>T(M.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Suspend User"})]})]})]}):t.jsx(q,{variant:"outline",size:"sm",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:t.jsx(ql,{className:"h-4 w-4"})})]})]},M.id))})})]})}),t.jsx(ft,{value:"permissions",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(gs,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Permissions"}),t.jsx("p",{className:"text-gray-400",children:"Permissions management coming soon..."})]})})}),t.jsx(ft,{value:"billing",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(a0,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Billing Settings"}),t.jsx("p",{className:"text-gray-400",children:"Billing configuration coming soon..."})]})})}),t.jsx(ft,{value:"general",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(Ea,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"General Settings"}),t.jsx("p",{className:"text-gray-400",children:"General settings coming soon..."})]})})})]})]})}):t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsx("div",{className:"mx-auto max-w-4xl",children:t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsxs(X,{className:"p-12 text-center",children:[t.jsx(gs,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),t.jsx("h2",{className:"mb-2 text-xl font-semibold text-white",children:"Access Denied"}),t.jsx("p",{className:"text-gray-400",children:"You don't have permission to access organization settings. Contact your administrator."})]})})})})};var kNe="Separator",hO="horizontal",_Ne=["horizontal","vertical"],zU=p.forwardRef((e,r)=>{const{decorative:s,orientation:a=hO,...n}=e,i=PNe(a)?a:hO,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(He.div,{"data-orientation":i,...l,...n,ref:r})});zU.displayName=kNe;function PNe(e){return _Ne.includes(e)}var FU=zU;const Wl=p.forwardRef(({className:e,orientation:r="horizontal",decorative:s=!0,...a},n)=>t.jsx(FU,{ref:n,decorative:s,orientation:r,className:Le("shrink-0 bg-zinc-200 dark:bg-zinc-800",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Wl.displayName=FU.displayName;const jh=[{id:1,name:"Organization",icon:cr},{id:2,name:"Admin User",icon:ys},{id:3,name:"Team Setup",icon:bt},{id:4,name:"VAPI Setup",icon:is},{id:5,name:"Review & Submit",icon:fs}],Nh=[{code:"US",name:"United States",flag:"🇺🇸"},{code:"UK",name:"United Kingdom",flag:"🇬🇧"},{code:"CA",name:"Canada",flag:"🇨🇦"},{code:"AU",name:"Australia",flag:"🇦🇺"},{code:"DE",name:"Germany",flag:"🇩🇪"},{code:"FR",name:"France",flag:"🇫🇷"},{code:"ES",name:"Spain",flag:"🇪🇸"},{code:"IT",name:"Italy",flag:"🇮🇹"},{code:"NL",name:"Netherlands",flag:"🇳🇱"},{code:"SE",name:"Sweden",flag:"🇸🇪"},{code:"NO",name:"Norway",flag:"🇳🇴"},{code:"DK",name:"Denmark",flag:"🇩🇰"},{code:"FI",name:"Finland",flag:"🇫🇮"},{code:"CH",name:"Switzerland",flag:"🇨🇭"},{code:"AT",name:"Austria",flag:"🇦🇹"},{code:"BE",name:"Belgium",flag:"🇧🇪"},{code:"IE",name:"Ireland",flag:"🇮🇪"},{code:"PT",name:"Portugal",flag:"🇵🇹"},{code:"NZ",name:"New Zealand",flag:"🇳🇿"},{code:"SG",name:"Singapore",flag:"🇸🇬"}],ANe=["Technology","Healthcare","Finance","Real Estate","Marketing & Advertising","Consulting","E-commerce","Manufacturing","Education","Legal","Insurance","Telecommunications","Media & Entertainment","Non-profit","Other"],fO=[{id:"admin",name:"Admin",description:"Full access to all features and settings"},{id:"user",name:"User",description:"Can create and manage campaigns"},{id:"viewer",name:"Viewer",description:"Read-only access to campaigns and reports"}];function ENe(){var W,V,U;const e=br(),{getToken:r}=wa(),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,m]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,v]=p.useState({businessName:"",email:"",country:"",website:"",industry:"",adminFirstName:"",adminLastName:"",adminEmail:"",adminPhone:"",teamSize:"",addTeamMembers:!1,teamMembers:[],vapiApiKey:"",vapiPrivateKey:"",vapiSetupComplete:!1,isDraft:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),b=s/jh.length*100,N=$=>{const R={};switch($){case 1:w.businessName.trim()||(R.businessName="Business name is required"),w.email.trim()||(R.email="Email is required"),w.email.includes("@")||(R.email="Please enter a valid email address"),w.country||(R.country="Please select a country");break;case 2:w.adminFirstName.trim()||(R.adminFirstName="First name is required"),w.adminLastName.trim()||(R.adminLastName="Last name is required"),w.adminEmail.trim()||(R.adminEmail="Admin email is required"),w.adminEmail.includes("@")||(R.adminEmail="Please enter a valid email address");break;case 3:w.teamSize||(R.teamSize="Please select team size"),w.addTeamMembers&&w.teamMembers.length===0&&(R.teamMembers="Please add at least one team member or disable team member addition"),w.teamMembers.forEach((F,z)=>{F.firstName.trim()||(R[`teamMember${z}FirstName`]="First name is required"),F.lastName.trim()||(R[`teamMember${z}LastName`]="Last name is required"),F.email.trim()||(R[`teamMember${z}Email`]="Email is required"),F.email.includes("@")||(R[`teamMember${z}Email`]="Please enter a valid email"),F.role||(R[`teamMember${z}Role`]="Please select a role")});break;case 4:w.vapiPrivateKey.trim()||(R.vapiPrivateKey="VAPI Private Key is required"),w.vapiApiKey.trim()||(R.vapiApiKey="VAPI Public Key is required");break}return l(R),Object.keys(R).length===0},C=()=>{N(s)&&s<jh.length&&(a(s+1),v($=>({...$,updatedAt:new Date().toISOString()})))},S=()=>{s>1&&(a(s-1),l({}))},_=$=>{$<s?(a($),l({})):$===s+1&&C()},A=$=>{v(R=>({...R,...$,updatedAt:new Date().toISOString()}))},T=()=>{const $={id:`member_${Date.now()}`,firstName:"",lastName:"",email:"",role:"user"};A({teamMembers:[...w.teamMembers,$]})},E=($,R)=>{const F=[...w.teamMembers];F[$]={...F[$],...R},A({teamMembers:F})},M=$=>{const R=w.teamMembers.filter((F,z)=>z!==$);A({teamMembers:R})},L=async()=>{i(!0);try{const $={...w,isDraft:!0};localStorage.setItem("organizationDraft",JSON.stringify($)),alert("✅ Organization setup saved as draft!")}catch($){console.error("Error saving draft:",$),alert("❌ Failed to save draft. Please try again.")}finally{i(!1)}},H=async()=>{if(console.log("🔄 Complete Setup button clicked - Starting process..."),!N(s)){console.log("❌ Validation failed for current step:",s);return}i(!0),console.log("⏳ Loading state set to true");try{console.log("🔑 Getting authentication token...");const $=await r();if(console.log("🔐 Token received:",$?"Yes":"No"),!$)throw console.error("❌ No authentication token received"),new Error("Authentication required. Please sign in.");console.log("✅ Authentication token received:",$?"Token exists":"No token");const R={businessName:w.businessName,email:w.email,country:w.country,website:w.website,industry:w.industry,adminFirstName:w.adminFirstName,adminLastName:w.adminLastName,adminEmail:w.adminEmail,adminPhone:w.adminPhone,useBusinessEmail:w.adminEmail===w.email,teamSize:w.teamSize,addTeamMembers:w.addTeamMembers,teamMembers:w.teamMembers,vapiApiKey:w.vapiApiKey,vapiPrivateKey:w.vapiPrivateKey};console.log("🚀 Submitting organization setup:",R);const z="https://apex-backend-august-production.up.railway.app/api/api/organization-setup/setup";console.log("📡 Making API call to:",z),console.log("📋 Request headers:",{"Content-Type":"application/json",Authorization:`Bearer ${$.substring(0,20)}...`});const K=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify(R)});console.log("📥 Response status:",K.status,K.statusText);const B=await K.json();if(console.log("📋 Response body:",B),!K.ok)throw console.error("❌ API call failed:",B),new Error(B.error||`HTTP error! status: ${K.status}`);console.log("✅ Organization setup completed:",B),console.log("💾 Setting setup result and showing success screen..."),y(B),f(!0),A({vapiApiKey:"",vapiPrivateKey:""}),console.log("🎉 Success screen should now be visible!")}catch($){console.error("❌ Error completing setup:",$),console.log("💾 Setting error result and showing error screen..."),y({success:!1,error:$ instanceof Error?$.message:"Failed to complete setup",details:"If the problem persists, please contact support."}),f(!0),console.log("⚠️ Error screen should now be visible!")}finally{i(!1),console.log("✅ Loading state set to false")}},O=()=>{var $,R,F,z;switch(s){case 1:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Organization Details"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Tell us about your business to get started with the Apex AI Calling Platform"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Business Name *"}),t.jsx(_e,{value:w.businessName,onChange:K=>A({businessName:K.target.value}),placeholder:"e.g., Acme Marketing Agency",className:"border-gray-700 bg-gray-800 text-white"}),o.businessName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.businessName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Business Email *"}),t.jsx(_e,{type:"email",value:w.email,onChange:K=>A({email:K.target.value}),placeholder:"contact@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.email&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.email})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(at,{value:w.country,onValueChange:K=>A({country:K}),children:[t.jsx(rt,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select your country",children:w.country?t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:($=Nh.find(K=>K.code===w.country))==null?void 0:$.flag}),t.jsx("span",{className:"text-white",children:(R=Nh.find(K=>K.code===w.country))==null?void 0:R.name})]}):t.jsx("span",{className:"text-gray-400",children:"Select your country"})})}),t.jsx(st,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:Nh.map(K=>t.jsx(se,{value:K.code,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsxs("div",{className:"flex items-center gap-3 py-1",children:[t.jsx("span",{className:"min-w-[24px] text-lg",children:K.flag}),t.jsx("span",{className:"text-white",children:K.name})]})},K.code))})]}),o.country&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.country})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Website (Optional)"}),t.jsx(_e,{type:"url",value:w.website,onChange:K=>A({website:K.target.value}),placeholder:"https://www.acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(at,{value:w.industry,onValueChange:K=>A({industry:K}),children:[t.jsx(rt,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select your industry"})}),t.jsx(st,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:ANe.map(K=>t.jsx(se,{value:K,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:t.jsx("span",{className:"text-white",children:K})},K))})]})]})]}),t.jsxs(ir,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(qt,{className:"h-4 w-4 text-blue-400"}),t.jsx(or,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]});case 2:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Admin User Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Create the primary administrator account for your organization"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"First Name *"}),t.jsx(_e,{value:w.adminFirstName,onChange:K=>A({adminFirstName:K.target.value}),placeholder:"John",className:"border-gray-700 bg-gray-800 text-white"}),o.adminFirstName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminFirstName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Last Name *"}),t.jsx(_e,{value:w.adminLastName,onChange:K=>A({adminLastName:K.target.value}),placeholder:"Smith",className:"border-gray-700 bg-gray-800 text-white"}),o.adminLastName&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminLastName})]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Email Address *"}),t.jsx(_e,{type:"email",value:w.adminEmail,onChange:K=>A({adminEmail:K.target.value}),placeholder:"john.smith@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.adminEmail&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminEmail})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Telephone Number (Optional)"}),t.jsx(_e,{type:"tel",value:w.adminPhone,onChange:K=>A({adminPhone:K.target.value}),placeholder:"+1 (555) 123-4567",className:"border-gray-700 bg-gray-800 text-white"})]})]}),t.jsxs(ir,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(ys,{className:"h-4 w-4 text-emerald-400"}),t.jsx(or,{className:"text-gray-300",children:"The admin user will have full access to all platform features and will be able to manage other team members."})]})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your team size and add team members to your organization"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Size *"}),t.jsx($l,{value:w.teamSize,onValueChange:K=>A({teamSize:K}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"0-5",id:"small"}),t.jsxs(ee,{htmlFor:"small",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"0 - 5 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Small team or startup"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"6-9",id:"medium"}),t.jsxs(ee,{htmlFor:"medium",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"6 - 9 members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Growing team"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[t.jsx(Zs,{value:"10+",id:"large"}),t.jsxs(ee,{htmlFor:"large",className:"flex-1 cursor-pointer",children:[t.jsx("div",{className:"font-medium text-white",children:"10+ members"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Large team or enterprise"})]})]})]})}),o.teamSize&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamSize})]}),t.jsx(Wl,{className:"bg-gray-700"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"Add Team Members (Optional)"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"addTeamMembers",checked:w.addTeamMembers,onChange:K=>A({addTeamMembers:K.target.checked}),className:"rounded border-gray-600 bg-gray-700"}),t.jsx(ee,{htmlFor:"addTeamMembers",className:"cursor-pointer text-gray-300",children:"Enable team member setup"})]})]}),w.addTeamMembers&&t.jsxs("div",{className:"space-y-4",children:[w.teamMembers.map((K,B)=>t.jsx(J,{className:"border-gray-700 bg-gray-800/50",children:t.jsxs(X,{className:"p-4",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium text-white",children:["Team Member ",B+1]}),t.jsx(q,{variant:"outline",size:"sm",onClick:()=>M(B),className:"border-red-600 text-red-400 hover:bg-red-900/20",children:t.jsx(Ws,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"First Name *"}),t.jsx(_e,{value:K.firstName,onChange:Q=>E(B,{firstName:Q.target.value}),placeholder:"Jane",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${B}FirstName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}FirstName`]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Last Name *"}),t.jsx(_e,{value:K.lastName,onChange:Q=>E(B,{lastName:Q.target.value}),placeholder:"Doe",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${B}LastName`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}LastName`]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Email *"}),t.jsx(_e,{type:"email",value:K.email,onChange:Q=>E(B,{email:Q.target.value}),placeholder:"jane.doe@acmemarketing.com",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${B}Email`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}Email`]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"Role *"}),t.jsxs(at,{value:K.role,onValueChange:Q=>E(B,{role:Q}),children:[t.jsx(rt,{className:"hover:bg-gray-650 border-gray-600 bg-gray-700 text-white transition-colors",children:t.jsx(nt,{placeholder:"Select role"})}),t.jsx(st,{className:"border-gray-600 bg-gray-700",children:fO.map(Q=>t.jsx(se,{value:Q.id,className:"cursor-pointer text-white hover:bg-gray-600 focus:bg-gray-600",children:t.jsxs("div",{className:"py-1",children:[t.jsx("div",{className:"font-medium text-white",children:Q.name}),t.jsx("div",{className:"text-xs text-gray-300",children:Q.description})]})},Q.id))})]}),o[`teamMember${B}Role`]&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${B}Role`]})]})]})]})},K.id)),t.jsxs(q,{variant:"outline",onClick:T,className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add Another Team Member"]}),o.teamMembers&&t.jsx("p",{className:"text-sm text-red-400",children:o.teamMembers})]})]})]})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"VAPI Integration Setup"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your VAPI account to enable AI calling functionality"})]}),t.jsxs(ir,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(qt,{className:"h-4 w-4 text-blue-400"}),t.jsx(or,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"How to set up your VAPI account:"}),t.jsxs("ol",{className:"list-inside list-decimal space-y-1 text-sm",children:[t.jsxs("li",{children:["Visit"," ",t.jsxs("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-400 hover:underline",children:["vapi.ai ",t.jsx(Xi,{className:"h-3 w-3"})]})," ","and create an account"]}),t.jsx("li",{children:'Navigate to your dashboard and go to "API Keys"'}),t.jsx("li",{children:"Generate a new API key and copy it"}),t.jsx("li",{children:"Also copy your Private Key from the account settings"}),t.jsx("li",{children:"Paste both keys below to connect your account"})]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ee,{className:"text-gray-300",children:"VAPI Private Key (Bearer Token) *"}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>m(!d),className:"text-gray-400 hover:text-white",children:d?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]}),t.jsx(_e,{type:d?"text":"password",value:w.vapiPrivateKey,onChange:K=>A({vapiPrivateKey:K.target.value}),placeholder:"sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiPrivateKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiPrivateKey})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-300",children:"VAPI Public Key *"}),t.jsx(_e,{type:d?"text":"password",value:w.vapiApiKey,onChange:K=>A({vapiApiKey:K.target.value}),placeholder:"vapi_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiApiKey&&t.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiApiKey})]})]}),t.jsxs(ir,{className:"border-green-700 bg-green-900/20",children:[t.jsx(fs,{className:"h-4 w-4 text-green-400"}),t.jsx(or,{className:"text-green-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens next:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsx("li",{children:"Your VAPI account will be connected to the platform"}),t.jsx("li",{children:"You'll be able to create AI voice agents"}),t.jsx("li",{children:"Phone numbers can be purchased and configured"}),t.jsx("li",{children:"AI calling campaigns can be launched"})]})]})})]}),t.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[t.jsx("h4",{className:"mb-2 font-medium text-white",children:"Security Note"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Your API keys are encrypted and stored securely. They are only used to authenticate with VAPI services and are never shared with third parties."})]})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Review & Submit"}),t.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Please review all information before submitting. Once submitted, your organization and user accounts will be created."})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(cr,{className:"h-5 w-5 text-emerald-500"}),"Organization Details"]})}),t.jsx(X,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Business Name"}),t.jsx("p",{className:"font-medium text-white",children:w.businessName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(Oa,{className:"h-4 w-4 text-gray-400"}),w.email]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Country"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx("span",{className:"text-lg",children:(F=Nh.find(K=>K.code===w.country))==null?void 0:F.flag}),((z=Nh.find(K=>K.code===w.country))==null?void 0:z.name)||w.country]})]}),w.website&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Website"}),t.jsx("p",{className:"font-medium text-white",children:w.website})]}),w.industry&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Industry"}),t.jsx("p",{className:"font-medium text-white",children:w.industry})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(ys,{className:"h-5 w-5 text-blue-500"}),"Administrator Account"]})}),t.jsx(X,{className:"space-y-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Full Name"}),t.jsxs("p",{className:"font-medium text-white",children:[w.adminFirstName," ",w.adminLastName]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Email"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(Oa,{className:"h-4 w-4 text-gray-400"}),w.adminEmail]})]}),w.adminPhone&&t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Phone"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(xt,{className:"h-4 w-4 text-gray-400"}),w.adminPhone]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Role"}),t.jsx(je,{variant:"secondary",className:"bg-blue-900 text-blue-300",children:"Organization Administrator"})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(bt,{className:"h-5 w-5 text-purple-500"}),"Team Setup"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Team Size"}),t.jsxs("p",{className:"font-medium text-white",children:[w.teamSize," members"]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Additional Team Members"}),t.jsx("p",{className:"font-medium text-white",children:w.addTeamMembers?`${w.teamMembers.length} added`:"None"})]})]}),w.addTeamMembers&&w.teamMembers.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx(ee,{className:"mb-2 block text-sm text-gray-400",children:"Team Members"}),t.jsx("div",{className:"space-y-2",children:w.teamMembers.map((K,B)=>{var Q;return t.jsx("div",{className:"rounded-lg bg-gray-700 p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[K.firstName," ",K.lastName]}),t.jsx("p",{className:"text-sm text-gray-400",children:K.email})]}),t.jsx(je,{variant:"outline",className:"border-gray-600 text-gray-300",children:((Q=fO.find(Ce=>Ce.id===K.role))==null?void 0:Q.name)||K.role})]})},K.id)})})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(is,{className:"h-5 w-5 text-orange-500"}),"VAPI Integration"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"API Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Connected"]})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-sm text-gray-400",children:"Private Key Status"}),t.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[t.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Configured"]})]})]}),t.jsxs(ir,{className:"border-green-700 bg-green-900/20",children:[t.jsx(fs,{className:"h-4 w-4 text-green-400"}),t.jsx(or,{className:"text-green-300",children:"VAPI integration is ready. You'll be able to create AI voice agents and launch calling campaigns immediately after setup."})]})]})]}),t.jsx(J,{className:"border-emerald-700 bg-gradient-to-r from-emerald-900/20 to-blue-900/20",children:t.jsxs(X,{className:"p-6",children:[t.jsx("h4",{className:"mb-4 font-medium text-white",children:"Setup Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"1"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Organization"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:1+(w.addTeamMembers?w.teamMembers.length:0)}),t.jsx("div",{className:"text-sm text-gray-400",children:"Users"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:w.teamSize}),t.jsx("div",{className:"text-sm text-gray-400",children:"Team Size"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:"✓"}),t.jsx("div",{className:"text-sm text-gray-400",children:"VAPI Ready"})]})]})]})}),t.jsxs(ir,{className:"border-blue-700 bg-blue-900/20",children:[t.jsx(qt,{className:"h-4 w-4 text-blue-400"}),t.jsx(or,{className:"text-blue-300",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"What happens when you submit:"}),t.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[t.jsxs("li",{children:['Your organization "',w.businessName,'" will be created']}),t.jsxs("li",{children:["Admin account for ",w.adminFirstName," ",w.adminLastName," will be set up"]}),w.addTeamMembers&&w.teamMembers.length>0&&t.jsxs("li",{children:[w.teamMembers.length," team member account(s) will be created"]}),t.jsx("li",{children:"VAPI integration will be activated for AI calling"}),t.jsx("li",{children:"You'll receive login credentials via email"})]})]})})]})]});default:return null}},I=()=>{switch(s){case 1:return w.businessName&&w.email&&w.country;case 2:return w.adminFirstName&&w.adminLastName&&w.adminEmail;case 3:return w.teamSize&&(!w.addTeamMembers||w.teamMembers.length>0);case 4:return w.vapiApiKey&&w.vapiPrivateKey;case 5:return!0;default:return!1}};return h&&g?t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-4xl",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500",children:g.success?t.jsx(yt,{className:"h-8 w-8 text-white"}):t.jsx(St,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:g.success?"Setup Complete!":"Setup Failed"}),t.jsx("p",{className:"text-gray-400",children:g.success?"Your organization has been created successfully":"There was an issue creating your organization"})]}),g.success?t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ir,{className:"border-emerald-600 bg-emerald-900",children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-500"}),t.jsx(or,{className:"text-emerald-100",children:g.message})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(cr,{className:"h-5 w-5 text-emerald-500"}),"Organization Created"]})}),t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Organization Name"}),t.jsx("p",{className:"font-medium text-white",children:g.organizationName})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Organization ID"}),t.jsx("p",{className:"font-mono text-sm text-white",children:g.organizationId})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Admin Email"}),t.jsx("p",{className:"text-white",children:g.adminEmail})]}),t.jsxs("div",{children:[t.jsx(ee,{className:"text-gray-400",children:"Team Members"}),t.jsxs("p",{className:"text-white",children:[g.teamMembersCreated||0," created"]})]})]})})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx($o,{className:"h-5 w-5 text-emerald-500"}),"Next Steps"]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"1"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Check Your Email"}),t.jsx("p",{className:"text-sm text-gray-400",children:(W=g.nextSteps)==null?void 0:W.emailVerification})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"2"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Team Setup"}),t.jsx("p",{className:"text-sm text-gray-400",children:(V=g.nextSteps)==null?void 0:V.accountSetup})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:t.jsx("span",{className:"text-sm font-bold text-white",children:"3"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Start Calling"}),t.jsxs("p",{className:"text-sm text-gray-400",children:["VAPI Status:"," ",(U=g.vapiStatus)!=null&&U.connected?"✅ Ready":"⚠️ Needs Configuration"]})]})]})]})})]}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(q,{onClick:()=>e("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(cr,{className:"mr-2 h-4 w-4"}),"View Organizations"]}),t.jsxs(q,{variant:"outline",onClick:()=>e("/dashboard"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(MN,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ir,{className:"border-red-600 bg-red-900",children:[t.jsx(St,{className:"h-4 w-4 text-red-500"}),t.jsx(or,{className:"text-red-100",children:g.error})]}),g.details&&t.jsx(J,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsx("p",{className:"text-gray-400",children:g.details})})}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(q,{onClick:()=>{f(!1),y(null),a(1)},className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Try Again"]}),t.jsxs(q,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(cr,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-950 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(cr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Organization Setup"}),t.jsx("p",{className:"text-gray-400",children:"Set up your organization on the Apex AI Calling Platform"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(q,{variant:"outline",onClick:L,disabled:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),t.jsx(q,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx(xr,{value:b,className:"h-2 bg-gray-800"})]}),t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between",children:jh.map(($,R)=>{const F=$.icon,z=$.id===s,K=$.id<s,B=$.id<=s+1;return t.jsxs(ce.Fragment,{children:[t.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${B?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>B&&_($.id),children:[t.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${z?"bg-emerald-600 text-white":K?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:K?t.jsx(fs,{className:"h-6 w-6"}):t.jsx(F,{className:"h-6 w-6"})}),t.jsx("span",{className:`mt-2 text-sm ${z?"font-medium text-white":"text-gray-400"}`,children:$.name})]}),R<jh.length-1&&t.jsx("div",{className:`mx-2 h-0.5 flex-1 ${K?"bg-green-600":"bg-gray-800"}`})]},$.id)})})}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/50",children:[t.jsx(X,{className:"p-8",children:O()}),t.jsx("div",{className:"border-t border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(q,{variant:"outline",onClick:S,disabled:s===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ec,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<jh.length?t.jsxs(q,{onClick:C,className:"bg-emerald-600 hover:bg-emerald-700",children:["Next",t.jsx(io,{className:"ml-2 h-4 w-4"})]}):t.jsx(q,{onClick:H,disabled:n||!I(),className:"bg-green-600 hover:bg-green-700",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Setting up Organization..."]}):t.jsxs(t.Fragment,{children:[t.jsx($o,{className:"mr-2 h-4 w-4"}),"Complete Setup"]})})]})})]})]})})}function TNe({user:e,isOpen:r,onClose:s,onResendInvitation:a,onSuspendUser:n,onActivateUser:i}){if(!e)return null;const o=(N,C)=>{const S={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt,label:"Active"},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Oa,label:C||"Invited"},"Invitation Pending":{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Mt,label:"Invitation Pending"},"Invitation Expired":{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Yt,label:"Invitation Expired"},"Never Logged In":{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:ys,label:"Never Logged In"},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Su,label:"Inactive"},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Su,label:"Suspended"}},_=S[C||N]||S.invited,A=_.icon;return t.jsxs(je,{variant:"outline",className:_.className,children:[t.jsx(A,{className:"mr-1 h-3 w-3"}),_.label]})},l=N=>{const C=N.replace("client_","").replace("_"," ").split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ");return t.jsxs(je,{variant:"outline",className:"border-blue-500/20 bg-blue-500/10 text-blue-400",children:[t.jsx(gs,{className:"mr-1 h-3 w-3"}),C]})},d=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",h=(N=>{if(!N)return{text:"Never logged in",className:"text-gray-400"};const C=Math.floor((Date.now()-new Date(N).getTime())/(1e3*60*60*24));return C===0?{text:"Today",className:"text-emerald-400"}:C===1?{text:"Yesterday",className:"text-emerald-400"}:C<7?{text:`${C} days ago`,className:"text-blue-400"}:C<30?{text:`${Math.floor(C/7)} weeks ago`,className:"text-yellow-400"}:{text:`${Math.floor(C/30)} months ago`,className:"text-red-400"}})(e.last_login_at),f=e.status==="suspended"?"suspended":e.status==="invited"||!e.last_login_at?"invited":e.status==="active"&&e.last_login_at?"active":e.status,g=e.status==="suspended"?"Suspended":!e.last_login_at&&(e.status==="invited"||e.status==="active")?"Invitation Pending":e.status==="active"&&e.last_login_at?"Active":e.display_status||e.status,y=!e.last_login_at&&(e.status==="invited"||e.status==="active"),w=y,v=e.status==="active"&&e.last_login_at,b=e.status==="suspended"||e.status==="inactive";return t.jsx(Cd,{open:r,onOpenChange:s,children:t.jsxs(dc,{className:"bg-gray-900 border-gray-800 max-w-2xl",children:[t.jsx(uc,{children:t.jsx(mc,{className:"text-xl font-semibold text-white",children:"User Profile"})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(ys,{className:"h-8 w-8 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-white",children:[e.first_name," ",e.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:e.email}),e.phone&&t.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[t.jsx(xt,{className:"h-3 w-3"}),e.phone]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o(f,g),l(e.role)]})]}),y&&t.jsxs(ir,{className:"border-yellow-700 bg-yellow-900/20",children:[t.jsx(Yt,{className:"h-4 w-4 text-yellow-400"}),t.jsxs(or,{className:"text-yellow-200",children:["This user has been invited but hasn't set up their account yet.",e.display_status==="Invitation Expired"?" Their invitation has expired and needs to be resent.":" They need to check their email and complete the signup process."]})]}),e.status==="suspended"&&t.jsxs(ir,{className:"border-red-700 bg-red-900/20",children:[t.jsx(Su,{className:"h-4 w-4 text-red-400"}),t.jsx(or,{className:"text-red-200",children:"This user account is suspended and cannot access the platform."})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Account Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),t.jsx("p",{className:"text-white",children:d(e.created_at)})]}),e.invited_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invited"}),t.jsx("p",{className:"text-white",children:d(e.invited_at)}),e.invited_by_name&&t.jsxs("p",{className:"text-xs text-gray-500",children:["by ",e.invited_by_name]})]}),e.invitation_accepted_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Invitation Accepted"}),t.jsx("p",{className:"text-white",children:d(e.invitation_accepted_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Email Verified"}),t.jsx("p",{className:"text-white flex items-center gap-1",children:e.email_verified?t.jsxs(t.Fragment,{children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),"Verified"]}):t.jsxs(t.Fragment,{children:[t.jsx(Yt,{className:"h-4 w-4 text-yellow-400"}),"Not Verified"]})})]})]})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Login Activity"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"First Login"}),t.jsx("p",{className:"text-white",children:d(e.first_login_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Login"}),t.jsx("p",{className:`font-medium ${h.className}`,children:h.text}),e.last_login_at&&t.jsx("p",{className:"text-xs text-gray-500",children:d(e.last_login_at)})]}),e.login_count!==void 0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Logins"}),t.jsx("p",{className:"text-white",children:e.login_count})]}),e.last_activity_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Last Activity"}),t.jsx("p",{className:"text-white",children:h0(new Date(e.last_activity_at),{addSuffix:!0})})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[w&&a&&t.jsxs(q,{onClick:()=>a(e.id),variant:"outline",className:"border-yellow-700 text-yellow-400 hover:bg-yellow-900/20",children:[t.jsx(Vl,{className:"mr-2 h-4 w-4"}),"Resend Invitation"]}),v&&n&&t.jsxs(q,{onClick:()=>n(e.id),variant:"outline",className:"border-red-700 text-red-400 hover:bg-red-900/20",children:[t.jsx(Su,{className:"mr-2 h-4 w-4"}),"Suspend User"]}),b&&i&&t.jsxs(q,{onClick:()=>i(e.id),variant:"outline",className:"border-emerald-700 text-emerald-400 hover:bg-emerald-900/20",children:[t.jsx(ql,{className:"mr-2 h-4 w-4"}),"Activate User"]}),t.jsx(q,{onClick:s,variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})]})]})]})})}const pO=[{id:1,name:"Details",icon:cr},{id:2,name:"Team",icon:bt},{id:3,name:"Settings",icon:is}],ONe=[{code:"US",name:"United States",flag:"🇺🇸"},{code:"UK",name:"United Kingdom",flag:"🇬🇧"},{code:"CA",name:"Canada",flag:"🇨🇦"},{code:"AU",name:"Australia",flag:"🇦🇺"},{code:"DE",name:"Germany",flag:"🇩🇪"},{code:"FR",name:"France",flag:"🇫🇷"}],MNe=["Technology","Healthcare","Finance","Real Estate","Retail","Manufacturing","Education","Marketing & Advertising","Other"],RNe=[{value:"client_admin",label:"Admin",description:"Full access to organization"},{value:"client_user",label:"User",description:"Can manage campaigns"}];function INe(){const{id:e}=uf(),r=br(),{getToken:s}=wa(),{toast:a}=cs(),[n,i]=p.useState(2),[o,l]=p.useState(null),[d,m]=p.useState([]),[h,f]=p.useState([]),[g,y]=p.useState(!0),[w,v]=p.useState(!1),[b,N]=p.useState(null),[C,S]=p.useState(!1),[_,A]=p.useState(""),[T,E]=p.useState(""),[M,L]=p.useState(""),[H,O]=p.useState("client_user"),[I,W]=p.useState(!1),[V,U]=p.useState({}),[$,R]=p.useState(""),[F,z]=p.useState(""),[K,B]=p.useState("https://api.apexai.com/webhooks/vapi"),[Q,Ce]=p.useState(!1),[Z,ne]=p.useState(!1),[ze,Ae]=p.useState(!1),[Re,de]=p.useState(null),[Se,Ee]=p.useState(!1);p.useEffect(()=>{te()},[e]),p.useEffect(()=>{o&&(console.log("🔄 Updating VAPI fields from organization data:",{vapi_api_key:o.vapi_api_key,vapi_private_key:o.vapi_private_key,fullOrg:o}),R(o.vapi_private_key||""),z(o.vapi_api_key||""),Ce(!!o.vapi_api_key||!!o.vapi_private_key))},[o]);const te=async()=>{var me,Be;try{y(!0);const{supabaseService:kt}=await fn(async()=>{const{supabaseService:Ke}=await Promise.resolve().then(()=>_u);return{supabaseService:Ke}},void 0);console.log("🔍 Fetching organization data for ID:",e);try{const Ke=await kt.getOrganization(e);if(!Ke)throw new Error("Organization not found");const Os={id:Ke.id,name:Ke.name,slug:Ke.slug,type:Ke.type,status:Ke.status,plan:Ke.plan,monthly_cost:Ke.monthly_cost,primary_color:Ke.primary_color,secondary_color:Ke.secondary_color,website:Ke.website,phone:Ke.phone,address:Ke.address,country:Ke.country,industry:Ke.industry,contact_name:Ke.contact_name,contact_email:Ke.billing_email||Ke.contact_email,contact_phone:Ke.contact_phone,vapi_api_key:Ke.vapi_api_key,vapi_private_key:Ke.vapi_private_key,created_at:Ke.created_at,updated_at:Ke.updated_at};l(Os),U(Os),console.log("🔑 Loading VAPI settings from Supabase:",{vapi_api_key:Ke.vapi_api_key,vapi_private_key:Ke.vapi_private_key,fullOrgData:Ke}),R(Ke.vapi_private_key||""),z(Ke.vapi_api_key||""),Ce(!!(Ke.vapi_api_key||Ke.vapi_private_key)),B("https://api.apexai.com/webhooks/vapi");try{const ms=(await kt.getUsers(e)).map(pt=>({id:pt.id,email:pt.email,first_name:pt.first_name,last_name:pt.last_name,phone:pt.phone,role:pt.role,status:pt.status,email_verified:pt.email_verified,created_at:pt.created_at,invited_at:pt.invited_at,last_login_at:pt.last_login_at}));m(ms)}catch(es){console.warn("Failed to fetch users:",es),m([])}N(null),y(!1);return}catch(Ke){console.error("❌ Error fetching from Supabase:",Ke),N("Organization not found"),y(!1);return}const Kt=await s(),_t={"Content-Type":"application/json",...Kt&&{Authorization:`Bearer ${Kt}`}},wr=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}`,{headers:_t});if(!wr.ok)throw new Error("Failed to fetch organization");const Kr=await wr.json(),jr=Kr.organization||Kr;if(l(jr),U(jr),jr.vapi_settings||(me=jr.settings)!=null&&me.vapi){const Ke=jr.vapi_settings?typeof jr.vapi_settings=="string"?JSON.parse(jr.vapi_settings):jr.vapi_settings:(Be=jr.settings)==null?void 0:Be.vapi;R(Ke.privateKey||Ke.apiKey||""),z(Ke.publicKey||""),B(Ke.webhookUrl||"https://api.apexai.com/webhooks/vapi"),Ce(Ke.enabled!==void 0?Ke.enabled:!0)}const vs=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/users`,{headers:_t});if(vs.ok){const Ke=await vs.json();m(Ke.users||[])}const Tr=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/invitations`,{headers:_t});if(Tr.ok){const Ke=await Tr.json();f(Ke.invitations||[])}}catch(kt){console.error("Error fetching organization data:",kt),a({title:"Error",description:"Failed to load organization data",variant:"destructive"})}finally{y(!1)}},be=async()=>{try{v(!0);const{supabaseService:me}=await fn(async()=>{const{supabaseService:Kt}=await Promise.resolve().then(()=>_u);return{supabaseService:Kt}},void 0),Be={name:V.name,billing_email:V.contact_email,phone:V.phone,address:V.address,website:V.website,industry:V.industry,updated_at:new Date().toISOString()};n===3&&(Be.vapi_private_key=$,Be.vapi_api_key=F,console.log("💾 Including VAPI settings in update")),console.log("📤 Attempting to save organization with data:",{id:e,updateData:Be,currentStep:n});const kt=await me.updateOrganization(e,Be);console.log("✅ Update result:",kt),a({title:"Success",description:"Organization details saved successfully"}),console.log("✅ Save completed successfully - skipping refresh to avoid errors")}catch(me){console.error("❌ Error saving changes:",me),console.error("Error details:",{message:me instanceof Error?me.message:"Unknown error",error:me}),a({title:"Error",description:me instanceof Error?me.message:"Failed to save changes",variant:"destructive"})}finally{v(!1)}},Te=async()=>{try{W(!0);const me=await s(),Be=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/organizations/${e}/invite`,{method:"POST",headers:{"Content-Type":"application/json",...me&&{Authorization:`Bearer ${me}`}},body:JSON.stringify({email:_,firstName:T,lastName:M,role:H,inviterName:"Admin"})});if(!Be.ok){const kt=await Be.json();throw new Error(kt.error||"Failed to send invitation")}a({title:"Success",description:`Invitation sent to ${_}`}),A(""),E(""),L(""),O("client_user"),S(!1),await te()}catch(me){console.error("Error sending invitation:",me),a({title:"Error",description:me instanceof Error?me.message:"Failed to send invitation",variant:"destructive"})}finally{W(!1)}},Ue=async me=>{try{const Be=await s();if(!(await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/${me}/resend`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}})).ok)throw new Error("Failed to resend invitation");a({title:"Success",description:"Invitation resent successfully"}),await te()}catch(Be){console.error("Error resending invitation:",Be),a({title:"Error",description:"Failed to resend invitation",variant:"destructive"})}},oe=async me=>{if(confirm("Are you sure you want to cancel this invitation?"))try{const Be=await s();if(!(await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/${me}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}})).ok)throw new Error("Failed to cancel invitation");a({title:"Success",description:"Invitation cancelled"}),await te()}catch(Be){console.error("Error cancelling invitation:",Be),a({title:"Error",description:"Failed to cancel invitation",variant:"destructive"})}},Ge=me=>{const Be=`${window.location.origin}/accept-invitation?token=${me}`;navigator.clipboard.writeText(Be),a({title:"Copied!",description:"Invitation link copied to clipboard"})},Ct=me=>me.status==="active"&&me.last_login_at?{status:"active",label:"Active"}:me.status==="invited"&&!me.invitation_accepted_at?{status:"invited",label:"Invitation Pending"}:me.status==="active"&&!me.last_login_at?{status:"never_logged_in",label:"Never Logged In"}:me.status==="suspended"?{status:"suspended",label:"Suspended"}:me.status==="inactive"?{status:"inactive",label:"Inactive"}:{status:me.status,label:me.status},Tt=(me,Be)=>{const kt={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Oa},never_logged_in:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Mt},pending:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Mt},cancelled:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:St},accepted:{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:fs},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Su},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Su}},Kt=kt[me]||kt.pending,_t=Kt.icon;return t.jsxs(je,{variant:"outline",className:Kt.className,children:[t.jsx(_t,{className:"mr-1 h-3 w-3"}),Be||me.charAt(0).toUpperCase()+me.slice(1)]})},Nt=me=>{const Be=Ct(me),kt={...me,display_status:Be.label};de(kt),Ee(!0)};return g?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx(yi,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading organization..."})]})}):o?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:[t.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(cr,{className:"h-8 w-8 text-emerald-500"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:o.name}),t.jsx("p",{className:"text-gray-400",children:"Manage organization settings and team members"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(q,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]}),t.jsx(q,{onClick:be,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700",children:w?t.jsxs(t.Fragment,{children:[t.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]})}),t.jsx(q,{variant:"outline",onClick:()=>r("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),t.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:pO.map((me,Be)=>{const kt=me.icon,Kt=me.id===n,_t=me.id<n;return t.jsxs(ce.Fragment,{children:[t.jsxs("button",{onClick:()=>i(me.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 transition-all ${Kt?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":_t?"bg-gray-800/50 text-gray-300 hover:bg-gray-800":"bg-gray-900/50 text-gray-500 hover:bg-gray-900"}`,children:[t.jsx("div",{className:`rounded-full p-2 ${Kt?"bg-emerald-500/20":_t?"bg-gray-700":"bg-gray-800"}`,children:t.jsx(kt,{className:"h-5 w-5"})}),t.jsx("span",{className:"font-medium",children:me.name})]}),Be<pO.length-1&&t.jsx(io,{className:"h-5 w-5 text-gray-600"})]},me.id)})})]}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-8",children:[n===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Organization Details"}),t.jsx("p",{className:"text-gray-400",children:"Update your organization's basic information"})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"name",className:"text-gray-300",children:"Business Name *"}),t.jsx(_e,{id:"name",value:V.name||"",onChange:me=>U({...V,name:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"e.g., Acme Marketing Agency"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"contact_email",className:"text-gray-300",children:"Business Email *"}),t.jsx(_e,{id:"contact_email",type:"email",value:V.contact_email||"",onChange:me=>U({...V,contact_email:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"contact@acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"country",className:"text-gray-300",children:"Country of Residence *"}),t.jsxs(at,{value:V.country||"",onValueChange:me=>U({...V,country:me}),children:[t.jsx(rt,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select your country"})}),t.jsx(st,{children:ONe.map(me=>t.jsx(se,{value:me.code,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{children:me.flag}),t.jsx("span",{children:me.name})]})},me.code))})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),t.jsx(_e,{id:"phone",type:"tel",value:V.phone||"",onChange:me=>U({...V,phone:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"website",className:"text-gray-300",children:"Website (Optional)"}),t.jsx(_e,{id:"website",type:"url",value:V.website||"",onChange:me=>U({...V,website:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://www.acmemarketing.com"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"industry",className:"text-gray-300",children:"Industry (Optional)"}),t.jsxs(at,{value:V.industry||"",onValueChange:me=>U({...V,industry:me}),children:[t.jsx(rt,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{placeholder:"Select your industry"})}),t.jsx(st,{children:MNe.map(me=>t.jsx(se,{value:me,children:me},me))})]})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"address",className:"text-gray-300",children:"Business Address"}),t.jsx(Ha,{id:"address",value:V.address||"",onChange:me=>U({...V,address:me.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:`123 Main Street, Suite 100
City, State 12345`,rows:3})]}),t.jsxs(ir,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(qt,{className:"h-4 w-4 text-blue-400"}),t.jsx(or,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]}),n===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Members"}),t.jsx("p",{className:"text-gray-400",children:"Manage who has access to your organization"})]}),t.jsxs(q,{onClick:()=>S(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Active Members"}),d.length>0?t.jsx("div",{className:"space-y-3",children:d.map(me=>{const Be=Ct(me);return t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4 cursor-pointer hover:bg-gray-800/70 transition-colors",onClick:()=>Nt(me),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/10",children:t.jsx(ys,{className:"h-5 w-5 text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[me.first_name," ",me.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:me.email}),me.last_login_at&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(me.last_login_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(je,{variant:"outline",className:"border-gray-700 text-gray-400",children:me.role.replace("client_","")}),Tt(Be.status,Be.label)]})]},me.id)})}):t.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-8 text-center",children:[t.jsx(bt,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),t.jsx("p",{className:"text-gray-400",children:"No team members yet. Start by inviting someone!"})]})]}),h.filter(me=>me.status==="pending").length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Pending Invitations"}),t.jsx("div",{className:"space-y-3",children:h.filter(me=>me.status==="pending").map(me=>t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-500/10",children:t.jsx(Oa,{className:"h-5 w-5 text-yellow-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-white",children:[me.first_name," ",me.last_name]}),t.jsx("p",{className:"text-sm text-gray-400",children:me.email}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(me.expires_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>Ge(me.id),className:"text-gray-400 hover:text-white",children:t.jsx(mn,{className:"h-4 w-4"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>Ue(me.id),className:"text-gray-400 hover:text-white",children:t.jsx(Vl,{className:"h-4 w-4"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>oe(me.id),className:"text-red-400 hover:text-red-300",children:t.jsx(Ws,{className:"h-4 w-4"})})]})]},me.id))})]})]}),n===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"VAPI Integration"}),t.jsx("p",{className:"text-gray-400",children:"Configure your VAPI settings for AI calling capabilities"})]}),t.jsx(Wl,{className:"bg-gray-800"}),t.jsxs(ir,{className:"border-emerald-700 bg-emerald-900/20",children:[t.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),t.jsxs(or,{className:"text-emerald-200",children:["VAPI integration enables AI-powered outbound calling. Get your API keys from"," ",t.jsx("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"vapi.ai"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"vapiPrivateKey",className:"text-gray-300",children:"VAPI Private Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(_e,{id:"vapiPrivateKey",type:Z?"text":"password",value:$,onChange:me=>R(me.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Private Key"}),t.jsx("button",{type:"button",onClick:()=>ne(!Z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:Z?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"vapiPublicKey",className:"text-gray-300",children:"VAPI Public Key"}),t.jsxs("div",{className:"relative mt-2",children:[t.jsx(_e,{id:"vapiPublicKey",type:ze?"text":"password",value:F,onChange:me=>z(me.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Public Key"}),t.jsx("button",{type:"button",onClick:()=>Ae(!ze),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:ze?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"vapiWebhookUrl",className:"text-gray-300",children:"Webhook URL"}),t.jsx(_e,{id:"vapiWebhookUrl",value:K,onChange:me=>B(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://api.apexai.com/webhooks/vapi"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:"Enable VAPI Integration"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Allow AI-powered calling for your campaigns"})]}),t.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[t.jsx("input",{type:"checkbox",checked:Q,onChange:me=>Ce(me.target.checked),className:"peer sr-only"}),t.jsx("div",{className:"peer h-6 w-11 rounded-full bg-gray-700 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:bg-white after:transition-all after:content-[''] peer-checked:bg-emerald-500 peer-checked:after:translate-x-full peer-focus:outline-none"})]})]})]}),t.jsxs(ir,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(rd,{className:"h-4 w-4 text-gray-400"}),t.jsx(or,{className:"text-gray-300",children:"Your API keys are encrypted and stored securely. Never share them publicly."})]})]})]})})]}),t.jsx(Cd,{open:C,onOpenChange:S,children:t.jsxs(dc,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Invite Team Member"}),t.jsx(kd,{className:"text-gray-400",children:"Send an invitation to add a new member to your organization"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteFirstName",className:"text-gray-300",children:"First Name"}),t.jsx(_e,{id:"inviteFirstName",value:T,onChange:me=>E(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteLastName",className:"text-gray-300",children:"Last Name"}),t.jsx(_e,{id:"inviteLastName",value:M,onChange:me=>L(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteEmail",className:"text-gray-300",children:"Email Address"}),t.jsx(_e,{id:"inviteEmail",type:"email",value:_,onChange:me=>A(me.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"john.doe@example.com"})]}),t.jsxs("div",{children:[t.jsx(ee,{htmlFor:"inviteRole",className:"text-gray-300",children:"Role"}),t.jsxs(at,{value:H,onValueChange:O,children:[t.jsx(rt,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsx(st,{children:RNe.map(me=>t.jsx(se,{value:me.value,children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:me.label}),t.jsx("p",{className:"text-sm text-gray-400",children:me.description})]})},me.value))})]})]})]}),t.jsxs(wm,{children:[t.jsx(q,{variant:"outline",onClick:()=>S(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsx(q,{onClick:Te,disabled:!_||!T||!M||I,className:"bg-emerald-600 hover:bg-emerald-700",children:I?t.jsxs(t.Fragment,{children:[t.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Vl,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})}),t.jsx(TNe,{user:Re,isOpen:Se,onClose:()=>{Ee(!1),de(null)},onResendInvitation:async me=>{try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${me}/resend-invitation`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify({inviterName:"Admin"})});if(!kt.ok){const _t=await kt.json();throw new Error(_t.error||"Failed to resend invitation")}const Kt=await kt.json();Kt.inviteLink&&Kt.warning?a({title:"Invitation Link Generated",description:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:Kt.message}),t.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-xs break-all",children:Kt.inviteLink}),t.jsx("p",{className:"text-xs text-gray-400",children:Kt.warning}),t.jsxs("div",{className:"mt-3 p-2 bg-blue-900/20 border border-blue-800 rounded text-xs",children:[t.jsx("p",{className:"font-semibold text-blue-400 mb-1",children:"To enable automatic email sending:"}),t.jsx("p",{className:"text-gray-300",children:"1. Get a free Resend API key at resend.com"}),t.jsx("p",{className:"text-gray-300",children:"2. Add to your /apps/backend/.env file:"}),t.jsx("p",{className:"text-gray-300 font-mono bg-gray-800 p-1 rounded mt-1",children:"RESEND_API_KEY=re_your_api_key"}),t.jsx("p",{className:"text-gray-300",children:"3. Restart the backend server"})]})]}),duration:15e3}):a({title:"Success",description:Kt.message}),await te()}catch(Be){console.error("Error resending invitation:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to resend invitation",variant:"destructive"})}},onSuspendUser:async me=>{if(confirm("Are you sure you want to suspend this user? They will lose access to the platform."))try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${me}/suspend`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}},body:JSON.stringify({reason:"Suspended by administrator"})});if(!kt.ok){const Kt=await kt.json();throw new Error(Kt.error||"Failed to suspend user")}a({title:"User Suspended",description:"The user has been suspended and can no longer access the platform."}),await te(),Ee(!1)}catch(Be){console.error("Error suspending user:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to suspend user",variant:"destructive"})}},onActivateUser:async me=>{try{const Be=await s(),kt=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/users/${me}/activate`,{method:"POST",headers:{"Content-Type":"application/json",...Be&&{Authorization:`Bearer ${Be}`}}});if(!kt.ok){const _t=await kt.json();throw new Error(_t.error||"Failed to activate user")}const Kt=await kt.json();a({title:"User Activated",description:Kt.message}),await te(),Ee(!1)}catch(Be){console.error("Error activating user:",Be),a({title:"Error",description:Be instanceof Error?Be.message:"Failed to activate user",variant:"destructive"})}}})]}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsx(J,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Organization not found"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"The organization you're looking for doesn't exist or you don't have access."}),t.jsx(q,{onClick:()=>r("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Back to Organizations"})]})})})})}const DNe=[{month:"Jan",revenue:45e3,mrr:38e3,growth:12},{month:"Feb",revenue:52e3,mrr:41e3,growth:15},{month:"Mar",revenue:48e3,mrr:43e3,growth:8},{month:"Apr",revenue:61e3,mrr:47e3,growth:18},{month:"May",revenue:58e3,mrr:51e3,growth:14},{month:"Jun",revenue:67e3,mrr:56e3,growth:22}],Sh=[{name:"TechCorp Solutions",revenue:12500,calls:8420,leads:342},{name:"Global Fitness Inc",revenue:9800,calls:6230,leads:287},{name:"Healthcare Partners",revenue:8200,calls:5140,leads:198},{name:"Real Estate Pro",revenue:7600,calls:4890,leads:176},{name:"E-commerce Plus",revenue:6400,calls:3920,leads:145}],vu={totalCalls:128450,totalLeads:3847,avgSuccessRate:74.3,activeClients:47,totalAgents:156,avgCallDuration:"3:24"},LNe=[{name:"API Gateway",status:"operational",uptime:99.98,latency:42},{name:"Database",status:"operational",uptime:99.95,latency:18},{name:"AI Processing",status:"operational",uptime:99.92,latency:156},{name:"Voice Services",status:"degraded",uptime:98.76,latency:234},{name:"Analytics Engine",status:"operational",uptime:99.89,latency:67}],$Ne=[{id:1,timestamp:"2024-01-07 14:23:45",service:"Voice API",error:"Connection timeout",severity:"warning"},{id:2,timestamp:"2024-01-07 13:45:12",service:"Database",error:"Slow query detected",severity:"info"},{id:3,timestamp:"2024-01-07 12:18:33",service:"AI Engine",error:"Rate limit exceeded",severity:"error"},{id:4,timestamp:"2024-01-07 11:02:45",service:"Analytics",error:"Data sync delayed",severity:"warning"}];function zNe(){const[e,r]=p.useState("last30days"),[s,a]=p.useState("all"),[n,i]=p.useState("all"),[o,l]=p.useState(!1),{toast:d}=cs(),m=br(),f="admin"==="admin";p.useEffect(()=>{},[f,m,d]);const g=v=>{l(!0),setTimeout(()=>{d({title:"Export Started",description:`Exporting platform analytics as ${v.toUpperCase()}...`}),l(!1)},1e3)},y=v=>{switch(v){case"operational":return"text-emerald-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400";default:return"text-gray-400"}},w=v=>{switch(v){case"error":return"bg-red-600/20 text-red-400 border-red-600/30";case"warning":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";case"info":return"bg-blue-600/20 text-blue-400 border-blue-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}};return t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),t.jsxs(je,{className:"border-red-600/30 bg-red-600/20 text-red-400",children:[t.jsx(e0,{className:"mr-1 h-3 w-3"}),"Admin Only"]})]}),t.jsx("p",{className:"text-gray-400",children:"Comprehensive platform metrics and system health monitoring"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("csv"),disabled:o,children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),t.jsxs(q,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("pdf"),disabled:o,children:[t.jsx(qG,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(Ex,{className:"mr-2 h-5 w-5 text-emerald-500"}),"Data Filters"]})}),t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Date Range"}),t.jsxs(at,{value:e,onValueChange:r,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"last7days",children:"Last 7 Days"}),t.jsx(se,{value:"last30days",children:"Last 30 Days"}),t.jsx(se,{value:"last90days",children:"Last 90 Days"}),t.jsx(se,{value:"thisYear",children:"This Year"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Organization"}),t.jsxs(at,{value:s,onValueChange:a,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-900/50 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Clients"}),Sh.map(v=>t.jsx(se,{value:v.name,children:v.name},v.name))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Campaign Type"}),t.jsxs(at,{value:n,onValueChange:i,children:[t.jsx(rt,{className:"border-gray-700 bg-gray-950/50",children:t.jsx(nt,{})}),t.jsxs(st,{className:"border-gray-700 bg-gray-900",children:[t.jsx(se,{value:"all",children:"All Types"}),t.jsx(se,{value:"outbound",children:"Outbound"}),t.jsx(se,{value:"inbound",children:"Inbound"}),t.jsx(se,{value:"hybrid",children:"Hybrid"})]})]})]})]})})]}),t.jsxs(Ai,{defaultValue:"revenue",className:"space-y-6",children:[t.jsxs(Yn,{className:"grid w-full grid-cols-4 border border-gray-800 bg-gray-900/90",children:[t.jsxs(ht,{value:"revenue",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Revenue Overview"]}),t.jsxs(ht,{value:"usage",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(Us,{className:"mr-2 h-4 w-4"}),"Usage Metrics"]}),t.jsxs(ht,{value:"clients",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(cr,{className:"mr-2 h-4 w-4"}),"Top Clients"]}),t.jsxs(ht,{value:"health",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[t.jsx(r0,{className:"mr-2 h-4 w-4"}),"System Health"]})]}),t.jsxs(ft,{value:"revenue",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$321,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(WM,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+18.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(Fr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"MRR"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$56,000"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"+12.3% growth"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:t.jsx(Ji,{className:"h-5 w-5 text-blue-400"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Revenue/Client"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$6,830"}),t.jsxs("div",{className:"mt-2 flex items-center text-orange-400",children:[t.jsx(bt,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"47 active clients"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:t.jsx(cr,{className:"h-5 w-5 text-emerald-400"})})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Churn Rate"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"2.1%"}),t.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[t.jsx(s0,{className:"mr-1 h-3 w-3"}),t.jsx("p",{className:"text-xs",children:"-0.5% from last month"})]})]}),t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-500/20",children:t.jsx(s0,{className:"h-5 w-5 text-red-400"})})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue & MRR Trends"}),t.jsx(Ht,{className:"text-gray-400",children:"Monthly revenue and recurring revenue"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(My,{data:DNe,children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(bi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(md,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fill:"#10b981",fillOpacity:.3,name:"Total Revenue"}),t.jsx(md,{type:"monotone",dataKey:"mrr",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"MRR"})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue by Client"}),t.jsx(Ht,{className:"text-gray-400",children:"Top 5 revenue generating clients"})]}),t.jsx(X,{children:t.jsx("div",{className:"space-y-4",children:Sh.map((v,b)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-600/20 font-semibold text-emerald-400",children:b+1}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:v.name}),t.jsxs("p",{className:"text-sm text-gray-400",children:[v.calls.toLocaleString()," calls"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",v.revenue.toLocaleString()]}),t.jsxs("p",{className:"text-xs text-emerald-400",children:[(v.revenue/321e3*100).toFixed(1),"% of total"]})]})]},v.name))})})]})]})]}),t.jsxs(ft,{value:"usage",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:vu.totalCalls.toLocaleString()})]}),t.jsx(xt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Leads"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:vu.totalLeads.toLocaleString()})]}),t.jsx(lr,{className:"h-8 w-8 text-blue-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),t.jsxs("p",{className:"mt-1 text-2xl font-bold text-white",children:[vu.avgSuccessRate,"%"]})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:vu.activeClients})]}),t.jsx(cr,{className:"h-8 w-8 text-emerald-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Agents"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:vu.totalAgents})]}),t.jsx(bt,{className:"h-8 w-8 text-orange-400"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:vu.avgCallDuration})]}),t.jsx(Mt,{className:"h-8 w-8 text-yellow-400"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Call Volume by Hour"}),t.jsx(Ht,{className:"text-gray-400",children:"Platform-wide call distribution"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(X2,{data:[{hour:"8AM",calls:1200},{hour:"9AM",calls:2800},{hour:"10AM",calls:3400},{hour:"11AM",calls:3100},{hour:"12PM",calls:2200},{hour:"1PM",calls:2600},{hour:"2PM",calls:3200},{hour:"3PM",calls:3500},{hour:"4PM",calls:2900},{hour:"5PM",calls:1800}],children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"hour",stroke:"#9ca3af"}),t.jsx(bi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(lf,{dataKey:"calls",fill:"#10b981",radius:[8,8,0,0]})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Lead Conversion Funnel"}),t.jsx(Ht,{className:"text-gray-400",children:"Platform-wide conversion metrics"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Calls Made"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"128,450"})]}),t.jsx(xr,{value:100,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Connected"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"95,414 (74.3%)"})]}),t.jsx(xr,{value:74.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Interested"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"28,624 (22.3%)"})]}),t.jsx(xr,{value:22.3,className:"h-3 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Qualified Leads"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"3,847 (3.0%)"})]}),t.jsx(xr,{value:3,className:"h-3 bg-gray-800"})]})]})})]})]})]}),t.jsxs(ft,{value:"clients",className:"space-y-6",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:"Top Performing Clients"}),t.jsx(Ht,{className:"text-gray-400",children:"Ranked by revenue contribution and performance metrics"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"View Charts"]}),t.jsxs(q,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),t.jsx(X,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Rank"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Client Organization"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Revenue"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Call Volume"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Leads Generated"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Conversion Rate"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"})]})}),t.jsx("tbody",{children:Sh.map((v,b)=>t.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg font-semibold ${b===0?"bg-yellow-600/20 text-yellow-400":b===1?"bg-gray-600/20 text-gray-300":b===2?"bg-orange-600/20 text-orange-400":"bg-gray-800 text-gray-400"}`,children:b+1})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:v.name}),t.jsx("p",{className:"text-xs text-gray-400",children:"Active since Jan 2023"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-white",children:["$",v.revenue.toLocaleString()]}),t.jsx("p",{className:"text-xs text-emerald-400",children:"+12% MoM"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:v.calls.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-400",children:"calls/month"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-white",children:v.leads}),t.jsx("p",{className:"text-xs text-gray-400",children:"qualified leads"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xr,{value:v.leads/v.calls*100,className:"h-2 w-16"}),t.jsxs("span",{className:"text-sm text-white",children:[(v.leads/v.calls*100).toFixed(1),"%"]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(je,{className:"border-emerald-600/30 bg-emerald-600/20 text-emerald-400",children:"Active"})})]},v.name))})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue Distribution"}),t.jsx(Ht,{className:"text-gray-400",children:"Client revenue share"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(Q2,{children:[t.jsx(Ey,{data:Sh,cx:"50%",cy:"50%",outerRadius:100,dataKey:"revenue",label:({name:v,value:b})=>`${v}: $${b.toLocaleString()}`,children:Sh.map((v,b)=>t.jsx(Sd,{fill:b===0?"#10b981":b===1?"#3b82f6":b===2?"#8b5cf6":b===3?"#f59e0b":"#ef4444"},`cell-${b}`))}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})})})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Client Growth Trends"}),t.jsx(Ht,{className:"text-gray-400",children:"Monthly client acquisition"})]}),t.jsx(X,{children:t.jsx("div",{className:"h-80",children:t.jsx(Fn,{width:"100%",height:"100%",children:t.jsxs(Cz,{data:[{month:"Jan",clients:32},{month:"Feb",clients:35},{month:"Mar",clients:38},{month:"Apr",clients:42},{month:"May",clients:45},{month:"Jun",clients:47}],children:[t.jsx(Ki,{strokeDasharray:"3 3",stroke:"#374151"}),t.jsx(vi,{dataKey:"month",stroke:"#9ca3af"}),t.jsx(bi,{stroke:"#9ca3af"}),t.jsx(zn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),t.jsx(ex,{type:"monotone",dataKey:"clients",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})})})]})]})]}),t.jsxs(ft,{value:"health",className:"space-y-6",children:[t.jsxs(ir,{className:"border-gray-800 bg-gray-900/90",children:[t.jsx(Yt,{className:"h-4 w-4 text-yellow-400"}),t.jsx(_U,{className:"text-white",children:"System Status"}),t.jsx(or,{className:"text-gray-300",children:"Voice Services experiencing minor degradation. All other systems operational."})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:LNe.map(v=>t.jsx(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:t.jsxs(X,{className:"p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-white",children:v.name}),t.jsx(je,{className:v.status==="operational"?"border-emerald-600/30 bg-emerald-600/20 text-emerald-400":v.status==="degraded"?"border-yellow-600/30 bg-yellow-600/20 text-yellow-400":"border-red-600/30 bg-red-600/20 text-red-400",children:v.status})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Uptime"}),t.jsxs("span",{className:`text-sm font-medium ${y(v.status)}`,children:[v.uptime,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Latency"}),t.jsxs("span",{className:"text-sm font-medium text-white",children:[v.latency,"ms"]})]}),t.jsx(xr,{value:v.uptime,className:"h-2 bg-gray-800"})]})]})},v.name))}),t.jsxs(J,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[t.jsx(pe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(xe,{className:"text-white",children:"Recent Error Logs"}),t.jsx(Ht,{className:"text-gray-400",children:"System errors and warnings"})]}),t.jsxs(q,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[t.jsx(Po,{className:"mr-2 h-4 w-4"}),"View Full Logs"]})]})}),t.jsx(X,{children:t.jsx("div",{className:"space-y-3",children:$Ne.map(v=>t.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-950/50 p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx(je,{className:w(v.severity),children:v.severity}),t.jsx("span",{className:"text-sm text-gray-400",children:v.timestamp})]}),t.jsx("p",{className:"font-medium text-white",children:v.service}),t.jsx("p",{className:"mt-1 text-sm text-gray-300",children:v.error})]}),t.jsx(q,{size:"sm",variant:"ghost",className:"hover:bg-gray-800",children:t.jsx(Ir,{className:"h-4 w-4"})})]})},v.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900/90",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"API Usage Stats"}),t.jsx(Ht,{className:"text-gray-400",children:"Last 24 hours"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(as,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Total API Calls"})]}),t.jsx("span",{className:"font-semibold text-white",children:"2.4M"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(yt,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"text-white",children:"Success Rate"})]}),t.jsx("span",{className:"font-semibold text-white",children:"99.7%"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"h-5 w-5 text-yellow-400"}),t.jsx("span",{className:"text-white",children:"Avg Response Time"})]}),t.jsx("span",{className:"font-semibold text-white",children:"142ms"})]}),t.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Yi,{className:"h-5 w-5 text-red-400"}),t.jsx("span",{className:"text-white",children:"Failed Requests"})]}),t.jsx("span",{className:"font-semibold text-white",children:"7,234"})]})]})})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Database Performance"}),t.jsx(Ht,{className:"text-gray-400",children:"Current metrics"})]}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"CPU Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"42%"})]}),t.jsx(xr,{value:42,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Memory Usage"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"68%"})]}),t.jsx(xr,{value:68,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Storage Used"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"234 GB / 500 GB"})]}),t.jsx(xr,{value:46.8,className:"h-2 bg-gray-800"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-300",children:"Active Connections"}),t.jsx("span",{className:"text-sm font-medium text-white",children:"127 / 200"})]}),t.jsx(xr,{value:63.5,className:"h-2 bg-gray-800"})]})]})})]})]})]})]})]})})}function FNe(){const e=br(),{getToken:r}=wa(),{toast:s}=cs(),[a,n]=p.useState(!0),[i,o]=p.useState([]),[l,d]=p.useState({}),[m,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(["read"]),[v,b]=p.useState("never"),[N,C]=p.useState(""),[S,_]=p.useState(!1);p.useEffect(()=>{A()},[]);const A=async()=>{try{const O=await r(),I=await fetch("/api/user/api-keys",{headers:{Authorization:`Bearer ${O}`}});if(I.ok){const W=await I.json();o(W)}}catch{s({title:"Error",description:"Failed to fetch API keys",variant:"destructive"})}finally{n(!1)}},T=async()=>{if(!f.trim()){s({title:"Error",description:"Please enter a name for the API key",variant:"destructive"});return}h(!0);try{const O=await r(),I=await fetch("/api/user/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({name:f,permissions:y,expiry:v})});if(I.ok){const W=await I.json();C(W.key),_(!0),g(""),w(["read"]),b("never"),A(),s({title:"API Key Created",description:"Your new API key has been generated successfully."})}}catch{s({title:"Error",description:"Failed to create API key",variant:"destructive"})}finally{h(!1)}},E=async O=>{try{const I=await r();(await fetch(`/api/user/api-keys/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`}})).ok&&(A(),s({title:"API Key Revoked",description:"The API key has been revoked successfully."}))}catch{s({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}},M=O=>{navigator.clipboard.writeText(O),s({title:"Copied",description:"API key copied to clipboard"})},L=O=>{switch(O){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},H=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return t.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-400 hover:text-white",children:t.jsx(td,{className:"h-5 w-5"})}),t.jsx("div",{children:t.jsx("p",{className:"text-gray-400",children:"Manage your API keys and access tokens"})})]}),t.jsxs(Cd,{children:[t.jsx(Yje,{asChild:!0,children:t.jsxs(q,{className:"bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create New Key"]})}),t.jsxs(dc,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(uc,{children:[t.jsx(mc,{className:"text-white",children:"Create New API Key"}),t.jsx(kd,{children:"Generate a new API key for accessing the Apex AI platform"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"name",children:"Key Name"}),t.jsx(_e,{id:"name",value:f,onChange:O=>g(O.target.value),placeholder:"e.g., Production App",className:"border-gray-600 bg-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{children:"Permissions"}),t.jsx("div",{className:"space-y-2",children:["read","write","delete"].map(O=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:y.includes(O),onChange:I=>{I.target.checked?w([...y,O]):w(y.filter(W=>W!==O))},className:"rounded border-gray-600 bg-gray-700 text-emerald-600"}),t.jsx("span",{className:"capitalize text-white",children:O})]},O))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"expiry",children:"Expiration"}),t.jsxs(at,{value:v,onValueChange:b,children:[t.jsx(rt,{className:"border-gray-600 bg-gray-700",children:t.jsx(nt,{})}),t.jsxs(st,{children:[t.jsx(se,{value:"never",children:"Never"}),t.jsx(se,{value:"30",children:"30 days"}),t.jsx(se,{value:"60",children:"60 days"}),t.jsx(se,{value:"90",children:"90 days"}),t.jsx(se,{value:"365",children:"1 year"})]})]})]})]}),t.jsx(wm,{children:t.jsx(q,{onClick:T,disabled:m,className:"bg-emerald-600 hover:bg-emerald-700",children:m?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating..."]}):"Create API Key"})})]})]})]}),S&&t.jsxs(ir,{className:"mb-6 border-emerald-700 bg-emerald-900/20",children:[t.jsx(rd,{className:"h-4 w-4"}),t.jsx(or,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-semibold text-white",children:"Your new API key has been created!"}),t.jsx("p",{className:"text-sm text-gray-300",children:"Make sure to copy it now. You won't be able to see it again."}),t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-gray-800 p-2 font-mono text-sm text-white",children:N}),t.jsx(q,{size:"sm",variant:"outline",onClick:()=>M(N),className:"border-gray-600",children:t.jsx(mn,{className:"h-4 w-4"})})]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>_(!1),className:"mt-2",children:"Close"})]})})]}),t.jsxs(Ai,{defaultValue:"active",className:"space-y-6",children:[t.jsxs(Yn,{className:"border-gray-700 bg-gray-800",children:[t.jsx(ht,{value:"active",children:"Active Keys"}),t.jsx(ht,{value:"all",children:"All Keys"}),t.jsx(ht,{value:"usage",children:"Usage Analytics"})]}),t.jsx(ft,{value:"active",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.filter(O=>O.status==="active").map(O=>t.jsx(J,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:O.name}),t.jsx(je,{className:L(O.status),children:O.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_s,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",H(O.createdAt)]})]}),O.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",H(O.lastUsed)]})]}),O.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Yt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Expires ",H(O.expiresAt)]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[O.prefix,"...",l[O.id]?O.key.slice(-8):"••••••••"]}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>d({...l,[O.id]:!l[O.id]}),className:"text-gray-400 hover:text-white",children:l[O.id]?t.jsx(ha,{className:"h-4 w-4"}):t.jsx(Ir,{className:"h-4 w-4"})}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>M(O.key),className:"text-gray-400 hover:text-white",children:t.jsx(mn,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Permissions:"}),O.permissions.map(I=>t.jsx(je,{variant:"secondary",className:"bg-gray-700",children:I},I))]})]}),t.jsxs(Si,{children:[t.jsx(Ci,{asChild:!0,children:t.jsx(q,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:t.jsx(rm,{className:"h-4 w-4"})})}),t.jsxs(Vn,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(Jt,{className:"text-gray-300 hover:text-white",children:[t.jsx(sY,{className:"mr-2 h-4 w-4"}),"Edit Permissions"]}),t.jsxs(Jt,{className:"text-gray-300 hover:text-white",children:[t.jsx(ss,{className:"mr-2 h-4 w-4"}),"Regenerate Key"]}),t.jsxs(Jt,{className:"text-red-400 hover:text-red-300",onClick:()=>E(O.id),children:[t.jsx(Ws,{className:"mr-2 h-4 w-4"}),"Revoke Key"]})]})]})]})})},O.id))}),t.jsx(ft,{value:"all",className:"space-y-4",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.map(O=>t.jsx(J,{className:"border-gray-700 bg-gray-800",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:O.name}),t.jsx(je,{className:L(O.status),children:O.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_s,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",H(O.createdAt)]})]}),O.lastUsed&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Last used ",H(O.lastUsed)]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[O.prefix,"...••••••••"]})})]}),O.status==="active"&&t.jsx(q,{variant:"outline",size:"sm",onClick:()=>E(O.id),className:"border-red-600 text-red-400 hover:bg-red-600/20",children:"Revoke"})]})})},O.id))}),t.jsx(ft,{value:"usage",className:"space-y-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"API Usage Overview"}),t.jsx(Ht,{children:"Monitor your API key usage and performance"})]}),t.jsxs(X,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"24,567"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Total API Calls"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:"98.5%"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Success Rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-3xl font-bold text-white",children:"145ms"}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Avg Response Time"})]})]}),t.jsx(Wl,{className:"my-6 bg-gray-700"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-white",children:"Usage by Key"}),i.filter(O=>O.status==="active").map(O=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rd,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-white",children:O.name})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[O.usage.calls," calls"]}),t.jsx(Us,{className:"h-4 w-4 text-emerald-400"})]})]},O.id))]}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsxs(q,{variant:"outline",className:"border-gray-600",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Export Usage Report"]})})]})]})})]}),t.jsxs(J,{className:"mt-6 border-gray-700 bg-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center gap-2 text-white",children:[t.jsx(gs,{className:"h-5 w-5 text-emerald-400"}),"API Key Best Practices"]})}),t.jsx(X,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Never share your API keys publicly or commit them to version control"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use environment variables to store API keys in your applications"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Rotate your API keys regularly and revoke unused keys"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Use different keys for different environments (development, staging, production)"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),t.jsx("span",{children:"Monitor API key usage and set up alerts for unusual activity"})]})]})})]})]})})}const UNe=()=>{const{isLoaded:e,isSignedIn:r,user:s}=wa();return t.jsxs("div",{className:"p-8 bg-gray-900 text-white min-h-screen",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:["Dev Mode: ","Disabled"]}),t.jsxs("p",{children:["Auth Loaded: ",e?"Yes":"No"]}),t.jsxs("p",{children:["Signed In: ",r?"Yes":"No"]}),t.jsxs("p",{children:["User: ",s?JSON.stringify(s,null,2):"None"]}),t.jsxs("p",{children:["Backend URL: ","Not set"]})]})]})},BNe={error:(e,r)=>{},warn:(e,r)=>{},info:(e,r)=>{}},WNe=e=>{if(!e.response)return!0;const r=e.response.status;return r>=500||r===429},VNe=e=>new Promise(r=>setTimeout(r,e));async function gO(e,r){var o,l,d,m,h,f,g;const{maxRetries:s=3,showErrorToast:a=!0,retryDelay:n=1e3}={};let i=null;for(let y=0;y<=s;y++)try{return{ok:!0,data:(await Zr(e)).data}}catch(w){const v=w;if(i=v,BNe.error(`API request failed (attempt ${y+1}/${s+1})`,{url:e.url,method:e.method,status:(o=v.response)==null?void 0:o.status,error:v.message}),y<s&&WNe(v)){const N=n*Math.pow(2,y);await VNe(N);continue}const b={message:((d=(l=v.response)==null?void 0:l.data)==null?void 0:d.message)||v.message||"An unexpected error occurred",status:(m=v.response)==null?void 0:m.status,code:v.code,details:(h=v.response)==null?void 0:h.data};return a&&pD({title:"Error",description:b.message,variant:"destructive"}),{ok:!1,error:b}}return{ok:!1,error:{message:(i==null?void 0:i.message)||"Maximum retries exceeded",status:(f=i==null?void 0:i.response)==null?void 0:f.status,code:i==null?void 0:i.code,details:(g=i==null?void 0:i.response)==null?void 0:g.data}}}class qNe{constructor(){ci(this,"baseUrl","/api/leads")}async getLeads(r,s={},a=1,n=50){var i;try{const o=new URLSearchParams({page:a.toString(),limit:n.toString()});r&&o.append("clientId",r),(i=s.status)!=null&&i.length&&o.append("status",s.status.join(",")),s.search&&o.append("search",s.search);const l=await fetch(`${this.baseUrl}?${o}`);if(!l.ok)throw new Error(`Failed to fetch leads: ${l.statusText}`);return await l.json()}catch(o){throw console.error("Error fetching leads:",o),o}}async getLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead:",a),a}}async createLead(r,s){try{const a={...r,clientId:s},n=await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error creating lead:",a),a}}async updateLead(r,s,a){try{const n={...s,clientId:a},i=await fetch(`${this.baseUrl}/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to update lead: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error updating lead:",n),n}}async deleteLead(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}?${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete lead: ${n.statusText}`)}catch(a){throw console.error("Error deleting lead:",a),a}}async bulkUpdateLeads(r,s,a){try{const n={leadIds:r,updates:s,clientId:a},i=await fetch(`${this.baseUrl}/bulk-update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to bulk update leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error bulk updating leads:",n),n}}async getLeadStats(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/stats?${s}`);if(!a.ok)throw new Error(`Failed to fetch lead stats: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching lead stats:",s),s}}async getCampaignPerformance(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns/performance?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaign performance: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaign performance:",s),s}}async importLeads(r,s,a,n={}){try{const i=new FormData;i.append("file",r),s&&i.append("campaignId",s),a&&i.append("clientId",a),n.skipDuplicates&&i.append("skipDuplicates","true"),n.updateExisting&&i.append("updateExisting","true"),n.campaignType&&i.append("campaignType",n.campaignType);const o=await fetch(`${this.baseUrl}/import`,{method:"POST",body:i});if(!o.ok)throw new Error(`Failed to import leads: ${o.statusText}`);return await o.json()}catch(i){throw console.error("Error importing leads:",i),i}}async exportLeads(r,s={}){try{const a=new URLSearchParams;r&&a.append("clientId",r),Object.entries(s).forEach(([i,o])=>{o!=null&&(Array.isArray(o)?a.append(i,o.join(",")):typeof o=="object"&&"start"in o?(a.append("startDate",o.start),a.append("endDate",o.end)):a.append(i,o.toString()))});const n=await fetch(`${this.baseUrl}/export?${a}`);if(!n.ok)throw new Error(`Failed to export leads: ${n.statusText}`);return await n.blob()}catch(a){throw console.error("Error exporting leads:",a),a}}async downloadTemplate(){try{const r=await fetch(`${this.baseUrl}/template`);if(!r.ok)throw new Error(`Failed to download template: ${r.statusText}`);return await r.blob()}catch(r){throw console.error("Error downloading template:",r),r}}async getCallHistory(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/calls?${a}`);if(!n.ok)throw new Error(`Failed to fetch call history: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching call history:",a),a}}async addCallRecord(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/calls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add call record: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding call record:",a),a}}async getActivities(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/activities?${a}`);if(!n.ok)throw new Error(`Failed to fetch activities: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching activities:",a),a}}async addActivity(r,s){try{const a={...r,clientId:s},n=await fetch(`${this.baseUrl}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add activity: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding activity:",a),a}}async calculateLeadScore(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/score?${a}`,{method:"POST"});if(!n.ok)throw new Error(`Failed to calculate lead score: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error calculating lead score:",a),a}}async getLeadInsights(r,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${r}/insights?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead insights: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead insights:",a),a}}async searchLeads(r,s,a=20){try{const n=new URLSearchParams({search:r,limit:a.toString()});s&&n.append("clientId",s);const i=await fetch(`${this.baseUrl}/search?${n}`);if(!i.ok)throw new Error(`Failed to search leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error searching leads:",n),n}}async getCampaigns(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/campaigns?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaigns: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaigns:",s),s}}async getSources(r){try{const s=new URLSearchParams;r&&s.append("clientId",r);const a=await fetch(`${this.baseUrl}/sources?${s}`);if(!a.ok)throw new Error(`Failed to fetch sources: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching sources:",s),s}}}const oS=new qNe;class HNe{async getCallDetails(r){const a=await gO({method:"GET",url:`https://apex-backend-august-production.up.railway.app/api/api/vapi-outbound/calls/${r}`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch call details");if(!a.data.call)throw new Error("Call not found");return a.data.call}async getCampaignCalls(r){const a=await gO({method:"GET",url:`https://apex-backend-august-production.up.railway.app/api/api/vapi-outbound/campaigns/${r}/calls`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch campaign calls");return a.data}getStatusInfo(r){return{initiated:{label:"Initiated",color:"blue",icon:"🔄"},ringing:{label:"Ringing",color:"yellow",icon:"📞"},answered:{label:"Answered",color:"green",icon:"✅"},completed:{label:"Completed",color:"emerald",icon:"✅"},failed:{label:"Failed",color:"red",icon:"❌"},busy:{label:"Busy",color:"orange",icon:"📵"},no_answer:{label:"No Answer",color:"gray",icon:"📭"}}[r]||{label:r,color:"gray",icon:"❓"}}formatDuration(r){if(!r||r===0)return"0s";if(r<60)return`${Math.round(r)}s`;if(r<3600){const s=Math.floor(r/60),a=Math.round(r%60);return`${s}m ${a}s`}else{const s=Math.floor(r/3600),a=Math.floor(r%3600/60);return`${s}h ${a}m`}}formatCost(r){return!r||r===0?"$0.00":`$${r.toFixed(3)}`}isPositiveOutcome(r,s){const a=["interested","scheduled","follow-up","demo","meeting","callback","positive","qualified","hot","warm","opportunity","conversion","wants","needs","looking for","considering","evaluating"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))}extractSentiment(r,s){if(this.isPositiveOutcome(r,s))return"positive";const a=["not interested","declined","refused","busy","no thank you","unqualified"],n=(r+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))?"negative":"neutral"}async createLeadFromCall(r){try{if(!this.isPositiveOutcome(r.summary||"",r.transcript))return console.log("Call outcome not positive, skipping lead creation"),null;const[s,a]=this.extractNameFromCall(r),n={firstName:s||"Unknown",lastName:a||"Contact",email:r.customerEmail||"",phone:r.customerPhone,company:r.customerCompany||"",title:"",status:"new",priority:this.determinePriority(r),source:"vapi_outbound_call",campaign:r.campaignName,notes:this.generateLeadNotes(r),tags:["ai-generated","positive-call"],score:this.calculateLeadScore(r),lastContactDate:r.startedAt,nextFollowUp:this.suggestNextFollowUp(r),customFields:{originalCallId:r.id,vapiCallId:r.vapiCallId,callOutcome:r.summary,callDuration:r.duration,callCost:r.cost,sentiment:this.extractSentiment(r.summary||"",r.transcript)}};console.log("Creating lead from positive call:",n);const i=await oS.createLead(n);return await oS.addCallRecord({leadId:i.id,date:r.startedAt,duration:this.formatDuration(r.duration),outcome:r.summary||"Positive outcome",transcript:r.transcript||"",sentiment:this.extractSentiment(r.summary||"",r.transcript),recordingUrl:r.recording,nextAction:this.suggestNextAction(r)}),i}catch(s){return console.error("Error creating lead from call:",s),null}}extractNameFromCall(r){if(r.customerName){const s=r.customerName.split(" ");return[s[0]||"",s.slice(1).join(" ")||""]}return["",""]}determinePriority(r){const s=(r.summary||"").toLowerCase();return s.includes("hot")||s.includes("urgent")||s.includes("asap")?"high":s.includes("warm")||s.includes("scheduled")||s.includes("demo")?"medium":"low"}generateLeadNotes(r){let s=`Lead generated from AI call on ${new Date(r.startedAt).toLocaleDateString()}.

`;return r.summary&&(s+=`Call Summary: ${r.summary}

`),s+=`Call Duration: ${this.formatDuration(r.duration)}
`,s+=`Call Cost: ${this.formatCost(r.cost)}
`,r.customerCompany&&(s+=`Company: ${r.customerCompany}
`),r.transcript&&(s+=`
Call Transcript:
${r.transcript.substring(0,500)}${r.transcript.length>500?"...":""}`),s}calculateLeadScore(r){let s=50;const a=(r.summary||"").toLowerCase();return a.includes("very interested")?s+=30:a.includes("interested")&&(s+=20),(a.includes("scheduled")||a.includes("demo"))&&(s+=25),a.includes("follow-up")&&(s+=15),a.includes("qualified")&&(s+=20),r.duration&&r.duration>120&&(s+=10),r.duration&&r.duration>300&&(s+=15),r.customerCompany&&(s+=10),Math.min(100,Math.max(0,s))}suggestNextFollowUp(r){const s=(r.summary||"").toLowerCase();let a=7;s.includes("urgent")||s.includes("asap")?a=1:s.includes("hot")||s.includes("very interested")?a=2:s.includes("scheduled")||s.includes("demo")?a=0:(s.includes("warm")||s.includes("considering"))&&(a=5);const n=new Date;return n.setDate(n.getDate()+a),n.toISOString()}suggestNextAction(r){const s=(r.summary||"").toLowerCase();return s.includes("demo")||s.includes("presentation")?"Prepare and conduct product demo":s.includes("proposal")||s.includes("quote")?"Send detailed proposal and pricing":s.includes("email")||s.includes("information")?"Send follow-up email with additional information":s.includes("meeting")||s.includes("call back")?"Schedule follow-up meeting":s.includes("decision maker")||s.includes("manager")?"Contact decision maker or manager":"Follow up with personalized outreach based on call discussion"}}const jo=new HNe;function KNe(){const{callId:e}=uf(),r=br(),{toast:s}=cs(),[a,n]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(!1),[m,h]=p.useState(null),[f,g]=p.useState(!1),[y,w]=p.useState(0),[v,b]=p.useState(1),N=p.useRef(null);p.useEffect(()=>{e&&A()},[e]),p.useEffect(()=>{if(N.current){const I=()=>{N.current&&w(Math.floor(N.current.currentTime))};return N.current.addEventListener("timeupdate",I),()=>{N.current&&N.current.removeEventListener("timeupdate",I)}}},[]);const C=I=>{const W=Math.floor(I/60),V=I%60;return`${String(W).padStart(2,"0")}:${String(V).padStart(2,"0")}`},S=async()=>{if(N.current)try{l?(N.current.pause(),d(!1)):(await N.current.play(),d(!0))}catch(I){console.error("Playback error:",I),a!=null&&a.recording&&a.recording.includes("vapi.ai")&&window.open(a.recording,"_blank")}},_=I=>{b(I),N.current&&(N.current.playbackRate=I)},A=async()=>{try{o(!0);const I=await jo.getCallDetails(e);if(!I){s({title:"Error",description:"Call details not found",variant:"destructive"}),r(-1);return}n(I);const W=I;jo.isPositiveOutcome(W.summary||"",W.transcript)&&await T(W)}catch(I){console.error("Failed to load call details:",I),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}finally{o(!1)}},T=async I=>{try{g(!0),console.log("🔍 Checking/creating lead for call:",{callId:I.id,customerPhone:I.customerPhone,customerName:I.customerName,summary:I.summary});const W=await oS.searchLeads(I.customerPhone);console.log("🔍 Found existing leads:",W.length);const V=W.find($=>{var R,F;return((R=$.customFields)==null?void 0:R.originalCallId)===I.id||((F=$.customFields)==null?void 0:F.vapiCallId)===I.vapiCallId});if(V){h(V),console.log("✅ Lead already exists for this call:",V);return}console.log("📝 Creating new lead from call...");const U=await jo.createLeadFromCall(I);U?(h(U),console.log("✅ Lead created successfully:",U),s({title:"Lead Created",description:`New lead "${U.firstName} ${U.lastName}" added to CRM`})):console.log("⚠️ Lead creation returned null")}catch(W){console.error("❌ Error checking/creating lead:",W)}finally{g(!1)}},E=async()=>{if(a!=null&&a.vapiCallId)try{o(!0);const I=await Ft.post(`/sync-vapi-call/${a.vapiCallId}`);I.data.success&&(s({title:"Call Synced",description:"Call data has been updated from VAPI"}),await A(),I.data.aiProcessing&&s({title:"AI Processing Started",description:"Call is being analyzed by AI"}))}catch(I){console.error("Error syncing call:",I),s({title:"Sync Failed",description:"Failed to sync call data from VAPI",variant:"destructive"})}finally{o(!1)}},M=async()=>{if(a)try{g(!0);const I=await jo.createLeadFromCall(a);I&&(h(I),s({title:"Lead Created",description:`Lead "${I.firstName} ${I.lastName}" added to CRM`}))}catch(I){console.error("Error creating lead manually:",I),s({title:"Error",description:"Failed to create lead in CRM",variant:"destructive"})}finally{g(!1)}},L=async(I,W)=>{try{await navigator.clipboard.writeText(I),s({title:"Copied",description:`${W} copied to clipboard`})}catch{s({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}},H=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading call details..."})]})});if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"mb-4 text-gray-400",children:"Call not found"}),t.jsxs(q,{onClick:()=>r(-1),variant:"outline",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})});const O=jo.getStatusInfo(a.status);return t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(q,{onClick:()=>r(-1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[t.jsx(td,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Call Details"}),t.jsx("p",{className:"text-gray-400",children:"View call transcript, recording, and results"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(je,{className:`px-3 py-1 ${O.color==="green"||O.color==="emerald"?"bg-emerald-500/20 text-emerald-400":O.color==="red"?"bg-red-500/20 text-red-400":O.color==="yellow"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:[O.icon," ",O.label]}),(a.status==="in_progress"||a.status==="ringing"||!a.transcript)&&t.jsxs(q,{onClick:E,size:"sm",variant:"outline",disabled:i||!a.vapiCallId,className:"border-gray-600",children:[t.jsx(ss,{className:`mr-2 h-4 w-4 ${i?"animate-spin":""}`}),"Sync from VAPI"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(ys,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Customer Information"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Name:"}),t.jsx("span",{className:"font-medium text-white",children:a.customerName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Phone:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-white",children:a.customerPhone}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>L(a.customerPhone,"Phone number"),children:t.jsx(mn,{className:"h-3 w-3"})})]})]}),a.customerEmail&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Email:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-white",children:a.customerEmail}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>L(a.customerEmail,"Email"),children:t.jsx(mn,{className:"h-3 w-3"})})]})]}),a.customerCompany&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Company:"}),t.jsx("span",{className:"text-white",children:a.customerCompany})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(xt,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Information"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Campaign:"}),t.jsx("span",{className:"font-medium text-white",children:a.campaignName})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Started:"}),t.jsx("span",{className:"text-white",children:H(a.startedAt)})]}),a.endedAt&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Ended:"}),t.jsx("span",{className:"text-white",children:H(a.endedAt)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Duration:"}),t.jsx("span",{className:"font-mono text-white",children:jo.formatDuration(a.duration)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Direction:"}),t.jsx("span",{className:"capitalize text-white",children:a.direction})]})]})]}),t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(Fr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Metrics"]})}),t.jsxs(X,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Cost:"}),t.jsx("span",{className:"font-bold text-emerald-400",children:jo.formatCost(a.cost)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"VAPI Call ID:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono text-xs text-white",children:a.vapiCallId?`${a.vapiCallId.substring(0,8)}...`:"N/A"}),t.jsx(q,{size:"sm",variant:"ghost",onClick:()=>a.vapiCallId&&L(a.vapiCallId,"VAPI Call ID"),disabled:!a.vapiCallId,children:t.jsx(mn,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Transcript:"}),t.jsx("span",{className:a.transcript?"text-emerald-400":"text-gray-500",children:a.transcript?"Yes":"No"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Has Recording:"}),t.jsx("span",{className:a.recording?"text-emerald-400":"text-gray-500",children:a.recording?"Yes":"No"})]})]})]})]}),a&&t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(cr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"CRM Integration"]})}),t.jsxs(X,{className:"space-y-4",children:[jo.isPositiveOutcome(a.summary||"",a.transcript)&&t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tm,{className:"h-5 w-5 text-emerald-400"}),t.jsx("span",{className:"font-medium text-emerald-400",children:"Positive Outcome Detected"})]}),t.jsx(je,{className:"bg-emerald-500/20 text-emerald-400",children:"Lead Eligible"})]}),m?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-blue-500/30 bg-blue-500/10 p-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-blue-400",children:"Lead Created in CRM"}),t.jsxs("p",{className:"text-sm text-gray-300",children:[m.firstName," ",m.lastName," - ",m.company]})]}),t.jsx(q,{size:"sm",variant:"outline",onClick:()=>window.open(`/crm/leads/${m.id}`,"_blank"),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:"View in CRM"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Status:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.status})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Priority:"}),t.jsx("p",{className:"font-medium capitalize text-white",children:m.priority})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Score:"}),t.jsx("p",{className:"font-medium text-white",children:m.score||"N/A"})]})]})]}):jo.isPositiveOutcome(a.summary||"",a.transcript)?t.jsxs("div",{className:"py-4 text-center",children:[t.jsx(q,{onClick:M,disabled:f,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating Lead..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Lead in CRM"]})}),t.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Automatically creates a new lead with call details"})]}):t.jsxs("div",{className:"py-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[t.jsx(St,{className:"h-4 w-4"}),t.jsx("span",{children:"No positive outcome detected"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lead creation is triggered for positive call outcomes"})]})]})]}),t.jsxs(Ai,{defaultValue:"transcript",className:"w-full",children:[t.jsxs(Yn,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[t.jsxs(ht,{value:"transcript",className:"flex items-center space-x-2",children:[t.jsx(Po,{className:"h-4 w-4"}),t.jsx("span",{children:"Transcript"})]}),t.jsxs(ht,{value:"recording",className:"flex items-center space-x-2",children:[t.jsx(Wh,{className:"h-4 w-4"}),t.jsx("span",{children:"Recording"})]}),t.jsxs(ht,{value:"summary",className:"flex items-center space-x-2",children:[t.jsx(Po,{className:"h-4 w-4"}),t.jsx("span",{children:"Summary"})]})]}),t.jsx(ft,{value:"transcript",className:"mt-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Call Transcript"})}),t.jsx(X,{children:a.transcript?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative rounded-lg border border-gray-700 bg-gray-900/50",children:[t.jsxs("div",{className:"max-h-[500px] overflow-y-auto p-6",children:[t.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-300",children:a.transcript}),t.jsx("div",{className:"pb-4"})," "]}),t.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-900/80 to-transparent"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-400",children:[a.transcript.split(`
`).length," lines • ",a.transcript.split(" ").length," words"]}),t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>L(a.transcript,"Transcript"),children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Copy Transcript"]})]})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Po,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Transcripts are generated automatically for completed calls"})]})})]})}),t.jsx(ft,{value:"recording",className:"mt-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Call Recording"})}),t.jsx(X,{children:a.recording?t.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),t.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:t.jsx("span",{className:"font-mono text-sm text-gray-300",children:C(a.duration||0)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-end gap-3",children:t.jsxs("select",{value:v,onChange:I=>_(Number(I.target.value)),className:"rounded-lg border border-gray-600/50 bg-gray-800/50 px-2 py-1 text-xs text-white transition-all focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/50",children:[t.jsx("option",{value:.5,children:"0.5x"}),t.jsx("option",{value:1,children:"1.0x"}),t.jsx("option",{value:1.5,children:"1.5x"}),t.jsx("option",{value:2,children:"2.0x"})]})}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{onClick:S,className:"group relative flex-shrink-0",children:t.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:l?t.jsx(Lu,{className:"h-5 w-5 text-white",strokeWidth:2}):t.jsx(Un,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4",children:[t.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5",children:Array.from({length:100}).map((I,W)=>{const V=20+Math.random()*80,U=W/100*(a.duration||0)<=y;return t.jsx("div",{className:"flex-1 rounded-t bg-gray-600 transition-all duration-150",style:{height:`${V}%`,backgroundColor:U?"#10b981":"#4b5563",opacity:U?1:.5}},W)})}),t.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50",style:{left:`${y/(a.duration||1)*100}%`}})]}),t.jsxs("button",{onClick:()=>{if(a.recording)if(a.recording.includes("vapi.ai"))window.open(a.recording,"_blank");else{const I=document.createElement("a");I.href=a.recording,I.download=`call-recording-${a.id}.wav`,document.body.appendChild(I),I.click(),document.body.removeChild(I)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[t.jsx(Wn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),t.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-mono text-gray-400",children:C(y)}),t.jsxs("span",{className:"font-mono text-gray-500",children:["-",C((a.duration||0)-y)]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-700/50",children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-100",style:{width:`${y/(a.duration||1)*100}%`}})}),t.jsx("div",{className:"absolute top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg transition-all duration-100",style:{left:`${y/(a.duration||1)*100}%`,boxShadow:"0 0 0 3px rgba(34, 197, 94, 0.2)"}})]})]})]})]}),t.jsx("audio",{ref:N,src:a.recording,onEnded:()=>d(!1),className:"hidden"})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Wh,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No recording available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Recordings are generated automatically for answered calls"})]})})]})}),t.jsx(ft,{value:"summary",className:"mt-6",children:t.jsxs(J,{className:"border-gray-700 bg-gray-800/50",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Call Summary"})}),t.jsx(X,{children:a.summary?t.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[t.jsx("div",{className:"leading-relaxed text-gray-300",children:a.summary}),t.jsx("div",{className:"mt-4 flex space-x-2",children:t.jsxs(q,{size:"sm",variant:"outline",onClick:()=>L(a.summary,"Summary"),children:[t.jsx(mn,{className:"mr-2 h-4 w-4"}),"Copy Summary"]})})]}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Po,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"No summary available for this call"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"AI summaries are generated for completed calls with transcripts"})]})})]})})]})]})})}const GNe=()=>{const{campaignId:e}=uf(),r=br(),{toast:s}=cs(),[a,n]=p.useState([]),[i,o]=p.useState(null),[l,d]=p.useState({page:1,limit:20,total:0,totalPages:0}),[m,h]=p.useState(!0),[f,g]=p.useState(""),[y,w]=p.useState("all"),[v,b]=p.useState("started_at"),[N,C]=p.useState("desc"),[S,_]=p.useState(null),[A,T]=p.useState(!1);p.useEffect(()=>{e&&E()},[e,l.page,f,y,v,N]);const E=async()=>{try{h(!0);const W=new URLSearchParams({page:l.page.toString(),limit:l.limit.toString(),sortBy:v,sortOrder:N,...y!=="all"&&{status:y},...f&&{search:f}}),V=await fetch(`/api/vapi-outbound/campaigns/${e}/calls?${W}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error("Failed to fetch campaign calls");const U=await V.json();n(U.calls),o(U.campaign),d(U.pagination)}catch(W){console.error("Error loading campaign calls:",W),s({title:"Error",description:"Failed to load campaign calls",variant:"destructive"})}finally{h(!1)}},M=W=>{switch(W){case"completed":return t.jsx(yt,{className:"h-4 w-4 text-green-500"});case"failed":return t.jsx(Yi,{className:"h-4 w-4 text-red-500"});case"in-progress":return null;default:return t.jsx(Yt,{className:"h-4 w-4 text-gray-500"})}},L=W=>{switch(W){case"positive":return t.jsx(Bs,{className:"h-4 w-4 text-green-500"});case"negative":return t.jsx(s0,{className:"h-4 w-4 text-red-500"});default:return t.jsx(Oo,{className:"h-4 w-4 text-gray-500"})}},H=W=>{const V=Math.floor(W/60),U=W%60;return`${V}:${U.toString().padStart(2,"0")}`},O=W=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(W),I=({call:W,isOpen:V,onClose:U})=>V?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:t.jsxs("div",{className:"mx-4 max-h-[90vh] w-full max-w-4xl overflow-hidden rounded-lg border border-gray-800 bg-gray-900 shadow-xl",children:[t.jsx("div",{className:"border-b border-gray-800 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Call Transcript"}),t.jsxs("p",{className:"text-sm text-gray-400",children:[W.customerName," •"," ",h0(new Date(W.startedAt),{addSuffix:!0})]})]}),t.jsx(q,{variant:"ghost",onClick:U,className:"text-gray-400 hover:text-white",children:t.jsx(Yi,{className:"h-5 w-5"})})]})}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:W.formattedTranscript&&W.formattedTranscript.length>0?t.jsx("div",{className:"space-y-4",children:W.formattedTranscript.map(($,R)=>t.jsxs("div",{className:`rounded-lg p-4 ${$.speaker==="customer"?"border-l-4 border-blue-500 bg-blue-900/20":"border-l-4 border-gray-600 bg-gray-800/50"}`,children:[t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[$.speaker==="customer"?t.jsx(ys,{className:"h-4 w-4 text-blue-400"}):t.jsx(Gi,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm font-medium capitalize text-gray-300",children:$.speaker==="customer"?"Customer":"Assistant"}),$.timestamp&&t.jsx("span",{className:"text-xs text-gray-500",children:new Date($.timestamp).toLocaleTimeString()})]}),t.jsx("p",{className:"leading-relaxed text-gray-100",children:$.text})]},R))}):t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(Qi,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"})]})})]})}):null;return m?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:t.jsx(ss,{className:"h-8 w-8 animate-spin text-emerald-500"})}):t.jsx("div",{className:"min-h-screen bg-black",children:t.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(q,{variant:"ghost",onClick:()=>r("/dashboard"),className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[t.jsx(td,{className:"h-4 w-4"}),"Back to Dashboard"]}),t.jsx("div",{className:"h-6 w-px bg-gray-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campaign Calls"}),t.jsx("p",{className:"text-gray-400",children:i==null?void 0:i.name})]})]}),t.jsxs(q,{onClick:E,className:"flex items-center gap-2 bg-emerald-600 text-white hover:bg-emerald-700",disabled:m,children:[t.jsx(ss,{className:`h-4 w-4 ${m?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:l.total})]}),t.jsx(xt,{className:"h-8 w-8 text-blue-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:a.filter(W=>W.status==="completed").length})]}),t.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Cost"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:O(a.reduce((W,V)=>W+V.cost,0))})]}),t.jsx(Fr,{className:"h-8 w-8 text-purple-500"})]})})}),t.jsx(J,{className:"border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:H(a.reduce((W,V)=>W+V.duration,0)/a.length||0)})]})})})})]}),t.jsx(J,{className:"mb-6 border-gray-800 bg-gray-900",children:t.jsx(X,{className:"p-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qa,{className:"h-4 w-4 text-gray-400"}),t.jsx(_e,{placeholder:"Search calls...",value:f,onChange:W=>g(W.target.value),className:"w-64 border-gray-700 bg-gray-800 text-white"})]}),t.jsxs(at,{value:y,onValueChange:w,children:[t.jsx(rt,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Status"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"all",children:"All Status"}),t.jsx(se,{value:"completed",children:"Completed"}),t.jsx(se,{value:"failed",children:"Failed"}),t.jsx(se,{value:"in-progress",children:"In Progress"})]})]}),t.jsxs(at,{value:v,onValueChange:b,children:[t.jsx(rt,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:t.jsx(nt,{placeholder:"Sort by"})}),t.jsxs(st,{className:"border-gray-700 bg-gray-800",children:[t.jsx(se,{value:"started_at",children:"Date"}),t.jsx(se,{value:"duration",children:"Duration"}),t.jsx(se,{value:"cost",children:"Cost"})]})]}),t.jsxs(q,{variant:"outline",onClick:()=>C(N==="asc"?"desc":"asc"),className:"flex items-center gap-2 border-gray-700 text-gray-300 hover:bg-gray-800",children:[N==="asc"?"↑":"↓"," ",N.toUpperCase()]})]})})}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-xl font-semibold text-white",children:"Campaign Calls"})}),t.jsxs(X,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(vk,{children:[t.jsx(bk,{children:t.jsxs(df,{className:"border-gray-800",children:[t.jsx(fa,{className:"text-gray-400",children:"Customer"}),t.jsx(fa,{className:"text-gray-400",children:"Phone"}),t.jsx(fa,{className:"text-gray-400",children:"Status"}),t.jsx(fa,{className:"text-gray-400",children:"Duration"}),t.jsx(fa,{className:"text-gray-400",children:"Cost"}),t.jsx(fa,{className:"text-gray-400",children:"Sentiment"}),t.jsx(fa,{className:"text-gray-400",children:"Date"}),t.jsx(fa,{className:"text-gray-400",children:"Actions"})]})}),t.jsx(wk,{children:a.map(W=>t.jsxs(df,{className:"border-gray-800 hover:bg-gray-800/50",children:[t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-800",children:t.jsx(ys,{className:"h-4 w-4 text-gray-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:W.customerName}),W.customerEmail&&t.jsx("p",{className:"text-sm text-gray-400",children:W.customerEmail})]})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:W.customerPhone})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[M(W.status),t.jsx(je,{variant:W.status==="completed"?"default":"secondary",className:"bg-gray-800 text-white",children:W.status})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-white",children:H(W.duration)})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-white",children:O(W.cost)})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[L(W.sentiment),t.jsx("span",{className:"text-sm capitalize text-white",children:W.sentiment})]})}),t.jsx(pa,{children:t.jsx("span",{className:"text-sm text-gray-300",children:h0(new Date(W.startedAt),{addSuffix:!0})})}),t.jsx(pa,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[W.hasTranscript&&t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{_(W),T(!0)},className:"text-gray-400 hover:text-white",children:t.jsx(Qi,{className:"h-4 w-4"})}),W.hasRecording&&t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>window.open(W.recording,"_blank"),className:"text-gray-400 hover:text-white",children:t.jsx(Un,{className:"h-4 w-4"})}),t.jsx(q,{variant:"ghost",size:"sm",onClick:()=>r(`/calls/${W.id}`),className:"text-gray-400 hover:text-white",children:t.jsx(Ir,{className:"h-4 w-4"})})]})})]},W.id))})]})}),a.length===0&&t.jsxs("div",{className:"py-8 text-center",children:[t.jsx(xt,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),t.jsx("p",{className:"text-gray-400",children:"No calls found for this campaign"})]})]})]}),l.totalPages>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of ",l.total," ","calls"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{variant:"outline",onClick:()=>d(W=>({...W,page:W.page-1})),disabled:l.page===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[t.jsx(ec,{className:"h-4 w-4"}),"Previous"]}),t.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",l.page," of ",l.totalPages]}),t.jsxs(q,{variant:"outline",onClick:()=>d(W=>({...W,page:W.page+1})),disabled:l.page===l.totalPages,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:["Next",t.jsx(io,{className:"h-4 w-4"})]})]})]}),S&&t.jsx(I,{call:S,isOpen:A,onClose:()=>{T(!1),_(null)}})]})})},YNe=({appointments:e,tasks:r,onAppointmentClick:s,onTaskClick:a})=>{const n=f=>{const g=new Date(f),y=new Date,w=new Date(y);return w.setDate(w.getDate()+1),g.toDateString()===y.toDateString()?"Today":g.toDateString()===w.toDateString()?"Tomorrow":g.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},i=f=>{if(!f)return"";try{const[g,y]=f.split(":"),w=parseInt(g),v=w>=12?"PM":"AM";return`${w>12?w-12:w===0?12:w}:${y} ${v}`}catch{return f}},o=(f,g)=>g==="video"?t.jsx(tA,{className:"h-4 w-4"}):g==="in_person"?t.jsx(sd,{className:"h-4 w-4"}):f==="meeting"?t.jsx(bt,{className:"h-4 w-4"}):t.jsx(xt,{className:"h-4 w-4"}),l=f=>{switch(f){case"urgent":return"text-red-400 bg-red-900/30 border-red-800";case"high":return"text-orange-400 bg-orange-900/30 border-orange-800";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-800";default:return"text-gray-400 bg-gray-900/30 border-gray-800"}},d=f=>{switch(f){case"confirmed":return t.jsx(yt,{className:"h-4 w-4 text-green-400"});case"scheduled":return t.jsx(Mt,{className:"h-4 w-4 text-blue-400"});case"tentative":return t.jsx(Yt,{className:"h-4 w-4 text-yellow-400"});default:return t.jsx(Mt,{className:"h-4 w-4 text-gray-400"})}},h=[...e.map(f=>({...f,itemType:"appointment"})),...r.map(f=>({...f,itemType:"task",date:f.due_date,time:f.due_time}))].sort((f,g)=>{const y=new Date(`${f.date} ${f.time||"00:00"}`),w=new Date(`${g.date} ${g.time||"00:00"}`);return y.getTime()-w.getTime()}).reduce((f,g)=>{const y=g.date;return f[y]||(f[y]=[]),f[y].push(g),f},{});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_s,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsx("div",{className:"flex items-center gap-2 text-sm",children:t.jsxs("span",{className:"text-gray-400",children:[e.length," appointment",e.length!==1?"s":"",","," ",r.length," task",r.length!==1?"s":""]})})]}),Object.keys(h).length===0?t.jsxs("div",{className:"rounded-lg border border-gray-700/50 bg-gray-800/30 p-8 text-center",children:[t.jsx(_s,{className:"mx-auto h-12 w-12 text-gray-600 mb-3"}),t.jsx("p",{className:"text-gray-400",children:"No upcoming appointments or tasks"})]}):t.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([f,g])=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-px flex-1 bg-gray-700"}),t.jsx("span",{className:"text-sm font-medium text-gray-400",children:n(f)}),t.jsx("div",{className:"h-px flex-1 bg-gray-700"})]}),t.jsx("div",{className:"space-y-2",children:g.map(y=>t.jsx("div",{onClick:()=>{y.itemType==="appointment"&&s?s(y):y.itemType==="task"&&a&&a(y)},className:"group cursor-pointer rounded-lg border border-gray-700/50 bg-gray-800/50 p-4 transition-all hover:border-gray-600 hover:bg-gray-800",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"flex items-center gap-3",children:y.itemType==="appointment"?t.jsxs(t.Fragment,{children:[o(y.type,y.location_type),t.jsx("span",{className:"text-sm font-medium text-white",children:y.title}),d(y.status)]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`flex items-center gap-2 rounded px-2 py-1 text-xs font-medium border ${l(y.priority)}`,children:y.priority}),t.jsx("span",{className:"text-sm font-medium text-white",children:y.title})]})}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[y.time&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Mt,{className:"h-3 w-3"}),i(y.time),y.itemType==="appointment"&&y.duration_minutes&&t.jsxs("span",{children:[" (",y.duration_minutes," min)"]})]}),y.itemType==="appointment"&&y.location_type&&t.jsxs("div",{className:"flex items-center gap-1",children:[y.location_type==="in_person"&&t.jsx(sd,{className:"h-3 w-3"}),y.location_type==="video"&&t.jsx(tA,{className:"h-3 w-3"}),y.location_type==="phone"&&t.jsx(xt,{className:"h-3 w-3"}),t.jsx("span",{className:"capitalize",children:y.location_type.replace("_"," ")})]}),y.itemType==="task"&&y.category&&t.jsx("span",{className:"capitalize",children:y.category.replace("_"," ")})]}),(y.description||y.agenda)&&t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:y.description||y.agenda}),y.itemType==="appointment"&&y.preparation_notes&&t.jsx("div",{className:"mt-2 rounded bg-blue-900/20 border border-blue-800/50 p-2",children:t.jsxs("p",{className:"text-xs text-blue-400",children:["Prep: ",y.preparation_notes]})})]}),t.jsx("div",{className:"ml-4",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${y.itemType==="appointment"?"bg-blue-900/30 text-blue-400 border border-blue-800":"bg-purple-900/30 text-purple-400 border border-purple-800"}`,children:y.itemType==="appointment"?"Appointment":"Task"})})]})},y.id))})]},f))}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-700/50",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>new Date(f.date)>=new Date().setHours(0,0,0,0)&&new Date(f.date)<new Date().setHours(24,0,0,0)).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>{const g=new Date(f.date),y=new Date,w=new Date(y);return w.setDate(w.getDate()+7),g>=y&&g<=w}).length}),t.jsx("div",{className:"text-xs text-gray-400",children:"This Week"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(f=>f.priority==="urgent"||f.priority==="high").length}),t.jsx("div",{className:"text-xs text-gray-400",children:"High Priority"})]})]})]})},JNe=({isOpen:e,onClose:r,onCreateTask:s,leadId:a})=>{const[n,i]=p.useState({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),o=()=>{if(!n.title.trim())return;const l={...n,id:`task_${Date.now()}`,lead_id:a,created_at:new Date().toISOString()};s(l),i({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),r()};return t.jsx(Cd,{open:e,onOpenChange:r,children:t.jsxs(dc,{className:"max-w-2xl bg-gray-900 border-gray-800",children:[t.jsxs(uc,{children:[t.jsxs(mc,{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx(IN,{className:"h-5 w-5 text-emerald-400"}),"Create New Task"]}),t.jsx(kd,{className:"text-gray-400",children:"Add a task to follow up with this lead"})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"title",className:"text-white",children:["Task Title ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx(_e,{id:"title",value:n.title,onChange:l=>i({...n,title:l.target.value}),placeholder:"e.g., Follow up on proposal",className:"bg-gray-800 border-gray-700 text-white",autoFocus:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"description",className:"text-white",children:"Description"}),t.jsx(Ha,{id:"description",value:n.description,onChange:l=>i({...n,description:l.target.value}),placeholder:"Add more details about this task...",className:"bg-gray-800 border-gray-700 text-white min-h-[80px]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"category",className:"text-white",children:"Category"}),t.jsxs(at,{value:n.category,onValueChange:l=>i({...n,category:l}),children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"follow_up",children:"Follow Up"}),t.jsx(se,{value:"call",children:"Phone Call"}),t.jsx(se,{value:"email",children:"Email"}),t.jsx(se,{value:"meeting",children:"Meeting"}),t.jsx(se,{value:"proposal",children:"Proposal"}),t.jsx(se,{value:"contract",children:"Contract"}),t.jsx(se,{value:"research",children:"Research"}),t.jsx(se,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"priority",className:"text-white",children:"Priority"}),t.jsxs(at,{value:n.priority,onValueChange:l=>i({...n,priority:l}),children:[t.jsx(rt,{className:"bg-gray-800 border-gray-700 text-white",children:t.jsx(nt,{})}),t.jsxs(st,{className:"bg-gray-800 border-gray-700",children:[t.jsx(se,{value:"urgent",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Yt,{className:"h-4 w-4 text-red-400"}),"Urgent"]})}),t.jsx(se,{value:"high",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Yt,{className:"h-4 w-4 text-orange-400"}),"High"]})}),t.jsx(se,{value:"medium",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Yt,{className:"h-4 w-4 text-yellow-400"}),"Medium"]})}),t.jsx(se,{value:"low",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Yt,{className:"h-4 w-4 text-gray-400"}),"Low"]})})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"due_date",className:"text-white flex items-center gap-2",children:[t.jsx(_s,{className:"h-4 w-4"}),"Due Date"]}),t.jsx(_e,{id:"due_date",type:"date",value:n.due_date,onChange:l=>i({...n,due_date:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ee,{htmlFor:"due_time",className:"text-white flex items-center gap-2",children:[t.jsx(Mt,{className:"h-4 w-4"}),"Due Time"]}),t.jsx(_e,{id:"due_time",type:"time",value:n.due_time,onChange:l=>i({...n,due_time:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"notes",className:"text-white",children:"Additional Notes"}),t.jsx(Ha,{id:"notes",value:n.notes,onChange:l=>i({...n,notes:l.target.value}),placeholder:"Any additional information...",className:"bg-gray-800 border-gray-700 text-white min-h-[60px]"})]})]}),t.jsxs(wm,{children:[t.jsx(q,{variant:"outline",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),t.jsxs(q,{onClick:o,disabled:!n.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[t.jsx(IN,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})]})})};function XNe(){const e=br(),{leadId:r}=uf(),{toast:s}=cs(),a=gee(),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,v]=p.useState(!1),b=p.useRef(null),[N,C]=p.useState([]),[S,_]=p.useState([]),[A,T]=p.useState([]),[E,M]=p.useState([]),[L,H]=p.useState(null),[O,I]=p.useState(!1),[W,V]=p.useState(!1),[U,$]=p.useState({status:"new",customerId:"",lastActivity:{date:"",type:""},owner:{id:"",name:"Unassigned",role:"",initials:"NA"},personalDetails:{firstName:"",lastName:"",email:"",phone:"",position:"",website:""},companyInfo:{company:"",industry:""},companyDetails:{foundedYear:"",employees:"",revenue:"",headquarters:"",description:"",website:"",linkedIn:"",type:"",tags:[]},socialMedia:{linkedin:"",twitter:"",facebook:"https://facebook.com/john.doe",instagram:"https://instagram.com/johndoe",youtube:"",tiktok:"",github:"",website:"https://johndoe.dev"},aiCallSummary:"Customer showed strong interest in our enterprise features. Regarding implementation, the customer prefers a phased rollout starting with their core team of 15 users, then expanding to the full organization over 3-4 months. They have dedicated project management resources and are willing to assign a technical lead to work closely with our implementation team. Training is critical as their staff has varying levels of technical expertise. The competitive landscape includes two other vendors they're actively evaluating. One is a legacy solution that's significantly cheaper but lacks modern features. The other is a newer startup with innovative features but concerns about long-term viability. Our solution was positioned as the best balance of reliability, features, and cost. Next steps include scheduling a technical deep-dive demo for next Tuesday at 2 PM EST with their IT Director, CTO, and lead developer. They also requested a detailed implementation timeline and cost breakdown including training and support options. Customer indicated they want to make a final decision by end of January.",notes:[{id:"note_571135000001729018",content:`Pramod was primarily interested in social media management & ads and email marketing (want to focus on incoming traffic as they're working on automating everything).
Sean will send a breakdown of the services we can offer them based on what he said they're looking for`,module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-19T15:40:00Z",createdBy:"Khalid Adib",lastUpdated:"2024-09-19T15:40:00Z",tag:"meeting"},{id:"note_571135000001729019",content:"Follow-up call scheduled for next week to discuss pricing and implementation timeline. Customer seems very interested in our automation solutions.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-18T10:30:00Z",createdBy:"Sean Wentz",lastUpdated:"2024-09-18T10:30:00Z",tag:"follow-up"},{id:"note_571135000001729020",content:"Initial discovery call completed. Budget confirmed at $5k-10k range. Decision maker identified. Next step is technical assessment.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-17T14:15:00Z",createdBy:"John Doe",lastUpdated:"2024-09-17T14:15:00Z",tag:"call"}],address:{street:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",country:"United States"}}),[R,F]=p.useState(!1),[z,K]=p.useState(!1),[B,Q]=p.useState(!1),[Ce,Z]=p.useState(!1),[ne,ze]=p.useState(!1),[Ae,Re]=p.useState(!1),[de,Se]=p.useState(!1),[Ee,te]=p.useState(!1),[be,Te]=p.useState(!1),[Ue,oe]=p.useState(!1),[Ge,Ct]=p.useState("Recent Last"),[Tt,Nt]=p.useState(!1),[me,Be]=p.useState(""),[kt,Kt]=p.useState(null),[_t,wr]=p.useState("general"),[Kr,jr]=p.useState("all"),[vs,Tr]=p.useState(!1),[Ke,Os]=p.useState(""),[es,ms]=p.useState(""),[pt,Sa]=p.useState(null),[Rt,$t]=p.useState({}),[ie,ye]=p.useState(U.personalDetails),[Fe,it]=p.useState(U.companyInfo),[vt,Zt]=p.useState({street:"",city:"",state:"",zipCode:"",country:"United States"}),[wt,ra]=p.useState(U.owner),[sa,aa]=p.useState(U.companyDetails),[Oi,Nr]=p.useState(U.socialMedia),bs=["1-10","11-50","51-200","201-500","501-1000","1001-5000","5001-10000","10000+"],na=["Under $1M","$1M - $5M","$5M - $10M","$10M - $50M","$50M - $100M","$100M - $500M","$500M - $1B","Over $1B"],jn=["Private Company","Public Company","LLC","Corporation","Partnership","Sole Proprietorship","Non-profit","Government","Startup","Other"],ws=[{value:"general",label:"General",color:"bg-gray-600",textColor:"text-gray-300"},{value:"task",label:"Task",color:"bg-blue-600",textColor:"text-blue-300"},{value:"meeting",label:"Meeting",color:"bg-green-600",textColor:"text-green-300"},{value:"call",label:"Call",color:"bg-purple-600",textColor:"text-purple-300"},{value:"email",label:"Email",color:"bg-orange-600",textColor:"text-orange-300"},{value:"follow-up",label:"Follow-up",color:"bg-yellow-600",textColor:"text-yellow-300"},{value:"urgent",label:"Urgent",color:"bg-red-600",textColor:"text-red-300"},{value:"reminder",label:"Reminder",color:"bg-indigo-600",textColor:"text-indigo-300"}],Da=[{value:"New",color:"bg-blue-500",textColor:"text-blue-400"},{value:"Contacted",color:"bg-yellow-500",textColor:"text-yellow-400"},{value:"Qualified",color:"bg-green-500",textColor:"text-green-400"},{value:"Proposal",color:"bg-purple-500",textColor:"text-purple-400"},{value:"Negotiation",color:"bg-orange-500",textColor:"text-orange-400"},{value:"Closed Won",color:"bg-emerald-500",textColor:"text-emerald-400"},{value:"Closed Lost",color:"bg-red-500",textColor:"text-red-400"},{value:"On Hold",color:"bg-gray-500",textColor:"text-gray-400"}],Gt=()=>Da.find(G=>G.value===U.status)||Da[2],Mi=G=>{$(ve=>({...ve,status:G,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`Status changed to ${G}`}})),v(!1)};p.useEffect(()=>{const G=ve=>{b.current&&!b.current.contains(ve.target)&&v(!1)};return w&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[w]);const zt=(G,ve)=>{Sa(G),$t({[G]:ve})},tr=(G,ve)=>{const Qt=Rt[G];$(Cr=>{const vr={...Cr},ia=G.split(".");return ia.length===2?vr[ia[0]]={...vr[ia[0]],[ia[1]]:Qt}:vr[G]=Qt,vr.lastActivity={date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`${G} updated`},vr}),Sa(null),$t({})},ke=()=>{Sa(null),$t({})},Ze=()=>{$(G=>({...G,personalDetails:ie,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Personal details updated"}})),F(!1)},Pt=()=>{ye(U.personalDetails),F(!1)},It=()=>{$(G=>({...G,address:vt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Address updated"}})),K(!1)},Ks=()=>{Zt(U.address),K(!1)},Ms=()=>{ra(U.owner),Q(!0)},Jn=async()=>{try{const{error:G}=await Cs.from("leads").update({uploaded_by:wt.id||null}).eq("id",r);if(G)throw G;$(ve=>({...ve,owner:wt,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Lead owner updated"}})),Q(!1),s({title:"Success",description:"Lead owner updated successfully"})}catch(G){console.error("Error updating lead owner:",G),s({title:"Error",description:"Failed to update lead owner",variant:"destructive"})}},La=()=>{ra(U.owner),Q(!1)},Nn=async()=>{try{await navigator.clipboard.writeText(U.aiCallSummary)}catch(G){console.error("Failed to copy AI Call Summary:",G)}},Za=G=>new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Zo=G=>new Date(G).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),rr=()=>{if(!me.trim())return;const G={id:`note_${Date.now()}`,content:me,module:"Lead",recordName:U.personalDetails.firstName+" "+U.personalDetails.lastName,recordId:"lead_current",createdAt:new Date().toISOString(),createdBy:"Current User",lastUpdated:new Date().toISOString(),tag:_t};if(_t==="reminder"&&Ke&&es){const ve=new Date(`${Ke}T${es}`);ot(me,ve),G.content=`${me}

⏰ Reminder set for: ${ve.toLocaleString()}`}$(ve=>({...ve,notes:[G,...ve.notes],lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note added"}})),Be(""),wr("general"),Os(""),ms(""),Tr(!1),Nt(!1)},el=G=>{H(G),I(!0)},Xn=async()=>{if(L)try{const G=U.notes.filter(ve=>ve.id!==L);if($(ve=>({...ve,notes:G,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note deleted"}})),r){const{data:ve,error:Qt}=await Cs.from("leads").select("custom_fields").eq("id",r).single();if(Qt)throw Qt;const{error:Cr}=await Cs.from("leads").update({custom_fields:{...ve.custom_fields,notes:G},updated_at:new Date().toISOString()}).eq("id",r);Cr?(console.error("Error deleting note:",Cr),s({title:"Error",description:"Failed to delete note. Please try again.",variant:"destructive"}),$(vr=>({...vr,notes:U.notes}))):s({title:"Success",description:"Note deleted successfully"})}}catch(G){console.error("Error deleting note:",G),s({title:"Error",description:"Failed to delete note",variant:"destructive"})}finally{I(!1),H(null)}},we=()=>{I(!1),H(null)},$e=()=>{let G=U.notes.filter(ve=>ve.tag!=="ai-summary"&&ve.createdBy!=="AI System");return Kr!=="all"&&(G=G.filter(ve=>ve.tag===Kr)),Ge==="Recent First"?G.sort((ve,Qt)=>new Date(Qt.createdAt).getTime()-new Date(ve.createdAt).getTime()):G.sort((ve,Qt)=>new Date(ve.createdAt).getTime()-new Date(Qt.createdAt).getTime())},lt=G=>ws.find(ve=>ve.value===G)||ws[0],ot=(G,ve)=>{const Qt=`${U.personalDetails.firstName} ${U.personalDetails.lastName}`,Cr=ve.getTime()-Date.now();Cr>0&&setTimeout(()=>{a.info("Reminder",`${G}`,{category:"system",source:"leads",priority:"medium",persistent:!0,metadata:{leadId:U.personalDetails.firstName+U.personalDetails.lastName,leadName:Qt,type:"reminder",originalContent:G,scheduledFor:ve.toISOString()},action:{label:"View Lead",href:`/leads/${U.personalDetails.firstName}`}})},Cr)};p.useEffect(()=>{Tr(_t==="reminder")},[_t]),p.useEffect(()=>{(async()=>{var ve,Qt,Cr,vr,ia,en,Qn,_d,Zf,Pd,jm,Ad,tl,ep,Ed,ar,Nm,Sm,Td,Cm,km,_m,Od,hc,Zn,ei,ti,rl,sl,ri,tp,Pm,al,rp,Am,fc,Em,sp,nl,il,uo,pc,ap,np,Md;if(!r){s({title:"Error",description:"No lead ID provided",variant:"destructive"}),e("/crm");return}try{i(!0);const{data:We,error:Tm}=await Cs.from("leads").select(`
            *,
            uploaded_by:users!leads_uploaded_by_fkey(
              id,
              first_name,
              last_name,
              role
            ),
            campaigns(
              id,
              name
            )
          `).eq("id",r).single();if(Tm||!We)throw new Error("Lead not found");$({status:We.qualification_status||We.status||"new",customerId:We.id.substring(0,8).toUpperCase(),lastActivity:{date:We.last_call_at?new Date(We.last_call_at).toLocaleString():"No activity",type:We.last_call_at?"Call":"None"},owner:{id:((ve=We.uploaded_by)==null?void 0:ve.id)||"",name:We.uploaded_by?`${We.uploaded_by.first_name} ${We.uploaded_by.last_name}`:"Unassigned",role:((Qt=We.uploaded_by)==null?void 0:Qt.role)||"",initials:We.uploaded_by?`${((Cr=We.uploaded_by.first_name)==null?void 0:Cr[0])||""}${((vr=We.uploaded_by.last_name)==null?void 0:vr[0])||""}`.toUpperCase():"NA"},personalDetails:{firstName:We.first_name||"",lastName:We.last_name||"",email:((ia=We.custom_fields)==null?void 0:ia.email)||We.email||"",phone:We.phone||"",position:((en=We.custom_fields)==null?void 0:en.job_title)||We.job_title||"",website:((Qn=We.custom_fields)==null?void 0:Qn.website)||""},companyInfo:{company:((_d=We.custom_fields)==null?void 0:_d.company)||We.company||"",industry:((Zf=We.custom_fields)==null?void 0:Zf.industry)||""},companyDetails:{foundedYear:((Pd=We.custom_fields)==null?void 0:Pd.foundedYear)||"",employees:((jm=We.custom_fields)==null?void 0:jm.employees)||"",revenue:((Ad=We.custom_fields)==null?void 0:Ad.revenue)||"",headquarters:`${We.city||""}, ${We.state||""}`.trim().replace(/^,\s*/,""),description:((tl=We.custom_fields)==null?void 0:tl.description)||"",website:((ep=We.custom_fields)==null?void 0:ep.website)||"",linkedIn:((Ed=We.custom_fields)==null?void 0:Ed.linkedIn)||"",type:((ar=We.custom_fields)==null?void 0:ar.type)||"",tags:((Nm=We.custom_fields)==null?void 0:Nm.tags)||[]},socialMedia:{linkedin:((Td=(Sm=We.custom_fields)==null?void 0:Sm.socialMedia)==null?void 0:Td.linkedin)||"",twitter:((km=(Cm=We.custom_fields)==null?void 0:Cm.socialMedia)==null?void 0:km.twitter)||"",facebook:((Od=(_m=We.custom_fields)==null?void 0:_m.socialMedia)==null?void 0:Od.facebook)||"",instagram:((Zn=(hc=We.custom_fields)==null?void 0:hc.socialMedia)==null?void 0:Zn.instagram)||"",youtube:((ti=(ei=We.custom_fields)==null?void 0:ei.socialMedia)==null?void 0:ti.youtube)||"",tiktok:((sl=(rl=We.custom_fields)==null?void 0:rl.socialMedia)==null?void 0:sl.tiktok)||""},address:{street:((ri=We.custom_fields)==null?void 0:ri.address_line1)||We.address_line1||"",city:((tp=We.custom_fields)==null?void 0:tp.city)||We.city||"",state:((Pm=We.custom_fields)==null?void 0:Pm.state)||We.state||"",zipCode:((al=We.custom_fields)==null?void 0:al.postal_code)||We.postal_code||"",country:((rp=We.custom_fields)==null?void 0:rp.country)||We.country||"United States"},aiCallSummary:((Em=(fc=(Am=We.custom_fields)==null?void 0:Am.notes)==null?void 0:fc[0])==null?void 0:Em.content)||((sp=We.custom_fields)==null?void 0:sp.aiCallSummary)||((uo=(il=(nl=We.custom_fields)==null?void 0:nl.ultraDetailedBrief)==null?void 0:il.executiveSummary)==null?void 0:uo.nextAction)||"",notes:Array.isArray((pc=We.custom_fields)==null?void 0:pc.notes)?We.custom_fields.notes:[]});const{data:Rd}=await Cs.from("calls").select("*").eq("lead_id",r).order("created_at",{ascending:!1});if(Rd){C(Rd);const mr=Rd.find(Lr=>Lr.notes||Lr.summary||Lr.ultra_detailed_brief);mr&&$(Lr=>{var mo,Om;return{...Lr,aiCallSummary:mr.notes||mr.summary||((Om=(mo=mr.ultra_detailed_brief)==null?void 0:mo.executiveSummary)==null?void 0:Om.nextAction)||Lr.aiCallSummary}})}try{const{data:mr,error:Lr}=await Cs.from("appointments").select("*").eq("lead_id",r).order("date",{ascending:!0});!Lr&&mr?T(mr):Lr&&console.log("Appointments table not available:",Lr.message)}catch{console.log("Could not fetch appointments")}try{const{data:mr,error:Lr}=await Cs.from("tasks").select("*").eq("lead_id",r).eq("status","pending").order("due_date",{ascending:!0});!Lr&&mr?M(mr):Lr&&console.log("Tasks table not available:",Lr.message)}catch{console.log("Could not fetch tasks")}if(We.custom_fields&&(((ap=We.custom_fields.upcomingAppointments)==null?void 0:ap.length)>0&&T(mr=>[...mr,...We.custom_fields.upcomingAppointments]),((np=We.custom_fields.pendingTasks)==null?void 0:np.length)>0&&M(mr=>[...mr,...We.custom_fields.pendingTasks]),((Md=We.custom_fields.missingInfo)==null?void 0:Md.length)>0)){const mr=We.custom_fields.missingInfo.map((Lr,mo)=>({id:`missing-${mo}`,title:`Get ${Lr.field}`,description:Lr.question,priority:Lr.importance==="critical"?"high":"medium",category:"follow_up",due_date:new Date(Date.now()+864e5).toISOString().split("T")[0]}));M(Lr=>[...Lr,...mr])}if(We.organization_id){const{data:mr}=await Cs.from("users").select("id, first_name, last_name, email, role").eq("organization_id",We.organization_id).order("first_name");mr&&_(mr)}}catch(We){console.error("Error fetching lead data:",We),s({title:"Error",description:"Failed to load lead data",variant:"destructive"}),e("/crm")}finally{i(!1)}})()},[r,e,s]);const ur=N.map(G=>({id:G.id,date:G.started_at?new Date(G.started_at).toLocaleDateString():"N/A",time:G.started_at?new Date(G.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",duration:G.duration?`${Math.floor(G.duration/60)}:${(G.duration%60).toString().padStart(2,"0")}`:"N/A",outcome:G.outcome||G.status||"Unknown",sentiment:G.sentiment||"N/A",cost:G.cost?`$${G.cost.toFixed(2)}`:"$0.00",status:G.status||"unknown",...G})),jt=G=>{const ve={id:G.id,duration:parseInt(G.duration.split(":")[0])*60+parseInt(G.duration.split(":")[1]),transcript:[{speaker:"user",text:"Hello? Alright."},{speaker:"ai",text:"Hello. Is it possible to speak to Harris, please?"},{speaker:"user",text:"Speaking."},{speaker:"ai",text:"Hi, Harris. This is Joanne calling from Emerald Green Energy. You spoke to 1 of our reps who was in your area about solar energy for your property. Does that sound familiar?"},{speaker:"user",text:"Yes. That sounds familiar."},{speaker:"ai",text:"Great. Thanks for confirming. I hope you've been enjoying the nice weather. So just to check, was solar something you'd considered before our rep visit? Or was it more of a new idea when they spoke to you?"}],recording:"/mock-audio.wav",analysis:{sentiment:G.sentiment==="Positive"?.75:G.sentiment==="Neutral"?.5:.25,keywords:["solar energy","property","rep visit"],summary:`Call with ${G.outcome.toLowerCase()} outcome. Duration: ${G.duration}`},cost:parseFloat(G.cost.replace("$","")),messages:[{type:"info",content:`Call initiated at ${G.time}`,timestamp:Date.now()-864e5},{type:"success",content:`Call completed with ${G.outcome} outcome`,timestamp:Date.now()}]};f(ve),y(!0)},sr=async G=>{try{const{data:ve,error:Qt}=await Cs.from("tasks").insert([{...G,lead_id:r,organization_id:U.organizationId,created_by:U.owner.id||"system"}]).select().single();if(Qt){console.log("Tasks table not available, saving to custom_fields");const Cr=[...E,G],{error:vr}=await Cs.from("leads").update({custom_fields:{...U.customFields,pendingTasks:Cr}}).eq("id",r);if(vr)throw vr;M(Cr),s({title:"Task Created",description:`Task "${G.title}" has been added successfully.`})}else M([...E,ve]),s({title:"Task Created",description:`Task "${G.title}" has been added successfully.`})}catch(ve){console.error("Error creating task:",ve),s({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent mx-auto"}),t.jsx("p",{className:"text-gray-400",children:"Loading lead data..."})]})}):t.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[t.jsx("div",{className:"sticky top-0 z-30 flex-shrink-0 border-b border-gray-800 bg-gray-900/90",children:t.jsx("div",{className:"px-6 py-4",children:t.jsx("div",{className:"mb-4 flex items-center justify-between",children:t.jsxs(q,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>e("/crm"),children:[t.jsx(ec,{className:"mr-1 h-4 w-4"}),"Back to CRM"]})})})}),t.jsxs("div",{className:"flex-1 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"mb-6 flex items-center justify-between",children:t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Lead Overview"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsx("div",{className:"relative rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",ref:b,children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Status"}),t.jsxs("div",{className:"-m-2 flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-700/30",onClick:()=>v(!w),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${Gt().color}`}),t.jsx("span",{className:"font-medium text-white",children:U.status}),t.jsx(rs,{className:`ml-auto h-4 w-4 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&t.jsx("div",{className:"absolute left-0 right-0 top-full z-50 mt-2 rounded-lg border border-gray-700 bg-gray-800 shadow-xl",children:t.jsx("div",{className:"space-y-1 p-2",children:Da.map(G=>t.jsxs("div",{className:`flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors ${U.status===G.value?"bg-gray-700/50":"hover:bg-gray-700/30"}`,onClick:()=>Mi(G.value),children:[t.jsx("div",{className:`h-2 w-2 rounded-full ${G.color}`}),t.jsx("span",{className:`font-medium ${G.textColor}`,children:G.value})]},G.value))})})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Customer ID"}),t.jsx("span",{className:"font-mono text-lg text-white",children:U.customerId})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Last Activity"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium text-white",children:U.lastActivity.date}),t.jsx("div",{className:"text-sm text-gray-400",children:U.lastActivity.type})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Owner"}),B?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Jn,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:La,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]}):t.jsx("button",{onClick:Ms,className:"text-gray-500 transition-colors hover:text-gray-300",children:t.jsx(fr,{className:"h-4 w-4"})})]}),B?t.jsx("div",{children:t.jsxs("select",{value:wt.id,onChange:G=>{var Qt,Cr;const ve=S.find(vr=>vr.id===G.target.value);ve&&ra({id:ve.id,name:`${ve.first_name} ${ve.last_name}`,role:ve.role,initials:`${((Qt=ve.first_name)==null?void 0:Qt[0])||""}${((Cr=ve.last_name)==null?void 0:Cr[0])||""}`.toUpperCase()})},className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:[t.jsx("option",{value:"",children:"Unassigned"}),S.map(G=>t.jsxs("option",{value:G.id,children:[G.first_name," ",G.last_name," - ",G.role]},G.id))]})}):t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:t.jsx("span",{className:"text-sm font-medium text-white",children:U.owner.initials})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-white",children:U.owner.name}),t.jsx("div",{className:"text-sm text-gray-400",children:U.owner.role})]})]})]})})]})]}),t.jsx("div",{className:`${o?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${o?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${o?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ys,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Personal Details"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!o&&R&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Ze,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:Pt,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>l(!o),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`})})]})]}),!o&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"First Name"}),pt!=="personalDetails.firstName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:U.personalDetails.firstName}),t.jsx("button",{onClick:()=>zt("personalDetails.firstName",U.personalDetails.firstName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["personalDetails.firstName"]||"",onChange:G=>$t(ve=>({...ve,"personalDetails.firstName":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.firstName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Last Name"}),pt!=="personalDetails.lastName"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-lg font-medium text-white",children:U.personalDetails.lastName}),t.jsx("button",{onClick:()=>zt("personalDetails.lastName",U.personalDetails.lastName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["personalDetails.lastName"]||"",onChange:G=>$t(ve=>({...ve,"personalDetails.lastName":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.lastName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),pt!=="personalDetails.email"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.email}),t.jsx("button",{onClick:()=>zt("personalDetails.email",U.personalDetails.email),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:Rt["personalDetails.email"]||"",onChange:G=>$t(ve=>({...ve,"personalDetails.email":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.email"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Phone"}),pt!=="personalDetails.phone"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.phone}),t.jsx("button",{onClick:()=>zt("personalDetails.phone",U.personalDetails.phone),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:Rt["personalDetails.phone"]||"",onChange:G=>$t(ve=>({...ve,"personalDetails.phone":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.phone"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Position"}),pt!=="personalDetails.position"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.position}),t.jsx("button",{onClick:()=>zt("personalDetails.position",U.personalDetails.position),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["personalDetails.position"]||"",onChange:G=>$t(ve=>({...ve,"personalDetails.position":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.position"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Website"}),pt!=="personalDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.personalDetails.website}),t.jsx("button",{onClick:()=>zt("personalDetails.website",U.personalDetails.website),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["personalDetails.website"]||"",onChange:G=>$t(ve=>({...ve,"personalDetails.website":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("personalDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"mt-8 border-t border-gray-700/50 pt-6",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx(cr,{className:"h-4 w-4 text-purple-500"}),t.jsx("h4",{className:"font-medium text-white",children:"Company Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company"}),pt!=="companyInfo.company"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyInfo.company}),t.jsx("button",{onClick:()=>zt("companyInfo.company",U.companyInfo.company),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["companyInfo.company"]||"",onChange:G=>$t(ve=>({...ve,"companyInfo.company":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyInfo.company"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry"}),pt!=="companyInfo.industry"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyInfo.industry}),t.jsx("button",{onClick:()=>zt("companyInfo.industry",U.companyInfo.industry),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["companyInfo.industry"]||"",onChange:G=>$t(ve=>({...ve,"companyInfo.industry":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyInfo.industry"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]})]})]})]})}),t.jsx("div",{className:`${d?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${d?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${d?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(sd,{className:"h-5 w-5 text-green-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Address Information"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!d&&z&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:It,className:"text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-5 w-5"})}),t.jsx("button",{onClick:Ks,className:"text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-5 w-5"})})]}),t.jsx("button",{onClick:()=>m(!d),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${d?"rotate-180":""}`})})]})]}),!d&&t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2 md:col-span-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Street Address"}),pt!=="address.street"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.street}),t.jsx("button",{onClick:()=>zt("address.street",U.address.street),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["address.street"]||"",onChange:G=>$t(ve=>({...ve,"address.street":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("address.street"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"City"}),pt!=="address.city"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.city}),t.jsx("button",{onClick:()=>zt("address.city",U.address.city),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["address.city"]||"",onChange:G=>$t(ve=>({...ve,"address.city":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("address.city"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"State"}),z?t.jsx("input",{type:"text",value:vt.state,onChange:G=>Zt(ve=>({...ve,state:G.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.state}),t.jsx("button",{onClick:()=>{Zt(U.address),K(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"ZIP Code"}),z?t.jsx("input",{type:"text",value:vt.zipCode,onChange:G=>Zt(ve=>({...ve,zipCode:G.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.zipCode}),t.jsx("button",{onClick:()=>{Zt(U.address),K(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Country"}),z?t.jsx("input",{type:"text",value:vt.country,onChange:G=>Zt(ve=>({...ve,country:G.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.address.country}),t.jsx("button",{onClick:()=>{Zt(U.address),K(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})})]})]})]})}),t.jsx("div",{className:`${ne?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${ne?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${ne?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(kx,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Company Details"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>ze(!ne),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${ne?"rotate-180":""}`})})})]}),!ne&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Founded Year"}),pt!=="companyDetails.foundedYear"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.foundedYear}),t.jsx("button",{onClick:()=>zt("companyDetails.foundedYear",U.companyDetails.foundedYear),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["companyDetails.foundedYear"]||"",onChange:G=>$t(ve=>({...ve,"companyDetails.foundedYear":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyDetails.foundedYear"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Employees"}),pt!=="companyDetails.employees"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.employees}),t.jsx("button",{onClick:()=>zt("companyDetails.employees",U.companyDetails.employees),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:Rt["companyDetails.employees"]||"",onValueChange:G=>$t(ve=>({...ve,"companyDetails.employees":G})),children:[t.jsx(rt,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select employee count"})}),t.jsx(st,{children:bs.map(G=>t.jsx(se,{value:G,children:G},G))})]}),t.jsx("button",{onClick:()=>tr("companyDetails.employees"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Annual Revenue"}),pt!=="companyDetails.revenue"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.revenue}),t.jsx("button",{onClick:()=>zt("companyDetails.revenue",U.companyDetails.revenue),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:Rt["companyDetails.revenue"]||"",onValueChange:G=>$t(ve=>({...ve,"companyDetails.revenue":G})),children:[t.jsx(rt,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select revenue range"})}),t.jsx(st,{children:na.map(G=>t.jsx(se,{value:G,children:G},G))})]}),t.jsx("button",{onClick:()=>tr("companyDetails.revenue"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Headquarters"}),pt!=="companyDetails.headquarters"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.headquarters}),t.jsx("button",{onClick:()=>zt("companyDetails.headquarters",U.companyDetails.headquarters),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:Rt["companyDetails.headquarters"]||"",onChange:G=>$t(ve=>({...ve,"companyDetails.headquarters":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("companyDetails.headquarters"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Type"}),pt!=="companyDetails.type"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.companyDetails.type}),t.jsx("button",{onClick:()=>zt("companyDetails.type",U.companyDetails.type),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(at,{value:Rt["companyDetails.type"]||"",onValueChange:G=>$t(ve=>({...ve,"companyDetails.type":G})),children:[t.jsx(rt,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{placeholder:"Select company type"})}),t.jsx(st,{children:jn.map(G=>t.jsx(se,{value:G,children:G},G))})]}),t.jsx("button",{onClick:()=>tr("companyDetails.type"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Website"}),pt!=="companyDetails.website"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:t.jsx("a",{href:U.companyDetails.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.companyDetails.website})}),t.jsx("button",{onClick:()=>zt("companyDetails.website",U.companyDetails.website),className:"opacity-0 text-gray-400 transition-opacity group-hover:opacity-100 hover:text-white",children:t.jsx(fr,{size:16})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["companyDetails.website"]||"",onChange:G=>$t(ve=>({...ve,"companyDetails.website":G.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}),t.jsx("button",{onClick:()=>tr("companyDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Check,{size:16})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{size:16})})]})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Company Description"}),pt!=="companyDetails.description"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:"font-medium leading-relaxed text-white pr-8",children:U.companyDetails.description}),t.jsx("button",{onClick:()=>zt("companyDetails.description",U.companyDetails.description),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100 flex-shrink-0",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("textarea",{value:Rt["companyDetails.description"]||"",onChange:G=>$t(ve=>({...ve,"companyDetails.description":G.target.value})),rows:3,className:"flex-1 resize-none rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{onClick:()=>tr("companyDetails.description"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Industry Tags"}),Ce?t.jsx("input",{type:"text",value:sa.tags.join(", "),onChange:G=>aa(ve=>({...ve,tags:G.target.value.split(", ").filter(Qt=>Qt.trim())})),placeholder:"Enter tags separated by commas",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:U.companyDetails.tags.map((G,ve)=>t.jsx("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-sm text-blue-400",children:G},ve))})]})]})]})}),t.jsx("div",{className:`${Ee?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Ee?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Ee?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(iY,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Social Media Profiles"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:()=>te(!Ee),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${Ee?"rotate-180":""}`})})})]}),!Ee&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(cr,{className:"h-4 w-4"}),"Professional Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"LinkedIn"}),pt!=="socialMedia.linkedin"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.linkedin?t.jsx("a",{href:U.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.linkedin}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.linkedin",U.socialMedia.linkedin||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.linkedin"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.linkedin":G.target.value})),placeholder:"https://linkedin.com/in/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.linkedin"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"GitHub"}),pt!=="socialMedia.github"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.github?t.jsx("a",{href:U.socialMedia.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.github}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.github",U.socialMedia.github||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.github"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.github":G.target.value})),placeholder:"https://github.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.github"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(ys,{className:"h-4 w-4"}),"Social Networks"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Twitter"}),pt!=="socialMedia.twitter"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.twitter?t.jsx("a",{href:U.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.twitter}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.twitter",U.socialMedia.twitter||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.twitter"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.twitter":G.target.value})),placeholder:"https://twitter.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.twitter"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Facebook"}),pt!=="socialMedia.facebook"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.facebook?t.jsx("a",{href:U.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.facebook}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.facebook",U.socialMedia.facebook||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.facebook"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.facebook":G.target.value})),placeholder:"https://facebook.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.facebook"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Instagram"}),pt!=="socialMedia.instagram"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.instagram?t.jsx("a",{href:U.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.instagram}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.instagram",U.socialMedia.instagram||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.instagram"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.instagram":G.target.value})),placeholder:"https://instagram.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.instagram"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"TikTok"}),pt!=="socialMedia.tiktok"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.tiktok?t.jsx("a",{href:U.socialMedia.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.tiktok}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.tiktok",U.socialMedia.tiktok||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.tiktok"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.tiktok":G.target.value})),placeholder:"https://tiktok.com/@username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.tiktok"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[t.jsx(Po,{className:"h-4 w-4"}),"Video Platforms"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"group space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"YouTube"}),pt!=="socialMedia.youtube"?t.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.youtube?t.jsx("a",{href:U.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.youtube}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})}),t.jsx("button",{onClick:()=>zt("socialMedia.youtube",U.socialMedia.youtube||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:t.jsx(fr,{className:"h-4 w-4"})})]})}):t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"url",value:Rt["socialMedia.youtube"]||"",onChange:G=>$t(ve=>({...ve,"socialMedia.youtube":G.target.value})),placeholder:"https://youtube.com/channel/...",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsx("button",{onClick:()=>tr("socialMedia.youtube"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:t.jsx(Vt,{className:"h-4 w-4"})}),t.jsx("button",{onClick:ke,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-gray-400",children:"Personal Website"}),de?t.jsx("input",{type:"url",value:Oi.website,onChange:G=>Nr(ve=>({...ve,website:G.target.value})),placeholder:"https://personal-website.com",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):t.jsx("div",{className:"font-medium text-white",children:U.socialMedia.website?t.jsx("a",{href:U.socialMedia.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:U.socialMedia.website}):t.jsx("span",{className:"text-gray-500",children:"Not provided"})})]})]})]})]})]})}),t.jsx("div",{className:`${be?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:`${be?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gi,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Call Summary"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!be&&t.jsxs("button",{onClick:Nn,className:"flex items-center gap-2 rounded-lg bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600/50 hover:text-white",children:[t.jsx(mn,{className:"h-4 w-4"}),"Copy"]}),t.jsx("button",{onClick:()=>Te(!be),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${be?"rotate-180":""}`})})]})]}),!be&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"rounded-lg border border-gray-700/50 bg-gray-900/30 p-4",children:t.jsx("p",{className:"leading-relaxed text-gray-300",children:U.aiCallSummary})}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsx("span",{children:"Generated from last call"}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})}),t.jsxs("div",{className:"mb-6 rounded-xl border border-gray-700/50 bg-gray-800/50 p-6",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(_s,{className:"h-5 w-5 text-emerald-500"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),t.jsxs(q,{onClick:()=>V(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",children:[t.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Add Task"]})]}),t.jsx(YNe,{appointments:A,tasks:E,onAppointmentClick:G=>console.log("Appointment clicked:",G),onTaskClick:G=>console.log("Task clicked:",G)})]}),t.jsx("div",{className:`${Ue?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:t.jsxs("div",{className:`${Ue?"p-4":"p-6"}`,children:[t.jsxs("div",{className:`${Ue?"mb-0":"mb-6"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Qi,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"cursor-pointer text-lg font-semibold text-white transition-colors hover:text-gray-300",onClick:()=>oe(!Ue),children:"Notes"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!Ue&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Kr,onChange:G=>jr(G.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Tags"}),ws.map(G=>t.jsx("option",{value:G.value,children:G.label},G.value))]})}),!Ue&&t.jsx("div",{className:"relative",children:t.jsxs("select",{value:Ge,onChange:G=>Ct(G.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[t.jsx("option",{value:"Recent Last",children:"Recent Last"}),t.jsx("option",{value:"Recent First",children:"Recent First"})]})}),t.jsx("button",{onClick:()=>oe(!Ue),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${Ue?"rotate-180":""}`})})]})]}),!Ue&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"space-y-4",children:$e().map(G=>t.jsxs("div",{className:"group flex gap-4",children:[t.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-600 text-sm font-medium text-white",children:G.createdBy?G.createdBy.charAt(0).toUpperCase():"N"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all hover:border-gray-600/50",children:[t.jsx("div",{className:"mb-3 flex items-center gap-2",children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${lt(G.tag).color} ${lt(G.tag).textColor}`,children:lt(G.tag).label})}),t.jsx("div",{className:"mb-4 whitespace-pre-wrap leading-relaxed text-gray-300",children:G.content}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-blue-400",children:G.module}),t.jsx("span",{children:"-"}),t.jsx("a",{href:`#/leads/${G.recordId}`,className:"text-blue-400 transition-colors hover:text-blue-300",title:G.recordName,children:G.recordName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"cursor-pointer text-gray-400 transition-colors hover:text-blue-400",onClick:()=>Nt(!0),children:"Add Note"}),t.jsx("span",{children:"•"}),t.jsxs("div",{className:"flex items-center gap-1",title:`Edited on ${Zo(G.lastUpdated)}`,children:[t.jsx(Mt,{className:"h-3 w-3"}),t.jsxs("span",{children:["Edited on ",Za(G.lastUpdated)]})]}),t.jsx("span",{children:"by"}),t.jsx("span",{title:G.createdBy,children:G.createdBy})]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-blue-400",title:"Edit",onClick:()=>Kt(G.id),children:t.jsx(fr,{className:"h-4 w-4"})}),t.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-red-400",title:"Delete",onClick:()=>el(G.id),children:t.jsx(Ws,{className:"h-4 w-4"})})]})]})]},G.id))}),t.jsx("div",{className:"mt-6",children:Tt?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Tag:"}),t.jsxs(at,{value:_t,onValueChange:wr,children:[t.jsx(rt,{className:"w-48 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:t.jsx(nt,{})}),t.jsx(st,{children:ws.map(G=>t.jsx(se,{value:G.value,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${G.color}`}),G.label]})},G.value))})]})]}),vs&&t.jsxs("div",{className:"rounded-lg border border-gray-600 bg-gray-700/50 p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[t.jsx(To,{className:"h-4 w-4"}),t.jsx("span",{children:"Set reminder for:"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),t.jsx("input",{type:"date",value:Ke,onChange:G=>Os(G.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500",children:"Time"}),t.jsx("input",{type:"time",value:es,onChange:G=>ms(G.target.value),className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]})]})]}),t.jsx("textarea",{value:me,onChange:G=>Be(G.target.value),placeholder:"What's this note about?",className:"min-h-[100px] w-full resize-none rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:rr,disabled:!me.trim()||_t==="reminder"&&(!Ke||!es),className:"flex items-center gap-2 rounded border border-gray-600 bg-gray-700 px-4 py-2 text-sm text-white transition-colors hover:border-gray-500 hover:bg-gray-600 disabled:cursor-not-allowed disabled:bg-gray-800",children:[t.jsx(Vl,{className:"h-4 w-4"}),"Add Note"]}),t.jsx("button",{onClick:()=>{Nt(!1),Be(""),wr("general"),Os(""),ms(""),Tr(!1)},className:"rounded-lg px-4 py-2 text-sm text-gray-400 transition-colors hover:text-white",children:"Cancel"})]})]}):t.jsx("button",{onClick:()=>Nt(!0),className:"w-full rounded-lg border border-gray-600/50 bg-gray-700/50 px-4 py-3 text-left text-gray-400 transition-colors hover:border-gray-600 hover:bg-gray-700",children:"Add a note"})})]})]})}),t.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Po,{className:"h-5 w-5 text-orange-400"}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Call Results"})]}),t.jsx("button",{onClick:()=>Re(!Ae),className:"text-gray-400 transition-colors hover:text-white",children:t.jsx(rs,{className:`h-5 w-5 transition-transform ${Ae?"rotate-180":""}`})})]}),!Ae&&t.jsx("div",{className:"space-y-3",children:ur.map(G=>t.jsx("div",{onClick:()=>jt(G),className:"group cursor-pointer rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all duration-200 hover:border-gray-600/50 hover:bg-gray-900/70",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${G.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:t.jsx(xt,{className:"h-5 w-5"})}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"font-medium text-white",children:G.date}),t.jsx("span",{className:"text-sm text-gray-400",children:G.time})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Mt,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:G.duration})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Bs,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-gray-400",children:G.sentiment})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-sm font-medium ${G.outcome==="Qualified"?"text-green-400":G.outcome==="Follow-up"?"text-yellow-400":"text-gray-400"}`,children:G.outcome}),t.jsx("div",{className:"text-sm text-gray-500",children:G.cost})]}),t.jsx(rs,{className:"h-5 w-5 rotate-[-90deg] text-gray-500 transition-colors group-hover:text-gray-300"})]})]})},G.id))})]})})]}),O&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"mx-4 max-w-md rounded-lg border border-gray-700 bg-gray-800 p-6 shadow-xl",children:[t.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-900/30",children:t.jsx(Ws,{className:"h-5 w-5 text-red-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Delete"})]}),t.jsx("p",{className:"mb-6 text-gray-300",children:"Are you sure you want to delete this note? This action cannot be undone."}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:we,className:"rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{onClick:Xn,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700",children:"Delete Note"})]})]})}),t.jsx(Gy,{isOpen:g,onClose:()=>y(!1),callData:h}),t.jsx(JNe,{isOpen:W,onClose:()=>V(!1),onCreateTask:sr,leadId:r||""})]})}const QNe=()=>{const{userContext:e}=ki(),[r,s]=p.useState([]),[a,n]=p.useState({totalMRR:0,newMRR:0,churnedMRR:0,averageRevenue:0,growthRate:0,clientLifetimeValue:0}),[i,o]=p.useState(""),[l,d]=p.useState("all"),[m,h]=p.useState("all");p.useEffect(()=>{const v=[{id:"1",name:"TechStart Solutions",plan:"professional",monthlyRevenue:599,callVolume:2450,status:"active",joinDate:"2024-01-15",lastActivity:"2024-01-18 14:30",industry:"SaaS",contactEmail:"sarah@techstart.com"},{id:"2",name:"Local Home Services",plan:"starter",monthlyRevenue:299,callVolume:890,status:"active",joinDate:"2024-01-10",lastActivity:"2024-01-18 09:15",industry:"Home Services",contactEmail:"mike@localhome.com"},{id:"3",name:"Enterprise Corp",plan:"enterprise",monthlyRevenue:1299,callVolume:5200,status:"active",joinDate:"2023-12-01",lastActivity:"2024-01-18 16:45",industry:"Enterprise",contactEmail:"jennifer@enterprise.com"},{id:"4",name:"GrowthCo Marketing",plan:"professional",monthlyRevenue:599,callVolume:1800,status:"trial",joinDate:"2024-01-12",lastActivity:"2024-01-17 11:20",industry:"Marketing",contactEmail:"david@growthco.com"},{id:"5",name:"RetailMax Store",plan:"starter",monthlyRevenue:299,callVolume:650,status:"paused",joinDate:"2023-11-20",lastActivity:"2024-01-10 08:30",industry:"Retail",contactEmail:"lisa@retailmax.com"}];s(v);const b=v.filter(S=>S.status==="active"),N=b.reduce((S,_)=>S+_.monthlyRevenue,0),C=v.filter(S=>S.status==="active"&&new Date(S.joinDate)>new Date("2024-01-01")).reduce((S,_)=>S+_.monthlyRevenue,0);n({totalMRR:N,newMRR:C,churnedMRR:299,averageRevenue:N/b.length,growthRate:23.5,clientLifetimeValue:N*24})},[]);const f=v=>{switch(v){case"starter":return"bg-blue-100 text-blue-800";case"professional":return"bg-purple-100 text-emerald-800";case"enterprise":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"trial":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"churned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"active":return t.jsx(yt,{className:"h-4 w-4"});case"trial":return t.jsx(Mt,{className:"h-4 w-4"});case"paused":return t.jsx(Yt,{className:"h-4 w-4"});case"churned":return t.jsx(Yt,{className:"h-4 w-4"});default:return t.jsx(Mt,{className:"h-4 w-4"})}},w=r.filter(v=>{const b=v.name.toLowerCase().includes(i.toLowerCase())||v.industry.toLowerCase().includes(i.toLowerCase()),N=l==="all"||v.plan===l,C=m==="all"||v.status===m;return b&&N&&C});return t.jsx("div",{className:"min-h-screen bg-black text-white",children:t.jsxs("div",{className:"w-full space-y-8 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agency Command Center"}),t.jsxs("p",{className:"mt-2 text-gray-400",children:["Welcome back, ",(e==null?void 0:e.firstName)||"Agency Admin","! Manage your client portfolio and track revenue performance."]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(q,{className:"bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>window.location.href="/client-onboarding",children:[t.jsx(yf,{className:"mr-2 h-4 w-4"}),"Start Onboarding"]}),t.jsxs(q,{className:"bg-blue-600 text-white hover:bg-blue-700",children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add New Client"]}),t.jsxs(q,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[t.jsx(is,{className:"mr-2 h-4 w-4"}),"Settings"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Total MRR"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",a.totalMRR.toLocaleString()]}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-green-400",children:[t.jsx(Bs,{className:"mr-1 h-3 w-3"}),"+",a.growthRate,"% from last month"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(bt,{className:"mr-2 h-4 w-4"}),"Active Clients"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.filter(v=>v.status==="active").length}),t.jsxs("div",{className:"mt-1 flex items-center text-sm text-blue-400",children:[t.jsx(WM,{className:"mr-1 h-3 w-3"}),r.filter(v=>v.status==="trial").length," in trial"]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(ba,{className:"mr-2 h-4 w-4"}),"Avg Revenue/Client"]})}),t.jsxs(X,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Math.round(a.averageRevenue).toLocaleString()]}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"Per month"})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsx(pe,{className:"pb-2",children:t.jsxs(xe,{className:"flex items-center text-sm font-medium text-gray-400",children:[t.jsx(as,{className:"mr-2 h-4 w-4"}),"Total Call Volume"]})}),t.jsxs(X,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:r.reduce((v,b)=>v+b.callVolume,0).toLocaleString()}),t.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"This month"})]})]})]}),t.jsxs(Ai,{defaultValue:"clients",className:"space-y-6",children:[t.jsxs(Yn,{className:"border-gray-800 bg-gray-900",children:[t.jsx(ht,{value:"clients",className:"text-gray-300 data-[state=active]:text-white",children:"Client Management"}),t.jsx(ht,{value:"revenue",className:"text-gray-300 data-[state=active]:text-white",children:"Revenue Analytics"}),t.jsx(ht,{value:"branding",className:"text-gray-300 data-[state=active]:text-white",children:"White-Label Controls"})]}),t.jsxs(ft,{value:"clients",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Qa,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),t.jsx(_e,{placeholder:"Search clients...",value:i,onChange:v=>o(v.target.value),className:"border-gray-700 bg-gray-900 pl-10 text-white"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:l,onChange:v=>d(v.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Plans"}),t.jsx("option",{value:"starter",children:"Starter"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"enterprise",children:"Enterprise"})]}),t.jsxs("select",{value:m,onChange:v=>h(v.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"trial",children:"Trial"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"churned",children:"Churned"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:w.map(v=>t.jsx(J,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:t.jsx(X,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(zu,{className:"h-12 w-12",children:[t.jsx(Fu,{src:v.logo}),t.jsx(Uu,{className:"bg-gray-800 text-white",children:v.name.substring(0,2).toUpperCase()})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:v.name}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs(je,{variant:"secondary",className:f(v.plan),children:[v.plan==="starter"&&t.jsx(as,{className:"mr-1 h-3 w-3"}),v.plan==="professional"&&t.jsx(_x,{className:"mr-1 h-3 w-3"}),v.plan==="enterprise"&&t.jsx(Ea,{className:"mr-1 h-3 w-3"}),v.plan.charAt(0).toUpperCase()+v.plan.slice(1)]}),t.jsxs(je,{variant:"secondary",className:g(v.status),children:[y(v.status),t.jsx("span",{className:"ml-1",children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Monthly Revenue"}),t.jsxs("div",{className:"font-semibold text-white",children:["$",v.monthlyRevenue]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Call Volume"}),t.jsx("div",{className:"font-semibold text-white",children:v.callVolume.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Industry"}),t.jsx("div",{className:"font-semibold text-white",children:v.industry})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-gray-400",children:"Join Date"}),t.jsx("div",{className:"font-semibold text-white",children:new Date(v.joinDate).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"View Details"}),t.jsx(q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Manage"})]})]})})},v.id))})]}),t.jsx(ft,{value:"revenue",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Revenue Breakdown"}),t.jsx(Ht,{className:"text-gray-400",children:"Monthly recurring revenue by plan type"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Enterprise Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,299"})]}),t.jsx(xr,{value:65,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Professional Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$1,198"})]}),t.jsx(xr,{value:60,className:"h-2"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Starter Plans"}),t.jsx("span",{className:"font-semibold text-white",children:"$598"})]}),t.jsx(xr,{value:30,className:"h-2"})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-white",children:"Growth Metrics"}),t.jsx(Ht,{className:"text-gray-400",children:"Key performance indicators"})]}),t.jsx(X,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"+$899"}),t.jsx("div",{className:"text-sm text-gray-400",children:"New MRR"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:"-$299"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Churned MRR"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",Math.round(a.clientLifetimeValue).toLocaleString()]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Avg Client LTV"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"23.5%"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Growth Rate"})]})]})})]})]})}),t.jsx(ft,{value:"branding",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(eA,{className:"mr-2 h-5 w-5"}),"Brand Customization"]}),t.jsx(Ht,{className:"text-gray-400",children:"Customize the platform appearance for your clients"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Logo"}),t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-700 p-6 text-center",children:[t.jsxs("div",{className:"mb-2 text-gray-400",children:[t.jsx(eA,{className:"mx-auto mb-2 h-8 w-8"}),"Upload your logo"]}),t.jsx(q,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300",children:"Choose File"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Primary Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(_e,{type:"color",defaultValue:"#3B82F6",className:"h-10 w-16 border-gray-700 bg-gray-800"}),t.jsx(_e,{defaultValue:"#3B82F6",className:"border-gray-700 bg-gray-800 text-white"})]})]})]})]}),t.jsxs(J,{className:"border-gray-800 bg-gray-900",children:[t.jsxs(pe,{children:[t.jsxs(xe,{className:"flex items-center text-white",children:[t.jsx(Ea,{className:"mr-2 h-5 w-5"}),"Domain Settings"]}),t.jsx(Ht,{className:"text-gray-400",children:"Configure custom domains for client portals"})]}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Domain"}),t.jsx(_e,{placeholder:"yourcompany.apex.ai",className:"border-gray-700 bg-gray-800 text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Portal Template"}),t.jsxs("select",{className:"w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-white",children:[t.jsx("option",{children:"Professional Template"}),t.jsx("option",{children:"Modern Template"}),t.jsx("option",{children:"Minimalist Template"})]})]}),t.jsx(q,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Save Configuration"})]})]})]})})]})]})})};function ZNe(){const[e]=IW(),r=br(),{toast:s}=cs(),a=e.get("token"),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,m]=p.useState(null),[h,f]=p.useState(null),[g,y]=p.useState(""),[w,v]=p.useState(""),[b,N]=p.useState("");p.useEffect(()=>{a?C():(f("No invitation token provided"),i(!1))},[a]);const C=async()=>{try{const E=await fetch(`https://apex-backend-august-production.up.railway.app/api/api/invitations/validate/${a}`),M=await E.json();console.log("Invitation validation response:",M),!E.ok||!M.valid?f(M.error||"Invalid or expired invitation"):m(M.invitation)}catch(E){console.error("Error validating invitation:",E),f("Failed to validate invitation")}finally{i(!1)}},{isSignedIn:S,user:_}=xf(),{getToken:A}=wa();p.useEffect(()=>{S&&_&&d&&a&&T()},[S,_,d,a]);const T=async()=>{try{l(!0);const E=await A(),M=await fetch("https://apex-backend-august-production.up.railway.app/api/api/invitations/accept-clerk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({token:a,clerkUserId:_.clerkId||_.id})}),L=await M.json();if(M.ok)s({title:"Success!",description:"Your account has been linked. Redirecting to dashboard..."}),setTimeout(()=>{r("/dashboard")},2e3);else throw new Error(L.error||"Failed to link account")}catch(E){console.error("Error linking account:",E),s({title:"Error",description:E instanceof Error?E.message:"Failed to link account",variant:"destructive"})}finally{l(!1)}};return n?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx(yi,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Validating invitation..."})]})}):h?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsx(J,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:t.jsx(X,{className:"pt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Yi,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Invitation"}),t.jsx("p",{className:"text-gray-400 mb-6",children:h}),t.jsx(q,{onClick:()=>r("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go to Login"})]})})})}):d?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:t.jsxs(J,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[t.jsx(pe,{children:t.jsxs(xe,{className:"text-2xl font-bold text-center text-white",children:["Join ",d.organizationName]})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs(ir,{className:"bg-emerald-900/20 border-emerald-700",children:[t.jsx(Oa,{className:"h-4 w-4 text-emerald-500"}),t.jsxs(or,{className:"text-emerald-200",children:["You've been invited to join as a ",d.role.replace("client_","").replace("_"," "),"."]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-gray-300",children:"Your Information"}),t.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 space-y-1",children:[t.jsxs("p",{className:"text-white",children:[t.jsx(ys,{className:"inline h-4 w-4 mr-2 text-gray-400"}),d.firstName," ",d.lastName]}),t.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]})]}),!S&&t.jsx(ir,{className:"bg-blue-900/20 border-blue-700",children:t.jsx(or,{className:"text-blue-200",children:`Click "Sign Up & Join" below to create your account with Clerk. You'll be redirected back here after signup.`})}),S&&t.jsx(ir,{className:"bg-green-900/20 border-green-700",children:t.jsxs(or,{className:"text-green-200",children:['Welcome back! Click "Complete Setup" to link your account to ',d.organizationName,"."]})}),t.jsxs("div",{className:"text-xs text-gray-400",children:["This invitation expires on ",new Date(d.expiresAt).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(q,{variant:"outline",onClick:()=>r("/login"),className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),S?o?t.jsxs(q,{disabled:!0,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking Account..."]}):t.jsxs(q,{onClick:()=>T(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yt,{className:"mr-2 h-4 w-4"}),"Complete Setup"]}):t.jsx(NH,{mode:"modal",afterSignUpUrl:`/accept-invitation?token=${a}`,signUpForceRedirectUrl:`/accept-invitation?token=${a}`,children:t.jsxs(q,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[t.jsx(yt,{className:"mr-2 h-4 w-4"}),"Sign Up & Join"]})})]})]})]})}):null}function e1e(){return br(),p.useEffect(()=>{(async()=>{console.log("🚪 Force logging out..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),await Cs.auth.signOut(),setTimeout(()=>{window.location.href="/login"},500)})()},[]),t.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-xl",children:"Logging out..."})})}function t1e(){var o;const[e,r]=p.useState(null),[s,a]=p.useState(null),[n,i]=p.useState("");return p.useEffect(()=>{(async()=>{try{const{data:{session:d},error:m}=await Cs.auth.getSession();if(m){i(`Session error: ${m.message}`);return}if(!d){i("No active session");return}r(d.user);const h=await xi.getUserByEmail(d.user.email);a(h)}catch(d){i(`Error: ${d.message}`)}})()},[]),t.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Auth Debug Information"}),n&&t.jsx("div",{className:"bg-red-900/50 border border-red-500 p-4 rounded mb-6",children:n}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Supabase Auth User"}),e?t.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:e.id,email:e.email,email_confirmed_at:e.email_confirmed_at,created_at:e.created_at,updated_at:e.updated_at},null,2)}):t.jsx("p",{className:"text-gray-400",children:"No auth user"})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Database User"}),s?t.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify({id:s.id,email:s.email,first_name:s.first_name,last_name:s.last_name,role:s.role,organization_id:s.organization_id,organization_name:((o=s.organizations)==null?void 0:o.name)||s.organizationName},null,2)}):t.jsx("p",{className:"text-gray-400",children:"No database user"})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),t.jsx("button",{onClick:async()=>{console.log("🚪 Aggressive sign out initiated...");const{error:l}=await Cs.auth.signOut();console.log("Supabase signout:",l||"Success"),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(d=>{document.cookie=d.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),"indexedDB"in window&&(await indexedDB.databases()).forEach(m=>{var h;(h=m.name)!=null&&h.includes("supabase")&&indexedDB.deleteDatabase(m.name)}),window.location.href="/login"},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded",children:"Force Sign Out (Aggressive)"})]})]})]})}function r1e(){const{user:e,getToken:r,isSignedIn:s}=wa(),[a,n]=p.useState(null),[i,o]=p.useState(null),[l,d]=p.useState(!1),[m,h]=p.useState(""),[f,g]=p.useState("");p.useEffect(()=>{(async()=>{const v=await r();n(v)})()},[r]);const y=async()=>{d(!0);try{const w=await r();console.log("🔑 Testing with token:",w?"Present":"None"),console.log("🔑 Token type:",w==null?void 0:w.substring(0,20));const v={businessName:"Test Company "+Date.now(),adminEmail:(e==null?void 0:e.email)||"test@example.com",adminFirstName:(e==null?void 0:e.firstName)||"Test",adminLastName:(e==null?void 0:e.lastName)||"User",teamSize:"0-5",addTeamMembers:!1,teamMembers:[],vapiApiKey:m,vapiPrivateKey:f};console.log("📤 Sending test data:",v);const b=await fetch("http://localhost:3001/api/organization-setup/setup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:w?`Bearer ${w}`:""},body:JSON.stringify(v)});console.log("📥 Response status:",b.status);let N;try{N=await b.json()}catch{N={error:"Failed to parse response",rawText:await b.text()}}o({status:b.status,ok:b.ok,data:N})}catch(w){console.error("❌ Test endpoint error:",w),o({error:!0,message:w.message,stack:w.stack})}finally{d(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-900 p-8",children:t.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:t.jsxs(J,{className:"bg-gray-800 border-gray-700",children:[t.jsx(pe,{children:t.jsx(xe,{className:"text-white",children:"Auth Test Page"})}),t.jsxs(X,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Auth Status"}),t.jsxs("p",{className:"text-white",children:["Signed In: ",s?"Yes":"No"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"User Info"}),t.jsx("pre",{className:"text-xs text-gray-300 bg-gray-900 p-2 rounded overflow-auto",children:JSON.stringify(e,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Token"}),t.jsx("p",{className:"text-xs text-gray-300 break-all",children:a?`${a.substring(0,50)}...`:"No token"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"vapiPrivateKey",className:"block text-sm font-medium text-gray-400 mb-1",children:"VAPI Private Key (Bearer Token)"}),t.jsx("input",{id:"vapiPrivateKey",type:"password",value:f,onChange:w=>g(w.target.value),placeholder:"Enter your VAPI private key",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"vapiApiKey",className:"block text-sm font-medium text-gray-400 mb-1",children:"VAPI Public Key"}),t.jsx("input",{id:"vapiApiKey",type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Enter your VAPI public key",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),(m||f)&&t.jsxs("div",{className:"text-sm text-gray-400",children:[t.jsxs("p",{children:["Private Key: ",f?"••••••••":"Not set"]}),t.jsxs("p",{children:["Public Key: ",m?`${m.substring(0,10)}...`:"Not set"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx(q,{onClick:y,disabled:l,className:"bg-emerald-600 hover:bg-emerald-700",children:l?"Testing...":"Test Organization Setup Endpoint"}),t.jsx(q,{onClick:async()=>{try{const v=await(await fetch("http://localhost:3001/api/organization-setup/health")).json();alert("Health check: "+JSON.stringify(v))}catch(w){alert("Health check failed: "+w.message)}},className:"bg-blue-600 hover:bg-blue-700",children:"Test Health Check"})]}),i&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Test Result"}),t.jsx("pre",{className:"text-xs text-gray-300 bg-gray-900 p-2 rounded overflow-auto",children:JSON.stringify(i,null,2)})]})]})]})})})}const s1e=()=>{const e=br(),{userContext:r}=ki();return p.useEffect(()=>{if(!(r!=null&&r.role)){console.log("🔄 RoleBasedRedirect: No role detected, waiting...");return}const s=r.role.toLowerCase();switch(console.log("🎯 RoleBasedRedirect: Redirecting based on role:",s),s){case"platform_owner":console.log("→ Redirecting to Platform Owner Dashboard"),e("/platform",{replace:!0});break;case"agency_owner":case"agency_admin":case"agency_user":console.log("→ Redirecting to Agency Dashboard"),e("/agency",{replace:!0});break;case"client_admin":case"client_user":default:console.log("→ Redirecting to Client Dashboard"),e("/dashboard",{replace:!0});break}},[r==null?void 0:r.role,e]),t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Redirecting to your dashboard..."})]})})},a1e=()=>{const[e,r]=p.useState(null),[s,a]=p.useState(!0),n=async()=>{a(!0);try{const{data:{session:o},error:l}=await Cs.auth.getSession(),{data:{user:d},error:m}=await Cs.auth.getUser(),h=localStorage.getItem("sb-twigokrtbvigiqnaybfy-auth-token");r({directSession:o,currentUser:d,localStorage_sb_token:h?JSON.parse(h):null,error:l,userError:m,timestamp:new Date().toISOString()})}catch(o){console.error("Error checking session:",o),r({error:o.message})}a(!1)};p.useEffect(()=>{n()},[]);const i=async()=>{try{const{data:{session:o}}=await Cs.auth.getSession(),l=await fetch("/api/platform-analytics/overview",{headers:{Authorization:`Bearer ${(o==null?void 0:o.access_token)||"NO_TOKEN"}`}}),d=await l.json();console.log("API Response:",d),alert(`API Response: ${l.status} - ${JSON.stringify(d).substring(0,100)}...`)}catch(o){console.error("API call failed:",o),alert(`API call failed: ${o.message}`)}};return t.jsx("div",{className:"container mx-auto p-8",children:t.jsxs(J,{className:"bg-gray-900 border-gray-800",children:[t.jsxs(pe,{children:[t.jsx(xe,{className:"text-2xl font-bold text-white",children:"Supabase Session Debug"}),t.jsx(q,{onClick:n,className:"w-fit",children:"Refresh Session Info"})]}),t.jsx(X,{className:"space-y-4",children:s?t.jsx("div",{className:"text-gray-400",children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Direct Session from Supabase:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.directSession,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Current User from Supabase:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.currentUser,null,2)})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"LocalStorage Token:"}),t.jsx("pre",{className:"bg-gray-800 p-4 rounded text-xs text-gray-300 overflow-auto",children:JSON.stringify(e==null?void 0:e.localStorage_sb_token,null,2)})]}),t.jsx("div",{className:"pt-4",children:t.jsx(q,{onClick:i,variant:"outline",children:"Test API Call with Session Token"})})]})})]})})},On=({children:e,allowedRoles:r,redirectTo:s="/dashboard"})=>{var o;const{userContext:a}=ki();if(!a)return t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});const n=(o=a.role)==null?void 0:o.toLowerCase(),i=r.some(l=>l.toLowerCase()===n);return console.log("🛡️ RoleBasedRoute: Checking access",{userRole:n,allowedRoles:r,hasAccess:i}),i?t.jsx(t.Fragment,{children:e}):(console.log("🚫 Access denied, redirecting to:",s),t.jsx(uS,{to:s,replace:!0}))},xO=({children:e})=>{const{isLoaded:r,isSignedIn:s}=wa();return r?s?t.jsx(uS,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:e}):t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})};function n1e(){return t.jsx(Gje,{children:t.jsxs(JY,{children:[t.jsxs(jW,{children:[t.jsx(mt,{path:"/",element:t.jsx(xve,{})}),t.jsx(mt,{path:"/login/*",element:t.jsx(xO,{children:t.jsx(Vq,{})})}),t.jsx(mt,{path:"/signup/*",element:t.jsx(xO,{children:t.jsx(qq,{})})}),t.jsx(mt,{path:"/accept-invitation",element:t.jsx(ZNe,{})}),t.jsx(mt,{path:"/force-logout",element:t.jsx(e1e,{})}),t.jsx(mt,{path:"/debug-auth",element:t.jsx(t1e,{})}),t.jsx(mt,{path:"/test-auth",element:t.jsx(r1e,{})}),t.jsx(mt,{path:"/test",element:t.jsx(UNe,{})}),t.jsx(mt,{path:"/debug-supabase",element:t.jsx(a1e,{})}),t.jsx(mt,{path:"/portal",element:t.jsx(oA,{children:t.jsx(s1e,{})})}),t.jsx(mt,{path:"/scale-architecture",element:t.jsx(yve,{})}),t.jsxs(mt,{element:t.jsx(oA,{children:t.jsx(Qte,{})}),children:[t.jsx(mt,{path:"/dashboard",element:t.jsx(Oye,{})}),t.jsx(mt,{path:"/campaigns",element:t.jsx(tN,{})}),t.jsx(mt,{path:"/vapi-dashboard",element:t.jsx(tN,{})}),t.jsx(mt,{path:"/test-campaigns",element:t.jsx(tN,{})}),t.jsx(mt,{path:"/assistants",element:t.jsx(uNe,{})}),t.jsx(mt,{path:"/campaign-wizard",element:t.jsx(hNe,{})}),t.jsx(mt,{path:"/campaigns/:id",element:t.jsx(dNe,{})}),t.jsx(mt,{path:"/campaigns/:campaignId/calls",element:t.jsx(GNe,{})}),t.jsx(mt,{path:"/calls/:callId",element:t.jsx(KNe,{})}),t.jsx(mt,{path:"/leads/:leadId",element:t.jsx(XNe,{})}),t.jsx(mt,{path:"/all-calls",element:t.jsx(jNe,{})}),t.jsx(mt,{path:"/live-calls",element:t.jsx(wje,{})}),t.jsx(mt,{path:"/analytics",element:t.jsx(vje,{})}),t.jsx(mt,{path:"/cost-analytics",element:t.jsx(eNe,{})}),t.jsx(mt,{path:"/crm",element:t.jsx(Zje,{})}),t.jsx(mt,{path:"/phone-numbers",element:t.jsx(bve,{})}),t.jsx(mt,{path:"/messaging",element:t.jsx(mNe,{})}),t.jsx(mt,{path:"/settings",element:t.jsx(sNe,{})}),t.jsx(mt,{path:"/organization-settings",element:t.jsx(On,{allowedRoles:["client_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(CNe,{})})}),t.jsx(mt,{path:"/api-keys",element:t.jsx(FNe,{})}),t.jsx(mt,{path:"/billing",element:t.jsx(Eje,{})}),t.jsx(mt,{path:"/notifications",element:t.jsx(NNe,{})}),t.jsx(mt,{path:"/platform",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(nO,{})})}),t.jsx(mt,{path:"/platform-owner",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(nO,{})})}),t.jsx(mt,{path:"/organizations",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(SNe,{})})}),t.jsx(mt,{path:"/organizations/:id",element:t.jsx(On,{allowedRoles:["platform_owner","client_admin"],redirectTo:"/dashboard",children:t.jsx(INe,{})})}),t.jsx(mt,{path:"/organization-setup",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(ENe,{})})}),t.jsx(mt,{path:"/user-management",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(dve,{})})}),t.jsx(mt,{path:"/team-management",element:t.jsx(On,{allowedRoles:["platform_owner","client_admin","agency_admin"],redirectTo:"/dashboard",children:t.jsx(lNe,{})})}),t.jsx(mt,{path:"/support-tickets",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(vve,{})})}),t.jsx(mt,{path:"/platform-analytics",element:t.jsx(On,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:t.jsx(zNe,{})})}),t.jsx(mt,{path:"/agency",element:t.jsx(On,{allowedRoles:["agency_owner","agency_admin","agency_user"],redirectTo:"/dashboard",children:t.jsx(QNe,{})})}),t.jsx(mt,{path:"/clients",element:t.jsx(On,{allowedRoles:["agency_owner","agency_admin","platform_owner"],redirectTo:"/dashboard",children:t.jsx(bje,{})})}),t.jsx(mt,{path:"/audit-logs",element:t.jsx(yNe,{})}),t.jsx(mt,{path:"/system-health",element:t.jsx(vNe,{})}),t.jsx(mt,{path:"*",element:t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400",children:"The page you're looking for doesn't exist."})]})})})]})]}),t.jsx(Cre,{})]})})}const i1e="pk_test_dW5pdGVkLWNob3ctMTMuY2xlcmsuYWNjb3VudHMuZGV2JA";function o1e(){const e=br();return t.jsx(wM,{publishableKey:i1e,afterSignInUrl:"/dashboard",afterSignUpUrl:"/dashboard",signInUrl:"/login",signUpUrl:"/signup",routerPush:r=>e(r),routerReplace:r=>e(r,{replace:!0}),children:t.jsx(MG,{children:t.jsx(n1e,{})})})}kB.createRoot(document.getElementById("root")).render(t.jsx(ce.StrictMode,{children:t.jsx(EW,{children:t.jsx(o1e,{})})}));
