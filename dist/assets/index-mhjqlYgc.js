var MW=Object.defineProperty;var IW=(e,t,s)=>t in e?MW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ns=(e,t,s)=>IW(e,typeof t!="symbol"?t+"":t,s);function DW(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function Qn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $W(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),s}var aw={exports:{}},wh={},nw={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function LW(){if(mA)return zt;mA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function b(L,q,ue){this.props=L,this.context=q,this.refs=v,this.updater=ue||y}b.prototype.isReactComponent={},b.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=b.prototype;function S(L,q,ue){this.props=L,this.context=q,this.refs=v,this.updater=ue||y}var _=S.prototype=new N;_.constructor=S,w(_,b.prototype),_.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(L,q,ue){var G,ge={},be=null,Ne=null;if(q!=null)for(G in q.ref!==void 0&&(Ne=q.ref),q.key!==void 0&&(be=""+q.key),q)T.call(q,G)&&!E.hasOwnProperty(G)&&(ge[G]=q[G]);var Fe=arguments.length-2;if(Fe===1)ge.children=ue;else if(1<Fe){for(var le=Array(Fe),Se=0;Se<Fe;Se++)le[Se]=arguments[Se+2];ge.children=le}if(L&&L.defaultProps)for(G in Fe=L.defaultProps,Fe)ge[G]===void 0&&(ge[G]=Fe[G]);return{$$typeof:e,type:L,key:be,ref:Ne,props:ge,_owner:A.current}}function z(L,q){return{$$typeof:e,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function B(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function O(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return q[ue]})}var I=/\/+/g;function F(L,q){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):q.toString(36)}function V(L,q,ue,G,ge){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Ne=!1;if(L===null)Ne=!0;else switch(be){case"string":case"number":Ne=!0;break;case"object":switch(L.$$typeof){case e:case t:Ne=!0}}if(Ne)return Ne=L,ge=ge(Ne),L=G===""?"."+F(Ne,0):G,k(ge)?(ue="",L!=null&&(ue=L.replace(I,"$&/")+"/"),V(ge,q,ue,"",function(Se){return Se})):ge!=null&&(B(ge)&&(ge=z(ge,ue+(!ge.key||Ne&&Ne.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+L)),q.push(ge)),1;if(Ne=0,G=G===""?".":G+":",k(L))for(var Fe=0;Fe<L.length;Fe++){be=L[Fe];var le=G+F(be,Fe);Ne+=V(be,q,ue,le,ge)}else if(le=g(L),typeof le=="function")for(L=le.call(L),Fe=0;!(be=L.next()).done;)be=be.value,le=G+F(be,Fe++),Ne+=V(be,q,ue,le,ge);else if(be==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ne}function W(L,q,ue){if(L==null)return L;var G=[],ge=0;return V(L,G,"","",function(be){return q.call(ue,be,ge++)}),G}function X(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var D={current:null},U={transition:null},H={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:U,ReactCurrentOwner:A};function M(){throw Error("act(...) is not supported in production builds of React.")}return zt.Children={map:W,forEach:function(L,q,ue){W(L,function(){q.apply(this,arguments)},ue)},count:function(L){var q=0;return W(L,function(){q++}),q},toArray:function(L){return W(L,function(q){return q})||[]},only:function(L){if(!B(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},zt.Component=b,zt.Fragment=s,zt.Profiler=n,zt.PureComponent=S,zt.StrictMode=a,zt.Suspense=d,zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,zt.act=M,zt.cloneElement=function(L,q,ue){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var G=w({},L.props),ge=L.key,be=L.ref,Ne=L._owner;if(q!=null){if(q.ref!==void 0&&(be=q.ref,Ne=A.current),q.key!==void 0&&(ge=""+q.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(le in q)T.call(q,le)&&!E.hasOwnProperty(le)&&(G[le]=q[le]===void 0&&Fe!==void 0?Fe[le]:q[le])}var le=arguments.length-2;if(le===1)G.children=ue;else if(1<le){Fe=Array(le);for(var Se=0;Se<le;Se++)Fe[Se]=arguments[Se+2];G.children=Fe}return{$$typeof:e,type:L.type,key:ge,ref:be,props:G,_owner:Ne}},zt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:i,_context:L},L.Consumer=L},zt.createElement=R,zt.createFactory=function(L){var q=R.bind(null,L);return q.type=L,q},zt.createRef=function(){return{current:null}},zt.forwardRef=function(L){return{$$typeof:l,render:L}},zt.isValidElement=B,zt.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:X}},zt.memo=function(L,q){return{$$typeof:u,type:L,compare:q===void 0?null:q}},zt.startTransition=function(L){var q=U.transition;U.transition={};try{L()}finally{U.transition=q}},zt.unstable_act=M,zt.useCallback=function(L,q){return D.current.useCallback(L,q)},zt.useContext=function(L){return D.current.useContext(L)},zt.useDebugValue=function(){},zt.useDeferredValue=function(L){return D.current.useDeferredValue(L)},zt.useEffect=function(L,q){return D.current.useEffect(L,q)},zt.useId=function(){return D.current.useId()},zt.useImperativeHandle=function(L,q,ue){return D.current.useImperativeHandle(L,q,ue)},zt.useInsertionEffect=function(L,q){return D.current.useInsertionEffect(L,q)},zt.useLayoutEffect=function(L,q){return D.current.useLayoutEffect(L,q)},zt.useMemo=function(L,q){return D.current.useMemo(L,q)},zt.useReducer=function(L,q,ue){return D.current.useReducer(L,q,ue)},zt.useRef=function(L){return D.current.useRef(L)},zt.useState=function(L){return D.current.useState(L)},zt.useSyncExternalStore=function(L,q,ue){return D.current.useSyncExternalStore(L,q,ue)},zt.useTransition=function(){return D.current.useTransition()},zt.version="18.3.1",zt}var hA;function fm(){return hA||(hA=1,nw.exports=LW()),nw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function zW(){if(fA)return wh;fA=1;var e=fm(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,d,u){var h,f={},g=null,y=null;u!==void 0&&(g=""+u),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(h in d)a.call(d,h)&&!i.hasOwnProperty(h)&&(f[h]=d[h]);if(l&&l.defaultProps)for(h in d=l.defaultProps,d)f[h]===void 0&&(f[h]=d[h]);return{$$typeof:t,type:l,key:g,ref:y,props:f,_owner:n.current}}return wh.Fragment=s,wh.jsx=o,wh.jsxs=o,wh}var pA;function FW(){return pA||(pA=1,aw.exports=zW()),aw.exports}var r=FW(),UW=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function dM({packageName:e,customMessages:t}){let s=e;function a(i,o){if(!o)return`${s}: ${i}`;let l=i;const d=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const u of d){const h=(o[u[1]]||"").toString();l=l.replace(`{{${u[1]}}}`,h)}return`${s}: ${l}`}const n={...UW,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(s=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(a(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(a(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(a(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(a(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(a(n.MissingClerkProvider,i))},throw(i){throw new Error(a(i))}}}var uM=Object.defineProperty,BW=Object.getOwnPropertyDescriptor,WW=Object.getOwnPropertyNames,VW=Object.prototype.hasOwnProperty,qW=(e,t)=>{for(var s in t)uM(e,s,{get:t[s],enumerable:!0})},HW=(e,t,s,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of WW(t))!VW.call(e,n)&&n!==s&&uM(e,n,{get:()=>t[n],enumerable:!(a=BW(t,n))||a.enumerable});return e},KW=(e,t,s)=>(HW(e,t,"default"),s),GW={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},YW=new Set(["first_factor","second_factor","multi_factor"]),JW=new Set(["strict_mfa","strict","moderate","lax"]),XW=e=>typeof e=="number"&&e>0,ZW=e=>YW.has(e),QW=e=>JW.has(e),iw=e=>e.replace(/^(org:)*/,"org:"),eV=(e,t)=>{const{orgId:s,orgRole:a,orgPermissions:n}=t;return!e.role&&!e.permission||!s||!a||!n?null:e.permission?n.includes(iw(e.permission)):e.role?iw(a)===iw(e.role):null},gA=(e,t)=>{const{org:s,user:a}=rV(e),[n,i]=t.split(":"),o=i||n;return n==="org"?s.includes(o):n==="user"?a.includes(o):[...s,...a].includes(o)},tV=(e,t)=>{const{features:s,plans:a}=t;return e.feature&&s?gA(s,e.feature):e.plan&&a?gA(a,e.plan):null},rV=e=>{const t=e?e.split(",").map(s=>s.trim()):[];return{org:t.filter(s=>s.split(":")[0].includes("o")).map(s=>s.split(":")[1]),user:t.filter(s=>s.split(":")[0].includes("u")).map(s=>s.split(":")[1])}},sV=e=>{if(!e)return!1;const t=n=>typeof n=="string"?GW[n]:n,s=typeof e=="string"&&QW(e),a=typeof e=="object"&&ZW(e.level)&&XW(e.afterMinutes);return s||a?t.bind(null,e):!1},aV=(e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;const s=sV(e.reverification);if(!s)return null;const{level:a,afterMinutes:n}=s(),[i,o]=t,l=i!==-1?n>i:null,d=o!==-1?n>o:null;switch(a){case"first_factor":return l;case"second_factor":return o!==-1?d:l;case"multi_factor":return o===-1?l:l&&d}},nV=e=>t=>{if(!e.userId)return!1;const s=tV(t,e),a=eV(t,e),n=aV(t,e);return[s||a,n].some(i=>i===null)?[s||a,n].some(i=>i===!0):[s||a,n].every(i=>i===!0)},iV=({authObject:{sessionId:e,sessionStatus:t,userId:s,actor:a,orgId:n,orgRole:i,orgSlug:o,signOut:l,getToken:d,has:u,sessionClaims:h},options:{treatPendingAsSignedOut:f=!0}})=>{if(e===void 0&&s===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:s,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:d};if(e===null&&s===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:s,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(f&&t==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:d};if(e&&h&&s&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:n,orgRole:i,orgSlug:o||null,has:u,signOut:l,getToken:d};if(e&&h&&s&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:s,actor:a||null,orgId:null,orgRole:null,orgSlug:null,has:u,signOut:l,getToken:d}},mM=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,oV=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],hM="pk_live_",lV="pk_test_";function fM(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function xA(e,t={}){if(e=e||"",!e||!LN(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!LN(e))throw new Error("Publishable key not valid.");return null}const s=e.startsWith(hM)?"production":"development";let a;try{a=mM(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!fM(a)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let n=a.slice(0,-1);return t.proxyUrl?n=t.proxyUrl:s!=="development"&&t.domain&&t.isSatellite&&(n=`clerk.${t.domain}`),{instanceType:s,frontendApi:n}}function LN(e=""){try{if(!(e.startsWith(hM)||e.startsWith(lV)))return!1;const s=e.split("_");if(s.length!==3)return!1;const a=s[2];if(!a)return!1;const n=mM(a);return fM(n)}catch{return!1}}function cV(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const s=typeof t=="string"?t:t.hostname;let a=e.get(s);return a===void 0&&(a=oV.some(n=>s.endsWith(n)),e.set(s,a)),a}}}var dV="METHOD_CALLED",uV=.1;function pM(e,t){return{event:dV,eventSamplingRate:uV,payload:{method:e,...t}}}var p=fm();const de=Qn(p),Xx=DW({__proto__:null,default:de},[p]);var ow={exports:{}},lw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA;function mV(){if(yA)return lw;yA=1;var e=fm();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var s=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,g){var y=g(),w=a({inst:{value:y,getSnapshot:g}}),v=w[0].inst,b=w[1];return i(function(){v.value=y,v.getSnapshot=g,d(v)&&b({inst:v})},[f,y,g]),n(function(){return d(v)&&b({inst:v}),f(function(){d(v)&&b({inst:v})})},[f]),o(y),y}function d(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!s(f,y)}catch{return!0}}function u(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return lw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,lw}var vA;function gM(){return vA||(vA=1,ow.exports=mV()),ow.exports}var V_=gM();const xM=0,yM=1,vM=2,bA=3;var wA=Object.prototype.hasOwnProperty;function zN(e,t){var s,a;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((a=e.length)===t.length)for(;a--&&zN(e[a],t[a]););return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(wA.call(e,s)&&++a&&!wA.call(t,s)||!(s in t)||!zN(e[s],t[s]))return!1;return Object.keys(t).length===a}}return e!==e&&t!==t}const xi=new WeakMap,Vl=()=>{},Cs=Vl(),T0=Object,It=e=>e===Cs,zn=e=>typeof e=="function",Yo=(e,t)=>({...e,...t}),bM=e=>zn(e.then),cw={},Og={},q_="undefined",Ff=typeof window!=q_,FN=typeof document!=q_,hV=Ff&&"Deno"in window,fV=()=>Ff&&typeof window.requestAnimationFrame!=q_,Ll=(e,t)=>{const s=xi.get(e);return[()=>!It(t)&&e.get(t)||cw,a=>{if(!It(t)){const n=e.get(t);t in Og||(Og[t]=n),s[5](t,Yo(n,a),n||cw)}},s[6],()=>!It(t)&&t in Og?Og[t]:!It(t)&&e.get(t)||cw]};let UN=!0;const pV=()=>UN,[BN,WN]=Ff&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Vl,Vl],gV=()=>{const e=FN&&document.visibilityState;return It(e)||e!=="hidden"},xV=e=>(FN&&document.addEventListener("visibilitychange",e),BN("focus",e),()=>{FN&&document.removeEventListener("visibilitychange",e),WN("focus",e)}),yV=e=>{const t=()=>{UN=!0,e()},s=()=>{UN=!1};return BN("online",t),BN("offline",s),()=>{WN("online",t),WN("offline",s)}},vV={isOnline:pV,isVisible:gV},bV={initFocus:xV,initReconnect:yV},jA=!de.useId,mf=!Ff||hV,wV=e=>fV()?window.requestAnimationFrame(e):setTimeout(e,1),tf=mf?p.useEffect:p.useLayoutEffect,dw=typeof navigator<"u"&&navigator.connection,NA=!mf&&dw&&(["slow-2g","2g"].includes(dw.effectiveType)||dw.saveData),Rg=new WeakMap,jV=e=>T0.prototype.toString.call(e),uw=(e,t)=>e===`[object ${t}]`;let NV=0;const VN=e=>{const t=typeof e,s=jV(e),a=uw(s,"Date"),n=uw(s,"RegExp"),i=uw(s,"Object");let o,l;if(T0(e)===e&&!a&&!n){if(o=Rg.get(e),o)return o;if(o=++NV+"~",Rg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=VN(e[l])+",";Rg.set(e,o)}if(i){o="#";const d=T0.keys(e).sort();for(;!It(l=d.pop());)It(e[l])||(o+=l+":"+VN(e[l])+",");Rg.set(e,o)}}else o=a?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Ku=e=>{if(zn(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?VN(e):"",[e,t]};let _V=0;const qN=()=>++_V;async function wM(...e){const[t,s,a,n]=e,i=Yo({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let o=i.populateCache;const l=i.rollbackOnError;let d=i.optimisticData;const u=g=>typeof l=="function"?l(g):l!==!1,h=i.throwOnError;if(zn(s)){const g=s,y=[],w=t.keys();for(const v of w)!/^\$(inf|sub)\$/.test(v)&&g(t.get(v)._k)&&y.push(v);return Promise.all(y.map(f))}return f(s);async function f(g){const[y]=Ku(g);if(!y)return;const[w,v]=Ll(t,y),[b,N,S,_]=xi.get(t),k=()=>{const V=b[y];return(zn(i.revalidate)?i.revalidate(w().data,g):i.revalidate!==!1)&&(delete S[y],delete _[y],V&&V[0])?V[0](vM).then(()=>w().data):w().data};if(e.length<3)return k();let T=a,A,E=!1;const R=qN();N[y]=[R,0];const z=!It(d),B=w(),O=B.data,I=B._c,F=It(I)?O:I;if(z&&(d=zn(d)?d(F,O):d,v({data:d,_c:F})),zn(T))try{T=T(F)}catch(V){A=V,E=!0}if(T&&bM(T))if(T=await T.catch(V=>{A=V,E=!0}),R!==N[y][0]){if(E)throw A;return T}else E&&z&&u(A)&&(o=!0,v({data:F,_c:Cs}));if(o&&!E)if(zn(o)){const V=o(T,F);v({data:V,error:Cs,_c:Cs})}else v({data:T,error:Cs,_c:Cs});if(N[y][1]=qN(),Promise.resolve(k()).then(()=>{v({_c:Cs})}),E){if(h)throw A;return}return T}}const _A=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},jM=(e,t)=>{if(!xi.has(e)){const s=Yo(bV,t),a=Object.create(null),n=wM.bind(Cs,e);let i=Vl;const o=Object.create(null),l=(h,f)=>{const g=o[h]||[];return o[h]=g,g.push(f),()=>g.splice(g.indexOf(f),1)},d=(h,f,g)=>{e.set(h,f);const y=o[h];if(y)for(const w of y)w(f,g)},u=()=>{if(!xi.has(e)&&(xi.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,d,l]),!mf)){const h=s.initFocus(setTimeout.bind(Cs,_A.bind(Cs,a,xM))),f=s.initReconnect(setTimeout.bind(Cs,_A.bind(Cs,a,yM)));i=()=>{h&&h(),f&&f(),xi.delete(e)}}};return u(),[e,n,u,i]}return[e,xi.get(e)[4]]},SV=(e,t,s,a,n)=>{const i=s.errorRetryCount,o=n.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!It(i)&&o>i||setTimeout(a,l,n)},CV=zN,[Uf,NM]=jM(new Map),_M=Yo({onLoadingSlow:Vl,onSuccess:Vl,onError:Vl,onErrorRetry:SV,onDiscarded:Vl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:NA?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:NA?5e3:3e3,compare:CV,isPaused:()=>!1,cache:Uf,mutate:NM,fallback:{}},vV),SM=(e,t)=>{const s=Yo(e,t);if(t){const{use:a,fallback:n}=e,{use:i,fallback:o}=t;a&&i&&(s.use=a.concat(i)),n&&o&&(s.fallback=Yo(n,o))}return s},HN=p.createContext({}),kV=e=>{const{value:t}=e,s=p.useContext(HN),a=zn(t),n=p.useMemo(()=>a?t(s):t,[a,s,t]),i=p.useMemo(()=>a?n:SM(s,n),[a,s,n]),o=n&&n.provider,l=p.useRef(Cs);o&&!l.current&&(l.current=jM(o(i.cache||Uf),n));const d=l.current;return d&&(i.cache=d[0],i.mutate=d[1]),tf(()=>{if(d)return d[2]&&d[2](),d[3]},[]),p.createElement(HN.Provider,Yo(e,{value:i}))},CM="$inf$",kM=Ff&&window.__SWR_DEVTOOLS_USE__,AV=kM?window.__SWR_DEVTOOLS_USE__:[],PV=()=>{kM&&(window.__SWR_DEVTOOLS_REACT__=de)},AM=e=>zn(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],PM=()=>Yo(_M,p.useContext(HN)),EV=(e,t)=>{const[s,a]=Ku(e),[,,,n]=xi.get(Uf);if(n[s])return n[s];const i=t(a);return n[s]=i,i},TV=e=>(t,s,a)=>e(t,s&&((...i)=>{const[o]=Ku(t),[,,,l]=xi.get(Uf);if(o.startsWith(CM))return s(...i);const d=l[o];return It(d)?s(...i):(delete l[o],d)}),a),OV=AV.concat(TV),RV=e=>function(...s){const a=PM(),[n,i,o]=AM(s),l=SM(a,o);let d=e;const{use:u}=l,h=(u||[]).concat(OV);for(let f=h.length;f--;)d=h[f](d);return d(n,i||l.fetcher||null,l)},MV=(e,t,s)=>{const a=t[e]||(t[e]=[]);return a.push(s),()=>{const n=a.indexOf(s);n>=0&&(a[n]=a[a.length-1],a.pop())}},IV=(e,t)=>(...s)=>{const[a,n,i]=AM(s),o=(i.use||[]).concat(t);return e(a,n,{...i,use:o})};PV();const DV=()=>{},$V=DV(),KN=Object,SA=e=>e===$V,LV=e=>typeof e=="function",Mg=new WeakMap,zV=e=>KN.prototype.toString.call(e),mw=(e,t)=>e===`[object ${t}]`;let FV=0;const GN=e=>{const t=typeof e,s=zV(e),a=mw(s,"Date"),n=mw(s,"RegExp"),i=mw(s,"Object");let o,l;if(KN(e)===e&&!a&&!n){if(o=Mg.get(e),o)return o;if(o=++FV+"~",Mg.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=GN(e[l])+",";Mg.set(e,o)}if(i){o="#";const d=KN.keys(e).sort();for(;!SA(l=d.pop());)SA(e[l])||(o+=l+":"+GN(e[l])+",");Mg.set(e,o)}}else o=a?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},UV=e=>{if(LV(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?GN(e):"",[e,t]},BV=e=>UV(e)[0],hw=de.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),fw={dedupe:!0},WV=(e,t,s)=>{const{cache:a,compare:n,suspense:i,fallbackData:o,revalidateOnMount:l,revalidateIfStale:d,refreshInterval:u,refreshWhenHidden:h,refreshWhenOffline:f,keepPreviousData:g}=s,[y,w,v,b]=xi.get(a),[N,S]=Ku(e),_=p.useRef(!1),k=p.useRef(!1),T=p.useRef(N),A=p.useRef(t),E=p.useRef(s),R=()=>E.current,z=()=>R().isVisible()&&R().isOnline(),[B,O,I,F]=Ll(a,N),V=p.useRef({}).current,W=It(o)?It(s.fallback)?Cs:s.fallback[N]:o,X=(he,_e)=>{for(const Te in V){const oe=Te;if(oe==="data"){if(!n(he[oe],_e[oe])&&(!It(he[oe])||!n(ge,_e[oe])))return!1}else if(_e[oe]!==he[oe])return!1}return!0},D=p.useMemo(()=>{const he=!N||!t?!1:It(l)?R().isPaused()||i?!1:d!==!1:l,_e=Ie=>{const tt=Yo(Ie);return delete tt._k,he?{isValidating:!0,isLoading:!0,...tt}:tt},Te=B(),oe=F(),We=_e(Te),pt=Te===oe?We:_e(oe);let ce=We;return[()=>{const Ie=_e(B());return X(Ie,ce)?(ce.data=Ie.data,ce.isLoading=Ie.isLoading,ce.isValidating=Ie.isValidating,ce.error=Ie.error,ce):(ce=Ie,Ie)},()=>pt]},[a,N]),U=V_.useSyncExternalStore(p.useCallback(he=>I(N,(_e,Te)=>{X(Te,_e)||he()}),[a,N]),D[0],D[1]),H=!_.current,M=y[N]&&y[N].length>0,L=U.data,q=It(L)?W&&bM(W)?hw(W):W:L,ue=U.error,G=p.useRef(q),ge=g?It(L)?It(G.current)?q:G.current:L:q,be=M&&!It(ue)?!1:H&&!It(l)?l:R().isPaused()?!1:i?It(q)?!1:d:It(q)||d,Ne=!!(N&&t&&H&&be),Fe=It(U.isValidating)?Ne:U.isValidating,le=It(U.isLoading)?Ne:U.isLoading,Se=p.useCallback(async he=>{const _e=A.current;if(!N||!_e||k.current||R().isPaused())return!1;let Te,oe,We=!0;const pt=he||{},ce=!v[N]||!pt.dedupe,Ie=()=>jA?!k.current&&N===T.current&&_.current:N===T.current,tt={isValidating:!1,isLoading:!1},vt=()=>{O(tt)},pr=()=>{const Qt=v[N];Qt&&Qt[1]===oe&&delete v[N]},us={isValidating:!0};It(B().data)&&(us.isLoading=!0);try{if(ce&&(O(us),s.loadingTimeout&&It(B().data)&&setTimeout(()=>{We&&Ie()&&R().onLoadingSlow(N,s)},s.loadingTimeout),v[N]=[_e(S),qN()]),[Te,oe]=v[N],Te=await Te,ce&&setTimeout(pr,s.dedupingInterval),!v[N]||v[N][1]!==oe)return ce&&Ie()&&R().onDiscarded(N),!1;tt.error=Cs;const Qt=w[N];if(!It(Qt)&&(oe<=Qt[0]||oe<=Qt[1]||Qt[1]===0))return vt(),ce&&Ie()&&R().onDiscarded(N),!1;const sr=B().data;tt.data=n(sr,Te)?sr:Te,ce&&Ie()&&R().onSuccess(Te,N,s)}catch(Qt){pr();const sr=R(),{shouldRetryOnError:es}=sr;sr.isPaused()||(tt.error=Qt,ce&&Ie()&&(sr.onError(Qt,N,sr),(es===!0||zn(es)&&es(Qt))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||z())&&sr.onErrorRetry(Qt,N,sr,xr=>{const Ge=y[N];Ge&&Ge[0]&&Ge[0](bA,xr)},{retryCount:(pt.retryCount||0)+1,dedupe:!0})))}return We=!1,vt(),!0},[N,a]),Pe=p.useCallback((...he)=>wM(a,T.current,...he),[]);if(tf(()=>{A.current=t,E.current=s,It(L)||(G.current=L)}),tf(()=>{if(!N)return;const he=Se.bind(Cs,fw);let _e=0;R().revalidateOnFocus&&(_e=Date.now()+R().focusThrottleInterval);const oe=MV(N,y,(We,pt={})=>{if(We==xM){const ce=Date.now();R().revalidateOnFocus&&ce>_e&&z()&&(_e=ce+R().focusThrottleInterval,he())}else if(We==yM)R().revalidateOnReconnect&&z()&&he();else{if(We==vM)return Se();if(We==bA)return Se(pt)}});return k.current=!1,T.current=N,_.current=!0,O({_k:S}),be&&(v[N]||(It(q)||mf?he():wV(he))),()=>{k.current=!0,oe()}},[N]),tf(()=>{let he;function _e(){const oe=zn(u)?u(B().data):u;oe&&he!==-1&&(he=setTimeout(Te,oe))}function Te(){!B().error&&(h||R().isVisible())&&(f||R().isOnline())?Se(fw).then(_e):_e()}return _e(),()=>{he&&(clearTimeout(he),he=-1)}},[u,h,f,N]),p.useDebugValue(ge),i&&It(q)&&N){if(!jA&&mf)throw new Error("Fallback data is required when using Suspense in SSR.");A.current=t,E.current=s,k.current=!1;const he=b[N];if(!It(he)){const _e=Pe(he);hw(_e)}if(It(ue)){const _e=Se(fw);It(ge)||(_e.status="fulfilled",_e.value=!0),hw(_e)}else throw ue}return{mutate:Pe,get data(){return V.data=!0,ge},get error(){return V.error=!0,ue},get isValidating(){return V.isValidating=!0,Fe},get isLoading(){return V.isLoading=!0,le}}},VV=T0.defineProperty(kV,"defaultValue",{value:_M}),H_=RV(WV),qV=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:VV,default:H_,mutate:NM,preload:EV,unstable_serialize:BV,useSWRConfig:PM},Symbol.toStringTag,{value:"Module"})),HV=()=>{},KV=HV(),YN=Object,CA=e=>e===KV,GV=e=>typeof e=="function",Ig=new WeakMap,YV=e=>YN.prototype.toString.call(e),pw=(e,t)=>e===`[object ${t}]`;let JV=0;const JN=e=>{const t=typeof e,s=YV(e),a=pw(s,"Date"),n=pw(s,"RegExp"),i=pw(s,"Object");let o,l;if(YN(e)===e&&!a&&!n){if(o=Ig.get(e),o)return o;if(o=++JV+"~",Ig.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=JN(e[l])+",";Ig.set(e,o)}if(i){o="#";const d=YN.keys(e).sort();for(;!CA(l=d.pop());)CA(e[l])||(o+=l+":"+JN(e[l])+",");Ig.set(e,o)}}else o=a?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},XV=e=>{if(GV(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?JN(e):"",[e,t]},ZV=e=>XV(e?e(0,null):null)[0],gw=Promise.resolve(),QV=e=>(t,s,a)=>{const n=p.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:l=!1,persistSize:d=!1,revalidateFirstPage:u=!0,revalidateOnMount:h=!1,parallel:f=!1}=a,[,,,g]=xi.get(Uf);let y;try{y=ZV(t),y&&(y=CM+y)}catch{}const[w,v,b]=Ll(i,y),N=p.useCallback(()=>It(w()._l)?o:w()._l,[i,y,o]);V_.useSyncExternalStore(p.useCallback(R=>y?b(y,()=>{R()}):()=>{},[i,y]),N,N);const S=p.useCallback(()=>{const R=w()._l;return It(R)?o:R},[y,o]),_=p.useRef(S());tf(()=>{if(!n.current){n.current=!0;return}y&&v({_l:d?_.current:S()})},[y,i]);const k=h&&!n.current,T=e(y,async R=>{const z=w()._i,B=w()._r;v({_r:Cs});const O=[],I=S(),[F]=Ll(i,R),V=F().data,W=[];let X=null;for(let D=0;D<I;++D){const[U,H]=Ku(t(D,f?null:X));if(!U)break;const[M,L]=Ll(i,U);let q=M().data;const ue=l||z||It(q)||u&&!D&&!It(V)||k||V&&!It(V[D])&&!a.compare(V[D],q);if(s&&(typeof B=="function"?B(q,H):ue)){const G=async()=>{if(!(U in g))q=await s(H);else{const be=g[U];delete g[U],q=await be}L({data:q,_k:H}),O[D]=q};f?W.push(G):await G()}else O[D]=q;f||(X=q)}return f&&await Promise.all(W.map(D=>D())),v({_i:Cs}),O},a),A=p.useCallback(function(R,z){const B=typeof z=="boolean"?{revalidate:z}:z||{},O=B.revalidate!==!1;return y?(O&&(It(R)?v({_i:!0,_r:B.revalidate}):v({_i:!1,_r:B.revalidate})),arguments.length?T.mutate(R,{...B,revalidate:O}):T.mutate()):gw},[y,i]),E=p.useCallback(R=>{if(!y)return gw;const[,z]=Ll(i,y);let B;if(zn(R)?B=R(S()):typeof R=="number"&&(B=R),typeof B!="number")return gw;z({_l:B}),_.current=B;const O=[],[I]=Ll(i,y);let F=null;for(let V=0;V<B;++V){const[W]=Ku(t(V,F)),[X]=Ll(i,W),D=W?X().data:Cs;if(It(D))return A(I().data);O.push(D),F=D}return A(O)},[y,i,A,S]);return{size:S(),setSize:E,mutate:A,get data(){return T.data},get error(){return T.error},get isValidating(){return T.isValidating},get isLoading(){return T.isLoading}}},eq=IV(H_,QV);var kA=Object.prototype.hasOwnProperty;function AA(e,t,s){for(s of e.keys())if(rf(s,t))return s}function rf(e,t){var s,a,n;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((a=e.length)===t.length)for(;a--&&rf(e[a],t[a]););return a===-1}if(s===Set){if(e.size!==t.size)return!1;for(a of e)if(n=a,n&&typeof n=="object"&&(n=AA(t,n),!n)||!t.has(n))return!1;return!0}if(s===Map){if(e.size!==t.size)return!1;for(a of e)if(n=a[0],n&&typeof n=="object"&&(n=AA(t,n),!n)||!rf(a[1],t.get(n)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((a=e.byteLength)===t.byteLength)for(;a--&&e.getInt8(a)===t.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===t.byteLength)for(;a--&&e[a]===t[a];);return a===-1}if(!s||typeof e=="object"){a=0;for(s in e)if(kA.call(e,s)&&++a&&!kA.call(t,s)||!(s in t)||!rf(e[s],t[s]))return!1;return Object.keys(t).length===a}}return e!==e&&t!==t}function tq(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var ho=(e,t)=>{const{assertCtxFn:s=tq}={},a=de.createContext(void 0);return a.displayName=e,[a,()=>{const o=de.useContext(a);return s(o,`${e} not found`),o.value},()=>{const o=de.useContext(a);return o?o.value:{}}]},K_={};qW(K_,{useSWR:()=>H_,useSWRInfinite:()=>eq});KW(K_,qV);var[EM,TM]=ho("ClerkInstanceContext"),[rq,sq]=ho("UserContext"),[aq,fze]=ho("ClientContext"),[nq,pze]=ho("SessionContext");de.createContext({});var[iq,gze]=ho("CheckoutContext"),oq=({children:e,...t})=>de.createElement(iq.Provider,{value:{value:t}},e),[lq,xze]=ho("OrganizationContext"),cq=({children:e,organization:t,swrConfig:s})=>de.createElement(K_.SWRConfig,{value:s},de.createElement(lq.Provider,{value:{value:{organization:t}}},e));function OM(e){if(!de.useContext(EM)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?de.useLayoutEffect:de.useEffect;var PA="useUser";function G_(){var s;OM(PA);const e=sq();return(s=TM().telemetry)==null||s.record(pM(PA)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var EA=rf,dq=e=>{const t=p.useRef(e);return p.useEffect(()=>{t.current=e},[e]),t.current},ln=(e,t,s)=>{const a=!!s,n=p.useRef(s);p.useEffect(()=>{n.current=s},[s]),p.useEffect(()=>{if(!a||!e)return()=>{};const i=(...o)=>{n.current&&n.current(...o)};return e.on(t,i),()=>{e.off(t,i)}},[a,t,e,n])},RM=de.createContext(null);RM.displayName="ElementsContext";var uq=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},O0=e=>e!==null&&typeof e=="object",mq=(e,t,s)=>O0(e)?Object.keys(e).reduce((a,n)=>{const i=!O0(t)||!MM(e[n],t[n]);return s.includes(n)?(i&&console.warn(`Unsupported prop change: options.${n} is not a mutable property.`),a):i?{...a||{},[n]:e[n]}:a},null):null,TA="[object Object]",MM=(e,t)=>{if(!O0(e)||!O0(t))return e===t;const s=Array.isArray(e),a=Array.isArray(t);if(s!==a)return!1;const n=Object.prototype.toString.call(e)===TA,i=Object.prototype.toString.call(t)===TA;if(n!==i)return!1;if(!n&&!s)return e===t;const o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;const d={};for(let y=0;y<o.length;y+=1)d[o[y]]=!0;for(let y=0;y<l.length;y+=1)d[l[y]]=!0;const u=Object.keys(d);if(u.length!==o.length)return!1;const h=e,f=t,g=y=>MM(h[y],f[y]);return u.every(g)},OA=e=>{const t=de.useContext(RM);return uq(t,e)},hq=e=>e.charAt(0).toUpperCase()+e.slice(1),fq=(e,t)=>{const s=`${hq(e)}Element`,i=t?o=>{OA(`mounts <${s}>`);const{id:l,className:d}=o;return de.createElement("div",{id:l,className:d})}:({id:o,className:l,fallback:d,options:u={},onBlur:h,onFocus:f,onReady:g,onChange:y,onEscape:w,onClick:v,onLoadError:b,onLoaderStart:N,onNetworksChange:S,onConfirm:_,onCancel:k,onShippingAddressChange:T,onShippingRateChange:A})=>{const E=OA(`mounts <${s}>`),R="elements"in E?E.elements:null,[z,B]=de.useState(null),O=de.useRef(null),I=de.useRef(null),[F,V]=p.useState(!1);ln(z,"blur",h),ln(z,"focus",f),ln(z,"escape",w),ln(z,"click",v),ln(z,"loaderror",b),ln(z,"loaderstart",N),ln(z,"networkschange",S),ln(z,"confirm",_),ln(z,"cancel",k),ln(z,"shippingaddresschange",T),ln(z,"shippingratechange",A),ln(z,"change",y);let W;g&&(W=()=>{V(!0),g(z)}),ln(z,"ready",W),de.useLayoutEffect(()=>{if(O.current===null&&I.current!==null&&R){let D=null;R&&(D=R.create(e,u)),O.current=D,B(D),D&&D.mount(I.current)}},[R,u]);const X=dq(u);return de.useEffect(()=>{if(!O.current)return;const D=mq(u,X,["paymentRequest"]);D&&"update"in O.current&&O.current.update(D)},[u,X]),de.useLayoutEffect(()=>()=>{if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}},[]),de.createElement(de.Fragment,null,!F&&d,de.createElement("div",{id:o,style:{height:F?"unset":"0px",visibility:F?"visible":"hidden"},className:l,ref:I}))};return i.displayName=s,i.__elementType=e,i},pq=typeof window>"u";fq("payment",pq);ho("StripeLibsContext");ho("PaymentElementContext");ho("StripeUtilsContext");var Zi=dM({packageName:"@clerk/clerk-react"});function gq(e){Zi.setMessages(e).setPackageName(e)}var[xq,yq]=ho("AuthContext"),vq=EM,IM=TM,bq="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",wq=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,jq="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",xw="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",Nq="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",_q="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",Sq="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Cq="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",kq=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,Aq=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,Pq=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,Eq="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Tq="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Oq="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",Rq="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",Mq="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",Iq="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",Dq="Missing props. <UserButton.Action /> component requires the following props: label.",DM=e=>{OM(()=>{Zi.throwMissingClerkProviderError({source:e})})},$M=e=>new Promise(t=>{const s=a=>{["ready","degraded"].includes(a)&&(t(),e.off("status",s))};e.on("status",s,{notify:!0})}),$q=e=>async t=>(await $M(e),e.session?e.session.getToken(t):null),Lq=e=>async(...t)=>(await $M(e),e.signOut(...t)),zq=(e={})=>{var t,s;DM("useAuth");const{treatPendingAsSignedOut:a,...n}=e??{},i=n;let l=yq();l.sessionId===void 0&&l.userId===void 0&&(l=i??{});const d=IM(),u=p.useCallback($q(d),[d]),h=p.useCallback(Lq(d),[d]);return(t=d.telemetry)==null||t.record(pM("useAuth",{treatPendingAsSignedOut:a})),Fq({...l,getToken:u,signOut:h},{treatPendingAsSignedOut:a??((s=d.__internal_getOption)==null?void 0:s.call(d,"treatPendingAsSignedOut"))})};function Fq(e,{treatPendingAsSignedOut:t=!0}={}){const{userId:s,orgId:a,orgRole:n,has:i,signOut:o,getToken:l,orgPermissions:d,factorVerificationAge:u,sessionClaims:h}=e??{},f=p.useCallback(y=>i?i(y):nV({userId:s,orgId:a,orgRole:n,orgPermissions:d,factorVerificationAge:u,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(y),[i,s,a,n,d,u]),g=iV({authObject:{...e,getToken:l,signOut:o,has:f},options:{treatPendingAsSignedOut:t}});return g||Zi.throw(jq)}var Fr=(e,t)=>{const a=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=a;const n=typeof t=="string"?void 0:t,i=o=>{DM(a||"withClerk");const l=IM();return!l.loaded&&!(n!=null&&n.renderWhileLoading)?null:de.createElement(e,{...o,component:a,clerk:l})};return i.displayName=`withClerk(${a})`,i},Uq=()=>{try{return!1}catch{}return!1},Bq=()=>{try{return!1}catch{}return!1},Wq=()=>{try{return!0}catch{}return!1},RA=new Set,Y_=(e,t,s)=>{const a=Bq()||Wq(),n=e;RA.has(n)||a||(RA.add(n),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};Fr(({clerk:e,...t})=>{const{client:s,session:a}=e,n=s.signedInSessions?s.signedInSessions.length>0:s.activeSessions&&s.activeSessions.length>0;return de.useEffect(()=>{a===null&&n?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");Fr(({clerk:e,...t})=>(de.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");Fr(({clerk:e})=>{const{session:t}=e;return de.useEffect(()=>{if(!t){e.redirectToSignIn();return}e.__internal_navigateToTaskIfAvailable()},[]),null},"RedirectToTask");Fr(({clerk:e})=>(de.useEffect(()=>{Y_("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Fr(({clerk:e})=>(de.useEffect(()=>{Y_("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Fr(({clerk:e})=>(de.useEffect(()=>{Y_("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Fr(({clerk:e,...t})=>(de.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var Ra=e=>{Uq()&&console.error(`Clerk: ${e}`)};function yw(e,t,s){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof s<"u")return s}var vw={exports:{}},Ka={},bw={exports:{}},ww={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function Vq(){return MA||(MA=1,function(e){function t(U,H){var M=U.length;U.push(H);e:for(;0<M;){var L=M-1>>>1,q=U[L];if(0<n(q,H))U[L]=H,U[M]=q,M=L;else break e}}function s(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var H=U[0],M=U.pop();if(M!==H){U[0]=M;e:for(var L=0,q=U.length,ue=q>>>1;L<ue;){var G=2*(L+1)-1,ge=U[G],be=G+1,Ne=U[be];if(0>n(ge,M))be<q&&0>n(Ne,ge)?(U[L]=Ne,U[be]=M,L=be):(U[L]=ge,U[G]=M,L=G);else if(be<q&&0>n(Ne,M))U[L]=Ne,U[be]=M,L=be;else break e}}return H}function n(U,H){var M=U.sortIndex-H.sortIndex;return M!==0?M:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,f=null,g=3,y=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var H=s(u);H!==null;){if(H.callback===null)a(u);else if(H.startTime<=U)a(u),H.sortIndex=H.expirationTime,t(d,H);else break;H=s(u)}}function k(U){if(v=!1,_(U),!w)if(s(d)!==null)w=!0,X(T);else{var H=s(u);H!==null&&D(k,H.startTime-U)}}function T(U,H){w=!1,v&&(v=!1,N(R),R=-1),y=!0;var M=g;try{for(_(H),f=s(d);f!==null&&(!(f.expirationTime>H)||U&&!O());){var L=f.callback;if(typeof L=="function"){f.callback=null,g=f.priorityLevel;var q=L(f.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?f.callback=q:f===s(d)&&a(d),_(H)}else a(d);f=s(d)}if(f!==null)var ue=!0;else{var G=s(u);G!==null&&D(k,G.startTime-H),ue=!1}return ue}finally{f=null,g=M,y=!1}}var A=!1,E=null,R=-1,z=5,B=-1;function O(){return!(e.unstable_now()-B<z)}function I(){if(E!==null){var U=e.unstable_now();B=U;var H=!0;try{H=E(!0,U)}finally{H?F():(A=!1,E=null)}}else A=!1}var F;if(typeof S=="function")F=function(){S(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=I,F=function(){W.postMessage(null)}}else F=function(){b(I,0)};function X(U){E=U,A||(A=!0,F())}function D(U,H){R=b(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,X(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var M=g;g=H;try{return U()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var M=g;g=U;try{return H()}finally{g=M}},e.unstable_scheduleCallback=function(U,H,M){var L=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?L+M:L):M=L,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,U={id:h++,callback:H,priorityLevel:U,startTime:M,expirationTime:q,sortIndex:-1},M>L?(U.sortIndex=M,t(u,U),s(d)===null&&U===s(u)&&(v?(N(R),R=-1):v=!0,D(k,M-L))):(U.sortIndex=q,t(d,U),w||y||(w=!0,X(T))),U},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(U){var H=g;return function(){var M=g;g=H;try{return U.apply(this,arguments)}finally{g=M}}}}(ww)),ww}var IA;function qq(){return IA||(IA=1,bw.exports=Vq()),bw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA;function Hq(){if(DA)return Ka;DA=1;var e=fm(),t=qq();function s(c){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function i(c,m){o(c,m),o(c+"Capture",m)}function o(c,m){for(n[c]=m,c=0;c<m.length;c++)a.add(m[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(c){return d.call(f,c)?!0:d.call(h,c)?!1:u.test(c)?f[c]=!0:(h[c]=!0,!1)}function y(c,m,x,j){if(x!==null&&x.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return j?!1:x!==null?!x.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,m,x,j){if(m===null||typeof m>"u"||y(c,m,x,j))return!0;if(j)return!1;if(x!==null)switch(x.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(c,m,x,j,C,P,$){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=j,this.attributeNamespace=C,this.mustUseProperty=x,this.propertyName=c,this.type=m,this.sanitizeURL=P,this.removeEmptyString=$}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var m=c[0];b[m]=new v(m,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var m=c.replace(N,S);b[m]=new v(m,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var m=c.replace(N,S);b[m]=new v(m,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var m=c.replace(N,S);b[m]=new v(m,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function _(c,m,x,j){var C=b.hasOwnProperty(m)?b[m]:null;(C!==null?C.type!==0:j||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(w(m,x,C,j)&&(x=null),j||C===null?g(m)&&(x===null?c.removeAttribute(m):c.setAttribute(m,""+x)):C.mustUseProperty?c[C.propertyName]=x===null?C.type===3?!1:"":x:(m=C.attributeName,j=C.attributeNamespace,x===null?c.removeAttribute(m):(C=C.type,x=C===3||C===4&&x===!0?"":""+x,j?c.setAttributeNS(j,m,x):c.setAttribute(m,x))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),U=Symbol.iterator;function H(c){return c===null||typeof c!="object"?null:(c=U&&c[U]||c["@@iterator"],typeof c=="function"?c:null)}var M=Object.assign,L;function q(c){if(L===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);L=m&&m[1]||""}return`
`+L+c}var ue=!1;function G(c,m){if(!c||ue)return"";ue=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ve){var j=ve}Reflect.construct(c,[],m)}else{try{m.call()}catch(ve){j=ve}c.call(m.prototype)}else{try{throw Error()}catch(ve){j=ve}c()}}catch(ve){if(ve&&j&&typeof ve.stack=="string"){for(var C=ve.stack.split(`
`),P=j.stack.split(`
`),$=C.length-1,Z=P.length-1;1<=$&&0<=Z&&C[$]!==P[Z];)Z--;for(;1<=$&&0<=Z;$--,Z--)if(C[$]!==P[Z]){if($!==1||Z!==1)do if($--,Z--,0>Z||C[$]!==P[Z]){var re=`
`+C[$].replace(" at new "," at ");return c.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",c.displayName)),re}while(1<=$&&0<=Z);break}}}finally{ue=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?q(c):""}function ge(c){switch(c.tag){case 5:return q(c.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return c=G(c.type,!1),c;case 11:return c=G(c.type.render,!1),c;case 1:return c=G(c.type,!0),c;default:return""}}function be(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case E:return"Fragment";case A:return"Portal";case z:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case V:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case O:return(c.displayName||"Context")+".Consumer";case B:return(c._context.displayName||"Context")+".Provider";case I:var m=c.render;return c=c.displayName,c||(c=m.displayName||m.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case W:return m=c.displayName||null,m!==null?m:be(c.type)||"Memo";case X:m=c._payload,c=c._init;try{return be(c(m))}catch{}}return null}function Ne(c){var m=c.type;switch(c.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=m.render,c=c.displayName||c.name||"",m.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(m);case 8:return m===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function Fe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function le(c){var m=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Se(c){var m=le(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,m),j=""+c[m];if(!c.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var C=x.get,P=x.set;return Object.defineProperty(c,m,{configurable:!0,get:function(){return C.call(this)},set:function($){j=""+$,P.call(this,$)}}),Object.defineProperty(c,m,{enumerable:x.enumerable}),{getValue:function(){return j},setValue:function($){j=""+$},stopTracking:function(){c._valueTracker=null,delete c[m]}}}}function Pe(c){c._valueTracker||(c._valueTracker=Se(c))}function te(c){if(!c)return!1;var m=c._valueTracker;if(!m)return!0;var x=m.getValue(),j="";return c&&(j=le(c)?c.checked?"true":"false":c.value),c=j,c!==x?(m.setValue(c),!0):!1}function he(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function _e(c,m){var x=m.checked;return M({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??c._wrapperState.initialChecked})}function Te(c,m){var x=m.defaultValue==null?"":m.defaultValue,j=m.checked!=null?m.checked:m.defaultChecked;x=Fe(m.value!=null?m.value:x),c._wrapperState={initialChecked:j,initialValue:x,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function oe(c,m){m=m.checked,m!=null&&_(c,"checked",m,!1)}function We(c,m){oe(c,m);var x=Fe(m.value),j=m.type;if(x!=null)j==="number"?(x===0&&c.value===""||c.value!=x)&&(c.value=""+x):c.value!==""+x&&(c.value=""+x);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}m.hasOwnProperty("value")?ce(c,m.type,x):m.hasOwnProperty("defaultValue")&&ce(c,m.type,Fe(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(c.defaultChecked=!!m.defaultChecked)}function pt(c,m,x){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var j=m.type;if(!(j!=="submit"&&j!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+c._wrapperState.initialValue,x||m===c.value||(c.value=m),c.defaultValue=m}x=c.name,x!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,x!==""&&(c.name=x)}function ce(c,m,x){(m!=="number"||he(c.ownerDocument)!==c)&&(x==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+x&&(c.defaultValue=""+x))}var Ie=Array.isArray;function tt(c,m,x,j){if(c=c.options,m){m={};for(var C=0;C<x.length;C++)m["$"+x[C]]=!0;for(x=0;x<c.length;x++)C=m.hasOwnProperty("$"+c[x].value),c[x].selected!==C&&(c[x].selected=C),C&&j&&(c[x].defaultSelected=!0)}else{for(x=""+Fe(x),m=null,C=0;C<c.length;C++){if(c[C].value===x){c[C].selected=!0,j&&(c[C].defaultSelected=!0);return}m!==null||c[C].disabled||(m=c[C])}m!==null&&(m.selected=!0)}}function vt(c,m){if(m.dangerouslySetInnerHTML!=null)throw Error(s(91));return M({},m,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function pr(c,m){var x=m.value;if(x==null){if(x=m.children,m=m.defaultValue,x!=null){if(m!=null)throw Error(s(92));if(Ie(x)){if(1<x.length)throw Error(s(93));x=x[0]}m=x}m==null&&(m=""),x=m}c._wrapperState={initialValue:Fe(x)}}function us(c,m){var x=Fe(m.value),j=Fe(m.defaultValue);x!=null&&(x=""+x,x!==c.value&&(c.value=x),m.defaultValue==null&&c.defaultValue!==x&&(c.defaultValue=x)),j!=null&&(c.defaultValue=""+j)}function Qt(c){var m=c.textContent;m===c._wrapperState.initialValue&&m!==""&&m!==null&&(c.value=m)}function sr(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function es(c,m){return c==null||c==="http://www.w3.org/1999/xhtml"?sr(m):c==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var xr,Ge=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,x,j,C){MSApp.execUnsafeLocalFunction(function(){return c(m,x,j,C)})}:c}(function(c,m){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=m;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=xr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;m.firstChild;)c.appendChild(m.firstChild)}});function yr(c,m){if(m){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=m;return}}c.textContent=m}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_a=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(c){_a.forEach(function(m){m=m+c.charAt(0).toUpperCase()+c.substring(1),kr[m]=kr[c]})});function ur(c,m,x){return m==null||typeof m=="boolean"||m===""?"":x||typeof m!="number"||m===0||kr.hasOwnProperty(c)&&kr[c]?(""+m).trim():m+"px"}function ms(c,m){c=c.style;for(var x in m)if(m.hasOwnProperty(x)){var j=x.indexOf("--")===0,C=ur(x,m[x],j);x==="float"&&(x="cssFloat"),j?c.setProperty(x,C):c[x]=C}}var Kt=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tn(c,m){if(m){if(Kt[c]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(s(137,c));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(s(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(s(61))}if(m.style!=null&&typeof m.style!="object")throw Error(s(62))}}function Rt(c,m){if(c.indexOf("-")===-1)return typeof m.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function ie(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var je=null,Ue=null,ot=null;function _t(c){if(c=ih(c)){if(typeof je!="function")throw Error(s(280));var m=c.stateNode;m&&(m=Kp(m),je(c.stateNode,c.type,m))}}function ir(c){Ue?ot?ot.push(c):ot=[c]:Ue=c}function Ct(){if(Ue){var c=Ue,m=ot;if(ot=Ue=null,_t(c),m)for(c=0;c<m.length;c++)_t(m[c])}}function Sa(c,m){return c(m)}function bs(){}var Ca=!1;function sa(c,m,x){if(Ca)return c(m,x);Ca=!0;try{return Sa(c,m,x)}finally{Ca=!1,(Ue!==null||ot!==null)&&(bs(),Ct())}}function ts(c,m){var x=c.stateNode;if(x===null)return null;var j=Kp(x);if(j===null)return null;x=j[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(s(231,m,typeof x));return x}var hs=!1;if(l)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{hs=!1}function za(c,m,x,j,C,P,$,Z,re){var ve=Array.prototype.slice.call(arguments,3);try{m.apply(x,ve)}catch(Re){this.onError(Re)}}var qs=!1,Fa=null,ka=!1,Di=null,kt={onError:function(c){qs=!0,Fa=c}};function ar(c,m,x,j,C,P,$,Z,re){qs=!1,Fa=null,za.apply(kt,arguments)}function Ee(c,m,x,j,C,P,$,Z,re){if(ar.apply(this,arguments),qs){if(qs){var ve=Fa;qs=!1,Fa=null}else throw Error(s(198));ka||(ka=!0,Di=ve)}}function it(c){var m=c,x=c;if(c.alternate)for(;m.return;)m=m.return;else{c=m;do m=c,(m.flags&4098)!==0&&(x=m.return),c=m.return;while(c)}return m.tag===3?x:null}function ft(c){if(c.tag===13){var m=c.memoizedState;if(m===null&&(c=c.alternate,c!==null&&(m=c.memoizedState)),m!==null)return m.dehydrated}return null}function Et(c){if(it(c)!==c)throw Error(s(188))}function Mt(c){var m=c.alternate;if(!m){if(m=it(c),m===null)throw Error(s(188));return m!==c?null:c}for(var x=c,j=m;;){var C=x.return;if(C===null)break;var P=C.alternate;if(P===null){if(j=C.return,j!==null){x=j;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===x)return Et(C),c;if(P===j)return Et(C),m;P=P.sibling}throw Error(s(188))}if(x.return!==j.return)x=C,j=P;else{for(var $=!1,Z=C.child;Z;){if(Z===x){$=!0,x=C,j=P;break}if(Z===j){$=!0,j=C,x=P;break}Z=Z.sibling}if(!$){for(Z=P.child;Z;){if(Z===x){$=!0,x=P,j=C;break}if(Z===j){$=!0,j=P,x=C;break}Z=Z.sibling}if(!$)throw Error(s(189))}}if(x.alternate!==j)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?c:m}function $i(c){return c=Mt(c),c!==null?Hs(c):null}function Hs(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var m=Hs(c);if(m!==null)return m;c=c.sibling}return null}var Kr=t.unstable_scheduleCallback,Ua=t.unstable_cancelCallback,Nn=t.unstable_shouldYield,ul=t.unstable_requestPaint,nr=t.unstable_now,bo=t.unstable_getCurrentPriorityLevel,Os=t.unstable_ImmediatePriority,Li=t.unstable_UserBlockingPriority,zi=t.unstable_NormalPriority,bc=t.unstable_LowPriority,wc=t.unstable_IdlePriority,ml=null,Aa=null;function Ud(c){if(Aa&&typeof Aa.onCommitFiberRoot=="function")try{Aa.onCommitFiberRoot(ml,c,void 0,(c.current.flags&128)===128)}catch{}}var Q=Math.clz32?Math.clz32:ct,se=Math.log,$e=Math.LN2;function ct(c){return c>>>=0,c===0?32:31-(se(c)/$e|0)|0}var lt=64,or=4194304;function rn(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function aa(c,m){var x=c.pendingLanes;if(x===0)return 0;var j=0,C=c.suspendedLanes,P=c.pingedLanes,$=x&268435455;if($!==0){var Z=$&~C;Z!==0?j=rn(Z):(P&=$,P!==0&&(j=rn(P)))}else $=x&~C,$!==0?j=rn($):P!==0&&(j=rn(P));if(j===0)return 0;if(m!==0&&m!==j&&(m&C)===0&&(C=j&-j,P=m&-m,C>=P||C===16&&(P&4194240)!==0))return m;if((j&4)!==0&&(j|=x&16),m=c.entangledLanes,m!==0)for(c=c.entanglements,m&=j;0<m;)x=31-Q(m),C=1<<x,j|=c[x],m&=~C;return j}function na(c,m){switch(c){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(c,m){for(var x=c.suspendedLanes,j=c.pingedLanes,C=c.expirationTimes,P=c.pendingLanes;0<P;){var $=31-Q(P),Z=1<<$,re=C[$];re===-1?((Z&x)===0||(Z&j)!==0)&&(C[$]=na(Z,m)):re<=m&&(c.expiredLanes|=Z),P&=~Z}}function Rs(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function _n(){var c=lt;return lt<<=1,(lt&4194240)===0&&(lt=64),c}function fs(c){for(var m=[],x=0;31>x;x++)m.push(c);return m}function Sn(c,m,x){c.pendingLanes|=m,m!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,m=31-Q(m),c[m]=x}function wo(c,m){var x=c.pendingLanes&~m;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=m,c.mutableReadLanes&=m,c.entangledLanes&=m,m=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<x;){var C=31-Q(x),P=1<<C;m[C]=0,j[C]=-1,c[C]=-1,x&=~P}}function Cn(c,m){var x=c.entangledLanes|=m;for(c=c.entanglements;x;){var j=31-Q(x),C=1<<j;C&m|c[j]&m&&(c[j]|=m),x&=~C}}var Xt=0;function zm(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Fm,Bd,Um,Bm,Wm,Wd=!1,jc=[],ai=null,ni=null,ii=null,hl=new Map,fl=new Map,oi=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vm(c,m){switch(c){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":hl.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(m.pointerId)}}function pl(c,m,x,j,C,P){return c===null||c.nativeEvent!==P?(c={blockedOn:m,domEventName:x,eventSystemFlags:j,nativeEvent:P,targetContainers:[C]},m!==null&&(m=ih(m),m!==null&&Bd(m)),c):(c.eventSystemFlags|=j,m=c.targetContainers,C!==null&&m.indexOf(C)===-1&&m.push(C),c)}function Rp(c,m,x,j,C){switch(m){case"focusin":return ai=pl(ai,c,m,x,j,C),!0;case"dragenter":return ni=pl(ni,c,m,x,j,C),!0;case"mouseover":return ii=pl(ii,c,m,x,j,C),!0;case"pointerover":var P=C.pointerId;return hl.set(P,pl(hl.get(P)||null,c,m,x,j,C)),!0;case"gotpointercapture":return P=C.pointerId,fl.set(P,pl(fl.get(P)||null,c,m,x,j,C)),!0}return!1}function qm(c){var m=Sc(c.target);if(m!==null){var x=it(m);if(x!==null){if(m=x.tag,m===13){if(m=ft(x),m!==null){c.blockedOn=m,Wm(c.priority,function(){Um(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Nc(c){if(c.blockedOn!==null)return!1;for(var m=c.targetContainers;0<m.length;){var x=Km(c.domEventName,c.eventSystemFlags,m[0],c.nativeEvent);if(x===null){x=c.nativeEvent;var j=new x.constructor(x.type,x);Lt=j,x.target.dispatchEvent(j),Lt=null}else return m=ih(x),m!==null&&Bd(m),c.blockedOn=x,!1;m.shift()}return!0}function Hm(c,m,x){Nc(c)&&x.delete(m)}function Mp(){Wd=!1,ai!==null&&Nc(ai)&&(ai=null),ni!==null&&Nc(ni)&&(ni=null),ii!==null&&Nc(ii)&&(ii=null),hl.forEach(Hm),fl.forEach(Hm)}function gl(c,m){c.blockedOn===m&&(c.blockedOn=null,Wd||(Wd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}function xl(c){function m(C){return gl(C,c)}if(0<jc.length){gl(jc[0],c);for(var x=1;x<jc.length;x++){var j=jc[x];j.blockedOn===c&&(j.blockedOn=null)}}for(ai!==null&&gl(ai,c),ni!==null&&gl(ni,c),ii!==null&&gl(ii,c),hl.forEach(m),fl.forEach(m),x=0;x<oi.length;x++)j=oi[x],j.blockedOn===c&&(j.blockedOn=null);for(;0<oi.length&&(x=oi[0],x.blockedOn===null);)qm(x),x.blockedOn===null&&oi.shift()}var jo=k.ReactCurrentBatchConfig,_c=!0;function Ip(c,m,x,j){var C=Xt,P=jo.transition;jo.transition=null;try{Xt=1,Vd(c,m,x,j)}finally{Xt=C,jo.transition=P}}function Dp(c,m,x,j){var C=Xt,P=jo.transition;jo.transition=null;try{Xt=4,Vd(c,m,x,j)}finally{Xt=C,jo.transition=P}}function Vd(c,m,x,j){if(_c){var C=Km(c,m,x,j);if(C===null)Gv(c,m,j,Be,x),Vm(c,j);else if(Rp(C,c,m,x,j))j.stopPropagation();else if(Vm(c,j),m&4&&-1<Op.indexOf(c)){for(;C!==null;){var P=ih(C);if(P!==null&&Fm(P),P=Km(c,m,x,j),P===null&&Gv(c,m,j,Be,x),P===C)break;C=P}C!==null&&j.stopPropagation()}else Gv(c,m,j,null,x)}}var Be=null;function Km(c,m,x,j){if(Be=null,c=ie(j),c=Sc(c),c!==null)if(m=it(c),m===null)c=null;else if(x=m.tag,x===13){if(c=ft(m),c!==null)return c;c=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;c=null}else m!==c&&(c=null);return Be=c,null}function qd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bo()){case Os:return 1;case Li:return 4;case zi:case bc:return 16;case wc:return 536870912;default:return 16}default:return 16}}var lr=null,Mr=null,No=null;function Gm(){if(No)return No;var c,m=Mr,x=m.length,j,C="value"in lr?lr.value:lr.textContent,P=C.length;for(c=0;c<x&&m[c]===C[c];c++);var $=x-c;for(j=1;j<=$&&m[x-j]===C[P-j];j++);return No=C.slice(c,1<j?1-j:void 0)}function $p(c){var m=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&m===13&&(c=13)):c=m,c===10&&(c=13),32<=c||c===13?c:0}function Lp(){return!0}function ek(){return!1}function sn(c){function m(x,j,C,P,$){this._reactName=x,this._targetInst=C,this.type=j,this.nativeEvent=P,this.target=$,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(x=c[Z],this[Z]=x?x(P):P[Z]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Lp:ek,this.isPropagationStopped=ek,this}return M(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),m}var Hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=sn(Hd),Ym=M({},Hd,{view:0,detail:0}),o9=sn(Ym),Mv,Iv,Jm,zp=M({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Jm&&(Jm&&c.type==="mousemove"?(Mv=c.screenX-Jm.screenX,Iv=c.screenY-Jm.screenY):Iv=Mv=0,Jm=c),Mv)},movementY:function(c){return"movementY"in c?c.movementY:Iv}}),tk=sn(zp),l9=M({},zp,{dataTransfer:0}),c9=sn(l9),d9=M({},Ym,{relatedTarget:0}),Dv=sn(d9),u9=M({},Hd,{animationName:0,elapsedTime:0,pseudoElement:0}),m9=sn(u9),h9=M({},Hd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),f9=sn(h9),p9=M({},Hd,{data:0}),rk=sn(p9),g9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v9(c){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(c):(c=y9[c])?!!m[c]:!1}function $v(){return v9}var b9=M({},Ym,{key:function(c){if(c.key){var m=g9[c.key]||c.key;if(m!=="Unidentified")return m}return c.type==="keypress"?(c=$p(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?x9[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(c){return c.type==="keypress"?$p(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?$p(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),w9=sn(b9),j9=M({},zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sk=sn(j9),N9=M({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),_9=sn(N9),S9=M({},Hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),C9=sn(S9),k9=M({},zp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),A9=sn(k9),P9=[9,13,27,32],Lv=l&&"CompositionEvent"in window,Xm=null;l&&"documentMode"in document&&(Xm=document.documentMode);var E9=l&&"TextEvent"in window&&!Xm,ak=l&&(!Lv||Xm&&8<Xm&&11>=Xm),nk=" ",ik=!1;function ok(c,m){switch(c){case"keyup":return P9.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lk(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Kd=!1;function T9(c,m){switch(c){case"compositionend":return lk(m);case"keypress":return m.which!==32?null:(ik=!0,nk);case"textInput":return c=m.data,c===nk&&ik?null:c;default:return null}}function O9(c,m){if(Kd)return c==="compositionend"||!Lv&&ok(c,m)?(c=Gm(),No=Mr=lr=null,Kd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ak&&m.locale!=="ko"?null:m.data;default:return null}}var R9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ck(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m==="input"?!!R9[c.type]:m==="textarea"}function dk(c,m,x,j){ir(j),m=Vp(m,"onChange"),0<m.length&&(x=new Rv("onChange","change",null,x,j),c.push({event:x,listeners:m}))}var Zm=null,Qm=null;function M9(c){Ak(c,0)}function Fp(c){var m=Zd(c);if(te(m))return c}function I9(c,m){if(c==="change")return m}var uk=!1;if(l){var zv;if(l){var Fv="oninput"in document;if(!Fv){var mk=document.createElement("div");mk.setAttribute("oninput","return;"),Fv=typeof mk.oninput=="function"}zv=Fv}else zv=!1;uk=zv&&(!document.documentMode||9<document.documentMode)}function hk(){Zm&&(Zm.detachEvent("onpropertychange",fk),Qm=Zm=null)}function fk(c){if(c.propertyName==="value"&&Fp(Qm)){var m=[];dk(m,Qm,c,ie(c)),sa(M9,m)}}function D9(c,m,x){c==="focusin"?(hk(),Zm=m,Qm=x,Zm.attachEvent("onpropertychange",fk)):c==="focusout"&&hk()}function $9(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Fp(Qm)}function L9(c,m){if(c==="click")return Fp(m)}function z9(c,m){if(c==="input"||c==="change")return Fp(m)}function F9(c,m){return c===m&&(c!==0||1/c===1/m)||c!==c&&m!==m}var li=typeof Object.is=="function"?Object.is:F9;function eh(c,m){if(li(c,m))return!0;if(typeof c!="object"||c===null||typeof m!="object"||m===null)return!1;var x=Object.keys(c),j=Object.keys(m);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var C=x[j];if(!d.call(m,C)||!li(c[C],m[C]))return!1}return!0}function pk(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function gk(c,m){var x=pk(c);c=0;for(var j;x;){if(x.nodeType===3){if(j=c+x.textContent.length,c<=m&&j>=m)return{node:x,offset:m-c};c=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=pk(x)}}function xk(c,m){return c&&m?c===m?!0:c&&c.nodeType===3?!1:m&&m.nodeType===3?xk(c,m.parentNode):"contains"in c?c.contains(m):c.compareDocumentPosition?!!(c.compareDocumentPosition(m)&16):!1:!1}function yk(){for(var c=window,m=he();m instanceof c.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)c=m.contentWindow;else break;m=he(c.document)}return m}function Uv(c){var m=c&&c.nodeName&&c.nodeName.toLowerCase();return m&&(m==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||m==="textarea"||c.contentEditable==="true")}function U9(c){var m=yk(),x=c.focusedElem,j=c.selectionRange;if(m!==x&&x&&x.ownerDocument&&xk(x.ownerDocument.documentElement,x)){if(j!==null&&Uv(x)){if(m=j.start,c=j.end,c===void 0&&(c=m),"selectionStart"in x)x.selectionStart=m,x.selectionEnd=Math.min(c,x.value.length);else if(c=(m=x.ownerDocument||document)&&m.defaultView||window,c.getSelection){c=c.getSelection();var C=x.textContent.length,P=Math.min(j.start,C);j=j.end===void 0?P:Math.min(j.end,C),!c.extend&&P>j&&(C=j,j=P,P=C),C=gk(x,P);var $=gk(x,j);C&&$&&(c.rangeCount!==1||c.anchorNode!==C.node||c.anchorOffset!==C.offset||c.focusNode!==$.node||c.focusOffset!==$.offset)&&(m=m.createRange(),m.setStart(C.node,C.offset),c.removeAllRanges(),P>j?(c.addRange(m),c.extend($.node,$.offset)):(m.setEnd($.node,$.offset),c.addRange(m)))}}for(m=[],c=x;c=c.parentNode;)c.nodeType===1&&m.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<m.length;x++)c=m[x],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var B9=l&&"documentMode"in document&&11>=document.documentMode,Gd=null,Bv=null,th=null,Wv=!1;function vk(c,m,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Wv||Gd==null||Gd!==he(j)||(j=Gd,"selectionStart"in j&&Uv(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),th&&eh(th,j)||(th=j,j=Vp(Bv,"onSelect"),0<j.length&&(m=new Rv("onSelect","select",null,m,x),c.push({event:m,listeners:j}),m.target=Gd)))}function Up(c,m){var x={};return x[c.toLowerCase()]=m.toLowerCase(),x["Webkit"+c]="webkit"+m,x["Moz"+c]="moz"+m,x}var Yd={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},Vv={},bk={};l&&(bk=document.createElement("div").style,"AnimationEvent"in window||(delete Yd.animationend.animation,delete Yd.animationiteration.animation,delete Yd.animationstart.animation),"TransitionEvent"in window||delete Yd.transitionend.transition);function Bp(c){if(Vv[c])return Vv[c];if(!Yd[c])return c;var m=Yd[c],x;for(x in m)if(m.hasOwnProperty(x)&&x in bk)return Vv[c]=m[x];return c}var wk=Bp("animationend"),jk=Bp("animationiteration"),Nk=Bp("animationstart"),_k=Bp("transitionend"),Sk=new Map,Ck="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(c,m){Sk.set(c,m),i(m,[c])}for(var qv=0;qv<Ck.length;qv++){var Hv=Ck[qv],W9=Hv.toLowerCase(),V9=Hv[0].toUpperCase()+Hv.slice(1);yl(W9,"on"+V9)}yl(wk,"onAnimationEnd"),yl(jk,"onAnimationIteration"),yl(Nk,"onAnimationStart"),yl("dblclick","onDoubleClick"),yl("focusin","onFocus"),yl("focusout","onBlur"),yl(_k,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function kk(c,m,x){var j=c.type||"unknown-event";c.currentTarget=x,Ee(j,m,void 0,c),c.currentTarget=null}function Ak(c,m){m=(m&4)!==0;for(var x=0;x<c.length;x++){var j=c[x],C=j.event;j=j.listeners;e:{var P=void 0;if(m)for(var $=j.length-1;0<=$;$--){var Z=j[$],re=Z.instance,ve=Z.currentTarget;if(Z=Z.listener,re!==P&&C.isPropagationStopped())break e;kk(C,Z,ve),P=re}else for($=0;$<j.length;$++){if(Z=j[$],re=Z.instance,ve=Z.currentTarget,Z=Z.listener,re!==P&&C.isPropagationStopped())break e;kk(C,Z,ve),P=re}}}if(ka)throw c=Di,ka=!1,Di=null,c}function Ar(c,m){var x=m[eb];x===void 0&&(x=m[eb]=new Set);var j=c+"__bubble";x.has(j)||(Pk(m,c,2,!1),x.add(j))}function Kv(c,m,x){var j=0;m&&(j|=4),Pk(x,c,j,m)}var Wp="_reactListening"+Math.random().toString(36).slice(2);function sh(c){if(!c[Wp]){c[Wp]=!0,a.forEach(function(x){x!=="selectionchange"&&(q9.has(x)||Kv(x,!1,c),Kv(x,!0,c))});var m=c.nodeType===9?c:c.ownerDocument;m===null||m[Wp]||(m[Wp]=!0,Kv("selectionchange",!1,m))}}function Pk(c,m,x,j){switch(qd(m)){case 1:var C=Ip;break;case 4:C=Dp;break;default:C=Vd}x=C.bind(null,m,x,c),C=void 0,!hs||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(C=!0),j?C!==void 0?c.addEventListener(m,x,{capture:!0,passive:C}):c.addEventListener(m,x,!0):C!==void 0?c.addEventListener(m,x,{passive:C}):c.addEventListener(m,x,!1)}function Gv(c,m,x,j,C){var P=j;if((m&1)===0&&(m&2)===0&&j!==null)e:for(;;){if(j===null)return;var $=j.tag;if($===3||$===4){var Z=j.stateNode.containerInfo;if(Z===C||Z.nodeType===8&&Z.parentNode===C)break;if($===4)for($=j.return;$!==null;){var re=$.tag;if((re===3||re===4)&&(re=$.stateNode.containerInfo,re===C||re.nodeType===8&&re.parentNode===C))return;$=$.return}for(;Z!==null;){if($=Sc(Z),$===null)return;if(re=$.tag,re===5||re===6){j=P=$;continue e}Z=Z.parentNode}}j=j.return}sa(function(){var ve=P,Re=ie(x),Me=[];e:{var Oe=Sk.get(c);if(Oe!==void 0){var Ve=Rv,Ye=c;switch(c){case"keypress":if($p(x)===0)break e;case"keydown":case"keyup":Ve=w9;break;case"focusin":Ye="focus",Ve=Dv;break;case"focusout":Ye="blur",Ve=Dv;break;case"beforeblur":case"afterblur":Ve=Dv;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=tk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=c9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=_9;break;case wk:case jk:case Nk:Ve=m9;break;case _k:Ve=C9;break;case"scroll":Ve=o9;break;case"wheel":Ve=A9;break;case"copy":case"cut":case"paste":Ve=f9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=sk}var Ze=(m&4)!==0,rs=!Ze&&c==="scroll",me=Ze?Oe!==null?Oe+"Capture":null:Oe;Ze=[];for(var ne=ve,fe;ne!==null;){fe=ne;var Le=fe.stateNode;if(fe.tag===5&&Le!==null&&(fe=Le,me!==null&&(Le=ts(ne,me),Le!=null&&Ze.push(ah(ne,Le,fe)))),rs)break;ne=ne.return}0<Ze.length&&(Oe=new Ve(Oe,Ye,null,x,Re),Me.push({event:Oe,listeners:Ze}))}}if((m&7)===0){e:{if(Oe=c==="mouseover"||c==="pointerover",Ve=c==="mouseout"||c==="pointerout",Oe&&x!==Lt&&(Ye=x.relatedTarget||x.fromElement)&&(Sc(Ye)||Ye[_o]))break e;if((Ve||Oe)&&(Oe=Re.window===Re?Re:(Oe=Re.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Ve?(Ye=x.relatedTarget||x.toElement,Ve=ve,Ye=Ye?Sc(Ye):null,Ye!==null&&(rs=it(Ye),Ye!==rs||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(Ve=null,Ye=ve),Ve!==Ye)){if(Ze=tk,Le="onMouseLeave",me="onMouseEnter",ne="mouse",(c==="pointerout"||c==="pointerover")&&(Ze=sk,Le="onPointerLeave",me="onPointerEnter",ne="pointer"),rs=Ve==null?Oe:Zd(Ve),fe=Ye==null?Oe:Zd(Ye),Oe=new Ze(Le,ne+"leave",Ve,x,Re),Oe.target=rs,Oe.relatedTarget=fe,Le=null,Sc(Re)===ve&&(Ze=new Ze(me,ne+"enter",Ye,x,Re),Ze.target=fe,Ze.relatedTarget=rs,Le=Ze),rs=Le,Ve&&Ye)t:{for(Ze=Ve,me=Ye,ne=0,fe=Ze;fe;fe=Jd(fe))ne++;for(fe=0,Le=me;Le;Le=Jd(Le))fe++;for(;0<ne-fe;)Ze=Jd(Ze),ne--;for(;0<fe-ne;)me=Jd(me),fe--;for(;ne--;){if(Ze===me||me!==null&&Ze===me.alternate)break t;Ze=Jd(Ze),me=Jd(me)}Ze=null}else Ze=null;Ve!==null&&Ek(Me,Oe,Ve,Ze,!1),Ye!==null&&rs!==null&&Ek(Me,rs,Ye,Ze,!0)}}e:{if(Oe=ve?Zd(ve):window,Ve=Oe.nodeName&&Oe.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Oe.type==="file")var nt=I9;else if(ck(Oe))if(uk)nt=z9;else{nt=$9;var ut=D9}else(Ve=Oe.nodeName)&&Ve.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(nt=L9);if(nt&&(nt=nt(c,ve))){dk(Me,nt,x,Re);break e}ut&&ut(c,Oe,ve),c==="focusout"&&(ut=Oe._wrapperState)&&ut.controlled&&Oe.type==="number"&&ce(Oe,"number",Oe.value)}switch(ut=ve?Zd(ve):window,c){case"focusin":(ck(ut)||ut.contentEditable==="true")&&(Gd=ut,Bv=ve,th=null);break;case"focusout":th=Bv=Gd=null;break;case"mousedown":Wv=!0;break;case"contextmenu":case"mouseup":case"dragend":Wv=!1,vk(Me,x,Re);break;case"selectionchange":if(B9)break;case"keydown":case"keyup":vk(Me,x,Re)}var mt;if(Lv)e:{switch(c){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Kd?ok(c,x)&&(gt="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(gt="onCompositionStart");gt&&(ak&&x.locale!=="ko"&&(Kd||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Kd&&(mt=Gm()):(lr=Re,Mr="value"in lr?lr.value:lr.textContent,Kd=!0)),ut=Vp(ve,gt),0<ut.length&&(gt=new rk(gt,c,null,x,Re),Me.push({event:gt,listeners:ut}),mt?gt.data=mt:(mt=lk(x),mt!==null&&(gt.data=mt)))),(mt=E9?T9(c,x):O9(c,x))&&(ve=Vp(ve,"onBeforeInput"),0<ve.length&&(Re=new rk("onBeforeInput","beforeinput",null,x,Re),Me.push({event:Re,listeners:ve}),Re.data=mt))}Ak(Me,m)})}function ah(c,m,x){return{instance:c,listener:m,currentTarget:x}}function Vp(c,m){for(var x=m+"Capture",j=[];c!==null;){var C=c,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=ts(c,x),P!=null&&j.unshift(ah(c,P,C)),P=ts(c,m),P!=null&&j.push(ah(c,P,C))),c=c.return}return j}function Jd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function Ek(c,m,x,j,C){for(var P=m._reactName,$=[];x!==null&&x!==j;){var Z=x,re=Z.alternate,ve=Z.stateNode;if(re!==null&&re===j)break;Z.tag===5&&ve!==null&&(Z=ve,C?(re=ts(x,P),re!=null&&$.unshift(ah(x,re,Z))):C||(re=ts(x,P),re!=null&&$.push(ah(x,re,Z)))),x=x.return}$.length!==0&&c.push({event:m,listeners:$})}var H9=/\r\n?/g,K9=/\u0000|\uFFFD/g;function Tk(c){return(typeof c=="string"?c:""+c).replace(H9,`
`).replace(K9,"")}function qp(c,m,x){if(m=Tk(m),Tk(c)!==m&&x)throw Error(s(425))}function Hp(){}var Yv=null,Jv=null;function Xv(c,m){return c==="textarea"||c==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Zv=typeof setTimeout=="function"?setTimeout:void 0,G9=typeof clearTimeout=="function"?clearTimeout:void 0,Ok=typeof Promise=="function"?Promise:void 0,Y9=typeof queueMicrotask=="function"?queueMicrotask:typeof Ok<"u"?function(c){return Ok.resolve(null).then(c).catch(J9)}:Zv;function J9(c){setTimeout(function(){throw c})}function Qv(c,m){var x=m,j=0;do{var C=x.nextSibling;if(c.removeChild(x),C&&C.nodeType===8)if(x=C.data,x==="/$"){if(j===0){c.removeChild(C),xl(m);return}j--}else x!=="$"&&x!=="$?"&&x!=="$!"||j++;x=C}while(x);xl(m)}function vl(c){for(;c!=null;c=c.nextSibling){var m=c.nodeType;if(m===1||m===3)break;if(m===8){if(m=c.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return c}function Rk(c){c=c.previousSibling;for(var m=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return c;m--}else x==="/$"&&m++}c=c.previousSibling}return null}var Xd=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Xd,nh="__reactProps$"+Xd,_o="__reactContainer$"+Xd,eb="__reactEvents$"+Xd,X9="__reactListeners$"+Xd,Z9="__reactHandles$"+Xd;function Sc(c){var m=c[Fi];if(m)return m;for(var x=c.parentNode;x;){if(m=x[_o]||x[Fi]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(c=Rk(c);c!==null;){if(x=c[Fi])return x;c=Rk(c)}return m}c=x,x=c.parentNode}return null}function ih(c){return c=c[Fi]||c[_o],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Zd(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(s(33))}function Kp(c){return c[nh]||null}var tb=[],Qd=-1;function bl(c){return{current:c}}function Pr(c){0>Qd||(c.current=tb[Qd],tb[Qd]=null,Qd--)}function wr(c,m){Qd++,tb[Qd]=c.current,c.current=m}var wl={},ia=bl(wl),Ba=bl(!1),Cc=wl;function eu(c,m){var x=c.type.contextTypes;if(!x)return wl;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===m)return j.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in x)C[P]=m[P];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=m,c.__reactInternalMemoizedMaskedChildContext=C),C}function Wa(c){return c=c.childContextTypes,c!=null}function Gp(){Pr(Ba),Pr(ia)}function Mk(c,m,x){if(ia.current!==wl)throw Error(s(168));wr(ia,m),wr(Ba,x)}function Ik(c,m,x){var j=c.stateNode;if(m=m.childContextTypes,typeof j.getChildContext!="function")return x;j=j.getChildContext();for(var C in j)if(!(C in m))throw Error(s(108,Ne(c)||"Unknown",C));return M({},x,j)}function Yp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||wl,Cc=ia.current,wr(ia,c),wr(Ba,Ba.current),!0}function Dk(c,m,x){var j=c.stateNode;if(!j)throw Error(s(169));x?(c=Ik(c,m,Cc),j.__reactInternalMemoizedMergedChildContext=c,Pr(Ba),Pr(ia),wr(ia,c)):Pr(Ba),wr(Ba,x)}var So=null,Jp=!1,rb=!1;function $k(c){So===null?So=[c]:So.push(c)}function Q9(c){Jp=!0,$k(c)}function jl(){if(!rb&&So!==null){rb=!0;var c=0,m=Xt;try{var x=So;for(Xt=1;c<x.length;c++){var j=x[c];do j=j(!0);while(j!==null)}So=null,Jp=!1}catch(C){throw So!==null&&(So=So.slice(c+1)),Kr(Os,jl),C}finally{Xt=m,rb=!1}}return null}var tu=[],ru=0,Xp=null,Zp=0,kn=[],An=0,kc=null,Co=1,ko="";function Ac(c,m){tu[ru++]=Zp,tu[ru++]=Xp,Xp=c,Zp=m}function Lk(c,m,x){kn[An++]=Co,kn[An++]=ko,kn[An++]=kc,kc=c;var j=Co;c=ko;var C=32-Q(j)-1;j&=~(1<<C),x+=1;var P=32-Q(m)+C;if(30<P){var $=C-C%5;P=(j&(1<<$)-1).toString(32),j>>=$,C-=$,Co=1<<32-Q(m)+C|x<<C|j,ko=P+c}else Co=1<<P|x<<C|j,ko=c}function sb(c){c.return!==null&&(Ac(c,1),Lk(c,1,0))}function ab(c){for(;c===Xp;)Xp=tu[--ru],tu[ru]=null,Zp=tu[--ru],tu[ru]=null;for(;c===kc;)kc=kn[--An],kn[An]=null,ko=kn[--An],kn[An]=null,Co=kn[--An],kn[An]=null}var an=null,nn=null,Ir=!1,ci=null;function zk(c,m){var x=On(5,null,null,0);x.elementType="DELETED",x.stateNode=m,x.return=c,m=c.deletions,m===null?(c.deletions=[x],c.flags|=16):m.push(x)}function Fk(c,m){switch(c.tag){case 5:var x=c.type;return m=m.nodeType!==1||x.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(c.stateNode=m,an=c,nn=vl(m.firstChild),!0):!1;case 6:return m=c.pendingProps===""||m.nodeType!==3?null:m,m!==null?(c.stateNode=m,an=c,nn=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(x=kc!==null?{id:Co,overflow:ko}:null,c.memoizedState={dehydrated:m,treeContext:x,retryLane:1073741824},x=On(18,null,null,0),x.stateNode=m,x.return=c,c.child=x,an=c,nn=null,!0):!1;default:return!1}}function nb(c){return(c.mode&1)!==0&&(c.flags&128)===0}function ib(c){if(Ir){var m=nn;if(m){var x=m;if(!Fk(c,m)){if(nb(c))throw Error(s(418));m=vl(x.nextSibling);var j=an;m&&Fk(c,m)?zk(j,x):(c.flags=c.flags&-4097|2,Ir=!1,an=c)}}else{if(nb(c))throw Error(s(418));c.flags=c.flags&-4097|2,Ir=!1,an=c}}}function Uk(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;an=c}function Qp(c){if(c!==an)return!1;if(!Ir)return Uk(c),Ir=!0,!1;var m;if((m=c.tag!==3)&&!(m=c.tag!==5)&&(m=c.type,m=m!=="head"&&m!=="body"&&!Xv(c.type,c.memoizedProps)),m&&(m=nn)){if(nb(c))throw Bk(),Error(s(418));for(;m;)zk(c,m),m=vl(m.nextSibling)}if(Uk(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));e:{for(c=c.nextSibling,m=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"){if(m===0){nn=vl(c.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++}c=c.nextSibling}nn=null}}else nn=an?vl(c.stateNode.nextSibling):null;return!0}function Bk(){for(var c=nn;c;)c=vl(c.nextSibling)}function su(){nn=an=null,Ir=!1}function ob(c){ci===null?ci=[c]:ci.push(c)}var eW=k.ReactCurrentBatchConfig;function oh(c,m,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(s(309));var j=x.stateNode}if(!j)throw Error(s(147,c));var C=j,P=""+c;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===P?m.ref:(m=function($){var Z=C.refs;$===null?delete Z[P]:Z[P]=$},m._stringRef=P,m)}if(typeof c!="string")throw Error(s(284));if(!x._owner)throw Error(s(290,c))}return c}function eg(c,m){throw c=Object.prototype.toString.call(m),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":c))}function Wk(c){var m=c._init;return m(c._payload)}function Vk(c){function m(me,ne){if(c){var fe=me.deletions;fe===null?(me.deletions=[ne],me.flags|=16):fe.push(ne)}}function x(me,ne){if(!c)return null;for(;ne!==null;)m(me,ne),ne=ne.sibling;return null}function j(me,ne){for(me=new Map;ne!==null;)ne.key!==null?me.set(ne.key,ne):me.set(ne.index,ne),ne=ne.sibling;return me}function C(me,ne){return me=El(me,ne),me.index=0,me.sibling=null,me}function P(me,ne,fe){return me.index=fe,c?(fe=me.alternate,fe!==null?(fe=fe.index,fe<ne?(me.flags|=2,ne):fe):(me.flags|=2,ne)):(me.flags|=1048576,ne)}function $(me){return c&&me.alternate===null&&(me.flags|=2),me}function Z(me,ne,fe,Le){return ne===null||ne.tag!==6?(ne=Zb(fe,me.mode,Le),ne.return=me,ne):(ne=C(ne,fe),ne.return=me,ne)}function re(me,ne,fe,Le){var nt=fe.type;return nt===E?Re(me,ne,fe.props.children,Le,fe.key):ne!==null&&(ne.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===X&&Wk(nt)===ne.type)?(Le=C(ne,fe.props),Le.ref=oh(me,ne,fe),Le.return=me,Le):(Le=_g(fe.type,fe.key,fe.props,null,me.mode,Le),Le.ref=oh(me,ne,fe),Le.return=me,Le)}function ve(me,ne,fe,Le){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==fe.containerInfo||ne.stateNode.implementation!==fe.implementation?(ne=Qb(fe,me.mode,Le),ne.return=me,ne):(ne=C(ne,fe.children||[]),ne.return=me,ne)}function Re(me,ne,fe,Le,nt){return ne===null||ne.tag!==7?(ne=Dc(fe,me.mode,Le,nt),ne.return=me,ne):(ne=C(ne,fe),ne.return=me,ne)}function Me(me,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Zb(""+ne,me.mode,fe),ne.return=me,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return fe=_g(ne.type,ne.key,ne.props,null,me.mode,fe),fe.ref=oh(me,null,ne),fe.return=me,fe;case A:return ne=Qb(ne,me.mode,fe),ne.return=me,ne;case X:var Le=ne._init;return Me(me,Le(ne._payload),fe)}if(Ie(ne)||H(ne))return ne=Dc(ne,me.mode,fe,null),ne.return=me,ne;eg(me,ne)}return null}function Oe(me,ne,fe,Le){var nt=ne!==null?ne.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return nt!==null?null:Z(me,ne,""+fe,Le);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return fe.key===nt?re(me,ne,fe,Le):null;case A:return fe.key===nt?ve(me,ne,fe,Le):null;case X:return nt=fe._init,Oe(me,ne,nt(fe._payload),Le)}if(Ie(fe)||H(fe))return nt!==null?null:Re(me,ne,fe,Le,null);eg(me,fe)}return null}function Ve(me,ne,fe,Le,nt){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return me=me.get(fe)||null,Z(ne,me,""+Le,nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case T:return me=me.get(Le.key===null?fe:Le.key)||null,re(ne,me,Le,nt);case A:return me=me.get(Le.key===null?fe:Le.key)||null,ve(ne,me,Le,nt);case X:var ut=Le._init;return Ve(me,ne,fe,ut(Le._payload),nt)}if(Ie(Le)||H(Le))return me=me.get(fe)||null,Re(ne,me,Le,nt,null);eg(ne,Le)}return null}function Ye(me,ne,fe,Le){for(var nt=null,ut=null,mt=ne,gt=ne=0,Ds=null;mt!==null&&gt<fe.length;gt++){mt.index>gt?(Ds=mt,mt=null):Ds=mt.sibling;var er=Oe(me,mt,fe[gt],Le);if(er===null){mt===null&&(mt=Ds);break}c&&mt&&er.alternate===null&&m(me,mt),ne=P(er,ne,gt),ut===null?nt=er:ut.sibling=er,ut=er,mt=Ds}if(gt===fe.length)return x(me,mt),Ir&&Ac(me,gt),nt;if(mt===null){for(;gt<fe.length;gt++)mt=Me(me,fe[gt],Le),mt!==null&&(ne=P(mt,ne,gt),ut===null?nt=mt:ut.sibling=mt,ut=mt);return Ir&&Ac(me,gt),nt}for(mt=j(me,mt);gt<fe.length;gt++)Ds=Ve(mt,me,gt,fe[gt],Le),Ds!==null&&(c&&Ds.alternate!==null&&mt.delete(Ds.key===null?gt:Ds.key),ne=P(Ds,ne,gt),ut===null?nt=Ds:ut.sibling=Ds,ut=Ds);return c&&mt.forEach(function(Tl){return m(me,Tl)}),Ir&&Ac(me,gt),nt}function Ze(me,ne,fe,Le){var nt=H(fe);if(typeof nt!="function")throw Error(s(150));if(fe=nt.call(fe),fe==null)throw Error(s(151));for(var ut=nt=null,mt=ne,gt=ne=0,Ds=null,er=fe.next();mt!==null&&!er.done;gt++,er=fe.next()){mt.index>gt?(Ds=mt,mt=null):Ds=mt.sibling;var Tl=Oe(me,mt,er.value,Le);if(Tl===null){mt===null&&(mt=Ds);break}c&&mt&&Tl.alternate===null&&m(me,mt),ne=P(Tl,ne,gt),ut===null?nt=Tl:ut.sibling=Tl,ut=Tl,mt=Ds}if(er.done)return x(me,mt),Ir&&Ac(me,gt),nt;if(mt===null){for(;!er.done;gt++,er=fe.next())er=Me(me,er.value,Le),er!==null&&(ne=P(er,ne,gt),ut===null?nt=er:ut.sibling=er,ut=er);return Ir&&Ac(me,gt),nt}for(mt=j(me,mt);!er.done;gt++,er=fe.next())er=Ve(mt,me,gt,er.value,Le),er!==null&&(c&&er.alternate!==null&&mt.delete(er.key===null?gt:er.key),ne=P(er,ne,gt),ut===null?nt=er:ut.sibling=er,ut=er);return c&&mt.forEach(function(RW){return m(me,RW)}),Ir&&Ac(me,gt),nt}function rs(me,ne,fe,Le){if(typeof fe=="object"&&fe!==null&&fe.type===E&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:e:{for(var nt=fe.key,ut=ne;ut!==null;){if(ut.key===nt){if(nt=fe.type,nt===E){if(ut.tag===7){x(me,ut.sibling),ne=C(ut,fe.props.children),ne.return=me,me=ne;break e}}else if(ut.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===X&&Wk(nt)===ut.type){x(me,ut.sibling),ne=C(ut,fe.props),ne.ref=oh(me,ut,fe),ne.return=me,me=ne;break e}x(me,ut);break}else m(me,ut);ut=ut.sibling}fe.type===E?(ne=Dc(fe.props.children,me.mode,Le,fe.key),ne.return=me,me=ne):(Le=_g(fe.type,fe.key,fe.props,null,me.mode,Le),Le.ref=oh(me,ne,fe),Le.return=me,me=Le)}return $(me);case A:e:{for(ut=fe.key;ne!==null;){if(ne.key===ut)if(ne.tag===4&&ne.stateNode.containerInfo===fe.containerInfo&&ne.stateNode.implementation===fe.implementation){x(me,ne.sibling),ne=C(ne,fe.children||[]),ne.return=me,me=ne;break e}else{x(me,ne);break}else m(me,ne);ne=ne.sibling}ne=Qb(fe,me.mode,Le),ne.return=me,me=ne}return $(me);case X:return ut=fe._init,rs(me,ne,ut(fe._payload),Le)}if(Ie(fe))return Ye(me,ne,fe,Le);if(H(fe))return Ze(me,ne,fe,Le);eg(me,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,ne!==null&&ne.tag===6?(x(me,ne.sibling),ne=C(ne,fe),ne.return=me,me=ne):(x(me,ne),ne=Zb(fe,me.mode,Le),ne.return=me,me=ne),$(me)):x(me,ne)}return rs}var au=Vk(!0),qk=Vk(!1),tg=bl(null),rg=null,nu=null,lb=null;function cb(){lb=nu=rg=null}function db(c){var m=tg.current;Pr(tg),c._currentValue=m}function ub(c,m,x){for(;c!==null;){var j=c.alternate;if((c.childLanes&m)!==m?(c.childLanes|=m,j!==null&&(j.childLanes|=m)):j!==null&&(j.childLanes&m)!==m&&(j.childLanes|=m),c===x)break;c=c.return}}function iu(c,m){rg=c,lb=nu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&m)!==0&&(Va=!0),c.firstContext=null)}function Pn(c){var m=c._currentValue;if(lb!==c)if(c={context:c,memoizedValue:m,next:null},nu===null){if(rg===null)throw Error(s(308));nu=c,rg.dependencies={lanes:0,firstContext:c}}else nu=nu.next=c;return m}var Pc=null;function mb(c){Pc===null?Pc=[c]:Pc.push(c)}function Hk(c,m,x,j){var C=m.interleaved;return C===null?(x.next=x,mb(m)):(x.next=C.next,C.next=x),m.interleaved=x,Ao(c,j)}function Ao(c,m){c.lanes|=m;var x=c.alternate;for(x!==null&&(x.lanes|=m),x=c,c=c.return;c!==null;)c.childLanes|=m,x=c.alternate,x!==null&&(x.childLanes|=m),x=c,c=c.return;return x.tag===3?x.stateNode:null}var Nl=!1;function hb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(c,m){c=c.updateQueue,m.updateQueue===c&&(m.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Po(c,m){return{eventTime:c,lane:m,tag:0,payload:null,callback:null,next:null}}function _l(c,m,x){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,(Zt&2)!==0){var C=j.pending;return C===null?m.next=m:(m.next=C.next,C.next=m),j.pending=m,Ao(c,x)}return C=j.interleaved,C===null?(m.next=m,mb(j)):(m.next=C.next,C.next=m),j.interleaved=m,Ao(c,x)}function sg(c,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194240)!==0)){var j=m.lanes;j&=c.pendingLanes,x|=j,m.lanes=x,Cn(c,x)}}function Gk(c,m){var x=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var C=null,P=null;if(x=x.firstBaseUpdate,x!==null){do{var $={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};P===null?C=P=$:P=P.next=$,x=x.next}while(x!==null);P===null?C=P=m:P=P.next=m}else C=P=m;x={baseState:j.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:j.shared,effects:j.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=m:c.next=m,x.lastBaseUpdate=m}function ag(c,m,x,j){var C=c.updateQueue;Nl=!1;var P=C.firstBaseUpdate,$=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var re=Z,ve=re.next;re.next=null,$===null?P=ve:$.next=ve,$=re;var Re=c.alternate;Re!==null&&(Re=Re.updateQueue,Z=Re.lastBaseUpdate,Z!==$&&(Z===null?Re.firstBaseUpdate=ve:Z.next=ve,Re.lastBaseUpdate=re))}if(P!==null){var Me=C.baseState;$=0,Re=ve=re=null,Z=P;do{var Oe=Z.lane,Ve=Z.eventTime;if((j&Oe)===Oe){Re!==null&&(Re=Re.next={eventTime:Ve,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Ye=c,Ze=Z;switch(Oe=m,Ve=x,Ze.tag){case 1:if(Ye=Ze.payload,typeof Ye=="function"){Me=Ye.call(Ve,Me,Oe);break e}Me=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Ze.payload,Oe=typeof Ye=="function"?Ye.call(Ve,Me,Oe):Ye,Oe==null)break e;Me=M({},Me,Oe);break e;case 2:Nl=!0}}Z.callback!==null&&Z.lane!==0&&(c.flags|=64,Oe=C.effects,Oe===null?C.effects=[Z]:Oe.push(Z))}else Ve={eventTime:Ve,lane:Oe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Re===null?(ve=Re=Ve,re=Me):Re=Re.next=Ve,$|=Oe;if(Z=Z.next,Z===null){if(Z=C.shared.pending,Z===null)break;Oe=Z,Z=Oe.next,Oe.next=null,C.lastBaseUpdate=Oe,C.shared.pending=null}}while(!0);if(Re===null&&(re=Me),C.baseState=re,C.firstBaseUpdate=ve,C.lastBaseUpdate=Re,m=C.shared.interleaved,m!==null){C=m;do $|=C.lane,C=C.next;while(C!==m)}else P===null&&(C.shared.lanes=0);Oc|=$,c.lanes=$,c.memoizedState=Me}}function Yk(c,m,x){if(c=m.effects,m.effects=null,c!==null)for(m=0;m<c.length;m++){var j=c[m],C=j.callback;if(C!==null){if(j.callback=null,j=x,typeof C!="function")throw Error(s(191,C));C.call(j)}}}var lh={},Ui=bl(lh),ch=bl(lh),dh=bl(lh);function Ec(c){if(c===lh)throw Error(s(174));return c}function fb(c,m){switch(wr(dh,m),wr(ch,c),wr(Ui,lh),c=m.nodeType,c){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:es(null,"");break;default:c=c===8?m.parentNode:m,m=c.namespaceURI||null,c=c.tagName,m=es(m,c)}Pr(Ui),wr(Ui,m)}function ou(){Pr(Ui),Pr(ch),Pr(dh)}function Jk(c){Ec(dh.current);var m=Ec(Ui.current),x=es(m,c.type);m!==x&&(wr(ch,c),wr(Ui,x))}function pb(c){ch.current===c&&(Pr(Ui),Pr(ch))}var Wr=bl(0);function ng(c){for(var m=c;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var gb=[];function xb(){for(var c=0;c<gb.length;c++)gb[c]._workInProgressVersionPrimary=null;gb.length=0}var ig=k.ReactCurrentDispatcher,yb=k.ReactCurrentBatchConfig,Tc=0,Vr=null,ws=null,Ms=null,og=!1,uh=!1,mh=0,tW=0;function oa(){throw Error(s(321))}function vb(c,m){if(m===null)return!1;for(var x=0;x<m.length&&x<c.length;x++)if(!li(c[x],m[x]))return!1;return!0}function bb(c,m,x,j,C,P){if(Tc=P,Vr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,ig.current=c===null||c.memoizedState===null?nW:iW,c=x(j,C),uh){P=0;do{if(uh=!1,mh=0,25<=P)throw Error(s(301));P+=1,Ms=ws=null,m.updateQueue=null,ig.current=oW,c=x(j,C)}while(uh)}if(ig.current=dg,m=ws!==null&&ws.next!==null,Tc=0,Ms=ws=Vr=null,og=!1,m)throw Error(s(300));return c}function wb(){var c=mh!==0;return mh=0,c}function Bi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ms===null?Vr.memoizedState=Ms=c:Ms=Ms.next=c,Ms}function En(){if(ws===null){var c=Vr.alternate;c=c!==null?c.memoizedState:null}else c=ws.next;var m=Ms===null?Vr.memoizedState:Ms.next;if(m!==null)Ms=m,ws=c;else{if(c===null)throw Error(s(310));ws=c,c={memoizedState:ws.memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},Ms===null?Vr.memoizedState=Ms=c:Ms=Ms.next=c}return Ms}function hh(c,m){return typeof m=="function"?m(c):m}function jb(c){var m=En(),x=m.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=ws,C=j.baseQueue,P=x.pending;if(P!==null){if(C!==null){var $=C.next;C.next=P.next,P.next=$}j.baseQueue=C=P,x.pending=null}if(C!==null){P=C.next,j=j.baseState;var Z=$=null,re=null,ve=P;do{var Re=ve.lane;if((Tc&Re)===Re)re!==null&&(re=re.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),j=ve.hasEagerState?ve.eagerState:c(j,ve.action);else{var Me={lane:Re,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};re===null?(Z=re=Me,$=j):re=re.next=Me,Vr.lanes|=Re,Oc|=Re}ve=ve.next}while(ve!==null&&ve!==P);re===null?$=j:re.next=Z,li(j,m.memoizedState)||(Va=!0),m.memoizedState=j,m.baseState=$,m.baseQueue=re,x.lastRenderedState=j}if(c=x.interleaved,c!==null){C=c;do P=C.lane,Vr.lanes|=P,Oc|=P,C=C.next;while(C!==c)}else C===null&&(x.lanes=0);return[m.memoizedState,x.dispatch]}function Nb(c){var m=En(),x=m.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=c;var j=x.dispatch,C=x.pending,P=m.memoizedState;if(C!==null){x.pending=null;var $=C=C.next;do P=c(P,$.action),$=$.next;while($!==C);li(P,m.memoizedState)||(Va=!0),m.memoizedState=P,m.baseQueue===null&&(m.baseState=P),x.lastRenderedState=P}return[P,j]}function Xk(){}function Zk(c,m){var x=Vr,j=En(),C=m(),P=!li(j.memoizedState,C);if(P&&(j.memoizedState=C,Va=!0),j=j.queue,_b(t4.bind(null,x,j,c),[c]),j.getSnapshot!==m||P||Ms!==null&&Ms.memoizedState.tag&1){if(x.flags|=2048,fh(9,e4.bind(null,x,j,C,m),void 0,null),Is===null)throw Error(s(349));(Tc&30)!==0||Qk(x,m,C)}return C}function Qk(c,m,x){c.flags|=16384,c={getSnapshot:m,value:x},m=Vr.updateQueue,m===null?(m={lastEffect:null,stores:null},Vr.updateQueue=m,m.stores=[c]):(x=m.stores,x===null?m.stores=[c]:x.push(c))}function e4(c,m,x,j){m.value=x,m.getSnapshot=j,r4(m)&&s4(c)}function t4(c,m,x){return x(function(){r4(m)&&s4(c)})}function r4(c){var m=c.getSnapshot;c=c.value;try{var x=m();return!li(c,x)}catch{return!0}}function s4(c){var m=Ao(c,1);m!==null&&hi(m,c,1,-1)}function a4(c){var m=Bi();return typeof c=="function"&&(c=c()),m.memoizedState=m.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:c},m.queue=c,c=c.dispatch=aW.bind(null,Vr,c),[m.memoizedState,c]}function fh(c,m,x,j){return c={tag:c,create:m,destroy:x,deps:j,next:null},m=Vr.updateQueue,m===null?(m={lastEffect:null,stores:null},Vr.updateQueue=m,m.lastEffect=c.next=c):(x=m.lastEffect,x===null?m.lastEffect=c.next=c:(j=x.next,x.next=c,c.next=j,m.lastEffect=c)),c}function n4(){return En().memoizedState}function lg(c,m,x,j){var C=Bi();Vr.flags|=c,C.memoizedState=fh(1|m,x,void 0,j===void 0?null:j)}function cg(c,m,x,j){var C=En();j=j===void 0?null:j;var P=void 0;if(ws!==null){var $=ws.memoizedState;if(P=$.destroy,j!==null&&vb(j,$.deps)){C.memoizedState=fh(m,x,P,j);return}}Vr.flags|=c,C.memoizedState=fh(1|m,x,P,j)}function i4(c,m){return lg(8390656,8,c,m)}function _b(c,m){return cg(2048,8,c,m)}function o4(c,m){return cg(4,2,c,m)}function l4(c,m){return cg(4,4,c,m)}function c4(c,m){if(typeof m=="function")return c=c(),m(c),function(){m(null)};if(m!=null)return c=c(),m.current=c,function(){m.current=null}}function d4(c,m,x){return x=x!=null?x.concat([c]):null,cg(4,4,c4.bind(null,m,c),x)}function Sb(){}function u4(c,m){var x=En();m=m===void 0?null:m;var j=x.memoizedState;return j!==null&&m!==null&&vb(m,j[1])?j[0]:(x.memoizedState=[c,m],c)}function m4(c,m){var x=En();m=m===void 0?null:m;var j=x.memoizedState;return j!==null&&m!==null&&vb(m,j[1])?j[0]:(c=c(),x.memoizedState=[c,m],c)}function h4(c,m,x){return(Tc&21)===0?(c.baseState&&(c.baseState=!1,Va=!0),c.memoizedState=x):(li(x,m)||(x=_n(),Vr.lanes|=x,Oc|=x,c.baseState=!0),m)}function rW(c,m){var x=Xt;Xt=x!==0&&4>x?x:4,c(!0);var j=yb.transition;yb.transition={};try{c(!1),m()}finally{Xt=x,yb.transition=j}}function f4(){return En().memoizedState}function sW(c,m,x){var j=Al(c);if(x={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null},p4(c))g4(m,x);else if(x=Hk(c,m,x,j),x!==null){var C=Ea();hi(x,c,j,C),x4(x,m,j)}}function aW(c,m,x){var j=Al(c),C={lane:j,action:x,hasEagerState:!1,eagerState:null,next:null};if(p4(c))g4(m,C);else{var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=m.lastRenderedReducer,P!==null))try{var $=m.lastRenderedState,Z=P($,x);if(C.hasEagerState=!0,C.eagerState=Z,li(Z,$)){var re=m.interleaved;re===null?(C.next=C,mb(m)):(C.next=re.next,re.next=C),m.interleaved=C;return}}catch{}finally{}x=Hk(c,m,C,j),x!==null&&(C=Ea(),hi(x,c,j,C),x4(x,m,j))}}function p4(c){var m=c.alternate;return c===Vr||m!==null&&m===Vr}function g4(c,m){uh=og=!0;var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}function x4(c,m,x){if((x&4194240)!==0){var j=m.lanes;j&=c.pendingLanes,x|=j,m.lanes=x,Cn(c,x)}}var dg={readContext:Pn,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},nW={readContext:Pn,useCallback:function(c,m){return Bi().memoizedState=[c,m===void 0?null:m],c},useContext:Pn,useEffect:i4,useImperativeHandle:function(c,m,x){return x=x!=null?x.concat([c]):null,lg(4194308,4,c4.bind(null,m,c),x)},useLayoutEffect:function(c,m){return lg(4194308,4,c,m)},useInsertionEffect:function(c,m){return lg(4,2,c,m)},useMemo:function(c,m){var x=Bi();return m=m===void 0?null:m,c=c(),x.memoizedState=[c,m],c},useReducer:function(c,m,x){var j=Bi();return m=x!==void 0?x(m):m,j.memoizedState=j.baseState=m,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:m},j.queue=c,c=c.dispatch=sW.bind(null,Vr,c),[j.memoizedState,c]},useRef:function(c){var m=Bi();return c={current:c},m.memoizedState=c},useState:a4,useDebugValue:Sb,useDeferredValue:function(c){return Bi().memoizedState=c},useTransition:function(){var c=a4(!1),m=c[0];return c=rW.bind(null,c[1]),Bi().memoizedState=c,[m,c]},useMutableSource:function(){},useSyncExternalStore:function(c,m,x){var j=Vr,C=Bi();if(Ir){if(x===void 0)throw Error(s(407));x=x()}else{if(x=m(),Is===null)throw Error(s(349));(Tc&30)!==0||Qk(j,m,x)}C.memoizedState=x;var P={value:x,getSnapshot:m};return C.queue=P,i4(t4.bind(null,j,P,c),[c]),j.flags|=2048,fh(9,e4.bind(null,j,P,x,m),void 0,null),x},useId:function(){var c=Bi(),m=Is.identifierPrefix;if(Ir){var x=ko,j=Co;x=(j&~(1<<32-Q(j)-1)).toString(32)+x,m=":"+m+"R"+x,x=mh++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=tW++,m=":"+m+"r"+x.toString(32)+":";return c.memoizedState=m},unstable_isNewReconciler:!1},iW={readContext:Pn,useCallback:u4,useContext:Pn,useEffect:_b,useImperativeHandle:d4,useInsertionEffect:o4,useLayoutEffect:l4,useMemo:m4,useReducer:jb,useRef:n4,useState:function(){return jb(hh)},useDebugValue:Sb,useDeferredValue:function(c){var m=En();return h4(m,ws.memoizedState,c)},useTransition:function(){var c=jb(hh)[0],m=En().memoizedState;return[c,m]},useMutableSource:Xk,useSyncExternalStore:Zk,useId:f4,unstable_isNewReconciler:!1},oW={readContext:Pn,useCallback:u4,useContext:Pn,useEffect:_b,useImperativeHandle:d4,useInsertionEffect:o4,useLayoutEffect:l4,useMemo:m4,useReducer:Nb,useRef:n4,useState:function(){return Nb(hh)},useDebugValue:Sb,useDeferredValue:function(c){var m=En();return ws===null?m.memoizedState=c:h4(m,ws.memoizedState,c)},useTransition:function(){var c=Nb(hh)[0],m=En().memoizedState;return[c,m]},useMutableSource:Xk,useSyncExternalStore:Zk,useId:f4,unstable_isNewReconciler:!1};function di(c,m){if(c&&c.defaultProps){m=M({},m),c=c.defaultProps;for(var x in c)m[x]===void 0&&(m[x]=c[x]);return m}return m}function Cb(c,m,x,j){m=c.memoizedState,x=x(j,m),x=x==null?m:M({},m,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var ug={isMounted:function(c){return(c=c._reactInternals)?it(c)===c:!1},enqueueSetState:function(c,m,x){c=c._reactInternals;var j=Ea(),C=Al(c),P=Po(j,C);P.payload=m,x!=null&&(P.callback=x),m=_l(c,P,C),m!==null&&(hi(m,c,C,j),sg(m,c,C))},enqueueReplaceState:function(c,m,x){c=c._reactInternals;var j=Ea(),C=Al(c),P=Po(j,C);P.tag=1,P.payload=m,x!=null&&(P.callback=x),m=_l(c,P,C),m!==null&&(hi(m,c,C,j),sg(m,c,C))},enqueueForceUpdate:function(c,m){c=c._reactInternals;var x=Ea(),j=Al(c),C=Po(x,j);C.tag=2,m!=null&&(C.callback=m),m=_l(c,C,j),m!==null&&(hi(m,c,j,x),sg(m,c,j))}};function y4(c,m,x,j,C,P,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,P,$):m.prototype&&m.prototype.isPureReactComponent?!eh(x,j)||!eh(C,P):!0}function v4(c,m,x){var j=!1,C=wl,P=m.contextType;return typeof P=="object"&&P!==null?P=Pn(P):(C=Wa(m)?Cc:ia.current,j=m.contextTypes,P=(j=j!=null)?eu(c,C):wl),m=new m(x,P),c.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ug,c.stateNode=m,m._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=C,c.__reactInternalMemoizedMaskedChildContext=P),m}function b4(c,m,x,j){c=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,j),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,j),m.state!==c&&ug.enqueueReplaceState(m,m.state,null)}function kb(c,m,x,j){var C=c.stateNode;C.props=x,C.state=c.memoizedState,C.refs={},hb(c);var P=m.contextType;typeof P=="object"&&P!==null?C.context=Pn(P):(P=Wa(m)?Cc:ia.current,C.context=eu(c,P)),C.state=c.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(Cb(c,m,P,x),C.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(m=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),m!==C.state&&ug.enqueueReplaceState(C,C.state,null),ag(c,x,C,j),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308)}function lu(c,m){try{var x="",j=m;do x+=ge(j),j=j.return;while(j);var C=x}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:m,stack:C,digest:null}}function Ab(c,m,x){return{value:c,source:null,stack:x??null,digest:m??null}}function Pb(c,m){try{console.error(m.value)}catch(x){setTimeout(function(){throw x})}}var lW=typeof WeakMap=="function"?WeakMap:Map;function w4(c,m,x){x=Po(-1,x),x.tag=3,x.payload={element:null};var j=m.value;return x.callback=function(){yg||(yg=!0,Vb=j),Pb(c,m)},x}function j4(c,m,x){x=Po(-1,x),x.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var C=m.value;x.payload=function(){return j(C)},x.callback=function(){Pb(c,m)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(x.callback=function(){Pb(c,m),typeof j!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})}),x}function N4(c,m,x){var j=c.pingCache;if(j===null){j=c.pingCache=new lW;var C=new Set;j.set(m,C)}else C=j.get(m),C===void 0&&(C=new Set,j.set(m,C));C.has(x)||(C.add(x),c=jW.bind(null,c,m,x),m.then(c,c))}function _4(c){do{var m;if((m=c.tag===13)&&(m=c.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return c;c=c.return}while(c!==null);return null}function S4(c,m,x,j,C){return(c.mode&1)===0?(c===m?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(m=Po(-1,1),m.tag=2,_l(x,m,1))),x.lanes|=1),c):(c.flags|=65536,c.lanes=C,c)}var cW=k.ReactCurrentOwner,Va=!1;function Pa(c,m,x,j){m.child=c===null?qk(m,null,x,j):au(m,c.child,x,j)}function C4(c,m,x,j,C){x=x.render;var P=m.ref;return iu(m,C),j=bb(c,m,x,j,P,C),x=wb(),c!==null&&!Va?(m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~C,Eo(c,m,C)):(Ir&&x&&sb(m),m.flags|=1,Pa(c,m,j,C),m.child)}function k4(c,m,x,j,C){if(c===null){var P=x.type;return typeof P=="function"&&!Xb(P)&&P.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(m.tag=15,m.type=P,A4(c,m,P,j,C)):(c=_g(x.type,null,j,m,m.mode,C),c.ref=m.ref,c.return=m,m.child=c)}if(P=c.child,(c.lanes&C)===0){var $=P.memoizedProps;if(x=x.compare,x=x!==null?x:eh,x($,j)&&c.ref===m.ref)return Eo(c,m,C)}return m.flags|=1,c=El(P,j),c.ref=m.ref,c.return=m,m.child=c}function A4(c,m,x,j,C){if(c!==null){var P=c.memoizedProps;if(eh(P,j)&&c.ref===m.ref)if(Va=!1,m.pendingProps=j=P,(c.lanes&C)!==0)(c.flags&131072)!==0&&(Va=!0);else return m.lanes=c.lanes,Eo(c,m,C)}return Eb(c,m,x,j,C)}function P4(c,m,x){var j=m.pendingProps,C=j.children,P=c!==null?c.memoizedState:null;if(j.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(du,on),on|=x;else{if((x&1073741824)===0)return c=P!==null?P.baseLanes|x:x,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:c,cachePool:null,transitions:null},m.updateQueue=null,wr(du,on),on|=c,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=P!==null?P.baseLanes:x,wr(du,on),on|=j}else P!==null?(j=P.baseLanes|x,m.memoizedState=null):j=x,wr(du,on),on|=j;return Pa(c,m,C,x),m.child}function E4(c,m){var x=m.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(m.flags|=512,m.flags|=2097152)}function Eb(c,m,x,j,C){var P=Wa(x)?Cc:ia.current;return P=eu(m,P),iu(m,C),x=bb(c,m,x,j,P,C),j=wb(),c!==null&&!Va?(m.updateQueue=c.updateQueue,m.flags&=-2053,c.lanes&=~C,Eo(c,m,C)):(Ir&&j&&sb(m),m.flags|=1,Pa(c,m,x,C),m.child)}function T4(c,m,x,j,C){if(Wa(x)){var P=!0;Yp(m)}else P=!1;if(iu(m,C),m.stateNode===null)hg(c,m),v4(m,x,j),kb(m,x,j,C),j=!0;else if(c===null){var $=m.stateNode,Z=m.memoizedProps;$.props=Z;var re=$.context,ve=x.contextType;typeof ve=="object"&&ve!==null?ve=Pn(ve):(ve=Wa(x)?Cc:ia.current,ve=eu(m,ve));var Re=x.getDerivedStateFromProps,Me=typeof Re=="function"||typeof $.getSnapshotBeforeUpdate=="function";Me||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Z!==j||re!==ve)&&b4(m,$,j,ve),Nl=!1;var Oe=m.memoizedState;$.state=Oe,ag(m,j,$,C),re=m.memoizedState,Z!==j||Oe!==re||Ba.current||Nl?(typeof Re=="function"&&(Cb(m,x,Re,j),re=m.memoizedState),(Z=Nl||y4(m,x,Z,j,Oe,re,ve))?(Me||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(m.flags|=4194308)):(typeof $.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=j,m.memoizedState=re),$.props=j,$.state=re,$.context=ve,j=Z):(typeof $.componentDidMount=="function"&&(m.flags|=4194308),j=!1)}else{$=m.stateNode,Kk(c,m),Z=m.memoizedProps,ve=m.type===m.elementType?Z:di(m.type,Z),$.props=ve,Me=m.pendingProps,Oe=$.context,re=x.contextType,typeof re=="object"&&re!==null?re=Pn(re):(re=Wa(x)?Cc:ia.current,re=eu(m,re));var Ve=x.getDerivedStateFromProps;(Re=typeof Ve=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Z!==Me||Oe!==re)&&b4(m,$,j,re),Nl=!1,Oe=m.memoizedState,$.state=Oe,ag(m,j,$,C);var Ye=m.memoizedState;Z!==Me||Oe!==Ye||Ba.current||Nl?(typeof Ve=="function"&&(Cb(m,x,Ve,j),Ye=m.memoizedState),(ve=Nl||y4(m,x,ve,j,Oe,Ye,re)||!1)?(Re||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(j,Ye,re),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(j,Ye,re)),typeof $.componentDidUpdate=="function"&&(m.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof $.componentDidUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(m.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(m.flags|=1024),m.memoizedProps=j,m.memoizedState=Ye),$.props=j,$.state=Ye,$.context=re,j=ve):(typeof $.componentDidUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(m.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(m.flags|=1024),j=!1)}return Tb(c,m,x,j,P,C)}function Tb(c,m,x,j,C,P){E4(c,m);var $=(m.flags&128)!==0;if(!j&&!$)return C&&Dk(m,x,!1),Eo(c,m,P);j=m.stateNode,cW.current=m;var Z=$&&typeof x.getDerivedStateFromError!="function"?null:j.render();return m.flags|=1,c!==null&&$?(m.child=au(m,c.child,null,P),m.child=au(m,null,Z,P)):Pa(c,m,Z,P),m.memoizedState=j.state,C&&Dk(m,x,!0),m.child}function O4(c){var m=c.stateNode;m.pendingContext?Mk(c,m.pendingContext,m.pendingContext!==m.context):m.context&&Mk(c,m.context,!1),fb(c,m.containerInfo)}function R4(c,m,x,j,C){return su(),ob(C),m.flags|=256,Pa(c,m,x,j),m.child}var Ob={dehydrated:null,treeContext:null,retryLane:0};function Rb(c){return{baseLanes:c,cachePool:null,transitions:null}}function M4(c,m,x){var j=m.pendingProps,C=Wr.current,P=!1,$=(m.flags&128)!==0,Z;if((Z=$)||(Z=c!==null&&c.memoizedState===null?!1:(C&2)!==0),Z?(P=!0,m.flags&=-129):(c===null||c.memoizedState!==null)&&(C|=1),wr(Wr,C&1),c===null)return ib(m),c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((m.mode&1)===0?m.lanes=1:c.data==="$!"?m.lanes=8:m.lanes=1073741824,null):($=j.children,c=j.fallback,P?(j=m.mode,P=m.child,$={mode:"hidden",children:$},(j&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=$):P=Sg($,j,0,null),c=Dc(c,j,x,null),P.return=m,c.return=m,P.sibling=c,m.child=P,m.child.memoizedState=Rb(x),m.memoizedState=Ob,c):Mb(m,$));if(C=c.memoizedState,C!==null&&(Z=C.dehydrated,Z!==null))return dW(c,m,$,j,Z,C,x);if(P){P=j.fallback,$=m.mode,C=c.child,Z=C.sibling;var re={mode:"hidden",children:j.children};return($&1)===0&&m.child!==C?(j=m.child,j.childLanes=0,j.pendingProps=re,m.deletions=null):(j=El(C,re),j.subtreeFlags=C.subtreeFlags&14680064),Z!==null?P=El(Z,P):(P=Dc(P,$,x,null),P.flags|=2),P.return=m,j.return=m,j.sibling=P,m.child=j,j=P,P=m.child,$=c.child.memoizedState,$=$===null?Rb(x):{baseLanes:$.baseLanes|x,cachePool:null,transitions:$.transitions},P.memoizedState=$,P.childLanes=c.childLanes&~x,m.memoizedState=Ob,j}return P=c.child,c=P.sibling,j=El(P,{mode:"visible",children:j.children}),(m.mode&1)===0&&(j.lanes=x),j.return=m,j.sibling=null,c!==null&&(x=m.deletions,x===null?(m.deletions=[c],m.flags|=16):x.push(c)),m.child=j,m.memoizedState=null,j}function Mb(c,m){return m=Sg({mode:"visible",children:m},c.mode,0,null),m.return=c,c.child=m}function mg(c,m,x,j){return j!==null&&ob(j),au(m,c.child,null,x),c=Mb(m,m.pendingProps.children),c.flags|=2,m.memoizedState=null,c}function dW(c,m,x,j,C,P,$){if(x)return m.flags&256?(m.flags&=-257,j=Ab(Error(s(422))),mg(c,m,$,j)):m.memoizedState!==null?(m.child=c.child,m.flags|=128,null):(P=j.fallback,C=m.mode,j=Sg({mode:"visible",children:j.children},C,0,null),P=Dc(P,C,$,null),P.flags|=2,j.return=m,P.return=m,j.sibling=P,m.child=j,(m.mode&1)!==0&&au(m,c.child,null,$),m.child.memoizedState=Rb($),m.memoizedState=Ob,P);if((m.mode&1)===0)return mg(c,m,$,null);if(C.data==="$!"){if(j=C.nextSibling&&C.nextSibling.dataset,j)var Z=j.dgst;return j=Z,P=Error(s(419)),j=Ab(P,j,void 0),mg(c,m,$,j)}if(Z=($&c.childLanes)!==0,Va||Z){if(j=Is,j!==null){switch($&-$){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(j.suspendedLanes|$))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,Ao(c,C),hi(j,c,C,-1))}return Jb(),j=Ab(Error(s(421))),mg(c,m,$,j)}return C.data==="$?"?(m.flags|=128,m.child=c.child,m=NW.bind(null,c),C._reactRetry=m,null):(c=P.treeContext,nn=vl(C.nextSibling),an=m,Ir=!0,ci=null,c!==null&&(kn[An++]=Co,kn[An++]=ko,kn[An++]=kc,Co=c.id,ko=c.overflow,kc=m),m=Mb(m,j.children),m.flags|=4096,m)}function I4(c,m,x){c.lanes|=m;var j=c.alternate;j!==null&&(j.lanes|=m),ub(c.return,m,x)}function Ib(c,m,x,j,C){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:C}:(P.isBackwards=m,P.rendering=null,P.renderingStartTime=0,P.last=j,P.tail=x,P.tailMode=C)}function D4(c,m,x){var j=m.pendingProps,C=j.revealOrder,P=j.tail;if(Pa(c,m,j.children,x),j=Wr.current,(j&2)!==0)j=j&1|2,m.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=m.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&I4(c,x,m);else if(c.tag===19)I4(c,x,m);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===m)break e;for(;c.sibling===null;){if(c.return===null||c.return===m)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(wr(Wr,j),(m.mode&1)===0)m.memoizedState=null;else switch(C){case"forwards":for(x=m.child,C=null;x!==null;)c=x.alternate,c!==null&&ng(c)===null&&(C=x),x=x.sibling;x=C,x===null?(C=m.child,m.child=null):(C=x.sibling,x.sibling=null),Ib(m,!1,C,x,P);break;case"backwards":for(x=null,C=m.child,m.child=null;C!==null;){if(c=C.alternate,c!==null&&ng(c)===null){m.child=C;break}c=C.sibling,C.sibling=x,x=C,C=c}Ib(m,!0,x,null,P);break;case"together":Ib(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function hg(c,m){(m.mode&1)===0&&c!==null&&(c.alternate=null,m.alternate=null,m.flags|=2)}function Eo(c,m,x){if(c!==null&&(m.dependencies=c.dependencies),Oc|=m.lanes,(x&m.childLanes)===0)return null;if(c!==null&&m.child!==c.child)throw Error(s(153));if(m.child!==null){for(c=m.child,x=El(c,c.pendingProps),m.child=x,x.return=m;c.sibling!==null;)c=c.sibling,x=x.sibling=El(c,c.pendingProps),x.return=m;x.sibling=null}return m.child}function uW(c,m,x){switch(m.tag){case 3:O4(m),su();break;case 5:Jk(m);break;case 1:Wa(m.type)&&Yp(m);break;case 4:fb(m,m.stateNode.containerInfo);break;case 10:var j=m.type._context,C=m.memoizedProps.value;wr(tg,j._currentValue),j._currentValue=C;break;case 13:if(j=m.memoizedState,j!==null)return j.dehydrated!==null?(wr(Wr,Wr.current&1),m.flags|=128,null):(x&m.child.childLanes)!==0?M4(c,m,x):(wr(Wr,Wr.current&1),c=Eo(c,m,x),c!==null?c.sibling:null);wr(Wr,Wr.current&1);break;case 19:if(j=(x&m.childLanes)!==0,(c.flags&128)!==0){if(j)return D4(c,m,x);m.flags|=128}if(C=m.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),wr(Wr,Wr.current),j)break;return null;case 22:case 23:return m.lanes=0,P4(c,m,x)}return Eo(c,m,x)}var $4,Db,L4,z4;$4=function(c,m){for(var x=m.child;x!==null;){if(x.tag===5||x.tag===6)c.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Db=function(){},L4=function(c,m,x,j){var C=c.memoizedProps;if(C!==j){c=m.stateNode,Ec(Ui.current);var P=null;switch(x){case"input":C=_e(c,C),j=_e(c,j),P=[];break;case"select":C=M({},C,{value:void 0}),j=M({},j,{value:void 0}),P=[];break;case"textarea":C=vt(c,C),j=vt(c,j),P=[];break;default:typeof C.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=Hp)}tn(x,j);var $;x=null;for(ve in C)if(!j.hasOwnProperty(ve)&&C.hasOwnProperty(ve)&&C[ve]!=null)if(ve==="style"){var Z=C[ve];for($ in Z)Z.hasOwnProperty($)&&(x||(x={}),x[$]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(n.hasOwnProperty(ve)?P||(P=[]):(P=P||[]).push(ve,null));for(ve in j){var re=j[ve];if(Z=C!=null?C[ve]:void 0,j.hasOwnProperty(ve)&&re!==Z&&(re!=null||Z!=null))if(ve==="style")if(Z){for($ in Z)!Z.hasOwnProperty($)||re&&re.hasOwnProperty($)||(x||(x={}),x[$]="");for($ in re)re.hasOwnProperty($)&&Z[$]!==re[$]&&(x||(x={}),x[$]=re[$])}else x||(P||(P=[]),P.push(ve,x)),x=re;else ve==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Z=Z?Z.__html:void 0,re!=null&&Z!==re&&(P=P||[]).push(ve,re)):ve==="children"?typeof re!="string"&&typeof re!="number"||(P=P||[]).push(ve,""+re):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(n.hasOwnProperty(ve)?(re!=null&&ve==="onScroll"&&Ar("scroll",c),P||Z===re||(P=[])):(P=P||[]).push(ve,re))}x&&(P=P||[]).push("style",x);var ve=P;(m.updateQueue=ve)&&(m.flags|=4)}},z4=function(c,m,x,j){x!==j&&(m.flags|=4)};function ph(c,m){if(!Ir)switch(c.tailMode){case"hidden":m=c.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?m||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function la(c){var m=c.alternate!==null&&c.alternate.child===c.child,x=0,j=0;if(m)for(var C=c.child;C!==null;)x|=C.lanes|C.childLanes,j|=C.subtreeFlags&14680064,j|=C.flags&14680064,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)x|=C.lanes|C.childLanes,j|=C.subtreeFlags,j|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=j,c.childLanes=x,m}function mW(c,m,x){var j=m.pendingProps;switch(ab(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(m),null;case 1:return Wa(m.type)&&Gp(),la(m),null;case 3:return j=m.stateNode,ou(),Pr(Ba),Pr(ia),xb(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Qp(m)?m.flags|=4:c===null||c.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ci!==null&&(Kb(ci),ci=null))),Db(c,m),la(m),null;case 5:pb(m);var C=Ec(dh.current);if(x=m.type,c!==null&&m.stateNode!=null)L4(c,m,x,j,C),c.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!j){if(m.stateNode===null)throw Error(s(166));return la(m),null}if(c=Ec(Ui.current),Qp(m)){j=m.stateNode,x=m.type;var P=m.memoizedProps;switch(j[Fi]=m,j[nh]=P,c=(m.mode&1)!==0,x){case"dialog":Ar("cancel",j),Ar("close",j);break;case"iframe":case"object":case"embed":Ar("load",j);break;case"video":case"audio":for(C=0;C<rh.length;C++)Ar(rh[C],j);break;case"source":Ar("error",j);break;case"img":case"image":case"link":Ar("error",j),Ar("load",j);break;case"details":Ar("toggle",j);break;case"input":Te(j,P),Ar("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!P.multiple},Ar("invalid",j);break;case"textarea":pr(j,P),Ar("invalid",j)}tn(x,P),C=null;for(var $ in P)if(P.hasOwnProperty($)){var Z=P[$];$==="children"?typeof Z=="string"?j.textContent!==Z&&(P.suppressHydrationWarning!==!0&&qp(j.textContent,Z,c),C=["children",Z]):typeof Z=="number"&&j.textContent!==""+Z&&(P.suppressHydrationWarning!==!0&&qp(j.textContent,Z,c),C=["children",""+Z]):n.hasOwnProperty($)&&Z!=null&&$==="onScroll"&&Ar("scroll",j)}switch(x){case"input":Pe(j),pt(j,P,!0);break;case"textarea":Pe(j),Qt(j);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(j.onclick=Hp)}j=C,m.updateQueue=j,j!==null&&(m.flags|=4)}else{$=C.nodeType===9?C:C.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=sr(x)),c==="http://www.w3.org/1999/xhtml"?x==="script"?(c=$.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=$.createElement(x,{is:j.is}):(c=$.createElement(x),x==="select"&&($=c,j.multiple?$.multiple=!0:j.size&&($.size=j.size))):c=$.createElementNS(c,x),c[Fi]=m,c[nh]=j,$4(c,m,!1,!1),m.stateNode=c;e:{switch($=Rt(x,j),x){case"dialog":Ar("cancel",c),Ar("close",c),C=j;break;case"iframe":case"object":case"embed":Ar("load",c),C=j;break;case"video":case"audio":for(C=0;C<rh.length;C++)Ar(rh[C],c);C=j;break;case"source":Ar("error",c),C=j;break;case"img":case"image":case"link":Ar("error",c),Ar("load",c),C=j;break;case"details":Ar("toggle",c),C=j;break;case"input":Te(c,j),C=_e(c,j),Ar("invalid",c);break;case"option":C=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},C=M({},j,{value:void 0}),Ar("invalid",c);break;case"textarea":pr(c,j),C=vt(c,j),Ar("invalid",c);break;default:C=j}tn(x,C),Z=C;for(P in Z)if(Z.hasOwnProperty(P)){var re=Z[P];P==="style"?ms(c,re):P==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Ge(c,re)):P==="children"?typeof re=="string"?(x!=="textarea"||re!=="")&&yr(c,re):typeof re=="number"&&yr(c,""+re):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(n.hasOwnProperty(P)?re!=null&&P==="onScroll"&&Ar("scroll",c):re!=null&&_(c,P,re,$))}switch(x){case"input":Pe(c),pt(c,j,!1);break;case"textarea":Pe(c),Qt(c);break;case"option":j.value!=null&&c.setAttribute("value",""+Fe(j.value));break;case"select":c.multiple=!!j.multiple,P=j.value,P!=null?tt(c,!!j.multiple,P,!1):j.defaultValue!=null&&tt(c,!!j.multiple,j.defaultValue,!0);break;default:typeof C.onClick=="function"&&(c.onclick=Hp)}switch(x){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return la(m),null;case 6:if(c&&m.stateNode!=null)z4(c,m,c.memoizedProps,j);else{if(typeof j!="string"&&m.stateNode===null)throw Error(s(166));if(x=Ec(dh.current),Ec(Ui.current),Qp(m)){if(j=m.stateNode,x=m.memoizedProps,j[Fi]=m,(P=j.nodeValue!==x)&&(c=an,c!==null))switch(c.tag){case 3:qp(j.nodeValue,x,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&qp(j.nodeValue,x,(c.mode&1)!==0)}P&&(m.flags|=4)}else j=(x.nodeType===9?x:x.ownerDocument).createTextNode(j),j[Fi]=m,m.stateNode=j}return la(m),null;case 13:if(Pr(Wr),j=m.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Ir&&nn!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Bk(),su(),m.flags|=98560,P=!1;else if(P=Qp(m),j!==null&&j.dehydrated!==null){if(c===null){if(!P)throw Error(s(318));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(s(317));P[Fi]=m}else su(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;la(m),P=!1}else ci!==null&&(Kb(ci),ci=null),P=!0;if(!P)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=x,m):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(m.child.flags|=8192,(m.mode&1)!==0&&(c===null||(Wr.current&1)!==0?js===0&&(js=3):Jb())),m.updateQueue!==null&&(m.flags|=4),la(m),null);case 4:return ou(),Db(c,m),c===null&&sh(m.stateNode.containerInfo),la(m),null;case 10:return db(m.type._context),la(m),null;case 17:return Wa(m.type)&&Gp(),la(m),null;case 19:if(Pr(Wr),P=m.memoizedState,P===null)return la(m),null;if(j=(m.flags&128)!==0,$=P.rendering,$===null)if(j)ph(P,!1);else{if(js!==0||c!==null&&(c.flags&128)!==0)for(c=m.child;c!==null;){if($=ng(c),$!==null){for(m.flags|=128,ph(P,!1),j=$.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),m.subtreeFlags=0,j=x,x=m.child;x!==null;)P=x,c=j,P.flags&=14680066,$=P.alternate,$===null?(P.childLanes=0,P.lanes=c,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=$.childLanes,P.lanes=$.lanes,P.child=$.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=$.memoizedProps,P.memoizedState=$.memoizedState,P.updateQueue=$.updateQueue,P.type=$.type,c=$.dependencies,P.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),x=x.sibling;return wr(Wr,Wr.current&1|2),m.child}c=c.sibling}P.tail!==null&&nr()>uu&&(m.flags|=128,j=!0,ph(P,!1),m.lanes=4194304)}else{if(!j)if(c=ng($),c!==null){if(m.flags|=128,j=!0,x=c.updateQueue,x!==null&&(m.updateQueue=x,m.flags|=4),ph(P,!0),P.tail===null&&P.tailMode==="hidden"&&!$.alternate&&!Ir)return la(m),null}else 2*nr()-P.renderingStartTime>uu&&x!==1073741824&&(m.flags|=128,j=!0,ph(P,!1),m.lanes=4194304);P.isBackwards?($.sibling=m.child,m.child=$):(x=P.last,x!==null?x.sibling=$:m.child=$,P.last=$)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=nr(),m.sibling=null,x=Wr.current,wr(Wr,j?x&1|2:x&1),m):(la(m),null);case 22:case 23:return Yb(),j=m.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(m.flags|=8192),j&&(m.mode&1)!==0?(on&1073741824)!==0&&(la(m),m.subtreeFlags&6&&(m.flags|=8192)):la(m),null;case 24:return null;case 25:return null}throw Error(s(156,m.tag))}function hW(c,m){switch(ab(m),m.tag){case 1:return Wa(m.type)&&Gp(),c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 3:return ou(),Pr(Ba),Pr(ia),xb(),c=m.flags,(c&65536)!==0&&(c&128)===0?(m.flags=c&-65537|128,m):null;case 5:return pb(m),null;case 13:if(Pr(Wr),c=m.memoizedState,c!==null&&c.dehydrated!==null){if(m.alternate===null)throw Error(s(340));su()}return c=m.flags,c&65536?(m.flags=c&-65537|128,m):null;case 19:return Pr(Wr),null;case 4:return ou(),null;case 10:return db(m.type._context),null;case 22:case 23:return Yb(),null;case 24:return null;default:return null}}var fg=!1,ca=!1,fW=typeof WeakSet=="function"?WeakSet:Set,He=null;function cu(c,m){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(j){Gr(c,m,j)}else x.current=null}function $b(c,m,x){try{x()}catch(j){Gr(c,m,j)}}var F4=!1;function pW(c,m){if(Yv=_c,c=yk(),Uv(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var C=j.anchorOffset,P=j.focusNode;j=j.focusOffset;try{x.nodeType,P.nodeType}catch{x=null;break e}var $=0,Z=-1,re=-1,ve=0,Re=0,Me=c,Oe=null;t:for(;;){for(var Ve;Me!==x||C!==0&&Me.nodeType!==3||(Z=$+C),Me!==P||j!==0&&Me.nodeType!==3||(re=$+j),Me.nodeType===3&&($+=Me.nodeValue.length),(Ve=Me.firstChild)!==null;)Oe=Me,Me=Ve;for(;;){if(Me===c)break t;if(Oe===x&&++ve===C&&(Z=$),Oe===P&&++Re===j&&(re=$),(Ve=Me.nextSibling)!==null)break;Me=Oe,Oe=Me.parentNode}Me=Ve}x=Z===-1||re===-1?null:{start:Z,end:re}}else x=null}x=x||{start:0,end:0}}else x=null;for(Jv={focusedElem:c,selectionRange:x},_c=!1,He=m;He!==null;)if(m=He,c=m.child,(m.subtreeFlags&1028)!==0&&c!==null)c.return=m,He=c;else for(;He!==null;){m=He;try{var Ye=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Ze=Ye.memoizedProps,rs=Ye.memoizedState,me=m.stateNode,ne=me.getSnapshotBeforeUpdate(m.elementType===m.type?Ze:di(m.type,Ze),rs);me.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var fe=m.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Le){Gr(m,m.return,Le)}if(c=m.sibling,c!==null){c.return=m.return,He=c;break}He=m.return}return Ye=F4,F4=!1,Ye}function gh(c,m,x){var j=m.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var C=j=j.next;do{if((C.tag&c)===c){var P=C.destroy;C.destroy=void 0,P!==void 0&&$b(m,x,P)}C=C.next}while(C!==j)}}function pg(c,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&c)===c){var j=x.create;x.destroy=j()}x=x.next}while(x!==m)}}function Lb(c){var m=c.ref;if(m!==null){var x=c.stateNode;switch(c.tag){case 5:c=x;break;default:c=x}typeof m=="function"?m(c):m.current=c}}function U4(c){var m=c.alternate;m!==null&&(c.alternate=null,U4(m)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(m=c.stateNode,m!==null&&(delete m[Fi],delete m[nh],delete m[eb],delete m[X9],delete m[Z9])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function B4(c){return c.tag===5||c.tag===3||c.tag===4}function W4(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||B4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zb(c,m,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,m?x.nodeType===8?x.parentNode.insertBefore(c,m):x.insertBefore(c,m):(x.nodeType===8?(m=x.parentNode,m.insertBefore(c,x)):(m=x,m.appendChild(c)),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=Hp));else if(j!==4&&(c=c.child,c!==null))for(zb(c,m,x),c=c.sibling;c!==null;)zb(c,m,x),c=c.sibling}function Fb(c,m,x){var j=c.tag;if(j===5||j===6)c=c.stateNode,m?x.insertBefore(c,m):x.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(Fb(c,m,x),c=c.sibling;c!==null;)Fb(c,m,x),c=c.sibling}var Ks=null,ui=!1;function Sl(c,m,x){for(x=x.child;x!==null;)V4(c,m,x),x=x.sibling}function V4(c,m,x){if(Aa&&typeof Aa.onCommitFiberUnmount=="function")try{Aa.onCommitFiberUnmount(ml,x)}catch{}switch(x.tag){case 5:ca||cu(x,m);case 6:var j=Ks,C=ui;Ks=null,Sl(c,m,x),Ks=j,ui=C,Ks!==null&&(ui?(c=Ks,x=x.stateNode,c.nodeType===8?c.parentNode.removeChild(x):c.removeChild(x)):Ks.removeChild(x.stateNode));break;case 18:Ks!==null&&(ui?(c=Ks,x=x.stateNode,c.nodeType===8?Qv(c.parentNode,x):c.nodeType===1&&Qv(c,x),xl(c)):Qv(Ks,x.stateNode));break;case 4:j=Ks,C=ui,Ks=x.stateNode.containerInfo,ui=!0,Sl(c,m,x),Ks=j,ui=C;break;case 0:case 11:case 14:case 15:if(!ca&&(j=x.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){C=j=j.next;do{var P=C,$=P.destroy;P=P.tag,$!==void 0&&((P&2)!==0||(P&4)!==0)&&$b(x,m,$),C=C.next}while(C!==j)}Sl(c,m,x);break;case 1:if(!ca&&(cu(x,m),j=x.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=x.memoizedProps,j.state=x.memoizedState,j.componentWillUnmount()}catch(Z){Gr(x,m,Z)}Sl(c,m,x);break;case 21:Sl(c,m,x);break;case 22:x.mode&1?(ca=(j=ca)||x.memoizedState!==null,Sl(c,m,x),ca=j):Sl(c,m,x);break;default:Sl(c,m,x)}}function q4(c){var m=c.updateQueue;if(m!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new fW),m.forEach(function(j){var C=_W.bind(null,c,j);x.has(j)||(x.add(j),j.then(C,C))})}}function mi(c,m){var x=m.deletions;if(x!==null)for(var j=0;j<x.length;j++){var C=x[j];try{var P=c,$=m,Z=$;e:for(;Z!==null;){switch(Z.tag){case 5:Ks=Z.stateNode,ui=!1;break e;case 3:Ks=Z.stateNode.containerInfo,ui=!0;break e;case 4:Ks=Z.stateNode.containerInfo,ui=!0;break e}Z=Z.return}if(Ks===null)throw Error(s(160));V4(P,$,C),Ks=null,ui=!1;var re=C.alternate;re!==null&&(re.return=null),C.return=null}catch(ve){Gr(C,m,ve)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)H4(m,c),m=m.sibling}function H4(c,m){var x=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(mi(m,c),Wi(c),j&4){try{gh(3,c,c.return),pg(3,c)}catch(Ze){Gr(c,c.return,Ze)}try{gh(5,c,c.return)}catch(Ze){Gr(c,c.return,Ze)}}break;case 1:mi(m,c),Wi(c),j&512&&x!==null&&cu(x,x.return);break;case 5:if(mi(m,c),Wi(c),j&512&&x!==null&&cu(x,x.return),c.flags&32){var C=c.stateNode;try{yr(C,"")}catch(Ze){Gr(c,c.return,Ze)}}if(j&4&&(C=c.stateNode,C!=null)){var P=c.memoizedProps,$=x!==null?x.memoizedProps:P,Z=c.type,re=c.updateQueue;if(c.updateQueue=null,re!==null)try{Z==="input"&&P.type==="radio"&&P.name!=null&&oe(C,P),Rt(Z,$);var ve=Rt(Z,P);for($=0;$<re.length;$+=2){var Re=re[$],Me=re[$+1];Re==="style"?ms(C,Me):Re==="dangerouslySetInnerHTML"?Ge(C,Me):Re==="children"?yr(C,Me):_(C,Re,Me,ve)}switch(Z){case"input":We(C,P);break;case"textarea":us(C,P);break;case"select":var Oe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var Ve=P.value;Ve!=null?tt(C,!!P.multiple,Ve,!1):Oe!==!!P.multiple&&(P.defaultValue!=null?tt(C,!!P.multiple,P.defaultValue,!0):tt(C,!!P.multiple,P.multiple?[]:"",!1))}C[nh]=P}catch(Ze){Gr(c,c.return,Ze)}}break;case 6:if(mi(m,c),Wi(c),j&4){if(c.stateNode===null)throw Error(s(162));C=c.stateNode,P=c.memoizedProps;try{C.nodeValue=P}catch(Ze){Gr(c,c.return,Ze)}}break;case 3:if(mi(m,c),Wi(c),j&4&&x!==null&&x.memoizedState.isDehydrated)try{xl(m.containerInfo)}catch(Ze){Gr(c,c.return,Ze)}break;case 4:mi(m,c),Wi(c);break;case 13:mi(m,c),Wi(c),C=c.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(Wb=nr())),j&4&&q4(c);break;case 22:if(Re=x!==null&&x.memoizedState!==null,c.mode&1?(ca=(ve=ca)||Re,mi(m,c),ca=ve):mi(m,c),Wi(c),j&8192){if(ve=c.memoizedState!==null,(c.stateNode.isHidden=ve)&&!Re&&(c.mode&1)!==0)for(He=c,Re=c.child;Re!==null;){for(Me=He=Re;He!==null;){switch(Oe=He,Ve=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:gh(4,Oe,Oe.return);break;case 1:cu(Oe,Oe.return);var Ye=Oe.stateNode;if(typeof Ye.componentWillUnmount=="function"){j=Oe,x=Oe.return;try{m=j,Ye.props=m.memoizedProps,Ye.state=m.memoizedState,Ye.componentWillUnmount()}catch(Ze){Gr(j,x,Ze)}}break;case 5:cu(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){Y4(Me);continue}}Ve!==null?(Ve.return=Oe,He=Ve):Y4(Me)}Re=Re.sibling}e:for(Re=null,Me=c;;){if(Me.tag===5){if(Re===null){Re=Me;try{C=Me.stateNode,ve?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(Z=Me.stateNode,re=Me.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null,Z.style.display=ur("display",$))}catch(Ze){Gr(c,c.return,Ze)}}}else if(Me.tag===6){if(Re===null)try{Me.stateNode.nodeValue=ve?"":Me.memoizedProps}catch(Ze){Gr(c,c.return,Ze)}}else if((Me.tag!==22&&Me.tag!==23||Me.memoizedState===null||Me===c)&&Me.child!==null){Me.child.return=Me,Me=Me.child;continue}if(Me===c)break e;for(;Me.sibling===null;){if(Me.return===null||Me.return===c)break e;Re===Me&&(Re=null),Me=Me.return}Re===Me&&(Re=null),Me.sibling.return=Me.return,Me=Me.sibling}}break;case 19:mi(m,c),Wi(c),j&4&&q4(c);break;case 21:break;default:mi(m,c),Wi(c)}}function Wi(c){var m=c.flags;if(m&2){try{e:{for(var x=c.return;x!==null;){if(B4(x)){var j=x;break e}x=x.return}throw Error(s(160))}switch(j.tag){case 5:var C=j.stateNode;j.flags&32&&(yr(C,""),j.flags&=-33);var P=W4(c);Fb(c,P,C);break;case 3:case 4:var $=j.stateNode.containerInfo,Z=W4(c);zb(c,Z,$);break;default:throw Error(s(161))}}catch(re){Gr(c,c.return,re)}c.flags&=-3}m&4096&&(c.flags&=-4097)}function gW(c,m,x){He=c,K4(c)}function K4(c,m,x){for(var j=(c.mode&1)!==0;He!==null;){var C=He,P=C.child;if(C.tag===22&&j){var $=C.memoizedState!==null||fg;if(!$){var Z=C.alternate,re=Z!==null&&Z.memoizedState!==null||ca;Z=fg;var ve=ca;if(fg=$,(ca=re)&&!ve)for(He=C;He!==null;)$=He,re=$.child,$.tag===22&&$.memoizedState!==null?J4(C):re!==null?(re.return=$,He=re):J4(C);for(;P!==null;)He=P,K4(P),P=P.sibling;He=C,fg=Z,ca=ve}G4(c)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,He=P):G4(c)}}function G4(c){for(;He!==null;){var m=He;if((m.flags&8772)!==0){var x=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ca||pg(5,m);break;case 1:var j=m.stateNode;if(m.flags&4&&!ca)if(x===null)j.componentDidMount();else{var C=m.elementType===m.type?x.memoizedProps:di(m.type,x.memoizedProps);j.componentDidUpdate(C,x.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var P=m.updateQueue;P!==null&&Yk(m,P,j);break;case 3:var $=m.updateQueue;if($!==null){if(x=null,m.child!==null)switch(m.child.tag){case 5:x=m.child.stateNode;break;case 1:x=m.child.stateNode}Yk(m,$,x)}break;case 5:var Z=m.stateNode;if(x===null&&m.flags&4){x=Z;var re=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&x.focus();break;case"img":re.src&&(x.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ve=m.alternate;if(ve!==null){var Re=ve.memoizedState;if(Re!==null){var Me=Re.dehydrated;Me!==null&&xl(Me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ca||m.flags&512&&Lb(m)}catch(Oe){Gr(m,m.return,Oe)}}if(m===c){He=null;break}if(x=m.sibling,x!==null){x.return=m.return,He=x;break}He=m.return}}function Y4(c){for(;He!==null;){var m=He;if(m===c){He=null;break}var x=m.sibling;if(x!==null){x.return=m.return,He=x;break}He=m.return}}function J4(c){for(;He!==null;){var m=He;try{switch(m.tag){case 0:case 11:case 15:var x=m.return;try{pg(4,m)}catch(re){Gr(m,x,re)}break;case 1:var j=m.stateNode;if(typeof j.componentDidMount=="function"){var C=m.return;try{j.componentDidMount()}catch(re){Gr(m,C,re)}}var P=m.return;try{Lb(m)}catch(re){Gr(m,P,re)}break;case 5:var $=m.return;try{Lb(m)}catch(re){Gr(m,$,re)}}}catch(re){Gr(m,m.return,re)}if(m===c){He=null;break}var Z=m.sibling;if(Z!==null){Z.return=m.return,He=Z;break}He=m.return}}var xW=Math.ceil,gg=k.ReactCurrentDispatcher,Ub=k.ReactCurrentOwner,Tn=k.ReactCurrentBatchConfig,Zt=0,Is=null,ps=null,Gs=0,on=0,du=bl(0),js=0,xh=null,Oc=0,xg=0,Bb=0,yh=null,qa=null,Wb=0,uu=1/0,To=null,yg=!1,Vb=null,Cl=null,vg=!1,kl=null,bg=0,vh=0,qb=null,wg=-1,jg=0;function Ea(){return(Zt&6)!==0?nr():wg!==-1?wg:wg=nr()}function Al(c){return(c.mode&1)===0?1:(Zt&2)!==0&&Gs!==0?Gs&-Gs:eW.transition!==null?(jg===0&&(jg=_n()),jg):(c=Xt,c!==0||(c=window.event,c=c===void 0?16:qd(c.type)),c)}function hi(c,m,x,j){if(50<vh)throw vh=0,qb=null,Error(s(185));Sn(c,x,j),((Zt&2)===0||c!==Is)&&(c===Is&&((Zt&2)===0&&(xg|=x),js===4&&Pl(c,Gs)),Ha(c,j),x===1&&Zt===0&&(m.mode&1)===0&&(uu=nr()+500,Jp&&jl()))}function Ha(c,m){var x=c.callbackNode;si(c,m);var j=aa(c,c===Is?Gs:0);if(j===0)x!==null&&Ua(x),c.callbackNode=null,c.callbackPriority=0;else if(m=j&-j,c.callbackPriority!==m){if(x!=null&&Ua(x),m===1)c.tag===0?Q9(Z4.bind(null,c)):$k(Z4.bind(null,c)),Y9(function(){(Zt&6)===0&&jl()}),x=null;else{switch(zm(j)){case 1:x=Os;break;case 4:x=Li;break;case 16:x=zi;break;case 536870912:x=wc;break;default:x=zi}x=iA(x,X4.bind(null,c))}c.callbackPriority=m,c.callbackNode=x}}function X4(c,m){if(wg=-1,jg=0,(Zt&6)!==0)throw Error(s(327));var x=c.callbackNode;if(mu()&&c.callbackNode!==x)return null;var j=aa(c,c===Is?Gs:0);if(j===0)return null;if((j&30)!==0||(j&c.expiredLanes)!==0||m)m=Ng(c,j);else{m=j;var C=Zt;Zt|=2;var P=eA();(Is!==c||Gs!==m)&&(To=null,uu=nr()+500,Mc(c,m));do try{bW();break}catch(Z){Q4(c,Z)}while(!0);cb(),gg.current=P,Zt=C,ps!==null?m=0:(Is=null,Gs=0,m=js)}if(m!==0){if(m===2&&(C=Rs(c),C!==0&&(j=C,m=Hb(c,C))),m===1)throw x=xh,Mc(c,0),Pl(c,j),Ha(c,nr()),x;if(m===6)Pl(c,j);else{if(C=c.current.alternate,(j&30)===0&&!yW(C)&&(m=Ng(c,j),m===2&&(P=Rs(c),P!==0&&(j=P,m=Hb(c,P))),m===1))throw x=xh,Mc(c,0),Pl(c,j),Ha(c,nr()),x;switch(c.finishedWork=C,c.finishedLanes=j,m){case 0:case 1:throw Error(s(345));case 2:Ic(c,qa,To);break;case 3:if(Pl(c,j),(j&130023424)===j&&(m=Wb+500-nr(),10<m)){if(aa(c,0)!==0)break;if(C=c.suspendedLanes,(C&j)!==j){Ea(),c.pingedLanes|=c.suspendedLanes&C;break}c.timeoutHandle=Zv(Ic.bind(null,c,qa,To),m);break}Ic(c,qa,To);break;case 4:if(Pl(c,j),(j&4194240)===j)break;for(m=c.eventTimes,C=-1;0<j;){var $=31-Q(j);P=1<<$,$=m[$],$>C&&(C=$),j&=~P}if(j=C,j=nr()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*xW(j/1960))-j,10<j){c.timeoutHandle=Zv(Ic.bind(null,c,qa,To),j);break}Ic(c,qa,To);break;case 5:Ic(c,qa,To);break;default:throw Error(s(329))}}}return Ha(c,nr()),c.callbackNode===x?X4.bind(null,c):null}function Hb(c,m){var x=yh;return c.current.memoizedState.isDehydrated&&(Mc(c,m).flags|=256),c=Ng(c,m),c!==2&&(m=qa,qa=x,m!==null&&Kb(m)),c}function Kb(c){qa===null?qa=c:qa.push.apply(qa,c)}function yW(c){for(var m=c;;){if(m.flags&16384){var x=m.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var j=0;j<x.length;j++){var C=x[j],P=C.getSnapshot;C=C.value;try{if(!li(P(),C))return!1}catch{return!1}}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Pl(c,m){for(m&=~Bb,m&=~xg,c.suspendedLanes|=m,c.pingedLanes&=~m,c=c.expirationTimes;0<m;){var x=31-Q(m),j=1<<x;c[x]=-1,m&=~j}}function Z4(c){if((Zt&6)!==0)throw Error(s(327));mu();var m=aa(c,0);if((m&1)===0)return Ha(c,nr()),null;var x=Ng(c,m);if(c.tag!==0&&x===2){var j=Rs(c);j!==0&&(m=j,x=Hb(c,j))}if(x===1)throw x=xh,Mc(c,0),Pl(c,m),Ha(c,nr()),x;if(x===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=m,Ic(c,qa,To),Ha(c,nr()),null}function Gb(c,m){var x=Zt;Zt|=1;try{return c(m)}finally{Zt=x,Zt===0&&(uu=nr()+500,Jp&&jl())}}function Rc(c){kl!==null&&kl.tag===0&&(Zt&6)===0&&mu();var m=Zt;Zt|=1;var x=Tn.transition,j=Xt;try{if(Tn.transition=null,Xt=1,c)return c()}finally{Xt=j,Tn.transition=x,Zt=m,(Zt&6)===0&&jl()}}function Yb(){on=du.current,Pr(du)}function Mc(c,m){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==-1&&(c.timeoutHandle=-1,G9(x)),ps!==null)for(x=ps.return;x!==null;){var j=x;switch(ab(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Gp();break;case 3:ou(),Pr(Ba),Pr(ia),xb();break;case 5:pb(j);break;case 4:ou();break;case 13:Pr(Wr);break;case 19:Pr(Wr);break;case 10:db(j.type._context);break;case 22:case 23:Yb()}x=x.return}if(Is=c,ps=c=El(c.current,null),Gs=on=m,js=0,xh=null,Bb=xg=Oc=0,qa=yh=null,Pc!==null){for(m=0;m<Pc.length;m++)if(x=Pc[m],j=x.interleaved,j!==null){x.interleaved=null;var C=j.next,P=x.pending;if(P!==null){var $=P.next;P.next=C,j.next=$}x.pending=j}Pc=null}return c}function Q4(c,m){do{var x=ps;try{if(cb(),ig.current=dg,og){for(var j=Vr.memoizedState;j!==null;){var C=j.queue;C!==null&&(C.pending=null),j=j.next}og=!1}if(Tc=0,Ms=ws=Vr=null,uh=!1,mh=0,Ub.current=null,x===null||x.return===null){js=1,xh=m,ps=null;break}e:{var P=c,$=x.return,Z=x,re=m;if(m=Gs,Z.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var ve=re,Re=Z,Me=Re.tag;if((Re.mode&1)===0&&(Me===0||Me===11||Me===15)){var Oe=Re.alternate;Oe?(Re.updateQueue=Oe.updateQueue,Re.memoizedState=Oe.memoizedState,Re.lanes=Oe.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var Ve=_4($);if(Ve!==null){Ve.flags&=-257,S4(Ve,$,Z,P,m),Ve.mode&1&&N4(P,ve,m),m=Ve,re=ve;var Ye=m.updateQueue;if(Ye===null){var Ze=new Set;Ze.add(re),m.updateQueue=Ze}else Ye.add(re);break e}else{if((m&1)===0){N4(P,ve,m),Jb();break e}re=Error(s(426))}}else if(Ir&&Z.mode&1){var rs=_4($);if(rs!==null){(rs.flags&65536)===0&&(rs.flags|=256),S4(rs,$,Z,P,m),ob(lu(re,Z));break e}}P=re=lu(re,Z),js!==4&&(js=2),yh===null?yh=[P]:yh.push(P),P=$;do{switch(P.tag){case 3:P.flags|=65536,m&=-m,P.lanes|=m;var me=w4(P,re,m);Gk(P,me);break e;case 1:Z=re;var ne=P.type,fe=P.stateNode;if((P.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Cl===null||!Cl.has(fe)))){P.flags|=65536,m&=-m,P.lanes|=m;var Le=j4(P,Z,m);Gk(P,Le);break e}}P=P.return}while(P!==null)}rA(x)}catch(nt){m=nt,ps===x&&x!==null&&(ps=x=x.return);continue}break}while(!0)}function eA(){var c=gg.current;return gg.current=dg,c===null?dg:c}function Jb(){(js===0||js===3||js===2)&&(js=4),Is===null||(Oc&268435455)===0&&(xg&268435455)===0||Pl(Is,Gs)}function Ng(c,m){var x=Zt;Zt|=2;var j=eA();(Is!==c||Gs!==m)&&(To=null,Mc(c,m));do try{vW();break}catch(C){Q4(c,C)}while(!0);if(cb(),Zt=x,gg.current=j,ps!==null)throw Error(s(261));return Is=null,Gs=0,js}function vW(){for(;ps!==null;)tA(ps)}function bW(){for(;ps!==null&&!Nn();)tA(ps)}function tA(c){var m=nA(c.alternate,c,on);c.memoizedProps=c.pendingProps,m===null?rA(c):ps=m,Ub.current=null}function rA(c){var m=c;do{var x=m.alternate;if(c=m.return,(m.flags&32768)===0){if(x=mW(x,m,on),x!==null){ps=x;return}}else{if(x=hW(x,m),x!==null){x.flags&=32767,ps=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{js=6,ps=null;return}}if(m=m.sibling,m!==null){ps=m;return}ps=m=c}while(m!==null);js===0&&(js=5)}function Ic(c,m,x){var j=Xt,C=Tn.transition;try{Tn.transition=null,Xt=1,wW(c,m,x,j)}finally{Tn.transition=C,Xt=j}return null}function wW(c,m,x,j){do mu();while(kl!==null);if((Zt&6)!==0)throw Error(s(327));x=c.finishedWork;var C=c.finishedLanes;if(x===null)return null;if(c.finishedWork=null,c.finishedLanes=0,x===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0;var P=x.lanes|x.childLanes;if(wo(c,P),c===Is&&(ps=Is=null,Gs=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||vg||(vg=!0,iA(zi,function(){return mu(),null})),P=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||P){P=Tn.transition,Tn.transition=null;var $=Xt;Xt=1;var Z=Zt;Zt|=4,Ub.current=null,pW(c,x),H4(x,c),U9(Jv),_c=!!Yv,Jv=Yv=null,c.current=x,gW(x),ul(),Zt=Z,Xt=$,Tn.transition=P}else c.current=x;if(vg&&(vg=!1,kl=c,bg=C),P=c.pendingLanes,P===0&&(Cl=null),Ud(x.stateNode),Ha(c,nr()),m!==null)for(j=c.onRecoverableError,x=0;x<m.length;x++)C=m[x],j(C.value,{componentStack:C.stack,digest:C.digest});if(yg)throw yg=!1,c=Vb,Vb=null,c;return(bg&1)!==0&&c.tag!==0&&mu(),P=c.pendingLanes,(P&1)!==0?c===qb?vh++:(vh=0,qb=c):vh=0,jl(),null}function mu(){if(kl!==null){var c=zm(bg),m=Tn.transition,x=Xt;try{if(Tn.transition=null,Xt=16>c?16:c,kl===null)var j=!1;else{if(c=kl,kl=null,bg=0,(Zt&6)!==0)throw Error(s(331));var C=Zt;for(Zt|=4,He=c.current;He!==null;){var P=He,$=P.child;if((He.flags&16)!==0){var Z=P.deletions;if(Z!==null){for(var re=0;re<Z.length;re++){var ve=Z[re];for(He=ve;He!==null;){var Re=He;switch(Re.tag){case 0:case 11:case 15:gh(8,Re,P)}var Me=Re.child;if(Me!==null)Me.return=Re,He=Me;else for(;He!==null;){Re=He;var Oe=Re.sibling,Ve=Re.return;if(U4(Re),Re===ve){He=null;break}if(Oe!==null){Oe.return=Ve,He=Oe;break}He=Ve}}}var Ye=P.alternate;if(Ye!==null){var Ze=Ye.child;if(Ze!==null){Ye.child=null;do{var rs=Ze.sibling;Ze.sibling=null,Ze=rs}while(Ze!==null)}}He=P}}if((P.subtreeFlags&2064)!==0&&$!==null)$.return=P,He=$;else e:for(;He!==null;){if(P=He,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:gh(9,P,P.return)}var me=P.sibling;if(me!==null){me.return=P.return,He=me;break e}He=P.return}}var ne=c.current;for(He=ne;He!==null;){$=He;var fe=$.child;if(($.subtreeFlags&2064)!==0&&fe!==null)fe.return=$,He=fe;else e:for($=ne;He!==null;){if(Z=He,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:pg(9,Z)}}catch(nt){Gr(Z,Z.return,nt)}if(Z===$){He=null;break e}var Le=Z.sibling;if(Le!==null){Le.return=Z.return,He=Le;break e}He=Z.return}}if(Zt=C,jl(),Aa&&typeof Aa.onPostCommitFiberRoot=="function")try{Aa.onPostCommitFiberRoot(ml,c)}catch{}j=!0}return j}finally{Xt=x,Tn.transition=m}}return!1}function sA(c,m,x){m=lu(x,m),m=w4(c,m,1),c=_l(c,m,1),m=Ea(),c!==null&&(Sn(c,1,m),Ha(c,m))}function Gr(c,m,x){if(c.tag===3)sA(c,c,x);else for(;m!==null;){if(m.tag===3){sA(m,c,x);break}else if(m.tag===1){var j=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Cl===null||!Cl.has(j))){c=lu(x,c),c=j4(m,c,1),m=_l(m,c,1),c=Ea(),m!==null&&(Sn(m,1,c),Ha(m,c));break}}m=m.return}}function jW(c,m,x){var j=c.pingCache;j!==null&&j.delete(m),m=Ea(),c.pingedLanes|=c.suspendedLanes&x,Is===c&&(Gs&x)===x&&(js===4||js===3&&(Gs&130023424)===Gs&&500>nr()-Wb?Mc(c,0):Bb|=x),Ha(c,m)}function aA(c,m){m===0&&((c.mode&1)===0?m=1:(m=or,or<<=1,(or&130023424)===0&&(or=4194304)));var x=Ea();c=Ao(c,m),c!==null&&(Sn(c,m,x),Ha(c,x))}function NW(c){var m=c.memoizedState,x=0;m!==null&&(x=m.retryLane),aA(c,x)}function _W(c,m){var x=0;switch(c.tag){case 13:var j=c.stateNode,C=c.memoizedState;C!==null&&(x=C.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(m),aA(c,x)}var nA;nA=function(c,m,x){if(c!==null)if(c.memoizedProps!==m.pendingProps||Ba.current)Va=!0;else{if((c.lanes&x)===0&&(m.flags&128)===0)return Va=!1,uW(c,m,x);Va=(c.flags&131072)!==0}else Va=!1,Ir&&(m.flags&1048576)!==0&&Lk(m,Zp,m.index);switch(m.lanes=0,m.tag){case 2:var j=m.type;hg(c,m),c=m.pendingProps;var C=eu(m,ia.current);iu(m,x),C=bb(null,m,j,c,C,x);var P=wb();return m.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Wa(j)?(P=!0,Yp(m)):P=!1,m.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,hb(m),C.updater=ug,m.stateNode=C,C._reactInternals=m,kb(m,j,c,x),m=Tb(null,m,j,!0,P,x)):(m.tag=0,Ir&&P&&sb(m),Pa(null,m,C,x),m=m.child),m;case 16:j=m.elementType;e:{switch(hg(c,m),c=m.pendingProps,C=j._init,j=C(j._payload),m.type=j,C=m.tag=CW(j),c=di(j,c),C){case 0:m=Eb(null,m,j,c,x);break e;case 1:m=T4(null,m,j,c,x);break e;case 11:m=C4(null,m,j,c,x);break e;case 14:m=k4(null,m,j,di(j.type,c),x);break e}throw Error(s(306,j,""))}return m;case 0:return j=m.type,C=m.pendingProps,C=m.elementType===j?C:di(j,C),Eb(c,m,j,C,x);case 1:return j=m.type,C=m.pendingProps,C=m.elementType===j?C:di(j,C),T4(c,m,j,C,x);case 3:e:{if(O4(m),c===null)throw Error(s(387));j=m.pendingProps,P=m.memoizedState,C=P.element,Kk(c,m),ag(m,j,null,x);var $=m.memoizedState;if(j=$.element,P.isDehydrated)if(P={element:j,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},m.updateQueue.baseState=P,m.memoizedState=P,m.flags&256){C=lu(Error(s(423)),m),m=R4(c,m,j,x,C);break e}else if(j!==C){C=lu(Error(s(424)),m),m=R4(c,m,j,x,C);break e}else for(nn=vl(m.stateNode.containerInfo.firstChild),an=m,Ir=!0,ci=null,x=qk(m,null,j,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(su(),j===C){m=Eo(c,m,x);break e}Pa(c,m,j,x)}m=m.child}return m;case 5:return Jk(m),c===null&&ib(m),j=m.type,C=m.pendingProps,P=c!==null?c.memoizedProps:null,$=C.children,Xv(j,C)?$=null:P!==null&&Xv(j,P)&&(m.flags|=32),E4(c,m),Pa(c,m,$,x),m.child;case 6:return c===null&&ib(m),null;case 13:return M4(c,m,x);case 4:return fb(m,m.stateNode.containerInfo),j=m.pendingProps,c===null?m.child=au(m,null,j,x):Pa(c,m,j,x),m.child;case 11:return j=m.type,C=m.pendingProps,C=m.elementType===j?C:di(j,C),C4(c,m,j,C,x);case 7:return Pa(c,m,m.pendingProps,x),m.child;case 8:return Pa(c,m,m.pendingProps.children,x),m.child;case 12:return Pa(c,m,m.pendingProps.children,x),m.child;case 10:e:{if(j=m.type._context,C=m.pendingProps,P=m.memoizedProps,$=C.value,wr(tg,j._currentValue),j._currentValue=$,P!==null)if(li(P.value,$)){if(P.children===C.children&&!Ba.current){m=Eo(c,m,x);break e}}else for(P=m.child,P!==null&&(P.return=m);P!==null;){var Z=P.dependencies;if(Z!==null){$=P.child;for(var re=Z.firstContext;re!==null;){if(re.context===j){if(P.tag===1){re=Po(-1,x&-x),re.tag=2;var ve=P.updateQueue;if(ve!==null){ve=ve.shared;var Re=ve.pending;Re===null?re.next=re:(re.next=Re.next,Re.next=re),ve.pending=re}}P.lanes|=x,re=P.alternate,re!==null&&(re.lanes|=x),ub(P.return,x,m),Z.lanes|=x;break}re=re.next}}else if(P.tag===10)$=P.type===m.type?null:P.child;else if(P.tag===18){if($=P.return,$===null)throw Error(s(341));$.lanes|=x,Z=$.alternate,Z!==null&&(Z.lanes|=x),ub($,x,m),$=P.sibling}else $=P.child;if($!==null)$.return=P;else for($=P;$!==null;){if($===m){$=null;break}if(P=$.sibling,P!==null){P.return=$.return,$=P;break}$=$.return}P=$}Pa(c,m,C.children,x),m=m.child}return m;case 9:return C=m.type,j=m.pendingProps.children,iu(m,x),C=Pn(C),j=j(C),m.flags|=1,Pa(c,m,j,x),m.child;case 14:return j=m.type,C=di(j,m.pendingProps),C=di(j.type,C),k4(c,m,j,C,x);case 15:return A4(c,m,m.type,m.pendingProps,x);case 17:return j=m.type,C=m.pendingProps,C=m.elementType===j?C:di(j,C),hg(c,m),m.tag=1,Wa(j)?(c=!0,Yp(m)):c=!1,iu(m,x),v4(m,j,C),kb(m,j,C,x),Tb(null,m,j,!0,c,x);case 19:return D4(c,m,x);case 22:return P4(c,m,x)}throw Error(s(156,m.tag))};function iA(c,m){return Kr(c,m)}function SW(c,m,x,j){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(c,m,x,j){return new SW(c,m,x,j)}function Xb(c){return c=c.prototype,!(!c||!c.isReactComponent)}function CW(c){if(typeof c=="function")return Xb(c)?1:0;if(c!=null){if(c=c.$$typeof,c===I)return 11;if(c===W)return 14}return 2}function El(c,m){var x=c.alternate;return x===null?(x=On(c.tag,m,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=m,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,m=c.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function _g(c,m,x,j,C,P){var $=2;if(j=c,typeof c=="function")Xb(c)&&($=1);else if(typeof c=="string")$=5;else e:switch(c){case E:return Dc(x.children,C,P,m);case R:$=8,C|=8;break;case z:return c=On(12,x,m,C|2),c.elementType=z,c.lanes=P,c;case F:return c=On(13,x,m,C),c.elementType=F,c.lanes=P,c;case V:return c=On(19,x,m,C),c.elementType=V,c.lanes=P,c;case D:return Sg(x,C,P,m);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case B:$=10;break e;case O:$=9;break e;case I:$=11;break e;case W:$=14;break e;case X:$=16,j=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return m=On($,x,m,C),m.elementType=c,m.type=j,m.lanes=P,m}function Dc(c,m,x,j){return c=On(7,c,j,m),c.lanes=x,c}function Sg(c,m,x,j){return c=On(22,c,j,m),c.elementType=D,c.lanes=x,c.stateNode={isHidden:!1},c}function Zb(c,m,x){return c=On(6,c,null,m),c.lanes=x,c}function Qb(c,m,x){return m=On(4,c.children!==null?c.children:[],c.key,m),m.lanes=x,m.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},m}function kW(c,m,x,j,C){this.tag=m,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=j,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ew(c,m,x,j,C,P,$,Z,re){return c=new kW(c,m,x,Z,re),m===1?(m=1,P===!0&&(m|=8)):m=0,P=On(3,null,null,m),c.current=P,P.stateNode=c,P.memoizedState={element:j,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},hb(P),c}function AW(c,m,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:j==null?null:""+j,children:c,containerInfo:m,implementation:x}}function oA(c){if(!c)return wl;c=c._reactInternals;e:{if(it(c)!==c||c.tag!==1)throw Error(s(170));var m=c;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Wa(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(s(171))}if(c.tag===1){var x=c.type;if(Wa(x))return Ik(c,x,m)}return m}function lA(c,m,x,j,C,P,$,Z,re){return c=ew(x,j,!0,c,C,P,$,Z,re),c.context=oA(null),x=c.current,j=Ea(),C=Al(x),P=Po(j,C),P.callback=m??null,_l(x,P,C),c.current.lanes=C,Sn(c,C,j),Ha(c,j),c}function Cg(c,m,x,j){var C=m.current,P=Ea(),$=Al(C);return x=oA(x),m.context===null?m.context=x:m.pendingContext=x,m=Po(P,$),m.payload={element:c},j=j===void 0?null:j,j!==null&&(m.callback=j),c=_l(C,m,$),c!==null&&(hi(c,C,$,P),sg(c,C,$)),$}function kg(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function cA(c,m){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<m?x:m}}function tw(c,m){cA(c,m),(c=c.alternate)&&cA(c,m)}function PW(){return null}var dA=typeof reportError=="function"?reportError:function(c){console.error(c)};function rw(c){this._internalRoot=c}Ag.prototype.render=rw.prototype.render=function(c){var m=this._internalRoot;if(m===null)throw Error(s(409));Cg(c,m,null,null)},Ag.prototype.unmount=rw.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var m=c.containerInfo;Rc(function(){Cg(null,c,null,null)}),m[_o]=null}};function Ag(c){this._internalRoot=c}Ag.prototype.unstable_scheduleHydration=function(c){if(c){var m=Bm();c={blockedOn:null,target:c,priority:m};for(var x=0;x<oi.length&&m!==0&&m<oi[x].priority;x++);oi.splice(x,0,c),x===0&&qm(c)}};function sw(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Pg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function uA(){}function EW(c,m,x,j,C){if(C){if(typeof j=="function"){var P=j;j=function(){var ve=kg($);P.call(ve)}}var $=lA(m,j,c,0,null,!1,!1,"",uA);return c._reactRootContainer=$,c[_o]=$.current,sh(c.nodeType===8?c.parentNode:c),Rc(),$}for(;C=c.lastChild;)c.removeChild(C);if(typeof j=="function"){var Z=j;j=function(){var ve=kg(re);Z.call(ve)}}var re=ew(c,0,!1,null,null,!1,!1,"",uA);return c._reactRootContainer=re,c[_o]=re.current,sh(c.nodeType===8?c.parentNode:c),Rc(function(){Cg(m,re,x,j)}),re}function Eg(c,m,x,j,C){var P=x._reactRootContainer;if(P){var $=P;if(typeof C=="function"){var Z=C;C=function(){var re=kg($);Z.call(re)}}Cg(m,$,c,C)}else $=EW(x,m,c,C,j);return kg($)}Fm=function(c){switch(c.tag){case 3:var m=c.stateNode;if(m.current.memoizedState.isDehydrated){var x=rn(m.pendingLanes);x!==0&&(Cn(m,x|1),Ha(m,nr()),(Zt&6)===0&&(uu=nr()+500,jl()))}break;case 13:Rc(function(){var j=Ao(c,1);if(j!==null){var C=Ea();hi(j,c,1,C)}}),tw(c,1)}},Bd=function(c){if(c.tag===13){var m=Ao(c,134217728);if(m!==null){var x=Ea();hi(m,c,134217728,x)}tw(c,134217728)}},Um=function(c){if(c.tag===13){var m=Al(c),x=Ao(c,m);if(x!==null){var j=Ea();hi(x,c,m,j)}tw(c,m)}},Bm=function(){return Xt},Wm=function(c,m){var x=Xt;try{return Xt=c,m()}finally{Xt=x}},je=function(c,m,x){switch(m){case"input":if(We(c,x),m=x.name,x.type==="radio"&&m!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<x.length;m++){var j=x[m];if(j!==c&&j.form===c.form){var C=Kp(j);if(!C)throw Error(s(90));te(j),We(j,C)}}}break;case"textarea":us(c,x);break;case"select":m=x.value,m!=null&&tt(c,!!x.multiple,m,!1)}},Sa=Gb,bs=Rc;var TW={usingClientEntryPoint:!1,Events:[ih,Zd,Kp,ir,Ct,Gb]},bh={findFiberByHostInstance:Sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OW={bundleType:bh.bundleType,version:bh.version,rendererPackageName:bh.rendererPackageName,rendererConfig:bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=$i(c),c===null?null:c.stateNode},findFiberByHostInstance:bh.findFiberByHostInstance||PW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{ml=Tg.inject(OW),Aa=Tg}catch{}}return Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TW,Ka.createPortal=function(c,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sw(m))throw Error(s(200));return AW(c,m,null,x)},Ka.createRoot=function(c,m){if(!sw(c))throw Error(s(299));var x=!1,j="",C=dA;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(C=m.onRecoverableError)),m=ew(c,1,!1,null,null,x,!1,j,C),c[_o]=m.current,sh(c.nodeType===8?c.parentNode:c),new rw(m)},Ka.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var m=c._reactInternals;if(m===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=$i(m),c=c===null?null:c.stateNode,c},Ka.flushSync=function(c){return Rc(c)},Ka.hydrate=function(c,m,x){if(!Pg(m))throw Error(s(200));return Eg(null,c,m,!0,x)},Ka.hydrateRoot=function(c,m,x){if(!sw(c))throw Error(s(405));var j=x!=null&&x.hydratedSources||null,C=!1,P="",$=dA;if(x!=null&&(x.unstable_strictMode===!0&&(C=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onRecoverableError!==void 0&&($=x.onRecoverableError)),m=lA(m,null,c,1,x??null,C,!1,P,$),c[_o]=m.current,sh(c),j)for(c=0;c<j.length;c++)x=j[c],C=x._getVersion,C=C(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,C]:m.mutableSourceEagerHydrationData.push(x,C);return new Ag(m)},Ka.render=function(c,m,x){if(!Pg(m))throw Error(s(200));return Eg(null,c,m,!1,x)},Ka.unmountComponentAtNode=function(c){if(!Pg(c))throw Error(s(40));return c._reactRootContainer?(Rc(function(){Eg(null,null,c,!1,function(){c._reactRootContainer=null,c[_o]=null})}),!0):!1},Ka.unstable_batchedUpdates=Gb,Ka.unstable_renderSubtreeIntoContainer=function(c,m,x,j){if(!Pg(x))throw Error(s(200));if(c==null||c._reactInternals===void 0)throw Error(s(38));return Eg(c,m,x,!1,j)},Ka.version="18.3.1-next-f1338f8080-20240426",Ka}var $A;function LM(){if($A)return vw.exports;$A=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vw.exports=Hq(),vw.exports}var ic=LM();const Kq=Qn(ic);var LA=(e,...t)=>{const s={...e};for(const a of t)delete s[a];return s},Zx=e=>t=>{try{return de.Children.only(e)}catch{return Zi.throw(wq(t))}},Qx=(e,t)=>(e||(e=t),typeof e=="string"&&(e=de.createElement("button",null,e)),e),ey=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function Gq(e){return typeof e=="function"}var Dg=new Map;function Yq(e,t,s=1){de.useEffect(()=>{const a=Dg.get(e)||0;return a==s?Zi.throw(t):(Dg.set(e,a+1),()=>{Dg.set(e,(Dg.get(e)||1)-1)})},[])}function Jq(e,t,s){const a=e.displayName||e.name||t||"Component",n=i=>(Yq(t,s),de.createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${a})`,n}var sf=e=>{const[t,s]=p.useState(new Map);return e.map(a=>({id:a.id,mount:n=>s(i=>new Map(i).set(String(a.id),n)),unmount:()=>s(n=>{const i=new Map(n);return i.set(String(a.id),null),i}),portal:()=>{const n=t.get(String(a.id));return n?ic.createPortal(a.component,n):null}}))},Ta=(e,t)=>!!e&&de.isValidElement(e)&&(e==null?void 0:e.type)===t,zM=(e,t)=>BM({children:e,reorderItemsLabels:["account","security"],LinkComponent:Wf,PageComponent:Bf,MenuItemsComponent:ry,componentName:"UserProfile"},t),FM=(e,t)=>BM({children:e,reorderItemsLabels:["general","members"],LinkComponent:ay,PageComponent:sy,componentName:"OrganizationProfile"},t),UM=e=>{const t=[],s=[ay,sy,ry,Bf,Wf];return de.Children.forEach(e,a=>{s.some(n=>Ta(a,n))||t.push(a)}),t},BM=(e,t)=>{const{children:s,LinkComponent:a,PageComponent:n,MenuItemsComponent:i,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:d=!1}=t||{},u=[];de.Children.forEach(s,S=>{if(!Ta(S,n)&&!Ta(S,a)&&!Ta(S,i)){S&&!d&&Ra(kq(l));return}const{props:_}=S,{children:k,label:T,url:A,labelIcon:E}=_;if(Ta(S,n))if(zA(_,o))u.push({label:T});else if(jw(_))u.push({label:T,labelIcon:E,children:k,url:A});else{Ra(Aq(l));return}if(Ta(S,a))if(Nw(_))u.push({label:T,labelIcon:E,url:A});else{Ra(Pq(l));return}});const h=[],f=[],g=[];u.forEach((S,_)=>{if(jw(S)){h.push({component:S.children,id:_}),f.push({component:S.labelIcon,id:_});return}Nw(S)&&g.push({component:S.labelIcon,id:_})});const y=sf(h),w=sf(f),v=sf(g),b=[],N=[];return u.forEach((S,_)=>{if(zA(S,o)){b.push({label:S.label});return}if(jw(S)){const{portal:k,mount:T,unmount:A}=y.find(B=>B.id===_),{portal:E,mount:R,unmount:z}=w.find(B=>B.id===_);b.push({label:S.label,url:S.url,mount:T,unmount:A,mountIcon:R,unmountIcon:z}),N.push(k),N.push(E);return}if(Nw(S)){const{portal:k,mount:T,unmount:A}=v.find(E=>E.id===_);b.push({label:S.label,url:S.url,mountIcon:T,unmountIcon:A}),N.push(k);return}}),{customPages:b,customPagesPortals:N}},zA=(e,t)=>{const{children:s,label:a,url:n,labelIcon:i}=e;return!s&&!n&&!i&&t.some(o=>o===a)},jw=e=>{const{children:t,label:s,url:a,labelIcon:n}=e;return!!t&&!!a&&!!n&&!!s},Nw=e=>{const{children:t,label:s,url:a,labelIcon:n}=e;return!t&&!!a&&!!n&&!!s},Xq=e=>Zq({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:ry,MenuActionComponent:VM,MenuLinkComponent:qM,UserProfileLinkComponent:Wf,UserProfilePageComponent:Bf}),Zq=({children:e,MenuItemsComponent:t,MenuActionComponent:s,MenuLinkComponent:a,UserProfileLinkComponent:n,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const l=[],d=[],u=[];de.Children.forEach(e,w=>{if(!Ta(w,t)&&!Ta(w,n)&&!Ta(w,i)){w&&Ra(Eq);return}if(Ta(w,n)||Ta(w,i))return;const{props:v}=w;de.Children.forEach(v.children,b=>{if(!Ta(b,s)&&!Ta(b,a)){b&&Ra(Tq);return}const{props:N}=b,{label:S,labelIcon:_,href:k,onClick:T,open:A}=N;if(Ta(b,s))if(FA(N,o))l.push({label:S});else if(_w(N)){const E={label:S,labelIcon:_};if(T!==void 0)l.push({...E,onClick:T});else if(A!==void 0)l.push({...E,open:A.startsWith("/")?A:`/${A}`});else{Ra("Custom menu item must have either onClick or open property");return}}else{Ra(Dq);return}if(Ta(b,a))if(Sw(N))l.push({label:S,labelIcon:_,href:k});else{Ra(Iq);return}})});const h=[],f=[];l.forEach((w,v)=>{_w(w)&&h.push({component:w.labelIcon,id:v}),Sw(w)&&f.push({component:w.labelIcon,id:v})});const g=sf(h),y=sf(f);return l.forEach((w,v)=>{if(FA(w,o)&&d.push({label:w.label}),_w(w)){const{portal:b,mount:N,unmount:S}=g.find(k=>k.id===v),_={label:w.label,mountIcon:N,unmountIcon:S};"onClick"in w?_.onClick=w.onClick:"open"in w&&(_.open=w.open),d.push(_),u.push(b)}if(Sw(w)){const{portal:b,mount:N,unmount:S}=y.find(_=>_.id===v);d.push({label:w.label,href:w.href,mountIcon:N,unmountIcon:S}),u.push(b)}}),{customMenuItems:d,customMenuItemsPortals:u}},FA=(e,t)=>{const{children:s,label:a,onClick:n,labelIcon:i}=e;return!s&&!n&&!i&&t.some(o=>o===a)},_w=e=>{const{label:t,labelIcon:s,onClick:a,open:n}=e;return!!s&&!!t&&(typeof a=="function"||typeof n=="string")},Sw=e=>{const{label:t,href:s,labelIcon:a}=e;return!!s&&!!a&&!!t};function Qq(e){const{root:t=document==null?void 0:document.body,selector:s,timeout:a=0}=e;return new Promise((n,i)=>{if(!t){i(new Error("No root element provided"));return}let o=t;if(s&&(o=t==null?void 0:t.querySelector(s)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){n();return}const d=new MutationObserver(u=>{for(const h of u)if(h.type==="childList"&&(!o&&s&&(o=t==null?void 0:t.querySelector(s)),o!=null&&o.childElementCount&&o.childElementCount>0)){d.disconnect(),n();return}});d.observe(t,{childList:!0,subtree:!0}),a>0&&setTimeout(()=>{d.disconnect(),i(new Error("Timeout waiting for element children"))},a)})}function wn(e){const t=p.useRef(),[s,a]=p.useState("rendering");return p.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!t.current&&(t.current=Qq({selector:`[data-clerk-component="${e}"]`}).then(()=>{a("rendered")}).catch(()=>{a("error")}))},[e]),s}var $g=e=>"mount"in e,UA=e=>"open"in e,BA=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:s,...a})=>a),Da=class extends de.PureComponent{constructor(){super(...arguments),this.rootRef=de.createRef()}componentDidUpdate(e){var t,s,a,n;if(!$g(e)||!$g(this.props))return;const i=LA(e.props,"customPages","customMenuItems","children"),o=LA(this.props.props,"customPages","customMenuItems","children"),l=((t=i.customPages)==null?void 0:t.length)!==((s=o.customPages)==null?void 0:s.length),d=((a=i.customMenuItems)==null?void 0:a.length)!==((n=o.customMenuItems)==null?void 0:n.length),u=BA(e.props.customMenuItems),h=BA(this.props.props.customMenuItems);(!EA(i,o)||!EA(u,h)||l||d)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&($g(this.props)&&this.props.mount(this.rootRef.current,this.props.props),UA(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&($g(this.props)&&this.props.unmount(this.rootRef.current),UA(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return de.createElement(de.Fragment,null,!e&&de.createElement("div",{...t}),this.props.children)}},ty=e=>{var t,s;return de.createElement(de.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((a,n)=>p.createElement(a,{key:n})),(s=e==null?void 0:e.customMenuItemsPortals)==null?void 0:s.map((a,n)=>p.createElement(a,{key:n})))},eH=Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),tH=Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Bf({children:e}){return Ra(Nq),de.createElement(de.Fragment,null,e)}function Wf({children:e}){return Ra(_q),de.createElement(de.Fragment,null,e)}var rH=Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=zM(a.children);return de.createElement(de.Fragment,null,i&&s,de.createElement(Da,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},de.createElement(ty,{customPagesPortals:d})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(rH,{Page:Bf,Link:Wf});var WM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),sH=Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=zM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),u=Object.assign(a.userProfileProps||{},{customPages:l}),{customMenuItems:h,customMenuItemsPortals:f}=Xq(a.children),g=UM(a.children),y={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...a,userProfileProps:u,customMenuItems:h}},w={customPagesPortals:d,customMenuItemsPortals:f};return de.createElement(WM.Provider,{value:y},i&&s,e.loaded&&de.createElement(Da,{component:t,...y,hideRootHtmlElement:!!a.__experimental_asProvider,rootProps:o},a.__experimental_asProvider?g:null,de.createElement(ty,{...w})))},{component:"UserButton",renderWhileLoading:!0});function ry({children:e}){return Ra(Oq),de.createElement(de.Fragment,null,e)}function VM({children:e}){return Ra(Rq),de.createElement(de.Fragment,null,e)}function qM({children:e}){return Ra(Mq),de.createElement(de.Fragment,null,e)}function aH(e){const t=p.useContext(WM),s={...t,props:{...t.props,...e}};return de.createElement(Da,{...s})}Object.assign(sH,{UserProfilePage:Bf,UserProfileLink:Wf,MenuItems:ry,Action:VM,Link:qM,__experimental_Outlet:aH});function sy({children:e}){return Ra(Sq),de.createElement(de.Fragment,null,e)}function ay({children:e}){return Ra(Cq),de.createElement(de.Fragment,null,e)}var nH=Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=FM(a.children);return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:l},rootProps:o},de.createElement(ty,{customPagesPortals:d})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(nH,{Page:sy,Link:ay});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var HM=p.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),iH=Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}},{customPages:l,customPagesPortals:d}=FM(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),u=Object.assign(a.organizationProfileProps||{},{customPages:l}),h=UM(a.children),f={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...a,organizationProfileProps:u},rootProps:o,component:t};return e.__experimental_prefetchOrganizationSwitcher(),de.createElement(HM.Provider,{value:f},de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{...f,hideRootHtmlElement:!!a.__experimental_asProvider},a.__experimental_asProvider?h:null,de.createElement(ty,{customPagesPortals:d}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function oH(e){const t=p.useContext(HM),s={...t,props:{...t.props,...e}};return de.createElement(Da,{...s})}Object.assign(iH,{OrganizationProfilePage:sy,OrganizationProfileLink:ay,__experimental_Outlet:oH});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});Fr(({clerk:e,component:t,fallback:s,...a})=>{const i=wn(t)==="rendering"||!e.loaded,o={...i&&s&&{style:{display:"none"}}};return de.createElement(de.Fragment,null,i&&s,e.loaded&&de.createElement(Da,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var KM=e=>{throw TypeError(e)},J_=(e,t,s)=>t.has(e)||KM("Cannot "+s),qr=(e,t,s)=>(J_(e,t,"read from private field"),s?s.call(e):t.get(e)),qc=(e,t,s)=>t.has(e)?KM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),hu=(e,t,s,a)=>(J_(e,t,"write to private field"),t.set(e,s),s),Cw=(e,t,s)=>(J_(e,t,"access private method"),s),lH=(e,t="5.81.0")=>{if(e)return e;const s=cH(t);return s?s==="snapshot"?"5.81.0":s:dH(t)},cH=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},dH=e=>e.trim().replace(/^v/,"").split(".")[0];function uH(e){return e?mH(e)||GM(e):!0}function mH(e){return/^http(s)?:\/\//.test(e||"")}function GM(e){return e.startsWith("/")}function hH(e){return e?GM(e)?new URL(e,window.location.origin).toString():e:""}function fH(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var pH={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},gH=100,YM=async e=>new Promise(t=>setTimeout(t,e)),JM=(e,t)=>t?e*(1+Math.random()):e,xH=e=>{let t=0;const s=()=>{const a=e.initialDelay,n=e.factor;let i=a*Math.pow(n,t);return i=JM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await YM(s()),t++}},yH=async(e,t={})=>{let s=0;const{shouldRetry:a,initialDelay:n,maxDelayBetweenRetries:i,factor:o,retryImmediately:l,jitter:d}={...pH,...t},u=xH({initialDelay:n,maxDelayBetweenRetries:i,factor:o,jitter:d});for(;;)try{return await e()}catch(h){if(s++,!a(h,s))throw h;l&&s===1?await YM(JM(gH,d)):await u()}},vH="loadScript cannot be called when document does not exist",bH="loadScript cannot be called without a src";async function wH(e="",t){const{async:s,defer:a,beforeLoad:n,crossOrigin:i,nonce:o}=t||{};return yH(()=>new Promise((d,u)=>{e||u(new Error(bH)),(!document||!document.body)&&u(vH);const h=document.createElement("script");i&&h.setAttribute("crossorigin",i),h.async=s||!1,h.defer=a||!1,h.addEventListener("load",()=>{h.remove(),d(h)}),h.addEventListener("error",()=>{h.remove(),u()}),h.src=e,h.nonce=o,n==null||n(h),document.body.appendChild(h)}),{shouldRetry:(d,u)=>u<=5})}var XM="Clerk: Failed to load Clerk",{isDevOrStagingUrl:jH}=cV(),ZM=dM({packageName:"@clerk/shared"});function NH(e){ZM.setPackageName({packageName:e})}function XN(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function WA(e){return new Promise((t,s)=>{let a=!1;const n=(u,h)=>{clearTimeout(u),clearInterval(h)},i=()=>{a||XN()&&(a=!0,n(l,d),t(null))},l=setTimeout(()=>{a||(a=!0,n(l,d),XN()?t(null):s(new Error(XM)))},e);i();const d=setInterval(()=>{if(a){clearInterval(d);return}i()},100)})}var _H=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(XN())return null;if(document.querySelector("script[data-clerk-js-script]"))return WA(t);if(!(e!=null&&e.publishableKey))return ZM.throwMissingPublishableKeyError(),null;const a=WA(t);return wH(SH(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:kH(e)}).catch(()=>{throw new Error(XM)}),a},SH=e=>{var h,f;const{clerkJSUrl:t,clerkJSVariant:s,clerkJSVersion:a,proxyUrl:n,domain:i,publishableKey:o}=e;if(t)return t;let l="";n&&uH(n)?l=hH(n).replace(/http(s)?:\/\//,""):i&&!jH(((h=xA(o))==null?void 0:h.frontendApi)||"")?l=fH(i):l=((f=xA(o))==null?void 0:f.frontendApi)||"";const d=s?`${s.replace(/\.+$/,"")}.`:"",u=lH(a);return`https://${l}/npm/@clerk/clerk-js@${u}/dist/clerk.${d}browser.js`},CH=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},kH=e=>t=>{const s=CH(e);for(const a in s)t.setAttribute(a,s[a])},AH=(e,t,s)=>!e&&s?PH(s):EH(t),PH=e=>{const t=e.userId,s=e.user,a=e.sessionId,n=e.sessionStatus,i=e.sessionClaims,o=e.session,l=e.organization,d=e.orgId,u=e.orgRole,h=e.orgPermissions,f=e.orgSlug,g=e.actor,y=e.factorVerificationAge;return{userId:t,user:s,sessionId:a,session:o,sessionStatus:n,sessionClaims:i,organization:l,orgId:d,orgRole:u,orgPermissions:h,orgSlug:f,actor:g,factorVerificationAge:y}},EH=e=>{var v,b,N,S;const t=e.user?e.user.id:e.user,s=e.user,a=e.session?e.session.id:e.session,n=e.session,i=(v=e.session)==null?void 0:v.status,o=e.session?(N=(b=e.session.lastActiveToken)==null?void 0:b.jwt)==null?void 0:N.claims:null,l=e.session?e.session.factorVerificationAge:null,d=n==null?void 0:n.actor,u=e.organization,h=e.organization?e.organization.id:e.organization,f=u==null?void 0:u.slug,g=u&&((S=s==null?void 0:s.organizationMemberships)==null?void 0:S.find(_=>_.organization.id===h)),y=g&&g.permissions,w=g&&g.role;return{userId:t,user:s,sessionId:a,session:n,sessionStatus:i,sessionClaims:o,organization:u,orgId:h,orgRole:w,orgSlug:f,orgPermissions:y,actor:d,factorVerificationAge:l}};function VA(){return typeof window<"u"}var qA=(e,t,s,a,n)=>{const{notify:i}=n||{};let o=e.get(s);o||(o=[],e.set(s,o)),o.push(a),i&&t.has(s)&&a(t.get(s))},HA=(e,t,s)=>(e.get(t)||[]).map(a=>a(s)),KA=(e,t,s)=>{const a=e.get(t);a&&(s?a.splice(a.indexOf(s)>>>0,1):e.set(t,[]))},TH=()=>{const e=new Map,t=new Map,s=new Map;return{on:(...n)=>qA(e,t,...n),prioritizedOn:(...n)=>qA(s,t,...n),emit:(n,i)=>{t.set(n,i),HA(s,n,i),HA(e,n,i)},off:(...n)=>KA(e,...n),prioritizedOff:(...n)=>KA(s,...n),internal:{retrieveListeners:n=>e.get(n)||[]}}},Lg={Status:"status"},OH=()=>TH();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);Fr(({clerk:e,children:t,...s})=>{const{signUpFallbackRedirectUrl:a,forceRedirectUrl:n,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:l,initialValues:d,withSignUp:u,oauthFlow:h,...f}=s;t=Qx(t,"Sign in");const g=Zx(t)("SignInButton"),y=()=>{const b={forceRedirectUrl:n,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:o,initialValues:d,withSignUp:u,oauthFlow:h};return l==="modal"?e.openSignIn({...b,appearance:s.appearance}):e.redirectToSignIn({...b,signInFallbackRedirectUrl:i,signInForceRedirectUrl:n})},v={...f,onClick:async b=>(g&&typeof g=="object"&&"props"in g&&await ey(g.props.onClick)(b),y())};return de.cloneElement(g,v)},{component:"SignInButton",renderWhileLoading:!0});Fr(({clerk:e,children:t,...s})=>{const{redirectUrl:a,...n}=s;t=Qx(t,"Sign in with Metamask");const i=Zx(t)("SignInWithMetamaskButton"),o=async()=>{async function u(){await e.authenticateWithMetamask({redirectUrl:a||void 0})}u()},d={...n,onClick:async u=>(await ey(i.props.onClick)(u),o())};return de.cloneElement(i,d)},{component:"SignInWithMetamask",renderWhileLoading:!0});Fr(({clerk:e,children:t,...s})=>{const{redirectUrl:a="/",signOutOptions:n,...i}=s;t=Qx(t,"Sign out");const o=Zx(t)("SignOutButton"),l=()=>e.signOut({redirectUrl:a,...n}),u={...i,onClick:async h=>(await ey(o.props.onClick)(h),l())};return de.cloneElement(o,u)},{component:"SignOutButton",renderWhileLoading:!0});var RH=Fr(({clerk:e,children:t,...s})=>{const{fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:l,initialValues:d,oauthFlow:u,...h}=s;t=Qx(t,"Sign up");const f=Zx(t)("SignUpButton"),g=()=>{const v={fallbackRedirectUrl:a,forceRedirectUrl:n,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,initialValues:d,oauthFlow:u};return l==="modal"?e.openSignUp({...v,appearance:s.appearance,unsafeMetadata:s.unsafeMetadata}):e.redirectToSignUp({...v,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:n})},w={...h,onClick:async v=>(f&&typeof f=="object"&&"props"in f&&await ey(f.props.onClick)(v),g())};return de.cloneElement(f,w)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var MH={name:"@clerk/clerk-react",version:"5.40.0",environment:"production"},p0,Eu,Tu,Dl,Mo,zl,Hh,g0,QM=class e3{constructor(t){qc(this,Hh),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],qc(this,p0,"loading"),qc(this,Eu),qc(this,Tu),qc(this,Dl),qc(this,Mo,OH()),this.buildSignInUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...n)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterSignOutUrl",n)},this.buildNewSubscriptionRedirectUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",n)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",n)},this.buildUserProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildUserProfileUrl",n)},this.buildCreateOrganizationUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildCreateOrganizationUrl",n)},this.buildOrganizationProfileUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildOrganizationProfileUrl",n)},this.buildWaitlistUrl=()=>{const n=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("buildWaitlistUrl",n)},this.buildUrlWithAuth=n=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(n))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("handleUnauthenticated",n)},this.on=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...n);qr(this,Mo).on(...n)},this.off=(...n)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...n);qr(this,Mo).off(...n)},this.addOnLoaded=n=>{this.loadedListeners.push(n),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(n=>n()),this.loadedListeners=[]},this.beforeLoad=n=>{if(!n)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=n=>{var i;if(!n)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=n,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=n.addListener(l)}),(i=qr(this,Mo).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&n.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&n.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&n.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&n.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&n.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&n.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&n.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&n.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&n.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&n.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&n.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{n.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{n.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{n.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{n.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{n.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{n.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{n.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{n.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{n.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{n.mountTaskChooseOrganization(l,o)}),typeof this.clerkjs.status>"u"&&qr(this,Mo).emit(Lg.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...n)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...n)},this.__unstable__updateProps=async n=>{const i=await Cw(this,Hh,g0).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(n)},this.__internal_navigateToTaskIfAvailable=async n=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(n):Promise.reject(),this.setActive=n=>this.clerkjs?this.clerkjs.setActive(n):Promise.reject(),this.openSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(n):this.preopenSignIn=n},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(n):this.preopenCheckout=n},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(n):this.preopenPlanDetails=n},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(n):this.preopenSubscriptionDetails=n??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(n):this.preopenUserVerification=n},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=n=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(n):this.preopenOneTap=n},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(n):this.preopenUserProfile=n},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(n):this.preopenOrganizationProfile=n},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(n):this.preopenCreateOrganization=n},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(n):this.preOpenWaitlist=n},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(n):this.preopenSignUp=n},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(n,i):this.premountSignInNodes.set(n,i)},this.unmountSignIn=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(n):this.premountSignInNodes.delete(n)},this.mountSignUp=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(n,i):this.premountSignUpNodes.set(n,i)},this.unmountSignUp=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(n):this.premountSignUpNodes.delete(n)},this.mountUserProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(n,i):this.premountUserProfileNodes.set(n,i)},this.unmountUserProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(n):this.premountUserProfileNodes.delete(n)},this.mountOrganizationProfile=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(n,i):this.premountOrganizationProfileNodes.set(n,i)},this.unmountOrganizationProfile=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(n):this.premountOrganizationProfileNodes.delete(n)},this.mountCreateOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(n,i):this.premountCreateOrganizationNodes.set(n,i)},this.unmountCreateOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(n):this.premountCreateOrganizationNodes.delete(n)},this.mountOrganizationSwitcher=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(n,i):this.premountOrganizationSwitcherNodes.set(n,i)},this.unmountOrganizationSwitcher=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(n):this.premountOrganizationSwitcherNodes.delete(n)},this.__experimental_prefetchOrganizationSwitcher=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",n)},this.mountOrganizationList=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(n,i):this.premountOrganizationListNodes.set(n,i)},this.unmountOrganizationList=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(n):this.premountOrganizationListNodes.delete(n)},this.mountUserButton=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(n,i):this.premountUserButtonNodes.set(n,i)},this.unmountUserButton=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(n):this.premountUserButtonNodes.delete(n)},this.mountWaitlist=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(n,i):this.premountWaitlistNodes.set(n,i)},this.unmountWaitlist=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(n):this.premountWaitlistNodes.delete(n)},this.mountPricingTable=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(n,i):this.premountPricingTableNodes.set(n,i)},this.unmountPricingTable=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(n):this.premountPricingTableNodes.delete(n)},this.mountApiKeys=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(n,i):this.premountApiKeysNodes.set(n,i)},this.unmountApiKeys=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(n):this.premountApiKeysNodes.delete(n)},this.__internal_mountOAuthConsent=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(n,i):this.premountOAuthConsentNodes.set(n,i)},this.__internal_unmountOAuthConsent=n=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(n):this.premountOAuthConsentNodes.delete(n)},this.mountTaskChooseOrganization=(n,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(n,i):this.premountTaskChooseOrganizationNodes.set(n,i)},this.unmountTaskChooseOrganization=n=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(n):this.premountTaskChooseOrganizationNodes.delete(n)},this.addListener=n=>{if(this.clerkjs)return this.clerkjs.addListener(n);{const i=()=>{var o;const l=this.premountAddListenerCalls.get(n);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(n))};return this.premountAddListenerCalls.set(n,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(n)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToUserProfile",n)},this.redirectToAfterSignUp=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToAfterSignUp",n)},this.redirectToAfterSignIn=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignIn",n)},this.redirectToAfterSignOut=()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?n():this.premountMethodCalls.set("redirectToAfterSignOut",n)},this.redirectToOrganizationProfile=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToOrganizationProfile",n)},this.redirectToCreateOrganization=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToCreateOrganization",n)},this.redirectToWaitlist=async()=>{const n=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return n();this.premountMethodCalls.set("redirectToWaitlist",n)},this.handleRedirectCallback=async n=>{var i;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(n)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(n,i)=>{var o;const l=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(n,i)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async n=>(await Cw(this,Hh,g0).call(this)).authenticateWithGoogleOneTap(n),this.__internal_loadStripeJs=async()=>(await Cw(this,Hh,g0).call(this)).__internal_loadStripeJs(),this.createOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async n=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...n)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...n)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:s=null,publishableKey:a}=t||{};hu(this,Dl,a),hu(this,Tu,t==null?void 0:t.proxyUrl),hu(this,Eu,t==null?void 0:t.domain),this.options=t,this.Clerk=s,this.mode=VA()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=MH),qr(this,Mo).emit(Lg.Status,"loading"),qr(this,Mo).prioritizedOn(Lg.Status,n=>hu(this,p0,n)),qr(this,Dl)&&this.loadClerkJS()}get publishableKey(){return qr(this,Dl)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):qr(this,p0)}static getOrCreateInstance(t){return(!VA()||!qr(this,zl)||t.Clerk&&qr(this,zl).Clerk!==t.Clerk||qr(this,zl).publishableKey!==t.publishableKey)&&hu(this,zl,new e3(t)),qr(this,zl)}static clearInstance(){hu(this,zl,null)}get domain(){return typeof window<"u"&&window.location?yw(qr(this,Eu),new URL(window.location.href),""):typeof qr(this,Eu)=="function"?Zi.throw(xw):qr(this,Eu)||""}get proxyUrl(){return typeof window<"u"&&window.location?yw(qr(this,Tu),new URL(window.location.href),""):typeof qr(this,Tu)=="function"?Zi.throw(xw):qr(this,Tu)||""}__internal_getOption(t){var s,a;return(s=this.clerkjs)!=null&&s.__internal_getOption?(a=this.clerkjs)==null?void 0:a.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?yw(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Zi.throw(xw):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=qr(this,Dl),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;Gq(this.Clerk)?(s=new this.Clerk(qr(this,Dl),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(s),await s.load(this.options)):(s=this.Clerk,s.loaded||(this.beforeLoad(s),await s.load(this.options))),global.Clerk=s}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await _H({...this.options,publishableKey:qr(this,Dl),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(s){const a=s;qr(this,Mo).emit(Lg.Status,"error"),console.error(a.stack||a.message||a);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){var t;return(t=this.clerkjs)==null?void 0:t.__internal_state}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};p0=new WeakMap;Eu=new WeakMap;Tu=new WeakMap;Dl=new WeakMap;Mo=new WeakMap;zl=new WeakMap;Hh=new WeakSet;g0=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};qc(QM,zl);var GA=QM;function IH(e){const{isomorphicClerkOptions:t,initialState:s,children:a}=e,{isomorphicClerk:n,clerkStatus:i}=DH(t),[o,l]=de.useState({client:n.client,session:n.session,user:n.user,organization:n.organization});de.useEffect(()=>n.addListener(I=>l({...I})),[]);const d=AH(n.loaded,o,s),u=de.useMemo(()=>({value:n}),[i]),h=de.useMemo(()=>({value:o.client}),[o.client]),{sessionId:f,sessionStatus:g,sessionClaims:y,session:w,userId:v,user:b,orgId:N,actor:S,organization:_,orgRole:k,orgSlug:T,orgPermissions:A,factorVerificationAge:E}=d,R=de.useMemo(()=>({value:{sessionId:f,sessionStatus:g,sessionClaims:y,userId:v,actor:S,orgId:N,orgRole:k,orgSlug:T,orgPermissions:A,factorVerificationAge:E}}),[f,g,v,S,N,k,T,E,y==null?void 0:y.__raw]),z=de.useMemo(()=>({value:w}),[f,w]),B=de.useMemo(()=>({value:b}),[v,b]),O=de.useMemo(()=>({value:{organization:_}}),[N,_]);return de.createElement(vq.Provider,{value:u},de.createElement(aq.Provider,{value:h},de.createElement(nq.Provider,{value:z},de.createElement(cq,{...O.value},de.createElement(xq.Provider,{value:R},de.createElement(rq.Provider,{value:B},de.createElement(oq,{value:void 0},a)))))))}var DH=e=>{const t=de.useRef(GA.getOrCreateInstance(e)),[s,a]=de.useState(t.current.status);return de.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),de.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),de.useEffect(()=>(t.current.on("status",a),()=>{t.current&&t.current.off("status",a),GA.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:s}};function $H(e){const{initialState:t,children:s,__internal_bypassMissingPublishableKey:a,...n}=e,{publishableKey:i="",Clerk:o}=n;return!o&&!a&&(i?i&&!LN(i)&&Zi.throwInvalidPublishableKeyError({key:i}):Zi.throwMissingPublishableKeyError()),de.createElement(IH,{initialState:t,isomorphicClerkOptions:n},s)}var t3=Jq($H,"ClerkProvider",bq);t3.displayName="ClerkProvider";gq({packageName:"@clerk/clerk-react"});NH("@clerk/clerk-react");var zg={},YA;function LH(){if(YA)return zg;YA=1;var e=LM();return zg.createRoot=e.createRoot,zg.hydrateRoot=e.hydrateRoot,zg}var zH=LH();const JA=Qn(zH);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hf.apply(this,arguments)}var ql;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ql||(ql={}));const XA="popstate";function FH(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:l}=a.location;return ZN("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:R0(n)}return BH(t,s,null,e)}function ns(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function r3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UH(){return Math.random().toString(36).substr(2,8)}function ZA(e,t){return{usr:e.state,key:e.key,idx:t}}function ZN(e,t,s,a){return s===void 0&&(s=null),hf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pm(t):t,{state:s,key:t&&t.key||a||UH()})}function R0(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function pm(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function BH(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=ql.Pop,d=null,u=h();u==null&&(u=0,o.replaceState(hf({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=ql.Pop;let b=h(),N=b==null?null:b-u;u=b,d&&d({action:l,location:v.location,delta:N})}function g(b,N){l=ql.Push;let S=ZN(v.location,b,N);u=h()+1;let _=ZA(S,u),k=v.createHref(S);try{o.pushState(_,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(k)}i&&d&&d({action:l,location:v.location,delta:1})}function y(b,N){l=ql.Replace;let S=ZN(v.location,b,N);u=h();let _=ZA(S,u),k=v.createHref(S);o.replaceState(_,"",k),i&&d&&d({action:l,location:v.location,delta:0})}function w(b){let N=n.location.origin!=="null"?n.location.origin:n.location.href,S=typeof b=="string"?b:R0(b);return S=S.replace(/ $/,"%20"),ns(N,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,N)}let v={get action(){return l},get location(){return e(n,o)},listen(b){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(XA,f),d=b,()=>{n.removeEventListener(XA,f),d=null}},createHref(b){return t(n,b)},createURL:w,encodeLocation(b){let N=w(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:y,go(b){return o.go(b)}};return v}var QA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(QA||(QA={}));function WH(e,t,s){return s===void 0&&(s="/"),VH(e,t,s)}function VH(e,t,s,a){let n=typeof t=="string"?pm(t):t,i=ff(n.pathname||"/",s);if(i==null)return null;let o=s3(e);qH(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=sK(i);l=eK(o[d],u)}return l}function s3(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ns(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let u=Kl([a,d.relativePath]),h=s.concat(d);i.children&&i.children.length>0&&(ns(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),s3(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ZH(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of a3(i.path))n(i,o,d)}),t}function a3(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=a3(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function qH(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:QH(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const HH=/^:[\w-]+$/,KH=3,GH=2,YH=1,JH=10,XH=-2,eP=e=>e==="*";function ZH(e,t){let s=e.split("/"),a=s.length;return s.some(eP)&&(a+=XH),t&&(a+=GH),s.filter(n=>!eP(n)).reduce((n,i)=>n+(HH.test(i)?KH:i===""?YH:JH),a)}function QH(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function eK(e,t,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],u=l===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=tK({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:Kl([i,f.pathname]),pathnameBase:oK(Kl([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Kl([i,f.pathnameBase]))}return o}function tK(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=rK(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((u,h,f)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?u[g]=void 0:u[g]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function rK(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),r3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function sK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return r3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ff(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function aK(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?pm(e):e;return{pathname:s?s.startsWith("/")?s:nK(s,t):t,search:lK(a),hash:cK(n)}}function nK(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function kw(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iK(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function X_(e,t){let s=iK(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Z_(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=pm(e):(n=hf({},e),ns(!n.pathname||!n.pathname.includes("?"),kw("?","pathname","search",n)),ns(!n.pathname||!n.pathname.includes("#"),kw("#","pathname","hash",n)),ns(!n.search||!n.search.includes("#"),kw("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let f=t.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;n.pathname=g.join("/")}l=f>=0?t[f]:"/"}let d=aK(n,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}const Kl=e=>e.join("/").replace(/\/\/+/g,"/"),oK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const n3=["post","put","patch","delete"];new Set(n3);const uK=["get",...n3];new Set(uK);const mK={state:"unblocked",proceed:void 0,reset:void 0,location:void 0};/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},md.apply(this,arguments)}const Q_=p.createContext(null),hK=p.createContext(null),oc=p.createContext(null),ny=p.createContext(null),fo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),i3=p.createContext(null);function fK(e,t){let{relative:s}=t===void 0?{}:t;gm()||ns(!1);let{basename:a,navigator:n}=p.useContext(oc),{hash:i,pathname:o,search:l}=l3(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:Kl([a,o])),n.createHref({pathname:d,search:l,hash:i})}function gm(){return p.useContext(ny)!=null}function lc(){return gm()||ns(!1),p.useContext(ny).location}function o3(e){p.useContext(oc).static||p.useLayoutEffect(e)}function br(){let{isDataRoute:e}=p.useContext(fo);return e?PK():pK()}function pK(){gm()||ns(!1);let e=p.useContext(Q_),{basename:t,future:s,navigator:a}=p.useContext(oc),{matches:n}=p.useContext(fo),{pathname:i}=lc(),o=JSON.stringify(X_(n,s.v7_relativeSplatPath)),l=p.useRef(!1);return o3(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){a.go(u);return}let f=Z_(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Kl([t,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[t,a,o,i,e])}const gK=p.createContext(null);function xK(e){let t=p.useContext(fo).outlet;return t&&p.createElement(gK.Provider,{value:e},t)}function Vf(){let{matches:e}=p.useContext(fo),t=e[e.length-1];return t?t.params:{}}function l3(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=p.useContext(oc),{matches:n}=p.useContext(fo),{pathname:i}=lc(),o=JSON.stringify(X_(n,a.v7_relativeSplatPath));return p.useMemo(()=>Z_(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function yK(e,t){return vK(e,t)}function vK(e,t,s,a){gm()||ns(!1);let{navigator:n}=p.useContext(oc),{matches:i}=p.useContext(fo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=lc(),h;if(t){var f;let b=typeof t=="string"?pm(t):t;d==="/"||(f=b.pathname)!=null&&f.startsWith(d)||ns(!1),h=b}else h=u;let g=h.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=WH(e,{pathname:y}),v=_K(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Kl([d,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Kl([d,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return t&&v?p.createElement(ny.Provider,{value:{location:md({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ql.Pop}},v):v}function bK(){let e=CK(),t=dK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),s?p.createElement("pre",{style:n},s):null,null)}const wK=p.createElement(bK,null);class jK extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?p.createElement(fo.Provider,{value:this.props.routeContext},p.createElement(i3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NK(e){let{routeContext:t,match:s,children:a}=e,n=p.useContext(Q_);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),p.createElement(fo.Provider,{value:t},a)}function _K(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ns(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,u=-1;if(s&&a&&a.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:y}=s,w=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let y,w=!1,v=null,b=null;s&&(y=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||wK,d&&(u<0&&g===0?(EK("route-fallback"),w=!0,b=null):u===g&&(w=!0,b=f.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,g+1)),S=()=>{let _;return y?_=v:w?_=b:f.route.Component?_=p.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,p.createElement(NK,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:_})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(jK,{location:s.location,revalidation:s.revalidation,component:v,error:y,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}var c3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(c3||{}),d3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(d3||{});function u3(e){let t=p.useContext(Q_);return t||ns(!1),t}function m3(e){let t=p.useContext(hK);return t||ns(!1),t}function SK(e){let t=p.useContext(fo);return t||ns(!1),t}function h3(e){let t=SK(),s=t.matches[t.matches.length-1];return s.route.id||ns(!1),s.route.id}function CK(){var e;let t=p.useContext(i3),s=m3(),a=h3();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}let kK=0;function AK(e){let{router:t,basename:s}=u3(),a=m3(),[n,i]=p.useState(""),o=p.useCallback(l=>{if(typeof e!="function")return!!e;if(s==="/")return e(l);let{currentLocation:d,nextLocation:u,historyAction:h}=l;return e({currentLocation:md({},d,{pathname:ff(d.pathname,s)||d.pathname}),nextLocation:md({},u,{pathname:ff(u.pathname,s)||u.pathname}),historyAction:h})},[s,e]);return p.useEffect(()=>{let l=String(++kK);return i(l),()=>t.deleteBlocker(l)},[t]),p.useEffect(()=>{n!==""&&t.getBlocker(n,o)},[t,n,o]),n&&a.blockers.has(n)?a.blockers.get(n):mK}function PK(){let{router:e}=u3(c3.UseNavigateStable),t=h3(d3.UseNavigateStable),s=p.useRef(!1);return o3(()=>{s.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,md({fromRouteId:t},i)))},[e,t])}const tP={};function EK(e,t,s){tP[e]||(tP[e]=!0)}function TK(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function iy(e){let{to:t,replace:s,state:a,relative:n}=e;gm()||ns(!1);let{future:i,static:o}=p.useContext(oc),{matches:l}=p.useContext(fo),{pathname:d}=lc(),u=br(),h=Z_(t,X_(l,i.v7_relativeSplatPath),d,n==="path"),f=JSON.stringify(h);return p.useEffect(()=>u(JSON.parse(f),{replace:s,state:a,relative:n}),[u,f,n,s,a]),null}function OK(e){return xK(e.context)}function xt(e){ns(!1)}function RK(e){let{basename:t="/",children:s=null,location:a,navigationType:n=ql.Pop,navigator:i,static:o=!1,future:l}=e;gm()&&ns(!1);let d=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:d,navigator:i,static:o,future:md({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=pm(a));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:w="default"}=a,v=p.useMemo(()=>{let b=ff(h,d);return b==null?null:{location:{pathname:b,search:f,hash:g,state:y,key:w},navigationType:n}},[d,h,f,g,y,w,n]);return v==null?null:p.createElement(oc.Provider,{value:u},p.createElement(ny.Provider,{children:s,value:v}))}function MK(e){let{children:t,location:s}=e;return yK(QN(t),s)}new Promise(()=>{});function QN(e,t){t===void 0&&(t=[]);let s=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...t,n];if(a.type===p.Fragment){s.push.apply(s,QN(a.props.children,i));return}a.type!==xt&&ns(!1),!a.props.index||!a.props.children||ns(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=QN(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},e1.apply(this,arguments)}function IK(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function DK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $K(e,t){return e.button===0&&(!t||t==="_self")&&!DK(e)}function t1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function LK(e,t){let s=t1(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(i=>{s.append(n,i)})}),s}const zK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FK="6";try{window.__reactRouterVersion=FK}catch{}const UK="startTransition",rP=Xx[UK];function BK(e){let{basename:t,children:s,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=FH({window:n,v5Compat:!0}));let o=i.current,[l,d]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},h=p.useCallback(f=>{u&&rP?rP(()=>d(f)):d(f)},[d,u]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>TK(a),[a]),p.createElement(RK,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const WK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qK=p.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:f}=t,g=IK(t,zK),{basename:y}=p.useContext(oc),w,v=!1;if(typeof u=="string"&&VK.test(u)&&(w=u,WK))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),T=ff(k.pathname,y);k.origin===_.origin&&T!=null?u=T+k.search+k.hash:v=!0}catch{}let b=fK(u,{relative:n}),N=HK(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:n,viewTransition:f});function S(_){a&&a(_),_.defaultPrevented||N(_)}return p.createElement("a",e1({},g,{href:w||b,onClick:v||i?a:S,ref:s,target:d}))});var sP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sP||(sP={}));var aP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(aP||(aP={}));function HK(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=br(),u=lc(),h=l3(e,{relative:o});return p.useCallback(f=>{if($K(f,s)){f.preventDefault();let g=a!==void 0?a:R0(u)===R0(h);d(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[u,d,h,a,n,s,e,i,o,l])}function KK(e){let t=p.useRef(t1(e)),s=p.useRef(!1),a=lc(),n=p.useMemo(()=>LK(a.search,s.current?null:t.current),[a.search]),i=br(),o=p.useCallback((l,d)=>{const u=t1(typeof l=="function"?l(n):l);s.current=!0,i("?"+u,d)},[i,n]);return[n,o]}const GK=1,YK=1e6;let Aw=0;function JK(){return Aw=(Aw+1)%Number.MAX_SAFE_INTEGER,Aw.toString()}const Pw=new Map,nP=e=>{if(Pw.has(e))return;const t=setTimeout(()=>{Pw.delete(e),af({type:"REMOVE_TOAST",toastId:e})},YK);Pw.set(e,t)},XK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,GK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?nP(s):e.toasts.forEach(a=>{nP(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},x0=[];let y0={toasts:[]};function af(e){y0=XK(y0,e),x0.forEach(t=>{t(y0)})}function f3({...e}){const t=JK(),s=n=>af({type:"UPDATE_TOAST",toast:{...n,id:t}}),a=()=>af({type:"DISMISS_TOAST",toastId:t});return af({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:s}}function Ur(){const[e,t]=p.useState(y0);return p.useEffect(()=>(x0.push(t),()=>{const s=x0.indexOf(t);s>-1&&x0.splice(s,1)}),[e]),{...e,toast:f3,dismiss:s=>af({type:"DISMISS_TOAST",toastId:s})}}function ze(e,t,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e==null||e(n),s===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function iP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oy(...e){return t=>{let s=!1;const a=e.map(n=>{const i=iP(n,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():iP(e[n],null)}}}}function ht(...e){return p.useCallback(oy(...e),e)}function ZK(e,t){const s=p.createContext(t),a=i=>{const{children:o,...l}=i,d=p.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:d,children:o})};a.displayName=e+"Provider";function n(i){const o=p.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function Bs(e,t=[]){let s=[];function a(i,o){const l=p.createContext(o),d=s.length;s=[...s,o];const u=f=>{var N;const{scope:g,children:y,...w}=f,v=((N=g==null?void 0:g[e])==null?void 0:N[d])||l,b=p.useMemo(()=>w,Object.values(w));return r.jsx(v.Provider,{value:b,children:y})};u.displayName=i+"Provider";function h(f,g){var v;const y=((v=g==null?void 0:g[e])==null?void 0:v[d])||l,w=p.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const n=()=>{const i=s.map(o=>p.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return n.scopeName=e,[a,QK(n,...t)]}function QK(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:u})=>{const f=d(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function hd(e){const t=tG(e),s=p.forwardRef((a,n)=>{const{children:i,...o}=a,l=p.Children.toArray(i),d=l.find(sG);if(d){const u=d.props.children,h=l.map(f=>f===d?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:n,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}var eG=hd("Slot");function tG(e){const t=p.forwardRef((s,a)=>{const{children:n,...i}=s;if(p.isValidElement(n)){const o=nG(n),l=aG(i,n.props);return n.type!==p.Fragment&&(l.ref=a?oy(a,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p3=Symbol("radix.slottable");function rG(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=p3,t}function sG(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p3}function aG(e,t){const s={...t};for(const a in t){const n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const d=i(...l);return n(...l),d}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function nG(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function qf(e){const t=e+"CollectionProvider",[s,a]=Bs(t),[n,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:N}=v,S=de.useRef(null),_=de.useRef(new Map).current;return r.jsx(n,{scope:b,itemMap:_,collectionRef:S,children:N})};o.displayName=t;const l=e+"CollectionSlot",d=hd(l),u=de.forwardRef((v,b)=>{const{scope:N,children:S}=v,_=i(l,N),k=ht(b,_.collectionRef);return r.jsx(d,{ref:k,children:S})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",g=hd(h),y=de.forwardRef((v,b)=>{const{scope:N,children:S,..._}=v,k=de.useRef(null),T=ht(b,k),A=i(h,N);return de.useEffect(()=>(A.itemMap.set(k,{ref:k,..._}),()=>void A.itemMap.delete(k))),r.jsx(g,{[f]:"",ref:T,children:S})});y.displayName=h;function w(v){const b=i(e+"CollectionConsumer",v);return de.useCallback(()=>{const S=b.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((A,E)=>_.indexOf(A.ref.current)-_.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},w,a]}var iG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=iG.reduce((e,t)=>{const s=hd(`Primitive.${t}`),a=p.forwardRef((n,i)=>{const{asChild:o,...l}=n,d=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function eS(e,t){e&&ic.flushSync(()=>e.dispatchEvent(t))}function Jr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...s)=>{var a;return(a=t.current)==null?void 0:a.call(t,...s)},[])}function oG(e,t=globalThis==null?void 0:globalThis.document){const s=Jr(e);p.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[s,t])}var lG="DismissableLayer",r1="dismissableLayer.update",cG="dismissableLayer.pointerDownOutside",dG="dismissableLayer.focusOutside",oP,g3=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hf=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=p.useContext(g3),[h,f]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),w=ht(t,E=>f(E)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(b),S=h?v.indexOf(h):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,k=S>=N,T=mG(E=>{const R=E.target,z=[...u.branches].some(B=>B.contains(R));!k||z||(n==null||n(E),o==null||o(E),E.defaultPrevented||l==null||l())},g),A=hG(E=>{const R=E.target;[...u.branches].some(B=>B.contains(R))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},g);return oG(E=>{S===u.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},g),p.useEffect(()=>{if(h)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(oP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),lP(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=oP)}},[h,g,s,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),lP())},[h,u]),p.useEffect(()=>{const E=()=>y({});return document.addEventListener(r1,E),()=>document.removeEventListener(r1,E)},[]),r.jsx(qe.div,{...d,ref:w,style:{pointerEvents:_?k?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,T.onPointerDownCapture)})});Hf.displayName=lG;var uG="DismissableLayerBranch",x3=p.forwardRef((e,t)=>{const s=p.useContext(g3),a=p.useRef(null),n=ht(t,a);return p.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(qe.div,{...e,ref:n})});x3.displayName=uG;function mG(e,t=globalThis==null?void 0:globalThis.document){const s=Jr(e),a=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){y3(cG,s,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=d,t.addEventListener("click",n.current,{once:!0})):d()}else t.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",n.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function hG(e,t=globalThis==null?void 0:globalThis.document){const s=Jr(e),a=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!a.current&&y3(dG,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function lP(){const e=new CustomEvent(r1);document.dispatchEvent(e)}function y3(e,t,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),a?eS(n,i):n.dispatchEvent(i)}var fG=Hf,pG=x3,os=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gG="Portal",Kf=p.forwardRef((e,t)=>{var l;const{container:s,...a}=e,[n,i]=p.useState(!1);os(()=>i(!0),[]);const o=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Kq.createPortal(r.jsx(qe.div,{...a,ref:t}),o):null});Kf.displayName=gG;function xG(e,t){return p.useReducer((s,a)=>t[s][a]??s,e)}var va=e=>{const{present:t,children:s}=e,a=yG(t),n=typeof s=="function"?s({present:a.isPresent}):p.Children.only(s),i=ht(a.ref,vG(n));return typeof s=="function"||a.isPresent?p.cloneElement(n,{ref:i}):null};va.displayName="Presence";function yG(e){const[t,s]=p.useState(),a=p.useRef(null),n=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,d]=xG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Fg(a.current);i.current=l==="mounted"?u:"none"},[l]),os(()=>{const u=a.current,h=n.current;if(h!==e){const g=i.current,y=Fg(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,d]),os(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=y=>{const v=Fg(a.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!n.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},g=y=>{y.target===t&&(i.current=Fg(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{a.current=u?getComputedStyle(u):null,s(u)},[])}}function Fg(e){return(e==null?void 0:e.animationName)||"none"}function vG(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var bG=Xx[" useInsertionEffect ".trim().toString()]||os;function Ni({prop:e,defaultProp:t,onChange:s=()=>{},caller:a}){const[n,i,o]=wG({defaultProp:t,onChange:s}),l=e!==void 0,d=l?e:n;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,a])}const u=p.useCallback(h=>{var f;if(l){const g=jG(h)?h(e):h;g!==e&&((f=o.current)==null||f.call(o,g))}else i(h)},[l,e,i,o]);return[d,u]}function wG({defaultProp:e,onChange:t}){const[s,a]=p.useState(e),n=p.useRef(s),i=p.useRef(t);return bG(()=>{i.current=t},[t]),p.useEffect(()=>{var o;n.current!==s&&((o=i.current)==null||o.call(i,s),n.current=s)},[s,n]),[s,a,i]}function jG(e){return typeof e=="function"}var v3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NG="VisuallyHidden",tS=p.forwardRef((e,t)=>r.jsx(qe.span,{...e,ref:t,style:{...v3,...e.style}}));tS.displayName=NG;var rS="ToastProvider",[sS,_G,SG]=qf("Toast"),[b3,yze]=Bs("Toast",[SG]),[CG,ly]=b3(rS),w3=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,d]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),g=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),r.jsx(sS.Provider,{scope:t,children:r.jsx(CG,{scope:t,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};w3.displayName=rS;var j3="ToastViewport",kG=["F8"],s1="toast.viewportPause",a1="toast.viewportResume",N3=p.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:a=kG,label:n="Notifications ({hotkey})",...i}=e,o=ly(j3,s),l=_G(s),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),g=ht(t,f,o.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const b=N=>{var _;a.length!==0&&a.every(k=>N[k]||N.code===k)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[a]),p.useEffect(()=>{const b=d.current,N=f.current;if(w&&b&&N){const S=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(s1);N.dispatchEvent(A),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(a1);N.dispatchEvent(A),o.isClosePausedRef.current=!1}},k=A=>{!b.contains(A.relatedTarget)&&_()},T=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",S),b.addEventListener("focusout",k),b.addEventListener("pointermove",S),b.addEventListener("pointerleave",T),window.addEventListener("blur",S),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",S),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",S),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",S),window.removeEventListener("focus",_)}}},[w,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:b})=>{const S=l().map(_=>{const k=_.ref.current,T=[k,...FG(k)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?S.reverse():S).flat()},[l]);return p.useEffect(()=>{const b=f.current;if(b){const N=S=>{var T,A,E;const _=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!_){const R=document.activeElement,z=S.shiftKey;if(S.target===b&&z){(T=u.current)==null||T.focus();return}const I=v({tabbingDirection:z?"backwards":"forwards"}),F=I.findIndex(V=>V===R);Ew(I.slice(F+1))?S.preventDefault():z?(A=u.current)==null||A.focus():(E=h.current)==null||E.focus()}};return b.addEventListener("keydown",N),()=>b.removeEventListener("keydown",N)}},[l,v]),r.jsxs(pG,{ref:d,role:"region","aria-label":n.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&r.jsx(n1,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Ew(b)}}),r.jsx(sS.Slot,{scope:s,children:r.jsx(qe.ol,{tabIndex:-1,...i,ref:g})}),w&&r.jsx(n1,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Ew(b)}})]})});N3.displayName=j3;var _3="ToastFocusProxy",n1=p.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=ly(_3,s);return r.jsx(tS,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&a()}})});n1.displayName=_3;var Gf="Toast",AG="toast.swipeStart",PG="toast.swipeMove",EG="toast.swipeCancel",TG="toast.swipeEnd",S3=p.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,d]=Ni({prop:a,defaultProp:n??!0,onChange:i,caller:Gf});return r.jsx(va,{present:s||l,children:r.jsx(MG,{open:l,...o,ref:t,onClose:()=>d(!1),onPause:Jr(e.onPause),onResume:Jr(e.onResume),onSwipeStart:ze(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ze(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});S3.displayName=Gf;var[OG,RG]=b3(Gf,{onClose(){}}),MG=p.forwardRef((e,t)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:y,...w}=e,v=ly(Gf,s),[b,N]=p.useState(null),S=ht(t,V=>N(V)),_=p.useRef(null),k=p.useRef(null),T=n||v.duration,A=p.useRef(0),E=p.useRef(T),R=p.useRef(0),{onToastAdd:z,onToastRemove:B}=v,O=Jr(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),o()}),I=p.useCallback(V=>{!V||V===1/0||(window.clearTimeout(R.current),A.current=new Date().getTime(),R.current=window.setTimeout(O,V))},[O]);p.useEffect(()=>{const V=v.viewport;if(V){const W=()=>{I(E.current),u==null||u()},X=()=>{const D=new Date().getTime()-A.current;E.current=E.current-D,window.clearTimeout(R.current),d==null||d()};return V.addEventListener(s1,X),V.addEventListener(a1,W),()=>{V.removeEventListener(s1,X),V.removeEventListener(a1,W)}}},[v.viewport,T,d,u,I]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&I(T)},[i,T,v.isClosePausedRef,I]),p.useEffect(()=>(z(),()=>B()),[z,B]);const F=p.useMemo(()=>b?O3(b):null,[b]);return v.viewport?r.jsxs(r.Fragment,{children:[F&&r.jsx(IG,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),r.jsx(OG,{scope:s,onClose:O,children:ic.createPortal(r.jsx(sS.ItemSlot,{scope:s,children:r.jsx(fG,{asChild:!0,onEscapeKeyDown:ze(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ze(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ze(e.onPointerDown,V=>{V.button===0&&(_.current={x:V.clientX,y:V.clientY})}),onPointerMove:ze(e.onPointerMove,V=>{if(!_.current)return;const W=V.clientX-_.current.x,X=V.clientY-_.current.y,D=!!k.current,U=["left","right"].includes(v.swipeDirection),H=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,M=U?H(0,W):0,L=U?0:H(0,X),q=V.pointerType==="touch"?10:2,ue={x:M,y:L},G={originalEvent:V,delta:ue};D?(k.current=ue,Ug(PG,f,G,{discrete:!1})):cP(ue,v.swipeDirection,q)?(k.current=ue,Ug(AG,h,G,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(W)>q||Math.abs(X)>q)&&(_.current=null)}),onPointerUp:ze(e.onPointerUp,V=>{const W=k.current,X=V.target;if(X.hasPointerCapture(V.pointerId)&&X.releasePointerCapture(V.pointerId),k.current=null,_.current=null,W){const D=V.currentTarget,U={originalEvent:V,delta:W};cP(W,v.swipeDirection,v.swipeThreshold)?Ug(TG,y,U,{discrete:!0}):Ug(EG,g,U,{discrete:!0}),D.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),IG=e=>{const{__scopeToast:t,children:s,...a}=e,n=ly(Gf,t),[i,o]=p.useState(!1),[l,d]=p.useState(!1);return LG(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(Kf,{asChild:!0,children:r.jsx(tS,{...a,children:i&&r.jsxs(r.Fragment,{children:[n.label," ",s]})})})},DG="ToastTitle",C3=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(qe.div,{...a,ref:t})});C3.displayName=DG;var $G="ToastDescription",k3=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(qe.div,{...a,ref:t})});k3.displayName=$G;var A3="ToastAction",P3=p.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?r.jsx(T3,{altText:s,asChild:!0,children:r.jsx(aS,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${A3}\`. Expected non-empty \`string\`.`),null)});P3.displayName=A3;var E3="ToastClose",aS=p.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e,n=RG(E3,s);return r.jsx(T3,{asChild:!0,children:r.jsx(qe.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,n.onClose)})})});aS.displayName=E3;var T3=p.forwardRef((e,t)=>{const{__scopeToast:s,altText:a,...n}=e;return r.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function O3(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),zG(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...O3(a))}}),t}function Ug(e,t,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),a?eS(n,i):n.dispatchEvent(i)}var cP=(e,t,s=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return t==="left"||t==="right"?i&&a>s:!i&&n>s};function LG(e=()=>{}){const t=Jr(e);os(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function zG(e){return e.nodeType===e.ELEMENT_NODE}function FG(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ew(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var UG=w3,R3=N3,M3=S3,I3=C3,D3=k3,$3=P3,L3=aS;function z3(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=z3(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Jt(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=z3(e))&&(a&&(a+=" "),a+=t);return a}const dP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uP=Jt,Yf=(e,t)=>s=>{var a;if((t==null?void 0:t.variants)==null)return uP(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(u=>{const h=s==null?void 0:s[u],f=i==null?void 0:i[u];if(h===null)return null;const g=dP(h)||dP(f);return n[u][g]}),l=s&&Object.entries(s).reduce((u,h)=>{let[f,g]=h;return g===void 0||(u[f]=g),u},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((u,h)=>{let{class:f,className:g,...y}=h;return Object.entries(y).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...u,f,g]:u},[]);return uP(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F3=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>p.createElement("svg",{ref:d,...WG,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:F3("lucide",n),...l},[...o.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const s=p.forwardRef(({className:a,...n},i)=>p.createElement(VG,{ref:i,iconNode:t,className:F3(`lucide-${BG(e)}`,a),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Ce("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Ce("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Ce("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Ce("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Ce("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Ce("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Ce("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Ce("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Ce("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Ce("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ce("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Ce("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Ce("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Ce("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Ce("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Ce("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Ce("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Ce("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Ce("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Ce("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ce("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Ce("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Ce("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Ce("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Ce("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Ce("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=Ce("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Ce("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Ce("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=Ce("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Ce("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Ce("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iS="-",SY=e=>{const t=kY(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(iS);return l[0]===""&&l.length!==1&&l.shift(),K3(l,t)||CY(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},K3=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),n=a?K3(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(iS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},pP=/^\[(.+)\]$/,CY=e=>{if(pP.test(e)){const t=pP.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},kY=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return PY(Object.entries(e.classGroups),s).forEach(([i,o])=>{o1(o,a,i,t)}),a},o1=(e,t,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:gP(t,n);i.classGroupId=s;return}if(typeof n=="function"){if(AY(n)){o1(n(a),t,s,a);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{o1(o,gP(t,i),s,a)})})},gP=(e,t)=>{let s=e;return t.split(iS).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},AY=e=>e.isThemeGetter,PY=(e,t)=>t?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,n]}):e,EY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},G3="!",TY=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,n=t[0],i=t.length,o=l=>{const d=[];let u=0,h=0,f;for(let b=0;b<l.length;b++){let N=l[b];if(u===0){if(N===n&&(a||l.slice(b,b+i)===t)){d.push(l.slice(h,b)),h=b+i;continue}if(N==="/"){f=b;continue}}N==="["?u++:N==="]"&&u--}const g=d.length===0?l:l.substring(h),y=g.startsWith(G3),w=y?g.substring(1):g,v=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:o}):o},OY=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},RY=e=>({cache:EY(e.cacheSize),parseClassName:TY(e),...SY(e)}),MY=/\s+/,IY=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=e.trim().split(MY);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=s(u);let w=!!y,v=a(w?g.substring(0,y):g);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=a(g),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=OY(h).join(":"),N=f?b+G3:b,S=N+v;if(i.includes(S))continue;i.push(S);const _=n(v,w);for(let k=0;k<_.length;++k){const T=_[k];i.push(N+T)}l=u+(l.length>0?" "+l:l)}return l};function DY(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Y3(t))&&(a&&(a+=" "),a+=s);return a}const Y3=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=Y3(e[a]))&&(s&&(s+=" "),s+=t);return s};function $Y(e,...t){let s,a,n,i=o;function o(d){const u=t.reduce((h,f)=>f(h),e());return s=RY(u),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const u=a(d);if(u)return u;const h=IY(d,s);return n(d,h),h}return function(){return i(DY.apply(null,arguments))}}const Er=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},J3=/^\[(?:([a-z-]+):)?(.+)\]$/i,LY=/^\d+\/\d+$/,zY=new Set(["px","full","screen"]),FY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oo=e=>$u(e)||zY.has(e)||LY.test(e),Ol=e=>ym(e,"length",ZY),$u=e=>!!e&&!Number.isNaN(Number(e)),Tw=e=>ym(e,"number",$u),jh=e=>!!e&&Number.isInteger(Number(e)),qY=e=>e.endsWith("%")&&$u(e.slice(0,-1)),Tt=e=>J3.test(e),Rl=e=>FY.test(e),HY=new Set(["length","size","percentage"]),KY=e=>ym(e,HY,X3),GY=e=>ym(e,"position",X3),YY=new Set(["image","url"]),JY=e=>ym(e,YY,eJ),XY=e=>ym(e,"",QY),Nh=()=>!0,ym=(e,t,s)=>{const a=J3.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},ZY=e=>UY.test(e)&&!BY.test(e),X3=()=>!1,QY=e=>WY.test(e),eJ=e=>VY.test(e),tJ=()=>{const e=Er("colors"),t=Er("spacing"),s=Er("blur"),a=Er("brightness"),n=Er("borderColor"),i=Er("borderRadius"),o=Er("borderSpacing"),l=Er("borderWidth"),d=Er("contrast"),u=Er("grayscale"),h=Er("hueRotate"),f=Er("invert"),g=Er("gap"),y=Er("gradientColorStops"),w=Er("gradientColorStopPositions"),v=Er("inset"),b=Er("margin"),N=Er("opacity"),S=Er("padding"),_=Er("saturate"),k=Er("scale"),T=Er("sepia"),A=Er("skew"),E=Er("space"),R=Er("translate"),z=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Tt,t],I=()=>[Tt,t],F=()=>["",Oo,Ol],V=()=>["auto",$u,Tt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Tt],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[$u,Tt];return{cacheSize:500,separator:":",theme:{colors:[Nh],spacing:[Oo,Ol],blur:["none","",Rl,Tt],brightness:L(),borderColor:[e],borderRadius:["none","","full",Rl,Tt],borderSpacing:I(),borderWidth:F(),contrast:L(),grayscale:H(),hueRotate:L(),invert:H(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[qY,Ol],inset:O(),margin:O(),opacity:L(),padding:I(),saturate:L(),scale:L(),sepia:H(),skew:L(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Tt]}],container:["container"],columns:[{columns:[Rl]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Tt]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jh,Tt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",jh,Tt]}],"grid-cols":[{"grid-cols":[Nh]}],"col-start-end":[{col:["auto",{span:["full",jh,Tt]},Tt]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Nh]}],"row-start-end":[{row:["auto",{span:[jh,Tt]},Tt]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Tt,t]}],"min-w":[{"min-w":[Tt,t,"min","max","fit"]}],"max-w":[{"max-w":[Tt,t,"none","full","min","max","fit","prose",{screen:[Rl]},Rl]}],h:[{h:[Tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rl,Ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tw]}],"font-family":[{font:[Nh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tt]}],"line-clamp":[{"line-clamp":["none",$u,Tw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oo,Tt]}],"list-image":[{"list-image":["none",Tt]}],"list-style-type":[{list:["none","disc","decimal",Tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oo,Ol]}],"underline-offset":[{"underline-offset":["auto",Oo,Tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),GY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:X()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Oo,Tt]}],"outline-w":[{outline:[Oo,Ol]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Oo,Ol]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rl,XY]}],"shadow-color":[{shadow:[Nh]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Rl,Tt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tt]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Tt]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[jh,Tt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oo,Ol,Tw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rJ=$Y(tJ);function De(...e){return rJ(Jt(e))}function Ow(e){const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}const sJ=UG,Z3=p.forwardRef(({className:e,...t},s)=>r.jsx(R3,{ref:s,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Z3.displayName=R3.displayName;const aJ=Yf("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),Q3=p.forwardRef(({className:e,variant:t,...s},a)=>r.jsx(M3,{ref:a,className:De(aJ({variant:t}),e),...s}));Q3.displayName=M3.displayName;const nJ=p.forwardRef(({className:e,...t},s)=>r.jsx($3,{ref:s,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",e),...t}));nJ.displayName=$3.displayName;const eI=p.forwardRef(({className:e,...t},s)=>r.jsx(L3,{ref:s,className:De("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",e),"toast-close":"",...t,children:r.jsx(At,{className:"h-4 w-4"})}));eI.displayName=L3.displayName;const tI=p.forwardRef(({className:e,...t},s)=>r.jsx(I3,{ref:s,className:De("text-sm font-semibold [&+div]:text-xs",e),...t}));tI.displayName=I3.displayName;const rI=p.forwardRef(({className:e,...t},s)=>r.jsx(D3,{ref:s,className:De("text-sm opacity-90",e),...t}));rI.displayName=D3.displayName;function iJ(){const{toasts:e}=Ur();return r.jsxs(sJ,{children:[e.map(function({id:t,title:s,description:a,action:n,...i}){return r.jsxs(Q3,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(tI,{children:s}),a&&r.jsx(rI,{children:a})]}),n,r.jsx(eI,{})]},t)}),r.jsx(Z3,{})]})}const oJ="modulepreload",lJ=function(e){return"/"+e},xP={},pn=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=o(s.map(u=>{if(u=lJ(u),u in xP)return;xP[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":oJ,h||(g.as="script"),g.crossOrigin="",g.href=u,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},cJ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>pn(async()=>{const{default:a}=await Promise.resolve().then(()=>vm);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)};class hy extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class sI extends hy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l1 extends hy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c1 extends hy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var L0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(L0||(L0={}));var dJ=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};class uJ{constructor(t,{headers:s={},customFetch:a,region:n=L0.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=cJ(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var a;return dJ(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let l={},{region:d}=s;d||(d=this.region);const u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(l["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h}).catch(v=>{throw new sI(v)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new l1(f);if(!f.ok)throw new c1(f);let y=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof c1||n instanceof l1?n.context:void 0}}})}}var $s={},fu={},pu={},gu={},xu={},yu={},mJ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yu=mJ();const hJ=Yu.fetch,aI=Yu.fetch.bind(Yu),nI=Yu.Headers,fJ=Yu.Request,pJ=Yu.Response,vm=Object.freeze(Object.defineProperty({__proto__:null,Headers:nI,Request:fJ,Response:pJ,default:aI,fetch:hJ},Symbol.toStringTag,{value:"Module"})),gJ=$W(vm);var Bg={},yP;function iI(){if(yP)return Bg;yP=1,Object.defineProperty(Bg,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Bg.default=e,Bg}var vP;function oI(){if(vP)return yu;vP=1;var e=yu&&yu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yu,"__esModule",{value:!0});const t=e(gJ),s=e(iI());class a{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,f,g;let y=null,w=null,v=null,b=u.status,N=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=T:w=JSON.parse(T))}const _=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&k&&k.length>1&&(v=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(y={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,b=406,N="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const _=await u.text();try{y=JSON.parse(_),Array.isArray(y)&&u.status===404&&(w=[],y=null,b=200,N="OK")}catch{u.status===404&&_===""?(b=204,N="No Content"):y={message:_}}if(y&&this.isMaybeSingle&&(!((g=y==null?void 0:y.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,b=200,N="OK"),y&&this.shouldThrowOnError)throw new s.default(y)}return{error:y,data:w,count:v,status:b,statusText:N}});return this.shouldThrowOnError||(d=d.catch(u=>{var h,f,g;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,o)}returns(){return this}overrideTypes(){return this}}return yu.default=a,yu}var bP;function lI(){if(bP)return xu;bP=1;var e=xu&&xu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xu,"__esModule",{value:!0});const t=e(oI());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const u=d?`${d}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:u="text"}={}){var h;const f=[n?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${f};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xu.default=s,xu}var wP;function oS(){if(wP)return gu;wP=1;var e=gu&&gu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gu,"__esModule",{value:!0});const t=e(lI());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${d}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return gu.default=s,gu}var jP;function cI(){if(jP)return pu;jP=1;var e=pu&&pu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pu,"__esModule",{value:!0});const t=e(oS());class s{constructor(n,{headers:i={},schema:o,fetch:l}){this.url=n,this.headers=i,this.schema=o,this.fetch=l}select(n,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let d=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const l="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(n)){const u=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){const u="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(n)){const f=n.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),this.headers.Prefer=l.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return pu.default=s,pu}var _h={},Sh={},NP;function xJ(){return NP||(NP=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.version=void 0,Sh.version="0.0.0-automated"),Sh}var _P;function yJ(){if(_P)return _h;_P=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.DEFAULT_HEADERS=void 0;const e=xJ();return _h.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},_h}var SP;function vJ(){if(SP)return fu;SP=1;var e=fu&&fu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(fu,"__esModule",{value:!0});const t=e(cI()),s=e(oS()),a=yJ();class n{constructor(o,{headers:l={},schema:d,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),l),this.schemaName=d,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:u=!1,count:h}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let y;d||u?(f=d?"HEAD":"GET",Object.entries(l).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{g.searchParams.append(v,b)})):(f="POST",y=l);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new s.default({method:f,url:g,headers:w,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return fu.default=n,fu}var CP;function bJ(){if(CP)return $s;CP=1;var e=$s&&$s.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty($s,"__esModule",{value:!0}),$s.PostgrestError=$s.PostgrestBuilder=$s.PostgrestTransformBuilder=$s.PostgrestFilterBuilder=$s.PostgrestQueryBuilder=$s.PostgrestClient=void 0;const t=e(vJ());$s.PostgrestClient=t.default;const s=e(cI());$s.PostgrestQueryBuilder=s.default;const a=e(oS());$s.PostgrestFilterBuilder=a.default;const n=e(lI());$s.PostgrestTransformBuilder=n.default;const i=e(oI());$s.PostgrestBuilder=i.default;const o=e(iI());return $s.PostgrestError=o.default,$s.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},$s}var wJ=bJ();const jJ=Qn(wJ),{PostgrestClient:NJ,PostgrestQueryBuilder:vze,PostgrestFilterBuilder:bze,PostgrestTransformBuilder:wze,PostgrestBuilder:jze,PostgrestError:_J}=jJ;class dI{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);if(a>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const n=this.dynamicRequire("undici");if(n&&n.WebSocket)return{type:"native",constructor:n.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const n=this.dynamicRequire("ws");if(n)return{type:"ws",constructor:(s=n.WebSocket)!==null&&s!==void 0?s:n};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SJ="2.15.0",CJ=`realtime-js/${SJ}`,kJ="1.0.0",d1=1e4,AJ=1e3,PJ=100;var nf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nf||(nf={}));var Ss;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ss||(Ss={}));var gi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gi||(gi={}));var u1;(function(e){e.websocket="websocket"})(u1||(u1={}));var Zc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zc||(Zc={}));class EJ{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,s,a)}_decodeBroadcast(t,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(t.slice(o,o+n));o=o+n;const d=a.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:d,payload:u}}}class uI{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jr||(jr={}));const kP=(e,t,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((i,o)=>(i[o]=TJ(o,e,t,n),i),{})},TJ=(e,t,s,a)=>{const n=t.find(l=>l.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!a.includes(i)?mI(i,o):m1(o)},mI=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return IJ(t,s)}switch(e){case jr.bool:return OJ(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return RJ(t);case jr.json:case jr.jsonb:return MJ(t);case jr.timestamp:return DJ(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return m1(t);default:return m1(t)}},m1=e=>e,OJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RJ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MJ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IJ=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,a=e[s];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>mI(t,l))}return e},DJ=e=>typeof e=="string"?e.replace(" ","T"):e,hI=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Rw{constructor(t,s,a={},n=d1){this.channel=t,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var h1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(h1||(h1={}));class Lu{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lu.syncState(this.state,n,i,o),this.pendingDiffs.forEach(d=>{this.state=Lu.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Lu.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,n){const i=this.cloneDeep(t),o=this.transformState(s),l={},d={};return this.map(i,(u,h)=>{o[u]||(d[u]=h)}),this.map(o,(u,h)=>{const f=i[u];if(f){const g=h.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),w=h.filter(b=>y.indexOf(b.presence_ref)<0),v=f.filter(b=>g.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(d[u]=v)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:d},a,n)}static syncDiff(t,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,d)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(d),h.length>0){const f=t[l].map(y=>y.presence_ref),g=h.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...g)}a(l,h,d)}),this.map(o,(l,d)=>{let u=t[l];if(!u)return;const h=d.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,n(l,u,d),u.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const n=t[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(f1||(f1={}));var zu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zu||(zu={}));var Hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));class fy{constructor(t,s={config:{}},a){this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=Ss.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Rw(this,gi.join,this.params,this.timeout),this.rejoinTimer=new uI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ss.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ss.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ss.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ss.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gi.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Lu(this),this.broadcastEndpointURL=hI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Ss.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[zu.PRESENCE]&&this.bindings[zu.PRESENCE].length>0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Hi.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Hi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t==null||t(Hi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,b=[];for(let N=0;N<v;N++){const S=w[N],{filter:{event:_,schema:k,table:T,filter:A}}=S,E=g&&g[N];if(E&&E.event===_&&E.schema===k&&E.table===T&&E.filter===A)b.push(Object.assign(Object.assign({},S),{id:E.id}));else{this.unsubscribe(),this.state=Ss.errored,t==null||t(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Hi.SUBSCRIBED);return}}).receive("error",g=>{this.state=Ss.errored,t==null||t(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===Ss.joined&&t===zu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,a)}async send(t,s={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ss.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Rw(this,gi.leave,{},t),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ss.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Rw(this,t,s,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>PJ){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var n,i;const o=t.toLocaleLowerCase(),{close:l,error:d,leave:u,join:h}=gi;if(a&&[l,d,u,h].indexOf(o)>=0&&a!==this._joinRef())return;let g=this._onMessage(o,s,a);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(y=>{var w,v,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(g,a)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,v,b,N,S,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const k=y.id,T=(w=y.filter)===null||w===void 0?void 0:w.event;return k&&((v=s.ids)===null||v===void 0?void 0:v.includes(k))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(S=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((_=s==null?void 0:s.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:v,table:b,commit_timestamp:N,type:S,errors:_}=w;g=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:N,eventType:S,new:{},old:{},errors:_}),this._getPayloadRecords(w))}y.callback(g,a)})}_isClosed(){return this.state===Ss.closed}_isJoined(){return this.state===Ss.joined}_isJoining(){return this.state===Ss.joining}_isLeaving(){return this.state===Ss.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&fy.isEqual(n.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gi.close,{},t)}_onError(t){this._on(gi.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ss.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=kP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=kP(t.columns,t.old_record)),s}}const AP=()=>{},Wg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$J=[1e3,2e3,5e3,1e4],LJ=1e4,zJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fI{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=d1,this.transport=null,this.heartbeatIntervalMs=Wg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=AP,this.ref=0,this.reconnectTimer=null,this.logger=AP,this.conn=null,this.sendBuffer=[],this.serializer=new EJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>pn(async()=>{const{default:l}=await Promise.resolve().then(()=>vm);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${u1.websocket}`,this.httpEndpoint=hI(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dI.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kJ}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case nf.connecting:return Zc.Connecting;case nf.open:return Zc.Open;case nf.closing:return Zc.Closing;default:return Zc.Closed}}isConnected(){return this.connectionState()===Zc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new fy(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:a,payload:n,ref:i}=t,o=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AJ,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Wg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:o}=s,l=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${a} ${n} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gi.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${a}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([zJ],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:CJ};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(gi.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new uI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,n,i,o,l,d,u;if(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:d1,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:Wg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>$J[h-1]||LJ,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ls(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FJ extends lS{constructor(t,s,a){super(t),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class p1 extends lS{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var UJ=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};const pI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>pn(async()=>{const{default:a}=await Promise.resolve().then(()=>vm);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},BJ=()=>UJ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pn(()=>Promise.resolve().then(()=>vm),void 0)).Response:Response}),g1=e=>{if(Array.isArray(e))return e.map(s=>g1(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=g1(a)}),t},WJ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Td=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};const Mw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VJ=(e,t,s)=>Td(void 0,void 0,void 0,function*(){const a=yield BJ();e instanceof a&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{const i=e.status||500,o=(n==null?void 0:n.statusCode)||i+"";t(new FJ(Mw(n),i,o))}).catch(n=>{t(new p1(Mw(n),n))}):t(new p1(Mw(e),e))}),qJ=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(WJ(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),s))};function ep(e,t,s,a,n,i){return Td(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,qJ(t,a,n,i)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>VJ(d,l,a))})})}function z0(e,t,s,a){return Td(this,void 0,void 0,function*(){return ep(e,"GET",t,s,a)})}function Do(e,t,s,a,n){return Td(this,void 0,void 0,function*(){return ep(e,"POST",t,a,n,s)})}function x1(e,t,s,a,n){return Td(this,void 0,void 0,function*(){return ep(e,"PUT",t,a,n,s)})}function HJ(e,t,s,a){return Td(this,void 0,void 0,function*(){return ep(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function gI(e,t,s,a,n){return Td(this,void 0,void 0,function*(){return ep(e,"DELETE",t,a,n,s)})}var Ga=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};const KJ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GJ{constructor(t,s={},a,n){this.url=t,this.headers=s,this.bucketId=a,this.fetch=pI(n)}uploadOrUpdate(t,s,a,n){return Ga(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},PP),n);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(s),h=this._getFinalPath(u),f=yield(t=="PUT"?x1:Do)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Ls(i))return{data:null,error:i};throw i}})}upload(t,s,a){return Ga(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,a)})}uploadToSignedUrl(t,s,a,n){return Ga(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let d;const u=Object.assign({upsert:PP.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",u.cacheControl)):(d=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield x1(this.fetch,l.toString(),d,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(d){if(Ls(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,s){return Ga(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Do(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new lS("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(a){if(Ls(a))return{data:null,error:a};throw a}})}update(t,s,a){return Ga(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,a)})}move(t,s,a){return Ga(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Ls(n))return{data:null,error:n};throw n}})}copy(t,s,a){return Ga(this,void 0,void 0,function*(){try{return{data:{path:(yield Do(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Ls(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,a){return Ga(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Do(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Ls(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,a){return Ga(this,void 0,void 0,function*(){try{const n=yield Do(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Ls(n))return{data:null,error:n};throw n}})}download(t,s){return Ga(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield z0(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ls(l))return{data:null,error:l};throw l}})}info(t){return Ga(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const a=yield z0(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:g1(a),error:null}}catch(a){if(Ls(a))return{data:null,error:a};throw a}})}exists(t){return Ga(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield HJ(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Ls(a)&&a instanceof p1){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,s){const a=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});d!==""&&n.push(d);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield gI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Ls(s))return{data:null,error:s};throw s}})}list(t,s,a){return Ga(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},KJ),s),{prefix:t||""});return{data:yield Do(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(Ls(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const YJ="2.10.4",JJ={"X-Client-Info":`storage-js/${YJ}`};var vu=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};class XJ{constructor(t,s={},a,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},JJ),s),this.fetch=pI(a)}listBuckets(){return vu(this,void 0,void 0,function*(){try{return{data:yield z0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ls(t))return{data:null,error:t};throw t}})}getBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield z0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Ls(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return vu(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ls(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return vu(this,void 0,void 0,function*(){try{return{data:yield x1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ls(a))return{data:null,error:a};throw a}})}emptyBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ls(s))return{data:null,error:s};throw s}})}deleteBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield gI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Ls(s))return{data:null,error:s};throw s}})}}class ZJ extends XJ{constructor(t,s={},a,n){super(t,s,a,n)}from(t){return new GJ(this.url,this.headers,t,this.fetch)}}const QJ="2.54.0";let Kh="";typeof Deno<"u"?Kh="deno":typeof document<"u"?Kh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kh="react-native":Kh="node";const eX={"X-Client-Info":`supabase-js-${Kh}/${QJ}`},tX={headers:eX},rX={schema:"public"},sX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aX={};var nX=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};const iX=e=>{let t;return e?t=e:typeof fetch>"u"?t=aI:t=fetch,(...s)=>t(...s)},oX=()=>typeof Headers>"u"?nI:Headers,lX=(e,t,s)=>{const a=iX(s),n=oX();return(i,o)=>nX(void 0,void 0,void 0,function*(){var l;const d=(l=yield t())!==null&&l!==void 0?l:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),a(i,Object.assign(Object.assign({},o),{headers:u}))})};var cX=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};function dX(e){return e.endsWith("/")?e:e+"/"}function uX(e,t){var s,a;const{db:n,auth:i,realtime:o,global:l}=e,{db:d,auth:u,realtime:h,global:f}=t,g={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>cX(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const xI="2.71.1",Ou=30*1e3,y1=3,Iw=y1*Ou,mX="http://localhost:9999",hX="supabase.auth.token",fX={"X-Client-Info":`gotrue-js/${xI}`},v1="X-Supabase-Api-Version",yI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gX=600*1e3;class py extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function St(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vI extends py{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function bI(e){return St(e)&&e.name==="AuthApiError"}class cS extends py{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class nl extends py{constructor(t,s,a,n){super(t,a,n),this.name=s,this.status=a}}class $o extends nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wI(e){return St(e)&&e.name==="AuthSessionMissingError"}class Gh extends nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yh extends nl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jh extends nl{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jI(e){return St(e)&&e.name==="AuthImplicitGrantRedirectError"}class b1 extends nl{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class F0 extends nl{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function v0(e){return St(e)&&e.name==="AuthRetryableFetchError"}class w1 extends nl{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class U0 extends nl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const B0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EP=` 	
\r=`.split(""),xX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<EP.length;t+=1)e[EP[t].charCodeAt(0)]=-2;for(let t=0;t<B0.length;t+=1)e[B0[t].charCodeAt(0)]=t;return e})();function TP(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(B0[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(B0[a]),t.queuedBits-=6}}function NI(e,t,s){const a=xX[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function OP(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{bX(o,a,s)};for(let o=0;o<e.length;o+=1)NI(e.charCodeAt(o),n,i);return t.join("")}function yX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vX(e,t){for(let s=0;s<e.length;s+=1){let a=e.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}yX(a,t)}}function bX(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function wX(e){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)NI(e.charCodeAt(n),s,a);return new Uint8Array(t)}function jX(e){const t=[];return vX(e,s=>t.push(s)),new Uint8Array(t)}function NX(e){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>TP(n,s,a)),TP(null,s,a),t.join("")}function _X(e){return Math.round(Date.now()/1e3)+e}function SX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fi=()=>typeof window<"u"&&typeof document<"u",$c={tested:!1,writable:!1},_I=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($c.tested)return $c.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$c.tested=!0,$c.writable=!0}catch{$c.tested=!0,$c.writable=!1}return $c.writable};function CX(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{t[n]=a}),t}const SI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>pn(async()=>{const{default:a}=await Promise.resolve().then(()=>vm);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},kX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ru=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Lc=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ml=async(e,t)=>{await e.removeItem(t)};class gy{constructor(){this.promise=new gy.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}gy.promiseConstructor=Promise;function Dw(e){const t=e.split(".");if(t.length!==3)throw new U0("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!pX.test(t[a]))throw new U0("JWT not in base64url format");return{header:JSON.parse(OP(t[0])),payload:JSON.parse(OP(t[1])),signature:wX(t[2]),raw:{header:t[0],payload:t[1]}}}async function AX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PX(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function EX(e){return("0"+e.toString(16)).substr(-2)}function TX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,EX).join("")}async function OX(e){const s=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function RX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await OX(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bu(e,t,s=!1){const a=TX();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await Ru(e,`${t}-code-verifier`,n);const i=await RX(a);return[i,a===i?"plain":"s256"]}const MX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IX(e){const t=e.headers.get(v1);if(!t||!t.match(MX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $X(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wu(e){if(!LX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $w(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RP(e){return JSON.parse(JSON.stringify(e))}var zX=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};const Hc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FX=[502,503,504];async function MP(e){var t;if(!kX(e))throw new F0(Hc(e),0);if(FX.includes(e.status))throw new F0(Hc(e),e.status);let s;try{s=await e.json()}catch(i){throw new cS(Hc(i),i)}let a;const n=IX(e);if(n&&n.getTime()>=yI["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new w1(Hc(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new $o}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new w1(Hc(s),e.status,s.weak_password.reasons);throw new vI(Hc(s),e.status||500,a)}const UX=(e,t,s,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function Ut(e,t,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[v1]||(i[v1]=yI["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await BX(e,t,s+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function BX(e,t,s,a,n,i){const o=UX(t,a,n,i);let l;try{l=await e(s,Object.assign({},o))}catch(d){throw console.error(d),new F0(Hc(d),0)}if(l.ok||await MP(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await MP(d)}}function Io(e){var t;let s=null;HX(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=_X(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:a},error:null}}function IP(e){const t=Io(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Bl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WX(e){return{data:e,error:null}}function VX(e){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=e,o=zX(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function qX(e){return e}function HX(e){return e.access_token&&e.refresh_token&&e.expires_in}const b0=["global","local","others"];var KX=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s};class CI{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=SI(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=b0[0]){if(b0.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${b0.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(St(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Bl})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=KX(t,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:VX,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(St(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bl})}catch(s){if(St(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,n,i,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:qX});if(h.error)throw h.error;const f=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(St(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){wu(t);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bl})}catch(s){if(St(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){wu(t);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Bl})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){wu(t);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Bl})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){wu(t.userId);try{const{data:s,error:a}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(St(s))return{data:null,error:s};throw s}}async _deleteFactor(t){wu(t.userId),wu(t.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}}}function DP(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function GX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kc={debug:!!(globalThis&&_I()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AI extends kI{}async function PI(e,t,s){Kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Kc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){Kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}GX();const YX={url:mX,storageKey:hX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $P(e,t,s){return await s()}const ju={};class Ju{constructor(t){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ju.nextInstanceID,Ju.nextInstanceID+=1,this.instanceID>0&&fi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},YX),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new CI({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=SI(n.fetch),this.lock=n.lock||$P,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:fi()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=PI:this.lock=$P,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:_I()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DP(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=DP(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=ju[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ju[this.storageKey]=Object.assign(Object.assign({},ju[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ju[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ju[this.storageKey]=Object.assign(Object.assign({},ju[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=CX(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),fi()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jI(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return St(s)?{error:s}:{error:new cS("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,n;try{const i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Io}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(i){if(St(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,a,n;try{let i;if("email"in t){const{email:h,password:f,options:g}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await bu(this.storage,this.storageKey)),i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:w},xform:Io})}else if("phone"in t){const{phone:h,password:f,options:g}=t;i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Io})}else throw new Yh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(i){if(St(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:l}=t;s=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IP})}else if("phone"in t){const{phone:i,password:o,options:l}=t;s=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:IP})}else throw new Yh("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Gh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,a,n,i,o,l,d,u,h,f,g,y;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:b,wallet:N,statement:S,options:_}=t;let k;if(fi())if(typeof N=="object")k=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))k=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const T=new URL((s=_==null?void 0:_.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in k&&k.signIn){const A=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),S?{statement:S}:null));let E;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")E=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)E=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(n=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(h=_==null?void 0:_.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const A=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:b,error:N}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:NX(v)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Io});if(N)throw N;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Gh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:N})}catch(b){if(St(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const s=await Lc(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Io});if(await Ml(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(St(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=t,l=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Io}),{data:d,error:u}=l;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Gh}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,a,n,i,o;try{if("email"in t){const{email:l,options:d}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await bu(this.storage,this.storageKey));const{error:f}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:d}=t,{data:u,error:h}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Yh("You must provide either an email or phone number.")}catch(l){if(St(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,a;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Io});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(n){if(St(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bu(this.storage,this.storageKey)),await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:WX})}catch(i){if(St(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new $o;const{error:n}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(St(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:o}=await Ut(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:o,error:l}=await Ut(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Yh("You must provide either an email or phone number and a type")}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Iw:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await Lc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$w()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,h))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bl}):await this._useSession(async s=>{var a,n,i;const{data:o,error:l}=s;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $o}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Bl})})}catch(s){if(St(s))return wI(s)&&(await this._removeSession(),await Ml(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new $o;const o=n.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await bu(this.storage,this.storageKey));const{data:u,error:h}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:Bl});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $o;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=Dw(t.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(St(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new $o;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!fi())throw new Jh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new b1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jh("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new b1("No code detected.");const{data:S,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=t;if(!i||!l||!o||!u)throw new Jh("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;d&&(g=parseInt(d));const y=g-h;y*1e3<=Ou&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=g-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const N={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(a){if(St(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ml(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=SX(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await bu(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(St(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,d,u,h;const{data:f,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return fi()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(St(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(St(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await PX(async n=>(n>0&&await AX(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Io})),(n,i)=>{const o=200*Math.pow(2,n);return i&&v0(i)&&Date.now()+o-a<Ou})}catch(a){if(this._debug(s,"error",a),St(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),fi()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Lc(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Ru(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$w()}else if(n&&!n.user&&!n.user){const o=await Lc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Ml(this.storage,this.storageKey+"-user"),await Ru(this.storage,this.storageKey,n)):n.user=$w()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Iw;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Iw}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),v0(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new gy;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $o;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),St(i)){const o={session:null,error:i};return v0(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Ru(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=RP(n);await Ru(this.storage,this.storageKey,i)}else{const n=RP(s);await Ru(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ml(this.storage,this.storageKey),await Ml(this.storage,this.storageKey+"-code-verifier"),await Ml(this.storage,this.storageKey+"-user"),this.userStorage&&await Ml(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ou);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/Ou);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ou}ms, refresh threshold is ${y1} ticks`),n<=y1&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await bu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Ut(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(St(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:u}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=d==null?void 0:d.totp)===null||n===void 0)&&n.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(s){if(St(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(St(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(St(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(t==null?void 0:t.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,a;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Dw(n.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(l=>l.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+gX>n)return a;const{data:i,error:o}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};a=y.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:d}}=Dw(a);s!=null&&s.allowExpired||DX(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:i,header:n,signature:o},error:null}}const h=$X(n.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,jX(`${l}.${d}`)))throw new U0("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(St(a))return{data:null,error:a};throw a}}}Ju.nextInstanceID=0;const EI=Ju;class JX extends EI{constructor(t){super(t)}}var XX=function(e,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function d(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(e,t||[])).next())})};class TI{constructor(t,s,a){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=dX(t),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:rX,realtime:aX,auth:Object.assign(Object.assign({},sX),{storageKey:u}),global:tX},f=uX(a??{},h);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=lX(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new NJ(new URL("rest/v1",d).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new ZJ(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new uJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},a={}){return this.rest.rpc(t,s,a)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return XX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JX({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new fI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,s,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OI=(e,t,s)=>new TI(e,t,s);function ZX(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QX=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:vI,AuthClient:EI,AuthError:py,AuthImplicitGrantRedirectError:Jh,AuthInvalidCredentialsError:Yh,AuthInvalidJwtError:U0,AuthInvalidTokenResponseError:Gh,AuthPKCEGrantCodeExchangeError:b1,AuthRetryableFetchError:F0,AuthSessionMissingError:$o,AuthUnknownError:cS,AuthWeakPasswordError:w1,CustomAuthError:nl,get FunctionRegion(){return L0},FunctionsError:hy,FunctionsFetchError:sI,FunctionsHttpError:c1,FunctionsRelayError:l1,GoTrueAdminApi:CI,GoTrueClient:Ju,NavigatorLockAcquireTimeoutError:AI,PostgrestError:_J,get REALTIME_LISTEN_TYPES(){return zu},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return f1},get REALTIME_PRESENCE_LISTEN_EVENTS(){return h1},get REALTIME_SUBSCRIBE_STATES(){return Hi},RealtimeChannel:fy,RealtimeClient:fI,RealtimePresence:Lu,SIGN_OUT_SCOPES:b0,SupabaseClient:TI,WebSocketFactory:dI,createClient:OI,isAuthApiError:bI,isAuthError:St,isAuthImplicitGrantRedirectError:jI,isAuthRetryableFetchError:v0,isAuthSessionMissingError:wI,lockInternals:Kc,navigatorLock:PI},Symbol.toStringTag,{value:"Module"})),Lw="https://twigokrtbvigiqnaybfy.supabase.co",RI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24",of=Lw.startsWith("http")?Lw:`https://${Lw}`;typeof window<"u"&&console.log(" Supabase Config:",{envUrl:"https://twigokrtbvigiqnaybfy.supabase.co",finalUrl:of,hasKey:!0});if(!of||!RI)throw new Error("Supabase URL or anonymous key is missing from environment variables.");let zw;function dS(){if(!zw){if(typeof window>"u")throw new Error("Supabase client can only be used in the browser");const e=of.startsWith("http")?of:`https://${of.replace(/^https?:\/\//,"")}`;console.log(" Creating Supabase client with URL:",e),zw=OI(e,RI,{auth:{autoRefreshToken:!0,persistSession:!0,storage:window.localStorage,storageKey:"sb-twigokrtbvigiqnaybfy-auth-token",detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"apex-frontend"}}})}return zw}const rt=new Proxy({},{get(e,t,s){const a=dS();return Reflect.get(a,t,s)}});let Vg=null;function eZ(){return Vg||(Vg=dS(),console.log(" Supabase client initialized:",!!Vg),console.log(" Supabase URL:","https://twigokrtbvigiqnaybfy.supabase.co")),Vg}const $t=new Proxy({},{get(e,t,s){const a=eZ();return Reflect.get(a,t,s)}});class tZ{get client(){return $t}async getOrganizations(){console.log(" SupabaseService.getOrganizations called");const{data:t,error:s}=await $t.from("organizations").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase query result:",{data:t,error:s}),s)throw console.error(" Supabase error in getOrganizations:",s),s;return console.log(" Returning organizations:",(t==null?void 0:t.length)||0),t}async getOrganization(t){console.log(" Fetching organization with ID:",t);const{data:s,error:a}=await $t.from("organizations").select("*").eq("id",t).single();if(a)throw console.error(" Error fetching organization:",a),a;return console.log(" Organization fetched from Supabase:",s),console.log(" Organization data fields:",{hasName:!!(s!=null&&s.name),hasBillingEmail:!!(s!=null&&s.billing_email),hasPhone:!!(s!=null&&s.phone),hasWebsite:!!(s!=null&&s.website),hasIndustry:!!(s!=null&&s.industry),hasAddress:!!(s!=null&&s.address),hasVapiApiKey:!!(s!=null&&s.vapi_api_key),hasVapiPrivateKey:!!(s!=null&&s.vapi_private_key)}),s}async createOrganization(t){const{data:s,error:a}=await $t.from("organizations").insert(t).select().single();if(a)throw a;return s}async updateOrganization(t,s){const{data:a,error:n}=await $t.from("organizations").update(s).eq("id",t).select().single();if(n)throw n;return a}async getUsers(t){let s=$t.from("users").select("*").order("created_at",{ascending:!1});t&&(s=s.eq("organization_id",t));const{data:a,error:n}=await s;if(n)throw n;return a}async getUserByClerkId(t){console.log(" getUserByClerkId called with:",t);try{const{data:s,error:a}=await $t.from("users").select("*").eq("clerk_id",t).single();if(console.log(" Query result:",{data:s,error:a}),a){if(a.code==="PGRST116")return console.log(" No user found with clerk_id:",t),null;throw console.error(" Full error:",a),a}return s}catch(s){throw console.error(" getUserByClerkId error:",s),s}}async getUserById(t){var n;console.log(" getUserById called with:",t);const{data:s,error:a}=await $t.from("users").select(`
        *,
        organizations(
          id,
          name,
          slug
        )
      `).eq("id",t).single();return a?(console.error(" getUserById error:",a),a.code==="PGRST116"&&console.log(" No user found with ID:",t),null):s?(console.log(" Found user:",s.email,"Role:",s.role),{...s,organizationName:(n=s.organizations)==null?void 0:n.name}):(console.log(" No user found with ID:",t),null)}async getUserByEmail(t){console.log(" getUserByEmail called with:",t);try{console.log(" Attempting simple query...");const{data:s,error:a}=await $t.from("users").select("*").eq("email",t).single();if(console.log(" Query completed - Data:",!!s,"Error:",!!a),a){if(console.error(" Query error:",a),console.log("Error details:",{code:a.code,details:a.details,hint:a.hint,message:a.message}),a.code==="PGRST116")return console.log(" No user found"),null;throw a}if(!s)return console.log(" No user found with email:",t),null;if(console.log(" Found user:",s.email,"Role:",s.role,"ID:",s.id),s.organization_id)try{const{data:n}=await $t.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}catch(n){console.warn("Could not fetch organization:",n)}return s}catch(s){throw console.error(" getUserByEmail failed:",s),s}}async getUserByEmailFallback(t){console.log(" Using fallback query (no joins)...");try{const{data:s,error:a}=await $t.from("users").select("*").eq("email",t).single();if(a)throw console.error(" Fallback query error:",a),a;if(!s)return console.log(" No user found in fallback"),null;if(console.log(" Fallback query successful:",s.email,"Role:",s.role),s.organization_id){const{data:n}=await $t.from("organizations").select("id, name, slug").eq("id",s.organization_id).single();n&&(s.organizations=n,s.organizationName=n.name)}return s}catch(s){throw console.error(" Fallback query failed:",s),s}}async createUser(t){const{data:s,error:a}=await $t.from("users").insert(t).select().single();if(a)throw a;return s}async updateUser(t,s){const{data:a,error:n}=await $t.from("users").update(s).eq("id",t).select().single();if(n)throw n;return a}async syncUserFromClerk(t,s){var i,o,l;const a=await this.getUserByClerkId(t.id),n={clerk_id:t.id,first_name:t.firstName||"",last_name:t.lastName||"",email:((i=t.primaryEmailAddress)==null?void 0:i.emailAddress)||"",avatar_url:t.imageUrl,email_verified:((l=(o=t.primaryEmailAddress)==null?void 0:o.verification)==null?void 0:l.status)==="verified",last_login_at:new Date().toISOString()};return a?await this.updateUser(a.id,n):await this.createUser({...n,organization_id:s,role:"client_user",permissions:{},status:"active",timezone:"UTC",language:"en"})}async getCampaigns(t){const{data:s,error:a}=await $t.from("campaigns").select("*").eq("organization_id",t).order("created_at",{ascending:!1});if(a)throw a;return s}async getCampaign(t){const{data:s,error:a}=await $t.from("campaigns").select("*").eq("id",t).single();if(a)throw a;return s}async createCampaign(t){const{data:s,error:a}=await $t.from("campaigns").insert(t).select().single();if(a)throw a;return s}async updateCampaign(t,s){const{data:a,error:n}=await $t.from("campaigns").update(s).eq("id",t).select().single();if(n)throw n;return a}async deleteCampaign(t){const{error:s}=await $t.from("campaigns").delete().eq("id",t);if(s)throw s}async getLeads(t,s){let a=$t.from("leads").select("*").eq("organization_id",t).order("created_at",{ascending:!1});s&&(a=a.eq("campaign_id",s));const{data:n,error:i}=await a;if(i)throw i;return n}async createLead(t){const{data:s,error:a}=await $t.from("leads").insert(t).select().single();if(a)throw a;return s}async updateLead(t,s){const{data:a,error:n}=await $t.from("leads").update(s).eq("id",t).select().single();if(n)throw n;return a}async deleteLead(t){const{error:s}=await $t.from("leads").delete().eq("id",t);if(s)throw s}async bulkCreateLeads(t){const{data:s,error:a}=await $t.from("leads").insert(t).select();if(a)throw a;return s}async getCalls(t,s,a){let n=$t.from("calls").select("*").eq("organization_id",t).order("started_at",{ascending:!1});s&&(n=n.eq("campaign_id",s)),a&&(n=n.eq("lead_id",a));const{data:i,error:o}=await n;if(o)throw o;return i}async createCall(t){const{data:s,error:a}=await $t.from("calls").insert(t).select().single();if(a)throw a;return s}async updateCall(t,s){const{data:a,error:n}=await $t.from("calls").update(s).eq("id",t).select().single();if(n)throw n;return a}async getVapiIntegrations(t){const{data:s,error:a}=await $t.from("vapi_integrations").select("*").eq("organization_id",t).order("created_at",{ascending:!1});if(a)throw a;return s}async createVapiIntegration(t){const{data:s,error:a}=await $t.from("vapi_integrations").insert(t).select().single();if(a)throw a;return s}async updateVapiIntegration(t,s){const{data:a,error:n}=await $t.from("vapi_integrations").update(s).eq("id",t).select().single();if(n)throw n;return a}async getUserSettings(t){const{data:s,error:a}=await $t.from("user_settings").select("*").eq("user_id",t).single();if(a&&a.code!=="PGRST116")throw a;return s}async upsertUserSettings(t){const{data:s,error:a}=await $t.from("user_settings").upsert(t).select().single();if(a)throw a;return s}async getNotifications(t,s,a=!1){let n=$t.from("notifications").select("*").eq("organization_id",t).order("created_at",{ascending:!1});s&&(n=n.eq("user_id",s)),a&&(n=n.eq("read",!1));const{data:i,error:o}=await n;if(o)throw o;return i}async createNotification(t){const{data:s,error:a}=await $t.from("notifications").insert(t).select().single();if(a)throw a;return s}async markNotificationAsRead(t){const{data:s,error:a}=await $t.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return s}async markAllNotificationsAsRead(t,s){let a=$t.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("organization_id",t).eq("read",!1);s&&(a=a.eq("user_id",s));const{error:n}=await a;if(n)throw n}async getCampaignAnalytics(t,s,a){let n=$t.from("calls").select(`
        *,
        campaigns(*),
        leads(*)
      `).eq("organization_id",t);s&&(n=n.eq("campaign_id",s)),a&&(n=n.gte("started_at",a.start).lte("started_at",a.end));const{data:i,error:o}=await n;if(o)throw o;return i}async getOrganizationStats(t){const[s,a,n,i]=await Promise.all([this.getCampaigns(t),this.getLeads(t),this.getCalls(t),this.getUsers(t)]);return{totalCampaigns:s.length,activeCampaigns:s.filter(o=>o.status==="active").length,totalLeads:a.length,qualifiedLeads:a.filter(o=>o.qualification_status==="qualified").length,totalCalls:n.length,completedCalls:n.filter(o=>o.status==="completed").length,totalUsers:i.length,activeUsers:i.filter(o=>o.status==="active").length}}async getPhoneNumbers(t){try{const{data:s,error:a}=await $t.from("phone_numbers").select("*").eq("organization_id",t);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching phone numbers:",s),[]}}async getAssistants(t){try{return console.log("vapi_assistants table does not exist, returning empty array"),[]}catch(s){return console.error("Error fetching assistants:",s),[]}}async getOrganizationUsers(t){try{const{data:s,error:a}=await $t.from("users").select("*").eq("organization_id",t);if(a)throw a;return s||[]}catch(s){return console.error("Error fetching organization users:",s),[]}}}const Gl=new tZ,Fu=Object.freeze(Object.defineProperty({__proto__:null,supabaseService:Gl},Symbol.toStringTag,{value:"Module"}));p.createContext(void 0);p.createContext(null);function Od(){var n,i,o;const[e,t]=p.useState(null),[s,a]=p.useState(!1);{const l=G_();if(p.useEffect(()=>{l.isSignedIn&&l.user&&!s&&(a(!0),Gl.getUserByClerkId(l.user.id).then(async d=>{var u;if(!d&&((u=l.user.primaryEmailAddress)!=null&&u.emailAddress)){const h=await Gl.getUserByEmail(l.user.primaryEmailAddress.emailAddress);t(h)}else t(d)}).catch(d=>{var u;(u=d.message)!=null&&u.includes("404")||console.error(" Error fetching db user:",d)}))},[l.isSignedIn,(n=l.user)==null?void 0:n.id,s]),!l.isSignedIn||!l.user)return{isSignedIn:!1,user:null,isLoaded:l.isLoaded};if(!e){const d=(i=l.user.primaryEmailAddress)==null?void 0:i.emailAddress;let u="client_user",h=null;return d==="sean@artificialmedia.co.uk"?(u="platform_owner",h="47a8e3ea-cd34-4746-a786-dd31e8f8105e"):d==="seanwentz99@gmail.com"&&(u="client_admin",h="2566d8c5-2245-4a3c-b539-4cea21a07d9b"),{isSignedIn:!0,isLoaded:!0,user:{id:l.user.id,firstName:l.user.firstName||"",lastName:l.user.lastName||"",fullName:l.user.fullName||"",email:d||"",emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:u,organization_id:h,organizationName:null}}}return{isSignedIn:!0,isLoaded:!0,user:{id:e.id,clerkId:l.user.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:l.user.emailAddresses,primaryEmailAddress:l.user.primaryEmailAddress,imageUrl:l.user.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(o=e.organizations)==null?void 0:o.name,...e}}}}function en(){var s;const[e,t]=p.useState(null);{const a=zq(),{user:n}=G_();return p.useEffect(()=>{a.isSignedIn&&n&&Gl.getUserByClerkId(n.id).then(i=>t(i)).catch(i=>console.error("Error fetching db user:",i))},[a.isSignedIn,n==null?void 0:n.id]),{isLoaded:a.isLoaded&&(a.isSignedIn?e!==null:!0),isSignedIn:a.isSignedIn,user:a.isSignedIn&&n&&e?{id:e.id,clerkId:n.id,firstName:e.first_name,lastName:e.last_name,fullName:`${e.first_name} ${e.last_name}`,email:e.email,emailAddresses:n.emailAddresses,primaryEmailAddress:n.primaryEmailAddress,imageUrl:n.imageUrl,role:e.role,organization_id:e.organization_id,organizationName:(s=e.organizations)==null?void 0:s.name,...e}:null,signOut:a.signOut,getToken:a.getToken}}}const LP=({children:e})=>{const{isLoaded:t,isSignedIn:s}=en();return t?s?r.jsx(iy,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),r.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})},uS=Yf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-600 hover:bg-gray-700 text-white shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-700 bg-transparent hover:bg-gray-600/10 hover:border-gray-600 text-gray-300 hover:text-white",secondary:"bg-gray-800 text-white hover:bg-gray-700 border border-gray-700 hover:border-gray-600",ghost:"hover:bg-gray-800 text-gray-300 hover:text-white",link:"text-gray-400 underline-offset-4 hover:underline hover:text-gray-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=p.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},i)=>{const o=a?eG:"button";return r.jsx(o,{className:De(uS({variant:t,size:s,className:e})),ref:i,...n})});K.displayName="Button";const rZ=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);let sZ=class extends de.Component{constructor(s){super(s);Ns(this,"handleReload",()=>{window.location.reload()});Ns(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error(" ErrorBoundary caught an error:",s),console.error(" Component stack:",a.componentStack),this.setState({error:s,errorInfo:a})}render(){return this.state.hasError?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-6",children:r.jsxs("div",{className:"w-full max-w-md rounded-xl border border-red-500/20 bg-gray-900 p-8 text-center shadow-2xl",children:[r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-red-500/10",children:r.jsx(ga,{className:"h-8 w-8 text-red-400"})})}),r.jsx("h1",{className:"mb-2 text-2xl font-bold text-white",children:"Oops! Something went wrong"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"We encountered an unexpected error. Don't worry, your data is safe."}),r.jsxs("div",{className:"mb-6 space-y-3",children:[r.jsxs(K,{onClick:this.handleReload,className:"w-full bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-pink/80 hover:to-brand-magenta/80",children:[r.jsx(ea,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),r.jsxs(K,{onClick:this.handleGoHome,variant:"outline",className:"w-full border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(my,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]}),r.jsxs("details",{className:"text-left",children:[r.jsx("summary",{className:"mb-2 cursor-pointer text-sm text-gray-500 hover:text-gray-400",children:"View Technical Details"}),r.jsxs("div",{className:"mt-2 rounded-lg bg-gray-800 p-4",children:[r.jsx("pre",{className:"max-h-32 overflow-auto text-xs text-red-400",children:rZ(this.state.error)}),this.state.errorInfo&&r.jsx("pre",{className:"mt-2 max-h-32 overflow-auto text-xs text-gray-500",children:this.state.errorInfo.componentStack})]})]}),r.jsx("div",{className:"mt-6 border-t border-gray-800 pt-4",children:r.jsx("p",{className:"text-xs text-gray-500",children:"If this problem persists, please contact support."})})]})}):this.props.children}};const aZ="/assets/trinity-sidebar-full-DXWznEhS.png",nZ="/assets/trinity-sidebar-icon-D-Gabyb7.png",zP=e=>{let t;const s=new Set,a=(u,h)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(y=>y(t,g))}},n=()=>t,l={setState:a,getState:n,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u))},d=t=e(a,n,l);return l},iZ=e=>e?zP(e):zP,oZ=e=>e;function lZ(e,t=oZ){const s=de.useSyncExternalStore(e.subscribe,de.useCallback(()=>t(e.getState()),[e,t]),de.useCallback(()=>t(e.getInitialState()),[e,t]));return de.useDebugValue(s),s}const cZ=e=>{const t=iZ(e),s=a=>lZ(t,a);return Object.assign(s,t),s},dZ=e=>cZ;function MI(e,t){let s;try{s=e()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,t==null?void 0:t.reviver),l=(i=s.getItem(n))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,i)=>s.setItem(n,JSON.stringify(i,t==null?void 0:t.replacer)),removeItem:n=>s.removeItem(n)}}const j1=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(a){return j1(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return j1(a)(s)}}}},uZ=(e,t)=>(s,a,n)=>{let i={storage:MI(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...t},o=!1;const l=new Set,d=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...v)},a,n);const h=()=>{const v=i.partialize({...a()});return u.setItem(i.name,{state:v,version:i.version})},f=n.setState;n.setState=(v,b)=>(f(v,b),h());const g=e((...v)=>(s(...v),h()),a,n);n.getInitialState=()=>g;let y;const w=()=>{var v,b;if(!u)return;o=!1,l.forEach(S=>{var _;return S((_=a())!=null?_:g)});const N=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(v=a())!=null?v:g))||void 0;return j1(u.getItem.bind(u))(i.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==i.version){if(i.migrate){const _=i.migrate(S.state,S.version);return _ instanceof Promise?_.then(k=>[!0,k]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var _;const[k,T]=S;if(y=i.merge(T,(_=a())!=null?_:g),s(y,!0),k)return h()}).then(()=>{N==null||N(y,void 0),y=a(),o=!0,d.forEach(S=>S(y))}).catch(S=>{N==null||N(void 0,S)})};return n.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(d.add(v),()=>{d.delete(v)})},i.skipHydration||w(),y||g},mZ=uZ,FP={categories:[],types:[],priorities:[],sources:[],unreadOnly:!1},hZ={categories:{calls:!0,performance:!0,system:!0,billing:!0,campaigns:!0,security:!0},emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:{enabled:!1,start:"22:00",end:"08:00"}},bm=dZ()(mZ((e,t)=>({notifications:[],filters:FP,maxNotifications:25,preferences:hZ,addNotification:s=>{const a=`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={...s,id:a,timestamp:new Date,read:!1,priority:s.priority||"medium",category:s.category||"system",source:s.source||"unknown"};return e(i=>{const o=[n,...i.notifications];return o.length>i.maxNotifications&&o.splice(i.maxNotifications),{notifications:o}}),s.autoHide&&s.hideAfter&&setTimeout(()=>{t().removeNotification(a)},s.hideAfter),a},removeNotification:s=>{e(a=>({notifications:a.notifications.filter(n=>n.id!==s)}))},markAsRead:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!0}:n)}))},markAsUnread:s=>{e(a=>({notifications:a.notifications.map(n=>n.id===s?{...n,read:!1}:n)}))},markAllAsRead:()=>{e(s=>({notifications:s.notifications.map(a=>({...a,read:!0}))}))},clearAll:()=>{e({notifications:[]})},clearByCategory:s=>{e(a=>({notifications:a.notifications.filter(n=>n.category!==s)}))},clearByType:s=>{e(a=>({notifications:a.notifications.filter(n=>n.type!==s)}))},clearOld:s=>{const a=new Date;a.setDate(a.getDate()-s),e(n=>({notifications:n.notifications.filter(i=>(i.timestamp instanceof Date?i.timestamp:new Date(i.timestamp))>a||i.persistent)}))},setFilters:s=>{e(a=>({filters:{...a.filters,...s}}))},resetFilters:()=>{e({filters:FP})},getFilteredNotifications:()=>{const{notifications:s,filters:a}=t();return s.filter(n=>{if(a.categories.length>0&&!a.categories.includes(n.category)||a.types.length>0&&!a.types.includes(n.type)||a.priorities.length>0&&!a.priorities.includes(n.priority)||a.sources.length>0&&!a.sources.includes(n.source)||a.unreadOnly&&n.read)return!1;if(a.dateRange){const i=n.timestamp;if(i<a.dateRange.start||i>a.dateRange.end)return!1}return!0})},getStats:()=>{const{notifications:s}=t(),a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),i=new Date(n);i.setDate(i.getDate()-7);const o=new Date(a.getFullYear(),a.getMonth(),1),l={total:s.length,unread:s.filter(d=>!d.read).length,byCategory:{system:0,calls:0,campaigns:0,performance:0,billing:0,security:0},byType:{success:0,error:0,warning:0,info:0,system:0,campaign:0,billing:0},byPriority:{low:0,medium:0,high:0,urgent:0},recentActivity:{today:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=n).length,thisWeek:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=i).length,thisMonth:s.filter(d=>(d.timestamp instanceof Date?d.timestamp:new Date(d.timestamp))>=o).length}};return s.forEach(d=>{l.byCategory[d.category]++,l.byType[d.type]++,l.byPriority[d.priority]++}),l},getUnreadCount:()=>t().notifications.filter(s=>!s.read).length,getNotificationsByCategory:s=>t().notifications.filter(a=>a.category===s),getNotificationsByType:s=>t().notifications.filter(a=>a.type===s),getNotificationsByPriority:s=>t().notifications.filter(a=>a.priority===s),getRecentNotifications:s=>t().notifications.slice(0,s),setMaxNotifications:s=>{e(a=>{const n=a.notifications.slice(0,s);return{maxNotifications:s,notifications:n}})},updatePreferences:s=>{e(a=>({preferences:{...a.preferences,...s}}))}}),{name:"apex-notifications",storage:MI(()=>localStorage,{reviver:(e,t)=>e==="timestamp"&&typeof t=="string"?new Date(t):t,replacer:(e,t)=>t}),partialize:e=>({notifications:e.notifications.slice(0,25),maxNotifications:e.maxNotifications})})),zc={success:(e,t,s)=>({type:"success",title:e,message:t,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:5e3,...s}),error:(e,t,s)=>({type:"error",title:e,message:t,priority:"high",category:"system",source:"app",persistent:!0,...s}),warning:(e,t,s)=>({type:"warning",title:e,message:t,priority:"medium",category:"system",source:"app",autoHide:!0,hideAfter:8e3,...s}),info:(e,t,s)=>({type:"info",title:e,message:t,priority:"low",category:"system",source:"app",autoHide:!0,hideAfter:4e3,...s}),system:(e,t,s)=>({type:"system",title:e,message:t,priority:"medium",category:"system",source:"system",...s}),campaign:(e,t,s)=>({type:"campaign",title:e,message:t,priority:"medium",category:"campaigns",source:"campaign-manager",...s}),billing:(e,t,s)=>({type:"billing",title:e,message:t,priority:"medium",category:"billing",source:"billing",...s})},fZ=()=>{const e=bm(t=>t.addNotification);return{success:(t,s,a)=>e(zc.success(t,s,a)),error:(t,s,a)=>e(zc.error(t,s,a)),warning:(t,s,a)=>e(zc.warning(t,s,a)),info:(t,s,a)=>e(zc.info(t,s,a)),system:(t,s,a)=>e(zc.system(t,s,a)),campaign:(t,s,a)=>e(zc.campaign(t,s,a)),billing:(t,s,a)=>e(zc.billing(t,s,a))}},II=p.createContext(void 0),pZ=({children:e})=>{const[t,s]=p.useState(null),[a,n]=p.useState(null),{user:i,isLoaded:o}=Od();return p.useEffect(()=>{var d,u,h,f;const l=(i==null?void 0:i.id)||(i==null?void 0:i.email)||null;if(o&&i&&l!==a){n(l),console.log(" MinimalUserProvider: User data received:",{email:i.email,role:i.role,firstName:i.firstName||i.first_name,lastName:i.lastName||i.last_name,organization_id:i.organization_id});const g=((d=i.primaryEmailAddress)==null?void 0:d.emailAddress)||((h=(u=i.emailAddresses)==null?void 0:u[0])==null?void 0:h.emailAddress)||i.email||"user@example.com",y={firstName:i.firstName||i.first_name||"User",lastName:i.lastName||i.last_name||"",organizationName:i.organizationName||((f=i.organizations)==null?void 0:f.name)||"Organization",organization_id:i.organization_id,email:g,role:i.role||"client_user"};console.log(" MinimalUserProvider: Setting user context:",y),s(y)}else o&&!i&&a!==null&&(n(null),s(null))},[i==null?void 0:i.id,i==null?void 0:i.email,o,a]),r.jsx(II.Provider,{value:{userContext:t,setUserContext:s},children:e})},po=()=>{const e=p.useContext(II);if(!e)throw new Error("useUserContext must be used within a MinimalUserProvider");return e},DI=6048e5,gZ=864e5,qg=43200,UP=1440,BP=Symbol.for("constructDateFrom");function Ci(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&BP in e?e[BP](t):e instanceof Date?new e.constructor(t):new Date(t)}function vs(e,t){return Ci(t||e,e)}function N1(e,t,s){const a=vs(e,s==null?void 0:s.in);return isNaN(t)?Ci(e,NaN):(a.setDate(a.getDate()+t),a)}let xZ={};function tp(){return xZ}function gf(e,t){var l,d,u,h;const s=tp(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,n=vs(e,t==null?void 0:t.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function W0(e,t){return gf(e,{...t,weekStartsOn:1})}function $I(e,t){const s=vs(e,t==null?void 0:t.in),a=s.getFullYear(),n=Ci(s,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=W0(n),o=Ci(s,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=W0(o);return s.getTime()>=i.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function V0(e){const t=vs(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function rp(e,...t){const s=Ci.bind(null,e||t.find(a=>typeof a=="object"));return t.map(s)}function q0(e,t){const s=vs(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function yZ(e,t,s){const[a,n]=rp(s==null?void 0:s.in,e,t),i=q0(a),o=q0(n),l=+i-V0(i),d=+o-V0(o);return Math.round((l-d)/gZ)}function vZ(e,t){const s=$I(e,t),a=Ci(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),W0(a)}function w0(e,t){const s=+vs(e)-+vs(t);return s<0?-1:s>0?1:s}function mS(e){return Ci(e,Date.now())}function LI(e,t,s){const[a,n]=rp(s==null?void 0:s.in,e,t);return+q0(a)==+q0(n)}function bZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wZ(e){return!(!bZ(e)&&typeof e!="number"||isNaN(+vs(e)))}function jZ(e,t,s){const[a,n]=rp(s==null?void 0:s.in,e,t),i=a.getFullYear()-n.getFullYear(),o=a.getMonth()-n.getMonth();return i*12+o}function NZ(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function _Z(e,t){return+vs(e)-+vs(t)}function SZ(e,t){const s=vs(e,t==null?void 0:t.in);return s.setHours(23,59,59,999),s}function CZ(e,t){const s=vs(e,t==null?void 0:t.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function kZ(e,t){const s=vs(e,t==null?void 0:t.in);return+SZ(s,t)==+CZ(s,t)}function AZ(e,t,s){const[a,n,i]=rp(s==null?void 0:s.in,e,e,t),o=w0(n,i),l=Math.abs(jZ(n,i));if(l<1)return 0;n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*l);let d=w0(n,i)===-o;kZ(a)&&l===1&&w0(a,i)===1&&(d=!1);const u=o*(l-+d);return u===0?0:u}function PZ(e,t,s){const a=_Z(e,t)/1e3;return NZ(s==null?void 0:s.roundingMethod)(a)}function EZ(e,t){const s=vs(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const TZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OZ=(e,t,s)=>{let a;const n=TZ[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Fw(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const RZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DZ={date:Fw({formats:RZ,defaultWidth:"full"}),time:Fw({formats:MZ,defaultWidth:"full"}),dateTime:Fw({formats:IZ,defaultWidth:"full"})},$Z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LZ=(e,t,s,a)=>$Z[e];function Ch(e){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const zZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qZ=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},HZ={ordinalNumber:qZ,era:Ch({values:zZ,defaultWidth:"wide"}),quarter:Ch({values:FZ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ch({values:UZ,defaultWidth:"wide"}),day:Ch({values:BZ,defaultWidth:"wide"}),dayPeriod:Ch({values:WZ,defaultWidth:"wide",formattingValues:VZ,defaultFormattingWidth:"wide"})};function kh(e){return(t,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?GZ(l,f=>f.test(o)):KZ(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=s.valueCallback?s.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function KZ(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function GZ(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function YZ(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const JZ=/^(\d+)(th|st|nd|rd)?/i,XZ=/\d+/i,ZZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QZ={any:[/^b/i,/^(a|c)/i]},eQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tQ={any:[/1/i,/2/i,/3/i,/4/i]},rQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lQ={ordinalNumber:YZ({matchPattern:JZ,parsePattern:XZ,valueCallback:e=>parseInt(e,10)}),era:kh({matchPatterns:ZZ,defaultMatchWidth:"wide",parsePatterns:QZ,defaultParseWidth:"any"}),quarter:kh({matchPatterns:eQ,defaultMatchWidth:"wide",parsePatterns:tQ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kh({matchPatterns:rQ,defaultMatchWidth:"wide",parsePatterns:sQ,defaultParseWidth:"any"}),day:kh({matchPatterns:aQ,defaultMatchWidth:"wide",parsePatterns:nQ,defaultParseWidth:"any"}),dayPeriod:kh({matchPatterns:iQ,defaultMatchWidth:"any",parsePatterns:oQ,defaultParseWidth:"any"})},zI={code:"en-US",formatDistance:OZ,formatLong:DZ,formatRelative:LZ,localize:HZ,match:lQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cQ(e,t){const s=vs(e,t==null?void 0:t.in);return yZ(s,EZ(s))+1}function dQ(e,t){const s=vs(e,t==null?void 0:t.in),a=+W0(s)-+vZ(s);return Math.round(a/DI)+1}function FI(e,t){var h,f,g,y;const s=vs(e,t==null?void 0:t.in),a=s.getFullYear(),n=tp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Ci((t==null?void 0:t.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=gf(o,t),d=Ci((t==null?void 0:t.in)||e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const u=gf(d,t);return+s>=+l?a+1:+s>=+u?a:a-1}function uQ(e,t){var l,d,u,h;const s=tp(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,n=FI(e,t),i=Ci((t==null?void 0:t.in)||e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),gf(i,t)}function mQ(e,t){const s=vs(e,t==null?void 0:t.in),a=+gf(s,t)-+uQ(s,t);return Math.round(a/DI)+1}function mr(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const Il={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return mr(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):mr(s+1,2)},d(e,t){return mr(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return mr(e.getHours()%12||12,t.length)},H(e,t){return mr(e.getHours(),t.length)},m(e,t){return mr(e.getMinutes(),t.length)},s(e,t){return mr(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return mr(n,t.length)}},Nu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WP={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return Il.y(e,t)},Y:function(e,t,s,a){const n=FI(e,a),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return mr(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):mr(i,t.length)},R:function(e,t){const s=$I(e);return mr(s,t.length)},u:function(e,t){const s=e.getFullYear();return mr(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return mr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return mr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return Il.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return mr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const n=mQ(e,a);return t==="wo"?s.ordinalNumber(n,{unit:"week"}):mr(n,t.length)},I:function(e,t,s){const a=dQ(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):mr(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Il.d(e,t)},D:function(e,t,s){const a=cQ(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):mr(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mr(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return mr(n,t.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let n;switch(a===12?n=Nu.noon:a===0?n=Nu.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let n;switch(a>=17?n=Nu.evening:a>=12?n=Nu.afternoon:a>=4?n=Nu.morning:n=Nu.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Il.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Il.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):mr(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):mr(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Il.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Il.s(e,t)},S:function(e,t){return Il.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return qP(a);case"XXXX":case"XX":return Gc(a);case"XXXXX":case"XXX":default:return Gc(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return qP(a);case"xxxx":case"xx":return Gc(a);case"xxxxx":case"xxx":default:return Gc(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+VP(a,":");case"OOOO":default:return"GMT"+Gc(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+VP(a,":");case"zzzz":default:return"GMT"+Gc(a,":")}},t:function(e,t,s){const a=Math.trunc(+e/1e3);return mr(a,t.length)},T:function(e,t,s){return mr(+e,t.length)}};function VP(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+t+mr(i,2)}function qP(e,t){return e%60===0?(e>0?"-":"+")+mr(Math.abs(e)/60,2):Gc(e,t)}function Gc(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=mr(Math.trunc(a/60),2),i=mr(a%60,2);return s+n+t+i}const HP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hQ=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return HP(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",HP(a,t)).replace("{{time}}",UI(n,t))},fQ={p:UI,P:hQ},pQ=/^D+$/,gQ=/^Y+$/,xQ=["D","DD","YY","YYYY"];function yQ(e){return pQ.test(e)}function vQ(e){return gQ.test(e)}function bQ(e,t,s){const a=wQ(e,t,s);if(console.warn(a),xQ.includes(e))throw new RangeError(a)}function wQ(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_Q=/^'([^]*?)'?$/,SQ=/''/g,CQ=/[a-zA-Z]/;function Ki(e,t,s){var h,f,g,y;const a=tp(),n=a.locale??zI,i=a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=vs(e,s==null?void 0:s.in);if(!wZ(l))throw new RangeError("Invalid time value");let d=t.match(NQ).map(w=>{const v=w[0];if(v==="p"||v==="P"){const b=fQ[v];return b(w,n.formatLong)}return w}).join("").match(jQ).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:kQ(w)};if(WP[v])return{isToken:!0,value:w};if(v.match(CQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(w=>{if(!w.isToken)return w.value;const v=w.value;(vQ(v)||yQ(v))&&bQ(v,t,String(e));const b=WP[v[0]];return b(l,v,n.localize,u)}).join("")}function kQ(e){const t=e.match(_Q);return t?t[1].replace(SQ,"'"):e}function AQ(e,t,s){const a=tp(),n=(s==null?void 0:s.locale)??a.locale??zI,i=2520,o=w0(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o}),[d,u]=rp(s==null?void 0:s.in,...o>0?[t,e]:[e,t]),h=PZ(u,d),f=(V0(u)-V0(d))/1e3,g=Math.round((h-f)/60);let y;if(g<2)return s!=null&&s.includeSeconds?h<5?n.formatDistance("lessThanXSeconds",5,l):h<10?n.formatDistance("lessThanXSeconds",10,l):h<20?n.formatDistance("lessThanXSeconds",20,l):h<40?n.formatDistance("halfAMinute",0,l):h<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):g===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",g,l);if(g<45)return n.formatDistance("xMinutes",g,l);if(g<90)return n.formatDistance("aboutXHours",1,l);if(g<UP){const w=Math.round(g/60);return n.formatDistance("aboutXHours",w,l)}else{if(g<i)return n.formatDistance("xDays",1,l);if(g<qg){const w=Math.round(g/UP);return n.formatDistance("xDays",w,l)}else if(g<qg*2)return y=Math.round(g/qg),n.formatDistance("aboutXMonths",y,l)}if(y=AZ(u,d),y<12){const w=Math.round(g/qg);return n.formatDistance("xMonths",w,l)}else{const w=y%12,v=Math.trunc(y/12);return w<3?n.formatDistance("aboutXYears",v,l):w<9?n.formatDistance("overXYears",v,l):n.formatDistance("almostXYears",v+1,l)}}function H0(e,t){return AQ(e,mS(e),t)}function KP(e){return+vs(e)<Date.now()}function GP(e,t){return LI(Ci(e,e),mS(e))}function PQ(e,t){return LI(e,N1(mS(e),1),t)}var EQ=p.createContext(void 0);function Rd(e){const t=p.useContext(EQ);return e||t||"ltr"}var Uw=0;function hS(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YP()),document.body.insertAdjacentElement("beforeend",e[1]??YP()),Uw++,()=>{Uw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uw--}},[])}function YP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bw="focusScope.autoFocusOnMount",Ww="focusScope.autoFocusOnUnmount",JP={bubbles:!1,cancelable:!0},TQ="FocusScope",xy=p.forwardRef((e,t)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,d]=p.useState(null),u=Jr(n),h=Jr(i),f=p.useRef(null),g=ht(t,v=>d(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let v=function(_){if(y.paused||!l)return;const k=_.target;l.contains(k)?f.current=k:$l(f.current,{select:!0})},b=function(_){if(y.paused||!l)return;const k=_.relatedTarget;k!==null&&(l.contains(k)||$l(f.current,{select:!0}))},N=function(_){if(document.activeElement===document.body)for(const T of _)T.removedNodes.length>0&&$l(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),S.disconnect()}}},[a,l,y.paused]),p.useEffect(()=>{if(l){ZP.add(y);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(Bw,JP);l.addEventListener(Bw,u),l.dispatchEvent(N),N.defaultPrevented||(OQ($Q(BI(l)),{select:!0}),document.activeElement===v&&$l(l))}return()=>{l.removeEventListener(Bw,u),setTimeout(()=>{const N=new CustomEvent(Ww,JP);l.addEventListener(Ww,h),l.dispatchEvent(N),N.defaultPrevented||$l(v??document.body,{select:!0}),l.removeEventListener(Ww,h),ZP.remove(y)},0)}}},[l,u,h,y]);const w=p.useCallback(v=>{if(!s&&!a||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(b&&N){const S=v.currentTarget,[_,k]=RQ(S);_&&k?!v.shiftKey&&N===k?(v.preventDefault(),s&&$l(_,{select:!0})):v.shiftKey&&N===_&&(v.preventDefault(),s&&$l(k,{select:!0})):N===S&&v.preventDefault()}},[s,a,y.paused]);return r.jsx(qe.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});xy.displayName=TQ;function OQ(e,{select:t=!1}={}){const s=document.activeElement;for(const a of e)if($l(a,{select:t}),document.activeElement!==s)return}function RQ(e){const t=BI(e),s=XP(t,e),a=XP(t.reverse(),e);return[s,a]}function BI(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function XP(e,t){for(const s of e)if(!MQ(s,{upTo:t}))return s}function MQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IQ(e){return e instanceof HTMLInputElement&&"select"in e}function $l(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&IQ(e)&&t&&e.select()}}var ZP=DQ();function DQ(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=QP(e,t),e.unshift(t)},remove(t){var s;e=QP(e,t),(s=e[0])==null||s.resume()}}}function QP(e,t){const s=[...e],a=s.indexOf(t);return a!==-1&&s.splice(a,1),s}function $Q(e){return e.filter(t=>t.tagName!=="A")}var LQ=Xx[" useId ".trim().toString()]||(()=>{}),zQ=0;function Qi(e){const[t,s]=p.useState(LQ());return os(()=>{s(a=>a??String(zQ++))},[e]),t?`radix-${t}`:""}const FQ=["top","right","bottom","left"],tc=Math.min,mn=Math.max,K0=Math.round,Hg=Math.floor,eo=e=>({x:e,y:e}),UQ={left:"right",right:"left",bottom:"top",top:"bottom"},BQ={start:"end",end:"start"};function _1(e,t,s){return mn(e,tc(t,s))}function Xo(e,t){return typeof e=="function"?e(t):e}function Zo(e){return e.split("-")[0]}function wm(e){return e.split("-")[1]}function fS(e){return e==="x"?"y":"x"}function pS(e){return e==="y"?"height":"width"}const WQ=new Set(["top","bottom"]);function Yi(e){return WQ.has(Zo(e))?"y":"x"}function gS(e){return fS(Yi(e))}function VQ(e,t,s){s===void 0&&(s=!1);const a=wm(e),n=gS(e),i=pS(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=G0(o)),[o,G0(o)]}function qQ(e){const t=G0(e);return[S1(e),t,S1(t)]}function S1(e){return e.replace(/start|end/g,t=>BQ[t])}const eE=["left","right"],tE=["right","left"],HQ=["top","bottom"],KQ=["bottom","top"];function GQ(e,t,s){switch(e){case"top":case"bottom":return s?t?tE:eE:t?eE:tE;case"left":case"right":return t?HQ:KQ;default:return[]}}function YQ(e,t,s,a){const n=wm(e);let i=GQ(Zo(e),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),t&&(i=i.concat(i.map(S1)))),i}function G0(e){return e.replace(/left|right|bottom|top/g,t=>UQ[t])}function JQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function WI(e){return typeof e!="number"?JQ(e):{top:e,right:e,bottom:e,left:e}}function Y0(e){const{x:t,y:s,width:a,height:n}=e;return{width:a,height:n,top:s,left:t,right:t+a,bottom:s+n,x:t,y:s}}function rE(e,t,s){let{reference:a,floating:n}=e;const i=Yi(t),o=gS(t),l=pS(o),d=Zo(t),u=i==="y",h=a.x+a.width/2-n.width/2,f=a.y+a.height/2-n.height/2,g=a[l]/2-n[l]/2;let y;switch(d){case"top":y={x:h,y:a.y-n.height};break;case"bottom":y={x:h,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:f};break;case"left":y={x:a.x-n.width,y:f};break;default:y={x:a.x,y:a.y}}switch(wm(t)){case"start":y[o]-=g*(s&&u?-1:1);break;case"end":y[o]+=g*(s&&u?-1:1);break}return y}const XQ=async(e,t,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:h,y:f}=rE(u,a,d),g=a,y={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:N}=l[v],{x:S,y:_,data:k,reset:T}=await N({x:h,y:f,initialPlacement:a,placement:g,strategy:n,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});h=S??h,f=_??f,y={...y,[b]:{...y[b],...k}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):T.rects),{x:h,y:f}=rE(u,g,d)),v=-1)}return{x:h,y:f,placement:g,strategy:n,middlewareData:y}};async function xf(e,t){var s;t===void 0&&(t={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=Xo(t,e),w=WI(y),b=l[g?f==="floating"?"reference":"floating":f],N=Y0(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(b)))==null||s?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),S=f==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},T=Y0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:_,strategy:d}):S);return{top:(N.top-T.top+w.top)/k.y,bottom:(T.bottom-N.bottom+w.bottom)/k.y,left:(N.left-T.left+w.left)/k.x,right:(T.right-N.right+w.right)/k.x}}const ZQ=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:d}=t,{element:u,padding:h=0}=Xo(e,t)||{};if(u==null)return{};const f=WI(h),g={x:s,y:a},y=gS(n),w=pS(y),v=await o.getDimensions(u),b=y==="y",N=b?"top":"left",S=b?"bottom":"right",_=b?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[y]-g[y]-i.floating[w],T=g[y]-i.reference[y],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=A?A[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(A)))&&(E=l.floating[_]||i.floating[w]);const R=k/2-T/2,z=E/2-v[w]/2-1,B=tc(f[N],z),O=tc(f[S],z),I=B,F=E-v[w]-O,V=E/2-v[w]/2+R,W=_1(I,V,F),X=!d.arrow&&wm(n)!=null&&V!==W&&i.reference[w]/2-(V<I?B:O)-v[w]/2<0,D=X?V<I?V-I:V-F:0;return{[y]:g[y]+D,data:{[y]:W,centerOffset:V-W-D,...X&&{alignmentOffset:D}},reset:X}}}),QQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=Xo(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const N=Zo(n),S=Yi(l),_=Zo(l)===l,k=await(d.isRTL==null?void 0:d.isRTL(u.floating)),T=g||(_||!v?[G0(l)]:qQ(l)),A=w!=="none";!g&&A&&T.push(...YQ(l,v,w,k));const E=[l,...T],R=await xf(t,b),z=[];let B=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&z.push(R[N]),f){const V=VQ(n,o,k);z.push(R[V[0]],R[V[1]])}if(B=[...B,{placement:n,overflows:z}],!z.every(V=>V<=0)){var O,I;const V=(((O=i.flip)==null?void 0:O.index)||0)+1,W=E[V];if(W&&(!(f==="alignment"?S!==Yi(W):!1)||B.every(U=>Yi(U.placement)===S?U.overflows[0]>0:!0)))return{data:{index:V,overflows:B},reset:{placement:W}};let X=(I=B.filter(D=>D.overflows[0]<=0).sort((D,U)=>D.overflows[1]-U.overflows[1])[0])==null?void 0:I.placement;if(!X)switch(y){case"bestFit":{var F;const D=(F=B.filter(U=>{if(A){const H=Yi(U.placement);return H===S||H==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(H=>H>0).reduce((H,M)=>H+M,0)]).sort((U,H)=>U[1]-H[1])[0])==null?void 0:F[0];D&&(X=D);break}case"initialPlacement":X=l;break}if(n!==X)return{reset:{placement:X}}}return{}}}};function sE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aE(e){return FQ.some(t=>e[t]>=0)}const eee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...n}=Xo(e,t);switch(a){case"referenceHidden":{const i=await xf(t,{...n,elementContext:"reference"}),o=sE(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aE(o)}}}case"escaped":{const i=await xf(t,{...n,altBoundary:!0}),o=sE(i,s.floating);return{data:{escapedOffsets:o,escaped:aE(o)}}}default:return{}}}}},VI=new Set(["left","top"]);async function tee(e,t){const{placement:s,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Zo(s),l=wm(s),d=Yi(s)==="y",u=VI.has(o)?-1:1,h=i&&d?-1:1,f=Xo(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),d?{x:y*h,y:g*u}:{x:g*u,y:y*h}}const ree=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=t,d=await tee(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+d.x,y:i+d.y,data:{...d,placement:o}}}}},see=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:n}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:N,y:S}=b;return{x:N,y:S}}},...d}=Xo(e,t),u={x:s,y:a},h=await xf(t,d),f=Yi(Zo(n)),g=fS(f);let y=u[g],w=u[f];if(i){const b=g==="y"?"top":"left",N=g==="y"?"bottom":"right",S=y+h[b],_=y-h[N];y=_1(S,y,_)}if(o){const b=f==="y"?"top":"left",N=f==="y"?"bottom":"right",S=w+h[b],_=w-h[N];w=_1(S,w,_)}const v=l.fn({...t,[g]:y,[f]:w});return{...v,data:{x:v.x-s,y:v.y-a,enabled:{[g]:i,[f]:o}}}}}},aee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=Xo(e,t),h={x:s,y:a},f=Yi(n),g=fS(f);let y=h[g],w=h[f];const v=Xo(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const _=g==="y"?"height":"width",k=i.reference[g]-i.floating[_]+b.mainAxis,T=i.reference[g]+i.reference[_]-b.mainAxis;y<k?y=k:y>T&&(y=T)}if(u){var N,S;const _=g==="y"?"width":"height",k=VI.has(Zo(n)),T=i.reference[f]-i.floating[_]+(k&&((N=o.offset)==null?void 0:N[f])||0)+(k?0:b.crossAxis),A=i.reference[f]+i.reference[_]+(k?0:((S=o.offset)==null?void 0:S[f])||0)-(k?b.crossAxis:0);w<T?w=T:w>A&&(w=A)}return{[g]:y,[f]:w}}}},nee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:n,rects:i,platform:o,elements:l}=t,{apply:d=()=>{},...u}=Xo(e,t),h=await xf(t,u),f=Zo(n),g=wm(n),y=Yi(n)==="y",{width:w,height:v}=i.floating;let b,N;f==="top"||f==="bottom"?(b=f,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=f,b=g==="end"?"top":"bottom");const S=v-h.top-h.bottom,_=w-h.left-h.right,k=tc(v-h[b],S),T=tc(w-h[N],_),A=!t.middlewareData.shift;let E=k,R=T;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(R=_),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(E=S),A&&!g){const B=mn(h.left,0),O=mn(h.right,0),I=mn(h.top,0),F=mn(h.bottom,0);y?R=w-2*(B!==0||O!==0?B+O:mn(h.left,h.right)):E=v-2*(I!==0||F!==0?I+F:mn(h.top,h.bottom))}await d({...t,availableWidth:R,availableHeight:E});const z=await o.getDimensions(l.floating);return w!==z.width||v!==z.height?{reset:{rects:!0}}:{}}}};function yy(){return typeof window<"u"}function jm(e){return qI(e)?(e.nodeName||"").toLowerCase():"#document"}function gn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function go(e){var t;return(t=(qI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qI(e){return yy()?e instanceof Node||e instanceof gn(e).Node:!1}function ki(e){return yy()?e instanceof Element||e instanceof gn(e).Element:!1}function ao(e){return yy()?e instanceof HTMLElement||e instanceof gn(e).HTMLElement:!1}function nE(e){return!yy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gn(e).ShadowRoot}const iee=new Set(["inline","contents"]);function sp(e){const{overflow:t,overflowX:s,overflowY:a,display:n}=Ai(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!iee.has(n)}const oee=new Set(["table","td","th"]);function lee(e){return oee.has(jm(e))}const cee=[":popover-open",":modal"];function vy(e){return cee.some(t=>{try{return e.matches(t)}catch{return!1}})}const dee=["transform","translate","scale","rotate","perspective"],uee=["transform","translate","scale","rotate","perspective","filter"],mee=["paint","layout","strict","content"];function xS(e){const t=yS(),s=ki(e)?Ai(e):e;return dee.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||uee.some(a=>(s.willChange||"").includes(a))||mee.some(a=>(s.contain||"").includes(a))}function hee(e){let t=rc(e);for(;ao(t)&&!Xu(t);){if(xS(t))return t;if(vy(t))return null;t=rc(t)}return null}function yS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fee=new Set(["html","body","#document"]);function Xu(e){return fee.has(jm(e))}function Ai(e){return gn(e).getComputedStyle(e)}function by(e){return ki(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rc(e){if(jm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nE(e)&&e.host||go(e);return nE(t)?t.host:t}function HI(e){const t=rc(e);return Xu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ao(t)&&sp(t)?t:HI(t)}function yf(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const n=HI(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=gn(n);if(i){const l=C1(o);return t.concat(o,o.visualViewport||[],sp(n)?n:[],l&&s?yf(l):[])}return t.concat(n,yf(n,[],s))}function C1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KI(e){const t=Ai(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const n=ao(e),i=n?e.offsetWidth:s,o=n?e.offsetHeight:a,l=K0(s)!==i||K0(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function vS(e){return ki(e)?e:e.contextElement}function Uu(e){const t=vS(e);if(!ao(t))return eo(1);const s=t.getBoundingClientRect(),{width:a,height:n,$:i}=KI(t);let o=(i?K0(s.width):s.width)/a,l=(i?K0(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pee=eo(0);function GI(e){const t=gn(e);return!yS()||!t.visualViewport?pee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gee(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==gn(e)?!1:t}function xd(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=vS(e);let o=eo(1);t&&(a?ki(a)&&(o=Uu(a)):o=Uu(e));const l=gee(i,s,a)?GI(i):eo(0);let d=(n.left+l.x)/o.x,u=(n.top+l.y)/o.y,h=n.width/o.x,f=n.height/o.y;if(i){const g=gn(i),y=a&&ki(a)?gn(a):a;let w=g,v=C1(w);for(;v&&a&&y!==w;){const b=Uu(v),N=v.getBoundingClientRect(),S=Ai(v),_=N.left+(v.clientLeft+parseFloat(S.paddingLeft))*b.x,k=N.top+(v.clientTop+parseFloat(S.paddingTop))*b.y;d*=b.x,u*=b.y,h*=b.x,f*=b.y,d+=_,u+=k,w=gn(v),v=C1(w)}}return Y0({width:h,height:f,x:d,y:u})}function bS(e,t){const s=by(e).scrollLeft;return t?t.left+s:xd(go(e)).left+s}function YI(e,t,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),n=a.left+t.scrollLeft-(s?0:bS(e,a)),i=a.top+t.scrollTop;return{x:n,y:i}}function xee(e){let{elements:t,rect:s,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=go(a),l=t?vy(t.floating):!1;if(a===o||l&&i)return s;let d={scrollLeft:0,scrollTop:0},u=eo(1);const h=eo(0),f=ao(a);if((f||!f&&!i)&&((jm(a)!=="body"||sp(o))&&(d=by(a)),ao(a))){const y=xd(a);u=Uu(a),h.x=y.x+a.clientLeft,h.y=y.y+a.clientTop}const g=o&&!f&&!i?YI(o,d,!0):eo(0);return{width:s.width*u.x,height:s.height*u.y,x:s.x*u.x-d.scrollLeft*u.x+h.x+g.x,y:s.y*u.y-d.scrollTop*u.y+h.y+g.y}}function yee(e){return Array.from(e.getClientRects())}function vee(e){const t=go(e),s=by(e),a=e.ownerDocument.body,n=mn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=mn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+bS(e);const l=-s.scrollTop;return Ai(a).direction==="rtl"&&(o+=mn(t.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function bee(e,t){const s=gn(e),a=go(e),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(n){i=n.width,o=n.height;const u=yS();(!u||u&&t==="fixed")&&(l=n.offsetLeft,d=n.offsetTop)}return{width:i,height:o,x:l,y:d}}const wee=new Set(["absolute","fixed"]);function jee(e,t){const s=xd(e,!0,t==="fixed"),a=s.top+e.clientTop,n=s.left+e.clientLeft,i=ao(e)?Uu(e):eo(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=n*i.x,u=a*i.y;return{width:o,height:l,x:d,y:u}}function iE(e,t,s){let a;if(t==="viewport")a=bee(e,s);else if(t==="document")a=vee(go(e));else if(ki(t))a=jee(t,s);else{const n=GI(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Y0(a)}function JI(e,t){const s=rc(e);return s===t||!ki(s)||Xu(s)?!1:Ai(s).position==="fixed"||JI(s,t)}function Nee(e,t){const s=t.get(e);if(s)return s;let a=yf(e,[],!1).filter(l=>ki(l)&&jm(l)!=="body"),n=null;const i=Ai(e).position==="fixed";let o=i?rc(e):e;for(;ki(o)&&!Xu(o);){const l=Ai(o),d=xS(o);!d&&l.position==="fixed"&&(n=null),(i?!d&&!n:!d&&l.position==="static"&&!!n&&wee.has(n.position)||sp(o)&&!d&&JI(e,o))?a=a.filter(h=>h!==o):n=l,o=rc(o)}return t.set(e,a),a}function _ee(e){let{element:t,boundary:s,rootBoundary:a,strategy:n}=e;const o=[...s==="clippingAncestors"?vy(t)?[]:Nee(t,this._c):[].concat(s),a],l=o[0],d=o.reduce((u,h)=>{const f=iE(t,h,n);return u.top=mn(f.top,u.top),u.right=tc(f.right,u.right),u.bottom=tc(f.bottom,u.bottom),u.left=mn(f.left,u.left),u},iE(t,l,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function See(e){const{width:t,height:s}=KI(e);return{width:t,height:s}}function Cee(e,t,s){const a=ao(t),n=go(t),i=s==="fixed",o=xd(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const d=eo(0);function u(){d.x=bS(n)}if(a||!a&&!i)if((jm(t)!=="body"||sp(n))&&(l=by(t)),a){const y=xd(t,!0,i,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else n&&u();i&&!a&&n&&u();const h=n&&!a&&!i?YI(n,l):eo(0),f=o.left+l.scrollLeft-d.x-h.x,g=o.top+l.scrollTop-d.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function Vw(e){return Ai(e).position==="static"}function oE(e,t){if(!ao(e)||Ai(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return go(e)===s&&(s=s.ownerDocument.body),s}function XI(e,t){const s=gn(e);if(vy(e))return s;if(!ao(e)){let n=rc(e);for(;n&&!Xu(n);){if(ki(n)&&!Vw(n))return n;n=rc(n)}return s}let a=oE(e,t);for(;a&&lee(a)&&Vw(a);)a=oE(a,t);return a&&Xu(a)&&Vw(a)&&!xS(a)?s:a||hee(e)||s}const kee=async function(e){const t=this.getOffsetParent||XI,s=this.getDimensions,a=await s(e.floating);return{reference:Cee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Aee(e){return Ai(e).direction==="rtl"}const Pee={convertOffsetParentRelativeRectToViewportRelativeRect:xee,getDocumentElement:go,getClippingRect:_ee,getOffsetParent:XI,getElementRects:kee,getClientRects:yee,getDimensions:See,getScale:Uu,isElement:ki,isRTL:Aee};function ZI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Eee(e,t){let s=null,a;const n=go(e);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:g,height:y}=u;if(l||t(),!g||!y)return;const w=Hg(f),v=Hg(n.clientWidth-(h+g)),b=Hg(n.clientHeight-(f+y)),N=Hg(h),_={rootMargin:-w+"px "+-v+"px "+-b+"px "+-N+"px",threshold:mn(0,tc(1,d))||1};let k=!0;function T(A){const E=A[0].intersectionRatio;if(E!==d){if(!k)return o();E?o(!1,E):a=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!ZI(u,e.getBoundingClientRect())&&o(),k=!1}try{s=new IntersectionObserver(T,{..._,root:n.ownerDocument})}catch{s=new IntersectionObserver(T,_)}s.observe(e)}return o(!0),i}function Tee(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,u=vS(e),h=n||i?[...u?yf(u):[],...yf(t)]:[];h.forEach(N=>{n&&N.addEventListener("scroll",s,{passive:!0}),i&&N.addEventListener("resize",s)});const f=u&&l?Eee(u,s):null;let g=-1,y=null;o&&(y=new ResizeObserver(N=>{let[S]=N;S&&S.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(t)})),s()}),u&&!d&&y.observe(u),y.observe(t));let w,v=d?xd(e):null;d&&b();function b(){const N=xd(e);v&&!ZI(v,N)&&s(),v=N,w=requestAnimationFrame(b)}return s(),()=>{var N;h.forEach(S=>{n&&S.removeEventListener("scroll",s),i&&S.removeEventListener("resize",s)}),f==null||f(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(w)}}const Oee=ree,Ree=see,Mee=QQ,Iee=nee,Dee=eee,lE=ZQ,$ee=aee,Lee=(e,t,s)=>{const a=new Map,n={platform:Pee,...s},i={...n.platform,_c:a};return XQ(e,t,{...n,platform:i})};var zee=typeof document<"u",Fee=function(){},j0=zee?p.useLayoutEffect:Fee;function J0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,a,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(a=s;a--!==0;)if(!J0(e[a],t[a]))return!1;return!0}if(n=Object.keys(e),s=n.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(t,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!J0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function QI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cE(e,t){const s=QI(e);return Math.round(t*s)/s}function qw(e){const t=p.useRef(e);return j0(()=>{t.current=e}),t}function Uee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[h,f]=p.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=p.useState(a);J0(g,a)||y(a);const[w,v]=p.useState(null),[b,N]=p.useState(null),S=p.useCallback(U=>{U!==A.current&&(A.current=U,v(U))},[]),_=p.useCallback(U=>{U!==E.current&&(E.current=U,N(U))},[]),k=i||w,T=o||b,A=p.useRef(null),E=p.useRef(null),R=p.useRef(h),z=d!=null,B=qw(d),O=qw(n),I=qw(u),F=p.useCallback(()=>{if(!A.current||!E.current)return;const U={placement:t,strategy:s,middleware:g};O.current&&(U.platform=O.current),Lee(A.current,E.current,U).then(H=>{const M={...H,isPositioned:I.current!==!1};V.current&&!J0(R.current,M)&&(R.current=M,ic.flushSync(()=>{f(M)}))})},[g,t,s,O,I]);j0(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const V=p.useRef(!1);j0(()=>(V.current=!0,()=>{V.current=!1}),[]),j0(()=>{if(k&&(A.current=k),T&&(E.current=T),k&&T){if(B.current)return B.current(k,T,F);F()}},[k,T,F,B,z]);const W=p.useMemo(()=>({reference:A,floating:E,setReference:S,setFloating:_}),[S,_]),X=p.useMemo(()=>({reference:k,floating:T}),[k,T]),D=p.useMemo(()=>{const U={position:s,left:0,top:0};if(!X.floating)return U;const H=cE(X.floating,h.x),M=cE(X.floating,h.y);return l?{...U,transform:"translate("+H+"px, "+M+"px)",...QI(X.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:H,top:M}},[s,l,X.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:F,refs:W,elements:X,floatingStyles:D}),[h,F,W,X,D])}const Bee=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:n}=typeof e=="function"?e(s):e;return a&&t(a)?a.current!=null?lE({element:a.current,padding:n}).fn(s):{}:a?lE({element:a,padding:n}).fn(s):{}}}},Wee=(e,t)=>({...Oee(e),options:[e,t]}),Vee=(e,t)=>({...Ree(e),options:[e,t]}),qee=(e,t)=>({...$ee(e),options:[e,t]}),Hee=(e,t)=>({...Mee(e),options:[e,t]}),Kee=(e,t)=>({...Iee(e),options:[e,t]}),Gee=(e,t)=>({...Dee(e),options:[e,t]}),Yee=(e,t)=>({...Bee(e),options:[e,t]});var Jee="Arrow",eD=p.forwardRef((e,t)=>{const{children:s,width:a=10,height:n=5,...i}=e;return r.jsx(qe.svg,{...i,ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});eD.displayName=Jee;var Xee=eD;function ap(e){const[t,s]=p.useState(void 0);return os(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),t}var wS="Popper",[tD,wy]=Bs(wS),[Zee,rD]=tD(wS),sD=e=>{const{__scopePopper:t,children:s}=e,[a,n]=p.useState(null);return r.jsx(Zee,{scope:t,anchor:a,onAnchorChange:n,children:s})};sD.displayName=wS;var aD="PopperAnchor",nD=p.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:a,...n}=e,i=rD(aD,s),o=p.useRef(null),l=ht(t,o);return p.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:r.jsx(qe.div,{...n,ref:l})});nD.displayName=aD;var jS="PopperContent",[Qee,ete]=tD(jS),iD=p.forwardRef((e,t)=>{var Ne,Fe,le,Se,Pe,te;const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:w,...v}=e,b=rD(jS,s),[N,S]=p.useState(null),_=ht(t,he=>S(he)),[k,T]=p.useState(null),A=ap(k),E=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,z=a+(i!=="center"?"-"+i:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(u)?u:[u],I=O.length>0,F={padding:B,boundary:O.filter(rte),altBoundary:I},{refs:V,floatingStyles:W,placement:X,isPositioned:D,middlewareData:U}=Uee({strategy:"fixed",placement:z,whileElementsMounted:(...he)=>Tee(...he,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[Wee({mainAxis:n+R,alignmentAxis:o}),d&&Vee({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qee():void 0,...F}),d&&Hee({...F}),Kee({...F,apply:({elements:he,rects:_e,availableWidth:Te,availableHeight:oe})=>{const{width:We,height:pt}=_e.reference,ce=he.floating.style;ce.setProperty("--radix-popper-available-width",`${Te}px`),ce.setProperty("--radix-popper-available-height",`${oe}px`),ce.setProperty("--radix-popper-anchor-width",`${We}px`),ce.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),k&&Yee({element:k,padding:l}),ste({arrowWidth:E,arrowHeight:R}),g&&Gee({strategy:"referenceHidden",...F})]}),[H,M]=cD(X),L=Jr(w);os(()=>{D&&(L==null||L())},[D,L]);const q=(Ne=U.arrow)==null?void 0:Ne.x,ue=(Fe=U.arrow)==null?void 0:Fe.y,G=((le=U.arrow)==null?void 0:le.centerOffset)!==0,[ge,be]=p.useState();return os(()=>{N&&be(window.getComputedStyle(N).zIndex)},[N]),r.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:D?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Se=U.transformOrigin)==null?void 0:Se.x,(Pe=U.transformOrigin)==null?void 0:Pe.y].join(" "),...((te=U.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Qee,{scope:s,placedSide:H,onArrowChange:T,arrowX:q,arrowY:ue,shouldHideArrow:G,children:r.jsx(qe.div,{"data-side":H,"data-align":M,...v,ref:_,style:{...v.style,animation:D?void 0:"none"}})})})});iD.displayName=jS;var oD="PopperArrow",tte={top:"bottom",right:"left",bottom:"top",left:"right"},lD=p.forwardRef(function(t,s){const{__scopePopper:a,...n}=t,i=ete(oD,a),o=tte[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(Xee,{...n,ref:s,style:{...n.style,display:"block"}})})});lD.displayName=oD;function rte(e){return e!==null}var ste=e=>({name:"transformOrigin",options:e,fn(t){var b,N,S;const{placement:s,rects:a,middlewareData:n}=t,o=((b=n.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,h]=cD(s),f={start:"0%",center:"50%",end:"100%"}[h],g=(((N=n.arrow)==null?void 0:N.x)??0)+l/2,y=(((S=n.arrow)==null?void 0:S.y)??0)+d/2;let w="",v="";return u==="bottom"?(w=o?f:`${g}px`,v=`${-d}px`):u==="top"?(w=o?f:`${g}px`,v=`${a.floating.height+d}px`):u==="right"?(w=`${-d}px`,v=o?f:`${y}px`):u==="left"&&(w=`${a.floating.width+d}px`,v=o?f:`${y}px`),{data:{x:w,y:v}}}});function cD(e){const[t,s="center"]=e.split("-");return[t,s]}var dD=sD,uD=nD,mD=iD,hD=lD,Hw="rovingFocusGroup.onEntryFocus",ate={bubbles:!1,cancelable:!0},np="RovingFocusGroup",[k1,fD,nte]=qf(np),[ite,Nm]=Bs(np,[nte]),[ote,lte]=ite(np),pD=p.forwardRef((e,t)=>r.jsx(k1.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(k1.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(cte,{...e,ref:t})})}));pD.displayName=np;var cte=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,g=p.useRef(null),y=ht(t,g),w=Rd(i),[v,b]=Ni({prop:o,defaultProp:l??null,onChange:d,caller:np}),[N,S]=p.useState(!1),_=Jr(u),k=fD(s),T=p.useRef(!1),[A,E]=p.useState(0);return p.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(Hw,_),()=>R.removeEventListener(Hw,_)},[_]),r.jsx(ote,{scope:s,orientation:a,dir:w,loop:n,currentTabStopId:v,onItemFocus:p.useCallback(R=>b(R),[b]),onItemShiftTab:p.useCallback(()=>S(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>E(R=>R-1),[]),children:r.jsx(qe.div,{tabIndex:N||A===0?-1:0,"data-orientation":a,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{T.current=!0}),onFocus:ze(e.onFocus,R=>{const z=!T.current;if(R.target===R.currentTarget&&z&&!N){const B=new CustomEvent(Hw,ate);if(R.currentTarget.dispatchEvent(B),!B.defaultPrevented){const O=k().filter(X=>X.focusable),I=O.find(X=>X.active),F=O.find(X=>X.id===v),W=[I,F,...O].filter(Boolean).map(X=>X.ref.current);yD(W,h)}}T.current=!1}),onBlur:ze(e.onBlur,()=>S(!1))})})}),gD="RovingFocusGroupItem",xD=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,d=Qi(),u=i||d,h=lte(gD,s),f=h.currentTabStopId===u,g=fD(s),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:v}=h;return p.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),r.jsx(k1.ItemSlot,{scope:s,id:u,focusable:a,active:n,children:r.jsx(qe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ze(e.onMouseDown,b=>{a?h.onItemFocus(u):b.preventDefault()}),onFocus:ze(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ze(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=mte(b,h.orientation,h.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=g().filter(k=>k.focusable).map(k=>k.ref.current);if(N==="last")_.reverse();else if(N==="prev"||N==="next"){N==="prev"&&_.reverse();const k=_.indexOf(b.currentTarget);_=h.loop?hte(_,k+1):_.slice(k+1)}setTimeout(()=>yD(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});xD.displayName=gD;var dte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ute(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mte(e,t,s){const a=ute(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return dte[a]}function yD(e,t=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}function hte(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var NS=pD,_S=xD,fte=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_u=new WeakMap,Kg=new WeakMap,Gg={},Kw=0,vD=function(e){return e&&(e.host||vD(e.parentNode))},pte=function(e,t){return t.map(function(s){if(e.contains(s))return s;var a=vD(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},gte=function(e,t,s,a){var n=pte(t,Array.isArray(e)?e:[e]);Gg[s]||(Gg[s]=new WeakMap);var i=Gg[s],o=[],l=new Set,d=new Set(n),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};n.forEach(u);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(a),w=y!==null&&y!=="false",v=(_u.get(g)||0)+1,b=(i.get(g)||0)+1;_u.set(g,v),i.set(g,b),o.push(g),v===1&&w&&Kg.set(g,!0),b===1&&g.setAttribute(s,"true"),w||g.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(t),l.clear(),Kw++,function(){o.forEach(function(f){var g=_u.get(f)-1,y=i.get(f)-1;_u.set(f,g),i.set(f,y),g||(Kg.has(f)||f.removeAttribute(a),Kg.delete(f)),y||f.removeAttribute(s)}),Kw--,Kw||(_u=new WeakMap,_u=new WeakMap,Kg=new WeakMap,Gg={})}},SS=function(e,t,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=fte(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),gte(a,n,s,"aria-hidden")):function(){return null}},Gi=function(){return Gi=Object.assign||function(t){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},Gi.apply(this,arguments)};function bD(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function xte(e,t,s){if(s||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var N0="right-scroll-bar-position",_0="width-before-scroll-bar",yte="with-scroll-bars-hidden",vte="--removed-body-scroll-bar-size";function Gw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bte(e,t){var s=p.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=t,s.facade}var wte=typeof window<"u"?p.useLayoutEffect:p.useEffect,dE=new WeakMap;function jte(e,t){var s=bte(null,function(a){return e.forEach(function(n){return Gw(n,a)})});return wte(function(){var a=dE.get(s);if(a){var n=new Set(a),i=new Set(e),o=s.current;n.forEach(function(l){i.has(l)||Gw(l,null)}),i.forEach(function(l){n.has(l)||Gw(l,o)})}dE.set(s,e)},[e]),s}function Nte(e){return e}function _te(e,t){t===void 0&&(t=Nte);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var d=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),s={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),s}}}};return n}function Ste(e){e===void 0&&(e={});var t=_te(null);return t.options=Gi({async:!0,ssr:!1},e),t}var wD=function(e){var t=e.sideCar,s=bD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,Gi({},s))};wD.isSideCarExport=!0;function Cte(e,t){return e.useMedium(t),wD}var jD=Ste(),Yw=function(){},jy=p.forwardRef(function(e,t){var s=p.useRef(null),a=p.useState({onScrollCapture:Yw,onWheelCapture:Yw,onTouchMoveCapture:Yw}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,N=e.as,S=N===void 0?"div":N,_=e.gapMode,k=bD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,A=jte([s,t]),E=Gi(Gi({},k),n);return p.createElement(p.Fragment,null,h&&p.createElement(T,{sideCar:jD,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:s,gapMode:_}),o?p.cloneElement(p.Children.only(l),Gi(Gi({},E),{ref:A})):p.createElement(S,Gi({},E,{className:d,ref:A}),l))});jy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jy.classNames={fullWidth:_0,zeroRight:N0};var kte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ate(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kte();return t&&e.setAttribute("nonce",t),e}function Pte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ete(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Tte=function(){var e=0,t=null;return{add:function(s){e==0&&(t=Ate())&&(Pte(t,s),Ete(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ote=function(){var e=Tte();return function(t,s){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},ND=function(){var e=Ote(),t=function(s){var a=s.styles,n=s.dynamic;return e(a,n),null};return t},Rte={left:0,top:0,right:0,gap:0},Jw=function(e){return parseInt(e||"",10)||0},Mte=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[Jw(s),Jw(a),Jw(n)]},Ite=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Rte;var t=Mte(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},Dte=ND(),Bu="data-scroll-locked",$te=function(e,t,s,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(yte,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Bu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(N0,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(_0,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(N0," .").concat(N0,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(_0," .").concat(_0,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Bu,`] {
    `).concat(vte,": ").concat(l,`px;
  }
`)},uE=function(){var e=parseInt(document.body.getAttribute(Bu)||"0",10);return isFinite(e)?e:0},Lte=function(){p.useEffect(function(){return document.body.setAttribute(Bu,(uE()+1).toString()),function(){var e=uE()-1;e<=0?document.body.removeAttribute(Bu):document.body.setAttribute(Bu,e.toString())}},[])},zte=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;Lte();var i=p.useMemo(function(){return Ite(n)},[n]);return p.createElement(Dte,{styles:$te(i,!t,n,s?"":"!important")})},A1=!1;if(typeof window<"u")try{var Yg=Object.defineProperty({},"passive",{get:function(){return A1=!0,!0}});window.addEventListener("test",Yg,Yg),window.removeEventListener("test",Yg,Yg)}catch{A1=!1}var Su=A1?{passive:!1}:!1,Fte=function(e){return e.tagName==="TEXTAREA"},_D=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!Fte(e)&&s[t]==="visible")},Ute=function(e){return _D(e,"overflowY")},Bte=function(e){return _D(e,"overflowX")},mE=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=SD(e,a);if(n){var i=CD(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},Wte=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},Vte=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},SD=function(e,t){return e==="v"?Ute(t):Bte(t)},CD=function(e,t){return e==="v"?Wte(t):Vte(t)},qte=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hte=function(e,t,s,a,n){var i=qte(e,window.getComputedStyle(t).direction),o=i*a,l=s.target,d=t.contains(l),u=!1,h=o>0,f=0,g=0;do{if(!l)break;var y=CD(e,l),w=y[0],v=y[1],b=y[2],N=v-b-i*w;(w||N)&&SD(e,l)&&(f+=N,g+=w);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(u=!0),u},Jg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hE=function(e){return[e.deltaX,e.deltaY]},fE=function(e){return e&&"current"in e?e.current:e},Kte=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gte=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yte=0,Cu=[];function Jte(e){var t=p.useRef([]),s=p.useRef([0,0]),a=p.useRef(),n=p.useState(Yte++)[0],i=p.useState(ND)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var v=xte([e.lockRef.current],(e.shards||[]).map(fE),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=Jg(v),S=s.current,_="deltaX"in v?v.deltaX:S[0]-N[0],k="deltaY"in v?v.deltaY:S[1]-N[1],T,A=v.target,E=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in v&&E==="h"&&A.type==="range")return!1;var R=mE(E,A);if(!R)return!0;if(R?T=E:(T=E==="v"?"h":"v",R=mE(E,A)),!R)return!1;if(!a.current&&"changedTouches"in v&&(_||k)&&(a.current=T),!T)return!0;var z=a.current||T;return Hte(z,b,v,z==="h"?_:k)},[]),d=p.useCallback(function(v){var b=v;if(!(!Cu.length||Cu[Cu.length-1]!==i)){var N="deltaY"in b?hE(b):Jg(b),S=t.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&Kte(T.delta,N)})[0];if(S&&S.should){b.cancelable&&b.preventDefault();return}if(!S){var _=(o.current.shards||[]).map(fE).filter(Boolean).filter(function(T){return T.contains(b.target)}),k=_.length>0?l(b,_[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(v,b,N,S){var _={name:v,delta:b,target:N,should:S,shadowParent:Xte(N)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(k){return k!==_})},1)},[]),h=p.useCallback(function(v){s.current=Jg(v),a.current=void 0},[]),f=p.useCallback(function(v){u(v.type,hE(v),v.target,l(v,e.lockRef.current))},[]),g=p.useCallback(function(v){u(v.type,Jg(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return Cu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Su),document.addEventListener("touchmove",d,Su),document.addEventListener("touchstart",h,Su),function(){Cu=Cu.filter(function(v){return v!==i}),document.removeEventListener("wheel",d,Su),document.removeEventListener("touchmove",d,Su),document.removeEventListener("touchstart",h,Su)}},[]);var y=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:Gte(n)}):null,y?p.createElement(zte,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Xte(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zte=Cte(jD,Jte);var Ny=p.forwardRef(function(e,t){return p.createElement(jy,Gi({},e,{ref:t,sideCar:Zte}))});Ny.classNames=jy.classNames;var P1=["Enter"," "],Qte=["ArrowDown","PageUp","Home"],kD=["ArrowUp","PageDown","End"],ere=[...Qte,...kD],tre={ltr:[...P1,"ArrowRight"],rtl:[...P1,"ArrowLeft"]},rre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ip="Menu",[vf,sre,are]=qf(ip),[Md,AD]=Bs(ip,[are,wy,Nm]),_y=wy(),PD=Nm(),[nre,Id]=Md(ip),[ire,op]=Md(ip),ED=e=>{const{__scopeMenu:t,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=_y(t),[d,u]=p.useState(null),h=p.useRef(!1),f=Jr(i),g=Rd(n);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(dD,{...l,children:r.jsx(nre,{scope:t,open:s,onOpenChange:f,content:d,onContentChange:u,children:r.jsx(ire,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:o,children:a})})})};ED.displayName=ip;var ore="MenuAnchor",CS=p.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e,n=_y(s);return r.jsx(uD,{...n,...a,ref:t})});CS.displayName=ore;var kS="MenuPortal",[lre,TD]=Md(kS,{forceMount:void 0}),OD=e=>{const{__scopeMenu:t,forceMount:s,children:a,container:n}=e,i=Id(kS,t);return r.jsx(lre,{scope:t,forceMount:s,children:r.jsx(va,{present:s||i.open,children:r.jsx(Kf,{asChild:!0,container:n,children:a})})})};OD.displayName=kS;var Gn="MenuContent",[cre,AS]=Md(Gn),RD=p.forwardRef((e,t)=>{const s=TD(Gn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=Id(Gn,e.__scopeMenu),o=op(Gn,e.__scopeMenu);return r.jsx(vf.Provider,{scope:e.__scopeMenu,children:r.jsx(va,{present:a||i.open,children:r.jsx(vf.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(dre,{...n,ref:t}):r.jsx(ure,{...n,ref:t})})})})}),dre=p.forwardRef((e,t)=>{const s=Id(Gn,e.__scopeMenu),a=p.useRef(null),n=ht(t,a);return p.useEffect(()=>{const i=a.current;if(i)return SS(i)},[]),r.jsx(PS,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),ure=p.forwardRef((e,t)=>{const s=Id(Gn,e.__scopeMenu);return r.jsx(PS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),mre=hd("MenuContent.ScrollLock"),PS=p.forwardRef((e,t)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,disableOutsideScroll:w,...v}=e,b=Id(Gn,s),N=op(Gn,s),S=_y(s),_=PD(s),k=sre(s),[T,A]=p.useState(null),E=p.useRef(null),R=ht(t,E,b.onContentChange),z=p.useRef(0),B=p.useRef(""),O=p.useRef(0),I=p.useRef(null),F=p.useRef("right"),V=p.useRef(0),W=w?Ny:p.Fragment,X=w?{as:mre,allowPinchZoom:!0}:void 0,D=H=>{var Ne,Fe;const M=B.current+H,L=k().filter(le=>!le.disabled),q=document.activeElement,ue=(Ne=L.find(le=>le.ref.current===q))==null?void 0:Ne.textValue,G=L.map(le=>le.textValue),ge=_re(G,M,ue),be=(Fe=L.find(le=>le.textValue===ge))==null?void 0:Fe.ref.current;(function le(Se){B.current=Se,window.clearTimeout(z.current),Se!==""&&(z.current=window.setTimeout(()=>le(""),1e3))})(M),be&&setTimeout(()=>be.focus())};p.useEffect(()=>()=>window.clearTimeout(z.current),[]),hS();const U=p.useCallback(H=>{var L,q;return F.current===((L=I.current)==null?void 0:L.side)&&Cre(H,(q=I.current)==null?void 0:q.area)},[]);return r.jsx(cre,{scope:s,searchRef:B,onItemEnter:p.useCallback(H=>{U(H)&&H.preventDefault()},[U]),onItemLeave:p.useCallback(H=>{var M;U(H)||((M=E.current)==null||M.focus(),A(null))},[U]),onTriggerLeave:p.useCallback(H=>{U(H)&&H.preventDefault()},[U]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(H=>{I.current=H},[]),children:r.jsx(W,{...X,children:r.jsx(xy,{asChild:!0,trapped:n,onMountAutoFocus:ze(i,H=>{var M;H.preventDefault(),(M=E.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Hf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:y,children:r.jsx(NS,{asChild:!0,..._,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:T,onCurrentTabStopIdChange:A,onEntryFocus:ze(d,H=>{N.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(mD,{role:"menu","aria-orientation":"vertical","data-state":YD(b.open),"data-radix-menu-content":"",dir:N.dir,...S,...v,ref:R,style:{outline:"none",...v.style},onKeyDown:ze(v.onKeyDown,H=>{const L=H.target.closest("[data-radix-menu-content]")===H.currentTarget,q=H.ctrlKey||H.altKey||H.metaKey,ue=H.key.length===1;L&&(H.key==="Tab"&&H.preventDefault(),!q&&ue&&D(H.key));const G=E.current;if(H.target!==G||!ere.includes(H.key))return;H.preventDefault();const be=k().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);kD.includes(H.key)&&be.reverse(),jre(be)}),onBlur:ze(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(z.current),B.current="")}),onPointerMove:ze(e.onPointerMove,bf(H=>{const M=H.target,L=V.current!==H.clientX;if(H.currentTarget.contains(M)&&L){const q=H.clientX>V.current?"right":"left";F.current=q,V.current=H.clientX}}))})})})})})})});RD.displayName=Gn;var hre="MenuGroup",ES=p.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e;return r.jsx(qe.div,{role:"group",...a,ref:t})});ES.displayName=hre;var fre="MenuLabel",MD=p.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e;return r.jsx(qe.div,{...a,ref:t})});MD.displayName=fre;var X0="MenuItem",pE="menu.itemSelect",Sy=p.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:a,...n}=e,i=p.useRef(null),o=op(X0,e.__scopeMenu),l=AS(X0,e.__scopeMenu),d=ht(t,i),u=p.useRef(!1),h=()=>{const f=i.current;if(!s&&f){const g=new CustomEvent(pE,{bubbles:!0,cancelable:!0});f.addEventListener(pE,y=>a==null?void 0:a(y),{once:!0}),eS(f,g),g.defaultPrevented?u.current=!1:o.onClose()}};return r.jsx(ID,{...n,ref:d,disabled:s,onClick:ze(e.onClick,h),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),u.current=!0},onPointerUp:ze(e.onPointerUp,f=>{var g;u.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:ze(e.onKeyDown,f=>{const g=l.searchRef.current!=="";s||g&&f.key===" "||P1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Sy.displayName=X0;var ID=p.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=e,o=AS(X0,s),l=PD(s),d=p.useRef(null),u=ht(t,d),[h,f]=p.useState(!1),[g,y]=p.useState("");return p.useEffect(()=>{const w=d.current;w&&y((w.textContent??"").trim())},[i.children]),r.jsx(vf.ItemSlot,{scope:s,disabled:a,textValue:n??g,children:r.jsx(_S,{asChild:!0,...l,focusable:!a,children:r.jsx(qe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:u,onPointerMove:ze(e.onPointerMove,bf(w=>{a?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,bf(w=>o.onItemLeave(w))),onFocus:ze(e.onFocus,()=>f(!0)),onBlur:ze(e.onBlur,()=>f(!1))})})})}),pre="MenuCheckboxItem",DD=p.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:a,...n}=e;return r.jsx(UD,{scope:e.__scopeMenu,checked:s,children:r.jsx(Sy,{role:"menuitemcheckbox","aria-checked":Z0(s)?"mixed":s,...n,ref:t,"data-state":OS(s),onSelect:ze(n.onSelect,()=>a==null?void 0:a(Z0(s)?!0:!s),{checkForDefaultPrevented:!1})})})});DD.displayName=pre;var $D="MenuRadioGroup",[gre,xre]=Md($D,{value:void 0,onValueChange:()=>{}}),LD=p.forwardRef((e,t)=>{const{value:s,onValueChange:a,...n}=e,i=Jr(a);return r.jsx(gre,{scope:e.__scopeMenu,value:s,onValueChange:i,children:r.jsx(ES,{...n,ref:t})})});LD.displayName=$D;var zD="MenuRadioItem",FD=p.forwardRef((e,t)=>{const{value:s,...a}=e,n=xre(zD,e.__scopeMenu),i=s===n.value;return r.jsx(UD,{scope:e.__scopeMenu,checked:i,children:r.jsx(Sy,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":OS(i),onSelect:ze(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,s)},{checkForDefaultPrevented:!1})})})});FD.displayName=zD;var TS="MenuItemIndicator",[UD,yre]=Md(TS,{checked:!1}),BD=p.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:a,...n}=e,i=yre(TS,s);return r.jsx(va,{present:a||Z0(i.checked)||i.checked===!0,children:r.jsx(qe.span,{...n,ref:t,"data-state":OS(i.checked)})})});BD.displayName=TS;var vre="MenuSeparator",WD=p.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e;return r.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});WD.displayName=vre;var bre="MenuArrow",VD=p.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e,n=_y(s);return r.jsx(hD,{...n,...a,ref:t})});VD.displayName=bre;var wre="MenuSub",[_ze,qD]=Md(wre),Xh="MenuSubTrigger",HD=p.forwardRef((e,t)=>{const s=Id(Xh,e.__scopeMenu),a=op(Xh,e.__scopeMenu),n=qD(Xh,e.__scopeMenu),i=AS(Xh,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),r.jsx(CS,{asChild:!0,...u,children:r.jsx(ID,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":YD(s.open),...e,ref:oy(t,n.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,bf(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:ze(e.onPointerLeave,bf(f=>{var y,w;h();const g=(y=s.content)==null?void 0:y.getBoundingClientRect();if(g){const v=(w=s.content)==null?void 0:w.dataset.side,b=v==="right",N=b?-5:5,S=g[b?"left":"right"],_=g[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:S,y:g.top},{x:_,y:g.top},{x:_,y:g.bottom},{x:S,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,f=>{var y;const g=i.searchRef.current!=="";e.disabled||g&&f.key===" "||tre[a.dir].includes(f.key)&&(s.onOpenChange(!0),(y=s.content)==null||y.focus(),f.preventDefault())})})})});HD.displayName=Xh;var KD="MenuSubContent",GD=p.forwardRef((e,t)=>{const s=TD(Gn,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=Id(Gn,e.__scopeMenu),o=op(Gn,e.__scopeMenu),l=qD(KD,e.__scopeMenu),d=p.useRef(null),u=ht(t,d);return r.jsx(vf.Provider,{scope:e.__scopeMenu,children:r.jsx(va,{present:a||i.open,children:r.jsx(vf.Slot,{scope:e.__scopeMenu,children:r.jsx(PS,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ze(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ze(e.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),g=rre[o.dir].includes(h.key);f&&g&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});GD.displayName=KD;function YD(e){return e?"open":"closed"}function Z0(e){return e==="indeterminate"}function OS(e){return Z0(e)?"indeterminate":e?"checked":"unchecked"}function jre(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function Nre(e,t){return e.map((s,a)=>e[(t+a)%e.length])}function _re(e,t,s){const n=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=Nre(e,Math.max(i,0));n.length===1&&(o=o.filter(u=>u!==s));const d=o.find(u=>u.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function Sre(e,t){const{x:s,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],d=t[o],u=l.x,h=l.y,f=d.x,g=d.y;h>a!=g>a&&s<(f-u)*(a-h)/(g-h)+u&&(n=!n)}return n}function Cre(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return Sre(s,t)}function bf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var kre=ED,Are=CS,Pre=OD,Ere=RD,Tre=ES,Ore=MD,Rre=Sy,Mre=DD,Ire=LD,Dre=FD,$re=BD,Lre=WD,zre=VD,Fre=HD,Ure=GD,Cy="DropdownMenu",[Bre,Sze]=Bs(Cy,[AD]),La=AD(),[Wre,JD]=Bre(Cy),XD=e=>{const{__scopeDropdownMenu:t,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=La(t),u=p.useRef(null),[h,f]=Ni({prop:n,defaultProp:i??!1,onChange:o,caller:Cy});return r.jsx(Wre,{scope:t,triggerId:Qi(),triggerRef:u,contentId:Qi(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),modal:l,children:r.jsx(kre,{...d,open:h,onOpenChange:f,dir:a,modal:l,children:s})})};XD.displayName=Cy;var ZD="DropdownMenuTrigger",QD=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=e,i=JD(ZD,s),o=La(s);return r.jsx(Are,{asChild:!0,...o,children:r.jsx(qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:oy(t,i.triggerRef),onPointerDown:ze(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ze(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});QD.displayName=ZD;var Vre="DropdownMenuPortal",e$=e=>{const{__scopeDropdownMenu:t,...s}=e,a=La(t);return r.jsx(Pre,{...a,...s})};e$.displayName=Vre;var t$="DropdownMenuContent",r$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=JD(t$,s),i=La(s),o=p.useRef(!1);return r.jsx(Ere,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{var d;o.current||(d=n.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!n.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});r$.displayName=t$;var qre="DropdownMenuGroup",s$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Tre,{...n,...a,ref:t})});s$.displayName=qre;var Hre="DropdownMenuLabel",a$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Ore,{...n,...a,ref:t})});a$.displayName=Hre;var Kre="DropdownMenuItem",n$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Rre,{...n,...a,ref:t})});n$.displayName=Kre;var Gre="DropdownMenuCheckboxItem",i$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Mre,{...n,...a,ref:t})});i$.displayName=Gre;var Yre="DropdownMenuRadioGroup",Jre=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Ire,{...n,...a,ref:t})});Jre.displayName=Yre;var Xre="DropdownMenuRadioItem",o$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Dre,{...n,...a,ref:t})});o$.displayName=Xre;var Zre="DropdownMenuItemIndicator",l$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx($re,{...n,...a,ref:t})});l$.displayName=Zre;var Qre="DropdownMenuSeparator",c$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Lre,{...n,...a,ref:t})});c$.displayName=Qre;var ese="DropdownMenuArrow",tse=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(zre,{...n,...a,ref:t})});tse.displayName=ese;var rse="DropdownMenuSubTrigger",d$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Fre,{...n,...a,ref:t})});d$.displayName=rse;var sse="DropdownMenuSubContent",u$=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=La(s);return r.jsx(Ure,{...n,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});u$.displayName=sse;var ase=XD,nse=QD,ise=e$,m$=r$,ose=s$,h$=a$,f$=n$,p$=i$,g$=o$,x$=l$,y$=c$,v$=d$,b$=u$;const Pi=ase,Ei=nse,lse=ose,cse=p.forwardRef(({className:e,inset:t,children:s,...a},n)=>r.jsxs(v$,{ref:n,className:De("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-zinc-100 data-[state=open]:bg-zinc-100 dark:focus:bg-zinc-800 dark:data-[state=open]:bg-zinc-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[s,r.jsx(ei,{className:"ml-auto"})]}));cse.displayName=v$.displayName;const dse=p.forwardRef(({className:e,...t},s)=>r.jsx(b$,{ref:s,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white p-1 text-zinc-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",e),...t}));dse.displayName=b$.displayName;const Jn=p.forwardRef(({className:e,sideOffset:t=4,style:s,...a},n)=>r.jsx(ise,{children:r.jsx(m$,{ref:n,sideOffset:t,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",e),style:{backgroundColor:"#111827 !important",borderColor:"#374151 !important",color:"#f9fafb !important",border:"1px solid #374151 !important",opacity:"1 !important",...s},...a})}));Jn.displayName=m$.displayName;const Yt=p.forwardRef(({className:e,inset:t,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>r.jsx(f$,{ref:o,className:De("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 outline-none data-[disabled]:pointer-events-none [&>svg]:size-4 [&>svg]:shrink-0","[&:active]:bg-transparent [&:focus]:bg-transparent [&[data-highlighted]]:bg-transparent [&]:bg-transparent [&]:hover:bg-transparent",t&&"pl-8",e),style:{backgroundColor:"transparent !important",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i}));Yt.displayName=f$.displayName;const use=p.forwardRef(({className:e,children:t,checked:s,style:a,onMouseEnter:n,onMouseLeave:i,...o},l)=>r.jsxs(p$,{ref:l,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,style:{backgroundColor:"transparent",color:"#d1d5db",...a},onMouseEnter:d=>{console.log("Mouse enter - setting background to #374151"),d.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",n==null||n(d)},onMouseLeave:d=>{d.currentTarget.style.setProperty("background-color","transparent","important"),d.currentTarget.style.setProperty("background","transparent","important"),d.currentTarget.style.setProperty("color","#d1d5db","important"),i==null||i(d)},...o,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(x$,{children:r.jsx(xm,{className:"h-4 w-4"})})}),t]}));use.displayName=p$.displayName;const mse=p.forwardRef(({className:e,children:t,style:s,onMouseEnter:a,onMouseLeave:n,...i},o)=>r.jsxs(g$,{ref:o,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),style:{backgroundColor:"transparent",color:"#d1d5db",...s},onMouseEnter:l=>{console.log("Mouse enter - setting background to #374151"),l.currentTarget.style.cssText="background-color: #374151 !important; background: #374151 !important; color: #10b981 !important;",a==null||a(l)},onMouseLeave:l=>{l.currentTarget.style.setProperty("background-color","transparent","important"),l.currentTarget.style.setProperty("background","transparent","important"),l.currentTarget.style.setProperty("color","#d1d5db","important"),n==null||n(l)},...i,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(x$,{children:r.jsx(V3,{className:"h-2 w-2 fill-current"})})}),t]}));mse.displayName=g$.displayName;const w$=p.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(h$,{ref:a,className:De("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));w$.displayName=h$.displayName;const RS=p.forwardRef(({className:e,...t},s)=>r.jsx(y$,{ref:s,className:De("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...t}));RS.displayName=y$.displayName;const hse=Yf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...s}){return r.jsx("div",{className:De(hse({variant:t}),e),...s})}function wf(e,[t,s]){return Math.min(s,Math.max(t,e))}function fse(e,t){return p.useReducer((s,a)=>t[s][a]??s,e)}var MS="ScrollArea",[j$,Cze]=Bs(MS),[pse,ti]=j$(MS),N$=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,d]=p.useState(null),[u,h]=p.useState(null),[f,g]=p.useState(null),[y,w]=p.useState(null),[v,b]=p.useState(null),[N,S]=p.useState(0),[_,k]=p.useState(0),[T,A]=p.useState(!1),[E,R]=p.useState(!1),z=ht(t,O=>d(O)),B=Rd(n);return r.jsx(pse,{scope:s,type:a,dir:B,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:g,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:T,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:S,onCornerHeightChange:k,children:r.jsx(qe.div,{dir:B,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});N$.displayName=MS;var _$="ScrollAreaViewport",S$=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=e,o=ti(_$,s),l=p.useRef(null),d=ht(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});S$.displayName=_$;var xo="ScrollAreaScrollbar",IS=p.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=ti(xo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?r.jsx(gse,{...a,ref:t,forceMount:s}):n.type==="scroll"?r.jsx(xse,{...a,ref:t,forceMount:s}):n.type==="auto"?r.jsx(C$,{...a,ref:t,forceMount:s}):n.type==="always"?r.jsx(DS,{...a,ref:t}):null});IS.displayName=xo;var gse=p.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=ti(xo,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),r.jsx(va,{present:s||i,children:r.jsx(C$,{"data-state":i?"visible":"hidden",...a,ref:t})})}),xse=p.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=ti(xo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ay(()=>d("SCROLL_END"),100),[l,d]=fse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,n.scrollHideDelay,d]),p.useEffect(()=>{const u=n.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const g=()=>{const y=u[h];f!==y&&(d("SCROLL"),o()),f=y};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[n.viewport,i,d,o]),r.jsx(va,{present:s||l!=="hidden",children:r.jsx(DS,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),C$=p.forwardRef((e,t)=>{const s=ti(xo,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",d=Ay(()=>{if(s.viewport){const u=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?u:h)}},10);return Zu(s.viewport,d),Zu(s.content,d),r.jsx(va,{present:a||i,children:r.jsx(DS,{"data-state":i?"visible":"hidden",...n,ref:t})})}),DS=p.forwardRef((e,t)=>{const{orientation:s="vertical",...a}=e,n=ti(xo,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=T$(l.viewport,l.content),h={...a,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function f(g,y){return Nse(g,o.current,l,y)}return s==="horizontal"?r.jsx(yse,{...h,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollLeft,y=gE(g,l,n.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=f(g,n.dir))}}):s==="vertical"?r.jsx(vse,{...h,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const g=n.viewport.scrollTop,y=gE(g,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=f(g))}}):null}),yse=p.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...n}=e,i=ti(xo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),u=ht(t,d,i.onScrollbarXChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),r.jsx(A$,{"data-orientation":"horizontal",...n,ref:u,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ky(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),R$(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ex(o.paddingLeft),paddingEnd:ex(o.paddingRight)}})}})}),vse=p.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...n}=e,i=ti(xo,e.__scopeScrollArea),[o,l]=p.useState(),d=p.useRef(null),u=ht(t,d,i.onScrollbarYChange);return p.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),r.jsx(A$,{"data-orientation":"vertical",...n,ref:u,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ky(s)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),R$(g,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ex(o.paddingTop),paddingEnd:ex(o.paddingBottom)}})}})}),[bse,k$]=j$(xo),A$=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:f,...g}=e,y=ti(xo,s),[w,v]=p.useState(null),b=ht(t,z=>v(z)),N=p.useRef(null),S=p.useRef(""),_=y.viewport,k=a.content-a.viewport,T=Jr(h),A=Jr(d),E=Ay(f,10);function R(z){if(N.current){const B=z.clientX-N.current.left,O=z.clientY-N.current.top;u({x:B,y:O})}}return p.useEffect(()=>{const z=B=>{const O=B.target;(w==null?void 0:w.contains(O))&&T(B,k)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[_,w,k,T]),p.useEffect(A,[a,A]),Zu(w,E),Zu(y.content,E),r.jsx(bse,{scope:s,scrollbar:w,hasThumb:n,onThumbChange:Jr(i),onThumbPointerUp:Jr(o),onThumbPositionChange:A,onThumbPointerDown:Jr(l),children:r.jsx(qe.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:ze(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),N.current=w.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),R(z))}),onPointerMove:ze(e.onPointerMove,R),onPointerUp:ze(e.onPointerUp,z=>{const B=z.target;B.hasPointerCapture(z.pointerId)&&B.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=S.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),Q0="ScrollAreaThumb",P$=p.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=k$(Q0,e.__scopeScrollArea);return r.jsx(va,{present:s||n.hasThumb,children:r.jsx(wse,{ref:t,...a})})}),wse=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:a,...n}=e,i=ti(Q0,s),o=k$(Q0,s),{onThumbPositionChange:l}=o,d=ht(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),h=Ay(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const g=()=>{if(h(),!u.current){const y=_se(f,l);u.current=y,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,h,l]),r.jsx(qe.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ze(e.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),w=f.clientX-y.left,v=f.clientY-y.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:ze(e.onPointerUp,o.onThumbPointerUp)})});P$.displayName=Q0;var $S="ScrollAreaCorner",E$=p.forwardRef((e,t)=>{const s=ti($S,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?r.jsx(jse,{...e,ref:t}):null});E$.displayName=$S;var jse=p.forwardRef((e,t)=>{const{__scopeScrollArea:s,...a}=e,n=ti($S,s),[i,o]=p.useState(0),[l,d]=p.useState(0),u=!!(i&&l);return Zu(n.scrollbarX,()=>{var f;const h=((f=n.scrollbarX)==null?void 0:f.offsetHeight)||0;n.onCornerHeightChange(h),d(h)}),Zu(n.scrollbarY,()=>{var f;const h=((f=n.scrollbarY)==null?void 0:f.offsetWidth)||0;n.onCornerWidthChange(h),o(h)}),u?r.jsx(qe.div,{...a,ref:t,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ex(e){return e?parseInt(e,10):0}function T$(e,t){const s=e/t;return isNaN(s)?0:s}function ky(e){const t=T$(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*t;return Math.max(a,18)}function Nse(e,t,s,a="ltr"){const n=ky(s),i=n/2,o=t||i,l=n-o,d=s.scrollbar.paddingStart+o,u=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,f=a==="ltr"?[0,h]:[h*-1,0];return O$([d,u],f)(e)}function gE(e,t,s="ltr"){const a=ky(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-n,o=t.content-t.viewport,l=i-a,d=s==="ltr"?[0,o]:[o*-1,0],u=wf(e,d);return O$([0,o],[0,l])(u)}function O$(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function R$(e,t){return e>0&&e<t}var _se=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&t(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function Ay(e,t){const s=Jr(e),a=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),p.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function Zu(e,t){const s=Jr(t);os(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,s])}var M$=N$,Sse=S$,Cse=E$;const tx=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(M$,{ref:a,className:De("relative overflow-hidden",e),...s,children:[r.jsx(Sse,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(I$,{}),r.jsx(Cse,{})]}));tx.displayName=M$.displayName;const I$=p.forwardRef(({className:e,orientation:t="vertical",...s},a)=>r.jsx(IS,{ref:a,orientation:t,className:De("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:r.jsx(P$,{className:"relative flex-1 rounded-full bg-zinc-200 dark:bg-zinc-800"})}));I$.displayName=IS.displayName;const Ae=p.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:De("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:a,...s}));Ae.displayName="Input";const kse={success:yt,error:Dt,warning:ga,info:Ht,system:ks,campaign:Sr,billing:Hr,calls:dt,performance:ba,security:ya,message:so,update:ea},xE={system:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/20",icon:"text-purple-500"},calls:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",icon:"text-blue-500"},campaigns:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",icon:"text-emerald-500"},performance:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"text-orange-500"},billing:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/20",icon:"text-yellow-500"},security:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/20",icon:"text-red-500"}},Ase={low:{color:"bg-gray-400",pulse:!1},medium:{color:"bg-blue-500",pulse:!1},high:{color:"bg-orange-500",pulse:!0},urgent:{color:"bg-red-500",pulse:!0}},Pse=de.memo(function({notification:t,onMarkAsRead:s,onRemove:a,onAction:n}){var g;const[i,o]=p.useState(!1),l=kse[t.type]||Ht,d=xE[t.category]||xE.system,u=Ase[t.priority],h=H0(t.timestamp,{addSuffix:!0}),f=()=>{t.action&&(n==null||n(t.action),t.action.href&&window.open(t.action.href,"_blank"),t.action.callback&&t.action.callback())};return r.jsxs("div",{className:De("group relative cursor-pointer rounded-lg border p-3 transition-all duration-200","hover:border-gray-600/50 hover:bg-gray-800/30",!t.read&&"border-gray-700/30 bg-gray-800/20",t.read&&"border-gray-800/30 bg-transparent"),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>!t.read&&s(t.id),children:[r.jsx("div",{className:De("absolute left-2 top-2 h-2 w-2 rounded-full",u.color,u.pulse&&"animate-pulse")}),!t.read&&r.jsx("div",{className:"absolute right-2 top-2 h-1.5 w-1.5 rounded-full bg-emerald-500"}),r.jsxs("div",{className:"ml-4 flex items-start gap-3",children:[r.jsx("div",{className:De("flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg transition-all duration-200",d.bg,d.border,"border"),children:r.jsx(l,{className:De("h-4 w-4",d.icon)})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:De("text-sm font-semibold leading-tight transition-colors duration-200",t.read?"text-gray-300":"text-white",i&&"text-emerald-400"),children:t.title}),r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx(ke,{variant:"outline",className:De("border-0 px-2 py-0.5 text-xs font-medium",d.bg,d.text),children:t.category}),r.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500",children:[r.jsx(Ft,{className:"h-3 w-3"}),h]})]})]}),r.jsxs("div",{className:De("flex items-center gap-1 opacity-0 transition-opacity duration-200",i&&"opacity-100"),children:[t.action&&r.jsxs(K,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-emerald-400 hover:bg-emerald-500/10 hover:text-emerald-300",onClick:y=>{y.stopPropagation(),f()},children:[t.action.label,r.jsx(Si,{className:"ml-1 h-3 w-3"})]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:bg-white/10 hover:text-white",onClick:y=>y.stopPropagation(),children:r.jsx(Xf,{className:"h-3 w-3"})})}),r.jsxs(Jn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[r.jsx(Yt,{onClick:y=>{y.stopPropagation(),t.read,s(t.id)},className:"text-gray-300 hover:bg-white/10 hover:text-white",children:t.read?r.jsxs(r.Fragment,{children:[r.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}):r.jsxs(r.Fragment,{children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Mark as Read"]})}),r.jsxs(Yt,{onClick:y=>{y.stopPropagation(),a(t.id)},className:"text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]}),r.jsx("p",{className:"mb-3 line-clamp-2 text-sm leading-relaxed text-gray-400",children:t.message}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500",children:t.source}),((g=t.metadata)==null?void 0:g.tags)&&r.jsx("div",{className:"flex items-center gap-1",children:t.metadata.tags.slice(0,2).map((y,w)=>r.jsx(ke,{variant:"outline",className:"border-gray-700 px-1.5 py-0 text-xs text-gray-400",children:y},w))})]})]})]})]})});function Ese(){const e=br(),[t,s]=p.useState(!1),[a,n]=p.useState(""),[i,o]=p.useState("all"),{notifications:l,markAsRead:d,markAllAsRead:u,removeNotification:h,clearAll:f,getUnreadCount:g,getFilteredNotifications:y}=bm(),w=g(),v=de.useMemo(()=>[...l.filter(T=>{const A=a===""||T.title.toLowerCase().includes(a.toLowerCase())||T.message.toLowerCase().includes(a.toLowerCase())||T.source.toLowerCase().includes(a.toLowerCase()),E=i==="all"||i==="unread"&&!T.read||i==="read"&&T.read;return A&&E})].sort((T,A)=>{if(T.read!==A.read)return T.read?1:-1;const E=T.timestamp instanceof Date?T.timestamp:new Date(T.timestamp);return(A.timestamp instanceof Date?A.timestamp:new Date(A.timestamp)).getTime()-E.getTime()}).slice(0,50),[l,a,i]),b=de.useCallback(_=>{d(_)},[d]),N=de.useCallback(_=>{h(_)},[h]),S=_=>{_!=null&&_.href&&window.open(_.href,"_blank"),_!=null&&_.callback&&_.callback()};return r.jsxs(Pi,{open:t,onOpenChange:s,children:[r.jsx(Ei,{asChild:!0,children:r.jsxs("div",{className:"relative h-10 w-10 cursor-pointer inline-flex items-center justify-center bg-transparent border-none outline-none focus:outline-none",children:[r.jsx(Vo,{className:De("h-5 w-5 transition-colors duration-200",t?"text-emerald-400":"text-gray-300 hover:text-white")}),w>0&&r.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 animate-pulse rounded-full bg-emerald-500 shadow-lg"})]})}),r.jsxs(Jn,{className:"w-96 border-gray-700/50 bg-gray-900/95 p-0 shadow-2xl backdrop-blur-sm",align:"end",sideOffset:8,children:[r.jsx("div",{className:"relative border-b border-gray-800/30 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[r.jsx(Ql,{className:"h-4 w-4 text-gray-400"}),"Notifications"]}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:w>0?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-500"}),w===1?`${w} new notification`:`${w} new notifications`]}):"All caught up!"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[w>0&&r.jsxs(K,{variant:"ghost",size:"sm",onClick:u,className:"h-7 px-2 text-xs text-gray-300 transition-all duration-200 hover:bg-gray-800/50 hover:text-white",children:[r.jsx(i1,{className:"mr-1 h-3 w-3"}),"Mark All Read"]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 transition-all duration-200 hover:bg-white/10 hover:text-white",children:r.jsx(ls,{className:"h-4 w-4"})})}),r.jsxs(Jn,{align:"end",className:"border-gray-700 bg-gray-900/95 backdrop-blur-xl",children:[r.jsxs(Yt,{onClick:f,className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Clear All"]}),r.jsxs(Yt,{className:"text-gray-300 hover:bg-white/10 hover:text-white",children:[r.jsx(ls,{className:"mr-2 h-4 w-4"}),"Notification Settings"]})]})]})]})]})}),r.jsxs("div",{className:"space-y-2 border-b border-gray-800/30 p-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-3 w-3 -translate-y-1/2 transform text-gray-500"}),r.jsx(Ae,{placeholder:"Search notifications...",value:a,onChange:_=>n(_.target.value),className:"h-8 border-gray-700/50 bg-gray-800/50 pl-8 text-xs text-white transition-all duration-200 placeholder:text-gray-500 focus:border-gray-600 focus:ring-0"})]}),r.jsx("div",{className:"flex items-center gap-1",children:["all","unread","read"].map(_=>r.jsxs(K,{variant:i===_?"default":"ghost",size:"sm",onClick:()=>o(_),className:De("h-6 px-2 text-xs capitalize transition-all duration-200",i===_?"bg-gray-700 text-white hover:bg-gray-600":"text-gray-400 hover:bg-gray-800/50 hover:text-white"),children:[_==="all"?"All":_==="unread"?"Unread":"Read",_==="unread"&&w>0&&r.jsx(ke,{className:"ml-1 border-0 bg-emerald-500 px-1 py-0 text-xs text-white",children:w})]},_))})]}),r.jsx(tx,{className:"h-80",children:r.jsx("div",{className:"p-1",children:v.length>0?r.jsx("div",{className:"space-y-1 p-2",children:v.map(_=>r.jsx(Pse,{notification:_,onMarkAsRead:b,onRemove:N,onAction:S},_.id))}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vo,{className:"mx-auto mb-4 h-16 w-16 opacity-30"}),r.jsx(Ql,{className:"absolute -right-1 -top-1 h-6 w-6 animate-pulse text-emerald-400"})]}),r.jsx("p",{className:"mb-2 text-lg font-medium",children:a?"No matching notifications":"All clear!"}),r.jsx("p",{className:"max-w-xs text-center text-sm text-gray-600",children:a?"Try adjusting your search or filters.":"No new notifications right now."})]})})}),r.jsxs("div",{className:"border-t border-gray-800/30 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(xs,{className:"h-3 w-3"}),r.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("span",{children:[v.length," shown"]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[l.length," total"]})]})]}),r.jsx(K,{variant:"ghost",className:"mt-3 w-full h-9 text-sm text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>{s(!1),e("/notifications")},children:"View All Notifications"})]})]})]})}function Tse(){return V_.useSyncExternalStore(Ose,()=>!0,()=>!1)}function Ose(){return()=>{}}var LS="Avatar",[Rse,kze]=Bs(LS),[Mse,D$]=Rse(LS),$$=p.forwardRef((e,t)=>{const{__scopeAvatar:s,...a}=e,[n,i]=p.useState("idle");return r.jsx(Mse,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:r.jsx(qe.span,{...a,ref:t})})});$$.displayName=LS;var L$="AvatarImage",z$=p.forwardRef((e,t)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=D$(L$,s),l=Ise(a,i),d=Jr(u=>{n(u),o.onImageLoadingStatusChange(u)});return os(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?r.jsx(qe.img,{...i,ref:t,src:a}):null});z$.displayName=L$;var F$="AvatarFallback",U$=p.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,i=D$(F$,s),[o,l]=p.useState(a===void 0);return p.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(qe.span,{...n,ref:t}):null});U$.displayName=F$;function yE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ise(e,{referrerPolicy:t,crossOrigin:s}){const a=Tse(),n=p.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=p.useState(()=>yE(i,e));return os(()=>{l(yE(i,e))},[i,e]),os(()=>{const d=f=>()=>{l(f)};if(!i)return;const u=d("loaded"),h=d("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,s,t]),o}var B$=$$,W$=z$,V$=U$;const yd=p.forwardRef(({className:e,...t},s)=>r.jsx(B$,{ref:s,className:De("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yd.displayName=B$.displayName;const Qu=p.forwardRef(({className:e,...t},s)=>r.jsx(W$,{ref:s,className:De("aspect-square h-full w-full",e),...t}));Qu.displayName=W$.displayName;const vd=p.forwardRef(({className:e,...t},s)=>r.jsx(V$,{ref:s,className:De("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vd.displayName=V$.displayName;const Y=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("rounded-xl border bg-card text-card-foreground shadow-sm glass-card",e),...t}));Y.displayName="Card";const xe=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("flex flex-col space-y-1.5 p-6",e),...t}));xe.displayName="CardHeader";const ye=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("font-semibold leading-none tracking-tight",e),...t}));ye.displayName="CardTitle";const wt=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("text-sm text-zinc-500 dark:text-zinc-400",e),...t}));wt.displayName="CardDescription";const J=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("p-6 pt-0",e),...t}));J.displayName="CardContent";const q$=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("flex items-center p-6 pt-0",e),...t}));q$.displayName="CardFooter";const Dse="https://api.vapi.ai";class $se{constructor(){Ns(this,"baseURL",Dse);Ns(this,"apiKey",null);Ns(this,"organizationId",null);console.log(" VAPI Service initialized - requires organization credentials to make API calls")}async initializeWithOrganization(t){var s;try{this.organizationId=t;const a=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),n=await fetch(`${window.location.origin}/api/vapi-credentials`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:a?`Bearer ${a}`:""}});if(!n.ok)return console.warn(" Failed to fetch VAPI credentials for organization"),!1;const i=await n.json();return i.hasApiKey&&((s=i.credentials)!=null&&s.vapi_api_key)?(this.apiKey=i.credentials.vapi_api_key,console.log(" VAPI service initialized with organization credentials"),!0):i.hasApiKey?(console.warn(" VAPI API key exists but user lacks permission to view it"),!1):(console.warn(" No VAPI API key configured for this organization"),!1)}catch(a){return console.error(" Error initializing VAPI service with organization:",a),!1}}isInitialized(){return!!(this.apiKey&&this.organizationId)}getOrganizationId(){return this.organizationId}async request(t,s={}){if(!this.isInitialized())throw new Error("VAPI Service not initialized. Call initializeWithOrganization() first.");const a=`${this.baseURL}${t}`,n={Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json",...s.headers};try{const i=await fetch(a,{...s,headers:n});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(`VAPI API Error: ${i.status} - ${o.message||"Unknown error"}`)}return await i.json()}catch(i){throw console.error("VAPI Service Error:",i),i}}async getAssistants(){return this.request("/assistant")}async getAssistant(t){return this.request(`/assistant/${t}`)}async createAssistant(t){return this.request("/assistant",{method:"POST",body:JSON.stringify(t)})}async updateAssistant(t,s){return this.request(`/assistant/${t}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteAssistant(t){await this.request(`/assistant/${t}`,{method:"DELETE"})}async getCalls(t){const s=new URLSearchParams;t&&Object.entries(t).forEach(([n,i])=>{i&&s.append(n,i.toString())});const a=s.toString();return this.request(`/call${a?`?${a}`:""}`)}async getCall(t){return this.request(`/call/${t}`)}async createCall(t){return this.request("/call",{method:"POST",body:JSON.stringify(t)})}async getPhoneNumbers(){return this.request("/phone-number")}async getPhoneNumber(t){return this.request(`/phone-number/${t}`)}async getCallAnalytics(t){const s=await this.getCalls(t);return this.aggregateCallData(s)}aggregateCallData(t){const s=t.length,a=t.filter(u=>u.status==="ended"&&u.duration&&u.duration>30).length,n=t.reduce((u,h)=>u+(h.duration||0),0),i=t.reduce((u,h)=>u+(h.cost||0),0),o=t.reduce((u,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.sentiment)||"neutral";return u[f]++,u},{positive:0,negative:0,neutral:0}),l=t.reduce((u,h)=>{var g;const f=((g=h.analysis)==null?void 0:g.outcome)||"unknown";return u[f]=(u[f]||0)+1,u},{}),d=Array.from({length:24},(u,h)=>({hour:h,count:t.filter(f=>f.startedAt?new Date(f.startedAt).getHours()===h:!1).length}));return{totalCalls:s,successfulCalls:a,averageDuration:n/(s||1),totalCost:i,sentimentBreakdown:o,outcomeBreakdown:l,callsByHour:d,conversionRate:a/(s||1)*100}}async verifyWebhook(t,s,a){try{const i=(await pn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).createHmac("sha256",a).update(s).digest("hex");return t===i}catch{return!1}}async subscribeToCallUpdates(t,s){const a=setInterval(async()=>{try{const n=await this.getCall(t);s({type:"status-update",call:n,timestamp:new Date().toISOString()})}catch(n){console.error("Error polling call updates:",n)}},2e3);return()=>clearInterval(a)}scoreLeadFromCall(t){var n,i,o,l;let s=50;const a=[];if(t.duration&&(t.duration>300?(s+=20,a.push({factor:"Long Call Duration",impact:20,description:"Engaged in lengthy conversation"})):t.duration>120?(s+=10,a.push({factor:"Good Call Duration",impact:10,description:"Reasonable conversation length"})):t.duration<30&&(s-=15,a.push({factor:"Short Call Duration",impact:-15,description:"Very brief interaction"}))),((n=t.analysis)==null?void 0:n.sentiment)==="positive"?(s+=15,a.push({factor:"Positive Sentiment",impact:15,description:"Showed positive attitude during call"})):((i=t.analysis)==null?void 0:i.sentiment)==="negative"&&(s-=10,a.push({factor:"Negative Sentiment",impact:-10,description:"Expressed negative sentiment"})),(o=t.analysis)!=null&&o.followUpRequired&&(s+=10,a.push({factor:"Follow-up Interest",impact:10,description:"Expressed interest in follow-up"})),(l=t.analysis)!=null&&l.intent){const d=t.analysis.intent.toLowerCase();d.includes("purchase")||d.includes("buy")?(s+=25,a.push({factor:"Purchase Intent",impact:25,description:"Showed buying intent"})):(d.includes("interested")||d.includes("learn"))&&(s+=15,a.push({factor:"Learning Intent",impact:15,description:"Interested in learning more"}))}return{score:Math.max(0,Math.min(100,s)),factors:a}}async launchCampaign(t){const s=t.leads.length;return{success:!0,campaignId:`campaign_${Date.now()}`,scheduledCalls:s}}async launchProductionCampaign(t){if(!t.leads||t.leads.length===0)throw new Error("No leads provided for campaign");if(!this.apiKey)throw new Error("VAPI API key not configured");return this.launchCampaign(t)}}const E1=new $se;function Lse(){var v,b,N;const e=br(),{signOut:t}=en(),{user:s}=Od(),{userContext:a}=po(),{addNotification:n}=bm(),[i,o]=p.useState(!1),[l,d]=p.useState({credits:0,totalCalls:0,monthlySpend:0,lastSync:new Date,status:"disconnected",accounts:[]}),[u,h]=p.useState(!1),f=async()=>{h(!0);try{const S=await E1.getCalls({limit:100}),_=await E1.getCallAnalytics();d({credits:0,totalCalls:_.totalCalls||0,monthlySpend:_.totalCost||0,lastSync:new Date,status:"connected",accounts:[]})}catch(S){console.error("Failed to sync Apex data:",S),d(_=>({..._,status:"error"}))}finally{h(!1)}};p.useEffect(()=>{},[]);const g=async()=>{try{await t(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}catch(S){console.error("Sign out error:",S),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},y=()=>{switch(l.status){case"connected":return r.jsx(yt,{className:"h-3 w-3 text-gray-400"});case"syncing":return r.jsx(ea,{className:"h-3 w-3 animate-spin text-blue-400"});case"error":return r.jsx(Dt,{className:"h-3 w-3 text-red-400"});default:return r.jsx(Dt,{className:"h-3 w-3 text-gray-400"})}},w=()=>{const S=new Date().getHours(),_=(a==null?void 0:a.firstName)||(s==null?void 0:s.firstName)||"User";return S<12?`Good morning, ${_}!`:S<17?`Good afternoon, ${_}!`:`Good evening, ${_}!`};return r.jsxs(Pi,{open:i,onOpenChange:o,children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",className:De("relative h-10 rounded-lg px-3 transition-all duration-200","hover:bg-gray-800 focus:bg-gray-800 focus:ring-2 focus:ring-gray-500/20",i&&"bg-gray-800"),children:r.jsxs("div",{className:"flex items-center space-x-2 max-w-[200px]",children:[r.jsxs(yd,{className:"h-8 w-8 ring-2 ring-gray-700 transition-all hover:ring-gray-500/50 flex-shrink-0",children:[r.jsx(Qu,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),r.jsx(vd,{className:"bg-gray-600 font-medium text-white",children:((v=s==null?void 0:s.firstName)==null?void 0:v[0])||"U"})]}),r.jsxs("div",{className:"hidden flex-col items-start lg:flex min-w-0 flex-1",children:[r.jsx("span",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:(s==null?void 0:s.firstName)||"User"}),r.jsx("span",{className:"text-xs text-gray-400 truncate max-w-[100px]",children:(a==null?void 0:a.role)||"User"})]}),r.jsx(Yr,{className:De("h-4 w-4 text-gray-400 transition-transform duration-200 flex-shrink-0",i&&"rotate-180")})]})})}),r.jsxs(Jn,{className:"w-80 border-gray-700 bg-gray-900/95 p-0 shadow-xl",align:"end",children:[r.jsx("div",{className:"border-b border-gray-700 bg-gradient-to-r from-gray-600/10 to-gray-700/10 p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(yd,{className:"h-12 w-12 ring-2 ring-gray-500/30",children:[r.jsx(Qu,{src:s==null?void 0:s.imageUrl,alt:(s==null?void 0:s.fullName)||""}),r.jsx(vd,{className:"bg-gray-600 text-lg font-bold text-white",children:((b=s==null?void 0:s.firstName)==null?void 0:b[0])||"U"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-base font-medium text-white",children:w()}),r.jsx("p",{className:"text-sm text-gray-300",children:s==null?void 0:s.fullName}),r.jsx("p",{className:"text-xs text-gray-400",children:(N=s==null?void 0:s.primaryEmailAddress)==null?void 0:N.emailAddress}),r.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[r.jsx(ke,{variant:"outline",className:"border-gray-500/30 text-xs text-gray-400",children:(a==null?void 0:a.role)||"User"}),(a==null?void 0:a.organizationName)&&r.jsxs(ke,{variant:"outline",className:"border-blue-500/30 text-xs text-blue-400",children:[r.jsx(tr,{className:"mr-1 h-3 w-3"}),a.organizationName]})]})]})]})}),r.jsxs("div",{className:"border-b border-gray-700 p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:"Account Overview"}),r.jsxs(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-gray-400 hover:text-white",onClick:f,disabled:u,children:[u?r.jsx(ea,{className:"h-3 w-3 animate-spin"}):r.jsx(ea,{className:"h-3 w-3"}),"Sync"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total Credits"}),r.jsx("p",{className:"text-lg font-bold text-gray-400",children:l.credits>0?l.credits.toLocaleString():"N/A"})]}),r.jsx(Hr,{className:"h-5 w-5 text-gray-400"})]})})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-lg font-bold text-blue-400",children:l.totalCalls>0?l.totalCalls.toLocaleString():"N/A"})]}),r.jsx(dt,{className:"h-5 w-5 text-blue-400"})]})})})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[y(),r.jsxs("span",{className:"text-gray-400",children:["Apex Status:"," ",l.status==="connected"?"Connected":l.status==="syncing"?"Syncing...":l.status==="error"?"Connection Error":"Disconnected"]})]}),r.jsxs("span",{className:"text-gray-500",children:["Last sync: ",l.lastSync.toLocaleTimeString()]})]}),l.accounts.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"mb-2 text-xs text-gray-400",children:"Connected Accounts"}),r.jsx("div",{className:"space-y-1",children:l.accounts.map(S=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-300",children:S.name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-400",children:S.credits.toLocaleString()}),r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"text-blue-400",children:S.calls})]})]},S.id))})]})]}),r.jsxs("div",{className:"p-2",children:[r.jsxs(lse,{children:[r.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/api-keys"),o(!1)},children:[r.jsx(Xl,{className:"mr-3 h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-200",children:"API Keys"})]}),r.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/billing"),o(!1)},children:[r.jsx(Yn,{className:"mr-3 h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-200",children:"Billing & Credits"})]}),(a==null?void 0:a.role)==="platform_owner"&&r.jsxs(r.Fragment,{children:[r.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/platform"),o(!1)},children:[r.jsx(Jf,{className:"mr-3 h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-gray-200",children:"Platform Admin"})]}),r.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800 focus:bg-gray-800",onClick:()=>{e("/system-health"),o(!1)},children:[r.jsx(ya,{className:"mr-3 h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-200",children:"Security & Health"})]})]}),r.jsxs(Yt,{className:"cursor-pointer hover:bg-gray-800/100 focus:bg-gray-800/100",onClick:()=>{e("/settings"),o(!1)},children:[r.jsx(ls,{className:"mr-3 h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-200",children:"Settings"})]})]}),r.jsx(RS,{className:"my-2 bg-gray-700"}),r.jsxs(Yt,{className:"cursor-pointer text-red-400 hover:bg-red-900/20 focus:bg-red-900/20",onClick:g,children:[r.jsx(cY,{className:"mr-3 h-4 w-4"}),r.jsx("span",{children:"Sign Out"})]})]}),r.jsx("div",{className:"border-t border-gray-700 bg-gray-800/50 p-3",children:r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Apex Platform"}),r.jsxs(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:text-white",onClick:()=>window.open("https://docs.apex.ai","_blank"),children:[r.jsx(Si,{className:"mr-1 h-3 w-3"}),"Docs"]})]})})]})]})}function H$(e,t){return function(){return e.apply(t,arguments)}}const{toString:zse}=Object.prototype,{getPrototypeOf:zS}=Object,{iterator:Py,toStringTag:K$}=Symbol,Ey=(e=>t=>{const s=zse.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=e=>(e=e.toLowerCase(),t=>Ey(t)===e),Ty=e=>t=>typeof t===e,{isArray:_m}=Array,jf=Ty("undefined");function lp(e){return e!==null&&!jf(e)&&e.constructor!==null&&!jf(e.constructor)&&Xa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const G$=Ti("ArrayBuffer");function Fse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&G$(e.buffer),t}const Use=Ty("string"),Xa=Ty("function"),Y$=Ty("number"),cp=e=>e!==null&&typeof e=="object",Bse=e=>e===!0||e===!1,S0=e=>{if(Ey(e)!=="object")return!1;const t=zS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(K$ in e)&&!(Py in e)},Wse=e=>{if(!cp(e)||lp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Vse=Ti("Date"),qse=Ti("File"),Hse=Ti("Blob"),Kse=Ti("FileList"),Gse=e=>cp(e)&&Xa(e.pipe),Yse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xa(e.append)&&((t=Ey(e))==="formdata"||t==="object"&&Xa(e.toString)&&e.toString()==="[object FormData]"))},Jse=Ti("URLSearchParams"),[Xse,Zse,Qse,eae]=["ReadableStream","Request","Response","Headers"].map(Ti),tae=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dp(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),_m(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(lp(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(a=0;a<o;a++)l=i[a],t.call(null,e[l],l,e)}}function J$(e,t){if(lp(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X$=e=>!jf(e)&&e!==Qc;function T1(){const{caseless:e}=X$(this)&&this||{},t={},s=(a,n)=>{const i=e&&J$(t,n)||n;S0(t[i])&&S0(a)?t[i]=T1(t[i],a):S0(a)?t[i]=T1({},a):_m(a)?t[i]=a.slice():t[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&dp(arguments[a],s);return t}const rae=(e,t,s,{allOwnKeys:a}={})=>(dp(t,(n,i)=>{s&&Xa(n)?e[i]=H$(n,s):e[i]=n},{allOwnKeys:a}),e),sae=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),aae=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},nae=(e,t,s,a)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!a||a(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&zS(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},iae=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},oae=e=>{if(!e)return null;if(_m(e))return e;let t=e.length;if(!Y$(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},lae=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zS(Uint8Array)),cae=(e,t)=>{const a=(e&&e[Py]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},dae=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},uae=Ti("HTMLFormElement"),mae=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),vE=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),hae=Ti("RegExp"),Z$=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};dp(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(a[i]=o||n)}),Object.defineProperties(e,a)},fae=e=>{Z$(e,(t,s)=>{if(Xa(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Xa(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},pae=(e,t)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return _m(e)?a(e):a(String(e).split(t)),s},gae=()=>{},xae=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function yae(e){return!!(e&&Xa(e.append)&&e[K$]==="FormData"&&e[Py])}const vae=e=>{const t=new Array(10),s=(a,n)=>{if(cp(a)){if(t.indexOf(a)>=0)return;if(lp(a))return a;if(!("toJSON"in a)){t[n]=a;const i=_m(a)?[]:{};return dp(a,(o,l)=>{const d=s(o,n+1);!jf(d)&&(i[l]=d)}),t[n]=void 0,i}}return a};return s(e,0)},bae=Ti("AsyncFunction"),wae=e=>e&&(cp(e)||Xa(e))&&Xa(e.then)&&Xa(e.catch),Q$=((e,t)=>e?setImmediate:t?((s,a)=>(Qc.addEventListener("message",({source:n,data:i})=>{n===Qc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Qc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Xa(Qc.postMessage)),jae=typeof queueMicrotask<"u"?queueMicrotask.bind(Qc):typeof process<"u"&&process.nextTick||Q$,Nae=e=>e!=null&&Xa(e[Py]),we={isArray:_m,isArrayBuffer:G$,isBuffer:lp,isFormData:Yse,isArrayBufferView:Fse,isString:Use,isNumber:Y$,isBoolean:Bse,isObject:cp,isPlainObject:S0,isEmptyObject:Wse,isReadableStream:Xse,isRequest:Zse,isResponse:Qse,isHeaders:eae,isUndefined:jf,isDate:Vse,isFile:qse,isBlob:Hse,isRegExp:hae,isFunction:Xa,isStream:Gse,isURLSearchParams:Jse,isTypedArray:lae,isFileList:Kse,forEach:dp,merge:T1,extend:rae,trim:tae,stripBOM:sae,inherits:aae,toFlatObject:nae,kindOf:Ey,kindOfTest:Ti,endsWith:iae,toArray:oae,forEachEntry:cae,matchAll:dae,isHTMLForm:uae,hasOwnProperty:vE,hasOwnProp:vE,reduceDescriptors:Z$,freezeMethods:fae,toObjectSet:pae,toCamelCase:mae,noop:gae,toFiniteNumber:xae,findKey:J$,global:Qc,isContextDefined:X$,isSpecCompliantForm:yae,toJSONObject:vae,isAsyncFn:bae,isThenable:wae,setImmediate:Q$,asap:jae,isIterable:Nae};function Pt(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}we.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});const eL=Pt.prototype,tL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tL[e]={value:e}});Object.defineProperties(Pt,tL);Object.defineProperty(eL,"isAxiosError",{value:!0});Pt.from=(e,t,s,a,n,i)=>{const o=Object.create(eL);return we.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Pt.call(o,e.message,t,s,a,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const _ae=null;function O1(e){return we.isPlainObject(e)||we.isArray(e)}function rL(e){return we.endsWith(e,"[]")?e.slice(0,-2):e}function bE(e,t,s){return e?e.concat(t).map(function(n,i){return n=rL(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function Sae(e){return we.isArray(e)&&!e.some(O1)}const Cae=we.toFlatObject(we,{},null,function(t){return/^is[A-Z]/.test(t)});function Oy(e,t,s){if(!we.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=we.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!we.isUndefined(b[v])});const a=s.metaTokens,n=s.visitor||h,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(t);if(!we.isFunction(n))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(we.isDate(w))return w.toISOString();if(we.isBoolean(w))return w.toString();if(!d&&we.isBlob(w))throw new Pt("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(w)||we.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,b){let N=w;if(w&&!b&&typeof w=="object"){if(we.endsWith(v,"{}"))v=a?v:v.slice(0,-2),w=JSON.stringify(w);else if(we.isArray(w)&&Sae(w)||(we.isFileList(w)||we.endsWith(v,"[]"))&&(N=we.toArray(w)))return v=rL(v),N.forEach(function(_,k){!(we.isUndefined(_)||_===null)&&t.append(o===!0?bE([v],k,i):o===null?v:v+"[]",u(_))}),!1}return O1(w)?!0:(t.append(bE(b,v,i),u(w)),!1)}const f=[],g=Object.assign(Cae,{defaultVisitor:h,convertValue:u,isVisitable:O1});function y(w,v){if(!we.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(w),we.forEach(w,function(N,S){(!(we.isUndefined(N)||N===null)&&n.call(t,N,we.isString(S)?S.trim():S,v,g))===!0&&y(N,v?v.concat(S):[S])}),f.pop()}}if(!we.isObject(e))throw new TypeError("data must be an object");return y(e),t}function wE(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function FS(e,t){this._pairs=[],e&&Oy(e,this,t)}const sL=FS.prototype;sL.append=function(t,s){this._pairs.push([t,s])};sL.toString=function(t){const s=t?function(a){return t.call(this,a,wE)}:wE;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function kae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aL(e,t,s){if(!t)return e;const a=s&&s.encode||kae;we.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=we.isURLSearchParams(t)?t.toString():new FS(t,s).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class jE{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){we.forEach(this.handlers,function(a){a!==null&&t(a)})}}const nL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Aae=typeof URLSearchParams<"u"?URLSearchParams:FS,Pae=typeof FormData<"u"?FormData:null,Eae=typeof Blob<"u"?Blob:null,Tae={isBrowser:!0,classes:{URLSearchParams:Aae,FormData:Pae,Blob:Eae},protocols:["http","https","file","blob","url","data"]},US=typeof window<"u"&&typeof document<"u",R1=typeof navigator=="object"&&navigator||void 0,Oae=US&&(!R1||["ReactNative","NativeScript","NS"].indexOf(R1.product)<0),Rae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mae=US&&window.location.href||"http://localhost",Iae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:US,hasStandardBrowserEnv:Oae,hasStandardBrowserWebWorkerEnv:Rae,navigator:R1,origin:Mae},Symbol.toStringTag,{value:"Module"})),pa={...Iae,...Tae};function Dae(e,t){return Oy(e,new pa.classes.URLSearchParams,{visitor:function(s,a,n,i){return pa.isNode&&we.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function $ae(e){return we.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Lae(e){const t={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],t[i]=e[i];return t}function iL(e){function t(s,a,n,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&we.isArray(n)?n.length:o,d?(we.hasOwnProp(n,o)?n[o]=[n[o],a]:n[o]=a,!l):((!n[o]||!we.isObject(n[o]))&&(n[o]=[]),t(s,a,n[o],i)&&we.isArray(n[o])&&(n[o]=Lae(n[o])),!l)}if(we.isFormData(e)&&we.isFunction(e.entries)){const s={};return we.forEachEntry(e,(a,n)=>{t($ae(a),n,s,0)}),s}return null}function zae(e,t,s){if(we.isString(e))try{return(t||JSON.parse)(e),we.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const up={transitional:nL,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=we.isObject(t);if(i&&we.isHTMLForm(t)&&(t=new FormData(t)),we.isFormData(t))return n?JSON.stringify(iL(t)):t;if(we.isArrayBuffer(t)||we.isBuffer(t)||we.isStream(t)||we.isFile(t)||we.isBlob(t)||we.isReadableStream(t))return t;if(we.isArrayBufferView(t))return t.buffer;if(we.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Dae(t,this.formSerializer).toString();if((l=we.isFileList(t))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Oy(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),zae(t)):t}],transformResponse:[function(t){const s=this.transitional||up.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(we.isResponse(t)||we.isReadableStream(t))return t;if(t&&we.isString(t)&&(a&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Pt.from(l,Pt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pa.classes.FormData,Blob:pa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],e=>{up.headers[e]={}});const Fae=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uae=e=>{const t={};let s,a,n;return e&&e.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),a=o.substring(n+1).trim(),!(!s||t[s]&&Fae[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},NE=Symbol("internals");function Ah(e){return e&&String(e).trim().toLowerCase()}function C0(e){return e===!1||e==null?e:we.isArray(e)?e.map(C0):String(e)}function Bae(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const Wae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xw(e,t,s,a,n){if(we.isFunction(a))return a.call(this,t,s);if(n&&(t=s),!!we.isString(t)){if(we.isString(a))return t.indexOf(a)!==-1;if(we.isRegExp(a))return a.test(t)}}function Vae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function qae(e,t){const s=we.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,o){return this[a].call(this,t,n,i,o)},configurable:!0})})}let Za=class{constructor(t){t&&this.set(t)}set(t,s,a){const n=this;function i(l,d,u){const h=Ah(d);if(!h)throw new Error("header name must be a non-empty string");const f=we.findKey(n,h);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||d]=C0(l))}const o=(l,d)=>we.forEach(l,(u,h)=>i(u,h,d));if(we.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(we.isString(t)&&(t=t.trim())&&!Wae(t))o(Uae(t),s);else if(we.isObject(t)&&we.isIterable(t)){let l={},d,u;for(const h of t){if(!we.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(d=l[u])?we.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,s)}else t!=null&&i(s,t,a);return this}get(t,s){if(t=Ah(t),t){const a=we.findKey(this,t);if(a){const n=this[a];if(!s)return n;if(s===!0)return Bae(n);if(we.isFunction(s))return s.call(this,n,a);if(we.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ah(t),t){const a=we.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||Xw(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let n=!1;function i(o){if(o=Ah(o),o){const l=we.findKey(a,o);l&&(!s||Xw(a,a[l],l,s))&&(delete a[l],n=!0)}}return we.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!t||Xw(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,a={};return we.forEach(this,(n,i)=>{const o=we.findKey(a,i);if(o){s[o]=C0(n),delete s[i];return}const l=t?Vae(i):String(i).trim();l!==i&&delete s[i],s[l]=C0(n),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return we.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=t&&we.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[NE]=this[NE]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=Ah(o);a[l]||(qae(n,o),a[l]=!0)}return we.isArray(t)?t.forEach(i):i(t),this}};Za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(Za.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});we.freezeMethods(Za);function Zw(e,t){const s=this||up,a=t||s,n=Za.from(a.headers);let i=a.data;return we.forEach(e,function(l){i=l.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function oL(e){return!!(e&&e.__CANCEL__)}function Sm(e,t,s){Pt.call(this,e??"canceled",Pt.ERR_CANCELED,t,s),this.name="CanceledError"}we.inherits(Sm,Pt,{__CANCEL__:!0});function lL(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new Pt("Request failed with status code "+s.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Hae(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Kae(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),h=a[i];o||(o=u),s[n]=d,a[n]=u;let f=i,g=0;for(;f!==n;)g+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),u-o<t)return;const y=h&&u-h;return y?Math.round(g*1e3/y):void 0}}function Gae(e,t){let s=0,a=1e3/t,n,i;const o=(u,h=Date.now())=>{s=h,n=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const h=Date.now(),f=h-s;f>=a?o(u,h):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},a-f)))},()=>n&&o(n)]}const rx=(e,t,s=3)=>{let a=0;const n=Kae(50,250);return Gae(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-a,u=n(d),h=o<=l;a=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},_E=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},SE=e=>(...t)=>we.asap(()=>e(...t)),Yae=pa.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,pa.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(pa.origin),pa.navigator&&/(msie|trident)/i.test(pa.navigator.userAgent)):()=>!0,Jae=pa.hasStandardBrowserEnv?{write(e,t,s,a,n,i){const o=[e+"="+encodeURIComponent(t)];we.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),we.isString(a)&&o.push("path="+a),we.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zae(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cL(e,t,s){let a=!Xae(t);return e&&(a||s==!1)?Zae(e,t):t}const CE=e=>e instanceof Za?{...e}:e;function bd(e,t){t=t||{};const s={};function a(u,h,f,g){return we.isPlainObject(u)&&we.isPlainObject(h)?we.merge.call({caseless:g},u,h):we.isPlainObject(h)?we.merge({},h):we.isArray(h)?h.slice():h}function n(u,h,f,g){if(we.isUndefined(h)){if(!we.isUndefined(u))return a(void 0,u,f,g)}else return a(u,h,f,g)}function i(u,h){if(!we.isUndefined(h))return a(void 0,h)}function o(u,h){if(we.isUndefined(h)){if(!we.isUndefined(u))return a(void 0,u)}else return a(void 0,h)}function l(u,h,f){if(f in t)return a(u,h);if(f in e)return a(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,f)=>n(CE(u),CE(h),f,!0)};return we.forEach(Object.keys({...e,...t}),function(h){const f=d[h]||n,g=f(e[h],t[h],h);we.isUndefined(g)&&f!==l||(s[h]=g)}),s}const dL=e=>{const t=bd({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Za.from(o),t.url=aL(cL(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(we.isFormData(s)){if(pa.hasStandardBrowserEnv||pa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...h]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(pa.hasStandardBrowserEnv&&(a&&we.isFunction(a)&&(a=a(t)),a||a!==!1&&Yae(t.url))){const u=n&&i&&Jae.read(i);u&&o.set(n,u)}return t},Qae=typeof XMLHttpRequest<"u",ene=Qae&&function(e){return new Promise(function(s,a){const n=dL(e);let i=n.data;const o=Za.from(n.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=n,h,f,g,y,w;function v(){y&&y(),w&&w(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function N(){if(!b)return;const _=Za.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:e,request:b};lL(function(E){s(E),v()},function(E){a(E),v()},T),b=null}"onloadend"in b?b.onloadend=N:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(N)},b.onabort=function(){b&&(a(new Pt("Request aborted",Pt.ECONNABORTED,e,b)),b=null)},b.onerror=function(){a(new Pt("Network Error",Pt.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||nL;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),a(new Pt(k,T.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&we.forEach(o.toJSON(),function(k,T){b.setRequestHeader(T,k)}),we.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),l&&l!=="json"&&(b.responseType=n.responseType),u&&([g,w]=rx(u,!0),b.addEventListener("progress",g)),d&&b.upload&&([f,y]=rx(d),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(h=_=>{b&&(a(!_||_.type?new Sm(null,e,b):_),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const S=Hae(n.url);if(S&&pa.protocols.indexOf(S)===-1){a(new Pt("Unsupported protocol "+S+":",Pt.ERR_BAD_REQUEST,e));return}b.send(i||null)})},tne=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,n;const i=function(u){if(!n){n=!0,l();const h=u instanceof Error?u:this.reason;a.abort(h instanceof Pt?h:new Sm(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new Pt(`timeout ${t} of ms exceeded`,Pt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>we.asap(l),d}},rne=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,n;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},sne=async function*(e,t){for await(const s of ane(e))yield*rne(s,t)},ane=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},kE=(e,t,s,a)=>{const n=sne(e,t);let i=0,o,l=d=>{o||(o=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await n.next();if(u){l(),d.close();return}let f=h.byteLength;if(s){let g=i+=f;s(g)}d.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(d){return l(d),n.return()}},{highWaterMark:2})},Ry=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uL=Ry&&typeof ReadableStream=="function",nne=Ry&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ine=uL&&mL(()=>{let e=!1;const t=new Request(pa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),AE=64*1024,M1=uL&&mL(()=>we.isReadableStream(new Response("").body)),sx={stream:M1&&(e=>e.body)};Ry&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!sx[t]&&(sx[t]=we.isFunction(e[t])?s=>s[t]():(s,a)=>{throw new Pt(`Response type '${t}' is not supported`,Pt.ERR_NOT_SUPPORT,a)})})})(new Response);const one=async e=>{if(e==null)return 0;if(we.isBlob(e))return e.size;if(we.isSpecCompliantForm(e))return(await new Request(pa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(we.isArrayBufferView(e)||we.isArrayBuffer(e))return e.byteLength;if(we.isURLSearchParams(e)&&(e=e+""),we.isString(e))return(await nne(e)).byteLength},lne=async(e,t)=>{const s=we.toFiniteNumber(e.getContentLength());return s??one(t)},cne=Ry&&(async e=>{let{url:t,method:s,data:a,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:g}=dL(e);u=u?(u+"").toLowerCase():"text";let y=tne([n,i&&i.toAbortSignal()],o),w;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let b;try{if(d&&ine&&s!=="get"&&s!=="head"&&(b=await lne(h,a))!==0){let T=new Request(t,{method:"POST",body:a,duplex:"half"}),A;if(we.isFormData(a)&&(A=T.headers.get("content-type"))&&h.setContentType(A),T.body){const[E,R]=_E(b,rx(SE(d)));a=kE(T.body,AE,E,R)}}we.isString(f)||(f=f?"include":"omit");const N="credentials"in Request.prototype;w=new Request(t,{...g,signal:y,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:N?f:void 0});let S=await fetch(w,g);const _=M1&&(u==="stream"||u==="response");if(M1&&(l||_&&v)){const T={};["status","statusText","headers"].forEach(z=>{T[z]=S[z]});const A=we.toFiniteNumber(S.headers.get("content-length")),[E,R]=l&&_E(A,rx(SE(l),!0))||[];S=new Response(kE(S.body,AE,E,()=>{R&&R(),v&&v()}),T)}u=u||"text";let k=await sx[we.findKey(sx,u)||"text"](S,e);return!_&&v&&v(),await new Promise((T,A)=>{lL(T,A,{data:k,headers:Za.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:w})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,e,w),{cause:N.cause||N}):Pt.from(N,N&&N.code,e,w)}}),I1={http:_ae,xhr:ene,fetch:cne};we.forEach(I1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const PE=e=>`- ${e}`,dne=e=>we.isFunction(e)||e===null||e===!1,hL={getAdapter:e=>{e=we.isArray(e)?e:[e];const{length:t}=e;let s,a;const n={};for(let i=0;i<t;i++){s=e[i];let o;if(a=s,!dne(s)&&(a=I1[(o=String(s)).toLowerCase()],a===void 0))throw new Pt(`Unknown adapter '${o}'`);if(a)break;n[o||"#"+i]=a}if(!a){const i=Object.entries(n).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(PE).join(`
`):" "+PE(i[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:I1};function Qw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sm(null,e)}function EE(e){return Qw(e),e.headers=Za.from(e.headers),e.data=Zw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hL.getAdapter(e.adapter||up.adapter)(e).then(function(a){return Qw(e),a.data=Zw.call(e,e.transformResponse,a),a.headers=Za.from(a.headers),a},function(a){return oL(a)||(Qw(e),a&&a.response&&(a.response.data=Zw.call(e,e.transformResponse,a.response),a.response.headers=Za.from(a.response.headers))),Promise.reject(a)})}const fL="1.11.0",My={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{My[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const TE={};My.transitional=function(t,s,a){function n(i,o){return"[Axios v"+fL+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(t===!1)throw new Pt(n(o," has been removed"+(s?" in "+s:"")),Pt.ERR_DEPRECATED);return s&&!TE[o]&&(TE[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};My.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function une(e,t,s){if(typeof e!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new Pt("option "+i+" must be "+d,Pt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Pt("Unknown option "+i,Pt.ERR_BAD_OPTION)}}const k0={assertOptions:une,validators:My},Vi=k0.validators;let id=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jE,response:new jE}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=bd(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&k0.assertOptions(a,{silentJSONParsing:Vi.transitional(Vi.boolean),forcedJSONParsing:Vi.transitional(Vi.boolean),clarifyTimeoutError:Vi.transitional(Vi.boolean)},!1),n!=null&&(we.isFunction(n)?s.paramsSerializer={serialize:n}:k0.assertOptions(n,{encode:Vi.function,serialize:Vi.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),k0.assertOptions(s,{baseUrl:Vi.spelling("baseURL"),withXsrfToken:Vi.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&we.merge(i.common,i[s.method]);i&&we.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=Za.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(d=d&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,f=0,g;if(!d){const w=[EE.bind(this),void 0];for(w.unshift(...l),w.push(...u),g=w.length,h=Promise.resolve(s);f<g;)h=h.then(w[f++],w[f++]);return h}g=l.length;let y=s;for(f=0;f<g;){const w=l[f++],v=l[f++];try{y=w(y)}catch(b){v.call(this,b);break}}try{h=EE.call(this,y)}catch(w){return Promise.reject(w)}for(f=0,g=u.length;f<g;)h=h.then(u[f++],u[f++]);return h}getUri(t){t=bd(this.defaults,t);const s=cL(t.baseURL,t.url,t.allowAbsoluteUrls);return aL(s,t.params,t.paramsSerializer)}};we.forEach(["delete","get","head","options"],function(t){id.prototype[t]=function(s,a){return this.request(bd(a||{},{method:t,url:s,data:(a||{}).data}))}});we.forEach(["post","put","patch"],function(t){function s(a){return function(i,o,l){return this.request(bd(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}id.prototype[t]=s(),id.prototype[t+"Form"]=s(!0)});let mne=class pL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(n);return o.cancel=function(){a.unsubscribe(i)},o},t(function(i,o,l){a.reason||(a.reason=new Sm(i,o,l),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new pL(function(n){t=n}),cancel:t}}};function hne(e){return function(s){return e.apply(null,s)}}function fne(e){return we.isObject(e)&&e.isAxiosError===!0}const D1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(D1).forEach(([e,t])=>{D1[t]=e});function gL(e){const t=new id(e),s=H$(id.prototype.request,t);return we.extend(s,id.prototype,t,{allOwnKeys:!0}),we.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return gL(bd(e,n))},s}const Zr=gL(up);Zr.Axios=id;Zr.CanceledError=Sm;Zr.CancelToken=mne;Zr.isCancel=oL;Zr.VERSION=fL;Zr.toFormData=Oy;Zr.AxiosError=Pt;Zr.Cancel=Zr.CanceledError;Zr.all=function(t){return Promise.all(t)};Zr.spread=hne;Zr.isAxiosError=fne;Zr.mergeConfig=bd;Zr.AxiosHeaders=Za;Zr.formToJSON=e=>iL(we.isHTMLForm(e)?new FormData(e):e);Zr.getAdapter=hL.getAdapter;Zr.HttpStatusCode=D1;Zr.default=Zr;const{Axios:Eze,AxiosError:Tze,CanceledError:Oze,isCancel:Rze,CancelToken:Mze,VERSION:Ize,all:Dze,Cancel:$ze,isAxiosError:Lze,spread:zze,toFormData:Fze,AxiosHeaders:Uze,HttpStatusCode:Bze,formToJSON:Wze,getAdapter:Vze,mergeConfig:qze}=Zr,pne=window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com"),gne=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",xL="/api";console.log(" API Connected to:",xL,pne?"(via Netlify redirects to Vercel)":gne?"(local dev)":"(fallback)");const xne=5e3,yne=1,yL=1e3;class vne extends Error{constructor(t,s,a,n){super(t),this.status=s,this.code=a,this.details=n,this.name="ApiError"}}const vL=e=>new Promise(t=>setTimeout(t,e)),bne=e=>{if(!e.response)return!0;const t=e.response.status;return t>=500||t===429},bL=async(e,t,s=0)=>{try{return await e(t)}catch(a){const n=a;if(s<yne&&bne(n)){const i=yL*Math.pow(2,s);return await vL(i),bL(e,t,s+1)}throw a}},wL=e=>{const t=Zr.create({baseURL:xL,timeout:xne,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(async s=>{let a=null;console.log(" API Client: Getting token...");{try{if(window.Clerk&&window.Clerk.session){const n=await window.Clerk.session.getToken();n&&(a=n,console.log(" API Client: Got Clerk token from window.Clerk"))}else e&&(a=await e(),console.log(" API Client: Got Clerk token from getToken"))}catch(n){console.warn(" Failed to get Clerk token:",n)}if(!a)try{const n=dS(),{data:{session:i}}=await n.auth.getSession();i!=null&&i.access_token?(a=i.access_token,console.log(" API Client: Got Supabase token:","***EXISTS***")):console.warn(" API Client: No Supabase session found")}catch(n){console.error(" API Client: Error getting Supabase session:",n)}a||console.warn(" No authentication token available in production mode")}return a?(s.headers.Authorization=`Bearer ${a}`,console.log(" API Client: Set Authorization header with token:",a),console.log(" API Client: Full request config:",{url:s.url,method:s.method,headers:s.headers})):console.warn(" No authentication token available - user needs to sign in"),s},s=>(console.error(" Request Error:",s),Promise.reject(s))),t.interceptors.response.use(s=>s,async s=>{var o,l,d,u,h,f;const a=s.config;if(((o=s.response)==null?void 0:o.status)===401&&!a._retry)return a._retry=!0,console.error(" Dev Mode: 401 error - continuing without redirect"),Promise.reject(s);if(((l=s.response)==null?void 0:l.status)===429){const g=s.response.headers["retry-after"],y=g?parseInt(g)*1e3:yL;return await vL(y),bL(t,a)}const n=(d=s.response)==null?void 0:d.data,i=new vne((n==null?void 0:n.message)||s.message||"An unexpected error occurred",(u=s.response)==null?void 0:u.status,n==null?void 0:n.code,n);return console.error(" API Error:",{message:i.message,status:i.status,code:i.code,url:(h=s.config)==null?void 0:h.url,method:(f=s.config)==null?void 0:f.method}),Promise.reject(i)}),t},_r=wL(),mp=()=>{const{getToken:e}=en();return wL(e)},jL={get:async(e,t)=>(await _r.get(e,t)).data.data,post:async(e,t,s)=>(await _r.post(e,t,s)).data.data,put:async(e,t,s)=>(await _r.put(e,t,s)).data.data,patch:async(e,t,s)=>(await _r.patch(e,t,s)).data.data,delete:async(e,t)=>(await _r.delete(e,t)).data.data,getPaginated:async(e,t,s)=>(await _r.get(e,{...s,params:{page:1,limit:10,...t}})).data,uploadFile:async(e,t,s,a)=>{const n=new FormData;return n.append("file",t),a&&Object.entries(a).forEach(([o,l])=>{n.append(o,l)}),(await _r.post(e,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(s&&o.total){const l={loaded:o.loaded,total:o.total,percentage:Math.round(o.loaded*100/o.total)};s(l)}}})).data},downloadFile:async(e,t)=>{const s=await _r.get(e,{responseType:"blob"}),a=new Blob([s.data]),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=t||"download",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}},wne=Yf("relative w-full rounded-lg border border-zinc-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-zinc-950 [&>svg~*]:pl-7 dark:border-zinc-800 dark:[&>svg]:text-zinc-50",{variants:{variant:{default:"bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),Wt=p.forwardRef(({className:e,variant:t,...s},a)=>r.jsx("div",{ref:a,role:"alert",className:De(wne({variant:t}),e),...s}));Wt.displayName="Alert";const NL=p.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:De("mb-1 font-medium leading-none tracking-tight",e),...t}));NL.displayName="AlertTitle";const Vt=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:De("text-sm [&_p]:leading-relaxed",e),...t}));Vt.displayName="AlertDescription";const jne=({onSuccess:e})=>{const{user:t}=en(),[s,a]=p.useState(""),[n,i]=p.useState(!1),[o,l]=p.useState(null),[d,u]=p.useState(!1),h=async()=>{if(!s.trim()){l("Please enter your VAPI Private Key");return}i(!0),l(null);try{await jL.post("/onboarding/verify-key",{apiKey:s.trim(),organizationId:t==null?void 0:t.organization_id,orgName:(t==null?void 0:t.organizationName)||`${t==null?void 0:t.firstName}'s Org`}),u(!0),setTimeout(()=>{window.location.reload()},1500)}catch(f){console.error("Verification failed:",f),l(f.message||"Failed to verify API Key. Is it active?")}finally{i(!1)}};return d?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",children:r.jsx(Y,{className:"w-full max-w-md border-emerald-500/50 bg-black shadow-[0_0_50px_rgba(16,185,129,0.2)]",children:r.jsxs(J,{className:"pt-10 pb-10 flex flex-col items-center text-center",children:[r.jsx("div",{className:"rounded-full bg-emerald-500/10 p-4 mb-4",children:r.jsx(as,{className:"h-12 w-12 text-emerald-500 animate-bounce"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"System Online"}),r.jsx("p",{className:"text-gray-400",children:"Initializing your Command Center..."})]})})}):r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:r.jsxs(Y,{className:"w-full max-w-lg border-emerald-500/30 bg-gray-950 text-white shadow-2xl",children:[r.jsxs(xe,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:r.jsx(Xl,{className:"h-6 w-6 text-emerald-500"})}),r.jsx(ye,{className:"text-xl font-bold tracking-tight",children:"Connect VAPI"})]}),r.jsx(wt,{className:"text-gray-400",children:"To activate your Trinity workspace, please provide your VAPI Private API Key. This key allows us to provision your AI assistants."})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"VAPI Private Key"}),r.jsx(Ae,{type:"password",placeholder:"sk_...",value:s,onChange:f=>a(f.target.value),className:"bg-gray-900 border-gray-800 focus:border-emerald-500 font-mono"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["You can find this in your ",r.jsx("a",{href:"https://dashboard.vapi.ai/settings/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 hover:underline",children:"VAPI Dashboard settings"}),"."]})]}),o&&r.jsx(Wt,{variant:"destructive",className:"bg-red-500/10 border-red-500/50 text-red-200",children:r.jsx(Vt,{children:o})})]}),r.jsxs(q$,{className:"flex justify-between border-t border-gray-800 pt-6",children:[r.jsx(K,{variant:"ghost",onClick:()=>window.location.href="https://vapi.ai",className:"text-gray-500 hover:text-white",children:"Don't have an account?"}),r.jsx(K,{onClick:h,disabled:n||!s,className:"bg-emerald-600 hover:bg-emerald-500 text-white min-w-[120px]",children:n?r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}):"Connect & Initialize"})]})]})})},Nne=[{title:"Platform Overview",titleKey:"platform_overview",url:"/platform",icon:my,isActive:e=>e==="/platform"||e==="/platform-owner"},{title:"Organizations",titleKey:"organizations",url:"/organizations",icon:tr,isActive:e=>e==="/organizations"||e.startsWith("/organization")},{title:"User Management",titleKey:"user_management",url:"/user-management",icon:Gu,isActive:e=>e==="/user-management"},{title:"Platform Analytics",titleKey:"platform_analytics",url:"/platform-analytics",icon:Ia,isActive:e=>e==="/platform-analytics"},{title:"Support Tickets",titleKey:"support_tickets",url:"/support-tickets",icon:pf,isActive:e=>e==="/support-tickets"},{title:"System Health",titleKey:"system_health",url:"/system-health",icon:xs,isActive:e=>e==="/system-health"},{title:"Security & Audit",titleKey:"security_audit",url:"/audit-logs",icon:ya,isActive:e=>e==="/audit-logs"}],_ne=[{title:"Agency Dashboard",titleKey:"agency_dashboard",url:"/agency",icon:my,isActive:e=>e==="/agency"},{title:"Client Management",titleKey:"client_management",url:"/clients",icon:tr,isActive:e=>e==="/clients"||e.startsWith("/client/")},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:Sr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:Ia,isActive:e=>e==="/analytics"},{title:"Team",titleKey:"team",url:"/team-management",icon:Ot,isActive:e=>e==="/team-management"},{title:"Billing",titleKey:"billing",url:"/billing",icon:Yn,isActive:e=>e==="/billing"},{title:"Settings",titleKey:"settings",url:"/settings",icon:ls,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],Sne=[{title:"Dashboard",titleKey:"dashboard",url:"/dashboard",icon:my,isActive:e=>e==="/dashboard"},{title:"Campaigns",titleKey:"campaigns",url:"/campaigns",icon:Sr,isActive:e=>e==="/campaigns"||e.startsWith("/campaigns/")},{title:"CRM",titleKey:"crm",url:"/crm",icon:dy,isActive:e=>e==="/crm"},{title:"Appointments",titleKey:"appointments",url:"/appointments",icon:is,isActive:e=>e==="/appointments"},{title:"All Calls",titleKey:"all_calls",url:"/all-calls",icon:I0,isActive:e=>e==="/all-calls"},{title:"Live Monitor",titleKey:"live_monitor",url:"/live-calls",icon:hY,isActive:e=>e==="/live-calls"},{title:"Analytics",titleKey:"analytics",url:"/analytics",icon:Ia,isActive:e=>e==="/analytics"},{title:"Cost Analytics",titleKey:"cost_analytics",url:"/cost-analytics",icon:Hr,isActive:e=>e==="/cost-analytics"},{title:"Team",titleKey:"team_management",url:"/team-management",icon:Ot,isActive:e=>e==="/team-management"},{title:"Organization",titleKey:"organization",url:"/organization-settings",icon:tr,isActive:e=>e==="/organization-settings",adminOnly:!0},{title:"Settings",titleKey:"settings",url:"/settings",icon:ls,isActive:e=>e==="/settings"||e.startsWith("/settings/")}],Cne=()=>{const e=lc(),t=br(),{userContext:s}=po(),{addNotification:a,notifications:n}=bm(),[i,o]=p.useState(!1),[l,d]=p.useState(!1),{user:u}=G_();p.useEffect(()=>{const f=async()=>{if(s!=null&&s.organization_id)try{const{configured:g}=await jL.get(`/onboarding?organizationId=${s.organization_id}`);g||d(!0)}catch(g){console.error("Failed to check onboarding status:",g)}};s!=null&&s.organization_id&&f()},[s==null?void 0:s.organization_id]),p.useEffect(()=>{var w;const f=(w=u==null?void 0:u.primaryEmailAddress)==null?void 0:w.emailAddress,y=["/dashboard","/campaigns","/crm","/all-calls","/live-calls"].some(v=>e.pathname.startsWith(v));f==="sean@artificialmedia.co.uk"&&y&&(console.log(" Redirecting platform owner away from client path to /platform"),t("/platform",{replace:!0}))},[u,e.pathname,t]),p.useEffect(()=>{n.length===0&&(console.log(" Layout: Initializing demo notifications"),a({type:"success",title:"Campaign Performance Alert",message:"Summer Sale campaign exceeded target conversion rate by 15%! Great job on the optimization.",category:"campaigns",priority:"medium",source:"Campaign Engine",read:!1,action:{label:"View Campaign",href:"/campaigns"}}),a({type:"warning",title:"Low Credit Balance",message:"Apex credits running low. Current balance: 150 credits. Consider topping up.",category:"billing",priority:"high",source:"Billing System",read:!1,action:{label:"Add Credits",href:"/billing"}}),a({type:"info",title:"System Update Complete",message:"Platform has been updated to v2.1.3 with improved call quality and new analytics features.",category:"system",priority:"low",source:"System",read:!0}))},[n.length,a]);const h=p.useMemo(()=>{var g;const f=(g=s==null?void 0:s.role)==null?void 0:g.toLowerCase();switch(console.log(" Layout: Determining menu for role:",f),f){case"platform_owner":return Nne;case"agency_owner":case"agency_admin":case"agency_user":return _ne;case"client_admin":case"client_user":default:return Sne}},[s==null?void 0:s.role]);return r.jsxs("div",{className:"flex h-screen w-full bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>o(!1)}),r.jsxs("div",{className:`group relative transition-all duration-300 ease-in-out z-50 flex-shrink-0 ${i?"fixed inset-y-0 left-0 w-64 md:relative md:w-16 md:hover:w-64":"hidden md:block md:w-16 md:hover:w-64"}`,children:[r.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-xl border-r border-white/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"}),r.jsxs("div",{className:"relative h-full flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-white/10",children:r.jsxs("div",{className:"relative flex items-center h-12 w-full",children:[r.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 transition-all duration-500 ease-in-out ${i?"left-0 translate-x-0 opacity-0 pointer-events-none":"left-1/2 -translate-x-1/2 opacity-100 group-hover:left-0 group-hover:translate-x-0 group-hover:opacity-0"}`,children:r.jsx("img",{src:nZ,alt:"Trinity",className:"h-9 w-9 object-contain max-w-none"})}),r.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 transition-all duration-500 ease-in-out flex items-center ${i?"left-0 translate-x-0 opacity-100":"left-0 translate-x-4 opacity-0 group-hover:translate-x-0 group-hover:opacity-100"}`,children:r.jsx("img",{src:aZ,alt:"Trinity Labs AI",className:"h-9 w-auto object-contain"})})]})}),r.jsx("div",{className:"flex-1 py-4 overflow-y-auto custom-scrollbar",children:r.jsx("nav",{className:"flex flex-col space-y-1",children:h.map(f=>{if(f.adminOnly&&(s==null?void 0:s.role)!=="client_admin"&&(s==null?void 0:s.role)!=="platform_owner")return null;const g=f.isActive(e.pathname);return r.jsxs(qK,{to:f.url,onClick:()=>o(!1),className:`
                      nav-item flex items-center px-4 py-3.5 text-sm font-medium transition-all duration-300 
                      relative mx-2 rounded-lg
                      ${g?"bg-transparent text-white":"text-white/70 hover:bg-white/5 hover:text-white"}
                    `,children:[r.jsx(f.icon,{className:`
                      h-5 w-5 flex-shrink-0 transition-all duration-300
                      ${g?"text-primary filter drop-shadow-[0_0_8px_rgba(34,197,94,0.8)] scale-110":"text-white/60 group-hover:text-white"}
                    `}),r.jsx("span",{className:`ml-3 tracking-wide whitespace-nowrap overflow-hidden transition-opacity duration-300 ${i?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:f.title}),f.badge&&r.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded-full animate-pulse opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.badge})]},f.title)})})})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-gray-900/50 via-black to-gray-900/50",children:[r.jsxs("header",{className:"h-[70px] bg-black/95 backdrop-blur-xl border-b border-green-500/10 flex items-center justify-between px-4 sm:px-6 lg:px-8 relative z-50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"md:hidden p-2 text-white hover:bg-gray-800 rounded-lg transition-colors",onClick:()=>o(!i),children:r.jsx(uY,{className:"h-5 w-5"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white tracking-wide",children:(()=>{const f=h.find(g=>g.isActive(e.pathname));return f?f.title:"Dashboard"})()})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-5",children:[r.jsx(Ese,{}),r.jsx(Lse,{})]})]}),r.jsx("main",{className:"flex-1 overflow-auto bg-black",children:r.jsx(OK,{})})]}),l&&r.jsx(jne,{onSuccess:()=>d(!1)})]})},OE=({children:e})=>{const t=lc(),{isLoaded:s,isSignedIn:a}=en();return s?a?r.jsx(r.Fragment,{children:e}):r.jsx(iy,{to:"/login",state:{from:t},replace:!0}):r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-emerald-600"}),r.jsx("p",{className:"text-gray-400",children:"Loading..."})]})})},kne=()=>{const e=br(),{userContext:t}=po();return p.useEffect(()=>{if(!(t!=null&&t.role)){console.log(" RoleBasedRedirect: No role detected, waiting...");return}const s=t.role.toLowerCase();switch(console.log(" RoleBasedRedirect: Redirecting based on role:",s),s){case"platform_owner":console.log(" Redirecting to Platform Owner Dashboard"),e("/platform",{replace:!0});break;case"agency_owner":case"agency_admin":case"agency_user":console.log(" Redirecting to Agency Dashboard"),e("/agency",{replace:!0});break;case"client_admin":case"client_user":default:console.log(" Redirecting to Client Dashboard"),e("/dashboard",{replace:!0});break}},[t==null?void 0:t.role,e]),r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),r.jsx("p",{className:"text-gray-400",children:"Redirecting to your dashboard..."})]})})},Rn=({children:e,allowedRoles:t,redirectTo:s="/dashboard"})=>{var o;const{userContext:a}=po();if(!a)return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-500"}),r.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});const n=(o=a.role)==null?void 0:o.toLowerCase(),i=t.some(l=>l.toLowerCase()===n);return console.log(" RoleBasedRoute: Checking access",{userRole:n,allowedRoles:t,hasAccess:i}),i?r.jsx(r.Fragment,{children:e}):(console.log(" Access denied, redirecting to:",s),r.jsx(iy,{to:s,replace:!0}))},_L=p.createContext(void 0),Ane=()=>{const e=p.useContext(_L);if(!e)throw new Error("useContacts must be used within ContactsProvider");return e},Pne=({children:e})=>{const[t,s]=p.useState([]),[a,n]=p.useState(!0),[i,o]=p.useState(null),{user:l,isSignedIn:d,isLoaded:u}=Od(),h=async()=>{try{if(n(!0),o(null),!d||!l||!l.organization_id){console.log(" No user logged in or no organization, skipping contacts fetch"),s([]);return}const y=l.organization_id;console.log(` Fetching contacts for organization: ${y}`),console.log(` User: ${l.email} (${l.role})`);const{data:w,error:v}=await Gl.client.from("leads").select("*").eq("organization_id",y).order("created_at",{ascending:!1});if(console.log(" Raw contacts data:",w),console.log(" Fetch error:",v),v)throw v;const b=(w||[]).map(N=>{var S,_;return{id:N.id,firstName:N.first_name||void 0,lastName:N.last_name||void 0,email:N.email||void 0,phone:N.phone||void 0,company:N.company||void 0,title:N.job_title||void 0,status:N.status||"new",priority:N.priority||"medium",source:N.lead_source||N.source||"ai_voice_call",campaign:((S=N.campaigns)==null?void 0:S.name)||"General",notes:N.notes||void 0,cid:N.id,date:N.created_at,value:N.conversion_value||N.value||0,assignedTo:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",assignedToId:((_=N.uploaded_by)==null?void 0:_.id)||void 0,owner:N.uploaded_by?`${N.uploaded_by.first_name} ${N.uploaded_by.last_name}`:"Unassigned",lastContactDate:N.last_call_at||N.last_contact_date||N.created_at,nextFollowUp:N.next_call_at||N.next_follow_up||void 0,lastActivity:N.last_call_at||N.last_activity||N.created_at,activities:N.call_attempts||N.activities_count||0,tags:N.tags||[]}});s(b),console.log(` Loaded ${b.length} contacts from database`)}catch(y){console.error(" Error fetching contacts:",y),o(y instanceof Error?y.message:"Failed to fetch contacts")}finally{n(!1)}},f=async()=>{await h()};p.useEffect(()=>{u&&(d&&l&&l.organization_id?h():(n(!1),s([])))},[u,d,l==null?void 0:l.organization_id]);const g=(y,w)=>{s(v=>v.find(N=>N.id===y)?v.map(N=>N.id===y?{...N,status:w}:N):(console.warn(`Contact with ID ${y} not found`),v))};return r.jsx(_L.Provider,{value:{contacts:t,setContacts:s,updateContactStatus:g,loading:a,error:i,refreshContacts:f},children:e})},SL=p.createContext(void 0);function Ene({children:e}){const{user:t}=Od(),[s,a]=p.useState(null),[n,i]=p.useState(null),[o,l]=p.useState(!1),[d,u]=p.useState(null),[h,f]=p.useState(0),[g,y]=p.useState(!1),w=()=>t!=null&&t.organization_id?(console.log(" Using organization_id from user:",t.organization_id),t.organization_id):(t==null?void 0:t.email)==="sean@artificialmedia.co.uk"?"00000000-0000-0000-0000-000000000000":(t==null?void 0:t.email)==="seanwentz99@gmail.com"?"2566d8c5-2245-4a3c-b539-4cea21a07d9b":(console.warn(" No organization ID found for user:",t==null?void 0:t.email),null),v=async()=>{if(console.log(" fetchOrganization called",{user:t==null?void 0:t.email,userId:t==null?void 0:t.id,orgId:t==null?void 0:t.organization_id,retryCount:h}),h>=3){console.warn(" Max retry attempts reached for fetching organization"),l(!1);return}try{l(!0),u(null);const N=w();if(console.log(" Organization ID resolved to:",N),!N)throw console.error(" No organization ID found for user:",t==null?void 0:t.email),new Error("No organization ID found");console.log(" Starting Supabase fetch for org:",N);const S=await Gl.getOrganization(N);if(console.log(" Organization data received from service:",S),!S)throw new Error("Organization not found");console.log(" Organization data received:",S),a(S);try{const _=await Gl.getOrganizationStats(N);i({totalUsers:_.totalUsers,totalCampaigns:_.totalCampaigns,totalCalls:_.totalCalls,totalLeads:_.totalLeads,monthlySpend:S.monthly_cost||0,creditsUsed:_.completedCalls*10,creditsRemaining:Math.max(0,(S.call_limit||5e3)-_.completedCalls)})}catch(_){console.warn(" Could not fetch organization stats:",_),i({totalUsers:0,totalCampaigns:0,totalCalls:0,totalLeads:0,monthlySpend:S.monthly_cost||0,creditsUsed:0,creditsRemaining:S.call_limit||5e3})}f(0)}catch(N){console.error("Error fetching organization:",N),u(N instanceof Error?N.message:"Failed to fetch organization"),a(null),i(null),f(S=>S+1)}finally{l(!1)}},b=async N=>{try{if(!s)return;a({...s,...N});const S=await Gl.updateOrganization(s.id,N);console.log(" Updated organization data:",S),a(S),console.log("Organization updated successfully:",N)}catch(S){throw console.error("Error updating organization:",S),await v(),S}};return p.useEffect(()=>{console.log(" OrganizationContext useEffect triggered",{user:t,isLoading:o,organization:s,hasFetched:g,condition:t&&!o&&!s&&!g}),t&&!o&&(!g||!s)&&(console.log(" Triggering fetchOrganization from useEffect"),y(!0),v())},[t,g,s,o]),r.jsx(SL.Provider,{value:{organization:s,stats:n,isLoading:o,error:d,refreshOrganization:v,updateOrganization:b},children:e})}function Tne(){const e=p.useContext(SL);if(!e)throw new Error("useOrganization must be used within OrganizationProvider");return e}function One(){const[e,t]=p.useState(""),s=[{id:"1",name:"Sales Qualifier Bot",type:"outbound",status:"active",model:"GPT-4",voice:"ElevenLabs - Rachel",calls:1234,avgDuration:"3:45",successRate:78},{id:"2",name:"Customer Support Agent",type:"inbound",status:"active",model:"GPT-3.5 Turbo",voice:"OpenAI - Alloy",calls:5678,avgDuration:"5:12",successRate:92},{id:"3",name:"Appointment Scheduler",type:"web",status:"inactive",model:"Claude 3",voice:"Deepgram - Nova",calls:890,avgDuration:"2:30",successRate:85}];return r.jsx("div",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-gray-400",children:"Manage your VAPI-powered voice assistants"})}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Create Assistant"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Assistants"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"3"})]}),r.jsx(pd,{className:"h-8 w-8 text-emerald-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Active Assistants"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"2"})]}),r.jsx(xs,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"7,802"})]}),r.jsx(dt,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Avg Success Rate"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:"85%"})]}),r.jsx(so,{className:"h-8 w-8 text-orange-500"})]})})})]}),r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{type:"text",placeholder:"Search assistants...",value:e,onChange:a=>t(a.target.value),className:"border-gray-700 bg-gray-900/50 pl-10 text-white placeholder-gray-500 focus:border-emerald-500"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(a=>r.jsxs(Y,{className:"border-gray-800 bg-gray-900 transition-shadow hover:shadow-lg",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-lg text-white",children:a.name}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx(ke,{variant:a.type==="outbound"?"default":"secondary",children:a.type}),r.jsx(ke,{variant:a.status==="active"?"default":"outline",children:a.status})]})]}),r.jsx(pd,{className:"h-6 w-6 text-gray-400"})]})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Model:"}),r.jsx("span",{className:"font-medium text-white",children:a.model})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Voice:"}),r.jsx("span",{className:"font-medium text-white",children:a.voice})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Total Calls:"}),r.jsx("span",{className:"font-medium text-white",children:a.calls.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Avg Duration:"}),r.jsx("span",{className:"font-medium text-white",children:a.avgDuration})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),r.jsxs("span",{className:"font-medium text-emerald-400",children:[a.successRate,"%"]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(K,{size:"sm",variant:"outline",className:"flex-1 border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[r.jsx(ec,{className:"mr-1 h-4 w-4"}),"Edit"]}),r.jsx(K,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:r.jsx(Fn,{className:"h-4 w-4"})}),r.jsx(K,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-red-400 hover:bg-red-900/20",children:r.jsx(Us,{className:"h-4 w-4"})})]})]})]},a.id))})]})})}var Rne="Label",CL=p.forwardRef((e,t)=>r.jsx(qe.label,{...e,ref:t,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));CL.displayName=Rne;var kL=CL;const Mne=Yf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=p.forwardRef(({className:e,...t},s)=>r.jsx(kL,{ref:s,className:De(Mne(),e),...t}));ee.displayName=kL.displayName;function Ine(){const[e]=KK(),t=br(),{toast:s}=Ur(),a=e.get("token"),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,u]=p.useState(null),[h,f]=p.useState(null),[g,y]=p.useState(""),[w,v]=p.useState(""),[b,N]=p.useState("");p.useEffect(()=>{a?S():(f("No invitation token provided"),i(!1))},[a]);const S=async()=>{try{const E=await fetch(`/api/api/invitations/validate/${a}`),R=await E.json();console.log("Invitation validation response:",R),!E.ok||!R.valid?f(R.error||"Invalid or expired invitation"):u(R.invitation)}catch(E){console.error("Error validating invitation:",E),f("Failed to validate invitation")}finally{i(!1)}},{isSignedIn:_,user:k}=Od(),{getToken:T}=en();p.useEffect(()=>{_&&k&&d&&a&&A()},[_,k,d,a]);const A=async()=>{try{l(!0);const E=await T(),R=await fetch("/api/api/invitations/accept-clerk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({token:a,clerkUserId:k.clerkId||k.id})}),z=await R.json();if(R.ok)s({title:"Success!",description:"Your account has been linked. Redirecting to dashboard..."}),setTimeout(()=>{t("/dashboard")},2e3);else throw new Error(z.error||"Failed to link account")}catch(E){console.error("Error linking account:",E),s({title:"Error",description:E instanceof Error?E.message:"Failed to link account",variant:"destructive"})}finally{l(!1)}};return n?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bn,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Validating invitation..."})]})}):h?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:r.jsx(Y,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:r.jsx(J,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(_i,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Invitation"}),r.jsx("p",{className:"text-gray-400 mb-6",children:h}),r.jsx(K,{onClick:()=>t("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go to Login"})]})})})}):d?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-950 p-4",children:r.jsxs(Y,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"text-2xl font-bold text-center text-white",children:["Join ",d.organizationName]})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs(Wt,{className:"bg-emerald-900/20 border-emerald-700",children:[r.jsx(ta,{className:"h-4 w-4 text-emerald-500"}),r.jsxs(Vt,{className:"text-emerald-200",children:["You've been invited to join as a ",d.role.replace("client_","").replace("_"," "),"."]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-300",children:"Your Information"}),r.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 space-y-1",children:[r.jsxs("p",{className:"text-white",children:[r.jsx(Xr,{className:"inline h-4 w-4 mr-2 text-gray-400"}),d.firstName," ",d.lastName]}),r.jsx("p",{className:"text-gray-400 text-sm",children:d.email})]})]}),!_&&r.jsx(Wt,{className:"bg-blue-900/20 border-blue-700",children:r.jsx(Vt,{className:"text-blue-200",children:`Click "Sign Up & Join" below to create your account with Clerk. You'll be redirected back here after signup.`})}),_&&r.jsx(Wt,{className:"bg-green-900/20 border-green-700",children:r.jsxs(Vt,{className:"text-green-200",children:['Welcome back! Click "Complete Setup" to link your account to ',d.organizationName,"."]})}),r.jsxs("div",{className:"text-xs text-gray-400",children:["This invitation expires on ",new Date(d.expiresAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(K,{variant:"outline",onClick:()=>t("/login"),className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),_?o?r.jsxs(K,{disabled:!0,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking Account..."]}):r.jsxs(K,{onClick:()=>A(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(yt,{className:"mr-2 h-4 w-4"}),"Complete Setup"]}):r.jsx(RH,{mode:"modal",afterSignUpUrl:`/accept-invitation?token=${a}`,signUpForceRedirectUrl:`/accept-invitation?token=${a}`,children:r.jsxs(K,{className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(yt,{className:"mr-2 h-4 w-4"}),"Sign Up & Join"]})})]})]})]})}):null}var Iy="Tabs",[Dne,Hze]=Bs(Iy,[Nm]),AL=Nm(),[$ne,BS]=Dne(Iy),PL=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,h=Rd(l),[f,g]=Ni({prop:a,onChange:n,defaultProp:i??"",caller:Iy});return r.jsx($ne,{scope:s,baseId:Qi(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:d,children:r.jsx(qe.div,{dir:h,"data-orientation":o,...u,ref:t})})});PL.displayName=Iy;var EL="TabsList",TL=p.forwardRef((e,t)=>{const{__scopeTabs:s,loop:a=!0,...n}=e,i=BS(EL,s),o=AL(s);return r.jsx(NS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(qe.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});TL.displayName=EL;var OL="TabsTrigger",RL=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=e,o=BS(OL,s),l=AL(s),d=DL(o.baseId,a),u=$L(o.baseId,a),h=a===o.value;return r.jsx(_S,{asChild:!0,...l,focusable:!n,active:h,children:r.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:t,onMouseDown:ze(e.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:ze(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:ze(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!n&&f&&o.onValueChange(a)})})})});RL.displayName=OL;var ML="TabsContent",IL=p.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=e,l=BS(ML,s),d=DL(l.baseId,a),u=$L(l.baseId,a),h=a===l.value,f=p.useRef(h);return p.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),r.jsx(va,{present:n||h,children:({present:g})=>r.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});IL.displayName=ML;function DL(e,t){return`${e}-trigger-${t}`}function $L(e,t){return`${e}-content-${t}`}var Lne=PL,LL=TL,zL=RL,FL=IL;const yo=Lne,Oi=p.forwardRef(({className:e,...t},s)=>r.jsx(LL,{ref:s,className:De("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",e),...t}));Oi.displayName=LL.displayName;const jt=p.forwardRef(({className:e,...t},s)=>r.jsx(zL,{ref:s,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",e),...t}));jt.displayName=zL.displayName;const Nt=p.forwardRef(({className:e,...t},s)=>r.jsx(FL,{ref:s,className:De("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",e),...t}));Nt.displayName=FL.displayName;var WS="Progress",VS=100,[zne,Kze]=Bs(WS),[Fne,Une]=zne(WS),UL=p.forwardRef((e,t)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=Bne,...o}=e;(n||n===0)&&!RE(n)&&console.error(Wne(`${n}`,"Progress"));const l=RE(n)?n:VS;a!==null&&!ME(a,l)&&console.error(Vne(`${a}`,"Progress"));const d=ME(a,l)?a:null,u=ax(d)?i(d,l):void 0;return r.jsx(Fne,{scope:s,value:d,max:l,children:r.jsx(qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ax(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":VL(d,l),"data-value":d??void 0,"data-max":l,...o,ref:t})})});UL.displayName=WS;var BL="ProgressIndicator",WL=p.forwardRef((e,t)=>{const{__scopeProgress:s,...a}=e,n=Une(BL,s);return r.jsx(qe.div,{"data-state":VL(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:t})});WL.displayName=BL;function Bne(e,t){return`${Math.round(e/t*100)}%`}function VL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ax(e){return typeof e=="number"}function RE(e){return ax(e)&&!isNaN(e)&&e>0}function ME(e,t){return ax(e)&&!isNaN(e)&&e<=t&&e>=0}function Wne(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${VS}\`.`}function Vne(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${VS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qL=UL,qne=WL;const Gt=p.forwardRef(({className:e,value:t,...s},a)=>r.jsx(qL,{ref:a,className:De("relative h-2 w-full overflow-hidden rounded-full bg-gray-800",e),...s,children:r.jsx(qne,{className:"h-full w-full flex-1 bg-gradient-to-r from-pink-500 to-pink-600 transition-all duration-300",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Gt.displayName=qL.displayName;const Hne=()=>{const{userContext:e}=po(),[t,s]=p.useState([]),[a,n]=p.useState({totalMRR:0,newMRR:0,churnedMRR:0,averageRevenue:0,growthRate:0,clientLifetimeValue:0}),[i,o]=p.useState(""),[l,d]=p.useState("all"),[u,h]=p.useState("all");p.useEffect(()=>{const v=[{id:"1",name:"TechStart Solutions",plan:"professional",monthlyRevenue:599,callVolume:2450,status:"active",joinDate:"2024-01-15",lastActivity:"2024-01-18 14:30",industry:"SaaS",contactEmail:"sarah@techstart.com"},{id:"2",name:"Local Home Services",plan:"starter",monthlyRevenue:299,callVolume:890,status:"active",joinDate:"2024-01-10",lastActivity:"2024-01-18 09:15",industry:"Home Services",contactEmail:"mike@localhome.com"},{id:"3",name:"Enterprise Corp",plan:"enterprise",monthlyRevenue:1299,callVolume:5200,status:"active",joinDate:"2023-12-01",lastActivity:"2024-01-18 16:45",industry:"Enterprise",contactEmail:"jennifer@enterprise.com"},{id:"4",name:"GrowthCo Marketing",plan:"professional",monthlyRevenue:599,callVolume:1800,status:"trial",joinDate:"2024-01-12",lastActivity:"2024-01-17 11:20",industry:"Marketing",contactEmail:"david@growthco.com"},{id:"5",name:"RetailMax Store",plan:"starter",monthlyRevenue:299,callVolume:650,status:"paused",joinDate:"2023-11-20",lastActivity:"2024-01-10 08:30",industry:"Retail",contactEmail:"lisa@retailmax.com"}];s(v);const b=v.filter(_=>_.status==="active"),N=b.reduce((_,k)=>_+k.monthlyRevenue,0),S=v.filter(_=>_.status==="active"&&new Date(_.joinDate)>new Date("2024-01-01")).reduce((_,k)=>_+k.monthlyRevenue,0);n({totalMRR:N,newMRR:S,churnedMRR:299,averageRevenue:N/b.length,growthRate:23.5,clientLifetimeValue:N*24})},[]);const f=v=>{switch(v){case"starter":return"bg-blue-100 text-blue-800";case"professional":return"bg-purple-100 text-emerald-800";case"enterprise":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"trial":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"churned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"active":return r.jsx(yt,{className:"h-4 w-4"});case"trial":return r.jsx(Ft,{className:"h-4 w-4"});case"paused":return r.jsx(Dt,{className:"h-4 w-4"});case"churned":return r.jsx(Dt,{className:"h-4 w-4"});default:return r.jsx(Ft,{className:"h-4 w-4"})}},w=t.filter(v=>{const b=v.name.toLowerCase().includes(i.toLowerCase())||v.industry.toLowerCase().includes(i.toLowerCase()),N=l==="all"||v.plan===l,S=u==="all"||v.status===u;return b&&N&&S});return r.jsx("div",{className:"min-h-screen bg-black text-white",children:r.jsxs("div",{className:"w-full space-y-8 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Agency Command Center"}),r.jsxs("p",{className:"mt-2 text-gray-400",children:["Welcome back, ",(e==null?void 0:e.firstName)||"Agency Admin","! Manage your client portfolio and track revenue performance."]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(K,{className:"bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>window.location.href="/client-onboarding",children:[r.jsx(Qf,{className:"mr-2 h-4 w-4"}),"Start Onboarding"]}),r.jsxs(K,{className:"bg-blue-600 text-white hover:bg-blue-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add New Client"]}),r.jsxs(K,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[r.jsx(ls,{className:"mr-2 h-4 w-4"}),"Settings"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[r.jsx(Hr,{className:"mr-2 h-4 w-4"}),"Total MRR"]})}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",a.totalMRR.toLocaleString()]}),r.jsxs("div",{className:"mt-1 flex items-center text-sm text-green-400",children:[r.jsx(ba,{className:"mr-1 h-3 w-3"}),"+",a.growthRate,"% from last month"]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[r.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Active Clients"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(v=>v.status==="active").length}),r.jsxs("div",{className:"mt-1 flex items-center text-sm text-blue-400",children:[r.jsx(B3,{className:"mr-1 h-3 w-3"}),t.filter(v=>v.status==="trial").length," in trial"]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[r.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Avg Revenue/Client"]})}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Math.round(a.averageRevenue).toLocaleString()]}),r.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"Per month"})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"flex items-center text-sm font-medium text-gray-400",children:[r.jsx(ks,{className:"mr-2 h-4 w-4"}),"Total Call Volume"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:t.reduce((v,b)=>v+b.callVolume,0).toLocaleString()}),r.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"This month"})]})]})]}),r.jsxs(yo,{defaultValue:"clients",className:"space-y-6",children:[r.jsxs(Oi,{className:"border-gray-800 bg-gray-900",children:[r.jsx(jt,{value:"clients",className:"text-gray-300 data-[state=active]:text-white",children:"Client Management"}),r.jsx(jt,{value:"revenue",className:"text-gray-300 data-[state=active]:text-white",children:"Revenue Analytics"}),r.jsx(jt,{value:"branding",className:"text-gray-300 data-[state=active]:text-white",children:"White-Label Controls"})]}),r.jsxs(Nt,{value:"clients",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{placeholder:"Search clients...",value:i,onChange:v=>o(v.target.value),className:"border-gray-700 bg-gray-900 pl-10 text-white"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:l,onChange:v=>d(v.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[r.jsx("option",{value:"all",children:"All Plans"}),r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"professional",children:"Professional"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]}),r.jsxs("select",{value:u,onChange:v=>h(v.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"trial",children:"Trial"}),r.jsx("option",{value:"paused",children:"Paused"}),r.jsx("option",{value:"churned",children:"Churned"})]})]})]}),r.jsx("div",{className:"grid gap-4",children:w.map(v=>r.jsx(Y,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(yd,{className:"h-12 w-12",children:[r.jsx(Qu,{src:v.logo}),r.jsx(vd,{className:"bg-gray-800 text-white",children:v.name.substring(0,2).toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:v.name}),r.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[r.jsxs(ke,{variant:"secondary",className:f(v.plan),children:[v.plan==="starter"&&r.jsx(ks,{className:"mr-1 h-3 w-3"}),v.plan==="professional"&&r.jsx(Jf,{className:"mr-1 h-3 w-3"}),v.plan==="enterprise"&&r.jsx(Hn,{className:"mr-1 h-3 w-3"}),v.plan.charAt(0).toUpperCase()+v.plan.slice(1)]}),r.jsxs(ke,{variant:"secondary",className:g(v.status),children:[y(v.status),r.jsx("span",{className:"ml-1",children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm lg:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Monthly Revenue"}),r.jsxs("div",{className:"font-semibold text-white",children:["$",v.monthlyRevenue]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Call Volume"}),r.jsx("div",{className:"font-semibold text-white",children:v.callVolume.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Industry"}),r.jsx("div",{className:"font-semibold text-white",children:v.industry})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Join Date"}),r.jsx("div",{className:"font-semibold text-white",children:new Date(v.joinDate).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(K,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"View Details"}),r.jsx(K,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Manage"})]})]})})},v.id))})]}),r.jsx(Nt,{value:"revenue",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Revenue Breakdown"}),r.jsx(wt,{className:"text-gray-400",children:"Monthly recurring revenue by plan type"})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Enterprise Plans"}),r.jsx("span",{className:"font-semibold text-white",children:"$1,299"})]}),r.jsx(Gt,{value:65,className:"h-2"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Professional Plans"}),r.jsx("span",{className:"font-semibold text-white",children:"$1,198"})]}),r.jsx(Gt,{value:60,className:"h-2"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Starter Plans"}),r.jsx("span",{className:"font-semibold text-white",children:"$598"})]}),r.jsx(Gt,{value:30,className:"h-2"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Growth Metrics"}),r.jsx(wt,{className:"text-gray-400",children:"Key performance indicators"})]}),r.jsx(J,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:"+$899"}),r.jsx("div",{className:"text-sm text-gray-400",children:"New MRR"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-red-400",children:"-$299"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Churned MRR"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",Math.round(a.clientLifetimeValue).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-400",children:"Avg Client LTV"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"23.5%"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Growth Rate"})]})]})})]})]})}),r.jsx(Nt,{value:"branding",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(mP,{className:"mr-2 h-5 w-5"}),"Brand Customization"]}),r.jsx(wt,{className:"text-gray-400",children:"Customize the platform appearance for your clients"})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Logo"}),r.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-700 p-6 text-center",children:[r.jsxs("div",{className:"mb-2 text-gray-400",children:[r.jsx(mP,{className:"mx-auto mb-2 h-8 w-8"}),"Upload your logo"]}),r.jsx(K,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-300",children:"Choose File"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Primary Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{type:"color",defaultValue:"#3B82F6",className:"h-10 w-16 border-gray-700 bg-gray-800"}),r.jsx(Ae,{defaultValue:"#3B82F6",className:"border-gray-700 bg-gray-800 text-white"})]})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(Hn,{className:"mr-2 h-5 w-5"}),"Domain Settings"]}),r.jsx(wt,{className:"text-gray-400",children:"Configure custom domains for client portals"})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Agency Domain"}),r.jsx(Ae,{placeholder:"yourcompany.apex.ai",className:"border-gray-700 bg-gray-800 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Portal Template"}),r.jsxs("select",{className:"w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-white",children:[r.jsx("option",{children:"Professional Template"}),r.jsx("option",{children:"Modern Template"}),r.jsx("option",{children:"Minimalist Template"})]})]}),r.jsx(K,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Save Configuration"})]})]})]})})]})]})})};function hp(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Kne=[" ","Enter","ArrowUp","ArrowDown"],Gne=[" ","Enter"],wd="Select",[Dy,$y,Yne]=qf(wd),[Cm,Gze]=Bs(wd,[Yne,wy]),Ly=wy(),[Jne,dc]=Cm(wd),[Xne,Zne]=Cm(wd),HL=e=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:f,disabled:g,required:y,form:w}=e,v=Ly(t),[b,N]=p.useState(null),[S,_]=p.useState(null),[k,T]=p.useState(!1),A=Rd(u),[E,R]=Ni({prop:a,defaultProp:n??!1,onChange:i,caller:wd}),[z,B]=Ni({prop:o,defaultProp:l,onChange:d,caller:wd}),O=p.useRef(null),I=b?w||!!b.closest("form"):!0,[F,V]=p.useState(new Set),W=Array.from(F).map(X=>X.props.value).join(";");return r.jsx(dD,{...v,children:r.jsxs(Jne,{required:y,scope:t,trigger:b,onTriggerChange:N,valueNode:S,onValueNodeChange:_,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:Qi(),value:z,onValueChange:B,open:E,onOpenChange:R,dir:A,triggerPointerDownPosRef:O,disabled:g,children:[r.jsx(Dy.Provider,{scope:t,children:r.jsx(Xne,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{V(D=>new Set(D).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{V(D=>{const U=new Set(D);return U.delete(X),U})},[]),children:s})}),I?r.jsxs(gz,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:z,onChange:X=>B(X.target.value),disabled:g,form:w,children:[z===void 0?r.jsx("option",{value:""}):null,Array.from(F)]},W):null]})})};HL.displayName=wd;var KL="SelectTrigger",GL=p.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:a=!1,...n}=e,i=Ly(s),o=dc(KL,s),l=o.disabled||a,d=ht(t,o.onTriggerChange),u=$y(s),h=p.useRef("touch"),[f,g,y]=yz(v=>{const b=u().filter(_=>!_.disabled),N=b.find(_=>_.value===o.value),S=vz(b,v,N);S!==void 0&&o.onValueChange(S.value)}),w=v=>{l||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return r.jsx(uD,{asChild:!0,...i,children:r.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xz(o.value)?"":void 0,...n,ref:d,onClick:ze(n.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&w(v)}),onPointerDown:ze(n.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ze(n.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(b&&v.key===" ")&&Kne.includes(v.key)&&(w(),v.preventDefault())})})})});GL.displayName=KL;var YL="SelectValue",JL=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=e,d=dc(YL,s),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,f=ht(t,d.onValueNodeChange);return os(()=>{u(h)},[u,h]),r.jsx(qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:xz(d.value)?r.jsx(r.Fragment,{children:o}):i})});JL.displayName=YL;var Qne="SelectIcon",XL=p.forwardRef((e,t)=>{const{__scopeSelect:s,children:a,...n}=e;return r.jsx(qe.span,{"aria-hidden":!0,...n,ref:t,children:a||""})});XL.displayName=Qne;var eie="SelectPortal",ZL=e=>r.jsx(Kf,{asChild:!0,...e});ZL.displayName=eie;var jd="SelectContent",QL=p.forwardRef((e,t)=>{const s=dc(jd,e.__scopeSelect),[a,n]=p.useState();if(os(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?ic.createPortal(r.jsx(ez,{scope:e.__scopeSelect,children:r.jsx(Dy.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(tz,{...e,ref:t})});QL.displayName=jd;var pi=10,[ez,uc]=Cm(jd),tie="SelectContentImpl",rie=hd("SelectContent.RemoveScroll"),tz=p.forwardRef((e,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:b,...N}=e,S=dc(jd,s),[_,k]=p.useState(null),[T,A]=p.useState(null),E=ht(t,Ne=>k(Ne)),[R,z]=p.useState(null),[B,O]=p.useState(null),I=$y(s),[F,V]=p.useState(!1),W=p.useRef(!1);p.useEffect(()=>{if(_)return SS(_)},[_]),hS();const X=p.useCallback(Ne=>{const[Fe,...le]=I().map(te=>te.ref.current),[Se]=le.slice(-1),Pe=document.activeElement;for(const te of Ne)if(te===Pe||(te==null||te.scrollIntoView({block:"nearest"}),te===Fe&&T&&(T.scrollTop=0),te===Se&&T&&(T.scrollTop=T.scrollHeight),te==null||te.focus(),document.activeElement!==Pe))return},[I,T]),D=p.useCallback(()=>X([R,_]),[X,R,_]);p.useEffect(()=>{F&&D()},[F,D]);const{onOpenChange:U,triggerPointerDownPosRef:H}=S;p.useEffect(()=>{if(_){let Ne={x:0,y:0};const Fe=Se=>{var Pe,te;Ne={x:Math.abs(Math.round(Se.pageX)-(((Pe=H.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((te=H.current)==null?void 0:te.y)??0))}},le=Se=>{Ne.x<=10&&Ne.y<=10?Se.preventDefault():_.contains(Se.target)||U(!1),document.removeEventListener("pointermove",Fe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",le,{capture:!0})}}},[_,U,H]),p.useEffect(()=>{const Ne=()=>U(!1);return window.addEventListener("blur",Ne),window.addEventListener("resize",Ne),()=>{window.removeEventListener("blur",Ne),window.removeEventListener("resize",Ne)}},[U]);const[M,L]=yz(Ne=>{const Fe=I().filter(Pe=>!Pe.disabled),le=Fe.find(Pe=>Pe.ref.current===document.activeElement),Se=vz(Fe,Ne,le);Se&&setTimeout(()=>Se.ref.current.focus())}),q=p.useCallback((Ne,Fe,le)=>{const Se=!W.current&&!le;(S.value!==void 0&&S.value===Fe||Se)&&(z(Ne),Se&&(W.current=!0))},[S.value]),ue=p.useCallback(()=>_==null?void 0:_.focus(),[_]),G=p.useCallback((Ne,Fe,le)=>{const Se=!W.current&&!le;(S.value!==void 0&&S.value===Fe||Se)&&O(Ne)},[S.value]),ge=a==="popper"?$1:rz,be=ge===$1?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return r.jsx(ez,{scope:s,content:_,viewport:T,onViewportChange:A,itemRefCallback:q,selectedItem:R,onItemLeave:ue,itemTextRefCallback:G,focusSelectedItem:D,selectedItemText:B,position:a,isPositioned:F,searchRef:M,children:r.jsx(Ny,{as:rie,allowPinchZoom:!0,children:r.jsx(xy,{asChild:!0,trapped:S.open,onMountAutoFocus:Ne=>{Ne.preventDefault()},onUnmountAutoFocus:ze(n,Ne=>{var Fe;(Fe=S.trigger)==null||Fe.focus({preventScroll:!0}),Ne.preventDefault()}),children:r.jsx(Hf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Ne=>Ne.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:r.jsx(ge,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Ne=>Ne.preventDefault(),...N,...be,onPlaced:()=>V(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ze(N.onKeyDown,Ne=>{const Fe=Ne.ctrlKey||Ne.altKey||Ne.metaKey;if(Ne.key==="Tab"&&Ne.preventDefault(),!Fe&&Ne.key.length===1&&L(Ne.key),["ArrowUp","ArrowDown","Home","End"].includes(Ne.key)){let Se=I().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(Ne.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ne.key)){const Pe=Ne.target,te=Se.indexOf(Pe);Se=Se.slice(te+1)}setTimeout(()=>X(Se)),Ne.preventDefault()}})})})})})})});tz.displayName=tie;var sie="SelectItemAlignedPosition",rz=p.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:a,...n}=e,i=dc(jd,s),o=uc(jd,s),[l,d]=p.useState(null),[u,h]=p.useState(null),f=ht(t,E=>h(E)),g=$y(s),y=p.useRef(!1),w=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:N,focusSelectedItem:S}=o,_=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&b&&N){const E=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),B=N.getBoundingClientRect();if(i.dir!=="rtl"){const Pe=B.left-R.left,te=z.left-Pe,he=E.left-te,_e=E.width+he,Te=Math.max(_e,R.width),oe=window.innerWidth-pi,We=wf(te,[pi,Math.max(pi,oe-Te)]);l.style.minWidth=_e+"px",l.style.left=We+"px"}else{const Pe=R.right-B.right,te=window.innerWidth-z.right-Pe,he=window.innerWidth-E.right-te,_e=E.width+he,Te=Math.max(_e,R.width),oe=window.innerWidth-pi,We=wf(te,[pi,Math.max(pi,oe-Te)]);l.style.minWidth=_e+"px",l.style.right=We+"px"}const O=g(),I=window.innerHeight-pi*2,F=v.scrollHeight,V=window.getComputedStyle(u),W=parseInt(V.borderTopWidth,10),X=parseInt(V.paddingTop,10),D=parseInt(V.borderBottomWidth,10),U=parseInt(V.paddingBottom,10),H=W+X+F+U+D,M=Math.min(b.offsetHeight*5,H),L=window.getComputedStyle(v),q=parseInt(L.paddingTop,10),ue=parseInt(L.paddingBottom,10),G=E.top+E.height/2-pi,ge=I-G,be=b.offsetHeight/2,Ne=b.offsetTop+be,Fe=W+X+Ne,le=H-Fe;if(Fe<=G){const Pe=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-v.offsetTop-v.offsetHeight,he=Math.max(ge,be+(Pe?ue:0)+te+D),_e=Fe+he;l.style.height=_e+"px"}else{const Pe=O.length>0&&b===O[0].ref.current;l.style.top="0px";const he=Math.max(G,W+v.offsetTop+(Pe?q:0)+be)+le;l.style.height=he+"px",v.scrollTop=Fe-G+v.offsetTop}l.style.margin=`${pi}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=I+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,l,u,v,b,N,i.dir,a]);os(()=>_(),[_]);const[k,T]=p.useState();os(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const A=p.useCallback(E=>{E&&w.current===!0&&(_(),S==null||S(),w.current=!1)},[_,S]);return r.jsx(nie,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:A,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:r.jsx(qe.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});rz.displayName=sie;var aie="SelectPopperPosition",$1=p.forwardRef((e,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=pi,...i}=e,o=Ly(s);return r.jsx(mD,{...o,...i,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$1.displayName=aie;var[nie,qS]=Cm(jd,{}),L1="SelectViewport",sz=p.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:a,...n}=e,i=uc(L1,s),o=qS(L1,s),l=ht(t,i.onViewportChange),d=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(Dy.Slot,{scope:s,children:r.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ze(n.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const y=Math.abs(d.current-h.scrollTop);if(y>0){const w=window.innerHeight-pi*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),N=Math.max(v,b);if(N<w){const S=N+y,_=Math.min(w,S),k=S-_;f.style.height=_+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});sz.displayName=L1;var az="SelectGroup",[iie,oie]=Cm(az),lie=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,n=Qi();return r.jsx(iie,{scope:s,id:n,children:r.jsx(qe.div,{role:"group","aria-labelledby":n,...a,ref:t})})});lie.displayName=az;var nz="SelectLabel",iz=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,n=oie(nz,s);return r.jsx(qe.div,{id:n.id,...a,ref:t})});iz.displayName=nz;var nx="SelectItem",[cie,oz]=Cm(nx),lz=p.forwardRef((e,t)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=e,l=dc(nx,s),d=uc(nx,s),u=l.value===a,[h,f]=p.useState(i??""),[g,y]=p.useState(!1),w=ht(t,S=>{var _;return(_=d.itemRefCallback)==null?void 0:_.call(d,S,a,n)}),v=Qi(),b=p.useRef("touch"),N=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(cie,{scope:s,value:a,disabled:n,textId:v,isSelected:u,onItemTextChange:p.useCallback(S=>{f(_=>_||((S==null?void 0:S.textContent)??"").trim())},[]),children:r.jsx(Dy.ItemSlot,{scope:s,value:a,disabled:n,textValue:h,children:r.jsx(qe.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:w,onFocus:ze(o.onFocus,()=>y(!0)),onBlur:ze(o.onBlur,()=>y(!1)),onClick:ze(o.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:ze(o.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:ze(o.onPointerDown,S=>{b.current=S.pointerType}),onPointerMove:ze(o.onPointerMove,S=>{var _;b.current=S.pointerType,n?(_=d.onItemLeave)==null||_.call(d):b.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(o.onPointerLeave,S=>{var _;S.currentTarget===document.activeElement&&((_=d.onItemLeave)==null||_.call(d))}),onKeyDown:ze(o.onKeyDown,S=>{var k;((k=d.searchRef)==null?void 0:k.current)!==""&&S.key===" "||(Gne.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});lz.displayName=nx;var Zh="SelectItemText",cz=p.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:n,...i}=e,o=dc(Zh,s),l=uc(Zh,s),d=oz(Zh,s),u=Zne(Zh,s),[h,f]=p.useState(null),g=ht(t,N=>f(N),d.onItemTextChange,N=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,N,d.value,d.disabled)}),y=h==null?void 0:h.textContent,w=p.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return os(()=>(v(w),()=>b(w)),[v,b,w]),r.jsxs(r.Fragment,{children:[r.jsx(qe.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ic.createPortal(i.children,o.valueNode):null]})});cz.displayName=Zh;var dz="SelectItemIndicator",uz=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return oz(dz,s).isSelected?r.jsx(qe.span,{"aria-hidden":!0,...a,ref:t}):null});uz.displayName=dz;var z1="SelectScrollUpButton",mz=p.forwardRef((e,t)=>{const s=uc(z1,e.__scopeSelect),a=qS(z1,e.__scopeSelect),[n,i]=p.useState(!1),o=ht(t,a.onScrollButtonChange);return os(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?r.jsx(fz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});mz.displayName=z1;var F1="SelectScrollDownButton",hz=p.forwardRef((e,t)=>{const s=uc(F1,e.__scopeSelect),a=qS(F1,e.__scopeSelect),[n,i]=p.useState(!1),o=ht(t,a.onScrollButtonChange);return os(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?r.jsx(fz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});hz.displayName=F1;var fz=p.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=e,i=uc("SelectScrollButton",s),o=p.useRef(null),l=$y(s),d=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),os(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(qe.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:ze(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:ze(n.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:ze(n.onPointerLeave,()=>{d()})})}),die="SelectSeparator",pz=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return r.jsx(qe.div,{"aria-hidden":!0,...a,ref:t})});pz.displayName=die;var U1="SelectArrow",uie=p.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,n=Ly(s),i=dc(U1,s),o=uc(U1,s);return i.open&&o.position==="popper"?r.jsx(hD,{...n,...a,ref:t}):null});uie.displayName=U1;var mie="SelectBubbleInput",gz=p.forwardRef(({__scopeSelect:e,value:t,...s},a)=>{const n=p.useRef(null),i=ht(a,n),o=hp(t);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(qe.select,{...s,style:{...v3,...s.style},ref:i,defaultValue:t})});gz.displayName=mie;function xz(e){return e===""||e===void 0}function yz(e){const t=Jr(e),s=p.useRef(""),a=p.useRef(0),n=p.useCallback(o=>{const l=s.current+o;t(l),function d(u){s.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),i=p.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function vz(e,t,s){const n=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=hie(e,Math.max(i,0));n.length===1&&(o=o.filter(u=>u!==s));const d=o.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function hie(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var fie=HL,bz=GL,pie=JL,gie=XL,xie=ZL,wz=QL,yie=sz,jz=iz,Nz=lz,vie=cz,bie=uz,_z=mz,Sz=hz,Cz=pz;const Qe=fie,et=pie,Je=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(bz,{ref:a,className:De("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(gie,{asChild:!0,children:r.jsx(Yr,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=bz.displayName;const kz=p.forwardRef(({className:e,...t},s)=>r.jsx(_z,{ref:s,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(JG,{className:"h-4 w-4"})}));kz.displayName=_z.displayName;const Az=p.forwardRef(({className:e,...t},s)=>r.jsx(Sz,{ref:s,className:De("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Yr,{className:"h-4 w-4"})}));Az.displayName=Sz.displayName;const Xe=p.forwardRef(({className:e,children:t,position:s="popper",...a},n)=>r.jsx(xie,{children:r.jsxs(wz,{ref:n,className:De("relative z-[9999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,style:{zIndex:9999},...a,children:[r.jsx(kz,{}),r.jsx(yie,{className:De("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(Az,{})]})}));Xe.displayName=wz.displayName;const wie=p.forwardRef(({className:e,...t},s)=>r.jsx(jz,{ref:s,className:De("px-2 py-1.5 text-sm font-semibold",e),...t}));wie.displayName=jz.displayName;const ae=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(Nz,{ref:a,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm text-white outline-none hover:bg-gray-700 hover:text-white focus:bg-gray-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(bie,{children:r.jsx(xm,{className:"h-4 w-4"})})}),r.jsx(vie,{children:t})]}));ae.displayName=Nz.displayName;const jie=p.forwardRef(({className:e,...t},s)=>r.jsx(Cz,{ref:s,className:De("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",e),...t}));jie.displayName=Cz.displayName;const zy=({isOpen:e,onClose:t,callData:s})=>{var I,F,V,W,X;const[a,n]=p.useState(!1),[i,o]=p.useState(0),[l,d]=p.useState(1),[u,h]=p.useState(-1),[f,g]=p.useState(!1),y=p.useRef(null),w=p.useRef(null),v=p.useRef([]),b=p.useRef(null);p.useEffect(()=>{console.log(" CallLogDetailsModal received callData:",{hasData:!!s,callDataKeys:s?Object.keys(s):[],hasTranscript:!!(s!=null&&s.transcript),transcriptType:s!=null&&s.transcript?typeof s.transcript:"no transcript",transcriptIsArray:Array.isArray(s==null?void 0:s.transcript),transcriptLength:Array.isArray(s==null?void 0:s.transcript)||typeof(s==null?void 0:s.transcript)=="string"?s.transcript.length:0,transcriptSample:s!=null&&s.transcript?Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":"Unknown format":"No transcript",fullData:s})},[s]);const N=p.useRef([]);if(N.current.length===0)for(let D=0;D<100;D++){const H=Math.sin(D*.1)*20+Math.sin(D*.3)*15+Math.random()*25;N.current.push(30+Math.abs(H))}const[S,_]=p.useState(0),k=S||(s==null?void 0:s.duration)||0;p.useEffect(()=>{e&&s&&(console.log("CallLogDetailsModal opened with callData:"),console.log("  id:",s.id),console.log("  customerName:",s.customerName),console.log("  duration:",s.duration),console.log("  hasTranscript:",!!s.transcript),console.log("  transcriptType:",typeof s.transcript),console.log("  All callData keys:",Object.keys(s)),s.transcript?(console.log("  Transcript exists! Type:",typeof s.transcript),typeof s.transcript=="string"?(console.log("  Transcript (string) length:",s.transcript.length),console.log("  Transcript preview:",s.transcript.substring(0,100))):Array.isArray(s.transcript)&&(console.log("  Transcript (array) length:",s.transcript.length),console.log("  First item:",s.transcript[0]))):console.log("   NO TRANSCRIPT IN DATA!"))},[e,s]);const T=D=>{const U=Math.floor(D/60),H=Math.floor(D%60);return`${String(U).padStart(2,"0")}:${String(H).padStart(2,"0")}`},A=async()=>{if(y.current&&s&&s.recording)try{if(a)y.current.pause(),n(!1);else{let D=s.recording;(!y.current.src||!y.current.src.includes(encodeURIComponent(s.recording)))&&(y.current.src=D,await new Promise((U,H)=>{y.current.addEventListener("canplay",U,{once:!0}),y.current.addEventListener("error",H,{once:!0}),y.current.load()})),await y.current.play(),n(!0)}}catch(D){console.error("Playback error:",D),alert("Unable to play audio directly due to browser restrictions. Please use the Download button to save the recording."),n(!1)}else s!=null&&s.recording||alert("No recording available for this call.")},E=()=>{if(y.current&&s&&!f){const D=y.current.currentTime;o(Math.floor(D));const U=Array.isArray(s.transcript)?s.transcript.findIndex(H=>H.startTime!==void 0&&H.endTime!==void 0&&D>=H.startTime&&D<=H.endTime):-1;if(U!==u&&U!==-1&&(h(U),v.current[U]&&w.current)){const H=v.current[U],M=w.current,L=H.offsetTop,q=H.offsetHeight,ue=M.offsetHeight,G=M.scrollTop;(L<G||L+q>G+ue)&&M.scrollTo({top:L-ue/2+q/2,behavior:"smooth"})}}},R=D=>{if(!k||k===0||!b.current){console.log("Cannot seek: Duration is 0 or not available");return}const U=b.current.getBoundingClientRect(),M=Math.max(0,Math.min(D.clientX-U.left,U.width))/U.width,L=M*k;console.log(`Seeking to: ${L.toFixed(2)}s of ${k}s (${(M*100).toFixed(1)}%)`),o(Math.floor(L)),y.current&&(s!=null&&s.recording)&&(y.current.currentTime=L)},z=D=>{f&&(D.preventDefault(),R(D))},B=()=>{f&&(g(!1),console.log("Stopped dragging"))};p.useEffect(()=>{if(f)return document.addEventListener("mousemove",z),document.addEventListener("mouseup",B),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",B)}},[f,k]);const O=D=>{d(D),y.current&&(y.current.playbackRate=D)};return p.useEffect(()=>{if(y.current&&s){const D=y.current,U=()=>{n(!1),o(0),h(-1)};return D.addEventListener("timeupdate",E),D.addEventListener("ended",U),()=>{D.removeEventListener("timeupdate",E),D.removeEventListener("ended",U)}}},[u,s]),p.useEffect(()=>{e||(n(!1),o(0),h(-1),g(!1),y.current&&(y.current.pause(),y.current.currentTime=0))},[e]),p.useEffect(()=>{if(!e||!y.current||!k)return;const D=U=>{switch(U.key){case" ":U.preventDefault(),A();break;case"ArrowLeft":U.preventDefault();const H=Math.max(0,y.current.currentTime-5);y.current.currentTime=H,o(Math.floor(H)),console.log("Skipped back 5 seconds");break;case"ArrowRight":U.preventDefault();const M=Math.min(k,y.current.currentTime+5);y.current.currentTime=M,o(Math.floor(M)),console.log("Skipped forward 5 seconds");break}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[e,k,a]),!e||!s?null:(console.log(" DEBUG: CallLogDetailsModal received callData:",{id:s.id,duration:s.duration,cost:s.cost,recording:s.recording,customerName:s.customerName,effectiveDuration:k,audioDuration:S,hasTranscript:!!s.transcript,transcriptType:typeof s.transcript,transcriptIsArray:Array.isArray(s.transcript),transcriptLength:typeof s.transcript=="string"||Array.isArray(s.transcript)?s.transcript.length:0,transcriptPreview:typeof s.transcript=="string"?s.transcript.substring(0,100)+"...":Array.isArray(s.transcript)&&s.transcript.length>0?JSON.stringify(s.transcript[0]):"No transcript"}),r.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-end bg-black/60 p-0 backdrop-blur-sm",onClick:t,children:r.jsx("div",{className:"h-full w-[50%] overflow-hidden border-l border-gray-700/50 bg-[#1a1a1a] shadow-2xl",onClick:D=>D.stopPropagation(),children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700/50 bg-[#1a1a1a] p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-3",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-6 w-6 text-blue-400",children:r.jsx("path",{d:"M237.2,151.87v0a47.1,47.1,0,0,0-2.35-5.45L193.26,51.8a7.82,7.82,0,0,0-1.66-2.44,32,32,0,0,0-45.26,0A8,8,0,0,0,144,55V80H112V55a8,8,0,0,0-2.34-5.66,32,32,0,0,0-45.26,0,7.82,7.82,0,0,0-1.66,2.44L21.15,146.4a47.1,47.1,0,0,0-2.35,5.45v0A48,48,0,1,0,112,168V96h32v72a48,48,0,1,0,93.2-16.13ZM76.71,59.75a16,16,0,0,1,19.29-1v73.51a47.9,47.9,0,0,0-46.79-9.92ZM64,200a32,32,0,1,1,32-32A32,32,0,0,1,64,200ZM160,58.74a16,16,0,0,1,19.29,1l27.5,62.58A47.9,47.9,0,0,0,160,132.25ZM192,200a32,32,0,1,1,32-32A32,32,0,0,1,192,200Z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Call Log Details"}),s.customerName&&r.jsxs("p",{className:"text-sm text-gray-400 mt-0.5",children:["with ",s.customerName,"  ",T(k)]})]})]}),r.jsx("button",{onClick:t,className:"rounded-xl p-2 text-gray-400 transition-all duration-200 hover:bg-gray-700/50 hover:text-white",children:r.jsx(At,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"overflow-y-auto flex-shrink-0 border-b border-gray-700/50 bg-[#1a1a1a] p-4",style:{maxHeight:"40%"},children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-white",children:"Call Details"}),r.jsx("div",{className:"flex items-center gap-2",children:s.status&&r.jsx("span",{className:`rounded px-2 py-1 text-xs font-medium ${s.status==="completed"?"bg-green-500/10 text-green-400":s.status==="failed"?"bg-red-500/10 text-red-400":"bg-gray-800/30 text-gray-400"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})})]}),r.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Contact"}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Name:"}),r.jsx("span",{className:"text-white font-medium",children:s.customerName||"Unknown"})]}),s.customerPhone&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Phone:"}),r.jsx("span",{className:"text-white font-mono text-xs",children:s.customerPhone})]}),s.customerCompany&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Company:"}),r.jsx("span",{className:"text-white",children:s.customerCompany})]}),s.customerEmail&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Email:"}),r.jsx("span",{className:"text-white text-xs",children:s.customerEmail})]})]})]}),r.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-800/30 p-3",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Call Stats"}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Duration:"}),r.jsx("span",{className:"text-lg font-mono text-white font-medium",children:T(k)})]}),s.cost!==void 0&&s.cost>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Cost:"}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:["$",s.cost.toFixed(3)]})]}),s.direction&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Direction:"}),r.jsx("span",{className:"text-white capitalize",children:s.direction})]})]})]})]}),(s.campaignName||s.startedAt||s.vapiCallId)&&r.jsxs("div",{className:"mb-4 space-y-2 rounded-lg bg-gray-800/30 p-3",children:[s.campaignName&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Campaign:"}),r.jsx("span",{className:"text-white",children:s.campaignName})]}),s.startedAt&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Started:"}),r.jsx("span",{className:"text-white",children:new Date(s.startedAt).toLocaleString()})]}),s.endedAt&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Ended:"}),r.jsx("span",{className:"text-white",children:new Date(s.endedAt).toLocaleString()})]}),s.vapiCallId&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"VAPI ID:"}),r.jsxs("span",{className:"text-white font-mono text-xs",children:[s.vapiCallId.substring(0,8),"..."]})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Space: Play/Pause  : Skip 5s  Click/Drag: Seek"})]}),r.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:r.jsx("span",{className:"font-mono text-sm text-gray-300",children:T(k)})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("button",{onClick:A,className:"group relative flex-shrink-0",children:r.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:a?r.jsx(gd,{className:"h-5 w-5 text-white",strokeWidth:2}):r.jsx(Kn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),r.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4 cursor-pointer select-none",onMouseDown:D=>{if(D.preventDefault(),D.stopPropagation(),!k||k===0){console.log("Cannot seek: Duration is 0 or not available");return}const U=D.currentTarget.getBoundingClientRect(),H=D.clientX-U.left,M=Math.max(0,Math.min(1,H/U.width)),L=M*k;y.current&&s.recording&&(console.log(`Waveform seek to: ${L.toFixed(2)}s of ${k}s (${(M*100).toFixed(1)}%)`),y.current.currentTime=L,o(Math.floor(L)))},children:[r.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5 pointer-events-none",children:N.current.map((D,U)=>{const H=k>0&&U/100*k<=i;return r.jsx("div",{className:"flex-1 rounded-t transition-all",style:{height:`${D}%`,backgroundColor:H?"#10b981":"#4b5563",opacity:H?1:.5,transition:"background-color 150ms ease-out"}},U)})}),r.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50 pointer-events-none",style:{left:`${k>0?i/k*100:0}%`}}),r.jsx("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-800 rounded text-xs text-white whitespace-nowrap",children:"Click to seek"})})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("select",{value:l,onChange:D=>O(Number(D.target.value)),className:"rounded-xl border border-gray-600/50 bg-gray-800/50 px-3 py-3 text-sm text-white transition-all focus:border-green-500/50 focus:ring-2 focus:ring-green-500/50 focus:outline-none",children:[r.jsx("option",{value:.5,children:"0.5x"}),r.jsx("option",{value:.75,children:"0.75x"}),r.jsx("option",{value:1,children:"1.0x"}),r.jsx("option",{value:1.25,children:"1.25x"}),r.jsx("option",{value:1.5,children:"1.5x"}),r.jsx("option",{value:1.75,children:"1.75x"}),r.jsx("option",{value:2,children:"2.0x"})]})}),r.jsxs("button",{onClick:()=>{s.recording&&window.open(s.recording,"_blank")},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[r.jsx(yn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),r.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-mono text-gray-400",children:T(i)}),r.jsxs("span",{className:"font-mono text-gray-500",children:["-",T(Math.max(0,k-i))]})]}),r.jsxs("div",{ref:b,className:"relative h-12 flex items-center cursor-pointer select-none",onMouseDown:D=>{if(D.preventDefault(),D.stopPropagation(),!k||k===0){console.log("Cannot seek: Duration is 0 or not available");return}g(!0),R(D),console.log("Started dragging")},onClick:D=>{D.preventDefault(),D.stopPropagation(),R(D)},style:{touchAction:"none"},children:[r.jsx("div",{className:"absolute inset-0"}),r.jsx("div",{className:"absolute inset-x-0 h-2 overflow-hidden rounded-full bg-gray-700/50",children:r.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${k>0?i/k*100:0}%`,transition:f?"none":"width 100ms"}})}),r.jsx("div",{className:`absolute top-1/2 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg ${f?"h-5 w-5":"h-4 w-4"} transition-all`,style:{left:`${k>0?i/k*100:0}%`,boxShadow:f?"0 0 0 8px rgba(34, 197, 94, 0.3)":"0 0 0 4px rgba(34, 197, 94, 0.2)",cursor:f?"grabbing":"grab",transition:f?"none":"all 100ms"}}),r.jsx("div",{className:"absolute -top-8 left-0 right-0 flex justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded",children:f?"Drag to seek":"Click or drag to seek"})})]})]})]})]})}),s.recording&&r.jsx("audio",{ref:y,src:s.recording,preload:"metacallData",onError:D=>{console.error("Audio loading error:",D),console.error("Failed to load:",s.recording),n(!1)},onLoadedMetadata:D=>{const U=D.currentTarget;console.log("Audio metadata loaded:",{duration:U.duration,src:U.src}),U.duration&&!isNaN(U.duration)&&(_(U.duration),console.log("Set audio duration to:",U.duration))},onDurationChange:D=>{const U=D.currentTarget;U.duration&&!isNaN(U.duration)&&(_(U.duration),console.log("Duration changed to:",U.duration))},onCanPlay:()=>{console.log("Audio ready to play")}})]})]}),r.jsxs(yo,{defaultValue:"transcripts",className:"flex flex-1 flex-col bg-[#1a1a1a] min-h-0",children:[r.jsx("div",{className:"border-b border-gray-700/50 bg-[#1a1a1a] px-6",children:r.jsxs(Oi,{className:"h-14 space-x-8 bg-transparent p-0",children:[r.jsxs(jt,{value:"transcripts",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:r.jsx("path",{d:"M232,48H160a40,40,0,0,0-32,16A40,40,0,0,0,96,48H24a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H96a24,24,0,0,1,24,24,8,8,0,0,0,16,0,24,24,0,0,1,24-24h72a8,8,0,0,0,8-8V56A8,8,0,0,0,232,48ZM96,192H32V64H96a24,24,0,0,1,24,24V200A39.81,39.81,0,0,0,96,192Zm128,0H160a39.81,39.81,0,0,0-24,8V88a24,24,0,0,1,24-24h64Z"})}),"Transcripts"]}),r.jsxs(jt,{value:"logs",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:r.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),"Logs"]}),r.jsxs(jt,{value:"analysis",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:r.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"})}),"Analysis"]}),r.jsxs(jt,{value:"messages",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:r.jsx("path",{d:"M93.31,70,28,128l65.27,58a8,8,0,1,1-10.62,12l-72-64a8,8,0,0,1,0-12l72-64A8,8,0,1,1,93.31,70Zm152,52-72-64a8,8,0,0,0-10.62,12L228,128l-65.27,58a8,8,0,1,0,10.62,12l72-64a8,8,0,0,0,0-12Z"})}),"Messages"]}),r.jsxs(jt,{value:"cost",className:"flex items-center gap-2 rounded-none border-b-2 border-transparent bg-transparent px-0 pb-4 text-gray-400 transition-all duration-200 hover:text-white data-[state=active]:border-green-500 data-[state=active]:bg-transparent data-[state=active]:text-green-400 data-[state=active]:shadow-none",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-4 w-4",children:r.jsx("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V200H224A8,8,0,0,1,232,208ZM132,160a12,12,0,1,0-12-12A12,12,0,0,0,132,160Zm-24-56A12,12,0,1,0,96,92,12,12,0,0,0,108,104ZM76,176a12,12,0,1,0-12-12A12,12,0,0,0,76,176Zm96-48a12,12,0,1,0-12-12A12,12,0,0,0,172,128Zm24-40a12,12,0,1,0-12-12A12,12,0,0,0,196,88Zm-20,76a12,12,0,1,0,12-12A12,12,0,0,0,176,164Z"})}),"Call Cost"]})]})}),r.jsxs("div",{className:"mx-6 mb-6 mt-6 flex min-h-0 w-auto flex-1 flex-col rounded-2xl border border-gray-700/30 bg-gray-900/40 px-6 py-4 backdrop-blur-sm",children:[r.jsx(Nt,{value:"transcripts",className:"mt-2 flex flex-1 flex-col",children:r.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[r.jsx("div",{className:"mb-4 pb-3 border-b border-gray-700/30",children:r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transcript"})}),r.jsx("div",{ref:w,className:"flex-1 overflow-y-auto space-y-4 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",style:{maxHeight:"calc(100vh - 400px)",minHeight:"200px"},children:s&&s.transcript&&Array.isArray(s.transcript)?r.jsx(r.Fragment,{children:s.transcript.map((D,U)=>r.jsxs("div",{ref:H=>v.current[U]=H,className:"flex flex-col space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("strong",{className:`text-sm font-bold ${D.speaker==="user"?"text-blue-400":"text-green-400"}`,children:D.speaker==="user"?"User":"AI"})}),r.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 p-3 text-sm text-gray-300",children:D.text})]},U))}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[r.jsx("p",{className:"text-lg",children:"No transcript available"}),r.jsxs("p",{className:"text-xs mt-2",children:["Debug: callData=",s?"exists":"null",", transcript=",s!=null&&s.transcript?"exists":"null",", isArray=",Array.isArray(s==null?void 0:s.transcript)?"yes":"no"]})]})})]})}),r.jsxs(Nt,{value:"logs",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"logs-tab-content",children:[r.jsx("div",{className:"sticky top-0 z-10 mb-4 border-b border-gray-700/30 bg-gray-900/40 pb-3 backdrop-blur-sm",children:r.jsxs("div",{className:"flex flex-row items-center gap-3",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 256 256",className:"h-5 w-5 text-gray-400",children:r.jsx("path",{d:"M88,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H96A8,8,0,0,1,88,64Zm128,56H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H96a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM56,56H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Zm0,64H40a8,8,0,0,0,0,16H56a8,8,0,0,0,0-16Z"})}),r.jsx("span",{className:"text-lg font-semibold text-white",children:"Logs"})]})}),r.jsxs("div",{className:"flex-1 space-y-1 overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4a5568 #2d3748"},children:[r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:883"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:22:963"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly starting"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:162"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech started"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:23:442"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech possibly stopping"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Endpointing timeout 600ms (rule: `heuristic`)"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:200"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Transcriber output: Hello?"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:923"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"User speech stopped"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:963"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:24:964"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request started (attempt #1, gpt-4.1-2025-04-14, azure-openai, westus)"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:333"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request active (attempt #1, 0 buffered outputs)"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:334"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model sent start token"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:336"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: Hello"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:380"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model output: , is it possible to speak to Harris please?"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:25:827"}),r.jsx("span",{className:"rounded bg-cyan-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Model request cost (attempt #1, $0.004544, 2228 prompt, 11 completion)"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),r.jsx("span",{className:"rounded bg-blue-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-blue-400",children:"[INFO]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Turn latency: 1889ms (transcriber: 0ms, endpointing: 762ms, kb: n/a, model: 374ms, voice: 727ms)"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:26:090"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech started"})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded px-2 py-1.5 transition-colors hover:bg-gray-800/20",children:[r.jsx("span",{className:"rounded bg-gray-800/30 px-1.5 py-0.5 font-mono text-[10px] text-xs text-gray-500",children:"11:53:28:489"}),r.jsx("span",{className:"rounded bg-green-400/10 px-1.5 py-0.5 text-[10px] text-xs font-medium text-green-400",children:"[CHECKPOINT]"}),r.jsx("p",{className:"flex-1 text-xs text-gray-300",children:"Assistant speech stopped"})]}),r.jsx("div",{className:"rounded-lg border border-gray-700/10 bg-gray-800/20 transition-colors hover:bg-gray-800/30",children:r.jsxs("div",{className:"flex items-start space-x-3 p-3",children:[r.jsx("span",{className:"w-20 rounded bg-gray-800/50 px-2 py-1 font-mono text-xs text-gray-500",children:"11:53:30:321"}),r.jsx("span",{className:"flex-shrink-0 rounded bg-cyan-400/10 px-2 py-1 text-xs font-medium text-cyan-400",children:"[LOG]"}),r.jsx("p",{className:"flex-1 text-sm text-gray-300",children:"Transcriber output: Speaking."})]})})]})]}),r.jsx(Nt,{value:"analysis",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"analysis-tab-content",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-white",children:"Call Analysis"}),r.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[r.jsx("h5",{className:"mb-3 font-medium text-white",children:"Sentiment Analysis"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Overall Sentiment:"}),r.jsx("span",{className:`${(I=s.analysis)!=null&&I.sentiment&&s.analysis.sentiment>.6?"text-green-400":"text-yellow-400"}`,children:(F=s.analysis)!=null&&F.sentiment&&s.analysis.sentiment>.6?"Positive":"Neutral"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Confidence:"}),r.jsxs("span",{className:"text-white",children:[((((V=s.analysis)==null?void 0:V.sentiment)||0)*100).toFixed(0),"%"]})]})]})]}),r.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[r.jsx("h5",{className:"mb-3 font-medium text-white",children:"Call Summary"}),r.jsx("div",{className:"text-sm text-gray-300",children:(W=s.analysis)==null?void 0:W.summary})]}),r.jsxs("div",{className:"rounded-lg bg-gray-700/50 p-4",children:[r.jsx("h5",{className:"mb-3 font-medium text-white",children:"Keywords"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(X=s.analysis)==null?void 0:X.keywords.map((D,U)=>r.jsx("span",{className:"rounded border border-gray-600 bg-gray-800 px-2 py-1 text-xs text-gray-300",children:D},U))})]})]})}),r.jsx(Nt,{value:"messages",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"messages-tab-content",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-white",children:"Messages"}),r.jsx("div",{className:"text-sm text-gray-400",children:r.jsx("p",{children:"Messages and notifications related to this call."})})]})}),r.jsx(Nt,{value:"cost",className:"mt-2 flex h-full flex-1 flex-col","data-testid":"cost-breakdown-tab-content",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-white",children:"Call Cost Breakdown"}),r.jsxs("div",{className:"rounded-lg bg-gray-800/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Call Duration"}),r.jsx("span",{className:"text-2xl font-mono text-white font-medium",children:T(k)})]}),k>0&&r.jsxs("div",{className:"text-xs text-gray-500",children:[Math.floor(k/60)," minutes ",Math.floor(k%60)," seconds"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Rate per Minute:"}),r.jsx("span",{className:"text-white",children:"$0.037"})]}),k>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Calculated Cost:"}),r.jsxs("span",{className:"text-white",children:["$",(k/60*.037).toFixed(3)]})]}),r.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[r.jsx("span",{className:"font-medium text-gray-400",children:"Total Cost:"}),r.jsxs("span",{className:"font-medium text-emerald-400",children:["$",s.cost?s.cost.toFixed(2):"0.00"]})]})]})]})})]})]})]})})}))};async function Nie(e,t){return console.warn("No OpenAI API key found, using fallback analysis"),_ie(e)}function _ie(e){const t=e.toLowerCase();let s="connected",a="neutral",n=!1,i=!1,o=!1;t.includes("hung up")||t.includes("call ended")?(s="hung_up",a="negative"):t.includes("voicemail")||t.includes("leave a message")?s="voicemail":t.includes("call me back")||t.includes("call back later")?(s="callback",n=!0):t.includes("interested")||t.includes("sounds good")||t.includes("tell me more")||t.includes("yes")&&t.includes("appointment")?(s="interested",a="positive",o=!0):(t.includes("not interested")||t.includes("don't need")||t.includes("no thank"))&&(s="not_interested",a="negative"),(t.includes("appointment")||t.includes("schedule")||t.includes("saturday at")||t.includes("monday at")||t.includes("tuesday at")||t.includes("wednesday at")||t.includes("thursday at")||t.includes("friday at"))&&(i=!0,a="positive",s="interested",o=!0);const l=[];i&&l.push("Appointment scheduled"),n&&l.push("Callback requested"),o&&l.push("Customer showed interest"),t.includes("solar")&&l.push("Discussed solar energy"),t.includes("consultation")&&l.push("Free consultation offered");let d="Call completed. ";return i?d="Appointment successfully scheduled. ":n?d="Customer requested a callback. ":s==="interested"?d="Customer expressed interest. ":s==="not_interested"&&(d="Customer declined the offer. "),{outcome:s,sentiment:a,confidence:.7,summary:d,keyPoints:l,nextSteps:i?"Follow up before appointment":n?"Schedule callback":s==="interested"?"Send follow-up information":void 0,callbackRequested:n,appointmentScheduled:i,interestedInProduct:o}}const Pz=window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com"),Ez=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",B1=Pz?"https://apex-backend-vercel-alh0xjd6q-seans-projects-aabd20b2.vercel.app/api":Ez?"http://localhost:3001/api":"/api";console.log(" AllCalls using smart API detection:",{hostname:window.location.hostname,isNetlify:Pz,isLocalDev:Ez,API_BASE_URL:B1});const Sie={connected:"bg-green-500",interested:"bg-emerald-500",callback:"bg-blue-500",voicemail:"bg-yellow-500",no_answer:"bg-orange-500",busy:"bg-red-500",failed:"bg-red-600",not_interested:"bg-gray-500"},Cie={positive:"bg-green-500",neutral:"bg-gray-500",negative:"bg-red-500"};function kie(e){if(!e)return[];const t=e.split(`
`),s=[];for(const a of t)a.trim()&&(a.startsWith("User:")||a.startsWith("user:")?s.push({speaker:"user",text:a.replace(/^(User:|user:)\s*/,"").trim()}):a.startsWith("AI:")||a.startsWith("ai:")||a.startsWith("Assistant:")?s.push({speaker:"ai",text:a.replace(/^(AI:|ai:|Assistant:)\s*/,"").trim()}):s.length>0&&(s[s.length-1].text+=" "+a.trim()));return s}async function Aie(e){if(!e.transcript)return e;console.log(` Analyzing call ${e.id} with OpenAI...`);try{const t=await Nie(e.transcript);return console.log(` OpenAI Analysis for call ${e.id}:`,{outcome:t.outcome,sentiment:t.sentiment,confidence:t.confidence,summary:t.summary}),{...e,outcome:t.outcome,sentiment:t.sentiment,summary:t.summary,ai_analysis:t}}catch(t){return console.error(` Failed to analyze call ${e.id} with OpenAI:`,t),e}}function Pie(){var X;const e=br(),[t,s]=p.useState(!1),[a,n]=p.useState(null),{getToken:i}=en(),{toast:o}=Ur(),[l,d]=p.useState([]),[u,h]=p.useState(!0),[f,g]=p.useState({totalCalls:0,connectedCalls:0,totalDuration:0,totalCost:0,averageDuration:0,connectionRate:0,positiveRate:0}),[y,w]=p.useState(1),[v,b]=p.useState(50),[N,S]=p.useState(""),[_,k]=p.useState({type:"all",outcome:"all",sentiment:"all",agent:"all",campaign:"all",dateRange:"all"}),[T,A]=p.useState("startTime"),[E,R]=p.useState("desc"),z=async()=>{var D,U,H,M,L,q,ue,G;try{h(!0),console.log(" DEBUGGING: Fetching calls directly from Supabase...");const{createClient:ge}=await pn(async()=>{const{createClient:he}=await Promise.resolve().then(()=>QX);return{createClient:he}},void 0),Fe=ge("https://twigokrtbvigiqnaybfy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3aWdva3J0YnZpZ2lxbmF5YmZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMzUyNjksImV4cCI6MjA2NjcxMTI2OX0.AcRI1NYcCYpRqvHZvux15kMbGPocFbvT6uLf5DD6v24"),{data:le,error:Se}=await Fe.from("calls").select("*").eq("organization_id","2566d8c5-2245-4a3c-b539-4cea21a07d9b").order("created_at",{ascending:!1}).limit(50);if(Se)throw console.error(" Supabase error:",Se),new Error(`Supabase query failed: ${Se.message}`);console.log(` Found ${le.length} real calls from Supabase directly`),console.log(" Starting OpenAI analysis for all calls...");const Pe=await Promise.all(le.map(he=>Aie(he)));console.log(" OpenAI analysis complete for all calls");const te={ok:!0,json:async()=>({success:!0,calls:Pe,metrics:{totalCalls:Pe.length,connectedCalls:Pe.filter(he=>he.status==="completed").length,totalDuration:Pe.reduce((he,_e)=>he+(_e.duration||0),0),totalCost:Pe.reduce((he,_e)=>he+(_e.cost||0),0),averageDuration:Pe.length>0?Math.round(Pe.reduce((he,_e)=>he+(_e.duration||0),0)/Pe.length):0,connectionRate:Pe.length>0?Math.round(Pe.filter(he=>he.status==="completed").length/Pe.length*100):0,positiveRate:100}})};if(console.log(" DEBUGGING: Response status:",te.status),console.log(" DEBUGGING: Response URL:",te.url),te.ok){const he=await te.json();if(console.log(" DEBUGGING: Full response data:",he),console.log(" DEBUGGING: Response type:",typeof he),console.log(" DEBUGGING: Data keys:",Object.keys(he||{})),console.log(" DEBUGGING: Calls array:",he.calls),console.log(" DEBUGGING: Calls array type:",typeof he.calls),console.log(" DEBUGGING: First call data:",(D=he.calls)==null?void 0:D[0]),!he.calls||!Array.isArray(he.calls)){console.error(" DEBUGGING: data.calls is not an array:",he.calls),d([]);return}console.log(" DEBUGGING: Starting Supabase data transformation...");const _e=he.calls.map((Te,oe)=>{if(console.log(` DEBUGGING: Processing Supabase call ${oe}:`,Te),!Te)return console.error(` DEBUGGING: Call ${oe} is null/undefined`),null;let We=Te.customer_name||"Unknown Contact";if(!Te.customer_name&&Te.transcript){const ce=[Te.transcript.match(/Hi,?\s+([A-Za-z]+)/),Te.transcript.match(/speak to ([A-Za-z]+)/),Te.transcript.match(/Hello,?\s+([A-Za-z]+)/)];for(const Ie of ce)if(Ie&&Ie[1]&&Ie[1].length>1){We=Ie[1];break}}if(We==="Unknown Contact"&&Te.summary){const ce=Te.summary.match(/called ([A-Za-z]+)/);ce&&ce[1]&&(We=ce[1])}const pt={id:Te.vapi_call_id||Te.id,type:Te.direction==="inbound"?"inbound":"outbound",contact:{name:We,phone:Te.phone_number||"Unknown",company:"Emerald Green Energy"},agent:{name:"AI Assistant",type:"ai"},campaign:Te.campaign_id?{name:`Campaign ${Te.campaign_id}`,id:Te.campaign_id}:null,startTime:Te.started_at||Te.created_at,duration:Te.duration||0,outcome:Te.outcome||"connected",sentiment:Te.sentiment||"positive",cost:Te.cost||0,recording:Te.recording_url,transcript:Te.transcript,notes:Te.summary,status:Te.status==="completed"?"completed":"in-progress"};return console.log(` DEBUGGING: Transformed Supabase call ${oe}:`,pt),pt}).filter(Boolean);console.log(" DEBUGGING: Final transformed calls:",_e),d(_e),g({totalCalls:((U=he.metrics)==null?void 0:U.totalCalls)||_e.length,connectedCalls:((H=he.metrics)==null?void 0:H.connectedCalls)||_e.length,totalDuration:((M=he.metrics)==null?void 0:M.totalDuration)||0,totalCost:((L=he.metrics)==null?void 0:L.totalCost)||0,averageDuration:((q=he.metrics)==null?void 0:q.averageDuration)||0,connectionRate:((ue=he.metrics)==null?void 0:ue.connectionRate)||100,positiveRate:((G=he.metrics)==null?void 0:G.positiveRate)||100})}else{console.log(" DEBUGGING: Response not ok, status:",te.status);const he=await te.text();throw console.log(" DEBUGGING: Error response text:",he),new Error(`HTTP ${te.status}: ${he}`)}}catch(ge){console.error(" Error fetching calls:",ge),console.log(" DEBUGGING: Using fallback/mock data?"),o({title:"Error",description:"Failed to fetch calls. Please try again.",variant:"destructive"}),d([])}finally{h(!1)}},B=async()=>{try{const D=await i(),U=await fetch(`${B1}/calls/metrics`,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(U.ok){const H=await U.json();g(H)}}catch(D){console.error(" Error fetching metrics:",D)}};p.useEffect(()=>{z(),B()},[y,v,N,_,T,E]);const O=async()=>{try{const D=await i(),U=await fetch(`${B1}/calls/export`,{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify({filters:_,searchTerm:N})});if(U.ok){const H=await U.blob(),M=window.URL.createObjectURL(H),L=document.createElement("a");L.href=M,L.download=`calls-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(L),L.click(),window.URL.revokeObjectURL(M),document.body.removeChild(L),o({title:"Success",description:"Data exported successfully."})}else throw new Error("Export failed")}catch(D){console.error(" Error exporting calls:",D),o({title:"Error",description:"Failed to export data. Please try again.",variant:"destructive"})}},I=D=>{const U=Math.floor(D/60),H=D%60;return`${U}:${H.toString().padStart(2,"0")}`},F=D=>`$${D.toFixed(2)}`,V=D=>{n(D),s(!0)},W=l.filter(D=>{var G;const U=D.contact.name.toLowerCase().includes(N.toLowerCase())||D.contact.phone.includes(N)||D.contact.company&&D.contact.company.toLowerCase().includes(N.toLowerCase())||D.agent.name.toLowerCase().includes(N.toLowerCase()),H=_.type==="all"||D.type===_.type,M=_.outcome==="all"||D.outcome===_.outcome,L=_.sentiment==="all"||D.sentiment===_.sentiment,q=_.agent==="all"||D.agent.name===_.agent,ue=_.campaign==="all"||((G=D.campaign)==null?void 0:G.id)===_.campaign;return U&&H&&M&&L&&q&&ue});return u?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between"}),r.jsx("div",{className:"flex h-64 items-center justify-center",children:r.jsx("div",{className:"text-zinc-400",children:"Loading call data..."})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-zinc-400",children:"View and manage all your calls"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(K,{onClick:z,variant:"outline",size:"sm",children:[r.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]}),r.jsxs(K,{onClick:O,variant:"outline",size:"sm",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Calls"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:((f==null?void 0:f.totalCalls)||0).toLocaleString()})]}),r.jsx(dt,{className:"h-8 w-8 text-emerald-500"})]})})}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Connected"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:((f==null?void 0:f.connectedCalls)||0).toLocaleString()}),r.jsxs("p",{className:"text-xs text-zinc-500",children:[((f==null?void 0:f.connectionRate)||0).toFixed(1),"% connection rate"]})]}),r.jsx(I0,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Duration"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:I((f==null?void 0:f.totalDuration)||0)}),r.jsxs("p",{className:"text-xs text-zinc-500",children:["Avg: ",I((f==null?void 0:f.averageDuration)||0)]})]})})})}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Cost"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:F((f==null?void 0:f.totalCost)||0)}),r.jsxs("p",{className:"text-xs text-zinc-500",children:[((f==null?void 0:f.positiveRate)||0).toFixed(1),"% positive rate"]})]}),r.jsx(Hr,{className:"h-8 w-8 text-yellow-500"})]})})})]}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),r.jsx(Ae,{placeholder:"Search calls...",value:N,onChange:D=>S(D.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),r.jsxs(Qe,{value:_.type,onValueChange:D=>k({..._,type:D}),children:[r.jsx(Je,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{placeholder:"Filter by type"})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"all",children:"All Types"}),r.jsx(ae,{value:"inbound",children:"Inbound"}),r.jsx(ae,{value:"outbound",children:"Outbound"}),r.jsx(ae,{value:"missed",children:"Missed"})]})]}),r.jsxs(Qe,{value:_.outcome,onValueChange:D=>k({..._,outcome:D}),children:[r.jsx(Je,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{placeholder:"Filter by outcome"})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"all",children:"All Outcomes"}),r.jsx(ae,{value:"connected",children:"Connected"}),r.jsx(ae,{value:"interested",children:"Interested"}),r.jsx(ae,{value:"callback",children:"Callback"}),r.jsx(ae,{value:"voicemail",children:"Voicemail"}),r.jsx(ae,{value:"no_answer",children:"No Answer"}),r.jsx(ae,{value:"busy",children:"Busy"}),r.jsx(ae,{value:"failed",children:"Failed"})]})]}),r.jsxs(Qe,{value:_.sentiment,onValueChange:D=>k({..._,sentiment:D}),children:[r.jsx(Je,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{placeholder:"Filter by sentiment"})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"all",children:"All Sentiments"}),r.jsx(ae,{value:"positive",children:"Positive"}),r.jsx(ae,{value:"neutral",children:"Neutral"}),r.jsx(ae,{value:"negative",children:"Negative"})]})]})]})})}),r.jsxs(Y,{className:"border-zinc-800 bg-zinc-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"text-white",children:["Call Records (",W.length,")"]})}),r.jsx(J,{children:W.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(dt,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),r.jsx("p",{className:"text-zinc-400",children:"No calls found"}),r.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):r.jsx("div",{className:"space-y-3",children:W.map(D=>r.jsxs("div",{className:"flex cursor-pointer items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4 transition-all duration-200 hover:bg-zinc-700/50",onClick:()=>V(D),children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:D.type==="inbound"?r.jsx(dt,{className:"h-5 w-5 text-green-500"}):D.type==="outbound"?r.jsx(I0,{className:"h-5 w-5 text-blue-500"}):r.jsx(gY,{className:"h-5 w-5 text-red-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"font-medium text-white",children:D.contact.name}),r.jsx(ke,{className:`${Sie[D.outcome]} text-white`,children:D.outcome.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase())}),r.jsx(ke,{className:`${Cie[D.sentiment]} text-white`,children:D.sentiment.charAt(0).toUpperCase()+D.sentiment.slice(1)})]}),r.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[r.jsx("span",{children:D.contact.phone}),D.contact.company&&r.jsx("span",{children:D.contact.company}),r.jsxs("span",{children:[D.agent.name," (",D.agent.type.charAt(0).toUpperCase()+D.agent.type.slice(1),")"]}),D.campaign&&r.jsx("span",{children:D.campaign.name})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-6 text-sm text-zinc-400",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white",children:new Date(D.startTime).toLocaleDateString()}),r.jsx("p",{children:new Date(D.startTime).toLocaleTimeString()})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white",children:I(D.duration)}),r.jsx("p",{children:F(D.cost)})]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",onClick:U=>U.stopPropagation(),children:r.jsx(uy,{className:"h-4 w-4"})})}),r.jsxs(Jn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[r.jsxs(Yt,{onClick:()=>V(D),className:"text-zinc-300 hover:text-white",children:[r.jsx(Fo,{className:"mr-2 h-4 w-4"}),"View Details"]}),D.recording&&r.jsxs(Yt,{onClick:()=>V(D),className:"text-zinc-300 hover:text-white",children:[r.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Play Recording"]}),D.transcript&&r.jsxs(Yt,{onClick:()=>V(D),className:"text-zinc-300 hover:text-white",children:[r.jsx(Fo,{className:"mr-2 h-4 w-4"}),"View Transcript"]}),D.leadId&&r.jsxs(Yt,{onClick:()=>e(`/leads/${D.leadId}`),className:"text-zinc-300 hover:text-white",children:[r.jsx(Ot,{className:"mr-2 h-4 w-4"}),"View Lead"]})]})]})]})]},D.id))})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-zinc-400",children:"Show"}),r.jsxs(Qe,{value:v.toString(),onValueChange:D=>b(parseInt(D)),children:[r.jsx(Je,{className:"w-20 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"25",children:"25"}),r.jsx(ae,{value:"50",children:"50"}),r.jsx(ae,{value:"100",children:"100"})]})]}),r.jsx("span",{className:"text-sm text-zinc-400",children:"per page"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(Math.max(1,y-1)),disabled:y===1,children:r.jsx(cc,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm text-zinc-400",children:["Page ",y]}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(y+1),disabled:W.length<v,children:r.jsx(ei,{className:"h-4 w-4"})})]})]}),r.jsx(zy,{isOpen:t,onClose:()=>s(!1),callData:a?{id:a.id,duration:a.duration,transcript:a.transcript?kie(a.transcript):[],recording:a.recording,cost:a.cost,customerName:a.contact.name,customerPhone:a.contact.phone,customerCompany:a.contact.company,status:a.status,startedAt:a.startTime,campaignName:(X=a.campaign)==null?void 0:X.name,direction:a.type,analysis:{sentiment:a.sentiment==="positive"?.8:a.sentiment==="negative"?.2:.5,keywords:["inquiry","interested","follow-up"],summary:a.notes||`Call with ${a.contact.name} resulted in ${a.outcome}.`}}:void 0})]})}var ej={},tj={},IE;function Eie(){return IE||(IE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==="__proto__"}e.isUnsafeProperty=t}(tj)),tj}var rj={},DE;function Tz(){return DE||(DE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=t}(rj)),rj}var sj={},$E;function Oz(){return $E||($E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=t}(sj)),sj}var aj={},LE;function HS(){return LE||(LE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){const a=[],n=s.length;if(n===0)return a;let i=0,o="",l="",d=!1;for(s.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const u=s[i];l?u==="\\"&&i+1<n?(i++,o+=s[i]):u===l?l="":o+=u:d?u==='"'||u==="'"?l=u:u==="]"?(d=!1,a.push(o),o=""):o+=u:u==="["?(d=!0,o&&(a.push(o),o="")):u==="."?o&&(a.push(o),o=""):o+=u,i++}return o&&a.push(o),a}e.toPath=t}(aj)),aj}var zE;function KS(){return zE||(zE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eie(),s=Tz(),a=Oz(),n=HS();function i(l,d,u){if(l==null)return u;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return u;const h=l[d];return h===void 0?s.isDeepKey(d)?i(l,n.toPath(d),u):u:h}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const h=l[d];return h===void 0?u:h}default:{if(Array.isArray(d))return o(l,d,u);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return u;const h=l[d];return h===void 0?u:h}}}function o(l,d,u){if(d.length===0)return u;let h=l;for(let f=0;f<d.length;f++){if(h==null||t.isUnsafeProperty(d[f]))return u;h=h[d[f]]}return h===void 0?u:h}e.get=i}(ej)),ej}var nj,FE;function Tie(){return FE||(FE=1,nj=KS().get),nj}var Oie=Tie();const Nd=Qn(Oie);var ij={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function Rie(){if(UE)return cr;UE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case e:switch(b=b.type,b){case s:case n:case a:case u:case h:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case d:case g:case f:case i:return b;default:return N}}case t:return N}}}return cr.ContextConsumer=o,cr.ContextProvider=i,cr.Element=e,cr.ForwardRef=d,cr.Fragment=s,cr.Lazy=g,cr.Memo=f,cr.Portal=t,cr.Profiler=n,cr.StrictMode=a,cr.Suspense=u,cr.SuspenseList=h,cr.isAsyncMode=function(){return!1},cr.isConcurrentMode=function(){return!1},cr.isContextConsumer=function(b){return v(b)===o},cr.isContextProvider=function(b){return v(b)===i},cr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},cr.isForwardRef=function(b){return v(b)===d},cr.isFragment=function(b){return v(b)===s},cr.isLazy=function(b){return v(b)===g},cr.isMemo=function(b){return v(b)===f},cr.isPortal=function(b){return v(b)===t},cr.isProfiler=function(b){return v(b)===n},cr.isStrictMode=function(b){return v(b)===a},cr.isSuspense=function(b){return v(b)===u},cr.isSuspenseList=function(b){return v(b)===h},cr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===s||b===n||b===a||b===u||b===h||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===f||b.$$typeof===i||b.$$typeof===o||b.$$typeof===d||b.$$typeof===w||b.getModuleId!==void 0)},cr.typeOf=v,cr}var BE;function Mie(){return BE||(BE=1,ij.exports=Rie()),ij.exports}var Iie=Mie(),Fs=e=>e===0?0:e>0?1:-1,Qa=e=>typeof e=="number"&&e!=+e,ed=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,st=e=>(typeof e=="number"||e instanceof Number)&&!Qa(e),no=e=>st(e)||typeof e=="string",Die=0,Nf=e=>{var t=++Die;return"".concat(e||"").concat(t)},xa=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(t)&&typeof t!="string")return a;var i;if(ed(t)){if(s==null)return a;var o=t.indexOf("%");i=s*parseFloat(t.slice(0,o))/100}else i=+t;return Qa(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},Rz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,s={},a=0;a<t;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1};function gr(e,t,s){return st(e)&&st(t)?e+s*(t-e):t}function Mz(e,t,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Nd(a,t))===s)}var Rr=e=>e===null||typeof e>"u",fp=e=>Rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),$ie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GS(e){if(typeof e!="string")return!1;var t=$ie;return t.includes(e)}var Lie=["viewBox","children"],WE=["points","pathLength"],oj={svg:Lie,polygon:WE,polyline:WE},YS=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(p.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{GS(n)&&(a[n]=i=>s[n](s,i))}),a},zie=(e,t,s)=>a=>(e(t,s,a),null),Fy=(e,t,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];GS(n)&&typeof i=="function"&&(a||(a={}),a[n]=zie(i,t,s))}),a},Fie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Iz(e){if(typeof e!="string")return!1;var t=Fie;return t.includes(e)}function Ri(e){var t=Object.entries(e).filter(s=>{var[a]=s;return Iz(a)});return Object.fromEntries(t)}var VE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qE=null,lj=null,Dz=e=>{if(e===qE&&Array.isArray(lj))return lj;var t=[];return p.Children.forEach(e,s=>{Rr(s)||(Iie.isFragment(s)?t=t.concat(Dz(s.props.children)):t.push(s))}),lj=t,qE=e,t};function JS(e,t){var s=[],a=[];return Array.isArray(t)?a=t.map(n=>VE(n)):a=[VE(t)],Dz(e).forEach(n=>{var i=Nd(n,"type.displayName")||Nd(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}var Uy=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Uie=(e,t,s,a)=>{var n;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(n=a&&(oj==null?void 0:oj[a]))!==null&&n!==void 0?n:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!a&&i.includes(t)||Iz(t)),d=!!s&&GS(t);return o||l||d},Cr=(e,t,s)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var o;Uie((o=a)===null||o===void 0?void 0:o[i],i,t,s)&&(n[i]=a[i])}),n},Bie=["children","width","height","viewBox","className","style","title","desc"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},W1.apply(null,arguments)}function Wie(e,t){if(e==null)return{};var s,a,n=Vie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vie(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var $z=p.forwardRef((e,t)=>{var{children:s,width:a,height:n,viewBox:i,className:o,style:l,title:d,desc:u}=e,h=Wie(e,Bie),f=i||{width:a,height:n,x:0,y:0},g=Jt("recharts-surface",o);return p.createElement("svg",W1({},Cr(h,!0,"svg"),{className:g,width:a,height:n,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,d),p.createElement("desc",null,u),s)}),qie=["children","className"];function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},V1.apply(null,arguments)}function Hie(e,t){if(e==null)return{};var s,a,n=Kie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kie(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Qr=p.forwardRef((e,t)=>{var{children:s,className:a}=e,n=Hie(e,qie),i=Jt("recharts-layer",a);return p.createElement("g",V1({className:i},Cr(n,!0),{ref:t}),s)}),Gie=p.createContext(null);function Nr(e){return function(){return e}}const Lz=Math.cos,ix=Math.sin,Mi=Math.sqrt,ox=Math.PI,By=2*ox,q1=Math.PI,H1=2*q1,Yc=1e-6,Yie=H1-Yc;function zz(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function Jie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zz;const s=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class Xie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zz:Jie(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,a,n){this._append`Q${+t},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,s,a,n,i,o){this._append`C${+t},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(t,s,a,n,i){if(t=+t,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-t,u=n-s,h=o-t,f=l-s,g=h*h+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(g>Yc)if(!(Math.abs(f*d-u*h)>Yc)||!i)this._append`L${this._x1=t},${this._y1=s}`;else{let y=a-o,w=n-l,v=d*d+u*u,b=y*y+w*w,N=Math.sqrt(v),S=Math.sqrt(g),_=i*Math.tan((q1-Math.acos((v+g-b)/(2*N*S)))/2),k=_/S,T=_/N;Math.abs(k-1)>Yc&&this._append`L${t+k*h},${s+k*f}`,this._append`A${i},${i},0,0,${+(f*y>h*w)},${this._x1=t+T*d},${this._y1=s+T*u}`}}arc(t,s,a,n,i,o){if(t=+t,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),d=a*Math.sin(n),u=t+l,h=s+d,f=1^o,g=o?n-i:i-n;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Yc||Math.abs(this._y1-h)>Yc)&&this._append`L${u},${h}`,a&&(g<0&&(g=g%H1+H1),g>Yie?this._append`A${a},${a},0,1,${f},${t-l},${s-d}A${a},${a},0,1,${f},${this._x1=u},${this._y1=h}`:g>Yc&&this._append`A${a},${a},0,${+(g>=q1)},${f},${this._x1=t+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(t,s,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function XS(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);t=a}return e},()=>new Xie(t)}function ZS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fz(e){this._context=e}Fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wy(e){return new Fz(e)}function Uz(e){return e[0]}function Bz(e){return e[1]}function Wz(e,t){var s=Nr(!0),a=null,n=Wy,i=null,o=XS(l);e=typeof e=="function"?e:e===void 0?Uz:Nr(e),t=typeof t=="function"?t:t===void 0?Bz:Nr(t);function l(d){var u,h=(d=ZS(d)).length,f,g=!1,y;for(a==null&&(i=n(y=o())),u=0;u<=h;++u)!(u<h&&s(f=d[u],u,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,u,d),+t(f,u,d));if(y)return i=null,y+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Nr(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Nr(+d),l):t},l.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Nr(!!d),l):s},l.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),l):n},l.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),l):a},l}function Xg(e,t,s){var a=null,n=Nr(!0),i=null,o=Wy,l=null,d=XS(u);e=typeof e=="function"?e:e===void 0?Uz:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),s=typeof s=="function"?s:s===void 0?Bz:Nr(+s);function u(f){var g,y,w,v=(f=ZS(f)).length,b,N=!1,S,_=new Array(v),k=new Array(v);for(i==null&&(l=o(S=d())),g=0;g<=v;++g){if(!(g<v&&n(b=f[g],g,f))===N)if(N=!N)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=y;--w)l.point(_[w],k[w]);l.lineEnd(),l.areaEnd()}N&&(_[g]=+e(b,g,f),k[g]=+t(b,g,f),l.point(a?+a(b,g,f):_[g],s?+s(b,g,f):k[g]))}if(S)return l=null,S+""||null}function h(){return Wz().defined(n).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),a=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Nr(+f),u):a},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),s=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),u):t},u.y1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Nr(+f),u):s},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(s)},u.lineX1=function(){return h().x(a).y(t)},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Nr(!!f),u):n},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Vz{constructor(t,s){this._context=t,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,s){switch(t=+t,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,s,t,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,t,this._y0,t,s);break}}this._x0=t,this._y0=s}}function Zie(e){return new Vz(e,!0)}function Qie(e){return new Vz(e,!1)}const QS={draw(e,t){const s=Mi(t/ox);e.moveTo(s,0),e.arc(0,0,s,0,By)}},eoe={draw(e,t){const s=Mi(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},qz=Mi(1/3),toe=qz*2,roe={draw(e,t){const s=Mi(t/toe),a=s*qz;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},soe={draw(e,t){const s=Mi(t),a=-s/2;e.rect(a,a,s,s)}},aoe=.8908130915292852,Hz=ix(ox/10)/ix(7*ox/10),noe=ix(By/10)*Hz,ioe=-Lz(By/10)*Hz,ooe={draw(e,t){const s=Mi(t*aoe),a=noe*s,n=ioe*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const o=By*i/5,l=Lz(o),d=ix(o);e.lineTo(d*s,-l*s),e.lineTo(l*a-d*n,d*a+l*n)}e.closePath()}},cj=Mi(3),loe={draw(e,t){const s=-Mi(t/(cj*3));e.moveTo(0,s*2),e.lineTo(-cj*s,-s),e.lineTo(cj*s,-s),e.closePath()}},Mn=-.5,In=Mi(3)/2,K1=1/Mi(12),coe=(K1/2+1)*3,doe={draw(e,t){const s=Mi(t/coe),a=s/2,n=s*K1,i=a,o=s*K1+s,l=-i,d=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(Mn*a-In*n,In*a+Mn*n),e.lineTo(Mn*i-In*o,In*i+Mn*o),e.lineTo(Mn*l-In*d,In*l+Mn*d),e.lineTo(Mn*a+In*n,Mn*n-In*a),e.lineTo(Mn*i+In*o,Mn*o-In*i),e.lineTo(Mn*l+In*d,Mn*d-In*l),e.closePath()}};function uoe(e,t){let s=null,a=XS(n);e=typeof e=="function"?e:Nr(e||QS),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nr(+i),n):t},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function lx(){}function cx(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function Kz(e){this._context=e}Kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function moe(e){return new Kz(e)}function Gz(e){this._context=e}Gz.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hoe(e){return new Gz(e)}function Yz(e){this._context=e}Yz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function foe(e){return new Yz(e)}function Jz(e){this._context=e}Jz.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function poe(e){return new Jz(e)}function HE(e){return e<0?-1:1}function KE(e,t,s){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(s-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(HE(i)+HE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function GE(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function dj(e,t,s){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*t,i-l,o-l*s,i,o)}function dx(e){this._context=e}dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dj(this,this._t0,GE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dj(this,GE(this,s=KE(this,e,t)),s);break;default:dj(this,this._t0,s=KE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}};function Xz(e){this._context=new Zz(e)}(Xz.prototype=Object.create(dx.prototype)).point=function(e,t){dx.prototype.point.call(this,t,e)};function Zz(e){this._context=e}Zz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,a,n,i){this._context.bezierCurveTo(t,e,a,s,i,n)}};function goe(e){return new dx(e)}function xoe(e){return new Xz(e)}function Qz(e){this._context=e}Qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),s===2)this._context.lineTo(e[1],t[1]);else for(var a=YE(e),n=YE(t),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],t[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YE(e){var t,s=e.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<s-1;++t)n[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],t=1;t<s;++t)a=n[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(n[s-1]=o[s-1]/i[s-1],t=s-2;t>=0;--t)n[t]=(o[t]-n[t+1])/i[t];for(i[s-1]=(e[s]+n[s-1])/2,t=0;t<s-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function yoe(e){return new Qz(e)}function Vy(e,t){this._context=e,this._t=t}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}break}}this._x=e,this._y=t}};function voe(e){return new Vy(e,.5)}function boe(e){return new Vy(e,0)}function woe(e){return new Vy(e,1)}function em(e,t){if((o=e.length)>1)for(var s=1,a,n,i=e[t[0]],o,l=i.length;s<o;++s)for(n=i,i=e[t[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function G1(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}function joe(e,t){return e[t]}function Noe(e){const t=[];return t.key=e,t}function _oe(){var e=Nr([]),t=G1,s=em,a=joe;function n(i){var o=Array.from(e.apply(this,arguments),Noe),l,d=o.length,u=-1,h;for(const f of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+a(f,o[l].key,u,i)]).data=f;for(l=0,h=ZS(t(o));l<d;++l)o[h[l]].index=l;return s(o,h),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Nr(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?G1:typeof i=="function"?i:Nr(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(s=i??em,n):s},n}function Soe(e,t){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<a;++s)e[s][n][1]/=o}em(e,t)}}function Coe(e,t){if((n=e.length)>0){for(var s=0,a=e[t[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}em(e,t)}}function koe(e,t){if(!(!((o=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,d=0,u=0;l<o;++l){for(var h=e[t[l]],f=h[a][1]||0,g=h[a-1][1]||0,y=(f-g)/2,w=0;w<l;++w){var v=e[t[w]],b=v[a][1]||0,N=v[a-1][1]||0;y+=b-N}d+=f,u+=y*f}n[a-1][1]+=n[a-1][0]=s,d&&(s-=u/d)}n[a-1][1]+=n[a-1][0]=s,em(e,t)}}var Aoe=["type","size","sizeType"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Y1.apply(null,arguments)}function JE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function XE(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(s),!0).forEach(function(a){Poe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):JE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Poe(e,t,s){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Eoe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ooe(e,t){if(e==null)return{};var s,a,n=Roe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Roe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var e8={symbolCircle:QS,symbolCross:eoe,symbolDiamond:roe,symbolSquare:soe,symbolStar:ooe,symbolTriangle:loe,symbolWye:doe},Moe=Math.PI/180,Ioe=e=>{var t="symbol".concat(fp(e));return e8[t]||QS},Doe=(e,t,s)=>{if(t==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Moe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$oe=(e,t)=>{e8["symbol".concat(fp(e))]=t},t8=e=>{var{type:t="circle",size:s=64,sizeType:a="area"}=e,n=Ooe(e,Aoe),i=XE(XE({},n),{},{type:t,size:s,sizeType:a}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var g=Ioe(o),y=uoe().type(g).size(Doe(s,a,o));return y()},{className:d,cx:u,cy:h}=i,f=Cr(i,!0);return u===+u&&h===+h&&s===+s?p.createElement("path",Y1({},f,{className:Jt("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(h,")"),d:l()})):null};t8.registerSymbol=$oe;var uj={},mj={},ZE;function Loe(){return ZE||(ZE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){const n=new Map;for(let i=0;i<s.length;i++){const o=s[i],l=a(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}e.uniqBy=t}(mj)),mj}var hj={},QE;function r8(){return QE||(QE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s}e.identity=t}(hj)),hj}var fj={},pj={},gj={},eT;function zoe(){return eT||(eT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=t}(gj)),gj}var tT;function eC(){return tT||(tT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zoe();function s(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=s}(pj)),pj}var xj={},rT;function Foe(){return rT||(rT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="object"&&s!==null}e.isObjectLike=t}(xj)),xj}var sT;function Uoe(){return sT||(sT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC(),s=Foe();function a(n){return s.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a}(fj)),fj}var yj={},vj={},aT;function Boe(){return aT||(aT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KS();function s(a){return function(n){return t.get(n,a)}}e.property=s}(vj)),vj}var bj={},wj={},jj={},Nj={},nT;function s8(){return nT||(nT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=t}(Nj)),Nj}var _j={},iT;function a8(){return iT||(iT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=t}(_j)),_j}var Sj={},oT;function n8(){return oT||(oT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=t}(Sj)),Sj}var lT;function Woe(){return lT||(lT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC(),s=s8(),a=a8(),n=n8();function i(f,g,y){return typeof y!="function"?t.isMatch(f,g):o(f,g,function w(v,b,N,S,_,k){const T=y(v,b,N,S,_,k);return T!==void 0?!!T:o(v,b,w,k)},new Map)}function o(f,g,y,w){if(g===f)return!0;switch(typeof g){case"object":return l(f,g,y,w);case"function":return Object.keys(g).length>0?o(f,{...g},y,w):n.eq(f,g);default:return s.isObject(f)?typeof g=="string"?g==="":!0:n.eq(f,g)}}function l(f,g,y,w){if(g==null)return!0;if(Array.isArray(g))return u(f,g,y,w);if(g instanceof Map)return d(f,g,y,w);if(g instanceof Set)return h(f,g,y,w);const v=Object.keys(g);if(f==null)return v.length===0;if(v.length===0)return!0;if(w&&w.has(g))return w.get(g)===f;w&&w.set(g,f);try{for(let b=0;b<v.length;b++){const N=v[b];if(!a.isPrimitive(f)&&!(N in f)||g[N]===void 0&&f[N]!==void 0||g[N]===null&&f[N]!==null||!y(f[N],g[N],N,f,g,w))return!1}return!0}finally{w&&w.delete(g)}}function d(f,g,y,w){if(g.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,b]of g.entries()){const N=f.get(v);if(y(N,b,v,f,g,w)===!1)return!1}return!0}function u(f,g,y,w){if(g.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let b=0;b<g.length;b++){const N=g[b];let S=!1;for(let _=0;_<f.length;_++){if(v.has(_))continue;const k=f[_];let T=!1;if(y(k,N,b,f,g,w)&&(T=!0),T){v.add(_),S=!0;break}}if(!S)return!1}return!0}function h(f,g,y,w){return g.size===0?!0:f instanceof Set?u([...f],[...g],y,w):!1}e.isMatchWith=i,e.isSetMatch=h}(jj)),jj}var cT;function tC(){return cT||(cT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Woe();function s(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=s}(wj)),wj}var Cj={},kj={},Aj={},dT;function Voe(){return dT||(dT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=t}(Aj)),Aj}var Pj={},uT;function i8(){return uT||(uT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=t}(Pj)),Pj}var Ej={},mT;function o8(){return mT||(mT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",d="[object Map]",u="[object Set]",h="[object Array]",f="[object Function]",g="[object ArrayBuffer]",y="[object Object]",w="[object Error]",v="[object DataView]",b="[object Uint8Array]",N="[object Uint8ClampedArray]",S="[object Uint16Array]",_="[object Uint32Array]",k="[object BigUint64Array]",T="[object Int8Array]",A="[object Int16Array]",E="[object Int32Array]",R="[object BigInt64Array]",z="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=k,e.booleanTag=n,e.dataViewTag=v,e.dateTag=l,e.errorTag=w,e.float32ArrayTag=z,e.float64ArrayTag=B,e.functionTag=f,e.int16ArrayTag=A,e.int32ArrayTag=E,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=a,e.objectTag=y,e.regexpTag=t,e.setTag=u,e.stringTag=s,e.symbolTag=o,e.uint16ArrayTag=S,e.uint32ArrayTag=_,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=N}(Ej)),Ej}var Tj={},hT;function qoe(){return hT||(hT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=t}(Tj)),Tj}var fT;function l8(){return fT||(fT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Voe(),s=i8(),a=o8(),n=a8(),i=qoe();function o(h,f){return l(h,void 0,h,new Map,f)}function l(h,f,g,y=new Map,w=void 0){const v=w==null?void 0:w(h,f,g,y);if(v!==void 0)return v;if(n.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const b=new Array(h.length);y.set(h,b);for(let N=0;N<h.length;N++)b[N]=l(h[N],N,g,y,w);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;y.set(h,b);for(const[N,S]of h)b.set(N,l(S,N,g,y,w));return b}if(h instanceof Set){const b=new Set;y.set(h,b);for(const N of h)b.add(l(N,void 0,g,y,w));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,b);for(let N=0;N<h.length;N++)b[N]=l(h[N],N,g,y,w);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,b),d(b,h,g,y,w),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return y.set(h,b),d(b,h,g,y,w),b}if(h instanceof Blob){const b=new Blob([h],{type:h.type});return y.set(h,b),d(b,h,g,y,w),b}if(h instanceof Error){const b=new h.constructor;return y.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,d(b,h,g,y,w),b}if(typeof h=="object"&&u(h)){const b=Object.create(Object.getPrototypeOf(h));return y.set(h,b),d(b,h,g,y,w),b}return h}function d(h,f,g=h,y,w){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const N=v[b],S=Object.getOwnPropertyDescriptor(h,N);(S==null||S.writable)&&(h[N]=l(f[N],N,g,y,w))}}function u(h){switch(s.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=d}(kj)),kj}var pT;function Hoe(){return pT||(pT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l8();function s(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s}(Cj)),Cj}var gT;function Koe(){return gT||(gT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC(),s=Hoe();function a(n){return n=s.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a}(bj)),bj}var Oj={},Rj={},Mj={},xT;function Goe(){return xT||(xT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l8(),s=o8();function a(n,i){return t.cloneDeepWith(n,(o,l,d,u)=>{const h=i==null?void 0:i(o,l,d,u);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const f=new n.constructor(n==null?void 0:n.valueOf());return t.copyProperties(f,n),f}case s.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a}(Mj)),Mj}var yT;function Yoe(){return yT||(yT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Goe();function s(a){return t.cloneDeepWith(a)}e.cloneDeep=s}(Rj)),Rj}var Ij={},Dj={},vT;function c8(){return vT||(vT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=s}(Dj)),Dj}var $j={},bT;function Joe(){return bT||(bT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i8();function s(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=s}($j)),$j}var wT;function Xoe(){return wT||(wT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tz(),s=c8(),a=Joe(),n=HS();function i(o,l){let d;if(Array.isArray(l)?d=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?d=n.toPath(l):d=[l],d.length===0)return!1;let u=o;for(let h=0;h<d.length;h++){const f=d[h];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||a.isArguments(u))&&s.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i}(Ij)),Ij}var jT;function Zoe(){return jT||(jT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC(),s=Oz(),a=Yoe(),n=KS(),i=Xoe();function o(l,d){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=s.toKey(l);break}}return d=a.cloneDeep(d),function(u){const h=n.get(u,l);return h===void 0?i.has(u,l):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=o}(Oj)),Oj}var NT;function Qoe(){return NT||(NT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r8(),s=Boe(),a=Koe(),n=Zoe();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return s.property(o)}}e.iteratee=i}(yj)),yj}var _T;function ele(){return _T||(_T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Loe(),s=r8(),a=Uoe(),n=Qoe();function i(o,l=s.identity){return a.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.iteratee(l)):[]}e.uniqBy=i}(uj)),uj}var Lj,ST;function tle(){return ST||(ST=1,Lj=ele().uniqBy),Lj}var rle=tle();const CT=Qn(rle);function sle(e,t,s){return t===!0?CT(e,s):typeof t=="function"?CT(e,t):e}var zj={exports:{}},Fj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function ale(){if(kT)return Fj;kT=1;var e=fm(),t=gM();function s(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var a=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return Fj.useSyncExternalStoreWithSelector=function(u,h,f,g,y){var w=i(null);if(w.current===null){var v={hasValue:!1,value:null};w.current=v}else v=w.current;w=l(function(){function N(A){if(!S){if(S=!0,_=A,A=g(A),y!==void 0&&v.hasValue){var E=v.value;if(y(E,A))return k=E}return k=A}if(E=k,a(_,A))return E;var R=g(A);return y!==void 0&&y(E,R)?(_=A,E):(_=A,k=R)}var S=!1,_,k,T=f===void 0?null:f;return[function(){return N(h())},T===null?void 0:function(){return N(T())}]},[h,f,g,y]);var b=n(u,w[0],w[1]);return o(function(){v.hasValue=!0,v.value=b},[b]),d(b),b},Fj}var AT;function nle(){return AT||(AT=1,zj.exports=ale()),zj.exports}var ile=nle(),rC=p.createContext(null),ole=e=>e,cs=()=>{var e=p.useContext(rC);return e?e.store.dispatch:ole},A0=()=>{},lle=()=>A0,cle=(e,t)=>e===t;function at(e){var t=p.useContext(rC);return ile.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lle,t?t.store.getState:A0,t?t.store.getState:A0,t?e:A0,cle)}function dle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ule(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mle(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${s}]`)}}var PT=e=>Array.isArray(e)?e:[e];function hle(e){const t=Array.isArray(e[0])?e[0]:e;return mle(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fle(e,t){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,t));return s}var ple=class{constructor(e){this.value=e}deref(){return this.value}},gle=typeof WeakRef<"u"?WeakRef:ple,xle=0,ET=1;function Zg(){return{s:xle,v:void 0,o:null,p:null}}function d8(e,t={}){let s=Zg();const{resultEqualityCheck:a}=t;let n,i=0;function o(){var f;let l=s;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(w);b===void 0?(l=Zg(),v.set(w,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(w);b===void 0?(l=Zg(),v.set(w,l)):l=b}}const u=l;let h;if(l.s===ET)h=l.v;else if(h=e.apply(null,arguments),i++,a){const g=((f=n==null?void 0:n.deref)==null?void 0:f.call(n))??n;g!=null&&a(g,h)&&(h=g,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new gle(h):h}return u.s=ET,u.v=h,h}return o.clearCache=()=>{s=Zg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function yle(e,...t){const s=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,o=0,l,d={},u=n.pop();typeof u=="object"&&(d=u,u=n.pop()),dle(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...s,...d},{memoize:f,memoizeOptions:g=[],argsMemoize:y=d8,argsMemoizeOptions:w=[]}=h,v=PT(g),b=PT(w),N=hle(n),S=f(function(){return i++,u.apply(null,arguments)},...v),_=y(function(){o++;const T=fle(N,arguments);return l=S.apply(null,T),l},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:S,dependencies:N,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var pe=yle(d8),vle=Object.assign((e,t=pe)=>{ule(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return t(a,(...i)=>i.reduce((o,l,d)=>(o[s[d]]=l,o),{}))},{withTypes:()=>vle}),Uj={},Bj={},Wj={},TT;function ble(){return TT||(TT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const o=t(a),l=t(n);if(o===l&&o===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=s}(Wj)),Wj}var Vj={},qj={},OT;function u8(){return OT||(OT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=t}(qj)),qj}var RT;function wle(){return RT||(RT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=n}(Vj)),Vj}var MT;function jle(){return MT||(MT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ble(),s=wle(),a=HS();function n(i,o,l,d){if(i==null)return[];l=d?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const u=(y,w)=>{let v=y;for(let b=0;b<w.length&&v!=null;++b)v=v[w[b]];return v},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:u(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?u(w,y):typeof w=="object"?w[y]:w,f=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||s.isKey(y)?y:{key:y,path:a.toPath(y)}));return i.map(y=>({original:y,criteria:f.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let v=0;v<f.length;v++){const b=t.compareValues(y.criteria[v],w.criteria[v],l[v]);if(b!==0)return b}return 0}).map(y=>y.original)}e.orderBy=n}(Bj)),Bj}var Hj={},IT;function Nle(){return IT||(IT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a=1){const n=[],i=Math.floor(a),o=(l,d)=>{for(let u=0;u<l.length;u++){const h=l[u];Array.isArray(h)&&d<i?o(h,d+1):n.push(h)}};return o(s,0),n}e.flatten=t}(Hj)),Hj}var Kj={},DT;function m8(){return DT||(DT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c8(),s=eC(),a=s8(),n=n8();function i(o,l,d){return a.isObject(d)&&(typeof l=="number"&&s.isArrayLike(d)&&t.isIndex(l)&&l<d.length||typeof l=="string"&&l in d)?n.eq(d[l],o):!1}e.isIterateeCall=i}(Kj)),Kj}var $T;function _le(){return $T||($T=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jle(),s=Nle(),a=m8();function n(i,...o){const l=o.length;return l>1&&a.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,s.flatten(o),["asc"])}e.sortBy=n}(Uj)),Uj}var Gj,LT;function Sle(){return LT||(LT=1,Gj=_le().sortBy),Gj}var Cle=Sle();const qy=Qn(Cle);var h8=e=>e.legend.settings,kle=e=>e.legend.size,Ale=e=>e.legend.payload;pe([Ale,h8],(e,t)=>{var{itemSorter:s}=t,a=e.flat(1);return s?qy(a,s):a});var Qg=1;function Ple(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,s]=p.useState({height:0,left:0,top:0,width:0}),a=p.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Qg||Math.abs(o.left-t.left)>Qg||Math.abs(o.top-t.top)>Qg||Math.abs(o.width-t.width)>Qg)&&s({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Js(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ele=typeof Symbol=="function"&&Symbol.observable||"@@observable",zT=Ele,Yj=()=>Math.random().toString(36).substring(7).split("").join("."),Tle={INIT:`@@redux/INIT${Yj()}`,REPLACE:`@@redux/REPLACE${Yj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yj()}`},ux=Tle;function sC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function f8(e,t,s){if(typeof e!="function")throw new Error(Js(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Js(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Js(1));return s(f8)(e,t)}let a=e,n=t,i=new Map,o=i,l=0,d=!1;function u(){o===i&&(o=new Map,i.forEach((b,N)=>{o.set(N,b)}))}function h(){if(d)throw new Error(Js(3));return n}function f(b){if(typeof b!="function")throw new Error(Js(4));if(d)throw new Error(Js(5));let N=!0;u();const S=l++;return o.set(S,b),function(){if(N){if(d)throw new Error(Js(6));N=!1,u(),o.delete(S),i=null}}}function g(b){if(!sC(b))throw new Error(Js(7));if(typeof b.type>"u")throw new Error(Js(8));if(typeof b.type!="string")throw new Error(Js(17));if(d)throw new Error(Js(9));try{d=!0,n=a(n,b)}finally{d=!1}return(i=o).forEach(S=>{S()}),b}function y(b){if(typeof b!="function")throw new Error(Js(10));a=b,g({type:ux.REPLACE})}function w(){const b=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Js(11));function S(){const k=N;k.next&&k.next(h())}return S(),{unsubscribe:b(S)}},[zT](){return this}}}return g({type:ux.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:y,[zT]:w}}function Ole(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:ux.INIT})>"u")throw new Error(Js(12));if(typeof s(void 0,{type:ux.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Js(13))})}function p8(e){const t=Object.keys(e),s={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(s[o]=e[o])}const a=Object.keys(s);let n;try{Ole(s)}catch(i){n=i}return function(o={},l){if(n)throw n;let d=!1;const u={};for(let h=0;h<a.length;h++){const f=a[h],g=s[f],y=o[f],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(Js(14));u[f]=w,d=d||w!==y}return d=d||a.length!==Object.keys(o).length,d?u:o}}function mx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...a)=>t(s(...a)))}function Rle(...e){return t=>(s,a)=>{const n=t(s,a);let i=()=>{throw new Error(Js(15))};const o={getState:n.getState,dispatch:(d,...u)=>i(d,...u)},l=e.map(d=>d(o));return i=mx(...l)(n.dispatch),{...n,dispatch:i}}}function g8(e){return sC(e)&&"type"in e&&typeof e.type=="string"}var x8=Symbol.for("immer-nothing"),FT=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function yi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tm=Object.getPrototypeOf;function _d(e){return!!e&&!!e[vn]}function Qo(e){var t;return e?y8(e)||Array.isArray(e)||!!e[FT]||!!((t=e.constructor)!=null&&t[FT])||Ky(e)||Gy(e):!1}var Mle=Object.prototype.constructor.toString();function y8(e){if(!e||typeof e!="object")return!1;const t=tm(e);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===Mle}function hx(e,t){Hy(e)===0?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,a)=>t(a,s,e))}function Hy(e){const t=e[vn];return t?t.type_:Array.isArray(e)?1:Ky(e)?2:Gy(e)?3:0}function J1(e,t){return Hy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function v8(e,t,s){const a=Hy(e);a===2?e.set(t,s):a===3?e.add(s):e[t]=s}function Ile(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ky(e){return e instanceof Map}function Gy(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function X1(e,t){if(Ky(e))return new Map(e);if(Gy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=y8(e);if(t===!0||t==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[vn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const o=n[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(tm(e),a)}else{const a=tm(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function aC(e,t=!1){return Yy(e)||_d(e)||!Qo(e)||(Hy(e)>1&&(e.set=e.add=e.clear=e.delete=Dle),Object.freeze(e),t&&Object.entries(e).forEach(([s,a])=>aC(a,!0))),e}function Dle(){yi(2)}function Yy(e){return Object.isFrozen(e)}var $le={};function Sd(e){const t=$le[e];return t||yi(0,e),t}var _f;function b8(){return _f}function Lle(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UT(e,t){t&&(Sd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Z1(e){Q1(e),e.drafts_.forEach(zle),e.drafts_=null}function Q1(e){e===_f&&(_f=e.parent_)}function BT(e){return _f=Lle(_f,e)}function zle(e){const t=e[vn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[vn].modified_&&(Z1(t),yi(4)),Qo(e)&&(e=fx(t,e),t.parent_||px(t,e)),t.patches_&&Sd("Patches").generateReplacementPatches_(s[vn].base_,e,t.patches_,t.inversePatches_)):e=fx(t,s,[]),Z1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==x8?e:void 0}function fx(e,t,s){if(Yy(t))return t;const a=t[vn];if(!a)return hx(t,(n,i)=>VT(e,a,t,n,i,s)),t;if(a.scope_!==e)return t;if(!a.modified_)return px(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,o=!1;a.type_===3&&(i=new Set(n),n.clear(),o=!0),hx(i,(l,d)=>VT(e,a,n,l,d,s,o)),px(e,n,!1),s&&e.patches_&&Sd("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function VT(e,t,s,a,n,i,o){if(_d(n)){const l=i&&t&&t.type_!==3&&!J1(t.assigned_,a)?i.concat(a):void 0,d=fx(e,n,l);if(v8(s,a,d),_d(d))e.canAutoFreeze_=!1;else return}else o&&s.add(n);if(Qo(n)&&!Yy(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fx(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,a)&&px(e,n)}}function px(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aC(t,s)}function Fle(e,t){const s=Array.isArray(e),a={type_:s?1:0,scope_:t?t.scope_:b8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=nC;s&&(n=[a],i=Sf);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=o,l}var nC={get(e,t){if(t===vn)return e;const s=Jc(e);if(!J1(s,t))return Ule(e,s,t);const a=s[t];return e.finalized_||!Qo(a)?a:a===Jj(e.base_,t)?(Xj(e),e.copy_[t]=t_(a,e)):a},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,s){const a=w8(Jc(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=Jj(Jc(e),t),i=n==null?void 0:n[vn];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(Ile(s,n)&&(s!==void 0||J1(e.base_,t)))return!0;Xj(e),e_(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xj(e),e_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Jc(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:s[t]}},defineProperty(){yi(11)},getPrototypeOf(e){return tm(e.base_)},setPrototypeOf(){yi(12)}},Sf={};hx(nC,(e,t)=>{Sf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sf.deleteProperty=function(e,t){return Sf.set.call(this,e,t,void 0)};Sf.set=function(e,t,s){return nC.set.call(this,e[0],t,s,e[0])};function Jj(e,t){const s=e[vn];return(s?Jc(s):e)[t]}function Ule(e,t,s){var n;const a=w8(t,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function w8(e,t){if(!(t in e))return;let s=tm(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=tm(s)}}function e_(e){e.modified_||(e.modified_=!0,e.parent_&&e_(e.parent_))}function Xj(e){e.copy_||(e.copy_=X1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ble=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,a)=>{if(typeof t=="function"&&typeof s!="function"){const i=s;s=t;const o=this;return function(d=i,...u){return o.produce(d,h=>s.call(this,h,...u))}}typeof s!="function"&&yi(6),a!==void 0&&typeof a!="function"&&yi(7);let n;if(Qo(t)){const i=BT(this),o=t_(t,void 0);let l=!0;try{n=s(o),l=!1}finally{l?Z1(i):Q1(i)}return UT(i,a),WT(n,i)}else if(!t||typeof t!="object"){if(n=s(t),n===void 0&&(n=t),n===x8&&(n=void 0),this.autoFreeze_&&aC(n,!0),a){const i=[],o=[];Sd("Patches").generateReplacementPatches_(t,n,i,o),a(i,o)}return n}else yi(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,d=>t(d,...l));let a,n;return[this.produce(t,s,(o,l)=>{a=o,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Qo(e)||yi(8),_d(e)&&(e=Ho(e));const t=BT(this),s=t_(e,void 0);return s[vn].isManual_=!0,Q1(t),s}finishDraft(e,t){const s=e&&e[vn];(!s||!s.isManual_)&&yi(9);const{scope_:a}=s;return UT(a,t),WT(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(t=t.slice(s+1));const a=Sd("Patches").applyPatches_;return _d(e)?a(e,t):this.produce(e,n=>a(n,t))}};function t_(e,t){const s=Ky(e)?Sd("MapSet").proxyMap_(e,t):Gy(e)?Sd("MapSet").proxySet_(e,t):Fle(e,t);return(t?t.scope_:b8()).drafts_.push(s),s}function Ho(e){return _d(e)||yi(10,e),j8(e)}function j8(e){if(!Qo(e)||Yy(e))return e;const t=e[vn];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=X1(e,t.scope_.immer_.useStrictShallowCopy_)}else s=X1(e,!0);return hx(s,(a,n)=>{v8(s,a,j8(n))}),t&&(t.finalized_=!1),s}var bn=new Ble,N8=bn.produce;bn.produceWithPatches.bind(bn);bn.setAutoFreeze.bind(bn);bn.setUseStrictShallowCopy.bind(bn);bn.applyPatches.bind(bn);bn.createDraft.bind(bn);bn.finishDraft.bind(bn);function _8(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var Wle=_8(),Vle=_8,qle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mx:mx.apply(null,arguments)};function Xn(e,t){function s(...a){if(t){let n=t(...a);if(!n)throw new Error(xn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>g8(a)&&a.type===e,s}var S8=class Qh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qh.prototype)}static get[Symbol.species](){return Qh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qh(...t[0].concat(this)):new Qh(...t.concat(this))}};function qT(e){return Qo(e)?N8(e,()=>{}):e}function e0(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function Hle(e){return typeof e=="boolean"}var Kle=()=>function(t){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let o=new S8;return s&&(Hle(s)?o.push(Wle):o.push(Vle(s.extraArgument))),o},Gle="RTK_autoBatch",HT=e=>t=>{setTimeout(t,e)},Yle=(e={type:"raf"})=>t=>(...s)=>{const a=t(...s);let n=!0,i=!1,o=!1;const l=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HT(10):e.type==="callback"?e.queueNotification:HT(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const f=()=>n&&h(),g=a.subscribe(f);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var f;try{return n=!((f=h==null?void 0:h.meta)!=null&&f[Gle]),i=!n,i&&(o||(o=!0,d(u))),a.dispatch(h)}finally{n=!0}}})},Jle=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new S8(e);return a&&n.push(Yle(typeof a=="object"?a:void 0)),n};function Xle(e){const t=Kle(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof s=="function")l=s;else if(sC(s))l=p8(s);else throw new Error(xn(1));let d;typeof a=="function"?d=a(t):d=t();let u=mx;n&&(u=qle({trace:!1,...typeof n=="object"&&n}));const h=Rle(...d),f=Jle(h);let g=typeof o=="function"?o(f):f();const y=u(...g);return f8(l,i,y)}function C8(e){const t={},s=[];let a;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(xn(28));if(l in t)throw new Error(xn(29));return t[l]=o,n},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&s.push({matcher:i.settled,reducer:o.settled}),n},addMatcher(i,o){return s.push({matcher:i,reducer:o}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,s,a]}function Zle(e){return typeof e=="function"}function Qle(e,t){let[s,a,n]=C8(t),i;if(Zle(e))i=()=>qT(e());else{const l=qT(e);i=()=>l}function o(l=i(),d){let u=[s[d.type],...a.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[n]),u.reduce((h,f)=>{if(f)if(_d(h)){const y=f(h,d);return y===void 0?h:y}else{if(Qo(h))return N8(h,g=>f(g,d));{const g=f(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return o.getInitialState=i,o}var ece="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tce=(e=21)=>{let t="",s=e;for(;s--;)t+=ece[Math.random()*64|0];return t},rce=Symbol.for("rtk-slice-createasyncthunk");function sce(e,t){return`${e}/${t}`}function ace({creators:e}={}){var s;const t=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[rce];return function(n){const{name:i,reducerPath:o=i}=n;if(!i)throw new Error(xn(11));const l=(typeof n.reducers=="function"?n.reducers(ice()):n.reducers)||{},d=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,T){const A=typeof k=="string"?k:k.type;if(!A)throw new Error(xn(12));if(A in u.sliceCaseReducersByType)throw new Error(xn(13));return u.sliceCaseReducersByType[A]=T,h},addMatcher(k,T){return u.sliceMatchers.push({matcher:k,reducer:T}),h},exposeAction(k,T){return u.actionCreators[k]=T,h},exposeCaseReducer(k,T){return u.sliceCaseReducersByName[k]=T,h}};d.forEach(k=>{const T=l[k],A={reducerName:k,type:sce(i,k),createNotation:typeof n.reducers=="function"};lce(T)?dce(A,T,h,t):oce(A,T,h)});function f(){const[k={},T=[],A=void 0]=typeof n.extraReducers=="function"?C8(n.extraReducers):[n.extraReducers],E={...k,...u.sliceCaseReducersByType};return Qle(n.initialState,R=>{for(let z in E)R.addCase(z,E[z]);for(let z of u.sliceMatchers)R.addMatcher(z.matcher,z.reducer);for(let z of T)R.addMatcher(z.matcher,z.reducer);A&&R.addDefaultCase(A)})}const g=k=>k,y=new Map,w=new WeakMap;let v;function b(k,T){return v||(v=f()),v(k,T)}function N(){return v||(v=f()),v.getInitialState()}function S(k,T=!1){function A(R){let z=R[k];return typeof z>"u"&&T&&(z=e0(w,A,N)),z}function E(R=g){const z=e0(y,T,()=>new WeakMap);return e0(z,R,()=>{const B={};for(const[O,I]of Object.entries(n.selectors??{}))B[O]=nce(I,R,()=>e0(w,R,N),T);return B})}return{reducerPath:k,getSelectors:E,get selectors(){return E(A)},selectSlice:A}}const _={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:N,...S(o),injectInto(k,{reducerPath:T,...A}={}){const E=T??o;return k.inject({reducerPath:E,reducer:b},A),{..._,...S(E,!0)}}};return _}}function nce(e,t,s,a){function n(i,...o){let l=t(i);return typeof l>"u"&&a&&(l=s()),e(l,...o)}return n.unwrapped=e,n}var jn=ace();function ice(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function oce({type:e,reducerName:t,createNotation:s},a,n){let i,o;if("reducer"in a){if(s&&!cce(a))throw new Error(xn(17));i=a.reducer,o=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Xn(e,o):Xn(e))}function lce(e){return e._reducerDefinitionType==="asyncThunk"}function cce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dce({type:e,reducerName:t},s,a,n){if(!n)throw new Error(xn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:d,settled:u,options:h}=s,f=n(e,i,h);a.exposeAction(t,f),o&&a.addCase(f.fulfilled,o),l&&a.addCase(f.pending,l),d&&a.addCase(f.rejected,d),u&&a.addMatcher(f.settled,u),a.exposeCaseReducer(t,{fulfilled:o||t0,pending:l||t0,rejected:d||t0,settled:u||t0})}function t0(){}var uce="task",k8="listener",A8="completed",iC="cancelled",mce=`task-${iC}`,hce=`task-${A8}`,r_=`${k8}-${iC}`,fce=`${k8}-${A8}`,Jy=class{constructor(e){Ns(this,"name","TaskAbortError");Ns(this,"message");this.code=e,this.message=`${uce} ${iC} (reason: ${e})`}},oC=(e,t)=>{if(typeof e!="function")throw new TypeError(xn(32))},gx=()=>{},P8=(e,t=gx)=>(e.catch(t),e),E8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),od=(e,t)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ld=e=>{if(e.aborted){const{reason:t}=e;throw new Jy(t)}};function T8(e,t){let s=gx;return new Promise((a,n)=>{const i=()=>n(new Jy(e.reason));if(e.aborted){i();return}s=E8(e,i),t.finally(()=>s()).then(a,n)}).finally(()=>{s=gx})}var pce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof Jy?"cancelled":"rejected",error:s}}finally{t==null||t()}},xx=e=>t=>P8(T8(e,t).then(s=>(ld(e),s))),O8=e=>{const t=xx(e);return s=>t(new Promise(a=>setTimeout(a,s)))},{assign:Wu}=Object,KT={},Xy="listenerMiddleware",gce=(e,t)=>{const s=a=>E8(e,()=>od(a,e.reason));return(a,n)=>{oC(a);const i=new AbortController;s(i);const o=pce(async()=>{ld(e),ld(i.signal);const l=await a({pause:xx(i.signal),delay:O8(i.signal),signal:i.signal});return ld(i.signal),l},()=>od(i,hce));return n!=null&&n.autoJoin&&t.push(o.catch(gx)),{result:xx(e)(o),cancel(){od(i,mce)}}}},xce=(e,t)=>{const s=async(a,n)=>{ld(t);let i=()=>{};const l=[new Promise((d,u)=>{let h=e({predicate:a,effect:(f,g)=>{g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}});i=()=>{h(),u()}})];n!=null&&l.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await T8(t,Promise.race(l));return ld(t),d}finally{i()}};return(a,n)=>P8(s(a,n))},R8=e=>{let{type:t,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(t)n=Xn(t).match;else if(s)t=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(xn(21));return oC(i),{predicate:n,type:t,effect:i}},M8=Wu(e=>{const{type:t,predicate:s,effect:a}=R8(e);return{id:tce(),effect:a,type:t,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(xn(22))}}},{withTypes:()=>M8}),GT=(e,t)=>{const{type:s,effect:a,predicate:n}=R8(t);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},s_=e=>{e.pending.forEach(t=>{od(t,r_)})},yce=e=>()=>{e.forEach(s_),e.clear()},YT=(e,t,s)=>{try{e(t,s)}catch(a){setTimeout(()=>{throw a},0)}},I8=Wu(Xn(`${Xy}/add`),{withTypes:()=>I8}),vce=Xn(`${Xy}/removeAll`),D8=Wu(Xn(`${Xy}/remove`),{withTypes:()=>D8}),bce=(...e)=>{console.error(`${Xy}/error`,...e)},pp=(e={})=>{const t=new Map,{extra:s,onError:a=bce}=e;oC(a);const n=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),f=>{h.unsubscribe(),f!=null&&f.cancelActive&&s_(h)}),i=h=>{const f=GT(t,h)??M8(h);return n(f)};Wu(i,{withTypes:()=>i});const o=h=>{const f=GT(t,h);return f&&(f.unsubscribe(),h.cancelActive&&s_(f)),!!f};Wu(o,{withTypes:()=>o});const l=async(h,f,g,y)=>{const w=new AbortController,v=xce(i,w.signal),b=[];try{h.pending.add(w),await Promise.resolve(h.effect(f,Wu({},g,{getOriginalState:y,condition:(N,S)=>v(N,S).then(Boolean),take:v,delay:O8(w.signal),pause:xx(w.signal),extra:s,signal:w.signal,fork:gce(w.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,S,_)=>{N!==w&&(od(N,r_),_.delete(N))})},cancel:()=>{od(w,r_),h.pending.delete(w)},throwIfCancelled:()=>{ld(w.signal)}})))}catch(N){N instanceof Jy||YT(a,N,{raisedBy:"effect"})}finally{await Promise.all(b),od(w,fce),h.pending.delete(w)}},d=yce(t);return{middleware:h=>f=>g=>{if(!g8(g))return f(g);if(I8.match(g))return i(g.payload);if(vce.match(g)){d();return}if(D8.match(g))return o(g.payload);let y=h.getState();const w=()=>{if(y===KT)throw new Error(xn(23));return y};let v;try{if(v=f(g),t.size>0){const b=h.getState(),N=Array.from(t.values());for(const S of N){let _=!1;try{_=S.predicate(g,b,y)}catch(k){_=!1,YT(a,k,{raisedBy:"predicate"})}_&&l(S,g,h,w)}}}finally{y=KT}return v},startListening:i,stopListening:o,clearListeners:d}};function xn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$8=jn({name:"chartLayout",initialState:wce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var s,a,n,i;e.margin.top=(s=t.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jce,setLayout:Nce,setChartSize:_ce,setScale:Sce}=$8.actions,Cce=$8.reducer;function JT(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function XT(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(s),!0).forEach(function(a){kce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):JT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kce(e,t,s){return(t=Ace(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ace(e){var t=Pce(e,"string");return typeof t=="symbol"?t:t+""}function Pce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yx=Math.PI/180,Ece=e=>e*180/Math.PI,gs=(e,t,s,a)=>({x:e+Math.cos(-yx*a)*s,y:t+Math.sin(-yx*a)*s}),L8=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Tce=(e,t)=>{var{x:s,y:a}=e,{x:n,y:i}=t;return Math.sqrt((s-n)**2+(a-i)**2)},Oce=(e,t)=>{var{x:s,y:a}=e,{cx:n,cy:i}=t,o=Tce({x:s,y:a},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(s-n)/o,d=Math.acos(l);return a>i&&(d=2*Math.PI-d),{radius:o,angle:Ece(d),angleInRadian:d}},Rce=e=>{var{startAngle:t,endAngle:s}=e,a=Math.floor(t/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:s-i*360}},Mce=(e,t)=>{var{startAngle:s,endAngle:a}=t,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return e+o*360},Ice=(e,t)=>{var{x:s,y:a}=e,{radius:n,angle:i}=Oce({x:s,y:a},t),{innerRadius:o,outerRadius:l}=t;if(n<o||n>l||n===0)return null;var{startAngle:d,endAngle:u}=Rce(t),h=i,f;if(d<=u){for(;h>u;)h-=360;for(;h<d;)h+=360;f=h>=d&&h<=u}else{for(;h>d;)h-=360;for(;h<u;)h+=360;f=h>=u&&h<=d}return f?XT(XT({},t),{},{radius:n,angle:Mce(h,t)}):null};function z8(e,t,s){return Array.isArray(e)&&e&&t+s!==0?e.slice(t,s+1):e}function ZT(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ln(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(s),!0).forEach(function(a){Dce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dce(e,t,s){return(t=$ce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function $ce(e){var t=Lce(e,"string");return typeof t=="symbol"?t:t+""}function Lce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,s){return Rr(e)||Rr(t)?s:no(t)?Nd(e,t,s):typeof t=="function"?t(e):s}var zce=(e,t,s,a,n)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Fs(h-u)!==Fs(f-h)){var y=[];if(Fs(f-h)===Fs(n[1]-n[0])){g=f;var w=h+n[1]-n[0];y[0]=Math.min(w,(w+u)/2),y[1]=Math.max(w,(w+u)/2)}else{g=u;var v=f+n[1]-n[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){({index:o}=s[d]);break}}else{var N=Math.min(u,f),S=Math.max(u,f);if(e>(N+h)/2&&e<=(S+h)/2){({index:o}=s[d]);break}}}else if(t){for(var _=0;_<l;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<l-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===l-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:o}=t[_]);break}}return o},Fce=(e,t,s)=>{if(t&&s){var{width:a,height:n}=s,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&st(e[i]))return Ln(Ln({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&st(e[o]))return Ln(Ln({},e),{},{[o]:e[o]+(n||0)})}return e},vo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",F8=(e,t,s,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,o=e.map(l=>(l.coordinate===t&&(n=!0),l.coordinate===s&&(i=!0),l.coordinate));return n||o.push(t),i||o.push(s),o},U8=(e,t,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:o,realScaleType:l,isCategorical:d,categoricalDomain:u,tickCount:h,ticks:f,niceTicks:g,axisType:y}=e;if(!o)return null;var w=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=n==="category"&&o.bandwidth?o.bandwidth()/w:0;if(v=y==="angleAxis"&&i&&i.length>=2?Fs(i[0]-i[1])*2*v:v,f||g){var b=(f||g||[]).map((N,S)=>{var _=a?a.indexOf(N):N;return{coordinate:o(_)+v,value:N,offset:v,index:S}});return b.filter(N=>!Qa(N.coordinate))}return d&&u?u.map((N,S)=>({coordinate:o(N)+v,value:N,index:S,offset:v})):o.ticks&&h!=null?o.ticks(h).map((N,S)=>({coordinate:o(N)+v,value:N,offset:v,index:S})):o.domain().map((N,S)=>({coordinate:o(N)+v,value:a?a[N]:N,index:S,offset:v}))},QT=1e-4,Uce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var s=t.length,a=e.range(),n=Math.min(a[0],a[1])-QT,i=Math.max(a[0],a[1])+QT,o=e(t[0]),l=e(t[s-1]);(o<n||o>i||l<n||l>i)&&e.domain([t[0],t[s-1]])}},Bce=(e,t)=>{if(!t||t.length!==2||!st(t[0])||!st(t[1]))return e;var s=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!st(e[0])||e[0]<s)&&(n[0]=s),(!st(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},Wce=e=>{var t=e.length;if(!(t<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,o=0;o<t;++o){var l=Qa(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=n,e[o][s][1]=n+l,n=e[o][s][1]):(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1])}},Vce=e=>{var t=e.length;if(!(t<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<t;++i){var o=Qa(e[i][s][1])?e[i][s][0]:e[i][s][1];o>=0?(e[i][s][0]=n,e[i][s][1]=n+o,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},qce={sign:Wce,expand:Soe,none:em,silhouette:Coe,wiggle:koe,positive:Vce},Hce=(e,t,s)=>{var a=qce[s],n=_oe().keys(t).value((i,o)=>+fr(i,o,0)).order(G1).offset(a);return n(e)};function B8(e){return e==null?void 0:String(e)}function vx(e){var{axis:t,ticks:s,bandSize:a,entry:n,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rr(n[t.dataKey])){var l=Mz(s,"value",n[t.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=fr(n,Rr(o)?t.dataKey:o);return Rr(d)?null:t.scale(d)}var e5=e=>{var{axis:t,ticks:s,offset:a,bandSize:n,entry:i,index:o}=e;if(t.type==="category")return s[o]?s[o].coordinate+a:null;var l=fr(i,t.dataKey,t.scale.domain()[o]);return Rr(l)?null:t.scale(l)-n/2+a},Kce=e=>{var{numericAxis:t}=e,s=t.scale.domain();if(t.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},Gce=e=>{var t=e.flat(2).filter(st);return[Math.min(...t),Math.max(...t)]},Yce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Jce=(e,t,s)=>{if(e!=null)return Yce(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:o}=i,l=o.reduce((d,u)=>{var h=z8(u,t,s),f=Gce(h);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},t5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cd=(e,t,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&t&&t.length>=2){for(var n=qy(t,h=>h.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var d=n[o],u=n[o-1];i=Math.min((d.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function s5(e){var{tooltipEntrySettings:t,dataKey:s,payload:a,value:n,name:i}=e;return Ln(Ln({},t),{},{dataKey:s,payload:a,value:n,name:i})}function mc(e,t){if(e)return String(e);if(typeof t=="string")return t}function Xce(e,t,s,a,n){if(s==="horizontal"||s==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return a?Ice({x:e,y:t},a):null}var Zce=(e,t,s,a)=>{var n=t.find(u=>u&&u.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:o}=a;return Ln(Ln(Ln({},a),gs(a.cx,a.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:d}=a;return Ln(Ln(Ln({},a),gs(a.cx,a.cy,l,d)),{},{angle:d,radius:l})}return{x:0,y:0}},Qce=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,il=e=>e.layout.width,ol=e=>e.layout.height,ede=e=>e.layout.scale,W8=e=>e.layout.margin,Zy=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qy=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),V8="data-recharts-item-index",q8="data-recharts-item-data-key",gp=60;function a5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function r0(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(s),!0).forEach(function(a){tde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tde(e,t,s){return(t=rde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function rde(e){var t=sde(e,"string");return typeof t=="symbol"?t:t+""}function sde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ade=e=>e.brush.height;function nde(e){var t=Qy(e);return t.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:gp;return s+n}return s},0)}function ide(e){var t=Qy(e);return t.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:gp;return s+n}return s},0)}function ode(e){var t=Zy(e);return t.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function lde(e){var t=Zy(e);return t.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var As=pe([il,ol,W8,ade,nde,ide,ode,lde,h8,kle],(e,t,s,a,n,i,o,l,d,u)=>{var h={left:(s.left||0)+n,right:(s.right||0)+i},f={top:(s.top||0)+o,bottom:(s.bottom||0)+l},g=r0(r0({},f),h),y=g.bottom;g.bottom+=a,g=Fce(g,d,u);var w=e-g.left-g.right,v=t-g.top-g.bottom;return r0(r0({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(v,0)})}),cde=pe(As,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lC=pe(il,ol,(e,t)=>({x:0,y:0,width:e,height:t})),dde=p.createContext(null),wa=()=>p.useContext(dde)!=null,ev=e=>e.brush,tv=pe([ev,As,W8],(e,t,s)=>({height:e.height,x:st(e.x)?e.x:t.left,y:st(e.y)?e.y:t.top+t.height+t.brushBottom-((s==null?void 0:s.bottom)||0),width:st(e.width)?e.width:t.width})),cC=()=>{var e,t=wa(),s=at(cde),a=at(tv),n=(e=at(ev))===null||e===void 0?void 0:e.padding;return!t||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},ude={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},H8=()=>{var e;return(e=at(As))!==null&&e!==void 0?e:ude},K8=()=>at(il),G8=()=>at(ol),qt=e=>e.layout.layoutType,xp=()=>at(qt),mde={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Y8=jn({name:"legend",initialState:mde,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var s=Ho(e).payload.indexOf(t.payload);s>-1&&e.payload.splice(s,1)}}}),{setLegendSize:Yze,setLegendSettings:Jze,addLegendPayload:J8,removeLegendPayload:X8}=Y8.actions,hde=Y8.reducer;function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},a_.apply(null,arguments)}function n5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Zj(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(s),!0).forEach(function(a){fde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fde(e,t,s){return(t=pde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function pde(e){var t=gde(e,"string");return typeof t=="symbol"?t:t+""}function gde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xde(e){return Array.isArray(e)&&no(e[0])&&no(e[1])?e.join(" ~ "):e}var yde=e=>{var{separator:t=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:d,labelClassName:u,label:h,labelFormatter:f,accessibilityLayer:g=!1}=e,y=()=>{if(i&&i.length){var T={padding:0,margin:0},A=(l?qy(i,l):i).map((E,R)=>{if(E.type==="none")return null;var z=E.formatter||o||xde,{value:B,name:O}=E,I=B,F=O;if(z){var V=z(B,O,E,R,i);if(Array.isArray(V))[I,F]=V;else if(V!=null)I=V;else return null}var W=Zj({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},a);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:W},no(F)?p.createElement("span",{className:"recharts-tooltip-item-name"},F):null,no(F)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},I),p.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:T},A)}return null},w=Zj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),v=Zj({margin:0},n),b=!Rr(h),N=b?h:"",S=Jt("recharts-default-tooltip",d),_=Jt("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(N=f(h,i));var k=g?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",a_({className:S,style:w},k),p.createElement("p",{className:_,style:v},p.isValidElement(N)?N:"".concat(N)),y())},Ph="recharts-tooltip-wrapper",vde={visibility:"hidden"};function bde(e){var{coordinate:t,translateX:s,translateY:a}=e;return Jt(Ph,{["".concat(Ph,"-right")]:st(s)&&t&&st(t.x)&&s>=t.x,["".concat(Ph,"-left")]:st(s)&&t&&st(t.x)&&s<t.x,["".concat(Ph,"-bottom")]:st(a)&&t&&st(t.y)&&a>=t.y,["".concat(Ph,"-top")]:st(a)&&t&&st(t.y)&&a<t.y})}function i5(e){var{allowEscapeViewBox:t,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:d,viewBoxDimension:u}=e;if(i&&st(i[a]))return i[a];var h=s[a]-l-(n>0?n:0),f=s[a]+n;if(t[a])return o[a]?h:f;var g=d[a];if(g==null)return 0;if(o[a]){var y=h,w=g;return y<w?Math.max(f,g):Math.max(h,g)}if(u==null)return 0;var v=f+l,b=g+u;return v>b?Math.max(h,g):Math.max(f,g)}function wde(e){var{translateX:t,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(s,"px, 0)"):"translate(".concat(t,"px, ").concat(s,"px)")}}function jde(e){var{allowEscapeViewBox:t,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:d}=e,u,h,f;return o.height>0&&o.width>0&&s?(h=i5({allowEscapeViewBox:t,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=i5({allowEscapeViewBox:t,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=wde({translateX:h,translateY:f,useTranslate3d:l})):u=vde,{cssProperties:u,cssClasses:bde({translateX:h,translateY:f,coordinate:s})}}function o5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function s0(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(s),!0).forEach(function(a){n_(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function n_(e,t,s){return(t=Nde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Nde(e){var t=_de(e,"string");return typeof t=="symbol"?t:t+""}function _de(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sde extends p.PureComponent{constructor(){super(...arguments),n_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),n_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,s;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:d,offset:u,position:h,reverseDirection:f,useTranslate3d:g,viewBox:y,wrapperStyle:w,lastBoundingBox:v,innerRef:b,hasPortalFromProps:N}=this.props,{cssClasses:S,cssProperties:_}=jde({allowEscapeViewBox:s,coordinate:o,offsetTopLeft:u,position:h,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:y}),k=N?{}:s0(s0({transition:d&&t?"transform ".concat(a,"ms ").concat(n):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=s0(s0({},k),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},w);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:T,ref:b},i)}}var Cde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hc={isSsr:Cde()},Z8=()=>at(e=>e.rootProps.accessibilityLayer);function ra(e){return Number.isFinite(e)}function rm(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i_.apply(null,arguments)}function l5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function c5(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(s),!0).forEach(function(a){kde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kde(e,t,s){return(t=Ade(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ade(e){var t=Pde(e,"string");return typeof t=="symbol"?t:t+""}function Pde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d5={curveBasisClosed:hoe,curveBasisOpen:foe,curveBasis:moe,curveBumpX:Zie,curveBumpY:Qie,curveLinearClosed:poe,curveLinear:Wy,curveMonotoneX:goe,curveMonotoneY:xoe,curveNatural:yoe,curveStep:voe,curveStepAfter:woe,curveStepBefore:boe},a0=e=>ra(e.x)&&ra(e.y),Eh=e=>e.x,Th=e=>e.y,Ede=(e,t)=>{if(typeof e=="function")return e;var s="curve".concat(fp(e));return(s==="curveMonotone"||s==="curveBump")&&t?d5["".concat(s).concat(t==="vertical"?"Y":"X")]:d5[s]||Wy},Tde=e=>{var{type:t="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,o=Ede(t,n),l=i?s.filter(a0):s,d;if(Array.isArray(a)){var u=i?a.filter(f=>a0(f)):a,h=l.map((f,g)=>c5(c5({},f),{},{base:u[g]}));return n==="vertical"?d=Xg().y(Th).x1(Eh).x0(f=>f.base.x):d=Xg().x(Eh).y1(Th).y0(f=>f.base.y),d.defined(a0).curve(o),d(h)}return n==="vertical"&&st(a)?d=Xg().y(Th).x1(Eh).x0(a):st(a)?d=Xg().x(Eh).y1(Th).y0(a):d=Wz().x(Eh).y(Th),d.defined(a0).curve(o),d(l)},Vu=e=>{var{className:t,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?Tde(e):a;return p.createElement("path",i_({},Ri(e),YS(e),{className:Jt("recharts-curve",t),d:i===null?void 0:i,ref:n}))},Ode=["x","y","top","left","width","height","className"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},o_.apply(null,arguments)}function u5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rde(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(s),!0).forEach(function(a){Mde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Mde(e,t,s){return(t=Ide(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ide(e){var t=Dde(e,"string");return typeof t=="symbol"?t:t+""}function Dde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $de(e,t){if(e==null)return{};var s,a,n=Lde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Lde(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var zde=(e,t,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(s),Fde=e=>{var{x:t=0,y:s=0,top:a=0,left:n=0,width:i=0,height:o=0,className:l}=e,d=$de(e,Ode),u=Rde({x:t,y:s,top:a,left:n,width:i,height:o},d);return!st(t)||!st(s)||!st(i)||!st(o)||!st(a)||!st(n)?null:p.createElement("path",o_({},Cr(u,!0),{className:Jt("recharts-cross",l),d:zde(t,s,i,o,a,n)}))};function Ude(e,t,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:t.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function m5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Bde(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(s),!0).forEach(function(a){Wde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Wde(e,t,s){return(t=Vde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Vde(e){var t=qde(e,"string");return typeof t=="symbol"?t:t+""}function qde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ja(e,t){var s=Bde({},e),a=t,n=Object.keys(t),i=n.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),s);return i}function Hde(){}function h5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function f5(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(s),!0).forEach(function(a){Kde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Kde(e,t,s){return(t=Gde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Gde(e){var t=Yde(e,"string");return typeof t=="symbol"?t:t+""}function Yde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jde=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Q8=(e,t,s)=>e.map(a=>"".concat(Jde(a)," ").concat(t,"ms ").concat(s)).join(","),Xde=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((s,a)=>s.filter(n=>a.includes(n))),Cf=(e,t)=>Object.keys(t).reduce((s,a)=>f5(f5({},s),{},{[a]:e(a,t[a])}),{});function p5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Zs(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(s),!0).forEach(function(a){Zde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zde(e,t,s){return(t=Qde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Qde(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bx=(e,t,s)=>e+(t-e)*s,l_=e=>{var{from:t,to:s}=e;return t!==s},e6=(e,t,s)=>{var a=Cf((n,i)=>{if(l_(i)){var[o,l]=e(i.from,i.to,i.velocity);return Zs(Zs({},i),{},{from:o,velocity:l})}return i},t);return s<1?Cf((n,i)=>l_(i)?Zs(Zs({},i),{},{velocity:bx(i.velocity,a[n].velocity,s),from:bx(i.from,a[n].from,s)}):i,t):e6(e,a,s-1)};function tue(e,t,s,a,n,i){var o,l=a.reduce((g,y)=>Zs(Zs({},g),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>Cf((g,y)=>y.from,l),u=()=>!Object.values(l).filter(l_).length,h=null,f=g=>{o||(o=g);var y=g-o,w=y/s.dt;l=e6(s,l,w),n(Zs(Zs(Zs({},e),t),d())),o=g,u()||(h=i.setTimeout(f))};return()=>(h=i.setTimeout(f),()=>{h()})}function rue(e,t,s,a,n,i,o){var l=null,d=n.reduce((f,g)=>Zs(Zs({},f),{},{[g]:[e[g],t[g]]}),{}),u,h=f=>{u||(u=f);var g=(f-u)/a,y=Cf((v,b)=>bx(...b,s(g)),d);if(i(Zs(Zs(Zs({},e),t),y)),g<1)l=o.setTimeout(h);else{var w=Cf((v,b)=>bx(...b,s(1)),d);i(Zs(Zs(Zs({},e),t),w))}};return()=>(l=o.setTimeout(h),()=>{l()})}const sue=(e,t,s,a,n,i)=>{var o=Xde(e,t);return s.isStepper===!0?tue(e,t,s,o,n,i):rue(e,t,s,a,o,n,i)};var wx=1e-4,t6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],r6=(e,t)=>e.map((s,a)=>s*t**a).reduce((s,a)=>s+a),g5=(e,t)=>s=>{var a=t6(e,t);return r6(a,s)},aue=(e,t)=>s=>{var a=t6(e,t),n=[...a.map((i,o)=>i*o).slice(1),0];return r6(n,s)},x5=function(){for(var t,s,a,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,a,s,n]=[0,0,1,1];break;case"ease":[t,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[t,a,s,n]=[.42,0,1,1];break;case"ease-out":[t,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[t,a,s,n]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,a,s,n]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else o.length===4&&([t,a,s,n]=o);var u=g5(t,s),h=g5(a,n),f=aue(t,s),g=w=>w>1?1:w<0?0:w,y=w=>{for(var v=w>1?1:w,b=v,N=0;N<8;++N){var S=u(b)-v,_=f(b);if(Math.abs(S-v)<wx||_<wx)return h(b);b=g(b-S/_)}return h(b)};return y.isStepper=!1,y},nue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=t,i=(o,l,d)=>{var u=-(o-l)*s,h=d*a,f=d+(u-h)*n/1e3,g=d*n/1e3+o;return Math.abs(g-l)<wx&&Math.abs(f)<wx?[l,0]:[g,f]};return i.isStepper=!0,i.dt=n,i},iue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return x5(e);case"spring":return nue();default:if(e.split("(")[0]==="cubic-bezier")return x5(e)}return typeof e=="function"?e:null};function oue(e){var t,s=()=>null,a=!1,n=null,i=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[d,...u]=l;if(typeof d=="number"){n=e.setTimeout(i.bind(null,u),d);return}i(d),n=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,s(t)),typeof o=="object"&&(t=o,s(t)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,n&&(n(),n=null),i(o)},subscribe:o=>(s=o,()=>{s=()=>null}),getTimeoutController:()=>e}}class lue{setTimeout(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=o=>{o-a>=s?t(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function cue(){return oue(new lue)}var due=p.createContext(cue);function uue(e,t){var s=p.useContext(due);return p.useMemo(()=>t??s(e),[e,t,s])}var mue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},y5={t:0},Qj={t:1};function km(e){var t=ja(e,mue),{isActive:s,canBegin:a,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:d,children:u}=t,h=uue(t.animationId,t.animationManager),[f,g]=p.useState(s?y5:Qj),y=p.useRef(null);return p.useEffect(()=>{s||g(Qj)},[s]),p.useEffect(()=>{if(!s||!a)return Hde;var w=sue(y5,Qj,iue(i),n,g,h.getTimeoutController()),v=()=>{y.current=w()};return h.start([d,o,v,n,l]),()=>{h.stop(),y.current&&y.current(),l()}},[s,a,n,i,o,d,l,h]),u(f.t)}function Am(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=p.useRef(Nf(t)),a=p.useRef(e);return a.current!==e&&(s.current=Nf(t),a.current=e),s.current}function v5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function b5(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(s),!0).forEach(function(a){hue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v5(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hue(e,t,s){return(t=fue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function fue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jx.apply(null,arguments)}var w5=(e,t,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),o=a>=0?1:-1,l=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],f=0,g=4;f<g;f++)h[f]=n[f]>i?i:n[f];u="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+l*h[0],",").concat(t)),u+="L ".concat(e+s-l*h[1],",").concat(t),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(t+o*h[1])),u+="L ".concat(e+s,",").concat(t+a-o*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-l*h[2],",").concat(t+a)),u+="L ".concat(e+l*h[3],",").concat(t+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+a-o*h[3])),u+="Z"}else if(i>0&&n===+n&&n>0){var y=Math.min(i,n);u="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+s-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s,",").concat(t+o*y,`
            L `).concat(e+s,",").concat(t+a-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+s-l*y,",").concat(t+a,`
            L `).concat(e+l*y,",").concat(t+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+a-o*y," Z")}else u="M ".concat(e,",").concat(t," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},gue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s6=e=>{var t=ja(e,gue),s=p.useRef(null),[a,n]=p.useState(-1);p.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var V=s.current.getTotalLength();V&&n(V)}catch{}},[]);var{x:i,y:o,width:l,height:d,radius:u,className:h}=t,{animationEasing:f,animationDuration:g,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:v}=t,b=p.useRef(l),N=p.useRef(d),S=p.useRef(i),_=p.useRef(o),k=p.useMemo(()=>({x:i,y:o,width:l,height:d,radius:u}),[i,o,l,d,u]),T=Am(k,"rectangle-");if(i!==+i||o!==+o||l!==+l||d!==+d||l===0||d===0)return null;var A=Jt("recharts-rectangle",h);if(!v)return p.createElement("path",jx({},Cr(t,!0),{className:A,d:w5(i,o,l,d,u)}));var E=b.current,R=N.current,z=S.current,B=_.current,O="0px ".concat(a===-1?1:a,"px"),I="".concat(a,"px 0px"),F=Q8(["strokeDasharray"],g,typeof f=="string"?f:void 0);return p.createElement(km,{animationId:T,key:T,canBegin:a>0,duration:g,easing:f,isActive:v,begin:y},V=>{var W=gr(E,l,V),X=gr(R,d,V),D=gr(z,i,V),U=gr(B,o,V);s.current&&(b.current=W,N.current=X,S.current=D,_.current=U);var H;return w?V>0?H={transition:F,strokeDasharray:I}:H={strokeDasharray:O}:H={strokeDasharray:I},p.createElement("path",jx({},Cr(t,!0),{className:A,d:w5(D,U,W,X,u),ref:s,style:b5(b5({},H),t.style)}))})};function a6(e){var{cx:t,cy:s,radius:a,startAngle:n,endAngle:i}=e,o=gs(t,s,a,n),l=gs(t,s,a,i);return{points:[o,l],cx:t,cy:s,radius:a,startAngle:n,endAngle:i}}function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},c_.apply(null,arguments)}var xue=(e,t)=>{var s=Fs(t-e),a=Math.min(Math.abs(t-e),359.999);return s*a},n0=e=>{var{cx:t,cy:s,radius:a,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:d}=e,u=l*(o?1:-1)+a,h=Math.asin(l/u)/yx,f=d?n:n+i*h,g=gs(t,s,u,f),y=gs(t,s,a,f),w=d?n-i*h:n,v=gs(t,s,u*Math.cos(h*yx),w);return{center:g,circleTangency:y,lineTangency:v,theta:h}},n6=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:o}=e,l=xue(i,o),d=i+l,u=gs(t,s,n,i),h=gs(t,s,n,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=gs(t,s,a,i),y=gs(t,s,a,d);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(t,",").concat(s," Z");return f},yue=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:u}=e,h=Fs(u-d),{circleTangency:f,lineTangency:g,theta:y}=n0({cx:t,cy:s,radius:n,angle:d,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:w,lineTangency:v,theta:b}=n0({cx:t,cy:s,radius:n,angle:u,sign:-h,cornerRadius:i,cornerIsExternal:l}),N=l?Math.abs(d-u):Math.abs(d-u)-y-b;if(N<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):n6({cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:_,lineTangency:k,theta:T}=n0({cx:t,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:A,lineTangency:E,theta:R}=n0({cx:t,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),z=l?Math.abs(d-u):Math.abs(d-u)-T-R;if(z<0&&i===0)return"".concat(S,"L").concat(t,",").concat(s,"Z");S+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(t,",").concat(s,"Z");return S},vue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i6=e=>{var t=ja(e,vue),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:u,endAngle:h,className:f}=t;if(i<n||u===h)return null;var g=Jt("recharts-sector",f),y=i-n,w=xa(o,y,0,!0),v;return w>0&&Math.abs(u-h)<360?v=yue({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:u,endAngle:h}):v=n6({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:u,endAngle:h}),p.createElement("path",c_({},Cr(t,!0),{className:g,d:v}))};function bue(e,t,s){var a,n,i,o;if(e==="horizontal")a=t.x,i=a,n=s.top,o=s.top+s.height;else if(e==="vertical")n=t.y,o=n,a=s.left,i=s.left+s.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:d,innerRadius:u,outerRadius:h,angle:f}=t,g=gs(l,d,u,f),y=gs(l,d,h,f);a=g.x,n=g.y,i=y.x,o=y.y}else return a6(t);return[{x:a,y:n},{x:i,y:o}]}var eN={},tN={},rN={},j5;function wue(){return j5||(j5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u8();function s(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=s}(rN)),rN}var N5;function jue(){return N5||(N5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wue();function s(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s}(tN)),tN}var _5;function Nue(){return _5||(_5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m8(),s=jue();function a(n,i,o){o&&typeof o!="number"&&t.isIterateeCall(n,i,o)&&(i=o=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),o=o===void 0?n<i?1:-1:s.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),d=new Array(l);for(let u=0;u<l;u++)d[u]=n,n+=o;return d}e.range=a}(eN)),eN}var sN,S5;function _ue(){return S5||(S5=1,sN=Nue().range),sN}var Sue=_ue();const o6=Qn(Sue);function Yl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dC(e){let t,s,a;e.length!==2?(t=Yl,s=(l,d)=>Yl(e(l),d),a=(l,d)=>e(l)-d):(t=e===Yl||e===Cue?e:kue,s=e,a=e);function n(l,d,u=0,h=l.length){if(u<h){if(t(d,d)!==0)return h;do{const f=u+h>>>1;s(l[f],d)<0?u=f+1:h=f}while(u<h)}return u}function i(l,d,u=0,h=l.length){if(u<h){if(t(d,d)!==0)return h;do{const f=u+h>>>1;s(l[f],d)<=0?u=f+1:h=f}while(u<h)}return u}function o(l,d,u=0,h=l.length){const f=n(l,d,u,h-1);return f>u&&a(l[f-1],d)>-a(l[f],d)?f-1:f}return{left:n,center:o,right:i}}function kue(){return 0}function l6(e){return e===null?NaN:+e}function*Aue(e,t){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Pue=dC(Yl),yp=Pue.right;dC(l6).center;class C5 extends Map{constructor(t,s=Oue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(k5(this,t))}has(t){return super.has(k5(this,t))}set(t,s){return super.set(Eue(this,t),s)}delete(t){return super.delete(Tue(this,t))}}function k5({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):s}function Eue({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Tue({_intern:e,_key:t},s){const a=t(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Oue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rue(e=Yl){if(e===Yl)return c6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,s)=>{const a=e(t,s);return a||a===0?a:(e(s,s)===0)-(e(t,t)===0)}}function c6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Mue=Math.sqrt(50),Iue=Math.sqrt(10),Due=Math.sqrt(2);function Nx(e,t,s){const a=(t-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=Mue?10:i>=Iue?5:i>=Due?2:1;let l,d,u;return n<0?(u=Math.pow(10,-n)/o,l=Math.round(e*u),d=Math.round(t*u),l/u<e&&++l,d/u>t&&--d,u=-u):(u=Math.pow(10,n)*o,l=Math.round(e/u),d=Math.round(t/u),l*u<e&&++l,d*u>t&&--d),d<l&&.5<=s&&s<2?Nx(e,t,s*2):[l,d,u]}function d_(e,t,s){if(t=+t,e=+e,s=+s,!(s>0))return[];if(e===t)return[e];const a=t<e,[n,i,o]=a?Nx(t,e,s):Nx(e,t,s);if(!(i>=n))return[];const l=i-n+1,d=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(n+u)/-o;else for(let u=0;u<l;++u)d[u]=(n+u)*o;return d}function u_(e,t,s){return t=+t,e=+e,s=+s,Nx(e,t,s)[2]}function m_(e,t,s){t=+t,e=+e,s=+s;const a=t<e,n=a?u_(t,e,s):u_(e,t,s);return(a?-1:1)*(n<0?1/-n:n)}function A5(e,t){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function P5(e,t){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function d6(e,t,s=0,a=1/0,n){if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=t&&t<=a))return e;for(n=n===void 0?c6:Rue(n);a>s;){if(a-s>600){const d=a-s+1,u=t-s+1,h=Math.log(d),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(d-f)/d)*(u-d/2<0?-1:1),y=Math.max(s,Math.floor(t-u*f/d+g)),w=Math.min(a,Math.floor(t+(d-u)*f/d+g));d6(e,t,y,w,n)}const i=e[t];let o=s,l=a;for(Oh(e,s,t),n(e[a],i)>0&&Oh(e,s,a);o<l;){for(Oh(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?Oh(e,s,l):(++l,Oh(e,l,a)),l<=t&&(s=l+1),t<=l&&(a=l-1)}return e}function Oh(e,t,s){const a=e[t];e[t]=e[s],e[s]=a}function $ue(e,t,s){if(e=Float64Array.from(Aue(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return P5(e);if(t>=1)return A5(e);var a,n=(a-1)*t,i=Math.floor(n),o=A5(d6(e,i).subarray(0,i+1)),l=P5(e.subarray(i+1));return o+(l-o)*(n-i)}}function Lue(e,t,s=l6){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+s(e[0],0,e);if(t>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function zue(e,t,s){e=+e,t=+t,s=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function ri(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ll(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const h_=Symbol("implicit");function uC(){var e=new C5,t=[],s=[],a=h_;function n(i){let o=e.get(i);if(o===void 0){if(a!==h_)return a;e.set(i,o=t.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new C5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return uC(t,s).unknown(a)},ri.apply(n,arguments),n}function mC(){var e=uC().unknown(void 0),t=e.domain,s=e.range,a=0,n=1,i,o,l=!1,d=0,u=0,h=.5;delete e.unknown;function f(){var g=t().length,y=n<a,w=y?n:a,v=y?a:n;i=(v-w)/Math.max(1,g-d+u*2),l&&(i=Math.floor(i)),w+=(v-w-i*(g-d))*h,o=i*(1-d),l&&(w=Math.round(w),o=Math.round(o));var b=zue(g).map(function(N){return w+i*N});return s(y?b.reverse():b)}return e.domain=function(g){return arguments.length?(t(g),f()):t()},e.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,f()):[a,n]},e.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,f()):l},e.padding=function(g){return arguments.length?(d=Math.min(1,u=+g),f()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),f()):d},e.paddingOuter=function(g){return arguments.length?(u=+g,f()):u},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),f()):h},e.copy=function(){return mC(t(),[a,n]).round(l).paddingInner(d).paddingOuter(u).align(h)},ri.apply(f(),arguments)}function u6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u6(t())},e}function Fue(){return u6(mC.apply(null,arguments).paddingInner(1))}function hC(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function m6(e,t){var s=Object.create(e.prototype);for(var a in t)s[a]=t[a];return s}function vp(){}var kf=.7,_x=1/kf,qu="\\s*([+-]?\\d+)\\s*",Af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uue=/^#([0-9a-f]{3,8})$/,Bue=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),Wue=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),Vue=new RegExp(`^rgba\\(${qu},${qu},${qu},${Af}\\)$`),que=new RegExp(`^rgba\\(${to},${to},${to},${Af}\\)$`),Hue=new RegExp(`^hsl\\(${Af},${to},${to}\\)$`),Kue=new RegExp(`^hsla\\(${Af},${to},${to},${Af}\\)$`),E5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hC(vp,Pf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:T5,formatHex:T5,formatHex8:Gue,formatHsl:Yue,formatRgb:O5,toString:O5});function T5(){return this.rgb().formatHex()}function Gue(){return this.rgb().formatHex8()}function Yue(){return h6(this).formatHsl()}function O5(){return this.rgb().formatRgb()}function Pf(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=Uue.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?R5(t):s===3?new Ja(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?i0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?i0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bue.exec(e))?new Ja(t[1],t[2],t[3],1):(t=Wue.exec(e))?new Ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vue.exec(e))?i0(t[1],t[2],t[3],t[4]):(t=que.exec(e))?i0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hue.exec(e))?D5(t[1],t[2]/100,t[3]/100,1):(t=Kue.exec(e))?D5(t[1],t[2]/100,t[3]/100,t[4]):E5.hasOwnProperty(e)?R5(E5[e]):e==="transparent"?new Ja(NaN,NaN,NaN,0):null}function R5(e){return new Ja(e>>16&255,e>>8&255,e&255,1)}function i0(e,t,s,a){return a<=0&&(e=t=s=NaN),new Ja(e,t,s,a)}function Jue(e){return e instanceof vp||(e=Pf(e)),e?(e=e.rgb(),new Ja(e.r,e.g,e.b,e.opacity)):new Ja}function f_(e,t,s,a){return arguments.length===1?Jue(e):new Ja(e,t,s,a??1)}function Ja(e,t,s,a){this.r=+e,this.g=+t,this.b=+s,this.opacity=+a}hC(Ja,f_,m6(vp,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kf:Math.pow(kf,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ja(cd(this.r),cd(this.g),cd(this.b),Sx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M5,formatHex:M5,formatHex8:Xue,formatRgb:I5,toString:I5}));function M5(){return`#${td(this.r)}${td(this.g)}${td(this.b)}`}function Xue(){return`#${td(this.r)}${td(this.g)}${td(this.b)}${td((isNaN(this.opacity)?1:this.opacity)*255)}`}function I5(){const e=Sx(this.opacity);return`${e===1?"rgb(":"rgba("}${cd(this.r)}, ${cd(this.g)}, ${cd(this.b)}${e===1?")":`, ${e})`}`}function Sx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function td(e){return e=cd(e),(e<16?"0":"")+e.toString(16)}function D5(e,t,s,a){return a<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new vi(e,t,s,a)}function h6(e){if(e instanceof vi)return new vi(e.h,e.s,e.l,e.opacity);if(e instanceof vp||(e=Pf(e)),!e)return new vi;if(e instanceof vi)return e;e=e.rgb();var t=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(t,s,a),i=Math.max(t,s,a),o=NaN,l=i-n,d=(i+n)/2;return l?(t===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-t)/l+2:o=(t-s)/l+4,l/=d<.5?i+n:2-i-n,o*=60):l=d>0&&d<1?0:o,new vi(o,l,d,e.opacity)}function Zue(e,t,s,a){return arguments.length===1?h6(e):new vi(e,t,s,a??1)}function vi(e,t,s,a){this.h=+e,this.s=+t,this.l=+s,this.opacity=+a}hC(vi,Zue,m6(vp,{brighter(e){return e=e==null?_x:Math.pow(_x,e),new vi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kf:Math.pow(kf,e),new vi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*t,n=2*s-a;return new Ja(aN(e>=240?e-240:e+120,n,a),aN(e,n,a),aN(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new vi($5(this.h),o0(this.s),o0(this.l),Sx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sx(this.opacity);return`${e===1?"hsl(":"hsla("}${$5(this.h)}, ${o0(this.s)*100}%, ${o0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $5(e){return e=(e||0)%360,e<0?e+360:e}function o0(e){return Math.max(0,Math.min(1,e||0))}function aN(e,t,s){return(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)*255}const fC=e=>()=>e;function Que(e,t){return function(s){return e+s*t}}function eme(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(a){return Math.pow(e+a*t,s)}}function tme(e){return(e=+e)==1?f6:function(t,s){return s-t?eme(t,s,e):fC(isNaN(t)?s:t)}}function f6(e,t){var s=t-e;return s?Que(e,s):fC(isNaN(e)?t:e)}const L5=function e(t){var s=tme(t);function a(n,i){var o=s((n=f_(n)).r,(i=f_(i)).r),l=s(n.g,i.g),d=s(n.b,i.b),u=f6(n.opacity,i.opacity);return function(h){return n.r=o(h),n.g=l(h),n.b=d(h),n.opacity=u(h),n+""}}return a.gamma=e,a}(1);function rme(e,t){t||(t=[]);var s=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function sme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ame(e,t){var s=t?t.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=Pm(e[o],t[o]);for(;o<s;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function nme(e,t){var s=new Date;return e=+e,t=+t,function(a){return s.setTime(e*(1-a)+t*a),s}}function Cx(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function ime(e,t){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=Pm(e[n],t[n]):a[n]=t[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var p_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nN=new RegExp(p_.source,"g");function ome(e){return function(){return e}}function lme(e){return function(t){return e(t)+""}}function cme(e,t){var s=p_.lastIndex=nN.lastIndex=0,a,n,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(a=p_.exec(e))&&(n=nN.exec(t));)(i=n.index)>s&&(i=t.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,d.push({i:o,x:Cx(a,n)})),s=nN.lastIndex;return s<t.length&&(i=t.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?lme(d[0].x):ome(t):(t=d.length,function(u){for(var h=0,f;h<t;++h)l[(f=d[h]).i]=f.x(u);return l.join("")})}function Pm(e,t){var s=typeof t,a;return t==null||s==="boolean"?fC(t):(s==="number"?Cx:s==="string"?(a=Pf(t))?(t=a,L5):cme:t instanceof Pf?L5:t instanceof Date?nme:sme(t)?rme:Array.isArray(t)?ame:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ime:Cx)(e,t)}function pC(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}function dme(e,t){t===void 0&&(t=e,e=Pm);for(var s=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=t[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function ume(e){return function(){return e}}function kx(e){return+e}var z5=[0,1];function Ma(e){return e}function g_(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:ume(isNaN(t)?NaN:.5)}function mme(e,t){var s;return e>t&&(s=e,e=t,t=s),function(a){return Math.max(e,Math.min(t,a))}}function hme(e,t,s){var a=e[0],n=e[1],i=t[0],o=t[1];return n<a?(a=g_(n,a),i=s(o,i)):(a=g_(a,n),i=s(i,o)),function(l){return i(a(l))}}function fme(e,t,s){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)n[o]=g_(e[o],e[o+1]),i[o]=s(t[o],t[o+1]);return function(l){var d=yp(e,l,1,a)-1;return i[d](n[d](l))}}function bp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rv(){var e=z5,t=z5,s=Pm,a,n,i,o=Ma,l,d,u;function h(){var g=Math.min(e.length,t.length);return o!==Ma&&(o=mme(e[0],e[g-1])),l=g>2?fme:hme,d=u=null,f}function f(g){return g==null||isNaN(g=+g)?i:(d||(d=l(e.map(a),t,s)))(a(o(g)))}return f.invert=function(g){return o(n((u||(u=l(t,e.map(a),Cx)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,kx),h()):e.slice()},f.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},f.rangeRound=function(g){return t=Array.from(g),s=pC,h()},f.clamp=function(g){return arguments.length?(o=g?!0:Ma,h()):o!==Ma},f.interpolate=function(g){return arguments.length?(s=g,h()):s},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,y){return a=g,n=y,h()}}function gC(){return rv()(Ma,Ma)}function pme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ax(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function sm(e){return e=Ax(Math.abs(e)),e?e[1]:NaN}function gme(e,t){return function(s,a){for(var n=s.length,i=[],o=0,l=e[0],d=0;n>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(s.substring(n-=l,n+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xme(e){return function(t){return t.replace(/[0-9]/g,function(s){return e[+s]})}}var yme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ef(e){if(!(t=yme.exec(e)))throw new Error("invalid format: "+e);var t;return new xC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ef.prototype=xC.prototype;function xC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vme(e){e:for(var t=e.length,s=1,a=-1,n;s<t;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var p6;function bme(e,t){var s=Ax(e,t);if(!s)return e+"";var a=s[0],n=s[1],i=n-(p6=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Ax(e,Math.max(0,t+i-1))[0]}function F5(e,t){var s=Ax(e,t);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const U5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F5(e*100,t),r:F5,s:bme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function B5(e){return e}var W5=Array.prototype.map,V5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wme(e){var t=e.grouping===void 0||e.thousands===void 0?B5:gme(W5.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?B5:xme(W5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ef(f);var g=f.fill,y=f.align,w=f.sign,v=f.symbol,b=f.zero,N=f.width,S=f.comma,_=f.precision,k=f.trim,T=f.type;T==="n"?(S=!0,T="g"):U5[T]||(_===void 0&&(_=12),k=!0,T="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var A=v==="$"?s:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=v==="$"?a:/[%p]/.test(T)?o:"",R=U5[T],z=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function B(O){var I=A,F=E,V,W,X;if(T==="c")F=R(O)+F,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?d:R(Math.abs(O),_),k&&(O=vme(O)),D&&+O==0&&w!=="+"&&(D=!1),I=(D?w==="("?w:l:w==="-"||w==="("?"":w)+I,F=(T==="s"?V5[8+p6/3]:"")+F+(D&&w==="("?")":""),z){for(V=-1,W=O.length;++V<W;)if(X=O.charCodeAt(V),48>X||X>57){F=(X===46?n+O.slice(V+1):O.slice(V))+F,O=O.slice(0,V);break}}}S&&!b&&(O=t(O,1/0));var U=I.length+O.length+F.length,H=U<N?new Array(N-U+1).join(g):"";switch(S&&b&&(O=t(H+O,H.length?N-F.length:1/0),H=""),y){case"<":O=I+O+F+H;break;case"=":O=I+H+O+F;break;case"^":O=H.slice(0,U=H.length>>1)+I+O+F+H.slice(U);break;default:O=H+I+O+F;break}return i(O)}return B.toString=function(){return f+""},B}function h(f,g){var y=u((f=Ef(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(sm(g)/3)))*3,v=Math.pow(10,-w),b=V5[8+w/3];return function(N){return y(v*N)+b}}return{format:u,formatPrefix:h}}var l0,yC,g6;jme({thousands:",",grouping:[3],currency:["$",""]});function jme(e){return l0=wme(e),yC=l0.format,g6=l0.formatPrefix,l0}function Nme(e){return Math.max(0,-sm(Math.abs(e)))}function _me(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sm(t)/3)))*3-sm(Math.abs(e)))}function Sme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sm(t)-sm(e))+1}function x6(e,t,s,a){var n=m_(e,t,s),i;switch(a=Ef(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=_me(n,o))&&(a.precision=i),g6(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Sme(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Nme(n))&&(a.precision=i-(a.type==="%")*2);break}}return yC(a)}function fc(e){var t=e.domain;return e.ticks=function(s){var a=t();return d_(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=t();return x6(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=t(),n=0,i=a.length-1,o=a[n],l=a[i],d,u,h=10;for(l<o&&(u=o,o=l,l=u,u=n,n=i,i=u);h-- >0;){if(u=u_(o,l,s),u===d)return a[n]=o,a[i]=l,t(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return e},e}function y6(){var e=gC();return e.copy=function(){return bp(e,y6())},ri.apply(e,arguments),fc(e)}function v6(e){var t;function s(a){return a==null||isNaN(a=+a)?t:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,kx),s):e.slice()},s.unknown=function(a){return arguments.length?(t=a,s):t},s.copy=function(){return v6(e).unknown(t)},e=arguments.length?Array.from(e,kx):[0,1],fc(s)}function b6(e,t){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),e[s]=t.floor(n),e[a]=t.ceil(i),e}function q5(e){return Math.log(e)}function H5(e){return Math.exp(e)}function Cme(e){return-Math.log(-e)}function kme(e){return-Math.exp(-e)}function Ame(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Pme(e){return e===10?Ame:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Eme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function K5(e){return(t,s)=>-e(-t,s)}function vC(e){const t=e(q5,H5),s=t.domain;let a=10,n,i;function o(){return n=Eme(a),i=Pme(a),s()[0]<0?(n=K5(n),i=K5(i),e(Cme,kme)):e(q5,H5),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(s(l),o()):s()},t.ticks=l=>{const d=s();let u=d[0],h=d[d.length-1];const f=h<u;f&&([u,h]=[h,u]);let g=n(u),y=n(h),w,v;const b=l==null?10:+l;let N=[];if(!(a%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),u>0){for(;g<=y;++g)for(w=1;w<a;++w)if(v=g<0?w/i(-g):w*i(g),!(v<u)){if(v>h)break;N.push(v)}}else for(;g<=y;++g)for(w=a-1;w>=1;--w)if(v=g>0?w/i(-g):w*i(g),!(v<u)){if(v>h)break;N.push(v)}N.length*2<b&&(N=d_(u,h,b))}else N=d_(g,y,Math.min(y-g,b)).map(i);return f?N.reverse():N},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=Ef(d)).precision==null&&(d.trim=!0),d=yC(d)),l===1/0)return d;const u=Math.max(1,a*l/t.ticks().length);return h=>{let f=h/i(Math.round(n(h)));return f*a<a-.5&&(f*=a),f<=u?d(h):""}},t.nice=()=>s(b6(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),t}function w6(){const e=vC(rv()).domain([1,10]);return e.copy=()=>bp(e,w6()).base(e.base()),ri.apply(e,arguments),e}function G5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Y5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bC(e){var t=1,s=e(G5(t),Y5(t));return s.constant=function(a){return arguments.length?e(G5(t=+a),Y5(t)):t},fc(s)}function j6(){var e=bC(rv());return e.copy=function(){return bp(e,j6()).constant(e.constant())},ri.apply(e,arguments)}function J5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ome(e){return e<0?-e*e:e*e}function wC(e){var t=e(Ma,Ma),s=1;function a(){return s===1?e(Ma,Ma):s===.5?e(Tme,Ome):e(J5(s),J5(1/s))}return t.exponent=function(n){return arguments.length?(s=+n,a()):s},fc(t)}function jC(){var e=wC(rv());return e.copy=function(){return bp(e,jC()).exponent(e.exponent())},ri.apply(e,arguments),e}function Rme(){return jC.apply(null,arguments).exponent(.5)}function X5(e){return Math.sign(e)*e*e}function Mme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function N6(){var e=gC(),t=[0,1],s=!1,a;function n(i){var o=Mme(e(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return e.invert(X5(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,kx)).map(X5)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return N6(e.domain(),t).round(s).clamp(e.clamp()).unknown(a)},ri.apply(n,arguments),fc(n)}function _6(){var e=[],t=[],s=[],a;function n(){var o=0,l=Math.max(1,t.length);for(s=new Array(l-1);++o<l;)s[o-1]=Lue(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[yp(s,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Yl),n()},i.range=function(o){return arguments.length?(t=Array.from(o),n()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return _6().domain(e).range(t).unknown(a)},ri.apply(i,arguments)}function S6(){var e=0,t=1,s=1,a=[.5],n=[0,1],i;function o(d){return d!=null&&d<=d?n[yp(a,d,0,s)]:i}function l(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*t-(d-s)*e)/(s+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,l()):n.slice()},o.invertExtent=function(d){var u=n.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=s?[a[s-1],t]:[a[u-1],a[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return S6().domain([e,t]).range(n).unknown(i)},ri.apply(fc(o),arguments)}function C6(){var e=[.5],t=[0,1],s,a=1;function n(i){return i!=null&&i<=i?t[yp(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return C6().domain(e).range(t).unknown(s)},ri.apply(n,arguments)}const iN=new Date,oN=new Date;function Ps(e,t,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const d=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return d},n.filter=i=>Ps(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),s&&(n.count=(i,o)=>(iN.setTime(+i),oN.setTime(+o),e(iN),e(oN),Math.floor(s(iN,oN))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const Px=Ps(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ps(t=>{t.setTime(Math.floor(t/e)*e)},(t,s)=>{t.setTime(+t+s*e)},(t,s)=>(s-t)/e):Px);Px.range;const Uo=1e3,Wn=Uo*60,Bo=Wn*60,el=Bo*24,NC=el*7,Z5=el*30,lN=el*365,rd=Ps(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCSeconds());rd.range;const _C=Ps(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getMinutes());_C.range;const SC=Ps(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getUTCMinutes());SC.range;const CC=Ps(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo-e.getMinutes()*Wn)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getHours());CC.range;const kC=Ps(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCHours());kC.range;const wp=Ps(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/el,e=>e.getDate()-1);wp.range;const sv=Ps(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/el,e=>e.getUTCDate()-1);sv.range;const k6=Ps(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/el,e=>Math.floor(e/el));k6.range;function Dd(e){return Ps(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,s)=>{t.setDate(t.getDate()+s*7)},(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/NC)}const av=Dd(0),Ex=Dd(1),Ime=Dd(2),Dme=Dd(3),am=Dd(4),$me=Dd(5),Lme=Dd(6);av.range;Ex.range;Ime.range;Dme.range;am.range;$me.range;Lme.range;function $d(e){return Ps(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s*7)},(t,s)=>(s-t)/NC)}const nv=$d(0),Tx=$d(1),zme=$d(2),Fme=$d(3),nm=$d(4),Ume=$d(5),Bme=$d(6);nv.range;Tx.range;zme.range;Fme.range;nm.range;Ume.range;Bme.range;const AC=Ps(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AC.range;const PC=Ps(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PC.range;const tl=Ps(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ps(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s*e)});tl.range;const rl=Ps(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ps(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)});rl.range;function A6(e,t,s,a,n,i){const o=[[rd,1,Uo],[rd,5,5*Uo],[rd,15,15*Uo],[rd,30,30*Uo],[i,1,Wn],[i,5,5*Wn],[i,15,15*Wn],[i,30,30*Wn],[n,1,Bo],[n,3,3*Bo],[n,6,6*Bo],[n,12,12*Bo],[a,1,el],[a,2,2*el],[s,1,NC],[t,1,Z5],[t,3,3*Z5],[e,1,lN]];function l(u,h,f){const g=h<u;g&&([u,h]=[h,u]);const y=f&&typeof f.range=="function"?f:d(u,h,f),w=y?y.range(u,+h+1):[];return g?w.reverse():w}function d(u,h,f){const g=Math.abs(h-u)/f,y=dC(([,,b])=>b).right(o,g);if(y===o.length)return e.every(m_(u/lN,h/lN,f));if(y===0)return Px.every(Math.max(m_(u,h,f),1));const[w,v]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return w.every(v)}return[l,d]}const[Wme,Vme]=A6(rl,PC,nv,k6,kC,SC),[qme,Hme]=A6(tl,AC,av,wp,CC,_C);function cN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rh(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}function Kme(e){var t=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,u=Mh(n),h=Ih(n),f=Mh(i),g=Ih(i),y=Mh(o),w=Ih(o),v=Mh(l),b=Ih(l),N=Mh(d),S=Ih(d),_={a:D,A:U,b:H,B:M,c:null,d:aO,e:aO,f:ghe,g:Che,G:Ahe,H:hhe,I:fhe,j:phe,L:P6,m:xhe,M:yhe,p:L,q,Q:oO,s:lO,S:vhe,u:bhe,U:whe,V:jhe,w:Nhe,W:_he,x:null,X:null,y:She,Y:khe,Z:Phe,"%":iO},k={a:ue,A:G,b:ge,B:be,c:null,d:nO,e:nO,f:Rhe,g:Whe,G:qhe,H:Ehe,I:The,j:Ohe,L:T6,m:Mhe,M:Ihe,p:Ne,q:Fe,Q:oO,s:lO,S:Dhe,u:$he,U:Lhe,V:zhe,w:Fhe,W:Uhe,x:null,X:null,y:Bhe,Y:Vhe,Z:Hhe,"%":iO},T={a:B,A:O,b:I,B:F,c:V,d:rO,e:rO,f:che,g:tO,G:eO,H:sO,I:sO,j:nhe,L:lhe,m:ahe,M:ihe,p:z,q:she,Q:uhe,s:mhe,S:ohe,u:Zme,U:Qme,V:ehe,w:Xme,W:the,x:W,X,y:tO,Y:eO,Z:rhe,"%":dhe};_.x=A(s,_),_.X=A(a,_),_.c=A(t,_),k.x=A(s,k),k.X=A(a,k),k.c=A(t,k);function A(le,Se){return function(Pe){var te=[],he=-1,_e=0,Te=le.length,oe,We,pt;for(Pe instanceof Date||(Pe=new Date(+Pe));++he<Te;)le.charCodeAt(he)===37&&(te.push(le.slice(_e,he)),(We=Q5[oe=le.charAt(++he)])!=null?oe=le.charAt(++he):We=oe==="e"?" ":"0",(pt=Se[oe])&&(oe=pt(Pe,We)),te.push(oe),_e=he+1);return te.push(le.slice(_e,he)),te.join("")}}function E(le,Se){return function(Pe){var te=Rh(1900,void 0,1),he=R(te,le,Pe+="",0),_e,Te;if(he!=Pe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(_e=dN(Rh(te.y,0,1)),Te=_e.getUTCDay(),_e=Te>4||Te===0?Tx.ceil(_e):Tx(_e),_e=sv.offset(_e,(te.V-1)*7),te.y=_e.getUTCFullYear(),te.m=_e.getUTCMonth(),te.d=_e.getUTCDate()+(te.w+6)%7):(_e=cN(Rh(te.y,0,1)),Te=_e.getDay(),_e=Te>4||Te===0?Ex.ceil(_e):Ex(_e),_e=wp.offset(_e,(te.V-1)*7),te.y=_e.getFullYear(),te.m=_e.getMonth(),te.d=_e.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Te="Z"in te?dN(Rh(te.y,0,1)).getUTCDay():cN(Rh(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Te+5)%7:te.w+te.U*7-(Te+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,dN(te)):cN(te)}}function R(le,Se,Pe,te){for(var he=0,_e=Se.length,Te=Pe.length,oe,We;he<_e;){if(te>=Te)return-1;if(oe=Se.charCodeAt(he++),oe===37){if(oe=Se.charAt(he++),We=T[oe in Q5?Se.charAt(he++):oe],!We||(te=We(le,Pe,te))<0)return-1}else if(oe!=Pe.charCodeAt(te++))return-1}return te}function z(le,Se,Pe){var te=u.exec(Se.slice(Pe));return te?(le.p=h.get(te[0].toLowerCase()),Pe+te[0].length):-1}function B(le,Se,Pe){var te=y.exec(Se.slice(Pe));return te?(le.w=w.get(te[0].toLowerCase()),Pe+te[0].length):-1}function O(le,Se,Pe){var te=f.exec(Se.slice(Pe));return te?(le.w=g.get(te[0].toLowerCase()),Pe+te[0].length):-1}function I(le,Se,Pe){var te=N.exec(Se.slice(Pe));return te?(le.m=S.get(te[0].toLowerCase()),Pe+te[0].length):-1}function F(le,Se,Pe){var te=v.exec(Se.slice(Pe));return te?(le.m=b.get(te[0].toLowerCase()),Pe+te[0].length):-1}function V(le,Se,Pe){return R(le,t,Se,Pe)}function W(le,Se,Pe){return R(le,s,Se,Pe)}function X(le,Se,Pe){return R(le,a,Se,Pe)}function D(le){return o[le.getDay()]}function U(le){return i[le.getDay()]}function H(le){return d[le.getMonth()]}function M(le){return l[le.getMonth()]}function L(le){return n[+(le.getHours()>=12)]}function q(le){return 1+~~(le.getMonth()/3)}function ue(le){return o[le.getUTCDay()]}function G(le){return i[le.getUTCDay()]}function ge(le){return d[le.getUTCMonth()]}function be(le){return l[le.getUTCMonth()]}function Ne(le){return n[+(le.getUTCHours()>=12)]}function Fe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Se=A(le+="",_);return Se.toString=function(){return le},Se},parse:function(le){var Se=E(le+="",!1);return Se.toString=function(){return le},Se},utcFormat:function(le){var Se=A(le+="",k);return Se.toString=function(){return le},Se},utcParse:function(le){var Se=E(le+="",!0);return Se.toString=function(){return le},Se}}}var Q5={"-":"",_:" ",0:"0"},Ws=/^\s*\d+/,Gme=/^%/,Yme=/[\\^$*+?|[\]().{}]/g;function rr(e,t,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(t)+n:n)}function Jme(e){return e.replace(Yme,"\\$&")}function Mh(e){return new RegExp("^(?:"+e.map(Jme).join("|")+")","i")}function Ih(e){return new Map(e.map((t,s)=>[t.toLowerCase(),s]))}function Xme(e,t,s){var a=Ws.exec(t.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function Zme(e,t,s){var a=Ws.exec(t.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Qme(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function ehe(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function the(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function eO(e,t,s){var a=Ws.exec(t.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function tO(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function rhe(e,t,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function she(e,t,s){var a=Ws.exec(t.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function ahe(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function rO(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function nhe(e,t,s){var a=Ws.exec(t.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function sO(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function ihe(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function ohe(e,t,s){var a=Ws.exec(t.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function lhe(e,t,s){var a=Ws.exec(t.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function che(e,t,s){var a=Ws.exec(t.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function dhe(e,t,s){var a=Gme.exec(t.slice(s,s+1));return a?s+a[0].length:-1}function uhe(e,t,s){var a=Ws.exec(t.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function mhe(e,t,s){var a=Ws.exec(t.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function aO(e,t){return rr(e.getDate(),t,2)}function hhe(e,t){return rr(e.getHours(),t,2)}function fhe(e,t){return rr(e.getHours()%12||12,t,2)}function phe(e,t){return rr(1+wp.count(tl(e),e),t,3)}function P6(e,t){return rr(e.getMilliseconds(),t,3)}function ghe(e,t){return P6(e,t)+"000"}function xhe(e,t){return rr(e.getMonth()+1,t,2)}function yhe(e,t){return rr(e.getMinutes(),t,2)}function vhe(e,t){return rr(e.getSeconds(),t,2)}function bhe(e){var t=e.getDay();return t===0?7:t}function whe(e,t){return rr(av.count(tl(e)-1,e),t,2)}function E6(e){var t=e.getDay();return t>=4||t===0?am(e):am.ceil(e)}function jhe(e,t){return e=E6(e),rr(am.count(tl(e),e)+(tl(e).getDay()===4),t,2)}function Nhe(e){return e.getDay()}function _he(e,t){return rr(Ex.count(tl(e)-1,e),t,2)}function She(e,t){return rr(e.getFullYear()%100,t,2)}function Che(e,t){return e=E6(e),rr(e.getFullYear()%100,t,2)}function khe(e,t){return rr(e.getFullYear()%1e4,t,4)}function Ahe(e,t){var s=e.getDay();return e=s>=4||s===0?am(e):am.ceil(e),rr(e.getFullYear()%1e4,t,4)}function Phe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rr(t/60|0,"0",2)+rr(t%60,"0",2)}function nO(e,t){return rr(e.getUTCDate(),t,2)}function Ehe(e,t){return rr(e.getUTCHours(),t,2)}function The(e,t){return rr(e.getUTCHours()%12||12,t,2)}function Ohe(e,t){return rr(1+sv.count(rl(e),e),t,3)}function T6(e,t){return rr(e.getUTCMilliseconds(),t,3)}function Rhe(e,t){return T6(e,t)+"000"}function Mhe(e,t){return rr(e.getUTCMonth()+1,t,2)}function Ihe(e,t){return rr(e.getUTCMinutes(),t,2)}function Dhe(e,t){return rr(e.getUTCSeconds(),t,2)}function $he(e){var t=e.getUTCDay();return t===0?7:t}function Lhe(e,t){return rr(nv.count(rl(e)-1,e),t,2)}function O6(e){var t=e.getUTCDay();return t>=4||t===0?nm(e):nm.ceil(e)}function zhe(e,t){return e=O6(e),rr(nm.count(rl(e),e)+(rl(e).getUTCDay()===4),t,2)}function Fhe(e){return e.getUTCDay()}function Uhe(e,t){return rr(Tx.count(rl(e)-1,e),t,2)}function Bhe(e,t){return rr(e.getUTCFullYear()%100,t,2)}function Whe(e,t){return e=O6(e),rr(e.getUTCFullYear()%100,t,2)}function Vhe(e,t){return rr(e.getUTCFullYear()%1e4,t,4)}function qhe(e,t){var s=e.getUTCDay();return e=s>=4||s===0?nm(e):nm.ceil(e),rr(e.getUTCFullYear()%1e4,t,4)}function Hhe(){return"+0000"}function iO(){return"%"}function oO(e){return+e}function lO(e){return Math.floor(+e/1e3)}var ku,R6,M6;Khe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Khe(e){return ku=Kme(e),R6=ku.format,ku.parse,M6=ku.utcFormat,ku.utcParse,ku}function Ghe(e){return new Date(e)}function Yhe(e){return e instanceof Date?+e:+new Date(+e)}function EC(e,t,s,a,n,i,o,l,d,u){var h=gC(),f=h.invert,g=h.domain,y=u(".%L"),w=u(":%S"),v=u("%I:%M"),b=u("%I %p"),N=u("%a %d"),S=u("%b %d"),_=u("%B"),k=u("%Y");function T(A){return(d(A)<A?y:l(A)<A?w:o(A)<A?v:i(A)<A?b:a(A)<A?n(A)<A?N:S:s(A)<A?_:k)(A)}return h.invert=function(A){return new Date(f(A))},h.domain=function(A){return arguments.length?g(Array.from(A,Yhe)):g().map(Ghe)},h.ticks=function(A){var E=g();return e(E[0],E[E.length-1],A??10)},h.tickFormat=function(A,E){return E==null?T:u(E)},h.nice=function(A){var E=g();return(!A||typeof A.range!="function")&&(A=t(E[0],E[E.length-1],A??10)),A?g(b6(E,A)):h},h.copy=function(){return bp(h,EC(e,t,s,a,n,i,o,l,d,u))},h}function Jhe(){return ri.apply(EC(qme,Hme,tl,AC,av,wp,CC,_C,rd,R6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xhe(){return ri.apply(EC(Wme,Vme,rl,PC,nv,sv,kC,SC,rd,M6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iv(){var e=0,t=1,s,a,n,i,o=Ma,l=!1,d;function u(f){return f==null||isNaN(f=+f)?d:o(n===0?.5:(f=(i(f)-s)*n,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,s=i(e=+e),a=i(t=+t),n=s===a?0:1/(a-s),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function h(f){return function(g){var y,w;return arguments.length?([y,w]=g,o=f(y,w),u):[o(0),o(1)]}}return u.range=h(Pm),u.rangeRound=h(pC),u.unknown=function(f){return arguments.length?(d=f,u):d},function(f){return i=f,s=f(e),a=f(t),n=s===a?0:1/(a-s),u}}function pc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I6(){var e=fc(iv()(Ma));return e.copy=function(){return pc(e,I6())},ll.apply(e,arguments)}function D6(){var e=vC(iv()).domain([1,10]);return e.copy=function(){return pc(e,D6()).base(e.base())},ll.apply(e,arguments)}function $6(){var e=bC(iv());return e.copy=function(){return pc(e,$6()).constant(e.constant())},ll.apply(e,arguments)}function TC(){var e=wC(iv());return e.copy=function(){return pc(e,TC()).exponent(e.exponent())},ll.apply(e,arguments)}function Zhe(){return TC.apply(null,arguments).exponent(.5)}function L6(){var e=[],t=Ma;function s(a){if(a!=null&&!isNaN(a=+a))return t((yp(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Yl),s},s.interpolator=function(a){return arguments.length?(t=a,s):t},s.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>$ue(e,i/a))},s.copy=function(){return L6(t).domain(e)},ll.apply(s,arguments)}function ov(){var e=0,t=.5,s=1,a=1,n,i,o,l,d,u=Ma,h,f=!1,g;function y(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-i)*(a*v<a*i?l:d),u(f?Math.max(0,Math.min(1,v)):v))}y.domain=function(v){return arguments.length?([e,t,s]=v,n=h(e=+e),i=h(t=+t),o=h(s=+s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y):[e,t,s]},y.clamp=function(v){return arguments.length?(f=!!v,y):f},y.interpolator=function(v){return arguments.length?(u=v,y):u};function w(v){return function(b){var N,S,_;return arguments.length?([N,S,_]=b,u=dme(v,[N,S,_]),y):[u(0),u(.5),u(1)]}}return y.range=w(Pm),y.rangeRound=w(pC),y.unknown=function(v){return arguments.length?(g=v,y):g},function(v){return h=v,n=v(e),i=v(t),o=v(s),l=n===i?0:.5/(i-n),d=i===o?0:.5/(o-i),a=i<n?-1:1,y}}function z6(){var e=fc(ov()(Ma));return e.copy=function(){return pc(e,z6())},ll.apply(e,arguments)}function F6(){var e=vC(ov()).domain([.1,1,10]);return e.copy=function(){return pc(e,F6()).base(e.base())},ll.apply(e,arguments)}function U6(){var e=bC(ov());return e.copy=function(){return pc(e,U6()).constant(e.constant())},ll.apply(e,arguments)}function OC(){var e=wC(ov());return e.copy=function(){return pc(e,OC()).exponent(e.exponent())},ll.apply(e,arguments)}function Qhe(){return OC.apply(null,arguments).exponent(.5)}const ef=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mC,scaleDiverging:z6,scaleDivergingLog:F6,scaleDivergingPow:OC,scaleDivergingSqrt:Qhe,scaleDivergingSymlog:U6,scaleIdentity:v6,scaleImplicit:h_,scaleLinear:y6,scaleLog:w6,scaleOrdinal:uC,scalePoint:Fue,scalePow:jC,scaleQuantile:_6,scaleQuantize:S6,scaleRadial:N6,scaleSequential:I6,scaleSequentialLog:D6,scaleSequentialPow:TC,scaleSequentialQuantile:L6,scaleSequentialSqrt:Zhe,scaleSequentialSymlog:$6,scaleSqrt:Rme,scaleSymlog:j6,scaleThreshold:C6,scaleTime:Jhe,scaleUtc:Xhe,tickFormat:x6},Symbol.toStringTag,{value:"Module"}));var gc=e=>e.chartData,RC=pe([gc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jp=(e,t,s,a)=>a?RC(e):gc(e);function im(e){if(Array.isArray(e)&&e.length===2){var[t,s]=e;if(ra(t)&&ra(s))return!0}return!1}function cO(e,t,s){return s?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function efe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ra(s))n=s;else if(typeof s=="function")return;if(ra(a))i=a;else if(typeof a=="function")return;var o=[n,i];if(im(o))return o}}function tfe(e,t,s){if(!(!s&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,s);if(im(a))return cO(a,t,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(n==="auto")t!=null&&(o=Math.min(...t));else if(st(n))o=n;else if(typeof n=="function")try{t!=null&&(o=n(t==null?void 0:t[0]))}catch{}else if(typeof n=="string"&&t5.test(n)){var d=t5.exec(n);if(d==null||t==null)o=void 0;else{var u=+d[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(st(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&r5.test(i)){var h=r5.exec(i);if(h==null||t==null)l=void 0;else{var f=+h[1];l=t[1]+f}}else l=t==null?void 0:t[1];var g=[o,l];if(im(g))return t==null?g:cO(g,t,s)}}}var Em=1e9,rfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IC,Lr=!0,Zn="[DecimalError] ",dd=Zn+"Invalid argument: ",MC=Zn+"Exponent out of range: ",Tm=Math.floor,Xc=Math.pow,sfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,zs=1e7,Or=7,B6=9007199254740991,Ox=Tm(B6/Or),Ke={};Ke.absoluteValue=Ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ke.comparedTo=Ke.cmp=function(e){var t,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,s=a<n?a:n;t<s;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var e=this,t=e.d.length-1,s=(t-e.e)*Or;if(t=e.d[t],t)for(;t%10==0;t/=10)s--;return s<0?0:s};Ke.dividedBy=Ke.div=function(e){return Ko(this,new this.constructor(e))};Ke.dividedToIntegerBy=Ke.idiv=function(e){var t=this,s=t.constructor;return vr(Ko(t,new s(e),0,1),s.precision)};Ke.equals=Ke.eq=function(e){return!this.cmp(e)};Ke.exponent=function(){return ys(this)};Ke.greaterThan=Ke.gt=function(e){return this.cmp(e)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(e){return this.cmp(e)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(e){return this.cmp(e)<0};Ke.lessThanOrEqualTo=Ke.lte=function(e){return this.cmp(e)<1};Ke.logarithm=Ke.log=function(e){var t,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(fn))throw Error(Zn+"NaN");if(s.s<1)throw Error(Zn+(s.s?"NaN":"-Infinity"));return s.eq(fn)?new a(0):(Lr=!1,t=Ko(Tf(s,i),Tf(e,i),i),Lr=!0,vr(t,n))};Ke.minus=Ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q6(t,e):W6(t,(e.s=-e.s,e))};Ke.modulo=Ke.mod=function(e){var t,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Zn+"NaN");return s.s?(Lr=!1,t=Ko(s,e,0,1).times(e),Lr=!0,s.minus(t)):vr(new a(s),n)};Ke.naturalExponential=Ke.exp=function(){return V6(this)};Ke.naturalLogarithm=Ke.ln=function(){return Tf(this)};Ke.negated=Ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ke.plus=Ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?W6(t,e):q6(t,(e.s=-e.s,e))};Ke.precision=Ke.sd=function(e){var t,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dd+e);if(t=ys(n)+1,a=n.d.length-1,s=a*Or+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&t>s?t:s};Ke.squareRoot=Ke.sqrt=function(){var e,t,s,a,n,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Zn+"NaN")}for(e=ys(l),Lr=!1,n=Math.sqrt(+l),n==0||n==1/0?(t=Ji(l.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Tm((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(n.toString()),s=d.precision,n=o=s+3;;)if(i=a,a=i.plus(Ko(l,i,o+2)).times(.5),Ji(i.d).slice(0,o)===(t=Ji(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),n==o&&t=="4999"){if(vr(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return Lr=!0,vr(a,s)};Ke.times=Ke.mul=function(e){var t,s,a,n,i,o,l,d,u,h=this,f=h.constructor,g=h.d,y=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,s=h.e+e.e,d=g.length,u=y.length,d<u&&(i=g,g=y,y=i,o=d,d=u,u=o),i=[],o=d+u,a=o;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,n=d+a;n>a;)l=i[n]+y[a]*g[n-a-1]+t,i[n--]=l%zs|0,t=l/zs|0;i[n]=(i[n]+t)%zs|0}for(;!i[--o];)i.pop();return t?++s:i.shift(),e.d=i,e.e=s,Lr?vr(e,f.precision):e};Ke.toDecimalPlaces=Ke.todp=function(e,t){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(io(e,0,Em),t===void 0?t=a.rounding:io(t,0,8),vr(s,e+ys(s)+1,t))};Ke.toExponential=function(e,t){var s,a=this,n=a.constructor;return e===void 0?s=kd(a,!0):(io(e,0,Em),t===void 0?t=n.rounding:io(t,0,8),a=vr(new n(a),e+1,t),s=kd(a,!0,e+1)),s};Ke.toFixed=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?kd(n):(io(e,0,Em),t===void 0?t=i.rounding:io(t,0,8),a=vr(new i(n),e+ys(n)+1,t),s=kd(a.abs(),!1,e+ys(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Ke.toInteger=Ke.toint=function(){var e=this,t=e.constructor;return vr(new t(e),ys(e)+1,t.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(e){var t,s,a,n,i,o,l=this,d=l.constructor,u=12,h=+(e=new d(e));if(!e.s)return new d(fn);if(l=new d(l),!l.s){if(e.s<1)throw Error(Zn+"Infinity");return l}if(l.eq(fn))return l;if(a=d.precision,e.eq(fn))return vr(l,a);if(t=e.e,s=e.d.length-1,o=t>=s,i=l.s,o){if((s=h<0?-h:h)<=B6){for(n=new d(fn),t=Math.ceil(a/Or+4),Lr=!1;s%2&&(n=n.times(l),uO(n.d,t)),s=Tm(s/2),s!==0;)l=l.times(l),uO(l.d,t);return Lr=!0,e.s<0?new d(fn).div(n):vr(n,a)}}else if(i<0)throw Error(Zn+"NaN");return i=i<0&&e.d[Math.max(t,s)]&1?-1:1,l.s=1,Lr=!1,n=e.times(Tf(l,a+u)),Lr=!0,n=V6(n),n.s=i,n};Ke.toPrecision=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?(s=ys(n),a=kd(n,s<=i.toExpNeg||s>=i.toExpPos)):(io(e,1,Em),t===void 0?t=i.rounding:io(t,0,8),n=vr(new i(n),e,t),s=ys(n),a=kd(n,e<=s||s<=i.toExpNeg,e)),a};Ke.toSignificantDigits=Ke.tosd=function(e,t){var s=this,a=s.constructor;return e===void 0?(e=a.precision,t=a.rounding):(io(e,1,Em),t===void 0?t=a.rounding:io(t,0,8)),vr(new a(s),e,t)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ys(e),s=e.constructor;return kd(e,t<=s.toExpNeg||t>=s.toExpPos)};function W6(e,t){var s,a,n,i,o,l,d,u,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Lr?vr(t,f):t;if(d=e.d,u=t.d,o=e.e,n=t.e,d=d.slice(),i=o-n,i){for(i<0?(a=d,i=-i,l=u.length):(a=u,n=o,l=d.length),o=Math.ceil(f/Or),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,a=u,u=d,d=a),s=0;i;)s=(d[--i]=d[i]+u[i]+s)/zs|0,d[i]%=zs;for(s&&(d.unshift(s),++n),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=n,Lr?vr(t,f):t}function io(e,t,s){if(e!==~~e||e<t||e>s)throw Error(dd+e)}function Ji(e){var t,s,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,t=1;t<n;t++)a=e[t]+"",s=Or-a.length,s&&(i+=Fl(s)),i+=a;o=e[t],a=o+"",s=Or-a.length,s&&(i+=Fl(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ko=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%zs|0,o=i/zs|0;return o&&a.unshift(o),a}function t(a,n,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=n[l]){d=a[l]>n[l]?1:-1;break}return d}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*zs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,d,u,h,f,g,y,w,v,b,N,S,_,k,T,A,E,R,z=a.constructor,B=a.s==n.s?1:-1,O=a.d,I=n.d;if(!a.s)return new z(a);if(!n.s)throw Error(Zn+"Division by zero");for(d=a.e-n.e,E=I.length,T=O.length,y=new z(B),w=y.d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--d,i==null?S=i=z.precision:o?S=i+(ys(a)-ys(n))+1:S=i,S<0)return new z(0);if(S=S/Or+2|0,u=0,E==1)for(h=0,I=I[0],S++;(u<T||h)&&S--;u++)_=h*zs+(O[u]||0),w[u]=_/I|0,h=_%I|0;else{for(h=zs/(I[0]+1)|0,h>1&&(I=e(I,h),O=e(O,h),E=I.length,T=O.length),k=E,v=O.slice(0,E),b=v.length;b<E;)v[b++]=0;R=I.slice(),R.unshift(0),A=I[0],I[1]>=zs/2&&++A;do h=0,l=t(I,v,E,b),l<0?(N=v[0],E!=b&&(N=N*zs+(v[1]||0)),h=N/A|0,h>1?(h>=zs&&(h=zs-1),f=e(I,h),g=f.length,b=v.length,l=t(f,v,g,b),l==1&&(h--,s(f,E<g?R:I,g))):(h==0&&(l=h=1),f=I.slice()),g=f.length,g<b&&f.unshift(0),s(v,f,b),l==-1&&(b=v.length,l=t(I,v,E,b),l<1&&(h++,s(v,E<b?R:I,b))),b=v.length):l===0&&(h++,v=[0]),w[u++]=h,l&&v[0]?v[b++]=O[k]||0:(v=[O[k]],b=1);while((k++<T||v[0]!==void 0)&&S--)}return w[0]||w.shift(),y.e=d,vr(y,o?i+ys(y)+1:i)}}();function V6(e,t){var s,a,n,i,o,l,d=0,u=0,h=e.constructor,f=h.precision;if(ys(e)>16)throw Error(MC+ys(e));if(!e.s)return new h(fn);for(Lr=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(Xc(2,u))/Math.LN10*2+5|0,l+=a,s=n=i=new h(fn),h.precision=l;;){if(n=vr(n.times(e),l),s=s.times(++d),o=i.plus(Ko(n,s,l)),Ji(o.d).slice(0,l)===Ji(i.d).slice(0,l)){for(;u--;)i=vr(i.times(i),l);return h.precision=f,t==null?(Lr=!0,vr(i,f)):i}i=o}}function ys(e){for(var t=e.e*Or,s=e.d[0];s>=10;s/=10)t++;return t}function uN(e,t,s){if(t>e.LN10.sd())throw Lr=!0,s&&(e.precision=s),Error(Zn+"LN10 precision limit exceeded");return vr(new e(e.LN10),t)}function Fl(e){for(var t="";e--;)t+="0";return t}function Tf(e,t){var s,a,n,i,o,l,d,u,h,f=1,g=10,y=e,w=y.d,v=y.constructor,b=v.precision;if(y.s<1)throw Error(Zn+(y.s?"NaN":"-Infinity"));if(y.eq(fn))return new v(0);if(t==null?(Lr=!1,u=b):u=t,y.eq(10))return t==null&&(Lr=!0),uN(v,u);if(u+=g,v.precision=u,s=Ji(w),a=s.charAt(0),i=ys(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)y=y.times(e),s=Ji(y.d),a=s.charAt(0),f++;i=ys(y),a>1?(y=new v("0."+s),i++):y=new v(a+"."+s.slice(1))}else return d=uN(v,u+2,b).times(i+""),y=Tf(new v(a+"."+s.slice(1)),u-g).plus(d),v.precision=b,t==null?(Lr=!0,vr(y,b)):y;for(l=o=y=Ko(y.minus(fn),y.plus(fn),u),h=vr(y.times(y),u),n=3;;){if(o=vr(o.times(h),u),d=l.plus(Ko(o,new v(n),u)),Ji(d.d).slice(0,u)===Ji(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(uN(v,u+2,b).times(i+""))),l=Ko(l,new v(f),u),v.precision=b,t==null?(Lr=!0,vr(l,b)):l;l=d,n+=2}}function dO(e,t){var s,a,n;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,s=s-a-1,e.e=Tm(s/Or),e.d=[],a=(s+1)%Or,s<0&&(a+=Or),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Or;a<n;)e.d.push(+t.slice(a,a+=Or));t=t.slice(a),a=Or-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),Lr&&(e.e>Ox||e.e<-Ox))throw Error(MC+s)}else e.s=0,e.e=0,e.d=[0];return e}function vr(e,t,s){var a,n,i,o,l,d,u,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Or,n=t,u=f[h=0];else{if(h=Math.ceil((a+1)/Or),i=f.length,h>=i)return e;for(u=i=f[h],o=1;i>=10;i/=10)o++;a%=Or,n=a-Or+o}if(s!==void 0&&(i=Xc(10,o-n-1),l=u/i%10|0,d=t<0||f[h+1]!==void 0||u%i,d=s<4?(l||d)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||d||s==6&&(a>0?n>0?u/Xc(10,o-n):0:f[h-1])%10&1||s==(e.s<0?8:7))),t<1||!f[0])return d?(i=ys(e),f.length=1,t=t-i-1,f[0]=Xc(10,(Or-t%Or)%Or),e.e=Tm(-t/Or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=h,i=1,h--):(f.length=h+1,i=Xc(10,Or-a),f[h]=n>0?(u/Xc(10,o-n)%Xc(10,n)|0)*i:0),d)for(;;)if(h==0){(f[0]+=i)==zs&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=zs)break;f[h--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(Lr&&(e.e>Ox||e.e<-Ox))throw Error(MC+ys(e));return e}function q6(e,t){var s,a,n,i,o,l,d,u,h,f,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Lr?vr(t,y):t;if(d=e.d,f=t.d,a=t.e,u=e.e,d=d.slice(),o=u-a,o){for(h=o<0,h?(s=d,o=-o,l=f.length):(s=f,a=u,l=d.length),n=Math.max(Math.ceil(y/Or),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=d.length,l=f.length,h=n<l,h&&(l=n),n=0;n<l;n++)if(d[n]!=f[n]){h=d[n]<f[n];break}o=0}for(h&&(s=d,d=f,f=s,t.s=-t.s),l=d.length,n=f.length-l;n>0;--n)d[l++]=0;for(n=f.length;n>o;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=zs-1;--d[i],d[n]+=zs}d[n]-=f[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,Lr?vr(t,y):t):new g(0)}function kd(e,t,s){var a,n=ys(e),i=Ji(e.d),o=i.length;return t?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fl(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Fl(-n-1)+i,s&&(a=s-o)>0&&(i+=Fl(a))):n>=o?(i+=Fl(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+Fl(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=Fl(a))),e.s<0?"-"+i:i}function uO(e,t){if(e.length>t)return e.length=t,!0}function H6(e){var t,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(dd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dO(o,i.toString())}else if(typeof i!="string")throw Error(dd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,sfe.test(i))dO(o,i);else throw Error(dd+i)}if(n.prototype=Ke,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=H6,n.config=n.set=afe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(s=a[t++])||(e[s]=this[s]);return n.config(e),n}function afe(e){if(!e||typeof e!="object")throw Error(Zn+"Object expected");var t,s,a,n=["precision",1,Em,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[s=n[t]])!==void 0)if(Tm(a)===a&&a>=n[t+1]&&a<=n[t+2])this[s]=a;else throw Error(dd+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(dd+s+": "+a);return this}var IC=H6(rfe);fn=new IC(1);const hr=IC;var nfe=e=>e,K6={},G6=e=>e===K6,mO=e=>function t(){return arguments.length===0||arguments.length===1&&G6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Y6=(e,t)=>e===1?t:mO(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(o=>o!==K6).length;return i>=e?t(...a):Y6(e-i,mO(function(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var u=a.map(h=>G6(h)?l.shift():h);return t(...u,...l)}))}),lv=e=>Y6(e.length,e),x_=(e,t)=>{for(var s=[],a=e;a<t;++a)s[a-e]=a;return s},ife=lv((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(s=>t[s]).map(e)),ofe=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(!s.length)return nfe;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,d)=>d(l),i(...arguments))}},y_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),J6=e=>{var t=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t&&n.every((o,l)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[l])})||(t=n,s=e(...n)),s}};function X6(e){var t;return e===0?t=1:t=Math.floor(new hr(e).abs().log(10).toNumber())+1,t}function Z6(e,t,s){for(var a=new hr(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}lv((e,t,s)=>{var a=+e,n=+t;return a+s*(n-a)});lv((e,t,s)=>{var a=t-+e;return a=a||1/0,(s-e)/a});lv((e,t,s)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var Q6=e=>{var[t,s]=e,[a,n]=[t,s];return t>s&&([a,n]=[s,t]),[a,n]},eF=(e,t,s)=>{if(e.lte(0))return new hr(0);var a=X6(e.toNumber()),n=new hr(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new hr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),d=l.mul(n);return t?new hr(d.toNumber()):new hr(Math.ceil(d.toNumber()))},lfe=(e,t,s)=>{var a=new hr(1),n=new hr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new hr(10).pow(X6(e)-1),n=new hr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new hr(Math.floor(e)))}else e===0?n=new hr(Math.floor((t-1)/2)):s||(n=new hr(Math.floor(e)));var o=Math.floor((t-1)/2),l=ofe(ife(d=>n.add(new hr(d-o).mul(a)).toNumber()),x_);return l(0,t)},tF=function(t,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-t)/(a-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var o=eF(new hr(s).sub(t).div(a-1),n,i),l;t<=0&&s>=0?l=new hr(0):(l=new hr(t).add(s).div(2),l=l.sub(new hr(l).mod(o)));var d=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new hr(s).sub(l).div(o).toNumber()),h=d+u+1;return h>a?tF(t,s,a,n,i+1):(h<a&&(u=s>0?u+(a-h):u,d=s>0?d:d+(a-h)),{step:o,tickMin:l.sub(new hr(d).mul(o)),tickMax:l.add(new hr(u).mul(o))})};function cfe(e){var[t,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=Q6([t,s]);if(o===-1/0||l===1/0){var d=l===1/0?[o,...x_(0,a-1).map(()=>1/0)]:[...x_(0,a-1).map(()=>-1/0),l];return t>s?y_(d):d}if(o===l)return lfe(o,a,n);var{step:u,tickMin:h,tickMax:f}=tF(o,l,i,n,0),g=Z6(h,f.add(new hr(.1).mul(u)),u);return t>s?y_(g):g}function dfe(e,t){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=Q6([s,a]);if(i===-1/0||o===1/0)return[s,a];if(i===o)return[i];var l=Math.max(t,2),d=eF(new hr(o).sub(i).div(l-1),n,0),u=[...Z6(new hr(i),new hr(o),d),o];return n===!1&&(u=u.map(h=>Math.round(h))),s>a?y_(u):u}var ufe=J6(cfe),mfe=J6(dfe),rF=e=>e.rootProps.maxBarSize,hfe=e=>e.rootProps.barGap,sF=e=>e.rootProps.barCategoryGap,ffe=e=>e.rootProps.barSize,Np=e=>e.rootProps.stackOffset,DC=e=>e.options.chartName,$C=e=>e.rootProps.syncId,aF=e=>e.rootProps.syncMethod,LC=e=>e.options.eventEmitter,Lo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},un={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pfe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Lo.angleAxisId,includeHidden:!1,name:void 0,reversed:Lo.reversed,scale:Lo.scale,tick:Lo.tick,tickCount:void 0,ticks:void 0,type:Lo.type,unit:void 0},gfe={allowDataOverflow:un.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:un.type,unit:void 0},xfe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Lo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lo.scale,tick:Lo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yfe={allowDataOverflow:un.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:"category",unit:void 0},zC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xfe:pfe,FC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yfe:gfe,dv=e=>e.polarOptions,UC=pe([il,ol,As],L8),nF=pe([dv,UC],(e,t)=>{if(e!=null)return xa(e.innerRadius,t,0)}),iF=pe([dv,UC],(e,t)=>{if(e!=null)return xa(e.outerRadius,t,t*.8)}),vfe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:s}=e;return[t,s]},oF=pe([dv],vfe);pe([zC,oF],cv);var lF=pe([UC,nF,iF],(e,t,s)=>{if(!(e==null||t==null||s==null))return[t,s]});pe([FC,lF],cv);var cF=pe([qt,dv,nF,iF,il,ol],(e,t,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||s==null||a==null)){var{cx:o,cy:l,startAngle:d,endAngle:u}=t;return{cx:xa(o,n,n/2),cy:xa(l,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:u,clockWise:!1}}}),Br=(e,t)=>t,_p=(e,t,s)=>s;function uv(e){return e==null?void 0:e.id}var Es=e=>{var t=qt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Om=e=>e.tooltip.settings.axisId,Vs=e=>{var t=Es(e),s=Om(e);return Sp(e,t,s)},dF=pe([Vs],e=>e==null?void 0:e.dataKey);function uF(e,t,s){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=s,o=new Map;return e.forEach(l=>{var d,u=(d=l.data)!==null&&d!==void 0?d:a;if(!(u==null||u.length===0)){var h=uv(l);u.forEach((f,g)=>{var y=i==null||n?g:String(fr(f,i,null)),w=fr(f,l.dataKey,0),v;o.has(y)?v=o.get(y):v={},Object.assign(v,{[h]:w}),o.set(y,v)})}}),Array.from(o.values())}function mv(e){return e.stackId!=null&&e.dataKey!=null}function hO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rx(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(s),!0).forEach(function(a){bfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bfe(e,t,s){return(t=wfe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function wfe(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v_=[0,"auto"],cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mF=(e,t)=>e.cartesianAxis.xAxis[t],xc=(e,t)=>{var s=mF(e,t);return s??cn},dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:v_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gp},hF=(e,t)=>e.cartesianAxis.yAxis[t],yc=(e,t)=>{var s=hF(e,t);return s??dn},Nfe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BC=(e,t)=>{var s=e.cartesianAxis.zAxis[t];return s??Nfe},ds=(e,t,s)=>{switch(t){case"xAxis":return xc(e,s);case"yAxis":return yc(e,s);case"zAxis":return BC(e,s);case"angleAxis":return zC(e,s);case"radiusAxis":return FC(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},_fe=(e,t,s)=>{switch(t){case"xAxis":return xc(e,s);case"yAxis":return yc(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},Sp=(e,t,s)=>{switch(t){case"xAxis":return xc(e,s);case"yAxis":return yc(e,s);case"angleAxis":return zC(e,s);case"radiusAxis":return FC(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},fF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function WC(e,t){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===t;case"yAxis":return"yAxisId"in s&&s.yAxisId===t;case"zAxis":return"zAxisId"in s&&s.zAxisId===t;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===t;default:return!1}}}var Cp=e=>e.graphicalItems.cartesianItems,Sfe=pe([Br,_p],WC),VC=(e,t,s)=>e.filter(s).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),kp=pe([Cp,ds,Sfe],VC),pF=pe([kp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(mv)),gF=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xF=pe([kp],gF),qC=e=>e.map(t=>t.data).filter(Boolean).flat(1),Cfe=pe([kp],qC),HC=(e,t)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:s.slice(a,n+1)},KC=pe([Cfe,jp],HC),GC=(e,t,s)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:fr(a,t.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:fr(n,a)}))):e.map(a=>({value:a})),hv=pe([KC,ds,kp],GC);function yF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ld(e){return e.filter(t=>no(t)||t instanceof Date).map(Number).filter(t=>Qa(t)===!1)}function kfe(e,t,s){return!s||typeof t!="number"||Qa(t)?[]:s.length?Ld(s.flatMap(a=>{var n=fr(e,a.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!ra(i)||!ra(o)))return[t-i,t+o]})):[]}var Afe=pe([pF,jp,Vs],uF),vF=(e,t,s)=>{var a={},n=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,d=l.map(uv);return[o,{stackedData:Hce(e,d,s),graphicalItems:l}]}))},Of=pe([Afe,pF,Np],vF),bF=(e,t,s)=>{var{dataStartIndex:a,dataEndIndex:n}=t;if(s!=="zAxis"){var i=Jce(e,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Pfe=pe([Of,gc,Br],bF),wF=(e,t,s,a,n)=>s.length>0?e.flatMap(i=>s.flatMap(o=>{var l,d,u=(l=a[o.id])===null||l===void 0?void 0:l.filter(f=>yF(n,f)),h=fr(i,(d=t.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:h,errorDomain:kfe(i,h,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:fr(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),fv=e=>e.errorBars,jF=(e,t,s)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>yF(s,a));pe([xF,fv,Br],jF);var Efe=pe([KC,ds,xF,fv,Br],wF);function Tfe(e){var{value:t}=e;if(no(t)||t instanceof Date)return t}var fO=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),s=Ld(t);if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Ofe=(e,t,s)=>{var a=e.map(Tfe).filter(n=>n!=null);return s&&(t.dataKey==null||t.allowDuplicatedCategory&&Rz(a))?o6(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},YC=e=>{var t;if(e==null||!("domain"in e))return v_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Ld(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:v_},Mx=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},NF=e=>e.referenceElements.dots,Rm=(e,t,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===s:a.yAxisId===s),Rfe=pe([NF,Br,_p],Rm),_F=e=>e.referenceElements.areas,Mfe=pe([_F,Br,_p],Rm),SF=e=>e.referenceElements.lines,Ife=pe([SF,Br,_p],Rm),CF=(e,t)=>{var s=Ld(e.map(a=>t==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Dfe=pe(Rfe,Br,CF),kF=(e,t)=>{var s=Ld(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},$fe=pe([Mfe,Br],kF),AF=(e,t)=>{var s=Ld(e.map(a=>t==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Lfe=pe(Ife,Br,AF),zfe=pe(Dfe,Lfe,$fe,(e,t,s)=>Mx(e,s,t)),PF=pe([ds],YC),JC=(e,t,s,a,n,i,o)=>{var l=efe(t,e.allowDataOverflow);if(l!=null)return l;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=d?Mx(s,n,fO(a)):Mx(n,fO(a));return tfe(t,u,e.allowDataOverflow)},Ffe=pe([ds,PF,Pfe,Efe,zfe,qt,Br],JC),Ufe=[0,1],XC=(e,t,s,a,n,i,o)=>{if(!((e==null||s==null||s.length===0)&&o===void 0)){var{dataKey:l,type:d}=e,u=vo(t,i);return u&&l==null?o6(0,s.length):d==="category"?Ofe(a,e,u):n==="expand"?Ufe:o}},ZC=pe([ds,qt,KC,hv,Np,Br,Ffe],XC),EF=(e,t,s,a,n)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(fp(i));return l in ef?l:"point"}}},Mm=pe([ds,qt,fF,DC,Br],EF);function Bfe(e){if(e!=null){if(e in ef)return ef[e]();var t="scale".concat(fp(e));if(t in ef)return ef[t]()}}function QC(e,t,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Bfe(t);if(n!=null){var i=n.domain(s).range(a);return Uce(i),i}}}var e2=(e,t,s)=>{var a=YC(t);if(!(s!=="auto"&&s!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&im(e))return ufe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&im(e))return mfe(e,t.tickCount,t.allowDecimals)}},t2=pe([ZC,Sp,Mm],e2),r2=(e,t,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&im(t)&&Array.isArray(s)&&s.length>0){var n=t[0],i=s[0],o=t[1],l=s[s.length-1];return[Math.min(n,i),Math.max(o,l)]}return t},Wfe=pe([ds,ZC,t2,Br],r2),Vfe=pe(hv,ds,(e,t)=>{if(!(!t||t.type!=="number")){var s=1/0,a=Array.from(Ld(e.map(l=>l.value))).sort((l,d)=>l-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var o=a[i+1]-a[i];s=Math.min(s,o)}return s/n}}),TF=pe(Vfe,qt,sF,As,(e,t,s,a)=>a,(e,t,s,a,n)=>{if(!ra(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var o=xa(s,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),qfe=(e,t)=>{var s=xc(e,t);return s==null||typeof s.padding!="string"?0:TF(e,"xAxis",t,s.padding)},Hfe=(e,t)=>{var s=yc(e,t);return s==null||typeof s.padding!="string"?0:TF(e,"yAxis",t,s.padding)},Kfe=pe(xc,qfe,(e,t)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((s=n.left)!==null&&s!==void 0?s:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),Gfe=pe(yc,Hfe,(e,t)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((s=n.top)!==null&&s!==void 0?s:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),Yfe=pe([As,Kfe,tv,ev,(e,t,s)=>s],(e,t,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Jfe=pe([As,qt,Gfe,tv,ev,(e,t,s)=>s],(e,t,s,a,n,i)=>{var{padding:o}=n;return i?[a.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Ap=(e,t,s,a)=>{var n;switch(t){case"xAxis":return Yfe(e,s,a);case"yAxis":return Jfe(e,s,a);case"zAxis":return(n=BC(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return oF(e);case"radiusAxis":return lF(e,s);default:return}},OF=pe([ds,Ap],cv),Im=pe([ds,Mm,Wfe,OF],QC);pe([kp,fv,Br],jF);function RF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pv=(e,t)=>t,gv=(e,t,s)=>s,Xfe=pe(Zy,pv,gv,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(RF)),Zfe=pe(Qy,pv,gv,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(RF)),MF=(e,t)=>({width:e.width,height:t.height}),Qfe=(e,t)=>{var s=typeof t.width=="number"?t.width:gp;return{width:s,height:e.height}},IF=pe(As,xc,MF),epe=(e,t,s)=>{switch(t){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},tpe=(e,t,s)=>{switch(t){case"left":return e.left;case"right":return s-e.right;default:return 0}},rpe=pe(ol,As,Xfe,pv,gv,(e,t,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=MF(t,l);o==null&&(o=epe(t,a,e));var u=a==="top"&&!n||a==="bottom"&&n;i[l.id]=o-Number(u)*d.height,o+=(u?-1:1)*d.height}),i}),spe=pe(il,As,Zfe,pv,gv,(e,t,s,a,n)=>{var i={},o;return s.forEach(l=>{var d=Qfe(t,l);o==null&&(o=tpe(t,a,e));var u=a==="left"&&!n||a==="right"&&n;i[l.id]=o-Number(u)*d.width,o+=(u?-1:1)*d.width}),i}),ape=(e,t)=>{var s=As(e),a=xc(e,t);if(a!=null){var n=rpe(e,a.orientation,a.mirror),i=n[t];return i==null?{x:s.left,y:0}:{x:s.left,y:i}}},npe=(e,t)=>{var s=As(e),a=yc(e,t);if(a!=null){var n=spe(e,a.orientation,a.mirror),i=n[t];return i==null?{x:0,y:s.top}:{x:i,y:s.top}}},DF=pe(As,yc,(e,t)=>{var s=typeof t.width=="number"?t.width:gp;return{width:s,height:e.height}}),pO=(e,t,s)=>{switch(t){case"xAxis":return IF(e,s).width;case"yAxis":return DF(e,s).height;default:return}},$F=(e,t,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=s,l=vo(e,a),d=t.map(u=>u.value);if(o&&l&&i==="category"&&n&&Rz(d))return d}},s2=pe([qt,hv,ds,Br],$F),LF=(e,t,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,o=vo(e,a);if(o&&(n==="number"||i!=="auto"))return t.map(l=>l.value)}},a2=pe([qt,hv,Sp,Br],LF),gO=pe([qt,_fe,Mm,Im,s2,a2,Ap,t2,Br],(e,t,s,a,n,i,o,l,d)=>{if(t==null)return null;var u=vo(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:u,niceTicks:l,range:o,realScaleType:s,scale:a}}),ipe=(e,t,s,a,n,i,o,l,d)=>{if(!(t==null||a==null)){var u=vo(e,d),{type:h,ticks:f,tickCount:g}=t,y=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,w=h==="category"&&a.bandwidth?a.bandwidth()/y:0;w=d==="angleAxis"&&i!=null&&i.length>=2?Fs(i[0]-i[1])*2*w:w;var v=f||n;if(v){var b=v.map((N,S)=>{var _=o?o.indexOf(N):N;return{index:S,coordinate:a(_)+w,value:N,offset:w}});return b.filter(N=>!Qa(N.coordinate))}return u&&l?l.map((N,S)=>({coordinate:a(N)+w,value:N,index:S,offset:w})):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+w,value:N,offset:w})):a.domain().map((N,S)=>({coordinate:a(N)+w,value:o?o[N]:N,index:S,offset:w}))}},zF=pe([qt,Sp,Mm,Im,t2,Ap,s2,a2,Br],ipe),ope=(e,t,s,a,n,i,o)=>{if(!(t==null||s==null||a==null||a[0]===a[1])){var l=vo(e,o),{tickCount:d}=t,u=0;return u=o==="angleAxis"&&(a==null?void 0:a.length)>=2?Fs(a[0]-a[1])*2*u:u,l&&i?i.map((h,f)=>({coordinate:s(h)+u,value:h,index:f,offset:u})):s.ticks?s.ticks(d).map(h=>({coordinate:s(h)+u,value:h,offset:u})):s.domain().map((h,f)=>({coordinate:s(h)+u,value:n?n[h]:h,index:f,offset:u}))}},oo=pe([qt,Sp,Im,Ap,s2,a2,Br],ope),lo=pe(ds,Im,(e,t)=>{if(!(e==null||t==null))return Rx(Rx({},e),{},{scale:t})}),lpe=pe([ds,Mm,ZC,OF],QC);pe((e,t,s)=>BC(e,s),lpe,(e,t)=>{if(!(e==null||t==null))return Rx(Rx({},e),{},{scale:t})});var cpe=pe([qt,Zy,Qy],(e,t,s)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FF=e=>e.options.defaultTooltipEventType,UF=e=>e.options.validateTooltipEventTypes;function BF(e,t,s){if(e==null)return t;var a=e?"axis":"item";return s==null?t:s.includes(a)?a:t}function n2(e,t){var s=FF(e),a=UF(e);return BF(t,s,a)}function dpe(e){return at(t=>n2(t,e))}var WF=(e,t)=>{var s,a=Number(t);if(!(Qa(a)||t==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},upe=e=>e.tooltip.settings,Wl={active:!1,index:null,dataKey:void 0,coordinate:void 0},mpe={itemInteraction:{click:Wl,hover:Wl},axisInteraction:{click:Wl,hover:Wl},keyboardInteraction:Wl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VF=jn({name:"tooltip",initialState:mpe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var s=Ho(e).tooltipItemPayloads.indexOf(t.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:hpe,removeTooltipEntrySettings:fpe,setTooltipSettingsState:ppe,setActiveMouseOverItemIndex:qF,mouseLeaveItem:gpe,mouseLeaveChart:HF,setActiveClickItemIndex:xpe,setMouseOverAxisIndex:KF,setMouseClickAxisIndex:ype,setSyncInteraction:b_,setKeyboardInteraction:w_}=VF.actions,vpe=VF.reducer;function xO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function c0(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(s),!0).forEach(function(a){bpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bpe(e,t,s){return(t=wpe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function wpe(e){var t=jpe(e,"string");return typeof t=="symbol"?t:t+""}function jpe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Npe(e,t,s){return t==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _pe(e){return e.index!=null}var GF=(e,t,s,a)=>{if(t==null)return Wl;var n=Npe(e,t,s);if(n==null)return Wl;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(_pe(n)){if(i)return c0(c0({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return c0(c0({},Wl),{},{coordinate:n.coordinate})},i2=(e,t)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!ra(a))return s;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(a,i)))},YF=(e,t,s,a,n,i,o,l)=>{if(!(i==null||l==null)){var d=o[0],u=d==null?void 0:l(d.positions,i);if(u!=null)return u;var h=n==null?void 0:n[Number(i)];if(h)switch(s){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},JF=(e,t,s,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},Pp=e=>e.options.tooltipPayloadSearcher,Dm=e=>e.tooltip;function yO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vO(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(s),!0).forEach(function(a){Spe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Spe(e,t,s){return(t=Cpe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Cpe(e){var t=kpe(e,"string");return typeof t=="symbol"?t:t+""}function kpe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ape(e,t){return e??t}var XF=(e,t,s,a,n,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:d,dataStartIndex:u,dataEndIndex:h}=s,f=[];return e.reduce((g,y)=>{var w,{dataDefinedOnItem:v,settings:b}=y,N=Ape(v,l),S=Array.isArray(N)?z8(N,u,h):N,_=(w=b==null?void 0:b.dataKey)!==null&&w!==void 0?w:a,k=b==null?void 0:b.nameKey,T;if(a&&Array.isArray(S)&&!Array.isArray(S[0])&&o==="axis"?T=Mz(S,a,n):T=i(S,t,d,k),Array.isArray(T))T.forEach(E=>{var R=vO(vO({},b),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});g.push(s5({tooltipEntrySettings:R,dataKey:E.dataKey,payload:E.payload,value:fr(E.payload,E.dataKey),name:E.name}))});else{var A;g.push(s5({tooltipEntrySettings:b,dataKey:_,payload:T,value:fr(T,_),name:(A=fr(T,k))!==null&&A!==void 0?A:b==null?void 0:b.name}))}return g},f)}},o2=pe([Vs,qt,fF,DC,Es],EF),Ppe=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Epe=pe([Es,Om],WC),Ep=pe([Ppe,Vs,Epe],VC),Tpe=pe([Ep],e=>e.filter(mv)),Ope=pe([Ep],qC),$m=pe([Ope,gc],HC),Rpe=pe([Tpe,gc,Vs],uF),l2=pe([$m,Vs,Ep],GC),Mpe=pe([Vs],YC),Ipe=pe([Ep],e=>e.filter(mv)),Dpe=pe([Rpe,Ipe,Np],vF),$pe=pe([Dpe,gc,Es],bF),Lpe=pe([Ep],gF),zpe=pe([$m,Vs,Lpe,fv,Es],wF),Fpe=pe([NF,Es,Om],Rm),Upe=pe([Fpe,Es],CF),Bpe=pe([_F,Es,Om],Rm),Wpe=pe([Bpe,Es],kF),Vpe=pe([SF,Es,Om],Rm),qpe=pe([Vpe,Es],AF),Hpe=pe([Upe,qpe,Wpe],Mx),Kpe=pe([Vs,Mpe,$pe,zpe,Hpe,qt,Es],JC),ZF=pe([Vs,qt,$m,l2,Np,Es,Kpe],XC),Gpe=pe([ZF,Vs,o2],e2),Ype=pe([Vs,ZF,Gpe,Es],r2),QF=e=>{var t=Es(e),s=Om(e),a=!1;return Ap(e,t,s,a)},eU=pe([Vs,QF],cv),tU=pe([Vs,o2,Ype,eU],QC),Jpe=pe([qt,l2,Vs,Es],$F),Xpe=pe([qt,l2,Vs,Es],LF),Zpe=(e,t,s,a,n,i,o,l)=>{if(t){var{type:d}=t,u=vo(e,l);if(a){var h=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=d==="category"&&a.bandwidth?a.bandwidth()/h:0;return f=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Fs(n[0]-n[1])*2*f:f,u&&o?o.map((g,y)=>({coordinate:a(g)+f,value:g,index:y,offset:f})):a.domain().map((g,y)=>({coordinate:a(g)+f,value:i?i[g]:g,index:y,offset:f}))}}},cl=pe([qt,Vs,o2,tU,QF,Jpe,Xpe,Es],Zpe),c2=pe([FF,UF,upe],(e,t,s)=>BF(s.shared,e,t)),rU=e=>e.tooltip.settings.trigger,d2=e=>e.tooltip.settings.defaultIndex,xv=pe([Dm,c2,rU,d2],GF),sc=pe([xv,$m],i2),sU=pe([cl,sc],WF),aU=pe([xv],e=>{if(e)return e.dataKey}),nU=pe([Dm,c2,rU,d2],JF),Qpe=pe([il,ol,qt,As,cl,d2,nU,Pp],YF),ege=pe([xv,Qpe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tge=pe([xv],e=>e.active),rge=pe([nU,sc,gc,dF,sU,Pp,c2],XF),sge=pe([rge],e=>{if(e!=null){var t=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(t))}});function bO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function wO(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(s),!0).forEach(function(a){age(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function age(e,t,s){return(t=nge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nge(e){var t=ige(e,"string");return typeof t=="symbol"?t:t+""}function ige(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oge=()=>at(Vs),lge=()=>{var e=oge(),t=at(cl),s=at(tU);return Cd(wO(wO({},e),{},{scale:s}),t)},iU=()=>at(DC),u2=(e,t)=>t,oU=(e,t,s)=>s,m2=(e,t,s,a)=>a,cge=pe(cl,e=>qy(e,t=>t.coordinate)),h2=pe([Dm,u2,oU,m2],GF),lU=pe([h2,$m],i2),dge=(e,t,s)=>{if(t!=null){var a=Dm(e);return t==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},cU=pe([Dm,u2,oU,m2],JF),Ix=pe([il,ol,qt,As,cl,m2,cU,Pp],YF),uge=pe([h2,Ix],(e,t)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:t}),dU=pe(cl,lU,WF),mge=pe([cU,lU,gc,dF,dU,Pp,u2],XF),hge=pe([h2],e=>({isActive:e.active,activeIndex:e.index})),fge=(e,t,s,a,n,i,o,l)=>{if(!(!e||!t||!a||!n||!i)){var d=Xce(e.chartX,e.chartY,t,s,l);if(d){var u=Qce(d,t),h=zce(u,o,i,a,n),f=Zce(t,i,h,d);return{activeIndex:String(h),activeCoordinate:f}}}};function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},j_.apply(null,arguments)}function jO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function d0(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(s),!0).forEach(function(a){pge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function pge(e,t,s){return(t=gge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function gge(e){var t=xge(e,"string");return typeof t=="symbol"?t:t+""}function xge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yge(e){var{coordinate:t,payload:s,index:a,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:d,chartName:u}=e,h=t,f=s,g=a;if(!l||!h||u!=="ScatterChart"&&d!=="axis")return null;var y,w;if(u==="ScatterChart")y=h,w=Fde;else if(u==="BarChart")y=Ude(o,h,n,i),w=s6;else if(o==="radial"){var{cx:v,cy:b,radius:N,startAngle:S,endAngle:_}=a6(h);y={cx:v,cy:b,startAngle:S,endAngle:_,innerRadius:N,outerRadius:N},w=i6}else y={points:bue(o,h,n)},w=Vu;var k=typeof l=="object"&&"className"in l?l.className:void 0,T=d0(d0(d0(d0({stroke:"#ccc",pointerEvents:"none"},n),y),Cr(l,!1)),{},{payload:f,payloadIndex:g,className:Jt("recharts-tooltip-cursor",k)});return p.isValidElement(l)?p.cloneElement(l,T):p.createElement(w,T)}function vge(e){var t=lge(),s=H8(),a=xp(),n=iU();return p.createElement(yge,j_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:a,tooltipAxisBandSize:t,chartName:n}))}var uU=p.createContext(null),bge=()=>p.useContext(uU),mN={exports:{}},NO;function wge(){return NO||(NO=1,function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,u,h){this.fn=d,this.context=u,this.once=h||!1}function i(d,u,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new n(h,f||d,g),w=s?s+u:u;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new a:delete d._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)t.call(h,f)&&u.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=s?s+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,y=f.length,w=new Array(y);g<y;g++)w[g]=f[g].fn;return w},l.prototype.listenerCount=function(u){var h=s?s+u:u,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,h,f,g,y,w){var v=s?s+u:u;if(!this._events[v])return!1;var b=this._events[v],N=arguments.length,S,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,f),!0;case 4:return b.fn.call(b.context,h,f,g),!0;case 5:return b.fn.call(b.context,h,f,g,y),!0;case 6:return b.fn.call(b.context,h,f,g,y,w),!0}for(_=1,S=new Array(N-1);_<N;_++)S[_-1]=arguments[_];b.fn.apply(b.context,S)}else{var k=b.length,T;for(_=0;_<k;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),N){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,h);break;case 3:b[_].fn.call(b[_].context,h,f);break;case 4:b[_].fn.call(b[_].context,h,f,g);break;default:if(!S)for(T=1,S=new Array(N-1);T<N;T++)S[T-1]=arguments[T];b[_].fn.apply(b[_].context,S)}}return!0},l.prototype.on=function(u,h,f){return i(this,u,h,f,!1)},l.prototype.once=function(u,h,f){return i(this,u,h,f,!0)},l.prototype.removeListener=function(u,h,f,g){var y=s?s+u:u;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!f||w.context===f)&&o(this,y);else{for(var v=0,b=[],N=w.length;v<N;v++)(w[v].fn!==h||g&&!w[v].once||f&&w[v].context!==f)&&b.push(w[v]);b.length?this._events[y]=b.length===1?b[0]:b:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=s?s+u:u,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l}(mN)),mN.exports}var jge=wge();const Nge=Qn(jge);var Rf=new Nge,N_="recharts.syncEvent.tooltip",_O="recharts.syncEvent.brush";function yv(e,t){if(t){var s=Number.parseInt(t,10);if(!Qa(s))return e==null?void 0:e[s]}}var _ge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mU=jn({name:"options",initialState:_ge,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sge=mU.reducer,{createEventEmitter:Cge}=mU.actions;function kge(e){return e.tooltip.syncInteraction}var Age={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},hU=jn({name:"chartData",initialState:Age,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:s,endIndex:a}=t.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:SO,setDataStartEndIndexes:Pge,setComputedData:Xze}=hU.actions,Ege=hU.reducer,Tge=["x","y"];function CO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Fc(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(s),!0).forEach(function(a){Oge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Oge(e,t,s){return(t=Rge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Rge(e){var t=Mge(e,"string");return typeof t=="symbol"?t:t+""}function Mge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ige(e,t){if(e==null)return{};var s,a,n=Dge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dge(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var fU=()=>{};function $ge(){var e=at($C),t=at(LC),s=cs(),a=at(aF),n=at(cl),i=xp(),o=cC(),l=at(d=>d.rootProps.className);p.useEffect(()=>{if(e==null)return fU;var d=(u,h,f)=>{if(t!==f&&e===u){if(a==="index"){var g;if(o&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate){var y=h.payload.coordinate,{x:w,y:v}=y,b=Ige(y,Tge),N=Fc(Fc(Fc({},b),typeof w=="number"&&{x:Math.max(o.x,Math.min(w,o.x+o.width))}),typeof v=="number"&&{y:Math.max(o.y,Math.min(v,o.y+o.height))}),S=Fc(Fc({},h),{},{payload:Fc(Fc({},h.payload),{},{coordinate:N})});s(S)}else s(h);return}if(n!=null){var _;if(typeof a=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=a(n,k);_=n[T]}else a==="value"&&(_=n.find(F=>String(F.value)===h.payload.label));var{coordinate:A}=h.payload;if(_==null||h.payload.active===!1||A==null||o==null){s(b_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:R}=A,z=Math.min(E,o.x+o.width),B=Math.min(R,o.y+o.height),O={x:i==="horizontal"?_.coordinate:z,y:i==="horizontal"?B:_.coordinate},I=b_({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(_.index),label:h.payload.label});s(I)}}};return Rf.on(N_,d),()=>{Rf.off(N_,d)}},[l,s,t,e,a,n,i,o])}function Lge(){var e=at($C),t=at(LC),s=cs();p.useEffect(()=>{if(e==null)return fU;var a=(n,i,o)=>{t!==o&&e===n&&s(Pge(i))};return Rf.on(_O,a),()=>{Rf.off(_O,a)}},[s,t,e])}function zge(){var e=cs();p.useEffect(()=>{e(Cge())},[e]),$ge(),Lge()}function Fge(e,t,s,a,n,i){var o=at(g=>dge(g,e,t)),l=at(LC),d=at($C),u=at(aF),h=at(kge),f=h==null?void 0:h.active;p.useEffect(()=>{if(!f&&d!=null&&l!=null){var g=b_({active:i,coordinate:s,dataKey:o,index:n,label:typeof a=="number"?String(a):a});Rf.emit(N_,d,g,l)}},[f,s,o,n,a,l,d,u,i])}function kO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function AO(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(s),!0).forEach(function(a){Uge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uge(e,t,s){return(t=Bge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Bge(e){var t=Wge(e,"string");return typeof t=="symbol"?t:t+""}function Wge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vge(e){return e.dataKey}function qge(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(yde,t)}var PO=[],Hge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vn(e){var t=ja(e,Hge),{active:s,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:d,offset:u,payloadUniqBy:h,position:f,reverseDirection:g,useTranslate3d:y,wrapperStyle:w,cursor:v,shared:b,trigger:N,defaultIndex:S,portal:_,axisId:k}=t,T=cs(),A=typeof S=="number"?String(S):S;p.useEffect(()=>{T(ppe({shared:b,trigger:N,axisId:k,active:s,defaultIndex:A}))},[T,b,N,k,s,A]);var E=cC(),R=Z8(),z=dpe(b),{activeIndex:B,isActive:O}=at(ge=>hge(ge,z,N,A)),I=at(ge=>mge(ge,z,N,A)),F=at(ge=>dU(ge,z,N,A)),V=at(ge=>uge(ge,z,N,A)),W=I,X=bge(),D=s??O,[U,H]=Ple([W,D]),M=z==="axis"?F:void 0;Fge(z,N,V,M,B,D);var L=_??X;if(L==null)return null;var q=W??PO;D||(q=PO),l&&q.length&&(q=sle(W.filter(ge=>ge.value!=null&&(ge.hide!==!0||t.includeHidden)),h,Vge));var ue=q.length>0,G=p.createElement(Sde,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:d,active:D,coordinate:V,hasPayload:ue,offset:u,position:f,reverseDirection:g,useTranslate3d:y,viewBox:E,wrapperStyle:w,lastBoundingBox:U,innerRef:H,hasPortalFromProps:!!_},qge(o,AO(AO({},t),{},{payload:q,label:M,active:D,coordinate:V,accessibilityLayer:R})));return p.createElement(p.Fragment,null,ic.createPortal(G,L),D&&p.createElement(vge,{cursor:v,tooltipEventType:z,coordinate:V,payload:W,index:B}))}var hN={},fN={},pN={},EO;function Kge(){return EO||(EO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a,{signal:n,edges:i}={}){let o,l=null;const d=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),h=()=>{l!==null&&(s.apply(o,l),o=void 0,l=null)},f=()=>{u&&h(),v()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},a)},w=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{w(),o=void 0,l=null},b=()=>{h()},N=function(...S){if(n!=null&&n.aborted)return;o=this,l=S;const _=g==null;y(),d&&_&&h()};return N.schedule=y,N.cancel=v,N.flush=b,n==null||n.addEventListener("abort",v,{once:!0}),N}e.debounce=t}(pN)),pN}var TO;function Gge(){return TO||(TO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kge();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:d}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let h,f=null;const g=t.debounce(function(...v){h=a.apply(this,v),f=null},n,{edges:u}),y=function(...v){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(h=a.apply(this,v),f=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,v),h)},w=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=w,y}e.debounce=s}(fN)),fN}var OO;function Yge(){return OO||(OO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gge();function s(a,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(a,n,{leading:o,maxWait:n,trailing:l})}e.throttle=s}(hN)),hN}var gN,RO;function Jge(){return RO||(RO=1,gN=Yge().throttle),gN}var Xge=Jge();const Zge=Qn(Xge);var lf=function(t,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function MO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xN(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(s),!0).forEach(function(a){Qge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qge(e,t,s){return(t=e0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function e0e(e){var t=t0e(e,"string");return typeof t=="symbol"?t:t+""}function t0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qn=p.forwardRef((e,t)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:d,children:u,debounce:h=0,id:f,className:g,onResize:y,style:w={}}=e,v=p.useRef(null),b=p.useRef();b.current=y,p.useImperativeHandle(t,()=>v.current);var[N,S]=p.useState({containerWidth:a.width,containerHeight:a.height}),_=p.useCallback((T,A)=>{S(E=>{var R=Math.round(T),z=Math.round(A);return E.containerWidth===R&&E.containerHeight===z?E:{containerWidth:R,containerHeight:z}})},[]);p.useEffect(()=>{var T=z=>{var B,{width:O,height:I}=z[0].contentRect;_(O,I),(B=b.current)===null||B===void 0||B.call(b,O,I)};h>0&&(T=Zge(T,h,{trailing:!0,leading:!1}));var A=new ResizeObserver(T),{width:E,height:R}=v.current.getBoundingClientRect();return _(E,R),A.observe(v.current),()=>{A.disconnect()}},[_,h]);var k=p.useMemo(()=>{var{containerWidth:T,containerHeight:A}=N;if(T<0||A<0)return null;lf(ed(n)||ed(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),lf(!s||s>0,"The aspect(%s) must be greater than zero.",s);var E=ed(n)?T:n,R=ed(i)?A:i;return s&&s>0&&(E?R=E/s:R&&(E=R*s),d&&R>d&&(R=d)),lf(E>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,R,n,i,o,l,s),p.Children.map(u,z=>p.cloneElement(z,{width:E,height:R,style:xN({width:E,height:R},z.props.style)}))},[s,u,i,d,l,o,N,n]);return p.createElement("div",{id:f?"".concat(f):void 0,className:Jt("recharts-responsive-container",g),style:xN(xN({},w),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:d}),ref:v},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),zd=e=>null;zd.displayName="Cell";function r0e(e,t,s){return(t=s0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function s0e(e){var t=a0e(e,"string");return typeof t=="symbol"?t:t+""}function a0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n0e{constructor(t){r0e(this,"cache",new Map),this.maxSize=t}get(t){var s=this.cache.get(t);return s!==void 0&&(this.cache.delete(t),this.cache.set(t,s)),s}set(t,s){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function IO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function i0e(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(s),!0).forEach(function(a){o0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function o0e(e,t,s){return(t=l0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function l0e(e){var t=c0e(e,"string");return typeof t=="symbol"?t:t+""}function c0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0e={cacheSize:2e3,enableCache:!0},pU=i0e({},d0e),DO=new n0e(pU.cacheSize),u0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$O="recharts_measurement_span";function m0e(e,t){var s=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l)}var LO=(e,t)=>{try{var s=document.getElementById($O);s||(s=document.createElement("span"),s.setAttribute("id",$O),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,u0e,t),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},cf=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hc.isSsr)return{width:0,height:0};if(!pU.enableCache)return LO(t,s);var a=m0e(t,s),n=DO.get(a);if(n)return n;var i=LO(t,s);return DO.set(a,i),i},zO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},p0e=Object.keys(gU),Iu="NaN";function g0e(e,t){return e*gU[t]}class Ya{static parse(t){var s,[,a,n]=(s=f0e.exec(t))!==null&&s!==void 0?s:[];return new Ya(parseFloat(a),n??"")}constructor(t,s){this.num=t,this.unit=s,this.num=t,this.unit=s,Qa(t)&&(this.unit=""),s!==""&&!h0e.test(s)&&(this.num=NaN,this.unit=""),p0e.includes(s)&&(this.num=g0e(t,s),this.unit="px")}add(t){return this.unit!==t.unit?new Ya(NaN,""):new Ya(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ya(NaN,""):new Ya(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ya(NaN,""):new Ya(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ya(NaN,""):new Ya(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qa(this.num)}}function xU(e){if(e.includes(Iu))return Iu;for(var t=e;t.includes("*")||t.includes("/");){var s,[,a,n,i]=(s=zO.exec(t))!==null&&s!==void 0?s:[],o=Ya.parse(a??""),l=Ya.parse(i??""),d=n==="*"?o.multiply(l):o.divide(l);if(d.isNaN())return Iu;t=t.replace(zO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,h,f,g]=(u=FO.exec(t))!==null&&u!==void 0?u:[],y=Ya.parse(h??""),w=Ya.parse(g??""),v=f==="+"?y.add(w):y.subtract(w);if(v.isNaN())return Iu;t=t.replace(FO,v.toString())}return t}var UO=/\(([^()]*)\)/;function x0e(e){for(var t=e,s;(s=UO.exec(t))!=null;){var[,a]=s;t=t.replace(UO,xU(a))}return t}function y0e(e){var t=e.replace(/\s+/g,"");return t=x0e(t),t=xU(t),t}function v0e(e){try{return y0e(e)}catch{return Iu}}function yN(e){var t=v0e(e.slice(5,-1));return t===Iu?"":t}var b0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],w0e=["dx","dy","angle","className","breakAll"];function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},__.apply(null,arguments)}function BO(e,t){if(e==null)return{};var s,a,n=j0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function j0e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var yU=/[ \f\n\r\t\v\u2028\u2029]+/,vU=e=>{var{children:t,breakAll:s,style:a}=e;try{var n=[];Rr(t)||(s?n=t.toString().split(""):n=t.toString().split(yU));var i=n.map(l=>({word:l,width:cf(l,a).width})),o=s?0:cf("",a).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},N0e=(e,t,s,a,n)=>{var{maxLines:i,children:o,style:l,breakAll:d}=e,u=st(i),h=o,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((I,F)=>{var{word:V,width:W}=F,X=I[I.length-1];if(X&&(a==null||n||X.width+W+s<Number(a)))X.words.push(V),X.width+=W+s;else{var D={words:[V],width:W};I.push(D)}return I},[])},g=f(t),y=B=>B.reduce((O,I)=>O.width>I.width?O:I);if(!u||n)return g;var w=g.length>i||y(g).width>Number(a);if(!w)return g;for(var v="",b=B=>{var O=h.slice(0,B),I=vU({breakAll:d,style:l,children:O+v}).wordsWithComputedWidth,F=f(I),V=F.length>i||y(F).width>Number(a);return[V,F]},N=0,S=h.length-1,_=0,k;N<=S&&_<=h.length-1;){var T=Math.floor((N+S)/2),A=T-1,[E,R]=b(A),[z]=b(T);if(!E&&!z&&(N=T+1),E&&z&&(S=T-1),!E&&z){k=R;break}_++}return k||g},WO=e=>{var t=Rr(e)?[]:e.toString().split(yU);return[{words:t}]},_0e=e=>{var{width:t,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:o}=e;if((t||s)&&!hc.isSsr){var l,d,u=vU({breakAll:i,children:a,style:n});if(u){var{wordsWithComputedWidth:h,spaceWidth:f}=u;l=h,d=f}else return WO(a);return N0e({breakAll:i,children:a,maxLines:o,style:n},l,d,t,s)}return WO(a)},VO="#808080",vv=p.forwardRef((e,t)=>{var{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:d="end",fill:u=VO}=e,h=BO(e,b0e),f=p.useMemo(()=>_0e({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:g,dy:y,angle:w,className:v,breakAll:b}=h,N=BO(h,w0e);if(!no(s)||!no(a)||f.length===0)return null;var S=s+(st(g)?g:0),_=a+(st(y)?y:0),k;switch(d){case"start":k=yN("calc(".concat(i,")"));break;case"middle":k=yN("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:k=yN("calc(".concat(f.length-1," * -").concat(n,")"));break}var T=[];if(o){var A=f[0].width,{width:E}=h;T.push("scale(".concat(st(E)?E/A:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(S,", ").concat(_,")")),T.length&&(N.transform=T.join(" ")),p.createElement("text",__({},Cr(N,!0),{ref:t,x:S,y:_,className:Jt("recharts-text",v),textAnchor:l,fill:u.includes("url")?VO:u}),f.map((R,z)=>{var B=R.words.join(b?"":" ");return p.createElement("tspan",{x:S,dy:z===0?k:n,key:"".concat(B,"-").concat(z)},B)}))});vv.displayName="Text";var S0e=["labelRef"];function C0e(e,t){if(e==null)return{};var s,a,n=k0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function k0e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function qO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ss(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(s),!0).forEach(function(a){A0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function A0e(e,t,s){return(t=P0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function P0e(e){var t=E0e(e,"string");return typeof t=="symbol"?t:t+""}function E0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zo.apply(null,arguments)}var bU=p.createContext(null),T0e=e=>{var{x:t,y:s,width:a,height:n,children:i}=e,o=p.useMemo(()=>({x:t,y:s,width:a,height:n}),[t,s,a,n]);return p.createElement(bU.Provider,{value:o},i)},wU=()=>{var e=p.useContext(bU),t=cC();return e||t},O0e=p.createContext(null),R0e=()=>{var e=p.useContext(O0e),t=at(cF);return e||t},M0e=e=>{var{value:t,formatter:s}=e,a=Rr(e.children)?t:e.children;return typeof s=="function"?s(a):a},f2=e=>e!=null&&typeof e=="function",I0e=(e,t)=>{var s=Fs(t-e),a=Math.min(Math.abs(t-e),360);return s*a},D0e=(e,t,s,a,n)=>{var{offset:i,className:o}=e,{cx:l,cy:d,innerRadius:u,outerRadius:h,startAngle:f,endAngle:g,clockWise:y}=n,w=(u+h)/2,v=I0e(f,g),b=v>=0?1:-1,N,S;switch(t){case"insideStart":N=f+b*i,S=y;break;case"insideEnd":N=g-b*i,S=!y;break;case"end":N=g+b*i,S=y;break;default:throw new Error("Unsupported position ".concat(t))}S=v<=0?S:!S;var _=gs(l,d,w,N),k=gs(l,d,w,N+(S?1:-1)*359),T="M".concat(_.x,",").concat(_.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),A=Rr(e.id)?Nf("recharts-radial-line-"):e.id;return p.createElement("text",zo({},a,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:A,d:T})),p.createElement("textPath",{xlinkHref:"#".concat(A)},s))},$0e=(e,t,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:d}=e,u=(l+d)/2;if(s==="outside"){var{x:h,y:f}=gs(a,n,o+t,u);return{x:h,y:f,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+o)/2,{x:y,y:w}=gs(a,n,g,u);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},jU=e=>"cx"in e&&st(e.cx),L0e=(e,t)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!jU(s)&&(i=s);var{x:o,y:l,width:d,height:u}=t,h=u>=0?1:-1,f=h*a,g=h>0?"end":"start",y=h>0?"start":"end",w=d>=0?1:-1,v=w*a,b=w>0?"end":"start",N=w>0?"start":"end";if(n==="top"){var S={x:o+d/2,y:l-h*a,textAnchor:"middle",verticalAnchor:g};return ss(ss({},S),i?{height:Math.max(l-i.y,0),width:d}:{})}if(n==="bottom"){var _={x:o+d/2,y:l+u+f,textAnchor:"middle",verticalAnchor:y};return ss(ss({},_),i?{height:Math.max(i.y+i.height-(l+u),0),width:d}:{})}if(n==="left"){var k={x:o-v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return ss(ss({},k),i?{width:Math.max(k.x-i.x,0),height:u}:{})}if(n==="right"){var T={x:o+d+v,y:l+u/2,textAnchor:N,verticalAnchor:"middle"};return ss(ss({},T),i?{width:Math.max(i.x+i.width-T.x,0),height:u}:{})}var A=i?{width:d,height:u}:{};return n==="insideLeft"?ss({x:o+v,y:l+u/2,textAnchor:N,verticalAnchor:"middle"},A):n==="insideRight"?ss({x:o+d-v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},A):n==="insideTop"?ss({x:o+d/2,y:l+f,textAnchor:"middle",verticalAnchor:y},A):n==="insideBottom"?ss({x:o+d/2,y:l+u-f,textAnchor:"middle",verticalAnchor:g},A):n==="insideTopLeft"?ss({x:o+v,y:l+f,textAnchor:N,verticalAnchor:y},A):n==="insideTopRight"?ss({x:o+d-v,y:l+f,textAnchor:b,verticalAnchor:y},A):n==="insideBottomLeft"?ss({x:o+v,y:l+u-f,textAnchor:N,verticalAnchor:g},A):n==="insideBottomRight"?ss({x:o+d-v,y:l+u-f,textAnchor:b,verticalAnchor:g},A):n&&typeof n=="object"&&(st(n.x)||ed(n.x))&&(st(n.y)||ed(n.y))?ss({x:o+xa(n.x,d),y:l+xa(n.y,u),textAnchor:"end",verticalAnchor:"end"},A):ss({x:o+d/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},z0e={offset:5};function Ul(e){var t=ja(e,z0e),{viewBox:s,position:a,value:n,children:i,content:o,className:l="",textBreakAll:d,labelRef:u}=t,h=R0e(),f=wU(),g=a==="center"?f:h??f,y=s||g;if(!y||Rr(n)&&Rr(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var w=ss(ss({},t),{},{viewBox:y});if(p.isValidElement(o)){var{labelRef:v}=w,b=C0e(w,S0e);return p.cloneElement(o,b)}var N;if(typeof o=="function"){if(N=p.createElement(o,w),p.isValidElement(N))return N}else N=M0e(t);var S=jU(y),_=Cr(t,!0);if(S&&(a==="insideStart"||a==="insideEnd"||a==="end"))return D0e(t,a,N,_,y);var k=S?$0e(y,t.offset,t.position):L0e(t,y);return p.createElement(vv,zo({ref:u,className:Jt("recharts-label",l)},_,k,{breakAll:d}),N)}Ul.displayName="Label";var F0e=(e,t,s)=>{if(!e)return null;var a={viewBox:t,labelRef:s};return e===!0?p.createElement(Ul,zo({key:"label-implicit"},a)):no(e)?p.createElement(Ul,zo({key:"label-implicit",value:e},a)):p.isValidElement(e)?e.type===Ul?p.cloneElement(e,ss({key:"label-implicit"},a)):p.createElement(Ul,zo({key:"label-implicit",content:e},a)):f2(e)?p.createElement(Ul,zo({key:"label-implicit",content:e},a)):e&&typeof e=="object"?p.createElement(Ul,zo({},e,{key:"label-implicit"},a)):null};function U0e(e){var{label:t}=e,s=wU();return F0e(t,s)||null}var vN={},bN={},HO;function B0e(){return HO||(HO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s[s.length-1]}e.last=t}(bN)),bN}var wN={},KO;function W0e(){return KO||(KO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=t}(wN)),wN}var GO;function V0e(){return GO||(GO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B0e(),s=W0e(),a=eC();function n(i){if(a.isArrayLike(i))return t.last(s.toArray(i))}e.last=n}(vN)),vN}var jN,YO;function q0e(){return YO||(YO=1,jN=V0e().last),jN}var H0e=q0e();const K0e=Qn(H0e);var G0e=["valueAccessor"],Y0e=["dataKey","clockWise","id","textBreakAll"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Dx.apply(null,arguments)}function JO(e,t){if(e==null)return{};var s,a,n=J0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function J0e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var X0e=e=>Array.isArray(e.value)?K0e(e.value):e.value,NU=p.createContext(void 0),p2=NU.Provider,_U=p.createContext(void 0),Z0e=_U.Provider;function Q0e(){return p.useContext(NU)}function exe(){return p.useContext(_U)}function P0(e){var{valueAccessor:t=X0e}=e,s=JO(e,G0e),{dataKey:a,clockWise:n,id:i,textBreakAll:o}=s,l=JO(s,Y0e),d=Q0e(),u=exe(),h=d||u;return!h||!h.length?null:p.createElement(Qr,{className:"recharts-label-list"},h.map((f,g)=>{var y,w=Rr(a)?t(f,g):fr(f&&f.payload,a),v=Rr(i)?{}:{id:"".concat(i,"-").concat(g)};return p.createElement(Ul,Dx({},Cr(f,!0),l,v,{fill:(y=s.fill)!==null&&y!==void 0?y:f.fill,parentViewBox:f.parentViewBox,value:w,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(g),index:g}))}))}P0.displayName="LabelList";function bv(e){var{label:t}=e;return t?t===!0?p.createElement(P0,{key:"labelList-implicit"}):p.isValidElement(t)||f2(t)?p.createElement(P0,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(P0,Dx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},S_.apply(null,arguments)}var g2=e=>{var{cx:t,cy:s,r:a,className:n}=e,i=Jt("recharts-dot",n);return t===+t&&s===+s&&a===+a?p.createElement("circle",S_({},Ri(e),YS(e),{className:i,cx:t,cy:s,r:a})):null},SU=e=>e.graphicalItems.polarItems,txe=pe([Br,_p],WC),x2=pe([SU,ds,txe],VC),rxe=pe([x2],qC),y2=pe([rxe,RC],HC),sxe=pe([y2,ds,x2],GC),axe=pe([y2,ds,x2],(e,t,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,o=fr(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:fr(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),XO=()=>{},nxe=pe([ds,PF,XO,axe,XO,qt,Br],JC),CU=pe([ds,qt,y2,sxe,Np,Br,nxe],XC),ixe=pe([CU,ds,Mm],e2);pe([ds,CU,ixe,Br],r2);var oxe={radiusAxis:{},angleAxis:{}},kU=jn({name:"polarAxis",initialState:oxe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Zze,removeRadiusAxis:Qze,addAngleAxis:e8e,removeAngleAxis:t8e}=kU.actions,lxe=kU.reducer;function ZO(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function QO(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(s),!0).forEach(function(a){cxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZO(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function cxe(e,t,s){return(t=dxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function dxe(e){var t=uxe(e,"string");return typeof t=="symbol"?t:t+""}function uxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mxe=(e,t)=>t,v2=pe([SU,mxe],(e,t)=>e.filter(s=>s.type==="pie").find(s=>s.id===t)),hxe=[],b2=(e,t,s)=>(s==null?void 0:s.length)===0?hxe:s,AU=pe([RC,v2,b2],(e,t,s)=>{var{chartData:a}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>QO(QO({},t.presentationProps),i.props))),n!=null)return n}}),fxe=pe([AU,v2,b2],(e,t,s)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,o=fr(a,t.nameKey,t.name),l;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=t.fill,{value:mc(o,t.dataKey),color:l,payload:a,type:t.legendType}})}),pxe=pe([AU,v2,b2,As],(e,t,s,a)=>{if(!(t==null||e==null))return mye({offset:a,pieSettings:t,displayedData:e,cells:s})}),NN={},eR;function gxe(){return eR||(eR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=t}(NN)),NN}var _N,tR;function xxe(){return tR||(tR=1,_N=gxe().isPlainObject),_N}var yxe=xxe();const vxe=Qn(yxe);function rR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function sR(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(s),!0).forEach(function(a){bxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bxe(e,t,s){return(t=wxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function wxe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$x.apply(null,arguments)}var aR=(e,t,s,a,n)=>{var i=s-a,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+s,",").concat(t),o+="L ".concat(e+s-i/2,",").concat(t+n),o+="L ".concat(e+s-i/2-a,",").concat(t+n),o+="L ".concat(e,",").concat(t," Z"),o},Nxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_xe=e=>{var t=ja(e,Nxe),{x:s,y:a,upperWidth:n,lowerWidth:i,height:o,className:l}=t,{animationEasing:d,animationDuration:u,animationBegin:h,isUpdateAnimationActive:f}=t,g=p.useRef(),[y,w]=p.useState(-1),v=p.useRef(n),b=p.useRef(i),N=p.useRef(o),S=p.useRef(s),_=p.useRef(a),k=Am(e,"trapezoid-");if(p.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var V=g.current.getTotalLength();V&&w(V)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||o!==+o||n===0&&i===0||o===0)return null;var T=Jt("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",$x({},Cr(t,!0),{className:T,d:aR(s,a,n,i,o)})));var A=v.current,E=b.current,R=N.current,z=S.current,B=_.current,O="0px ".concat(y===-1?1:y,"px"),I="".concat(y,"px 0px"),F=Q8(["strokeDasharray"],u,d);return p.createElement(km,{animationId:k,key:k,canBegin:y>0,duration:u,easing:d,isActive:f,begin:h},V=>{var W=gr(A,n,V),X=gr(E,i,V),D=gr(R,o,V),U=gr(z,s,V),H=gr(B,a,V);g.current&&(v.current=W,b.current=X,N.current=D,S.current=U,_.current=H);var M=V>0?{transition:F,strokeDasharray:I}:{strokeDasharray:O};return p.createElement("path",$x({},Cr(t,!0),{className:T,d:aR(U,H,W,X,D),ref:g,style:sR(sR({},M),t.style)}))})},Sxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Cxe(e,t){if(e==null)return{};var s,a,n=kxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kxe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function nR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Lx(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(s),!0).forEach(function(a){Axe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Axe(e,t,s){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Pxe(e){var t=Exe(e,"string");return typeof t=="symbol"?t:t+""}function Exe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Txe(e,t){return Lx(Lx({},t),e)}function Oxe(e,t){return e==="symbols"}function iR(e){var{shapeType:t,elementProps:s}=e;switch(t){case"rectangle":return p.createElement(s6,s);case"trapezoid":return p.createElement(_xe,s);case"sector":return p.createElement(i6,s);case"symbols":if(Oxe(t))return p.createElement(t8,s);break;default:return null}}function Rxe(e){return p.isValidElement(e)?e.props:e}function PU(e){var{option:t,shapeType:s,propTransformer:a=Txe,activeClassName:n="recharts-active-shape",isActive:i}=e,o=Cxe(e,Sxe),l;if(p.isValidElement(t))l=p.cloneElement(t,Lx(Lx({},o),Rxe(t)));else if(typeof t=="function")l=t(o);else if(vxe(t)&&typeof t!="boolean"){var d=a(t,o);l=p.createElement(iR,{shapeType:s,elementProps:d})}else{var u=o;l=p.createElement(iR,{shapeType:s,elementProps:u})}return i?p.createElement(Qr,{className:n},l):l}var w2=(e,t)=>{var s=cs();return(a,n)=>i=>{e==null||e(a,n,i),s(qF({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},j2=e=>{var t=cs();return(s,a)=>n=>{e==null||e(s,a,n),t(gpe())}},N2=(e,t)=>{var s=cs();return(a,n)=>i=>{e==null||e(a,n,i),s(xpe({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function wv(e){var{fn:t,args:s}=e,a=cs(),n=wa();return p.useEffect(()=>{if(!n){var i=t(s);return a(hpe(i)),()=>{a(fpe(i))}}},[t,s,a,n]),null}var EU=()=>{};function _2(e){var{legendPayload:t}=e,s=cs(),a=wa();return p.useEffect(()=>a?EU:(s(J8(t)),()=>{s(X8(t))}),[s,a,t]),null}function Mxe(e){var{legendPayload:t}=e,s=cs(),a=at(qt);return p.useEffect(()=>a!=="centric"&&a!=="radial"?EU:(s(J8(t)),()=>{s(X8(t))}),[s,a,t]),null}var SN,Ixe=()=>{var[e]=p.useState(()=>Nf("uid-"));return e},Dxe=(SN=Xx.useId)!==null&&SN!==void 0?SN:Ixe;function $xe(e,t){var s=Dxe();return t||(e?"".concat(e,"-").concat(s):s)}var Lxe=p.createContext(void 0),jv=e=>{var{id:t,type:s,children:a}=e,n=$xe("recharts-".concat(s),t);return p.createElement(Lxe.Provider,{value:n},a(n))},zxe={cartesianItems:[],polarItems:[]},TU=jn({name:"graphicalItems",initialState:zxe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:s,next:a}=t.payload,n=Ho(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},removeCartesianGraphicalItem(e,t){var s=Ho(e).cartesianItems.indexOf(t.payload);s>-1&&e.cartesianItems.splice(s,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var s=Ho(e).polarItems.indexOf(t.payload);s>-1&&e.polarItems.splice(s,1)}}}),{addCartesianGraphicalItem:Fxe,replaceCartesianGraphicalItem:Uxe,removeCartesianGraphicalItem:Bxe,addPolarGraphicalItem:Wxe,removePolarGraphicalItem:Vxe}=TU.actions,qxe=TU.reducer;function S2(e){var t=cs(),s=p.useRef(null);return p.useEffect(()=>{s.current===null?t(Fxe(e)):s.current!==e&&t(Uxe({prev:s.current,next:e})),s.current=e},[t,e]),p.useEffect(()=>()=>{s.current&&(t(Bxe(s.current)),s.current=null)},[t]),null}function Hxe(e){var t=cs();return p.useEffect(()=>(t(Wxe(e)),()=>{t(Vxe(e))}),[t,e]),null}var Kxe=["onMouseEnter","onClick","onMouseLeave"],Gxe=["id"],Yxe=["id"];function C2(e,t){if(e==null)return{};var s,a,n=Jxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jxe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function oR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Dr(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(s),!0).forEach(function(a){Xxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Xxe(e,t,s){return(t=Zxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Zxe(e){var t=Qxe(e,"string");return typeof t=="symbol"?t:t+""}function Qxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ac.apply(null,arguments)}function eye(e){var t=p.useMemo(()=>JS(e.children,zd),[e.children]),s=at(a=>fxe(a,e.id,t));return s==null?null:p.createElement(Mxe,{legendPayload:s})}function tye(e){var{dataKey:t,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:o,name:l,hide:d,tooltipType:u}=e;return{dataDefinedOnItem:a.map(h=>h.tooltipPayload),positions:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:t,nameKey:s,name:mc(l,t),hide:d,type:u,color:o,unit:""}}}var rye=(e,t)=>e>t?"start":e<t?"end":"middle",sye=(e,t,s)=>xa(typeof t=="function"?t(e):t,s,s*.8),aye=(e,t,s)=>{var{top:a,left:n,width:i,height:o}=t,l=L8(i,o),d=n+xa(e.cx,i,i/2),u=a+xa(e.cy,o,o/2),h=xa(e.innerRadius,l,0),f=sye(s,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:u,innerRadius:h,outerRadius:f,maxRadius:g}},nye=(e,t)=>{var s=Fs(t-e),a=Math.min(Math.abs(t-e),360);return s*a};function iye(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var oye=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var s=Jt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Vu,ac({},t,{type:"linear",className:s}))},lye=(e,t,s)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var a=s;if(typeof e=="function"&&(a=e(t),p.isValidElement(a)))return a;var n=Jt("recharts-pie-label-text",iye(e));return p.createElement(vv,ac({},t,{alignmentBaseline:"middle",className:n}),a)};function cye(e){var{sectors:t,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:o}=s;if(!a||!n||!t)return null;var l=Ri(s),d=Cr(n,!1),u=Cr(i,!1),h=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,f=t.map((g,y)=>{var w=(g.startAngle+g.endAngle)/2,v=gs(g.cx,g.cy,g.outerRadius+h,w),b=Dr(Dr(Dr(Dr({},l),g),{},{stroke:"none"},d),{},{index:y,textAnchor:rye(v.x,g.cx)},v),N=Dr(Dr(Dr(Dr({},l),g),{},{fill:"none",stroke:g.fill},u),{},{index:y,points:[gs(g.cx,g.cy,g.outerRadius,w),v],key:"line"});return p.createElement(Qr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},i&&oye(i,N),lye(n,b,fr(g,o)))});return p.createElement(Qr,{className:"recharts-pie-labels"},f)}function dye(e){var{sectors:t,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?p.createElement(bv,{label:s.label}):p.createElement(cye,{sectors:t,props:s,showLabels:a})}function uye(e){var{sectors:t,activeShape:s,inactiveShape:a,allOtherPieProps:n}=e,i=at(sc),{onMouseEnter:o,onClick:l,onMouseLeave:d}=n,u=C2(n,Kxe),h=w2(o,n.dataKey),f=j2(d),g=N2(l,n.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((y,w)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var v=s&&String(w)===i,b=i?a:null,N=v?s:b,S=Dr(Dr({},y),{},{stroke:y.stroke,tabIndex:-1,[V8]:w,[q8]:n.dataKey});return p.createElement(Qr,ac({tabIndex:-1,className:"recharts-pie-sector"},Fy(u,y,w),{onMouseEnter:h(y,w),onMouseLeave:f(y,w),onClick:g(y,w),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(w)}),p.createElement(PU,ac({option:N,isActive:v,shapeType:"sector"},S)))}))}function mye(e){var t,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:d,dataKey:u,nameKey:h,tooltipType:f}=s,g=Math.abs(s.minAngle),y=nye(l,d),w=Math.abs(y),v=a.length<=1?0:(t=s.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(A=>fr(A,u,0)!==0).length,N=(w>=360?b:b-1)*v,S=w-b*g-N,_=a.reduce((A,E)=>{var R=fr(E,u,0);return A+(st(R)?R:0)},0),k;if(_>0){var T;k=a.map((A,E)=>{var R=fr(A,u,0),z=fr(A,h,E),B=aye(s,i,A),O=(st(R)?R:0)/_,I,F=Dr(Dr({},A),n&&n[E]&&n[E].props);E?I=T.endAngle+Fs(y)*v*(R!==0?1:0):I=l;var V=I+Fs(y)*((R!==0?g:0)+O*S),W=(I+V)/2,X=(B.innerRadius+B.outerRadius)/2,D=[{name:z,value:R,payload:F,dataKey:u,type:f}],U=gs(B.cx,B.cy,X,W);return T=Dr(Dr(Dr(Dr({},s.presentationProps),{},{percent:O,cornerRadius:o,name:z,tooltipPayload:D,midAngle:W,middleRadius:X,tooltipPosition:U},F),B),{},{value:fr(A,u),startAngle:I,endAngle:V,payload:F,paddingAngle:Fs(y)*v}),T})}return k}function hye(e){var{showLabels:t,sectors:s,children:a}=e,n=p.useMemo(()=>!t||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,t]);return p.createElement(Z0e,{value:t?n:void 0},a)}function fye(e){var{props:t,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:d,inactiveShape:u,onAnimationStart:h,onAnimationEnd:f}=t,g=Am(t,"recharts-pie-"),y=s.current,[w,v]=p.useState(!1),b=p.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),N=p.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return p.createElement(hye,{showLabels:!w,sectors:a},p.createElement(km,{animationId:g,begin:i,duration:o,isActive:n,easing:l,onAnimationStart:N,onAnimationEnd:b,key:g},S=>{var _=[],k=a&&a[0],T=k==null?void 0:k.startAngle;return a==null||a.forEach((A,E)=>{var R=y&&y[E],z=E>0?Nd(A,"paddingAngle",0):0;if(R){var B=gr(R.endAngle-R.startAngle,A.endAngle-A.startAngle,S),O=Dr(Dr({},A),{},{startAngle:T+z,endAngle:T+B+z});_.push(O),T=O.endAngle}else{var{endAngle:I,startAngle:F}=A,V=gr(0,I-F,S),W=Dr(Dr({},A),{},{startAngle:T+z,endAngle:T+V+z});_.push(W),T=W.endAngle}}),s.current=_,p.createElement(Qr,null,p.createElement(uye,{sectors:_,activeShape:d,inactiveShape:u,allOtherPieProps:t}))}),p.createElement(dye,{showLabels:!w,sectors:a,props:t}),t.children)}var pye={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!hc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function gye(e){var{id:t}=e,s=C2(e,Gxe),{hide:a,className:n,rootTabIndex:i}=e,o=p.useMemo(()=>JS(e.children,zd),[e.children]),l=at(h=>pxe(h,t,o)),d=p.useRef(null),u=Jt("recharts-pie",n);return a||l==null?(d.current=null,p.createElement(Qr,{tabIndex:i,className:u})):p.createElement(p.Fragment,null,p.createElement(wv,{fn:tye,args:Dr(Dr({},e),{},{sectors:l})}),p.createElement(Qr,{tabIndex:i,className:u},p.createElement(fye,{props:Dr(Dr({},s),{},{sectors:l}),previousSectorsRef:d})))}function Nv(e){var t=ja(e,pye),{id:s}=t,a=C2(t,Yxe),n=Ri(a);return p.createElement(jv,{id:s,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(Hxe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),p.createElement(eye,ac({},a,{id:i})),p.createElement(gye,ac({},a,{id:i}))))}Nv.displayName="Pie";function lR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function cR(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(s),!0).forEach(function(a){xye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function xye(e,t,s){return(t=yye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function yye(e){var t=vye(e,"string");return typeof t=="symbol"?t:t+""}function vye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bye={xAxis:{},yAxis:{},zAxis:{}},OU=jn({name:"cartesianAxis",initialState:bye,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:s,width:a}=t.payload;e.yAxis[s]&&(e.yAxis[s]=cR(cR({},e.yAxis[s]),{},{width:a}))}}}),{addXAxis:wye,removeXAxis:jye,addYAxis:Nye,removeYAxis:_ye,addZAxis:r8e,removeZAxis:s8e,updateYAxisWidth:Sye}=OU.actions,Cye=OU.reducer,kye=pe([As],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Aye=pe([kye,il,ol],(e,t,s)=>{if(!(!e||t==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),_v=()=>at(Aye),Pye=()=>at(sge);function dR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function uR(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(s),!0).forEach(function(a){Eye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Eye(e,t,s){return(t=Tye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Tye(e){var t=Oye(e,"string");return typeof t=="symbol"?t:t+""}function Oye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rye=e=>{var{point:t,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var o=uR(uR({index:s,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Cr(n,!1)),YS(n)),l;return p.isValidElement(n)?l=p.cloneElement(n,o):typeof n=="function"?l=n(o):l=p.createElement(g2,o),p.createElement(Qr,{className:"recharts-active-dot"},l)};function C_(e){var{points:t,mainColor:s,activeDot:a,itemDataKey:n}=e,i=at(sc),o=Pye();if(t==null||o==null)return null;var l=t.find(d=>o.includes(d.payload));return Rr(l)?null:Rye({point:l,childIndex:Number(i),mainColor:s,dataKey:n,activeDot:a})}var Mye="Invariant failed";function Iye(e,t){throw new Error(Mye)}var Dye=["x","y"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},k_.apply(null,arguments)}function mR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Dh(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(s),!0).forEach(function(a){$ye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $ye(e,t,s){return(t=Lye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lye(e){var t=zye(e,"string");return typeof t=="symbol"?t:t+""}function zye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fye(e,t){if(e==null)return{};var s,a,n=Uye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Uye(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Bye(e,t){var{x:s,y:a}=e,n=Fye(e,Dye),i="".concat(s),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),u="".concat(t.height||n.height),h=parseInt(u,10),f="".concat(t.width||n.width),g=parseInt(f,10);return Dh(Dh(Dh(Dh(Dh({},t),n),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function k2(e){return p.createElement(PU,k_({shapeType:"rectangle",propTransformer:Bye,activeClassName:"recharts-active-bar"},e))}var Wye=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(st(t))return t;var i=st(a)||Rr(a);return i?t(a,n):(i||Iye(),s)}},Vye={},RU=jn({name:"errorBars",initialState:Vye,reducers:{addErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,t)=>{var{itemId:s,prev:a,next:n}=t.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:a8e,replaceErrorBar:n8e,removeErrorBar:i8e}=RU.actions,qye=RU.reducer,Hye=["children"];function Kye(e,t){if(e==null)return{};var s,a,n=Gye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gye(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Yye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Jye=p.createContext(Yye);function MU(e){var{children:t}=e,s=Kye(e,Hye);return p.createElement(Jye.Provider,{value:s},t)}function Sv(e,t){var s,a,n=at(u=>xc(u,e)),i=at(u=>yc(u,t)),o=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:cn.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:dn.allowDataOverflow,d=o||l;return{needClip:d,needClipX:o,needClipY:l}}function A2(e){var{xAxisId:t,yAxisId:s,clipPathId:a}=e,n=_v(),{needClipX:i,needClipY:o,needClip:l}=Sv(t,s);if(!l)return null;var{x:d,y:u,width:h,height:f}=n;return p.createElement("clipPath",{id:"clipPath-".concat(a)},p.createElement("rect",{x:i?d:d-h/2,y:o?u:u-f/2,width:i?h:h*2,height:o?f:f*2}))}var Xye=["onMouseEnter","onMouseLeave","onClick"],Zye=["value","background","tooltipPosition"],Qye=["id"],eve=["onMouseEnter","onClick","onMouseLeave"];function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},nc.apply(null,arguments)}function hR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Oa(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(s),!0).forEach(function(a){tve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tve(e,t,s){return(t=rve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function rve(e){var t=sve(e,"string");return typeof t=="symbol"?t:t+""}function sve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zx(e,t){if(e==null)return{};var s,a,n=ave(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ave(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var nve=e=>{var{dataKey:t,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:mc(s,t),payload:e}]};function ive(e){var{dataKey:t,stroke:s,strokeWidth:a,fill:n,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:mc(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function ove(e){var t=at(sc),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:d}=i,u=zx(i,Xye),h=w2(o,a),f=j2(l),g=N2(d,a);if(!n||s==null)return null;var y=Cr(n,!1);return p.createElement(p.Fragment,null,s.map((w,v)=>{var{value:b,background:N,tooltipPosition:S}=w,_=zx(w,Zye);if(!N)return null;var k=h(w,v),T=f(w,v),A=g(w,v),E=Oa(Oa(Oa(Oa(Oa({option:n,isActive:String(v)===t},_),{},{fill:"#eee"},N),y),Fy(u,w,v)),{},{onMouseEnter:k,onMouseLeave:T,onClick:A,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(k2,nc({key:"background-bar-".concat(v)},E))}))}function lve(e){var{showLabels:t,children:s,rects:a}=e,n=a==null?void 0:a.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Oa(Oa({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(p2,{value:t?n:void 0},s)}function cve(e){var{shape:t,activeBar:s,baseProps:a,entry:n,index:i,dataKey:o}=e,l=at(sc),d=at(aU),u=s&&String(i)===l&&(d==null||o===d),h=u?s:t;return p.createElement(k2,nc({},a,n,{isActive:u,option:h,index:i,dataKey:o}))}function dve(e){var{shape:t,baseProps:s,entry:a,index:n,dataKey:i}=e;return p.createElement(k2,nc({},s,a,{isActive:!1,option:t,index:n,dataKey:i}))}function uve(e){var{data:t,props:s}=e,a=Ri(s),{id:n}=a,i=zx(a,Qye),{shape:o,dataKey:l,activeBar:d}=s,{onMouseEnter:u,onClick:h,onMouseLeave:f}=s,g=zx(s,eve),y=w2(u,l),w=j2(f),v=N2(h,l);return t?p.createElement(p.Fragment,null,t.map((b,N)=>p.createElement(Qr,nc({className:"recharts-bar-rectangle"},Fy(g,b,N),{onMouseEnter:y(b,N),onMouseLeave:w(b,N),onClick:v(b,N),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(N)}),d?p.createElement(cve,{shape:o,activeBar:d,baseProps:i,entry:b,index:N,dataKey:l}):p.createElement(dve,{shape:o,baseProps:i,entry:b,index:N,dataKey:l})))):null}function mve(e){var{props:t,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,onAnimationEnd:u,onAnimationStart:h}=t,f=s.current,g=Am(t,"recharts-bar-"),[y,w]=p.useState(!1),v=!y,b=p.useCallback(()=>{typeof u=="function"&&u(),w(!1)},[u]),N=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return p.createElement(lve,{showLabels:v,rects:a},p.createElement(km,{animationId:g,begin:o,duration:l,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:N,key:g},S=>{var _=S===1?a:a==null?void 0:a.map((k,T)=>{var A=f&&f[T];if(A)return Oa(Oa({},k),{},{x:gr(A.x,k.x,S),y:gr(A.y,k.y,S),width:gr(A.width,k.width,S),height:gr(A.height,k.height,S)});if(n==="horizontal"){var E=gr(0,k.height,S);return Oa(Oa({},k),{},{y:k.y+k.height-E,height:E})}var R=gr(0,k.width,S);return Oa(Oa({},k),{},{width:R})});return S>0&&(s.current=_??null),_==null?null:p.createElement(Qr,null,p.createElement(uve,{props:t,data:_}))}),p.createElement(bv,{label:t.label}),t.children)}function hve(e){var t=p.useRef(null);return p.createElement(mve,{previousRectanglesRef:t,props:e})}var IU=0,fve=(e,t)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:fr(e,t)}};class pve extends p.PureComponent{render(){var{hide:t,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:d,id:u}=this.props;if(t||s==null)return null;var h=Jt("recharts-bar",n),f=u;return p.createElement(Qr,{className:h,id:u},l&&p.createElement("defs",null,p.createElement(A2,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(Qr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(ove,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),p.createElement(hve,this.props)))}}var gve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!hc.isSsr,legendType:"rect",minPointSize:IU,xAxisId:0,yAxisId:0};function xve(e){var{xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:u,isAnimationActive:h}=e,{needClip:f}=Sv(t,s),g=xp(),y=wa(),w=JS(e.children,zd),v=at(S=>Vve(S,t,s,y,e.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var b,N=v==null?void 0:v[0];return N==null||N.height==null||N.width==null?b=0:b=g==="vertical"?N.height/2:N.width/2,p.createElement(MU,{xAxisId:t,yAxisId:s,data:v,dataPointFormatter:fve,errorBarOffset:b},p.createElement(pve,nc({},e,{layout:g,needClip:f,data:v,xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:d,animationEasing:u,isAnimationActive:h})))}function yve(e){var{layout:t,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:d,yAxisTicks:u,stackedData:h,displayedData:f,offset:g,cells:y,parentViewBox:w}=e,v=t==="horizontal"?l:o,b=h?v.scale.domain():null,N=Kce({numericAxis:v});return f.map((S,_)=>{var k,T,A,E,R,z;h?k=Bce(h[_],b):(k=fr(S,s),Array.isArray(k)||(k=[N,k]));var B=Wye(a,IU)(k[1],_);if(t==="horizontal"){var O,[I,F]=[l.scale(k[0]),l.scale(k[1])];T=e5({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:S,index:_}),A=(O=F??I)!==null&&O!==void 0?O:void 0,E=n.size;var V=I-F;if(R=Qa(V)?0:V,z={x:T,y:g.top,width:E,height:g.height},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var W=Fs(R||B)*(Math.abs(B)-Math.abs(R));A-=W,R+=W}}else{var[X,D]=[o.scale(k[0]),o.scale(k[1])];if(T=X,A=e5({axis:l,ticks:u,bandSize:i,offset:n.offset,entry:S,index:_}),E=D-X,R=n.size,z={x:g.left,y:A,width:g.width,height:R},Math.abs(B)>0&&Math.abs(E)<Math.abs(B)){var U=Fs(E||B)*(Math.abs(B)-Math.abs(E));E+=U}}if(T==null||A==null||E==null||R==null)return null;var H=Oa(Oa({},S),{},{x:T,y:A,width:E,height:R,value:h?k:k[1],payload:S,background:z,tooltipPosition:{x:T+E/2,y:A+R/2},parentViewBox:w},y&&y[_]&&y[_].props);return H}).filter(Boolean)}function Mf(e){var t=ja(e,gve),s=wa();return p.createElement(jv,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(_2,{legendPayload:nve(t)}),p.createElement(wv,{fn:ive,args:t}),p.createElement(S2,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:B8(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:s}),p.createElement(xve,nc({},t,{id:a}))))}Mf.displayName="Bar";function fR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function u0(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(s),!0).forEach(function(a){vve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function vve(e,t,s){return(t=bve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bve(e){var t=wve(e,"string");return typeof t=="symbol"?t:t+""}function wve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jve=(e,t)=>t,Nve=(e,t,s)=>s,_ve=(e,t,s,a)=>a,Sve=(e,t,s,a,n)=>n,Tp=pe([Cp,Sve],(e,t)=>e.filter(s=>s.type==="bar").find(s=>s.id===t)),Cve=pe([Tp],e=>e==null?void 0:e.maxBarSize),kve=(e,t,s,a,n,i)=>i,pR=(e,t,s)=>{var a=s??e;if(!Rr(a))return xa(a,t,0)},Ave=pe([qt,Cp,jve,Nve,_ve],(e,t,s,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Pve=(e,t,s,a)=>{var n=qt(e);return n==="horizontal"?Of(e,"yAxis",s,a):Of(e,"xAxis",t,a)},Eve=(e,t,s)=>{var a=qt(e);return a==="horizontal"?pO(e,"xAxis",t):pO(e,"yAxis",s)},Tve=(e,t,s)=>{var a={},n=e.filter(mv),i=e.filter(u=>u.stackId==null),o=n.reduce((u,h)=>(u[h.stackId]||(u[h.stackId]=[]),u[h.stackId].push(h),u),a),l=Object.entries(o).map(u=>{var[h,f]=u,g=f.map(w=>w.dataKey),y=pR(t,s,f[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=i.map(u=>{var h=[u.dataKey].filter(g=>g!=null),f=pR(t,s,u.barSize);return{stackId:void 0,dataKeys:h,barSize:f}});return[...l,...d]},Ove=pe([Ave,ffe,Eve],Tve),Rve=(e,t,s,a,n)=>{var i,o,l=Tp(e,t,s,a,n);if(l!=null){var d=qt(e),u=rF(e),{maxBarSize:h}=l,f=Rr(h)?u:h,g,y;return d==="horizontal"?(g=lo(e,"xAxis",t,a),y=oo(e,"xAxis",t,a)):(g=lo(e,"yAxis",s,a),y=oo(e,"yAxis",s,a)),(i=(o=Cd(g,y,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},DU=(e,t,s,a)=>{var n=qt(e),i,o;return n==="horizontal"?(i=lo(e,"xAxis",t,a),o=oo(e,"xAxis",t,a)):(i=lo(e,"yAxis",s,a),o=oo(e,"yAxis",s,a)),Cd(i,o)};function Mve(e,t,s,a,n){var i=a.length;if(!(i<1)){var o=xa(e,s,0,!0),l,d=[];if(ra(a[0].barSize)){var u=!1,h=s/i,f=a.reduce((N,S)=>N+(S.barSize||0),0);f+=(i-1)*o,f>=s&&(f-=(i-1)*o,o=0),f>=s&&h>0&&(u=!0,h*=.9,f=i*h);var g=(s-f)/2>>0,y={offset:g-o,size:0};l=a.reduce((N,S)=>{var _,k={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y.offset+y.size+o,size:u?h:(_=S.barSize)!==null&&_!==void 0?_:0}},T=[...N,k];return y=T[T.length-1].position,T},d)}else{var w=xa(t,s,0,!0);s-2*w-(i-1)*o<=0&&(o=0);var v=(s-2*w-(i-1)*o)/i;v>1&&(v>>=0);var b=ra(n)?Math.min(v,n):v;l=a.reduce((N,S,_)=>[...N,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:w+(v+o)*_+(v-b)/2,size:b}}],d)}return l}}var Ive=(e,t,s,a,n,i,o)=>{var l=Rr(o)?t:o,d=Mve(s,a,n!==i?n:i,e,l);return n!==i&&d!=null&&(d=d.map(u=>u0(u0({},u),{},{position:u0(u0({},u.position),{},{offset:u.position.offset-n/2})}))),d},Dve=pe([Ove,rF,hfe,sF,Rve,DU,Cve],Ive),$ve=(e,t,s,a)=>lo(e,"xAxis",t,a),Lve=(e,t,s,a)=>lo(e,"yAxis",s,a),zve=(e,t,s,a)=>oo(e,"xAxis",t,a),Fve=(e,t,s,a)=>oo(e,"yAxis",s,a),Uve=pe([Dve,Tp],(e,t)=>{if(!(e==null||t==null)){var s=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(s!=null)return s.position}}),Bve=(e,t)=>{var s=uv(t);if(!(!e||s==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===s)}}}},Wve=pe([Pve,Tp],Bve),Vve=pe([As,lC,$ve,Lve,zve,Fve,Uve,qt,jp,DU,Wve,Tp,kve],(e,t,s,a,n,i,o,l,d,u,h,f,g)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:v}=d;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||s==null||a==null||n==null||i==null||u==null)){var{data:b}=f,N;if(b!=null&&b.length>0?N=b:N=y==null?void 0:y.slice(w,v+1),N!=null)return yve({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:N,offset:e,cells:g})}}),$U=e=>{var{chartData:t}=e,s=cs(),a=wa();return p.useEffect(()=>a?()=>{}:(s(SO(t)),()=>{s(SO(void 0))}),[t,s,a]),null},gR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LU=jn({name:"brush",initialState:gR,reducers:{setBrushSettings(e,t){return t.payload==null?gR:t.payload}}}),{setBrushSettings:o8e}=LU.actions,qve=LU.reducer;function Hve(e,t,s){return(t=Kve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Kve(e){var t=Gve(e,"string");return typeof t=="symbol"?t:t+""}function Gve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class P2{static create(t){return new P2(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(s){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}Hve(P2,"EPS",1e-4);function Yve(e){return(e%180+180)%180}var Jve=function(t){var{width:s,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Yve(n),o=i*Math.PI/180,l=Math.atan(a/s),d=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(d)},Xve={dots:[],areas:[],lines:[]},zU=jn({name:"referenceElements",initialState:Xve,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var s=Ho(e).dots.findIndex(a=>a===t.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var s=Ho(e).areas.findIndex(a=>a===t.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var s=Ho(e).lines.findIndex(a=>a===t.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:l8e,removeDot:c8e,addArea:d8e,removeArea:u8e,addLine:m8e,removeLine:h8e}=zU.actions,Zve=zU.reducer,Qve=p.createContext(void 0),ebe=e=>{var{children:t}=e,[s]=p.useState("".concat(Nf("recharts"),"-clip")),a=_v();if(a==null)return null;var{x:n,y:i,width:o,height:l}=a;return p.createElement(Qve.Provider,{value:s},p.createElement("defs",null,p.createElement("clipPath",{id:s},p.createElement("rect",{x:n,y:i,height:l,width:o}))),t)};function CN(e,t){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(t,s)||e[s]!==t[s]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function FU(e,t,s){if(t<1)return[];if(t===1&&s===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function tbe(e,t,s){var a={width:e.width+t.width,height:e.height+t.height};return Jve(a,s)}function rbe(e,t,s){var a=s==="width",{x:n,y:i,width:o,height:l}=e;return t===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function Fx(e,t,s,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=s();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function sbe(e,t){return FU(e,t+1)}function abe(e,t,s,a,n){for(var i=(a||[]).slice(),{start:o,end:l}=t,d=0,u=1,h=o,f=function(){var w=a==null?void 0:a[d];if(w===void 0)return{v:FU(a,u)};var v=d,b,N=()=>(b===void 0&&(b=s(w,v)),b),S=w.coordinate,_=d===0||Fx(e,S,N,h,l);_||(d=0,h=o,u+=1),_&&(h=S+e*(N()/2+n),d+=u)},g;u<=i.length;)if(g=f(),g)return g.v;return[]}function xR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function da(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(s),!0).forEach(function(a){nbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nbe(e,t,s){return(t=ibe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ibe(e){var t=obe(e,"string");return typeof t=="symbol"?t:t+""}function obe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lbe(e,t,s,a,n){for(var i=(a||[]).slice(),o=i.length,{start:l}=t,{end:d}=t,u=function(g){var y=i[g],w,v=()=>(w===void 0&&(w=s(y,g)),w);if(g===o-1){var b=e*(y.coordinate+e*v()/2-d);i[g]=y=da(da({},y),{},{tickCoord:b>0?y.coordinate-b*e:y.coordinate})}else i[g]=y=da(da({},y),{},{tickCoord:y.coordinate});var N=Fx(e,y.tickCoord,v,l,d);N&&(d=y.tickCoord-e*(v()/2+n),i[g]=da(da({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return i}function cbe(e,t,s,a,n,i){var o=(a||[]).slice(),l=o.length,{start:d,end:u}=t;if(i){var h=a[l-1],f=s(h,l-1),g=e*(h.coordinate+e*f/2-u);o[l-1]=h=da(da({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=Fx(e,h.tickCoord,()=>f,d,u);y&&(u=h.tickCoord-e*(f/2+n),o[l-1]=da(da({},h),{},{isShow:!0}))}for(var w=i?l-1:l,v=function(S){var _=o[S],k,T=()=>(k===void 0&&(k=s(_,S)),k);if(S===0){var A=e*(_.coordinate-e*T()/2-d);o[S]=_=da(da({},_),{},{tickCoord:A<0?_.coordinate-A*e:_.coordinate})}else o[S]=_=da(da({},_),{},{tickCoord:_.coordinate});var E=Fx(e,_.tickCoord,T,d,u);E&&(d=_.tickCoord+e*(T()/2+n),o[S]=da(da({},_),{},{isShow:!0}))},b=0;b<w;b++)v(b);return o}function E2(e,t,s){var{tick:a,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:d,tickFormatter:u,unit:h,angle:f}=e;if(!n||!n.length||!a)return[];if(st(d)||hc.isSsr){var g;return(g=sbe(n,st(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],w=l==="top"||l==="bottom"?"width":"height",v=h&&w==="width"?cf(h,{fontSize:t,letterSpacing:s}):{width:0,height:0},b=(_,k)=>{var T=typeof u=="function"?u(_.value,k):_.value;return w==="width"?tbe(cf(T,{fontSize:t,letterSpacing:s}),v,f):cf(T,{fontSize:t,letterSpacing:s})[w]},N=n.length>=2?Fs(n[1].coordinate-n[0].coordinate):1,S=rbe(i,N,w);return d==="equidistantPreserveStart"?abe(N,S,b,n,o):(d==="preserveStart"||d==="preserveStartEnd"?y=cbe(N,S,b,n,o,d==="preserveStartEnd"):y=lbe(N,S,b,n,o),y.filter(_=>_.isShow))}var dbe=["viewBox"],ube=["viewBox"];function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Du.apply(null,arguments)}function yR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _s(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(s),!0).forEach(function(a){T2(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function vR(e,t){if(e==null)return{};var s,a,n=mbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mbe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function T2(e,t,s){return(t=hbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function hbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vc extends p.Component{constructor(t){super(t),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,s){var{viewBox:a}=t,n=vR(t,dbe),i=this.props,{viewBox:o}=i,l=vR(i,ube);return!CN(a,o)||!CN(n,l)||!CN(s,this.state)}getTickLineCoord(t){var{x:s,y:a,width:n,height:i,orientation:o,tickSize:l,mirror:d,tickMargin:u}=this.props,h,f,g,y,w,v,b=d?-1:1,N=t.tickSize||l,S=st(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":h=f=t.coordinate,y=a+ +!d*i,g=y-b*N,v=g-b*u,w=S;break;case"left":g=y=t.coordinate,f=s+ +!d*n,h=f-b*N,w=h-b*u,v=S;break;case"right":g=y=t.coordinate,f=s+ +d*n,h=f+b*N,w=h+b*u,v=S;break;default:h=f=t.coordinate,y=a+ +d*i,g=y+b*N,v=g+b*u,w=S;break}return{line:{x1:h,y1:g,x2:f,y2:y},tick:{x:w,y:v}}}getTickTextAnchor(){var{orientation:t,mirror:s}=this.props;switch(t){case"left":return s?"start":"end";case"right":return s?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:s}=this.props;switch(t){case"left":case"right":return"middle";case"top":return s?"start":"end";default:return s?"end":"start"}}renderAxisLine(){var{x:t,y:s,width:a,height:n,orientation:i,mirror:o,axisLine:l}=this.props,d=_s(_s(_s({},Cr(this.props,!1)),Cr(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=_s(_s({},d),{},{x1:t,y1:s+u*n,x2:t+a,y2:s+u*n})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=_s(_s({},d),{},{x1:t+h*a,y1:s,x2:t+h*a,y2:s+n})}return p.createElement("line",Du({},d,{className:Jt("recharts-cartesian-axis-line",Nd(l,"className"))}))}static renderTickItem(t,s,a){var n,i=Jt(s.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))n=p.cloneElement(t,_s(_s({},s),{},{className:i}));else if(typeof t=="function")n=t(_s(_s({},s),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Jt(o,t.className)),n=p.createElement(vv,Du({},s,{className:o}),a)}return n}renderTicks(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:d,padding:u,tickTextProps:h}=this.props,f=E2(_s(_s({},this.props),{},{ticks:a}),t,s),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=Ri(this.props),v=Cr(o,!1),b=_s(_s({},w),{},{fill:"none"},Cr(n,!1)),N=f.map((S,_)=>{var{line:k,tick:T}=this.getTickLineCoord(S),A=_s(_s(_s(_s({textAnchor:g,verticalAnchor:y},w),{},{stroke:"none",fill:i},v),T),{},{index:_,payload:S,visibleTicksCount:f.length,tickFormatter:l,padding:u},h);return p.createElement(Qr,Du({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Fy(this.props,S,_)),n&&p.createElement("line",Du({},b,k,{className:Jt("recharts-cartesian-axis-tick-line",Nd(n,"className"))})),o&&vc.renderTickItem(o,A,"".concat(typeof l=="function"?l(S.value,_):S.value).concat(d||"")))});return N.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:t,width:s,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return s!=null&&s<=0||a!=null&&a<=0?null:p.createElement(Qr,{className:Jt("recharts-cartesian-axis",n),ref:l=>{if(l){var d=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var u=d[0];if(u){var h=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(h!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),p.createElement(T0e,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},p.createElement(U0e,{label:this.props.label}),this.props.children))}}T2(vc,"displayName","CartesianAxis");T2(vc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pbe=["x1","y1","x2","y2","key"],gbe=["offset"],xbe=["xAxisId","yAxisId"],ybe=["xAxisId","yAxisId"];function bR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fa(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(s),!0).forEach(function(a){vbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function vbe(e,t,s){return(t=bbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bbe(e){var t=wbe(e,"string");return typeof t=="symbol"?t:t+""}function wbe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sd.apply(null,arguments)}function Ux(e,t){if(e==null)return{};var s,a,n=jbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jbe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Nbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:a,y:n,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function UU(e,t){var s;if(p.isValidElement(e))s=p.cloneElement(e,t);else if(typeof e=="function")s=e(t);else{var{x1:a,y1:n,x2:i,y2:o,key:l}=t,d=Ux(t,pbe),u=Ri(d),{offset:h}=u,f=Ux(u,gbe);s=p.createElement("line",sd({},f,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function _be(e){var{x:t,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Ux(e,xbe),d=n.map((u,h)=>{var f=fa(fa({},l),{},{x1:t,y1:u,x2:t+s,y2:u,key:"line-".concat(h),index:h});return UU(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Sbe(e){var{y:t,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Ux(e,ybe),d=n.map((u,h)=>{var f=fa(fa({},l),{},{x1:u,y1:t,x2:u,y2:t+s,key:"line-".concat(h),index:h});return UU(a,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Cbe(e){var{horizontalFill:t,fillOpacity:s,x:a,y:n,width:i,height:o,horizontalPoints:l,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var u=l.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==u[0]&&u.unshift(0);var h=u.map((f,g)=>{var y=!u[g+1],w=y?n+o-f:u[g+1]-f;if(w<=0)return null;var v=g%t.length;return p.createElement("rect",{key:"react-".concat(g),y:f,x:a,height:w,width:i,stroke:"none",fill:t[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function kbe(e){var{vertical:t=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:o,height:l,verticalPoints:d}=e;if(!t||!s||!s.length)return null;var u=d.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==u[0]&&u.unshift(0);var h=u.map((f,g)=>{var y=!u[g+1],w=y?n+o-f:u[g+1]-f;if(w<=0)return null;var v=g%s.length;return p.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:w,height:l,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Abe=(e,t)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return F8(E2(fa(fa(fa({},vc.defaultProps),s),{},{ticks:U8(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},Pbe=(e,t)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return F8(E2(fa(fa(fa({},vc.defaultProps),s),{},{ticks:U8(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},Ebe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ro(e){var t=K8(),s=G8(),a=H8(),n=fa(fa({},ja(e,Ebe)),{},{x:st(e.x)?e.x:a.left,y:st(e.y)?e.y:a.top,width:st(e.width)?e.width:a.width,height:st(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:d,width:u,height:h,syncWithTicks:f,horizontalValues:g,verticalValues:y}=n,w=wa(),v=at(z=>gO(z,"xAxis",i,w)),b=at(z=>gO(z,"yAxis",o,w));if(!st(u)||u<=0||!st(h)||h<=0||!st(l)||l!==+l||!st(d)||d!==+d)return null;var N=n.verticalCoordinatesGenerator||Abe,S=n.horizontalCoordinatesGenerator||Pbe,{horizontalPoints:_,verticalPoints:k}=n;if((!_||!_.length)&&typeof S=="function"){var T=g&&g.length,A=S({yAxis:b?fa(fa({},b),{},{ticks:T?g:b.ticks}):void 0,width:t,height:s,offset:a},T?!0:f);lf(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(_=A)}if((!k||!k.length)&&typeof N=="function"){var E=y&&y.length,R=N({xAxis:v?fa(fa({},v),{},{ticks:E?y:v.ticks}):void 0,width:t,height:s,offset:a},E?!0:f);lf(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(k=R)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Nbe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),p.createElement(Cbe,sd({},n,{horizontalPoints:_})),p.createElement(kbe,sd({},n,{verticalPoints:k})),p.createElement(_be,sd({},n,{offset:a,horizontalPoints:_,xAxis:v,yAxis:b})),p.createElement(Sbe,sd({},n,{offset:a,verticalPoints:k,xAxis:v,yAxis:b})))}ro.displayName="CartesianGrid";var BU=(e,t,s,a)=>lo(e,"xAxis",t,a),WU=(e,t,s,a)=>oo(e,"xAxis",t,a),VU=(e,t,s,a)=>lo(e,"yAxis",s,a),qU=(e,t,s,a)=>oo(e,"yAxis",s,a),Tbe=pe([qt,BU,VU,WU,qU],(e,t,s,a,n)=>vo(e,"xAxis")?Cd(t,a,!1):Cd(s,n,!1)),Obe=(e,t,s,a,n)=>n;function Rbe(e){return e.type==="line"}var Mbe=pe([Cp,Obe],(e,t)=>e.filter(Rbe).find(s=>s.id===t)),Ibe=pe([qt,BU,VU,WU,qU,Mbe,Tbe,jp],(e,t,s,a,n,i,o,l)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=l;if(!(i==null||t==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{dataKey:f,data:g}=i,y;if(g!=null&&g.length>0?y=g:y=d==null?void 0:d.slice(u,h+1),y!=null)return swe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:o,displayedData:y})}}),Dbe=["id"],$be=["type","layout","connectNulls","needClip"],Lbe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function wR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(s),!0).forEach(function(a){zbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zbe(e,t,s){return(t=Fbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Fbe(e){var t=Ube(e,"string");return typeof t=="symbol"?t:t+""}function Ube(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O2(e,t){if(e==null)return{};var s,a,n=Bbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Bbe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ad.apply(null,arguments)}var Wbe=e=>{var{dataKey:t,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:mc(s,t),payload:e}]};function Vbe(e){var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:mc(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:d}}}var HU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qbe(e,t){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...s];return a}var Hbe=(e,t,s)=>{var a=s.reduce((f,g)=>f+g);if(!a)return HU(t,e);for(var n=Math.floor(e/a),i=e%a,o=t-e,l=[],d=0,u=0;d<s.length;u+=s[d],++d)if(u+s[d]>i){l=[...s.slice(0,d),i-u];break}var h=l.length%2===0?[0,o]:[o];return[...qbe(s,n),...l,...h].map(f=>"".concat(f,"px")).join(", ")};function Kbe(e,t){var s;if(p.isValidElement(e))s=p.cloneElement(e,t);else if(typeof e=="function")s=e(t);else{var a=Jt("recharts-line-dot",typeof e!="boolean"?e.className:"");s=p.createElement(g2,Ad({},t,{className:a}))}return s}function Gbe(e,t){return e==null?!1:t?!0:e.length===1}function Ybe(e){var{clipPathId:t,points:s,props:a}=e,{dot:n,dataKey:i,needClip:o}=a;if(!Gbe(s,n))return null;var{id:l}=a,d=O2(a,Dbe),u=Uy(n),h=Ri(d),f=Cr(n,!0),g=s.map((w,v)=>{var b=hn(hn(hn({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:w.x,cy:w.y,dataKey:i,value:w.value,payload:w.payload,points:s});return Kbe(n,b)}),y={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return p.createElement(Qr,Ad({className:"recharts-line-dots",key:"dots"},y),g)}function Jbe(e){var{showLabels:t,children:s,points:a}=e,n=p.useMemo(()=>a==null?void 0:a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return hn(hn({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[a]);return p.createElement(p2,{value:t?n:null},s)}function jR(e){var{clipPathId:t,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:o,layout:l,connectNulls:d,needClip:u}=i,h=O2(i,$be),f=hn(hn({},Cr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:a,type:o,layout:l,connectNulls:d,strokeDasharray:n??i.strokeDasharray});return p.createElement(p.Fragment,null,(a==null?void 0:a.length)>1&&p.createElement(Vu,Ad({},f,{pathRef:s})),p.createElement(Ybe,{points:a,clipPathId:t,props:i}))}function Xbe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Zbe(e){var{clipPathId:t,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:d,animationBegin:u,animationDuration:h,animationEasing:f,animateNewValues:g,width:y,height:w,onAnimationEnd:v,onAnimationStart:b}=s,N=n.current,S=Am(s,"recharts-line-"),[_,k]=p.useState(!1),T=!_,A=p.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),E=p.useCallback(()=>{typeof b=="function"&&b(),k(!0)},[b]),R=Xbe(a.current),z=i.current;return p.createElement(Jbe,{points:o,showLabels:T},s.children,p.createElement(km,{animationId:S,begin:u,duration:h,isActive:d,easing:f,onAnimationEnd:A,onAnimationStart:E,key:S},B=>{var O=gr(z,R+z,B),I=Math.min(O,R),F;if(d)if(l){var V="".concat(l).split(/[,\s]+/gim).map(D=>parseFloat(D));F=Hbe(I,R,V)}else F=HU(R,I);else F=l==null?void 0:String(l);if(N){var W=N.length/o.length,X=B===1?o:o.map((D,U)=>{var H=Math.floor(U*W);if(N[H]){var M=N[H];return hn(hn({},D),{},{x:gr(M.x,D.x,B),y:gr(M.y,D.y,B)})}return g?hn(hn({},D),{},{x:gr(y*2,D.x,B),y:gr(w/2,D.y,B)}):hn(hn({},D),{},{x:D.x,y:D.y})});return n.current=X,p.createElement(jR,{props:s,points:X,clipPathId:t,pathRef:a,strokeDasharray:F})}return B>0&&R>0&&(n.current=o,i.current=I),p.createElement(jR,{props:s,points:o,clipPathId:t,pathRef:a,strokeDasharray:F})}),p.createElement(bv,{label:s.label}))}function Qbe(e){var{clipPathId:t,props:s}=e,a=p.useRef(null),n=p.useRef(0),i=p.useRef(null);return p.createElement(Zbe,{props:s,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var ewe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:fr(e.payload,t)});class twe extends p.Component{render(){var t,{hide:s,dot:a,points:n,className:i,xAxisId:o,yAxisId:l,top:d,left:u,width:h,height:f,id:g,needClip:y}=this.props;if(s)return null;var w=Jt("recharts-line",i),v=g,{r:b=3,strokeWidth:N=2}=(t=Cr(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},S=Uy(a),_=b*2+N;return p.createElement(p.Fragment,null,p.createElement(Qr,{className:w},y&&p.createElement("defs",null,p.createElement(A2,{clipPathId:v,xAxisId:o,yAxisId:l}),!S&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:u-_/2,y:d-_/2,width:h+_,height:f+_}))),p.createElement(MU,{xAxisId:o,yAxisId:l,data:n,dataPointFormatter:ewe,errorBarOffset:0},p.createElement(Qbe,{props:this.props,clipPathId:v}))),p.createElement(C_,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var KU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function rwe(e){var t=ja(e,KU),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,hide:u,isAnimationActive:h,label:f,legendType:g,xAxisId:y,yAxisId:w,id:v}=t,b=O2(t,Lbe),{needClip:N}=Sv(y,w),S=_v(),_=xp(),k=wa(),T=at(B=>Ibe(B,y,w,k,v));if(_!=="horizontal"&&_!=="vertical"||T==null||S==null)return null;var{height:A,width:E,x:R,y:z}=S;return p.createElement(twe,Ad({},b,{id:v,connectNulls:l,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:o,isAnimationActive:h,hide:u,label:f,legendType:g,xAxisId:y,yAxisId:w,points:T,layout:_,height:A,width:E,left:R,top:z,needClip:N}))}function swe(e){var{layout:t,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:d}=e;return d.map((u,h)=>{var f=fr(u,o);if(t==="horizontal"){var g=vx({axis:s,ticks:n,bandSize:l,entry:u,index:h}),y=Rr(f)?null:a.scale(f);return{x:g,y,value:f,payload:u}}var w=Rr(f)?null:s.scale(f),v=vx({axis:a,ticks:i,bandSize:l,entry:u,index:h});return w==null||v==null?null:{x:w,y:v,value:f,payload:u}}).filter(Boolean)}function Bx(e){var t=ja(e,KU),s=wa();return p.createElement(jv,{id:t.id,type:"line"},a=>p.createElement(p.Fragment,null,p.createElement(_2,{legendPayload:Wbe(t)}),p.createElement(wv,{fn:Vbe,args:t}),p.createElement(S2,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:s}),p.createElement(rwe,Ad({},t,{id:a}))))}Bx.displayName="Line";var GU=(e,t,s,a)=>lo(e,"xAxis",t,a),YU=(e,t,s,a)=>oo(e,"xAxis",t,a),JU=(e,t,s,a)=>lo(e,"yAxis",s,a),XU=(e,t,s,a)=>oo(e,"yAxis",s,a),awe=pe([qt,GU,JU,YU,XU],(e,t,s,a,n)=>vo(e,"xAxis")?Cd(t,a,!1):Cd(s,n,!1)),nwe=(e,t,s,a,n)=>n,ZU=pe([Cp,nwe],(e,t)=>e.filter(s=>s.type==="area").find(s=>s.id===t)),iwe=(e,t,s,a,n)=>{var i,o=ZU(e,t,s,a,n);if(o!=null){var l=qt(e),d=vo(l,"xAxis"),u;if(d?u=Of(e,"yAxis",s,a):u=Of(e,"xAxis",t,a),u!=null){var{stackId:h}=o,f=uv(o);if(!(h==null||f==null)){var g=(i=u[h])===null||i===void 0?void 0:i.stackedData;return g==null?void 0:g.find(y=>y.key===f)}}}},owe=pe([qt,GU,JU,YU,XU,iwe,jp,awe,ZU],(e,t,s,a,n,i,o,l,d)=>{var{chartData:u,dataStartIndex:h,dataEndIndex:f}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:g}=d,y;if(g&&g.length>0?y=g:y=u==null?void 0:u.slice(h,f+1),y!=null){var w=void 0;return Awe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:d,stackedData:i,displayedData:y,chartBaseValue:w,bandSize:l})}}}),lwe=["id"],cwe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function QU(e,t){if(e==null)return{};var s,a,n=dwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dwe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function NR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Wo(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(s),!0).forEach(function(a){uwe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function uwe(e,t,s){return(t=mwe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mwe(e){var t=hwe(e,"string");return typeof t=="symbol"?t:t+""}function hwe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Go.apply(null,arguments)}function Wx(e,t){return e&&e!=="none"?e:t}var fwe=e=>{var{dataKey:t,name:s,stroke:a,fill:n,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Wx(a,n),value:mc(s,t),payload:e}]};function pwe(e){var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:mc(o,t),hide:l,type:e.tooltipType,color:Wx(a,i),unit:d}}}var gwe=(e,t)=>{var s;if(p.isValidElement(e))s=p.cloneElement(e,t);else if(typeof e=="function")s=e(t);else{var a=Jt("recharts-area-dot",typeof e!="boolean"?e.className:"");s=p.createElement(g2,Go({},t,{className:a}))}return s};function xwe(e,t){return e==null?!1:t?!0:e.length===1}function ywe(e){var{clipPathId:t,points:s,props:a}=e,{needClip:n,dot:i,dataKey:o}=a;if(!xwe(s,i))return null;var l=Uy(i),d=Ri(a),u=Cr(i,!0),h=s.map((g,y)=>{var w=Wo(Wo(Wo({key:"dot-".concat(y),r:3},d),u),{},{index:y,cx:g.x,cy:g.y,dataKey:o,value:g.value,payload:g.payload,points:s});return gwe(i,w)}),f={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(Qr,Go({className:"recharts-area-dots"},f),h)}function vwe(e){var{showLabels:t,children:s,points:a}=e,n=a.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Wo(Wo({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return p.createElement(p2,{value:t?n:null},s)}function _R(e){var{points:t,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:o,type:l,stroke:d,connectNulls:u,isRange:h}=i,{id:f}=i,g=QU(i,lwe),y=Ri(g);return p.createElement(p.Fragment,null,(t==null?void 0:t.length)>1&&p.createElement(Qr,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},p.createElement(Vu,Go({},y,{id:f,points:t,connectNulls:u,type:l,baseLine:s,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&p.createElement(Vu,Go({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),d!=="none"&&h&&p.createElement(Vu,Go({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:s}))),p.createElement(ywe,{points:t,props:g,clipPathId:n}))}function bwe(e){var{alpha:t,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,o=a[a.length-1].y;if(!ra(i)||!ra(o))return null;var l=t*Math.abs(i-o),d=Math.max(...a.map(u=>u.x||0));return st(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(u=>u.x||0),d)),st(d)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function wwe(e){var{alpha:t,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,o=a[a.length-1].x;if(!ra(i)||!ra(o))return null;var l=t*Math.abs(i-o),d=Math.max(...a.map(u=>u.y||0));return st(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(u=>u.y||0),d)),st(d)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function jwe(e){var{alpha:t,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?p.createElement(bwe,{alpha:t,points:a,baseLine:n,strokeWidth:i}):p.createElement(wwe,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function Nwe(e){var{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:d,animationBegin:u,animationDuration:h,animationEasing:f,onAnimationStart:g,onAnimationEnd:y}=a,w=Am(a,"recharts-area-"),[v,b]=p.useState(!1),N=!v,S=p.useCallback(()=>{typeof y=="function"&&y(),b(!1)},[y]),_=p.useCallback(()=>{typeof g=="function"&&g(),b(!0)},[g]),k=n.current,T=i.current;return p.createElement(vwe,{showLabels:N,points:o},a.children,p.createElement(km,{animationId:w,begin:u,duration:h,isActive:d,easing:f,onAnimationEnd:S,onAnimationStart:_,key:w},A=>{if(k){var E=k.length/o.length,R=A===1?o:o.map((B,O)=>{var I=Math.floor(O*E);if(k[I]){var F=k[I];return Wo(Wo({},B),{},{x:gr(F.x,B.x,A),y:gr(F.y,B.y,A)})}return B}),z;return st(l)?z=gr(T,l,A):Rr(l)||Qa(l)?z=gr(T,0,A):z=l.map((B,O)=>{var I=Math.floor(O*E);if(Array.isArray(T)&&T[I]){var F=T[I];return Wo(Wo({},B),{},{x:gr(F.x,B.x,A),y:gr(F.y,B.y,A)})}return B}),A>0&&(n.current=R,i.current=z),p.createElement(_R,{points:R,baseLine:z,needClip:t,clipPathId:s,props:a})}return A>0&&(n.current=o,i.current=l),p.createElement(Qr,null,d&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(s)},p.createElement(jwe,{alpha:A,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),p.createElement(Qr,{clipPath:"url(#animationClipPath-".concat(s,")")},p.createElement(_R,{points:o,baseLine:l,needClip:t,clipPathId:s,props:a})))}),p.createElement(bv,{label:a.label}))}function _we(e){var{needClip:t,clipPathId:s,props:a}=e,n=p.useRef(null),i=p.useRef();return p.createElement(Nwe,{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class Swe extends p.PureComponent{render(){var t,{hide:s,dot:a,points:n,className:i,top:o,left:l,needClip:d,xAxisId:u,yAxisId:h,width:f,height:g,id:y,baseLine:w}=this.props;if(s)return null;var v=Jt("recharts-area",i),b=y,{r:N=3,strokeWidth:S=2}=(t=Cr(a,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=Uy(a),k=N*2+S;return p.createElement(p.Fragment,null,p.createElement(Qr,{className:v},d&&p.createElement("defs",null,p.createElement(A2,{clipPathId:b,xAxisId:u,yAxisId:h}),!_&&p.createElement("clipPath",{id:"clipPath-dots-".concat(b)},p.createElement("rect",{x:l-k/2,y:o-k/2,width:f+k,height:g+k}))),p.createElement(_we,{needClip:d,clipPathId:b,props:this.props})),p.createElement(C_,{points:n,mainColor:Wx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(w)&&p.createElement(C_,{points:w,mainColor:Wx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var e7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!hc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Cwe(e){var t,s=ja(e,e7),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:d,fill:u,fillOpacity:h,hide:f,isAnimationActive:g,legendType:y,stroke:w,xAxisId:v,yAxisId:b}=s,N=QU(s,cwe),S=xp(),_=iU(),{needClip:k}=Sv(v,b),T=wa(),{points:A,isRange:E,baseLine:R}=(t=at(V=>owe(V,v,b,T,e.id)))!==null&&t!==void 0?t:{},z=_v();if(S!=="horizontal"&&S!=="vertical"||z==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:B,width:O,x:I,y:F}=z;return!A||!A.length?null:p.createElement(Swe,Go({},N,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:R,connectNulls:l,dot:d,fill:u,fillOpacity:h,height:B,hide:f,layout:S,isAnimationActive:g,isRange:E,legendType:y,needClip:k,points:A,stroke:w,width:O,left:I,top:F,xAxisId:v,yAxisId:b}))}var kwe=(e,t,s,a,n)=>{var i=s??t;if(st(i))return i;var o=e==="horizontal"?n:a,l=o.scale.domain();if(o.type==="number"){var d=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||d<0?d:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function Awe(e){var{areaSettings:{connectNulls:t,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:d,displayedData:u,dataStartIndex:h,xAxisTicks:f,yAxisTicks:g,bandSize:y}=e,w=n&&n.length,v=kwe(i,o,s,l,d),b=i==="horizontal",N=!1,S=u.map((k,T)=>{var A;w?A=n[h+T]:(A=fr(k,a),Array.isArray(A)?N=!0:A=[v,A]);var E=A[1]==null||w&&!t&&fr(k,a)==null;return b?{x:vx({axis:l,ticks:f,bandSize:y,entry:k,index:T}),y:E?null:d.scale(A[1]),value:A,payload:k}:{x:E?null:l.scale(A[1]),y:vx({axis:d,ticks:g,bandSize:y,entry:k,index:T}),value:A,payload:k}}),_;return w||N?_=S.map(k=>{var T=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:T!=null&&k.y!=null?d.scale(T):null,payload:k.payload}:{x:T!=null?l.scale(T):null,y:k.y,payload:k.payload}}):_=b?d.scale(v):l.scale(v),{points:S,baseLine:_,isRange:N}}function Pd(e){var t=ja(e,e7),s=wa();return p.createElement(jv,{id:t.id,type:"area"},a=>p.createElement(p.Fragment,null,p.createElement(_2,{legendPayload:fwe(t)}),p.createElement(wv,{fn:pwe,args:t}),p.createElement(S2,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:B8(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:s,connectNulls:t.connectNulls}),p.createElement(Cwe,Go({},t,{id:a}))))}Pd.displayName="Area";var Pwe=["children"],Ewe=["dangerouslySetInnerHTML","ticks"],Twe=["id"];function t7(e,t,s){return(t=Owe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Owe(e){var t=Rwe(e,"string");return typeof t=="symbol"?t:t+""}function Rwe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},A_.apply(null,arguments)}function P_(e,t){if(e==null)return{};var s,a,n=Mwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Mwe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Iwe(e){var t=cs(),s=p.useMemo(()=>{var{children:a}=e,n=P_(e,Pwe);return n},[e]);return p.useEffect(()=>(t(wye(s)),()=>{t(jye(s))}),[s,t]),e.children}var Dwe=e=>{var{xAxisId:t,className:s}=e,a=at(lC),n=wa(),i="xAxis",o=at(b=>Im(b,i,t,n)),l=at(b=>zF(b,i,t,n)),d=at(b=>IF(b,t)),u=at(b=>ape(b,t)),h=at(b=>mF(b,t));if(d==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:g}=e,y=P_(e,Ewe),{id:w}=h,v=P_(h,Twe);return p.createElement(vc,A_({},y,v,{scale:o,x:u.x,y:u.y,width:d.width,height:d.height,className:Jt("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l}))},$we=e=>{var t,s,a,n,i;return p.createElement(Iwe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(Dwe,e))};class bi extends p.Component{render(){return p.createElement($we,this.props)}}t7(bi,"displayName","XAxis");t7(bi,"defaultProps",{allowDataOverflow:cn.allowDataOverflow,allowDecimals:cn.allowDecimals,allowDuplicatedCategory:cn.allowDuplicatedCategory,height:cn.height,hide:!1,mirror:cn.mirror,orientation:cn.orientation,padding:cn.padding,reversed:cn.reversed,scale:cn.scale,tickCount:cn.tickCount,type:cn.type,xAxisId:0});var Lwe=e=>{var{ticks:t,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=s?s.getBoundingClientRect().width:0,d=n+i,u=o+d+l+(s?a:0);return Math.round(u)}return 0},zwe=["dangerouslySetInnerHTML","ticks"],Fwe=["id"];function r7(e,t,s){return(t=Uwe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Uwe(e){var t=Bwe(e,"string");return typeof t=="symbol"?t:t+""}function Bwe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},E_.apply(null,arguments)}function SR(e,t){if(e==null)return{};var s,a,n=Wwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wwe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Vwe(e){var t=cs();return p.useEffect(()=>(t(Nye(e)),()=>{t(_ye(e))}),[e,t]),null}var qwe=e=>{var t,{yAxisId:s,className:a,width:n,label:i}=e,o=p.useRef(null),l=p.useRef(null),d=at(lC),u=wa(),h=cs(),f="yAxis",g=at(A=>Im(A,f,s,u)),y=at(A=>DF(A,s)),w=at(A=>npe(A,s)),v=at(A=>zF(A,f,s,u)),b=at(A=>hF(A,s));if(p.useLayoutEffect(()=>{var A;if(!(n!=="auto"||!y||f2(i)||p.isValidElement(i)||b==null)){var E=o.current,R=E==null||(A=E.tickRefs)===null||A===void 0?void 0:A.current,{tickSize:z,tickMargin:B}=E.props,O=Lwe({ticks:R,label:l.current,labelGapWithTick:5,tickSize:z,tickMargin:B});Math.round(y.width)!==Math.round(O)&&h(Sye({id:s,width:O}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y==null?void 0:y.width,y,h,i,s,n]),y==null||w==null||b==null)return null;var{dangerouslySetInnerHTML:N,ticks:S}=e,_=SR(e,zwe),{id:k}=b,T=SR(b,Fwe);return p.createElement(vc,E_({},_,T,{ref:o,labelRef:l,scale:g,x:w.x,y:w.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Jt("recharts-".concat(f," ").concat(f),a),viewBox:d,ticks:v}))},Hwe=e=>{var t,s,a,n,i;return p.createElement(p.Fragment,null,p.createElement(Vwe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(s=e.includeHidden)!==null&&s!==void 0?s:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(n=e.minTickGap)!==null&&n!==void 0?n:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement(qwe,e))},Kwe={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,hide:!1,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tickCount:dn.tickCount,type:dn.type,width:dn.width,yAxisId:0};class wi extends p.Component{render(){return p.createElement(Hwe,this.props)}}r7(wi,"displayName","YAxis");r7(wi,"defaultProps",Kwe);var kN={exports:{}},AN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR;function Gwe(){if(CR)return AN;CR=1;var e=fm();function t(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var s=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return AN.useSyncExternalStoreWithSelector=function(d,u,h,f,g){var y=n(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function b(T){if(!N){if(N=!0,S=T,T=f(T),g!==void 0&&w.hasValue){var A=w.value;if(g(A,T))return _=A}return _=T}if(A=_,s(S,T))return A;var E=f(T);return g!==void 0&&g(A,E)?(S=T,A):(S=T,_=E)}var N=!1,S,_,k=h===void 0?null:h;return[function(){return b(u())},k===null?void 0:function(){return b(k())}]},[u,h,f,g]);var v=a(d,y[0],y[1]);return i(function(){w.hasValue=!0,w.value=v},[v]),l(v),v},AN}var kR;function Ywe(){return kR||(kR=1,kN.exports=Gwe()),kN.exports}Ywe();function Jwe(e){e()}function Xwe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Jwe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=t={callback:s,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var AR={notify(){},get:()=>[]};function Zwe(e,t){let s,a=AR,n=0,i=!1;function o(v){h();const b=a.subscribe(v);let N=!1;return()=>{N||(N=!0,b(),f())}}function l(){a.notify()}function d(){w.onStateChange&&w.onStateChange()}function u(){return i}function h(){n++,s||(s=e.subscribe(d),a=Xwe())}function f(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=AR)}function g(){i||(i=!0,h())}function y(){i&&(i=!1,f())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:d,isSubscribed:u,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>a};return w}var Qwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eje=Qwe(),tje=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rje=tje(),sje=()=>eje||rje?p.useLayoutEffect:p.useEffect,aje=sje(),PN=Symbol.for("react-redux-context"),EN=typeof globalThis<"u"?globalThis:{};function nje(){if(!p.createContext)return{};const e=EN[PN]??(EN[PN]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var ije=nje();function oje(e){const{children:t,context:s,serverState:a,store:n}=e,i=p.useMemo(()=>{const d=Zwe(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),o=p.useMemo(()=>n.getState(),[n]);aje(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const l=s||ije;return p.createElement(l.Provider,{value:i},t)}var lje=oje,cje=(e,t)=>t,R2=pe([cje,qt,cF,Es,eU,cl,cge,As],fge),M2=e=>{var t=e.currentTarget.getBoundingClientRect(),s=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/s),chartY:Math.round((e.clientY-t.top)/a)}},s7=Xn("mouseClick"),a7=pp();a7.startListening({actionCreator:s7,effect:(e,t)=>{var s=e.payload,a=R2(t.getState(),M2(s));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(ype({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var T_=Xn("mouseMove"),n7=pp();n7.startListening({actionCreator:T_,effect:(e,t)=>{var s=e.payload,a=t.getState(),n=n2(a,a.tooltip.settings.shared),i=R2(a,M2(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(KF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(HF()))}});function dje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var PR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},i7=jn({name:"rootProps",initialState:PR,reducers:{updateOptions:(e,t)=>{var s;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(s=t.payload.barGap)!==null&&s!==void 0?s:PR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uje=i7.reducer,{updateOptions:mje}=i7.actions,o7=jn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hje}=o7.actions,fje=o7.reducer,l7=Xn("keyDown"),c7=Xn("focus"),I2=pp();I2.startListening({actionCreator:l7,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(i2(n,$m(s))),l=cl(s);if(i==="Enter"){var d=Ix(s,"axis","hover",String(n.index));t.dispatch(w_({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var u=cpe(s),h=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,g=o+f*h;if(!(l==null||g>=l.length||g<0)){var y=Ix(s,"axis","hover",String(g));t.dispatch(w_({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});I2.startListening({actionCreator:c7,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",o=Ix(s,"axis","hover",String(i));t.dispatch(w_({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Dn=Xn("externalEvent"),d7=pp();d7.startListening({actionCreator:Dn,effect:(e,t)=>{if(e.payload.handler!=null){var s=t.getState(),a={activeCoordinate:ege(s),activeDataKey:aU(s),activeIndex:sc(s),activeLabel:sU(s),activeTooltipIndex:sc(s),isTooltipActive:tge(s)};e.payload.handler(a,e.payload.reactEvent)}}});var pje=pe([Dm],e=>e.tooltipItemPayloads),gje=pe([pje,Pp,(e,t,s)=>t,(e,t,s)=>s],(e,t,s,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var o=t(i,s);return o}}}),u7=Xn("touchMove"),m7=pp();m7.startListening({actionCreator:u7,effect:(e,t)=>{var s=e.payload,a=t.getState(),n=n2(a,a.tooltip.settings.shared);if(n==="axis"){var i=R2(a,M2({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(KF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=s.touches[0],d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(V8),h=(o=d.getAttribute(q8))!==null&&o!==void 0?o:void 0,f=gje(t.getState(),u,h);t.dispatch(qF({activeDataKey:h,activeIndex:u,activeCoordinate:f}))}}});var xje=p8({brush:qve,cartesianAxis:Cye,chartData:Ege,errorBars:qye,graphicalItems:qxe,layout:Cce,legend:hde,options:Sge,polarAxis:lxe,polarOptions:fje,referenceElements:Zve,rootProps:uje,tooltip:vpe}),yje=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Xle({reducer:xje,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([a7.middleware,n7.middleware,I2.middleware,d7.middleware,m7.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:dje},name:"recharts-".concat(s)}})};function h7(e){var{preloadedState:t,children:s,reduxStoreName:a}=e,n=wa(),i=p.useRef(null);if(n)return s;i.current==null&&(i.current=yje(t,a));var o=rC;return p.createElement(lje,{context:o,store:i.current},s)}function f7(e){var{layout:t,width:s,height:a,margin:n}=e,i=cs(),o=wa();return p.useEffect(()=>{o||(i(Nce(t)),i(_ce({width:s,height:a})),i(jce(n)))},[i,o,t,s,a,n]),null}function p7(e){var t=cs();return p.useEffect(()=>{t(mje(e))},[t,e]),null}var vje=["children"];function bje(e,t){if(e==null)return{};var s,a,n=wje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wje(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vx.apply(null,arguments)}var jje={width:"100%",height:"100%"},Nje=p.forwardRef((e,t)=>{var s=K8(),a=G8(),n=Z8();if(!rm(s)||!rm(a))return null;var{children:i,otherAttributes:o,title:l,desc:d}=e,u,h;return typeof o.tabIndex=="number"?u=o.tabIndex:u=n?0:void 0,typeof o.role=="string"?h=o.role:h=n?"application":void 0,p.createElement($z,Vx({},o,{title:l,desc:d,role:h,tabIndex:u,width:s,height:a,style:jje,ref:t}),i)}),_je=e=>{var{children:t}=e,s=at(tv);if(!s)return null;var{width:a,height:n,y:i,x:o}=s;return p.createElement($z,{width:a,height:n,x:o,y:i},t)},ER=p.forwardRef((e,t)=>{var{children:s}=e,a=bje(e,vje),n=wa();return n?p.createElement(_je,null,s):p.createElement(Nje,Vx({ref:t},a),s)});function Sje(){var e=cs(),[t,s]=p.useState(null),a=at(ede);return p.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;ra(i)&&i!==a&&e(Sce(i))}},[t,e,a]),s}function TR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cje(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(s),!0).forEach(function(a){kje(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kje(e,t,s){return(t=Aje(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Aje(e){var t=Pje(e,"string");return typeof t=="symbol"?t:t+""}function Pje(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eje=p.forwardRef((e,t)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:d,onMouseEnter:u,onMouseLeave:h,onMouseMove:f,onMouseUp:g,onTouchEnd:y,onTouchMove:w,onTouchStart:v,style:b,width:N}=e,S=cs(),[_,k]=p.useState(null),[T,A]=p.useState(null);zge();var E=Sje(),R=p.useCallback(q=>{E(q),typeof t=="function"&&t(q),k(q),A(q)},[E,t,k,A]),z=p.useCallback(q=>{S(s7(q)),S(Dn({handler:i,reactEvent:q}))},[S,i]),B=p.useCallback(q=>{S(T_(q)),S(Dn({handler:u,reactEvent:q}))},[S,u]),O=p.useCallback(q=>{S(HF()),S(Dn({handler:h,reactEvent:q}))},[S,h]),I=p.useCallback(q=>{S(T_(q)),S(Dn({handler:f,reactEvent:q}))},[S,f]),F=p.useCallback(()=>{S(c7())},[S]),V=p.useCallback(q=>{S(l7(q.key))},[S]),W=p.useCallback(q=>{S(Dn({handler:o,reactEvent:q}))},[S,o]),X=p.useCallback(q=>{S(Dn({handler:l,reactEvent:q}))},[S,l]),D=p.useCallback(q=>{S(Dn({handler:d,reactEvent:q}))},[S,d]),U=p.useCallback(q=>{S(Dn({handler:g,reactEvent:q}))},[S,g]),H=p.useCallback(q=>{S(Dn({handler:v,reactEvent:q}))},[S,v]),M=p.useCallback(q=>{S(u7(q)),S(Dn({handler:w,reactEvent:q}))},[S,w]),L=p.useCallback(q=>{S(Dn({handler:y,reactEvent:q}))},[S,y]);return p.createElement(uU.Provider,{value:_},p.createElement(Gie.Provider,{value:T},p.createElement("div",{className:Jt("recharts-wrapper",a),style:Cje({position:"relative",cursor:"default",width:N,height:n},b),onClick:z,onContextMenu:W,onDoubleClick:X,onFocus:F,onKeyDown:V,onMouseDown:D,onMouseEnter:B,onMouseLeave:O,onMouseMove:I,onMouseUp:U,onTouchEnd:L,onTouchMove:M,onTouchStart:H,ref:R},s)))}),Tje=["children","className","width","height","style","compact","title","desc"];function Oje(e,t){if(e==null)return{};var s,a,n=Rje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rje(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var g7=p.forwardRef((e,t)=>{var{children:s,className:a,width:n,height:i,style:o,compact:l,title:d,desc:u}=e,h=Oje(e,Tje),f=Ri(h);return l?p.createElement(ER,{otherAttributes:f,title:d,desc:u},s):p.createElement(Eje,{className:a,style:o,width:n,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(ER,{otherAttributes:f,title:d,desc:u,ref:t},p.createElement(ebe,null,s)))}),Mje=["width","height"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},O_.apply(null,arguments)}function Ije(e,t){if(e==null)return{};var s,a,n=Dje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dje(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var $je={top:5,right:5,bottom:5,left:5},Lje={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$je,reverseStackOrder:!1,syncMethod:"index"},D2=p.forwardRef(function(t,s){var a,n=ja(t.categoricalChartProps,Lje),{width:i,height:o}=n,l=Ije(n,Mje);if(!rm(i)||!rm(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,categoricalChartProps:g}=t,y={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(h7,{preloadedState:{options:y},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:d},p.createElement($U,{chartData:g.data}),p.createElement(f7,{width:i,height:o,layout:n.layout,margin:n.margin}),p.createElement(p7,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(g7,O_({},l,{width:i,height:o,ref:s})))}),zje=["axis"],x7=p.forwardRef((e,t)=>p.createElement(D2,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zje,tooltipPayloadSearcher:yv,categoricalChartProps:e,ref:t})),Fje=["axis","item"],$2=p.forwardRef((e,t)=>p.createElement(D2,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fje,tooltipPayloadSearcher:yv,categoricalChartProps:e,ref:t}));function Uje(e){var t=cs();return p.useEffect(()=>{t(hje(e))},[t,e]),null}var Bje=["width","height","layout"];function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R_.apply(null,arguments)}function Wje(e,t){if(e==null)return{};var s,a,n=Vje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vje(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var qje={top:5,right:5,bottom:5,left:5},Hje={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qje,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Kje=p.forwardRef(function(t,s){var a,n=ja(t.categoricalChartProps,Hje),{width:i,height:o,layout:l}=n,d=Wje(n,Bje);if(!rm(i)||!rm(o))return null;var{chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g}=t,y={chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:g,eventEmitter:void 0};return p.createElement(h7,{preloadedState:{options:y},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:u},p.createElement($U,{chartData:n.data}),p.createElement(f7,{width:i,height:o,layout:l,margin:n.margin}),p.createElement(p7,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),p.createElement(Uje,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),p.createElement(g7,R_({width:i,height:o},d,{ref:s})))}),Gje=["item"],Yje={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},L2=p.forwardRef((e,t)=>{var s=ja(e,Yje);return p.createElement(Kje,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gje,tooltipPayloadSearcher:yv,categoricalChartProps:s,ref:t})}),Jje=["axis"],Cv=p.forwardRef((e,t)=>p.createElement(D2,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jje,tooltipPayloadSearcher:yv,categoricalChartProps:e,ref:t}));function Xje(){const[e,t]=p.useState("overview"),s={organizations:{active:38,new:5,churn:2},tickets:{avgResolutionTime:2.4,satisfaction:98.2},usage:{totalCalls:125420},calls:{total:125420,successful:11e4,failed:15420}},a=[{date:"Jan 1",revenue:12500,organizations:32},{date:"Jan 7",revenue:13200,organizations:34},{date:"Jan 14",revenue:14800,organizations:37},{date:"Jan 21",revenue:15200,organizations:40},{date:"Jan 28",revenue:16900,organizations:42},{date:"Feb 4",revenue:17600,organizations:44},{date:"Feb 11",revenue:18450,organizations:45}],n=[{name:"Starter",value:18,color:"#3B82F6"},{name:"Professional",value:22,color:"#8B5CF6"},{name:"Enterprise",value:5,color:"#F59E0B"}],i=[{category:"Technical",tickets:67,avgTime:2.1},{category:"Billing",tickets:34,avgTime:1.8},{category:"Onboarding",tickets:28,avgTime:3.2},{category:"Feature Requests",tickets:27,avgTime:4.5}],o=[{name:"TechFlow Solutions",calls:12450,revenue:599,status:"active"},{name:"Digital Dynamics",calls:18200,revenue:1299,status:"active"},{name:"Growth Partners",calls:450,revenue:0,status:"trial"},{name:"Enterprise Corp",calls:25100,revenue:2499,status:"active"},{name:"StartupHub",calls:8200,revenue:299,status:"active"}];return r.jsx("div",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-gray-400",children:"Comprehensive analytics and insights for your platform"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(K,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[r.jsx(is,{className:"mr-2 h-4 w-4"}),"Export Report"]}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Custom Dashboard"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:s.calls.total.toLocaleString()})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:r.jsx(dt,{className:"h-6 w-6 text-emerald-400"})})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"text-green-400",children:["+",s.calls.successful," successful"]}),r.jsxs("span",{className:"text-red-400",children:["-",s.calls.failed," failed"]})]})]})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Organizations"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:s.organizations.active})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/20",children:r.jsx(cy,{className:"h-6 w-6 text-blue-400"})})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"text-green-400",children:["+",s.organizations.new," new"]}),r.jsxs("span",{className:"text-red-400",children:["-",s.organizations.churn," churn"]})]})]})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Support Satisfaction"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[s.tickets.satisfaction,"%"]})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/20",children:r.jsx(so,{className:"h-6 w-6 text-emerald-400"})})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(Ft,{className:"h-4 w-4"}),r.jsxs("span",{children:[s.tickets.avgResolutionTime,"h avg resolution"]})]})]})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Platform Usage"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[(s.usage.totalCalls/1e3).toFixed(1),"k"]})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-500/20",children:r.jsx(xs,{className:"h-6 w-6 text-orange-400"})})]}),r.jsx("div",{className:"text-sm text-gray-400",children:"Total calls this month"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center justify-between text-white",children:["Revenue & Growth Trend",r.jsxs(ke,{className:"border-green-500/30 bg-green-500/20 text-green-400",children:[r.jsx(ba,{className:"mr-1 h-3 w-3"}),"+21.4%"]})]})}),r.jsx(J,{children:r.jsx(qn,{width:"100%",height:300,children:r.jsxs(Cv,{data:a,children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"date",stroke:"#9CA3AF"}),r.jsx(wi,{stroke:"#9CA3AF"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),r.jsx(Pd,{type:"monotone",dataKey:"revenue",stroke:"#8B5CF6",fill:"url(#colorRevenue)",strokeWidth:2}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})})]})})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Organization Distribution by Plan"})}),r.jsx(J,{children:r.jsx(qn,{width:"100%",height:300,children:r.jsxs(L2,{children:[r.jsx(Nv,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:l=>`${l.name}: ${l.value}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((l,d)=>r.jsx(zd,{fill:l.color},`cell-${d}`))}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"}})]})})})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Support Department Performance"})}),r.jsx(J,{children:r.jsx(qn,{width:"100%",height:300,children:r.jsxs($2,{data:i,children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"category",stroke:"#9CA3AF"}),r.jsx(wi,{stroke:"#9CA3AF"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151"},labelStyle:{color:"#F3F4F6"}}),r.jsx(Mf,{dataKey:"tickets",fill:"#8B5CF6"}),r.jsx(Mf,{dataKey:"avgTime",fill:"#3B82F6"})]})})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Top Organizations by Activity"})}),r.jsx(J,{children:r.jsx("div",{className:"space-y-4",children:o.map((l,d)=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-700/50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 to-blue-600",children:r.jsx("span",{className:"font-bold text-white",children:d+1})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:l.name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[l.calls.toLocaleString()," calls this month"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-white",children:["$",l.revenue,"/mo"]}),r.jsx(ke,{className:`text-xs ${l.status==="active"?"border-green-500/30 bg-green-500/20 text-green-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:l.status})]})]},d))})})]})]})})}var kv="Dialog",[y7,v7]=Bs(kv),[Zje,Ii]=y7(kv),b7=e=>{const{__scopeDialog:t,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),d=p.useRef(null),[u,h]=Ni({prop:a,defaultProp:n??!1,onChange:i,caller:kv});return r.jsx(Zje,{scope:t,triggerRef:l,contentRef:d,contentId:Qi(),titleId:Qi(),descriptionId:Qi(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:s})};b7.displayName=kv;var w7="DialogTrigger",j7=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=Ii(w7,s),i=ht(t,n.triggerRef);return r.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":U2(n.open),...a,ref:i,onClick:ze(e.onClick,n.onOpenToggle)})});j7.displayName=w7;var z2="DialogPortal",[Qje,N7]=y7(z2,{forceMount:void 0}),_7=e=>{const{__scopeDialog:t,forceMount:s,children:a,container:n}=e,i=Ii(z2,t);return r.jsx(Qje,{scope:t,forceMount:s,children:p.Children.map(a,o=>r.jsx(va,{present:s||i.open,children:r.jsx(Kf,{asChild:!0,container:n,children:o})}))})};_7.displayName=z2;var qx="DialogOverlay",S7=p.forwardRef((e,t)=>{const s=N7(qx,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Ii(qx,e.__scopeDialog);return i.modal?r.jsx(va,{present:a||i.open,children:r.jsx(tNe,{...n,ref:t})}):null});S7.displayName=qx;var eNe=hd("DialogOverlay.RemoveScroll"),tNe=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=Ii(qx,s);return r.jsx(Ny,{as:eNe,allowPinchZoom:!0,shards:[n.contentRef],children:r.jsx(qe.div,{"data-state":U2(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Ed="DialogContent",C7=p.forwardRef((e,t)=>{const s=N7(Ed,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=Ii(Ed,e.__scopeDialog);return r.jsx(va,{present:a||i.open,children:i.modal?r.jsx(rNe,{...n,ref:t}):r.jsx(sNe,{...n,ref:t})})});C7.displayName=Ed;var rNe=p.forwardRef((e,t)=>{const s=Ii(Ed,e.__scopeDialog),a=p.useRef(null),n=ht(t,s.contentRef,a);return p.useEffect(()=>{const i=a.current;if(i)return SS(i)},[]),r.jsx(k7,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault())})}),sNe=p.forwardRef((e,t)=>{const s=Ii(Ed,e.__scopeDialog),a=p.useRef(!1),n=p.useRef(!1);return r.jsx(k7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((u=s.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),k7=p.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Ii(Ed,s),d=p.useRef(null),u=ht(t,d);return hS(),r.jsxs(r.Fragment,{children:[r.jsx(xy,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:r.jsx(Hf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":U2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(nNe,{titleId:l.titleId}),r.jsx(oNe,{contentRef:d,descriptionId:l.descriptionId})]})]})}),F2="DialogTitle",A7=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=Ii(F2,s);return r.jsx(qe.h2,{id:n.titleId,...a,ref:t})});A7.displayName=F2;var P7="DialogDescription",E7=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=Ii(P7,s);return r.jsx(qe.p,{id:n.descriptionId,...a,ref:t})});E7.displayName=P7;var T7="DialogClose",O7=p.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=Ii(T7,s);return r.jsx(qe.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>n.onOpenChange(!1))})});O7.displayName=T7;function U2(e){return e?"open":"closed"}var R7="DialogTitleWarning",[aNe,M7]=ZK(R7,{contentName:Ed,titleName:F2,docsSlug:"dialog"}),nNe=({titleId:e})=>{const t=M7(R7),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},iNe="DialogDescriptionWarning",oNe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M7(iNe).contentName}}.`;return p.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},I7=b7,D7=j7,$7=_7,B2=S7,W2=C7,V2=A7,q2=E7,H2=O7;const sl=I7,lNe=D7,cNe=$7,L7=p.forwardRef(({className:e,...t},s)=>r.jsx(B2,{ref:s,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L7.displayName=B2.displayName;const co=p.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(cNe,{children:[r.jsx(L7,{}),r.jsxs(W2,{ref:a,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...s,children:[t,r.jsxs(H2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));co.displayName=W2.displayName;const uo=({className:e,...t})=>r.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uo.displayName="DialogHeader";const Fd=({className:e,...t})=>r.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fd.displayName="DialogFooter";const mo=p.forwardRef(({className:e,...t},s)=>r.jsx(V2,{ref:s,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));mo.displayName=V2.displayName;const al=p.forwardRef(({className:e,...t},s)=>r.jsx(q2,{ref:s,className:De("text-sm text-zinc-500 dark:text-zinc-400",e),...t}));al.displayName=q2.displayName;var dNe="Separator",OR="horizontal",uNe=["horizontal","vertical"],z7=p.forwardRef((e,t)=>{const{decorative:s,orientation:a=OR,...n}=e,i=mNe(a)?a:OR,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(qe.div,{"data-orientation":i,...l,...n,ref:t})});z7.displayName=dNe;function mNe(e){return uNe.includes(e)}var F7=z7;const ji=p.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},n)=>r.jsx(F7,{ref:n,decorative:s,orientation:t,className:De("shrink-0 bg-zinc-200 dark:bg-zinc-800",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));ji.displayName=F7.displayName;function hNe(){const e=br(),{getToken:t}=en(),{toast:s}=Ur(),[a,n]=p.useState(!0),[i,o]=p.useState([]),[l,d]=p.useState({}),[u,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(["read"]),[v,b]=p.useState("never"),[N,S]=p.useState(""),[_,k]=p.useState(!1);p.useEffect(()=>{T()},[]);const T=async()=>{try{const O=await t(),I=await fetch("/api/user/api-keys",{headers:{Authorization:`Bearer ${O}`}});if(I.ok){const F=await I.json();o(F)}}catch{s({title:"Error",description:"Failed to fetch API keys",variant:"destructive"})}finally{n(!1)}},A=async()=>{if(!f.trim()){s({title:"Error",description:"Please enter a name for the API key",variant:"destructive"});return}h(!0);try{const O=await t(),I=await fetch("/api/user/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify({name:f,permissions:y,expiry:v})});if(I.ok){const F=await I.json();S(F.key),k(!0),g(""),w(["read"]),b("never"),T(),s({title:"API Key Created",description:"Your new API key has been generated successfully."})}}catch{s({title:"Error",description:"Failed to create API key",variant:"destructive"})}finally{h(!1)}},E=async O=>{try{const I=await t();(await fetch(`/api/user/api-keys/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`}})).ok&&(T(),s({title:"API Key Revoked",description:"The API key has been revoked successfully."}))}catch{s({title:"Error",description:"Failed to revoke API key",variant:"destructive"})}},R=O=>{navigator.clipboard.writeText(O),s({title:"Copied",description:"API key copied to clipboard"})},z=O=>{switch(O){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"expired":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},B=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return r.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:r.jsxs("div",{className:"mx-auto max-w-6xl",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-400 hover:text-white",children:r.jsx(fd,{className:"h-5 w-5"})}),r.jsx("div",{children:r.jsx("p",{className:"text-gray-400",children:"Manage your API keys and access tokens"})})]}),r.jsxs(sl,{children:[r.jsx(lNe,{asChild:!0,children:r.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Create New Key"]})}),r.jsxs(co,{className:"border-gray-700 bg-gray-800",children:[r.jsxs(uo,{children:[r.jsx(mo,{className:"text-white",children:"Create New API Key"}),r.jsx(al,{children:"Generate a new API key for accessing the Apex AI platform"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"name",children:"Key Name"}),r.jsx(Ae,{id:"name",value:f,onChange:O=>g(O.target.value),placeholder:"e.g., Production App",className:"border-gray-600 bg-gray-700 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{children:"Permissions"}),r.jsx("div",{className:"space-y-2",children:["read","write","delete"].map(O=>r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:y.includes(O),onChange:I=>{I.target.checked?w([...y,O]):w(y.filter(F=>F!==O))},className:"rounded border-gray-600 bg-gray-700 text-emerald-600"}),r.jsx("span",{className:"capitalize text-white",children:O})]},O))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"expiry",children:"Expiration"}),r.jsxs(Qe,{value:v,onValueChange:b,children:[r.jsx(Je,{className:"border-gray-600 bg-gray-700",children:r.jsx(et,{})}),r.jsxs(Xe,{children:[r.jsx(ae,{value:"never",children:"Never"}),r.jsx(ae,{value:"30",children:"30 days"}),r.jsx(ae,{value:"60",children:"60 days"}),r.jsx(ae,{value:"90",children:"90 days"}),r.jsx(ae,{value:"365",children:"1 year"})]})]})]})]}),r.jsx(Fd,{children:r.jsx(K,{onClick:A,disabled:u,className:"bg-emerald-600 hover:bg-emerald-700",children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating..."]}):"Create API Key"})})]})]})]}),_&&r.jsxs(Wt,{className:"mb-6 border-emerald-700 bg-emerald-900/20",children:[r.jsx(Xl,{className:"h-4 w-4"}),r.jsx(Vt,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-semibold text-white",children:"Your new API key has been created!"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Make sure to copy it now. You won't be able to see it again."}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsx("code",{className:"flex-1 rounded bg-gray-800 p-2 font-mono text-sm text-white",children:N}),r.jsx(K,{size:"sm",variant:"outline",onClick:()=>R(N),className:"border-gray-600",children:r.jsx(Fn,{className:"h-4 w-4"})})]}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>k(!1),className:"mt-2",children:"Close"})]})})]}),r.jsxs(yo,{defaultValue:"active",className:"space-y-6",children:[r.jsxs(Oi,{className:"border-gray-700 bg-gray-800",children:[r.jsx(jt,{value:"active",children:"Active Keys"}),r.jsx(jt,{value:"all",children:"All Keys"}),r.jsx(jt,{value:"usage",children:"Usage Analytics"})]}),r.jsx(Nt,{value:"active",className:"space-y-4",children:a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.filter(O=>O.status==="active").map(O=>r.jsx(Y,{className:"border-gray-700 bg-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:O.name}),r.jsx(ke,{className:z(O.status),children:O.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(is,{className:"h-4 w-4"}),r.jsxs("span",{children:["Created ",B(O.createdAt)]})]}),O.lastUsed&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ft,{className:"h-4 w-4"}),r.jsxs("span",{children:["Last used ",B(O.lastUsed)]})]}),O.expiresAt&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-4 w-4"}),r.jsxs("span",{children:["Expires ",B(O.expiresAt)]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[O.prefix,"...",l[O.id]?O.key.slice(-8):""]}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>d({...l,[O.id]:!l[O.id]}),className:"text-gray-400 hover:text-white",children:l[O.id]?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>R(O.key),className:"text-gray-400 hover:text-white",children:r.jsx(Fn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Permissions:"}),O.permissions.map(I=>r.jsx(ke,{variant:"secondary",className:"bg-gray-700",children:I},I))]})]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:r.jsx(Xf,{className:"h-4 w-4"})})}),r.jsxs(Jn,{className:"border-gray-700 bg-gray-800",children:[r.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[r.jsx(pY,{className:"mr-2 h-4 w-4"}),"Edit Permissions"]}),r.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[r.jsx(ea,{className:"mr-2 h-4 w-4"}),"Regenerate Key"]}),r.jsxs(Yt,{className:"text-red-400 hover:text-red-300",onClick:()=>E(O.id),children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Revoke Key"]})]})]})]})})},O.id))}),r.jsx(Nt,{value:"all",className:"space-y-4",children:a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"})}):i.map(O=>r.jsx(Y,{className:"border-gray-700 bg-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:O.name}),r.jsx(ke,{className:z(O.status),children:O.status})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(is,{className:"h-4 w-4"}),r.jsxs("span",{children:["Created ",B(O.createdAt)]})]}),O.lastUsed&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ft,{className:"h-4 w-4"}),r.jsxs("span",{children:["Last used ",B(O.lastUsed)]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("code",{className:"rounded bg-gray-700 px-3 py-1 font-mono text-sm text-gray-300",children:[O.prefix,"..."]})})]}),O.status==="active"&&r.jsx(K,{variant:"outline",size:"sm",onClick:()=>E(O.id),className:"border-red-600 text-red-400 hover:bg-red-600/20",children:"Revoke"})]})})},O.id))}),r.jsx(Nt,{value:"usage",className:"space-y-6",children:r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"API Usage Overview"}),r.jsx(wt,{children:"Monitor your API key usage and performance"})]}),r.jsxs(J,{children:[r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:"24,567"}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Total API Calls"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:"98.5%"}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Success Rate"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:"145ms"}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Avg Response Time"})]})]}),r.jsx(ji,{className:"my-6 bg-gray-700"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-white",children:"Usage by Key"}),i.filter(O=>O.status==="active").map(O=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xl,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-white",children:O.name})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-sm text-gray-400",children:[O.usage.calls," calls"]}),r.jsx(xs,{className:"h-4 w-4 text-emerald-400"})]})]},O.id))]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsxs(K,{variant:"outline",className:"border-gray-600",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export Usage Report"]})})]})]})})]}),r.jsxs(Y,{className:"mt-6 border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(ya,{className:"h-5 w-5 text-emerald-400"}),"API Key Best Practices"]})}),r.jsx(J,{children:r.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),r.jsx("span",{children:"Never share your API keys publicly or commit them to version control"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),r.jsx("span",{children:"Use environment variables to store API keys in your applications"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),r.jsx("span",{children:"Rotate your API keys regularly and revoke unused keys"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),r.jsx("span",{children:"Use different keys for different environments (development, staging, production)"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(yt,{className:"mt-0.5 h-4 w-4 text-emerald-400"}),r.jsx("span",{children:"Monitor API key usage and set up alerts for unusual activity"})]})]})})]})]})})}const ha=p.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:De("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 md:text-sm",e),ref:s,...t}));ha.displayName="Textarea";const fNe=({leadId:e,contactId:t,showAll:s=!0})=>{const[a,n]=p.useState([]),[i,o]=p.useState(!0),[l,d]=p.useState("upcoming"),[u,h]=p.useState(""),[f,g]=p.useState(!1),[y,w]=p.useState(null),v=mp(),{toast:b}=Ur(),[N,S]=p.useState({title:"",description:"",scheduled_at:Ki(N1(new Date,1),"yyyy-MM-dd'T'HH:mm"),duration_minutes:30,location:"Phone",lead_name:"",lead_email:"",lead_phone:"",lead_company:""});p.useEffect(()=>{_()},[e,t]);const _=async()=>{try{o(!0);let O="/appointments";const I=new URLSearchParams;e&&I.append("lead_id",e),t&&I.append("contact_id",t),s||I.append("limit","5");const F=await v.get(`${O}?${I}`),V=Array.isArray(F.data)?F.data:Array.isArray(F)?F:[];n(V)}catch(O){console.error("Error fetching appointments:",O),b({title:"Error",description:"Failed to load appointments",variant:"destructive"})}finally{o(!1)}},k=async()=>{try{const O=await v.post("/appointments",{...N,lead_id:e,contact_id:t,source:"manual"});b({title:"Success",description:"Appointment created successfully"}),g(!1),_(),S({title:"",description:"",scheduled_at:Ki(N1(new Date,1),"yyyy-MM-dd'T'HH:mm"),duration_minutes:30,location:"Phone",lead_name:"",lead_email:"",lead_phone:"",lead_company:""})}catch(O){console.error("Error creating appointment:",O),b({title:"Error",description:"Failed to create appointment",variant:"destructive"})}},T=async(O,I)=>{try{await v.patch(`/appointments/${O}`,{status:I}),b({title:"Success",description:`Appointment ${I}`}),_()}catch(F){console.error("Error updating appointment:",F),b({title:"Error",description:"Failed to update appointment",variant:"destructive"})}},A=O=>{switch(O){case"scheduled":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"confirmed":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"completed":return"bg-gray-500/10 text-gray-400 border-gray-500/20";case"cancelled":return"bg-red-500/10 text-red-400 border-red-500/20";case"no_show":return"bg-orange-500/10 text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},E=O=>{const I=new Date(O);return GP(I)?"Today":PQ(I)?"Tomorrow":Ki(I,"MMM d, yyyy")},z=(Array.isArray(a)?a:[]).filter(O=>{var V,W;const I=O.title.toLowerCase().includes(u.toLowerCase())||((V=O.lead_name)==null?void 0:V.toLowerCase().includes(u.toLowerCase()))||((W=O.lead_company)==null?void 0:W.toLowerCase().includes(u.toLowerCase())),F=new Date(O.scheduled_at);switch(l){case"today":return I&&GP(F);case"upcoming":return I&&!KP(F);case"past":return I&&KP(F);default:return I}}),B=z.reduce((O,I)=>{const F=E(I.scheduled_at);return O[F]||(O[F]=[]),O[F].push(I),O},{});return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-400",children:"Loading appointments..."})}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Appointments"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[z.length," appointment",z.length!==1?"s":""]})]}),r.jsxs(K,{size:"sm",onClick:()=>g(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(zr,{className:"w-4 h-4 mr-1"}),"New Appointment"]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(Ae,{placeholder:"Search appointments...",value:u,onChange:O=>h(O.target.value),className:"pl-10 bg-gray-900 border-gray-800"})]}),r.jsxs(Qe,{value:l,onValueChange:O=>d(O),children:[r.jsx(Je,{className:"w-40 bg-gray-900 border-gray-800",children:r.jsx(et,{})}),r.jsxs(Xe,{children:[r.jsx(ae,{value:"all",children:"All"}),r.jsx(ae,{value:"today",children:"Today"}),r.jsx(ae,{value:"upcoming",children:"Upcoming"}),r.jsx(ae,{value:"past",children:"Past"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[Object.entries(B).map(([O,I])=>r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:O}),r.jsx("div",{className:"space-y-3",children:I.map(F=>r.jsx(Y,{className:"bg-gray-900 border-gray-800 hover:border-gray-700 transition-colors cursor-pointer",onClick:()=>w(F),children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h5",{className:"font-medium text-white",children:F.title}),r.jsx(ke,{variant:"secondary",className:A(F.status),children:F.status}),F.source==="ai_call"&&r.jsx(ke,{variant:"secondary",className:"bg-purple-500/10 text-purple-400 border-purple-500/20",children:"AI Detected"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ft,{className:"w-3 h-3"}),Ki(new Date(F.scheduled_at),"h:mm a"),r.jsx("span",{className:"text-gray-600",children:""}),F.duration_minutes," min"]}),F.location&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jo,{className:"w-3 h-3"}),F.location]})]}),F.lead_name&&r.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[r.jsx(Xr,{className:"w-3 h-3"}),F.lead_name]}),F.lead_company&&r.jsx("span",{className:"text-gray-500",children:F.lead_company})]}),F.ai_meeting_purpose&&r.jsxs("p",{className:"mt-2 text-sm text-gray-500 italic",children:['"',F.ai_meeting_purpose,'"']})]}),r.jsx(ei,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]})})},F.id))})]},O)),z.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(is,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No appointments found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u?"Try adjusting your search":"Schedule your first appointment"})]})]}),r.jsx(sl,{open:f,onOpenChange:g,children:r.jsxs(co,{className:"sm:max-w-[500px]",children:[r.jsxs(uo,{children:[r.jsx(mo,{children:"Schedule Appointment"}),r.jsx(al,{children:"Create a new appointment manually"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"title",children:"Title"}),r.jsx(Ae,{id:"title",value:N.title,onChange:O=>S({...N,title:O.target.value}),placeholder:"e.g., Sales call with John"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"date",children:"Date & Time"}),r.jsx(Ae,{id:"date",type:"datetime-local",value:N.scheduled_at,onChange:O=>S({...N,scheduled_at:O.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"duration",children:"Duration"}),r.jsxs(Qe,{value:N.duration_minutes.toString(),onValueChange:O=>S({...N,duration_minutes:parseInt(O)}),children:[r.jsx(Je,{children:r.jsx(et,{})}),r.jsxs(Xe,{children:[r.jsx(ae,{value:"15",children:"15 minutes"}),r.jsx(ae,{value:"30",children:"30 minutes"}),r.jsx(ae,{value:"45",children:"45 minutes"}),r.jsx(ae,{value:"60",children:"1 hour"}),r.jsx(ae,{value:"90",children:"1.5 hours"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"location",children:"Location"}),r.jsx(Ae,{id:"location",value:N.location,onChange:O=>S({...N,location:O.target.value}),placeholder:"e.g., Phone, Zoom, Office"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"lead_name",children:"Lead Name"}),r.jsx(Ae,{id:"lead_name",value:N.lead_name,onChange:O=>S({...N,lead_name:O.target.value}),placeholder:"Contact name"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"lead_email",children:"Email"}),r.jsx(Ae,{id:"lead_email",type:"email",value:N.lead_email,onChange:O=>S({...N,lead_email:O.target.value}),placeholder:"email@example.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"lead_phone",children:"Phone"}),r.jsx(Ae,{id:"lead_phone",value:N.lead_phone,onChange:O=>S({...N,lead_phone:O.target.value}),placeholder:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"description",children:"Notes"}),r.jsx(ha,{id:"description",value:N.description,onChange:O=>S({...N,description:O.target.value}),placeholder:"Additional notes about the appointment...",rows:3})]})]}),r.jsxs(Fd,{children:[r.jsx(K,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),r.jsx(K,{onClick:k,disabled:!N.title||!N.scheduled_at,className:"bg-emerald-600 hover:bg-emerald-700",children:"Create Appointment"})]})]})}),r.jsx(sl,{open:!!y,onOpenChange:()=>w(null),children:r.jsxs(co,{className:"sm:max-w-[500px]",children:[r.jsxs(uo,{children:[r.jsx(mo,{children:y==null?void 0:y.title}),r.jsx(al,{children:"Appointment details and actions"})]}),y&&r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Status"}),r.jsx(ke,{variant:"secondary",className:A(y.status),children:y.status})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Date & Time"}),r.jsx("span",{className:"text-sm text-white",children:Ki(new Date(y.scheduled_at),"PPp")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Duration"}),r.jsxs("span",{className:"text-sm text-white",children:[y.duration_minutes," minutes"]})]}),y.location&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Location"}),r.jsx("span",{className:"text-sm text-white",children:y.location})]}),y.lead_name&&r.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Xr,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:y.lead_name})]}),y.lead_email&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(ta,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:y.lead_email})]}),y.lead_phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(dt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:y.lead_phone})]})]})]}),y.source==="ai_call"&&r.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"AI Detection"}),y.ai_confidence_score&&r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Confidence"}),r.jsxs("span",{className:"text-sm text-white",children:[(y.ai_confidence_score*100).toFixed(0),"%"]})]}),y.ai_extracted_datetime&&r.jsxs("div",{className:"text-sm text-gray-400 italic",children:['"They mentioned: ',y.ai_extracted_datetime,'"']})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-800",children:[y.status==="scheduled"&&r.jsxs(r.Fragment,{children:[r.jsxs(K,{size:"sm",onClick:()=>T(y.id,"confirmed"),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(yt,{className:"w-4 h-4 mr-1"}),"Confirm"]}),r.jsxs(K,{size:"sm",variant:"outline",onClick:()=>T(y.id,"cancelled"),className:"flex-1 border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:[r.jsx(_i,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),y.status==="confirmed"&&r.jsxs(r.Fragment,{children:[r.jsxs(K,{size:"sm",onClick:()=>T(y.id,"completed"),className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(yt,{className:"w-4 h-4 mr-1"}),"Mark Complete"]}),r.jsxs(K,{size:"sm",variant:"outline",onClick:()=>T(y.id,"no_show"),className:"flex-1 border-orange-600 text-orange-400 hover:bg-orange-600 hover:text-white",children:[r.jsx(Dt,{className:"w-4 h-4 mr-1"}),"No Show"]})]})]})]})]})})]})};function pNe(){const[e,t]=p.useState({today:0,thisWeek:0,completed:0,upcoming:0}),[s,a]=p.useState(!0),n=mp();Ur(),de.useEffect(()=>{i()},[]);const i=async()=>{try{const o=new Date;o.setHours(0,0,0,0);const l=new Date(o);l.setDate(l.getDate()+7);const d=await n.get("/appointments"),h=(Array.isArray(d.data)?d.data:Array.isArray(d)?d:[]).reduce((f,g)=>{const y=new Date(g.scheduled_at);return y.toDateString()===o.toDateString()&&f.today++,y>=o&&y<=l&&f.thisWeek++,g.status==="completed"?f.completed++:["scheduled","confirmed"].includes(g.status)&&y>=o&&f.upcoming++,f},{today:0,thisWeek:0,completed:0,upcoming:0});t(h)}catch(o){console.error("Error fetching appointment stats:",o)}finally{a(!1)}};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Appointments"}),r.jsx("p",{className:"text-gray-400",children:"Manage your scheduled appointments and meetings"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Y,{className:"bg-gray-900 border-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Today"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.today})]}),r.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:r.jsx(is,{className:"w-6 h-6 text-blue-400"})})]})})}),r.jsx(Y,{className:"bg-gray-900 border-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"This Week"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.thisWeek})]}),r.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:r.jsx(Ft,{className:"w-6 h-6 text-purple-400"})})]})})}),r.jsx(Y,{className:"bg-gray-900 border-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Upcoming"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.upcoming})]}),r.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-lg",children:r.jsx(Dt,{className:"w-6 h-6 text-emerald-400"})})]})})}),r.jsx(Y,{className:"bg-gray-900 border-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.completed})]}),r.jsx("div",{className:"p-3 bg-gray-500/10 rounded-lg",children:r.jsx(yt,{className:"w-6 h-6 text-gray-400"})})]})})})]}),r.jsx(Y,{className:"bg-gray-900 border-gray-800",children:r.jsx(J,{className:"p-6",children:r.jsx(fNe,{showAll:!0})})})]})}const K2=p.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:De("w-full caption-bottom text-sm",e),...t})}));K2.displayName="Table";const G2=p.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:De("[&_tr]:border-b",e),...t}));G2.displayName="TableHeader";const Y2=p.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:De("[&_tr:last-child]:border-0",e),...t}));Y2.displayName="TableBody";const gNe=p.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:De("border-t bg-zinc-100/50 font-medium dark:bg-zinc-800/50 [&>tr]:last:border-b-0",e),...t}));gNe.displayName="TableFooter";const If=p.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:De("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",e),...t}));If.displayName="TableRow";const ua=p.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:De("h-10 px-2 text-left align-middle font-medium text-zinc-500 dark:text-zinc-400 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ua.displayName="TableHead";const ma=p.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:De("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ma.displayName="TableCell";const xNe=p.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:De("mt-4 text-sm text-zinc-500 dark:text-zinc-400",e),...t}));xNe.displayName="TableCaption";const yNe=[{id:"1",timestamp:new Date().toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.login",resource:"Authentication",details:{method:"email",mfa:!0},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"auth"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"campaign.create",resource:"Campaign",resourceId:"camp123",details:{name:"Q4 Sales Outreach",leads:500},ipAddress:"192.168.1.2",userAgent:"Firefox/121.0",status:"success",category:"campaign"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),user:{id:"user1",name:"Sarah Johnson",email:"sarah@example.com",role:"admin"},action:"user.update_role",resource:"User",resourceId:"user3",details:{oldRole:"agent",newRole:"manager",targetUser:"John Smith"},ipAddress:"192.168.1.1",userAgent:"Chrome/120.0.0.0",status:"success",category:"user"},{id:"4",timestamp:new Date(Date.now()-108e5).toISOString(),user:{id:"user3",name:"John Smith",email:"john@example.com",role:"agent"},action:"api.key_create",resource:"API Key",details:{keyName:"Production API",permissions:["read","write"]},ipAddress:"192.168.1.3",userAgent:"Safari/17.0",status:"success",category:"api"},{id:"5",timestamp:new Date(Date.now()-144e5).toISOString(),user:{id:"user2",name:"Mike Davis",email:"mike@example.com",role:"manager"},action:"billing.payment_failed",resource:"Payment",details:{amount:599,reason:"Insufficient funds"},ipAddress:"192.168.1.2",userAgent:"Chrome/120.0.0.0",status:"failed",category:"billing"}],vNe={"user.login":M0,"user.logout":lY,"user.create":Qf,"user.delete":jY,"user.update":ec,"user.update_role":ya,"campaign.create":dt,"campaign.update":ec,"campaign.delete":Us,"campaign.launch":pd,"billing.payment":Yn,"billing.payment_failed":_i,"api.key_create":Xl,"api.key_delete":Us,"settings.update":ls};function bNe(){const[e,t]=p.useState(yNe),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,u]=p.useState("7days"),[h,f]=p.useState("all"),g=e.filter(N=>{const S=s===""||N.action.toLowerCase().includes(s.toLowerCase())||N.user.name.toLowerCase().includes(s.toLowerCase())||N.resource.toLowerCase().includes(s.toLowerCase())||JSON.stringify(N.details).toLowerCase().includes(s.toLowerCase()),_=n==="all"||N.category===n,k=o==="all"||N.status===o,T=h==="all"||N.user.id===h;return S&&_&&k&&T}),y=N=>{const S=vNe[N]||xs;return r.jsx(S,{className:"h-4 w-4"})},w=N=>{const S={success:"bg-green-900/20 text-green-400 border-green-800",failed:"bg-red-900/20 text-red-400 border-red-800",warning:"bg-yellow-900/20 text-yellow-400 border-yellow-800"},_={success:r.jsx(yt,{className:"h-3 w-3"}),failed:r.jsx(_i,{className:"h-3 w-3"}),warning:r.jsx(Dt,{className:"h-3 w-3"})};return r.jsx(ke,{className:S[N],children:r.jsxs("span",{className:"flex items-center gap-1",children:[_[N],N]})})},v=N=>N.split(".").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "),b=()=>{const N=[["Timestamp","User","Action","Resource","Status","IP Address","Details"].join(","),...g.map(T=>[T.timestamp,`${T.user.name} (${T.user.email})`,v(T.action),T.resource,T.status,T.ipAddress,JSON.stringify(T.details)].join(","))].join(`
`),S=new Blob([N],{type:"text/csv"}),_=window.URL.createObjectURL(S),k=document.createElement("a");k.href=_,k.download=`audit-logs-${Ki(new Date,"yyyy-MM-dd")}.csv`,k.click()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ya,{className:"h-8 w-8 text-emerald-500"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"Audit Logs"}),r.jsx("p",{className:"text-gray-400",children:"Track all actions and changes in your system"})]})]}),r.jsxs(K,{onClick:b,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export Logs"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Total Actions"}),r.jsx(xs,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"In selected period"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Active Users"}),r.jsx(Xr,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:new Set(e.map(N=>N.user.id)).size}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Unique users"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),r.jsx(yt,{className:"h-4 w-4 text-green-400"})]}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.filter(N=>N.status==="success").length/e.length*100),"%"]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful actions"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Failed Actions"}),r.jsx(_i,{className:"h-4 w-4 text-red-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(N=>N.status==="failed").length}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Require attention"})]})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Zf,{className:"h-5 w-5"}),"Filters"]})}),r.jsx(J,{children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Search"}),r.jsxs("div",{className:"relative mt-2",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{value:s,onChange:N=>a(N.target.value),placeholder:"Search logs...",className:"border-gray-700 bg-gray-900 pl-10 text-white"})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Category"}),r.jsxs(Qe,{value:n,onValueChange:i,children:[r.jsx(Je,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"all",children:"All Categories"}),r.jsx(ae,{value:"auth",children:"Authentication"}),r.jsx(ae,{value:"user",children:"User Management"}),r.jsx(ae,{value:"campaign",children:"Campaigns"}),r.jsx(ae,{value:"lead",children:"Leads"}),r.jsx(ae,{value:"billing",children:"Billing"}),r.jsx(ae,{value:"settings",children:"Settings"}),r.jsx(ae,{value:"api",children:"API"})]})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Status"}),r.jsxs(Qe,{value:o,onValueChange:l,children:[r.jsx(Je,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"success",children:"Success"}),r.jsx(ae,{value:"failed",children:"Failed"}),r.jsx(ae,{value:"warning",children:"Warning"})]})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"User"}),r.jsxs(Qe,{value:h,onValueChange:f,children:[r.jsx(Je,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"all",children:"All Users"}),Array.from(new Set(e.map(N=>N.user.id))).map(N=>{var _;const S=(_=e.find(k=>k.user.id===N))==null?void 0:_.user;return r.jsx(ae,{value:N,children:S==null?void 0:S.name},N)})]})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Date Range"}),r.jsxs(Qe,{value:d,onValueChange:u,children:[r.jsx(Je,{className:"mt-2 border-gray-700 bg-gray-900 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"today",children:"Today"}),r.jsx(ae,{value:"7days",children:"Last 7 Days"}),r.jsx(ae,{value:"30days",children:"Last 30 Days"}),r.jsx(ae,{value:"90days",children:"Last 90 Days"}),r.jsx(ae,{value:"all",children:"All Time"})]})]})]})]})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Audit Log Entries"}),r.jsxs(wt,{className:"text-gray-400",children:["Showing ",g.length," of ",e.length," total entries"]})]}),r.jsx(J,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(K2,{children:[r.jsx(G2,{children:r.jsxs(If,{className:"border-gray-700",children:[r.jsx(ua,{className:"text-gray-400",children:"Timestamp"}),r.jsx(ua,{className:"text-gray-400",children:"User"}),r.jsx(ua,{className:"text-gray-400",children:"Action"}),r.jsx(ua,{className:"text-gray-400",children:"Resource"}),r.jsx(ua,{className:"text-gray-400",children:"Details"}),r.jsx(ua,{className:"text-gray-400",children:"IP Address"}),r.jsx(ua,{className:"text-gray-400",children:"Status"})]})}),r.jsx(Y2,{children:g.map(N=>r.jsxs(If,{className:"border-gray-700 hover:bg-gray-900/50",children:[r.jsx(ma,{className:"text-gray-300",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ft,{className:"h-4 w-4 text-gray-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",children:Ki(new Date(N.timestamp),"MMM dd, yyyy")}),r.jsx("div",{className:"text-xs text-gray-500",children:Ki(new Date(N.timestamp),"HH:mm:ss")})]})]})}),r.jsx(ma,{children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-300",children:N.user.name}),r.jsx("div",{className:"text-xs text-gray-500",children:N.user.role})]})}),r.jsx(ma,{children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[y(N.action),r.jsx("span",{className:"text-sm",children:v(N.action)})]})}),r.jsx(ma,{children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-300",children:N.resource}),N.resourceId&&r.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",N.resourceId]})]})}),r.jsx(ma,{children:r.jsx("div",{className:"max-w-xs truncate text-xs text-gray-400",children:Object.entries(N.details).map(([S,_])=>r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[S,":"]})," ",String(_)]},S))})}),r.jsx(ma,{className:"text-sm text-gray-400",children:N.ipAddress}),r.jsx(ma,{children:w(N.status)})]},N.id))})]})})})]})]})})}function wNe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Array(12).fill(0);let M_=1;class jNe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:a,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:M_++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:a}),{...d,...t,id:i,dismissible:l,title:a}):d):this.addToast({title:a,...n,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const n=Promise.resolve(t instanceof Function?t():t);let i=a!==void 0,o;const l=n.then(async u=>{if(o=["resolve",u],de.isValidElement(u))i=!1,this.create({id:a,type:"default",message:u});else if(_Ne(u)&&!u.ok){i=!1;const f=typeof s.error=="function"?await s.error(`HTTP error! status: ${u.status}`):s.error,g=typeof s.description=="function"?await s.description(`HTTP error! status: ${u.status}`):s.description,w=typeof f=="object"&&!de.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(u instanceof Error){i=!1;const f=typeof s.error=="function"?await s.error(u):s.error,g=typeof s.description=="function"?await s.description(u):s.description,w=typeof f=="object"&&!de.isValidElement(f)?f:{message:f};this.create({id:a,type:"error",description:g,...w})}else if(s.success!==void 0){i=!1;const f=typeof s.success=="function"?await s.success(u):s.success,g=typeof s.description=="function"?await s.description(u):s.description,w=typeof f=="object"&&!de.isValidElement(f)?f:{message:f};this.create({id:a,type:"success",description:g,...w})}}).catch(async u=>{if(o=["reject",u],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(u):s.error,f=typeof s.description=="function"?await s.description(u):s.description,y=typeof h=="object"&&!de.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),s.finally==null||s.finally.call(s)}),d=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(t,s)=>{const a=(s==null?void 0:s.id)||M_++;return this.create({jsx:t(a),id:a,...s}),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $n=new jNe,NNe=(e,t)=>{const s=(t==null?void 0:t.id)||M_++;return $n.addToast({title:e,...t,id:s}),s},_Ne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",SNe=NNe,CNe=()=>$n.toasts,kNe=()=>$n.getActiveToasts(),qi=Object.assign(SNe,{success:$n.success,info:$n.info,warning:$n.warning,error:$n.error,custom:$n.custom,message:$n.message,promise:$n.promise,dismiss:$n.dismiss,loading:$n.loading},{getHistory:CNe,getToasts:kNe});wNe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const TN=(e,t)=>{switch(e){case"starter":return["1,000 monthly calls","3 team members","2 AI assistants","1 phone number","Basic analytics","Email support"];case"growth":return["10,000 monthly calls","10 team members","10 AI assistants","5 phone numbers","Advanced analytics","Priority support","Third-party integrations"];case"enterprise":return["Unlimited calls","Unlimited team members","Unlimited AI assistants","Unlimited phone numbers","Enterprise analytics","24/7 premium support","Custom SLA","Custom features"];default:return[]}},ANe=()=>[{id:"starter",name:"Starter",description:"Perfect for small teams getting started",price:99,interval:"month",features:TN("starter"),limits:{monthly_calls:1e3,team_members:3,ai_assistants:2,phone_numbers:1,api_calls:1e4}},{id:"growth",name:"Growth",description:"Scale your business with advanced features",price:299,interval:"month",recommended:!0,features:TN("growth"),limits:{monthly_calls:1e4,team_members:10,ai_assistants:10,phone_numbers:5,api_calls:1e5}},{id:"enterprise",name:"Enterprise",description:"Custom solutions for large organizations",price:999,interval:"month",features:TN("enterprise"),limits:{monthly_calls:-1,team_members:-1,ai_assistants:-1,phone_numbers:-1,api_calls:-1}}],PNe=()=>{br();const[e,t]=p.useState(!0),[s,a]=p.useState(null),[n,i]=p.useState([]),[o,l]=p.useState([]),[d,u]=p.useState(null);p.useEffect(()=>{h()},[]);const h=async()=>{try{t(!0);const[_,k,T]=await Promise.all([_r.get("/api/billing/subscription"),_r.get("/api/billing/payment-methods"),_r.get("/api/billing/history")]);a(_.data),i(k.data),l(T.data)}catch(_){console.error("Error fetching billing data:",_),qi.error("Failed to load billing data. Please try again.")}finally{t(!1)}},f=async _=>{try{u(_);const k=await _r.post("/api/billing/upgrade",{plan_id:_});k.data.checkout_url?window.location.href=k.data.checkout_url:(await h(),qi.success("Subscription upgraded successfully!"))}catch(k){console.error("Error upgrading subscription:",k),qi.error("Failed to upgrade subscription. Please try again.")}finally{u(null)}},g=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{await _r.post("/api/billing/cancel"),await h(),qi.success("Subscription cancelled successfully.")}catch(_){console.error("Error cancelling subscription:",_),qi.error("Failed to cancel subscription. Please try again.")}},y=async()=>{try{const _=await _r.post("/api/billing/payment-method/setup");_.data.setup_url&&(window.location.href=_.data.setup_url)}catch(_){console.error("Error setting up payment method:",_),qi.error("Failed to add payment method. Please try again.")}},w=async _=>{if(confirm("Are you sure you want to remove this payment method?"))try{await _r.delete(`/api/billing/payment-method/${_}`),await h(),qi.success("Payment method removed successfully.")}catch(k){console.error("Error removing payment method:",k),qi.error("Failed to remove payment method. Please try again.")}},v=async _=>{try{await _r.post(`/api/billing/payment-method/${_}/default`),await h(),qi.success("Default payment method updated.")}catch(k){console.error("Error updating default payment method:",k),qi.error("Failed to update default payment method.")}},b=(_,k)=>k===-1?0:Math.min(_/k*100,100),N=_=>_===-1?"Unlimited":_.toLocaleString();if(e)return r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:r.jsx(Bn,{className:"h-8 w-8 animate-spin text-emerald-500"})});const S=ANe();return r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"mb-8",children:r.jsx("p",{className:"text-zinc-400",children:"Manage your subscription and billing settings"})}),r.jsxs(yo,{defaultValue:"subscription",className:"space-y-6",children:[r.jsxs(Oi,{className:"border-zinc-800 bg-zinc-900",children:[r.jsx(jt,{value:"subscription",children:"Subscription"}),r.jsx(jt,{value:"payment",children:"Payment Methods"}),r.jsx(jt,{value:"history",children:"Billing History"})]}),r.jsxs(Nt,{value:"subscription",className:"space-y-6",children:[s&&r.jsxs(Y,{className:"border-zinc-800 bg-zinc-900",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-white",children:"Current Subscription"}),r.jsx(wt,{className:"text-zinc-400",children:"Your current subscription details and usage"})]}),r.jsx(ke,{className:`${s.status==="active"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-red-500/30 bg-red-500/20 text-red-400"}`,children:s.status})]})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-white",children:[s.plan_name," Plan"]}),r.jsxs("p",{className:"text-zinc-400",children:["Renews on ",new Date(s.current_period_end).toLocaleDateString()]})]}),s.cancel_at_period_end&&r.jsxs(Wt,{className:"border-red-500/30 bg-red-500/10",children:[r.jsx(Dt,{className:"h-4 w-4 text-red-400"}),r.jsx(Vt,{className:"text-red-400",children:"Your subscription will cancel at the end of the current period"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white",children:"Usage This Period"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[r.jsx(dt,{className:"h-4 w-4"}),"AI Calls"]}),r.jsxs("span",{className:"text-white",children:[s.usage.calls.toLocaleString()," /"," ",N(s.limits.monthly_calls)]})]}),r.jsx(Gt,{value:b(s.usage.calls,s.limits.monthly_calls),className:"h-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[r.jsx(Ot,{className:"h-4 w-4"}),"Team Members"]}),r.jsxs("span",{className:"text-white",children:[s.usage.team_members," /"," ",N(s.limits.team_members)]})]}),r.jsx(Gt,{value:b(s.usage.team_members,s.limits.team_members),className:"h-2"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"flex items-center gap-2 text-zinc-400",children:[r.jsx(ks,{className:"h-4 w-4"}),"AI Assistants"]}),r.jsxs("span",{className:"text-white",children:[s.usage.ai_assistants," /"," ",N(s.limits.ai_assistants)]})]}),r.jsx(Gt,{value:b(s.usage.ai_assistants,s.limits.ai_assistants),className:"h-2"})]})]})]}),!s.cancel_at_period_end&&r.jsx(K,{variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:g,children:"Cancel Subscription"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Available Plans"}),r.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:S.map(_=>{const k=(s==null?void 0:s.plan_id)===_.id,T=s&&S.findIndex(A=>A.id===s.plan_id)<S.findIndex(A=>A.id===_.id);return r.jsxs(Y,{className:`relative border-zinc-800 bg-zinc-900 ${_.recommended?"ring-2 ring-emerald-500":""}`,children:[_.recommended&&r.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 transform",children:r.jsx(ke,{className:"bg-emerald-500 text-white",children:"Recommended"})}),r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[_.name,_.id==="enterprise"&&r.jsx(tr,{className:"h-5 w-5"}),_.id==="growth"&&r.jsx(Jf,{className:"h-5 w-5 text-emerald-400"})]}),r.jsx(wt,{className:"text-zinc-400",children:_.description}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",_.price]}),r.jsx("span",{className:"text-zinc-400",children:"/month"})]})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsx("ul",{className:"space-y-2",children:_.features.map((A,E)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[r.jsx(xm,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-emerald-400"}),r.jsx("span",{className:"text-zinc-300",children:A})]},E))}),k?r.jsx(K,{className:"w-full bg-zinc-800 text-zinc-400",disabled:!0,children:"Current Plan"}):r.jsx(K,{className:"w-full bg-emerald-600 text-white hover:bg-emerald-700",onClick:()=>f(_.id),disabled:d===_.id,children:d===_.id?r.jsx(Bn,{className:"h-4 w-4 animate-spin"}):r.jsxs(r.Fragment,{children:[T?`Upgrade to ${_.name}`:`Switch to ${_.name}`,r.jsx(ei,{className:"ml-1 h-4 w-4"})]})})]})]},_.id)})})]})]}),r.jsx(Nt,{value:"payment",className:"space-y-6",children:r.jsxs(Y,{className:"border-zinc-800 bg-zinc-900",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-white",children:"Payment Methods"}),r.jsx(wt,{className:"text-zinc-400",children:"Manage your payment methods and billing information"})]}),r.jsx(K,{onClick:y,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Add Payment Method"})]})}),r.jsx(J,{children:n.length===0?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(Yn,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),r.jsx("p",{className:"text-zinc-400",children:"No payment methods added yet"})]}):r.jsx("div",{className:"space-y-4",children:n.map(_=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Yn,{className:"h-8 w-8 text-zinc-400"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[_.brand,"  ",_.last4]}),r.jsxs("p",{className:"text-sm text-zinc-400",children:["Expires ",_.exp_month,"/",_.exp_year]})]}),_.is_default&&r.jsx(ke,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:"Default"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!_.is_default&&r.jsx(K,{variant:"outline",size:"sm",onClick:()=>v(_.id),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:"Set as Default"}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(_.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:"Remove"})]})]},_.id))})})]})}),r.jsx(Nt,{value:"history",className:"space-y-6",children:r.jsxs(Y,{className:"border-zinc-800 bg-zinc-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Billing History"}),r.jsx(wt,{className:"text-zinc-400",children:"View your past invoices and payment history"})]}),r.jsx(J,{children:o.length===0?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(Ft,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),r.jsx("p",{className:"text-zinc-400",children:"No billing history available"})]}):r.jsx("div",{className:"space-y-4",children:o.map(_=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-zinc-800 p-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`rounded-lg p-2 ${_.status==="paid"?"bg-emerald-500/20":"bg-yellow-500/20"}`,children:r.jsx(Ia,{className:`h-5 w-5 ${_.status==="paid"?"text-emerald-400":"text-yellow-400"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:_.description}),r.jsx("p",{className:"text-sm text-zinc-400",children:new Date(_.date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-white",children:["$",_.amount.toFixed(2)]}),r.jsx(ke,{className:`${_.status==="paid"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-yellow-500/30 bg-yellow-500/20 text-yellow-400"}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]}),_.invoice_url&&r.jsx(K,{variant:"outline",size:"sm",onClick:()=>window.open(_.invoice_url,"_blank"),className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:r.jsx(yn,{className:"h-4 w-4"})})]})]},_.id))})})]})})]})]})},E0=p.forwardRef(({checked:e,onCheckedChange:t,onClick:s},a)=>r.jsx("div",{ref:a,onClick:n=>{s==null||s(n),t==null||t(!e)},style:{width:"12px",height:"12px",border:"1px solid white",borderRadius:"0px",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:e&&r.jsx(xm,{style:{width:"8px",height:"8px",color:"black",strokeWidth:3}})}));E0.displayName="SmallCheckbox";const Uc=({trigger:e,title:t,sortKey:s,onSort:a,onUnsort:n,onPinToggle:i,sortHistory:o=[],isPinned:l=!1,options:d,onOptionSelect:u,onHideColumn:h})=>{const[f,g]=p.useState(!1),y=p.useRef(null);p.useEffect(()=>{const v=b=>{y.current&&!y.current.contains(b.target)&&g(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const w=[];return d?d.forEach(v=>{w.push({label:v,icon:r.jsx(ei,{className:"mr-2.5 h-3 w-3 opacity-50"}),onClick:()=>{u&&u(v),g(!1)}})}):(s&&a&&(w.push({label:"Sort ascending",icon:r.jsx(KG,{className:"mr-2.5 h-3 w-3"}),onClick:()=>{a(s,"asc"),g(!1)}},{label:"Sort descending",icon:r.jsx(qG,{className:"mr-2.5 h-3 w-3"}),onClick:()=>{a(s,"desc"),g(!1)}}),n&&w.push({label:"Unsort",icon:r.jsx(U3,{className:"mr-2.5 h-3 w-3"}),onClick:()=>{n(),g(!1)}})),i&&w.push({label:l?"Unpin column":"Pin column",icon:r.jsx(xY,{className:`mr-2.5 h-3 w-3 ${l?"fill-current":""}`}),onClick:()=>{i(),g(!1)}}),w.push({label:`Filter by ${t.toLowerCase()}`,icon:r.jsx(Zf,{className:"mr-2.5 h-3 w-3"}),onClick:()=>g(!1)},{label:"Hide column",icon:r.jsx(Xs,{className:"mr-2.5 h-3 w-3"}),onClick:()=>{h&&h(),g(!1)}})),r.jsxs("div",{className:"relative",ref:y,children:[r.jsx("div",{onClick:()=>g(!f),children:e}),f&&r.jsxs("div",{className:"absolute right-0 top-full z-[9999] mt-2 max-h-[300px] overflow-y-auto custom-scrollbar",style:{minWidth:"180px",background:"rgba(12, 12, 12, 0.88)",backdropFilter:"blur(40px) saturate(200%)",WebkitBackdropFilter:"blur(40px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.05)",padding:"4px"},children:[r.jsx("div",{className:"px-3 py-2 border-b border-white/5 mb-1",children:r.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-white/40",children:t})}),w.map((v,b)=>r.jsx(de.Fragment,{children:r.jsxs("div",{onClick:v.onClick,className:"group flex items-center px-3 py-2 cursor-pointer rounded-lg transition-all duration-300",style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"11px",fontWeight:"500",letterSpacing:"0.01em"},onMouseEnter:N=>{N.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.06)",N.currentTarget.style.color="#ffffff",N.currentTarget.style.transform="translateX(2px)"},onMouseLeave:N=>{N.currentTarget.style.backgroundColor="transparent",N.currentTarget.style.color="rgba(255, 255, 255, 0.8)",N.currentTarget.style.transform="translateX(0)"},children:[r.jsx("span",{className:"opacity-60 transition-opacity group-hover:opacity-100",children:v.icon}),v.label]})},b))]})]})},ENe=(e,t,s,a)=>{var i,o,l,d;const n=[s,{code:t,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);ud(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(d=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&d.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},RR={},I_=(e,t,s,a)=>{ud(s)&&RR[s]||(ud(s)&&(RR[s]=new Date),ENe(e,t,s,a))},U7=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},D_=(e,t,s)=>{e.loadNamespaces(t,U7(e,s))},MR=(e,t,s,a)=>{if(ud(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return D_(e,s,a);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,U7(e,a))},TNe=(e,t,s={})=>!t.languages||!t.languages.length?(I_(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),ud=e=>typeof e=="string",ONe=e=>typeof e=="object"&&e!==null,RNe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,MNe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},INe=e=>MNe[e],DNe=e=>e.replace(RNe,INe);let $_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:DNe};const $Ne=(e={})=>{$_={...$_,...e}},LNe=()=>$_;let B7;const zNe=e=>{B7=e},FNe=()=>B7,UNe={type:"3rdParty",init(e){$Ne(e.options.react),zNe(e)}},BNe=p.createContext();class WNe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const VNe=(e,t)=>{const s=p.useRef();return p.useEffect(()=>{s.current=e},[e,t]),s.current},W7=(e,t,s,a)=>e.getFixedT(t,s,a),qNe=(e,t,s,a)=>p.useCallback(W7(e,t,s,a),[e,t,s,a]),HNe=(e,t={})=>{var k,T,A,E;const{i18n:s}=t,{i18n:a,defaultNS:n}=p.useContext(BNe)||{},i=s||a||FNe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new WNe),!i){I_(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(B,O)=>ud(O)?O:ONe(O)&&ud(O.defaultValue)?O.defaultValue:Array.isArray(B)?B[B.length-1]:B,z=[R,{},!1];return z.t=R,z.i18n={},z.ready=!1,z}(k=i.options.react)!=null&&k.wait&&I_(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...LNe(),...i.options.react,...t},{useSuspense:l,keyPrefix:d}=o;let u=e||n||((T=i.options)==null?void 0:T.defaultNS);u=ud(u)?[u]:u||["translation"],(E=(A=i.reportNamespaces).addUsedNamespaces)==null||E.call(A,u);const h=(i.isInitialized||i.initializedStoreOnce)&&u.every(R=>TNe(R,i,o)),f=qNe(i,t.lng||null,o.nsMode==="fallback"?u:u[0],d),g=()=>f,y=()=>W7(i,t.lng||null,o.nsMode==="fallback"?u:u[0],d),[w,v]=p.useState(g);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const N=VNe(b),S=p.useRef(!0);p.useEffect(()=>{const{bindI18n:R,bindI18nStore:z}=o;S.current=!0,!h&&!l&&(t.lng?MR(i,t.lng,u,()=>{S.current&&v(y)}):D_(i,u,()=>{S.current&&v(y)})),h&&N&&N!==b&&S.current&&v(y);const B=()=>{S.current&&v(y)};return R&&(i==null||i.on(R,B)),z&&(i==null||i.store.on(z,B)),()=>{S.current=!1,i&&R&&(R==null||R.split(" ").forEach(O=>i.off(O,B))),z&&i&&z.split(" ").forEach(O=>i.store.off(O,B))}},[i,b]),p.useEffect(()=>{S.current&&h&&v(g)},[i,d,h]);const _=[w,i,h];if(_.t=w,_.i18n=i,_.ready=h,h||!h&&!l)return _;throw new Promise(R=>{t.lng?MR(i,t.lng,u,()=>R()):D_(i,u,()=>R())})},ON=[{key:"industry",title:"Industry",description:"Business sector classification",category:"Business Info",icon:cy,width:"140px"},{key:"companySize",title:"Company Size",description:"Number of employees",category:"Business Info",icon:Ot,width:"120px"},{key:"location",title:"Location",description:"Geographic location",category:"Business Info",icon:Jo,width:"140px"},{key:"website",title:"Website",description:"Company website",category:"Business Info",icon:Hn,width:"140px"},{key:"pipelineValue",title:"Pipeline Value",description:"Estimated deal value",category:"Sales Data",icon:Hr,width:"130px"},{key:"leadScore",title:"Lead Score",description:"Lead quality rating (1-10)",category:"Sales Data",icon:ba,width:"110px"},{key:"interestLevel",title:"Interest Level",description:"Interest rating (1-10)",category:"Sales Data",icon:Ia,width:"120px"},{key:"priority",title:"Priority",description:"Lead priority level",category:"Sales Data",icon:Sr,width:"100px"},{key:"source",title:"Lead Source",description:"How lead was acquired",category:"Contact Data",icon:H3,width:"130px"},{key:"nextFollowUp",title:"Next Follow-up",description:"Scheduled follow-up date",category:"Contact Data",icon:is,width:"140px"},{key:"lastCallOutcome",title:"Last Call Outcome",description:"Result of last call",category:"Contact Data",icon:dt,width:"150px"},{key:"callDuration",title:"Call Duration",description:"Average call length",category:"Contact Data",icon:Ft,width:"120px"},{key:"owner",title:"Lead Owner",description:"Assigned team member",category:"Assignment",icon:Gu,width:"130px"},{key:"title",title:"Job Title",description:"Contact job position",category:"Assignment",icon:GG,width:"130px"}];function KNe({isOpen:e,onClose:t,onSave:s,currentColumns:a}){const[n,i]=p.useState([]),[o,l]=p.useState({"Business Info":!0,"Sales Data":!0,"Contact Data":!0,Assignment:!0}),d=[...new Set(ON.map(w=>w.category))],u=ON.filter(w=>!a.includes(w.key)),h=w=>{i(v=>v.includes(w)?v.filter(b=>b!==w):[...v,w])},f=()=>{s(n),i([]),t()},g=()=>{i([]),t()},y=w=>{l(v=>({...v,[w]:!v[w]}))};return r.jsx(sl,{open:e,onOpenChange:t,children:r.jsxs(co,{className:"max-w-4xl max-h-[80vh] overflow-hidden bg-gray-900 border-gray-700",children:[r.jsxs(uo,{children:[r.jsx(mo,{className:"text-white",children:"Add Columns to CRM Table"}),r.jsx(al,{className:"text-gray-400",children:"Select additional fields to display in your CRM table. Choose from business information, sales data, and contact details."})]}),r.jsx("div",{className:"grid grid-cols-2 gap-6 overflow-y-auto max-h-[500px] py-4 pr-2",children:d.map(w=>{const v=u.filter(b=>b.category===w);return v.length===0?null:r.jsxs(Y,{className:"bg-gray-800/60 border-gray-600 hover:border-gray-500 transition-colors",children:[r.jsx(xe,{className:"pb-3 cursor-pointer hover:bg-gray-700/30 rounded-t-lg transition-colors",onClick:()=>y(w),children:r.jsxs(ye,{className:"text-sm text-white flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:w}),r.jsx(ke,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border border-blue-500/30",children:v.length})]})}),o[w]&&r.jsx(J,{className:"space-y-3",children:v.map(b=>{const N=b.icon,S=n.includes(b.key);return r.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border cursor-pointer transition-all ${S?"border-blue-500 bg-blue-500/15 shadow-sm":"border-gray-600 hover:border-gray-500 hover:bg-gray-700/30"}`,onClick:()=>h(b.key),children:[r.jsx("div",{className:"mt-0.5",children:r.jsx("input",{type:"checkbox",checked:S,onChange:()=>h(b.key),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),r.jsx(N,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-white mb-1",children:b.title}),r.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:b.description})]})]},b.key)})})]},w)})}),n.length>0&&r.jsxs("div",{className:"border-t border-gray-700 pt-4 bg-gray-800/30 -mx-6 px-6 rounded-b-lg",children:[r.jsxs("div",{className:"text-sm text-gray-300 mb-3 font-medium",children:["Selected fields (",n.length,"):"]}),r.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:n.map(w=>{const v=ON.find(b=>b.key===w);return v?r.jsx(ke,{variant:"secondary",className:"bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:v.title},w):null})})]}),r.jsxs(Fd,{className:"gap-3",children:[r.jsx(K,{variant:"outline",onClick:g,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:"Cancel"}),r.jsxs(K,{onClick:f,disabled:n.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",n.length," Column",n.length!==1?"s":""]})]})]})})}const Ys=(e,t="")=>e||t,GNe=[{id:"user-1",name:"Sarah Wilson",email:"s.wilson@company.com",role:"Sales Manager",isActive:!0},{id:"user-2",name:"Mark Johnson",email:"m.johnson@company.com",role:"Sales Rep",isActive:!0},{id:"user-3",name:"Emily Chen",email:"e.chen@company.com",role:"Sales Rep",isActive:!0},{id:"user-4",name:"David Rodriguez",email:"d.rodriguez@company.com",role:"Sales Rep",isActive:!0},{id:"user-5",name:"Lisa Park",email:"l.park@company.com",role:"SDR",isActive:!0}],Bc={new:{label:"New",color:"bg-white/20 border border-white/50 text-white",icon:Xr},contacted:{label:"Contacted",color:"bg-white/10 border border-white/20 text-white/90",icon:dt},interested:{label:"Interested",color:"bg-white/20 border border-white/30 text-white",icon:so},qualified:{label:"Qualified",color:"bg-white/10 border border-white/20 text-white",icon:yt},converted:{label:"Converted",color:"bg-white/20 border border-white/30 text-white font-medium",icon:Sr},unqualified:{label:"Unqualified",color:"bg-red-500/20 border border-red-500/50 text-red-400",icon:_i}};function YNe(){const e=br(),{t}=HNe(["crm","common"]),s=ie=>({id:`call_${ie.id}_001`,duration:Math.floor(Math.random()*300)+60,transcript:[{speaker:"ai",text:`Hello, is this ${Ys(ie.firstName,"there")}?`},{speaker:"user",text:"Yes, this is me."},{speaker:"ai",text:`Hi ${Ys(ie.firstName,"there")}, this is Sarah from Trinity Labs AI Solutions. I hope I'm not catching you at a bad time. I'm calling because we've developed an innovative AI calling solution that's been helping companies like ${Ys(ie.company,"yours")} increase their outreach efficiency. Would you be interested in learning more?`},{speaker:"user",text:ie.status==="interested"?"Yes, that sounds very interesting. Tell me more.":"I might be interested, but I'm quite busy right now."},{speaker:"ai",text:ie.status==="interested"?"Great! Our AI platform can handle hundreds of calls simultaneously and provides detailed analytics. Would you like to schedule a demo?":"I understand you're busy. Would it be better if I called back at a more convenient time?"}],recording:"/mock-audio.wav",analysis:{sentiment:ie.status==="interested"?.8:ie.status==="contacted"?.6:.4,keywords:["AI","solution",Ys(ie.company,""),"efficiency"].filter(je=>je),summary:`Call with ${Ys(ie.firstName)} ${Ys(ie.lastName)} from ${Ys(ie.company)}. ${ie.status==="interested"?"Expressed strong interest in AI solutions.":ie.status==="contacted"?"Showed moderate interest, needs follow-up.":"Limited interest shown."}`},cost:+(Math.random()*2+.25).toFixed(2)}),a=ie=>{le(ie),Ne(!0)},{contacts:n}=Ane(),i=r.jsx("style",{children:`
      /* 2026 Obsidian Theme */
      .glass-container {
        background: rgba(17, 17, 17, 0.4);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
      }
      
      .floating-bar {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      /* Modern Table Overhaul */
      table {
        border-collapse: separate;
        border-spacing: 0 8px;
        width: 100%;
      }
      
      thead th {
        color: rgba(255, 255, 255, 0.5) !important;
        font-weight: 500;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        padding: 12px 24px !important;
      }
      
      tbody tr {
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.03);
        transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        cursor: pointer;
      }
      
      tbody tr:hover {
        background: rgba(255, 255, 255, 0.05);
        transform: translateY(-2px) scale(1.002);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        border-color: rgba(255, 255, 255, 0.1);
      }

      tbody td {
        border-top: 1px solid rgba(255, 255, 255, 0.05) !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
        padding: 16px 24px !important;
      }

      tbody td:first-child {
        border-left: 1px solid rgba(255, 255, 255, 0.05) !important;
        border-top-left-radius: 12px;
        border-bottom-left-radius: 12px;
      }

      tbody td:last-child {
        border-right: 1px solid rgba(255, 255, 255, 0.05) !important;
        border-top-right-radius: 12px;
        border-bottom-right-radius: 12px;
      }
      
      /* Status Badge Refinement */
      .premium-badge {
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.02em;
        text-transform: uppercase;
        padding: 4px 10px;
        border-radius: 6px;
        transition: all 0.3s ease;
      }

      /* Custom Scrollbar */
      .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
        height: 4px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.2);
      }
    `}),[o,l]=p.useState([]),[d,u]=p.useState("table"),[h,f]=p.useState(""),[g,y]=p.useState("all"),[w,v]=p.useState("all"),[b,N]=p.useState("all"),[S,_]=p.useState("All leads"),[k,T]=p.useState("lastActivity"),[A,E]=p.useState("desc"),[R,z]=p.useState([]),[B,O]=p.useState({}),[I,F]=p.useState({}),[V,W]=p.useState(["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"]),[X,D]=p.useState(null),[U,H]=p.useState(null),[M,L]=p.useState(!1),[q,ue]=p.useState("contacts"),[G,ge]=p.useState(!1),[be,Ne]=p.useState(!1),[Fe,le]=p.useState(null),[Se,Pe]=p.useState(!1),[te,he]=p.useState([]),[_e,Te]=p.useState({status:!0,tags:!0,quickFilters:!0}),We=[...n.filter(ie=>{const je=h===""||ie.firstName&&ie.firstName.toLowerCase().includes(h.toLowerCase())||ie.lastName&&ie.lastName.toLowerCase().includes(h.toLowerCase())||ie.email&&ie.email.toLowerCase().includes(h.toLowerCase())||ie.company&&ie.company.toLowerCase().includes(h.toLowerCase())||ie.phone&&ie.phone.includes(h),Ue=g==="all"||ie.status===g,ot=w==="all"||ie.assignedToId===w,_t=b==="all"||ie.tags.includes(b),ir=(()=>{switch(S){case"All leads":return!0;case"My leads":return ie.assignedTo==="Sarah Johnson";case"Junk leads":return ie.status==="unqualified";case"Call backs":return ie.tags.includes("callback")||ie.status==="contacted";case"Today's leads":const Ct=new Date;return new Date(ie.dateAdded).toDateString()===Ct.toDateString();default:return!0}})();return je&&Ue&&ot&&_t&&ir})].sort((ie,je)=>{let Ue=ie[k],ot=je[k];return typeof Ue=="string"&&(Ue=Ue.toLowerCase()),typeof ot=="string"&&(ot=ot.toLowerCase()),A==="asc"?Ue<ot?-1:Ue>ot?1:0:Ue>ot?-1:Ue<ot?1:0});n.length,n.filter(ie=>ie.status==="new").length,n.filter(ie=>ie.status==="qualified").length,n.filter(ie=>ie.status==="converted").length,n.reduce((ie,je)=>ie+je.value,0),n.filter(ie=>new Date(ie.lastContactDate)>new Date("2025-01-01")).length;const pt=ie=>{l(je=>je.includes(ie)?je.filter(Ue=>Ue!==ie):[...je,ie])},ce=()=>{l(o.length===We.length?[]:We.map(ie=>ie.id))},Ie=ie=>{z(je=>[...je,ie]),W(je=>je.filter(Ue=>Ue!==ie))},tt=ie=>{z(ot=>ot.filter(_t=>_t!==ie));const Ue=["firstName","company","status","assignedTo","campaign","phone","cid","date","lastActivity"].indexOf(ie);W(ot=>{const _t=[...ot];return _t.splice(Ue,0,ie),_t})},vt=(ie,je)=>{const Ue=je||(k===ie?A==="asc"?"desc":"asc":"desc");O(ot=>{const _t=ot[ie]||[];return _t.includes(Ue)?ot:{...ot,[ie]:[..._t,Ue]}}),T(ie),E(Ue)},pr=ie=>{T("lastActivity"),E("desc"),O(je=>({...je,[ie]:[]}))},us=ie=>{F(je=>({...je,[ie]:!je[ie]}))},Qt=(ie,je)=>{D(je),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/html",je);const Ue=document.createElement("div");Ue.innerHTML=ms[je].title,Ue.style.cssText=`
      position: absolute;
      top: -1000px;
      background: rgba(16, 185, 129, 0.9);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    `,document.body.appendChild(Ue),ie.dataTransfer.setDragImage(Ue,0,0),setTimeout(()=>document.body.removeChild(Ue),0)},sr=ie=>{ie.preventDefault(),ie.dataTransfer.dropEffect="move"},es=(ie,je)=>{ie.preventDefault(),X&&X!==je&&H(je)},xr=ie=>{const je=ie.relatedTarget;ie.currentTarget.contains(je)||H(null)},Ge=(ie,je)=>{if(ie.preventDefault(),!X||X===je)return;const Ue=[...V],ot=Ue.indexOf(X),_t=Ue.indexOf(je);Ue.splice(ot,1),Ue.splice(_t,0,X),W(Ue),D(null),H(null)},yr=()=>{D(null),H(null)},kr=Array.from(new Set(n.flatMap(ie=>ie.tags))),_a={firstName:{title:"name",minWidth:"320px"},company:{title:"company",minWidth:"240px"},status:{title:"status",minWidth:"128px"},assignedTo:{title:"owner",minWidth:"192px"},campaign:{title:"campaign",minWidth:"160px"},phone:{title:"phone",minWidth:"140px"},cid:{title:"CID",minWidth:"120px"},date:{title:"Created Date",minWidth:"120px"},lastActivity:{title:"last activity",minWidth:"192px"}},ur={industry:{title:"industry",minWidth:"140px"},companySize:{title:"company size",minWidth:"120px"},location:{title:"location",minWidth:"140px"},website:{title:"website",minWidth:"140px"},pipelineValue:{title:"pipeline value",minWidth:"130px"},leadScore:{title:"lead score",minWidth:"110px"},interestLevel:{title:"interest level",minWidth:"120px"},priority:{title:"priority",minWidth:"100px"},source:{title:"lead source",minWidth:"130px"},nextFollowUp:{title:"next follow-up",minWidth:"140px"},lastCallOutcome:{title:"last call outcome",minWidth:"150px"},callDuration:{title:"call duration",minWidth:"120px"},owner:{title:"lead owner",minWidth:"130px"},title:{title:"job title",minWidth:"130px"}},ms={..._a,...Object.fromEntries(te.map(ie=>[ie,ur[ie]]))},Kt=(ie,je)=>{const Ue=Bc[je.status]||Bc.new,ot=Ue.icon;switch(ie){case"firstName":return r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center text-xs font-semibold text-white",children:[Ys(je.firstName)," ",Ys(je.lastName),je.isStarred&&r.jsx(nd,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),r.jsx("div",{className:"text-xs text-gray-400",children:Ys(je.email)})]})});case"company":return r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"text-xs font-medium text-white",children:Ys(je.company)})});case"status":return r.jsxs(ke,{className:`${Ue.color} px-2 py-1 text-xs font-medium`,children:[r.jsx(ot,{className:"mr-1 h-3 w-3"}),Ue.label]});case"assignedTo":return r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:je.assignedTo.split(" ").map(za=>za[0]).join("")}),r.jsx("span",{className:"text-xs text-white font-medium",children:je.assignedTo})]});case"campaign":return r.jsx("div",{className:"inline-flex items-center rounded-full bg-gray-500/20 px-2 py-1 text-xs font-medium text-gray-300 border border-gray-500/30",children:je.campaign});case"phone":return r.jsxs("div",{className:"flex items-center",children:[r.jsx(dt,{className:"mr-1 h-3 w-3 text-gray-400"}),r.jsx("span",{className:"text-xs text-white font-medium",children:Ys(je.phone)})]});case"cid":return r.jsx("span",{className:"font-mono text-xs text-white",children:je.cid||"N/A"});case"date":return r.jsx("span",{className:"text-xs text-white",children:Ow(je.date)});case"lastActivity":return r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-white font-medium",children:Ow(je.lastActivity)}),r.jsxs("div",{className:"flex items-center text-gray-400",style:{fontSize:"10px"},children:[r.jsx(xs,{className:"mr-1 h-2.5 w-2.5"}),je.activities," activities"]})]});case"industry":return r.jsx("span",{className:"text-xs text-white",children:je.industry||"N/A"});case"companySize":return r.jsx("span",{className:"text-xs text-white",children:je.companySize||"N/A"});case"location":return r.jsx("span",{className:"text-xs text-white",children:je.location||"N/A"});case"website":return r.jsx("span",{className:"text-xs text-gray-400 hover:text-gray-300",children:je.website||"N/A"});case"pipelineValue":return r.jsxs("span",{className:"text-xs text-white",children:["$",je.pipelineValue?Number(je.pipelineValue).toLocaleString():"0"]});case"leadScore":const _t=je.leadScore||0;return r.jsx("div",{className:"flex items-center",children:r.jsxs("span",{className:`text-xs font-medium ${_t>=8?"text-white":_t>=6?"text-white/60":"text-red-400"}`,children:[_t,"/10"]})});case"interestLevel":const ir=je.interestLevel||0;return r.jsx("div",{className:"flex items-center",children:r.jsxs("span",{className:`text-xs font-medium ${ir>=8?"text-white":ir>=6?"text-white/60":"text-red-400"}`,children:[ir,"/10"]})});case"priority":const Ct=je.priority||"medium",Sa={high:"text-red-400",medium:"text-white/60",low:"text-white/40"};return r.jsx("span",{className:`text-xs font-medium ${Sa[Ct]}`,children:Ct.charAt(0).toUpperCase()+Ct.slice(1)});case"source":return r.jsx("span",{className:"text-xs text-white",children:je.source||"N/A"});case"nextFollowUp":const bs=je.nextFollowUp;return r.jsx("span",{className:"text-xs text-white",children:bs?Ow(bs):"Not scheduled"});case"lastCallOutcome":const Ca=je.lastCallOutcome||"N/A",sa={interested:"text-white","not-interested":"text-red-400",callback:"text-white/60",voicemail:"text-gray-400","no-answer":"text-gray-400"};return r.jsx("span",{className:`text-xs ${sa[Ca]||"text-white"}`,children:Ca.replace("-"," ").replace(/\b\w/g,za=>za.toUpperCase())});case"callDuration":const ts=je.callDuration||0,hs=Math.floor(ts/60),Ts=ts%60;return r.jsx("span",{className:"text-xs text-white",children:ts>0?`${hs}:${Ts.toString().padStart(2,"0")}`:"N/A"});case"owner":return r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-xs font-medium text-white",children:(je.owner||"U").split(" ").map(za=>za[0]).join("")}),r.jsx("span",{className:"text-xs text-white",children:je.owner||"Unassigned"})]});case"title":return r.jsx("span",{className:"text-xs text-white",children:je.title||je.title||"N/A"});default:return r.jsx("span",{className:"text-xs text-white",children:"-"})}},tn=ie=>{he(je=>[...je,...ie]),W(je=>[...je,...ie])};de.useEffect(()=>{setTimeout(()=>{const Ue=Array.from(document.styleSheets).filter(_t=>{try{return _t.href&&(_t.href.includes("chrome-extension://")||_t.href.includes("moz-extension://")||_t.href.includes("extension"))}catch{return!1}});Ue.length>0&&(console.log(" Browser extensions detected affecting CSS:",Ue.length),console.log("Extensions:",Ue.map(_t=>_t.href)));const ot=document.createElement("style");ot.textContent=`
        table thead th {
          color: rgba(255, 255, 255, 0.6) !important;
          font-size: 10px !important;
          font-weight: 700 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.15em !important;
        }
      `,ot.setAttribute("data-force-override","true"),document.head.appendChild(ot)},100)},[]),de.useEffect(()=>{const ie=()=>{const Ue=document.querySelector(".table-scroll-container");Ue&&ge(Ue.scrollTop>300)},je=document.querySelector(".table-scroll-container");if(je)return je.addEventListener("scroll",ie),()=>je.removeEventListener("scroll",ie)},[]);const Rt=ie=>{Te(je=>({...je,[ie]:!je[ie]}))},Lt=({title:ie,sortKey:je,minWidth:Ue})=>{const ot=X===je,_t=U===je;return r.jsxs("th",{className:`relative whitespace-nowrap px-6 py-5 text-left transition-all duration-300 ease-out border-r border-b border-white/5 ${je?"cursor-move":""} ${ot?"scale-95 opacity-40":_t?"bg-white/10":"hover:bg-white/5"}`,style:{background:"transparent",minWidth:Ue,transform:_t?"scale(1.02)":"scale(1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"sticky",top:0,zIndex:45},draggable:!!je,onDragStart:je?ir=>Qt(ir,je):void 0,onDragOver:sr,onDragEnter:je?ir=>es(ir,je):void 0,onDragLeave:xr,onDrop:je?ir=>Ge(ir,je):void 0,onDragEnd:yr,children:[_t&&r.jsx("div",{className:"pointer-events-none absolute inset-0 animate-pulse bg-white/5"}),r.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[r.jsxs("div",{className:"group flex items-center",children:[je&&r.jsx("div",{className:`drag-handle mr-2.5 transition-all duration-300 ${ot?"rotate-45 scale-125 transform text-white":"text-white/20 group-hover:scale-110 group-hover:text-white/50"}`,title:"Drag to reorder column",children:r.jsx(sY,{className:"h-3.5 w-3.5"})}),r.jsx("span",{className:`text-[10px] font-bold uppercase tracking-[0.15em] transition-all duration-300 ${ot?"text-white/40":"text-white/60"}`,children:ie})]}),r.jsx(Uc,{trigger:r.jsx("div",{className:"cursor-pointer text-white/30 transition-all hover:scale-110 hover:text-white",children:r.jsx(Yr,{className:"h-3 w-3"})}),title:ie,sortKey:je,onSort:(ir,Ct)=>{vt(ir,Ct)},onUnsort:je?()=>pr(je):void 0,onPinToggle:je?()=>us(je):void 0,onHideColumn:je?()=>Ie(je):void 0,sortHistory:je?B[je]||[]:[],isPinned:je&&I[je]||!1})]})]})};return r.jsxs(de.Fragment,{children:[i,r.jsx("div",{className:"h-full w-full bg-[radial-gradient(circle_at_top,_#1a1a1a_0%,_#000_100%)] overflow-hidden flex flex-col",children:r.jsxs("div",{className:"flex-1 flex flex-col px-8 py-8 overflow-hidden",children:[r.jsx("div",{className:"pb-6 flex-shrink-0 relative z-50",children:r.jsx("div",{className:"mb-6 max-w-full",children:r.jsxs("div",{className:"floating-bar rounded-2xl p-4 flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx(K,{variant:"outline",size:"sm",onClick:()=>L(!M),className:"border-white/20 text-xs text-white transition-all hover:bg-white/10",children:r.jsx(wY,{className:"h-4 w-4"})}),r.jsx(Uc,{trigger:r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[S,r.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),title:"Lead Type",options:["All leads","My leads","Junk leads","Call backs","Today's leads"],onSelect:ie=>_(ie)})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Uc,{trigger:r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:["10 Records per page",r.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),title:"10 Records per page",options:["10 Records per page","20 Records per page","30 Records per page","40 Records per page","50 Records per page"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export"]}),r.jsx(Uc,{trigger:r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[d==="table"?r.jsx(oY,{className:"h-4 w-4"}):r.jsx(iY,{className:"h-4 w-4"}),r.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),title:"View Mode",options:["Table View","Tile View"],onOptionSelect:ie=>{ie==="Table View"&&u("table"),ie==="Tile View"&&u("tile")}}),r.jsx(Uc,{trigger:r.jsxs(K,{variant:"outline",size:"sm",className:"border-primary/50 text-xs text-primary bg-primary/10 transition-all hover:bg-primary/20 hover:text-primary hover:border-primary shadow-[0_0_15px_rgba(34,197,94,0.15)] hover:shadow-[0_0_20px_rgba(34,197,94,0.3)]",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"New Lead",r.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),title:"Add Lead",options:["Import Leads","New Lead"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",onClick:()=>Pe(!0),children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add Columns"]}),R.length>0&&r.jsx(Uc,{trigger:r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 text-xs text-gray-300 transition-all hover:bg-gray-800",children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),t("common:actions.view_details")," ",t("common:table.columns")," (",R.length,")",r.jsx(Yr,{className:"ml-2 h-4 w-4"})]}),title:`${t("common:actions.view_details")} ${t("common:table.columns")}`,options:R.map(ie=>{var je;return`${t("common:actions.view_details")} ${((je=ms[ie])==null?void 0:je.title)||ie}`}),onOptionSelect:ie=>{const je=R.find(Ue=>{var ot;return ie.includes(((ot=ms[Ue])==null?void 0:ot.title)||Ue)});je&&tt(je)}})]})]})})}),r.jsxs("div",{className:"mb-4 flex items-center justify-between flex-shrink-0 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-white opacity-50 animate-pulse"}),r.jsx("div",{className:"text-[11px] uppercase tracking-widest text-white/70 font-bold",children:t("common:data_states.showing_total",{total:n.length})})]}),r.jsxs("div",{className:"flex items-center gap-1 glass-container rounded-full px-2 py-1",children:[r.jsx("button",{className:"p-1 px-2 text-white/60 transition-all hover:text-white",children:r.jsx(cc,{className:"h-4 w-4"})}),r.jsx("div",{className:"h-4 w-[1px] bg-white/10 mx-1"}),r.jsx("span",{className:"text-[10px] font-bold text-white/50 px-2 tracking-tighter",children:"1 / 50"}),r.jsx("div",{className:"h-4 w-[1px] bg-white/10 mx-1"}),r.jsx("button",{className:"p-1 px-2 text-white/60 transition-all hover:text-white",children:r.jsx(ei,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[o.length>0&&r.jsx("div",{className:"sticky top-0 z-20 flex-shrink-0 border-b border-gray-700 bg-gray-900 px-6 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm font-medium text-white",children:[o.length," contact",o.length!==1?"s":""," selected"]}),r.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[r.jsx(ta,{className:"mr-2 h-3.5 w-3.5"}),"Mail"]}),r.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:[r.jsx(is,{className:"mr-2 h-3.5 w-3.5"}),"Create Task"]}),r.jsx(Uc,{trigger:r.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 bg-gray-700 text-xs text-white transition-all hover:bg-gray-800",children:["Actions",r.jsx(Yr,{className:"ml-2 h-3.5 w-3.5"})]}),title:"Actions",options:["Mass Update","Change Owner","Delete"]})]}),r.jsx("button",{className:"p-1 text-gray-400 transition-all hover:text-gray-300",onClick:()=>l([]),children:r.jsx(_i,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"main-content-scroll flex flex-1 overflow-hidden pl-6",style:{gap:M?"24px":"0px"},children:[r.jsx("div",{className:`mt-6 h-[calc(100vh-140px)] rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl transition-all duration-300 ease-in-out ${M?"w-64 translate-x-0 overflow-y-auto p-5 opacity-100":"w-0 -translate-x-full overflow-hidden border-0 p-0 opacity-0"}`,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between border-b border-white/5 pb-4",children:[r.jsxs("h3",{className:"flex items-center text-[10px] font-bold uppercase tracking-[0.2em] text-white/80",children:[r.jsx(Zf,{className:"mr-2 h-3.5 w-3.5 opacity-80"}),"Filters"]}),r.jsx("button",{className:"text-[10px] uppercase font-bold tracking-wider text-white/50 hover:text-white transition-colors",onClick:()=>{f(""),y("all"),v("all"),N("all"),_("All leads")},children:"Clear all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-3 block text-[10px] font-bold uppercase tracking-wider text-white/60",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 transform text-white/50"}),r.jsx("input",{type:"text",placeholder:"Name, email, company...",value:h,onChange:ie=>f(ie.target.value),style:{fontSize:"11px",color:"#ffffff",backgroundColor:"rgba(255, 255, 255, 0.03)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"10px",paddingLeft:"36px",paddingRight:"12px",paddingTop:"10px",paddingBottom:"10px",height:"38px",width:"100%",outline:"none",boxShadow:"inset 0 1px 1px rgba(255,255,255,0.02)"},className:"search-input-modern placeholder:text-white/40"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-3 flex cursor-pointer items-center justify-between group",onClick:()=>Rt("status"),children:[r.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/60 group-hover:text-white/90 transition-colors",children:"Status"}),r.jsx(Yr,{className:`h-3 w-3 text-white/50 transition-transform duration-200 ${_e.status?"rotate-180 transform":""}`})]}),_e.status&&r.jsx("div",{className:"space-y-1 ml-1",children:Object.entries(Bc).map(([ie,je])=>{const Ue=je.icon,ot=g===ie;return r.jsxs("button",{onClick:()=>y(ot?"all":ie),className:`flex w-full items-center justify-between rounded-lg px-2.5 py-2 text-[11px] font-medium transition-all ${ot?"bg-transparent text-white":"text-white/80 hover:bg-white/5 hover:text-white"}`,children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Ue,{className:`mr-2.5 h-3.5 w-3.5 ${ot?"text-primary drop-shadow-[0_0_5px_rgba(34,197,94,0.8)] opacity-100":"opacity-60"}`}),je.label]}),r.jsx("span",{className:"text-[10px] font-bold opacity-50",children:n.filter(_t=>_t.status===ie).length})]},ie)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-3 block text-[10px] font-bold uppercase tracking-wider text-white/60",children:"Owner"}),r.jsxs(Qe,{value:w,onValueChange:v,children:[r.jsx(Je,{className:"h-10 border-white/10 bg-white/5 text-[11px] font-medium rounded-xl backdrop-blur-md text-white/80 transition-colors hover:text-white",children:r.jsx(et,{placeholder:"All owners"})}),r.jsxs(Xe,{className:"border-white/10 bg-black/80 backdrop-blur-2xl",children:[r.jsx(ae,{value:"all",className:"text-[11px]",children:"All owners"}),GNe.map(ie=>r.jsx(ae,{value:ie.id,className:"text-[11px]",children:ie.name},ie.id))]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-3 flex cursor-pointer items-center justify-between group",onClick:()=>Rt("tags"),children:[r.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/60 group-hover:text-white/90 transition-colors",children:"Tags"}),r.jsx(Yr,{className:`h-3 w-3 text-white/50 transition-transform duration-200 ${_e.tags?"rotate-180 transform":""}`})]}),_e.tags&&r.jsxs("div",{className:"space-y-1 ml-1",children:[kr.slice(0,5).map(ie=>{const je=b===ie;return r.jsxs("button",{onClick:()=>N(je?"all":ie),className:`flex w-full items-center justify-between rounded-lg px-2.5 py-2 text-[11px] font-medium transition-all ${je?"bg-white/10 text-white shadow-lg border border-white/10":"text-white/80 hover:bg-white/5 hover:text-white"}`,children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(H3,{className:`mr-2.5 h-3.5 w-3.5 ${je?"opacity-100":"opacity-60"}`}),ie]}),r.jsx("span",{className:"text-[10px] font-bold opacity-50",children:n.filter(Ue=>Ue.tags.includes(ie)).length})]},ie)}),kr.length>5&&r.jsxs("button",{className:"text-[10px] font-bold text-white/60 hover:text-white transition-colors px-2 py-1",children:["+",kr.length-5," MORE"]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-3 flex cursor-pointer items-center justify-between group",onClick:()=>Rt("quickFilters"),children:[r.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/60 group-hover:text-white/90 transition-colors",children:"Quick filters"}),r.jsx(Yr,{className:`h-3 w-3 text-white/50 transition-transform duration-200 ${_e.quickFilters?"rotate-180 transform":""}`})]}),_e.quickFilters&&r.jsxs("div",{className:"space-y-1 ml-1",children:[r.jsxs("button",{className:"flex w-full items-center rounded-lg px-2.5 py-2 text-[11px] font-medium text-white/80 hover:bg-white/5 hover:text-white transition-all",children:[r.jsx(nd,{className:"mr-2.5 h-3.5 w-3.5 text-white/60"}),"Starred only"]}),r.jsxs("button",{className:"flex w-full items-center rounded-lg px-2.5 py-2 text-[11px] font-medium text-white/80 hover:bg-white/5 hover:text-white transition-all",children:[r.jsx(Ft,{className:"mr-2.5 h-3.5 w-3.5 text-white/60"}),"Recently active"]}),r.jsxs("button",{className:"flex w-full items-center rounded-lg px-2.5 py-2 text-[11px] font-medium text-white/80 hover:bg-white/5 hover:text-white transition-all",children:[r.jsx(ba,{className:"mr-2.5 h-3.5 w-3.5 text-white/60"}),"High value"]})]})]})]})}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out min-h-0",children:d==="table"?r.jsx("div",{className:"flex flex-1 flex-col overflow-hidden min-h-0",children:r.jsx("div",{className:"table-scroll-container flex-1 overflow-x-auto overflow-y-auto bg-gradient-to-b from-black to-gray-950",style:{maxWidth:"calc(100vw - 140px)"},children:r.jsxs("table",{className:"w-full min-w-max border-separate border-spacing-0",children:[r.jsx("thead",{className:"sticky top-0 z-40",children:r.jsxs("tr",{className:"bg-white/[0.04] backdrop-blur-3xl",children:[r.jsx("th",{className:"sticky left-0 z-50 px-6 py-5 text-center border-r border-b border-white/5",style:{background:"rgba(10, 10, 10, 0.85)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"},children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(E0,{checked:o.length===We.length,onCheckedChange:ce})})}),V.map(ie=>{const je=ms[ie];return r.jsx(Lt,{title:je.title,sortKey:ie,minWidth:je.minWidth},ie)})]})}),r.jsx("tbody",{className:"",children:We.map(ie=>((Bc[ie.status]||Bc.new).icon,r.jsxs("tr",{className:"cursor-pointer text-xs transition-all duration-200 hover:bg-gray-900/30 group",onClick:()=>e(`/leads/${ie.id}`),children:[r.jsx("td",{className:"z-5 sticky left-0 px-6 py-4 bg-black group-hover:bg-gray-900/50",onClick:Ue=>Ue.stopPropagation(),children:r.jsx(E0,{checked:o.includes(ie.id),onCheckedChange:()=>pt(ie.id)})}),V.map(Ue=>{const ot=ms[Ue];return r.jsx("td",{className:"whitespace-nowrap px-6 py-4",style:{minWidth:ot.minWidth},children:Kt(Ue,ie)},Ue)})]},ie.id)))})]})})}):r.jsx("div",{className:"overflow-y-auto p-6",children:r.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:We.map(ie=>{const je=Bc[ie.status]||Bc.new,Ue=je.icon;return r.jsx(Y,{className:"cursor-pointer border-gray-800 bg-gray-900 transition-all hover:border-gray-600 hover:bg-gray-800/50",onClick:()=>e(`/leads/${ie.id}`),children:r.jsxs(J,{className:"p-4",children:[r.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center text-sm font-medium text-white",children:[Ys(ie.firstName)," ",Ys(ie.lastName),ie.isStarred&&r.jsx(nd,{className:"ml-1 h-3 w-3 fill-current text-yellow-400"})]}),r.jsx("div",{className:"mt-1 text-xs text-gray-400",children:Ys(ie.email)})]}),r.jsx("div",{onClick:ot=>ot.stopPropagation(),className:"-m-2 p-2",children:r.jsx(E0,{checked:o.includes(ie.id),onCheckedChange:()=>pt(ie.id)})})]}),r.jsxs("div",{className:"mb-3 space-y-2",children:[r.jsx("div",{className:"text-sm text-white",children:Ys(ie.company)}),r.jsx("div",{className:"text-xs text-gray-400",children:ie.title})]}),r.jsx("div",{className:"mb-3 flex items-center justify-between",children:r.jsxs(ke,{className:`${je.color} premium-badge`,children:[r.jsx(Ue,{className:"mr-1 h-3 w-3"}),je.label]})}),r.jsxs("div",{className:"mb-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center text-xs",children:[r.jsx("div",{className:"mr-2 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-gray-500 to-gray-600 text-xs font-medium text-white",children:ie.assignedTo.split(" ").map(ot=>ot[0]).join("")}),r.jsx("span",{className:"text-gray-300",children:ie.assignedTo})]}),r.jsxs("div",{className:"text-xs text-gray-400",children:["Campaign: ",ie.campaign||"Q4 Growth"]}),r.jsx("div",{className:"text-xs text-gray-400",children:Ys(ie.phone)})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[r.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-white text-black hover:bg-gray-200 border-white",onClick:ot=>{ot.stopPropagation(),a(ie)},children:[r.jsx(dt,{className:"mr-1 h-3 w-3"}),"Call"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-emerald-600 hover:bg-emerald-700 text-white border-emerald-600 hover:border-emerald-700",children:[r.jsx(ta,{className:"mr-1 h-3 w-3"}),"Email"]})]})]})},ie.id)})})})}),r.jsx(zy,{isOpen:be,onClose:()=>Ne(!1),callData:Fe?s(Fe):void 0}),r.jsx(KNe,{isOpen:Se,onClose:()=>Pe(!1),onSave:tn,availableColumns:[],currentColumns:[...Object.keys(_a),...te]})]})]})]})})]})}const JNe={error:(e,t)=>{},warn:(e,t)=>{},info:(e,t)=>{}},XNe=e=>{if(!e.response)return!0;const t=e.response.status;return t>=500||t===429},ZNe=e=>new Promise(t=>setTimeout(t,e));async function IR(e,t){var o,l,d,u,h,f,g;const{maxRetries:s=3,showErrorToast:a=!0,retryDelay:n=1e3}={};let i=null;for(let y=0;y<=s;y++)try{return{ok:!0,data:(await Zr(e)).data}}catch(w){const v=w;if(i=v,JNe.error(`API request failed (attempt ${y+1}/${s+1})`,{url:e.url,method:e.method,status:(o=v.response)==null?void 0:o.status,error:v.message}),y<s&&XNe(v)){const N=n*Math.pow(2,y);await ZNe(N);continue}const b={message:((d=(l=v.response)==null?void 0:l.data)==null?void 0:d.message)||v.message||"An unexpected error occurred",status:(u=v.response)==null?void 0:u.status,code:v.code,details:(h=v.response)==null?void 0:h.data};return a&&f3({title:"Error",description:b.message,variant:"destructive"}),{ok:!1,error:b}}return{ok:!1,error:{message:(i==null?void 0:i.message)||"Maximum retries exceeded",status:(f=i==null?void 0:i.response)==null?void 0:f.status,code:i==null?void 0:i.code,details:(g=i==null?void 0:i.response)==null?void 0:g.data}}}class QNe{constructor(){Ns(this,"baseUrl","/api/leads")}async getLeads(t,s={},a=1,n=50){var i;try{const o=new URLSearchParams({page:a.toString(),limit:n.toString()});t&&o.append("clientId",t),(i=s.status)!=null&&i.length&&o.append("status",s.status.join(",")),s.search&&o.append("search",s.search);const l=await fetch(`${this.baseUrl}?${o}`);if(!l.ok)throw new Error(`Failed to fetch leads: ${l.statusText}`);return await l.json()}catch(o){throw console.error("Error fetching leads:",o),o}}async getLead(t,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${t}?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead:",a),a}}async createLead(t,s){try{const a={...t,clientId:s},n=await fetch(this.baseUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to create lead: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error creating lead:",a),a}}async updateLead(t,s,a){try{const n={...s,clientId:a},i=await fetch(`${this.baseUrl}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to update lead: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error updating lead:",n),n}}async deleteLead(t,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${t}?${a}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete lead: ${n.statusText}`)}catch(a){throw console.error("Error deleting lead:",a),a}}async bulkUpdateLeads(t,s,a){try{const n={leadIds:t,updates:s,clientId:a},i=await fetch(`${this.baseUrl}/bulk-update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to bulk update leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error bulk updating leads:",n),n}}async getLeadStats(t){try{const s=new URLSearchParams;t&&s.append("clientId",t);const a=await fetch(`${this.baseUrl}/stats?${s}`);if(!a.ok)throw new Error(`Failed to fetch lead stats: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching lead stats:",s),s}}async getCampaignPerformance(t){try{const s=new URLSearchParams;t&&s.append("clientId",t);const a=await fetch(`${this.baseUrl}/campaigns/performance?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaign performance: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaign performance:",s),s}}async importLeads(t,s,a,n={}){try{const i=new FormData;i.append("file",t),s&&i.append("campaignId",s),a&&i.append("clientId",a),n.skipDuplicates&&i.append("skipDuplicates","true"),n.updateExisting&&i.append("updateExisting","true"),n.campaignType&&i.append("campaignType",n.campaignType);const o=await fetch(`${this.baseUrl}/import`,{method:"POST",body:i});if(!o.ok)throw new Error(`Failed to import leads: ${o.statusText}`);return await o.json()}catch(i){throw console.error("Error importing leads:",i),i}}async exportLeads(t,s={}){try{const a=new URLSearchParams;t&&a.append("clientId",t),Object.entries(s).forEach(([i,o])=>{o!=null&&(Array.isArray(o)?a.append(i,o.join(",")):typeof o=="object"&&"start"in o?(a.append("startDate",o.start),a.append("endDate",o.end)):a.append(i,o.toString()))});const n=await fetch(`${this.baseUrl}/export?${a}`);if(!n.ok)throw new Error(`Failed to export leads: ${n.statusText}`);return await n.blob()}catch(a){throw console.error("Error exporting leads:",a),a}}async downloadTemplate(){try{const t=await fetch(`${this.baseUrl}/template`);if(!t.ok)throw new Error(`Failed to download template: ${t.statusText}`);return await t.blob()}catch(t){throw console.error("Error downloading template:",t),t}}async getCallHistory(t,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${t}/calls?${a}`);if(!n.ok)throw new Error(`Failed to fetch call history: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching call history:",a),a}}async addCallRecord(t,s){try{const a={...t,clientId:s},n=await fetch(`${this.baseUrl}/calls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add call record: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding call record:",a),a}}async getActivities(t,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${t}/activities?${a}`);if(!n.ok)throw new Error(`Failed to fetch activities: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching activities:",a),a}}async addActivity(t,s){try{const a={...t,clientId:s},n=await fetch(`${this.baseUrl}/activities`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`Failed to add activity: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error adding activity:",a),a}}async calculateLeadScore(t,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${t}/score?${a}`,{method:"POST"});if(!n.ok)throw new Error(`Failed to calculate lead score: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error calculating lead score:",a),a}}async getLeadInsights(t,s){try{const a=new URLSearchParams;s&&a.append("clientId",s);const n=await fetch(`${this.baseUrl}/${t}/insights?${a}`);if(!n.ok)throw new Error(`Failed to fetch lead insights: ${n.statusText}`);return await n.json()}catch(a){throw console.error("Error fetching lead insights:",a),a}}async searchLeads(t,s,a=20){try{const n=new URLSearchParams({search:t,limit:a.toString()});s&&n.append("clientId",s);const i=await fetch(`${this.baseUrl}/search?${n}`);if(!i.ok)throw new Error(`Failed to search leads: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error searching leads:",n),n}}async getCampaigns(t){try{const s=new URLSearchParams;t&&s.append("clientId",t);const a=await fetch(`${this.baseUrl}/campaigns?${s}`);if(!a.ok)throw new Error(`Failed to fetch campaigns: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching campaigns:",s),s}}async getSources(t){try{const s=new URLSearchParams;t&&s.append("clientId",t);const a=await fetch(`${this.baseUrl}/sources?${s}`);if(!a.ok)throw new Error(`Failed to fetch sources: ${a.statusText}`);return await a.json()}catch(s){throw console.error("Error fetching sources:",s),s}}}const L_=new QNe;class e1e{async getCallDetails(t){const a=await IR({method:"GET",url:`/api/api/vapi-outbound/calls/${t}`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch call details");if(!a.data.call)throw new Error("Call not found");return a.data.call}async getCampaignCalls(t){const a=await IR({method:"GET",url:`/api/api/vapi-outbound/campaigns/${t}/calls`});if(!a.ok)throw new Error(a.error.message||"Failed to fetch campaign calls");return a.data}getStatusInfo(t){return{initiated:{label:"Initiated",color:"blue",icon:""},ringing:{label:"Ringing",color:"yellow",icon:""},answered:{label:"Answered",color:"green",icon:""},completed:{label:"Completed",color:"emerald",icon:""},failed:{label:"Failed",color:"red",icon:""},busy:{label:"Busy",color:"orange",icon:""},no_answer:{label:"No Answer",color:"gray",icon:""}}[t]||{label:t,color:"gray",icon:""}}formatDuration(t){if(!t||t===0)return"0s";if(t<60)return`${Math.round(t)}s`;if(t<3600){const s=Math.floor(t/60),a=Math.round(t%60);return`${s}m ${a}s`}else{const s=Math.floor(t/3600),a=Math.floor(t%3600/60);return`${s}h ${a}m`}}formatCost(t){return!t||t===0?"$0.00":`$${t.toFixed(3)}`}isPositiveOutcome(t,s){const a=["interested","scheduled","follow-up","demo","meeting","callback","positive","qualified","hot","warm","opportunity","conversion","wants","needs","looking for","considering","evaluating"],n=(t+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))}extractSentiment(t,s){if(this.isPositiveOutcome(t,s))return"positive";const a=["not interested","declined","refused","busy","no thank you","unqualified"],n=(t+" "+(s||"")).toLowerCase();return a.some(i=>n.includes(i))?"negative":"neutral"}async createLeadFromCall(t){try{if(!this.isPositiveOutcome(t.summary||"",t.transcript))return console.log("Call outcome not positive, skipping lead creation"),null;const[s,a]=this.extractNameFromCall(t),n={firstName:s||"Unknown",lastName:a||"Contact",email:t.customerEmail||"",phone:t.customerPhone,company:t.customerCompany||"",title:"",status:"new",priority:this.determinePriority(t),source:"vapi_outbound_call",campaign:t.campaignName,notes:this.generateLeadNotes(t),tags:["ai-generated","positive-call"],score:this.calculateLeadScore(t),lastContactDate:t.startedAt,nextFollowUp:this.suggestNextFollowUp(t),customFields:{originalCallId:t.id,vapiCallId:t.vapiCallId,callOutcome:t.summary,callDuration:t.duration,callCost:t.cost,sentiment:this.extractSentiment(t.summary||"",t.transcript)}};console.log("Creating lead from positive call:",n);const i=await L_.createLead(n);return await L_.addCallRecord({leadId:i.id,date:t.startedAt,duration:this.formatDuration(t.duration),outcome:t.summary||"Positive outcome",transcript:t.transcript||"",sentiment:this.extractSentiment(t.summary||"",t.transcript),recordingUrl:t.recording,nextAction:this.suggestNextAction(t)}),i}catch(s){return console.error("Error creating lead from call:",s),null}}extractNameFromCall(t){if(t.customerName){const s=t.customerName.split(" ");return[s[0]||"",s.slice(1).join(" ")||""]}return["",""]}determinePriority(t){const s=(t.summary||"").toLowerCase();return s.includes("hot")||s.includes("urgent")||s.includes("asap")?"high":s.includes("warm")||s.includes("scheduled")||s.includes("demo")?"medium":"low"}generateLeadNotes(t){let s=`Lead generated from AI call on ${new Date(t.startedAt).toLocaleDateString()}.

`;return t.summary&&(s+=`Call Summary: ${t.summary}

`),s+=`Call Duration: ${this.formatDuration(t.duration)}
`,s+=`Call Cost: ${this.formatCost(t.cost)}
`,t.customerCompany&&(s+=`Company: ${t.customerCompany}
`),t.transcript&&(s+=`
Call Transcript:
${t.transcript.substring(0,500)}${t.transcript.length>500?"...":""}`),s}calculateLeadScore(t){let s=50;const a=(t.summary||"").toLowerCase();return a.includes("very interested")?s+=30:a.includes("interested")&&(s+=20),(a.includes("scheduled")||a.includes("demo"))&&(s+=25),a.includes("follow-up")&&(s+=15),a.includes("qualified")&&(s+=20),t.duration&&t.duration>120&&(s+=10),t.duration&&t.duration>300&&(s+=15),t.customerCompany&&(s+=10),Math.min(100,Math.max(0,s))}suggestNextFollowUp(t){const s=(t.summary||"").toLowerCase();let a=7;s.includes("urgent")||s.includes("asap")?a=1:s.includes("hot")||s.includes("very interested")?a=2:s.includes("scheduled")||s.includes("demo")?a=0:(s.includes("warm")||s.includes("considering"))&&(a=5);const n=new Date;return n.setDate(n.getDate()+a),n.toISOString()}suggestNextAction(t){const s=(t.summary||"").toLowerCase();return s.includes("demo")||s.includes("presentation")?"Prepare and conduct product demo":s.includes("proposal")||s.includes("quote")?"Send detailed proposal and pricing":s.includes("email")||s.includes("information")?"Send follow-up email with additional information":s.includes("meeting")||s.includes("call back")?"Schedule follow-up meeting":s.includes("decision maker")||s.includes("manager")?"Contact decision maker or manager":"Follow up with personalized outreach based on call discussion"}}const Ro=new e1e;function t1e(){const{callId:e}=Vf(),t=br(),{toast:s}=Ur(),[a,n]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(!1),[u,h]=p.useState(null),[f,g]=p.useState(!1),[y,w]=p.useState(0),[v,b]=p.useState(1),N=p.useRef(null);p.useEffect(()=>{e&&T()},[e]),p.useEffect(()=>{if(N.current){const I=()=>{N.current&&w(Math.floor(N.current.currentTime))};return N.current.addEventListener("timeupdate",I),()=>{N.current&&N.current.removeEventListener("timeupdate",I)}}},[]);const S=I=>{const F=Math.floor(I/60),V=I%60;return`${String(F).padStart(2,"0")}:${String(V).padStart(2,"0")}`},_=async()=>{if(N.current)try{l?(N.current.pause(),d(!1)):(await N.current.play(),d(!0))}catch(I){console.error("Playback error:",I),a!=null&&a.recording&&a.recording.includes("vapi.ai")&&window.open(a.recording,"_blank")}},k=I=>{b(I),N.current&&(N.current.playbackRate=I)},T=async()=>{try{o(!0);const I=await Ro.getCallDetails(e);if(!I){s({title:"Error",description:"Call details not found",variant:"destructive"}),t(-1);return}n(I);const F=I;Ro.isPositiveOutcome(F.summary||"",F.transcript)&&await A(F)}catch(I){console.error("Failed to load call details:",I),s({title:"Error",description:"Failed to load call details",variant:"destructive"})}finally{o(!1)}},A=async I=>{try{g(!0),console.log(" Checking/creating lead for call:",{callId:I.id,customerPhone:I.customerPhone,customerName:I.customerName,summary:I.summary});const F=await L_.searchLeads(I.customerPhone);console.log(" Found existing leads:",F.length);const V=F.find(X=>{var D,U;return((D=X.customFields)==null?void 0:D.originalCallId)===I.id||((U=X.customFields)==null?void 0:U.vapiCallId)===I.vapiCallId});if(V){h(V),console.log(" Lead already exists for this call:",V);return}console.log(" Creating new lead from call...");const W=await Ro.createLeadFromCall(I);W?(h(W),console.log(" Lead created successfully:",W),s({title:"Lead Created",description:`New lead "${W.firstName} ${W.lastName}" added to CRM`})):console.log(" Lead creation returned null")}catch(F){console.error(" Error checking/creating lead:",F)}finally{g(!1)}},E=async()=>{if(a!=null&&a.vapiCallId)try{o(!0);const I=await _r.post(`/sync-vapi-call/${a.vapiCallId}`);I.data.success&&(s({title:"Call Synced",description:"Call data has been updated from VAPI"}),await T(),I.data.aiProcessing&&s({title:"AI Processing Started",description:"Call is being analyzed by AI"}))}catch(I){console.error("Error syncing call:",I),s({title:"Sync Failed",description:"Failed to sync call data from VAPI",variant:"destructive"})}finally{o(!1)}},R=async()=>{if(a)try{g(!0);const I=await Ro.createLeadFromCall(a);I&&(h(I),s({title:"Lead Created",description:`Lead "${I.firstName} ${I.lastName}" added to CRM`}))}catch(I){console.error("Error creating lead manually:",I),s({title:"Error",description:"Failed to create lead in CRM",variant:"destructive"})}finally{g(!1)}},z=async(I,F)=>{try{await navigator.clipboard.writeText(I),s({title:"Copied",description:`${F} copied to clipboard`})}catch{s({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})}},B=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i)return r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),r.jsx("p",{className:"text-gray-400",children:"Loading call details..."})]})});if(!a)return r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"mb-4 text-gray-400",children:"Call not found"}),r.jsxs(K,{onClick:()=>t(-1),variant:"outline",children:[r.jsx(fd,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})});const O=Ro.getStatusInfo(a.status);return r.jsx("div",{className:"min-h-screen bg-black p-6",children:r.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(K,{onClick:()=>t(-1),variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[r.jsx(fd,{className:"mr-2 h-4 w-4"}),"Back"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Call Details"}),r.jsx("p",{className:"text-gray-400",children:"View call transcript, recording, and results"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(ke,{className:`px-3 py-1 ${O.color==="green"||O.color==="emerald"?"bg-emerald-500/20 text-emerald-400":O.color==="red"?"bg-red-500/20 text-red-400":O.color==="yellow"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:[O.icon," ",O.label]}),(a.status==="in_progress"||a.status==="ringing"||!a.transcript)&&r.jsxs(K,{onClick:E,size:"sm",variant:"outline",disabled:i||!a.vapiCallId,className:"border-gray-600",children:[r.jsx(ea,{className:`mr-2 h-4 w-4 ${i?"animate-spin":""}`}),"Sync from VAPI"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(Xr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Customer Information"]})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Name:"}),r.jsx("span",{className:"font-medium text-white",children:a.customerName})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Phone:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-mono text-white",children:a.customerPhone}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>z(a.customerPhone,"Phone number"),children:r.jsx(Fn,{className:"h-3 w-3"})})]})]}),a.customerEmail&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Email:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-white",children:a.customerEmail}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>z(a.customerEmail,"Email"),children:r.jsx(Fn,{className:"h-3 w-3"})})]})]}),a.customerCompany&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Company:"}),r.jsx("span",{className:"text-white",children:a.customerCompany})]})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(dt,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Information"]})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Campaign:"}),r.jsx("span",{className:"font-medium text-white",children:a.campaignName})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Started:"}),r.jsx("span",{className:"text-white",children:B(a.startedAt)})]}),a.endedAt&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Ended:"}),r.jsx("span",{className:"text-white",children:B(a.endedAt)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Duration:"}),r.jsx("span",{className:"font-mono text-white",children:Ro.formatDuration(a.duration)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Direction:"}),r.jsx("span",{className:"capitalize text-white",children:a.direction})]})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(Hr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"Call Metrics"]})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Cost:"}),r.jsx("span",{className:"font-bold text-emerald-400",children:Ro.formatCost(a.cost)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"VAPI Call ID:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-mono text-xs text-white",children:a.vapiCallId?`${a.vapiCallId.substring(0,8)}...`:"N/A"}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>a.vapiCallId&&z(a.vapiCallId,"VAPI Call ID"),disabled:!a.vapiCallId,children:r.jsx(Fn,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Has Transcript:"}),r.jsx("span",{className:a.transcript?"text-emerald-400":"text-gray-500",children:a.transcript?"Yes":"No"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Has Recording:"}),r.jsx("span",{className:a.recording?"text-emerald-400":"text-gray-500",children:a.recording?"Yes":"No"})]})]})]})]}),a&&r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(tr,{className:"mr-2 h-5 w-5 text-emerald-400"}),"CRM Integration"]})}),r.jsxs(J,{className:"space-y-4",children:[Ro.isPositiveOutcome(a.summary||"",a.transcript)&&r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xm,{className:"h-5 w-5 text-emerald-400"}),r.jsx("span",{className:"font-medium text-emerald-400",children:"Positive Outcome Detected"})]}),r.jsx(ke,{className:"bg-emerald-500/20 text-emerald-400",children:"Lead Eligible"})]}),u?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-blue-500/30 bg-blue-500/10 p-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-400",children:"Lead Created in CRM"}),r.jsxs("p",{className:"text-sm text-gray-300",children:[u.firstName," ",u.lastName," - ",u.company]})]}),r.jsx(K,{size:"sm",variant:"outline",onClick:()=>window.open(`/crm/leads/${u.id}`,"_blank"),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10",children:"View in CRM"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("p",{className:"font-medium capitalize text-white",children:u.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Priority:"}),r.jsx("p",{className:"font-medium capitalize text-white",children:u.priority})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Score:"}),r.jsx("p",{className:"font-medium text-white",children:u.score||"N/A"})]})]})]}):Ro.isPositiveOutcome(a.summary||"",a.transcript)?r.jsxs("div",{className:"py-4 text-center",children:[r.jsx(K,{onClick:R,disabled:f,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Creating Lead..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Create Lead in CRM"]})}),r.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"Automatically creates a new lead with call details"})]}):r.jsxs("div",{className:"py-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx("span",{children:"No positive outcome detected"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lead creation is triggered for positive call outcomes"})]})]})]}),r.jsxs(yo,{defaultValue:"transcript",className:"w-full",children:[r.jsxs(Oi,{className:"grid w-full grid-cols-3 bg-gray-800/50",children:[r.jsxs(jt,{value:"transcript",className:"flex items-center space-x-2",children:[r.jsx(Fo,{className:"h-4 w-4"}),r.jsx("span",{children:"Transcript"})]}),r.jsxs(jt,{value:"recording",className:"flex items-center space-x-2",children:[r.jsx(pf,{className:"h-4 w-4"}),r.jsx("span",{children:"Recording"})]}),r.jsxs(jt,{value:"summary",className:"flex items-center space-x-2",children:[r.jsx(Fo,{className:"h-4 w-4"}),r.jsx("span",{children:"Summary"})]})]}),r.jsx(Nt,{value:"transcript",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Call Transcript"})}),r.jsx(J,{children:a.transcript?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative rounded-lg border border-gray-700 bg-gray-900/50",children:[r.jsxs("div",{className:"max-h-[500px] overflow-y-auto p-6",children:[r.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm leading-relaxed text-gray-300",children:a.transcript}),r.jsx("div",{className:"pb-4"})," "]}),r.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-gray-900/80 to-transparent"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-400",children:[a.transcript.split(`
`).length," lines  ",a.transcript.split(" ").length," words"]}),r.jsxs(K,{size:"sm",variant:"outline",onClick:()=>z(a.transcript,"Transcript"),children:[r.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Copy Transcript"]})]})]}):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(Fo,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),r.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Transcripts are generated automatically for completed calls"})]})})]})}),r.jsx(Nt,{value:"recording",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Call Recording"})}),r.jsx(J,{children:a.recording?r.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-700/50 bg-gradient-to-b from-gray-900/50 to-gray-800/30",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h4",{className:"text-lg font-medium text-white",children:"Recording"}),r.jsx("div",{className:"rounded-lg bg-gray-800/50 px-3 py-1.5",children:r.jsx("span",{className:"font-mono text-sm text-gray-300",children:S(a.duration||0)})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-end gap-3",children:r.jsxs("select",{value:v,onChange:I=>k(Number(I.target.value)),className:"rounded-lg border border-gray-600/50 bg-gray-800/50 px-2 py-1 text-xs text-white transition-all focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/50",children:[r.jsx("option",{value:.5,children:"0.5x"}),r.jsx("option",{value:1,children:"1.0x"}),r.jsx("option",{value:1.5,children:"1.5x"}),r.jsx("option",{value:2,children:"2.0x"})]})}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("button",{onClick:_,className:"group relative flex-shrink-0",children:r.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-lg transition-all duration-200 group-hover:scale-105 group-hover:shadow-green-500/30",children:l?r.jsx(gd,{className:"h-5 w-5 text-white",strokeWidth:2}):r.jsx(Kn,{className:"ml-0.5 h-5 w-5 text-white",strokeWidth:2})})}),r.jsxs("div",{className:"relative flex-1 overflow-hidden rounded-xl bg-gray-900/50 p-4",children:[r.jsx("div",{className:"relative flex h-14 items-end justify-between gap-0.5",children:Array.from({length:100}).map((I,F)=>{const V=20+Math.random()*80,W=F/100*(a.duration||0)<=y;return r.jsx("div",{className:"flex-1 rounded-t bg-gray-600 transition-all duration-150",style:{height:`${V}%`,backgroundColor:W?"#10b981":"#4b5563",opacity:W?1:.5}},F)})}),r.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-green-400 opacity-50",style:{left:`${y/(a.duration||1)*100}%`}})]}),r.jsxs("button",{onClick:()=>{if(a.recording)if(a.recording.includes("vapi.ai"))window.open(a.recording,"_blank");else{const I=document.createElement("a");I.href=a.recording,I.download=`call-recording-${a.id}.wav`,document.body.appendChild(I),I.click(),document.body.removeChild(I)}},className:"group flex flex-shrink-0 items-center gap-2.5 rounded-xl border border-gray-600/50 bg-gray-800/50 px-5 py-3 transition-all duration-200 hover:border-gray-500/50 hover:bg-gray-700/50",children:[r.jsx(yn,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-300",strokeWidth:2}),r.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-gray-200",children:"Audio"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-mono text-gray-400",children:S(y)}),r.jsxs("span",{className:"font-mono text-gray-500",children:["-",S((a.duration||0)-y)]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-1.5 overflow-hidden rounded-full bg-gray-700/50",children:r.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-100",style:{width:`${y/(a.duration||1)*100}%`}})}),r.jsx("div",{className:"absolute top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-green-400 shadow-lg transition-all duration-100",style:{left:`${y/(a.duration||1)*100}%`,boxShadow:"0 0 0 3px rgba(34, 197, 94, 0.2)"}})]})]})]})]}),r.jsx("audio",{ref:N,src:a.recording,onEnded:()=>d(!1),className:"hidden"})]}):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(pf,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),r.jsx("p",{className:"text-gray-400",children:"No recording available for this call"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Recordings are generated automatically for answered calls"})]})})]})}),r.jsx(Nt,{value:"summary",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Call Summary"})}),r.jsx(J,{children:a.summary?r.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[r.jsx("div",{className:"leading-relaxed text-gray-300",children:a.summary}),r.jsx("div",{className:"mt-4 flex space-x-2",children:r.jsxs(K,{size:"sm",variant:"outline",onClick:()=>z(a.summary,"Summary"),children:[r.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Copy Summary"]})})]}):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(Fo,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),r.jsx("p",{className:"text-gray-400",children:"No summary available for this call"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"AI summaries are generated for completed calls with transcripts"})]})})]})})]})]})})}const r1e=()=>{const{campaignId:e}=Vf(),t=br(),{toast:s}=Ur(),[a,n]=p.useState([]),[i,o]=p.useState(null),[l,d]=p.useState({page:1,limit:20,total:0,totalPages:0}),[u,h]=p.useState(!0),[f,g]=p.useState(""),[y,w]=p.useState("all"),[v,b]=p.useState("started_at"),[N,S]=p.useState("desc"),[_,k]=p.useState(null),[T,A]=p.useState(!1);p.useEffect(()=>{e&&E()},[e,l.page,f,y,v,N]);const E=async()=>{try{h(!0);const F=new URLSearchParams({page:l.page.toString(),limit:l.limit.toString(),sortBy:v,sortOrder:N,...y!=="all"&&{status:y},...f&&{search:f}}),V=await fetch(`/api/vapi-outbound/campaigns/${e}/calls?${F}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error("Failed to fetch campaign calls");const W=await V.json();n(W.calls),o(W.campaign),d(W.pagination)}catch(F){console.error("Error loading campaign calls:",F),s({title:"Error",description:"Failed to load campaign calls",variant:"destructive"})}finally{h(!1)}},R=F=>{switch(F){case"completed":return r.jsx(yt,{className:"h-4 w-4 text-green-500"});case"failed":return r.jsx(_i,{className:"h-4 w-4 text-red-500"});case"in-progress":return null;default:return r.jsx(Dt,{className:"h-4 w-4 text-gray-500"})}},z=F=>{switch(F){case"positive":return r.jsx(ba,{className:"h-4 w-4 text-green-500"});case"negative":return r.jsx($0,{className:"h-4 w-4 text-red-500"});default:return r.jsx(nd,{className:"h-4 w-4 text-gray-500"})}},B=F=>{const V=Math.floor(F/60),W=F%60;return`${V}:${W.toString().padStart(2,"0")}`},O=F=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4}).format(F),I=({call:F,isOpen:V,onClose:W})=>V?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:r.jsxs("div",{className:"mx-4 max-h-[90vh] w-full max-w-4xl overflow-hidden rounded-lg border border-gray-800 bg-gray-900 shadow-xl",children:[r.jsx("div",{className:"border-b border-gray-800 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Call Transcript"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[F.customerName," "," ",H0(new Date(F.startedAt),{addSuffix:!0})]})]}),r.jsx(K,{variant:"ghost",onClick:W,className:"text-gray-400 hover:text-white",children:r.jsx(_i,{className:"h-5 w-5"})})]})}),r.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6",children:F.formattedTranscript&&F.formattedTranscript.length>0?r.jsx("div",{className:"space-y-4",children:F.formattedTranscript.map((X,D)=>r.jsxs("div",{className:`rounded-lg p-4 ${X.speaker==="customer"?"border-l-4 border-blue-500 bg-blue-900/20":"border-l-4 border-gray-600 bg-gray-800/50"}`,children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[X.speaker==="customer"?r.jsx(Xr,{className:"h-4 w-4 text-blue-400"}):r.jsx(pd,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium capitalize text-gray-300",children:X.speaker==="customer"?"Customer":"Assistant"}),X.timestamp&&r.jsx("span",{className:"text-xs text-gray-500",children:new Date(X.timestamp).toLocaleTimeString()})]}),r.jsx("p",{className:"leading-relaxed text-gray-100",children:X.text})]},D))}):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(so,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),r.jsx("p",{className:"text-gray-400",children:"No transcript available for this call"})]})})]})}):null;return u?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:r.jsx(ea,{className:"h-8 w-8 animate-spin text-emerald-500"})}):r.jsx("div",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(K,{variant:"ghost",onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[r.jsx(fd,{className:"h-4 w-4"}),"Back to Dashboard"]}),r.jsx("div",{className:"h-6 w-px bg-gray-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campaign Calls"}),r.jsx("p",{className:"text-gray-400",children:i==null?void 0:i.name})]})]}),r.jsxs(K,{onClick:E,className:"flex items-center gap-2 bg-emerald-600 text-white hover:bg-emerald-700",disabled:u,children:[r.jsx(ea,{className:`h-4 w-4 ${u?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:l.total})]}),r.jsx(dt,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:a.filter(F=>F.status==="completed").length})]}),r.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Cost"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:O(a.reduce((F,V)=>F+V.cost,0))})]}),r.jsx(Hr,{className:"h-8 w-8 text-purple-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:B(a.reduce((F,V)=>F+V.duration,0)/a.length||0)})]})})})})]}),r.jsx(Y,{className:"mb-6 border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($a,{className:"h-4 w-4 text-gray-400"}),r.jsx(Ae,{placeholder:"Search calls...",value:f,onChange:F=>g(F.target.value),className:"w-64 border-gray-700 bg-gray-800 text-white"})]}),r.jsxs(Qe,{value:y,onValueChange:w,children:[r.jsx(Je,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:r.jsx(et,{placeholder:"Status"})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"completed",children:"Completed"}),r.jsx(ae,{value:"failed",children:"Failed"}),r.jsx(ae,{value:"in-progress",children:"In Progress"})]})]}),r.jsxs(Qe,{value:v,onValueChange:b,children:[r.jsx(Je,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:r.jsx(et,{placeholder:"Sort by"})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"started_at",children:"Date"}),r.jsx(ae,{value:"duration",children:"Duration"}),r.jsx(ae,{value:"cost",children:"Cost"})]})]}),r.jsxs(K,{variant:"outline",onClick:()=>S(N==="asc"?"desc":"asc"),className:"flex items-center gap-2 border-gray-700 text-gray-300 hover:bg-gray-800",children:[N==="asc"?"":""," ",N.toUpperCase()]})]})})}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-xl font-semibold text-white",children:"Campaign Calls"})}),r.jsxs(J,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(K2,{children:[r.jsx(G2,{children:r.jsxs(If,{className:"border-gray-800",children:[r.jsx(ua,{className:"text-gray-400",children:"Customer"}),r.jsx(ua,{className:"text-gray-400",children:"Phone"}),r.jsx(ua,{className:"text-gray-400",children:"Status"}),r.jsx(ua,{className:"text-gray-400",children:"Duration"}),r.jsx(ua,{className:"text-gray-400",children:"Cost"}),r.jsx(ua,{className:"text-gray-400",children:"Sentiment"}),r.jsx(ua,{className:"text-gray-400",children:"Date"}),r.jsx(ua,{className:"text-gray-400",children:"Actions"})]})}),r.jsx(Y2,{children:a.map(F=>r.jsxs(If,{className:"border-gray-800 hover:bg-gray-800/50",children:[r.jsx(ma,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-800",children:r.jsx(Xr,{className:"h-4 w-4 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:F.customerName}),F.customerEmail&&r.jsx("p",{className:"text-sm text-gray-400",children:F.customerEmail})]})]})}),r.jsx(ma,{children:r.jsx("span",{className:"text-sm text-gray-300",children:F.customerPhone})}),r.jsx(ma,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[R(F.status),r.jsx(ke,{variant:F.status==="completed"?"default":"secondary",className:"bg-gray-800 text-white",children:F.status})]})}),r.jsx(ma,{children:r.jsx("span",{className:"text-sm text-white",children:B(F.duration)})}),r.jsx(ma,{children:r.jsx("span",{className:"text-sm text-white",children:O(F.cost)})}),r.jsx(ma,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[z(F.sentiment),r.jsx("span",{className:"text-sm capitalize text-white",children:F.sentiment})]})}),r.jsx(ma,{children:r.jsx("span",{className:"text-sm text-gray-300",children:H0(new Date(F.startedAt),{addSuffix:!0})})}),r.jsx(ma,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[F.hasTranscript&&r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{k(F),A(!0)},className:"text-gray-400 hover:text-white",children:r.jsx(so,{className:"h-4 w-4"})}),F.hasRecording&&r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>window.open(F.recording,"_blank"),className:"text-gray-400 hover:text-white",children:r.jsx(Kn,{className:"h-4 w-4"})}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>t(`/calls/${F.id}`),className:"text-gray-400 hover:text-white",children:r.jsx(Tr,{className:"h-4 w-4"})})]})})]},F.id))})]})}),a.length===0&&r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(dt,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),r.jsx("p",{className:"text-gray-400",children:"No calls found for this campaign"})]})]})]}),l.totalPages>1&&r.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of ",l.total," ","calls"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(K,{variant:"outline",onClick:()=>d(F=>({...F,page:F.page-1})),disabled:l.page===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(cc,{className:"h-4 w-4"}),"Previous"]}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",l.page," of ",l.totalPages]}),r.jsxs(K,{variant:"outline",onClick:()=>d(F=>({...F,page:F.page+1})),disabled:l.page===l.totalPages,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:["Next",r.jsx(ei,{className:"h-4 w-4"})]})]})]}),_&&r.jsx(I,{call:_,isOpen:T,onClose:()=>{A(!1),k(null)}})]})})};class V7{constructor(t){Ns(this,"baseURL","/api");Ns(this,"apiClient");this.apiClient=t||require("../lib/api-client").apiClient}async getCampaigns(){var t,s,a,n,i,o;try{console.log(" VapiOutboundService: Fetching campaigns from:",this.baseURL);let l,d=!1;try{console.log(" Trying /vapi-outbound/campaigns endpoint..."),l=await this.apiClient.get("/vapi-outbound/campaigns"),l&&l.data&&(console.log(" vapi-outbound endpoint succeeded"),d=!0)}catch(h){console.log(" vapi-outbound failed with:",((t=h.response)==null?void 0:t.status)||h.message)}if(!d)try{console.log(" Trying /campaigns endpoint..."),l=await this.apiClient.get("/campaigns"),l&&l.data&&(console.log(" Regular campaigns endpoint succeeded"),d=!0)}catch(h){console.log(" Regular campaigns failed with:",((s=h.response)==null?void 0:s.status)||h.message)}if(!d)throw console.error(" Both API endpoints failed, will try Supabase fallback"),new Error("API endpoints unavailable");console.log(" VapiOutboundService: API Response:",l);const u=((a=l.data)==null?void 0:a.campaigns)||[];return Array.isArray(u)?u.map(h=>{var f;return{id:h.id,apexId:h.apexId||h.apex_id||`apex${h.id.substring(0,5)}`,name:h.name,description:h.description,status:h.status,assistantId:h.assistantId||h.assistant_id||"",assistantName:h.assistantName||h.assistant_name||"AI Assistant",phoneNumberId:h.phoneNumberId||h.phone_number_id||"",phoneNumber:h.phoneNumber||h.phone_number,organizationId:h.organizationId||h.organization_id||"",objective:h.objective,budget:h.budget,campaignType:h.campaignType||h.campaign_type,createdAt:h.createdAt||h.created_at,updatedAt:h.updatedAt||h.updated_at,totalLeads:h.totalLeads||h.total_leads||((f=h.leads_count)==null?void 0:f.count)||0,callsCompleted:h.callsCompleted||h.calls_completed||h.completed_calls_count||0,totalCost:h.totalCost||h.total_cost||h.spent||0,successRate:h.successRate||h.success_rate||h.conversion_rate||0,callsInProgress:h.callsInProgress||h.calls_in_progress||0,settings:h.settings||{callsPerHour:h.calls_per_hour||10,retryAttempts:h.retry_attempts||2,timeZone:h.time_zone||"America/New_York",workingHours:{start:h.working_hours_start||"09:00",end:h.working_hours_end||"17:00"}},teamAssignment:h.teamAssignment||h.team_assignment}}):(console.error(" Campaigns data is not an array:",u),[])}catch(l){console.error(" Error fetching campaigns from API:",l);try{console.log(" Attempting to fetch campaigns directly from Supabase...");let d=null;if(typeof window<"u"&&window.Clerk)try{const g=window.Clerk.user;if(g){const y=((n=g.primaryEmailAddress)==null?void 0:n.emailAddress)||((o=(i=g.emailAddresses)==null?void 0:i[0])==null?void 0:o.emailAddress);if(y){const{data:w,error:v}=await rt.from("users").select("organization_id").eq("email",y).single();!v&&(w!=null&&w.organization_id)&&(d=w.organization_id,console.log(" Got organization_id from Clerk user:",d))}}}catch(f){console.warn(" Could not get organization from Clerk:",f)}if(!d){const{data:{user:f}}=await rt.auth.getUser();if(f!=null&&f.email){const{data:g}=await rt.from("users").select("organization_id").eq("email",f.email).single();g!=null&&g.organization_id&&(d=g.organization_id,console.log(" Got organization_id from Supabase auth:",d))}}d||(d="2566d8c5-2245-4a3c-b539-4cea21a07d9b",console.warn(" Using hardcoded organization_id as fallback:",d));const{data:u,error:h}=await rt.from("campaigns").select("*").eq("organization_id",d).order("created_at",{ascending:!1});return h?(console.error(" Supabase error:",h),[]):(console.log(" Fetched campaigns from Supabase:",u),(u||[]).map(f=>({id:f.id,apexId:f.apex_id||`apex${f.id.substring(0,5)}`,name:f.name,description:f.description,status:f.status||"draft",assistantId:f.assistant_id||"",assistantName:f.assistant_name||"AI Assistant",phoneNumberId:f.phone_number_id||"",phoneNumber:f.phone_number,organizationId:f.organization_id||"",objective:f.objective,budget:f.budget,campaignType:f.campaign_type,createdAt:f.created_at,updatedAt:f.updated_at,totalLeads:f.total_leads||0,callsCompleted:f.calls_completed||0,totalCost:f.total_cost||0,successRate:f.success_rate||0,callsInProgress:f.calls_in_progress||0,settings:{callsPerHour:f.calls_per_hour||10,retryAttempts:f.retry_attempts||2,timeZone:f.time_zone||"America/New_York",workingHours:{start:f.working_hours_start||"09:00",end:f.working_hours_end||"17:00"}},teamAssignment:f.team_assignment})))}catch(d){return console.error(" Failed to fetch from Supabase:",d),[]}}}async createCampaign(t){var s;try{const a=((s=t.callBehavior)==null?void 0:s.customConcurrency)||10,n={...t,max_concurrent_calls:a,callBehavior:void 0};return console.log(" Sending campaign data to backend:",n),(await this.apiClient.post("/vapi-outbound/campaigns",n)).data.campaign}catch(a){throw console.error("Error creating campaign:",a),a}}async uploadLeads(t,s){try{const a=new FormData;return a.append("csvFile",s),(await this.apiClient.post(`/vapi-outbound/campaigns/${t}/upload-leads`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error uploading leads:",a),a}}async getLiveMonitoring(t){try{return(await this.apiClient.get(`/vapi-outbound/campaigns/${t}/live`)).data}catch(s){throw console.error("Error fetching live monitoring:",s),s}}async getAssistants(){var t,s,a;try{console.log(" VapiOutboundService.getAssistants: Making API call...");const n=await this.apiClient.get("/vapi/assistant");console.log(" VapiOutboundService.getAssistants: Response data:",n.data);const i=Array.isArray(n.data)?n.data:((t=n.data)==null?void 0:t.assistants)||[];return console.log(" VapiOutboundService.getAssistants: Returning",i.length,"assistants"),i}catch(n){throw console.error(" VapiOutboundService.getAssistants: Error:",n),console.error(" Error details:",{message:n.message,response:(s=n.response)==null?void 0:s.data,status:(a=n.response)==null?void 0:a.status}),n}}async getPhoneNumbers(){var t,s,a;try{console.log(" VapiOutboundService.getPhoneNumbers: Making API call...");const n=await this.apiClient.get("/vapi/phone-number");console.log(" VapiOutboundService.getPhoneNumbers: Response data:",n.data);const i=Array.isArray(n.data)?n.data:((t=n.data)==null?void 0:t.phoneNumbers)||[];return console.log(" VapiOutboundService.getPhoneNumbers: Returning",i.length,"phone numbers"),i}catch(n){throw console.error(" VapiOutboundService.getPhoneNumbers: Error:",n),console.error(" Error details:",{message:n.message,response:(s=n.response)==null?void 0:s.data,status:(a=n.response)==null?void 0:a.status}),n}}async downloadLeadsTemplate(){try{return(await this.apiClient.get("/vapi-outbound/leads-template",{responseType:"blob"})).data}catch(t){throw console.error("Error downloading template:",t),t}}async getToken(){return""}formatPhoneNumber(t){const s=t.replace(/\D/g,"");return s.length===10?`+1${s}`:s.length===11&&s.startsWith("1")?`+${s}`:`+${s}`}validateLeadData(t){var n,i,o;const s=[],a=[];for(const l of t){const d=[];(n=l.firstName)!=null&&n.trim()||d.push("First name required"),(i=l.lastName)!=null&&i.trim()||d.push("Last name required"),(o=l.phone)!=null&&o.trim()||d.push("Phone number required"),l.phone&&!/^\+?[\d\s\-\(\)]+$/.test(l.phone)&&d.push("Invalid phone format"),d.length===0?s.push({...l,phone:this.formatPhoneNumber(l.phone)}):a.push({...l,errors:d})}return{valid:s,invalid:a}}async getRecentCalls(t=20){var s;try{console.log(" VapiOutboundService: Fetching recent calls...");let a;try{a=await this.apiClient.get(`/vapi-outbound/calls/recent?limit=${t}`)}catch(n){if(((s=n.response)==null?void 0:s.status)===404)console.log(" Falling back to /calls endpoint..."),a=await this.apiClient.get(`/calls?limit=${t}`);else throw n}return console.log(" VapiOutboundService: Recent calls response:",a),a.data.calls||a.data||[]}catch(a){console.error("Error fetching recent calls from API:",a);try{console.log(" Attempting to fetch calls directly from Supabase...");const{data:n,error:i}=await rt.from("calls").select("*").order("created_at",{ascending:!1}).limit(t);return i?(console.error(" Supabase error:",i),[]):(console.log(" Fetched calls from Supabase:",n),n||[])}catch(n){return console.error(" Failed to fetch from Supabase:",n),[]}}}async getCampaignCalls(t,s){try{return(await this.apiClient.get(`/campaigns/${t}/calls?${s}`)).data}catch(a){throw console.error("Error fetching campaign calls:",a),a}}async getCampaignDashboard(t){try{return(await this.apiClient.get(`/vapi-outbound/campaigns/${t}/dashboard`)).data}catch(s){return console.error("Error fetching campaign dashboard:",s),{totalCalls:0,completedCalls:0,inProgressCalls:0,averageCallDuration:0,conversionRate:0,totalCost:0,outcomeBreakdown:{answered:0,voicemail:0,no_answer:0,busy:0,failed:0}}}}async getCampaignResults(t){try{const s=await this.apiClient.get(`/vapi-outbound/campaigns/${t}/calls`);return s.data.calls||s.data||[]}catch(s){console.error("Error fetching campaign results from API:",s);try{console.log(" Fetching campaign calls from Supabase...");const{data:a,error:n}=await rt.from("calls").select("*").eq("campaign_id",t).order("created_at",{ascending:!1});if(n)return console.error(" Supabase error:",n),[];const i=(a||[]).map(o=>({id:o.id,status:o.status||"completed",outcome:o.outcome||"completed",duration:o.duration||0,cost:o.cost||.05,phone_number:o.phone_number,customer_phone:o.phone_number,customerPhone:o.phone_number,recording_url:o.recording_url,transcript:o.transcript,summary:o.summary,created_at:o.created_at,started_at:o.started_at||o.created_at,lead:{firstName:"Matt",lastName:"",phone:o.phone_number||"N/A"},startedAt:o.started_at||o.created_at,endedAt:o.ended_at}));return console.log(` Fetched ${i.length} calls for campaign ${t}`),i}catch(a){return console.error(" Failed to fetch from Supabase:",a),[]}}}async getLiveData(t){return this.getCampaignDashboard(t)}async startCampaign(t){try{return console.log(" Starting campaign:",t),(await this.apiClient.post(`/vapi-outbound/campaigns/${t}/start`)).data||{message:"Campaign started"}}catch(s){throw console.error("Error starting campaign:",s),s}}async pauseCampaign(t){try{return(await this.apiClient.post(`/vapi-outbound/campaigns/${t}/pause`)).data||{message:"Campaign paused"}}catch(s){throw console.error("Error pausing campaign:",s),s}}async resumeCampaign(t){try{return(await this.apiClient.post(`/vapi-outbound/campaigns/${t}/resume`)).data||{message:"Campaign resumed"}}catch(s){throw console.error("Error resuming campaign:",s),s}}}const df=new V7(_r),q7=()=>{const e=mp();return new V7(e)};class s1e{async getCampaigns(){console.log(" DirectSupabaseService: Fetching campaigns directly from Supabase...");const t="2566d8c5-2245-4a3c-b539-4cea21a07d9b",{data:s,error:a}=await rt.from("campaigns").select("*").eq("organization_id",t).order("created_at",{ascending:!1});return a?(console.error(" Supabase error:",a),[]):(console.log(` Found ${(s==null?void 0:s.length)||0} campaigns in Supabase`),await Promise.all((s||[]).map(async i=>{const{count:o}=await rt.from("leads").select("*",{count:"exact",head:!0}).eq("campaign_id",i.id),{count:l}=await rt.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",i.id),{count:d}=await rt.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",i.id).in("status",["completed","ended","initiated"]),{data:u}=await rt.from("calls").select("cost").eq("campaign_id",i.id),h=(u==null?void 0:u.reduce((f,g)=>f+(g.cost||0),0))||0;return console.log(` Campaign ${i.name}: ${o} leads, ${l} calls, ${d} completed`),console.log(" Returning data with:",{totalLeads:o||0,callsCompleted:d||0,id:i.id}),i.name==="test mm"&&console.log(" Found test mm campaign with data!",{leadCount:o,callCount:l,completedCallCount:d,campaignId:i.id}),{id:i.id,apexId:i.apex_id||`apex${i.id.substring(0,5)}`,name:i.name,description:i.description,status:i.status||"draft",assistantId:i.assistant_id||"",assistantName:i.assistant_name||"AI Assistant",phoneNumberId:i.phone_number_id||"",phoneNumber:i.phone_number,organizationId:i.organization_id||"",objective:i.objective,budget:i.budget,campaignType:i.campaign_type,createdAt:i.created_at,updatedAt:i.updated_at,totalLeads:o||0,callsCompleted:d||0,totalCost:h||i.total_cost||0,successRate:o>0?(d||0)/o*100:0,callsInProgress:i.calls_in_progress||0,settings:{callsPerHour:i.calls_per_hour||10,retryAttempts:i.retry_attempts||2,timeZone:i.time_zone||"America/New_York",workingHours:{start:i.working_hours_start||"09:00",end:i.working_hours_end||"17:00"}},teamAssignment:i.team_assignment}})))}async getRecentCalls(t=20){console.log(" DirectSupabaseService: Fetching recent calls from Supabase...");const s="2566d8c5-2245-4a3c-b539-4cea21a07d9b",{data:a,error:n}=await rt.from("calls").select("*").eq("organization_id",s).order("created_at",{ascending:!1}).limit(t);return n?(console.error(" Supabase error:",n),[]):(console.log(` Found ${(a==null?void 0:a.length)||0} recent calls`),a||[])}async getCampaignLeads(t){console.log(" DirectSupabaseService: Fetching leads for campaign:",t);const{data:s,error:a}=await rt.from("leads").select("*").eq("campaign_id",t).order("created_at",{ascending:!1});return a?(console.error(" Supabase error fetching leads:",a),[]):(console.log(` Found ${(s==null?void 0:s.length)||0} leads for campaign`),s||[])}async getCampaignCalls(t){console.log(" DirectSupabaseService: Fetching calls for campaign:",t);const{data:s,error:a}=await rt.from("calls").select("*").eq("campaign_id",t).order("created_at",{ascending:!1});return a?(console.error(" Supabase error fetching calls:",a),[]):(console.log(` Found ${(s==null?void 0:s.length)||0} calls for campaign`),(s||[]).map(n=>({...n,displayStatus:n.status==="completed"?"Completed":n.status==="initiated"?"In Progress":n.status==="failed"?"Failed":n.status,transcript:n.transcript||"",recording_url:n.recording_url||"",summary:n.summary||"",cost:n.cost||0,duration:n.duration||0})))}async getCampaignById(t){if(console.log(" DirectSupabaseService: Fetching campaign by ID:",t),!t)return console.error(" No campaign ID provided"),null;const{data:s,error:a}=await rt.from("campaigns").select("*").eq("id",t).single();if(a)return console.error(" Supabase error fetching campaign:",a),null;if(!s)return console.error(" No campaign found with ID:",t),null;console.log(" Found campaign:",s.name);const{count:n}=await rt.from("leads").select("*",{count:"exact",head:!0}).eq("campaign_id",t),{count:i}=await rt.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",t),{count:o}=await rt.from("calls").select("*",{count:"exact",head:!0}).eq("campaign_id",t).in("status",["completed","ended","initiated"]),{data:l}=await rt.from("calls").select("cost").eq("campaign_id",t),d=(l==null?void 0:l.reduce((h,f)=>h+(f.cost||0),0))||0;console.log(` Campaign ${s.name}: ${n} leads, ${i} calls, ${o} completed`),console.log(" Returning data with:",{totalLeads:n||0,callsCompleted:o||0,id:s.id});let u=s.settings;if(typeof u=="string")try{u=JSON.parse(u)}catch{u={}}return{...s,id:s.id,apexId:s.apex_id||`apex${s.id.substring(0,5)}`,name:s.name,description:s.description,status:s.status||"draft",assistantId:s.assistant_id||"",assistantName:(u==null?void 0:u.voice_agent)||"Emerald Green Energy Demo",phoneNumberId:s.phone_number_id||"",phoneNumber:s.phone_number||"+447482792343",organizationId:s.organization_id||"",objective:s.objective,budget:s.budget,campaignType:s.campaign_type,createdAt:s.created_at,updatedAt:s.updated_at,totalLeads:n||0,callsCompleted:o||0,totalCost:d||s.total_cost||0,successRate:n>0?(o||0)/n*100:0,callsInProgress:s.calls_in_progress||0,settings:{...u||{},callsPerHour:s.calls_per_hour||10,retryAttempts:s.retry_attempts||2,timeZone:s.time_zone||"America/New_York",workingHours:{start:s.working_hours_start||"09:00",end:s.working_hours_end||"17:00"},total_leads:n||0,calls_completed:o||0,successful_calls:o||0,voice_agent:(u==null?void 0:u.voice_agent)||"Emerald Green Energy Demo",system_prompt:(u==null?void 0:u.system_prompt)||"",voice_model:(u==null?void 0:u.voice_model)||"eleven_turbo_v2_5",schedule:(u==null?void 0:u.schedule)||null},teamAssignment:s.team_assignment}}}const Hx=new s1e,RN="da8956d4-0508-474e-bd96-7eda82d2d943",MN="https://api.vapi.ai";class a1e{async updateAssistantPrompt(t,s){try{const a=await fetch(`${MN}/assistant/${t}`,{headers:{Authorization:`Bearer ${RN}`,"Content-Type":"application/json"}});if(!a.ok)return console.error("Failed to fetch assistant:",a.status),!1;const n=await a.json();console.log("Current assistant fetched");const i=await fetch(`${MN}/assistant/${t}`,{method:"PATCH",headers:{Authorization:`Bearer ${RN}`,"Content-Type":"application/json"},body:JSON.stringify({model:{...n.model,messages:[{role:"system",content:s}]}})});if(!i.ok){const o=await i.text();return console.error("Failed to update assistant:",i.status,o),!1}return console.log("Assistant updated successfully in Apex"),!0}catch(a){return console.error("Error updating Apex assistant:",a),!1}}async fetchAssistantDetails(t){var s,a,n;try{const i=await fetch(`${MN}/assistant/${t}`,{headers:{Authorization:`Bearer ${RN}`,"Content-Type":"application/json"}});if(!i.ok)return console.error("Failed to fetch assistant:",i.status),null;const o=await i.json();return{name:o.name||"AI Assistant",systemPrompt:((n=(a=(s=o.model)==null?void 0:s.messages)==null?void 0:a[0])==null?void 0:n.content)||"",voice:o.voice||{},model:o.model}}catch(i){return console.error("Error fetching assistant:",i),null}}}const DR=new a1e;var Av="Switch",[n1e,f8e]=Bs(Av),[i1e,o1e]=n1e(Av),H7=p.forwardRef((e,t)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...f}=e,[g,y]=p.useState(null),w=ht(t,_=>y(_)),v=p.useRef(!1),b=g?h||!!g.closest("form"):!0,[N,S]=Ni({prop:n,defaultProp:i??!1,onChange:u,caller:Av});return r.jsxs(i1e,{scope:s,checked:N,disabled:l,children:[r.jsx(qe.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":J7(N),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:w,onClick:ze(e.onClick,_=>{S(k=>!k),b&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),b&&r.jsx(Y7,{control:g,bubbles:!v.current,name:a,value:d,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});H7.displayName=Av;var K7="SwitchThumb",G7=p.forwardRef((e,t)=>{const{__scopeSwitch:s,...a}=e,n=o1e(K7,s);return r.jsx(qe.span,{"data-state":J7(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});G7.displayName=K7;var l1e="SwitchBubbleInput",Y7=p.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ht(o,i),d=hp(s),u=ap(t);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y7.displayName=l1e;function J7(e){return e?"checked":"unchecked"}var X7=H7,c1e=G7;const $r=p.forwardRef(({className:e,...t},s)=>r.jsx(X7,{className:De("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-gray-600",e),...t,ref:s,children:r.jsx(c1e,{className:De("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$r.displayName=X7.displayName;const Wc={id:"",name:"",description:"",productDescription:"",status:"draft",progress:0,leadsCalled:0,answered:0,calledBack:0,opportunities:0,tags:[],phoneNumbers:[],voiceAgent:{name:"AI Assistant",voice:"default",language:"en-US",tone:"professional"},callingSchedule:{timezone:"America/New_York",startTime:"09:00",endTime:"17:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday"],startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+2160*60*60*1e3).toISOString().split("T")[0]},script:{introduction:"",mainContent:"",objections:"",closing:""},teamMembers:[],budget:{total:0,perCall:0,dailyLimit:0,spent:0},settings:{maxCallsPerDay:100,retryAttempts:3,callDuration:300,voicemailEnabled:!0},createdAt:new Date().toISOString(),lastModified:new Date().toISOString()},$R=[{value:"sarah",label:"Sarah (Professional)",language:"en-US"},{value:"mike",label:"Mike (Friendly)",language:"en-US"},{value:"emma",label:"Emma (Conversational)",language:"en-GB"},{value:"david",label:"David (Authoritative)",language:"en-US"},{value:"lisa",label:"Lisa (Warm)",language:"en-US"},{value:"james",label:"James (Confident)",language:"en-GB"}],d1e=[{value:"professional",label:"Professional"},{value:"friendly",label:"Friendly"},{value:"conversational",label:"Conversational"},{value:"authoritative",label:"Authoritative"},{value:"warm",label:"Warm"},{value:"confident",label:"Confident"}],LR=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}];function u1e(){var U,H;const{id:e}=Vf(),t=br(),{toast:s}=Ur();q7();const[a,n]=p.useState(!1),[i,o]=p.useState(Wc),[l,d]=p.useState(!0),[u,h]=p.useState(!1),[f,g]=p.useState("overview"),[y,w]=p.useState(!1),[v,b]=p.useState(null),N=async M=>{var L,q,ue,G,ge;if(console.log("Opening call modal with call:",M),console.log(" Call from list has transcript?",{hasTranscript:!!M.transcript,transcriptLength:(L=M.transcript)==null?void 0:L.length,transcriptPreview:(q=M.transcript)==null?void 0:q.substring(0,50)}),M.id)try{const be=M;console.log("Full call data from API:",be),console.log(" DEBUG - Transcript check:",{hasTranscript:!!be.transcript,transcriptType:typeof be.transcript,transcriptLength:(ue=be.transcript)==null?void 0:ue.length,transcriptPreview:(G=be.transcript)==null?void 0:G.substring(0,100)}),be.transcript?console.log(" TRANSCRIPT EXISTS! Length:",be.transcript.length):console.log(" NO TRANSCRIPT IN API RESPONSE!"),console.log(" DEBUG: Raw fullCallData fields:",{id:be.id,duration:be.duration,cost:be.cost,recording_url:be.recording_url,recordingUrl:be.recordingUrl,recording:be.recording,customerName:be.customerName,customer_name:be.customer_name});const Ne={id:be.id||be.callId,duration:be.duration||0,recording:be.recording||be.recording_url||be.recordingUrl,cost:be.cost||0,customerName:be.customerName||be.customer_name||"Unknown",customerPhone:be.customerPhone||be.customer_phone||be.phone_number,customerEmail:be.customerEmail||be.customer_email,customerCompany:be.customerCompany||be.customer_company,status:be.status||"unknown",startedAt:be.startedAt||be.started_at,endedAt:be.endedAt||be.ended_at,campaignName:be.campaignName||be.campaign_name,direction:be.direction||"outbound",vapiCallId:be.vapiCallId||be.vapi_call_id,transcript:be.transcript||M.transcript?String(be.transcript||M.transcript||"").split(`
`).filter(Fe=>Fe.trim()).map((Fe,le)=>{const Se=Fe.trim(),Pe=/^(User|Customer):/i.test(Se),te=/^(AI|Agent|Assistant|Voicemail System):/i.test(Se);let he;Pe?he="user":(te||console.warn("No speaker marker found for line:",Se),he="ai");const _e=Se.replace(/^(User|Customer|AI|Agent|Assistant|Voicemail System):\s*/i,"").trim(),We=_e.split(" ").length/2.5,pt=be.duration||0,ce=pt>0?pt/((be.transcript||M.transcript).split(`
`).filter(vt=>vt.trim()).length||1):0,Ie=le*ce,tt=Ie+Math.min(We,ce);return{speaker:he,text:_e||Se,timestamp:Date.now()-(be.duration||0)*1e3+le*1e3,startTime:Ie,endTime:tt}}):[{speaker:"ai",text:"No transcript available",timestamp:Date.now()}],analysis:{sentiment:be.sentiment==="positive"?.8:be.sentiment==="negative"?.2:.5,keywords:be.keywords||[],summary:be.summary||"No summary available"},messages:[{type:"info",content:`Call ${be.status} - ${be.customerName}`,timestamp:Date.now()}]};console.log(" DEBUG: transformedCallData being passed to modal:",{id:Ne.id,duration:Ne.duration,cost:Ne.cost,recording:Ne.recording,customerName:Ne.customerName,hasTranscript:!!Ne.transcript,transcriptType:typeof Ne.transcript,transcriptIsArray:Array.isArray(Ne.transcript),transcriptLength:(ge=Ne.transcript)==null?void 0:ge.length,transcriptSample:Array.isArray(Ne.transcript)&&Ne.transcript.length>0?JSON.stringify(Ne.transcript[0]):"Not an array or empty",fullData:Ne}),console.log(" FINAL CHECK - Setting selectedCall with:",{hasTranscript:!!Ne.transcript,transcriptType:typeof Ne.transcript,transcriptIsArray:Array.isArray(Ne.transcript),transcriptLength:Array.isArray(Ne.transcript)?Ne.transcript.length:"not an array",allKeys:Object.keys(Ne)}),b(Ne),w(!0)}catch(be){console.error("Error processing call details:",be);const Ne={id:M.id||"unknown",duration:M.duration||0,recording:M.recording_url||M.recording,cost:M.cost||0,customerName:M.contactName||"Unknown",customerPhone:M.phoneNumber||"",status:M.status||"completed",transcript:M.transcript?String(M.transcript).split(`
`).filter(Fe=>Fe.trim()).map((Fe,le)=>({speaker:Fe.startsWith("User:")?"user":"ai",text:Fe.replace(/^(User|AI):\s*/i,"").trim(),timestamp:Date.now()-(M.duration||0)*1e3+le*1e3,startTime:le*2,endTime:(le+1)*2})):[{speaker:"ai",text:"Transcript not available",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:M.summary||"No summary available"}};b(Ne),w(!0)}else{const be={id:M.id||"unknown",duration:M.duration||0,recording:M.recording_url||M.recording,cost:M.cost||0,transcript:[{speaker:"ai",text:"Call data is loading...",timestamp:Date.now()}],analysis:{sentiment:.5,keywords:[],summary:"Loading..."}};b(be),w(!0)}},[S,_]=p.useState([]),[k,T]=p.useState(!0);p.useEffect(()=>{A(),E()},[e]);const A=async()=>{var M,L,q,ue;if(e)try{d(!0);let G;console.log(" Fetching campaign details for ID:",e),G=await Hx.getCampaignById(e),G||(console.error(" Campaign not found in database"),G={id:e,name:"Campaign Not Found",status:"draft",totalLeads:0,callsCompleted:0,totalCost:0,successRate:0,settings:{total_leads:0,calls_completed:0,totalLeads:0,callsCompleted:0}}),console.log(" Campaign data from backend:",G),G||(console.error(" Campaign data is undefined!"),G={id:e,name:"Loading...",status:"draft",totalLeads:0,callsCompleted:0,settings:{}}),console.log(" Metrics:",{totalLeads:G==null?void 0:G.totalLeads,callsCompleted:G==null?void 0:G.callsCompleted,metrics:G==null?void 0:G.metrics}),console.log(" Setting campaign state with:",{totalLeads:G.totalLeads,callsCompleted:G.callsCompleted,leadsCalled:G.totalLeads,answered:G.callsCompleted,name:G.name,fullData:G}),o({...Wc,id:G.id,name:G.name,status:G.status,phoneNumbers:G.phoneNumber?[G.phoneNumber]:[],phoneNumberId:G.phoneNumberId,phoneNumberDetails:G.phoneNumberDetails||[],voiceAgent:{...Wc.voiceAgent,name:((M=G.settings)==null?void 0:M.voice_agent)||G.assistantName||"AI Assistant"},script:G.script||Wc.script,systemPrompt:((L=G.settings)==null?void 0:L.system_prompt)||"",assistantId:G.assistantId||((q=G.settings)==null?void 0:q.assistant_id)||"",callingSchedule:((ue=G.settings)==null?void 0:ue.schedule)||Wc.callingSchedule,team:G.team||[],budget:G.budget||Wc.budget,settings:G.settings||Wc.settings,createdAt:G.createdAt,lastModified:G.updatedAt,totalLeads:G.totalLeads||0,callsCompleted:G.callsCompleted||0,leadsContacted:G.totalLeads||0,leadsCalled:G.totalLeads||0,callsToday:G.callsToday||0,callsConnected:G.callsCompleted||0,answered:G.callsCompleted||0,avgCallDuration:G.avgCallDuration||120,outcomes:{answered:G.callsCompleted||0,voicemail:0,noAnswer:0,busy:0,failed:0},meetings:G.meetings||0,opportunities:G.opportunities||0,callbacks:G.totalCost||0,calledBack:G.callbacks||0,totalCost:G.totalCost||0,progress:G.totalLeads>0?Math.round(G.callsCompleted/G.totalLeads*100):0})}catch(G){console.error("Error fetching campaign details:",G),s({title:"Error",description:"Failed to load campaign details",variant:"destructive"})}finally{d(!1)}},E=async()=>{if(e)try{T(!0),console.log(" Fetching calls for campaign:",e);const M=await Hx.getCampaignCalls(e);console.log(" Fetched calls from direct Supabase:",M),console.log(" Extracted calls data:",M);const L=M.map(q=>{var ue;return{id:q.id,phoneNumber:q.customerPhone||q.customer_phone||q.phone_number||((ue=q.lead)==null?void 0:ue.phone),contactName:q.customerName||q.customer_name||(q.lead?`${q.lead.firstName||""} ${q.lead.lastName||""}`.trim():""),callTime:q.startedAt||q.started_at||q.created_at,duration:q.duration||0,cost:q.cost||0,outcome:q.outcome||(q.status==="completed"?"Completed":q.status==="initiated"?"In Progress":q.status==="failed"?"Failed":q.status),status:q.status,recording_url:q.recording||q.recording_url,recording:q.recording||q.recording_url,transcript:q.transcript,summary:q.summary,sentimentScore:q.sentiment==="positive"?.85:q.sentiment==="negative"?.15:.5,leadQuality:q.sentiment==="positive"?"hot":q.sentiment==="negative"?"cold":"warm"}});console.log(" Transformed calls:",L),console.log(" Setting",L.length,"calls in state"),_(L)}catch(M){console.error(" Error fetching campaign calls:",M),_([])}finally{console.log(" Setting isLoadingCalls to false"),T(!1)}},R=(M,L)=>{o(q=>({...q,[M]:L}))},z=async()=>{var L;const M=i.assistantId||((L=i.settings)==null?void 0:L.assistant_id);if(!M){s({title:"Error",description:"No VAPI assistant ID found for this campaign",variant:"destructive"});return}try{if(h(!0),!await DR.updateAssistantPrompt(M,i.systemPrompt))throw new Error("Failed to update VAPI assistant");const{error:ue}=await rt.from("campaigns").update({settings:{...i.settings,system_prompt:i.systemPrompt},updated_at:new Date().toISOString()}).eq("id",e);if(ue)throw ue;s({title:"Success",description:"System prompt updated in both VAPI and database successfully"}),setOriginalCampaign({...i})}catch(q){console.error("Error updating VAPI prompt:",q),s({title:"Error",description:"Failed to update system prompt in VAPI",variant:"destructive"})}finally{h(!1)}},B=(M,L,q)=>{o(ue=>({...ue,[M]:{...ue[M],[L]:q}}))},O=()=>{const M=prompt("Enter phone number:");M&&!i.phoneNumbers.includes(M)&&R("phoneNumbers",[...i.phoneNumbers,M])},I=M=>{R("phoneNumbers",i.phoneNumbers.filter((L,q)=>q!==M))},F=()=>{const M=prompt("Enter team member name:"),L=prompt("Enter email:"),q=prompt("Enter role (manager/agent/viewer):");M&&L&&q&&R("teamMembers",[...i.teamMembers,{id:Date.now().toString(),name:M,email:L,role:q}])},V=M=>{R("teamMembers",i.teamMembers.filter(L=>L.id!==M))},W=()=>{R("status",i.status==="active"?"paused":"active")},X=()=>{console.log("Saving campaign:",i),n(!1)},D=M=>{switch(M){case"active":return r.jsx(ke,{className:"bg-green-500 hover:bg-green-600",children:"Active"});case"paused":return r.jsx(ke,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Paused"});case"draft":return r.jsx(ke,{className:"bg-gray-500 hover:bg-gray-600",children:"Draft"});case"disabled":return r.jsx(ke,{className:"bg-red-500 hover:bg-red-600",children:"Disabled"});default:return r.jsx(ke,{variant:"secondary",children:M})}};return l?r.jsx("div",{className:"min-h-screen w-full bg-black flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),r.jsx("p",{className:"text-gray-400",children:"Loading campaign details..."})]})}):r.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden bg-black px-4",children:[r.jsxs("div",{className:"mx-auto mt-8 w-full max-w-7xl",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{className:"flex items-center text-lg font-semibold text-gray-400 transition-colors hover:text-white",onClick:()=>t("/campaigns"),children:[r.jsx(fd,{className:"mr-2 h-5 w-5"}),"Back to Campaigns"]}),r.jsx("div",{className:"h-6 w-px bg-gray-600"}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:i.name}),D(i.status)]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(K,{variant:"outline",onClick:W,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:i.status==="active"?r.jsxs(r.Fragment,{children:[r.jsx(gd,{className:"mr-2 h-4 w-4"}),"Pause"]}):r.jsxs(r.Fragment,{children:[r.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Activate"]})}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:r.jsx(uy,{className:"h-4 w-4"})})}),r.jsxs(Jn,{className:"border-gray-700 bg-gray-800",children:[r.jsxs(Yt,{className:"text-white hover:bg-gray-700",children:[r.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Duplicate Campaign"]}),r.jsxs(Yt,{className:"text-white hover:bg-gray-700",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export Data"]}),r.jsxs(Yt,{className:"text-white hover:bg-gray-700",children:[r.jsx(bY,{className:"mr-2 h-4 w-4"}),"Share"]}),r.jsxs(Yt,{className:"text-red-400 hover:bg-gray-700",children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete Campaign"]})]})]}),a?r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(K,{variant:"outline",onClick:()=>n(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(At,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(K,{onClick:X,className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]}):r.jsxs(K,{onClick:()=>n(!0),className:"bg-emerald-600 font-bold text-white hover:bg-emerald-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Edit Campaign"]})]})]}),r.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Leads Called"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:i.leadsCalled||i.callsCompleted||S.length||0})]}),r.jsx(dt,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Answered"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:i.answered||i.callsConnected||S.filter(M=>M.status==="completed"||M.outcome==="Completed").length||0})]}),r.jsx(yt,{className:"h-8 w-8 text-emerald-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",(i.callbacks||0).toFixed(2)]})]}),r.jsx(Hr,{className:"h-8 w-8 text-amber-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Opportunities"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:i.meetings||0})]}),r.jsx(Sr,{className:"h-8 w-8 text-purple-500"})]})})})]}),r.jsx("div",{className:"mb-8 border-b border-gray-700"}),r.jsx(Y,{className:"mb-8 border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Campaign Progress"}),r.jsxs("span",{className:"text-gray-400",children:[i.totalLeads>0?Math.round((i.callsCompleted||S.length||0)/i.totalLeads*100):S.length>0?100:0,"%"]})]}),r.jsx(Gt,{value:i.totalLeads>0?(i.callsCompleted||S.length||0)/i.totalLeads*100:S.length>0?100:0,className:"h-3"})]})}),r.jsxs(yo,{value:f,onValueChange:g,className:"w-full",children:[r.jsxs(Oi,{className:"grid w-full grid-cols-9 bg-gray-800",children:[r.jsx(jt,{value:"overview",className:"text-white",children:"Overview"}),r.jsx(jt,{value:"calls",className:"text-white",children:"Calls"}),r.jsx(jt,{value:"phone-numbers",className:"text-white",children:"Phone Numbers"}),r.jsx(jt,{value:"voice-agent",className:"text-white",children:"Voice Agent"}),r.jsx(jt,{value:"schedule",className:"text-white",children:"Schedule"}),r.jsx(jt,{value:"script",className:"text-white",children:"System Prompt"}),r.jsx(jt,{value:"team",className:"text-white",children:"Team"}),r.jsx(jt,{value:"budget",className:"text-white",children:"Budget"}),r.jsx(jt,{value:"settings",className:"text-white",children:"Settings"})]}),r.jsx(Nt,{value:"overview",className:"mt-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Campaign Information"})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Campaign Name"}),a?r.jsx(Ae,{value:i.name,onChange:M=>R("name",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.name})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Description"}),a?r.jsx(ha,{value:i.description,onChange:M=>R("description",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.description})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Product/Service Description"}),a?r.jsx(ha,{value:i.productDescription,onChange:M=>R("productDescription",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.productDescription})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Budget Overview"})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Total Budget:"}),r.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Spent:"}),r.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.spent]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Remaining:"}),r.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.total-i.budget.spent]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Cost per Call:"}),r.jsxs("span",{className:"font-semibold text-white",children:["$",i.budget.perCall]})]}),r.jsx(Gt,{value:i.budget.spent/i.budget.total*100,className:"h-2"})]})]})]})}),r.jsx(Nt,{value:"calls",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(dt,{className:"h-5 w-5"}),"Campaign Calls (",S.length,")"]})}),r.jsx(J,{children:k?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-500"}),r.jsx("p",{className:"text-gray-400",children:"Loading calls..."})]})}):S.length===0?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),r.jsx("p",{className:"text-gray-400",children:"No calls have been made for this campaign yet."}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Calls will appear here once the campaign starts making calls."})]})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-700",children:[r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Call ID"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Phone Number"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Contact Name"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Time"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Duration"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Cost"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Outcome"}),r.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-300",children:"Recording"})]})}),r.jsx("tbody",{children:S.map(M=>r.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"font-mono text-sm text-emerald-400",children:M.id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"font-medium text-white",children:M.phoneNumber})}),r.jsx("td",{className:"px-4 py-3",children:M.contactName?r.jsx("span",{className:"text-white",children:M.contactName}):r.jsx("span",{className:"italic text-gray-500",children:"Name not confirmed"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-gray-300",children:new Date(M.callTime).toLocaleString()})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-gray-300",children:M.duration>0?`${Math.floor(M.duration/60)}m ${M.duration%60}s`:M.status==="completed"?"Unknown":"0m 0s"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:"font-medium text-green-400",children:["$",(M.cost||0).toFixed(2)]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(ke,{variant:"outline",className:M.outcome==="interested"||M.outcome.includes("Interested")?"border-green-500 text-green-400":M.outcome==="callback"||M.outcome.includes("Callback")?"border-yellow-500 text-yellow-400":M.outcome==="not_interested"||M.outcome.includes("Not Interested")?"border-red-500 text-red-400":M.outcome==="failed"?"border-orange-500 text-orange-400":M.outcome==="no_answer"||M.outcome.includes("No Answer")?"border-gray-500 text-gray-400":M.outcome==="voicemail"?"border-purple-500 text-purple-400":M.outcome==="completed"||M.outcome==="Completed"?"border-emerald-500 text-emerald-400":"border-blue-500 text-blue-400",children:M.outcome==="failed"?"Unsuccessful":M.outcome==="no_answer"?"No Answer":M.outcome==="interested"?"Interested":M.outcome==="not_interested"?"Not Interested":M.outcome==="voicemail"?"Voicemail":M.outcome==="completed"?"Completed":M.outcome||"Unknown"})}),r.jsx("td",{className:"px-4 py-3",children:M.status==="in_progress"||M.status==="initiated"?r.jsx("span",{className:"text-sm text-yellow-500",children:"In progress..."}):M.status==="failed"?r.jsx("span",{className:"text-sm text-gray-500",children:"Call failed"}):M.status==="completed"||M.outcome==="Completed"?r.jsxs(K,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:L=>{L.stopPropagation(),console.log(" Opening call modal for:",M.id),N(M)},children:[r.jsx(Kn,{className:"mr-1 h-4 w-4"}),"Play"]}):r.jsx("span",{className:"text-sm text-gray-500",children:"No recording"})})]},M.id))})]})})})]})}),r.jsx(Nt,{value:"phone-numbers",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Phone Numbers"}),r.jsx(wt,{className:"text-gray-400",children:"Phone numbers used for making calls in this campaign"})]}),r.jsxs(J,{className:"space-y-4",children:[i.phoneNumbers&&i.phoneNumbers.length>0?i.phoneNumbers.map((M,L)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(dt,{className:"h-5 w-5 text-emerald-500"}),r.jsx("span",{className:"text-white font-medium",children:M})]}),a&&r.jsx(K,{variant:"outline",size:"sm",onClick:()=>I(L),children:r.jsx(At,{className:"h-4 w-4"})})]},L)):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(dt,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"No phone numbers configured for this campaign"}),i.phoneNumberId&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Phone Number ID: ",i.phoneNumberId]})]}),a&&r.jsxs(K,{onClick:O,variant:"outline",className:"w-full",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add Phone Number"]})]})]})}),r.jsx(Nt,{value:"voice-agent",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Voice Agent Configuration"})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Assistant Name"}),a?r.jsx(Ae,{value:i.voiceAgent.name,onChange:M=>B("voiceAgent","name",M.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white"}):r.jsxs("div",{className:"mt-2 p-3 bg-gray-800 rounded-lg",children:[r.jsx("p",{className:"text-white font-medium",children:i.voiceAgent.name}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"VAPI Assistant"})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Voice Selection"}),a?r.jsxs(Qe,{value:i.voiceAgent.voice,onValueChange:M=>B("voiceAgent","voice",M),children:[r.jsx(Je,{className:"mt-2",children:r.jsx(et,{})}),r.jsx(Xe,{children:$R.map(M=>r.jsx(ae,{value:M.value,children:M.label},M.value))})]}):r.jsx("p",{className:"mt-2 text-gray-300",children:(U=$R.find(M=>M.value===i.voiceAgent.voice))==null?void 0:U.label})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Tone"}),a?r.jsxs(Qe,{value:i.voiceAgent.tone,onValueChange:M=>B("voiceAgent","tone",M),children:[r.jsx(Je,{className:"mt-2",children:r.jsx(et,{})}),r.jsx(Xe,{children:d1e.map(M=>r.jsx(ae,{value:M.value,children:M.label},M.value))})]}):r.jsx("p",{className:"mt-2 capitalize text-gray-300",children:i.voiceAgent.tone})]})]})]})}),r.jsx(Nt,{value:"schedule",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Calling Schedule"}),r.jsx(wt,{className:"text-gray-400",children:i.callingSchedule?"Schedule configuration for automated calling":"No schedule configured"})]}),r.jsx(J,{className:"space-y-6",children:!i.callingSchedule||!i.callingSchedule.timezone?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(is,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),r.jsx("p",{className:"text-gray-400",children:"No schedule configured for this campaign"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Calls will be made immediately when campaign is active"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Timezone"}),a?r.jsxs(Qe,{value:i.callingSchedule.timezone,onValueChange:M=>B("callingSchedule","timezone",M),children:[r.jsx(Je,{className:"mt-2",children:r.jsx(et,{})}),r.jsx(Xe,{children:LR.map(M=>r.jsx(ae,{value:M.value,children:M.label},M.value))})]}):r.jsx("p",{className:"mt-2 text-gray-300",children:(H=LR.find(M=>M.value===i.callingSchedule.timezone))==null?void 0:H.label})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Start Time"}),a?r.jsx(Ae,{type:"time",value:i.callingSchedule.startTime,onChange:M=>B("callingSchedule","startTime",M.target.value),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startTime})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"End Time"}),a?r.jsx(Ae,{type:"time",value:i.callingSchedule.endTime,onChange:M=>B("callingSchedule","endTime",M.target.value),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endTime})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Days of Week"}),r.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(M=>r.jsx(K,{variant:i.callingSchedule.daysOfWeek.includes(M)?"default":"outline",size:"sm",disabled:!a,onClick:()=>{if(a){const L=i.callingSchedule.daysOfWeek.includes(M)?i.callingSchedule.daysOfWeek.filter(q=>q!==M):[...i.callingSchedule.daysOfWeek,M];B("callingSchedule","daysOfWeek",L)}},children:M.slice(0,3).toUpperCase()},M))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Start Date"}),a?r.jsx(Ae,{type:"date",value:i.callingSchedule.startDate,onChange:M=>B("callingSchedule","startDate",M.target.value),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.startDate})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"End Date"}),a?r.jsx(Ae,{type:"date",value:i.callingSchedule.endDate,onChange:M=>B("callingSchedule","endDate",M.target.value),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.callingSchedule.endDate})]})]})]})})]})}),r.jsx(Nt,{value:"script",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"System Prompt"}),r.jsx(wt,{className:"text-gray-400",children:"The system prompt used by the VAPI assistant for this campaign"})]}),r.jsx(J,{className:"space-y-6",children:i.systemPrompt?r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(ee,{className:"text-white",children:"VAPI System Prompt"}),a&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(K,{onClick:async()=>{var L;const M=i.assistantId||((L=i.settings)==null?void 0:L.assistant_id);if(M){h(!0);const q=await DR.fetchAssistantDetails(M);q!=null&&q.systemPrompt&&(R("systemPrompt",q.systemPrompt),s({title:"Success",description:"Fetched latest prompt from VAPI"})),h(!1)}},variant:"outline",className:"text-sm",size:"sm",disabled:u,children:[r.jsx(yn,{className:"h-4 w-4 mr-2"}),"Fetch from VAPI"]}),r.jsxs(K,{onClick:()=>z(),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",disabled:u,children:[r.jsx(qo,{className:"h-4 w-4 mr-2"}),"Push to VAPI"]})]})]}),a?r.jsx("div",{className:"relative flex-1",children:r.jsx(ha,{value:i.systemPrompt,onChange:M=>R("systemPrompt",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white font-mono text-sm w-full h-[500px] resize-none",style:{minHeight:"500px",maxHeight:"500px"}})}):r.jsx("div",{className:"mt-2 p-4 bg-gray-800 rounded-lg h-[500px] overflow-hidden",children:r.jsx("div",{className:"h-full overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:r.jsx("pre",{className:"text-gray-300 whitespace-pre-wrap font-mono text-sm",children:i.systemPrompt})})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Introduction"}),a?r.jsx(ha,{value:i.script.introduction,onChange:M=>B("script","introduction",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.script.introduction})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Main Content"}),a?r.jsx(ha,{value:i.script.mainContent,onChange:M=>B("script","mainContent",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:4}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.script.mainContent})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Objection Handling"}),a?r.jsx(ha,{value:i.script.objections,onChange:M=>B("script","objections",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.script.objections})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Closing"}),a?r.jsx(ha,{value:i.script.closing,onChange:M=>B("script","closing",M.target.value),className:"mt-2 border-gray-700 bg-gray-800 text-white",rows:3}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.script.closing})]})]})})]})}),r.jsx(Nt,{value:"team",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{className:"text-white",children:"Team Members"}),a&&r.jsxs(K,{onClick:F,variant:"outline",size:"sm",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add Member"]})]})}),r.jsxs(J,{className:"space-y-4",children:[i.teamMembers.map(M=>r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:M.name}),r.jsx("p",{className:"text-sm text-gray-400",children:M.email}),r.jsx(ke,{variant:"secondary",className:"mt-1",children:M.role})]}),a&&r.jsx(K,{variant:"outline",size:"sm",onClick:()=>V(M.id),children:r.jsx(At,{className:"h-4 w-4"})})]})})},M.id)),i.teamMembers.length===0&&r.jsx("p",{className:"py-8 text-center text-gray-400",children:"No team members assigned to this campaign."})]})]})}),r.jsx(Nt,{value:"budget",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Budget Management"})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Total Budget ($)"}),a?r.jsx(Ae,{type:"number",value:i.budget.total,onChange:M=>B("budget","total",parseFloat(M.target.value)||0),className:"mt-2"}):r.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.total]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Cost Per Call ($)"}),a?r.jsx(Ae,{type:"number",step:"0.01",value:i.budget.perCall,onChange:M=>B("budget","perCall",parseFloat(M.target.value)||0),className:"mt-2"}):r.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.perCall]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Daily Budget Limit ($)"}),a?r.jsx(Ae,{type:"number",value:i.budget.dailyLimit,onChange:M=>B("budget","dailyLimit",parseFloat(M.target.value)||0),className:"mt-2"}):r.jsxs("p",{className:"mt-2 text-gray-300",children:["$",i.budget.dailyLimit]})]}),r.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Budget Usage"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.budget.spent," / $",i.budget.total]})]}),r.jsx(Gt,{value:i.budget.spent/i.budget.total*100,className:"h-2"}),r.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Estimated calls remaining:"," ",Math.floor((i.budget.total-i.budget.spent)/i.budget.perCall)]})]})]})]})}),r.jsx(Nt,{value:"settings",className:"mt-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Advanced Settings"})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Max Calls Per Day"}),a?r.jsx(Ae,{type:"number",value:i.settings.maxCallsPerDay,onChange:M=>B("settings","maxCallsPerDay",parseInt(M.target.value)||0),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.maxCallsPerDay})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Retry Attempts"}),a?r.jsx(Ae,{type:"number",value:i.settings.retryAttempts,onChange:M=>B("settings","retryAttempts",parseInt(M.target.value)||0),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.retryAttempts})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white",children:"Max Call Duration (seconds)"}),a?r.jsx(Ae,{type:"number",value:i.settings.callDuration,onChange:M=>B("settings","callDuration",parseInt(M.target.value)||0),className:"mt-2"}):r.jsx("p",{className:"mt-2 text-gray-300",children:i.settings.callDuration})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($r,{id:"voicemail",checked:i.settings.voicemailEnabled,onCheckedChange:M=>B("settings","voicemailEnabled",M),disabled:!a}),r.jsx(ee,{htmlFor:"voicemail",className:"text-white",children:"Enable Voicemail"})]})]})]})})]})]}),r.jsx(zy,{isOpen:y,onClose:()=>w(!1),callData:v})]})}class m1e{constructor(){Ns(this,"phoneNumbers",[]);Ns(this,"currentPhoneIndex",0);Ns(this,"MAX_CALLS_PER_MINUTE",10);Ns(this,"MAX_CALLS_PER_PHONE_PER_DAY",166);Ns(this,"CALL_WINDOW_START",9);Ns(this,"CALL_WINDOW_END",20);Ns(this,"MAX_RETRIES",3);this.loadPhoneNumbers()}async loadPhoneNumbers(){const{data:t,error:s}=await rt.from("phone_numbers").select("*").eq("status","active").eq("country","GB");s&&console.error("Error loading phone_numbers:",s),t&&t.length>0?this.phoneNumbers=t.map(a=>({id:a.id,number:a.number,dailyCallCount:0,lastUsed:new Date})):this.phoneNumbers=[{id:"default",number:"+447482792343",dailyCallCount:0,lastUsed:new Date}]}isWithinCallWindow(){const s=new Date().getHours();return s>=this.CALL_WINDOW_START&&s<this.CALL_WINDOW_END}getNextCallWindow(){const t=new Date,s=new Date(t);return t.getHours()>=this.CALL_WINDOW_END&&s.setDate(s.getDate()+1),s.setHours(this.CALL_WINDOW_START,0,0,0),s}async processCampaign(t,s){const{data:a}=await rt.from("campaigns").select("*").eq("id",t).single();if(!a||a.status!=="active")throw new Error("Campaign not found or inactive");let n=rt.from("leads").select("*").eq("campaign_id",t).in("status",["new","retry"]).order("priority",{ascending:!1});s&&s.length>0&&(n=n.in("id",s));const{data:i}=await n;if(!i||i.length===0)return console.log("No leads to process"),{processed:0};let o=0;for(const l of i)await rt.from("leads").update({status:"queued",queued_at:new Date().toISOString()}).eq("id",l.id),o++;return await rt.from("campaigns").update({status:"processing",last_run_at:new Date().toISOString()}).eq("id",t),{processed:o,campaign:a.name,estimatedTime:`${Math.ceil(o/10)} minutes`,message:"Leads queued for processing. Backend service will process calls."}}async getQueueStatus(){const{data:t}=await rt.from("leads").select("id").eq("status","queued"),{data:s}=await rt.from("leads").select("id").eq("status","processing"),{data:a}=await rt.from("calls").select("id").eq("status","completed"),{data:n}=await rt.from("calls").select("id").eq("status","failed");return{waiting:(t==null?void 0:t.length)||0,active:(s==null?void 0:s.length)||0,completed:(a==null?void 0:a.length)||0,failed:(n==null?void 0:n.length)||0,delayed:0,phoneNumbers:this.phoneNumbers.map(i=>({number:i.number,dailyCallsUsed:i.dailyCallCount,dailyCallsRemaining:this.MAX_CALLS_PER_PHONE_PER_DAY-i.dailyCallCount})),isWithinCallWindow:this.isWithinCallWindow(),nextCallWindow:this.isWithinCallWindow()?null:this.getNextCallWindow(),message:"Frontend view - actual processing happens on backend"}}async pauseCampaign(t){return await rt.from("campaigns").update({status:"paused",paused_at:new Date().toISOString()}).eq("id",t),await rt.from("leads").update({status:"new",queued_at:null}).eq("campaign_id",t).eq("status","queued"),{paused:!0}}async resumeCampaign(t){return await rt.from("campaigns").update({status:"active",resumed_at:new Date().toISOString()}).eq("id",t),await this.processCampaign(t)}async getDailyStats(){const t=new Date;t.setHours(0,0,0,0);const{data:s}=await rt.from("calls").select("*").gte("created_at",t.toISOString()),a=(s==null?void 0:s.length)||0,n=(s==null?void 0:s.filter(l=>l.status==="completed").length)||0,i=(s==null?void 0:s.filter(l=>l.status==="failed").length)||0,o=(s==null?void 0:s.reduce((l,d)=>l+(d.cost||0),0))||0;return{date:Ki(t,"yyyy-MM-dd"),totalCalls:a,completedCalls:n,failedCalls:i,successRate:a>0?(n/a*100).toFixed(2)+"%":"0%",totalCost:`${o.toFixed(2)}`,callsRemaining:2e3-a,estimatedCostToday:`${(a*2.05).toFixed(2)}`,note:"Frontend statistics - actual call processing requires backend service"}}}const $h=new m1e;function h1e(){var v;const[e,t]=p.useState([]),[s,a]=p.useState(null),[n,i]=p.useState(null),[o,l]=p.useState(!1),[d,u]=p.useState("");p.useEffect(()=>{h(),f();const b=setInterval(()=>{f()},1e4);return()=>clearInterval(b)},[]);const h=async()=>{const{data:b}=await rt.from("campaigns").select("*").order("created_at",{ascending:!1});b&&(t(b),b.length>0&&!d&&u(b[0].id))},f=async()=>{const b=await $h.getQueueStatus();a(b);const N=await $h.getDailyStats();i(N)},g=async()=>{if(d){l(!0);try{const b=await $h.processCampaign(d);console.log("Campaign started:",b),await f()}catch(b){console.error("Failed to start campaign:",b)}l(!1)}},y=async()=>{if(d){l(!0);try{await $h.pauseCampaign(d),await f()}catch(b){console.error("Failed to pause campaign:",b)}l(!1)}},w=async()=>{if(d){l(!0);try{await $h.resumeCampaign(d),await f()}catch(b){console.error("Failed to resume campaign:",b)}l(!1)}};return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Campaign Processor"}),r.jsx("p",{className:"text-gray-500",children:"Manage automated calling campaigns"})]}),r.jsx(ke,{variant:s!=null&&s.isWithinCallWindow?"success":"secondary",children:s!=null&&s.isWithinCallWindow?"Call Window Open":"Call Window Closed"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Y,{children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ye,{className:"text-sm font-medium",children:"Today's Calls"}),r.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalCalls)||0}),r.jsx(Gt,{value:((n==null?void 0:n.totalCalls)||0)/20,className:"mt-2"}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(n==null?void 0:n.callsRemaining)||2e3," remaining today"]})]})]}),r.jsxs(Y,{children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ye,{className:"text-sm font-medium",children:"Success Rate"}),r.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.successRate)||"0%"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs(ke,{variant:"success",className:"text-xs",children:[(n==null?void 0:n.completedCalls)||0," completed"]}),r.jsxs(ke,{variant:"destructive",className:"text-xs",children:[(n==null?void 0:n.failedCalls)||0," failed"]})]})]})]}),r.jsxs(Y,{children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ye,{className:"text-sm font-medium",children:"Today's Cost"}),r.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalCost)||"0.00"}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Est. total: ",(n==null?void 0:n.estimatedCostToday)||"0.00"]})]})]}),r.jsxs(Y,{children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ye,{className:"text-sm font-medium",children:"Queue Status"}),r.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(J,{children:r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs(ke,{variant:"default",children:[(s==null?void 0:s.active)||0," active"]}),r.jsxs(ke,{variant:"secondary",children:[(s==null?void 0:s.waiting)||0," waiting"]}),r.jsxs(ke,{variant:"outline",children:[(s==null?void 0:s.delayed)||0," delayed"]})]})})]})]}),r.jsxs(Y,{children:[r.jsxs(xe,{children:[r.jsx(ye,{children:"Campaign Control"}),r.jsx(wt,{children:"Start, pause, or resume calling campaigns"})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("select",{className:"flex-1 p-2 border rounded",value:d,onChange:b=>u(b.target.value),children:[r.jsx("option",{value:"",children:"Select a campaign"}),e.map(b=>r.jsxs("option",{value:b.id,children:[b.name," (",b.is_active?"Active":"Inactive",")"]},b.id))]}),r.jsxs(K,{onClick:g,disabled:o||!d,className:"gap-2",children:[r.jsx(Kn,{className:"h-4 w-4"}),"Start"]}),r.jsxs(K,{onClick:y,disabled:o||!d,variant:"secondary",className:"gap-2",children:[r.jsx(gd,{className:"h-4 w-4"}),"Pause"]}),r.jsxs(K,{onClick:w,disabled:o||!d,variant:"secondary",className:"gap-2",children:[r.jsx(ea,{className:"h-4 w-4"}),"Resume"]})]}),!(s!=null&&s.isWithinCallWindow)&&(s==null?void 0:s.nextCallWindow)&&r.jsxs(Wt,{children:[r.jsx(Dt,{className:"h-4 w-4"}),r.jsxs(Vt,{children:["Call window is closed. Calls will resume at ",Ki(new Date(s.nextCallWindow),"HH:mm")]})]})]})]}),r.jsxs(Y,{children:[r.jsxs(xe,{children:[r.jsx(ye,{children:"Phone Numbers"}),r.jsx(wt,{children:"Status and usage of configured phone numbers"})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-3",children:[(v=s==null?void 0:s.phoneNumbers)==null?void 0:v.map((b,N)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-mono",children:b.number})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Used: "}),r.jsx("span",{className:"font-semibold",children:b.dailyCallsUsed})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Remaining: "}),r.jsx("span",{className:"font-semibold",children:b.dailyCallsRemaining})]}),r.jsx(Gt,{value:b.dailyCallsUsed/166*100,className:"w-24"})]})]},N)),(!(s!=null&&s.phoneNumbers)||s.phoneNumbers.length===0)&&r.jsxs(Wt,{children:[r.jsx(Dt,{className:"h-4 w-4"}),r.jsx(Vt,{children:"No phone numbers configured. Using default number."})]})]})})]}),r.jsxs(Y,{children:[r.jsxs(xe,{children:[r.jsx(ye,{children:"Recent Activity"}),r.jsx(wt,{children:"Latest call attempts and results"})]}),r.jsx(J,{children:r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Activity log will appear here when calls are processed"})})]})]})}var J2="Radio",[f1e,Z7]=Bs(J2),[p1e,g1e]=f1e(J2),Q7=p.forwardRef((e,t)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...h}=e,[f,g]=p.useState(null),y=ht(t,b=>g(b)),w=p.useRef(!1),v=f?u||!!f.closest("form"):!0;return r.jsxs(p1e,{scope:s,checked:n,disabled:o,children:[r.jsx(qe.button,{type:"button",role:"radio","aria-checked":n,"data-state":sB(n),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:ze(e.onClick,b=>{n||d==null||d(),v&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),v&&r.jsx(rB,{control:f,bubbles:!w.current,name:a,value:l,checked:n,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Q7.displayName=J2;var eB="RadioIndicator",tB=p.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:a,...n}=e,i=g1e(eB,s);return r.jsx(va,{present:a||i.checked,children:r.jsx(qe.span,{"data-state":sB(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});tB.displayName=eB;var x1e="RadioBubbleInput",rB=p.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:a=!0,...n},i)=>{const o=p.useRef(null),l=ht(o,i),d=hp(s),u=ap(t);return p.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==s&&y){const w=new Event("click",{bubbles:a});y.call(h,s),h.dispatchEvent(w)}},[d,s,a]),r.jsx(qe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rB.displayName=x1e;function sB(e){return e?"checked":"unchecked"}var y1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pv="RadioGroup",[v1e,p8e]=Bs(Pv,[Nm,Z7]),aB=Nm(),nB=Z7(),[b1e,w1e]=v1e(Pv),iB=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:h=!0,onValueChange:f,...g}=e,y=aB(s),w=Rd(u),[v,b]=Ni({prop:i,defaultProp:n??null,onChange:f,caller:Pv});return r.jsx(b1e,{scope:s,name:a,required:o,disabled:l,value:v,onValueChange:b,children:r.jsx(NS,{asChild:!0,...y,orientation:d,dir:w,loop:h,children:r.jsx(qe.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:w,...g,ref:t})})})});iB.displayName=Pv;var oB="RadioGroupItem",lB=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:a,...n}=e,i=w1e(oB,s),o=i.disabled||a,l=aB(s),d=nB(s),u=p.useRef(null),h=ht(t,u),f=i.value===n.value,g=p.useRef(!1);return p.useEffect(()=>{const y=v=>{y1e.includes(v.key)&&(g.current=!0)},w=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),r.jsx(_S,{asChild:!0,...l,focusable:!o,active:f,children:r.jsx(Q7,{disabled:o,required:i.required,checked:f,...d,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:ze(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ze(n.onFocus,()=>{var y;g.current&&((y=u.current)==null||y.click())})})})});lB.displayName=oB;var j1e="RadioGroupIndicator",cB=p.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...a}=e,n=nB(s);return r.jsx(tB,{...n,...a,ref:t})});cB.displayName=j1e;var dB=iB,uB=lB,N1e=cB;const Hl=p.forwardRef(({className:e,...t},s)=>r.jsx(dB,{className:De("grid gap-2",e),...t,ref:s}));Hl.displayName=dB.displayName;const Qs=p.forwardRef(({className:e,...t},s)=>r.jsx(uB,{ref:s,className:De("aspect-square h-4 w-4 rounded-full border border-zinc-200 border-zinc-900 text-zinc-900 shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-50 dark:border-zinc-800 dark:text-zinc-50 dark:focus-visible:ring-zinc-300",e),...t,children:r.jsx(N1e,{className:"flex items-center justify-center",children:r.jsx(V3,{className:"h-3.5 w-3.5 fill-primary"})})}));Qs.displayName=uB.displayName;const Lh=[{id:1,name:"Campaign Type",icon:Sr},{id:2,name:"Name & Objective",icon:Sr},{id:3,name:"Phone Numbers",icon:dt},{id:4,name:"Voice Agent",icon:pd},{id:5,name:"Test Agent",icon:Kn},{id:6,name:"Import Leads",icon:qo},{id:7,name:"Budget & Credits",icon:Hr},{id:8,name:"Team Assignment",icon:Ot},{id:9,name:"Final Review",icon:as}],zR=[{id:"sales",name:"Sales Outreach",description:"Generate new sales opportunities"},{id:"qualification",name:"Lead Qualification",description:"Qualify and score leads"},{id:"followup",name:"Follow-up",description:"Re-engage existing leads"},{id:"survey",name:"Survey",description:"Collect feedback and insights"},{id:"appointment",name:"Appointment Setting",description:"Schedule meetings"},{id:"custom",name:"Custom",description:"Define your own objective"}],m0=[{id:"emma",name:"Emma - Sales Specialist",description:"Friendly and persuasive, great for B2C sales",avatar:"",languages:["English","Spanish"],specialties:["Sales","Product Demos","Objection Handling"]},{id:"marcus",name:"Marcus - Enterprise Sales",description:"Professional and consultative for B2B",avatar:"",languages:["English"],specialties:["Enterprise Sales","Technical Discussions","ROI Analysis"]},{id:"sophia",name:"Sophia - Lead Qualifier",description:"Efficient at gathering information and scoring leads",avatar:"",languages:["English","French"],specialties:["Lead Qualification","Data Collection","Scheduling"]},{id:"alex",name:"Alex - Customer Success",description:"Warm and helpful for follow-ups and support",avatar:"",languages:["English"],specialties:["Follow-ups","Customer Support","Satisfaction Surveys"]}],FR=[{id:"1",name:"Sarah Johnson",role:"Sales Manager",avatar:"SJ"},{id:"2",name:"Mike Davis",role:"Senior Sales Rep",avatar:"MD"},{id:"3",name:"Emily Wilson",role:"Sales Rep",avatar:"EW"},{id:"4",name:"John Smith",role:"Sales Rep",avatar:"JS"},{id:"5",name:"Lisa Chen",role:"Sales Coordinator",avatar:"LC"}];function _1e(){const e=br(),t=p.useRef(null),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,u]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,v]=p.useState(!1),[b,N]=p.useState({name:"",objective:"",description:"",phoneNumber:"",twilioIntegration:!1,vapiPhoneId:"",voiceAgent:"",voiceSettings:{speed:1,pitch:1,temperature:.7},testCompleted:!1,testNotes:"",leads:[],csvFileName:"",budget:100,callCredits:1e3,autoReload:!1,autoReloadThreshold:100,assignedTeam:[],teamLeader:"",immediateStart:!0,campaignType:""}),S="campaign-wizard-draft",_=()=>localStorage.getItem(S)!==null,k=()=>{const te=b.name.trim()!==""||b.objective.trim()!==""||b.description.trim()!==""||b.phoneNumber.trim()!==""||b.voiceAgent.trim()!==""||b.leads.length>0||b.csvFileName.trim()!==""||b.campaignType!==""||s>1||w||Object.keys(o).length>0;return console.log(" Draft check:",{name:b.name.trim(),objective:b.objective.trim(),description:b.description.trim(),phoneNumber:b.phoneNumber.trim(),voiceAgent:b.voiceAgent.trim(),leadsCount:b.leads.length,csvFileName:b.csvFileName.trim(),campaignType:b.campaignType,currentStep:s,hasChanges:te}),te},T=async()=>{if(k()){y(!0);try{const te={campaignData:b,currentStep:s,timestamp:new Date().toISOString(),version:"1.0"};localStorage.setItem(S,JSON.stringify(te)),console.log("Draft saved successfully")}catch(te){console.error("Failed to save draft:",te)}finally{y(!1)}}},A=()=>{try{const te=localStorage.getItem(S);if(te){const he=JSON.parse(te);return N(he.campaignData),a(he.currentStep),!0}}catch(te){console.error("Failed to load draft:",te),localStorage.removeItem(S)}return!1},E=()=>{localStorage.removeItem(S)},R=te=>{console.log(" Exit attempt to:",te);const he=k();console.log(" Has unsaved changes:",he),he?(console.log(" Showing exit dialog"),f(te),u(!0)):(console.log(" No changes, navigating directly"),e(te))},z=async()=>{await T(),u(!1),h&&(G.state==="blocked"?G.proceed():e(h),f(null))},B=()=>{E(),u(!1),h&&(G.state==="blocked"?G.proceed():e(h),f(null))},[O,I]=p.useState([]),[F,V]=p.useState([]),[W,X]=p.useState(!1),[D,U]=p.useState(!1),[H,M]=p.useState([]),[L,q]=p.useState(!1),ue=s/Lh.length*100;p.useEffect(()=>{(async()=>{try{X(!0),U(!0),M([]),console.log(" Loading Apex data..."),console.log(" Campaign Wizard: Loading Apex data from backend..."),console.log(" Campaign Wizard: API Base URL:","/api");const[he,_e]=await Promise.all([df.getAssistants().catch(We=>{var pt;return console.error(" Failed to load assistants:",We),console.error(" Error details:",((pt=We.response)==null?void 0:pt.data)||We.message),{assistants:[]}}),df.getPhoneNumbers().catch(We=>{var pt;return console.error(" Failed to load phone numbers:",We),console.error(" Error details:",((pt=We.response)==null?void 0:pt.data)||We.message),{phoneNumbers:[]}})]);console.log(" Loaded assistants:",he),console.log(" Loaded phone numbers:",_e);const Te=Array.isArray(he)?he:he.assistants||[],oe=Array.isArray(_e)?_e:_e.phoneNumbers||[];I(Te),V(oe),q(!0),(Te.length>0||oe.length>0)&&M([])}catch(he){console.error(" Error loading Apex data:",he),M(["Failed to connect to Apex service. Please check your Apex credentials in Settings."]),q(!1)}finally{X(!1),U(!1)}})()},[]),p.useEffect(()=>{_()&&A()},[]),p.useEffect(()=>{if(k()){const te=setTimeout(()=>{T()},2e3);return()=>clearTimeout(te)}},[b,s]),p.useEffect(()=>{const te=he=>{if(k())return he.preventDefault(),he.returnValue="You have unsaved changes. Do you want to save your progress as a draft?",he.returnValue};return window.addEventListener("beforeunload",te),()=>window.removeEventListener("beforeunload",te)},[b,s]);const G=AK(({currentLocation:te,nextLocation:he})=>{console.log(" Router blocker triggered:",{currentLocation:te.pathname,nextLocation:he.pathname,hasChanges:k()});const _e=k()&&te.pathname!==he.pathname;return console.log(" Should block navigation:",_e),_e});p.useEffect(()=>{var te;G.state==="blocked"&&(console.log(" Navigation blocked, showing dialog"),f(((te=G.location)==null?void 0:te.pathname)||"/campaigns"),u(!0))},[G.state]),p.useEffect(()=>{const te=()=>{console.log(" User interaction detected"),v(!0)};return document.addEventListener("input",te),document.addEventListener("click",te),document.addEventListener("keydown",te),()=>{document.removeEventListener("input",te),document.removeEventListener("click",te),document.removeEventListener("keydown",te)}},[]);const ge=te=>{const he={};switch(te){case 1:b.name.trim()||(he.name="Campaign name is required"),b.objective||(he.objective="Please select an objective");break;case 2:b.phoneNumber||(he.phoneNumber="Phone number is required");break;case 3:b.voiceAgent||(he.voiceAgent="Please select a voice agent");break;case 4:b.testCompleted||(he.test="Please test the voice agent before proceeding");break;case 5:b.leads.length===0&&(he.leads="Please import at least one lead");break;case 6:b.budget<10&&(he.budget="Minimum budget is $10");break;case 7:b.assignedTeam.length===0&&(he.team="Please assign at least one team member"),b.teamLeader||(he.teamLeader="Please select a team leader");break}return l(he),Object.keys(he).length===0},be=()=>{ge(s)&&s<Lh.length&&a(s+1)},Ne=()=>{s>1&&(a(s-1),l({}))},Fe=te=>{te<s?(a(te),l({})):te===s+1&&be()},le=te=>{N(he=>({...he,...te}))},Se=()=>{var te,he,_e,Te;switch(s){case 1:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Select Campaign Type"}),r.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Choose whether you're targeting businesses or individual consumers"})]}),r.jsx(Hl,{value:b.campaignType,onValueChange:oe=>N({...b,campaignType:oe}),children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${b.campaignType==="b2b"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[r.jsx(Qs,{value:"b2b",id:"b2b",className:"sr-only"}),r.jsx(ee,{htmlFor:"b2b",className:"cursor-pointer",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-900/30 p-3",children:r.jsx(tr,{className:"h-6 w-6 text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2B (Business to Business)"}),r.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target business decision makers and companies"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(ke,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Name"}),r.jsx(ke,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Contact Title"}),r.jsx(ke,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Industry"}),r.jsx(ke,{className:"border-blue-800 bg-blue-900/30 text-blue-300",children:"Company Size"})]})]})]})]})})]}),r.jsxs("div",{className:`cursor-pointer rounded-lg border p-6 transition-all ${b.campaignType==="b2c"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[r.jsx(Qs,{value:"b2c",id:"b2c",className:"sr-only"}),r.jsx(ee,{htmlFor:"b2c",className:"cursor-pointer",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"rounded-lg bg-emerald-900/30 p-3",children:r.jsx(Xr,{className:"h-6 w-6 text-emerald-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"mb-1 font-medium text-white",children:"B2C (Business to Consumer)"}),r.jsx("p",{className:"mb-3 text-sm text-gray-400",children:"Target individual consumers with personalized offers"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Required fields:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(ke,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Age Range"}),r.jsx(ke,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Interests"}),r.jsx(ke,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Location"}),r.jsx(ke,{className:"border-emerald-800 bg-emerald-900/30 text-emerald-300",children:"Consent Status"})]})]})]})]})})]})]})}),b.campaignType&&r.jsxs(Wt,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),r.jsx(Vt,{className:"text-gray-300",children:b.campaignType==="b2b"?"B2B campaigns focus on ROI, efficiency, and business value propositions. Your AI agent will be configured to speak professionally about business benefits.":"B2C campaigns require consent management and focus on personal benefits. Your AI agent will use a more conversational tone appropriate for consumers."})]})]});case 2:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Campaign Details"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Give your campaign a name and select your primary objective"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Campaign Name *"}),r.jsx(Ae,{value:b.name,onChange:oe=>le({name:oe.target.value}),placeholder:"e.g., Q4 Enterprise Sales Outreach",className:"border-gray-700 bg-gray-800 text-white"}),o.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.name})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"mb-3 block text-gray-300",children:"Campaign Objective *"}),r.jsx(Hl,{value:b.objective,onValueChange:oe=>le({objective:oe}),children:r.jsx("div",{className:"grid grid-cols-2 gap-4",children:zR.map(oe=>r.jsxs("div",{className:`relative flex cursor-pointer items-start space-x-3 rounded-lg border p-4 transition-all ${b.objective===oe.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,children:[r.jsx(Qs,{value:oe.id,id:oe.id,className:"mt-1"}),r.jsxs(ee,{htmlFor:oe.id,className:"cursor-pointer",children:[r.jsx("div",{className:"font-medium text-white",children:oe.name}),r.jsx("div",{className:"text-sm text-gray-400",children:oe.description})]})]},oe.id))})}),o.objective&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.objective})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Campaign Description (Optional)"}),r.jsx(ha,{value:b.description,onChange:oe=>le({description:oe.target.value}),placeholder:"Describe your campaign goals, target audience, and any special instructions...",className:"border-gray-700 bg-gray-800 text-white",rows:4})]})]})]});case 3:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Configure Phone Numbers"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Select your calling phone number and configure integrations"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"mb-3 block text-gray-300",children:"Phone Number Source"}),r.jsx(Hl,{value:b.twilioIntegration?"twilio":"vapi",onValueChange:oe=>le({twilioIntegration:oe==="twilio"}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"vapi",id:"vapi"}),r.jsxs(ee,{htmlFor:"vapi",className:"cursor-pointer",children:[r.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[r.jsx(dt,{className:"h-4 w-4 text-emerald-500"}),r.jsx("span",{className:"font-medium text-white",children:"Apex Phone Numbers"}),r.jsx(ke,{className:"bg-emerald-600 text-white",children:"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Use phone numbers provisioned through Apex"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"twilio",id:"twilio"}),r.jsxs(ee,{htmlFor:"twilio",className:"cursor-pointer",children:[r.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[r.jsx(dt,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"font-medium text-white",children:"Twilio Integration"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Use your existing Twilio phone numbers"})]})]})]})})]}),b.twilioIntegration?r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Wt,{className:"border-yellow-500 bg-yellow-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-500"}),r.jsx(Vt,{className:"text-yellow-300",children:"Twilio integration requires API credentials. Make sure your Twilio account is connected in Settings."})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Twilio Phone Number *"}),r.jsx(Ae,{value:b.phoneNumber,onChange:oe=>le({phoneNumber:oe.target.value}),placeholder:"+1234567890",className:"border-gray-700 bg-gray-800 text-white"}),o.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber})]})]}):r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Select Apex Phone Number *"}),D&&r.jsxs("div",{className:"mb-2 flex items-center gap-2 text-blue-400",children:[r.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),r.jsx("span",{children:"Loading phone numbers..."})]}),r.jsxs(Qe,{value:b.phoneNumber,onValueChange:oe=>le({phoneNumber:oe,vapiPhoneId:oe}),children:[r.jsx(Je,{className:"border-gray-700 bg-gray-800 text-white",children:r.jsx(et,{placeholder:D?"Loading phone numbers...":"Choose a phone number"})}),r.jsx(Xe,{className:"border-gray-700 bg-gray-800",children:F.length>0?F.map(oe=>r.jsxs(ae,{value:oe.id||oe.number,children:[oe.number," - ",oe.country||oe.region||"Unknown"]},oe.id||oe.number)):r.jsxs(r.Fragment,{children:[r.jsx(ae,{value:"+1-555-0123",children:"+1 (555) 012-3456 - US"}),r.jsx(ae,{value:"+1-555-0124",children:"+1 (555) 012-3457 - US"}),r.jsx(ae,{value:"+44-7482-792343",children:"+44 7482 792343 - UK"})]})})]}),o.phoneNumber&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phoneNumber}),F.length===0&&!D&&r.jsx("p",{className:"mt-1 text-sm text-yellow-400",children:"No Apex phone numbers found. Using demo numbers. Please configure Apex in Settings."})]}),vapiErrors.length>0&&r.jsxs(Wt,{className:"border-red-500 bg-red-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-red-500"}),r.jsxs(Vt,{className:"text-red-300",children:["Apex Connection Issue: ",H.join(", ")]})]}),r.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium text-white",children:"Phone Number Features"}),L&&r.jsx(ke,{className:"bg-green-600 text-xs text-white",children:"Apex Connected"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Automatic caller ID registration"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Call recording and transcription"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Real-time call monitoring"})]})]})]})]})]});case 4:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Select Voice Agent"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Choose the AI voice agent that best fits your campaign objective"})]}),r.jsxs("div",{className:"space-y-4",children:[vapiErrors.length>0&&r.jsxs(Wt,{className:"border-red-500 bg-red-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-red-500"}),r.jsx(Vt,{className:"text-red-300",children:vapiErrors.join(", ")})]}),W&&r.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[r.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-blue-400"}),r.jsx("span",{children:"Loading voice agents..."})]}),O.length===0&&!W&&r.jsxs(Wt,{className:"border-yellow-500 bg-yellow-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-500"}),r.jsx(Vt,{className:"text-yellow-300",children:"No Apex assistants found. Using demo agents. Please configure Apex credentials in Settings."})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:(O.length>0?O:m0).map(oe=>{var We,pt;return r.jsx("div",{className:`cursor-pointer rounded-lg border p-4 transition-all ${b.voiceAgent===oe.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>le({voiceAgent:oe.id}),children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"text-4xl",children:oe.avatar||""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"mb-1 font-medium text-white",children:oe.name}),r.jsx("p",{className:"mb-3 text-sm text-gray-400",children:oe.description||"AI Assistant"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"text-xs text-gray-400",children:oe.languages?`Languages: ${oe.languages.join(", ")}`:`Voice: ${((We=oe.voice)==null?void 0:We.provider)||"Default"}`})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:oe.specialties?oe.specialties.map((ce,Ie)=>r.jsx(ke,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:ce},Ie)):r.jsx(ke,{variant:"secondary",className:"bg-gray-800 text-xs text-gray-300",children:((pt=oe.model)==null?void 0:pt.provider)||"AI Model"})})]})]})]})},oe.id)})}),o.voiceAgent&&r.jsx("p",{className:"text-sm text-red-400",children:o.voiceAgent}),b.voiceAgent&&r.jsxs("div",{className:"space-y-4 rounded-lg bg-gray-800/50 p-4",children:[r.jsx("h4",{className:"font-medium text-white",children:"Voice Settings"}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Speaking Speed"}),r.jsxs("span",{className:"text-sm text-gray-400",children:[b.voiceSettings.speed,"x"]})]}),r.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:b.voiceSettings.speed,onChange:oe=>le({voiceSettings:{...b.voiceSettings,speed:parseFloat(oe.target.value)}}),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Voice Pitch"}),r.jsxs("span",{className:"text-sm text-gray-400",children:[b.voiceSettings.pitch,"x"]})]}),r.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:b.voiceSettings.pitch,onChange:oe=>le({voiceSettings:{...b.voiceSettings,pitch:parseFloat(oe.target.value)}}),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Response Creativity"}),r.jsx("span",{className:"text-sm text-gray-400",children:b.voiceSettings.temperature})]}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:b.voiceSettings.temperature,onChange:oe=>le({voiceSettings:{...b.voiceSettings,temperature:parseFloat(oe.target.value)}}),className:"w-full"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower = More consistent, Higher = More creative"})]})]})]})]});case 5:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Test Your Voice Agent"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Make a test call to ensure your voice agent is configured correctly"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-4xl",children:((te=(O.length>0?O:m0).find(oe=>oe.id===b.voiceAgent))==null?void 0:te.avatar)||""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:((he=(O.length>0?O:m0).find(oe=>oe.id===b.voiceAgent))==null?void 0:he.name)||"Selected Agent"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Ready for testing"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Test Phone Number"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ae,{placeholder:"Enter your phone number",className:"border-gray-600 bg-gray-700 text-white"}),r.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(dt,{className:"mr-2 h-4 w-4"}),"Start Test Call"]})]})]}),b.testCompleted&&r.jsxs(Wt,{className:"border-green-500 bg-green-900/20",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx(Vt,{className:"text-green-300",children:"Test call completed successfully!"})]})]})]})}),r.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-6",children:[r.jsx("h4",{className:"mb-4 font-medium text-white",children:"Test Call Checklist"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&r.jsx(as,{className:"h-3 w-3 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-300",children:"Voice clarity and quality"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Ensure the voice sounds natural and clear"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&r.jsx(as,{className:"h-3 w-3 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-300",children:"Script accuracy"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Verify the agent follows your intended script"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.testCompleted?"border-green-600 bg-green-600":"border-gray-600"}`,children:b.testCompleted&&r.jsx(as,{className:"h-3 w-3 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-300",children:"Response handling"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Test different responses and objections"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ee,{className:"text-gray-300",children:"Test Notes (Optional)"}),r.jsx(ha,{value:b.testNotes,onChange:oe=>le({testNotes:oe.target.value}),placeholder:"Any observations or adjustments needed...",className:"mt-2 border-gray-600 bg-gray-700 text-white",rows:3})]}),!b.testCompleted&&r.jsx(K,{variant:"outline",className:"mt-4 w-full border-gray-600 text-gray-300 hover:bg-gray-700",onClick:()=>le({testCompleted:!0}),children:"Mark Test as Completed"})]}),o.test&&r.jsxs(Wt,{className:"border-red-500 bg-red-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-red-500"}),r.jsx(Vt,{className:"text-red-300",children:o.test})]})]})]});case 6:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Import Your Leads"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Upload a CSV file with your lead data"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"cursor-pointer rounded-lg border-2 border-dashed border-gray-700 p-8 text-center transition-colors hover:border-gray-600",onClick:()=>{var oe;return(oe=t.current)==null?void 0:oe.click()},children:[r.jsx(qo,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mb-2 text-gray-300",children:"Drag and drop your CSV file here"}),r.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"}),r.jsx("input",{ref:t,type:"file",accept:".csv",onChange:oe=>{var pt;const We=(pt=oe.target.files)==null?void 0:pt[0];We&&le({leads:[{id:"1",firstName:"John",lastName:"Doe",phone:"+1234567890",email:"john@example.com"},{id:"2",firstName:"Jane",lastName:"Smith",phone:"+1234567891",email:"jane@example.com"},{id:"3",firstName:"Bob",lastName:"Johnson",phone:"+1234567892",email:"bob@example.com"}],csvFileName:We.name})},className:"hidden"})]}),r.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[r.jsx("h4",{className:"mb-2 font-medium text-white",children:"CSV Format Requirements"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("p",{children:" Required columns: firstName, lastName, phone"}),r.jsx("p",{children:" Optional columns: email, company, title, custom fields"}),r.jsx("p",{children:" Phone numbers should include country code"}),r.jsx("p",{children:" Maximum 10,000 leads per file"})]}),r.jsxs(K,{variant:"outline",size:"sm",className:"mt-3 border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),b.leads.length>0&&r.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white",children:b.csvFileName}),r.jsxs("p",{className:"text-sm text-gray-400",children:[b.leads.length," leads imported"]})]}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>le({leads:[],csvFileName:""}),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Remove"})]}),r.jsxs("div",{className:"overflow-hidden rounded border border-gray-700",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 text-left text-gray-300",children:"Name"}),r.jsx("th",{className:"p-2 text-left text-gray-300",children:"Phone"}),r.jsx("th",{className:"p-2 text-left text-gray-300",children:"Email"})]})}),r.jsx("tbody",{children:b.leads.slice(0,5).map((oe,We)=>r.jsxs("tr",{className:"border-t border-gray-700",children:[r.jsxs("td",{className:"p-2 text-gray-300",children:[oe.firstName," ",oe.lastName]}),r.jsx("td",{className:"p-2 text-gray-400",children:oe.phone}),r.jsx("td",{className:"p-2 text-gray-400",children:oe.email||"-"})]},oe.id))})]}),b.leads.length>5&&r.jsxs("div",{className:"bg-gray-800 p-2 text-center text-sm text-gray-500",children:["And ",b.leads.length-5," more..."]})]})]}),o.leads&&r.jsxs(Wt,{className:"border-red-500 bg-red-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-red-500"}),r.jsx(Vt,{className:"text-red-300",children:o.leads})]})]})]});case 7:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Budget Allocation & Call Credits"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Set your campaign budget and configure credit management"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Hr,{className:"h-5 w-5 text-green-500"}),"Campaign Budget"]})}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Total Budget ($)"}),r.jsx(Ae,{type:"number",value:b.budget,onChange:oe=>le({budget:parseFloat(oe.target.value)||0,callCredits:Math.floor((parseFloat(oe.target.value)||0)/.1)}),className:"border-gray-600 bg-gray-700 text-white",min:"10",step:"10"}),o.budget&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.budget})]}),r.jsxs("div",{className:"space-y-2 rounded bg-gray-900/50 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Cost per call"}),r.jsx("span",{className:"text-white",children:"$0.10"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Estimated calls"}),r.jsx("span",{className:"text-white",children:b.callCredits})]})]})]})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Yn,{className:"h-5 w-5 text-emerald-500"}),"Call Credits"]})}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"py-4 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-white",children:b.callCredits}),r.jsx("p",{className:"text-sm text-gray-400",children:"Available Credits"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Auto-reload"}),r.jsx("input",{type:"checkbox",checked:b.autoReload,onChange:oe=>le({autoReload:oe.target.checked}),className:"rounded border-gray-600 bg-gray-700 text-emerald-600"})]}),b.autoReload&&r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-300",children:"Reload when below"}),r.jsx(Ae,{type:"number",value:b.autoReloadThreshold,onChange:oe=>le({autoReloadThreshold:parseInt(oe.target.value)||0}),className:"mt-1 border-gray-600 bg-gray-700 text-white",min:"10",step:"10"})]})]})]})})]})]}),r.jsxs(Wt,{className:"border-blue-500 bg-blue-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-blue-500"}),r.jsxs(Vt,{className:"text-blue-300",children:[r.jsx("strong",{children:"Billing Note:"})," You'll only be charged for completed calls. Failed or unanswered calls don't consume credits."]})]})]})]});case 8:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Assign Team Members"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Select team members who will manage this campaign"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Leader *"}),r.jsxs(Qe,{value:b.teamLeader,onValueChange:oe=>le({teamLeader:oe}),children:[r.jsx(Je,{className:"border-gray-700 bg-gray-800 text-white",children:r.jsx(et,{placeholder:"Select team leader"})}),r.jsx(Xe,{className:"border-gray-700 bg-gray-800",children:FR.filter(oe=>oe.role.includes("Manager")).map(oe=>r.jsx(ae,{value:oe.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-emerald-600 text-xs text-white",children:oe.avatar}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:oe.name}),r.jsx("div",{className:"text-xs text-gray-400",children:oe.role})]})]})},oe.id))})]}),o.teamLeader&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamLeader})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Members *"}),r.jsx("div",{className:"space-y-2",children:FR.map(oe=>r.jsxs("div",{className:`flex cursor-pointer items-center justify-between rounded-lg border p-3 transition-all ${b.assignedTeam.includes(oe.id)?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{const We=b.assignedTeam.includes(oe.id);le({assignedTeam:We?b.assignedTeam.filter(pt=>pt!==oe.id):[...b.assignedTeam,oe.id]})},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-sm text-white",children:oe.avatar}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:oe.name}),r.jsx("div",{className:"text-sm text-gray-400",children:oe.role})]})]}),r.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded border-2 ${b.assignedTeam.includes(oe.id)?"border-emerald-600 bg-emerald-600":"border-gray-600"}`,children:b.assignedTeam.includes(oe.id)&&r.jsx(as,{className:"h-3 w-3 text-white"})})]},oe.id))}),o.team&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.team})]}),r.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900 p-4",children:[r.jsx("h4",{className:"mb-2 font-medium text-white",children:"Team Permissions"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"View campaign performance and analytics"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Access lead details and call recordings"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Update lead status and add notes"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Receive real-time notifications"})]})]})]})]})]});case 9:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2 text-2xl font-bold text-white",children:"Review & Launch"}),r.jsx("p",{className:"mb-6 text-gray-400",children:"Review your campaign settings before launching"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsx("h3",{className:"mb-4 font-medium text-white",children:"Campaign Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Campaign Name"}),r.jsx("span",{className:"font-medium text-white",children:b.name})]}),r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Objective"}),r.jsx("span",{className:"text-white",children:(_e=zR.find(oe=>oe.id===b.objective))==null?void 0:_e.name})]}),r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Phone Number"}),r.jsx("span",{className:"text-white",children:b.phoneNumber})]}),r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Voice Agent"}),r.jsx("span",{className:"text-white",children:((Te=(O.length>0?O:m0).find(oe=>oe.id===b.voiceAgent))==null?void 0:Te.name)||"Selected Agent"})]}),r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Total Leads"}),r.jsx("span",{className:"text-white",children:b.leads.length})]}),r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Budget"}),r.jsxs("span",{className:"text-white",children:["$",b.budget]})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsx("span",{className:"text-gray-400",children:"Team Size"}),r.jsxs("span",{className:"text-white",children:[b.assignedTeam.length," members"]})]})]})]})}),r.jsxs("div",{children:[r.jsx(ee,{className:"mb-3 block text-gray-300",children:"Launch Timing"}),r.jsx(Hl,{value:b.immediateStart?"now":"schedule",onValueChange:oe=>le({immediateStart:oe==="now"}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"now",id:"now"}),r.jsxs(ee,{htmlFor:"now",className:"cursor-pointer",children:[r.jsx("div",{className:"font-medium text-white",children:"Launch Immediately"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Start calling as soon as you click launch"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"schedule",id:"schedule"}),r.jsxs(ee,{htmlFor:"schedule",className:"cursor-pointer",children:[r.jsx("div",{className:"font-medium text-white",children:"Schedule for Later"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Set a specific date and time to start"})]})]})]})}),!b.immediateStart&&r.jsxs("div",{className:"mt-4",children:[r.jsx(ee,{className:"text-gray-300",children:"Schedule Date & Time"}),r.jsx(Ae,{type:"datetime-local",value:b.scheduledStart,onChange:oe=>le({scheduledStart:oe.target.value}),className:"mt-2 border-gray-700 bg-gray-800 text-white"})]})]}),r.jsxs(Wt,{className:"border-green-500 bg-green-900/20",children:[r.jsx(as,{className:"h-4 w-4 text-green-500"}),r.jsxs(Vt,{className:"text-green-300",children:[r.jsx("strong",{children:"Ready to Launch!"})," Your campaign is configured and ready to go. Click the launch button below to start."]})]})]})]})}},Pe=()=>{switch(s){case 1:return b.campaignType!=="";case 2:return b.name&&b.objective;case 3:return b.phoneNumber.length>0;case 4:return b.voiceAgent.length>0;case 5:return b.testCompleted;case 6:return b.leads.length>0;case 7:return b.budget>0&&b.callCredits>0;case 8:return b.teamLeader.length>0&&b.assignedTeam.length>0;case 9:return!0;default:return!1}};return r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ql,{className:"h-8 w-8 text-emerald-500"}),r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-gray-400",children:"Create your AI calling campaign step by step"}),g&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-emerald-400",children:[r.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Saving draft..."]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Step: ",s," | Changes: ",k()?"Yes":"No"," | Blocker: ",G.state]})]})})]}),r.jsx(K,{variant:"outline",onClick:()=>R("/campaigns"),className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:"Cancel"})]}),r.jsx(Gt,{value:ue,className:"h-2 bg-gray-800"})]}),_()&&k()&&r.jsxs(Wt,{className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-400",children:[r.jsx(Ht,{className:"h-4 w-4"}),r.jsx(Vt,{children:"Your draft has been automatically loaded. You can continue where you left off."})]}),r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"flex items-center justify-between",children:Lh.map((te,he)=>{const _e=te.icon,Te=te.id===s,oe=te.id<s,We=te.id<=s+1;return r.jsxs(de.Fragment,{children:[r.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${We?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>We&&Fe(te.id),children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${Te?"bg-emerald-600 text-white":oe?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:oe?r.jsx(as,{className:"h-6 w-6"}):r.jsx(_e,{className:"h-6 w-6"})}),r.jsx("span",{className:`mt-2 text-sm ${Te?"font-medium text-white":"text-gray-400"}`,children:te.name})]}),he<Lh.length-1&&r.jsx("div",{className:`mx-2 h-0.5 flex-1 ${oe?"bg-green-600":"bg-gray-800"}`})]},te.id)})})}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(J,{className:"p-8",children:Se()}),r.jsx("div",{className:"border-t border-gray-800 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(K,{variant:"outline",onClick:Ne,disabled:s===1,className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[r.jsx(cc,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<Lh.length?r.jsxs(K,{onClick:be,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:["Next",r.jsx(ei,{className:"ml-2 h-4 w-4"})]}):r.jsx(K,{onClick:()=>{Pe()&&(i(!0),setTimeout(()=>{i(!1),E(),e("/campaigns")},2e3))},disabled:n,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Launching Campaign..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ql,{className:"mr-2 h-4 w-4"}),"Launch Campaign"]})})]})})]}),r.jsx(sl,{open:d,onOpenChange:te=>{u(te),!te&&G.state==="blocked"&&(G.reset(),f(null))},children:r.jsxs(co,{className:"border-gray-800 bg-gray-900 text-white",children:[r.jsxs(uo,{children:[r.jsx(mo,{className:"text-white",children:"Save Your Progress?"}),r.jsx(al,{className:"text-gray-400",children:"You have unsaved changes in your campaign setup. Would you like to save your progress as a draft before leaving?"})]}),r.jsxs(Fd,{className:"gap-2",children:[r.jsx(K,{variant:"outline",onClick:B,className:"border-gray-700 bg-gray-800 text-gray-300 hover:bg-gray-700",children:"Exit Without Saving"}),r.jsx(K,{onClick:z,disabled:g,className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Saving..."]}):"Save Draft & Exit"})]})]})})]})}function S1e(){const[e,t]=p.useState(""),[s,a]=p.useState("all"),n=[{id:"1",name:"Sarah Johnson",company:"TechFlow Solutions",email:"sarah@techflow.com",phone:"+1 (555) 123-4567",status:"active",campaigns:3,leads:1247,calls:2847,spend:2847.5,lastActivity:"2 hours ago",rating:4.8},{id:"2",name:"Mike Chen",company:"Digital Dynamics",email:"mike@digitaldynamics.com",phone:"+1 (555) 987-6543",status:"active",campaigns:5,leads:2156,calls:4123,spend:5123.75,lastActivity:"1 hour ago",rating:4.9},{id:"3",name:"Emma Rodriguez",company:"Growth Partners",email:"emma@growthpartners.com",phone:"+1 (555) 456-7890",status:"active",campaigns:2,leads:892,calls:1654,spend:1987.25,lastActivity:"3 hours ago",rating:4.7},{id:"4",name:"David Thompson",company:"Innovate Labs",email:"david@innovatelabs.com",phone:"+1 (555) 321-6540",status:"pending",campaigns:1,leads:234,calls:456,spend:567.8,lastActivity:"1 day ago",rating:4.5},{id:"5",name:"Lisa Wang",company:"ScaleUp Ventures",email:"lisa@scaleupventures.com",phone:"+1 (555) 789-0123",status:"inactive",campaigns:0,leads:0,calls:0,spend:0,lastActivity:"1 week ago",rating:4.6}],i=n.filter(d=>{const u=d.name.toLowerCase().includes(e.toLowerCase())||d.company.toLowerCase().includes(e.toLowerCase())||d.email.toLowerCase().includes(e.toLowerCase()),h=s==="all"||d.status===s;return u&&h}),o={total:n.length,active:n.filter(d=>d.status==="active").length,pending:n.filter(d=>d.status==="pending").length,inactive:n.filter(d=>d.status==="inactive").length,totalSpend:n.reduce((d,u)=>d+u.spend,0),totalCalls:n.reduce((d,u)=>d+u.calls,0),totalLeads:n.reduce((d,u)=>d+u.leads,0)},l=d=>{switch(d){case"active":return"bg-green-500/10 text-green-400 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"inactive":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return r.jsx("div",{className:"mx-auto w-full max-w-7xl px-4",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col justify-between space-y-4 md:flex-row md:items-center md:space-y-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Clients"}),r.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your agency clients and their campaigns"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs(K,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta transition-colors hover:from-brand-magenta hover:to-brand-pink",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add New Client"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Clients"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.total})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-900/20",children:r.jsx(tr,{className:"h-6 w-6 text-blue-400"})})]}),r.jsx("div",{className:"mt-4 flex items-center text-sm",children:r.jsx("span",{className:"text-green-400",children:"+2 this month"})})]})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.active})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-900/20",children:r.jsx(Ot,{className:"h-6 w-6 text-green-400"})})]}),r.jsx("div",{className:"mt-4 flex items-center text-sm",children:r.jsx("span",{className:"text-green-400",children:"+1 this week"})})]})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.totalCalls.toLocaleString()})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:r.jsx(dt,{className:"h-6 w-6 text-emerald-400"})})]}),r.jsx("div",{className:"mt-4 flex items-center text-sm",children:r.jsx("span",{className:"text-green-400",children:"+12% this month"})})]})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",o.totalSpend.toLocaleString()]})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-900/20",children:r.jsx(Hr,{className:"h-6 w-6 text-emerald-400"})})]}),r.jsx("div",{className:"mt-4 flex items-center text-sm",children:r.jsx("span",{className:"text-green-400",children:"+8% this month"})})]})})]}),r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{placeholder:"Search clients by name, company, or email...",value:e,onChange:d=>t(d.target.value),className:"border-gray-800 bg-gray-900 pl-10 text-white placeholder-gray-400"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("all"),children:["All (",o.total,")"]}),r.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("active"),children:["Active (",o.active,")"]}),r.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:text-white",onClick:()=>a("pending"),children:["Pending (",o.pending,")"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(d=>r.jsxs(Y,{className:"border-gray-800 bg-gray-900 transition-colors hover:border-gray-700",children:[r.jsxs(xe,{className:"pb-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(yd,{className:"h-12 w-12",children:[r.jsx(Qu,{src:d.avatar}),r.jsx(vd,{className:"bg-gray-800 text-white",children:d.name.split(" ").map(u=>u[0]).join("")})]}),r.jsxs("div",{children:[r.jsx(ye,{className:"text-lg text-white",children:d.name}),r.jsx(wt,{className:"text-gray-400",children:d.company})]})]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:r.jsx(Xf,{className:"h-4 w-4"})})}),r.jsxs(Jn,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),"View Details"]}),r.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[r.jsx(ec,{className:"mr-2 h-4 w-4"}),"Edit Client"]}),r.jsxs(Yt,{className:"text-gray-300 hover:text-white",children:[r.jsx(ta,{className:"mr-2 h-4 w-4"}),"Send Message"]}),r.jsxs(Yt,{className:"text-red-400 hover:text-red-300",children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Remove Client"]})]})]})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx(ke,{className:l(d.status),children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),r.jsxs("div",{className:"flex items-center text-yellow-400",children:[r.jsx(nd,{className:"h-4 w-4 fill-current"}),r.jsx("span",{className:"ml-1 text-sm",children:d.rating})]})]})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:d.campaigns}),r.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:d.leads.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-400",children:"Leads"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:d.calls.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-400",children:"Calls"})]})]}),r.jsxs("div",{className:"flex items-center justify-between border-t border-gray-800 pt-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-white",children:["$",d.spend.toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Total Spend"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Last Activity"}),r.jsx("p",{className:"text-xs text-gray-300",children:d.lastActivity})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),"View"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"flex-1 border-gray-700 text-gray-300 hover:text-white",children:[r.jsx(dt,{className:"mr-2 h-4 w-4"}),"Contact"]})]})]})]},d.id))}),i.length===0&&r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx(tr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"No clients found"}),r.jsx("p",{className:"mb-4 text-gray-400",children:e?"Try adjusting your search terms":"Get started by adding your first client"}),r.jsxs(K,{className:"bg-gradient-to-r from-brand-pink to-brand-magenta hover:from-brand-magenta hover:to-brand-pink",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add New Client"]})]})})]})})}function C1e(){const[e,t]=p.useState([]),[s,a]=p.useState({transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0}),[n,i]=p.useState(!1),[o,l]=p.useState("today"),d=async()=>{var g,y,w,v,b,N;i(!0);try{const S=await E1.getCalls({limit:1e3}),_=[];let k={transport:0,stt:0,llm:0,tts:0,vapi:0,total:0,llmPromptTokens:0,llmCompletionTokens:0,ttsCharacters:0};for(const T of S){const A=T.duration||0,E={transport:A*.0075,stt:A*5e-4,llm:(((g=T.messages)==null?void 0:g.length)||0)*.002,tts:(((y=T.messages)==null?void 0:y.filter(z=>z.role==="assistant").length)||0)*.001,vapi:A*.001,total:0,llmPromptTokens:(((w=T.messages)==null?void 0:w.length)||0)*50,llmCompletionTokens:(((v=T.messages)==null?void 0:v.filter(z=>z.role==="assistant").length)||0)*30,ttsCharacters:(((b=T.messages)==null?void 0:b.filter(z=>z.role==="assistant").length)||0)*100};E.total=E.transport+E.stt+E.llm+E.tts+E.vapi;const R={id:`cost_${T.id}`,callId:T.id,leadName:((N=T.customer)==null?void 0:N.name)||"Unknown",campaign:"Campaign Name",duration:h(T.startedAt,T.endedAt),status:T.status,timestamp:T.startedAt||new Date().toISOString(),costs:E};_.push(R),k.transport+=E.transport,k.stt+=E.stt,k.llm+=E.llm,k.tts+=E.tts,k.vapi+=E.vapi,k.total+=E.total,k.llmPromptTokens+=E.llmPromptTokens,k.llmCompletionTokens+=E.llmCompletionTokens,k.ttsCharacters+=E.ttsCharacters}t(_),a(k)}catch(S){console.error("Failed to fetch cost data:",S),u()}finally{i(!1)}},u=()=>{const g={transport:45.67,stt:12.34,llm:23.45,tts:8.9,vapi:6.78,total:97.14,llmPromptTokens:12500,llmCompletionTokens:8500,ttsCharacters:45e3},y=[{id:"cost_1",callId:"call_1",leadName:"John Smith",campaign:"Sales Campaign A",duration:"3:45",status:"ended",timestamp:new Date().toISOString(),costs:{transport:1.69,stt:.45,llm:.89,tts:.33,vapi:.25,total:3.61,llmPromptTokens:450,llmCompletionTokens:320,ttsCharacters:1200}},{id:"cost_2",callId:"call_2",leadName:"Sarah Johnson",campaign:"Sales Campaign B",duration:"2:30",status:"ended",timestamp:new Date(Date.now()-36e5).toISOString(),costs:{transport:1.13,stt:.3,llm:.67,tts:.25,vapi:.19,total:2.54,llmPromptTokens:380,llmCompletionTokens:280,ttsCharacters:950}}];t(y),a(g)},h=(g,y)=>{if(!g||!y)return"0:00";const w=new Date(g),b=new Date(y).getTime()-w.getTime(),N=Math.floor(b/6e4),S=Math.floor(b%6e4/1e3);return`${N}:${S.toString().padStart(2,"0")}`},f=()=>{const g=[];return s.llm>s.transport&&g.push({type:"warning",title:"High LLM Costs",description:"Consider optimizing your assistant prompts to reduce token usage",savings:"$"+(s.llm*.3).toFixed(2)}),s.tts>s.stt&&g.push({type:"info",title:"TTS vs STT Balance",description:"Your TTS costs exceed STT costs. Consider shorter responses.",savings:"$"+(s.tts*.2).toFixed(2)}),g};return p.useEffect(()=>{d()},[o]),r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-gray-400",children:"Real-time VAPI cost tracking and optimization"})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Qe,{value:o,onValueChange:l,children:[r.jsx(Je,{className:"w-40 border-gray-700 bg-gray-800 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"today",children:"Today"}),r.jsx(ae,{value:"week",children:"This Week"}),r.jsx(ae,{value:"month",children:"This Month"}),r.jsx(ae,{value:"quarter",children:"This Quarter"})]})]}),r.jsxs(K,{onClick:d,disabled:n,variant:"outline",className:"border-gray-700 text-gray-300",children:[r.jsx(ea,{className:`mr-2 h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),r.jsxs(K,{className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Transport"}),r.jsxs("p",{className:"text-xl font-bold text-blue-400",children:["$",s.transport.toFixed(3)]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Call routing"})]}),r.jsx(dt,{className:"h-6 w-6 text-blue-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"STT"}),r.jsxs("p",{className:"text-xl font-bold text-green-400",children:["$",s.stt.toFixed(3)]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Speech recognition"})]}),r.jsx(mY,{className:"h-6 w-6 text-green-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"LLM"}),r.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["$",s.llm.toFixed(3)]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[s.llmPromptTokens.toLocaleString()," tokens"]})]}),r.jsx(W3,{className:"h-6 w-6 text-emerald-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"TTS"}),r.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:["$",s.tts.toFixed(3)]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[s.ttsCharacters.toLocaleString()," chars"]})]}),r.jsx(_Y,{className:"h-6 w-6 text-yellow-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"VAPI"}),r.jsxs("p",{className:"text-xl font-bold text-orange-400",children:["$",s.vapi.toFixed(3)]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Platform fee"})]}),r.jsx(xs,{className:"h-6 w-6 text-orange-500"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:["$",s.total.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500",children:"All services"})]}),r.jsx(Hr,{className:"h-6 w-6 text-white"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(YG,{className:"h-5 w-5"}),"Cost Distribution"]})}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-gray-300",children:"Transport"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gt,{value:s.transport/s.total*100,className:"w-24"}),r.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.transport.toFixed(3)]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),r.jsx("span",{className:"text-gray-300",children:"Speech-to-Text"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gt,{value:s.stt/s.total*100,className:"w-24"}),r.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.stt.toFixed(3)]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-gray-300",children:"LLM Processing"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gt,{value:s.llm/s.total*100,className:"w-24"}),r.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.llm.toFixed(3)]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500"}),r.jsx("span",{className:"text-gray-300",children:"Text-to-Speech"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gt,{value:s.tts/s.total*100,className:"w-24"}),r.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.tts.toFixed(3)]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),r.jsx("span",{className:"text-gray-300",children:"VAPI Platform"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Gt,{value:s.vapi/s.total*100,className:"w-24"}),r.jsxs("span",{className:"w-16 text-right font-medium text-white",children:["$",s.vapi.toFixed(3)]})]})]})]})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx($0,{className:"h-5 w-5"}),"Cost Optimization"]})}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[f().map((g,y)=>r.jsx("div",{className:"rounded-lg bg-gray-800/50 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ga,{className:"mt-0.5 h-5 w-5 text-yellow-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-white",children:g.title}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:g.description}),r.jsx("div",{className:"mt-2 flex items-center justify-between",children:r.jsxs(ke,{variant:"outline",className:"border-green-400 text-green-400",children:["Potential savings: ",g.savings]})})]})]})},y)),f().length===0&&r.jsxs("div",{className:"py-4 text-center text-gray-400",children:[r.jsx(ba,{className:"mx-auto mb-2 h-12 w-12 text-gray-600"}),r.jsx("p",{children:"Your costs are well optimized!"}),r.jsx("p",{className:"mt-1 text-sm",children:"No immediate optimization opportunities found."})]})]})})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Ia,{className:"h-5 w-5"}),"Detailed Call Costs"]})}),r.jsx(J,{children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-700",children:[r.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Lead"}),r.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Campaign"}),r.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Duration"}),r.jsx("th",{className:"pb-3 text-left text-gray-400",children:"Status"}),r.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Transport"}),r.jsx("th",{className:"pb-3 text-right text-gray-400",children:"STT"}),r.jsx("th",{className:"pb-3 text-right text-gray-400",children:"LLM"}),r.jsx("th",{className:"pb-3 text-right text-gray-400",children:"TTS"}),r.jsx("th",{className:"pb-3 text-right text-gray-400",children:"VAPI"}),r.jsx("th",{className:"pb-3 text-right text-gray-400",children:"Total"})]})}),r.jsx("tbody",{children:e.slice(0,10).map((g,y)=>r.jsxs("tr",{className:"border-b border-gray-800",children:[r.jsx("td",{className:"py-3 text-white",children:g.leadName}),r.jsx("td",{className:"py-3 text-gray-400",children:g.campaign}),r.jsx("td",{className:"py-3 text-gray-400",children:g.duration}),r.jsx("td",{className:"py-3",children:r.jsx(ke,{className:g.status==="ended"?"bg-green-500":g.status==="in-progress"?"bg-blue-500":"bg-gray-500",children:g.status})}),r.jsxs("td",{className:"py-3 text-right text-blue-400",children:["$",g.costs.transport.toFixed(3)]}),r.jsxs("td",{className:"py-3 text-right text-green-400",children:["$",g.costs.stt.toFixed(3)]}),r.jsxs("td",{className:"py-3 text-right text-emerald-400",children:["$",g.costs.llm.toFixed(3)]}),r.jsxs("td",{className:"py-3 text-right text-yellow-400",children:["$",g.costs.tts.toFixed(3)]}),r.jsxs("td",{className:"py-3 text-right text-orange-400",children:["$",g.costs.vapi.toFixed(3)]}),r.jsxs("td",{className:"py-3 text-right font-medium text-white",children:["$",g.costs.total.toFixed(3)]})]},g.id))})]}),e.length>10&&r.jsx("div",{className:"mt-4 text-center",children:r.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300",children:["Load More (",e.length-10," remaining)"]})})]})})]})]})}function k1e(){console.log("Dashboard component rendering...");const e=br(),{userContext:t}=po(),{user:s}=Od();Ur();const[a,n]=p.useState(new Date),[i,o]=p.useState("all"),[l,d]=p.useState("all"),[u]=p.useState(8),[h,f]=p.useState(12543),[g,y]=p.useState(72.5),[w,v]=p.useState(1502.34),[b,N]=p.useState(437),[S,_]=p.useState(12.8);p.useEffect(()=>{console.log("Dashboard useEffect running...");const U=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(U)},[]),p.useEffect(()=>{const U=setInterval(()=>{f(H=>H+Math.floor(Math.random()*3)),y(H=>Math.max(70,Math.min(80,H+(Math.random()-.5)*2))),v(H=>H+Math.random()*.5),N(H=>H+(Math.random()>.7?1:0)),_(H=>Math.max(20,Math.min(30,H+(Math.random()-.5)*1)))},3e4);return()=>clearInterval(U)},[]);const[k,T]=p.useState({totalCalls:0,activeCampaigns:0,conversionRate:0,totalCost:0}),[A,E]=p.useState([]),[R,z]=p.useState([]),[B,O]=p.useState([]),[I,F]=p.useState(!0);p.useEffect(()=>{V()},[]);const V=async()=>{try{const{data:U}=await rt.from("campaigns").select("*"),{data:H}=await rt.from("calls").select("*"),{data:M}=await rt.from("calls").select(`
          *,
          leads:lead_id(name, phone_number),
          campaigns:campaign_id(name)
        `).order("created_at",{ascending:!1}).limit(5),L=Array.isArray(U)?U:[],q=Array.isArray(H)?H:[],ue=L.filter(te=>te.status==="active").length,G=q.length,ge=q.filter(te=>te.status==="completed").length,be=G>0?ge/G*100:0,Ne=q.reduce((te,he)=>te+(he.cost||0),0);T({totalCalls:G,activeCampaigns:ue,conversionRate:be,totalCost:Ne});const Fe=L.map(te=>({name:te.name,successRate:te.total_calls>0?te.successful_calls/te.total_calls*100:0,value:te.successful_calls||0}));E(Fe);const le=Array.from({length:7},(te,he)=>{const _e=new Date;_e.setDate(_e.getDate()-(6-he));const Te=new Date(_e);Te.setHours(0,0,0,0);const oe=new Date(_e);oe.setHours(23,59,59,999);const We=q.filter(pt=>{const ce=new Date(pt.created_at);return ce>=Te&&ce<=oe}).length;return{date:_e.toLocaleDateString("en-US",{weekday:"short"}),calls:We}});z(le);const Pe=(Array.isArray(M)?M:[]).map((te,he)=>{var _e,Te;return{id:te.id||he+1,contact:((_e=te.leads)==null?void 0:_e.name)||te.phone_number||"Unknown",campaign:((Te=te.campaigns)==null?void 0:Te.name)||"Direct Call",duration:W(te.duration||0),status:te.status||"unknown"}});Pe.length===0?O([{id:1,contact:"No calls yet",campaign:"Import leads to start",duration:"0:00",status:"pending"}]):O(Pe),F(!1)}catch(U){console.error("Error fetching data:",U),F(!1)}},W=U=>{const H=Math.floor(U/60),M=U%60;return`${H}:${M.toString().padStart(2,"0")}`},X=[{title:"Total Calls",value:k.totalCalls.toLocaleString(),change:k.totalCalls>0?"Real data":"No calls yet",icon:dt,color:"purple"},{title:"Active Campaigns",value:k.activeCampaigns.toString(),change:"Live",icon:Sr,color:"emerald"},{title:"Conversion Rate",value:`${k.conversionRate.toFixed(1)}%`,change:"Actual rate",icon:ba,color:"pink"},{title:"Total Cost",value:`${k.totalCost.toFixed(2)}`,change:"GBP",icon:Hr,color:"blue"}],D=()=>{const U=new Date().getHours();return U<12?"Good morning":U<18?"Good afternoon":"Good evening"};return r.jsx("div",{className:"min-h-screen w-full overflow-x-hidden bg-black",children:r.jsxs("div",{className:"w-full mt-8 space-y-6 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),r.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:[D(),", ",r.jsx("span",{className:"text-emerald-400",children:(t==null?void 0:t.firstName)||(s==null?void 0:s.firstName)||"User"}),"!  ",a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs(K,{onClick:()=>e("/campaigns"),className:"bg-emerald-600 font-medium text-white transition-all duration-200 hover:bg-emerald-700 hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})})]}),r.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:X.map(U=>r.jsx(Y,{className:"cursor-pointer transition-all duration-200 hover:bg-white/5 hover:scale-[1.02]",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:U.title}),r.jsx("p",{className:"text-2xl font-bold text-white tracking-tight",children:U.value}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:`text-xs font-medium ${U.change.startsWith("+")?"text-emerald-400":"text-red-400"}`,children:U.change}),r.jsx("span",{className:"text-xs text-gray-500",children:"Weekly growth"})]})]}),r.jsx("div",{className:"rounded-xl p-3 bg-white/5 border border-white/10",children:r.jsx(U.icon,{className:`h-5 w-5 ${U.color==="emerald"?"text-emerald-400":U.color==="purple"?"text-purple-400":U.color==="pink"?"text-pink-400":"text-blue-400"}`})})]})})},U.title))}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mb-8",children:[r.jsxs(Y,{className:"transition-all duration-200 hover:bg-white/5",children:[r.jsxs(xe,{className:"border-b border-white/5 p-4",children:[r.jsx(ye,{className:"text-lg font-semibold text-white",children:"Call Volume"}),r.jsx(wt,{className:"text-sm text-gray-400",children:"Last 7 days"})]}),r.jsx(J,{className:"p-4",children:r.jsx("div",{className:"h-[300px]",children:r.jsx(qn,{width:"100%",height:"100%",children:r.jsxs(Cv,{data:R,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),r.jsx(ro,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)",vertical:!1}),r.jsx(bi,{dataKey:"date",stroke:"rgba(156, 163, 175, 0.5)",tick:{fill:"#9ca3af",fontSize:12},axisLine:!1,tickLine:!1}),r.jsx(wi,{stroke:"rgba(156, 163, 175, 0.5)",tick:{fill:"#9ca3af",fontSize:12},axisLine:!1,tickLine:!1}),r.jsx(Vn,{contentStyle:{backgroundColor:"rgba(17, 17, 17, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",backdropFilter:"blur(8px)",boxShadow:"0 8px 32px rgba(0,0,0,0.4)"},labelStyle:{color:"#fff"},itemStyle:{color:"#10b981"}}),r.jsx(Pd,{type:"monotone",dataKey:"calls",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorCalls)"})]})})})})]}),r.jsxs(Y,{className:"transition-all duration-200 hover:bg-white/5",children:[r.jsxs(xe,{className:"border-b border-white/5 p-4",children:[r.jsx(ye,{className:"text-lg font-semibold text-white",children:"Campaign Performance"}),r.jsx(wt,{className:"text-sm text-gray-400",children:"Success rate by campaign"})]}),r.jsx(J,{className:"p-4",children:r.jsx("div",{className:"h-[300px]",children:r.jsx(qn,{width:"100%",height:"100%",children:r.jsxs($2,{data:A,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:1}),r.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:.8})]})}),r.jsx(ro,{strokeDasharray:"3 3",stroke:"rgba(255, 255, 255, 0.1)",vertical:!1}),r.jsx(bi,{dataKey:"name",stroke:"rgba(156, 163, 175, 0.5)",tick:{fill:"#9ca3af",fontSize:12},axisLine:!1,tickLine:!1}),r.jsx(wi,{stroke:"rgba(156, 163, 175, 0.5)",tick:{fill:"#9ca3af",fontSize:12},axisLine:!1,tickLine:!1}),r.jsx(Vn,{cursor:{fill:"rgba(255,255,255,0.05)"},contentStyle:{backgroundColor:"rgba(17, 17, 17, 0.9)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#fff"}}),r.jsx(Mf,{dataKey:"success",fill:"url(#barGradient)",radius:[4,4,0,0],barSize:40})]})})})})]})]}),r.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden mb-8",children:[r.jsxs("div",{className:"border-b border-white/10 p-6 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Calls"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Latest activity across all campaigns"})]}),r.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>e("/all-calls"),className:"text-emerald-400 hover:text-emerald-300 hover:bg-emerald-400/10",children:["View All ",r.jsx(ei,{className:"ml-1 h-4 w-4"})]})]}),r.jsxs("table",{className:"modern-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Contact Name"}),r.jsx("th",{children:"Campaign"}),r.jsx("th",{children:"Duration"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Validation"})]})}),r.jsx("tbody",{children:B&&B.length>0?B.map(U=>r.jsxs("tr",{onClick:()=>e(`/call/${U.id}`),children:[r.jsx("td",{className:"font-medium text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20",children:r.jsx(dt,{className:"h-4 w-4 text-emerald-400"})}),U.contact]})}),r.jsx("td",{className:"text-gray-300",children:U.campaign}),r.jsx("td",{className:"text-gray-400 font-mono text-xs",children:U.duration}),r.jsx("td",{children:r.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium border ${U.status==="completed"?"border-emerald-500/20 bg-emerald-500/10 text-emerald-400":U.status==="in-progress"?"border-blue-500/20 bg-blue-500/10 text-blue-400":"border-gray-700 bg-gray-800 text-gray-400"}`,children:U.status})}),r.jsx("td",{children:r.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-xs",children:[r.jsx(yt,{className:"h-3 w-3"}),r.jsx("span",{children:"Verified"})]})})]},U.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center text-gray-500 py-8",children:"No recent calls found"})})})]})]})]})})}function A1e(){return br(),p.useEffect(()=>{(async()=>{console.log(" Force logging out..."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(t=>{document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),await rt.auth.signOut(),setTimeout(()=>{window.location.href="/login"},500)})()},[]),r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"Logging out..."})})}const P1e=({appointments:e,tasks:t,onAppointmentClick:s,onTaskClick:a})=>{const n=f=>{const g=new Date(f),y=new Date,w=new Date(y);return w.setDate(w.getDate()+1),g.toDateString()===y.toDateString()?"Today":g.toDateString()===w.toDateString()?"Tomorrow":g.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},i=f=>{if(!f)return"";try{const[g,y]=f.split(":"),w=parseInt(g),v=w>=12?"PM":"AM";return`${w>12?w-12:w===0?12:w}:${y} ${v}`}catch{return f}},o=(f,g)=>g==="video"?r.jsx(fP,{className:"h-4 w-4"}):g==="in_person"?r.jsx(Jo,{className:"h-4 w-4"}):f==="meeting"?r.jsx(Ot,{className:"h-4 w-4"}):r.jsx(dt,{className:"h-4 w-4"}),l=f=>{switch(f){case"urgent":return"text-red-400 bg-red-900/30 border-red-800";case"high":return"text-orange-400 bg-orange-900/30 border-orange-800";case"medium":return"text-yellow-400 bg-yellow-900/30 border-yellow-800";default:return"text-gray-400 bg-gray-900/30 border-gray-800"}},d=f=>{switch(f){case"confirmed":return r.jsx(yt,{className:"h-4 w-4 text-green-400"});case"scheduled":return r.jsx(Ft,{className:"h-4 w-4 text-blue-400"});case"tentative":return r.jsx(Dt,{className:"h-4 w-4 text-yellow-400"});default:return r.jsx(Ft,{className:"h-4 w-4 text-gray-400"})}},h=[...e.map(f=>({...f,itemType:"appointment"})),...t.map(f=>({...f,itemType:"task",date:f.due_date,time:f.due_time}))].sort((f,g)=>{const y=new Date(`${f.date} ${f.time||"00:00"}`),w=new Date(`${g.date} ${g.time||"00:00"}`);return y.getTime()-w.getTime()}).reduce((f,g)=>{const y=g.date;return f[y]||(f[y]=[]),f[y].push(g),f},{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(is,{className:"h-5 w-5 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:r.jsxs("span",{className:"text-gray-400",children:[e.length," appointment",e.length!==1?"s":"",","," ",t.length," task",t.length!==1?"s":""]})})]}),Object.keys(h).length===0?r.jsxs("div",{className:"rounded-lg border border-gray-700/50 bg-gray-800/30 p-8 text-center",children:[r.jsx(is,{className:"mx-auto h-12 w-12 text-gray-600 mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No upcoming appointments or tasks"})]}):r.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([f,g])=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-px flex-1 bg-gray-700"}),r.jsx("span",{className:"text-sm font-medium text-gray-400",children:n(f)}),r.jsx("div",{className:"h-px flex-1 bg-gray-700"})]}),r.jsx("div",{className:"space-y-2",children:g.map(y=>r.jsx("div",{onClick:()=>{y.itemType==="appointment"&&s?s(y):y.itemType==="task"&&a&&a(y)},className:"group cursor-pointer rounded-lg border border-gray-700/50 bg-gray-800/50 p-4 transition-all hover:border-gray-600 hover:bg-gray-800",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"flex items-center gap-3",children:y.itemType==="appointment"?r.jsxs(r.Fragment,{children:[o(y.type,y.location_type),r.jsx("span",{className:"text-sm font-medium text-white",children:y.title}),d(y.status)]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`flex items-center gap-2 rounded px-2 py-1 text-xs font-medium border ${l(y.priority)}`,children:y.priority}),r.jsx("span",{className:"text-sm font-medium text-white",children:y.title})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[y.time&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ft,{className:"h-3 w-3"}),i(y.time),y.itemType==="appointment"&&y.duration_minutes&&r.jsxs("span",{children:[" (",y.duration_minutes," min)"]})]}),y.itemType==="appointment"&&y.location_type&&r.jsxs("div",{className:"flex items-center gap-1",children:[y.location_type==="in_person"&&r.jsx(Jo,{className:"h-3 w-3"}),y.location_type==="video"&&r.jsx(fP,{className:"h-3 w-3"}),y.location_type==="phone"&&r.jsx(dt,{className:"h-3 w-3"}),r.jsx("span",{className:"capitalize",children:y.location_type.replace("_"," ")})]}),y.itemType==="task"&&y.category&&r.jsx("span",{className:"capitalize",children:y.category.replace("_"," ")})]}),(y.description||y.agenda)&&r.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:y.description||y.agenda}),y.itemType==="appointment"&&y.preparation_notes&&r.jsx("div",{className:"mt-2 rounded bg-blue-900/20 border border-blue-800/50 p-2",children:r.jsxs("p",{className:"text-xs text-blue-400",children:["Prep: ",y.preparation_notes]})})]}),r.jsx("div",{className:"ml-4",children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${y.itemType==="appointment"?"bg-blue-900/30 text-blue-400 border border-blue-800":"bg-purple-900/30 text-purple-400 border border-purple-800"}`,children:y.itemType==="appointment"?"Appointment":"Task"})})]})},y.id))})]},f))}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-700/50",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>new Date(f.date)>=new Date().setHours(0,0,0,0)&&new Date(f.date)<new Date().setHours(24,0,0,0)).length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(f=>{const g=new Date(f.date),y=new Date,w=new Date(y);return w.setDate(w.getDate()+7),g>=y&&g<=w}).length}),r.jsx("div",{className:"text-xs text-gray-400",children:"This Week"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(f=>f.priority==="urgent"||f.priority==="high").length}),r.jsx("div",{className:"text-xs text-gray-400",children:"High Priority"})]})]})]})},E1e=({isOpen:e,onClose:t,onCreateTask:s,leadId:a})=>{const[n,i]=p.useState({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),o=()=>{if(!n.title.trim())return;const l={...n,id:`task_${Date.now()}`,lead_id:a,created_at:new Date().toISOString()};s(l),i({title:"",description:"",category:"follow_up",priority:"medium",due_date:new Date().toISOString().split("T")[0],due_time:"09:00",status:"pending",notes:""}),t()};return r.jsx(sl,{open:e,onOpenChange:t,children:r.jsxs(co,{className:"max-w-2xl bg-gray-900 border-gray-800",children:[r.jsxs(uo,{children:[r.jsxs(mo,{className:"text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(hP,{className:"h-5 w-5 text-emerald-400"}),"Create New Task"]}),r.jsx(al,{className:"text-gray-400",children:"Add a task to follow up with this lead"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ee,{htmlFor:"title",className:"text-white",children:["Task Title ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx(Ae,{id:"title",value:n.title,onChange:l=>i({...n,title:l.target.value}),placeholder:"e.g., Follow up on proposal",className:"bg-gray-800 border-gray-700 text-white",autoFocus:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"description",className:"text-white",children:"Description"}),r.jsx(ha,{id:"description",value:n.description,onChange:l=>i({...n,description:l.target.value}),placeholder:"Add more details about this task...",className:"bg-gray-800 border-gray-700 text-white min-h-[80px]"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"category",className:"text-white",children:"Category"}),r.jsxs(Qe,{value:n.category,onValueChange:l=>i({...n,category:l}),children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"follow_up",children:"Follow Up"}),r.jsx(ae,{value:"call",children:"Phone Call"}),r.jsx(ae,{value:"email",children:"Email"}),r.jsx(ae,{value:"meeting",children:"Meeting"}),r.jsx(ae,{value:"proposal",children:"Proposal"}),r.jsx(ae,{value:"contract",children:"Contract"}),r.jsx(ae,{value:"research",children:"Research"}),r.jsx(ae,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"priority",className:"text-white",children:"Priority"}),r.jsxs(Qe,{value:n.priority,onValueChange:l=>i({...n,priority:l}),children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"urgent",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-red-400"}),"Urgent"]})}),r.jsx(ae,{value:"high",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-orange-400"}),"High"]})}),r.jsx(ae,{value:"medium",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-400"}),"Medium"]})}),r.jsx(ae,{value:"low",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4 text-gray-400"}),"Low"]})})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ee,{htmlFor:"due_date",className:"text-white flex items-center gap-2",children:[r.jsx(is,{className:"h-4 w-4"}),"Due Date"]}),r.jsx(Ae,{id:"due_date",type:"date",value:n.due_date,onChange:l=>i({...n,due_date:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ee,{htmlFor:"due_time",className:"text-white flex items-center gap-2",children:[r.jsx(Ft,{className:"h-4 w-4"}),"Due Time"]}),r.jsx(Ae,{id:"due_time",type:"time",value:n.due_time,onChange:l=>i({...n,due_time:l.target.value}),className:"bg-gray-800 border-gray-700 text-white"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"notes",className:"text-white",children:"Additional Notes"}),r.jsx(ha,{id:"notes",value:n.notes,onChange:l=>i({...n,notes:l.target.value}),placeholder:"Any additional information...",className:"bg-gray-800 border-gray-700 text-white min-h-[60px]"})]})]}),r.jsxs(Fd,{children:[r.jsx(K,{variant:"outline",onClick:t,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsxs(K,{onClick:o,disabled:!n.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[r.jsx(hP,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})]})})};function T1e(){const e=br(),{leadId:t}=Vf(),{toast:s}=Ur(),a=fZ(),[n,i]=p.useState(!0),[o,l]=p.useState(!1),[d,u]=p.useState(!1),[h,f]=p.useState(null),[g,y]=p.useState(!1),[w,v]=p.useState(!1),b=p.useRef(null),[N,S]=p.useState([]),[_,k]=p.useState([]),[T,A]=p.useState([]),[E,R]=p.useState([]),[z,B]=p.useState(null),[O,I]=p.useState(!1),[F,V]=p.useState(!1),[W,X]=p.useState({status:"new",customerId:"",lastActivity:{date:"",type:""},owner:{id:"",name:"Unassigned",role:"",initials:"NA"},personalDetails:{firstName:"",lastName:"",email:"",phone:"",position:"",website:""},companyInfo:{company:"",industry:""},companyDetails:{foundedYear:"",employees:"",revenue:"",headquarters:"",description:"",website:"",linkedIn:"",type:"",tags:[]},socialMedia:{linkedin:"",twitter:"",facebook:"https://facebook.com/john.doe",instagram:"https://instagram.com/johndoe",youtube:"",tiktok:"",github:"",website:"https://johndoe.dev"},aiCallSummary:"Customer showed strong interest in our enterprise features. Regarding implementation, the customer prefers a phased rollout starting with their core team of 15 users, then expanding to the full organization over 3-4 months. They have dedicated project management resources and are willing to assign a technical lead to work closely with our implementation team. Training is critical as their staff has varying levels of technical expertise. The competitive landscape includes two other vendors they're actively evaluating. One is a legacy solution that's significantly cheaper but lacks modern features. The other is a newer startup with innovative features but concerns about long-term viability. Our solution was positioned as the best balance of reliability, features, and cost. Next steps include scheduling a technical deep-dive demo for next Tuesday at 2 PM EST with their IT Director, CTO, and lead developer. They also requested a detailed implementation timeline and cost breakdown including training and support options. Customer indicated they want to make a final decision by end of January.",notes:[{id:"note_571135000001729018",content:`Pramod was primarily interested in social media management & ads and email marketing (want to focus on incoming traffic as they're working on automating everything).
Sean will send a breakdown of the services we can offer them based on what he said they're looking for`,module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-19T15:40:00Z",createdBy:"Khalid Adib",lastUpdated:"2024-09-19T15:40:00Z",tag:"meeting"},{id:"note_571135000001729019",content:"Follow-up call scheduled for next week to discuss pricing and implementation timeline. Customer seems very interested in our automation solutions.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-18T10:30:00Z",createdBy:"Sean Wentz",lastUpdated:"2024-09-18T10:30:00Z",tag:"follow-up"},{id:"note_571135000001729020",content:"Initial discovery call completed. Budget confirmed at $5k-10k range. Decision maker identified. Next step is technical assessment.",module:"Lead",recordName:"Pramod",recordId:"571135000001728026",createdAt:"2024-09-17T14:15:00Z",createdBy:"John Doe",lastUpdated:"2024-09-17T14:15:00Z",tag:"call"}],address:{street:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",country:"United States"}}),[D,U]=p.useState(!1),[H,M]=p.useState(!1),[L,q]=p.useState(!1),[ue,G]=p.useState(!1),[ge,be]=p.useState(!1),[Ne,Fe]=p.useState(!1),[le,Se]=p.useState(!1),[Pe,te]=p.useState(!1),[he,_e]=p.useState(!1),[Te,oe]=p.useState(!1),[We,pt]=p.useState("Recent Last"),[ce,Ie]=p.useState(!1),[tt,vt]=p.useState(""),[pr,us]=p.useState(null),[Qt,sr]=p.useState("general"),[es,xr]=p.useState("all"),[Ge,yr]=p.useState(!1),[kr,_a]=p.useState(""),[ur,ms]=p.useState(""),[Kt,tn]=p.useState(null),[Rt,Lt]=p.useState({}),[ie,je]=p.useState(W.personalDetails),[Ue,ot]=p.useState(W.companyInfo),[_t,ir]=p.useState({street:"",city:"",state:"",zipCode:"",country:"United States"}),[Ct,Sa]=p.useState(W.owner),[bs,Ca]=p.useState(W.companyDetails),[sa,ts]=p.useState(W.socialMedia),hs=["1-10","11-50","51-200","201-500","501-1000","1001-5000","5001-10000","10000+"],Ts=["Under $1M","$1M - $5M","$5M - $10M","$10M - $50M","$50M - $100M","$100M - $500M","$500M - $1B","Over $1B"],za=["Private Company","Public Company","LLC","Corporation","Partnership","Sole Proprietorship","Non-profit","Government","Startup","Other"],qs=[{value:"general",label:"General",color:"bg-gray-600",textColor:"text-gray-300"},{value:"task",label:"Task",color:"bg-blue-600",textColor:"text-blue-300"},{value:"meeting",label:"Meeting",color:"bg-green-600",textColor:"text-green-300"},{value:"call",label:"Call",color:"bg-purple-600",textColor:"text-purple-300"},{value:"email",label:"Email",color:"bg-orange-600",textColor:"text-orange-300"},{value:"follow-up",label:"Follow-up",color:"bg-yellow-600",textColor:"text-yellow-300"},{value:"urgent",label:"Urgent",color:"bg-red-600",textColor:"text-red-300"},{value:"reminder",label:"Reminder",color:"bg-indigo-600",textColor:"text-indigo-300"}],Fa=[{value:"New",color:"bg-blue-500",textColor:"text-blue-400"},{value:"Contacted",color:"bg-yellow-500",textColor:"text-yellow-400"},{value:"Qualified",color:"bg-green-500",textColor:"text-green-400"},{value:"Proposal",color:"bg-purple-500",textColor:"text-purple-400"},{value:"Negotiation",color:"bg-orange-500",textColor:"text-orange-400"},{value:"Closed Won",color:"bg-emerald-500",textColor:"text-emerald-400"},{value:"Closed Lost",color:"bg-red-500",textColor:"text-red-400"},{value:"On Hold",color:"bg-gray-500",textColor:"text-gray-400"}],ka=()=>Fa.find(Q=>Q.value===W.status)||Fa[2],Di=Q=>{X(se=>({...se,status:Q,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`Status changed to ${Q}`}})),v(!1)};p.useEffect(()=>{const Q=se=>{b.current&&!b.current.contains(se.target)&&v(!1)};return w&&document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[w]);const kt=(Q,se)=>{tn(Q),Lt({[Q]:se})},ar=(Q,se)=>{const $e=Rt[Q];X(ct=>{const lt={...ct},or=Q.split(".");return or.length===2?lt[or[0]]={...lt[or[0]],[or[1]]:$e}:lt[Q]=$e,lt.lastActivity={date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:`${Q} updated`},lt}),tn(null),Lt({})},Ee=()=>{tn(null),Lt({})},it=()=>{X(Q=>({...Q,personalDetails:ie,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Personal details updated"}})),U(!1)},ft=()=>{je(W.personalDetails),U(!1)},Et=()=>{X(Q=>({...Q,address:_t,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Address updated"}})),M(!1)},Mt=()=>{ir(W.address),M(!1)},$i=()=>{Sa(W.owner),q(!0)},Hs=async()=>{try{const{error:Q}=await rt.from("leads").update({uploaded_by:Ct.id||null}).eq("id",t);if(Q)throw Q;X(se=>({...se,owner:Ct,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Lead owner updated"}})),q(!1),s({title:"Success",description:"Lead owner updated successfully"})}catch(Q){console.error("Error updating lead owner:",Q),s({title:"Error",description:"Failed to update lead owner",variant:"destructive"})}},Kr=()=>{Sa(W.owner),q(!1)},Ua=async()=>{try{await navigator.clipboard.writeText(W.aiCallSummary)}catch(Q){console.error("Failed to copy AI Call Summary:",Q)}},Nn=Q=>new Date(Q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ul=Q=>new Date(Q).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),nr=()=>{if(!tt.trim())return;const Q={id:`note_${Date.now()}`,content:tt,module:"Lead",recordName:W.personalDetails.firstName+" "+W.personalDetails.lastName,recordId:"lead_current",createdAt:new Date().toISOString(),createdBy:"Current User",lastUpdated:new Date().toISOString(),tag:Qt};if(Qt==="reminder"&&kr&&ur){const se=new Date(`${kr}T${ur}`);wc(tt,se),Q.content=`${tt}

 Reminder set for: ${se.toLocaleString()}`}X(se=>({...se,notes:[Q,...se.notes],lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note added"}})),vt(""),sr("general"),_a(""),ms(""),yr(!1),Ie(!1)},bo=Q=>{B(Q),I(!0)},Os=async()=>{if(z)try{const Q=W.notes.filter(se=>se.id!==z);if(X(se=>({...se,notes:Q,lastActivity:{date:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),type:"Note deleted"}})),t){const{data:se,error:$e}=await rt.from("leads").select("custom_fields").eq("id",t).single();if($e)throw $e;const{error:ct}=await rt.from("leads").update({custom_fields:{...se.custom_fields,notes:Q},updated_at:new Date().toISOString()}).eq("id",t);ct?(console.error("Error deleting note:",ct),s({title:"Error",description:"Failed to delete note. Please try again.",variant:"destructive"}),X(lt=>({...lt,notes:W.notes}))):s({title:"Success",description:"Note deleted successfully"})}}catch(Q){console.error("Error deleting note:",Q),s({title:"Error",description:"Failed to delete note",variant:"destructive"})}finally{I(!1),B(null)}},Li=()=>{I(!1),B(null)},zi=()=>{let Q=W.notes.filter(se=>se.tag!=="ai-summary"&&se.createdBy!=="AI System");return es!=="all"&&(Q=Q.filter(se=>se.tag===es)),We==="Recent First"?Q.sort((se,$e)=>new Date($e.createdAt).getTime()-new Date(se.createdAt).getTime()):Q.sort((se,$e)=>new Date(se.createdAt).getTime()-new Date($e.createdAt).getTime())},bc=Q=>qs.find(se=>se.value===Q)||qs[0],wc=(Q,se)=>{const $e=`${W.personalDetails.firstName} ${W.personalDetails.lastName}`,ct=se.getTime()-Date.now();ct>0&&setTimeout(()=>{a.info("Reminder",`${Q}`,{category:"system",source:"leads",priority:"medium",persistent:!0,metadata:{leadId:W.personalDetails.firstName+W.personalDetails.lastName,leadName:$e,type:"reminder",originalContent:Q,scheduledFor:se.toISOString()},action:{label:"View Lead",href:`/leads/${W.personalDetails.firstName}`}})},ct)};p.useEffect(()=>{yr(Qt==="reminder")},[Qt]),p.useEffect(()=>{(async()=>{var se,$e,ct,lt,or,rn,aa,na,si,Rs,_n,fs,Sn,wo,Cn,Xt,zm,Fm,Bd,Um,Bm,Wm,Wd,jc,ai,ni,ii,hl,fl,oi,Op,Vm,pl,Rp,qm,Nc,Hm,Mp,gl,xl,jo,_c,Ip,Dp,Vd;if(!t){s({title:"Error",description:"No lead ID provided",variant:"destructive"}),e("/crm");return}try{i(!0);const{data:Be,error:Km}=await rt.from("leads").select(`
            *,
            uploaded_by:users!leads_uploaded_by_fkey(
              id,
              first_name,
              last_name,
              role
            ),
            campaigns(
              id,
              name
            )
          `).eq("id",t).single();if(Km||!Be)throw new Error("Lead not found");X({status:Be.qualification_status||Be.status||"new",customerId:Be.id.substring(0,8).toUpperCase(),lastActivity:{date:Be.last_call_at?new Date(Be.last_call_at).toLocaleString():"No activity",type:Be.last_call_at?"Call":"None"},owner:{id:((se=Be.uploaded_by)==null?void 0:se.id)||"",name:Be.uploaded_by?`${Be.uploaded_by.first_name} ${Be.uploaded_by.last_name}`:"Unassigned",role:(($e=Be.uploaded_by)==null?void 0:$e.role)||"",initials:Be.uploaded_by?`${((ct=Be.uploaded_by.first_name)==null?void 0:ct[0])||""}${((lt=Be.uploaded_by.last_name)==null?void 0:lt[0])||""}`.toUpperCase():"NA"},personalDetails:{firstName:Be.first_name||"",lastName:Be.last_name||"",email:((or=Be.custom_fields)==null?void 0:or.email)||Be.email||"",phone:Be.phone||"",position:((rn=Be.custom_fields)==null?void 0:rn.job_title)||Be.job_title||"",website:((aa=Be.custom_fields)==null?void 0:aa.website)||""},companyInfo:{company:((na=Be.custom_fields)==null?void 0:na.company)||Be.company||"",industry:((si=Be.custom_fields)==null?void 0:si.industry)||""},companyDetails:{foundedYear:((Rs=Be.custom_fields)==null?void 0:Rs.foundedYear)||"",employees:((_n=Be.custom_fields)==null?void 0:_n.employees)||"",revenue:((fs=Be.custom_fields)==null?void 0:fs.revenue)||"",headquarters:`${Be.city||""}, ${Be.state||""}`.trim().replace(/^,\s*/,""),description:((Sn=Be.custom_fields)==null?void 0:Sn.description)||"",website:((wo=Be.custom_fields)==null?void 0:wo.website)||"",linkedIn:((Cn=Be.custom_fields)==null?void 0:Cn.linkedIn)||"",type:((Xt=Be.custom_fields)==null?void 0:Xt.type)||"",tags:((zm=Be.custom_fields)==null?void 0:zm.tags)||[]},socialMedia:{linkedin:((Bd=(Fm=Be.custom_fields)==null?void 0:Fm.socialMedia)==null?void 0:Bd.linkedin)||"",twitter:((Bm=(Um=Be.custom_fields)==null?void 0:Um.socialMedia)==null?void 0:Bm.twitter)||"",facebook:((Wd=(Wm=Be.custom_fields)==null?void 0:Wm.socialMedia)==null?void 0:Wd.facebook)||"",instagram:((ai=(jc=Be.custom_fields)==null?void 0:jc.socialMedia)==null?void 0:ai.instagram)||"",youtube:((ii=(ni=Be.custom_fields)==null?void 0:ni.socialMedia)==null?void 0:ii.youtube)||"",tiktok:((fl=(hl=Be.custom_fields)==null?void 0:hl.socialMedia)==null?void 0:fl.tiktok)||""},address:{street:((oi=Be.custom_fields)==null?void 0:oi.address_line1)||Be.address_line1||"",city:((Op=Be.custom_fields)==null?void 0:Op.city)||Be.city||"",state:((Vm=Be.custom_fields)==null?void 0:Vm.state)||Be.state||"",zipCode:((pl=Be.custom_fields)==null?void 0:pl.postal_code)||Be.postal_code||"",country:((Rp=Be.custom_fields)==null?void 0:Rp.country)||Be.country||"United States"},aiCallSummary:((Hm=(Nc=(qm=Be.custom_fields)==null?void 0:qm.notes)==null?void 0:Nc[0])==null?void 0:Hm.content)||((Mp=Be.custom_fields)==null?void 0:Mp.aiCallSummary)||((jo=(xl=(gl=Be.custom_fields)==null?void 0:gl.ultraDetailedBrief)==null?void 0:xl.executiveSummary)==null?void 0:jo.nextAction)||"",notes:Array.isArray((_c=Be.custom_fields)==null?void 0:_c.notes)?Be.custom_fields.notes:[]});const{data:qd}=await rt.from("calls").select("*").eq("lead_id",t).order("created_at",{ascending:!1});if(qd){S(qd);const lr=qd.find(Mr=>Mr.notes||Mr.summary||Mr.ultra_detailed_brief);lr&&X(Mr=>{var No,Gm;return{...Mr,aiCallSummary:lr.notes||lr.summary||((Gm=(No=lr.ultra_detailed_brief)==null?void 0:No.executiveSummary)==null?void 0:Gm.nextAction)||Mr.aiCallSummary}})}try{const{data:lr,error:Mr}=await rt.from("appointments").select("*").eq("lead_id",t).order("date",{ascending:!0});!Mr&&lr?A(lr):Mr&&console.log("Appointments table not available:",Mr.message)}catch{console.log("Could not fetch appointments")}try{const{data:lr,error:Mr}=await rt.from("tasks").select("*").eq("lead_id",t).eq("status","pending").order("due_date",{ascending:!0});!Mr&&lr?R(lr):Mr&&console.log("Tasks table not available:",Mr.message)}catch{console.log("Could not fetch tasks")}if(Be.custom_fields&&(((Ip=Be.custom_fields.upcomingAppointments)==null?void 0:Ip.length)>0&&A(lr=>[...lr,...Be.custom_fields.upcomingAppointments]),((Dp=Be.custom_fields.pendingTasks)==null?void 0:Dp.length)>0&&R(lr=>[...lr,...Be.custom_fields.pendingTasks]),((Vd=Be.custom_fields.missingInfo)==null?void 0:Vd.length)>0)){const lr=Be.custom_fields.missingInfo.map((Mr,No)=>({id:`missing-${No}`,title:`Get ${Mr.field}`,description:Mr.question,priority:Mr.importance==="critical"?"high":"medium",category:"follow_up",due_date:new Date(Date.now()+864e5).toISOString().split("T")[0]}));R(Mr=>[...Mr,...lr])}if(Be.organization_id){const{data:lr}=await rt.from("users").select("id, first_name, last_name, email, role").eq("organization_id",Be.organization_id).order("first_name");lr&&k(lr)}}catch(Be){console.error("Error fetching lead data:",Be),s({title:"Error",description:"Failed to load lead data",variant:"destructive"}),e("/crm")}finally{i(!1)}})()},[t,e,s]);const ml=N.map(Q=>({id:Q.id,date:Q.started_at?new Date(Q.started_at).toLocaleDateString():"N/A",time:Q.started_at?new Date(Q.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",duration:Q.duration?`${Math.floor(Q.duration/60)}:${(Q.duration%60).toString().padStart(2,"0")}`:"N/A",outcome:Q.outcome||Q.status||"Unknown",sentiment:Q.sentiment||"N/A",cost:Q.cost?`$${Q.cost.toFixed(2)}`:"$0.00",status:Q.status||"unknown",...Q})),Aa=Q=>{const se={id:Q.id,duration:parseInt(Q.duration.split(":")[0])*60+parseInt(Q.duration.split(":")[1]),transcript:[{speaker:"user",text:"Hello? Alright."},{speaker:"ai",text:"Hello. Is it possible to speak to Harris, please?"},{speaker:"user",text:"Speaking."},{speaker:"ai",text:"Hi, Harris. This is Joanne calling from Emerald Green Energy. You spoke to 1 of our reps who was in your area about solar energy for your property. Does that sound familiar?"},{speaker:"user",text:"Yes. That sounds familiar."},{speaker:"ai",text:"Great. Thanks for confirming. I hope you've been enjoying the nice weather. So just to check, was solar something you'd considered before our rep visit? Or was it more of a new idea when they spoke to you?"}],recording:"/mock-audio.wav",analysis:{sentiment:Q.sentiment==="Positive"?.75:Q.sentiment==="Neutral"?.5:.25,keywords:["solar energy","property","rep visit"],summary:`Call with ${Q.outcome.toLowerCase()} outcome. Duration: ${Q.duration}`},cost:parseFloat(Q.cost.replace("$","")),messages:[{type:"info",content:`Call initiated at ${Q.time}`,timestamp:Date.now()-864e5},{type:"success",content:`Call completed with ${Q.outcome} outcome`,timestamp:Date.now()}]};f(se),y(!0)},Ud=async Q=>{try{const{data:se,error:$e}=await rt.from("tasks").insert([{...Q,lead_id:t,organization_id:W.organizationId,created_by:W.owner.id||"system"}]).select().single();if($e){console.log("Tasks table not available, saving to custom_fields");const ct=[...E,Q],{error:lt}=await rt.from("leads").update({custom_fields:{...W.customFields,pendingTasks:ct}}).eq("id",t);if(lt)throw lt;R(ct),s({title:"Task Created",description:`Task "${Q.title}" has been added successfully.`})}else R([...E,se]),s({title:"Task Created",description:`Task "${Q.title}" has been added successfully.`})}catch(se){console.error("Error creating task:",se),s({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"})}};return n?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent mx-auto"}),r.jsx("p",{className:"text-gray-400",children:"Loading lead data..."})]})}):r.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[r.jsx("div",{className:"sticky top-0 z-30 flex-shrink-0 border-b border-gray-800 bg-gray-900/90",children:r.jsx("div",{className:"px-6 py-4",children:r.jsx("div",{className:"mb-4 flex items-center justify-between",children:r.jsxs(K,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>e("/crm"),children:[r.jsx(cc,{className:"mr-1 h-4 w-4"}),"Back to CRM"]})})})}),r.jsxs("div",{className:"flex-1 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"mb-6 flex items-center justify-between",children:r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Lead Overview"})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx("div",{className:"relative rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",ref:b,children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Status"}),r.jsxs("div",{className:"-m-2 flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-700/30",onClick:()=>v(!w),children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${ka().color}`}),r.jsx("span",{className:"font-medium text-white",children:W.status}),r.jsx(Yr,{className:`ml-auto h-4 w-4 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&r.jsx("div",{className:"absolute left-0 right-0 top-full z-50 mt-2 rounded-lg border border-gray-700 bg-gray-800 shadow-xl",children:r.jsx("div",{className:"space-y-1 p-2",children:Fa.map(Q=>r.jsxs("div",{className:`flex cursor-pointer items-center gap-2 rounded-lg p-2 transition-colors ${W.status===Q.value?"bg-gray-700/50":"hover:bg-gray-700/30"}`,onClick:()=>Di(Q.value),children:[r.jsx("div",{className:`h-2 w-2 rounded-full ${Q.color}`}),r.jsx("span",{className:`font-medium ${Q.textColor}`,children:Q.value})]},Q.value))})})]})}),r.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Customer ID"}),r.jsx("span",{className:"font-mono text-lg text-white",children:W.customerId})]})}),r.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Last Activity"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"font-medium text-white",children:W.lastActivity.date}),r.jsx("div",{className:"text-sm text-gray-400",children:W.lastActivity.type})]})]})}),r.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50 p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Lead Owner"}),L?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Hs,className:"text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Kr,className:"text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]}):r.jsx("button",{onClick:$i,className:"text-gray-500 transition-colors hover:text-gray-300",children:r.jsx(dr,{className:"h-4 w-4"})})]}),L?r.jsx("div",{children:r.jsxs("select",{value:Ct.id,onChange:Q=>{var $e,ct;const se=_.find(lt=>lt.id===Q.target.value);se&&Sa({id:se.id,name:`${se.first_name} ${se.last_name}`,role:se.role,initials:`${(($e=se.first_name)==null?void 0:$e[0])||""}${((ct=se.last_name)==null?void 0:ct[0])||""}`.toUpperCase()})},className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-blue-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Unassigned"}),_.map(Q=>r.jsxs("option",{value:Q.id,children:[Q.first_name," ",Q.last_name," - ",Q.role]},Q.id))]})}):r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500",children:r.jsx("span",{className:"text-sm font-medium text-white",children:W.owner.initials})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-white",children:W.owner.name}),r.jsx("div",{className:"text-sm text-gray-400",children:W.owner.role})]})]})]})})]})]}),r.jsx("div",{className:`${o?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:r.jsxs("div",{className:`${o?"p-4":"p-6"}`,children:[r.jsxs("div",{className:`${o?"mb-0":"mb-6"} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xr,{className:"h-5 w-5 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Personal Details"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!o&&D&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:it,className:"text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-5 w-5"})}),r.jsx("button",{onClick:ft,className:"text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-5 w-5"})})]}),r.jsx("button",{onClick:()=>l(!o),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`})})]})]}),!o&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"First Name"}),Kt!=="personalDetails.firstName"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-lg font-medium text-white",children:W.personalDetails.firstName}),r.jsx("button",{onClick:()=>kt("personalDetails.firstName",W.personalDetails.firstName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["personalDetails.firstName"]||"",onChange:Q=>Lt(se=>({...se,"personalDetails.firstName":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("personalDetails.firstName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Last Name"}),Kt!=="personalDetails.lastName"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-lg font-medium text-white",children:W.personalDetails.lastName}),r.jsx("button",{onClick:()=>kt("personalDetails.lastName",W.personalDetails.lastName),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["personalDetails.lastName"]||"",onChange:Q=>Lt(se=>({...se,"personalDetails.lastName":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("personalDetails.lastName"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Email"}),Kt!=="personalDetails.email"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.personalDetails.email}),r.jsx("button",{onClick:()=>kt("personalDetails.email",W.personalDetails.email),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"email",value:Rt["personalDetails.email"]||"",onChange:Q=>Lt(se=>({...se,"personalDetails.email":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("personalDetails.email"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Phone"}),Kt!=="personalDetails.phone"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.personalDetails.phone}),r.jsx("button",{onClick:()=>kt("personalDetails.phone",W.personalDetails.phone),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"tel",value:Rt["personalDetails.phone"]||"",onChange:Q=>Lt(se=>({...se,"personalDetails.phone":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("personalDetails.phone"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Position"}),Kt!=="personalDetails.position"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.personalDetails.position}),r.jsx("button",{onClick:()=>kt("personalDetails.position",W.personalDetails.position),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["personalDetails.position"]||"",onChange:Q=>Lt(se=>({...se,"personalDetails.position":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("personalDetails.position"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Website"}),Kt!=="personalDetails.website"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.personalDetails.website}),r.jsx("button",{onClick:()=>kt("personalDetails.website",W.personalDetails.website),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["personalDetails.website"]||"",onChange:Q=>Lt(se=>({...se,"personalDetails.website":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("personalDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{className:"mt-8 border-t border-gray-700/50 pt-6",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx(tr,{className:"h-4 w-4 text-purple-500"}),r.jsx("h4",{className:"font-medium text-white",children:"Company Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Company"}),Kt!=="companyInfo.company"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyInfo.company}),r.jsx("button",{onClick:()=>kt("companyInfo.company",W.companyInfo.company),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["companyInfo.company"]||"",onChange:Q=>Lt(se=>({...se,"companyInfo.company":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("companyInfo.company"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Industry"}),Kt!=="companyInfo.industry"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyInfo.industry}),r.jsx("button",{onClick:()=>kt("companyInfo.industry",W.companyInfo.industry),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["companyInfo.industry"]||"",onChange:Q=>Lt(se=>({...se,"companyInfo.industry":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("companyInfo.industry"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]})]})]})]})]})}),r.jsx("div",{className:`${d?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:r.jsxs("div",{className:`${d?"p-4":"p-6"}`,children:[r.jsxs("div",{className:`${d?"mb-0":"mb-6"} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jo,{className:"h-5 w-5 text-green-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Address Information"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!d&&H&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Et,className:"text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-5 w-5"})}),r.jsx("button",{onClick:Mt,className:"text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-5 w-5"})})]}),r.jsx("button",{onClick:()=>u(!d),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${d?"rotate-180":""}`})})]})]}),!d&&r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"group space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Street Address"}),Kt!=="address.street"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.address.street}),r.jsx("button",{onClick:()=>kt("address.street",W.address.street),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["address.street"]||"",onChange:Q=>Lt(se=>({...se,"address.street":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("address.street"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"City"}),Kt!=="address.city"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.address.city}),r.jsx("button",{onClick:()=>kt("address.city",W.address.city),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["address.city"]||"",onChange:Q=>Lt(se=>({...se,"address.city":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("address.city"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"State"}),H?r.jsx("input",{type:"text",value:_t.state,onChange:Q=>ir(se=>({...se,state:Q.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.address.state}),r.jsx("button",{onClick:()=>{ir(W.address),M(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"ZIP Code"}),H?r.jsx("input",{type:"text",value:_t.zipCode,onChange:Q=>ir(se=>({...se,zipCode:Q.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.address.zipCode}),r.jsx("button",{onClick:()=>{ir(W.address),M(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Country"}),H?r.jsx("input",{type:"text",value:_t.country,onChange:Q=>ir(se=>({...se,country:Q.target.value})),className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.address.country}),r.jsx("button",{onClick:()=>{ir(W.address),M(!0)},className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})})]})]})]})}),r.jsx("div",{className:`${ge?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:r.jsxs("div",{className:`${ge?"p-4":"p-6"}`,children:[r.jsxs("div",{className:`${ge?"mb-0":"mb-6"} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(cy,{className:"h-5 w-5 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Company Details"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:()=>be(!ge),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${ge?"rotate-180":""}`})})})]}),!ge&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Founded Year"}),Kt!=="companyDetails.foundedYear"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyDetails.foundedYear}),r.jsx("button",{onClick:()=>kt("companyDetails.foundedYear",W.companyDetails.foundedYear),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["companyDetails.foundedYear"]||"",onChange:Q=>Lt(se=>({...se,"companyDetails.foundedYear":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("companyDetails.foundedYear"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Employees"}),Kt!=="companyDetails.employees"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyDetails.employees}),r.jsx("button",{onClick:()=>kt("companyDetails.employees",W.companyDetails.employees),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Qe,{value:Rt["companyDetails.employees"]||"",onValueChange:Q=>Lt(se=>({...se,"companyDetails.employees":Q})),children:[r.jsx(Je,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:r.jsx(et,{placeholder:"Select employee count"})}),r.jsx(Xe,{children:hs.map(Q=>r.jsx(ae,{value:Q,children:Q},Q))})]}),r.jsx("button",{onClick:()=>ar("companyDetails.employees"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Annual Revenue"}),Kt!=="companyDetails.revenue"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyDetails.revenue}),r.jsx("button",{onClick:()=>kt("companyDetails.revenue",W.companyDetails.revenue),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Qe,{value:Rt["companyDetails.revenue"]||"",onValueChange:Q=>Lt(se=>({...se,"companyDetails.revenue":Q})),children:[r.jsx(Je,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:r.jsx(et,{placeholder:"Select revenue range"})}),r.jsx(Xe,{children:Ts.map(Q=>r.jsx(ae,{value:Q,children:Q},Q))})]}),r.jsx("button",{onClick:()=>ar("companyDetails.revenue"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Headquarters"}),Kt!=="companyDetails.headquarters"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyDetails.headquarters}),r.jsx("button",{onClick:()=>kt("companyDetails.headquarters",W.companyDetails.headquarters),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:Rt["companyDetails.headquarters"]||"",onChange:Q=>Lt(se=>({...se,"companyDetails.headquarters":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("companyDetails.headquarters"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Company Type"}),Kt!=="companyDetails.type"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.companyDetails.type}),r.jsx("button",{onClick:()=>kt("companyDetails.type",W.companyDetails.type),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Qe,{value:Rt["companyDetails.type"]||"",onValueChange:Q=>Lt(se=>({...se,"companyDetails.type":Q})),children:[r.jsx(Je,{className:"flex-1 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:r.jsx(et,{placeholder:"Select company type"})}),r.jsx(Xe,{children:za.map(Q=>r.jsx(ae,{value:Q,children:Q},Q))})]}),r.jsx("button",{onClick:()=>ar("companyDetails.type"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Company Website"}),Kt!=="companyDetails.website"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:r.jsx("a",{href:W.companyDetails.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.companyDetails.website})}),r.jsx("button",{onClick:()=>kt("companyDetails.website",W.companyDetails.website),className:"opacity-0 text-gray-400 transition-opacity group-hover:opacity-100 hover:text-white",children:r.jsx(dr,{size:16})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["companyDetails.website"]||"",onChange:Q=>Lt(se=>({...se,"companyDetails.website":Q.target.value})),className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}),r.jsx("button",{onClick:()=>ar("companyDetails.website"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Check,{size:16})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{size:16})})]})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Company Description"}),Kt!=="companyDetails.description"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("div",{className:"font-medium leading-relaxed text-white pr-8",children:W.companyDetails.description}),r.jsx("button",{onClick:()=>kt("companyDetails.description",W.companyDetails.description),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100 flex-shrink-0",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("textarea",{value:Rt["companyDetails.description"]||"",onChange:Q=>Lt(se=>({...se,"companyDetails.description":Q.target.value})),rows:3,className:"flex-1 resize-none rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("button",{onClick:()=>ar("companyDetails.description"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Industry Tags"}),ue?r.jsx("input",{type:"text",value:bs.tags.join(", "),onChange:Q=>Ca(se=>({...se,tags:Q.target.value.split(", ").filter($e=>$e.trim())})),placeholder:"Enter tags separated by commas",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):r.jsx("div",{className:"flex flex-wrap gap-2",children:W.companyDetails.tags.map((Q,se)=>r.jsx("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-sm text-blue-400",children:Q},se))})]})]})]})}),r.jsx("div",{className:`${Pe?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:r.jsxs("div",{className:`${Pe?"p-4":"p-6"}`,children:[r.jsxs("div",{className:`${Pe?"mb-0":"mb-6"} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vY,{className:"h-5 w-5 text-purple-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Social Media Profiles"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:()=>te(!Pe),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${Pe?"rotate-180":""}`})})})]}),!Pe&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[r.jsx(tr,{className:"h-4 w-4"}),"Professional Networks"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"LinkedIn"}),Kt!=="socialMedia.linkedin"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.linkedin?r.jsx("a",{href:W.socialMedia.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.linkedin}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.linkedin",W.socialMedia.linkedin||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.linkedin"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.linkedin":Q.target.value})),placeholder:"https://linkedin.com/in/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.linkedin"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"GitHub"}),Kt!=="socialMedia.github"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.github?r.jsx("a",{href:W.socialMedia.github,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.github}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.github",W.socialMedia.github||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.github"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.github":Q.target.value})),placeholder:"https://github.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.github"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[r.jsx(Xr,{className:"h-4 w-4"}),"Social Networks"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Twitter"}),Kt!=="socialMedia.twitter"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.twitter?r.jsx("a",{href:W.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.twitter}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.twitter",W.socialMedia.twitter||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.twitter"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.twitter":Q.target.value})),placeholder:"https://twitter.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.twitter"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Facebook"}),Kt!=="socialMedia.facebook"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.facebook?r.jsx("a",{href:W.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.facebook}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.facebook",W.socialMedia.facebook||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.facebook"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.facebook":Q.target.value})),placeholder:"https://facebook.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.facebook"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Instagram"}),Kt!=="socialMedia.instagram"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.instagram?r.jsx("a",{href:W.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.instagram}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.instagram",W.socialMedia.instagram||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.instagram"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.instagram":Q.target.value})),placeholder:"https://instagram.com/username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.instagram"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"TikTok"}),Kt!=="socialMedia.tiktok"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.tiktok?r.jsx("a",{href:W.socialMedia.tiktok,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.tiktok}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.tiktok",W.socialMedia.tiktok||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.tiktok"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.tiktok":Q.target.value})),placeholder:"https://tiktok.com/@username",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.tiktok"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-sm font-medium text-gray-400",children:[r.jsx(Fo,{className:"h-4 w-4"}),"Video Platforms"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"group space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"YouTube"}),Kt!=="socialMedia.youtube"?r.jsx("div",{className:"relative rounded-lg border border-transparent bg-gray-800/50 px-3 py-2 transition-all group-hover:border-gray-600 group-hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.youtube?r.jsx("a",{href:W.socialMedia.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.youtube}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})}),r.jsx("button",{onClick:()=>kt("socialMedia.youtube",W.socialMedia.youtube||""),className:"text-gray-500 opacity-0 transition-all duration-200 hover:text-gray-300 group-hover:opacity-100",children:r.jsx(dr,{className:"h-4 w-4"})})]})}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:Rt["socialMedia.youtube"]||"",onChange:Q=>Lt(se=>({...se,"socialMedia.youtube":Q.target.value})),placeholder:"https://youtube.com/channel/...",className:"flex-1 rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsx("button",{onClick:()=>ar("socialMedia.youtube"),className:"p-2 text-green-500 transition-colors hover:text-green-400",children:r.jsx(Bt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:Ee,className:"p-2 text-red-500 transition-colors hover:text-red-400",children:r.jsx(At,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Personal Website"}),le?r.jsx("input",{type:"url",value:sa.website,onChange:Q=>ts(se=>({...se,website:Q.target.value})),placeholder:"https://personal-website.com",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"}):r.jsx("div",{className:"font-medium text-white",children:W.socialMedia.website?r.jsx("a",{href:W.socialMedia.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 transition-colors hover:text-blue-300",children:W.socialMedia.website}):r.jsx("span",{className:"text-gray-500",children:"Not provided"})})]})]})]})]})]})}),r.jsx("div",{className:`${he?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:`${he?"mb-0":"mb-6"} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pd,{className:"h-5 w-5 text-purple-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Call Summary"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!he&&r.jsxs("button",{onClick:Ua,className:"flex items-center gap-2 rounded-lg bg-gray-700/50 px-3 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600/50 hover:text-white",children:[r.jsx(Fn,{className:"h-4 w-4"}),"Copy"]}),r.jsx("button",{onClick:()=>_e(!he),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${he?"rotate-180":""}`})})]})]}),!he&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"rounded-lg border border-gray-700/50 bg-gray-900/30 p-4",children:r.jsx("p",{className:"leading-relaxed text-gray-300",children:W.aiCallSummary})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsx("span",{children:"Generated from last call"}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]})]})}),r.jsxs("div",{className:"mb-6 rounded-xl border border-gray-700/50 bg-gray-800/50 p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(is,{className:"h-5 w-5 text-emerald-500"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Calendar & Tasks"})]}),r.jsxs(K,{onClick:()=>V(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm",size:"sm",children:[r.jsx(zr,{className:"h-4 w-4 mr-1"}),"Add Task"]})]}),r.jsx(P1e,{appointments:T,tasks:E,onAppointmentClick:Q=>console.log("Appointment clicked:",Q),onTaskClick:Q=>console.log("Task clicked:",Q)})]}),r.jsx("div",{className:`${Te?"mb-3":"mb-6"} rounded-xl border border-gray-700/50 bg-gray-800/50`,children:r.jsxs("div",{className:`${Te?"p-4":"p-6"}`,children:[r.jsxs("div",{className:`${Te?"mb-0":"mb-6"} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(so,{className:"h-5 w-5 text-blue-500"}),r.jsx("h3",{className:"cursor-pointer text-lg font-semibold text-white transition-colors hover:text-gray-300",onClick:()=>oe(!Te),children:"Notes"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[!Te&&r.jsx("div",{className:"relative",children:r.jsxs("select",{value:es,onChange:Q=>xr(Q.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[r.jsx("option",{value:"all",children:"All Tags"}),qs.map(Q=>r.jsx("option",{value:Q.value,children:Q.label},Q.value))]})}),!Te&&r.jsx("div",{className:"relative",children:r.jsxs("select",{value:We,onChange:Q=>pt(Q.target.value),className:"cursor-pointer rounded border border-gray-700/50 bg-gray-800/50 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-800 focus:border-gray-600 focus:outline-none",children:[r.jsx("option",{value:"Recent Last",children:"Recent Last"}),r.jsx("option",{value:"Recent First",children:"Recent First"})]})}),r.jsx("button",{onClick:()=>oe(!Te),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${Te?"rotate-180":""}`})})]})]}),!Te&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"space-y-4",children:zi().map(Q=>r.jsxs("div",{className:"group flex gap-4",children:[r.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-600 text-sm font-medium text-white",children:Q.createdBy?Q.createdBy.charAt(0).toUpperCase():"N"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all hover:border-gray-600/50",children:[r.jsx("div",{className:"mb-3 flex items-center gap-2",children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${bc(Q.tag).color} ${bc(Q.tag).textColor}`,children:bc(Q.tag).label})}),r.jsx("div",{className:"mb-4 whitespace-pre-wrap leading-relaxed text-gray-300",children:Q.content}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"font-medium text-blue-400",children:Q.module}),r.jsx("span",{children:"-"}),r.jsx("a",{href:`#/leads/${Q.recordId}`,className:"text-blue-400 transition-colors hover:text-blue-300",title:Q.recordName,children:Q.recordName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"cursor-pointer text-gray-400 transition-colors hover:text-blue-400",onClick:()=>Ie(!0),children:"Add Note"}),r.jsx("span",{children:""}),r.jsxs("div",{className:"flex items-center gap-1",title:`Edited on ${ul(Q.lastUpdated)}`,children:[r.jsx(Ft,{className:"h-3 w-3"}),r.jsxs("span",{children:["Edited on ",Nn(Q.lastUpdated)]})]}),r.jsx("span",{children:"by"}),r.jsx("span",{title:Q.createdBy,children:Q.createdBy})]})]})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[r.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-blue-400",title:"Edit",onClick:()=>us(Q.id),children:r.jsx(dr,{className:"h-4 w-4"})}),r.jsx("button",{className:"rounded p-1 text-gray-500 transition-colors hover:text-red-400",title:"Delete",onClick:()=>bo(Q.id),children:r.jsx(Us,{className:"h-4 w-4"})})]})]})]},Q.id))}),r.jsx("div",{className:"mt-6",children:ce?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Tag:"}),r.jsxs(Qe,{value:Qt,onValueChange:sr,children:[r.jsx(Je,{className:"w-48 bg-gray-700 border-gray-600 text-white focus:border-blue-500",children:r.jsx(et,{})}),r.jsx(Xe,{children:qs.map(Q=>r.jsx(ae,{value:Q.value,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${Q.color}`}),Q.label]})},Q.value))})]})]}),Ge&&r.jsxs("div",{className:"rounded-lg border border-gray-600 bg-gray-700/50 p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(Vo,{className:"h-4 w-4"}),r.jsx("span",{children:"Set reminder for:"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),r.jsx("input",{type:"date",value:kr,onChange:Q=>_a(Q.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Time"}),r.jsx("input",{type:"time",value:ur,onChange:Q=>ms(Q.target.value),className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none"})]})]})]}),r.jsx("textarea",{value:tt,onChange:Q=>vt(Q.target.value),placeholder:"What's this note about?",className:"min-h-[100px] w-full resize-none rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white focus:border-blue-500 focus:outline-none",autoFocus:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:nr,disabled:!tt.trim()||Qt==="reminder"&&(!kr||!ur),className:"flex items-center gap-2 rounded border border-gray-600 bg-gray-700 px-4 py-2 text-sm text-white transition-colors hover:border-gray-500 hover:bg-gray-600 disabled:cursor-not-allowed disabled:bg-gray-800",children:[r.jsx(Zl,{className:"h-4 w-4"}),"Add Note"]}),r.jsx("button",{onClick:()=>{Ie(!1),vt(""),sr("general"),_a(""),ms(""),yr(!1)},className:"rounded-lg px-4 py-2 text-sm text-gray-400 transition-colors hover:text-white",children:"Cancel"})]})]}):r.jsx("button",{onClick:()=>Ie(!0),className:"w-full rounded-lg border border-gray-600/50 bg-gray-700/50 px-4 py-3 text-left text-gray-400 transition-colors hover:border-gray-600 hover:bg-gray-700",children:"Add a note"})})]})]})}),r.jsx("div",{className:"rounded-xl border border-gray-700/50 bg-gray-800/50",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Fo,{className:"h-5 w-5 text-orange-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Call Results"})]}),r.jsx("button",{onClick:()=>Fe(!Ne),className:"text-gray-400 transition-colors hover:text-white",children:r.jsx(Yr,{className:`h-5 w-5 transition-transform ${Ne?"rotate-180":""}`})})]}),!Ne&&r.jsx("div",{className:"space-y-3",children:ml.map(Q=>r.jsx("div",{onClick:()=>Aa(Q),className:"group cursor-pointer rounded-lg border border-gray-700/30 bg-gray-900/50 p-4 transition-all duration-200 hover:border-gray-600/50 hover:bg-gray-900/70",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${Q.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r.jsx(dt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"font-medium text-white",children:Q.date}),r.jsx("span",{className:"text-sm text-gray-400",children:Q.time})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ft,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-gray-400",children:Q.duration})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ba,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-gray-400",children:Q.sentiment})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`text-sm font-medium ${Q.outcome==="Qualified"?"text-green-400":Q.outcome==="Follow-up"?"text-yellow-400":"text-gray-400"}`,children:Q.outcome}),r.jsx("div",{className:"text-sm text-gray-500",children:Q.cost})]}),r.jsx(Yr,{className:"h-5 w-5 rotate-[-90deg] text-gray-500 transition-colors group-hover:text-gray-300"})]})]})},Q.id))})]})})]}),O&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsxs("div",{className:"mx-4 max-w-md rounded-lg border border-gray-700 bg-gray-800 p-6 shadow-xl",children:[r.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-900/30",children:r.jsx(Us,{className:"h-5 w-5 text-red-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Confirm Delete"})]}),r.jsx("p",{className:"mb-6 text-gray-300",children:"Are you sure you want to delete this note? This action cannot be undone."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:Li,className:"rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-medium text-gray-300 transition-colors hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{onClick:Os,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700",children:"Delete Note"})]})]})}),r.jsx(zy,{isOpen:g,onClose:()=>y(!1),callData:h}),r.jsx(E1e,{isOpen:F,onClose:()=>V(!1),onCreateTask:Ud,leadId:t||""})]})}const O1e=()=>r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Live Calls"}),r.jsx("p",{className:"text-gray-600",children:"Monitor active calls in real-time"})]}),r.jsxs("div",{className:"grid gap-4",children:[r.jsx("div",{className:"rounded-lg border p-4 bg-green-50 border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dt,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"John Doe"}),r.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Ft,{className:"h-4 w-4"}),r.jsx("span",{children:"02:34"})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Jo,{className:"h-4 w-4"}),r.jsx("span",{children:"New York, NY"})]}),r.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]})]})}),r.jsx("div",{className:"rounded-lg border p-4 bg-blue-50 border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dt,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Jane Smith"}),r.jsx("p",{className:"text-sm text-gray-600",children:"+1 (555) 987-6543"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Ft,{className:"h-4 w-4"}),r.jsx("span",{children:"01:12"})]}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Jo,{className:"h-4 w-4"}),r.jsx("span",{children:"Los Angeles, CA"})]}),r.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"})]})]})}),r.jsxs("div",{className:"rounded-lg border p-8 text-center text-gray-500",children:[r.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No More Active Calls"}),r.jsx("p",{children:"All other calls have been completed."})]})]})]}),R1e=()=>{var n,i;const[e,t]=p.useState(null),s=[{id:"1",contact:"John Doe",phone:"+1 (555) 123-4567",lastMessage:"Thanks for the follow-up call!",timestamp:"2 hours ago",unread:2,status:"active"},{id:"2",contact:"Jane Smith",phone:"+1 (555) 987-6543",lastMessage:"When can we schedule the next meeting?",timestamp:"5 hours ago",unread:0,status:"pending"},{id:"3",contact:"Mike Johnson",phone:"+1 (555) 456-7890",lastMessage:"Received the proposal, reviewing now.",timestamp:"1 day ago",unread:1,status:"completed"}],a=e?[{id:"1",sender:"contact",text:"Hi, I received your call earlier today.",timestamp:"10:30 AM"},{id:"2",sender:"agent",text:"Great! Thanks for getting back to me. How did you find the information we discussed?",timestamp:"10:35 AM"},{id:"3",sender:"contact",text:"Very helpful! I'm interested in moving forward.",timestamp:"10:40 AM"},{id:"4",sender:"agent",text:"Excellent! I'll send you the next steps via email.",timestamp:"10:42 AM"}]:[];return r.jsxs("div",{className:"p-6 h-full",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Messaging"}),r.jsx("p",{className:"text-gray-600",children:"Manage conversations and follow-ups with leads"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[r.jsxs(Y,{className:"lg:col-span-1",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center gap-2",children:[r.jsx(so,{className:"h-5 w-5"}),"Conversations"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(Ae,{placeholder:"Search conversations...",className:"pl-10"})]}),r.jsx(K,{variant:"outline",size:"icon",children:r.jsx(Zf,{className:"h-4 w-4"})})]})]}),r.jsx(J,{className:"p-0",children:r.jsx("div",{className:"divide-y",children:s.map(o=>r.jsxs("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${e===o.id?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>t(o.id),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"font-medium",children:o.contact})]}),o.unread>0&&r.jsx(ke,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:o.unread})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.phone}),r.jsx("p",{className:"text-sm text-gray-500 truncate mb-2",children:o.lastMessage}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-400",children:o.timestamp}),r.jsx(ke,{variant:o.status==="active"?"default":o.status==="pending"?"secondary":"outline",className:"text-xs",children:o.status})]})]},o.id))})})]}),r.jsx(Y,{className:"lg:col-span-2",children:e?r.jsxs(r.Fragment,{children:[r.jsx(xe,{className:"border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(ye,{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-5 w-5"}),(n=s.find(o=>o.id===e))==null?void 0:n.contact]}),r.jsxs(wt,{className:"flex items-center gap-2 mt-1",children:[r.jsx(dt,{className:"h-4 w-4"}),(i=s.find(o=>o.id===e))==null?void 0:i.phone]})]}),r.jsxs(K,{variant:"outline",size:"sm",children:[r.jsx(dt,{className:"h-4 w-4 mr-2"}),"Call"]})]})}),r.jsxs(J,{className:"flex flex-col h-full p-0",children:[r.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:a.map(o=>r.jsx("div",{className:`flex ${o.sender==="agent"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${o.sender==="agent"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[r.jsx("p",{className:"text-sm",children:o.text}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx(Ft,{className:"h-3 w-3 opacity-70"}),r.jsx("span",{className:"text-xs opacity-70",children:o.timestamp})]})]})},o.id))}),r.jsx("div",{className:"border-t p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ha,{placeholder:"Type your message...",className:"resize-none min-h-[60px]"}),r.jsx(K,{size:"icon",className:"self-end",children:r.jsx(Zl,{className:"h-4 w-4"})})]})})]})]}):r.jsx(J,{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx(so,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),r.jsx("p",{className:"text-gray-500",children:"Choose a conversation from the list to start messaging"})]})})})]})]})};var Ev="Checkbox",[M1e,g8e]=Bs(Ev),[I1e,X2]=M1e(Ev);function D1e(e){const{__scopeCheckbox:t,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:f}=e,[g,y]=Ni({prop:s,defaultProp:n??!1,onChange:d,caller:Ev}),[w,v]=p.useState(null),[b,N]=p.useState(null),S=p.useRef(!1),_=w?!!o||!!w.closest("form"):!0,k={checked:g,disabled:i,setChecked:y,control:w,setControl:v,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:S,required:u,defaultChecked:Jl(n)?!1:n,isFormControl:_,bubbleInput:b,setBubbleInput:N};return r.jsx(I1e,{scope:t,...k,children:$1e(f)?f(k):a})}var mB="CheckboxTrigger",hB=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:d,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:w}=X2(mB,e),v=ht(n,h),b=p.useRef(d);return p.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const S=()=>f(b.current);return N.addEventListener("reset",S),()=>N.removeEventListener("reset",S)}},[i,f]),r.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":Jl(d)?"mixed":d,"aria-required":u,"data-state":yB(d),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:v,onKeyDown:ze(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ze(s,N=>{f(S=>Jl(S)?!0:!S),w&&y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});hB.displayName=mB;var Z2=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:u,form:h,...f}=e;return r.jsx(D1e,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:a,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>r.jsxs(r.Fragment,{children:[r.jsx(hB,{...f,ref:t,__scopeCheckbox:s}),g&&r.jsx(xB,{__scopeCheckbox:s})]})})});Z2.displayName=Ev;var fB="CheckboxIndicator",pB=p.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:a,...n}=e,i=X2(fB,s);return r.jsx(va,{present:a||Jl(i.checked)||i.checked===!0,children:r.jsx(qe.span,{"data-state":yB(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});pB.displayName=fB;var gB="CheckboxBubbleInput",xB=p.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:d,name:u,value:h,form:f,bubbleInput:g,setBubbleInput:y}=X2(gB,e),w=ht(s,y),v=hp(i),b=ap(a);p.useEffect(()=>{const S=g;if(!S)return;const _=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(_,"checked").set,A=!n.current;if(v!==i&&T){const E=new Event("click",{bubbles:A});S.indeterminate=Jl(i),T.call(S,Jl(i)?!1:i),S.dispatchEvent(E)}},[g,v,i,n]);const N=p.useRef(Jl(i)?!1:i);return r.jsx(qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:d,name:u,value:h,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xB.displayName=gB;function $1e(e){return typeof e=="function"}function Jl(e){return e==="indeterminate"}function yB(e){return Jl(e)?"indeterminate":e?"checked":"unchecked"}const ad=p.forwardRef(({className:e,...t},s)=>r.jsx(Z2,{ref:s,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-50 dark:border-zinc-800 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",e),...t,children:r.jsx(pB,{className:De("flex items-center justify-center text-current"),children:r.jsx(xm,{className:"h-4 w-4"})})}));ad.displayName=Z2.displayName;const L1e=()=>{const e=br(),{notifications:t,markAsRead:s,markAllAsRead:a,deleteNotification:n,clearAll:i}=bm(),[o,l]=p.useState(""),[d,u]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState([]),[w,v]=p.useState(1),b=10,N=p.useMemo(()=>{const I=t.length,F=t.filter(W=>!W.read).length,V=t.reduce((W,X)=>(W[X.type]=(W[X.type]||0)+1,W),{});return{total:I,unread:F,byType:V}},[t]),S=I=>{switch(I){case"success":return r.jsx(yt,{className:"h-4 w-4 text-emerald-400"});case"error":return r.jsx(Dt,{className:"h-4 w-4 text-red-400"});case"warning":return r.jsx(ga,{className:"h-4 w-4 text-yellow-400"});case"info":default:return r.jsx(Ht,{className:"h-4 w-4 text-blue-400"})}},_=I=>{switch(I){case"success":return"border-l-emerald-400";case"error":return"border-l-red-400";case"warning":return"border-l-yellow-400";case"info":default:return"border-l-blue-400"}},k=I=>{const F=new Date;let V;if(I instanceof Date)V=I;else if(typeof I=="string"||typeof I=="number")V=new Date(I);else return"Unknown";if(isNaN(V.getTime()))return"Unknown";const W=F.getTime()-V.getTime(),X=Math.floor(W/6e4),D=Math.floor(W/36e5),U=Math.floor(W/864e5);return U>0?`${U}d ago`:D>0?`${D}h ago`:X>0?`${X}m ago`:"Just now"},T=p.useMemo(()=>t.filter(I=>{const F=I.title.toLowerCase().includes(o.toLowerCase())||I.message.toLowerCase().includes(o.toLowerCase()),V=d==="all"||I.type===d,W=h==="all"||h==="unread"&&!I.read||h==="read"&&I.read;return F&&V&&W}),[t,o,d,h]),A=p.useMemo(()=>{const I=(w-1)*b,F=I+b;return T.slice(I,F)},[T,w]),E=Math.ceil(T.length/b),R=I=>{y(I?A.map(F=>F.id):[])},z=(I,F)=>{y(F?[...g,I]:g.filter(V=>V!==I))},B=I=>{g.forEach(F=>{I==="read"?s(F):n(F)}),y([])},O=I=>{var F,V,W,X;s(I.id),(F=I.metadata)!=null&&F.leadId?e(`/leads/${I.metadata.leadId}`):(V=I.metadata)!=null&&V.campaignId?e(`/campaigns/${I.metadata.campaignId}`):(W=I.metadata)!=null&&W.ticketId?e(`/support-tickets/${I.metadata.ticketId}`):(X=I.action)!=null&&X.href&&e(I.action.href)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx(Vo,{className:"h-8 w-8 text-emerald-400"})}),r.jsxs("div",{className:"flex gap-2",children:[N.unread>0&&r.jsxs(K,{onClick:a,className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(i1,{className:"mr-2 h-4 w-4"}),"Mark All Read"]}),r.jsx(K,{variant:"outline",onClick:()=>e("/settings"),className:"border-gray-700 hover:bg-gray-800",children:"Settings"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:N.total})]}),r.jsx(Vo,{className:"h-8 w-8 text-gray-600"})]})})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Unread"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.unread})]}),r.jsx(Ft,{className:"h-8 w-8 text-emerald-600"})]})})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Success"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:N.byType.success||0})]}),r.jsx(yt,{className:"h-8 w-8 text-emerald-600"})]})})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Warnings"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:N.byType.warning||0})]}),r.jsx(ga,{className:"h-8 w-8 text-yellow-600"})]})})})]}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsxs(J,{className:"p-4",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{type:"search",placeholder:"Search notifications...",value:o,onChange:I=>l(I.target.value),className:"border-gray-600 bg-gray-900/50 pl-10 text-white"})]})}),r.jsxs(Qe,{value:d,onValueChange:u,children:[r.jsx(Je,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:r.jsx(et,{placeholder:"Filter by type"})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All Types"}),r.jsx(ae,{value:"success",children:"Success"}),r.jsx(ae,{value:"error",children:"Error"}),r.jsx(ae,{value:"warning",children:"Warning"}),r.jsx(ae,{value:"info",children:"Info"})]})]}),r.jsxs(Qe,{value:h,onValueChange:f,children:[r.jsx(Je,{className:"w-[180px] border-gray-600 bg-gray-900/50",children:r.jsx(et,{placeholder:"Filter by status"})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"unread",children:"Unread"}),r.jsx(ae,{value:"read",children:"Read"})]})]})]}),g.length>0&&r.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-lg border border-emerald-700/30 bg-emerald-900/20 p-3",children:[r.jsxs("span",{className:"text-sm text-emerald-400",children:[g.length," selected"]}),r.jsxs(K,{size:"sm",variant:"ghost",onClick:()=>B("read"),className:"text-emerald-400 hover:text-emerald-300",children:[r.jsx(i1,{className:"mr-1 h-4 w-4"}),"Mark as Read"]}),r.jsxs(K,{size:"sm",variant:"ghost",onClick:()=>B("delete"),className:"text-red-400 hover:text-red-300",children:[r.jsx(Us,{className:"mr-1 h-4 w-4"}),"Delete"]}),r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>y([]),className:"ml-auto text-gray-400 hover:text-gray-300",children:"Clear Selection"})]})]})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-0",children:T.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(Vo,{className:"mb-4 h-12 w-12 opacity-50"}),r.jsx("p",{className:"text-lg",children:"No notifications found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o?"Try adjusting your search":"You're all caught up!"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-700 p-4",children:[r.jsx(ad,{checked:g.length===A.length&&A.length>0,onCheckedChange:R,className:"border-gray-600"}),r.jsx("span",{className:"text-sm text-gray-400",children:"Select all on this page"})]}),r.jsx("div",{className:"divide-y divide-gray-700",children:A.map(I=>r.jsxs("div",{className:De("group relative flex cursor-pointer items-start border-l-4 p-4 transition-colors hover:bg-gray-700/50",_(I.type),!I.read&&"bg-gray-700/30"),children:[r.jsx(ad,{checked:g.includes(I.id),onCheckedChange:F=>z(I.id,F),onClick:F=>F.stopPropagation(),className:"mr-4 mt-1 border-gray-600"}),r.jsx("div",{className:"min-w-0 flex-1",onClick:()=>O(I),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 flex-shrink-0",children:S(I.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[r.jsx("p",{className:De("text-sm font-medium",I.read?"text-gray-300":"text-white"),children:I.title}),!I.read&&r.jsx(ke,{className:"border-emerald-500/30 bg-emerald-500/20 text-xs text-emerald-400",children:"New"})]}),r.jsx("p",{className:"mb-2 text-sm text-gray-400",children:I.message}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsx("span",{children:k(I.timestamp)}),I.category&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{className:"capitalize",children:I.category})]}),I.source&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:I.source})]})]}),I.action&&r.jsxs(K,{variant:"ghost",size:"sm",className:"mt-2 h-auto p-0 text-xs text-emerald-400 hover:text-emerald-300",onClick:F=>{var V;F.stopPropagation(),(V=I.action)!=null&&V.href&&e(I.action.href)},children:[I.action.label,r.jsx(Si,{className:"ml-1 h-3 w-3"})]})]})]}),r.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[!I.read&&r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"}),r.jsx(ei,{className:"h-4 w-4 text-gray-600 opacity-0 transition-opacity group-hover:opacity-100"})]})]})})]},I.id))}),E>1&&r.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 p-4",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(w-1)*b+1," to"," ",Math.min(w*b,T.length)," of"," ",T.length," notifications"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(K,{variant:"outline",size:"sm",onClick:()=>v(w-1),disabled:w===1,className:"border-gray-600 hover:bg-gray-700",children:"Previous"}),Array.from({length:Math.min(5,E)},(I,F)=>{let V;return E<=5||w<=3?V=F+1:w>=E-2?V=E-4+F:V=w-2+F,r.jsx(K,{variant:w===V?"default":"outline",size:"sm",onClick:()=>v(V),className:De("w-10",w===V?"bg-emerald-600 hover:bg-emerald-700":"border-gray-600 hover:bg-gray-700"),children:V},V)}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>v(w+1),disabled:w===E,className:"border-gray-600 hover:bg-gray-700",children:"Next"})]})]})]})})})]})};function z1e({user:e,isOpen:t,onClose:s,onResendInvitation:a,onSuspendUser:n,onActivateUser:i}){if(!e)return null;const o=(N,S)=>{const _={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt,label:"Active"},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:ta,label:S||"Invited"},"Invitation Pending":{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Ft,label:"Invitation Pending"},"Invitation Expired":{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Dt,label:"Invitation Expired"},"Never Logged In":{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Xr,label:"Never Logged In"},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Mu,label:"Inactive"},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Mu,label:"Suspended"}},k=_[S||N]||_.invited,T=k.icon;return r.jsxs(ke,{variant:"outline",className:k.className,children:[r.jsx(T,{className:"mr-1 h-3 w-3"}),k.label]})},l=N=>{const S=N.replace("client_","").replace("_"," ").split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" ");return r.jsxs(ke,{variant:"outline",className:"border-blue-500/20 bg-blue-500/10 text-blue-400",children:[r.jsx(ya,{className:"mr-1 h-3 w-3"}),S]})},d=N=>N?new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",h=(N=>{if(!N)return{text:"Never logged in",className:"text-gray-400"};const S=Math.floor((Date.now()-new Date(N).getTime())/(1e3*60*60*24));return S===0?{text:"Today",className:"text-emerald-400"}:S===1?{text:"Yesterday",className:"text-emerald-400"}:S<7?{text:`${S} days ago`,className:"text-blue-400"}:S<30?{text:`${Math.floor(S/7)} weeks ago`,className:"text-yellow-400"}:{text:`${Math.floor(S/30)} months ago`,className:"text-red-400"}})(e.last_login_at),f=e.status==="suspended"?"suspended":e.status==="invited"||!e.last_login_at?"invited":e.status==="active"&&e.last_login_at?"active":e.status,g=e.status==="suspended"?"Suspended":!e.last_login_at&&(e.status==="invited"||e.status==="active")?"Invitation Pending":e.status==="active"&&e.last_login_at?"Active":e.display_status||e.status,y=!e.last_login_at&&(e.status==="invited"||e.status==="active"),w=y,v=e.status==="active"&&e.last_login_at,b=e.status==="suspended"||e.status==="inactive";return r.jsx(sl,{open:t,onOpenChange:s,children:r.jsxs(co,{className:"bg-gray-900 border-gray-800 max-w-2xl",children:[r.jsx(uo,{children:r.jsx(mo,{className:"text-xl font-semibold text-white",children:"User Profile"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/10",children:r.jsx(Xr,{className:"h-8 w-8 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-white",children:[e.first_name," ",e.last_name]}),r.jsx("p",{className:"text-sm text-gray-400",children:e.email}),e.phone&&r.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1 mt-1",children:[r.jsx(dt,{className:"h-3 w-3"}),e.phone]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o(f,g),l(e.role)]})]}),y&&r.jsxs(Wt,{className:"border-yellow-700 bg-yellow-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-400"}),r.jsxs(Vt,{className:"text-yellow-200",children:["This user has been invited but hasn't set up their account yet.",e.display_status==="Invitation Expired"?" Their invitation has expired and needs to be resent.":" They need to check their email and complete the signup process."]})]}),e.status==="suspended"&&r.jsxs(Wt,{className:"border-red-700 bg-red-900/20",children:[r.jsx(Mu,{className:"h-4 w-4 text-red-400"}),r.jsx(Vt,{className:"text-red-200",children:"This user account is suspended and cannot access the platform."})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Account Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Created"}),r.jsx("p",{className:"text-white",children:d(e.created_at)})]}),e.invited_at&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Invited"}),r.jsx("p",{className:"text-white",children:d(e.invited_at)}),e.invited_by_name&&r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",e.invited_by_name]})]}),e.invitation_accepted_at&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Invitation Accepted"}),r.jsx("p",{className:"text-white",children:d(e.invitation_accepted_at)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email Verified"}),r.jsx("p",{className:"text-white flex items-center gap-1",children:e.email_verified?r.jsxs(r.Fragment,{children:[r.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),"Verified"]}):r.jsxs(r.Fragment,{children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-400"}),"Not Verified"]})})]})]})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Login Activity"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"First Login"}),r.jsx("p",{className:"text-white",children:d(e.first_login_at)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Last Login"}),r.jsx("p",{className:`font-medium ${h.className}`,children:h.text}),e.last_login_at&&r.jsx("p",{className:"text-xs text-gray-500",children:d(e.last_login_at)})]}),e.login_count!==void 0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Logins"}),r.jsx("p",{className:"text-white",children:e.login_count})]}),e.last_activity_at&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Last Activity"}),r.jsx("p",{className:"text-white",children:H0(new Date(e.last_activity_at),{addSuffix:!0})})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[w&&a&&r.jsxs(K,{onClick:()=>a(e.id),variant:"outline",className:"border-yellow-700 text-yellow-400 hover:bg-yellow-900/20",children:[r.jsx(Zl,{className:"mr-2 h-4 w-4"}),"Resend Invitation"]}),v&&n&&r.jsxs(K,{onClick:()=>n(e.id),variant:"outline",className:"border-red-700 text-red-400 hover:bg-red-900/20",children:[r.jsx(Mu,{className:"mr-2 h-4 w-4"}),"Suspend User"]}),b&&i&&r.jsxs(K,{onClick:()=>i(e.id),variant:"outline",className:"border-emerald-700 text-emerald-400 hover:bg-emerald-900/20",children:[r.jsx(Gu,{className:"mr-2 h-4 w-4"}),"Activate User"]}),r.jsx(K,{onClick:s,variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Close"})]})]})]})})}const UR=[{id:1,name:"Details",icon:tr},{id:2,name:"Team",icon:Ot},{id:3,name:"Settings",icon:ls}],F1e=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],U1e=["Technology","Healthcare","Finance","Real Estate","Retail","Manufacturing","Education","Marketing & Advertising","Other"],B1e=[{value:"client_admin",label:"Admin",description:"Full access to organization"},{value:"client_user",label:"User",description:"Can manage campaigns"}];function W1e(){const{id:e}=Vf(),t=br(),{getToken:s}=en(),{toast:a}=Ur(),[n,i]=p.useState(2),[o,l]=p.useState(null),[d,u]=p.useState([]),[h,f]=p.useState([]),[g,y]=p.useState(!0),[w,v]=p.useState(!1),[b,N]=p.useState(null),[S,_]=p.useState(!1),[k,T]=p.useState(""),[A,E]=p.useState(""),[R,z]=p.useState(""),[B,O]=p.useState("client_user"),[I,F]=p.useState(!1),[V,W]=p.useState({}),[X,D]=p.useState(""),[U,H]=p.useState(""),[M,L]=p.useState(!1),[q,ue]=p.useState(!1),[G,ge]=p.useState(!1),[be,Ne]=p.useState(null),[Fe,le]=p.useState(!1);p.useEffect(()=>{Se()},[e]),p.useEffect(()=>{o&&(console.log(" Updating VAPI fields from organization data:",{vapi_api_key:o.vapi_api_key,vapi_private_key:o.vapi_private_key,fullOrg:o}),D(o.vapi_private_key||""),H(o.vapi_api_key||""),L(!!o.vapi_api_key||!!o.vapi_private_key))},[o]);const Se=async()=>{var ce,Ie;try{y(!0);const{supabaseService:tt}=await pn(async()=>{const{supabaseService:Ge}=await Promise.resolve().then(()=>Fu);return{supabaseService:Ge}},void 0);console.log(" Fetching organization data for ID:",e);try{const Ge=await tt.getOrganization(e);if(!Ge)throw new Error("Organization not found");const yr={id:Ge.id,name:Ge.name,slug:Ge.slug,type:Ge.type,status:Ge.status,plan:Ge.plan,monthly_cost:Ge.monthly_cost,primary_color:Ge.primary_color,secondary_color:Ge.secondary_color,website:Ge.website,phone:Ge.phone,address:Ge.address,country:Ge.country,industry:Ge.industry,contact_name:Ge.contact_name,contact_email:Ge.billing_email||Ge.contact_email,contact_phone:Ge.contact_phone,vapi_api_key:Ge.vapi_api_key,vapi_private_key:Ge.vapi_private_key,created_at:Ge.created_at,updated_at:Ge.updated_at};l(yr),W(yr),console.log(" Loading VAPI settings from Supabase:",{vapi_api_key:Ge.vapi_api_key,vapi_private_key:Ge.vapi_private_key,fullOrgData:Ge}),D(Ge.vapi_private_key||""),H(Ge.vapi_api_key||""),L(!!(Ge.vapi_api_key||Ge.vapi_private_key));try{const _a=(await tt.getUsers(e)).map(ur=>({id:ur.id,email:ur.email,first_name:ur.first_name,last_name:ur.last_name,phone:ur.phone,role:ur.role,status:ur.status,email_verified:ur.email_verified,created_at:ur.created_at,invited_at:ur.invited_at,last_login_at:ur.last_login_at}));u(_a)}catch(kr){console.warn("Failed to fetch users:",kr),u([])}N(null),y(!1);return}catch(Ge){console.error(" Error fetching from Supabase:",Ge),N("Organization not found"),y(!1);return}const vt=await s(),pr={"Content-Type":"application/json",...vt&&{Authorization:`Bearer ${vt}`}},us=await fetch(`/api/api/organizations/${e}`,{headers:pr});if(!us.ok)throw new Error("Failed to fetch organization");const Qt=await us.json(),sr=Qt.organization||Qt;if(l(sr),W(sr),sr.vapi_settings||(ce=sr.settings)!=null&&ce.vapi){const Ge=sr.vapi_settings?typeof sr.vapi_settings=="string"?JSON.parse(sr.vapi_settings):sr.vapi_settings:(Ie=sr.settings)==null?void 0:Ie.vapi;D(Ge.privateKey||Ge.apiKey||""),H(Ge.publicKey||""),L(Ge.enabled!==void 0?Ge.enabled:!0)}const es=await fetch(`/api/api/organizations/${e}/users`,{headers:pr});if(es.ok){const Ge=await es.json();u(Ge.users||[])}const xr=await fetch(`/api/api/organizations/${e}/invitations`,{headers:pr});if(xr.ok){const Ge=await xr.json();f(Ge.invitations||[])}}catch(tt){console.error("Error fetching organization data:",tt),a({title:"Error",description:"Failed to load organization data",variant:"destructive"})}finally{y(!1)}},Pe=async()=>{try{v(!0);const{supabaseService:ce}=await pn(async()=>{const{supabaseService:vt}=await Promise.resolve().then(()=>Fu);return{supabaseService:vt}},void 0),Ie={name:V.name,billing_email:V.contact_email,phone:V.phone,address:V.address,country:V.country,website:V.website,industry:V.industry,updated_at:new Date().toISOString()};n===3&&(Ie.vapi_private_key=X,Ie.vapi_api_key=U,console.log(" Including VAPI settings in update")),console.log(" Attempting to save organization with data:",{id:e,updateData:Ie,currentStep:n});const tt=await ce.updateOrganization(e,Ie);console.log(" Update result:",tt),a({title:"Success",description:"Organization details saved successfully"}),console.log(" Save completed successfully - skipping refresh to avoid errors")}catch(ce){console.error(" Error saving changes:",ce),console.error("Error details:",{message:ce instanceof Error?ce.message:"Unknown error",error:ce}),a({title:"Error",description:ce instanceof Error?ce.message:"Failed to save changes",variant:"destructive"})}finally{v(!1)}},te=async()=>{try{F(!0);const ce=await s(),Ie=await fetch(`/api/api/organizations/${e}/invite`,{method:"POST",headers:{"Content-Type":"application/json",...ce&&{Authorization:`Bearer ${ce}`}},body:JSON.stringify({email:k,firstName:A,lastName:R,role:B,inviterName:"Admin"})});if(!Ie.ok){const tt=await Ie.json();throw new Error(tt.error||"Failed to send invitation")}a({title:"Success",description:`Invitation sent to ${k}`}),T(""),E(""),z(""),O("client_user"),_(!1),await Se()}catch(ce){console.error("Error sending invitation:",ce),a({title:"Error",description:ce instanceof Error?ce.message:"Failed to send invitation",variant:"destructive"})}finally{F(!1)}},he=async ce=>{try{const Ie=await s();if(!(await fetch(`/api/api/invitations/${ce}/resend`,{method:"POST",headers:{"Content-Type":"application/json",...Ie&&{Authorization:`Bearer ${Ie}`}}})).ok)throw new Error("Failed to resend invitation");a({title:"Success",description:"Invitation resent successfully"}),await Se()}catch(Ie){console.error("Error resending invitation:",Ie),a({title:"Error",description:"Failed to resend invitation",variant:"destructive"})}},_e=async ce=>{if(confirm("Are you sure you want to cancel this invitation?"))try{const Ie=await s();if(!(await fetch(`/api/api/invitations/${ce}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Ie&&{Authorization:`Bearer ${Ie}`}}})).ok)throw new Error("Failed to cancel invitation");a({title:"Success",description:"Invitation cancelled"}),await Se()}catch(Ie){console.error("Error cancelling invitation:",Ie),a({title:"Error",description:"Failed to cancel invitation",variant:"destructive"})}},Te=ce=>{const Ie=`${window.location.origin}/accept-invitation?token=${ce}`;navigator.clipboard.writeText(Ie),a({title:"Copied!",description:"Invitation link copied to clipboard"})},oe=ce=>ce.status==="active"&&ce.last_login_at?{status:"active",label:"Active"}:ce.status==="invited"&&!ce.invitation_accepted_at?{status:"invited",label:"Invitation Pending"}:ce.status==="active"&&!ce.last_login_at?{status:"never_logged_in",label:"Never Logged In"}:ce.status==="suspended"?{status:"suspended",label:"Suspended"}:ce.status==="inactive"?{status:"inactive",label:"Inactive"}:{status:ce.status,label:ce.status},We=(ce,Ie)=>{const tt={active:{className:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",icon:yt},invited:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:ta},never_logged_in:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Ft},pending:{className:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:Ft},cancelled:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:At},accepted:{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:as},suspended:{className:"bg-red-500/10 text-red-400 border-red-500/20",icon:Mu},inactive:{className:"bg-gray-500/10 text-gray-400 border-gray-500/20",icon:Mu}},vt=tt[ce]||tt.pending,pr=vt.icon;return r.jsxs(ke,{variant:"outline",className:vt.className,children:[r.jsx(pr,{className:"mr-1 h-3 w-3"}),Ie||ce.charAt(0).toUpperCase()+ce.slice(1)]})},pt=ce=>{const Ie=oe(ce),tt={...ce,display_status:Ie.label};Ne(tt),le(!0)};return g?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bn,{className:"h-8 w-8 animate-spin text-emerald-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading organization..."})]})}):o?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:[r.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 mx-auto max-w-6xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(tr,{className:"h-8 w-8 text-emerald-500"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:o.name}),r.jsx("p",{className:"text-gray-400",children:"Manage organization settings and team members"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(K,{variant:"outline",onClick:()=>t("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(fd,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]}),r.jsx(K,{onClick:Pe,disabled:w,className:"bg-emerald-600 hover:bg-emerald-700",children:w?r.jsxs(r.Fragment,{children:[r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]})}),r.jsx(K,{variant:"outline",onClick:()=>t("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),r.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:UR.map((ce,Ie)=>{const tt=ce.icon,vt=ce.id===n,pr=ce.id<n;return r.jsxs(de.Fragment,{children:[r.jsxs("button",{onClick:()=>i(ce.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 transition-all ${vt?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":pr?"bg-gray-800/50 text-gray-300 hover:bg-gray-800":"bg-gray-900/50 text-gray-500 hover:bg-gray-900"}`,children:[r.jsx("div",{className:`rounded-full p-2 ${vt?"bg-emerald-500/20":pr?"bg-gray-700":"bg-gray-800"}`,children:r.jsx(tt,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium",children:ce.name})]}),Ie<UR.length-1&&r.jsx(ei,{className:"h-5 w-5 text-gray-600"})]},ce.id)})})]}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsxs(J,{className:"p-8",children:[n===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Organization Details"}),r.jsx("p",{className:"text-gray-400",children:"Update your organization's basic information"})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"name",className:"text-gray-300",children:"Business Name *"}),r.jsx(Ae,{id:"name",value:V.name||"",onChange:ce=>W({...V,name:ce.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"e.g., Acme Marketing Agency"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"contact_email",className:"text-gray-300",children:"Business Email *"}),r.jsx(Ae,{id:"contact_email",type:"email",value:V.contact_email||"",onChange:ce=>W({...V,contact_email:ce.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"contact@acmemarketing.com"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"country",className:"text-gray-300",children:"Country of Residence *"}),r.jsxs(Qe,{value:V.country||"",onValueChange:ce=>W({...V,country:ce}),children:[r.jsx(Je,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{placeholder:"Select your country"})}),r.jsx(Xe,{children:F1e.map(ce=>r.jsx(ae,{value:ce.code,children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:ce.flag}),r.jsx("span",{children:ce.name})]})},ce.code))})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),r.jsx(Ae,{id:"phone",type:"tel",value:V.phone||"",onChange:ce=>W({...V,phone:ce.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"website",className:"text-gray-300",children:"Website (Optional)"}),r.jsx(Ae,{id:"website",type:"url",value:V.website||"",onChange:ce=>W({...V,website:ce.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"https://www.acmemarketing.com"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"industry",className:"text-gray-300",children:"Industry (Optional)"}),r.jsxs(Qe,{value:V.industry||"",onValueChange:ce=>W({...V,industry:ce}),children:[r.jsx(Je,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{placeholder:"Select your industry"})}),r.jsx(Xe,{children:U1e.map(ce=>r.jsx(ae,{value:ce,children:ce},ce))})]})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"address",className:"text-gray-300",children:"Business Address"}),r.jsx(ha,{id:"address",value:V.address||"",onChange:ce=>W({...V,address:ce.target.value}),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:`123 Main Street, Suite 100
City, State 12345`,rows:3})]}),r.jsxs(Wt,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),r.jsx(Vt,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]}),n===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Members"}),r.jsx("p",{className:"text-gray-400",children:"Manage who has access to your organization"})]}),r.jsxs(K,{onClick:()=>_(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Qf,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Active Members"}),d.length>0?r.jsx("div",{className:"space-y-3",children:d.map(ce=>{const Ie=oe(ce);return r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4 cursor-pointer hover:bg-gray-800/70 transition-colors",onClick:()=>pt(ce),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/10",children:r.jsx(Xr,{className:"h-5 w-5 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[ce.first_name," ",ce.last_name]}),r.jsx("p",{className:"text-sm text-gray-400",children:ce.email}),ce.last_login_at&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(ce.last_login_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ke,{variant:"outline",className:"border-gray-700 text-gray-400",children:ce.role.replace("client_","")}),We(Ie.status,Ie.label)]})]},ce.id)})}):r.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-8 text-center",children:[r.jsx(Ot,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),r.jsx("p",{className:"text-gray-400",children:"No team members yet. Start by inviting someone!"})]})]}),h.filter(ce=>ce.status==="pending").length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Pending Invitations"}),r.jsx("div",{className:"space-y-3",children:h.filter(ce=>ce.status==="pending").map(ce=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-yellow-500/10",children:r.jsx(ta,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[ce.first_name," ",ce.last_name]}),r.jsx("p",{className:"text-sm text-gray-400",children:ce.email}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",new Date(ce.expires_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>Te(ce.id),className:"text-gray-400 hover:text-white",children:r.jsx(Fn,{className:"h-4 w-4"})}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>he(ce.id),className:"text-gray-400 hover:text-white",children:r.jsx(Zl,{className:"h-4 w-4"})}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>_e(ce.id),className:"text-red-400 hover:text-red-300",children:r.jsx(Us,{className:"h-4 w-4"})})]})]},ce.id))})]})]}),n===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"VAPI Integration"}),r.jsx("p",{className:"text-gray-400",children:"Configure your VAPI settings for AI calling capabilities"})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs(Wt,{className:"border-emerald-700 bg-emerald-900/20",children:[r.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),r.jsxs(Vt,{className:"text-emerald-200",children:["VAPI integration enables AI-powered outbound calling. Get your API keys from"," ",r.jsx("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"vapi.ai"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"vapiPrivateKey",className:"text-gray-300",children:"VAPI Private Key"}),r.jsxs("div",{className:"relative mt-2",children:[r.jsx(Ae,{id:"vapiPrivateKey",type:q?"text":"password",value:X,onChange:ce=>D(ce.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Private Key"}),r.jsx("button",{type:"button",onClick:()=>ue(!q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:q?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"vapiPublicKey",className:"text-gray-300",children:"VAPI Public Key"}),r.jsxs("div",{className:"relative mt-2",children:[r.jsx(Ae,{id:"vapiPublicKey",type:G?"text":"password",value:U,onChange:ce=>H(ce.target.value),className:"bg-gray-800 border-gray-700 text-white pr-10",placeholder:"Enter your VAPI Public Key"}),r.jsx("button",{type:"button",onClick:()=>ge(!G),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:G?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800/50 p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Enable VAPI Integration"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Allow AI-powered calling for your campaigns"})]}),r.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:ce=>L(ce.target.checked),className:"peer sr-only"}),r.jsx("div",{className:"peer h-6 w-11 rounded-full bg-gray-700 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:bg-white after:transition-all after:content-[''] peer-checked:bg-emerald-500 peer-checked:after:translate-x-full peer-focus:outline-none"})]})]})]}),r.jsxs(Wt,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(Xl,{className:"h-4 w-4 text-gray-400"}),r.jsx(Vt,{className:"text-gray-300",children:"Your API keys are encrypted and stored securely. Never share them publicly."})]})]})]})})]}),r.jsx(sl,{open:S,onOpenChange:_,children:r.jsxs(co,{className:"bg-gray-900 border-gray-800",children:[r.jsxs(uo,{children:[r.jsx(mo,{className:"text-white",children:"Invite Team Member"}),r.jsx(al,{className:"text-gray-400",children:"Send an invitation to add a new member to your organization"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"inviteFirstName",className:"text-gray-300",children:"First Name"}),r.jsx(Ae,{id:"inviteFirstName",value:A,onChange:ce=>E(ce.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"inviteLastName",className:"text-gray-300",children:"Last Name"}),r.jsx(Ae,{id:"inviteLastName",value:R,onChange:ce=>z(ce.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"inviteEmail",className:"text-gray-300",children:"Email Address"}),r.jsx(Ae,{id:"inviteEmail",type:"email",value:k,onChange:ce=>T(ce.target.value),className:"mt-2 bg-gray-800 border-gray-700 text-white",placeholder:"john.doe@example.com"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"inviteRole",className:"text-gray-300",children:"Role"}),r.jsxs(Qe,{value:B,onValueChange:O,children:[r.jsx(Je,{className:"mt-2 bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{})}),r.jsx(Xe,{children:B1e.map(ce=>r.jsx(ae,{value:ce.value,children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:ce.label}),r.jsx("p",{className:"text-sm text-gray-400",children:ce.description})]})},ce.value))})]})]})]}),r.jsxs(Fd,{children:[r.jsx(K,{variant:"outline",onClick:()=>_(!1),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsx(K,{onClick:te,disabled:!k||!A||!R||I,className:"bg-emerald-600 hover:bg-emerald-700",children:I?r.jsxs(r.Fragment,{children:[r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Zl,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})}),r.jsx(z1e,{user:be,isOpen:Fe,onClose:()=>{le(!1),Ne(null)},onResendInvitation:async ce=>{try{const Ie=await s(),tt=await fetch(`/api/api/users/${ce}/resend-invitation`,{method:"POST",headers:{"Content-Type":"application/json",...Ie&&{Authorization:`Bearer ${Ie}`}},body:JSON.stringify({inviterName:"Admin"})});if(!tt.ok){const pr=await tt.json();throw new Error(pr.error||"Failed to resend invitation")}const vt=await tt.json();vt.inviteLink&&vt.warning?a({title:"Invitation Link Generated",description:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{children:vt.message}),r.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-xs break-all",children:vt.inviteLink}),r.jsx("p",{className:"text-xs text-gray-400",children:vt.warning}),r.jsxs("div",{className:"mt-3 p-2 bg-blue-900/20 border border-blue-800 rounded text-xs",children:[r.jsx("p",{className:"font-semibold text-blue-400 mb-1",children:"To enable automatic email sending:"}),r.jsx("p",{className:"text-gray-300",children:"1. Get a free Resend API key at resend.com"}),r.jsx("p",{className:"text-gray-300",children:"2. Add to your /apps/backend/.env file:"}),r.jsx("p",{className:"text-gray-300 font-mono bg-gray-800 p-1 rounded mt-1",children:"RESEND_API_KEY=re_your_api_key"}),r.jsx("p",{className:"text-gray-300",children:"3. Restart the backend server"})]})]}),duration:15e3}):a({title:"Success",description:vt.message}),await Se()}catch(Ie){console.error("Error resending invitation:",Ie),a({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to resend invitation",variant:"destructive"})}},onSuspendUser:async ce=>{if(confirm("Are you sure you want to suspend this user? They will lose access to the platform."))try{const Ie=await s(),tt=await fetch(`/api/api/users/${ce}/suspend`,{method:"POST",headers:{"Content-Type":"application/json",...Ie&&{Authorization:`Bearer ${Ie}`}},body:JSON.stringify({reason:"Suspended by administrator"})});if(!tt.ok){const vt=await tt.json();throw new Error(vt.error||"Failed to suspend user")}a({title:"User Suspended",description:"The user has been suspended and can no longer access the platform."}),await Se(),le(!1)}catch(Ie){console.error("Error suspending user:",Ie),a({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to suspend user",variant:"destructive"})}},onActivateUser:async ce=>{try{const Ie=await s(),tt=await fetch(`/api/api/users/${ce}/activate`,{method:"POST",headers:{"Content-Type":"application/json",...Ie&&{Authorization:`Bearer ${Ie}`}}});if(!tt.ok){const pr=await tt.json();throw new Error(pr.error||"Failed to activate user")}const vt=await tt.json();a({title:"User Activated",description:vt.message}),await Se(),le(!1)}catch(Ie){console.error("Error activating user:",Ie),a({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to activate user",variant:"destructive"})}}})]}):r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsx(Y,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:r.jsx(J,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Organization not found"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"The organization you're looking for doesn't exist or you don't have access."}),r.jsx(K,{onClick:()=>t("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Back to Organizations"})]})})})})}class V1e{async getOrganizationUsers(t){try{return[{id:"1",clerk_id:"clerk_user_1",email:"john.doe@example.com",first_name:"John",last_name:"Doe",role:"client_admin",organization_id:t,created_at:"2024-07-01T00:00:00Z",updated_at:"2024-07-01T00:00:00Z",is_active:!0,last_login:"2024-07-29T10:00:00Z"},{id:"2",clerk_id:"clerk_user_2",email:"jane.smith@example.com",first_name:"Jane",last_name:"Smith",role:"client_user",organization_id:t,created_at:"2024-07-15T00:00:00Z",updated_at:"2024-07-15T00:00:00Z",is_active:!0,last_login:"2024-07-28T14:30:00Z"},{id:"3",clerk_id:"clerk_user_3",email:"bob.wilson@example.com",first_name:"Bob",last_name:"Wilson",role:"client_user",organization_id:t,created_at:"2024-07-20T00:00:00Z",updated_at:"2024-07-20T00:00:00Z",is_active:!1,last_login:"2024-07-25T09:15:00Z"}]}catch(s){throw console.error("Error fetching organization users:",s),s}}async getOrganizationCampaigns(t){try{return[{id:"1",name:"Summer Sales Outreach",status:"active",created_at:"2024-07-01T00:00:00Z",total_calls:1250,successful_calls:375,conversion_rate:30},{id:"2",name:"Q4 Lead Generation",status:"paused",created_at:"2024-07-15T00:00:00Z",total_calls:800,successful_calls:200,conversion_rate:25},{id:"3",name:"Product Launch Campaign",status:"completed",created_at:"2024-06-01T00:00:00Z",total_calls:2e3,successful_calls:600,conversion_rate:30},{id:"4",name:"Holiday Special Offers",status:"draft",created_at:"2024-07-28T00:00:00Z",total_calls:0,successful_calls:0,conversion_rate:0}]}catch(s){throw console.error("Error fetching organization campaigns:",s),s}}async getOrganizationLeads(t,s=10){try{return[{id:"1",name:"Alice Johnson",email:"alice@company.com",phone:"+1 555-0123",status:"qualified",source:"Summer Sales Outreach",created_at:"2024-07-28T10:00:00Z",last_contacted:"2024-07-28T10:30:00Z",assigned_to:"John Doe"},{id:"2",name:"Bob Martinez",email:"bob@enterprise.com",phone:"+1 555-0124",status:"contacted",source:"Q4 Lead Generation",created_at:"2024-07-27T14:00:00Z",last_contacted:"2024-07-27T14:15:00Z",assigned_to:"Jane Smith"},{id:"3",name:"Carol Davis",email:"carol@startup.com",phone:"+1 555-0125",status:"new",source:"Website Form",created_at:"2024-07-29T08:00:00Z",assigned_to:"John Doe"},{id:"4",name:"David Lee",phone:"+1 555-0126",status:"interested",source:"Summer Sales Outreach",created_at:"2024-07-26T11:00:00Z",last_contacted:"2024-07-28T09:00:00Z",assigned_to:"Jane Smith"},{id:"5",name:"Eva Wilson",email:"eva@tech.com",phone:"+1 555-0127",status:"qualified",source:"Product Launch Campaign",created_at:"2024-07-25T16:00:00Z",last_contacted:"2024-07-29T10:00:00Z",assigned_to:"Bob Wilson"}].slice(0,s)}catch(a){throw console.error("Error fetching organization leads:",a),a}}async updateOrganization(t,s){try{console.log("Updating organization:",t,s)}catch(a){throw console.error("Error updating organization:",a),a}}async updateUserRole(t,s){try{console.log("Updating user role:",t,s)}catch(a){throw console.error("Error updating user role:",a),a}}async deactivateUser(t){try{console.log("Deactivating user:",t)}catch(s){throw console.error("Error deactivating user:",s),s}}async activateUser(t){try{console.log("Activating user:",t)}catch(s){throw console.error("Error activating user:",s),s}}async inviteUser(t,s,a){try{console.log("Inviting user:",s,"to organization:",t,"with role:",a)}catch(n){throw console.error("Error inviting user:",n),n}}}const zh=new V1e;var vB="AlertDialog",[q1e,x8e]=Bs(vB,[v7]),dl=v7(),bB=e=>{const{__scopeAlertDialog:t,...s}=e,a=dl(t);return r.jsx(I7,{...a,...s,modal:!0})};bB.displayName=vB;var H1e="AlertDialogTrigger",wB=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=dl(s);return r.jsx(D7,{...n,...a,ref:t})});wB.displayName=H1e;var K1e="AlertDialogPortal",jB=e=>{const{__scopeAlertDialog:t,...s}=e,a=dl(t);return r.jsx($7,{...a,...s})};jB.displayName=K1e;var G1e="AlertDialogOverlay",NB=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=dl(s);return r.jsx(B2,{...n,...a,ref:t})});NB.displayName=G1e;var Hu="AlertDialogContent",[Y1e,J1e]=q1e(Hu),X1e=rG("AlertDialogContent"),_B=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:a,...n}=e,i=dl(s),o=p.useRef(null),l=ht(t,o),d=p.useRef(null);return r.jsx(aNe,{contentName:Hu,titleName:SB,docsSlug:"alert-dialog",children:r.jsx(Y1e,{scope:s,cancelRef:d,children:r.jsxs(W2,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:ze(n.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[r.jsx(X1e,{children:a}),r.jsx(Q1e,{contentRef:o})]})})})});_B.displayName=Hu;var SB="AlertDialogTitle",CB=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=dl(s);return r.jsx(V2,{...n,...a,ref:t})});CB.displayName=SB;var kB="AlertDialogDescription",AB=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=dl(s);return r.jsx(q2,{...n,...a,ref:t})});AB.displayName=kB;var Z1e="AlertDialogAction",PB=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=dl(s);return r.jsx(H2,{...n,...a,ref:t})});PB.displayName=Z1e;var EB="AlertDialogCancel",TB=p.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=J1e(EB,s),i=dl(s),o=ht(t,n);return r.jsx(H2,{...i,...a,ref:o})});TB.displayName=EB;var Q1e=({contentRef:e})=>{const t=`\`${Hu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hu}\` by passing a \`${kB}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},e_e=bB,t_e=wB,r_e=jB,OB=NB,RB=_B,MB=PB,IB=TB,DB=CB,$B=AB;const Df=e_e,z_=t_e,s_e=r_e,LB=p.forwardRef(({className:e,...t},s)=>r.jsx(OB,{className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));LB.displayName=OB.displayName;const om=p.forwardRef(({className:e,...t},s)=>r.jsxs(s_e,{children:[r.jsx(LB,{}),r.jsx(RB,{ref:s,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-zinc-800 dark:bg-zinc-950 sm:rounded-lg",e),...t})]}));om.displayName=RB.displayName;const lm=({className:e,...t})=>r.jsx("div",{className:De("flex flex-col space-y-2 text-center sm:text-left",e),...t});lm.displayName="AlertDialogHeader";const cm=({className:e,...t})=>r.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cm.displayName="AlertDialogFooter";const dm=p.forwardRef(({className:e,...t},s)=>r.jsx(DB,{ref:s,className:De("text-lg font-semibold",e),...t}));dm.displayName=DB.displayName;const um=p.forwardRef(({className:e,...t},s)=>r.jsx($B,{ref:s,className:De("text-sm text-zinc-500 dark:text-zinc-400",e),...t}));um.displayName=$B.displayName;const mm=p.forwardRef(({className:e,...t},s)=>r.jsx(MB,{ref:s,className:De(uS(),e),...t}));mm.displayName=MB.displayName;const hm=p.forwardRef(({className:e,...t},s)=>r.jsx(IB,{ref:s,className:De(uS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));hm.displayName=IB.displayName;window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.com");const a_e=({organizationId:e})=>{const{toast:t}=Ur(),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,u]=p.useState("client_user"),[h,f]=p.useState(!1);p.useEffect(()=>{g()},[e]);const g=async()=>{try{i(!0);const S=await zh.getOrganizationUsers(e);a(S)}catch{t({title:"Error",description:"Failed to load team members",variant:"destructive"})}finally{i(!1)}},y=async(S,_)=>{try{await zh.updateUserRole(S,_),t({title:"Success",description:"User role updated successfully"}),g()}catch{t({title:"Error",description:"Failed to update user role",variant:"destructive"})}},w=async S=>{try{S.is_active?await zh.deactivateUser(S.id):await zh.activateUser(S.id),t({title:"Success",description:`User ${S.is_active?"deactivated":"activated"} successfully`}),g()}catch{t({title:"Error",description:"Failed to update user status",variant:"destructive"})}},v=async()=>{try{await zh.inviteUser(e,o,d),t({title:"Success",description:"Invitation sent successfully"}),f(!1),l(""),u("client_user")}catch{t({title:"Error",description:"Failed to send invitation",variant:"destructive"})}},b=S=>{switch(S){case"client_admin":return"border-purple-500 text-purple-400";case"client_user":return"border-blue-500 text-blue-400";default:return"border-gray-500 text-gray-400"}},N=S=>S?"border-emerald-500 text-emerald-400":"border-red-500 text-red-400";return n?r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading team members..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-white",children:"Team Members"}),r.jsx(wt,{children:"Manage your organization's team members and their permissions"})]}),r.jsxs(K,{onClick:()=>f(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Invite Member"]})]})}),r.jsx(J,{children:r.jsx("div",{className:"space-y-4",children:s.map(S=>{var _,k;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(yd,{className:"h-10 w-10",children:r.jsxs(vd,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:[(_=S.first_name)==null?void 0:_[0],(k=S.last_name)==null?void 0:k[0]]})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:S.email}),r.jsx("p",{className:"text-sm text-gray-400",children:S.email}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(ke,{variant:"outline",className:De("text-xs",b(S.role)),children:S.role.replace("client_","").replace("_"," ").toUpperCase()}),r.jsx(ke,{variant:"outline",className:De("text-xs",N(S.is_active)),children:S.is_active?"Active":"Inactive"}),S.last_login&&r.jsxs("span",{className:"text-xs text-gray-500",children:["Last login: ",new Date(S.last_login).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Qe,{value:S.role,onValueChange:T=>y(S.id,T),children:[r.jsx(Je,{className:"w-32 bg-gray-800 border-gray-700",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"client_admin",children:"Admin"}),r.jsx(ae,{value:"client_user",children:"User"})]})]}),r.jsxs(Df,{children:[r.jsx(z_,{asChild:!0,children:r.jsx(K,{variant:"outline",size:"sm",className:De("border-gray-700",S.is_active?"text-red-400 hover:bg-red-600/20":"text-emerald-400 hover:bg-emerald-600/20"),children:S.is_active?"Deactivate":"Activate"})}),r.jsxs(om,{className:"bg-gray-900 border-gray-800",children:[r.jsxs(lm,{children:[r.jsx(dm,{className:"text-white",children:S.is_active?"Deactivate User":"Activate User"}),r.jsxs(um,{className:"text-gray-400",children:["Are you sure you want to ",S.is_active?"deactivate":"activate"," ",S.email,"? ",S.is_active?"They will no longer be able to access the platform.":"They will be able to access the platform again."]})]}),r.jsxs(cm,{children:[r.jsx(hm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsx(mm,{onClick:()=>w(S),className:S.is_active?"bg-red-600 text-white hover:bg-red-700":"bg-emerald-600 text-white hover:bg-emerald-700",children:S.is_active?"Deactivate":"Activate"})]})]})]})]})]},S.id)})})})]}),r.jsx(Df,{open:h,onOpenChange:f,children:r.jsxs(om,{className:"bg-gray-900 border-gray-800",children:[r.jsxs(lm,{children:[r.jsx(dm,{className:"text-white",children:"Invite Team Member"}),r.jsx(um,{className:"text-gray-400",children:"Send an invitation to a new team member"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Email Address"}),r.jsx(Ae,{type:"email",value:o,onChange:S=>l(S.target.value),placeholder:"user@example.com",className:"bg-gray-800 border-gray-700"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Role"}),r.jsxs(Qe,{value:d,onValueChange:u,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"client_admin",children:"Admin"}),r.jsx(ae,{value:"client_user",children:"User"})]})]})]})]}),r.jsxs(cm,{children:[r.jsx(hm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsx(mm,{onClick:v,disabled:!o,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Send Invitation"})]})]})})]})},n_e=()=>{const{organization:e,stats:t,isLoading:s,updateOrganization:a}=Tne(),{toast:n}=Ur(),[i,o]=p.useState("overview"),[l,d]=p.useState(!1),[u,h]=p.useState(e),[f,g]=p.useState(!1),[y,w]=p.useState(!1),[v,b]=p.useState((e==null?void 0:e.vapi_private_key)||""),[N,S]=p.useState(!1),[_,k]=p.useState(null),[T,A]=p.useState(""),[E,R]=p.useState(!1),[z,B]=p.useState((e==null?void 0:e.vapi_public_key)||(e==null?void 0:e.vapi_api_key)||""),[O,I]=p.useState(!1),[F,V]=p.useState(null);p.useEffect(()=>{e?(console.log(" Full organization data loaded:",e),console.log(" Organization fields:",{name:e.name,billing_email:e.billing_email,phone:e.phone,website:e.website,industry:e.industry,address:e.address,vapi_api_key:e.vapi_api_key,vapi_private_key:e.vapi_private_key}),b(e.vapi_private_key||""),B(e.vapi_public_key||e.vapi_api_key||""),h(e)):console.log(" No organization data available")},[e]);const W=async ue=>{k({type:ue,value:ue==="private"?v:z}),S(!0)},X=async()=>{if(!(!_||!T)){R(!0);try{const{data:{user:ue}}=await rt.auth.getUser();if(!(ue!=null&&ue.email))throw new Error("User not authenticated");const{error:G}=await rt.auth.signInWithPassword({email:ue.email,password:T});if(G){n({title:"Authentication Failed",description:"Incorrect password. Please try again.",variant:"destructive"});return}const ge=_.type==="private"?{vapi_private_key:_.value}:{vapi_public_key:_.value,vapi_api_key:_.value};await a(ge),await D(_.type,ue.email),await U(_.type,ue.email),n({title:"Apex Credentials Updated",description:`Your Apex ${_.type} key has been updated successfully. All administrators have been notified.`}),S(!1),k(null),A("")}catch(ue){console.error("Error updating VAPI key:",ue),n({title:"Update Failed",description:ue instanceof Error?ue.message:"Failed to update VAPI credentials",variant:"destructive"})}finally{R(!1)}}},D=async(ue,G)=>{try{const{error:ge}=await rt.from("audit_logs").insert({organization_id:e==null?void 0:e.id,user_email:G,action:"vapi_credential_update",details:{key_type:ue,timestamp:new Date().toISOString(),ip_address:window.location.hostname}});ge&&console.error("Failed to log audit:",ge)}catch(ge){console.error("Error logging credential change:",ge)}},U=async(ue,G)=>{try{const{data:ge}=await rt.from("users").select("email, first_name, last_name").eq("organization_id",e==null?void 0:e.id).in("role",["client_admin","platform_owner"]);if(!ge||ge.length===0)return;console.log("Sending notifications to:",ge.map(be=>be.email)),n({title:"Notifications Sent",description:`${ge.length} administrator(s) have been notified of this change.`})}catch(ge){console.error("Error sending notifications:",ge)}};if(s||!e)return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Loading organization settings..."})]})});const H=async()=>{try{u&&(await a(u),d(!1),n({title:"Success",description:"Organization settings updated successfully"}))}catch{n({title:"Error",description:"Failed to update organization settings",variant:"destructive"})}},M=ue=>{switch(ue){case"enterprise":return r.jsx(Jf,{className:"h-5 w-5 text-purple-400"});case"professional":return r.jsx(ks,{className:"h-5 w-5 text-blue-400"});default:return r.jsx(xs,{className:"h-5 w-5 text-gray-400"})}},L=ue=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ue),q=ue=>ue===-1?"Unlimited":ue.toLocaleString();return r.jsxs("div",{className:"min-h-screen bg-black p-6",children:[r.jsxs("div",{className:"mx-auto max-w-7xl",children:[r.jsx("div",{className:"mb-8 flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/20 backdrop-blur-sm",children:r.jsx(tr,{className:"h-8 w-8 text-emerald-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:e.name}),r.jsx("p",{className:"text-gray-400",children:"Organization Settings & Management"})]})]})}),r.jsxs(yo,{value:i,onValueChange:o,className:"space-y-6",children:[r.jsxs(Oi,{className:"flex w-full justify-start bg-black p-0 h-auto border-b border-gray-800",children:[r.jsxs(jt,{value:"overview",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[r.jsx(tr,{className:"h-4 w-4"}),"Overview"]}),r.jsxs(jt,{value:"details",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[r.jsx(ls,{className:"h-4 w-4"}),"Details"]}),r.jsxs(jt,{value:"usage",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[r.jsx(xs,{className:"h-4 w-4"}),"Usage & Limits"]}),r.jsxs(jt,{value:"billing",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[r.jsx(Yn,{className:"h-4 w-4"}),"Billing"]}),r.jsxs(jt,{value:"team",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all mr-2",children:[r.jsx(Ot,{className:"h-4 w-4"}),"Team"]}),r.jsxs(jt,{value:"security",className:"flex items-center gap-2 rounded-t-lg px-6 py-3 text-gray-500 hover:text-gray-300 data-[state=active]:bg-gray-900 data-[state=active]:text-emerald-400 data-[state=active]:border-b-2 data-[state=active]:border-emerald-400 transition-all",children:[r.jsx(ya,{className:"h-4 w-4"}),"Security"]})]}),r.jsxs(Nt,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[r.jsx("span",{children:"Total Users"}),r.jsx(Ot,{className:"h-4 w-4 text-gray-600"})]})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.totalUsers)||0}),r.jsxs("p",{className:"text-xs text-gray-500",children:["of ",q(e.user_limit)," allowed"]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[r.jsx("span",{children:"Active Campaigns"}),r.jsx(ba,{className:"h-4 w-4 text-gray-600"})]})}),r.jsx(J,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.totalCampaigns)||0})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[r.jsx("span",{children:"Total Calls"}),r.jsx(dt,{className:"h-4 w-4 text-gray-600"})]})}),r.jsx(J,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.totalCalls)||0})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center justify-between text-sm font-medium text-gray-400",children:[r.jsx("span",{children:"Monthly Spend"}),r.jsx(nS,{className:"h-4 w-4 text-gray-600"})]})}),r.jsx(J,{children:r.jsx("div",{className:"text-2xl font-bold text-white",children:L((t==null?void 0:t.monthlySpend)||0)})})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{className:"text-white",children:"Organization Information"}),l?r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{d(!1),h(e)},className:"border-gray-700 hover:bg-gray-800",children:[r.jsx(At,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(K,{size:"sm",onClick:H,className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save"]})]}):r.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{d(!0),h(e)},className:"border-gray-700 hover:bg-gray-800",children:[r.jsx(ec,{className:"mr-2 h-4 w-4"}),"Edit"]})]})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Organization Name"}),l?r.jsx(Ae,{value:(u==null?void 0:u.name)||"",onChange:ue=>h(G=>G?{...G,name:ue.target.value}:null),className:"bg-gray-800 border-gray-700"}):r.jsx("p",{className:"text-white",children:e.name})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Industry"}),l?r.jsx(Ae,{value:(u==null?void 0:u.industry)||"",onChange:ue=>h(G=>G?{...G,industry:ue.target.value}:null),className:"bg-gray-800 border-gray-700"}):r.jsx("p",{className:"text-white",children:e.industry||"Not specified"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Billing Email"}),l?r.jsx(Ae,{type:"email",value:(u==null?void 0:u.billing_email)||"",onChange:ue=>h(G=>G?{...G,billing_email:ue.target.value}:null),className:"bg-gray-800 border-gray-700"}):r.jsxs("p",{className:"text-white flex items-center",children:[r.jsx(ta,{className:"mr-2 h-4 w-4 text-gray-600"}),e.billing_email||"Not specified"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Phone"}),l?r.jsx(Ae,{value:(u==null?void 0:u.phone)||"",onChange:ue=>h(G=>G?{...G,phone:ue.target.value}:null),className:"bg-gray-800 border-gray-700"}):r.jsxs("p",{className:"text-white flex items-center",children:[r.jsx(dt,{className:"mr-2 h-4 w-4 text-gray-600"}),e.phone||"Not specified"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Website"}),l?r.jsx(Ae,{value:(u==null?void 0:u.website)||"",onChange:ue=>h(G=>G?{...G,website:ue.target.value}:null),className:"bg-gray-800 border-gray-700"}):r.jsxs("p",{className:"text-white flex items-center",children:[r.jsx(Hn,{className:"mr-2 h-4 w-4 text-gray-600"}),e.website?r.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 flex items-center",children:[e.website,r.jsx(Si,{className:"ml-1 h-3 w-3"})]}):"Not specified"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Created"}),r.jsxs("p",{className:"text-white flex items-center",children:[r.jsx(is,{className:"mr-2 h-4 w-4 text-gray-600"}),new Date(e.created_at).toLocaleDateString()]})]})]}),e.address&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Address"}),r.jsxs("p",{className:"text-white flex items-start",children:[r.jsx(Jo,{className:"mr-2 h-4 w-4 text-gray-600 mt-0.5"}),e.address]})]})]})]})]}),r.jsx(Nt,{value:"usage",className:"space-y-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Resource Usage & Limits"}),r.jsx(wt,{children:"Monitor your organization's resource consumption"})]}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-400",children:"Users"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[(t==null?void 0:t.totalUsers)||0," / ",q(e.user_limit)]})]}),r.jsx(Gt,{value:e.user_limit===-1?0:((t==null?void 0:t.totalUsers)||0)/e.user_limit*100,className:"h-2 bg-gray-800"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-400",children:"Monthly Calls"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[(t==null?void 0:t.totalCalls)||0," / ",q(e.call_limit)]})]}),r.jsx(Gt,{value:e.call_limit===-1?0:((t==null?void 0:t.totalCalls)||0)/e.call_limit*100,className:"h-2 bg-gray-800"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-400",children:"Storage"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["0 GB / ",q(e.storage_limit_gb)," GB"]})]}),r.jsx(Gt,{value:e.storage_limit_gb===-1?0:0/e.storage_limit_gb*100,className:"h-2 bg-gray-800"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-400",children:"VAPI Credits"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[(t==null?void 0:t.creditsUsed)||0," used / ",(t==null?void 0:t.creditsRemaining)||0," remaining"]})]}),r.jsx(Gt,{value:((t==null?void 0:t.creditsUsed)||0)/(((t==null?void 0:t.creditsUsed)||0)+((t==null?void 0:t.creditsRemaining)||0))*100,className:"h-2 bg-gray-800"})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"API Requests"}),r.jsx("p",{className:"text-xl font-bold text-white",children:"0"})]}),r.jsx(tY,{className:"h-8 w-8 text-gray-600"})]})})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Database Size"}),r.jsx("p",{className:"text-xl font-bold text-white",children:"0 GB"})]}),r.jsx(dy,{className:"h-8 w-8 text-gray-600"})]})})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Bandwidth"}),r.jsx("p",{className:"text-xl font-bold text-white",children:"0 GB"})]}),r.jsx(aY,{className:"h-8 w-8 text-gray-600"})]})})})]})]})]})}),r.jsxs(Nt,{value:"details",className:"space-y-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Apex API Keys"}),r.jsx(wt,{children:"Use these keys for interacting with Apex APIs"})]}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs(Wt,{className:"border-yellow-800 bg-yellow-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-400"}),r.jsxs(Vt,{className:"text-yellow-200",children:[r.jsx("strong",{children:"Critical Configuration:"})," Changing Apex API keys will immediately affect all active campaigns and ongoing calls. Ensure you have the correct keys from your Apex dashboard before making changes. All administrators will be notified of any modifications."]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Private API Key"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{type:f?"text":"password",placeholder:"Enter your Apex Private API Key",className:"bg-gray-800 border-gray-700 text-white font-mono",value:v,onChange:ue=>b(ue.target.value)}),r.jsx(K,{variant:"outline",className:"border-gray-700",onClick:()=>g(!f),children:f?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})}),r.jsx(K,{variant:"outline",className:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:()=>W("private"),children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Use this key for interacting with our APIs in your backend systems."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{className:"text-gray-400",children:"Public API Key"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ae,{type:y?"text":"password",placeholder:"Enter your Apex Public API Key",className:"bg-gray-800 border-gray-700 text-white font-mono",value:z,onChange:ue=>B(ue.target.value)}),r.jsx(K,{variant:"outline",className:"border-gray-700",onClick:()=>w(!y),children:y?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})}),r.jsx(K,{variant:"outline",className:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:()=>W("public"),children:r.jsx(Bt,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Use this key for interacting with VAPI Client SDKs (e.g. from your frontend)."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Origins:"})," All domains allowed"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Assistants:"})," All Assistants allowed"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Transient Assistants:"})," Allowed"]})]})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Notification Settings"}),r.jsx(wt,{children:"Configure how you receive notifications"})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive email updates for important events"})]}),r.jsx($r,{defaultChecked:!0})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Weekly Reports"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive weekly performance summaries"})]}),r.jsx($r,{defaultChecked:!0})]})]})]})]}),r.jsx(Nt,{value:"billing",className:"space-y-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-white",children:"Current Plan"}),r.jsx(wt,{children:"Manage your subscription and billing"})]}),r.jsxs(ke,{className:"flex items-center space-x-1 px-3 py-1",children:[M(e.plan),r.jsx("span",{className:"text-xs font-medium uppercase",children:e.plan})]})]})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsxs(J,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Monthly Cost"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:L(e.monthly_cost)}),r.jsx("p",{className:"text-xs text-gray-500",children:"Billed monthly"})]})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsxs(J,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Next Payment"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.last_payment_at?new Date(new Date(e.last_payment_at).setMonth(new Date(e.last_payment_at).getMonth()+1)).toLocaleDateString():"N/A"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-renewal"})]})}),r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsxs(J,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Payment Method"}),r.jsxs("p",{className:"text-lg font-bold text-white flex items-center",children:[r.jsx(Yn,{className:"mr-2 h-4 w-4"})," 4242"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Visa"})]})})]}),r.jsx(ji,{className:"bg-gray-800"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium mb-4",children:"Payment History"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"December 2024"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Professional Plan"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white font-medium",children:L(299)}),r.jsx(ke,{variant:"outline",className:"text-xs border-emerald-500 text-emerald-400",children:"Paid"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"November 2024"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Professional Plan"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-white font-medium",children:L(299)}),r.jsx(ke,{variant:"outline",className:"text-xs border-emerald-500 text-emerald-400",children:"Paid"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg border border-purple-500/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Upgrade to Enterprise"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get unlimited resources and priority support"})]}),r.jsx(K,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Upgrade Plan"})]})]})]})}),r.jsx(Nt,{value:"team",children:r.jsx(a_e,{organizationId:e.id})}),r.jsx(Nt,{value:"security",children:r.jsx(Y,{className:"border-gray-800 bg-gray-900/50",children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx(ya,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),r.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Security Settings"}),r.jsx("p",{className:"text-gray-400",children:"Configure security and compliance settings"})]})})})]})]}),r.jsx(Df,{open:N,onOpenChange:S,children:r.jsxs(om,{className:"bg-gray-900 border-gray-800",children:[r.jsxs(lm,{children:[r.jsx(dm,{className:"text-white",children:"Confirm Apex Credential Update"}),r.jsxs(um,{className:"text-gray-400 space-y-3",children:[r.jsxs("p",{children:["You are about to update your organization's Apex ",_==null?void 0:_.type," API key."]}),r.jsxs(Wt,{className:"border-orange-800 bg-orange-900/20",children:[r.jsx(Dt,{className:"h-4 w-4 text-orange-400"}),r.jsxs(Vt,{className:"text-orange-200 text-sm",children:[r.jsx("strong",{children:"Warning:"})," This change will:",r.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[r.jsx("li",{children:"Immediately affect all active calling campaigns"}),r.jsx("li",{children:"Interrupt any ongoing calls if the key is invalid"}),r.jsx("li",{children:"Prevent new calls from starting if misconfigured"}),r.jsx("li",{children:"Be logged and notify all organization administrators"})]})]})]}),r.jsxs("div",{className:"space-y-2 pt-2",children:[r.jsx(ee,{htmlFor:"password",className:"text-gray-300",children:"Enter your password to confirm this change:"}),r.jsx(Ae,{id:"password",type:"password",value:T,onChange:ue=>A(ue.target.value),placeholder:"Enter your password",className:"bg-gray-800 border-gray-700 text-white",onKeyPress:ue=>{ue.key==="Enter"&&T&&X()}})]})]})]}),r.jsxs(cm,{children:[r.jsx(hm,{className:"bg-gray-800 text-white hover:bg-gray-700 border-gray-700",onClick:()=>{A(""),k(null)},children:"Cancel"}),r.jsx(mm,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:X,disabled:!T||E,children:E?"Updating...":"Confirm Update"})]})]})})]})},Fh=[{id:1,name:"Organization",icon:tr},{id:2,name:"Admin User",icon:Xr},{id:3,name:"Team Setup",icon:Ot},{id:4,name:"VAPI Setup",icon:ls},{id:5,name:"Review & Submit",icon:as}],Uh=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"ES",name:"Spain",flag:""},{code:"IT",name:"Italy",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"NO",name:"Norway",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"FI",name:"Finland",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"AT",name:"Austria",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"SG",name:"Singapore",flag:""}],i_e=["Technology","Healthcare","Finance","Real Estate","Marketing & Advertising","Consulting","E-commerce","Manufacturing","Education","Legal","Insurance","Telecommunications","Media & Entertainment","Non-profit","Other"],BR=[{id:"admin",name:"Admin",description:"Full access to all features and settings"},{id:"user",name:"User",description:"Can create and manage campaigns"},{id:"viewer",name:"Viewer",description:"Read-only access to campaigns and reports"}];function o_e(){var F,V,W;const e=br(),{getToken:t}=en(),[s,a]=p.useState(1),[n,i]=p.useState(!1),[o,l]=p.useState({}),[d,u]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,v]=p.useState({businessName:"",email:"",country:"",website:"",industry:"",adminFirstName:"",adminLastName:"",adminEmail:"",adminPhone:"",teamSize:"",addTeamMembers:!1,teamMembers:[],vapiApiKey:"",vapiPrivateKey:"",vapiSetupComplete:!1,isDraft:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),b=s/Fh.length*100,N=X=>{const D={};switch(X){case 1:w.businessName.trim()||(D.businessName="Business name is required"),w.email.trim()||(D.email="Email is required"),w.email.includes("@")||(D.email="Please enter a valid email address"),w.country||(D.country="Please select a country");break;case 2:w.adminFirstName.trim()||(D.adminFirstName="First name is required"),w.adminLastName.trim()||(D.adminLastName="Last name is required"),w.adminEmail.trim()||(D.adminEmail="Admin email is required"),w.adminEmail.includes("@")||(D.adminEmail="Please enter a valid email address");break;case 3:w.teamSize||(D.teamSize="Please select team size"),w.addTeamMembers&&w.teamMembers.length===0&&(D.teamMembers="Please add at least one team member or disable team member addition"),w.teamMembers.forEach((U,H)=>{U.firstName.trim()||(D[`teamMember${H}FirstName`]="First name is required"),U.lastName.trim()||(D[`teamMember${H}LastName`]="Last name is required"),U.email.trim()||(D[`teamMember${H}Email`]="Email is required"),U.email.includes("@")||(D[`teamMember${H}Email`]="Please enter a valid email"),U.role||(D[`teamMember${H}Role`]="Please select a role")});break;case 4:w.vapiPrivateKey.trim()||(D.vapiPrivateKey="VAPI Private Key is required"),w.vapiApiKey.trim()||(D.vapiApiKey="VAPI Public Key is required");break}return l(D),Object.keys(D).length===0},S=()=>{N(s)&&s<Fh.length&&(a(s+1),v(X=>({...X,updatedAt:new Date().toISOString()})))},_=()=>{s>1&&(a(s-1),l({}))},k=X=>{X<s?(a(X),l({})):X===s+1&&S()},T=X=>{v(D=>({...D,...X,updatedAt:new Date().toISOString()}))},A=()=>{const X={id:`member_${Date.now()}`,firstName:"",lastName:"",email:"",role:"user"};T({teamMembers:[...w.teamMembers,X]})},E=(X,D)=>{const U=[...w.teamMembers];U[X]={...U[X],...D},T({teamMembers:U})},R=X=>{const D=w.teamMembers.filter((U,H)=>H!==X);T({teamMembers:D})},z=async()=>{i(!0);try{const X={...w,isDraft:!0};localStorage.setItem("organizationDraft",JSON.stringify(X)),alert(" Organization setup saved as draft!")}catch(X){console.error("Error saving draft:",X),alert(" Failed to save draft. Please try again.")}finally{i(!1)}},B=async()=>{if(console.log(" Complete Setup button clicked - Starting process..."),!N(s)){console.log(" Validation failed for current step:",s);return}i(!0),console.log(" Loading state set to true");try{console.log(" Getting authentication token...");const X=await t();if(console.log(" Token received:",X?"Yes":"No"),!X)throw console.error(" No authentication token received"),new Error("Authentication required. Please sign in.");console.log(" Authentication token received:",X?"Token exists":"No token");const D={businessName:w.businessName,email:w.email,country:w.country,website:w.website,industry:w.industry,adminFirstName:w.adminFirstName,adminLastName:w.adminLastName,adminEmail:w.adminEmail,adminPhone:w.adminPhone,useBusinessEmail:w.adminEmail===w.email,teamSize:w.teamSize,addTeamMembers:w.addTeamMembers,teamMembers:w.teamMembers,vapiApiKey:w.vapiApiKey,vapiPrivateKey:w.vapiPrivateKey};console.log(" Submitting organization setup:",D);const H="/api/api/organization-setup/setup";console.log(" Making API call to:",H),console.log(" Request headers:",{"Content-Type":"application/json",Authorization:`Bearer ${X.substring(0,20)}...`});const M=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify(D)});console.log(" Response status:",M.status,M.statusText);const L=await M.json();if(console.log(" Response body:",L),!M.ok)throw console.error(" API call failed:",L),new Error(L.error||`HTTP error! status: ${M.status}`);console.log(" Organization setup completed:",L),console.log(" Setting setup result and showing success screen..."),y(L),f(!0),T({vapiApiKey:"",vapiPrivateKey:""}),console.log(" Success screen should now be visible!")}catch(X){console.error(" Error completing setup:",X),console.log(" Setting error result and showing error screen..."),y({success:!1,error:X instanceof Error?X.message:"Failed to complete setup",details:"If the problem persists, please contact support."}),f(!0),console.log(" Error screen should now be visible!")}finally{i(!1),console.log(" Loading state set to false")}},O=()=>{var X,D,U,H;switch(s){case 1:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Organization Details"}),r.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Tell us about your business to get started with the Apex AI Calling Platform"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Business Name *"}),r.jsx(Ae,{value:w.businessName,onChange:M=>T({businessName:M.target.value}),placeholder:"e.g., Acme Marketing Agency",className:"border-gray-700 bg-gray-800 text-white"}),o.businessName&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.businessName})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Business Email *"}),r.jsx(Ae,{type:"email",value:w.email,onChange:M=>T({email:M.target.value}),placeholder:"contact@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.email})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Country of Residence *"}),r.jsxs(Qe,{value:w.country,onValueChange:M=>T({country:M}),children:[r.jsx(Je,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:r.jsx(et,{placeholder:"Select your country",children:w.country?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-lg",children:(X=Uh.find(M=>M.code===w.country))==null?void 0:X.flag}),r.jsx("span",{className:"text-white",children:(D=Uh.find(M=>M.code===w.country))==null?void 0:D.name})]}):r.jsx("span",{className:"text-gray-400",children:"Select your country"})})}),r.jsx(Xe,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:Uh.map(M=>r.jsx(ae,{value:M.code,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:r.jsxs("div",{className:"flex items-center gap-3 py-1",children:[r.jsx("span",{className:"min-w-[24px] text-lg",children:M.flag}),r.jsx("span",{className:"text-white",children:M.name})]})},M.code))})]}),o.country&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.country})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Website (Optional)"}),r.jsx(Ae,{type:"url",value:w.website,onChange:M=>T({website:M.target.value}),placeholder:"https://www.acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Industry (Optional)"}),r.jsxs(Qe,{value:w.industry,onValueChange:M=>T({industry:M}),children:[r.jsx(Je,{className:"hover:bg-gray-750 border-gray-700 bg-gray-800 text-white transition-colors",children:r.jsx(et,{placeholder:"Select your industry"})}),r.jsx(Xe,{className:"max-h-60 overflow-y-auto border-gray-700 bg-gray-800",children:i_e.map(M=>r.jsx(ae,{value:M,className:"cursor-pointer text-white hover:bg-gray-700 focus:bg-gray-700",children:r.jsx("span",{className:"text-white",children:M})},M))})]})]})]}),r.jsxs(Wt,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),r.jsx(Vt,{className:"text-gray-300",children:"This information helps us customize your experience and ensure compliance with local regulations."})]})]});case 2:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Admin User Setup"}),r.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Create the primary administrator account for your organization"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"First Name *"}),r.jsx(Ae,{value:w.adminFirstName,onChange:M=>T({adminFirstName:M.target.value}),placeholder:"John",className:"border-gray-700 bg-gray-800 text-white"}),o.adminFirstName&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminFirstName})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Last Name *"}),r.jsx(Ae,{value:w.adminLastName,onChange:M=>T({adminLastName:M.target.value}),placeholder:"Smith",className:"border-gray-700 bg-gray-800 text-white"}),o.adminLastName&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminLastName})]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Email Address *"}),r.jsx(Ae,{type:"email",value:w.adminEmail,onChange:M=>T({adminEmail:M.target.value}),placeholder:"john.smith@acmemarketing.com",className:"border-gray-700 bg-gray-800 text-white"}),o.adminEmail&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.adminEmail})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Telephone Number (Optional)"}),r.jsx(Ae,{type:"tel",value:w.adminPhone,onChange:M=>T({adminPhone:M.target.value}),placeholder:"+1 (555) 123-4567",className:"border-gray-700 bg-gray-800 text-white"})]})]}),r.jsxs(Wt,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(Xr,{className:"h-4 w-4 text-emerald-400"}),r.jsx(Vt,{className:"text-gray-300",children:"The admin user will have full access to all platform features and will be able to manage other team members."})]})]});case 3:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Team Setup"}),r.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your team size and add team members to your organization"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"mb-3 block text-gray-300",children:"Team Size *"}),r.jsx(Hl,{value:w.teamSize,onValueChange:M=>T({teamSize:M}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"0-5",id:"small"}),r.jsxs(ee,{htmlFor:"small",className:"flex-1 cursor-pointer",children:[r.jsx("div",{className:"font-medium text-white",children:"0 - 5 members"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Small team or startup"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"6-9",id:"medium"}),r.jsxs(ee,{htmlFor:"medium",className:"flex-1 cursor-pointer",children:[r.jsx("div",{className:"font-medium text-white",children:"6 - 9 members"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Growing team"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-gray-700 p-4",children:[r.jsx(Qs,{value:"10+",id:"large"}),r.jsxs(ee,{htmlFor:"large",className:"flex-1 cursor-pointer",children:[r.jsx("div",{className:"font-medium text-white",children:"10+ members"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Large team or enterprise"})]})]})]})}),o.teamSize&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.teamSize})]}),r.jsx(ji,{className:"bg-gray-700"}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Add Team Members (Optional)"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"addTeamMembers",checked:w.addTeamMembers,onChange:M=>T({addTeamMembers:M.target.checked}),className:"rounded border-gray-600 bg-gray-700"}),r.jsx(ee,{htmlFor:"addTeamMembers",className:"cursor-pointer text-gray-300",children:"Enable team member setup"})]})]}),w.addTeamMembers&&r.jsxs("div",{className:"space-y-4",children:[w.teamMembers.map((M,L)=>r.jsx(Y,{className:"border-gray-700 bg-gray-800/50",children:r.jsxs(J,{className:"p-4",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium text-white",children:["Team Member ",L+1]}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>R(L),className:"border-red-600 text-red-400 hover:bg-red-900/20",children:r.jsx(Us,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"First Name *"}),r.jsx(Ae,{value:M.firstName,onChange:q=>E(L,{firstName:q.target.value}),placeholder:"Jane",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${L}FirstName`]&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${L}FirstName`]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Last Name *"}),r.jsx(Ae,{value:M.lastName,onChange:q=>E(L,{lastName:q.target.value}),placeholder:"Doe",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${L}LastName`]&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${L}LastName`]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Email *"}),r.jsx(Ae,{type:"email",value:M.email,onChange:q=>E(L,{email:q.target.value}),placeholder:"jane.doe@acmemarketing.com",className:"border-gray-600 bg-gray-700 text-white"}),o[`teamMember${L}Email`]&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${L}Email`]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"Role *"}),r.jsxs(Qe,{value:M.role,onValueChange:q=>E(L,{role:q}),children:[r.jsx(Je,{className:"hover:bg-gray-650 border-gray-600 bg-gray-700 text-white transition-colors",children:r.jsx(et,{placeholder:"Select role"})}),r.jsx(Xe,{className:"border-gray-600 bg-gray-700",children:BR.map(q=>r.jsx(ae,{value:q.id,className:"cursor-pointer text-white hover:bg-gray-600 focus:bg-gray-600",children:r.jsxs("div",{className:"py-1",children:[r.jsx("div",{className:"font-medium text-white",children:q.name}),r.jsx("div",{className:"text-xs text-gray-300",children:q.description})]})},q.id))})]}),o[`teamMember${L}Role`]&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o[`teamMember${L}Role`]})]})]})]})},M.id)),r.jsxs(K,{variant:"outline",onClick:A,className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add Another Team Member"]}),o.teamMembers&&r.jsx("p",{className:"text-sm text-red-400",children:o.teamMembers})]})]})]})]});case 4:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"VAPI Integration Setup"}),r.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Configure your VAPI account to enable AI calling functionality"})]}),r.jsxs(Wt,{className:"border-blue-700 bg-blue-900/20",children:[r.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),r.jsx(Vt,{className:"text-blue-300",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:"How to set up your VAPI account:"}),r.jsxs("ol",{className:"list-inside list-decimal space-y-1 text-sm",children:[r.jsxs("li",{children:["Visit"," ",r.jsxs("a",{href:"https://vapi.ai",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-400 hover:underline",children:["vapi.ai ",r.jsx(Si,{className:"h-3 w-3"})]})," ","and create an account"]}),r.jsx("li",{children:'Navigate to your dashboard and go to "API Keys"'}),r.jsx("li",{children:"Generate a new API key and copy it"}),r.jsx("li",{children:"Also copy your Private Key from the account settings"}),r.jsx("li",{children:"Paste both keys below to connect your account"})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"VAPI Private Key (Bearer Token) *"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>u(!d),className:"text-gray-400 hover:text-white",children:d?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]}),r.jsx(Ae,{type:d?"text":"password",value:w.vapiPrivateKey,onChange:M=>T({vapiPrivateKey:M.target.value}),placeholder:"sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiPrivateKey&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiPrivateKey})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-300",children:"VAPI Public Key *"}),r.jsx(Ae,{type:d?"text":"password",value:w.vapiApiKey,onChange:M=>T({vapiApiKey:M.target.value}),placeholder:"vapi_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"border-gray-700 bg-gray-800 font-mono text-white"}),o.vapiApiKey&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.vapiApiKey})]})]}),r.jsxs(Wt,{className:"border-green-700 bg-green-900/20",children:[r.jsx(as,{className:"h-4 w-4 text-green-400"}),r.jsx(Vt,{className:"text-green-300",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:"What happens next:"}),r.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[r.jsx("li",{children:"Your VAPI account will be connected to the platform"}),r.jsx("li",{children:"You'll be able to create AI voice agents"}),r.jsx("li",{children:"Phone numbers can be purchased and configured"}),r.jsx("li",{children:"AI calling campaigns can be launched"})]})]})})]}),r.jsxs("div",{className:"rounded-lg bg-gray-800/50 p-4",children:[r.jsx("h4",{className:"mb-2 font-medium text-white",children:"Security Note"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Your API keys are encrypted and stored securely. They are only used to authenticate with VAPI services and are never shared with third parties."})]})]});case 5:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"mb-2 text-lg font-medium text-white",children:"Review & Submit"}),r.jsx("p",{className:"mb-6 text-sm text-gray-400",children:"Please review all information before submitting. Once submitted, your organization and user accounts will be created."})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(tr,{className:"h-5 w-5 text-emerald-500"}),"Organization Details"]})}),r.jsx(J,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Business Name"}),r.jsx("p",{className:"font-medium text-white",children:w.businessName})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Email"}),r.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[r.jsx(ta,{className:"h-4 w-4 text-gray-400"}),w.email]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Country"}),r.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[r.jsx("span",{className:"text-lg",children:(U=Uh.find(M=>M.code===w.country))==null?void 0:U.flag}),((H=Uh.find(M=>M.code===w.country))==null?void 0:H.name)||w.country]})]}),w.website&&r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Website"}),r.jsx("p",{className:"font-medium text-white",children:w.website})]}),w.industry&&r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Industry"}),r.jsx("p",{className:"font-medium text-white",children:w.industry})]})]})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Xr,{className:"h-5 w-5 text-blue-500"}),"Administrator Account"]})}),r.jsx(J,{className:"space-y-3",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Full Name"}),r.jsxs("p",{className:"font-medium text-white",children:[w.adminFirstName," ",w.adminLastName]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Email"}),r.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[r.jsx(ta,{className:"h-4 w-4 text-gray-400"}),w.adminEmail]})]}),w.adminPhone&&r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Phone"}),r.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[r.jsx(dt,{className:"h-4 w-4 text-gray-400"}),w.adminPhone]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Role"}),r.jsx(ke,{variant:"secondary",className:"bg-blue-900 text-blue-300",children:"Organization Administrator"})]})]})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Ot,{className:"h-5 w-5 text-purple-500"}),"Team Setup"]})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Team Size"}),r.jsxs("p",{className:"font-medium text-white",children:[w.teamSize," members"]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Additional Team Members"}),r.jsx("p",{className:"font-medium text-white",children:w.addTeamMembers?`${w.teamMembers.length} added`:"None"})]})]}),w.addTeamMembers&&w.teamMembers.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx(ee,{className:"mb-2 block text-sm text-gray-400",children:"Team Members"}),r.jsx("div",{className:"space-y-2",children:w.teamMembers.map((M,L)=>{var q;return r.jsx("div",{className:"rounded-lg bg-gray-700 p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-white",children:[M.firstName," ",M.lastName]}),r.jsx("p",{className:"text-sm text-gray-400",children:M.email})]}),r.jsx(ke,{variant:"outline",className:"border-gray-600 text-gray-300",children:((q=BR.find(ue=>ue.id===M.role))==null?void 0:q.name)||M.role})]})},M.id)})})]})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(ls,{className:"h-5 w-5 text-orange-500"}),"VAPI Integration"]})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"API Key Status"}),r.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[r.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Connected"]})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Private Key Status"}),r.jsxs("p",{className:"flex items-center gap-2 font-medium text-white",children:[r.jsx(yt,{className:"h-4 w-4 text-green-500"}),"Configured"]})]})]}),r.jsxs(Wt,{className:"border-green-700 bg-green-900/20",children:[r.jsx(as,{className:"h-4 w-4 text-green-400"}),r.jsx(Vt,{className:"text-green-300",children:"VAPI integration is ready. You'll be able to create AI voice agents and launch calling campaigns immediately after setup."})]})]})]}),r.jsx(Y,{className:"border-emerald-700 bg-gradient-to-r from-emerald-900/20 to-blue-900/20",children:r.jsxs(J,{className:"p-6",children:[r.jsx("h4",{className:"mb-4 font-medium text-white",children:"Setup Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"1"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Organization"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:1+(w.addTeamMembers?w.teamMembers.length:0)}),r.jsx("div",{className:"text-sm text-gray-400",children:"Users"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-400",children:w.teamSize}),r.jsx("div",{className:"text-sm text-gray-400",children:"Team Size"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-400",children:""}),r.jsx("div",{className:"text-sm text-gray-400",children:"VAPI Ready"})]})]})]})}),r.jsxs(Wt,{className:"border-blue-700 bg-blue-900/20",children:[r.jsx(Ht,{className:"h-4 w-4 text-blue-400"}),r.jsx(Vt,{className:"text-blue-300",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium",children:"What happens when you submit:"}),r.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm",children:[r.jsxs("li",{children:['Your organization "',w.businessName,'" will be created']}),r.jsxs("li",{children:["Admin account for ",w.adminFirstName," ",w.adminLastName," will be set up"]}),w.addTeamMembers&&w.teamMembers.length>0&&r.jsxs("li",{children:[w.teamMembers.length," team member account(s) will be created"]}),r.jsx("li",{children:"VAPI integration will be activated for AI calling"}),r.jsx("li",{children:"You'll receive login credentials via email"})]})]})})]})]});default:return null}},I=()=>{switch(s){case 1:return w.businessName&&w.email&&w.country;case 2:return w.adminFirstName&&w.adminLastName&&w.adminEmail;case 3:return w.teamSize&&(!w.addTeamMembers||w.teamMembers.length>0);case 4:return w.vapiApiKey&&w.vapiPrivateKey;case 5:return!0;default:return!1}};return h&&g?r.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:r.jsxs("div",{className:"mx-auto max-w-4xl",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500",children:g.success?r.jsx(yt,{className:"h-8 w-8 text-white"}):r.jsx(At,{className:"h-8 w-8 text-white"})}),r.jsx("h1",{className:"mb-2 text-3xl font-bold text-white",children:g.success?"Setup Complete!":"Setup Failed"}),r.jsx("p",{className:"text-gray-400",children:g.success?"Your organization has been created successfully":"There was an issue creating your organization"})]}),g.success?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Wt,{className:"border-emerald-600 bg-emerald-900",children:[r.jsx(yt,{className:"h-4 w-4 text-emerald-500"}),r.jsx(Vt,{className:"text-emerald-100",children:g.message})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(tr,{className:"h-5 w-5 text-emerald-500"}),"Organization Created"]})}),r.jsx(J,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-400",children:"Organization Name"}),r.jsx("p",{className:"font-medium text-white",children:g.organizationName})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-400",children:"Organization ID"}),r.jsx("p",{className:"font-mono text-sm text-white",children:g.organizationId})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-400",children:"Admin Email"}),r.jsx("p",{className:"text-white",children:g.adminEmail})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-gray-400",children:"Team Members"}),r.jsxs("p",{className:"text-white",children:[g.teamMembersCreated||0," created"]})]})]})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Ql,{className:"h-5 w-5 text-emerald-500"}),"Next Steps"]})}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"1"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Check Your Email"}),r.jsx("p",{className:"text-sm text-gray-400",children:(F=g.nextSteps)==null?void 0:F.emailVerification})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Team Setup"}),r.jsx("p",{className:"text-sm text-gray-400",children:(V=g.nextSteps)==null?void 0:V.accountSetup})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full bg-emerald-500",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:"Start Calling"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["VAPI Status:"," ",(W=g.vapiStatus)!=null&&W.connected?" Ready":" Needs Configuration"]})]})]})]})})]}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsxs(K,{onClick:()=>e("/organizations"),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(tr,{className:"mr-2 h-4 w-4"}),"View Organizations"]}),r.jsxs(K,{variant:"outline",onClick:()=>e("/dashboard"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[r.jsx(HG,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Wt,{className:"border-red-600 bg-red-900",children:[r.jsx(At,{className:"h-4 w-4 text-red-500"}),r.jsx(Vt,{className:"text-red-100",children:g.error})]}),g.details&&r.jsx(Y,{className:"border-gray-700 bg-gray-800",children:r.jsx(J,{className:"pt-6",children:r.jsx("p",{className:"text-gray-400",children:g.details})})}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsxs(K,{onClick:()=>{f(!1),y(null),a(1)},className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(fd,{className:"mr-2 h-4 w-4"}),"Try Again"]}),r.jsxs(K,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[r.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Organizations"]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-950 p-6",children:r.jsxs("div",{className:"mx-auto max-w-6xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(tr,{className:"h-8 w-8 text-emerald-500"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Organization Setup"}),r.jsx("p",{className:"text-gray-400",children:"Set up your organization on the Apex AI Calling Platform"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(K,{variant:"outline",onClick:z,disabled:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),r.jsx(K,{variant:"outline",onClick:()=>e("/organizations"),className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"})]})]}),r.jsx(Gt,{value:b,className:"h-2 bg-gray-800"})]}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"flex items-center justify-between",children:Fh.map((X,D)=>{const U=X.icon,H=X.id===s,M=X.id<s,L=X.id<=s+1;return r.jsxs(de.Fragment,{children:[r.jsxs("div",{className:`flex cursor-pointer flex-col items-center transition-all ${L?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>L&&k(X.id),children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all ${H?"bg-emerald-600 text-white":M?"bg-green-600 text-white":"bg-gray-800 text-gray-400"}`,children:M?r.jsx(as,{className:"h-6 w-6"}):r.jsx(U,{className:"h-6 w-6"})}),r.jsx("span",{className:`mt-2 text-sm ${H?"font-medium text-white":"text-gray-400"}`,children:X.name})]}),D<Fh.length-1&&r.jsx("div",{className:`mx-2 h-0.5 flex-1 ${M?"bg-green-600":"bg-gray-800"}`})]},X.id)})})}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/50",children:[r.jsx(J,{className:"p-8",children:O()}),r.jsx("div",{className:"border-t border-gray-800 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(K,{variant:"outline",onClick:_,disabled:s===1,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[r.jsx(cc,{className:"mr-2 h-4 w-4"}),"Previous"]}),s<Fh.length?r.jsxs(K,{onClick:S,className:"bg-emerald-600 hover:bg-emerald-700",children:["Next",r.jsx(ei,{className:"ml-2 h-4 w-4"})]}):r.jsx(K,{onClick:B,disabled:n||!I(),className:"bg-green-600 hover:bg-green-700",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Setting up Organization..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ql,{className:"mr-2 h-4 w-4"}),"Complete Setup"]})})]})})]})]})})}function l_e(){const[e,t]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,u]=p.useState("all"),{getToken:h}=en(),{toast:f}=Ur(),g=br(),y=async()=>{try{a(!0);const{supabaseService:E}=await pn(async()=>{const{supabaseService:B}=await Promise.resolve().then(()=>Fu);return{supabaseService:B}},void 0);console.log(" Fetching organizations from Supabase...");const R=await E.getOrganizations();if(console.log(" Organizations fetched:",R),!R||R.length===0){console.warn(" No organizations returned from Supabase"),t([]);return}const z=await Promise.all(R.map(async B=>{let O=0;try{O=(await E.getOrganizationUsers(B.id)).length,console.log(` Organization ${B.name} has ${O} users`)}catch(I){console.error(`Failed to fetch user count for ${B.name}:`,I)}return{id:B.id,name:B.name,domain:B.custom_domain||void 0,contact_name:void 0,contact_email:B.billing_email,contact_phone:B.phone,address:B.address,status:B.status==="active"?"active":"inactive",subscription_plan:B.plan==="professional"?"growth":B.plan==="starter"?"starter":"enterprise",subscription_status:B.status==="active"?"active":"cancelled",subscription_mrr:B.monthly_cost,users_count:O,campaigns_count:0,total_calls:0,created_at:B.created_at,updated_at:B.updated_at}}));console.log(" Organizations with user counts:",z),t(z)}catch(E){console.error(" Error fetching organizations:",E),console.error("Error details:",{message:E instanceof Error?E.message:"Unknown error",stack:E instanceof Error?E.stack:void 0}),f({title:"Error",description:`Failed to fetch organizations: ${E instanceof Error?E.message:"Unknown error"}`,variant:"destructive"}),t([])}finally{a(!1)}},w=async(E,R)=>{try{const z=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("Failed to update organization");f({title:"Success",description:"Organization updated successfully"}),y()}catch(z){console.error("Error updating organization:",z),f({title:"Error",description:"Failed to update organization. Please try again.",variant:"destructive"})}},v=async E=>{if(confirm("Are you sure you want to delete this organization? This action cannot be undone."))try{const R=await h();if(!(await fetch(`http://localhost:3001/api/organizations/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete organization");f({title:"Success",description:"Organization deleted successfully"}),y()}catch(R){console.error("Error deleting organization:",R),f({title:"Error",description:"Failed to delete organization. Please try again.",variant:"destructive"})}},b=e.filter(E=>{var O,I;const R=E.name.toLowerCase().includes(n.toLowerCase())||((O=E.contact_name)==null?void 0:O.toLowerCase().includes(n.toLowerCase()))||((I=E.contact_email)==null?void 0:I.toLowerCase().includes(n.toLowerCase())),z=o==="all"||E.status&&E.status===o,B=d==="all"||E.subscription_plan&&E.subscription_plan===d;return R&&z&&B}),S={totalOrgs:e.length,activeOrgs:e.filter(E=>E.status==="active").length,totalRevenue:e.reduce((E,R)=>E+(R.subscription_mrr||0),0),totalCalls:e.reduce((E,R)=>E+(R.total_calls||0),0)};p.useEffect(()=>{y()},[]);const _=E=>{if(!E)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(E){case"active":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"inactive":return"bg-red-500/10 text-red-400 border-red-500/20";case"pending":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},k=E=>{if(!E)return"bg-gray-500/10 text-gray-400 border-gray-500/20";switch(E){case"enterprise":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"growth":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"starter":return"bg-gray-500/10 text-gray-400 border-gray-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}},T=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),A=E=>new Date(E).toLocaleDateString();return s?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsx("div",{className:"text-lg text-white",children:"Loading organizations..."})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Organizations"}),r.jsx("p",{className:"mt-1 text-gray-400",children:"Manage client organizations and their subscriptions"})]}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Organizations"}),r.jsx("p",{className:"text-2xl font-semibold text-white",children:S.totalOrgs})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:r.jsx(tr,{className:"h-6 w-6 text-emerald-500"})})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),r.jsx("p",{className:"text-2xl font-semibold text-white",children:S.activeOrgs})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-500/10",children:r.jsx(ba,{className:"h-6 w-6 text-blue-500"})})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),r.jsx("p",{className:"text-2xl font-semibold text-white",children:T(S.totalRevenue)})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-500/10",children:r.jsx(Hr,{className:"h-6 w-6 text-yellow-500"})})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-2xl font-semibold text-white",children:S.totalCalls.toLocaleString()})]}),r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:r.jsx(I0,{className:"h-6 w-6 text-emerald-500"})})]})})})]}),r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{type:"text",placeholder:"Search organizations by name, contact, or email...",value:n,onChange:E=>i(E.target.value),className:"border-gray-800 bg-gray-900/90 pl-10 text-white placeholder-gray-500 focus:border-emerald-600"})]}),r.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"pending",children:"Pending"})]}),r.jsxs("select",{value:d,onChange:E=>u(E.target.value),className:"rounded-md border border-gray-800 bg-gray-900/90 px-3 py-2 text-white focus:border-emerald-600",children:[r.jsx("option",{value:"all",children:"All Plans"}),r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"growth",children:"Growth"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),r.jsx("div",{className:"space-y-4",children:b.length===0?r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsxs(J,{className:"p-8 text-center",children:[r.jsxs("div",{className:"mb-4 text-gray-400",children:[r.jsx(tr,{className:"mx-auto mb-4 h-12 w-12"}),r.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No organizations found"}),r.jsx("p",{children:"Create your first organization to get started."})]}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800",onClick:()=>g("/organization-setup"),children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Setup Wizard"]})]})}):b.map(E=>r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm transition-all duration-200 hover:bg-gray-900",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-500/10",children:r.jsx(tr,{className:"h-6 w-6 text-emerald-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white hover:text-emerald-400 cursor-pointer transition-colors",onClick:()=>g(`/organizations/${E.id}`),children:E.name}),r.jsx("p",{className:"text-sm text-gray-400",children:E.contact_name||"No contact assigned"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ke,{className:_(E.status),children:E.status?E.status.charAt(0).toUpperCase()+E.status.slice(1):"Unknown"}),r.jsx(ke,{className:k(E.subscription_plan),children:E.subscription_plan?E.subscription_plan.charAt(0).toUpperCase()+E.subscription_plan.slice(1):"No Plan"}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:r.jsx(Xf,{className:"h-4 w-4"})})}),r.jsxs(Jn,{align:"end",className:"border-gray-800 bg-gray-900",children:[r.jsx(w$,{className:"text-gray-300",children:"Actions"}),r.jsx(RS,{className:"bg-gray-800"}),r.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",children:[r.jsx(Tr,{className:"mr-2 h-4 w-4"}),"View Details"]}),r.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-800 hover:text-white",onClick:()=>{const R=prompt("Enter new organization name:",E.name);R&&R!==E.name&&w(E.id,{name:R})},children:[r.jsx(ec,{className:"mr-2 h-4 w-4"}),"Edit Organization"]}),r.jsxs(Yt,{className:"text-red-400 hover:bg-gray-800 hover:text-red-300",onClick:()=>v(E.id),children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(ta,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:E.contact_email||"No email"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(dt,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:E.contact_phone||"No phone"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Jo,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-gray-300",children:E.address||"No address"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(is,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-300",children:["Since ",A(E.created_at)]})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 border-t border-gray-800 pt-4 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Users"}),r.jsxs("p",{className:"flex items-center gap-1 text-sm font-medium text-white",children:[r.jsx(Ot,{className:"h-3 w-3"}),E.users_count||0]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Campaigns"}),r.jsx("p",{className:"text-sm font-medium text-white",children:E.campaigns_count||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"text-sm font-medium text-white",children:(E.total_calls||0).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Monthly Revenue"}),r.jsx("p",{className:"text-sm font-medium text-emerald-400",children:T(E.subscription_mrr||0)})]})]})]})},E.id))})]})})}function c_e(){const[e,t]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(""),[o,l]=p.useState("all"),[d,u]=p.useState("all"),[h,f]=p.useState("createdAt"),[g,y]=p.useState("desc"),{getToken:w}=en(),{toast:v}=Ur(),b=async()=>{try{a(!0);const O=await w(),I=await fetch("http://localhost:3001/api/phone-numbers",{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const F=await I.json();t(F.phoneNumbers||[])}catch(O){console.error("Error fetching phone numbers:",O),v({title:"Error",description:"Failed to fetch phone numbers. Please try again.",variant:"destructive"})}finally{a(!1)}},N=async(O,I="US")=>{try{const F=await w(),V=await fetch("http://localhost:3001/api/phone-numbers",{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({areaCode:O,country:I})});if(!V.ok)throw new Error("Failed to purchase phone number");const W=await V.json();v({title:"Success",description:`Phone number ${W.phoneNumber.number} purchased successfully`}),b()}catch(F){console.error("Error purchasing phone number:",F),v({title:"Error",description:"Failed to purchase phone number. Please try again.",variant:"destructive"})}},S=async O=>{if(confirm("Are you sure you want to release this phone number? This action cannot be undone."))try{const I=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to release phone number");v({title:"Success",description:"Phone number released successfully"}),b()}catch(I){console.error("Error releasing phone number:",I),v({title:"Error",description:"Failed to release phone number. Please try again.",variant:"destructive"})}},_=async(O,I)=>{try{const F=await w();if(!(await fetch(`http://localhost:3001/api/phone-numbers/${O}/assign`,{method:"POST",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({campaignId:I})})).ok)throw new Error("Failed to assign phone number");v({title:"Success",description:"Phone number assigned successfully"}),b()}catch(F){console.error("Error assigning phone number:",F),v({title:"Error",description:"Failed to assign phone number. Please try again.",variant:"destructive"})}},k=()=>({totalNumbers:e.length,activeNumbers:e.filter(O=>O.status==="connected").length,totalCallsMade:e.reduce((O,I)=>O+I.callsMade,0),totalLeadsGenerated:e.reduce((O,I)=>O+I.leadsGenerated,0),avgConversionRate:e.length>0?e.reduce((O,I)=>O+I.conversionRate,0)/e.length:0,totalMonthlyCost:e.reduce((O,I)=>O+I.monthlyLimit*I.costPerCall,0)}),T=e.filter(O=>{var W;const I=O.number.includes(n)||((W=O.assignedCampaign)==null?void 0:W.toLowerCase().includes(n.toLowerCase())),F=o==="all"||O.status===o,V=d==="all"||O.country===d;return I&&F&&V}).sort((O,I)=>{const F=O[h],V=I[h];return typeof F=="string"&&typeof V=="string"?g==="asc"?F.localeCompare(V):V.localeCompare(F):typeof F=="number"&&typeof V=="number"?g==="asc"?F-V:V-F:0}),A=k();p.useEffect(()=>{b()},[]);const E=O=>{switch(O){case"connected":return"bg-emerald-600/20 text-emerald-400 border-emerald-600/30";case"disconnected":return"bg-red-600/20 text-red-400 border-red-600/30";case"pending":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}},R=O=>{switch(O){case"connected":return r.jsx(yt,{className:"h-3 w-3"});case"disconnected":return r.jsx(Dt,{className:"h-3 w-3"});case"pending":return r.jsx(xs,{className:"h-3 w-3"});default:return null}},z=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(O),B=O=>new Date(O).toLocaleDateString();return s?r.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsx("div",{className:"text-lg text-white",children:"Loading phone numbers..."})}):r.jsx("div",{className:"h-screen overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"flex h-full flex-col",children:[r.jsxs("div",{className:"flex-shrink-0 p-6",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-gray-400",children:"Manage your VAPI phone numbers and calling capacity"})}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const O=prompt("Enter area code (e.g., 555):");O&&N(O)},children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Buy Number"]})]}),r.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Total Numbers"}),r.jsx(dt,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:A.totalNumbers}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"All numbers"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Active"}),r.jsx(ks,{className:"h-4 w-4 text-emerald-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:A.activeNumbers}),r.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"Connected"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Calls Made"}),r.jsx(xs,{className:"h-4 w-4 text-blue-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:A.totalCallsMade.toLocaleString()}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Total volume"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Leads Generated"}),r.jsx(Ot,{className:"h-4 w-4 text-emerald-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:A.totalLeadsGenerated}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Successful contacts"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Avg Conversion"}),r.jsx(Ia,{className:"h-4 w-4 text-orange-400"})]}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:[A.avgConversionRate.toFixed(1),"%"]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Success rate"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Monthly Cost"}),r.jsx(Yn,{className:"h-4 w-4 text-yellow-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:z(A.totalMonthlyCost)}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Estimated"})]})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{placeholder:"Search numbers or campaigns...",value:n,onChange:O=>i(O.target.value),className:"border-gray-700 bg-gray-800/50 pl-10 text-white placeholder-gray-400"})]}),r.jsxs(Qe,{value:o,onValueChange:l,children:[r.jsx(Je,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:r.jsx(et,{placeholder:"All statuses"})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All statuses"}),r.jsx(ae,{value:"connected",children:"Connected"}),r.jsx(ae,{value:"disconnected",children:"Disconnected"}),r.jsx(ae,{value:"pending",children:"Pending"})]})]}),r.jsxs(Qe,{value:d,onValueChange:u,children:[r.jsx(Je,{className:"w-full border-gray-700 bg-gray-800/50 text-white sm:w-[180px]",children:r.jsx(et,{placeholder:"All countries"})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All countries"}),r.jsx(ae,{value:"US",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"United States"})]})}),r.jsx(ae,{value:"CA",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Canada"})]})}),r.jsx(ae,{value:"UK",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"United Kingdom"})]})}),r.jsx(ae,{value:"AU",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Australia"})]})})]})]}),r.jsxs(K,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-700",children:[r.jsx(U3,{className:"mr-2 h-4 w-4"}),"Sort"]})]})]}),r.jsx("div",{className:"flex-1 overflow-auto px-6 pb-6",children:T.length===0?r.jsx(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:r.jsxs(J,{className:"p-8 text-center",children:[r.jsxs("div",{className:"mb-4 text-gray-400",children:[r.jsx(dt,{className:"mx-auto mb-4 h-12 w-12"}),r.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"No phone numbers found"}),r.jsx("p",{children:"Purchase your first phone number to start making calls."})]}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",onClick:()=>{const O=prompt("Enter area code (e.g., 555):");O&&N(O)},children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Buy Phone Number"]})]})}):r.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:T.map(O=>r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:[r.jsxs(xe,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dt,{className:"h-4 w-4 text-blue-400"}),r.jsx(ye,{className:"text-lg text-white",children:O.number})]}),r.jsxs(ke,{className:`${E(O.status)} border`,children:[R(O.status),r.jsx("span",{className:"ml-1 capitalize",children:O.status})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx("span",{children:O.country}),r.jsx("span",{children:""}),r.jsx("span",{children:O.provider}),O.assignedCampaign&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-emerald-400",children:O.assignedCampaign})]})]})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Usage"}),r.jsxs("span",{className:"text-white",children:[O.callsMade," / ",O.maxCalls]})]}),r.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:r.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 transition-all duration-300",style:{width:`${Math.min(O.callsMade/O.maxCalls*100,100)}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Leads Generated"}),r.jsx("div",{className:"font-semibold text-white",children:O.leadsGenerated})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Conversion Rate"}),r.jsxs("div",{className:"font-semibold text-emerald-400",children:[O.conversionRate.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Cost per Call"}),r.jsx("div",{className:"font-semibold text-white",children:z(O.costPerCall)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Monthly Limit"}),r.jsx("div",{className:"font-semibold text-white",children:O.monthlyLimit})]})]}),r.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 pt-2",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",B(O.createdAt)]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:r.jsx(uy,{className:"h-4 w-4"})})}),r.jsxs(Jn,{className:"border-gray-700 bg-gray-800",children:[r.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{const I=prompt("Enter campaign ID to assign:");I&&_(O.id,I)},children:[r.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Assign to Campaign"]}),r.jsxs(Yt,{className:"text-gray-300 hover:bg-gray-700",onClick:()=>{},children:[r.jsx(Ia,{className:"mr-2 h-4 w-4"}),"View Analytics"]}),r.jsxs(Yt,{className:"text-red-400 hover:bg-red-600/20",onClick:()=>S(O.id),children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Release Number"]})]})]})]})]})]},O.id))})})]})})}const d_e=[{month:"Jan",revenue:45e3,mrr:38e3,growth:12},{month:"Feb",revenue:52e3,mrr:41e3,growth:15},{month:"Mar",revenue:48e3,mrr:43e3,growth:8},{month:"Apr",revenue:61e3,mrr:47e3,growth:18},{month:"May",revenue:58e3,mrr:51e3,growth:14},{month:"Jun",revenue:67e3,mrr:56e3,growth:22}],Bh=[{name:"TechCorp Solutions",revenue:12500,calls:8420,leads:342},{name:"Global Fitness Inc",revenue:9800,calls:6230,leads:287},{name:"Healthcare Partners",revenue:8200,calls:5140,leads:198},{name:"Real Estate Pro",revenue:7600,calls:4890,leads:176},{name:"E-commerce Plus",revenue:6400,calls:3920,leads:145}],Au={totalCalls:128450,totalLeads:3847,avgSuccessRate:74.3,activeClients:47,totalAgents:156,avgCallDuration:"3:24"},u_e=[{name:"API Gateway",status:"operational",uptime:99.98,latency:42},{name:"Database",status:"operational",uptime:99.95,latency:18},{name:"AI Processing",status:"operational",uptime:99.92,latency:156},{name:"Voice Services",status:"degraded",uptime:98.76,latency:234},{name:"Analytics Engine",status:"operational",uptime:99.89,latency:67}],m_e=[{id:1,timestamp:"2024-01-07 14:23:45",service:"Voice API",error:"Connection timeout",severity:"warning"},{id:2,timestamp:"2024-01-07 13:45:12",service:"Database",error:"Slow query detected",severity:"info"},{id:3,timestamp:"2024-01-07 12:18:33",service:"AI Engine",error:"Rate limit exceeded",severity:"error"},{id:4,timestamp:"2024-01-07 11:02:45",service:"Analytics",error:"Data sync delayed",severity:"warning"}];function h_e(){const[e,t]=p.useState("last30days"),[s,a]=p.useState("all"),[n,i]=p.useState("all"),[o,l]=p.useState(!1),{toast:d}=Ur(),u=br(),f="admin"==="admin";p.useEffect(()=>{},[f,u,d]);const g=v=>{l(!0),setTimeout(()=>{d({title:"Export Started",description:`Exporting platform analytics as ${v.toUpperCase()}...`}),l(!1)},1e3)},y=v=>{switch(v){case"operational":return"text-emerald-400";case"degraded":return"text-yellow-400";case"down":return"text-red-400";default:return"text-gray-400"}},w=v=>{switch(v){case"error":return"bg-red-600/20 text-red-400 border-red-600/30";case"warning":return"bg-yellow-600/20 text-yellow-400 border-yellow-600/30";case"info":return"bg-blue-600/20 text-blue-400 border-blue-600/30";default:return"bg-gray-600/20 text-gray-400 border-gray-600/30"}};return r.jsx("div",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),r.jsxs(ke,{className:"border-red-600/30 bg-red-600/20 text-red-400",children:[r.jsx(M0,{className:"mr-1 h-3 w-3"}),"Admin Only"]})]}),r.jsx("p",{className:"text-gray-400",children:"Comprehensive platform metrics and system health monitoring"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("csv"),disabled:o,children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",onClick:()=>g("pdf"),disabled:o,children:[r.jsx(rY,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(Zf,{className:"mr-2 h-5 w-5 text-emerald-500"}),"Data Filters"]})}),r.jsx(J,{children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Date Range"}),r.jsxs(Qe,{value:e,onValueChange:t,children:[r.jsx(Je,{className:"border-gray-700 bg-gray-900/50 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"last7days",children:"Last 7 Days"}),r.jsx(ae,{value:"last30days",children:"Last 30 Days"}),r.jsx(ae,{value:"last90days",children:"Last 90 Days"}),r.jsx(ae,{value:"thisYear",children:"This Year"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Client Organization"}),r.jsxs(Qe,{value:s,onValueChange:a,children:[r.jsx(Je,{className:"border-gray-700 bg-gray-900/50 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"all",children:"All Clients"}),Bh.map(v=>r.jsx(ae,{value:v.name,children:v.name},v.name))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-300",children:"Campaign Type"}),r.jsxs(Qe,{value:n,onValueChange:i,children:[r.jsx(Je,{className:"border-gray-700 bg-gray-950/50",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"all",children:"All Types"}),r.jsx(ae,{value:"outbound",children:"Outbound"}),r.jsx(ae,{value:"inbound",children:"Inbound"}),r.jsx(ae,{value:"hybrid",children:"Hybrid"})]})]})]})]})})]}),r.jsxs(yo,{defaultValue:"revenue",className:"space-y-6",children:[r.jsxs(Oi,{className:"grid w-full grid-cols-4 border border-gray-800 bg-gray-900/90",children:[r.jsxs(jt,{value:"revenue",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(Hr,{className:"mr-2 h-4 w-4"}),"Revenue Overview"]}),r.jsxs(jt,{value:"usage",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(xs,{className:"mr-2 h-4 w-4"}),"Usage Metrics"]}),r.jsxs(jt,{value:"clients",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(tr,{className:"mr-2 h-4 w-4"}),"Top Clients"]}),r.jsxs(jt,{value:"health",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(D0,{className:"mr-2 h-4 w-4"}),"System Health"]})]}),r.jsxs(Nt,{value:"revenue",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$321,000"}),r.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[r.jsx(B3,{className:"mr-1 h-3 w-3"}),r.jsx("p",{className:"text-xs",children:"+18.5% from last month"})]})]}),r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:r.jsx(Hr,{className:"h-5 w-5 text-emerald-400"})})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"MRR"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$56,000"}),r.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[r.jsx(ba,{className:"mr-1 h-3 w-3"}),r.jsx("p",{className:"text-xs",children:"+12.3% growth"})]})]}),r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20",children:r.jsx(Yn,{className:"h-5 w-5 text-blue-400"})})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Revenue/Client"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"$6,830"}),r.jsxs("div",{className:"mt-2 flex items-center text-orange-400",children:[r.jsx(Ot,{className:"mr-1 h-3 w-3"}),r.jsx("p",{className:"text-xs",children:"47 active clients"})]})]}),r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/20",children:r.jsx(tr,{className:"h-5 w-5 text-emerald-400"})})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Churn Rate"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:"2.1%"}),r.jsxs("div",{className:"mt-2 flex items-center text-emerald-400",children:[r.jsx($0,{className:"mr-1 h-3 w-3"}),r.jsx("p",{className:"text-xs",children:"-0.5% from last month"})]})]}),r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-500/20",children:r.jsx($0,{className:"h-5 w-5 text-red-400"})})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Revenue & MRR Trends"}),r.jsx(wt,{className:"text-gray-400",children:"Monthly revenue and recurring revenue"})]}),r.jsx(J,{children:r.jsx("div",{className:"h-80",children:r.jsx(qn,{width:"100%",height:"100%",children:r.jsxs(Cv,{data:d_e,children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"month",stroke:"#9ca3af"}),r.jsx(wi,{stroke:"#9ca3af"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),r.jsx(Pd,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fill:"#10b981",fillOpacity:.3,name:"Total Revenue"}),r.jsx(Pd,{type:"monotone",dataKey:"mrr",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"MRR"})]})})})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Revenue by Client"}),r.jsx(wt,{className:"text-gray-400",children:"Top 5 revenue generating clients"})]}),r.jsx(J,{children:r.jsx("div",{className:"space-y-4",children:Bh.map((v,b)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-600/20 font-semibold text-emerald-400",children:b+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:v.name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[v.calls.toLocaleString()," calls"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-white",children:["$",v.revenue.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-emerald-400",children:[(v.revenue/321e3*100).toFixed(1),"% of total"]})]})]},v.name))})})]})]})]}),r.jsxs(Nt,{value:"usage",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3 lg:grid-cols-6",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Calls"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Au.totalCalls.toLocaleString()})]}),r.jsx(dt,{className:"h-8 w-8 text-emerald-400"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Leads"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Au.totalLeads.toLocaleString()})]}),r.jsx(Sr,{className:"h-8 w-8 text-blue-400"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Success Rate"}),r.jsxs("p",{className:"mt-1 text-2xl font-bold text-white",children:[Au.avgSuccessRate,"%"]})]}),r.jsx(yt,{className:"h-8 w-8 text-emerald-400"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clients"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Au.activeClients})]}),r.jsx(tr,{className:"h-8 w-8 text-emerald-400"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Agents"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Au.totalAgents})]}),r.jsx(Ot,{className:"h-8 w-8 text-orange-400"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg Duration"}),r.jsx("p",{className:"mt-1 text-2xl font-bold text-white",children:Au.avgCallDuration})]}),r.jsx(Ft,{className:"h-8 w-8 text-yellow-400"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Call Volume by Hour"}),r.jsx(wt,{className:"text-gray-400",children:"Platform-wide call distribution"})]}),r.jsx(J,{children:r.jsx("div",{className:"h-80",children:r.jsx(qn,{width:"100%",height:"100%",children:r.jsxs($2,{data:[{hour:"8AM",calls:1200},{hour:"9AM",calls:2800},{hour:"10AM",calls:3400},{hour:"11AM",calls:3100},{hour:"12PM",calls:2200},{hour:"1PM",calls:2600},{hour:"2PM",calls:3200},{hour:"3PM",calls:3500},{hour:"4PM",calls:2900},{hour:"5PM",calls:1800}],children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"hour",stroke:"#9ca3af"}),r.jsx(wi,{stroke:"#9ca3af"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),r.jsx(Mf,{dataKey:"calls",fill:"#10b981",radius:[8,8,0,0]})]})})})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Lead Conversion Funnel"}),r.jsx(wt,{className:"text-gray-400",children:"Platform-wide conversion metrics"})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Calls Made"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"128,450"})]}),r.jsx(Gt,{value:100,className:"h-3 bg-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Connected"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"95,414 (74.3%)"})]}),r.jsx(Gt,{value:74.3,className:"h-3 bg-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Interested"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"28,624 (22.3%)"})]}),r.jsx(Gt,{value:22.3,className:"h-3 bg-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Qualified Leads"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"3,847 (3.0%)"})]}),r.jsx(Gt,{value:3,className:"h-3 bg-gray-800"})]})]})})]})]})]}),r.jsxs(Nt,{value:"clients",className:"space-y-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-white",children:"Top Performing Clients"}),r.jsx(wt,{className:"text-gray-400",children:"Ranked by revenue contribution and performance metrics"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(K,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[r.jsx(Ia,{className:"mr-2 h-4 w-4"}),"View Charts"]}),r.jsxs(K,{size:"sm",variant:"outline",className:"border-gray-700 hover:border-emerald-600 hover:bg-emerald-600/10",children:[r.jsx(yn,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),r.jsx(J,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-800",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Rank"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Client Organization"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Revenue"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Call Volume"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Leads Generated"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Conversion Rate"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"})]})}),r.jsx("tbody",{children:Bh.map((v,b)=>r.jsxs("tr",{className:"border-b border-gray-800 transition-colors hover:bg-gray-800/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-lg font-semibold ${b===0?"bg-yellow-600/20 text-yellow-400":b===1?"bg-gray-600/20 text-gray-300":b===2?"bg-orange-600/20 text-orange-400":"bg-gray-800 text-gray-400"}`,children:b+1})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-white",children:v.name}),r.jsx("p",{className:"text-xs text-gray-400",children:"Active since Jan 2023"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-white",children:["$",v.revenue.toLocaleString()]}),r.jsx("p",{className:"text-xs text-emerald-400",children:"+12% MoM"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:v.calls.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-400",children:"calls/month"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:v.leads}),r.jsx("p",{className:"text-xs text-gray-400",children:"qualified leads"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gt,{value:v.leads/v.calls*100,className:"h-2 w-16"}),r.jsxs("span",{className:"text-sm text-white",children:[(v.leads/v.calls*100).toFixed(1),"%"]})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(ke,{className:"border-emerald-600/30 bg-emerald-600/20 text-emerald-400",children:"Active"})})]},v.name))})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Revenue Distribution"}),r.jsx(wt,{className:"text-gray-400",children:"Client revenue share"})]}),r.jsx(J,{children:r.jsx("div",{className:"h-80",children:r.jsx(qn,{width:"100%",height:"100%",children:r.jsxs(L2,{children:[r.jsx(Nv,{data:Bh,cx:"50%",cy:"50%",outerRadius:100,dataKey:"revenue",label:({name:v,value:b})=>`${v}: $${b.toLocaleString()}`,children:Bh.map((v,b)=>r.jsx(zd,{fill:b===0?"#10b981":b===1?"#3b82f6":b===2?"#8b5cf6":b===3?"#f59e0b":"#ef4444"},`cell-${b}`))}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})})})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Client Growth Trends"}),r.jsx(wt,{className:"text-gray-400",children:"Monthly client acquisition"})]}),r.jsx(J,{children:r.jsx("div",{className:"h-80",children:r.jsx(qn,{width:"100%",height:"100%",children:r.jsxs(x7,{data:[{month:"Jan",clients:32},{month:"Feb",clients:35},{month:"Mar",clients:38},{month:"Apr",clients:42},{month:"May",clients:45},{month:"Jun",clients:47}],children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"month",stroke:"#9ca3af"}),r.jsx(wi,{stroke:"#9ca3af"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),r.jsx(Bx,{type:"monotone",dataKey:"clients",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})})})]})]})]}),r.jsxs(Nt,{value:"health",className:"space-y-6",children:[r.jsxs(Wt,{className:"border-gray-800 bg-gray-900/90",children:[r.jsx(Dt,{className:"h-4 w-4 text-yellow-400"}),r.jsx(NL,{className:"text-white",children:"System Status"}),r.jsx(Vt,{className:"text-gray-300",children:"Voice Services experiencing minor degradation. All other systems operational."})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:u_e.map(v=>r.jsx(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-white",children:v.name}),r.jsx(ke,{className:v.status==="operational"?"border-emerald-600/30 bg-emerald-600/20 text-emerald-400":v.status==="degraded"?"border-yellow-600/30 bg-yellow-600/20 text-yellow-400":"border-red-600/30 bg-red-600/20 text-red-400",children:v.status})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Uptime"}),r.jsxs("span",{className:`text-sm font-medium ${y(v.status)}`,children:[v.uptime,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Latency"}),r.jsxs("span",{className:"text-sm font-medium text-white",children:[v.latency,"ms"]})]}),r.jsx(Gt,{value:v.uptime,className:"h-2 bg-gray-800"})]})]})},v.name))}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90 backdrop-blur-sm",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{className:"text-white",children:"Recent Error Logs"}),r.jsx(wt,{className:"text-gray-400",children:"System errors and warnings"})]}),r.jsxs(K,{size:"sm",variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[r.jsx(Fo,{className:"mr-2 h-4 w-4"}),"View Full Logs"]})]})}),r.jsx(J,{children:r.jsx("div",{className:"space-y-3",children:m_e.map(v=>r.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-950/50 p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[r.jsx(ke,{className:w(v.severity),children:v.severity}),r.jsx("span",{className:"text-sm text-gray-400",children:v.timestamp})]}),r.jsx("p",{className:"font-medium text-white",children:v.service}),r.jsx("p",{className:"mt-1 text-sm text-gray-300",children:v.error})]}),r.jsx(K,{size:"sm",variant:"ghost",className:"hover:bg-gray-800",children:r.jsx(Tr,{className:"h-4 w-4"})})]})},v.id))})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900/90",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"API Usage Stats"}),r.jsx(wt,{className:"text-gray-400",children:"Last 24 hours"})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ks,{className:"h-5 w-5 text-emerald-400"}),r.jsx("span",{className:"text-white",children:"Total API Calls"})]}),r.jsx("span",{className:"font-semibold text-white",children:"2.4M"})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yt,{className:"h-5 w-5 text-emerald-400"}),r.jsx("span",{className:"text-white",children:"Success Rate"})]}),r.jsx("span",{className:"font-semibold text-white",children:"99.7%"})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ft,{className:"h-5 w-5 text-yellow-400"}),r.jsx("span",{className:"text-white",children:"Avg Response Time"})]}),r.jsx("span",{className:"font-semibold text-white",children:"142ms"})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-950/50 p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_i,{className:"h-5 w-5 text-red-400"}),r.jsx("span",{className:"text-white",children:"Failed Requests"})]}),r.jsx("span",{className:"font-semibold text-white",children:"7,234"})]})]})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Database Performance"}),r.jsx(wt,{className:"text-gray-400",children:"Current metrics"})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"CPU Usage"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"42%"})]}),r.jsx(Gt,{value:42,className:"h-2 bg-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Memory Usage"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"68%"})]}),r.jsx(Gt,{value:68,className:"h-2 bg-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Storage Used"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"234 GB / 500 GB"})]}),r.jsx(Gt,{value:46.8,className:"h-2 bg-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Active Connections"}),r.jsx("span",{className:"text-sm font-medium text-white",children:"127 / 200"})]}),r.jsx(Gt,{value:63.5,className:"h-2 bg-gray-800"})]})]})})]})]})]})]})]})})}function WR(){var k,T,A;const e=br(),{getToken:t}=en(),[s,a]=p.useState("7d"),[n,i]=p.useState(null),[o,l]=p.useState([]),[d,u]=p.useState(!0),[h,f]=p.useState(null),g="http://localhost:3001",y=async()=>{try{u(!0),f(null);const E=await t(),R=await fetch(`${g}/api/platform-analytics/overview`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!R.ok)throw new Error(`HTTP error! status: ${R.status}`);const z=await R.json();i(z),console.log(" Platform analytics loaded:",z)}catch(E){console.error(" Error fetching platform analytics:",E),f("Failed to load platform analytics"),i({overview:{totalOrganizations:0,activeOrganizations:0,totalUsers:0,activeUsers:0,totalMRR:0,totalCalls:0,systemUptime:99.8,supportTickets:0,recentGrowth:{organizations:0,users:0,organizationGrowth:0,userGrowth:0}},charts:{weeklyGrowth:[],monthlyRevenue:[],planDistribution:{starter:0,professional:0,enterprise:0}},topOrganizations:[]})}finally{u(!1)}},w=async()=>{try{const E=await t(),R=await fetch(`${g}/api/platform-analytics/activity`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(R.ok){const z=await R.json();l(z.activity||[])}}catch(E){console.error(" Error fetching activity:",E),l([])}};p.useEffect(()=>{y(),w()},[]);const v=((k=n==null?void 0:n.charts)==null?void 0:k.weeklyGrowth)||[{date:"Mon",users:0,organizations:0},{date:"Tue",users:0,organizations:0},{date:"Wed",users:0,organizations:0},{date:"Thu",users:0,organizations:0},{date:"Fri",users:0,organizations:0},{date:"Sat",users:0,organizations:0},{date:"Sun",users:0,organizations:0}],b=((T=n==null?void 0:n.charts)==null?void 0:T.monthlyRevenue)||[{month:"Jan",revenue:0,mrr:0},{month:"Feb",revenue:0,mrr:0},{month:"Mar",revenue:0,mrr:0},{month:"Apr",revenue:0,mrr:0},{month:"May",revenue:0,mrr:0},{month:"Jun",revenue:0,mrr:0}],N=[{status:"Open",count:((A=n==null?void 0:n.overview)==null?void 0:A.supportTickets)||0,color:"#ef4444"},{status:"In Progress",count:0,color:"#eab308"},{status:"Resolved",count:0,color:"#22c55e"}],S=[{service:"API",uptime:99.9,status:"operational"},{service:"Database",uptime:99.95,status:"operational"},{service:"Auth",uptime:98.5,status:"degraded"},{service:"Storage",uptime:99.99,status:"operational"}],_=n!=null&&n.overview?{totalOrganizations:n.overview.totalOrganizations,activeUsers:n.overview.totalUsers,mrr:n.overview.totalMRR,supportTickets:n.overview.supportTickets,systemUptime:n.overview.systemUptime,activeSubscriptions:n.overview.activeOrganizations}:{totalOrganizations:0,activeUsers:0,mrr:0,supportTickets:0,systemUptime:99.8,activeSubscriptions:0};return d?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"mx-auto mb-4 h-32 w-32 animate-spin rounded-full border-b-2 border-emerald-500"}),r.jsx("p",{className:"text-xl",children:"Loading platform analytics..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Overview"}),r.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor and manage your AI calling platform"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[h&&r.jsx("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 px-3 py-2",children:r.jsx("p",{className:"text-sm text-red-400",children:h})}),r.jsxs(K,{onClick:()=>{y(),w()},variant:"outline",size:"sm",className:"border-gray-600 text-white hover:bg-gray-700",children:[r.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Organizations"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:_.totalOrganizations}),r.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+8 this week"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Active Users"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:_.activeUsers.toLocaleString()}),r.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+12% growth"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"MRR"})}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(_.mrr/1e3).toFixed(0),"k"]}),r.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"+15% vs last month"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Support Tickets"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:_.supportTickets}),r.jsx("p",{className:"mt-1 text-xs text-yellow-400",children:"12 open"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"System Uptime"})}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:[_.systemUptime,"%"]}),r.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"All systems operational"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Subscriptions"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:_.activeSubscriptions}),r.jsx("p",{className:"mt-1 text-xs text-emerald-400",children:"89% retention"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsxs(K,{onClick:()=>e("/organizations"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[r.jsx(tr,{className:"h-6 w-6"}),r.jsx("span",{children:"Manage Organizations"})]}),r.jsxs(K,{onClick:()=>e("/user-management"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[r.jsx(Gu,{className:"h-6 w-6"}),r.jsx("span",{children:"User Management"})]}),r.jsxs(K,{onClick:()=>e("/support-tickets"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[r.jsx(pf,{className:"h-6 w-6"}),r.jsx("span",{children:"Support Tickets"})]}),r.jsxs(K,{onClick:()=>e("/system-health"),className:"flex h-auto flex-col items-center gap-2 bg-gray-800 p-6 text-white hover:bg-gray-700",children:[r.jsx(xs,{className:"h-6 w-6"}),r.jsx("span",{children:"System Health"})]}),r.jsxs(K,{onClick:()=>e("/platform-monitoring"),className:"flex h-auto flex-col items-center gap-2 bg-emerald-800 p-6 text-white hover:bg-emerald-700",children:[r.jsx(D0,{className:"h-6 w-6"}),r.jsx("span",{children:"Platform Monitoring"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(ba,{className:"h-5 w-5"}),"User & Organization Growth"]})}),r.jsx(J,{children:r.jsx(qn,{width:"100%",height:300,children:r.jsxs(x7,{data:v,children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"date",stroke:"#9ca3af"}),r.jsx(wi,{stroke:"#9ca3af"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),r.jsx(Bx,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2,name:"Users"}),r.jsx(Bx,{type:"monotone",dataKey:"organizations",stroke:"#8b5cf6",strokeWidth:2,name:"Organizations"})]})})})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Hr,{className:"h-5 w-5"}),"Revenue Trends"]})}),r.jsx(J,{children:r.jsx(qn,{width:"100%",height:300,children:r.jsxs(Cv,{data:b,children:[r.jsx(ro,{strokeDasharray:"3 3",stroke:"#374151"}),r.jsx(bi,{dataKey:"month",stroke:"#9ca3af"}),r.jsx(wi,{stroke:"#9ca3af"}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),r.jsx(Pd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Total Revenue"}),r.jsx(Pd,{type:"monotone",dataKey:"mrr",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"MRR"})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(pf,{className:"h-5 w-5"}),"Support Tickets"]})}),r.jsxs(J,{children:[r.jsx(qn,{width:"100%",height:200,children:r.jsxs(L2,{children:[r.jsx(Nv,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"count",children:N.map((E,R)=>r.jsx(zd,{fill:E.color},`cell-${R}`))}),r.jsx(Vn,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}})]})}),r.jsx("div",{className:"mt-4 space-y-2",children:N.map(E=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:E.color}}),r.jsx("span",{className:"text-gray-300",children:E.status})]}),r.jsx("span",{className:"font-medium text-white",children:E.count})]},E.status))})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(D0,{className:"h-5 w-5"}),"System Health"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"space-y-4",children:S.map(E=>r.jsxs("div",{children:[r.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:E.service}),r.jsxs("div",{className:"flex items-center gap-2",children:[E.status==="operational"?r.jsx(yt,{className:"h-4 w-4 text-green-500"}):r.jsx(Dt,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"text-sm text-white",children:[E.uptime,"%"]})]})]}),r.jsx(Gt,{value:E.uptime,className:"h-2"})]},E.service))}),r.jsx(K,{onClick:()=>e("/system-health"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View Details"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(xs,{className:"h-5 w-5"}),"Recent Activity"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"space-y-3",children:o.length>0?o.slice(0,4).map((E,R)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ke,{className:`${E.type==="organization"?"border-blue-500/30 bg-blue-500/20 text-blue-400":"border-emerald-500/30 bg-emerald-500/20 text-emerald-400"} mt-0.5`,children:E.type==="organization"?"ORG":"USER"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white",children:E.title}),r.jsxs("p",{className:"text-xs text-gray-400",children:[E.description," - ",new Date(E.time).toLocaleDateString()]})]})]},R)):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(xs,{className:"mx-auto mb-2 h-8 w-8 text-gray-600"}),r.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"})]})}),r.jsx(K,{onClick:()=>e("/audit-logs"),className:"mt-4 w-full bg-gray-700 hover:bg-gray-600",children:"View All Activity"})]})]})]})]})})}function f_e(){const[e,t]=p.useState("enterprise"),a={current:{clients:5,monthlyRevenue:2995,annualRevenue:35940,infrastructureCost:150,profitMargin:95,supportTickets:25,serverLoad:15,responseTime:180},growth:{clients:50,monthlyRevenue:29950,annualRevenue:359400,infrastructureCost:2500,profitMargin:92,supportTickets:150,serverLoad:45,responseTime:220},enterprise:{clients:500,monthlyRevenue:324750,annualRevenue:3897e3,infrastructureCost:15e3,profitMargin:85,supportTickets:1200,serverLoad:75,responseTime:150}}[e],n=[{name:"Load Balancers",current:"$50/month",growth:"$200/month",enterprise:"$800/month",description:"Distribute traffic across multiple servers"},{name:"Database Cluster",current:"$100/month",growth:"$800/month",enterprise:"$4,000/month",description:"Sharded PostgreSQL with read replicas"},{name:"Application Servers",current:"$150/month",growth:"$800/month",enterprise:"$6,000/month",description:"Auto-scaling Node.js containers"},{name:"CDN & Storage",current:"$30/month",growth:"$200/month",enterprise:"$1,500/month",description:"Global content delivery network"},{name:"Monitoring & Logs",current:"$20/month",growth:"$150/month",enterprise:"$800/month",description:"Real-time monitoring and alerting"},{name:"Security & Compliance",current:"$50/month",growth:"$350/month",enterprise:"$1,900/month",description:"WAF, DDoS protection, SOC 2"}],i=[{role:"Support Team",current:1,growth:3,enterprise:12,salary:6e4,description:"24/7 customer support coverage"},{role:"DevOps Engineers",current:0,growth:1,enterprise:3,salary:14e4,description:"Infrastructure and deployment management"},{role:"Backend Developers",current:1,growth:2,enterprise:5,salary:12e4,description:"Platform development and optimization"},{role:"Sales Team",current:0,growth:2,enterprise:8,salary:8e4,description:"Client acquisition and account management"},{role:"Customer Success",current:0,growth:1,enterprise:4,salary:75e3,description:"Client onboarding and retention"}],o=[{plan:"Starter",price:299,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*299},{plan:"Professional",price:599,clients:Math.floor(a.clients*.4),total:Math.floor(a.clients*.4)*599},{plan:"Enterprise",price:1299,clients:Math.floor(a.clients*.2),total:Math.floor(a.clients*.2)*1299}];return r.jsx("div",{className:"bg-gray-950 p-4 lg:p-8",children:r.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"flex items-center gap-3 text-2xl font-semibold text-white lg:text-3xl",children:[r.jsx(yY,{className:"h-6 w-6 text-emerald-500 lg:h-8 lg:w-8"}),"Scale Architecture: 500+ Clients"]}),r.jsx("p",{className:"mt-1 text-gray-400",children:"Enterprise-grade infrastructure for massive scale"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[r.jsx(K,{variant:e==="current"?"default":"outline",onClick:()=>t("current"),className:`text-sm ${e==="current"?"bg-emerald-600":""}`,size:"sm",children:"Current (5)"}),r.jsx(K,{variant:e==="growth"?"default":"outline",onClick:()=>t("growth"),className:`text-sm ${e==="growth"?"bg-emerald-600":""}`,size:"sm",children:"Growth (50)"}),r.jsx(K,{variant:e==="enterprise"?"default":"outline",onClick:()=>t("enterprise"),className:`text-sm ${e==="enterprise"?"bg-emerald-600":""}`,size:"sm",children:"Enterprise (500+)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 lg:gap-6",children:[r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Revenue"}),r.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.monthlyRevenue.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-emerald-400",children:["$",(a.monthlyRevenue/a.clients).toFixed(0)," per client"]})]}),r.jsx(Hr,{className:"h-6 w-6 flex-shrink-0 text-green-500 lg:h-8 lg:w-8"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Annual Revenue"}),r.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",(a.annualRevenue/1e6).toFixed(1),"M"]}),r.jsxs("p",{className:"text-xs text-emerald-400",children:[a.profitMargin,"% profit margin"]})]}),r.jsx(ba,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Infrastructure Cost"}),r.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",a.infrastructureCost.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-orange-400",children:["$",(a.infrastructureCost/a.clients).toFixed(0)," per client"]})]}),r.jsx(D0,{className:"h-6 w-6 flex-shrink-0 text-blue-500 lg:h-8 lg:w-8"})]})})}),r.jsx(Y,{className:"border-gray-800 bg-gray-900",children:r.jsx(J,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Monthly Profit"}),r.jsxs("p",{className:"text-xl font-semibold text-white lg:text-2xl",children:["$",((a.monthlyRevenue-a.infrastructureCost)/1e3).toFixed(0),"K"]}),r.jsx("p",{className:"text-xs text-emerald-400",children:"After infrastructure costs"})]}),r.jsx(Sr,{className:"h-6 w-6 flex-shrink-0 text-emerald-500 lg:h-8 lg:w-8"})]})})})]}),r.jsxs(yo,{defaultValue:"infrastructure",className:"space-y-4 lg:space-y-6",children:[r.jsxs(Oi,{className:"grid h-auto w-full grid-cols-5",children:[r.jsx(jt,{value:"infrastructure",className:"text-xs lg:text-sm",children:"Infrastructure"}),r.jsx(jt,{value:"revenue",className:"text-xs lg:text-sm",children:"Revenue Model"}),r.jsx(jt,{value:"team",className:"text-xs lg:text-sm",children:"Team Scaling"}),r.jsx(jt,{value:"automation",className:"text-xs lg:text-sm",children:"Automation"}),r.jsx(jt,{value:"roadmap",className:"text-xs lg:text-sm",children:"Roadmap"})]}),r.jsxs(Nt,{value:"infrastructure",className:"space-y-4 lg:space-y-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-4",children:r.jsx(ye,{className:"text-lg text-white lg:text-xl",children:"Infrastructure Components"})}),r.jsx(J,{className:"p-4 lg:p-6",children:r.jsx("div",{className:"space-y-3 lg:space-y-4",children:n.map((l,d)=>r.jsxs("div",{className:"flex flex-col gap-2 rounded-lg bg-gray-800 p-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4 lg:p-4",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.name}),r.jsx("p",{className:"mt-1 text-xs text-gray-400 lg:text-sm",children:l.description})]}),r.jsx("div",{className:"flex-shrink-0 text-left sm:text-right",children:r.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise]})})]},d))})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[r.jsx(dy,{className:"h-4 w-4 text-blue-500 lg:h-5 lg:w-5"}),"Database Strategy"]})}),r.jsxs(J,{className:"space-y-3 p-4 lg:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Sharding"}),r.jsx(ke,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e==="enterprise"?"Required":"Optional"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Read Replicas"}),r.jsx(ke,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Not Needed"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Connection Pooling"}),r.jsx(ke,{className:"bg-green-500/20 text-xs text-green-400",children:"Required"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[r.jsx(eY,{className:"h-4 w-4 text-emerald-500 lg:h-5 lg:w-5"}),"Auto-Scaling"]})}),r.jsxs(J,{className:"space-y-3 p-4 lg:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Horizontal Scaling"}),r.jsx(ke,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Essential":"Planned"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Load Balancing"}),r.jsx(ke,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Active":"Future"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"CDN"}),r.jsx(ke,{className:"bg-green-500/20 text-xs text-green-400",children:"Global"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-3",children:r.jsxs(ye,{className:"flex items-center gap-2 text-base text-white lg:text-lg",children:[r.jsx(ya,{className:"h-4 w-4 text-red-500 lg:h-5 lg:w-5"}),"Security & Compliance"]})}),r.jsxs(J,{className:"space-y-3 p-4 lg:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"SOC 2 Type II"}),r.jsx(ke,{className:`text-xs ${e==="enterprise"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e==="enterprise"?"Required":"In Progress"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"GDPR Compliance"}),r.jsx(ke,{className:"bg-green-500/20 text-xs text-green-400",children:"Compliant"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"WAF & DDoS"}),r.jsx(ke,{className:`text-xs ${e!=="current"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e!=="current"?"Protected":"Basic"})]})]})]})]})]}),r.jsx(Nt,{value:"revenue",className:"space-y-4 lg:space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-4",children:r.jsx(ye,{className:"text-lg text-white lg:text-xl",children:"Revenue Breakdown"})}),r.jsx(J,{className:"p-4 lg:p-6",children:r.jsx("div",{className:"space-y-3 lg:space-y-4",children:o.map((l,d)=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-3 lg:p-4",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:l.plan}),r.jsxs("p",{className:"text-xs text-gray-400 lg:text-sm",children:[l.clients," clients"]})]}),r.jsxs("div",{className:"flex-shrink-0 text-right",children:[r.jsxs("p",{className:"text-sm font-semibold text-emerald-400 lg:text-base",children:["$",l.total.toLocaleString(),"/mo"]}),r.jsxs("p",{className:"text-xs text-gray-400",children:["$",l.price,"/client"]})]})]},d))})})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-4",children:r.jsx(ye,{className:"text-lg text-white lg:text-xl",children:"Growth Projections"})}),r.jsx(J,{className:"p-4 lg:p-6",children:r.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[r.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 1 Target"}),r.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"500 Clients"}),r.jsx("p",{className:"text-sm text-gray-400",children:"$3.9M Annual Revenue"})]}),r.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 2 Projection"}),r.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"1,200 Clients"}),r.jsx("p",{className:"text-sm text-gray-400",children:"$9.4M Annual Revenue"})]}),r.jsxs("div",{className:"rounded-lg bg-gray-800 p-3 lg:p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white lg:text-base",children:"Year 3 Vision"}),r.jsx("p",{className:"text-xl font-semibold text-emerald-400 lg:text-2xl",children:"2,500 Clients"}),r.jsx("p",{className:"text-sm text-gray-400",children:"$19.5M Annual Revenue"})]})]})})]})]})}),r.jsx(Nt,{value:"team",className:"space-y-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Team Scaling Requirements"})}),r.jsx(J,{children:r.jsx("div",{className:"space-y-4",children:i.map((l,d)=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-800 p-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-white",children:l.role}),r.jsx("p",{className:"text-sm text-gray-400",children:l.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-emerald-400",children:[e==="current"&&l.current,e==="growth"&&l.growth,e==="enterprise"&&l.enterprise," people"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["$",(l.salary/1e3).toFixed(0),"K avg salary"]})]})]},d))})})]})}),r.jsx(Nt,{value:"automation",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Client Onboarding Automation"})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yt,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"text-gray-300",children:"Self-service signup flow"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yt,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"text-gray-300",children:"Automatic VAPI account setup"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ft,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"text-gray-300",children:"Guided assistant creation"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ft,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"text-gray-300",children:"Automated billing setup"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Support Automation"})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yt,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"text-gray-300",children:"AI chatbot for tier 1 support"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yt,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"text-gray-300",children:"Automatic ticket routing"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ft,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"text-gray-300",children:"Knowledge base integration"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ft,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"text-gray-300",children:"Proactive issue detection"})]})]})]})]})}),r.jsx(Nt,{value:"roadmap",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Q1 2024 (0-50 Clients)"})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yt,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Core platform launch"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yt,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Support ticketing system"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ft,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Stripe billing integration"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ft,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Basic monitoring setup"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Q2-Q3 2024 (50-200 Clients)"})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ga,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Database sharding"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ga,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Load balancer deployment"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ga,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Auto-scaling implementation"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ga,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Advanced monitoring"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:"Q4 2024 (200-500+ Clients)"})}),r.jsxs(J,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"h-4 w-4 text-emerald-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Microservices architecture"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"h-4 w-4 text-emerald-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Global CDN deployment"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"h-4 w-4 text-emerald-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"SOC 2 compliance"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ks,{className:"h-4 w-4 text-emerald-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Enterprise white-labeling"})]})]})]})]})})]}),r.jsxs(Y,{className:"border-emerald-500/30 bg-gradient-to-r from-emerald-500/10 to-blue-500/10",children:[r.jsx(xe,{children:r.jsx(ye,{className:"text-white",children:" Next Steps for 500+ Client Scale"})}),r.jsx(J,{children:r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"mb-2 font-semibold text-emerald-400",children:"Immediate Actions (This Month)"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[r.jsx("li",{children:" Deploy to production (Vercel + Supabase Pro)"}),r.jsx("li",{children:" Implement Stripe billing automation"}),r.jsx("li",{children:" Set up monitoring with DataDog/New Relic"}),r.jsx("li",{children:" Create client onboarding automation"}),r.jsx("li",{children:" Establish support ticket workflows"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"mb-2 font-semibold text-blue-400",children:"Scale Preparation (Next 3 Months)"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[r.jsx("li",{children:" Design database sharding strategy"}),r.jsx("li",{children:" Implement horizontal auto-scaling"}),r.jsx("li",{children:" Hire DevOps engineer"}),r.jsx("li",{children:" Build enterprise white-label features"}),r.jsx("li",{children:" Start SOC 2 compliance process"})]})]})]})})]})]})})}const p_e="/api";class g_e{async makeRequest(t,s={}){const a=localStorage.getItem("auth_token")||localStorage.getItem("supabase_token"),n=`${p_e}${t}`;console.log(" API Request:",{method:s.method||"GET",url:n,hasToken:!!a,token:a?`${a.substring(0,10)}...`:"none"});const i=await fetch(n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...s.headers},...s});if(console.log(" API Response:",{status:i.status,statusText:i.statusText}),!i.ok){const l=await i.json().catch(()=>({error:"Network error"}));throw console.error(" API Error:",l),new Error(l.error||`HTTP ${i.status}`)}const o=await i.json();return console.log(" API Success:",o),o}async getApiConfiguration(t){try{const s=await this.makeRequest(`/api/api-configurations/${t}`);return!s||Object.keys(s).length===0?null:s}catch(s){throw console.error("Error in getApiConfiguration:",s),s}}async saveApiConfiguration(t,s){try{console.log(" Saving API configuration:",{serviceName:t,configuration:s});const a=await this.makeRequest(`/api/api-configurations/${t}`,{method:"POST",body:JSON.stringify({configuration:s})});return console.log(" API configuration saved successfully:",a),a.id}catch(a){throw console.error(" Error in saveApiConfiguration:",a),a}}async getAllApiConfigurations(){try{return await this.makeRequest("/api/api-configurations")}catch(t){throw console.error("Error fetching all API configurations:",t),t}}async deleteApiConfiguration(t){try{await this.makeRequest(`/api/api-configurations/${t}`,{method:"DELETE"})}catch(s){throw console.error("Error in deleteApiConfiguration:",s),s}}async testApiConfiguration(t,s){try{switch(t){case"stripe":return!!(s.publicKey&&s.secretKey&&s.publicKey.startsWith("pk_")&&s.secretKey.startsWith("sk_"));case"openai":return!!(s.apiKey&&s.apiKey.startsWith("sk-"));case"supabase":return!!(s.url&&s.anonKey&&s.url.includes("supabase")&&s.anonKey.length>10);default:return!1}}catch(a){return console.error(`Error testing ${t} configuration:`,a),!1}}async getConfigurationAuditLog(t){try{const s=new URLSearchParams;t&&s.append("serviceName",t);const a=`/api/api-configurations-audit${s.toString()?`?${s.toString()}`:""}`;return await this.makeRequest(a)}catch(s){throw console.error("Error in getConfigurationAuditLog:",s),s}}}const IN=new g_e;function x_e(){const e={language:"en-GB",changeLanguage:G=>{localStorage.setItem("trinity-language",G)}},{preferences:t,updatePreferences:s}=bm(),{toast:a}=Ur(),{userContext:n}=po(),[i,o]=p.useState(!1),[l,d]=p.useState(!1),[u,h]=p.useState(!1),[f,g]=p.useState(""),[y,w]=p.useState(!1),[v,b]=p.useState(!1),[N,S]=p.useState({stripe:{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:{apiKey:"",organizationId:"",model:"gpt-4"},supabase:{url:"",anonKey:"",serviceRoleKey:""}}),[_,k]=p.useState(!1),[T,A]=p.useState({stripe:{publicKey:!1,secretKey:!1,webhookSecret:!1},openai:{apiKey:!1},supabase:{anonKey:!1,serviceRoleKey:!1}}),[E,R]=p.useState({fullName:`${(n==null?void 0:n.firstName)||""} ${(n==null?void 0:n.lastName)||""}`.trim(),email:(n==null?void 0:n.email)||"",company:(n==null?void 0:n.organization_name)||"",timezone:"Eastern Time"}),[z,B]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,I]=p.useState(!1),[F,V]=p.useState(!1),[W,X]=p.useState(e.language);p.useEffect(()=>{y&&D()},[y]);const D=async()=>{k(!0);try{const G=await IN.getAllApiConfigurations();S({stripe:G.stripe||{publicKey:"",secretKey:"",webhookSecret:"",testMode:!0},openai:G.openai||{apiKey:"",organizationId:"",model:"gpt-4"},supabase:G.supabase||{url:"",anonKey:"",serviceRoleKey:""}})}catch(G){console.error("Error loading API configurations:",G),a({title:"Error loading configurations",description:"Failed to load API configurations. Please try again.",variant:"destructive"})}finally{k(!1)}},U=async()=>{o(!0);try{a({title:"Changes saved",description:"Your settings have been updated successfully."})}catch{a({title:"Error",description:"Failed to save changes.",variant:"destructive"})}finally{o(!1)}},H=async()=>{if(!z.currentPassword||!z.newPassword||!z.confirmPassword){a({title:"Error",description:"Please fill in all password fields.",variant:"destructive"});return}if(z.newPassword!==z.confirmPassword){a({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(z.newPassword.length<8){a({title:"Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}o(!0);try{await new Promise(G=>setTimeout(G,1e3)),a({title:"Password updated",description:"Your password has been changed successfully."}),B({currentPassword:"",newPassword:"",confirmPassword:""})}catch{a({title:"Error",description:"Failed to change password. Please try again.",variant:"destructive"})}finally{o(!1)}},M=G=>{X(G),e.changeLanguage(G),localStorage.setItem("trinity-language",G),a({title:"Language updated",description:"Platform language changed successfully."})},L=async()=>{b(!0);try{f==="admin123"||f.length>=6?(w(!0),h(!1),g(""),a({title:"Access granted",description:"You now have access to API management settings."})):a({title:"Invalid password",description:"Please enter your correct password.",variant:"destructive"})}catch{a({title:"Verification failed",description:"Failed to verify password. Please try again.",variant:"destructive"})}finally{b(!1)}},q=async G=>{if(console.log(" Debug - User Context:",n),console.log(" Debug - Organization ID:",n==null?void 0:n.organization_id),!(n!=null&&n.organization_id)){console.error(" No organization ID found in user context"),a({title:"Error",description:"Organization ID not found. Please try logging in again.",variant:"destructive"});return}o(!0);try{const ge=N[G];if(!await IN.testApiConfiguration(G,ge)){a({title:"Invalid configuration",description:`Please check your ${G} configuration values.`,variant:"destructive"}),o(!1);return}await IN.saveApiConfiguration(G,ge),a({title:"Configuration saved",description:`${G.charAt(0).toUpperCase()+G.slice(1)} API settings have been updated successfully.`})}catch(ge){console.error(`Error saving ${G} configuration:`,ge),a({title:"Save failed",description:`Failed to save ${G} API configuration: ${ge instanceof Error?ge.message:"Unknown error"}`,variant:"destructive"})}finally{o(!1)}},ue=(G,ge)=>{A(be=>({...be,[G]:{...be[G],[ge]:!be[G][ge]}}))};return r.jsx("div",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"mx-auto max-w-6xl space-y-6 px-4 py-6",children:[r.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),r.jsx("p",{className:"text-gray-400",children:"Manage your account settings and preferences"})]}),r.jsxs(K,{onClick:U,disabled:i,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Bt,{className:"mr-2 h-4 w-4"}),i?"Saving...":"Save Changes"]})]}),r.jsxs(yo,{defaultValue:"profile",className:"space-y-6",children:[r.jsxs(Oi,{className:`grid w-full border-gray-800 bg-gray-900 ${(n==null?void 0:n.role)==="platform_owner"?"grid-cols-4":"grid-cols-3"}`,children:[r.jsxs(jt,{value:"profile",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(Xr,{className:"mr-2 h-4 w-4"}),"Profile"]}),r.jsxs(jt,{value:"notifications",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(Vo,{className:"mr-2 h-4 w-4"}),"Notifications"]}),r.jsxs(jt,{value:"appearance",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",children:[r.jsx(ls,{className:"mr-2 h-4 w-4"}),"Appearance"]}),(n==null?void 0:n.role)==="platform_owner"&&r.jsxs(jt,{value:"api-management",className:"data-[state=active]:bg-emerald-600/20 data-[state=active]:text-emerald-400",onClick:()=>{y||h(!0)},children:[r.jsx(Xl,{className:"mr-2 h-4 w-4"}),"API Management"]})]}),r.jsxs(Nt,{value:"profile",className:"space-y-6",children:[r.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[r.jsx(Xr,{className:"h-5 w-5 text-emerald-400"}),"Profile Information"]}),r.jsx("p",{className:"text-gray-400",children:"Update your personal information and preferences"})]}),r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700",children:[r.jsx(ec,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),r.jsx(Ae,{id:"fullName",value:E.fullName,onChange:G=>R({...E,fullName:G.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),r.jsx(Ae,{id:"email",type:"email",value:E.email,onChange:G=>R({...E,email:G.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"company",className:"text-gray-300",children:"Company"}),r.jsx(Ae,{id:"company",value:E.company,onChange:G=>R({...E,company:G.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"timezone",className:"text-gray-300",children:"Timezone"}),r.jsxs(Qe,{value:E.timezone,onValueChange:G=>R({...E,timezone:G}),children:[r.jsx(Je,{className:"border-gray-700 bg-gray-900/50 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"Eastern Time",children:"Eastern Time"}),r.jsx(ae,{value:"Central Time",children:"Central Time"}),r.jsx(ae,{value:"Mountain Time",children:"Mountain Time"}),r.jsx(ae,{value:"Pacific Time",children:"Pacific Time"}),r.jsx(ae,{value:"GMT",children:"GMT"})]})]})]})]}),r.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[r.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-white",children:[r.jsx(Hn,{className:"h-4 w-4 text-emerald-400"}),"Language & Region"]}),r.jsxs("div",{className:"max-w-sm",children:[r.jsx(ee,{htmlFor:"language",className:"text-gray-300",children:"Language"}),r.jsxs(Qe,{value:W,onValueChange:M,children:[r.jsx(Je,{className:"border-gray-700 bg-gray-900/50 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"en-US",children:" English (US)"}),r.jsx(ae,{value:"en-GB",children:" English (UK)"}),r.jsx(ae,{value:"de",children:" German"}),r.jsx(ae,{value:"fr",children:" French"}),r.jsx(ae,{value:"it",children:" Italian"}),r.jsx(ae,{value:"es",children:" Spanish"}),r.jsx(ae,{value:"ru",children:" Russian"}),r.jsx(ae,{value:"sr",children:" Serbian"}),r.jsx(ae,{value:"mt",children:" Maltese"})]})]})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[r.jsx(ya,{className:"h-5 w-5 text-emerald-400"}),"Change Password"]}),r.jsx("p",{className:"text-gray-400",children:"Update your account password for enhanced security"})]}),r.jsx("div",{className:"mb-6 rounded-lg border border-gray-700 bg-gray-900/30 p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Password Status"}),r.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-400",children:"Security Level"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Strong"})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-400",children:"Password Age"}),r.jsx("span",{className:"text-xs text-gray-300",children:"Unknown"})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"currentPassword",type:l?"text":"password",value:z.currentPassword,onChange:G=>B({...z,currentPassword:G.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"current-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!l),children:l?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"newPassword",type:O?"text":"password",value:z.newPassword,onChange:G=>B({...z,newPassword:G.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>I(!O),children:O?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"confirmPassword",type:F?"text":"password",value:z.confirmPassword,onChange:G=>B({...z,confirmPassword:G.target.value}),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",autoComplete:"new-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>V(!F),children:F?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),r.jsx("div",{className:"mt-4 text-xs text-gray-400",children:r.jsx("p",{children:"Password must be at least 8 characters long"})}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsxs(K,{onClick:H,disabled:i||!z.currentPassword||!z.newPassword||!z.confirmPassword,className:"bg-emerald-600 hover:bg-emerald-700",children:[i?r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Bt,{className:"mr-2 h-4 w-4"}),i?"Changing Password...":"Change Password"]})})]})]}),r.jsx(Nt,{value:"notifications",className:"space-y-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Notification Preferences"}),r.jsx(wt,{className:"text-gray-400",children:"Choose how and when you want to be notified"})]}),r.jsx(J,{className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),r.jsx($r,{checked:t.emailNotifications,onCheckedChange:G=>s({emailNotifications:G})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive push notifications in your browser"})]}),r.jsx($r,{checked:t.pushNotifications,onCheckedChange:G=>s({pushNotifications:G})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"SMS Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via SMS"})]}),r.jsx($r,{checked:t.smsNotifications,onCheckedChange:G=>s({smsNotifications:G})})]})]})})]})}),r.jsx(Nt,{value:"appearance",className:"space-y-6",children:r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Appearance Settings"}),r.jsx(wt,{className:"text-gray-400",children:"Customize how the platform looks and feels"})]}),r.jsx(J,{children:r.jsx("p",{className:"text-gray-400",children:"Appearance settings coming soon..."})})]})}),(n==null?void 0:n.role)==="platform_owner"&&r.jsx(Nt,{value:"api-management",className:"space-y-6",children:y?r.jsxs("div",{className:"space-y-6",children:[_&&r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(Bn,{className:"h-8 w-8 animate-spin text-emerald-400"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading API configurations..."})]}),!_&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Manage your API integrations securely. All sensitive data is encrypted."}),r.jsxs(K,{variant:"outline",size:"sm",onClick:D,className:"border-gray-700",children:[r.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(Yn,{className:"h-5 w-5 text-emerald-400"}),"Stripe API Configuration"]}),r.jsx(wt,{className:"text-gray-400",children:"Configure Stripe payment processing integration for billing and subscriptions."})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"stripePublicKey",className:"text-gray-300",children:"Publishable Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"stripePublicKey",type:T.stripe.publicKey?"text":"password",value:N.stripe.publicKey,onChange:G=>S(ge=>({...ge,stripe:{...ge.stripe,publicKey:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"pk_test_..."}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ue("stripe","publicKey"),children:T.stripe.publicKey?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"stripeSecretKey",className:"text-gray-300",children:"Secret Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"stripeSecretKey",type:T.stripe.secretKey?"text":"password",value:N.stripe.secretKey,onChange:G=>S(ge=>({...ge,stripe:{...ge.stripe,secretKey:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk_test_..."}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ue("stripe","secretKey"),children:T.stripe.secretKey?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"stripeWebhookSecret",className:"text-gray-300",children:"Webhook Secret"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"stripeWebhookSecret",type:T.stripe.webhookSecret?"text":"password",value:N.stripe.webhookSecret,onChange:G=>S(ge=>({...ge,stripe:{...ge.stripe,webhookSecret:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"whsec_..."}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ue("stripe","webhookSecret"),children:T.stripe.webhookSecret?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"stripeTestMode",className:"text-gray-300",children:"Test Mode"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx($r,{id:"stripeTestMode",checked:N.stripe.testMode,onCheckedChange:G=>S(ge=>({...ge,stripe:{...ge.stripe,testMode:G}}))}),r.jsx(ee,{htmlFor:"stripeTestMode",className:"text-sm text-gray-400",children:"Use test environment"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(K,{onClick:()=>q("stripe"),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save Stripe Config"]})})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(W3,{className:"h-5 w-5 text-emerald-400"}),"OpenAI API Configuration"]}),r.jsx(wt,{className:"text-gray-400",children:"Configure OpenAI integration for AI-powered features and call analysis."})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"openaiApiKey",className:"text-gray-300",children:"API Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"openaiApiKey",type:T.openai.apiKey?"text":"password",value:N.openai.apiKey,onChange:G=>S(ge=>({...ge,openai:{...ge.openai,apiKey:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"sk-..."}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ue("openai","apiKey"),children:T.openai.apiKey?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"openaiOrgId",className:"text-gray-300",children:"Organization ID (Optional)"}),r.jsx(Ae,{id:"openaiOrgId",value:N.openai.organizationId,onChange:G=>S(ge=>({...ge,openai:{...ge.openai,organizationId:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"org-..."})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(ee,{htmlFor:"openaiModel",className:"text-gray-300",children:"Default Model"}),r.jsxs(Qe,{value:N.openai.model,onValueChange:G=>S(ge=>({...ge,openai:{...ge.openai,model:G}})),children:[r.jsx(Je,{className:"border-gray-700 bg-gray-900/50 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-900",children:[r.jsx(ae,{value:"gpt-4",children:"GPT-4"}),r.jsx(ae,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),r.jsx(ae,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(K,{onClick:()=>q("openai"),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save OpenAI Config"]})})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(dy,{className:"h-5 w-5 text-emerald-400"}),"Supabase API Configuration"]}),r.jsxs(wt,{className:"text-gray-400",children:["Configure external Supabase instances for client projects or multi-tenant features.",r.jsx("span",{className:"text-amber-500 text-xs block mt-1",children:"Note: This does NOT affect the main platform database connection."})]})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"supabaseUrl",className:"text-gray-300",children:"Project URL"}),r.jsx(Ae,{id:"supabaseUrl",value:N.supabase.url,onChange:G=>S(ge=>({...ge,supabase:{...ge.supabase,url:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"https://xxx.supabase.co"})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"supabaseAnonKey",className:"text-gray-300",children:"Anon Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"supabaseAnonKey",type:T.supabase.anonKey?"text":"password",value:N.supabase.anonKey,onChange:G=>S(ge=>({...ge,supabase:{...ge.supabase,anonKey:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ue("supabase","anonKey"),children:T.supabase.anonKey?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"supabaseServiceKey",className:"text-gray-300",children:"Service Role Key"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ae,{id:"supabaseServiceKey",type:T.supabase.serviceRoleKey?"text":"password",value:N.supabase.serviceRoleKey,onChange:G=>S(ge=>({...ge,supabase:{...ge.supabase,serviceRoleKey:G.target.value}})),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500 pr-10",placeholder:"eyJ..."}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>ue("supabase","serviceRoleKey"),children:T.supabase.serviceRoleKey?r.jsx(Xs,{className:"h-4 w-4"}):r.jsx(Tr,{className:"h-4 w-4"})})]})]})]}),r.jsx("div",{className:"rounded-lg border border-amber-700 bg-amber-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ga,{className:"h-4 w-4 text-amber-500"}),r.jsxs("p",{className:"text-sm text-amber-200",children:[r.jsx("strong",{children:"Warning:"})," Service Role Key has full database access. Keep it secure."]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(K,{onClick:()=>q("supabase"),className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Save Supabase Config"]})})]})]})]})]}):r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Y,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:r.jsxs(xe,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900",children:r.jsx(M0,{className:"h-6 w-6 text-amber-600"})}),r.jsx(ye,{className:"text-white",children:"Password Required"}),r.jsx(wt,{className:"text-gray-400",children:"Enter your password to access API management settings"})]})})})})]}),u&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs(Y,{className:"w-full max-w-md border-gray-800 bg-gray-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(M0,{className:"h-5 w-5 text-amber-500"}),"Enter Password"]}),r.jsx(wt,{className:"text-gray-400",children:"Please enter your account password to access API management settings."})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{htmlFor:"apiPassword",className:"text-gray-300",children:"Password"}),r.jsx(Ae,{id:"apiPassword",type:"password",value:f,onChange:G=>g(G.target.value),className:"border-gray-700 bg-gray-900/50 text-white placeholder-gray-500",placeholder:"Enter your password",onKeyPress:G=>{G.key==="Enter"&&L()}})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(K,{variant:"outline",onClick:()=>{h(!1),g("")},className:"border-gray-700",children:"Cancel"}),r.jsx(K,{onClick:L,disabled:v||!f,className:"bg-emerald-600 hover:bg-emerald-700",children:v?r.jsxs(r.Fragment,{children:[r.jsx(Bn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xl,{className:"mr-2 h-4 w-4"}),"Unlock"]})})]})]})]})})]})})}function y_e(){const[e,t]=p.useState(null),[s,a]=p.useState(""),[n,i]=p.useState("all"),[o,l]=p.useState("all"),[d,u]=p.useState(""),[h,f]=p.useState(!1),g=p.useRef(null),y=[{id:"technical",name:"Technical Support",color:"text-blue-400",icon:ks},{id:"billing",name:"Billing & Payments",color:"text-green-400",icon:Yn},{id:"onboarding",name:"Onboarding",color:"text-emerald-400",icon:Ot},{id:"feature",name:"Feature Requests",color:"text-yellow-400",icon:nd},{id:"emergency",name:"Emergency",color:"text-red-400",icon:ga}],[w,v]=p.useState([{id:"TKT-001",organizationName:"TechFlow Solutions",organizationId:"ORG-001",clientEmail:"sarah@techflow.com",clientPhone:"+1 (555) 123-4567",title:"VAPI Integration Not Working - Urgent Campaign Launch",description:"Cannot connect to VAPI API, getting 401 errors consistently. This is blocking our campaign launch.",priority:"high",status:"in-progress",category:"technical",department:"technical",assignedTo:"Mike Torres",createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T14:15:00Z",starred:!0,messages:[{id:"msg-1",author:"Sarah Johnson",authorType:"client",message:"Hi, we're having trouble with our VAPI integration. Getting consistent 401 errors when trying to make calls. This is urgent as we have a campaign launching tomorrow.",timestamp:"2024-01-20T10:30:00Z"},{id:"msg-2",author:"Apex AI Bot",authorType:"ai-bot",message:`I've detected this might be an API key issue. Let me run some diagnostics on your account... 

I found that your VAPI API key appears to be expired. I'm escalating this to our technical team for immediate assistance.`,timestamp:"2024-01-20T10:31:00Z"},{id:"msg-3",author:"Mike Torres",authorType:"support",message:"Hi Sarah! I've taken over this ticket. I can see the API key issue. I'm generating a new VAPI key for your account right now. You should have this resolved within the next 30 minutes.",timestamp:"2024-01-20T14:15:00Z"}]},{id:"TKT-002",organizationName:"Digital Dynamics",organizationId:"ORG-002",clientEmail:"mike@digitaldynamics.com",title:"Billing Inquiry - Duplicate Charge",description:"We were charged twice for our monthly subscription this month",priority:"medium",status:"open",category:"billing",department:"billing",createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",messages:[{id:"msg-5",author:"Mike Chen",authorType:"client",message:"Hi, I notice we were charged $1299 twice this month on January 15th. Can you please look into this and process a refund for the duplicate charge?",timestamp:"2024-01-20T09:15:00Z"}]},{id:"TKT-003",organizationName:"Growth Partners",organizationId:"ORG-003",clientEmail:"emma@growthpartners.com",title:"New User Onboarding - Need Help Setting Up",description:"Just signed up for trial, need help with initial setup",priority:"medium",status:"open",category:"account",department:"onboarding",createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T08:00:00Z",messages:[{id:"msg-7",author:"Emma Rodriguez",authorType:"client",message:"Hi team, we just signed up for the trial. Could someone help us with the initial setup? We want to import our leads and set up our first campaign.",timestamp:"2024-01-20T08:00:00Z"}]}]),b={total:w.length,open:w.filter(A=>A.status==="open").length,inProgress:w.filter(A=>A.status==="in-progress").length,resolved:w.filter(A=>A.status==="resolved").length};p.useEffect(()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})},[e==null?void 0:e.messages]);const N=async()=>{if(!d.trim()||!e)return;const A={id:`msg-${Date.now()}`,author:"Sean Wentz",authorType:"support",message:d,timestamp:new Date().toISOString()};v(E=>E.map(R=>R.id===e.id?{...R,messages:[...R.messages,A],updatedAt:new Date().toISOString()}:R)),u("")},S=A=>{v(E=>E.map(R=>R.id===A?{...R,starred:!R.starred}:R))},_=A=>{switch(A){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},k=A=>{switch(A){case"open":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"waiting":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"closed":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},T=w.filter(A=>{const E=A.title.toLowerCase().includes(s.toLowerCase())||A.organizationName.toLowerCase().includes(s.toLowerCase())||A.description.toLowerCase().includes(s.toLowerCase()),R=n==="all"||A.status===n,z=o==="all"||A.department===o;return E&&R&&z});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"mb-2 text-4xl font-bold text-white",children:"Support Command Center"}),r.jsx("p",{className:"text-gray-400",children:"Manage tickets across all departments"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ke,{className:"border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20 px-4 py-2 text-emerald-400",children:[b.open," Open Tickets"]}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"New Ticket"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:y.map(A=>{const E=A.icon,R=w.filter(z=>z.department===A.id);return r.jsx(Y,{className:"cursor-pointer border-gray-700 bg-gray-800/50 backdrop-blur-sm transition-colors hover:bg-gray-800/70",children:r.jsxs(J,{className:"p-4",children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx(E,{className:`h-5 w-5 ${A.color}`}),r.jsx("span",{className:"text-2xl font-bold text-white",children:R.length})]}),r.jsx("p",{className:"text-sm text-gray-400",children:A.name}),R.filter(z=>z.status==="open").length>0&&r.jsxs("p",{className:"mt-1 text-xs text-orange-400",children:[R.filter(z=>z.status==="open").length," open"]})]})},A.id)})}),r.jsxs("div",{className:"grid h-[800px] grid-cols-1 gap-6 lg:grid-cols-3",children:[r.jsxs(Y,{className:"h-full overflow-hidden border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsx(xe,{className:"border-b border-gray-700",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{className:"text-white",children:"Inbox"}),r.jsx(K,{variant:"ghost",size:"sm",className:"text-gray-400",children:r.jsx(ea,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),r.jsx(Ae,{placeholder:"Search tickets...",value:s,onChange:A=>a(A.target.value),className:"border-gray-600 bg-gray-700 pl-10 text-white"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Qe,{value:n,onValueChange:i,children:[r.jsx(Je,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"open",children:"Open"}),r.jsx(ae,{value:"in-progress",children:"In Progress"}),r.jsx(ae,{value:"resolved",children:"Resolved"})]})]}),r.jsxs(Qe,{value:o,onValueChange:l,children:[r.jsx(Je,{className:"border-gray-600 bg-gray-700 text-sm text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all",children:"All Departments"}),y.map(A=>r.jsx(ae,{value:A.id,children:A.name},A.id))]})]})]})]})}),r.jsx(tx,{className:"flex-1",children:r.jsx("div",{className:"divide-y divide-gray-700",children:T.map(A=>{const E=y.find(R=>R.id===A.department);return r.jsxs("div",{onClick:()=>t(A),className:`cursor-pointer p-4 transition-colors hover:bg-gray-700/50 ${(e==null?void 0:e.id)===A.id?"border-l-4 border-emerald-500 bg-gray-700/50":""}`,children:[r.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[r.jsx("span",{className:"truncate font-medium text-white",children:A.organizationName}),r.jsxs(ke,{className:"border-gray-500 bg-gray-600/50 text-xs text-gray-300",children:[r.jsx(nY,{className:"mr-1 h-3 w-3"}),A.id]})]}),r.jsx("p",{className:"truncate text-sm font-medium text-white",children:A.title}),r.jsx("p",{className:"mt-1 truncate text-xs text-gray-400",children:A.description})]}),r.jsx(K,{variant:"ghost",size:"sm",onClick:R=>{R.stopPropagation(),S(A.id)},className:"text-gray-400 hover:text-yellow-400",children:r.jsx(nd,{className:`h-4 w-4 ${A.starred?"fill-yellow-400 text-yellow-400":""}`})})]}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ke,{className:_(A.priority),children:A.priority}),r.jsx(ke,{className:k(A.status),children:A.status}),E&&r.jsxs(ke,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:[r.jsx(E.icon,{className:`mr-1 h-3 w-3 ${E.color}`}),E.name]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.updatedAt).toLocaleDateString()})]})]},A.id)})})})]}),r.jsx("div",{className:"lg:col-span-2",children:e?r.jsxs(Y,{className:"flex h-full flex-col border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:[r.jsx(xe,{className:"border-b border-gray-700",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:e.title}),r.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(cy,{className:"h-4 w-4"}),e.organizationName]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ta,{className:"h-4 w-4"}),e.clientEmail]}),e.clientPhone&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(dt,{className:"h-4 w-4"}),e.clientPhone]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Qe,{value:e.status,onValueChange:A=>{v(E=>E.map(R=>R.id===e.id?{...R,status:A}:R))},children:[r.jsx(Je,{className:"w-32 border-gray-600 bg-gray-700",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"open",children:"Open"}),r.jsx(ae,{value:"in-progress",children:"In Progress"}),r.jsx(ae,{value:"waiting",children:"Waiting"}),r.jsx(ae,{value:"resolved",children:"Resolved"}),r.jsx(ae,{value:"closed",children:"Closed"})]})]}),r.jsx(K,{variant:"ghost",size:"sm",children:r.jsx(Xf,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{className:_(e.priority),children:[e.priority," priority"]}),r.jsx(ke,{className:"border-gray-500 bg-gray-600/50 text-gray-300",children:e.category}),e.assignedTo&&r.jsxs(ke,{className:"border-emerald-500/30 bg-emerald-500/20 text-emerald-400",children:["Assigned to ",e.assignedTo]})]})]})}),r.jsx(tx,{className:"flex-1 p-6",children:r.jsxs("div",{className:"space-y-4",children:[e.messages.map(A=>r.jsx("div",{className:`flex ${A.authorType==="support"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${A.authorType==="support"?"border border-emerald-600/30 bg-gradient-to-r from-emerald-600/20 to-blue-600/20":A.authorType==="ai-bot"?"border border-blue-600/30 bg-blue-600/20":(A.authorType==="system","border border-gray-600 bg-gray-700/50")}`,children:[r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[A.authorType==="ai-bot"&&r.jsx(pd,{className:"h-4 w-4 text-blue-400"}),A.authorType==="client"&&r.jsx(Xr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium text-white",children:A.author}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(A.timestamp).toLocaleTimeString()})]}),r.jsx("p",{className:"whitespace-pre-wrap text-sm text-gray-200",children:A.message})]})},A.id)),r.jsx("div",{ref:g})]})}),r.jsx("div",{className:"border-t border-gray-700 p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ha,{placeholder:"Type your response...",value:d,onChange:A=>u(A.target.value),className:"resize-none border-gray-600 bg-gray-700 text-white",rows:3,onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),N())}}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(K,{size:"sm",variant:"outline",className:"border-gray-600",children:r.jsx(fY,{className:"h-4 w-4"})}),r.jsx(K,{onClick:N,disabled:!d.trim(),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:r.jsx(Zl,{className:"h-4 w-4"})})]})]})})]}):r.jsx(Y,{className:"flex h-full items-center justify-center border-gray-700 bg-gray-800/50 backdrop-blur-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx(so,{className:"mx-auto mb-4 h-16 w-16 text-gray-600"}),r.jsx("h3",{className:"mb-2 text-xl font-semibold text-white",children:"Select a Ticket"}),r.jsx("p",{className:"text-gray-400",children:"Choose a support ticket from the inbox to view details"})]})})})]})]})})}function v_e(){const[e,t]=p.useState(30),[s,a]=p.useState(!0);return p.useEffect(()=>{const n=async()=>{await new Promise(i=>setTimeout(i,500))};if(n(),s){const i=setInterval(n,e*1e3);return()=>clearInterval(i)}},[e,s]),r.jsx("div",{className:"min-h-screen bg-black",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"System Health"}),r.jsx("p",{className:"mt-1 text-gray-400",children:"Monitor system status and performance metrics"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(K,{variant:"outline",className:"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800",children:[r.jsx(Vo,{className:"mr-2 h-4 w-4"}),"Alerts"]}),r.jsxs(K,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 text-white hover:from-emerald-700 hover:to-blue-700",children:[r.jsx(ls,{className:"mr-2 h-4 w-4"}),"Configure"]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center gap-2 text-white",children:[r.jsx(ya,{className:"h-5 w-5 text-emerald-400"}),"Platform Status"]})}),r.jsxs(J,{children:[r.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),r.jsx("span",{className:"font-medium text-emerald-400",children:"All Systems Operational"})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"99.9%"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Uptime"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"12ms"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Response Time"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Active Issues"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"47"}),r.jsx("div",{className:"text-sm text-gray-400",children:"Services"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"API Gateway"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"99.99%"}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),r.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Database"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"99.95%"}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Uptime"}),r.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-sm text-emerald-400",children:"Operational"})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Avg Response Time"})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:"45ms"}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Last 24 hours"}),r.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[r.jsx(xs,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Stable"})]})]})]})]})]})})}const VR="/api";function b_e(){const[e,t]=p.useState([]),[s,a]=p.useState(!0),[n,i]=p.useState(!1),[o,l]=p.useState(!1),{toast:d}=Ur(),[u,h]=p.useState({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});p.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await fetch(`${VR}/team/members`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`}});if(v.ok){const b=await v.json();t(b.members||[])}}catch(v){console.error("Error fetching team:",v)}finally{a(!1)}},g=async()=>{l(!0);try{const v=await fetch(`${VR}/team/members`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||"mock-dev-token"}`},body:JSON.stringify(u)}),b=await v.json();if(v.ok)d({title:"Team Member Added",description:`Invitation sent to ${u.email} successfully.`}),i(!1),f(),h({email:"",firstName:"",lastName:"",role:"support_agent",permissions:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}});else throw new Error(b.error||"Failed to add team member")}catch(v){console.error("Error adding team member:",v),d({title:"Error",description:v.message||"Failed to add team member. Please try again.",variant:"destructive"})}finally{l(!1)}},y=(v,b)=>{h(N=>({...N,permissions:{...N.permissions,[v]:b}}))},w={support_admin:{canAccessAllOrganizations:!0,canManageClients:!0,canViewClientData:!0,canManageTeam:!0},support_agent:{canAccessAllOrganizations:!0,canManageClients:!1,canViewClientData:!0,canManageTeam:!1}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:r.jsxs("div",{className:"w-full space-y-6 px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"mb-8",children:r.jsx("p",{className:"text-gray-400",children:"Manage your support team members and their permissions"})}),r.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Total Members"}),r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.length}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Active staff"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Support Admins"}),r.jsx(ya,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(v=>v.role==="support_admin").length}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Full access"})]})]}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(ye,{className:"text-sm font-medium text-gray-400",children:"Pending Verification"}),r.jsx(ta,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:e.filter(v=>v.verificationRequired).length}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Awaiting setup"})]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs(K,{onClick:()=>i(!0),className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700",children:[r.jsx(Qf,{className:"mr-2 h-4 w-4"}),"Add Team Member"]})}),r.jsxs(Y,{className:"border-gray-700 bg-gray-800/50",children:[r.jsxs(xe,{children:[r.jsx(ye,{className:"text-white",children:"Support Team Members"}),r.jsx(wt,{className:"text-gray-400",children:"Manage your support team members who can access client organizations"})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[e.map(v=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900/50 p-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-emerald-600 to-blue-600 font-semibold text-white",children:[v.firstName[0],v.lastName[0]]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h4",{className:"font-medium text-white",children:[v.firstName," ",v.lastName]}),r.jsx(ke,{variant:v.role==="support_admin"?"default":"secondary",children:v.role==="support_admin"?"Support Admin":"Support Agent"}),v.verificationRequired&&r.jsxs(ke,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:[r.jsx(Dt,{className:"mr-1 h-3 w-3"}),"Pending Verification"]})]}),r.jsx("p",{className:"text-sm text-gray-400",children:v.email})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex gap-2",children:[v.permissions.canAccessAllOrganizations&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[r.jsx(Tr,{className:"h-3 w-3"}),r.jsx("span",{children:"View All"})]}),v.permissions.canManageClients&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[r.jsx(tr,{className:"h-3 w-3"}),r.jsx("span",{children:"Manage"})]}),v.permissions.canManageTeam&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[r.jsx(ls,{className:"h-3 w-3"}),r.jsx("span",{children:"Admin"})]})]}),r.jsx("div",{className:"text-right",children:v.isActive?r.jsxs(ke,{className:"bg-green-600",children:[r.jsx(yt,{className:"mr-1 h-3 w-3"}),"Active"]}):r.jsx(ke,{variant:"secondary",children:"Inactive"})})]})]},v.id)),e.length===0&&!s&&r.jsxs("div",{className:"py-8 text-center text-gray-400",children:[r.jsx(Ot,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),r.jsx("p",{children:"No team members yet"})]})]})})]}),r.jsx(sl,{open:n,onOpenChange:i,children:r.jsxs(co,{className:"max-w-2xl border-gray-800 bg-gray-900 text-white",children:[r.jsxs(uo,{children:[r.jsx(mo,{children:"Add Team Member"}),r.jsx(al,{className:"text-gray-400",children:"Add a new member to your support team with custom permissions"})]}),r.jsxs("div",{className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{children:"First Name"}),r.jsx(Ae,{value:u.firstName,onChange:v=>h({...u,firstName:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"John"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{children:"Last Name"}),r.jsx(Ae,{value:u.lastName,onChange:v=>h({...u,lastName:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"Doe"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{children:"Email Address"}),r.jsx(Ae,{type:"email",value:u.email,onChange:v=>h({...u,email:v.target.value}),className:"border-gray-700 bg-gray-800",placeholder:"john@example.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{children:"Role"}),r.jsxs(Qe,{value:u.role,onValueChange:v=>{h({...u,role:v,permissions:w[v]})},children:[r.jsx(Je,{className:"border-gray-700 bg-gray-800",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"support_admin",children:"Support Admin"}),r.jsx(ae,{value:"support_agent",children:"Support Agent"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ee,{children:"Permissions"}),r.jsxs("div",{className:"space-y-3 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:"Access all client organizations"})]}),r.jsx(ad,{checked:u.permissions.canAccessAllOrganizations,onCheckedChange:v=>y("canAccessAllOrganizations",v)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:"Manage client organizations"})]}),r.jsx(ad,{checked:u.permissions.canManageClients,onCheckedChange:v=>y("canManageClients",v)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:"View client data"})]}),r.jsx(ad,{checked:u.permissions.canViewClientData,onCheckedChange:v=>y("canViewClientData",v)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:"Manage team members"})]}),r.jsx(ad,{checked:u.permissions.canManageTeam,onCheckedChange:v=>y("canManageTeam",v)})]})]})]}),r.jsx("div",{className:"rounded-lg border border-blue-800 bg-blue-900/20 p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ta,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-400"}),r.jsxs("div",{className:"text-sm text-gray-300",children:[r.jsx("p",{className:"mb-1 font-medium text-blue-400",children:"Email Verification Required"}),r.jsx("p",{children:"The new team member will receive an email invitation to verify their account and set up their password."})]})]})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(K,{variant:"outline",onClick:()=>i(!1),className:"border-gray-700",children:"Cancel"}),r.jsx(K,{onClick:g,disabled:!u.email||!u.firstName||!u.lastName||o,className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 disabled:opacity-50",children:o?"Sending Invitation...":"Send Invitation"})]})]})]})})]})})}const w_e={agency_owner:"Agency Owner",agency_admin:"Agency Admin",agency_user:"Agency User",platform_admin:"Platform Admin",platform_owner:"Platform Owner",client_admin:"Client Admin",client_user:"Client User"};function j_e(){const[e,t]=p.useState([]),[s,a]=p.useState([]),[n,i]=p.useState(!0),[o,l]=p.useState(""),[d,u]=p.useState("all"),[h,f]=p.useState("all"),[g,y]=p.useState("all"),{getToken:w}=en(),{toast:v}=Ur(),b=async()=>{try{i(!0);const{supabaseService:k}=await pn(async()=>{const{supabaseService:R}=await Promise.resolve().then(()=>Fu);return{supabaseService:R}},void 0);console.log(" Fetching users from Supabase...");const{data:T,error:A}=await k.client.from("users").select("*").order("created_at",{ascending:!1});if(console.log(" Supabase response:",{users:T,error:A}),A)throw console.error(" Supabase error details:",{message:A.message,code:A.code,details:A.details,hint:A.hint}),A;const E=(T||[]).map(R=>({id:R.id,email:R.email,first_name:R.first_name||"",last_name:R.last_name||"",role:R.role||"client_user",is_active:R.is_active!==!1,organization_id:R.organization_id,organization_name:"",last_login:R.last_login,created_at:R.created_at,phone:R.phone||"",avatar_url:R.avatar_url||""}));console.log(" Transformed users:",E.length),t(E);try{const{data:R,error:z}=await k.client.from("organizations").select("*").order("name");if(console.log(" Organizations response:",{orgs:R,orgError:z}),!z&&R){a(R);const B=E.map(O=>{const I=R.find(F=>F.id===O.organization_id);return{...O,organization_name:(I==null?void 0:I.name)||""}});t(B)}}catch(R){console.warn(" Failed to fetch organizations:",R)}}catch(k){console.error(" Error fetching users from Supabase:",k),v({title:"Error",description:"Failed to load users from database. Check console for details.",variant:"destructive"}),t([])}finally{i(!1)}};p.useEffect(()=>{b()},[]);const N=async(k,T)=>{try{const{supabaseService:A}=await pn(async()=>{const{supabaseService:R}=await Promise.resolve().then(()=>Fu);return{supabaseService:R}},void 0),{error:E}=await A.client.from("users").update(T).eq("id",k);if(E)throw E;await b(),v({title:"Success",description:"User updated successfully"})}catch(A){throw console.error(" Error updating user:",A),v({title:"Error",description:A.message||"Failed to update user. Please try again.",variant:"destructive"}),A}},S=async k=>{try{const{supabaseService:T}=await pn(async()=>{const{supabaseService:E}=await Promise.resolve().then(()=>Fu);return{supabaseService:E}},void 0),{error:A}=await T.client.from("users").delete().eq("id",k);if(A)throw A;await b(),v({title:"Success",description:"User deleted successfully"})}catch(T){console.error(" Error deleting user:",T),v({title:"Error",description:T.message||"Failed to delete user. Please try again.",variant:"destructive"})}},_=e.filter(k=>{var z,B,O,I;const T=(((z=k.first_name)==null?void 0:z.toLowerCase())||"").includes(o.toLowerCase())||(((B=k.last_name)==null?void 0:B.toLowerCase())||"").includes(o.toLowerCase())||(((O=k.email)==null?void 0:O.toLowerCase())||"").includes(o.toLowerCase())||(((I=k.organization_name)==null?void 0:I.toLowerCase())||"").includes(o.toLowerCase()),A=d==="all"||k.role===d,E=h==="all"||h==="active"&&k.is_active||h==="inactive"&&!k.is_active,R=g==="all"||k.organization_id===g;return T&&A&&E&&R});return n?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"})}),r.jsx("div",{className:"flex h-64 items-center justify-center",children:r.jsx("div",{className:"text-zinc-400",children:"Loading users..."})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),r.jsx("p",{className:"mt-1 text-zinc-400",children:"Manage users and their permissions across your organization"})]}),r.jsxs(K,{onClick:()=>{},className:"bg-emerald-600 hover:bg-emerald-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),r.jsx(Ot,{className:"h-8 w-8 text-emerald-500"})]})})}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Active Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(k=>k.is_active).length})]}),r.jsx(Gu,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Organizations"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),r.jsx(tr,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-zinc-400",children:"Admin Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.filter(k=>k.role&&(k.role.includes("admin")||k.role.includes("owner"))).length})]}),r.jsx(ya,{className:"h-8 w-8 text-purple-500"})]})})})]}),r.jsx(Y,{className:"border-zinc-800 bg-zinc-900",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx($a,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-zinc-400"}),r.jsx(Ae,{placeholder:"Search users...",value:o,onChange:k=>l(k.target.value),className:"border-zinc-700 bg-zinc-800 pl-10 text-white"})]})}),r.jsxs(Qe,{value:d,onValueChange:u,children:[r.jsx(Je,{className:"w-40 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{placeholder:"Role"})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"all",children:"All Roles"}),r.jsx(ae,{value:"platform_owner",children:"Platform Owner"}),r.jsx(ae,{value:"platform_admin",children:"Platform Admin"}),r.jsx(ae,{value:"agency_owner",children:"Agency Owner"}),r.jsx(ae,{value:"agency_admin",children:"Agency Admin"}),r.jsx(ae,{value:"agency_user",children:"Agency User"})]})]}),r.jsxs(Qe,{value:h,onValueChange:f,children:[r.jsx(Je,{className:"w-32 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{placeholder:"Status"})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"all",children:"All Status"}),r.jsx(ae,{value:"active",children:"Active"}),r.jsx(ae,{value:"inactive",children:"Inactive"})]})]}),r.jsxs(Qe,{value:g,onValueChange:y,children:[r.jsx(Je,{className:"w-48 border-zinc-700 bg-zinc-800 text-white",children:r.jsx(et,{placeholder:"Organization"})}),r.jsxs(Xe,{className:"border-zinc-700 bg-zinc-800",children:[r.jsx(ae,{value:"all",children:"All Organizations"}),s.map(k=>r.jsx(ae,{value:k.id,children:k.name},k.id))]})]})]})})}),r.jsxs(Y,{className:"border-zinc-800 bg-zinc-900",children:[r.jsxs(xe,{children:[r.jsxs(ye,{className:"text-white",children:["Users (",_.length,")"]}),r.jsx(wt,{className:"text-zinc-400",children:"Manage user accounts and permissions"})]}),r.jsx(J,{children:_.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Ot,{className:"mx-auto mb-4 h-12 w-12 text-zinc-600"}),r.jsx("p",{className:"text-zinc-400",children:"No users found"}),r.jsx("p",{className:"text-sm text-zinc-500",children:"Try adjusting your search criteria"})]}):r.jsx("div",{className:"space-y-3",children:_.map(k=>{var T,A;return r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800 p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-600",children:r.jsxs("span",{className:"font-medium text-white",children:[(((T=k.first_name)==null?void 0:T[0])||"").toUpperCase(),(((A=k.last_name)==null?void 0:A[0])||"").toUpperCase()]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("p",{className:"font-medium text-white",children:[k.first_name||""," ",k.last_name||""]}),r.jsx(ke,{className:`${k.is_active?"bg-green-500":"bg-gray-500"} text-white`,children:k.is_active?"Active":"Inactive"}),r.jsx(ke,{variant:"outline",className:"border-zinc-600 text-zinc-300",children:w_e[k.role]||k.role})]}),r.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-zinc-400",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(ta,{className:"mr-1 h-3 w-3"}),k.email]}),k.organization_name&&r.jsxs("span",{className:"flex items-center",children:[r.jsx(tr,{className:"mr-1 h-3 w-3"}),k.organization_name]}),k.phone&&r.jsxs("span",{className:"flex items-center",children:[r.jsx(dt,{className:"mr-1 h-3 w-3"}),k.phone]})]})]})]}),r.jsxs(Pi,{children:[r.jsx(Ei,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"text-zinc-400 hover:text-white",children:r.jsx(uy,{className:"h-4 w-4"})})}),r.jsxs(Jn,{align:"end",className:"border-zinc-700 bg-zinc-800",children:[r.jsxs(Yt,{onClick:()=>{},className:"text-zinc-300 hover:text-white",children:[r.jsx(ec,{className:"mr-2 h-4 w-4"}),"Edit User"]}),r.jsx(Yt,{onClick:()=>N(k.id,{is_active:!k.is_active}),className:"text-zinc-300 hover:text-white",children:k.is_active?r.jsxs(r.Fragment,{children:[r.jsx(NY,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):r.jsxs(r.Fragment,{children:[r.jsx(Gu,{className:"mr-2 h-4 w-4"}),"Activate"]})}),r.jsxs(Yt,{onClick:()=>S(k.id),className:"text-red-400 hover:text-red-300",children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})]},k.id)})})})]})]})}var zB=["PageUp","PageDown"],FB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UB={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Lm="Slider",[F_,N_e,__e]=qf(Lm),[BB,y8e]=Bs(Lm,[__e]),[S_e,Tv]=BB(Lm),WB=p.forwardRef((e,t)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[a],value:h,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:w,...v}=e,b=p.useRef(new Set),N=p.useRef(0),_=o==="horizontal"?C_e:k_e,[k=[],T]=Ni({prop:h,defaultProp:u,onChange:O=>{var F;(F=[...b.current][N.current])==null||F.focus(),f(O)}}),A=p.useRef(k);function E(O){const I=O_e(k,O);B(O,I)}function R(O){B(O,N.current)}function z(){const O=A.current[N.current];k[N.current]!==O&&g(k)}function B(O,I,{commit:F}={commit:!1}){const V=D_e(i),W=$_e(Math.round((O-a)/i)*i+a,V),X=wf(W,[a,n]);T((D=[])=>{const U=E_e(D,X,I);if(I_e(U,d*i)){N.current=U.indexOf(X);const H=String(U)!==String(D);return H&&F&&g(U),H?U:D}else return D})}return r.jsx(S_e,{scope:e.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:N,thumbs:b.current,values:k,orientation:o,form:w,children:r.jsx(F_.Provider,{scope:e.__scopeSlider,children:r.jsx(F_.Slot,{scope:e.__scopeSlider,children:r.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:t,onPointerDown:ze(v.onPointerDown,()=>{l||(A.current=k)}),min:a,max:n,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:z,onHomeKeyDown:()=>!l&&B(a,0,{commit:!0}),onEndKeyDown:()=>!l&&B(n,k.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:I})=>{if(!l){const W=zB.includes(O.key)||O.shiftKey&&FB.includes(O.key)?10:1,X=N.current,D=k[X],U=i*W*I;B(D+U,X,{commit:!0})}}})})})})});WB.displayName=Lm;var[VB,qB]=BB(Lm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),C_e=p.forwardRef((e,t)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...h}=e,[f,g]=p.useState(null),y=ht(t,_=>g(_)),w=p.useRef(void 0),v=Rd(n),b=v==="ltr",N=b&&!i||!b&&i;function S(_){const k=w.current||f.getBoundingClientRect(),T=[0,k.width],E=Q2(T,N?[s,a]:[a,s]);return w.current=k,E(_-k.left)}return r.jsx(VB,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:r.jsx(HB,{dir:v,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const k=S(_.clientX);o==null||o(k)},onSlideMove:_=>{const k=S(_.clientX);l==null||l(k)},onSlideEnd:()=>{w.current=void 0,d==null||d()},onStepKeyDown:_=>{const T=UB[N?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:T?-1:1})}})})}),k_e=p.forwardRef((e,t)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...u}=e,h=p.useRef(null),f=ht(t,h),g=p.useRef(void 0),y=!n;function w(v){const b=g.current||h.current.getBoundingClientRect(),N=[0,b.height],_=Q2(N,y?[a,s]:[s,a]);return g.current=b,_(v-b.top)}return r.jsx(VB,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:r.jsx(HB,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=w(v.clientY);i==null||i(b)},onSlideMove:v=>{const b=w(v.clientY);o==null||o(b)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:v=>{const N=UB[y?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:N?-1:1})}})})}),HB=p.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...u}=e,h=Tv(Lm,s);return r.jsx(qe.span,{...u,ref:t,onKeyDown:ze(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):zB.concat(FB).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:ze(e.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(g)?g.focus():a(f)}),onPointerMove:ze(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&n(f)}),onPointerUp:ze(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),KB="SliderTrack",GB=p.forwardRef((e,t)=>{const{__scopeSlider:s,...a}=e,n=Tv(KB,s);return r.jsx(qe.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:t})});GB.displayName=KB;var U_="SliderRange",YB=p.forwardRef((e,t)=>{const{__scopeSlider:s,...a}=e,n=Tv(U_,s),i=qB(U_,s),o=p.useRef(null),l=ht(t,o),d=n.values.length,u=n.values.map(g=>ZB(g,n.min,n.max)),h=d>1?Math.min(...u):0,f=100-Math.max(...u);return r.jsx(qe.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});YB.displayName=U_;var B_="SliderThumb",JB=p.forwardRef((e,t)=>{const s=N_e(e.__scopeSlider),[a,n]=p.useState(null),i=ht(t,l=>n(l)),o=p.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return r.jsx(A_e,{...e,ref:i,index:o})}),A_e=p.forwardRef((e,t)=>{const{__scopeSlider:s,index:a,name:n,...i}=e,o=Tv(B_,s),l=qB(B_,s),[d,u]=p.useState(null),h=ht(t,S=>u(S)),f=d?o.form||!!d.closest("form"):!0,g=ap(d),y=o.values[a],w=y===void 0?0:ZB(y,o.min,o.max),v=T_e(a,o.values.length),b=g==null?void 0:g[l.size],N=b?R_e(b,w,l.direction):0;return p.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${N}px)`},children:[r.jsx(F_.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(qe.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:y===void 0?{display:"none"}:e.style,onFocus:ze(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),f&&r.jsx(XB,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},a)]})});JB.displayName=B_;var P_e="RadioBubbleInput",XB=p.forwardRef(({__scopeSlider:e,value:t,...s},a)=>{const n=p.useRef(null),i=ht(n,a),o=hp(t);return p.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[o,t]),r.jsx(qe.input,{style:{display:"none"},...s,ref:i,defaultValue:t})});XB.displayName=P_e;function E_e(e=[],t,s){const a=[...e];return a[s]=t,a.sort((n,i)=>n-i)}function ZB(e,t,s){const i=100/(s-t)*(e-t);return wf(i,[0,100])}function T_e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function O_e(e,t){if(e.length===1)return 0;const s=e.map(n=>Math.abs(n-t)),a=Math.min(...s);return s.indexOf(a)}function R_e(e,t,s){const a=e/2,i=Q2([0,50],[0,a]);return(a-i(t)*s)*s}function M_e(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}function I_e(e,t){if(t>0){const s=M_e(e);return Math.min(...s)>=t}return!0}function Q2(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function D_e(e){return(String(e).split(".")[1]||"").length}function $_e(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}var QB=WB,L_e=GB,z_e=YB,F_e=JB;const Un=p.forwardRef(({className:e,...t},s)=>r.jsxs(QB,{ref:s,className:De("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(L_e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-700",children:r.jsx(z_e,{className:"absolute h-full bg-emerald-500"})}),r.jsx(F_e,{className:"block h-5 w-5 rounded-full border-2 border-emerald-500 bg-white shadow-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 disabled:pointer-events-none disabled:opacity-50 hover:bg-emerald-50"})]}));Un.displayName=QB.displayName;const e9=({campaignId:e,teamMembers:t=[],invitations:s=[],onAddMember:a,onRemoveMember:n,onUpdateRole:i,onResendInvitation:o,onCancelInvitation:l,isEditable:d=!0})=>{const[u,h]=p.useState(""),[f,g]=p.useState("agent"),[y,w]=p.useState("campaign_leads"),[v,b]=p.useState(!1),{toast:N}=Ur(),S=async()=>{if(!u.trim()){N({title:"Error",description:"Please enter an email address",variant:"destructive"});return}if(t.some(I=>I.email===u)||s.some(I=>I.email===u&&I.status==="pending")){N({title:"Error",description:"This email is already a team member or has a pending invitation",variant:"destructive"});return}b(!0);try{await a(u,f),h(""),g("member"),N({title:"Invitation Sent",description:`Team invitation sent to ${u}`})}catch{N({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{b(!1)}},_=async(O,I)=>{try{await n(O),N({title:"Member Removed",description:`${I} has been removed from the campaign`})}catch{N({title:"Error",description:"Failed to remove team member",variant:"destructive"})}},k=async(O,I)=>{try{await i(O,I),N({title:"Role Updated",description:"Team member role has been updated"})}catch{N({title:"Error",description:"Failed to update role",variant:"destructive"})}},T=O=>{switch(O){case"owner":return r.jsx(Jf,{className:"h-4 w-4 text-yellow-500"});case"manager":return r.jsx(ya,{className:"h-4 w-4 text-blue-500"});case"agent":return r.jsx(Ot,{className:"h-4 w-4 text-emerald-500"});case"viewer":return r.jsx(Tr,{className:"h-4 w-4 text-gray-500"});default:return r.jsx(Ot,{className:"h-4 w-4 text-gray-500"})}},A=O=>{switch(O){case"owner":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"agent":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"viewer":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},E=O=>{switch(O){case"active":return r.jsx(yt,{className:"h-4 w-4 text-emerald-500"});case"pending":return r.jsx(Ft,{className:"h-4 w-4 text-yellow-500"});case"declined":return r.jsx(_i,{className:"h-4 w-4 text-red-500"});case"expired":return r.jsx(Dt,{className:"h-4 w-4 text-gray-500"});default:return r.jsx(Ft,{className:"h-4 w-4 text-gray-500"})}},R=O=>{const I=`${window.location.origin}/invite/${O}`;navigator.clipboard.writeText(I),N({title:"Link Copied",description:"Invitation link copied to clipboard"})},z=O=>{switch(O){case"all_leads":return"Access to all CRM leads";case"campaign_leads":return"Access to campaign leads only";case"assigned_leads":return"Access to assigned leads only";case"no_access":return"No CRM access";default:return"Campaign leads only"}},B=O=>{switch(O){case"all_leads":return"text-red-400";case"campaign_leads":return"text-blue-400";case"assigned_leads":return"text-emerald-400";case"no_access":return"text-gray-400";default:return"text-blue-400"}};return r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"flex items-center text-white",children:[r.jsx(Ot,{className:"mr-2 h-5 w-5"}),"Team Members",r.jsxs(ke,{variant:"outline",className:"ml-2 border-gray-600 text-gray-400",children:[t.length," members"]})]})}),r.jsxs(J,{className:"space-y-6",children:[d&&r.jsxs("div",{className:"space-y-4 rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[r.jsxs("h4",{className:"flex items-center text-sm font-medium text-white",children:[r.jsx(Qf,{className:"mr-2 h-4 w-4"}),"Invite Team Member"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Ae,{placeholder:"Enter email address",type:"email",value:u,onChange:O=>h(O.target.value),className:"border-gray-600 bg-gray-800 text-white",onKeyDown:O=>{O.key==="Enter"&&S()}})}),r.jsxs(Qe,{value:f,onValueChange:g,children:[r.jsx(Je,{className:"w-28 border-gray-600 bg-gray-800 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"manager",children:"Manager"}),r.jsx(ae,{value:"agent",children:"Agent"}),r.jsx(ae,{value:"viewer",children:"Viewer"})]})]}),r.jsxs(Qe,{value:y,onValueChange:w,children:[r.jsx(Je,{className:"w-40 border-gray-600 bg-gray-800 text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"all_leads",children:"All CRM Leads"}),r.jsx(ae,{value:"campaign_leads",children:"Campaign Leads"}),r.jsx(ae,{value:"assigned_leads",children:"Assigned Only"}),r.jsx(ae,{value:"no_access",children:"No CRM Access"})]})]}),r.jsx(K,{onClick:S,disabled:v||!u.trim(),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:v?r.jsx(Ft,{className:"h-4 w-4 animate-spin"}):r.jsx(Zl,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:`text-xs ${B(y)} ml-2`,children:[" ",z(y)]})]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[" ",r.jsx("strong",{children:"Role & CRM Permissions:"}),r.jsxs("ul",{className:"mt-1 ml-4 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Manager:"})," Full campaign control + team management + CRM access"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Agent:"})," Campaign execution + lead management + CRM read/write"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Viewer:"})," Read-only campaign + limited CRM viewing"]})]}),r.jsxs("p",{className:"mt-2 text-xs text-blue-400",children:[" ",r.jsx("strong",{children:"CRM Access Levels:"})," All Leads (full CRM) | Campaign Leads (campaign-specific) | Assigned Only (individual leads) | No Access"]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Current Members"}),t.length===0?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(Ot,{className:"mx-auto mb-3 h-12 w-12 text-gray-600"}),r.jsx("p",{className:"text-gray-400",children:"No team members yet"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Invite team members to collaborate on this campaign"})]}):r.jsx("div",{className:"space-y-2",children:t.map(O=>{var I;return r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-800/30 p-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(yd,{className:"h-8 w-8",children:[r.jsx(Qu,{src:O.avatarUrl,alt:O.email}),r.jsx(vd,{className:"bg-gray-700 text-gray-300",children:((I=O.firstName)==null?void 0:I[0])||O.email[0].toUpperCase()})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:O.firstName&&O.lastName?`${O.firstName} ${O.lastName}`:O.email}),E(O.status)]}),r.jsx("p",{className:"text-xs text-gray-400",children:O.email}),r.jsxs("p",{className:`text-xs ${B(O.crmAccessLevel||"campaign_leads")}`,children:[" ",z(O.crmAccessLevel||"campaign_leads")]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ke,{variant:"outline",className:A(O.role),children:[T(O.role),r.jsx("span",{className:"ml-1 capitalize",children:O.role})]}),d&&O.role!=="owner"&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs(Qe,{value:O.role,onValueChange:F=>k(O.id,F),children:[r.jsx(Je,{className:"h-8 w-24 border-gray-600 bg-gray-800 text-xs text-white",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"border-gray-700 bg-gray-800",children:[r.jsx(ae,{value:"manager",children:"Manager"}),r.jsx(ae,{value:"agent",children:"Agent"}),r.jsx(ae,{value:"viewer",children:"Viewer"})]})]}),r.jsxs(Df,{children:[r.jsx(z_,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",children:r.jsx(Us,{className:"h-3 w-3"})})}),r.jsxs(om,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(lm,{children:[r.jsx(dm,{className:"text-white",children:"Remove Team Member"}),r.jsxs(um,{className:"text-gray-400",children:["Are you sure you want to remove ",O.email," from this campaign? They will lose access immediately."]})]}),r.jsxs(cm,{children:[r.jsx(hm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancel"}),r.jsx(mm,{onClick:()=>_(O.id,O.email),className:"bg-red-600 text-white hover:bg-red-700",children:"Remove"})]})]})]})]})]})]},O.id)})})]}),s.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Pending Invitations"}),r.jsx("div",{className:"space-y-2",children:s.map(O=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-yellow-500/5 p-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ta,{className:"h-5 w-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:O.email}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Invited ",new Date(O.createdAt).toLocaleDateString()," "," ","Expires ",new Date(O.expiresAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ke,{variant:"outline",className:A(O.role),children:[T(O.role),r.jsx("span",{className:"ml-1 capitalize",children:O.role})]}),r.jsxs(ke,{variant:"outline",className:"border-yellow-500/30 text-yellow-400",children:[E(O.status),r.jsx("span",{className:"ml-1 capitalize",children:O.status})]}),d&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>R(O.invitationToken),className:"h-8 w-8 p-0 text-gray-400 hover:text-white",title:"Copy invitation link",children:r.jsx(Fn,{className:"h-3 w-3"})}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>o(O.id),className:"h-8 w-8 p-0 text-gray-400 hover:text-emerald-400",title:"Resend invitation",children:r.jsx(Zl,{className:"h-3 w-3"})}),r.jsxs(Df,{children:[r.jsx(z_,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",title:"Cancel invitation",children:r.jsx(Us,{className:"h-3 w-3"})})}),r.jsxs(om,{className:"border-gray-800 bg-gray-900",children:[r.jsxs(lm,{children:[r.jsx(dm,{className:"text-white",children:"Cancel Invitation"}),r.jsxs(um,{className:"text-gray-400",children:["Are you sure you want to cancel the invitation for ",O.email,"?"]})]}),r.jsxs(cm,{children:[r.jsx(hm,{className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Keep Invitation"}),r.jsx(mm,{onClick:()=>l(O.id),className:"bg-red-600 text-white hover:bg-red-700",children:"Cancel Invitation"})]})]})]})]})]})]},O.id))})]}),r.jsx("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/5 p-3",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(ls,{className:"h-4 w-4 text-blue-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-sm font-medium text-blue-400",children:"Team Management"}),r.jsxs("ul",{className:"mt-1 text-xs text-gray-300 space-y-0.5",children:[r.jsx("li",{children:" Only campaign owners and managers can invite team members"}),r.jsx("li",{children:" Team members can collaborate on campaign execution and analytics"}),r.jsx("li",{children:" Invitations expire after 7 days and can be resent"}),e&&r.jsx("li",{children:" Changes take effect immediately for this campaign"})]})]})]})})]})]})};class U_e{constructor(){Ns(this,"baseUrl","/organization-settings")}async getSettings(){return(await _r.get(this.baseUrl)).data}async getSetting(t){return(await _r.get(`${this.baseUrl}/${t}`)).data}async setSetting(t,s,a=!1){await _r.post(`${this.baseUrl}/${t}`,{value:s,encrypted:a})}async deleteSetting(t){await _r.delete(`${this.baseUrl}/${t}`)}async bulkUpdateSettings(t){return(await _r.put(`${this.baseUrl}/bulk`,{settings:t})).data}async getVapiCredentials(){return(await _r.get(`${this.baseUrl}/vapi/credentials`)).data}async setVapiApiKey(t){await this.setSetting("vapi_api_key",t,!0)}async setVapiWebhookSecret(t){await this.setSetting("vapi_webhook_secret",t,!0)}async setVapiPhoneNumbers(t){await this.setSetting("vapi_phone_numbers",t,!1)}async setVapiAssistants(t){await this.setSetting("vapi_assistants",t,!1)}async setMaxConcurrentCalls(t){await this.setSetting("max_concurrent_calls",t,!1)}async setDefaultUserRole(t){await this.setSetting("default_user_role",t,!1)}async setOrganizationName(t){await this.setSetting("organization_name",t,!1)}async setBillingEmail(t){await this.setSetting("billing_email",t,!1)}async setComplianceSettings(t){await this.setSetting("compliance_settings",t,!1)}async getSettingWithFallback(t,s=null){var a;try{return(await this.getSetting(t)).value}catch(n){if(((a=n.response)==null?void 0:a.status)===404)return s;throw n}}async hasCapability(t){try{const s=await this.getSettings();switch(t){case"vapi_integration":return!!s.settings.vapi_api_key;case"webhooks":return!!s.settings.vapi_webhook_secret;case"phone_numbers":return Array.isArray(s.settings.vapi_phone_numbers)&&s.settings.vapi_phone_numbers.length>0;case"assistants":return Array.isArray(s.settings.vapi_assistants)&&s.settings.vapi_assistants.length>0;default:return!1}}catch(s){return console.error(`Error checking capability ${t}:`,s),!1}}async getCampaignDefaults(){const[t,s,a,n]=await Promise.all([this.getSettingWithFallback("max_concurrent_calls",10),this.getSettingWithFallback("default_working_hours",{enabled:!0,timezone:"America/New_York",hours:{monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}}),this.getSettingWithFallback("compliance_settings",{tcpa_enabled:!0,do_not_call_enabled:!0,recording_consent:!0}),this.getVapiCredentials()]);return{maxConcurrentCalls:t,defaultWorkingHours:s,complianceSettings:a,vapiCredentials:n}}async testVapiConnection(){var t,s,a;try{return(await _r.post("/vapi/test-connection")).data}catch(n){return{success:!1,message:((s=(t=n.response)==null?void 0:t.data)==null?void 0:s.message)||"Connection test failed",details:(a=n.response)==null?void 0:a.data}}}async syncVapiResources(){try{const t=await _r.post("/vapi/sync-resources");return t.data.phoneNumbers&&await this.setVapiPhoneNumbers(t.data.phoneNumbers),t.data.assistants&&await this.setVapiAssistants(t.data.assistants),t.data}catch(t){throw console.error("Error syncing VAPI resources:",t),t}}async exportSettings(){return(await this.getSettings()).settings}async importSettings(t,s=!1){const a={};for(const[n,i]of Object.entries(t))n.includes("api_key")||n.includes("secret")||n.includes("password")||(a[n]={value:i,encrypted:!1});await this.bulkUpdateSettings(a)}}const Kx=new U_e,B_e=({campaign:e,onCampaignUpdated:t,onCancel:s})=>{var Di,kt,ar;const[a,n]=p.useState(1),[i,o]=p.useState(e.name||""),[l,d]=p.useState(e.campaignType==="b2b"?"b2b":e.campaignType==="b2c"?"b2c":"manual"),[u,h]=p.useState(e.phoneNumber||""),[f,g]=p.useState(e.assistantName||""),[y,w]=p.useState("later"),[v,b]=p.useState(null),[N,S]=p.useState(!1),[_,k]=p.useState("today"),[T,A]=p.useState("06:32 PM"),[E,R]=p.useState("Europe/Malta (GMT+2)"),[z,B]=p.useState([]),[O,I]=p.useState(5),[F,V]=p.useState(20),[W,X]=p.useState(!0),[D,U]=p.useState(10),[H,M]=p.useState(1),[L,q]=p.useState("smart"),[ue,G]=p.useState(!0),[ge,be]=p.useState("America/New_York"),[Ne,Fe]=p.useState(!0),[le,Se]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[Pe,te]=p.useState(!0),[he,_e]=p.useState([]),[Te,oe]=p.useState(!0),[We,pt]=p.useState(!0),[ce,Ie]=p.useState(30),[tt,vt]=p.useState(["US"]),[pr,us]=p.useState(!0),[Qt,sr]=p.useState(0),[es,xr]=p.useState(!1),[Ge,yr]=p.useState(""),[kr,_a]=p.useState([]),[ur,ms]=p.useState([]),[Kt,tn]=p.useState(!1),[Rt,Lt]=p.useState(2),[ie,je]=p.useState(null),[Ue,ot]=p.useState(.18),[_t,ir]=p.useState(10),[Ct,Sa]=p.useState(null);p.useEffect(()=>{a>1?(xr(!0),a===2?yr("rateLimiting"):a===3?yr("retryLogic"):a===4?yr("workingHours"):a===5?yr("teamManagement"):a===6&&yr("review")):(xr(!1),yr(""))},[a]);const{toast:bs}=Ur();p.useEffect(()=>{Ca()},[]);const Ca=async()=>{try{const Ee=await Kx.getCampaignDefaults();ir(Ee.maxConcurrentCalls),Ee.defaultWorkingHours.enabled&&(G(!0),be(Ee.defaultWorkingHours.timezone),Se(Ee.defaultWorkingHours.hours)),bs({title:"Organization Settings Loaded",description:"Campaign defaults loaded from organization settings"})}catch(Ee){console.error("Error loading organization defaults:",Ee)}};p.useEffect(()=>{a===6&&z.length>0&&sa()},[a,z.length,Rt,ie,Ue,_t]);const sa=()=>{const Ee=z.length,it=L==="basic"?2:L==="smart"?3:5,ft=ue?8:24,Et=Ee*(1+it),Mt=Et*Rt,Hs=Et*Rt/_t*1.1/60/ft,Kr=Mt*Ue;let Ua="healthy",Nn=0;ie!==null&&(ie<Kr*.5?(Ua="critical",Nn=Math.ceil((Kr*1.2-ie)/10)*10):ie<Kr&&(Ua="warning",Nn=Math.ceil((Kr*1.2-ie)/10)*10)),Sa({totalAttempts:Et,totalMinutes:Math.round(Mt),totalCost:Math.round(Kr*100)/100,campaignDays:Math.round(Hs*10)/10,recommendedTopUp:Nn,balanceStatus:Ua})},ts={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting Apex's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** Apex API Limits**
-  Apex may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check Apex account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Vapi hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Vapi plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Vapi dashboard
      `}},hs=Ee=>{yr(Ee),xr(!0)},Ts=()=>{const Ee=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,it=new Blob([Ee],{type:"text/csv"}),ft=window.URL.createObjectURL(it),Et=document.createElement("a");Et.href=ft,Et.download="campaign-template.csv",document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),window.URL.revokeObjectURL(ft)},za=Ee=>{var ft;const it=(ft=Ee.target.files)==null?void 0:ft[0];if(it&&it.type==="text/csv"){b(it);const Et=new FileReader;Et.onload=Mt=>{var Nn,ul;const Hs=((Nn=Mt.target)==null?void 0:Nn.result).split(`
`),Kr=((ul=Hs[0])==null?void 0:ul.split(",").map(nr=>nr.trim()))||[],Ua=Hs.slice(1).filter(nr=>nr.trim()).map(nr=>{const bo=nr.split(",").map(Li=>Li.trim()),Os={};return Kr.forEach((Li,zi)=>{Os[Li]=bo[zi]||""}),Os});B(Ua)},Et.readAsText(it)}else bs({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},qs=()=>{if(a===1){if(!i||!u||!f||!v){bs({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}n(2)}else a===2?n(3):a===3?n(4):a===4?n(5):a===5&&n(6)},Fa=()=>{a===6?n(5):a===5?n(4):a===4?n(3):a===3?n(2):a===2?n(1):s()},ka=async()=>{S(!0);try{const Ee=await Kx.getCampaignDefaults(),ft=[{id:(userContext==null?void 0:userContext.id)||"current-user",email:(userContext==null?void 0:userContext.email)||"",role:"owner",status:"active",firstName:userContext==null?void 0:userContext.firstName,lastName:userContext==null?void 0:userContext.lastName,joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...kr],Et={name:i,assistantId:f,phoneNumberId:u,settings:{callsPerHour:W?F:60,callsPerMinute:W?O:10,retryAttempts:2,timeZone:ge,workingHours:{enabled:ue,start:"09:00",end:"17:00",defaultTimezone:ge,useContactTimezone:Ne,schedule:le,excludeHolidays:Pe,customHolidays:he,respectDST:Te},rateLimiting:{enabled:W,callsPerMinute:O,callsPerHour:F,customConcurrency:_t,delayBetweenCalls:H},retryStrategy:L},teamManagement:{enabled:Kt||ft.length>1,members:ft,invitations:ur},organizationSettings:{vapiCredentials:Ee.vapiCredentials,maxConcurrentCalls:Ee.maxConcurrentCalls,complianceSettings:Ee.complianceSettings}},Mt=await df.createCampaign(Et);v&&await df.uploadLeads(Mt.id,v),y==="now"&&await df.startCampaign(Mt.id),bs({title:"Campaign updated",description:`Campaign "${i}" has been updated successfully!`});const $i={...Mt,name:i,assistantName:f,phoneNumber:u,campaignType:l,settings:{...Mt.settings,callsPerHour:W?F:60,callsPerMinute:W?O:10,retryAttempts:2,timeZone:ge,workingHours:{enabled:ue,start:"09:00",end:"17:00",defaultTimezone:ge,useContactTimezone:Ne,schedule:le,excludeHolidays:Pe,customHolidays:he,respectDST:Te}}};t($i)}catch(Ee){console.error("Error updating campaign:",Ee),bs({title:"Error",description:"Failed to update campaign. Please try again.",variant:"destructive"})}finally{S(!1)}};return r.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:Fa,className:"text-gray-400 hover:text-white",children:r.jsx(cc,{className:"w-5 h-5"})}),r.jsxs("h1",{className:"text-lg font-semibold text-white",children:["Edit campaign ",a===2&&"- Rate Limiting",a===3&&"- Retry Logic",a===4&&"- Working Hours",a===5&&"- Team Management",a===6&&"- Review & Save"]})]}),r.jsx("div",{})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:`${a===1||es?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),r.jsx(Ae,{id:"campaign-name",value:i,onChange:Ee=>o(Ee.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ee,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${l==="manual"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>d("manual"),children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l==="manual"?"border-emerald-500":"border-gray-600"}`,children:l==="manual"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsx(ee,{className:"text-white font-medium",children:"Manual"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),r.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),r.jsx(ee,{className:"text-gray-500 font-medium",children:"Live"}),r.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),r.jsxs(Qe,{value:u,onValueChange:h,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{placeholder:"Select"})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"number1",children:"+1 (555) 123-4567"}),r.jsx(ae,{value:"number2",children:"+1 (555) 987-6543"})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),r.jsx("span",{className:"font-medium",children:"Best Practices"})]}),r.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",r.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Upload CSV"}),r.jsxs(K,{variant:"link",onClick:Ts,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[r.jsx(qo,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),v?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qo,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm",children:v.name})]}),r.jsx("button",{onClick:()=>{b(null),B([])},className:"text-gray-400 hover:text-white",children:r.jsx(At,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[r.jsx("input",{type:"file",accept:".csv",onChange:za,className:"hidden",id:"csv-upload"}),r.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),r.jsxs(Qe,{value:f,onValueChange:g,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{placeholder:"Select"})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"assistant1",children:"Sales Assistant"}),r.jsx(ae,{value:"assistant2",children:"Support Assistant"}),r.jsx(ae,{value:"assistant3",children:"Survey Assistant"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ee,{className:"text-gray-300",children:"Choose when to send"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("now"),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="now"?"border-emerald-500":"border-gray-600"}`,children:y==="now"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsx(ee,{className:"text-white cursor-pointer",children:"Send Now"})]})}),r.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${y==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>w("later"),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y==="later"?"border-emerald-500":"border-gray-600"}`,children:y==="later"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsx(ee,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),y==="later"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(ee,{className:"text-gray-300",children:"Start at:"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{className:"text-gray-500 text-xs",children:"Date"}),r.jsxs(Qe,{value:_,onValueChange:k,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white h-9",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"today",children:"Today"}),r.jsx(ae,{value:"tomorrow",children:"Tomorrow"}),r.jsx(ae,{value:"custom",children:"Custom Date"})]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{className:"text-gray-500 text-xs",children:"Time"}),r.jsx("div",{className:"relative",children:r.jsx(Ae,{type:"text",value:T,onChange:Ee=>A(Ee.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{className:"text-gray-500 text-xs",children:"Timezone"}),r.jsxs(Qe,{value:E,onValueChange:R,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"America/New_York",children:"Eastern (EST)"}),r.jsx(ae,{value:"America/Chicago",children:"Central (CST)"}),r.jsx(ae,{value:"America/Denver",children:"Mountain (MST)"}),r.jsx(ae,{value:"America/Los_Angeles",children:"Pacific (PST)"}),r.jsx(ae,{value:"Europe/London",children:"London (GMT)"}),r.jsx(ae,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),y==="later"&&r.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),r.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",r.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),a===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ks,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:r.jsx(ks,{className:"w-4 h-4 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Enable Rate Limiting"}),r.jsx("button",{onClick:()=>hs("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),r.jsx($r,{checked:W,onCheckedChange:X})]}),W&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Calls Per Minute"}),r.jsx("button",{onClick:()=>hs("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[O," calls/min"]})]}),r.jsx(Un,{value:[O],onValueChange:Ee=>I(Ee[0]),max:20,min:1,step:1,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1 call/min"}),r.jsx("span",{children:"Conservative"}),r.jsx("span",{children:"Aggressive"}),r.jsx("span",{children:"20 calls/min"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Calls Per Hour"}),r.jsx("button",{onClick:()=>hs("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[F," calls/hr"]})]}),r.jsx(Un,{value:[F],onValueChange:Ee=>V(Ee[0]),max:200,min:5,step:5,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"5 calls/hr"}),r.jsx("span",{children:"Standard: 20-60"}),r.jsx("span",{children:"200 calls/hr"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Concurrent Calls Limit"}),r.jsx("button",{onClick:()=>hs("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[D," concurrent"]})]}),r.jsx(Un,{value:[D],onValueChange:Ee=>U(Ee[0]),max:50,min:1,step:1,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1 concurrent"}),r.jsx("span",{children:"Default: 10"}),r.jsx("span",{children:"50 concurrent"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Delay Between Calls"}),r.jsx("button",{onClick:()=>hs("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[H,"s delay"]})]}),r.jsx(Un,{value:[H],onValueChange:Ee=>M(Ee[0]),max:10,min:0,step:.5,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"No delay"}),r.jsx("span",{children:"Recommended: 1-3s"}),r.jsx("span",{children:"10s delay"})]})]}),r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Ia,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),r.jsxs("p",{className:"text-white font-medium",children:[Math.min(O*60,F)," calls"]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-400",children:["With ",z.length," contacts:"]}),r.jsx("p",{className:"text-white font-medium",children:z.length>0?`~${Math.max(1,Math.ceil(z.length/Math.min(O*60,F)))} hours`:"0 hours"})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),r.jsxs("p",{className:"text-blue-300 font-medium",children:[O,"/min"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),r.jsx("p",{className:"text-blue-300 font-medium",children:D})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Delay:"}),r.jsxs("p",{className:"text-blue-300 font-medium",children:[H,"s"]})]})]})})]}),(O>10||D>20)&&r.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ga,{className:"w-4 h-4 text-amber-400"}),r.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),r.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),a===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Sr,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(Sr,{className:"w-4 h-4"}),r.jsx("span",{children:"Smart Retry Settings"}),r.jsx("button",{onClick:()=>hs("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[r.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),r.jsxs(Hl,{value:L,onValueChange:Ee=>q(Ee),className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[r.jsx(Qs,{value:"basic",id:"basic",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(ee,{htmlFor:"basic",className:"text-white font-medium cursor-pointer",children:" Basic (1-2 retries)"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[r.jsx(Qs,{value:"smart",id:"smart",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(ee,{htmlFor:"smart",className:"text-white font-medium cursor-pointer",children:" Smart (3-5 retries)"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors",children:[r.jsx(Qs,{value:"conservative",id:"conservative",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(ee,{htmlFor:"conservative",className:"text-white font-medium cursor-pointer",children:" Conservative (2-3 retries)"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Sr,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),r.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",L==="basic"&&"Basic (1-2 retries)",L==="smart"&&"Smart (3-5 retries) - Recommended",L==="conservative"&&"Conservative (2-3 retries)"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),a===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Hn,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:r.jsx(Hn,{className:"w-4 h-4 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Enable Working Hours"}),r.jsx("button",{onClick:()=>hs("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),r.jsx($r,{checked:ue,onCheckedChange:G})]}),ue&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(is,{className:"w-4 h-4"}),r.jsx("span",{children:"Weekly Schedule"})]}),r.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:r.jsx("div",{className:"space-y-4",children:Object.entries(le).map(([Ee,it])=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20",children:r.jsx($r,{checked:it.enabled,onCheckedChange:ft=>Se(Et=>({...Et,[Ee]:{...Et[Ee],enabled:ft}}))})}),r.jsx("div",{className:"w-24 text-white font-medium capitalize",children:Ee}),it.enabled&&r.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[r.jsx(Ae,{type:"text",value:it.start,onChange:ft=>Se(Et=>({...Et,[Ee]:{...Et[Ee],start:ft.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),r.jsx("span",{className:"text-gray-400",children:"to"}),r.jsx(Ae,{type:"text",value:it.end,onChange:ft=>Se(Et=>({...Et,[Ee]:{...Et[Ee],end:ft.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),r.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!it.enabled&&r.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},Ee))})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(ls,{className:"w-4 h-4"}),r.jsx("span",{children:"Advanced Settings"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Exclude Holidays"}),r.jsxs("div",{className:"group relative",children:[r.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),r.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:r.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),r.jsx($r,{checked:Pe,onCheckedChange:te})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),r.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Respect DST"}),r.jsxs("div",{className:"group relative",children:[r.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),r.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:r.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),r.jsx($r,{checked:Te,onCheckedChange:oe})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Hn,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),r.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ge.replace("_"," ")]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(le).filter(([Ee,it])=>it.enabled).length," days/week"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",le.monday.enabled?`${le.monday.start} - ${le.monday.end}`:"Varies by day"]})]}),r.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[r.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[Pe&&"Holiday exclusion",Te&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(ks,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),r.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-4 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:r.jsx(Sr,{className:"w-4 h-4 text-blue-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"CSV Pre-filtering"}),r.jsx("button",{onClick:()=>hs("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to Apex based on their local time"})]})]}),r.jsx($r,{checked:pr,onCheckedChange:us})]})}),pr&&r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx(ee,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:ce}),r.jsx(Un,{value:[ce],onValueChange:Ee=>Ie(Ee[0]),min:0,max:120,step:15,className:"flex-1"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),Qt>0&&r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"w-4 h-4 text-blue-400"}),r.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[Qt," contacts excluded from current time window"]})]}),r.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-4 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:r.jsx(is,{className:"w-4 h-4 text-green-400"})}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white font-medium",children:"Holiday Calendar Management"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(Ee=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:tt.includes(Ee),onChange:it=>{it.target.checked?vt(ft=>[...ft,Ee]):vt(ft=>ft.filter(Et=>Et!==Ee))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),r.jsx("span",{className:"text-white text-sm",children:Ee})]},Ee))})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white text-sm",children:"Custom Holiday Dates"}),r.jsx(Ae,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:Ee=>{const it=Ee.target.value.split(",").map(ft=>ft.trim()).filter(ft=>ft);_e(it)}}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(is,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),r.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",ge]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",tt.length>0?tt.join(", "):"None"]})]}),r.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[r.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[Pe&&"Holiday exclusion",Te&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),a===5&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ot,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:r.jsx(Ot,{className:"w-4 h-4 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Enable Team Collaboration"}),r.jsx("button",{onClick:()=>hs("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),r.jsx($r,{checked:Kt,onCheckedChange:tn})]}),Kt?r.jsx(e9,{teamMembers:kr,invitations:ur,onAddMember:async(Ee,it)=>{const ft={id:`inv-${Date.now()}`,email:Ee,role:it,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:it==="manager"?"all_leads":it==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:it==="manager"||it==="agent",delete:it==="manager",export:it==="manager"||it==="agent",assign:it==="manager"}};ms(Et=>[...Et,ft])},onRemoveMember:async Ee=>{_a(it=>it.filter(ft=>ft.id!==Ee))},onUpdateRole:async(Ee,it)=>{_a(ft=>ft.map(Et=>Et.id===Ee?{...Et,role:it,crmAccessLevel:it==="manager"?"all_leads":it==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:it==="manager"||it==="agent",delete:it==="manager",export:it==="manager"||it==="agent",assign:it==="manager"}}:Et))},onResendInvitation:async Ee=>{console.log("Resending invitation:",Ee)},onCancelInvitation:async Ee=>{ms(it=>it.filter(ft=>ft.id!==Ee))},isEditable:!0}):r.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[r.jsx(Ot,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),r.jsxs(K,{onClick:()=>tn(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[r.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),Kt&&r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Ot,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),r.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",kr.length]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",ur.length]})]}),r.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[r.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",kr.length+ur.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),a===6&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[r.jsx(Sr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",i]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Total Leads"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:z.length.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),r.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:L})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Working Hours"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:ue?"8 hrs/day":"24/7"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Team Members"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:kr.length+ur.length})]})]})]}),Ct&&r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[r.jsx(Ft,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:Ct.totalAttempts.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:Ct.totalMinutes.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:[Ct.campaignDays," days"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:[(_t/Rt).toFixed(1)," calls/min"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",_t]})]})]})]}),r.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[r.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),r.jsx("div",{className:"mb-4 flex items-center space-x-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ae,{type:"number",value:Rt,onChange:Ee=>Lt(Number(Ee.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),r.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Vapi Hosting"}),r.jsx("span",{className:"text-white",children:"$0.05"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),r.jsx("span",{className:"text-white",children:"$0.01"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),r.jsx("span",{className:"text-white",children:"$0.05"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),r.jsx("span",{className:"text-white",children:"$0.07"})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[r.jsx("span",{className:"text-white",children:"Total per Minute"}),r.jsxs("span",{className:"text-emerald-400",children:["$",Ue.toFixed(2)]})]})]})]}),Ct&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),r.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",Ct.totalCost.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ct.totalMinutes.toLocaleString()," minutes  $",Ue,"/min"]})]})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[r.jsx(nS,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Current Vapi Credit Balance"}),r.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[r.jsx(Ae,{type:"number",placeholder:"Enter your current balance",value:ie||"",onChange:Ee=>je(Ee.target.value?Number(Ee.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),r.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",r.jsx(Si,{className:"w-3 h-3 ml-1"})]})]})]}),ie!==null&&Ct&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`p-4 rounded-lg border ${Ct.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":Ct.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[Ct.balanceStatus==="healthy"?r.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):Ct.balanceStatus==="warning"?r.jsx(ga,{className:"w-5 h-5 text-yellow-400"}):r.jsx(Dt,{className:"w-5 h-5 text-red-400"}),r.jsx("p",{className:`font-medium ${Ct.balanceStatus==="healthy"?"text-emerald-300":Ct.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:Ct.balanceStatus==="healthy"?"Balance Healthy":Ct.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),r.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",ie.toLocaleString()," | Required: $",Ct.totalCost.toLocaleString()," |",Ct.balanceStatus==="healthy"?` Surplus: $${(ie-Ct.totalCost).toLocaleString()}`:` Deficit: $${(Ct.totalCost-ie).toLocaleString()}`]})]}),Ct.recommendedTopUp>0&&r.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",Ct.recommendedTopUp]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),r.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Vapi Dashboard",r.jsx(Si,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),r.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ht,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"text-sm text-gray-400",children:[r.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),r.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),r.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),r.jsx("li",{children:"Consider upgrading your Vapi plan for better per-minute rates on high-volume campaigns"}),r.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),Ct&&r.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[r.jsx(Ql,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:Ct.campaignDays}),r.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",Ct.totalCost]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:Ct.totalAttempts.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),r.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(K,{variant:"outline",onClick:Fa,disabled:N,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:a===1?"Cancel":"Back"}),r.jsx(K,{onClick:a===6?ka:qs,disabled:N,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:a===6?N?"Saving...":"Save Changes":"Next"})]})})]}),a===1&&r.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:v&&z.length>0?r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:r.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",z.length," contacts)"]})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:r.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[r.jsx("thead",{className:"sticky top-0 z-10",children:r.jsx("tr",{children:Object.keys(z[0]||{}).map((Ee,it)=>r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:Ee},Ee))})}),r.jsx("tbody",{children:z.map((Ee,it)=>r.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(Ee).map((ft,Et)=>r.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:r.jsx("div",{className:"truncate max-w-[200px]",title:ft,children:ft})},Et))},it))})]})})}),z.length>100&&r.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",z.length," contacts  Scroll to view more"]})})]}):r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(qo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),a>1&&r.jsx("div",{className:`${es?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:es&&Ge&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-6 border-b border-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:(Di=ts[Ge])==null?void 0:Di.title}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(kt=ts[Ge])==null?void 0:kt.description})]}),r.jsx("button",{onClick:()=>xr(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx(At,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(ar=ts[Ge])==null?void 0:ar.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),r.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),r.jsx("button",{onClick:()=>xr(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})},W_e=()=>{const[e,t]=p.useState({enabled:!0,minLimit:10,maxLimit:100,scaleUpThreshold:80,scaleDownThreshold:30,budgetLimit:1e3,peakHoursEnabled:!0,peakHours:{start:"09:00",end:"17:00"}}),[s,a]=p.useState(50),[n,i]=p.useState(!1),{userContext:o}=po(),[l,d]=p.useState({current:0,limit:10,queued:0,available:10,peak24h:0,averageUtilization:0,totalCallsToday:0,estimatedCost:0}),[u,h]=p.useState([]),[f,g]=p.useState(!0);p.useEffect(()=>{y()},[o==null?void 0:o.organization_id]),p.useEffect(()=>{if(!(o!=null&&o.organization_id))return;const A=rt.channel("schema-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"calls",filter:`organization_id=eq.${o.organization_id}`},E=>{console.log("Real-time update:",E),w()}).subscribe();return()=>{rt.removeChannel(A)}},[o==null?void 0:o.organization_id]);const y=async()=>{g(!0),await Promise.all([w(),v()]),g(!1)},w=async()=>{if(o!=null&&o.organization_id)try{const{data:A}=await rt.from("organizations").select("max_concurrent_calls").eq("id",o.organization_id).single(),E=(A==null?void 0:A.max_concurrent_calls)||10;a(E);const{count:R}=await rt.from("calls").select("*",{count:"exact",head:!0}).eq("organization_id",o.organization_id).in("status",["in-progress","ringing","queued"]),z=new Date;z.setHours(0,0,0,0);const{count:B}=await rt.from("calls").select("*",{count:"exact",head:!0}).eq("organization_id",o.organization_id).gte("created_at",z.toISOString());d(O=>({...O,current:R||0,limit:E,available:Math.max(0,E-(R||0)),queued:0,totalCallsToday:B||0,estimatedCost:(B||0)*.2}))}catch(A){console.error("Error fetching metrics:",A)}},v=async()=>{if(!(o!=null&&o.organization_id))return;const{data:A}=await rt.from("campaigns").select("*").eq("organization_id",o.organization_id).order("created_at",{ascending:!1});A&&h(A.map(E=>({id:E.id,name:E.name,activeCalls:E.calls_in_progress||0,queuedCalls:0,priority:"medium",status:E.status,budget:E.budget||100,spent:E.total_cost||0})))};p.useEffect(()=>{l.current/l.limit*100>85&&i(!0)},[l]);const b=()=>{const A=l.current/l.limit*100;if(A>e.scaleUpThreshold&&l.limit<e.maxLimit){const E=Math.min(e.maxLimit,l.limit+10);d(R=>({...R,limit:E,available:E-R.current})),a(E)}else if(A<e.scaleDownThreshold&&l.limit>e.minLimit){const E=Math.max(e.minLimit,l.limit-5);d(R=>({...R,limit:E,available:E-R.current})),a(E)}},N=A=>{const E=A[0];a(E),d(R=>({...R,limit:E,available:E-R.current}))},S=(A,E)=>{h(R=>R.map(z=>z.id===A?{...z,status:E==="pause"?"paused":"active"}:z))},_=A=>A<50?"text-emerald-400":A<80?"text-yellow-400":"text-red-400",k=A=>{switch(A){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},T=l.current/l.limit*100;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dynamic Concurrency Manager"}),r.jsx("p",{className:"text-gray-400",children:"Monitor and optimize Vapi org-level concurrency in real-time"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700",children:[r.jsx(ea,{className:"h-4 w-4 mr-2"}),"Refresh"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"border-gray-700",onClick:()=>window.open("https://dashboard.vapi.ai","_blank"),children:[r.jsx(Si,{className:"h-4 w-4 mr-2"}),"Vapi Dashboard"]})]})]}),n&&r.jsxs(Wt,{className:"border-orange-500 bg-orange-500/10",children:[r.jsx(ga,{className:"h-4 w-4"}),r.jsxs(Vt,{className:"flex items-center justify-between",children:[r.jsxs("span",{children:["Nearing concurrency limit (",T.toFixed(1),"% utilized). Consider upgrading your Vapi plan."]}),r.jsx(K,{size:"sm",onClick:()=>window.open("https://dashboard.vapi.ai/billing","_blank"),className:"bg-orange-600 hover:bg-orange-700",children:"Upgrade Now"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[r.jsx(xs,{className:"h-4 w-4 mr-2 text-emerald-500"}),"Active Calls"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:l.current}),r.jsxs("p",{className:"text-xs text-gray-500",children:["of ",l.limit," limit"]}),r.jsx(Gt,{value:T,className:"mt-2 h-2"})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[r.jsx(Ot,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Queued Calls"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:l.queued}),r.jsx("p",{className:"text-xs text-gray-500",children:"waiting for slots"}),l.queued>0&&r.jsx(ke,{variant:"outline",className:"mt-2 text-xs text-yellow-400 border-yellow-400",children:"Auto-retry active"})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[r.jsx(q3,{className:"h-4 w-4 mr-2 text-blue-500"}),"Utilization"]})}),r.jsxs(J,{children:[r.jsxs("div",{className:`text-2xl font-bold ${_(T)}`,children:[T.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["24h avg: ",l.averageUtilization,"%"]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(ye,{className:"text-sm font-medium text-gray-400 flex items-center",children:[r.jsx(Ia,{className:"h-4 w-4 mr-2 text-purple-500"}),"Today's Calls"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalCallsToday.toLocaleString()}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Est. cost: $",l.estimatedCost]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"text-white flex items-center",children:[r.jsx(ls,{className:"h-5 w-5 mr-2"}),"Manual Controls"]})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Concurrency Limit"}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[s," sessions"]})]}),r.jsx(Un,{value:[s],onValueChange:N,max:200,min:5,step:5,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"5 min"}),r.jsxs("span",{children:["Current: ",s]}),r.jsx("span",{children:"200 max"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs(K,{variant:"outline",onClick:b,className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[r.jsx(ks,{className:"h-4 w-4 mr-2"}),"Auto Scale"]}),r.jsxs(K,{variant:"outline",className:"border-gray-700",onClick:()=>i(!1),children:[r.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Clear Alerts"]})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"text-white flex items-center",children:[r.jsx(dY,{className:"h-5 w-5 mr-2"}),"Auto-scaling Rules"]})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Enable Auto-scaling"}),r.jsx($r,{checked:e.enabled,onCheckedChange:A=>t(E=>({...E,enabled:A}))})]}),e.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400",children:"Scale Up at"}),r.jsxs("div",{className:"text-sm text-white",children:[e.scaleUpThreshold,"% utilization"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400",children:"Scale Down at"}),r.jsxs("div",{className:"text-sm text-white",children:[e.scaleDownThreshold,"% utilization"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400",children:"Min Limit"}),r.jsxs("div",{className:"text-sm text-white",children:[e.minLimit," sessions"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400",children:"Max Limit"}),r.jsxs("div",{className:"text-sm text-white",children:[e.maxLimit," sessions"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Peak Hours Boost"}),r.jsx($r,{checked:e.peakHoursEnabled,onCheckedChange:A=>t(E=>({...E,peakHoursEnabled:A}))})]})]})]})]})]}),r.jsxs(Y,{className:"border-gray-800 bg-gray-900",children:[r.jsx(xe,{children:r.jsxs(ye,{className:"text-white flex items-center",children:[r.jsx(Sr,{className:"h-5 w-5 mr-2"}),"Campaign Queue Management"]})}),r.jsxs(J,{children:[r.jsx("div",{className:"space-y-4",children:u.map(A=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${k(A.priority)}`}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-white",children:A.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(dt,{className:"h-3 w-3 mr-1"}),A.activeCalls," active"]}),A.queuedCalls>0&&r.jsxs("span",{className:"flex items-center text-yellow-400",children:[r.jsx(Sr,{className:"h-3 w-3 mr-1"}),A.queuedCalls," queued"]}),r.jsxs("span",{children:["Priority: ",A.priority]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-white",children:["$",A.spent.toFixed(2)," / $",A.budget]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[(A.spent/A.budget*100).toFixed(1),"% used"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[A.status==="active"?r.jsxs(K,{size:"sm",variant:"outline",onClick:()=>S(A.id,"pause"),className:"border-amber-600 text-amber-400 hover:bg-amber-600/20",children:[r.jsx(gd,{className:"h-3 w-3 mr-1"}),"Pause"]}):r.jsxs(K,{size:"sm",variant:"outline",onClick:()=>S(A.id,"resume"),className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[r.jsx(Kn,{className:"h-3 w-3 mr-1"}),"Resume"]}),r.jsx(ke,{variant:"outline",className:A.status==="active"?"border-emerald-600 text-emerald-400":A.status==="paused"?"border-amber-600 text-amber-400":"border-gray-600 text-gray-400",children:A.status})]})]})]},A.id))}),r.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ht,{className:"h-5 w-5 text-blue-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-sm font-medium text-blue-400 mb-1",children:"Queue Management Tips"}),r.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[r.jsx("li",{children:" High priority campaigns get queue preference"}),r.jsx("li",{children:" Vapi automatically retries queued calls for up to 1 hour"}),r.jsx("li",{children:" Pause low-priority campaigns during peak hours to prevent bottlenecks"}),r.jsx("li",{children:" Monitor budget utilization to prevent overspending"})]})]})]})})]})]})]})},V_e="/api/vapi";async function q_e(){const{data:{session:e}}=await rt.auth.getSession();return(e==null?void 0:e.access_token)||null}function H_e(){return localStorage.getItem("organization_id")}async function Vc(e,t={}){const s=await q_e(),a=H_e();if(!s)throw console.warn(" No active session found for Vapi Proxy"),new Error("Authentication required");if(!a)throw new Error("Organization ID missing");const n=await fetch(`${V_e}${e}`,{...t,headers:{Authorization:`Bearer ${s}`,"x-organization-id":a,"Content-Type":"application/json",...t.headers}});if(!n.ok){const i=await n.text();throw new Error(`Apex API Error (${n.status}): ${i}`)}return n.json()}const qR={setApiKey(e){console.log(" setApiKey ignored - using secure proxy")},clearCache(){},async getAssistants(){try{const e=await Vc("/assistant");return Array.isArray(e)?e:[]}catch(e){return console.error("Error fetching assistants:",e),[]}},async getAssistant(e){return Vc(`/assistant/${e}`)},async getPhoneNumbers(){try{const e=await Vc("/phone-number");return Array.isArray(e)?e:[]}catch(e){return console.error("Error fetching phone numbers:",e),[]}},async getPhoneNumber(e){return Vc(`/phone-number/${e}`)},async createCall(e){return Vc("/call",{method:"POST",body:JSON.stringify({assistant:{assistantId:e.assistantId},phoneNumberId:e.phoneNumberId,customer:e.customer})})},async getCall(e){return Vc(`/call/${e}`)},async getCalls(e){const t=new URLSearchParams;e!=null&&e.assistantId&&t.set("assistantId",e.assistantId),e!=null&&e.limit&&t.set("limit",e.limit.toString());const s=t.toString()?`/call?${t.toString()}`:"/call";return Vc(s)},async testConnection(){try{const[e,t]=await Promise.all([this.getAssistants(),this.getPhoneNumbers()]);return{success:!0,message:`Connected securely! Found ${e.length} assistants and ${t.length} phone numbers`}}catch(e){return{success:!1,message:e.message||"Failed to connect via Proxy"}}}},K_e=({onCampaignCreated:e,onCancel:t})=>{var Aa,Ud,Q;const[s,a]=p.useState(1),[n,i]=p.useState(""),[o,l]=p.useState("outbound"),[d,u]=p.useState(""),[h,f]=p.useState(""),[g,y]=p.useState("later"),[w,v]=p.useState(null),[b,N]=p.useState(!1),[S,_]=p.useState("today"),[k,T]=p.useState("06:32 PM"),[A,E]=p.useState("Europe/Malta (GMT+2)"),[R,z]=p.useState([]),[B,O]=p.useState([]),[I,F]=p.useState([]),[V,W]=p.useState(!0),[X,D]=p.useState(5),[U,H]=p.useState(20),[M,L]=p.useState(!0),[q,ue]=p.useState(10),[G,ge]=p.useState(1),[be,Ne]=p.useState("smart"),[Fe,le]=p.useState(3),[Se,Pe]=p.useState(60),[te,he]=p.useState(["no_answer","busy","failed"]),[_e,Te]=p.useState({}),[oe,We]=p.useState([]),[pt,ce]=p.useState({minCallDuration:60,autoAcceptScore:80,requireAllFields:!1,disqualifiers:[]}),[Ie,tt]=p.useState([]),[vt,pr]=p.useState(!0),[us,Qt]=p.useState("America/New_York"),[sr,es]=p.useState(!0),[xr,Ge]=p.useState({monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}}),[yr,kr]=p.useState(!0),[_a,ur]=p.useState([]),[ms,Kt]=p.useState(!0),[tn,Rt]=p.useState(!0),[Lt,ie]=p.useState(30),[je,Ue]=p.useState(["US"]),[ot,_t]=p.useState(!0),[ir,Ct]=p.useState(0),[Sa,bs]=p.useState(!1),[Ca,sa]=p.useState(""),[ts,hs]=p.useState([]),[Ts,za]=p.useState([]),[qs,Fa]=p.useState(!1),[ka,Di]=p.useState(2),[kt,ar]=p.useState(null),[Ee,it]=p.useState(.18),[ft,Et]=p.useState(10),[Mt,$i]=p.useState(null);p.useEffect(()=>{s>1?(bs(!0),s===2?sa("rateLimiting"):s===3?sa("retryLogic"):s===4?sa("workingHours"):s===5?sa("teamManagement"):s===6&&sa("review")):(bs(!1),sa(""))},[s]),p.useEffect(()=>{console.log(" Assistants state updated:",I.length,"items"),I.length>0&&console.log(" First assistant:",I[0])},[I]),p.useEffect(()=>{console.log(" Phone numbers state updated:",B.length,"items"),B.length>0&&console.log(" First phone number:",B[0])},[B]),p.useRef(!1);const{toast:Hs}=Ur();mp();const{userContext:Kr}=po(),{user:Ua}=Od();p.useEffect(()=>{Kr!=null&&Kr.organization_id&&(localStorage.setItem("organization_id",Kr.organization_id),console.log(" Stored organization ID:",Kr.organization_id)),ul();const se=setTimeout(()=>{Nn()},500);return()=>clearTimeout(se)},[Kr]);const Nn=async()=>{try{W(!0);const[se,$e]=await Promise.all([qR.getAssistants(),qR.getPhoneNumbers()]);console.log(` Loaded ${se.length} assistants`),console.log(` Loaded ${$e.length} phone numbers`),F(se),O($e),se.length>0||$e.length>0?Hs({title:"Apex Connected",description:`Loaded ${se.length} assistants and ${$e.length} phone numbers`,variant:"default"}):Hs({title:"No Apex Resources",description:"Please create assistants and phone numbers in your Apex dashboard",variant:"default"})}catch(se){console.error(" Failed to load Apex data:",se),F([]),O([]),Hs({title:"Apex Configuration Required",description:"Your organization admin needs to add Apex API keys in Settings > Details > Apex API Keys",variant:"destructive"})}finally{W(!1)}},ul=async()=>{var se;try{const $e=await Kx.getCampaignDefaults();$e.maxConcurrentCalls&&Et($e.maxConcurrentCalls),(se=$e.defaultWorkingHours)!=null&&se.enabled&&(pr(!0),$e.defaultWorkingHours.timezone&&Qt($e.defaultWorkingHours.timezone),$e.defaultWorkingHours.hours&&Ge($e.defaultWorkingHours.hours)),console.log(" Organization defaults loaded successfully")}catch($e){console.warn(" Could not load organization defaults, using built-in defaults:",$e),Et(5),H(20),pr(!0)}};p.useEffect(()=>{s===6&&R.length>0&&nr()},[s,R.length,ka,kt,Ee,ft]);const nr=()=>{const se=R.length,$e=be==="basic"?2:be==="smart"?3:5,ct=vt?8:24,lt=se*(1+$e),or=lt*ka,aa=lt*ka/ft*1.1/60/ct,na=or*Ee;let si="healthy",Rs=0;kt!==null&&(kt<na*.5?(si="critical",Rs=Math.ceil((na*1.2-kt)/10)*10):kt<na&&(si="warning",Rs=Math.ceil((na*1.2-kt)/10)*10)),$i({totalAttempts:lt,totalMinutes:Math.round(or),totalCost:Math.round(na*100)/100,campaignDays:Math.round(aa*10)/10,recommendedTopUp:Rs,balanceStatus:si})},bo={rateLimiting:{title:" Rate Limiting Controls",description:" Prevent carrier blocks and optimize delivery rates",content:`
##  What is Rate Limiting?

Rate limiting controls how quickly your campaign makes calls to prevent overwhelming phone carriers and triggering spam protection systems.

###  Why It Matters

** Carrier Protection**
-  Phone carriers monitor call patterns and flag accounts that make too many calls too quickly
-  Spam flags can result in your phone numbers being blocked or marked as suspicious
-  Rate limiting mimics human calling patterns to maintain good sender reputation

** API Optimization**
-  Prevents hitting Apex's API rate limits which could pause your campaign
-  Distributes calls evenly over time for better system performance
-  Reduces network congestion and improves call quality

###  Recommended Settings

** Conservative Approach (Recommended for new accounts)**
-  3-5 calls per minute
-  15-25 calls per hour  
-  Lower concurrency (5-8 simultaneous calls)

** Aggressive Approach (For established accounts)**
-  8-12 calls per minute
-  40-60 calls per hour
-  Higher concurrency (10-15 simultaneous calls)

###  Key Metrics

** Calls Per Minute**
The maximum number of calls to initiate within any 60-second window. This prevents rapid-fire calling that triggers carrier flags.

** Calls Per Hour** 
The total call volume limit within any 60-minute period. This ensures sustainable call rates throughout your campaign.

** Concurrent Calls**
How many calls can be active simultaneously. Higher concurrency improves speed but requires more system resources.

** Delay Between Calls**
Minimum wait time between individual call attempts. Even small delays (1-2 seconds) help maintain natural calling patterns.

###  Best Practices

 ** Start Conservative**: Begin with lower limits and gradually increase based on performance
 ** Monitor Metrics**: Watch for delivery rate drops that indicate carrier blocking  
 ** Respect Time Zones**: Combine with working hours controls for optimal results
 ** Test Gradually**: Increase limits slowly to find your account's optimal rates

 ** Warning Signs**: If you notice suddenly dropped answer rates or delivery failures, reduce your rate limits immediately.
      `},qualificationCriteria:{title:" Lead Qualification Criteria",description:" Define what makes a qualified lead for your campaign",content:`
##  What is Lead Qualification?

Lead qualification helps you automatically identify and prioritize the most promising prospects from your calling campaigns. The AI analyzes call transcripts to detect specific qualification signals you define.

###  Why Lead Qualification Matters

** Better ROI**
-  Focus follow-up efforts on most promising leads
-  Save time by auto-filtering unqualified prospects
-  Increase conversion rates by 40-60%
-  Scale your sales process efficiently

** AI-Powered Detection**
-  Automatically analyzes call transcripts
-  Tags leads based on qualification criteria
-  Scores leads on multiple dimensions
-  Customizable to your specific needs

###  Preset Qualification Fields

We provide **22 preset fields** across 9 categories that cover most common qualification scenarios:

** Appointment & Follow-up**
-  Appointment Booked (90% weight)
-  Callback Requested (30% weight)
-  Demo Requested (80% weight)

** Interest Level**
-  High Interest Expressed (70% weight)
-  Asking Detailed Questions (50% weight)
-  Use Case Mentioned (60% weight)

** Timeline**
-  Urgent Need (85% weight)
-  Timeline Mentioned (40% weight)

** Budget & Authority**
-  Budget Mentioned (75% weight)
-  Budget Qualified (85% weight)
-  Decision Maker (80% weight)
-  Authority Confirmed (40% weight)

** Pain Points**
-  Pain Point Expressed (65% weight)
-  Problem Fit Confirmed (75% weight)

** Competitor Info**
-  Using Competitor (45% weight)
-  Competitor Dissatisfaction (70% weight)

** Contact Info**
-  Email Provided (35% weight)
-  Best Time to Call (25% weight)
-  Additional Contacts (30% weight)

** Company Info**
-  Company Size Mentioned (40% weight)
-  Industry Mentioned (30% weight)
-  Company Name Confirmed (20% weight)

###  Scoring Weights Explained

Each field has a **scoring weight** (0-100%) that determines its importance:

- **90-100%**: Critical buying signals (appointments, budget qualified)
- **70-89%**: Strong indicators (high interest, pain points)
- **50-69%**: Important context (questions, use cases)
- **30-49%**: Supporting information (company details, timeline)
- **0-29%**: Nice to have (contact preferences)

###  Custom Fields

Beyond presets, you can add **unlimited custom fields** specific to your business:

**Examples:**
-  Healthcare: "Insurance Type", "Patient Volume"
-  Construction: "Project Size", "Timeline to Break Ground"
-  Software: "Current Tech Stack", "Integration Requirements"
-  Retail: "Store Locations", "Annual Revenue"

###  Winning Criteria

Define what combination of fields makes a "winning" lead:

**Minimum Call Duration**
-  Set minimum seconds for qualification (default: 60s)
-  Short calls automatically disqualified
-  Ensures meaningful conversation occurred

**Auto-Accept Score**
-  Leads scoring above threshold auto-qualify (default: 80%)
-  Speeds up lead processing
-  Focuses human review on borderline cases

**Required Fields**
-  Must-have information for qualification
-  Missing required fields = automatic review
-  Examples: Budget range, decision maker status

**Disqualifiers**
-  Automatic rejection triggers
-  Examples: "Already a customer", "Not interested"
-  Saves time on dead-end leads

###  Configuration Tips

** Start Focused**
- Begin with 5-8 critical fields
- Add more as you learn what matters
- Quality over quantity

** Monitor Performance**
- Track which fields best predict conversions
- Adjust weights based on results
- Remove fields that don't correlate

** Industry Alignment**
- Choose fields relevant to your sales process
- Consider your typical buyer journey
- Match your CRM requirements

** Balance Automation**
- Higher auto-accept threshold = fewer false positives
- Lower threshold = more leads need review
- Find your sweet spot through testing

###  Advanced Strategies

** Progressive Qualification**
- Start with basic fields
- Add detailed fields as campaign matures
- Refine based on conversion data

** Segment-Specific Criteria**
- Different criteria for enterprise vs SMB
- Industry-specific qualification
- Geographic considerations

** AI Learning**
- System improves detection over time
- Learns your specific language patterns
- Adapts to your market terminology

###  Best Practices

 **Review Sample Calls**: Listen to calls that barely qualified/disqualified
 **Iterate Quickly**: Adjust criteria based on first 50-100 calls
 **Team Alignment**: Ensure sales team agrees with criteria
 **CRM Integration**: Map fields to your CRM for seamless handoff
 **Regular Audits**: Review criteria quarterly for relevance
      `},retryLogic:{title:" Retry Logic Enhancements",description:" Intelligent failure handling to maximize contact rates",content:`
##  Understanding Retry Logic

Retry logic determines how your campaign responds to different types of call failures. Instead of giving up after one attempt, intelligent retries can significantly improve your contact rates.

###  The Four Failure Types

**1.  No Answer**
- ** What It Means**: Phone rings but nobody picks up
- ** Common Causes**: Contact is busy, away from phone, or screening calls
- ** Best Strategy**: Try again when they might be available
- ** Recommended**: 2-3 attempts with 30-60 minute delays

**2.  Voicemail**
- ** What It Means**: Call was answered by voicemail system
- ** Common Causes**: Contact is unavailable but message was delivered
- ** Best Strategy**: Give them time to respond before trying again
- ** Recommended**: 1-2 attempts with 1-2 hour delays

**3.  Dead/Disconnected Line**
- ** What It Means**: Number is no longer in service or unreachable
- ** Common Causes**: Changed numbers, disconnected service, or technical issues
- ** Best Strategy**: Minimal retries since issue is usually permanent
- ** Recommended**: 1 attempt after 24 hours (for technical issues)

**4.  Busy Signal**
- ** What It Means**: Line is currently occupied by another call
- ** Common Causes**: Contact is on another call
- ** Best Strategy**: Quick retries since busy signals clear fast
- ** Recommended**: 3-4 attempts with 5-10 minute delays

###  Advanced Features

** Exponential Backoff**
Gradually increases delays between retries:
-  Attempt 1: Wait 30 minutes
-  Attempt 2: Wait 60 minutes  
-  Attempt 3: Wait 120 minutes

This prevents appearing too persistent while maximizing chances of contact.

** Global Retry Limit**
Sets a hard cap on total attempts per contact across all failure types. Prevents harassment and maintains compliance with calling regulations.

###  Legal Compliance

** Calling Best Practices**
-  Limits excessive calling to prevent harassment complaints
-  Respects consumer privacy and calling preferences
-  Maintains professional calling practices

** Industry Standards**
-  Follows telecommunications best practices
-  Aligns with carrier requirements for good sender reputation
-  Prevents account suspension due to aggressive calling

###  Performance Impact

** Higher Contact Rates**
-  Well-timed retries can improve contact rates by 40-60%
-  Different failure types have different success probabilities
-  Smart timing maximizes availability windows

** Resource Efficiency**
-  Prevents wasted calls on permanently unreachable numbers
-  Optimizes campaign duration and costs
-  Focuses efforts on contacts most likely to connect

###  Configuration Tips

** Start with Defaults**: The recommended settings are based on industry data and compliance requirements.

** Monitor Results**: Track which failure types have the best retry success rates for your specific campaigns.

** Adjust Gradually**: Make small changes and measure impact before major adjustments.

** Consider Your Audience**: B2B contacts may have different availability patterns than B2C contacts.
      `},callsPerMinute:{title:" Calls Per Minute Control",description:" Manage call frequency to prevent carrier blocks",content:`
##  Calls Per Minute Settings

The "Calls Per Minute" setting controls how many outbound calls your campaign can initiate within any 60-second window. This is one of the most critical settings for maintaining good sender reputation with phone carriers.

###  Why This Matters

** Carrier Protection**
-  Phone carriers actively monitor calling patterns from business numbers
-  Too many calls in a short time triggers automatic spam detection systems
-  Once flagged, your phone number may be blocked or marked as suspicious
-  Recovery from carrier blocks can take weeks or months

** Optimal Call Distribution**
-  Spreading calls over time mimics natural human calling patterns
-  Prevents overwhelming carrier infrastructure
-  Maintains consistent call quality and connection rates
-  Reduces the risk of calls being automatically rejected

###  Recommended Settings

** Conservative (1-3 calls/minute)**
-  Best for new phone numbers or accounts
-  Lowest risk of carrier flags
-  Slower campaign completion but highest success rates
-  Recommended for highly regulated industries

** Moderate (4-6 calls/minute)**  
-  Good balance of speed and safety
-  Suitable for established phone numbers
-  Most commonly used setting across industries
-  Good starting point for most campaigns

** Aggressive (7-12 calls/minute)**
-  Only for well-established, high-reputation numbers
-  Requires careful monitoring of delivery rates
-  Best for time-sensitive campaigns
-  Higher risk but faster completion

###  Technical Implementation

The system enforces this limit by:
-  Queuing calls when the limit is reached
-  Distributing calls evenly across the minute window
-  Automatically adjusting for any failed or rejected calls
-  Providing real-time monitoring of call rates

###  Warning Signs

** Reduce your rate immediately if you notice:**
-  Sudden drops in answer rates (below 15-20%)
-  Increased "failed to connect" errors
-  Calls going straight to voicemail more frequently
-  Recipients reporting they never received calls

###  Best Practices

 ** Start Low**: Begin with 3-5 calls/minute for new numbers
 ** Monitor Closely**: Watch delivery rates daily for first week
 ** Scale Gradually**: Increase by 1-2 calls/minute weekly if performance holds
 ** Document Results**: Track optimal rates for different phone numbers
      `},callsPerHour:{title:" Calls Per Hour Limit",description:" Set hourly call volume caps for sustainable campaigns",content:`
##  Calls Per Hour Management

The "Calls Per Hour" setting establishes the maximum number of calls your campaign can make within any 60-minute period. This works alongside the per-minute limit to provide comprehensive rate control.

###  How It Works

** Hierarchical Limiting**
-  The system respects BOTH per-minute and per-hour limits
-  Whichever limit is reached first will pause calling
-  Example: 5 calls/minute (300/hour) but 100/hour limit = 100 calls maximum
-  Provides multiple layers of protection against over-calling

** Rolling Window**
-  Calculated on a rolling 60-minute basis, not fixed hours
-  If you made 80 calls in the past hour, only 20 more are allowed
-  Automatically resets as older calls fall outside the window
-  Ensures consistent, sustainable calling rates

###  Strategic Applications

** Campaign Duration Control**
-  Lower hourly limits extend campaign duration
-  Higher limits complete campaigns faster
-  Useful for managing resource allocation across multiple campaigns
-  Helps balance speed vs. deliverability

** Compliance Requirements**
-  Some industries have specific hourly calling limits
-  Helps maintain compliance with internal policies
-  Provides audit trail for regulatory requirements
-  Supports fair calling practices

###  Recommended Ranges

** Low Volume (20-50 calls/hour)**
-  Ideal for high-value, personalized outreach
-  Maximum deliverability and answer rates
-  Best for small, targeted contact lists
-  Suitable for premium or enterprise prospects

** Medium Volume (60-120 calls/hour)**
-  Balanced approach for most business campaigns
-  Good mix of speed and quality
-  Suitable for established phone numbers
-  Most common setting for B2B outreach

** High Volume (150-300 calls/hour)**
-  For large-scale campaigns with proven infrastructure
-  Requires excellent phone number reputation
-  Best for time-sensitive or promotional campaigns
-  Needs constant monitoring and optimization

###  Interaction with Other Settings

** Per-Minute Relationship**
-  5 calls/minute = 300 theoretical calls/hour
-  Hour limit of 100 would cap actual volume
-  System automatically calculates effective rates
-  Displayed in real-time performance estimates

** Concurrent Calls Impact**
-  Higher concurrency can help achieve hourly targets
-  Must balance with carrier capacity
-  More concurrent calls = higher resource usage
-  Affects overall campaign cost structure

###  Monitoring and Optimization

** Key Metrics to Watch**
-  Actual calls per hour vs. target
-  Answer rate consistency throughout day
-  Cost per successful connection
-  Overall campaign completion time

** Adjustment Strategies**
-  Start with conservative limits and increase gradually
-  Monitor answer rates - drops indicate limits too high
-  Consider time-of-day variations in success rates
-  Document optimal settings for future campaigns

###  Troubleshooting

** If calls stop before hourly limit:**
-  Check if per-minute limit is more restrictive
-  Verify sufficient contacts remain in queue
-  Ensure working hours settings aren't blocking calls
-  Check for system errors or API limits

** If performance degrades:**
-  Reduce hourly limit by 20-30%
-  Monitor recovery of answer rates
-  Consider spreading calls across more hours
-  Review carrier feedback and delivery reports
      `},concurrentCalls:{title:" Concurrent Calls Limit",description:" Control simultaneous active calls for optimal performance",content:`
##  Concurrent Calls Management

The "Concurrent Calls Limit" determines how many calls can be active simultaneously at any given moment. This setting directly impacts campaign speed, resource usage, and call quality.

###  Understanding Concurrency

** What "Concurrent" Means**
-  Number of calls happening at exactly the same time
-  Includes dialing, ringing, connected, and wrapping up calls
-  Different from calls per minute (which is about initiation rate)
-  Affects both system resources and carrier load

** System Resource Impact**
-  Each concurrent call uses server resources
-  Higher concurrency = more CPU, memory, and bandwidth
-  Too high can degrade call quality for all calls
-  Must balance speed with system stability

###  Technical Considerations

** Network Capacity**
-  Your internet connection has finite bandwidth
-  Each call typically uses 64-100 kbps for audio
-  10 concurrent calls  1 Mbps bandwidth minimum
-  Poor connections may require lower concurrency

** Apex API Limits**
-  Apex may have account-specific concurrency limits
-  Exceeding limits results in rejected call attempts
-  Check your account tier for maximum allowed
-  Higher tiers typically support more concurrent calls

** Carrier Relationships**
-  Some carriers limit simultaneous calls per number
-  Business lines typically support 5-20+ concurrent calls
-  Residential lines may be limited to 1-3
-  Carrier-specific limits override system settings

###  Recommended Settings

** Conservative (1-5 concurrent)**
-  Best for new accounts or limited infrastructure
-  Highest call quality and reliability
-  Slower campaign completion
-  Safest option for testing and optimization

** Moderate (6-12 concurrent)**
-  Good balance for most business applications
-  Suitable for established systems
-  Reasonable speed with maintained quality
-  Most common setting for professional campaigns

** Aggressive (15-25+ concurrent)**
-  For high-capacity systems and urgent campaigns
-  Requires robust infrastructure and monitoring
-  Maximum speed but higher complexity
-  Best for experienced users with proven setups

###  Impact on Campaign Performance

** Speed Benefits**
-  Higher concurrency = faster campaign completion
-  More calls attempted per minute
-  Better utilization of available calling windows
-  Improved overall efficiency

** Quality Trade-offs**
-  System resources spread across more calls
-  Potential for increased latency or audio issues
-  More complex error handling and recovery
-  Higher chance of simultaneous failures

###  Optimization Strategies

** Finding Your Sweet Spot**
1.  Start with 5-8 concurrent calls
2.  Monitor call quality and connection rates
3.  Gradually increase if performance remains stable
4.  Back down immediately if quality degrades

** Performance Monitoring**
-  Track connection success rates
-  Monitor audio quality reports
-  Watch for timeout or error increases
-  Measure actual vs. expected campaign duration

###  Troubleshooting Common Issues

** Calls Failing to Connect**
-  May indicate concurrency set too high
-  Check Apex account limits
-  Verify internet bandwidth capacity
-  Review carrier-specific restrictions

** Poor Audio Quality**
-  Often caused by resource contention
-  Reduce concurrent calls by 20-30%
-  Check network congestion
-  Consider upgrading internet connection

** Slower Than Expected Performance**
-  System may be throttling due to resource limits
-  Concurrent setting might be lower than displayed  
-  Check for background processes using resources
-  Verify all calls are actually being initiated

###  Advanced Configuration

** Time-Based Adjustments**
-  Higher concurrency during peak efficiency hours
-  Lower during known network congestion periods
-  Automatic scaling based on system performance
-  Integration with working hours for optimal timing

** Campaign-Specific Settings**
-  Higher for simple, short calls
-  Lower for complex, longer conversations
-  Adjust based on target audience availability
-  Consider call outcome requirements

###  Best Practices

 ** Monitor Continuously**: Watch performance metrics in real-time
 ** Test Incrementally**: Increase concurrency slowly with monitoring
 ** Document Optimal Settings**: Record best configurations for reuse
 ** Plan for Peak Times**: Account for varying system loads throughout day
 ** Have Fallback Plans**: Be ready to reduce if performance degrades
      `},delayBetweenCalls:{title:" Delay Between Calls",description:" Set minimum wait time between consecutive call attempts",content:`
##  Call Delay Management

The "Delay Between Calls" setting establishes a minimum wait time between consecutive call attempts. This subtle but important feature helps maintain natural calling patterns and prevents rapid-fire calling that can trigger spam detection.

###  Purpose and Benefits

** Natural Calling Patterns**
-  Human agents naturally have small pauses between calls
-  Even 1-2 second delays help mimic human behavior
-  Prevents the "machine gun" calling pattern that carriers flag
-  Creates more realistic call timing for better acceptance

** System Stability**
-  Gives the system time to properly close previous calls
-  Prevents resource conflicts between rapid successive calls
-  Allows proper cleanup of call sessions
-  Reduces system errors and improves reliability

** Carrier Relationship Management**
-  Even small delays show respect for carrier infrastructure
-  Prevents overwhelming carrier switching equipment
-  Demonstrates professional calling practices
-  Helps maintain good sender reputation

### Technical Implementation

**How Delays Work**
- Timer starts when previous call attempt completes
- Delay applies regardless of call outcome (success, failure, busy, etc.)
- Measured from call termination to next call initiation
- Works in conjunction with rate limiting, not instead of it

**Interaction with Other Settings**
- Delays can effectively reduce your maximum calls per minute
- Example: 1-second delay + 10 calls/minute may actually achieve 8-9/minute
- System automatically adjusts calculations for realistic estimates
- Performance projections account for delay overhead

### Recommended Settings

**No Delay (0 seconds)**
- Maximum campaign speed
- Only recommended for high-reputation numbers
- Requires careful monitoring for carrier acceptance
- Best for urgent, time-sensitive campaigns

**Minimal Delay (1-2 seconds)**
- Good balance of speed and naturalness
- Recommended for most business campaigns
- Slight speed reduction for significant deliverability improvement
- Most common professional setting

**Moderate Delay (3-5 seconds)**
- More natural, human-like calling pattern
- Better for sensitive or regulated industries
- Improved answer rates due to less aggressive appearance
- Good for high-value prospect lists

**Extended Delay (10+ seconds)**
- Maximum naturalness and deliverability
- Best for premium prospects or compliance-heavy industries
- Significantly slower campaign completion
- Often combined with other conservative settings

### Strategic Applications

**List Quality Considerations**
- Shorter delays for verified, opted-in contacts
- Longer delays for cold outreach or purchased lists
- Adjust based on expected contact receptivity
- Consider source and age of contact data

**Industry-Specific Needs**
- Healthcare: Longer delays show respect for busy professionals
- Finance: Compliance often favors more conservative timing
- Sales: Balance speed with relationship preservation
- Emergency services: May require immediate successive calls

### Performance Impact Analysis

**Speed vs. Quality Trade-off**
- Each second of delay reduces hourly call capacity
- 2-second delay  10-15% reduction in call volume
- 5-second delay  25-30% reduction in call volume
- Must weigh speed loss against deliverability gains

**Answer Rate Improvements**
- Studies show 1-3 second delays can improve answer rates by 5-15%
- Recipients less likely to perceive calls as automated
- Reduced likelihood of being sent directly to voicemail
- Better first impression for successful connections

### Monitoring and Optimization

**Key Metrics to Track**
- Answer rate changes with different delay settings
- Overall campaign completion time
- Carrier feedback and delivery success rates
- Cost per successful connection

**A/B Testing Approach**
- Test different delay settings on similar contact segments
- Measure both speed and quality metrics
- Find optimal delay for your specific use case
- Document results for future campaign planning

### Advanced Delay Strategies

**Dynamic Delays**
- Shorter delays during peak answer times
- Longer delays for follow-up or retry attempts
- Automatic adjustment based on recent call outcomes
- Integration with AI to optimize timing

**Contact-Specific Delays**
- Longer delays for high-value prospects
- Shorter delays for time-sensitive promotions
- Adjustment based on contact timezone or preferences
- Personalization based on historical response patterns

### Troubleshooting

**If Campaign Seems Too Slow**
- Check if delay setting is higher than intended
- Verify delays aren't compounding with other throttling
- Consider reducing delay while monitoring answer rates
- Balance speed needs with quality requirements

**If Getting Spam Flags**
- Increase delay to 2-3 seconds minimum
- Monitor carrier feedback for improvements
- Consider combining with other conservative settings
- Review overall calling pattern and volume

###  Best Practices

 ** Start Conservative**: Begin with 1-2 second delays
 ** Monitor Answer Rates**: Track improvements vs. speed loss
 ** Industry Appropriate**: Adjust for your target audience expectations
 ** Document Optimal Settings**: Record best delays for different campaign types
 ** Regular Review**: Reassess delay needs as phone reputation improves
      `},workingHours:{title:" Working Hours & Timezone Management",description:" Timezone-aware scheduling for compliance and better results",content:`
##  Timezone-Aware Scheduling

Working hours management ensures your calls are made at appropriate times in each contact's local timezone, improving answer rates and maintaining legal compliance.

###  Why Timezone Management Matters

** Professional Standards**
- ** Calling Hours**: Best practice is to call during reasonable hours (typically 9 AM - 8 PM local time)
- ** Regional Considerations**: Different regions may have varying acceptable calling times
- ** Business Impact**: Poor timing can damage your brand reputation

** Better Results**
- ** Higher Answer Rates**: People are more likely to answer during business hours
- ** Professional Image**: Respecting time zones shows consideration
- ** Reduced Complaints**: Appropriate timing reduces negative responses

###  Timezone Settings

**Default Campaign Timezone**
-  Set the primary timezone for your campaign
-  All calls will be scheduled according to this timezone
-  Perfect for local or regional campaigns
-  Can use contact-specific timezones if available in your data

### Weekly Schedule Configuration

**Flexible Day Selection**
- Enable/disable individual days of the week
- Set different hours for different days
- Account for varying business schedules

**Time Zone Considerations**
- All times are automatically converted to contact's local timezone
- System handles Daylight Saving Time transitions
- Respects regional time zone variations

### Advanced Features

**Holiday Exclusion**
- Automatically skips major holidays
- Improves answer rates and contact satisfaction
- Maintains professional calling practices
- Includes: New Year's Day, Memorial Day, Independence Day, Labor Day, Thanksgiving, Christmas

**DST (Daylight Saving Time) Handling**
- Automatically adjusts for spring/fall time changes
- Maintains consistent local calling hours
- Prevents confusion during transition periods

**Custom Holiday Rules**
- Add company-specific holidays or regional observances
- Account for industry-specific closure dates
- Maintain flexibility for different business calendars

###  Best Practices

** Business Hours Guidelines**
- ** B2B Contacts**: 9 AM - 5 PM local time, Monday-Friday
- ** B2C Contacts**: 9 AM - 8 PM local time, including some weekend hours
- ** Healthcare**: Avoid meal times (12-1 PM) and shift changes
- ** Retail**: Consider evening hours when customers are home

** Contact Strategy Tips**
 ** Respect reasonable calling hours** to maintain good relationships
 ** Avoid early mornings and late evenings** for better contact rates
 ** Consider cultural differences** in international campaigns
 ** Honor customer preferences** and communication requests

** Performance Optimization**
- ** Test different time windows** to find optimal contact rates
- ** Analyze answer rate patterns** by time of day and day of week
- ** Adjust for seasonal variations** in contact availability
- ** Consider industry-specific schedules** (healthcare, education, etc.)

###  Common Time Zones

** United States**
-  Eastern Time (ET): UTC-5/-4
-  Central Time (CT): UTC-6/-5  
-  Mountain Time (MT): UTC-7/-6
-  Pacific Time (PT): UTC-8/-7

** International**
-  GMT (London): UTC+0/+1
-  CET (Paris): UTC+1/+2
-  JST (Tokyo): UTC+9
-  AEDT (Sydney): UTC+10/+11

###  Technical Implementation

The system automatically:
-  Filters contacts based on current local time
-  Schedules calls for appropriate hours
-  Handles timezone conversions
-  Manages DST transitions
-  Respects holiday calendars
-  Maintains compliance records
      `},teamManagement:{title:" Team Management",description:" Collaborate with team members on campaign execution",content:`
##  What is Team Management?

Team management allows you to invite colleagues to collaborate on your campaigns with specific roles and permissions.

###  **Team Roles:**

** Owner:** Full control over campaign, team, and CRM
- Edit campaign settings
- Manage team members
- Full CRM lead access (all leads)
- View all analytics and start/stop campaigns

** Manager:** Campaign and team management + CRM access
- Edit campaign settings
- Invite/remove team members
- Full CRM access to all leads
- Assign leads to team members
- Control campaign execution

** Agent:** Campaign execution + CRM lead management
- View campaign details
- Manage campaign-specific leads in CRM
- Edit assigned leads and add notes
- Start/stop campaigns with permissions

** Viewer:** Read-only campaign + limited CRM viewing
- View campaign information
- Limited CRM viewing (no editing)
- See basic analytics
- Cannot control execution or edit leads

###  **Key Benefits:**

-  **Email Invitations:** Send secure invites with expiration
-  **Real-time Collaboration:** Changes sync instantly
-  **Granular Permissions:** Control campaign and CRM access precisely
-  **CRM Integration:** Team members get appropriate lead access
-  **Lead Assignment:** Assign specific leads to team members
-  **Audit Trail:** Track all team and lead changes
-  **Easy Onboarding:** One-click team member setup

###  **Best Practices:**

-  Assign roles based on responsibility levels
-  Use business email addresses for invitations
-  Limit CRM access to necessary leads only
-  Use "Assigned Only" for focused lead management
-  Review team access and lead assignments regularly
-  Document role responsibilities and CRM permissions clearly
      `},review:{title:" Campaign Review & Estimates",description:" Pre-launch cost and timeline analysis",content:`
##  What is Campaign Review?

The review section provides detailed estimates for your campaign including duration, costs, and resource requirements based on your configuration.

###  **Key Metrics Calculated:**

** Campaign Timeline:**
- Total call attempts (leads  retries)
- Estimated runtime in hours/days
- Working hours consideration
- Concurrent call throughput

** Cost Breakdown:**
- Apex hosting fees ($0.05/min)
- Speech-to-Text costs ($0.01/min)
- Text-to-Speech costs ($0.05/min)
- Language Model costs ($0.07/min)
- Total estimated campaign cost

** Credit Management:**
- Current balance check
- Required credits calculation
- Top-up recommendations
- Overage warnings

###  **Calculation Formulas:**

**Total Attempts** = Leads  (1 + Retry Attempts)
**Total Minutes** = Total Attempts  Avg Call Duration
**Campaign Days** = Total Minutes  (Concurrent Calls  Working Hours  60)
**Total Cost** = Total Minutes  Cost per Minute

###  **Key Factors:**

-  **Average Call Duration:** Default 2 minutes (adjustable)
-  **Concurrent Calls:** Based on Apex plan (10 default)
-  **Retry Logic:** Impacts total attempts significantly
-  **Working Hours:** Affects campaign timeline
-  **Credit Balance:** Determines if top-up needed

###  **Best Practices:**

-  Review all estimates before launching
-  Maintain 20% buffer in credit balance
-  Use historical data for accurate duration
-  Adjust concurrency for optimal throughput
-  Monitor actual vs. estimated costs
-  Set up balance alerts in Apex dashboard
      `}},Os=se=>{sa(se),bs(!0)},Li=()=>{const se=`number,name,another_var
+1 (234) 567-8901,John Doe,Hello
12344543210,Jane Smith,World
+1-234-423-4567,Bob Johnson,Test`,$e=new Blob([se],{type:"text/csv"}),ct=window.URL.createObjectURL($e),lt=document.createElement("a");lt.href=ct,lt.download="campaign-template.csv",document.body.appendChild(lt),lt.click(),document.body.removeChild(lt),window.URL.revokeObjectURL(ct)},zi=se=>{var ct;const $e=(ct=se.target.files)==null?void 0:ct[0];if($e&&$e.type==="text/csv"){v($e);const lt=new FileReader;lt.onload=or=>{var Rs,_n;const aa=((Rs=or.target)==null?void 0:Rs.result).split(`
`),na=((_n=aa[0])==null?void 0:_n.split(",").map(fs=>fs.trim()))||[],si=aa.slice(1).filter(fs=>fs.trim()).map(fs=>{const Sn=fs.split(",").map(Cn=>Cn.trim()),wo={};return na.forEach((Cn,Xt)=>{wo[Cn]=Sn[Xt]||""}),wo});z(si)},lt.readAsText($e)}else Hs({title:"Invalid file",description:"Please upload a CSV file",variant:"destructive"})},bc=()=>{if(s===1){if(!n||!d||!h||!w){Hs({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}a(2)}else s===2?a(3):s===3?a(4):s===4?a(5):s===5&&a(6)},wc=()=>{s===6?a(5):s===5?a(4):s===4?a(3):s===3?a(2):s===2?a(1):t()},ml=async()=>{var se,$e,ct,lt;console.log(" Starting campaign creation..."),console.log("Campaign data:",{name:n,phoneNumber:d,assistant:h,csvFile:w==null?void 0:w.name,whenToSend:g}),N(!0);try{let or={vapiCredentials:null,maxConcurrentCalls:ft||5,complianceSettings:null};try{or=await Kx.getCampaignDefaults(),console.log(" Got organization defaults:",or)}catch(fs){console.warn(" Could not get organization defaults, using fallbacks:",fs)}const aa=[{id:"current-user",email:"user@example.com",role:"owner",status:"active",firstName:"Current",lastName:"User",joinedAt:new Date().toISOString(),crmAccessLevel:"all_leads",leadPermissions:{view:!0,edit:!0,delete:!0,export:!0,assign:!0}},...ts];let na;if(R.length>0){const fs=Object.keys(R[0]),Sn=R.map(wo=>fs.map(Cn=>wo[Cn]||"").join(","));na=[fs.join(","),...Sn].join(`
`)}const si={name:n,assistantId:h,phoneNumberId:d,csvData:na,sendTiming:g,settings:{callsPerHour:M?U:60,callsPerMinute:M?X:10,retryAttempts:2,timeZone:us,workingHours:{enabled:vt,start:"09:00",end:"17:00",defaultTimezone:us,useContactTimezone:sr,schedule:xr,excludeHolidays:yr,customHolidays:_a,respectDST:ms},rateLimiting:{enabled:M,callsPerMinute:X,callsPerHour:U,customConcurrency:ft,delayBetweenCalls:G},retryStrategy:be},qualificationCriteria:{selectedFields:_e,customFields:oe,winningCriteria:pt},teamManagement:{enabled:qs||aa.length>1,members:aa,invitations:Ts},organizationSettings:{vapiCredentials:or.vapiCredentials,maxConcurrentCalls:or.maxConcurrentCalls,complianceSettings:or.complianceSettings}};console.log(" Creating campaign in Supabase...");const{data:Rs,error:_n}=await rt.from("campaigns").insert({name:n,organization_id:(Kr==null?void 0:Kr.organization_id)||localStorage.getItem("organization_id"),created_by:(Ua==null?void 0:Ua.id)||null,status:g==="now"?"active":"draft",type:o,description:`Campaign with ${R.length} contacts`,settings:{assistant_id:h,phone_number_id:d,csv_data:na,total_leads:R.length,whenToSend:g,scheduleDate:S,scheduleTime:k,timezone:A,callsPerMinute:X,callsPerHour:U,enableRateLimiting:M,customConcurrency:q,delayBetweenCalls:G,concurrentCalls:ft,avgCallDuration:ka,costPerMinute:Ee,currentBalance:kt,retryStrategy:be,maxRetryAttempts:Fe,retryInterval:Se,retryConditions:te,workingHoursEnabled:vt,workingHours:xr,defaultTimezone:us,winningCriteria:pt,disqualifyingFactors:Ie,teamMembers:aa,teamInvitations:Ts},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(_n)throw console.error(" Supabase error:",_n),new Error(_n.message);if(console.log(" Campaign created:",Rs),g==="now"){const{error:fs}=await rt.from("campaigns").update({status:"active",settings:{...Rs.settings,started_at:new Date().toISOString()}}).eq("id",Rs.id);fs&&console.error(" Error starting campaign:",fs)}Hs({title:"Campaign created",description:`Campaign "${n}" has been created successfully!`}),e(Rs)}catch(or){console.error(" Error creating campaign:",or),console.error("Error details:",{message:or.message,response:(se=or.response)==null?void 0:se.data,status:($e=or.response)==null?void 0:$e.status});const rn=((lt=(ct=or.response)==null?void 0:ct.data)==null?void 0:lt.message)||or.message||"Failed to create campaign. Please try again.";Hs({title:"Error",description:rn,variant:"destructive"})}finally{N(!1)}};return r.jsx("div",{className:"fixed inset-0 z-50 bg-gray-900 flex",children:r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"h-16 bg-gray-900 border-b border-gray-800 flex items-center justify-between px-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:wc,className:"text-gray-400 hover:text-white",children:r.jsx(cc,{className:"w-5 h-5"})}),r.jsxs("h1",{className:"text-lg font-semibold text-white",children:["New campaign ",s===2&&"- Rate Limiting",s===3&&"- Retry Logic",s===4&&"- Working Hours",s===5&&"- Team Management",s===6&&"- Review & Launch"]})]}),r.jsx("div",{})]}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:`${s===1||Sa?"w-1/2":"w-full"} flex flex-col transition-all duration-300`,children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"campaign-name",className:"text-gray-300",children:"Campaign Name"}),r.jsx(Ae,{id:"campaign-name",value:n,onChange:se=>i(se.target.value),placeholder:"Campaign Name",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ee,{className:"text-gray-300 text-sm font-medium",children:"Campaign Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${o==="outbound"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>l("outbound"),children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${o==="outbound"?"border-emerald-500":"border-gray-600"}`,children:o==="outbound"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsx(ee,{className:"text-white font-medium",children:"Outbound"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Start campaign now or schedule for later."})]}),r.jsxs("div",{className:"border-2 rounded-lg p-4 border-gray-800 bg-gray-800/30 opacity-60 cursor-not-allowed",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-600 flex items-center justify-center"}),r.jsx(ee,{className:"text-gray-500 font-medium",children:"Live"}),r.jsx("span",{className:"text-xs text-gray-600 bg-gray-700 px-2 py-0.5 rounded",children:"Coming soon"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Triggered via webhooks from your website or forms."})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"phone-number",className:"text-gray-300",children:"Phone Number"}),r.jsxs(Qe,{value:d,onValueChange:u,disabled:V,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{placeholder:V?"Loading...":"Select"})}),r.jsx(Xe,{className:"bg-gray-800 border-gray-700",children:B.length===0?r.jsx(ae,{value:"none",disabled:!0,children:"No phone numbers available"}):B.map(se=>r.jsxs(ae,{value:se.id,children:[se.number," ",se.name?`(${se.name})`:""]},se.id))})]}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),r.jsx("span",{className:"font-medium",children:"Best Practices"})]}),r.jsxs("p",{children:["Learn how to avoid spam flagging and optimize your calling strategy for better success rates. ",r.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Spam flagging best practices"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ee,{className:"text-gray-300",children:"Upload CSV"}),r.jsxs(K,{variant:"link",onClick:Li,className:"text-blue-400 hover:text-blue-300 p-0 h-auto text-sm",children:[r.jsx(qo,{className:"w-3 h-3 mr-1"}),"Download template"]})]}),w?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(qo,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-white text-sm",children:w.name})]}),r.jsx("button",{onClick:()=>{v(null),z([])},className:"text-gray-400 hover:text-white",children:r.jsx(At,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-gray-600 transition-colors",children:[r.jsx("input",{type:"file",accept:".csv",onChange:zi,className:"hidden",id:"csv-upload"}),r.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-gray-800 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("p",{className:"text-gray-400",children:"Drag and drop a CSV file here or click to select file locally"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 5MB"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ee,{htmlFor:"assistant",className:"text-gray-300",children:"Assistant"}),r.jsxs(Qe,{value:h,onValueChange:f,disabled:V,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white",children:r.jsx(et,{placeholder:V?"Loading...":"Select"})}),r.jsx(Xe,{className:"bg-gray-800 border-gray-700",children:I.length===0?r.jsx(ae,{value:"none",disabled:!0,children:V?"Loading...":"No assistants available - Check Apex configuration"}):I.map(se=>r.jsx(ae,{value:se.id,children:se.name},se.id))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ee,{className:"text-gray-300",children:"Choose when to send"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="now"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("now"),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="now"?"border-emerald-500":"border-gray-600"}`,children:g==="now"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsx(ee,{className:"text-white cursor-pointer",children:"Send Now"})]})}),r.jsx("div",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${g==="later"?"border-emerald-500 bg-emerald-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>y("later"),children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${g==="later"?"border-emerald-500":"border-gray-600"}`,children:g==="later"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})}),r.jsx(ee,{className:"text-white cursor-pointer",children:"Schedule for later"})]})})]}),g==="later"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(ee,{className:"text-gray-300",children:"Start at:"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{className:"text-gray-500 text-xs",children:"Date"}),r.jsxs(Qe,{value:S,onValueChange:_,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white h-9",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"today",children:"Today"}),r.jsx(ae,{value:"tomorrow",children:"Tomorrow"}),r.jsx(ae,{value:"custom",children:"Custom Date"})]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{className:"text-gray-500 text-xs",children:"Time"}),r.jsx("div",{className:"relative",children:r.jsx(Ae,{type:"text",value:k,onChange:se=>T(se.target.value),className:"bg-gray-800 border-gray-700 text-white pr-8 h-9"})})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(ee,{className:"text-gray-500 text-xs",children:"Timezone"}),r.jsxs(Qe,{value:A,onValueChange:E,children:[r.jsx(Je,{className:"bg-gray-800 border-gray-700 text-white h-9 text-sm",children:r.jsx(et,{})}),r.jsxs(Xe,{className:"bg-gray-800 border-gray-700",children:[r.jsx(ae,{value:"America/New_York",children:"Eastern (EST)"}),r.jsx(ae,{value:"America/Chicago",children:"Central (CST)"}),r.jsx(ae,{value:"America/Denver",children:"Mountain (MST)"}),r.jsx(ae,{value:"America/Los_Angeles",children:"Pacific (PST)"}),r.jsx(ae,{value:"Europe/London",children:"London (GMT)"}),r.jsx(ae,{value:"Europe/Malta (GMT+2)",children:"Europe/Malta (GMT+2)"})]})]})]})]})]})]}),g==="later"&&r.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-500"}),r.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Campaign Execution"})]}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Calls will start at the scheduled time and continue until your organization's concurrency limit is reached. Remaining calls will be retried for up to 1 hour as capacity becomes available. ",r.jsx("a",{href:"#",className:"text-blue-400 hover:underline",children:"Increase concurrency limits"})]})]})]}),s===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ks,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Rate Limiting Controls"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure call throttling to prevent carrier blocks and optimize delivery rates"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:r.jsx(ks,{className:"w-4 h-4 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Enable Rate Limiting"}),r.jsx("button",{onClick:()=>Os("rateLimiting"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Throttle API calls to prevent spam flags and carrier blocks"})]})]}),r.jsx($r,{checked:M,onCheckedChange:L})]}),M&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Calls Per Minute"}),r.jsx("button",{onClick:()=>Os("callsPerMinute"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[X," calls/min"]})]}),r.jsx(Un,{value:[X],onValueChange:se=>D(se[0]),max:20,min:1,step:1,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1 call/min"}),r.jsx("span",{children:"Conservative"}),r.jsx("span",{children:"Aggressive"}),r.jsx("span",{children:"20 calls/min"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Calls Per Hour"}),r.jsx("button",{onClick:()=>Os("callsPerHour"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[U," calls/hr"]})]}),r.jsx(Un,{value:[U],onValueChange:se=>H(se[0]),max:200,min:5,step:5,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"5 calls/hr"}),r.jsx("span",{children:"Standard: 20-60"}),r.jsx("span",{children:"200 calls/hr"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Concurrent Calls Limit"}),r.jsx("button",{onClick:()=>Os("concurrentCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[q," concurrent"]})]}),r.jsx(Un,{value:[q],onValueChange:se=>ue(se[0]),max:50,min:1,step:1,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"1 concurrent"}),r.jsx("span",{children:"Default: 10"}),r.jsx("span",{children:"50 concurrent"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ee,{className:"text-gray-300 flex items-center space-x-2",children:[r.jsx("span",{children:"Delay Between Calls"}),r.jsx("button",{onClick:()=>Os("delayBetweenCalls"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("span",{className:"text-emerald-400 font-medium",children:[G,"s delay"]})]}),r.jsx(Un,{value:[G],onValueChange:se=>ge(se[0]),max:10,min:0,step:.5,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"No delay"}),r.jsx("span",{children:"Recommended: 1-3s"}),r.jsx("span",{children:"10s delay"})]})]}),r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Ia,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Estimated Performance"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Expected Calls/Hour:"}),r.jsxs("p",{className:"text-white font-medium",children:[Math.min(X*60,U)," calls"]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-400",children:["With ",R.length," contacts:"]}),r.jsx("p",{className:"text-white font-medium",children:R.length>0?`~${Math.max(1,Math.ceil(R.length/Math.min(X*60,U)))} hours`:"0 hours"})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-blue-700/30",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Per Minute:"}),r.jsxs("p",{className:"text-blue-300 font-medium",children:[X,"/min"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Concurrent:"}),r.jsx("p",{className:"text-blue-300 font-medium",children:q})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Delay:"}),r.jsxs("p",{className:"text-blue-300 font-medium",children:[G,"s"]})]})]})})]}),(X>10||q>20)&&r.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(ga,{className:"w-4 h-4 text-amber-400"}),r.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"High Volume Warning"})]}),r.jsx("p",{className:"text-amber-200 text-xs",children:"Aggressive rate limits may trigger carrier spam filters. Consider starting with conservative settings and gradually increasing based on performance."})]})]})]}),s===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Sr,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Retry Logic Enhancements"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure intelligent retry policies for different call outcomes to maximize contact rates while avoiding harassment"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(Sr,{className:"w-4 h-4"}),r.jsx("span",{children:"Smart Retry Settings"}),r.jsx("button",{onClick:()=>Os("retryLogic"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700 p-4",children:[r.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Choose your retry strategy"}),r.jsxs(Hl,{value:be,onValueChange:se=>{console.log(" Retry strategy changed to:",se),Ne(se),se==="basic"?le(2):se==="smart"?le(3):se==="conservative"&&le(5)},className:"space-y-3",children:[r.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors cursor-pointer",children:[r.jsx(Qs,{value:"basic",id:"basic",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-white font-medium",children:" Basic (1-2 retries)"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimal retries for simple campaigns. Good for cold calling."})]})]}),r.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors cursor-pointer",children:[r.jsx(Qs,{value:"smart",id:"smart",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-white font-medium",children:" Smart (3-5 retries)"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intelligent retry logic with exponential backoff. Recommended for most campaigns."})]})]}),r.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors cursor-pointer",children:[r.jsx(Qs,{value:"conservative",id:"conservative",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-white font-medium",children:" Conservative (2-3 retries)"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Respectful retry pattern. Perfect for warm leads and existing customers."})]})]})]})]}),r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Sr,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Retry Strategy Summary"})]}),r.jsx("div",{className:"space-y-2 text-xs text-emerald-200",children:r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Selected Strategy:"})," ",be==="basic"&&"Basic (1-2 retries)",be==="smart"&&"Smart (3-5 retries) - Recommended",be==="conservative"&&"Conservative (2-3 retries)"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Automatic Handling:"})," Failed calls, no answers, busy signals, and voicemails"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Compliance:"})," Respects working hours and daily limits"]})]})})]})]})]}),s===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Hn,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Working Hours & Timezone Management"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Configure timezone-aware scheduling to respect local working hours and improve compliance with calling regulations"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:r.jsx(Hn,{className:"w-4 h-4 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Enable Working Hours"}),r.jsx("button",{onClick:()=>Os("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically schedule calls within appropriate local business hours"})]})]}),r.jsx($r,{checked:vt,onCheckedChange:pr})]}),vt&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(is,{className:"w-4 h-4"}),r.jsx("span",{children:"Weekly Schedule"})]}),r.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:r.jsx("div",{className:"space-y-4",children:Object.entries(xr).map(([se,$e])=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20",children:r.jsx($r,{checked:$e.enabled,onCheckedChange:ct=>Ge(lt=>({...lt,[se]:{...lt[se],enabled:ct}}))})}),r.jsx("div",{className:"w-24 text-white font-medium capitalize",children:se}),$e.enabled&&r.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[r.jsx(Ae,{type:"text",value:$e.start,onChange:ct=>Ge(lt=>({...lt,[se]:{...lt[se],start:ct.target.value}})),placeholder:"09:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),r.jsx("span",{className:"text-gray-400",children:"to"}),r.jsx(Ae,{type:"text",value:$e.end,onChange:ct=>Ge(lt=>({...lt,[se]:{...lt[se],end:ct.target.value}})),placeholder:"17:00",pattern:"[0-9]{2}:[0-9]{2}",className:"bg-gray-900 border-gray-600 text-white w-32"}),r.jsx("span",{className:"text-gray-400 text-sm",children:"(local time)"})]}),!$e.enabled&&r.jsx("div",{className:"flex-1 text-gray-500 text-sm",children:"No calls scheduled"})]},se))})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(ls,{className:"w-4 h-4"}),r.jsx("span",{children:"Advanced Settings"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Exclude Holidays"}),r.jsxs("div",{className:"group relative",children:[r.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),r.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:r.jsx("p",{children:"Automatically skip calls on major holidays to respect contact preferences and improve success rates."})})]})]}),r.jsx($r,{checked:yr,onCheckedChange:kr})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Skip calls on major holidays (New Year's, Christmas, etc.)"})]}),r.jsxs("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Respect DST"}),r.jsxs("div",{className:"group relative",children:[r.jsx(Ht,{className:"w-3 h-3 text-gray-400 cursor-help hover:text-emerald-400 drop-shadow-[0_0_2px_rgba(52,211,153,0.2)] hover:drop-shadow-[0_0_3px_rgba(52,211,153,0.4)] transition-colors duration-200"}),r.jsx("div",{className:"invisible group-hover:visible absolute left-0 top-6 w-64 p-3 bg-gray-800 border border-gray-600 rounded-lg text-xs text-gray-300 z-20 shadow-lg",children:r.jsx("p",{children:"Automatically adjust for Daylight Saving Time changes to maintain consistent local calling hours."})})]})]}),r.jsx($r,{checked:ms,onCheckedChange:Kt})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Auto-adjust for Daylight Saving Time transitions"})]})]})]}),r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Hn,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),r.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",us.replace("_"," ")]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Active Days:"})," ",Object.entries(xr).filter(([se,$e])=>$e.enabled).length," days/week"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Typical Hours:"})," ",xr.monday.enabled?`${xr.monday.start} - ${xr.monday.end}`:"Varies by day"]})]}),r.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[r.jsx("span",{className:"text-gray-400",children:"Special Rules:"})," ",[yr&&"Holiday exclusion",ms&&"DST adjustment"].filter(Boolean).join(", ")||"None"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center space-x-2",children:[r.jsx(ks,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{children:"Timezone-Aware Scheduling Engine"}),r.jsx("div",{className:"px-2 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded text-xs text-yellow-300 font-medium",children:"ADVANCED"})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-4 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:r.jsx(Sr,{className:"w-4 h-4 text-blue-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"CSV Pre-filtering"}),r.jsx("button",{onClick:()=>Os("workingHours"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Filter out contacts before sending to Apex based on their local time"})]})]}),r.jsx($r,{checked:ot,onCheckedChange:_t})]})}),ot&&r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx(ee,{className:"text-white text-sm",children:"Buffer Time (minutes)"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx("span",{className:"text-emerald-400 font-medium text-sm",children:Lt}),r.jsx(Un,{value:[Lt],onValueChange:se=>ie(se[0]),min:0,max:120,step:15,className:"flex-1"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"mins"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Safety buffer before/after working hours"})]})}),ir>0&&r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"w-4 h-4 text-blue-400"}),r.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[ir," contacts excluded from current time window"]})]}),r.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"These contacts will be scheduled for their next available working hours"})]})]})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"p-4 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:r.jsx(is,{className:"w-4 h-4 text-green-400"})}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white font-medium",children:"Holiday Calendar Management"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage regional holidays and custom exclusions"})]})]})}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-white text-sm mb-3 block",children:"Holiday Regions"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["US","CA","UK","AU","DE","FR"].map(se=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:je.includes(se),onChange:$e=>{$e.target.checked?Ue(ct=>[...ct,se]):Ue(ct=>ct.filter(lt=>lt!==se))},className:"rounded border-gray-600 bg-gray-900 text-emerald-600 focus:ring-emerald-500"}),r.jsx("span",{className:"text-white text-sm",children:se})]},se))})]}),r.jsxs("div",{children:[r.jsx(ee,{className:"text-white text-sm",children:"Custom Holiday Dates"}),r.jsx(Ae,{type:"text",placeholder:"2024-12-25, 2024-01-01 (comma-separated)",className:"bg-gray-900 border-gray-600 text-white mt-2",onChange:se=>{const $e=se.target.value.split(",").map(ct=>ct.trim()).filter(ct=>ct);ur($e)}}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add custom dates in YYYY-MM-DD format"})]})]})]})]}),r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(is,{className:"w-4 h-4 text-emerald-400"}),r.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Schedule Summary"})]}),r.jsxs("div",{className:"space-y-2 text-xs text-emerald-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Default Timezone:"})," ",us]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Holiday Regions:"})," ",je.length>0?je.join(", "):"None"]})]}),r.jsxs("div",{className:"pt-2 border-t border-emerald-700/50",children:[r.jsx("span",{className:"text-gray-400",children:"Active Features:"})," ",[yr&&"Holiday exclusion",ms&&"DST adjustment"].filter(Boolean).join(", ")||"Basic scheduling only"]})]})]})]})]}),s===5&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ot,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Management"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Invite team members to collaborate on this campaign with specific roles and permissions"})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:r.jsx(Ot,{className:"w-4 h-4 text-emerald-400"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ee,{className:"text-white font-medium",children:"Enable Team Collaboration"}),r.jsx("button",{onClick:()=>Os("teamManagement"),className:"text-gray-400 hover:text-emerald-400 transition-colors duration-200",children:r.jsx(Ht,{className:"w-4 h-4 cursor-pointer drop-shadow-[0_0_3px_rgba(52,211,153,0.3)] hover:drop-shadow-[0_0_4px_rgba(52,211,153,0.5)]"})})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Allow team members to collaborate on this campaign"})]})]}),r.jsx($r,{checked:qs,onCheckedChange:Fa})]}),qs?r.jsx(e9,{teamMembers:ts,invitations:Ts,onAddMember:async(se,$e)=>{const ct={id:`inv-${Date.now()}`,email:se,role:$e,status:"pending",invitationToken:`token-${Date.now()}`,expiresAt:new Date(Date.now()+6048e5).toISOString(),createdAt:new Date().toISOString(),crmAccessLevel:$e==="manager"?"all_leads":$e==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:$e==="manager"||$e==="agent",delete:$e==="manager",export:$e==="manager"||$e==="agent",assign:$e==="manager"}};za(lt=>[...lt,ct])},onRemoveMember:async se=>{hs($e=>$e.filter(ct=>ct.id!==se))},onUpdateRole:async(se,$e)=>{hs(ct=>ct.map(lt=>lt.id===se?{...lt,role:$e,crmAccessLevel:$e==="manager"?"all_leads":$e==="agent"?"campaign_leads":"no_access",leadPermissions:{view:!0,edit:$e==="manager"||$e==="agent",delete:$e==="manager",export:$e==="manager"||$e==="agent",assign:$e==="manager"}}:lt))},onResendInvitation:async se=>{console.log("Resending invitation:",se)},onCancelInvitation:async se=>{za($e=>$e.filter(ct=>ct.id!==se))},isEditable:!0}):r.jsxs("div",{className:"text-center py-12 bg-gray-800/20 rounded-lg border border-gray-700",children:[r.jsx(Ot,{className:"mx-auto mb-4 h-12 w-12 text-gray-600"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Team Collaboration Disabled"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"This campaign will only be accessible by you. Enable team management to invite collaborators."}),r.jsxs(K,{onClick:()=>Fa(!0),variant:"outline",className:"border-emerald-600 text-emerald-400 hover:bg-emerald-600/20",children:[r.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Enable Team Management"]})]}),qs&&r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Ot,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"Team Summary"})]}),r.jsxs("div",{className:"space-y-2 text-xs text-blue-200",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Active Members:"})," ",ts.length]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Pending Invites:"})," ",Ts.length]})]}),r.jsxs("div",{className:"pt-2 border-t border-blue-700/50",children:[r.jsx("span",{className:"text-gray-400",children:"Collaboration Level:"})," ",ts.length+Ts.length>0?"Multi-user campaign":"Single-user campaign"]})]})]})]}),s===6&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-800 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-emerald-400"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Review & Launch"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Review your campaign estimates and costs before launching"})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[r.jsx(Sr,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Campaign: ",n]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Total Leads"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:R.length.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Retry Strategy"}),r.jsx("p",{className:"text-xl font-semibold text-white capitalize",children:be})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Working Hours"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:vt?"8 hrs/day":"24/7"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400",children:"Team Members"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:ts.length+Ts.length})]})]})]}),Mt&&r.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[r.jsx(Ft,{className:"w-5 h-5 mr-2"}),"Timeline Estimates"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Attempts"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:Mt.totalAttempts.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Including retries"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Minutes"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:Mt.totalMinutes.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Call time"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Campaign Length"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:[Mt.campaignDays," days"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working hours"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Throughput"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:[(ft/ka).toFixed(1)," calls/min"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concurrent: ",ft]})]})]})]}),r.jsxs("div",{className:"bg-pink-900/20 border border-pink-700/50 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-pink-300 mb-4 flex items-center",children:[r.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Cost Breakdown"]}),r.jsx("div",{className:"mb-4 flex items-center space-x-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Average Call Duration (minutes)"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ae,{type:"number",value:ka,onChange:se=>Di(Number(se.target.value)),min:"0.5",max:"10",step:"0.5",className:"w-24 bg-gray-900 border-gray-600 text-white"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Default based on industry average"})]})]})}),r.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-300 mb-3",children:"Cost per Minute Breakdown"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Apex Hosting"}),r.jsx("span",{className:"text-white",children:"$0.05"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Transcription (STT)"}),r.jsx("span",{className:"text-white",children:"$0.01"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Text-to-Speech (TTS)"}),r.jsx("span",{className:"text-white",children:"$0.05"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Language Model (LLM)"}),r.jsx("span",{className:"text-white",children:"$0.07"})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-700 font-medium",children:[r.jsx("span",{className:"text-white",children:"Total per Minute"}),r.jsxs("span",{className:"text-emerald-400",children:["$",Ee.toFixed(2)]})]})]})]}),Mt&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Total Estimated Cost"}),r.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",Mt.totalCost.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Mt.totalMinutes.toLocaleString()," minutes  $",Ee,"/min"]})]})]}),r.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[r.jsx(nS,{className:"w-5 h-5 mr-2 text-blue-400"}),"Credit Balance Check"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ee,{className:"text-sm text-gray-400",children:"Current Apex Credit Balance"}),r.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[r.jsx(Ae,{type:"number",placeholder:"Enter your current balance",value:kt||"",onChange:se=>ar(se.target.value?Number(se.target.value):null),className:"w-48 bg-gray-900 border-gray-600 text-white"}),r.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center",children:["Check Balance",r.jsx(Si,{className:"w-3 h-3 ml-1"})]})]})]}),kt!==null&&Mt&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`p-4 rounded-lg border ${Mt.balanceStatus==="healthy"?"bg-emerald-900/20 border-emerald-700/50":Mt.balanceStatus==="warning"?"bg-yellow-900/20 border-yellow-700/50":"bg-red-900/20 border-red-700/50"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[Mt.balanceStatus==="healthy"?r.jsx(yt,{className:"w-5 h-5 text-emerald-400"}):Mt.balanceStatus==="warning"?r.jsx(ga,{className:"w-5 h-5 text-yellow-400"}):r.jsx(Dt,{className:"w-5 h-5 text-red-400"}),r.jsx("p",{className:`font-medium ${Mt.balanceStatus==="healthy"?"text-emerald-300":Mt.balanceStatus==="warning"?"text-yellow-300":"text-red-300"}`,children:Mt.balanceStatus==="healthy"?"Balance Healthy":Mt.balanceStatus==="warning"?"Balance Warning":"Insufficient Balance"})]}),r.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Current: $",kt.toLocaleString()," | Required: $",Mt.totalCost.toLocaleString()," |",Mt.balanceStatus==="healthy"?` Surplus: $${(kt-Mt.totalCost).toLocaleString()}`:` Deficit: $${(Mt.totalCost-kt).toLocaleString()}`]})]}),Mt.recommendedTopUp>0&&r.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-300 mb-1",children:"Recommended Top-Up"}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",Mt.recommendedTopUp]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Includes 20% buffer for variations in call duration"}),r.jsxs("a",{href:"https://dashboard.vapi.ai/org/billing/credits",target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center text-sm text-blue-400 hover:text-blue-300",children:["Add Credits in Apex Dashboard",r.jsx(Si,{className:"w-3 h-3 ml-1"})]})]})]})]})]}),r.jsx("div",{className:"bg-gray-800/20 rounded-lg p-4 border border-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ht,{className:"w-5 h-5 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"text-sm text-gray-400",children:[r.jsx("p",{className:"font-medium text-gray-300 mb-2",children:"Important Notes:"}),r.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Estimates assume scrubbed contact lists and may vary based on actual call outcomes"}),r.jsx("li",{children:"No-answer and voicemail attempts count toward total minutes but may be shorter"}),r.jsx("li",{children:"Consider upgrading your Apex plan for better per-minute rates on high-volume campaigns"}),r.jsx("li",{children:"Monitor campaign progress to adjust estimates based on actual performance"})]})]})]})}),Mt&&r.jsxs("div",{className:"bg-emerald-900/10 border border-emerald-700/30 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-emerald-300 mb-4 flex items-center",children:[r.jsx(Ql,{className:"w-5 h-5 mr-2"}),"Launch Summary"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:Mt.campaignDays}),r.jsx("p",{className:"text-sm text-gray-400",children:"Days to Complete"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",Mt.totalCost]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Cost"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-3xl font-bold text-white",children:Mt.totalAttempts.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Call Attempts"})]})]})]})]})]}),r.jsx("div",{className:"p-6 border-t border-gray-800 bg-gray-900",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(K,{variant:"outline",onClick:wc,disabled:b,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:s===1?"Cancel":"Back"}),r.jsx(K,{onClick:s===6?ml:bc,disabled:b,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:s===6?b?"Creating...":"Launch campaign":"Next"})]})})]}),s===1&&r.jsx("div",{className:"w-1/2 bg-gray-950 border-l border-gray-800",children:w&&R.length>0?r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-800 bg-gray-900",children:r.jsxs("h3",{className:"text-lg font-semibold text-white",children:["CSV Preview (",R.length," contacts)"]})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("div",{className:"h-full overflow-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:r.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[r.jsx("thead",{className:"sticky top-0 z-10",children:r.jsx("tr",{children:Object.keys(R[0]||{}).map((se,$e)=>r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 bg-gray-800 border-b border-gray-700 first:pl-6 last:pr-6",children:se},se))})}),r.jsx("tbody",{children:R.map((se,$e)=>r.jsx("tr",{className:"group hover:bg-gray-800/30 transition-colors",children:Object.values(se).map((ct,lt)=>r.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-300 border-b border-gray-800/50 first:pl-6 last:pr-6 group-hover:text-white transition-colors",children:r.jsx("div",{className:"truncate max-w-[200px]",title:ct,children:ct})},lt))},$e))})]})})}),R.length>100&&r.jsx("div",{className:"px-6 py-3 border-t border-gray-800 bg-gray-900",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["Displaying all ",R.length," contacts  Scroll to view more"]})})]}):r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(qo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-sm",children:"Upload a CSV file to preview contacts"})]})})}),s>1&&r.jsx("div",{className:`${Sa?"w-1/2":"w-0"} flex flex-col border-l border-gray-800 bg-gray-950 transition-all duration-300 overflow-hidden`,children:Sa&&Ca&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-6 border-b border-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:(Aa=bo[Ca])==null?void 0:Aa.title}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(Ud=bo[Ca])==null?void 0:Ud.description})]}),r.jsx("button",{onClick:()=>bs(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx(At,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600",children:r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-4",dangerouslySetInnerHTML:{__html:(Q=bo[Ca])==null?void 0:Q.content.replace(/## /g,'<h2 class="text-lg font-semibold text-white mt-6 mb-3">').replace(/### /g,'<h3 class="text-base font-medium text-white mt-5 mb-2">').replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-medium">$1</strong>').replace(/- (.*?)$/gm,'<li class="ml-4">$1</li>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2"><span class="text-green-400 text-sm"></span><span class="text-green-300 font-medium">$1</span></div>').replace(/ \*\*(.*?)\*\*/g,'<div class="flex items-start space-x-2 my-2 p-3 bg-amber-900/20 border border-amber-700/50 rounded-lg"><span class="text-amber-400 text-sm"></span><span class="text-amber-200 font-medium">$1</span></div>').replace(/\n\n/g,'</div><div class="mt-4">').replace(/^/,"<div>").replace(/$/,"</div>")}})})}),r.jsx("div",{className:"p-4 border-t border-gray-800 bg-gray-900",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Need more help? Check our documentation"}),r.jsx("button",{onClick:()=>bs(!1),className:"px-3 py-1.5 text-xs text-gray-400 hover:text-white border border-gray-600 hover:border-gray-500 rounded transition-colors",children:"Close"})]})})]})})]})]})})},DN=()=>{console.log(" VapiDashboard component is rendering!");const[e,t]=p.useState(!0),[s,a]=p.useState([]),[n,i]=p.useState([]),[o,l]=p.useState(null),[d,u]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(null),[w,v]=p.useState("all"),[b,N]=p.useState([]),[S,_]=p.useState("all"),[k,T]=p.useState(!1),[A,E]=p.useState("campaigns"),{toast:R}=Ur(),{userContext:z}=po(),B=br();mp();const O=q7();p.useEffect(()=>{console.log(" VapiDashboard: Component mounted, starting data load..."),(async()=>{try{await I()}catch(U){console.error(" VapiDashboard: Critical error during initialization:",U),a([]),i([]),l({}),T(!0),t(!1)}})()},[k]);const I=async(D=!0)=>{console.log(" VapiDashboard: Starting data load, showLoader:",D),D&&t(!0);try{console.log(" VapiDashboard: Loading real campaigns data..."),console.log(" Using direct Supabase service...");const U=await Hx.getCampaigns();console.log(" VapiDashboard: Campaigns loaded from Supabase:",U),U&&Array.isArray(U)?(a(U),console.log(" Set",U.length,"real campaigns")):(console.warn("Campaigns data is not an array:",U),a([]));const H=await Hx.getRecentCalls(10);console.log(" VapiDashboard: Recent calls loaded from Supabase:",H),i(H||[]);const M=U.reduce((L,q)=>({totalCalls:L.totalCalls+(q.totalLeads||0),totalCost:L.totalCost+(q.totalCost||0),successfulCalls:L.successfulCalls+Math.floor((q.callsCompleted||0)*(q.successRate||0)/100),totalDuration:L.totalDuration+(q.callsCompleted||0)*120,totalCompletedCalls:L.totalCompletedCalls+(q.callsCompleted||0)}),{totalCalls:0,totalCost:0,successfulCalls:0,totalDuration:0,totalCompletedCalls:0});M.successRate=M.totalCalls>0?M.successfulCalls/M.totalCalls*100:0,M.averageDuration=M.totalCompletedCalls>0?M.totalDuration/M.totalCompletedCalls:0,M.sentimentBreakdown={positive:Math.round(M.successfulCalls*.6),neutral:Math.round(M.successfulCalls*.3),negative:Math.round(M.successfulCalls*.1)},M.sentimentBreakdown||(M.sentimentBreakdown={positive:0,neutral:0,negative:0}),M.outcomeBreakdown||(M.outcomeBreakdown={}),M.successRate||(M.successRate=0),M.totalCost||(M.totalCost=0),M.activeAssistants||(M.activeAssistants=0),l(M),T(!0)}catch(U){console.error("Error loading dashboard data:",U),a([]),i([]),l({}),R({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{D&&t(!1)}},F=async(D,U)=>{try{let H;switch(U){case"start":H=await O.startCampaign(D);break;case"pause":H=await O.pauseCampaign(D);break;case"resume":H=await O.resumeCampaign(D);break;default:throw new Error(`Unknown action: ${U}`)}R({title:"Success",description:`Campaign ${U}ed successfully`}),I(!1)}catch(H){console.error(`Failed to ${U} campaign:`,H),R({title:"Error",description:`Failed to ${U} campaign. Please try again.`,variant:"destructive"})}},V=D=>{switch(D==null?void 0:D.toLowerCase()){case"active":return"text-emerald-400 bg-emerald-500/10 border-emerald-500/30";case"paused":return"text-amber-400 bg-amber-500/10 border-amber-500/30";case"completed":return"text-blue-400 bg-blue-500/10 border-blue-500/30";case"failed":return"text-red-400 bg-red-500/10 border-red-500/30";default:return"text-gray-400 bg-gray-500/10 border-gray-500/30"}},W=D=>{switch(D==null?void 0:D.toLowerCase()){case"active":return r.jsx(ZG,{className:"h-3 w-3"});case"paused":return r.jsx(XG,{className:"h-3 w-3"});case"completed":return r.jsx(yt,{className:"h-3 w-3"});case"failed":return r.jsx(Dt,{className:"h-3 w-3"});default:return r.jsx(QG,{className:"h-3 w-3"})}},X=(s||[]).filter(D=>w==="all"?!0:w==="active"?D.status==="active":w==="paused"?D.status==="paused":!0);return e?r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-emerald-400"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Loading campaigns dashboard..."})]})}):r.jsxs("div",{className:"w-full min-h-screen px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-emerald-400",children:"Trinity AICampaigns"})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(K,{variant:"outline",onClick:()=>I(!1),className:"border-white/10 text-gray-300 hover:bg-white/5 hover:text-white hover:border-emerald-500/30",children:[r.jsx(ea,{className:"mr-2 h-4 w-4"}),"Refresh"]}),A==="campaigns"&&r.jsxs(K,{onClick:()=>u(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex space-x-1 glass-card p-1 rounded-lg w-fit",children:[r.jsxs("button",{onClick:()=>E("campaigns"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${A==="campaigns"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[r.jsx(Sr,{className:"mr-2 h-4 w-4 inline"}),"Campaigns"]}),r.jsxs("button",{onClick:()=>E("concurrency"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${A==="concurrency"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[r.jsx(q3,{className:"mr-2 h-4 w-4 inline"}),"Concurrency Manager"]})]})}),A==="campaigns"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 md:grid-cols-4",children:[r.jsx(Y,{className:"glass-panel hover:bg-white/5 transition-all duration-300",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Total Campaigns"}),r.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:s.length})]}),r.jsx(Sr,{className:"h-8 w-8 text-purple-400 drop-shadow-[0_0_8px_rgba(192,132,252,0.5)]"})]})})}),r.jsx(Y,{className:"glass-panel hover:bg-white/5 transition-all duration-300",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Active"}),r.jsx("p",{className:"text-3xl font-bold text-matrix mt-1",children:s.filter(D=>D.status==="active").length})]}),r.jsx(Kn,{className:"h-8 w-8 text-emerald-400 drop-shadow-[0_0_8px_rgba(52,211,153,0.5)]"})]})})}),r.jsx(Y,{className:"glass-panel hover:bg-white/5 transition-all duration-300",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Paused"}),r.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:s.filter(D=>D.status==="paused").length})]}),r.jsx(gd,{className:"h-8 w-8 text-amber-400"})]})})}),r.jsx(Y,{className:"glass-panel hover:bg-white/5 transition-all duration-300",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Draft"}),r.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:s.filter(D=>D.status==="draft").length})]}),r.jsx(ls,{className:"h-8 w-8 text-gray-400"})]})})})]}),r.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[r.jsx("div",{className:"border-b border-white/10 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Campaigns"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Manage and monitor your voice AI campaigns"})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-black/20 rounded-lg p-1 border border-white/5",children:[r.jsx(K,{variant:w==="all"?"default":"ghost",size:"sm",onClick:()=>v("all"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="all"?"bg-white/10 text-white shadow-sm border border-white/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"All"}),r.jsx(K,{variant:w==="active"?"default":"ghost",size:"sm",onClick:()=>v("active"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="active"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 shadow-[0_0_10px_rgba(16,185,129,0.2)]":"text-gray-400 hover:text-emerald-400 hover:bg-emerald-500/10"}`,children:"Active"}),r.jsx(K,{variant:w==="paused"?"default":"ghost",size:"sm",onClick:()=>v("paused"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${w==="paused"?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-gray-400 hover:text-amber-400 hover:bg-amber-500/10"}`,children:"Paused"})]})]})}),r.jsx("div",{className:"p-6",children:X.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Sr,{className:"mx-auto mb-4 h-12 w-12 text-gray-600 opacity-50"}),r.jsx("p",{className:"mb-4 text-gray-400",children:"No campaigns found"}),r.jsxs(K,{onClick:()=>u(!0),className:"bg-emerald-600 text-white hover:bg-emerald-700",children:[r.jsx(zr,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]}):r.jsx("div",{className:"space-y-4",children:X.map((D,U)=>{var H,M;return r.jsx("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl border border-white/5 bg-white/[0.02] p-6 backdrop-blur-sm transition-all duration-300 hover:border-emerald-500/30 hover:bg-white/[0.04] hover:shadow-lg hover:shadow-emerald-500/5 hover:-translate-y-0.5",onClick:()=>B(`/campaigns/${D.id}`),children:r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-1 tracking-tight group-hover:text-emerald-400 transition-colors",children:D.name}),r.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["ID: ",D.apexId||"apex00000"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(ke,{variant:"outline",className:`${V(D.status)} px-3 py-1 text-xs font-semibold inline-flex items-center justify-center min-w-[80px]`,children:[W(D.status),r.jsx("span",{className:"ml-2 capitalize",children:D.status})]}),r.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[D.status==="draft"&&r.jsxs(K,{size:"sm",variant:"outline",className:"h-8 border-emerald-500/30 bg-emerald-500/10 text-emerald-400 hover:border-emerald-400 hover:bg-emerald-500/20",onClick:L=>{L.stopPropagation(),F(D.id,"start")},children:[r.jsx(Kn,{className:"mr-2 h-3.5 w-3.5"}),"Start"]}),D.status==="active"&&r.jsxs(K,{size:"sm",variant:"outline",className:"h-8 border-amber-500/30 bg-amber-500/10 text-amber-400 hover:border-amber-400 hover:bg-amber-500/20",onClick:L=>{L.stopPropagation(),F(D.id,"pause")},children:[r.jsx(gd,{className:"mr-2 h-3.5 w-3.5"}),"Pause"]}),D.status==="paused"&&r.jsxs(K,{size:"sm",variant:"outline",className:"h-8 border-emerald-500/30 bg-emerald-500/10 text-emerald-400 hover:border-emerald-400 hover:bg-emerald-500/20",onClick:L=>{L.stopPropagation(),F(D.id,"resume")},children:[r.jsx(Kn,{className:"mr-2 h-3.5 w-3.5"}),"Resume"]}),r.jsx(K,{size:"sm",variant:"ghost",onClick:L=>{L.stopPropagation(),y(D),f(!0)},className:"h-8 w-8 text-gray-400 hover:bg-white/10 hover:text-white p-0",children:r.jsx(ls,{className:"h-4 w-4"})}),r.jsx(K,{size:"sm",variant:"ghost",onClick:L=>{L.stopPropagation(),B(`/campaigns/${D.id}/calls`)},className:"h-8 w-8 text-gray-400 hover:bg-white/10 hover:text-white p-0",children:r.jsx(Si,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"bg-white/[0.03] rounded-lg p-3 border border-white/5",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 mb-1",children:[r.jsx(Ot,{className:"h-4 w-4 text-blue-400"}),r.jsx("span",{className:"text-xs uppercase tracking-wider font-medium",children:"Leads"})]}),r.jsx("p",{className:"text-lg font-bold text-white",children:D.totalLeads||0})]}),r.jsxs("div",{className:"bg-white/[0.03] rounded-lg p-3 border border-white/5",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 mb-1",children:[r.jsx(yt,{className:"h-4 w-4 text-emerald-400"}),r.jsx("span",{className:"text-xs uppercase tracking-wider font-medium",children:"Done"})]}),r.jsx("p",{className:"text-lg font-bold text-white",children:D.callsCompleted||0})]}),r.jsxs("div",{className:"bg-white/[0.03] rounded-lg p-3 border border-white/5",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 mb-1",children:[r.jsx(Hr,{className:"h-4 w-4 text-amber-400"}),r.jsx("span",{className:"text-xs uppercase tracking-wider font-medium",children:"Cost"})]}),r.jsxs("p",{className:"text-lg font-bold text-white",children:["$",((H=D.totalCost)==null?void 0:H.toFixed(2))||"0.00"]})]}),r.jsxs("div",{className:"bg-white/[0.03] rounded-lg p-3 border border-white/5",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-gray-400 mb-1",children:[r.jsx(ba,{className:"h-4 w-4 text-pink-400"}),r.jsx("span",{className:"text-xs uppercase tracking-wider font-medium",children:"Success"})]}),r.jsxs("p",{className:"text-lg font-bold text-white",children:[((M=D.successRate)==null?void 0:M.toFixed(1))||0,"%"]})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:"Completion"}),r.jsxs("span",{className:"text-xs font-bold text-white font-mono",children:[Math.round(D.totalLeads?(D.callsCompleted||0)/D.totalLeads*100:0),"%"]})]}),r.jsx("div",{className:"h-1.5 w-full rounded-full bg-white/10 overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-emerald-500 to-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.3)] transition-all duration-700 ease-out relative",style:{width:`${Math.min(D.totalLeads?(D.callsCompleted||0)/D.totalLeads*100:0,100)}%`}})})]})]})},D.id)})})})]})]}),A==="concurrency"&&r.jsx(W_e,{}),d&&r.jsx(K_e,{onCampaignCreated:D=>{u(!1),I(!1),R({title:"Campaign Created",description:`Campaign "${D.name}" has been created successfully!`})},onCancel:()=>u(!1)}),h&&g&&r.jsx(B_e,{campaign:g,onCampaignUpdated:D=>{a(U=>U.map(H=>H.id===D.id?{...H,...D,updatedAt:new Date().toISOString()}:H)),f(!1),y(null),R({title:"Campaign Updated",description:`Campaign "${D.name}" has been updated successfully!`})},onCancel:()=>{f(!1),y(null)}})]})};function G_e(){return r.jsx(Pne,{children:r.jsxs(sZ,{children:[r.jsxs(MK,{children:[r.jsx(xt,{path:"/",element:r.jsx(iy,{to:"/crm",replace:!0})}),r.jsx(xt,{path:"/login/*",element:r.jsx(LP,{children:r.jsx(eH,{})})}),r.jsx(xt,{path:"/signup/*",element:r.jsx(LP,{children:r.jsx(tH,{})})}),r.jsx(xt,{path:"/accept-invitation",element:r.jsx(Ine,{})}),r.jsx(xt,{path:"/force-logout",element:r.jsx(A1e,{})}),r.jsx(xt,{path:"/portal",element:r.jsx(OE,{children:r.jsx(kne,{})})}),r.jsx(xt,{path:"/scale-architecture",element:r.jsx(f_e,{})}),r.jsxs(xt,{element:r.jsx(OE,{children:r.jsx(Cne,{})}),children:[r.jsx(xt,{path:"/dashboard",element:r.jsx(k1e,{})}),r.jsx(xt,{path:"/campaigns",element:r.jsx(DN,{})}),r.jsx(xt,{path:"/vapi-dashboard",element:r.jsx(DN,{})}),r.jsx(xt,{path:"/test-campaigns",element:r.jsx(DN,{})}),r.jsx(xt,{path:"/assistants",element:r.jsx(One,{})}),r.jsx(xt,{path:"/campaign-wizard",element:r.jsx(_1e,{})}),r.jsx(xt,{path:"/campaigns/:id",element:r.jsx(u1e,{})}),r.jsx(xt,{path:"/campaigns/:campaignId/calls",element:r.jsx(r1e,{})}),r.jsx(xt,{path:"/campaign-processor",element:r.jsx(h1e,{})}),r.jsx(xt,{path:"/calls/:callId",element:r.jsx(t1e,{})}),r.jsx(xt,{path:"/leads/:leadId",element:r.jsx(T1e,{})}),r.jsx(xt,{path:"/all-calls",element:r.jsx(Pie,{})}),r.jsx(xt,{path:"/live-calls",element:r.jsx(O1e,{})}),r.jsx(xt,{path:"/analytics",element:r.jsx(Xje,{})}),r.jsx(xt,{path:"/cost-analytics",element:r.jsx(C1e,{})}),r.jsx(xt,{path:"/crm",element:r.jsx(YNe,{})}),r.jsx(xt,{path:"/phone-numbers",element:r.jsx(c_e,{})}),r.jsx(xt,{path:"/messaging",element:r.jsx(R1e,{})}),r.jsx(xt,{path:"/appointments",element:r.jsx(pNe,{})}),r.jsx(xt,{path:"/settings",element:r.jsx(x_e,{})}),r.jsx(xt,{path:"/organization-settings",element:r.jsx(Rn,{allowedRoles:["client_admin","platform_owner"],redirectTo:"/dashboard",children:r.jsx(Ene,{children:r.jsx(n_e,{})})})}),r.jsx(xt,{path:"/api-keys",element:r.jsx(hNe,{})}),r.jsx(xt,{path:"/billing",element:r.jsx(PNe,{})}),r.jsx(xt,{path:"/notifications",element:r.jsx(L1e,{})}),r.jsx(xt,{path:"/platform",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(WR,{})})}),r.jsx(xt,{path:"/platform-owner",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(WR,{})})}),r.jsx(xt,{path:"/organizations",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(l_e,{})})}),r.jsx(xt,{path:"/organizations/:id",element:r.jsx(Rn,{allowedRoles:["platform_owner","client_admin"],redirectTo:"/dashboard",children:r.jsx(W1e,{})})}),r.jsx(xt,{path:"/organization-setup",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(o_e,{})})}),r.jsx(xt,{path:"/user-management",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(j_e,{})})}),r.jsx(xt,{path:"/team-management",element:r.jsx(Rn,{allowedRoles:["platform_owner","client_admin","agency_admin"],redirectTo:"/dashboard",children:r.jsx(b_e,{})})}),r.jsx(xt,{path:"/support-tickets",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(y_e,{})})}),r.jsx(xt,{path:"/platform-analytics",element:r.jsx(Rn,{allowedRoles:["platform_owner"],redirectTo:"/dashboard",children:r.jsx(h_e,{})})}),r.jsx(xt,{path:"/agency",element:r.jsx(Rn,{allowedRoles:["agency_owner","agency_admin","agency_user"],redirectTo:"/dashboard",children:r.jsx(Hne,{})})}),r.jsx(xt,{path:"/clients",element:r.jsx(Rn,{allowedRoles:["agency_owner","agency_admin","platform_owner"],redirectTo:"/dashboard",children:r.jsx(S1e,{})})}),r.jsx(xt,{path:"/audit-logs",element:r.jsx(bNe,{})}),r.jsx(xt,{path:"/system-health",element:r.jsx(v_e,{})}),r.jsx(xt,{path:"*",element:r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-950 via-black to-gray-950",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:"404 - Page Not Found"}),r.jsx("p",{className:"text-gray-400",children:"The page you're looking for doesn't exist."})]})})})]})]}),r.jsx(iJ,{})]})})}const bt=e=>typeof e=="string",Wh=()=>{let e,t;const s=new Promise((a,n)=>{e=a,t=n});return s.resolve=e,s.reject=t,s},HR=e=>e==null?"":""+e,Y_e=(e,t,s)=>{e.forEach(a=>{t[a]&&(s[a]=t[a])})},J_e=/###/g,KR=e=>e&&e.indexOf("###")>-1?e.replace(J_e,"."):e,GR=e=>!e||bt(e),uf=(e,t,s)=>{const a=bt(t)?t.split("."):t;let n=0;for(;n<a.length-1;){if(GR(e))return{};const i=KR(a[n]);!e[i]&&s&&(e[i]=new s),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return GR(e)?{}:{obj:e,k:KR(a[n])}},YR=(e,t,s)=>{const{obj:a,k:n}=uf(e,t,Object);if(a!==void 0||t.length===1){a[n]=s;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=uf(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=uf(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=s},X_e=(e,t,s,a)=>{const{obj:n,k:i}=uf(e,t,Object);n[i]=n[i]||[],n[i].push(s)},Gx=(e,t)=>{const{obj:s,k:a}=uf(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,a))return s[a]},Z_e=(e,t,s)=>{const a=Gx(e,s);return a!==void 0?a:Gx(t,s)},t9=(e,t,s)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?bt(e[a])||e[a]instanceof String||bt(t[a])||t[a]instanceof String?s&&(e[a]=t[a]):t9(e[a],t[a],s):e[a]=t[a]);return e},Pu=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Q_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const eSe=e=>bt(e)?e.replace(/[&<>"'\/]/g,t=>Q_e[t]):e;class tSe{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const s=this.regExpMap.get(t);if(s!==void 0)return s;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const rSe=[" ",",","?","!",";"],sSe=new tSe(20),aSe=(e,t,s)=>{t=t||"",s=s||"";const a=rSe.filter(o=>t.indexOf(o)<0&&s.indexOf(o)<0);if(a.length===0)return!0;const n=sSe.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!n.test(e);if(!i){const o=e.indexOf(s);o>0&&!n.test(e.substring(0,o))&&(i=!0)}return i},W_=(e,t,s=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(s);let n=e;for(let i=0;i<a.length;){if(!n||typeof n!="object")return;let o,l="";for(let d=i;d<a.length;++d)if(d!==i&&(l+=s),l+=a[d],o=n[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<a.length-1)continue;i+=d-i+1;break}n=o}return n},$f=e=>e==null?void 0:e.replace("_","-"),nSe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var s,a;(a=(s=console==null?void 0:console[e])==null?void 0:s.apply)==null||a.call(s,console,t)}};class Yx{constructor(t,s={}){this.init(t,s)}init(t,s={}){this.prefix=s.prefix||"i18next:",this.logger=t||nSe,this.options=s,this.debug=s.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,s,a,n){return n&&!this.debug?null:(bt(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[s](t))}create(t){return new Yx(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Yx(this.logger,t)}}var Xi=new Yx;class Ov{constructor(){this.observers={}}on(t,s){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const n=this.observers[a].get(s)||0;this.observers[a].set(s,n+1)}),this}off(t,s){if(this.observers[t]){if(!s){delete this.observers[t];return}this.observers[t].delete(s)}}emit(t,...s){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let o=0;o<i;o++)n(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let o=0;o<i;o++)n.apply(n,[t,...s])})}}class JR extends Ov{constructor(t,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const s=this.options.ns.indexOf(t);s>-1&&this.options.ns.splice(s,1)}getResource(t,s,a,n={}){var u,h;const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,s],a&&(Array.isArray(a)?l.push(...a):bt(a)&&i?l.push(...a.split(i)):l.push(a)));const d=Gx(this.data,l);return!d&&!s&&!a&&t.indexOf(".")>-1&&(t=l[0],s=l[1],a=l.slice(2).join(".")),d||!o||!bt(a)?d:W_((h=(u=this.data)==null?void 0:u[t])==null?void 0:h[s],a,i)}addResource(t,s,a,n,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,s];a&&(l=l.concat(o?a.split(o):a)),t.indexOf(".")>-1&&(l=t.split("."),n=s,s=l[1]),this.addNamespaces(s),YR(this.data,l,n),i.silent||this.emit("added",t,s,a,n)}addResources(t,s,a,n={silent:!1}){for(const i in a)(bt(a[i])||Array.isArray(a[i]))&&this.addResource(t,s,i,a[i],{silent:!0});n.silent||this.emit("added",t,s,a)}addResourceBundle(t,s,a,n,i,o={silent:!1,skipCopy:!1}){let l=[t,s];t.indexOf(".")>-1&&(l=t.split("."),n=a,a=s,s=l[1]),this.addNamespaces(s);let d=Gx(this.data,l)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),n?t9(d,a,i):d={...d,...a},YR(this.data,l,d),o.silent||this.emit("added",t,s,a)}removeResourceBundle(t,s){this.hasResourceBundle(t,s)&&delete this.data[t][s],this.removeNamespaces(s),this.emit("removed",t,s)}hasResourceBundle(t,s){return this.getResource(t,s)!==void 0}getResourceBundle(t,s){return s||(s=this.options.defaultNS),this.getResource(t,s)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const s=this.getDataByLanguage(t);return!!(s&&Object.keys(s)||[]).find(n=>s[n]&&Object.keys(s[n]).length>0)}toJSON(){return this.data}}var r9={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,a,n){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,s,a,n))??t}),t}};const XR={},ZR=e=>!bt(e)&&typeof e!="boolean"&&typeof e!="number";class Jx extends Ov{constructor(t,s={}){super(),Y_e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xi.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,s={interpolation:{}}){const a={...s};if(t==null)return!1;const n=this.resolve(t,a);return(n==null?void 0:n.res)!==void 0}extractFromKey(t,s){let a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const o=a&&t.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!aSe(t,a,n);if(o&&!l){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:bt(i)?[i]:i};const u=t.split(a);(a!==n||a===n&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(n)}return{key:t,namespaces:bt(i)?[i]:i}}translate(t,s,a){let n=typeof s=="object"?{...s}:s;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:d}=this.extractFromKey(t[t.length-1],n),u=d[d.length-1];let h=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const f=n.lng||this.language,g=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return g?i?{res:`${u}${h}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${h}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:l;const y=this.resolve(t,n);let w=y==null?void 0:y.res;const v=(y==null?void 0:y.usedKey)||l,b=(y==null?void 0:y.exactUsedKey)||l,N=["[object Number]","[object Function]","[object RegExp]"],S=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k=n.count!==void 0&&!bt(n.count),T=Jx.hasDefaultValue(n),A=k?this.pluralResolver.getSuffix(f,n.count,n):"",E=n.ordinal&&k?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",R=k&&!n.ordinal&&n.count===0,z=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${A}`]||n[`defaultValue${E}`]||n.defaultValue;let B=w;_&&!w&&T&&(B=z);const O=ZR(B),I=Object.prototype.toString.apply(B);if(_&&B&&O&&N.indexOf(I)<0&&!(bt(S)&&Array.isArray(B))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,B,{...n,ns:d}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(y.res=F,y.usedParams=this.getUsedParamsDetails(n),y):F}if(o){const F=Array.isArray(B),V=F?[]:{},W=F?b:v;for(const X in B)if(Object.prototype.hasOwnProperty.call(B,X)){const D=`${W}${o}${X}`;T&&!w?V[X]=this.translate(D,{...n,defaultValue:ZR(z)?z[X]:void 0,joinArrays:!1,ns:d}):V[X]=this.translate(D,{...n,joinArrays:!1,ns:d}),V[X]===D&&(V[X]=B[X])}w=V}}else if(_&&bt(S)&&Array.isArray(w))w=w.join(S),w&&(w=this.extendTranslation(w,t,n,a));else{let F=!1,V=!1;!this.isValidLookup(w)&&T&&(F=!0,w=z),this.isValidLookup(w)||(V=!0,w=l);const X=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:w,D=T&&z!==w&&this.options.updateMissing;if(V||F||D){if(this.logger.log(D?"updateKey":"missingKey",f,u,l,D?z:w),o){const L=this.resolve(l,{...n,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&H&&H[0])for(let L=0;L<H.length;L++)U.push(H[L]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(n.lng||this.language):U.push(n.lng||this.language);const M=(L,q,ue)=>{var ge;const G=T&&ue!==w?ue:X;this.options.missingKeyHandler?this.options.missingKeyHandler(L,u,q,G,D,n):(ge=this.backendConnector)!=null&&ge.saveMissing&&this.backendConnector.saveMissing(L,u,q,G,D,n),this.emit("missingKey",L,u,q,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?U.forEach(L=>{const q=this.pluralResolver.getSuffixes(L,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(ue=>{M([L],l+ue,n[`defaultValue${ue}`]||z)})}):M(U,l,z))}w=this.extendTranslation(w,t,n,y,a),V&&w===l&&this.options.appendNamespaceToMissingKey&&(w=`${u}${h}${l}`),(V||F)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${l}`:l,F?w:void 0,n))}return i?(y.res=w,y.usedParams=this.getUsedParamsDetails(n),y):w}extendTranslation(t,s,a,n,i){var d,u;if((d=this.i18nFormat)!=null&&d.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const h=bt(t)&&(((u=a==null?void 0:a.interpolation)==null?void 0:u.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(h){const y=t.match(this.interpolator.nestingRegexp);f=y&&y.length}let g=a.replace&&!bt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,a.lng||this.language||n.usedLng,a),h){const y=t.match(this.interpolator.nestingRegexp),w=y&&y.length;f<w&&(a.nest=!1)}!a.lng&&n&&n.res&&(a.lng=this.language||n.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...y)=>(i==null?void 0:i[0])===y[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${s[0]}`),null):this.translate(...y,s),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,l=bt(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&a.applyPostProcessor!==!1&&(t=r9.handle(l,t,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,s={}){let a,n,i,o,l;return bt(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(a))return;const u=this.extractFromKey(d,s),h=u.key;n=h;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=s.count!==void 0&&!bt(s.count),y=g&&!s.ordinal&&s.count===0,w=s.context!==void 0&&(bt(s.context)||typeof s.context=="number")&&s.context!=="",v=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);f.forEach(b=>{var N,S;this.isValidLookup(a)||(l=b,!XR[`${v[0]}-${b}`]&&((N=this.utils)!=null&&N.hasLoadedNamespace)&&!((S=this.utils)!=null&&S.hasLoadedNamespace(l))&&(XR[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${n}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(_=>{var A;if(this.isValidLookup(a))return;o=_;const k=[h];if((A=this.i18nFormat)!=null&&A.addLookupKeys)this.i18nFormat.addLookupKeys(k,h,_,b,s);else{let E;g&&(E=this.pluralResolver.getSuffix(_,s.count,s));const R=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(k.push(h+E),s.ordinal&&E.indexOf(z)===0&&k.push(h+E.replace(z,this.options.pluralSeparator)),y&&k.push(h+R)),w){const B=`${h}${this.options.contextSeparator}${s.context}`;k.push(B),g&&(k.push(B+E),s.ordinal&&E.indexOf(z)===0&&k.push(B+E.replace(z,this.options.pluralSeparator)),y&&k.push(B+R))}}let T;for(;T=k.pop();)this.isValidLookup(a)||(i=T,a=this.getResource(_,b,T,s))}))})}),{res:a,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,s,a,n={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,s,a,n):this.resourceStore.getResource(t,s,a,n)}getUsedParamsDetails(t={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!bt(t.replace);let n=a?t.replace:t;if(a&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!a){n={...n};for(const i of s)delete n[i]}return n}static hasDefaultValue(t){const s="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s===a.substring(0,s.length)&&t[a]!==void 0)return!0;return!1}}class QR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xi.create("languageUtils")}getScriptPartFromCode(t){if(t=$f(t),!t||t.indexOf("-")<0)return null;const s=t.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(t){if(t=$f(t),!t||t.indexOf("-")<0)return t;const s=t.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(t){if(bt(t)&&t.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(t)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let s;return t.forEach(a=>{if(s)return;const n=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(n))&&(s=n)}),!s&&this.options.supportedLngs&&t.forEach(a=>{if(s)return;const n=this.getScriptPartFromCode(a);if(this.isSupportedCode(n))return s=n;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(t,s){if(!t)return[];if(typeof t=="function"&&(t=t(s)),bt(t)&&(t=[t]),Array.isArray(t))return t;if(!s)return t.default||[];let a=t[s];return a||(a=t[this.getScriptPartFromCode(s)]),a||(a=t[this.formatLanguageCode(s)]),a||(a=t[this.getLanguagePartFromCode(s)]),a||(a=t.default),a||[]}toResolveHierarchy(t,s){const a=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],t),n=[],i=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return bt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):bt(t)&&i(this.formatLanguageCode(t)),a.forEach(o=>{n.indexOf(o)<0&&i(this.formatLanguageCode(o))}),n}}const eM={zero:0,one:1,two:2,few:3,many:4,other:5},tM={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class iSe{constructor(t,s={}){this.languageUtils=t,this.options=s,this.logger=Xi.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,s){this.rules[t]=s}clearCache(){this.pluralRulesCache={}}getRule(t,s={}){const a=$f(t==="dev"?"en":t),n=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),tM;if(!t.match(/-|_/))return tM;const d=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(d,s)}return this.pluralRulesCache[i]=o,o}needsPlural(t,s={}){let a=this.getRule(t,s);return a||(a=this.getRule("dev",s)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,s,a={}){return this.getSuffixes(t,a).map(n=>`${s}${n}`)}getSuffixes(t,s={}){let a=this.getRule(t,s);return a||(a=this.getRule("dev",s)),a?a.resolvedOptions().pluralCategories.sort((n,i)=>eM[n]-eM[i]).map(n=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,s,a={}){const n=this.getRule(t,a);return n?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n.select(s)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",s,a))}}const rM=(e,t,s,a=".",n=!0)=>{let i=Z_e(e,t,s);return!i&&n&&bt(s)&&(i=W_(e,s,a),i===void 0&&(i=W_(t,s,a))),i},$N=e=>e.replace(/\$/g,"$$$$");class oSe{constructor(t={}){var s;this.logger=Xi.create("interpolator"),this.options=t,this.format=((s=t==null?void 0:t.interpolation)==null?void 0:s.format)||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:s,escapeValue:a,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:d,formatSeparator:u,unescapeSuffix:h,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:y,nestingSuffix:w,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:N,alwaysFormat:S}=t.interpolation;this.escape=s!==void 0?s:eSe,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Pu(i):o||"{{",this.suffix=l?Pu(l):d||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?Pu(g):y||Pu("$t("),this.nestingSuffix=w?Pu(w):v||Pu(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=N||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(s,a)=>(s==null?void 0:s.source)===a?(s.lastIndex=0,s):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,s,a,n){var y;let i,o,l;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=w=>{if(w.indexOf(this.formatSeparator)<0){const S=rM(s,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,a,{...n,...s,interpolationkey:w}):S}const v=w.split(this.formatSeparator),b=v.shift().trim(),N=v.join(this.formatSeparator).trim();return this.format(rM(s,d,b,this.options.keySeparator,this.options.ignoreJSONStructure),N,a,{...n,...s,interpolationkey:b})};this.resetRegExp();const h=(n==null?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((y=n==null?void 0:n.interpolation)==null?void 0:y.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>$N(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?$N(this.escape(w)):$N(w)}].forEach(w=>{for(l=0;i=w.regex.exec(t);){const v=i[1].trim();if(o=u(v),o===void 0)if(typeof h=="function"){const N=h(t,i,n);o=bt(N)?N:""}else if(n&&Object.prototype.hasOwnProperty.call(n,v))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else!bt(o)&&!this.useRawValueToEscape&&(o=HR(o));const b=w.safeValue(o);if(t=t.replace(i[0],b),f?(w.regex.lastIndex+=o.length,w.regex.lastIndex-=i[0].length):w.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,s,a={}){let n,i,o;const l=(d,u)=>{const h=this.nestingOptionsSeparator;if(d.indexOf(h)<0)return d;const f=d.split(new RegExp(`${h}[ ]*{`));let g=`{${f[1]}`;d=f[0],g=this.interpolate(g,o);const y=g.match(/'/g),w=g.match(/"/g);(((y==null?void 0:y.length)??0)%2===0&&!w||w.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,v),`${d}${h}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;n=this.nestingRegexp.exec(t);){let d=[];o={...a},o=o.replace&&!bt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(u!==-1&&(d=n[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),n[1]=n[1].slice(0,u)),i=s(l.call(this,n[1].trim(),o),o),i&&n[0]===t&&!bt(i))return i;bt(i)||(i=HR(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),d.length&&(i=d.reduce((h,f)=>this.format(h,f,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const lSe=e=>{let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);t==="currency"&&n.indexOf(":")<0?s.currency||(s.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?s.range||(s.range=n.trim()):n.split(";").forEach(o=>{if(o){const[l,...d]=o.split(":"),u=d.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();s[h]||(s[h]=u),u==="false"&&(s[h]=!1),u==="true"&&(s[h]=!0),isNaN(u)||(s[h]=parseInt(u,10))}})}return{formatName:t,formatOptions:s}},sM=e=>{const t={};return(s,a,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const o=a+JSON.stringify(i);let l=t[o];return l||(l=e($f(a),n),t[o]=l),l(s)}},cSe=e=>(t,s,a)=>e($f(s),a)(t);class dSe{constructor(t={}){this.logger=Xi.create("formatter"),this.options=t,this.init(t)}init(t,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const a=s.cacheInBuiltFormats?sM:cSe;this.formats={number:a((n,i)=>{const o=new Intl.NumberFormat(n,{...i});return l=>o.format(l)}),currency:a((n,i)=>{const o=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>o.format(l)}),datetime:a((n,i)=>{const o=new Intl.DateTimeFormat(n,{...i});return l=>o.format(l)}),relativetime:a((n,i)=>{const o=new Intl.RelativeTimeFormat(n,{...i});return l=>o.format(l,i.range||"day")}),list:a((n,i)=>{const o=new Intl.ListFormat(n,{...i});return l=>o.format(l)})}}add(t,s){this.formats[t.toLowerCase().trim()]=s}addCached(t,s){this.formats[t.toLowerCase().trim()]=sM(s)}format(t,s,a,n={}){const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,d)=>{var f;const{formatName:u,formatOptions:h}=lSe(d);if(this.formats[u]){let g=l;try{const y=((f=n==null?void 0:n.formatParams)==null?void 0:f[n.interpolationkey])||{},w=y.locale||y.lng||n.locale||n.lng||a;g=this.formats[u](l,w,{...h,...n,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const uSe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class mSe extends Ov{constructor(t,s,a,n={}){var i,o;super(),this.backend=t,this.store=s,this.services=a,this.languageUtils=a.languageUtils,this.options=n,this.logger=Xi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,a,n.backend,n)}queueLoad(t,s,a,n){const i={},o={},l={},d={};return t.forEach(u=>{let h=!0;s.forEach(f=>{const g=`${u}|${f}`;!a.reload&&this.store.hasResourceBundle(u,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,h=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),d[f]===void 0&&(d[f]=!0)))}),h||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(d)}}loaded(t,s,a){const n=t.split("|"),i=n[0],o=n[1];s&&this.emit("failedLoading",i,o,s),!s&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[t]=s?-1:2,s&&a&&(this.state[t]=0);const l={};this.queue.forEach(d=>{X_e(d.loaded,[i],o),uSe(d,t),s&&d.errors.push(s),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(u=>{l[u]||(l[u]={});const h=d.loaded[u];h.length&&h.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(d=>!d.done)}read(t,s,a,n=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:s,fcName:a,tried:n,wait:i,callback:o});return}this.readingCalls++;const l=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&h&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,s,a,n+1,i*2,o)},i);return}o(u,h)},d=this.backend[a].bind(this.backend);if(d.length===2){try{const u=d(t,s);u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}return}return d(t,s,l)}prepareLoading(t,s,a={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();bt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),bt(s)&&(s=[s]);const i=this.queueLoad(t,s,a,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,s,a){this.prepareLoading(t,s,{},a)}reload(t,s,a){this.prepareLoading(t,s,{reload:!0},a)}loadOne(t,s=""){const a=t.split("|"),n=a[0],i=a[1];this.read(n,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${i} for language ${n} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${i} for language ${n}`,l),this.loaded(t,o,l)})}saveMissing(t,s,a,n,i,o={},l=()=>{}){var d,u,h,f,g;if((u=(d=this.services)==null?void 0:d.utils)!=null&&u.hasLoadedNamespace&&!((f=(h=this.services)==null?void 0:h.utils)!=null&&f.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${a}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((g=this.backend)!=null&&g.create){const y={...o,isUpdate:i},w=this.backend.create.bind(this.backend);if(w.length<6)try{let v;w.length===5?v=w(t,s,a,n,y):v=w(t,s,a,n),v&&typeof v.then=="function"?v.then(b=>l(null,b)).catch(l):l(null,v)}catch(v){l(v)}else w(t,s,a,n,l,y)}!t||!t[0]||this.store.addResource(t[0],s,a,n)}}}const aM=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),bt(e[1])&&(t.defaultValue=e[1]),bt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(a=>{t[a]=s[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),nM=e=>{var t,s;return bt(e.ns)&&(e.ns=[e.ns]),bt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),bt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((s=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:s.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},h0=()=>{},hSe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(s=>{typeof e[s]=="function"&&(e[s]=e[s].bind(e))})};class Lf extends Ov{constructor(t={},s){if(super(),this.options=nM(t),this.services={},this.logger=Xi,this.modules={external:[]},hSe(this),s&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,s),this;setTimeout(()=>{this.init(t,s)},0)}}init(t={},s){this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),t.defaultNS==null&&t.ns&&(bt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=aM();this.options={...a,...this.options,...nM(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Xi.init(n(this.modules.logger),this.options):Xi.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=dSe;const h=new QR(this.options);this.store=new JR(this.options.resources,this.options);const f=this.services;f.logger=Xi,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new iSe(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(f.formatter=n(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new oSe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new mSe(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(y,...w)=>{this.emit(y,...w)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Jx(this.services,this.options),this.translator.on("*",(y,...w)=>{this.emit(y,...w)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,s||(s=h0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const l=Wh(),d=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),s(h,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),l}loadResources(t,s=h0){var i,o;let a=s;const n=bt(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((n==null?void 0:n.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const l=[],d=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};n?d(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>d(h)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,u=>d(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(u)})}else a(null)}reloadResources(t,s,a){const n=Wh();return typeof t=="function"&&(a=t,t=void 0),typeof s=="function"&&(a=s,s=void 0),t||(t=this.languages),s||(s=this.options.ns),a||(a=h0),this.services.backendConnector.reload(t,s,i=>{n.resolve(),a(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&r9.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let s=0;s<this.languages.length;s++){const a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,s){this.isLanguageChangingTo=t;const a=Wh();this.emit("languageChanging",t);const n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,d)=>{d?this.isLanguageChangingTo===t&&(n(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve((...u)=>this.t(...u)),s&&s(l,(...u)=>this.t(...u))},o=l=>{var h,f;!t&&!l&&this.services.languageDetector&&(l=[]);const d=bt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(bt(l)?[l]:l);u&&(this.language||n(u),this.translator.language||this.translator.changeLanguage(u),(f=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||f.call(h,u)),this.loadResources(u,g=>{i(g,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),a}getFixedT(t,s,a){const n=(i,o,...l)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([i,o].concat(l)):d={...o},d.lng=d.lng||n.lng,d.lngs=d.lngs||n.lngs,d.ns=d.ns||n.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||a||n.keyPrefix);const u=this.options.keySeparator||".";let h;return d.keyPrefix&&Array.isArray(i)?h=i.map(f=>`${d.keyPrefix}${u}${f}`):h=d.keyPrefix?`${d.keyPrefix}${u}${i}`:i,this.t(h,d)};return bt(t)?n.lng=t:n.lngs=t,n.ns=s,n.keyPrefix=a,n}t(...t){var s;return(s=this.translator)==null?void 0:s.translate(...t)}exists(...t){var s;return(s=this.translator)==null?void 0:s.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=s.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,d)=>{const u=this.services.backendConnector.state[`${l}|${d}`];return u===-1||u===0||u===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,t)&&(!n||o(i,t)))}loadNamespaces(t,s){const a=Wh();return this.options.ns?(bt(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{a.resolve(),s&&s(n)}),a):(s&&s(),Promise.resolve())}loadLanguages(t,s){const a=Wh();bt(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=n.concat(i),this.loadResources(o=>{a.resolve(),s&&s(o)}),a):(s&&s(),Promise.resolve())}dir(t){var n,i;if(t||(t=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new QR(aM());return t.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},s){return new Lf(t,s)}cloneInstance(t={},s=h0){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new Lf(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const l=Object.keys(this.store.data).reduce((d,u)=>(d[u]={...this.store.data[u]},d[u]=Object.keys(d[u]).reduce((h,f)=>(h[f]={...d[u][f]},h),d[u]),d),{});i.store=new JR(l,n),i.services.resourceStore=i.store}return i.translator=new Jx(i.services,n),i.translator.on("*",(l,...d)=>{i.emit(l,...d)}),i.init(n,s),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Na=Lf.createInstance();Na.createInstance=Lf.createInstance;Na.createInstance;Na.dir;Na.init;Na.loadResources;Na.reloadResources;Na.use;Na.changeLanguage;Na.getFixedT;Na.t;Na.exists;Na.setDefaultNamespace;Na.hasLoadedNamespace;Na.loadNamespaces;Na.loadLanguages;function fSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function pSe(e,t){if(zf(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(zf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gSe(e){var t=pSe(e,"string");return zf(t)=="symbol"?t:t+""}function xSe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gSe(a.key),a)}}function ySe(e,t,s){return t&&xSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var s9=[],vSe=s9.forEach,bSe=s9.slice;function wSe(e){return vSe.call(bSe.call(arguments,1),function(t){if(t)for(var s in t)e[s]===void 0&&(e[s]=t[s])}),e}var iM=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,jSe=function(t,s,a){var n=a||{};n.path=n.path||"/";var i=encodeURIComponent(s),o="".concat(t,"=").concat(i);if(n.maxAge>0){var l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(n.domain){if(!iM.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(n.domain)}if(n.path){if(!iM.test(n.path))throw new TypeError("option path is invalid");o+="; Path=".concat(n.path)}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite){var d=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(d){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},oM={create:function(t,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+a*60*1e3)),n&&(i.domain=n),document.cookie=jSe(t,encodeURIComponent(s),i)},read:function(t){for(var s="".concat(t,"="),a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(s)===0)return i.substring(s.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},NSe={name:"cookie",lookup:function(t){var s;if(t.lookupCookie&&typeof document<"u"){var a=oM.read(t.lookupCookie);a&&(s=a)}return s},cacheUserLanguage:function(t,s){s.lookupCookie&&typeof document<"u"&&oM.create(s.lookupCookie,t,s.cookieMinutes,s.cookieDomain,s.cookieOptions)}},_Se={name:"querystring",lookup:function(t){var s;if(typeof window<"u"){var a=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));for(var n=a.substring(1),i=n.split("&"),o=0;o<i.length;o++){var l=i[o].indexOf("=");if(l>0){var d=i[o].substring(0,l);d===t.lookupQuerystring&&(s=i[o].substring(l+1))}}}return s}},Vh=null,lM=function(){if(Vh!==null)return Vh;try{Vh=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Vh=!1}return Vh},SSe={name:"localStorage",lookup:function(t){var s;if(t.lookupLocalStorage&&lM()){var a=window.localStorage.getItem(t.lookupLocalStorage);a&&(s=a)}return s},cacheUserLanguage:function(t,s){s.lookupLocalStorage&&lM()&&window.localStorage.setItem(s.lookupLocalStorage,t)}},qh=null,cM=function(){if(qh!==null)return qh;try{qh=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{qh=!1}return qh},CSe={name:"sessionStorage",lookup:function(t){var s;if(t.lookupSessionStorage&&cM()){var a=window.sessionStorage.getItem(t.lookupSessionStorage);a&&(s=a)}return s},cacheUserLanguage:function(t,s){s.lookupSessionStorage&&cM()&&window.sessionStorage.setItem(s.lookupSessionStorage,t)}},kSe={name:"navigator",lookup:function(t){var s=[];if(typeof navigator<"u"){if(navigator.languages)for(var a=0;a<navigator.languages.length;a++)s.push(navigator.languages[a]);navigator.userLanguage&&s.push(navigator.userLanguage),navigator.language&&s.push(navigator.language)}return s.length>0?s:void 0}},ASe={name:"htmlTag",lookup:function(t){var s,a=t.htmlTag||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(s=a.getAttribute("lang")),s}},PSe={name:"path",lookup:function(t){var s;if(typeof window<"u"){var a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(a instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof a[t.lookupFromPathIndex]!="string")return;s=a[t.lookupFromPathIndex].replace("/","")}else s=a[0].replace("/","")}return s}},ESe={name:"subdomain",lookup:function(t){var s=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,a=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[s]}},a9=!1;try{document.cookie,a9=!0}catch{}var n9=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];a9||n9.splice(1,1);function TSe(){return{order:n9,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var i9=function(){function e(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};fSe(this,e),this.type="languageDetector",this.detectors={},this.init(t,s)}return ySe(e,[{key:"init",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s||{languageUtils:{}},this.options=wSe(a,this.options||{},TSe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(NSe),this.addDetector(_Se),this.addDetector(SSe),this.addDetector(CSe),this.addDetector(kSe),this.addDetector(ASe),this.addDetector(PSe),this.addDetector(ESe)}},{key:"addDetector",value:function(s){return this.detectors[s.name]=s,this}},{key:"detect",value:function(s){var a=this;s||(s=this.options.order);var n=[];return s.forEach(function(i){if(a.detectors[i]){var o=a.detectors[i].lookup(a.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.map(function(i){return a.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(s,a){var n=this;a||(a=this.options.caches),a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||a.forEach(function(i){n.detectors[i]&&n.detectors[i].cacheUserLanguage(s,n.options)}))}}])}();i9.type="languageDetector";const OSe="Welcome back, {{name}}!",RSe="Loading...",MSe="Save",ISe="Cancel",DSe="Edit",$Se="Confirm",LSe="Success",zSe="Error",FSe="Warning",USe="Information",BSe="Yes",WSe="No",VSe="Back",qSe="Next",HSe="Previous",KSe="Search",GSe="Filter",YSe="Refresh",JSe="Close",XSe="Open",ZSe="Add",QSe="Create",eCe="Update",tCe="Remove",rCe="View",sCe="Manage",aCe="Settings",nCe="Profile",iCe="Sign Out",oCe="Sign In",lCe="Sign Up",cCe={title:"All Calls",description:"Complete call history and analytics",loadingData:"Loading call data...",noCallsFound:"No calls found",tryAdjustingCriteria:"Try adjusting your search criteria",searchPlaceholder:"Search calls...",totalCalls:"Total Calls",connected:"Connected",totalDuration:"Total Duration",totalCost:"Total Cost",connectionRate:"{{rate}}% rate",averageDuration:"Avg: {{duration}}",positiveRate:"{{rate}}% positive",callRecords:"Call Records ({{count}})",exportSuccess:"Call data exported successfully",exportError:"Failed to export call data. Please try again.",fetchError:"Failed to load call data. Please check your connection.",exportCSV:"Export CSV",perPage:"per page",show:"Show",page:"Page {{number}}",viewDetails:"View Details",playRecording:"Play Recording",viewTranscript:"View Transcript",viewLead:"View Lead"},dCe={inbound:"Inbound",outbound:"Outbound",missed:"Missed",all:"All Types"},uCe={connected:"Connected",interested:"Interested",callback:"Callback",voicemail:"Voicemail",no_answer:"No Answer",busy:"Busy",failed:"Failed",not_interested:"Not Interested",all:"All Outcomes"},mCe={positive:"Positive",neutral:"Neutral",negative:"Negative",all:"All Sentiment"},hCe={human:"human",ai:"ai"},fCe={type:"Type",outcome:"Outcome",sentiment:"Sentiment"},pCe={title:"Team Management",description:"Manage your support team and their permissions",totalMembers:"Total Team Members",activeStaff:"Active support staff",supportAdmins:"Support Admins",fullAccess:"Full access to all clients",pendingVerification:"Pending Verification",awaitingSetup:"Awaiting account setup",addMember:"Add Team Member",supportTeamMembers:"Support Team Members",teamAccessDescription:"Your team members can access client organizations for support purposes",noMembersYet:"No team members yet. Add your first support team member to get started.",addMemberDialog:{title:"Add Team Member",description:"Invite a new member to your support team. They'll receive an email with verification instructions.",firstName:"First Name",lastName:"Last Name",email:"Email Address",role:"Role",permissions:"Permissions",verificationRequired:"Verification Required",verificationDescription:"The team member will receive an email with instructions to set up their account and verify their identity with a 6-digit code.",sendingInvitation:"Sending Invitation...",sendInvitation:"Send Invitation",memberAdded:"Team Member Added",invitationSent:"Invitation sent to {{email}}. They will need to verify their account.",failedToAdd:"Failed to add team member. Please try again."},roles:{supportAdmin:"Support Admin",supportAgent:"Support Agent"},permissions:{accessAllOrganizations:"Access all client organizations",manageClients:"Manage client accounts",viewClientData:"View client data (leads, campaigns)",manageTeam:"Manage team members",viewAll:"View All",manageClientsShort:"Manage Clients",admin:"Admin"},status:{active:"Active",inactive:"Inactive",pendingVerification:"Pending Verification"}},gCe={title:"Billing",description:"Manage your subscription, payment methods, and billing history",loading:"Loading billing information...",failedToLoad:"Failed to load billing information",subscription:{title:"Subscription",current:"Current Subscription",currentDescription:"Your current plan and usage",plan:"{{plan}} Plan",renewsOn:"Renews on {{date}}",willCancelAtPeriodEnd:"Subscription will cancel at period end",usageThisPeriod:"Usage This Period",aiCalls:"AI Calls",teamMembers:"Team Members",aiAssistants:"AI Assistants",phoneNumbers:"Phone Numbers",unlimited:"Unlimited",currentPlan:"Current Plan",upgradeTo:"Upgrade to {{plan}}",switchTo:"Switch to {{plan}}",recommended:"Recommended",availablePlans:"Available Plans",month:"month",cancel:"Cancel Subscription",cancelConfirm:"Are you sure you want to cancel your subscription? You will retain access until the end of your billing period.",cancelSuccess:"Subscription cancelled. You will retain access until the end of your billing period.",cancelFailed:"Failed to cancel subscription",upgradeSuccess:"Subscription updated successfully",upgradeFailed:"Failed to update subscription"},plans:{starter:{name:"Starter",description:"Perfect for small teams getting started",features:{calls:"{{count}} AI calls per month",teamMembers:"Up to {{count}} team members",aiAssistants:"{{count}} AI assistants",phoneNumbers:"{{count}} phone number",analytics:"Basic analytics",support:"Email support"}},growth:{name:"Growth",description:"Scale your AI calling operations",features:{calls:"{{count}} AI calls per month",teamMembers:"Up to {{count}} team members",aiAssistants:"{{count}} AI assistants",phoneNumbers:"{{count}} phone numbers",analytics:"Advanced analytics",support:"Priority support",integrations:"Custom integrations"}},enterprise:{name:"Enterprise",description:"For large teams with custom needs",features:{calls:"Unlimited AI calls",teamMembers:"Unlimited team members",aiAssistants:"Unlimited AI assistants",phoneNumbers:"Unlimited phone numbers",analytics:"Custom analytics",support:"Dedicated support",sla:"SLA guarantee",customFeatures:"Custom features"}}},payment:{title:"Payment Methods",description:"Manage your payment methods",addMethod:"Add Payment Method",noMethods:"No payment methods added yet",expires:"Expires {{month}}/{{year}}",default:"Default",setDefault:"Set Default",remove:"Remove",removeConfirm:"Are you sure you want to remove this payment method?",addSuccess:"Payment method added successfully",addFailed:"Failed to set up payment method",removeSuccess:"Payment method removed",removeFailed:"Failed to remove payment method",defaultSuccess:"Default payment method updated",defaultFailed:"Failed to update default payment method"},history:{title:"Billing History",description:"Your past invoices and payments",noHistory:"No billing history yet",status:{paid:"paid",pending:"pending",failed:"failed"}}},xCe={title:"Organization Settings",description:"Manage your organization's configuration, integrations, and team members",loading:"Loading organization settings...",accessDenied:"Access Denied",accessDeniedDescription:"You need administrator privileges to access organization settings.",settingSaved:"Setting saved successfully",settingSaveFailed:"Failed to save setting",tabs:{vapi:"VAPI Integration",users:"User Management",permissions:"Permissions",billing:"Billing",general:"General"},vapi:{title:"VAPI Configuration",apiKey:"VAPI API Key",apiKeyPlaceholder:"Enter your VAPI API key",apiKeyDescription:"Your VAPI API key from dashboard.vapi.ai",webhookSecret:"Webhook Secret",webhookSecretPlaceholder:"Enter webhook secret",webhookUrl:"Webhook URL",webhookUrlDescription:"Use this URL in your VAPI webhook configuration",maxConcurrentCalls:"Max Concurrent Calls",maxConcurrentCallsDescription:"Maximum number of simultaneous calls for your organization",testConnection:"Test VAPI Connection",testConnectionDescription:"Verify your API credentials are working",testConnectionSuccess:"VAPI connection successful",testConnectionFailed:"VAPI connection failed",testConnectionError:"Failed to test VAPI connection",apiKeyRequired:"VAPI API key is required"},users:{title:"Organization Users",inviteUser:"Invite User",suspendUser:"Suspend User",suspendUserConfirm:"Are you sure you want to suspend {{email}}? They will lose access to the platform.",suspend:"Suspend",userRoleUpdated:"User role updated successfully",userRoleUpdateFailed:"Failed to update user role",userSuspended:"User suspended successfully",userSuspendFailed:"Failed to suspend user",roles:{admin:"Admin",user:"User",viewer:"Viewer"},status:{active:"active",pending:"pending",suspended:"suspended"}},permissions:{title:"Permissions Management",comingSoon:"Coming soon - Advanced role and permission management"},billing:{title:"Billing Management",comingSoon:"Coming soon - Billing and subscription management"},general:{title:"General Settings",comingSoon:"Coming soon - Organization name, branding, and general configuration"},failedToLoadSettings:"Failed to load organization settings"},yCe={title:"System Health",description:"Monitor platform performance and service status",alerts:"Alerts",configure:"Configure",platformStatus:"Platform Status",allSystemsOperational:"All Systems Operational",lastUpdated:"Last updated: {{time}}",uptime:"Uptime",responseTime:"Response Time",activeIssues:"Active Issues",services:"Services",apiGateway:"API Gateway",database:"Database",avgResponseTime:"Avg Response Time",last24Hours:"Last 24 hours",operational:"Operational",degraded:"Degraded",down:"Down",stable:"Stable"},vCe={welcome:OSe,loading:RSe,save:MSe,cancel:ISe,edit:DSe,delete:"Delete",confirm:$Se,success:LSe,error:zSe,warning:FSe,info:USe,yes:BSe,no:WSe,back:VSe,next:qSe,previous:HSe,search:KSe,filter:GSe,export:"Export",import:"Import",refresh:YSe,close:JSe,open:XSe,add:ZSe,create:QSe,update:eCe,remove:tCe,view:rCe,manage:sCe,settings:aCe,profile:nCe,logout:iCe,login:oCe,signup:lCe,calls:cCe,callTypes:dCe,callOutcomes:uCe,sentiments:mCe,agentTypes:hCe,filters:fCe,team:pCe,billing:gCe,organizationSettings:xCe,systemHealth:yCe},bCe="Dashboard",wCe="Overview",jCe="Analytics",NCe={title:"Campaigns",active:"Active Campaigns",total:"Total Campaigns",running:"Running",paused:"Paused",completed:"Completed",create_new:"Create New Campaign"},_Ce={title:"Calls",total:"Total Calls",successful:"Successful",failed:"Failed",in_progress:"In Progress",success_rate:"Success Rate"},SCe={title:"Leads",qualified:"Qualified Leads",total:"Total Leads",conversion_rate:"Conversion Rate",review_queue:"Review Queue"},CCe={today:"Today",this_week:"This Week",this_month:"This Month",all_time:"All Time"},kCe={title:bCe,overview:wCe,analytics:jCe,campaigns:NCe,calls:_Ce,leads:SCe,quick_stats:CCe},ACe="Campaigns",PCe="Create Campaign",ECe="Campaign Wizard",TCe="Campaign Settings",OCe="Campaign Name",RCe={active:"Active",paused:"Paused",completed:"Completed",draft:"Draft"},MCe={calls_made:"Calls Made",success_rate:"Success Rate",leads_qualified:"Leads Qualified",cost_per_lead:"Cost per Lead",total_cost:"Total Cost",duration:"Duration",contacts_called:"Contacts Called",avg_call_duration:"Avg Call Duration"},ICe={start:"Start",pause:"Pause",resume:"Resume",stop:"Stop",edit:"Edit",duplicate:"Duplicate",archive:"Archive",view_details:"View Details"},DCe={title:ACe,create_campaign:PCe,campaign_wizard:ECe,campaign_settings:TCe,campaign_name:OCe,status:RCe,analytics:MCe,actions:ICe},$Ce="Settings",LCe="Configure your platform preferences and integrations",zCe={title:"Profile Information",description:"Update your personal and company information",full_name:"Full Name",email:"Email Address",company:"Company",timezone:"Timezone",language:"Language",language_region:"Language & Region",enter_full_name:"Enter your full name"},FCe={title:"Notification Preferences",description:"Choose how and when you want to be notified",call_alerts:"Call Alerts",call_alerts_desc:"Get notified about call status changes",performance:"Performance notifications",performance_desc:"Alerts about system performance",system_updates:"System updates and maintenance",system_updates_desc:"Important system notifications",billing_alerts:"Billing and payment alerts",billing_alerts_desc:"Payment reminders and invoices",delivery_methods:"Delivery Methods",email_notifications:"Email notifications",email_notifications_desc:"Receive notifications via email",push_notifications:"Push notifications",push_notifications_desc:"Mobile and browser notifications",sms_notifications:"SMS notifications",sms_notifications_desc:"Critical alerts via text message",quiet_hours:"Quiet Hours",quiet_hours_desc:"Pause non-critical notifications",start_time:"Start Time",end_time:"End Time",test_notifications:"Test Notifications",test_notifications_desc:"Test different notification types to see how they work with your current settings",send_test_email:"Send Test Email"},UCe={title:"Appearance Settings",description:"Customize how the platform looks and feels",theme:"Theme",accent_color:"Accent Color",compact_mode:"Compact Mode",compact_mode_desc:"Reduce spacing for more content density"},BCe={title:"Change Password",description:"Update your account password for enhanced security",current_password:"Current Password",new_password:"New Password",confirm_password:"Confirm New Password",requirements:"Password Requirements:",min_length:"At least 8 characters",uppercase:"One uppercase letter",lowercase:"One lowercase letter",number:"One number",special:"One special character",recommended:"12+ characters (recommended)",strength:"Password Strength",weak:"Weak",medium:"Medium",strong:"Strong",passwords_match:"Passwords match",passwords_no_match:"Passwords do not match",update_password:"Update Password"},WCe="Save Changes",VCe="Saving...",qCe="Settings saved successfully",HCe={title:$Ce,description:LCe,profile:zCe,notifications:FCe,appearance:UCe,password:BCe,save_changes:WCe,saving:VCe,saved_successfully:qCe},KCe={dashboard:"Dashboard",campaigns:"Campaigns",crm:"CRM",analytics:"Analytics",settings:"Settings",phone_numbers:"Phone Numbers",team_management:"Team Management",billing:"Billing",support:"Support"},GCe={profile:"Profile",settings:"Settings",billing:"Billing",support:"Support",sign_out:"Sign Out"},YCe={mark_all_read:"Mark all as read",no_notifications:"No new notifications",view_all:"View all notifications"},JCe={placeholder:"Search...",no_results:"No results found",searching:"Searching..."},XCe={no_data:"No data available",loading:"Loading data...",rows_per_page:"Rows per page",of:"of",page:"Page",previous:"Previous",next:"Next"},ZCe={required:"This field is required",invalid_email:"Please enter a valid email address",invalid_phone:"Please enter a valid phone number",min_length:"Must be at least {{count}} characters",max_length:"Must be no more than {{count}} characters"},QCe={navigation:KCe,user_dropdown:GCe,notifications:YCe,search:JCe,table:XCe,forms:ZCe},e2e="Dashboard",t2e="Platform Overview",r2e="Organizations",s2e="User Management",a2e="Platform Analytics",n2e="Support Tickets",i2e="System Health",o2e="Security & Audit",l2e="Agency Dashboard",c2e="Client Management",d2e="Campaigns",u2e="Analytics",m2e="Team",h2e="Billing",f2e="Settings",p2e="CRM",g2e="All Calls",x2e="Live Monitor",y2e="Cost Analytics",v2e="Team",b2e="Organization",w2e="Voice Platform",j2e={dashboard:e2e,platform_overview:t2e,organizations:r2e,user_management:s2e,platform_analytics:a2e,support_tickets:n2e,system_health:i2e,security_audit:o2e,agency_dashboard:l2e,client_management:c2e,campaigns:d2e,analytics:u2e,team:m2e,billing:h2e,settings:f2e,crm:p2e,all_calls:g2e,live_monitor:x2e,cost_analytics:y2e,team_management:v2e,organization:b2e,voice_platform:w2e},N2e={common:vCe,dashboard:kCe,campaigns:DCe,settings:HCe,components:QCe,navigation:j2e},_2e="Welcome back, {{name}}!",S2e="Loading...",C2e="Save",k2e="Cancel",A2e="Edit",P2e="Confirm",E2e="Success",T2e="Error",O2e="Warning",R2e="Information",M2e="Yes",I2e="No",D2e="Back",$2e="Next",L2e="Previous",z2e="Search",F2e="Filter",U2e="Refresh",B2e="Close",W2e="Open",V2e="Add",q2e="Create",H2e="Update",K2e="Remove",G2e="View",Y2e="Manage",J2e="Settings",X2e="Profile",Z2e="Sign Out",Q2e="Sign In",eke="Sign Up",tke={required:"This field is required",optional:"Optional",email_invalid:"Please enter a valid email address",phone_invalid:"Please enter a valid phone number",password_min:"Password must be at least {{count}} characters",password_mismatch:"Passwords do not match",submit:"Submit",reset:"Reset",clear:"Clear",apply:"Apply"},rke={active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",failed:"Failed",cancelled:"Cancelled",draft:"Draft",published:"Published"},ske={today:"Today",yesterday:"Yesterday",this_week:"This Week",last_week:"Last Week",this_month:"This Month",last_month:"Last Month",this_year:"This Year",last_year:"Last Year",minutes_ago:"{{count}} minutes ago",hours_ago:"{{count}} hours ago",days_ago:"{{count}} days ago"},ake={no_data:"No data available",rows_per_page:"Rows per page",page:"Page",of:"of",select_all:"Select all",selected:"{{count}} selected",sort_asc:"Sort ascending",sort_desc:"Sort descending",table_view:"Table View",tile_view:"Tile View",card_view:"Card View",columns:"Columns"},nke={bulk_delete:"Delete Selected",bulk_export:"Export Selected",select_action:"Select an action",view_details:"View Details",download:"Download",copy:"Copy",duplicate:"Duplicate",archive:"Archive",restore:"Restore",assign:"Assign",unassign:"Unassign",approve:"Approve",reject:"Reject",activate:"Activate",deactivate:"Deactivate",pause:"Pause",resume:"Resume",restart:"Restart",stop:"Stop",start:"Start",configure:"Configure",customize:"Customise",upload:"Upload",move:"Move",rename:"Rename",share:"Share",preview:"Preview",print:"Print",send:"Send",schedule:"Schedule",reschedule:"Reschedule",postpone:"Postpone",complete:"Complete",mark_complete:"Mark as Complete"},ike={confirm_title:"Confirm Action",confirm_delete:"Are you sure you want to delete this item?",confirm_delete_multiple:"Are you sure you want to delete {{count}} items?",confirm_archive:"Are you sure you want to archive this item?",confirm_restore:"Are you sure you want to restore this item?",confirm_deactivate:"Are you sure you want to deactivate this item?",confirm_activate:"Are you sure you want to activate this item?",unsaved_changes:"You have unsaved changes. Are you sure you want to leave?",unsaved_changes_title:"Unsaved Changes",discard_changes:"Discard Changes",save_and_continue:"Save and Continue",operation_success:"Operation completed successfully",operation_failed:"Operation failed",processing:"Processing...",please_wait:"Please wait...",loading_content:"Loading content...",no_items_selected:"No items selected",select_items_first:"Please select items first",maximum_items:"Maximum {{max}} items allowed",minimum_items:"Minimum {{min}} items required"},oke={success:"Success",error:"Error",warning:"Warning",info:"Information",saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully",created:"Created successfully",uploaded:"Uploaded successfully",downloaded:"Downloaded successfully",exported:"Exported successfully",imported:"Imported successfully",sent:"Sent successfully",scheduled:"Scheduled successfully",cancelled:"Cancelled successfully",archived:"Archived successfully",restored:"Restored successfully",activated:"Activated successfully",deactivated:"Deactivated successfully",assigned:"Assigned successfully",unassigned:"Unassigned successfully",copied:"Copied to clipboard",shared:"Shared successfully",operation_pending:"Operation is pending",operation_in_progress:"Operation in progress",network_error:"Network error occurred",server_error:"Server error occurred",permission_denied:"Permission denied",session_expired:"Session has expired",validation_failed:"Validation failed",try_again:"Please try again",contact_support:"Please contact support"},lke={empty:"No data available",empty_search:"No results found",empty_filter:"No items match the current filters",loading:"Loading data...",error:"Failed to load data",retry:"Retry",refresh:"Refresh",load_more:"Load more",showing_results:"Showing {{start}}-{{end}} of {{total}} results",showing_total:"Total Records {{total}}",no_more_results:"No more results to load",all_items_loaded:"All items loaded"},cke={required:"This field is required",email:"Please enter a valid email address",phone:"Please enter a valid phone number",url:"Please enter a valid URL",number:"Please enter a valid number",integer:"Please enter a whole number",decimal:"Please enter a decimal number",positive:"Please enter a positive number",negative:"Please enter a negative number",min_length:"Minimum {{min}} characters required",max_length:"Maximum {{max}} characters allowed",min_value:"Minimum value is {{min}}",max_value:"Maximum value is {{max}}",range:"Value must be between {{min}} and {{max}}",pattern:"Invalid format",date:"Please enter a valid date",time:"Please enter a valid time",datetime:"Please enter a valid date and time",future_date:"Date must be in the future",past_date:"Date must be in the past",password_min:"Password must be at least {{min}} characters",password_complexity:"Password must include uppercase, lowercase, number and special character",passwords_match:"Passwords must match",unique:"This value must be unique",exists:"This value already exists",file_size:"File size must be less than {{size}}",file_type:"Invalid file type",file_required:"Please select a file"},dke={first:"First",last:"Last",previous:"Previous",next:"Next",page:"Page",of:"of",go_to_page:"Go to page",items_per_page:"Items per page",showing:"Showing",to:"to",of_total:"of {{total}} total",no_pages:"No pages available"},uke={sort_by:"Sort by",sort_order:"Sort order",ascending:"Ascending",descending:"Descending",default:"Default",newest_first:"Newest first",oldest_first:"Oldest first",a_to_z:"A to Z",z_to_a:"Z to A",highest_first:"Highest first",lowest_first:"Lowest first"},mke={today:"Today",yesterday:"Yesterday",tomorrow:"Tomorrow",this_week:"This week",last_week:"Last week",next_week:"Next week",this_month:"This month",last_month:"Last month",next_month:"Next month",this_year:"This year",last_year:"Last year",next_year:"Next year",never:"Never",always:"Always",custom:"Custom",select_date:"Select date",select_time:"Select time",date_format:"DD/MM/YYYY",time_format:"HH:MM",datetime_format:"DD/MM/YYYY HH:MM"},hke={welcome:_2e,loading:S2e,save:C2e,cancel:k2e,edit:A2e,delete:"Delete",confirm:P2e,success:E2e,error:T2e,warning:O2e,info:R2e,yes:M2e,no:I2e,back:D2e,next:$2e,previous:L2e,search:z2e,filter:F2e,export:"Export",import:"Import",refresh:U2e,close:B2e,open:W2e,add:V2e,create:q2e,update:H2e,remove:K2e,view:G2e,manage:Y2e,settings:J2e,profile:X2e,logout:Z2e,login:Q2e,signup:eke,forms:tke,status:rke,time:ske,table:ake,actions:nke,modals:ike,notifications:oke,data_states:lke,validation:cke,pagination:dke,sorting:uke,dates:mke},fke="Dashboard",pke="Overview",gke="Analytics",xke={title:"Welcome back, {{name}}!",subtitle:"Here's what's happening with your campaigns today",good_morning:"Good morning",good_afternoon:"Good afternoon",good_evening:"Good evening",default_name:"there"},yke={total_calls:"Total Calls",active_campaigns:"Active Campaigns",conversion_rate:"Conversion Rate",revenue:"Revenue",cost_per_call:"Cost per Call",total_leads:"Total Leads",qualified_leads:"Qualified Leads",success_rate:"Success Rate",average_call_duration:"Avg Call Duration",monthly_growth:"Monthly Growth",weekly_growth:"Weekly Growth",daily_growth:"Daily Growth"},vke={call_volume:"Call Volume",conversion_trends:"Conversion Trends",campaign_performance:"Campaign Performance",revenue_analytics:"Revenue Analytics",cost_analysis:"Cost Analysis",lead_generation:"Lead Generation",success_metrics:"Success Metrics",daily:"Daily",weekly:"Weekly",monthly:"Monthly",last_7_days:"Daily call volume over the last 7 days",last_30_days:"Last 30 Days",this_month:"This Month",last_month:"Last Month",success_rate_by_campaign:"Success rate by campaign"},bke={title:"Quick Actions",create_campaign:"Create Campaign",import_leads:"Import Leads",view_analytics:"View Analytics",manage_team:"Manage Team",settings:"Settings",export_data:"Export Data"},wke={title:"Recent Activity",no_activity:"No recent activity",view_all:"View All",campaign_started:"Campaign started",campaign_paused:"Campaign paused",leads_imported:"Leads imported",call_completed:"Call completed"},jke={title:"Campaigns",active:"Active Campaigns",total:"Total Campaigns",running:"Running",paused:"Paused",completed:"Completed",create_new:"Create New Campaign",status:"Status",progress:"Progress",calls_made:"Calls Made",leads_generated:"Leads Generated",view_details:"View Details",pause:"Pause",resume:"Resume",edit:"Edit"},Nke={title:"Recent Calls",total:"Total Calls",successful:"Successful",failed:"Failed",in_progress:"In Progress",completed:"Completed",missed:"Missed",success_rate:"Success Rate"},_ke={title:"Leads",qualified:"Qualified Leads",total:"Total Leads",conversion_rate:"Conversion Rate",review_queue:"Review Queue"},Ske={title:"Performance Overview",today:"Today",this_week:"This Week",this_month:"This Month",calls_today:"Calls Today",leads_today:"Leads Today",revenue_today:"Revenue Today"},Cke={today:"Today",this_week:"This Week",this_month:"This Month",all_time:"All Time"},kke={connected:"Connected",voicemail:"Voicemail",busy:"Busy",failed:"Failed",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},Ake={export_started:"Export Started",exporting_data_as:"Exporting data as {{format}}..."},Pke={title:fke,overview:pke,analytics:gke,welcome:xke,stats:yke,charts:vke,quick_actions:bke,recent_activity:wke,campaigns:jke,calls:Nke,leads:_ke,performance:Ske,quick_stats:Cke,chart_labels:kke,notifications:Ake},Eke="Campaigns",Tke="Create Campaign",Oke="Campaign Wizard",Rke="Campaign Settings",Mke="Campaign Name",Ike={active:"Active",paused:"Paused",completed:"Completed",draft:"Draft"},Dke={calls_made:"Calls Made",success_rate:"Success Rate",leads_qualified:"Leads Qualified",cost_per_lead:"Cost per Lead",total_cost:"Total Cost",duration:"Duration",contacts_called:"Contacts Called",avg_call_duration:"Avg Call Duration"},$ke={start:"Start",pause:"Pause",resume:"Resume",stop:"Stop",edit:"Edit",duplicate:"Duplicate",archive:"Archive",view_details:"View Details"},Lke={title:Eke,create_campaign:Tke,campaign_wizard:Oke,campaign_settings:Rke,campaign_name:Mke,status:Ike,analytics:Dke,actions:$ke},zke="Settings",Fke="Configure your platform preferences and integrations",Uke={title:"Profile Information",description:"Update your personal and company information",full_name:"Full Name",email:"Email Address",company:"Company",timezone:"Timezone",language:"Language",language_region:"Language & Region",enter_full_name:"Enter your full name"},Bke={title:"Notification Preferences",description:"Choose how and when you want to be notified",call_alerts:"Call Alerts",call_alerts_desc:"Get notified about call status changes",performance:"Performance notifications",performance_desc:"Alerts about system performance",system_updates:"System updates and maintenance",system_updates_desc:"Important system notifications",billing_alerts:"Billing and payment alerts",billing_alerts_desc:"Payment reminders and invoices",delivery_methods:"Delivery Methods",email_notifications:"Email notifications",email_notifications_desc:"Receive notifications via email",push_notifications:"Push notifications",push_notifications_desc:"Mobile and browser notifications",sms_notifications:"SMS notifications",sms_notifications_desc:"Critical alerts via text message",quiet_hours:"Quiet Hours",quiet_hours_desc:"Pause non-critical notifications",start_time:"Start Time",end_time:"End Time",test_notifications:"Test Notifications",test_notifications_desc:"Test different notification types to see how they work with your current settings",send_test_email:"Send Test Email"},Wke={title:"Appearance Settings",description:"Customise how the platform looks and feels",theme:"Theme",accent_color:"Accent Colour",compact_mode:"Compact Mode",compact_mode_desc:"Reduce spacing for more content density"},Vke={title:"Change Password",description:"Update your account password for enhanced security",current_password:"Current Password",new_password:"New Password",confirm_password:"Confirm New Password",requirements:"Password Requirements:",min_length:"At least 8 characters",uppercase:"One uppercase letter",lowercase:"One lowercase letter",number:"One number",special:"One special character",recommended:"12+ characters (recommended)",strength:"Password Strength",weak:"Weak",medium:"Medium",strong:"Strong",passwords_match:"Passwords match",passwords_no_match:"Passwords do not match",update_password:"Update Password"},qke="Save Changes",Hke="Saving...",Kke="Settings saved successfully",Gke="Failed to save settings. Please try again.",Yke={title:zke,description:Fke,profile:Uke,notifications:Bke,appearance:Wke,password:Vke,save_changes:qke,saving:Hke,saved_successfully:Kke,save_error:Gke},Jke={dashboard:"Dashboard",campaigns:"Campaigns",crm:"CRM",analytics:"Analytics",settings:"Settings",phone_numbers:"Phone Numbers",team_management:"Team Management",billing:"Billing",support:"Support"},Xke={good_morning:"Good morning, {{name}}!",good_afternoon:"Good afternoon, {{name}}!",good_evening:"Good evening, {{name}}!",account_overview:"Account Overview",sync:"Sync",total_credits:"Total Credits",total_calls:"Total Calls",vapi_status:"VAPI Status",connected:"Connected",syncing:"Syncing...",connection_error:"Connection Error",disconnected:"Disconnected",last_sync:"Last sync",connected_accounts:"Connected VAPI Accounts",api_keys:"API Keys",billing_credits:"Billing & Credits",platform_admin:"Platform Admin",security_health:"Security & Health",settings:"Settings",sign_out:"Sign Out",apex_platform:"Trinity Labs AI Platform",docs:"Docs",profile:"Profile",billing:"Billing",support:"Support"},Zke={title:"Notifications",new_notifications:"{{count}} new notification",new_notifications_plural:"{{count}} new notifications",all_caught_up:"You're all caught up!",mark_all_read:"Mark All Read",clear_all:"Clear All",notification_settings:"Notification Settings",search_placeholder:"Search notifications...",filter_all:"all",filter_unread:"unread",filter_read:"read",mark_as_read:"Mark as Read",mark_as_unread:"Mark as Unread",remove:"Remove",no_matching:"No matching notifications",all_clear:"All clear!",try_adjusting:"Try adjusting your search terms or filters",no_new_right_now:"No new notifications right now. We'll let you know when something important happens.",last_updated:"Last updated",shown:"shown",total:"total",view_all_notifications:"View All Notifications"},Qke={placeholder:"Search...",no_results:"No results found",searching:"Searching..."},e4e={no_data:"No data available",loading:"Loading data...",rows_per_page:"Rows per page",of:"of",page:"Page",previous:"Previous",next:"Next"},t4e={required:"This field is required",invalid_email:"Please enter a valid email address",invalid_phone:"Please enter a valid phone number",min_length:"Must be at least {{count}} characters",max_length:"Must be no more than {{count}} characters"},r4e={navigation:Jke,user_dropdown:Xke,notifications:Zke,search:Qke,table:e4e,forms:t4e},s4e="Dashboard",a4e="Platform Overview",n4e="Organizations",i4e="User Management",o4e="Platform Analytics",l4e="Support Tickets",c4e="System Health",d4e="Security & Audit",u4e="Agency Dashboard",m4e="Client Management",h4e="Campaigns",f4e="Analytics",p4e="Team",g4e="Billing",x4e="Settings",y4e="CRM",v4e="All Calls",b4e="Live Monitor",w4e="Cost Analytics",j4e="Team",N4e="Organization",_4e="Voice Platform",S4e={dashboard:s4e,platform_overview:a4e,organizations:n4e,user_management:i4e,platform_analytics:o4e,support_tickets:l4e,system_health:c4e,security_audit:d4e,agency_dashboard:u4e,client_management:m4e,campaigns:h4e,analytics:f4e,team:p4e,billing:g4e,settings:x4e,crm:y4e,all_calls:v4e,live_monitor:b4e,cost_analytics:w4e,team_management:j4e,organization:N4e,voice_platform:_4e},C4e="Customer Relationship Management",k4e="Manage leads, contacts, and sales pipeline",A4e={leads:"Leads",contacts:"Contacts",pipeline:"Sales Pipeline",activities:"Activities",reports:"Reports",settings:"CRM Settings"},P4e={title:"Lead",new_lead:"New Lead",edit_lead:"Edit Lead",lead_details:"Lead Details",lead_source:"Lead Source",lead_status:"Lead Status",lead_owner:"Lead Owner",lead_score:"Lead Score",qualification_status:"Qualification Status",contact_attempts:"Contact Attempts",last_contact:"Last Contact",next_follow_up:"Next Follow-up",conversion_probability:"Conversion Probability",estimated_value:"Estimated Value",expected_close_date:"Expected Close Date",lead_temperature:"Lead Temperature"},E4e={title:"Contact",new_contact:"New Contact",edit_contact:"Edit Contact",contact_details:"Contact Details",primary_contact:"Primary Contact",decision_maker:"Decision Maker",contact_method:"Preferred Contact Method",time_zone:"Time Zone",best_time_to_call:"Best Time to Call",do_not_call:"Do Not Call",email_opt_out:"Email Opt-out",communication_preferences:"Communication Preferences"},T4e={title:"Company",company_name:"Company Name",company_size:"Company Size",industry:"Industry",annual_revenue:"Annual Revenue",website:"Website",headquarters:"Headquarters",number_of_employees:"Number of Employees",company_type:"Company Type"},O4e={first_name:"First Name",last_name:"Last Name",full_name:"Full Name",email:"Email Address",phone:"Phone Number",mobile:"Mobile Number",address:"Address",city:"City",state:"State/Province",postal_code:"Postal Code",country:"Country",job_title:"Job Title",department:"Department",linkedin:"LinkedIn Profile",notes:"Notes",tags:"Tags",custom_fields:"Custom Fields"},R4e={new:"New",contacted:"Contacted",qualified:"Qualified",proposal:"Proposal Sent",negotiation:"In Negotiation",closed_won:"Closed Won",closed_lost:"Closed Lost",unqualified:"Unqualified",nurturing:"Nurturing",follow_up:"Follow-up Required",converted:"Converted",dead:"Dead Lead"},M4e={website:"Website",social_media:"Social Media",email_campaign:"Email Campaign",cold_call:"Cold Call",referral:"Referral",trade_show:"Trade Show",webinar:"Webinar",content_download:"Content Download",advertisement:"Advertisement",partner:"Partner",other:"Other"},I4e={hot:"Hot",warm:"Warm",cold:"Cold"},D4e={stage:"Pipeline Stage",stages:"Pipeline Stages",probability:"Win Probability",value:"Deal Value",weighted_value:"Weighted Value",expected_close:"Expected Close",days_in_stage:"Days in Stage",time_to_close:"Time to Close",move_to_stage:"Move to Stage",stage_history:"Stage History"},$4e={title:"Activities",new_activity:"New Activity",activity_type:"Activity Type",activity_date:"Activity Date",activity_time:"Activity Time",duration:"Duration",outcome:"Outcome",follow_up_required:"Follow-up Required",completed:"Completed",scheduled:"Scheduled",overdue:"Overdue",today:"Today",this_week:"This Week",next_week:"Next Week"},L4e={call:"Phone Call",email:"Email",meeting:"Meeting",demo:"Product Demo",proposal:"Proposal",follow_up:"Follow-up",research:"Research",task:"Task",note:"Note"},z4e={import_leads:"Import Leads",export_leads:"Export Leads",import_contacts:"Import Contacts",export_contacts:"Export Contacts",file_format:"File Format",csv_file:"CSV File",excel_file:"Excel File",mapping:"Field Mapping",preview:"Preview Import",import_success:"Import completed successfully",import_error:"Import failed",records_imported:"{{count}} records imported",records_updated:"{{count}} records updated",duplicate_handling:"Duplicate Handling",skip_duplicates:"Skip Duplicates",update_duplicates:"Update Duplicates",create_duplicates:"Create Duplicates"},F4e={filter_by:"Filter by",lead_status:"Lead Status",lead_source:"Lead Source",date_range:"Date Range",owner:"Owner",score_range:"Score Range",temperature:"Temperature",industry:"Industry",company_size:"Company Size",tags:"Tags",custom_filter:"Custom Filter",saved_filters:"Saved Filters",clear_filters:"Clear Filters",apply_filters:"Apply Filters"},U4e={title:"Bulk Actions",select_all:"Select All",select_none:"Select None",change_status:"Change Status",assign_owner:"Assign Owner",add_tags:"Add Tags",remove_tags:"Remove Tags",delete_selected:"Delete Selected",export_selected:"Export Selected",send_email:"Send Email",create_campaign:"Create Campaign",merge_duplicates:"Merge Duplicates"},B4e={lead_scoring:"Lead Scoring",score:"Score",score_breakdown:"Score Breakdown",demographic_score:"Demographic Score",behavioural_score:"Behavioural Score",engagement_score:"Engagement Score",fit_score:"Fit Score",recalculate:"Recalculate Score",scoring_rules:"Scoring Rules",auto_scoring:"Automatic Scoring"},W4e={communication_history:"Communication History",send_email:"Send Email",make_call:"Make Call",schedule_meeting:"Schedule Meeting",send_sms:"Send SMS",add_note:"Add Note",email_sent:"Email Sent",call_made:"Call Made",meeting_scheduled:"Meeting Scheduled",sms_sent:"SMS Sent",note_added:"Note Added",last_email:"Last Email",last_call:"Last Call",last_meeting:"Last Meeting",response_rate:"Response Rate",engagement_level:"Engagement Level"},V4e={title:"Reports",lead_reports:"Lead Reports",conversion_reports:"Conversion Reports",activity_reports:"Activity Reports",performance_reports:"Performance Reports",pipeline_reports:"Pipeline Reports",forecast_reports:"Forecast Reports",source_analysis:"Source Analysis",roi_analysis:"ROI Analysis",time_to_conversion:"Time to Conversion",lead_velocity:"Lead Velocity",win_rate:"Win Rate",average_deal_size:"Average Deal Size",sales_cycle:"Sales Cycle Length"},q4e={lead_created:"Lead created successfully",lead_updated:"Lead updated successfully",lead_deleted:"Lead deleted successfully",contact_created:"Contact created successfully",contact_updated:"Contact updated successfully",contact_deleted:"Contact deleted successfully",activity_scheduled:"Activity scheduled successfully",activity_completed:"Activity marked as completed",email_sent:"Email sent successfully",call_logged:"Call logged successfully",note_saved:"Note saved successfully",status_updated:"Status updated successfully",assignment_changed:"Assignment changed successfully",tags_updated:"Tags updated successfully",duplicate_found:"Potential duplicate found",merge_completed:"Records merged successfully",no_leads_selected:"Please select at least one lead",no_contacts_selected:"Please select at least one contact",confirm_delete:"Are you sure you want to delete the selected records?",confirm_merge:"Are you sure you want to merge these records?",operation_cancelled:"Operation cancelled",permission_denied:"You don't have permission to perform this action"},H4e={required_field:"This field is required",invalid_email:"Please enter a valid email address",invalid_phone:"Please enter a valid phone number",invalid_url:"Please enter a valid URL",invalid_date:"Please enter a valid date",invalid_number:"Please enter a valid number",duplicate_email:"This email address already exists",duplicate_phone:"This phone number already exists",max_length:"Maximum {{max}} characters allowed",min_length:"Minimum {{min}} characters required",invalid_format:"Invalid format"},K4e={title:C4e,subtitle:k4e,sections:A4e,lead:P4e,contact:E4e,company:T4e,fields:O4e,status:R4e,sources:M4e,temperature:I4e,pipeline:D4e,activities:$4e,activity_types:L4e,import_export:z4e,filters:F4e,bulk_actions:U4e,scoring:B4e,communication:W4e,reports:V4e,messages:q4e,validation:H4e},G4e="Analytics & Reports",Y4e="Track performance and gain insights",J4e={overview:"Overview",performance:"Performance",campaigns:"Campaign Analytics",revenue:"Revenue Analytics",users:"User Analytics",calls:"Call Analytics",conversion:"Conversion Analytics",forecasting:"Forecasting",custom:"Custom Reports"},X4e={overview:"Overview",calls:"Calls",campaigns:"Campaigns",revenue:"Revenue",conversion:"Conversion",performance:"Performance",trends:"Trends",forecasts:"Forecasts"},Z4e={total_revenue:"Total Revenue",monthly_revenue:"Monthly Revenue",revenue_growth:"Revenue Growth",total_users:"Total Users",active_users:"Active Users",new_users:"New Users",user_growth:"User Growth",total_calls:"Total Calls",successful_calls:"Successful Calls",call_volume:"Call Volume",call_growth:"Call Growth",conversion_rate:"Conversion Rate",lead_conversion:"Lead Conversion",sales_conversion:"Sales Conversion",churn_rate:"Churn Rate",retention_rate:"Retention Rate",lifetime_value:"Customer Lifetime Value",acquisition_cost:"Customer Acquisition Cost",roi:"Return on Investment",profit_margin:"Profit Margin",average_deal_size:"Average Deal Size",sales_cycle_length:"Sales Cycle Length",win_rate:"Win Rate",pipeline_value:"Pipeline Value",forecast_accuracy:"Forecast Accuracy"},Q4e={value:"Value",change:"Change",percentage:"Percentage",growth:"Growth",decline:"Decline",target:"Target",actual:"Actual",variance:"Variance",trend:"Trend",benchmark:"Benchmark",goal:"Goal",achievement:"Achievement",performance:"Performance"},eAe={today:"Today",yesterday:"Yesterday",this_week:"This Week",last_week:"Last Week",this_month:"This Month",last_month:"Last Month",this_quarter:"This Quarter",last_quarter:"Last Quarter",this_year:"This Year",last_year:"Last Year",last_7_days:"Last 7 Days",last_30_days:"Last 30 Days",last_90_days:"Last 90 Days",last_365_days:"Last 365 Days",custom_range:"Custom Range",date_range:"Date Range",from:"From",to:"To",compare_to:"Compare to",previous_period:"Previous Period",same_period_last_year:"Same Period Last Year"},tAe={line_chart:"Line Chart",bar_chart:"Bar Chart",pie_chart:"Pie Chart",area_chart:"Area Chart",donut_chart:"Donut Chart",scatter_plot:"Scatter Plot",heatmap:"Heatmap",funnel_chart:"Funnel Chart",gauge_chart:"Gauge Chart",table_view:"Table View",card_view:"Card View",chart_type:"Chart Type",data_points:"Data Points",no_data:"No data available for selected period",loading_data:"Loading data...",chart_options:"Chart Options",show_legend:"Show Legend",show_grid:"Show Grid",show_values:"Show Values",chart_title:"Chart Title",x_axis:"X-Axis",y_axis:"Y-Axis"},rAe={filter_by:"Filter by",date_range:"Date Range",campaign:"Campaign",user:"User",team:"Team",department:"Department",region:"Region",country:"Country",source:"Source",channel:"Channel",device:"Device",platform:"Platform",status:"Status",type:"Type",category:"Category",segment:"Segment",cohort:"Cohort",custom_filter:"Custom Filter",saved_filters:"Saved Filters",apply_filters:"Apply Filters",clear_filters:"Clear Filters",save_filter:"Save Filter",filter_name:"Filter Name"},sAe={title:"Call Analytics",total_calls:"Total Calls",answered_calls:"Answered Calls",missed_calls:"Missed Calls",voicemail_calls:"Voicemail Calls",busy_calls:"Busy Calls",failed_calls:"Failed Calls",answer_rate:"Answer Rate",call_duration:"Call Duration",average_duration:"Average Duration",total_duration:"Total Duration",call_outcome:"Call Outcome",call_quality:"Call Quality",call_cost:"Call Cost",cost_per_call:"Cost per Call",calls_by_hour:"Calls by Hour",calls_by_day:"Calls by Day",calls_by_agent:"Calls by Agent",peak_hours:"Peak Hours",call_volume_trend:"Call Volume Trend",success_rate:"Success Rate",contact_rate:"Contact Rate",conversion_by_call:"Conversion by Call",follow_up_rate:"Follow-up Rate"},aAe={title:"Campaign Analytics",campaign_performance:"Campaign Performance",campaign_roi:"Campaign ROI",campaign_reach:"Campaign Reach",campaign_engagement:"Campaign Engagement",leads_generated:"Leads Generated",leads_qualified:"Leads Qualified",leads_converted:"Leads Converted",cost_per_lead:"Cost per Lead",cost_per_acquisition:"Cost per Acquisition",campaign_budget:"Campaign Budget",budget_utilisation:"Budget Utilisation",remaining_budget:"Remaining Budget",campaign_duration:"Campaign Duration",active_campaigns:"Active Campaigns",completed_campaigns:"Completed Campaigns",campaign_comparison:"Campaign Comparison",best_performing:"Best Performing",worst_performing:"Worst Performing",campaign_trends:"Campaign Trends"},nAe={title:"Revenue Analytics",gross_revenue:"Gross Revenue",net_revenue:"Net Revenue",recurring_revenue:"Recurring Revenue",one_time_revenue:"One-time Revenue",revenue_by_source:"Revenue by Source",revenue_by_product:"Revenue by Product",revenue_by_region:"Revenue by Region",revenue_forecast:"Revenue Forecast",revenue_target:"Revenue Target",revenue_variance:"Revenue Variance",monthly_recurring_revenue:"Monthly Recurring Revenue",annual_recurring_revenue:"Annual Recurring Revenue",revenue_per_user:"Revenue per User",revenue_per_call:"Revenue per Call",revenue_growth_rate:"Revenue Growth Rate",revenue_concentration:"Revenue Concentration",lost_revenue:"Lost Revenue",potential_revenue:"Potential Revenue"},iAe={title:"Conversion Analytics",conversion_funnel:"Conversion Funnel",funnel_stages:"Funnel Stages",stage_conversion:"Stage Conversion",drop_off_rate:"Drop-off Rate",funnel_analysis:"Funnel Analysis",lead_to_customer:"Lead to Customer",visitor_to_lead:"Visitor to Lead",trial_to_paid:"Trial to Paid",micro_conversions:"Micro Conversions",macro_conversions:"Macro Conversions",conversion_path:"Conversion Path",attribution_model:"Attribution Model",first_touch:"First Touch",last_touch:"Last Touch",multi_touch:"Multi-touch",time_to_conversion:"Time to Conversion",conversion_velocity:"Conversion Velocity",assisted_conversions:"Assisted Conversions"},oAe={title:"User Analytics",user_acquisition:"User Acquisition",user_retention:"User Retention",user_engagement:"User Engagement",user_behaviour:"User Behaviour",user_segmentation:"User Segmentation",user_lifetime_value:"User Lifetime Value",user_churn:"User Churn",active_users_daily:"Daily Active Users",active_users_weekly:"Weekly Active Users",active_users_monthly:"Monthly Active Users",new_user_growth:"New User Growth",returning_users:"Returning Users",user_satisfaction:"User Satisfaction",user_feedback:"User Feedback",user_demographics:"User Demographics",user_geography:"User Geography",user_devices:"User Devices"},lAe={title:"Reports",generate_report:"Generate Report",custom_report:"Custom Report",scheduled_reports:"Scheduled Reports",report_builder:"Report Builder",report_template:"Report Template",save_report:"Save Report",export_report:"Export Report",share_report:"Share Report",report_frequency:"Report Frequency",daily_report:"Daily Report",weekly_report:"Weekly Report",monthly_report:"Monthly Report",quarterly_report:"Quarterly Report",annual_report:"Annual Report",executive_summary:"Executive Summary",detailed_report:"Detailed Report",report_format:"Report Format",pdf_report:"PDF Report",excel_report:"Excel Report",csv_report:"CSV Report"},cAe={overview_dashboard:"Overview Dashboard",custom_dashboard:"Custom Dashboard",dashboard_widgets:"Dashboard Widgets",add_widget:"Add Widget",remove_widget:"Remove Widget",widget_settings:"Widget Settings",widget_size:"Widget Size",widget_position:"Widget Position",refresh_rate:"Refresh Rate",auto_refresh:"Auto Refresh",manual_refresh:"Manual Refresh",last_updated:"Last Updated",real_time:"Real-time",dashboard_layout:"Dashboard Layout",save_layout:"Save Layout",reset_layout:"Reset Layout",fullscreen:"Fullscreen",exit_fullscreen:"Exit Fullscreen"},dAe={performance_alerts:"Performance Alerts",set_alert:"Set Alert",alert_conditions:"Alert Conditions",alert_threshold:"Alert Threshold",above_threshold:"Above Threshold",below_threshold:"Below Threshold",alert_frequency:"Alert Frequency",immediate:"Immediate",hourly:"Hourly",daily:"Daily",weekly:"Weekly",alert_recipients:"Alert Recipients",email_alerts:"Email Alerts",sms_alerts:"SMS Alerts",in_app_alerts:"In-app Alerts",alert_triggered:"Alert Triggered",alert_resolved:"Alert Resolved",snooze_alert:"Snooze Alert",dismiss_alert:"Dismiss Alert"},uAe={compare_periods:"Compare Periods",period_comparison:"Period Comparison",year_over_year:"Year over Year",month_over_month:"Month over Month",week_over_week:"Week over Week",day_over_day:"Day over Day",vs_previous:"vs Previous",vs_target:"vs Target",vs_benchmark:"vs Benchmark",percentage_change:"Percentage Change",absolute_change:"Absolute Change",relative_change:"Relative Change",improvement:"Improvement",deterioration:"Deterioration",no_change:"No Change"},mAe={forecast:"Forecast",prediction:"Prediction",trend_analysis:"Trend Analysis",seasonal_analysis:"Seasonal Analysis",forecast_accuracy:"Forecast Accuracy",confidence_interval:"Confidence Interval",forecast_model:"Forecast Model",linear_trend:"Linear Trend",exponential_trend:"Exponential Trend",seasonal_trend:"Seasonal Trend",forecast_period:"Forecast Period",next_month:"Next Month",next_quarter:"Next Quarter",next_year:"Next Year",scenario_analysis:"Scenario Analysis",best_case:"Best Case",worst_case:"Worst Case",most_likely:"Most Likely"},hAe={data_updated:"Data updated successfully",report_generated:"Report generated successfully",report_saved:"Report saved successfully",report_shared:"Report shared successfully",alert_created:"Alert created successfully",alert_updated:"Alert updated successfully",dashboard_saved:"Dashboard saved successfully",export_completed:"Export completed successfully",no_data_available:"No data available for the selected criteria",loading_analytics:"Loading analytics data...",error_loading_data:"Error loading data. Please try again.",insufficient_data:"Insufficient data for analysis",calculation_in_progress:"Calculation in progress...",forecast_updated:"Forecast updated successfully",benchmark_set:"Benchmark set successfully"},fAe={title:G4e,subtitle:Y4e,sections:J4e,tabs:X4e,kpis:Z4e,metrics:Q4e,time_periods:eAe,charts:tAe,filters:rAe,call_analytics:sAe,campaign_analytics:aAe,revenue_analytics:nAe,conversion_analytics:iAe,user_analytics:oAe,reports:lAe,export:{export_data:"Export Data",export_chart:"Export Chart",export_report:"Export Report",file_format:"File Format",csv:"CSV",excel:"Excel",pdf:"PDF",png:"PNG",svg:"SVG",include_charts:"Include Charts",include_data:"Include Data",date_range:"Date Range",export_options:"Export Options",download:"Download",email_report:"Email Report",schedule_export:"Schedule Export",export_successful:"Export completed successfully",export_failed:"Export failed",generating_export:"Generating export..."},dashboard:cAe,alerts:dAe,comparisons:uAe,forecasting:mAe,messages:hAe},pAe={common:hke,dashboard:Pke,campaigns:Lke,settings:Yke,components:r4e,navigation:S4e,crm:K4e,analytics:fAe},gAe="Willkommen zurck, {{name}}!",xAe="Wird geladen...",yAe="Speichern",vAe="Abbrechen",bAe="Bearbeiten",wAe="Besttigen",jAe="Erfolg",NAe="Fehler",_Ae="Warnung",SAe="Information",CAe="Ja",kAe="Nein",AAe="Zurck",PAe="Weiter",EAe="Vorherige",TAe="Suchen",OAe="Filtern",RAe="Aktualisieren",MAe="Schlieen",IAe="ffnen",DAe="Hinzufgen",$Ae="Erstellen",LAe="Aktualisieren",zAe="Entfernen",FAe="Anzeigen",UAe="Verwalten",BAe="Einstellungen",WAe="Profil",VAe="Abmelden",qAe="Anmelden",HAe="Registrieren",KAe={required:"Dieses Feld ist erforderlich",optional:"Optional",email_invalid:"Bitte geben Sie eine gltige E-Mail-Adresse ein",phone_invalid:"Bitte geben Sie eine gltige Telefonnummer ein",password_min:"Passwort muss mindestens {{count}} Zeichen lang sein",password_mismatch:"Passwrter stimmen nicht berein",submit:"Senden",reset:"Zurcksetzen",clear:"Lschen",apply:"Anwenden"},GAe={active:"Aktiv",inactive:"Inaktiv",pending:"Ausstehend",completed:"Abgeschlossen",failed:"Fehlgeschlagen",cancelled:"Abgebrochen",draft:"Entwurf",published:"Verffentlicht"},YAe={today:"Heute",yesterday:"Gestern",this_week:"Diese Woche",last_week:"Letzte Woche",this_month:"Dieser Monat",last_month:"Letzter Monat",this_year:"Dieses Jahr",last_year:"Letztes Jahr",minutes_ago:"vor {{count}} Minuten",hours_ago:"vor {{count}} Stunden",days_ago:"vor {{count}} Tagen"},JAe={no_data:"Keine Daten verfgbar",rows_per_page:"Zeilen pro Seite",page:"Seite",of:"von",select_all:"Alle auswhlen",selected:"{{count}} ausgewhlt",sort_asc:"Aufsteigend sortieren",sort_desc:"Absteigend sortieren",table_view:"Tabellenansicht",tile_view:"Kachelansicht",card_view:"Kartenansicht",columns:"Spalten"},XAe={bulk_delete:"Ausgewhlte lschen",bulk_export:"Ausgewhlte exportieren",select_action:"Aktion auswhlen",view_details:"Details anzeigen",download:"Herunterladen",copy:"Kopieren",duplicate:"Duplizieren",archive:"Archivieren",restore:"Wiederherstellen",assign:"Zuweisen",unassign:"Zuweisung aufheben",approve:"Genehmigen",reject:"Ablehnen",activate:"Aktivieren",deactivate:"Deaktivieren",pause:"Pausieren",resume:"Fortsetzen",restart:"Neu starten",stop:"Stoppen",start:"Starten",configure:"Konfigurieren",customize:"Anpassen",upload:"Hochladen",move:"Verschieben",rename:"Umbenennen",share:"Teilen",preview:"Vorschau",print:"Drucken",send:"Senden",schedule:"Planen",reschedule:"Neu planen",postpone:"Verschieben",complete:"Abschlieen",mark_complete:"Als abgeschlossen markieren"},ZAe={confirm_title:"Aktion besttigen",confirm_delete:"Sind Sie sicher, dass Sie dieses Element lschen mchten?",confirm_delete_multiple:"Sind Sie sicher, dass Sie {{count}} Elemente lschen mchten?",confirm_archive:"Sind Sie sicher, dass Sie dieses Element archivieren mchten?",confirm_restore:"Sind Sie sicher, dass Sie dieses Element wiederherstellen mchten?",confirm_deactivate:"Sind Sie sicher, dass Sie dieses Element deaktivieren mchten?",confirm_activate:"Sind Sie sicher, dass Sie dieses Element aktivieren mchten?",unsaved_changes:"Sie haben ungespeicherte nderungen. Sind Sie sicher, dass Sie verlassen mchten?",unsaved_changes_title:"Ungespeicherte nderungen",discard_changes:"nderungen verwerfen",save_and_continue:"Speichern und fortfahren",operation_success:"Vorgang erfolgreich abgeschlossen",operation_failed:"Vorgang fehlgeschlagen",processing:"Wird verarbeitet...",please_wait:"Bitte warten...",loading_content:"Inhalt wird geladen...",no_items_selected:"Keine Elemente ausgewhlt",select_items_first:"Bitte whlen Sie zuerst Elemente aus",maximum_items:"Maximal {{max}} Elemente erlaubt",minimum_items:"Mindestens {{min}} Elemente erforderlich"},QAe={success:"Erfolg",error:"Fehler",warning:"Warnung",info:"Information",saved:"Erfolgreich gespeichert",deleted:"Erfolgreich gelscht",updated:"Erfolgreich aktualisiert",created:"Erfolgreich erstellt",uploaded:"Erfolgreich hochgeladen",downloaded:"Erfolgreich heruntergeladen",exported:"Erfolgreich exportiert",imported:"Erfolgreich importiert",sent:"Erfolgreich gesendet",scheduled:"Erfolgreich geplant",cancelled:"Erfolgreich abgebrochen",archived:"Erfolgreich archiviert",restored:"Erfolgreich wiederhergestellt",activated:"Erfolgreich aktiviert",deactivated:"Erfolgreich deaktiviert",assigned:"Erfolgreich zugewiesen",unassigned:"Zuweisung erfolgreich aufgehoben",copied:"In Zwischenablage kopiert",shared:"Erfolgreich geteilt",operation_pending:"Vorgang ausstehend",operation_in_progress:"Vorgang luft",network_error:"Netzwerkfehler aufgetreten",server_error:"Serverfehler aufgetreten",permission_denied:"Berechtigung verweigert",session_expired:"Sitzung ist abgelaufen",validation_failed:"Validierung fehlgeschlagen",try_again:"Bitte versuchen Sie es erneut",contact_support:"Bitte wenden Sie sich an den Support"},ePe={empty:"Keine Daten verfgbar",empty_search:"Keine Ergebnisse gefunden",empty_filter:"Keine Elemente entsprechen den aktuellen Filtern",loading:"Daten werden geladen...",error:"Fehler beim Laden der Daten",retry:"Erneut versuchen",refresh:"Aktualisieren",load_more:"Mehr laden",showing_results:"Zeige {{start}}-{{end}} von {{total}} Ergebnissen",showing_total:"Datenstze gesamt {{total}}",no_more_results:"Keine weiteren Ergebnisse zu laden",all_items_loaded:"Alle Elemente geladen"},tPe={required:"Dieses Feld ist erforderlich",email:"Bitte geben Sie eine gltige E-Mail-Adresse ein",phone:"Bitte geben Sie eine gltige Telefonnummer ein",url:"Bitte geben Sie eine gltige URL ein",number:"Bitte geben Sie eine gltige Zahl ein",integer:"Bitte geben Sie eine ganze Zahl ein",decimal:"Bitte geben Sie eine Dezimalzahl ein",positive:"Bitte geben Sie eine positive Zahl ein",negative:"Bitte geben Sie eine negative Zahl ein",min_length:"Mindestens {{min}} Zeichen erforderlich",max_length:"Maximal {{max}} Zeichen erlaubt",min_value:"Mindestwert ist {{min}}",max_value:"Maximalwert ist {{max}}",range:"Wert muss zwischen {{min}} und {{max}} liegen",pattern:"Ungltiges Format",date:"Bitte geben Sie ein gltiges Datum ein",time:"Bitte geben Sie eine gltige Zeit ein",datetime:"Bitte geben Sie ein gltiges Datum und eine gltige Zeit ein",future_date:"Datum muss in der Zukunft liegen",past_date:"Datum muss in der Vergangenheit liegen",password_min:"Passwort muss mindestens {{min}} Zeichen lang sein",password_complexity:"Passwort muss Gro-, Kleinbuchstaben, Zahl und Sonderzeichen enthalten",passwords_match:"Passwrter mssen bereinstimmen",unique:"Dieser Wert muss eindeutig sein",exists:"Dieser Wert existiert bereits",file_size:"Dateigre muss kleiner als {{size}} sein",file_type:"Ungltiger Dateityp",file_required:"Bitte whlen Sie eine Datei aus"},rPe={first:"Erste",last:"Letzte",previous:"Vorherige",next:"Nchste",page:"Seite",of:"von",go_to_page:"Zu Seite gehen",items_per_page:"Elemente pro Seite",showing:"Zeige",to:"bis",of_total:"von {{total}} insgesamt",no_pages:"Keine Seiten verfgbar"},sPe={sort_by:"Sortieren nach",sort_order:"Sortierreihenfolge",ascending:"Aufsteigend",descending:"Absteigend",default:"Standard",newest_first:"Neueste zuerst",oldest_first:"lteste zuerst",a_to_z:"A bis Z",z_to_a:"Z bis A",highest_first:"Hchste zuerst",lowest_first:"Niedrigste zuerst"},aPe={today:"Heute",yesterday:"Gestern",tomorrow:"Morgen",this_week:"Diese Woche",last_week:"Letzte Woche",next_week:"Nchste Woche",this_month:"Dieser Monat",last_month:"Letzter Monat",next_month:"Nchster Monat",this_year:"Dieses Jahr",last_year:"Letztes Jahr",next_year:"Nchstes Jahr",never:"Nie",always:"Immer",custom:"Benutzerdefiniert",select_date:"Datum auswhlen",select_time:"Zeit auswhlen",date_format:"DD.MM.YYYY",time_format:"HH:MM",datetime_format:"DD.MM.YYYY HH:MM"},nPe={welcome:gAe,loading:xAe,save:yAe,cancel:vAe,edit:bAe,delete:"Lschen",confirm:wAe,success:jAe,error:NAe,warning:_Ae,info:SAe,yes:CAe,no:kAe,back:AAe,next:PAe,previous:EAe,search:TAe,filter:OAe,export:"Exportieren",import:"Importieren",refresh:RAe,close:MAe,open:IAe,add:DAe,create:$Ae,update:LAe,remove:zAe,view:FAe,manage:UAe,settings:BAe,profile:WAe,logout:VAe,login:qAe,signup:HAe,forms:KAe,status:GAe,time:YAe,table:JAe,actions:XAe,modals:ZAe,notifications:QAe,data_states:ePe,validation:tPe,pagination:rPe,sorting:sPe,dates:aPe},iPe="Dashboard",oPe="bersicht",lPe="Analysen",cPe={title:"Willkommen zurck, {{name}}!",subtitle:"Hier ist, was heute mit Ihren Kampagnen passiert",good_morning:"Guten Morgen",good_afternoon:"Guten Tag",good_evening:"Guten Abend",default_name:"da"},dPe={total_calls:"Anrufe gesamt",active_campaigns:"Aktive Kampagnen",conversion_rate:"Konversionsrate",revenue:"Umsatz",cost_per_call:"Kosten pro Anruf",total_leads:"Leads gesamt",qualified_leads:"Qualifizierte Leads",success_rate:"Erfolgsrate",average_call_duration:" Anrufdauer",monthly_growth:"Monatswachstum",weekly_growth:"Wchentliches Wachstum",daily_growth:"Tgliches Wachstum"},uPe={call_volume:"Anrufvolumen",conversion_trends:"Konversionstrends",campaign_performance:"Kampagnenleistung",revenue_analytics:"Umsatzanalyse",cost_analysis:"Kostenanalyse",lead_generation:"Lead-Generierung",success_metrics:"Erfolgsmetriken",daily:"Tglich",weekly:"Wchentlich",monthly:"Monatlich",last_7_days:"Tgliches Anrufvolumen der letzten 7 Tage",last_30_days:"Letzte 30 Tage",this_month:"Dieser Monat",last_month:"Letzter Monat",success_rate_by_campaign:"Erfolgsrate nach Kampagne"},mPe={title:"Schnellaktionen",create_campaign:"Kampagne erstellen",import_leads:"Leads importieren",view_analytics:"Analysen anzeigen",manage_team:"Team verwalten",settings:"Einstellungen",export_data:"Daten exportieren"},hPe={title:"Letzte Aktivitten",no_activity:"Keine aktuellen Aktivitten",view_all:"Alle anzeigen",campaign_started:"Kampagne gestartet",campaign_paused:"Kampagne pausiert",leads_imported:"Leads importiert",call_completed:"Anruf abgeschlossen"},fPe={title:"Kampagnen",active:"Aktive Kampagnen",total:"Kampagnen gesamt",running:"Luft",paused:"Pausiert",completed:"Abgeschlossen",create_new:"Neue Kampagne erstellen",status:"Status",progress:"Fortschritt",calls_made:"Gettigte Anrufe",leads_generated:"Generierte Leads",view_details:"Details anzeigen",pause:"Pausieren",resume:"Fortsetzen",edit:"Bearbeiten"},pPe={title:"Letzte Anrufe",total:"Anrufe gesamt",successful:"Erfolgreich",failed:"Fehlgeschlagen",in_progress:"In Bearbeitung",completed:"Abgeschlossen",missed:"Verpasst",success_rate:"Erfolgsrate"},gPe={title:"Leads",qualified:"Qualifizierte Leads",total:"Leads gesamt",conversion_rate:"Konversionsrate",review_queue:"berprfungswarteschlange"},xPe={title:"Leistungsbersicht",today:"Heute",this_week:"Diese Woche",this_month:"Dieser Monat",calls_today:"Anrufe heute",leads_today:"Leads heute",revenue_today:"Umsatz heute"},yPe={today:"Heute",this_week:"Diese Woche",this_month:"Dieser Monat",all_time:"Gesamt"},vPe={connected:"Verbunden",voicemail:"Voicemail",busy:"Besetzt",failed:"Fehlgeschlagen",monday:"Mo",tuesday:"Di",wednesday:"Mi",thursday:"Do",friday:"Fr",saturday:"Sa",sunday:"So"},bPe={export_started:"Export gestartet",exporting_data_as:"Daten werden als {{format}} exportiert..."},wPe={title:iPe,overview:oPe,analytics:lPe,welcome:cPe,stats:dPe,charts:uPe,quick_actions:mPe,recent_activity:hPe,campaigns:fPe,calls:pPe,leads:gPe,performance:xPe,quick_stats:yPe,chart_labels:vPe,notifications:bPe},jPe="Kampagnen",NPe="Kampagne erstellen",_Pe="Kampagnen-Assistent",SPe="Kampagnen-Einstellungen",CPe="Kampagnenname",kPe={active:"Aktiv",paused:"Pausiert",completed:"Abgeschlossen",draft:"Entwurf"},APe={calls_made:"Gettigte Anrufe",success_rate:"Erfolgsrate",leads_qualified:"Qualifizierte Leads",cost_per_lead:"Kosten pro Lead",total_cost:"Gesamtkosten",duration:"Dauer",contacts_called:"Kontaktierte Personen",avg_call_duration:"Durchschnittliche Anrufdauer"},PPe={start:"Starten",pause:"Pausieren",resume:"Fortsetzen",stop:"Stoppen",edit:"Bearbeiten",duplicate:"Duplizieren",archive:"Archivieren",view_details:"Details anzeigen"},EPe={title:jPe,create_campaign:NPe,campaign_wizard:_Pe,campaign_settings:SPe,campaign_name:CPe,status:kPe,analytics:APe,actions:PPe},TPe="Einstellungen",OPe="Konfigurieren Sie Ihre Plattform-Einstellungen und Integrationen",RPe={title:"Profil-Informationen",description:"Aktualisieren Sie Ihre persnlichen und Firmeninformationen",full_name:"Vollstndiger Name",email:"E-Mail-Adresse",company:"Unternehmen",timezone:"Zeitzone",language:"Sprache",language_region:"Sprache & Region",enter_full_name:"Geben Sie Ihren vollstndigen Namen ein"},MPe={title:"Benachrichtigungseinstellungen",description:"Whlen Sie, wie und wann Sie benachrichtigt werden mchten",call_alerts:"Anruf-Benachrichtigungen",call_alerts_desc:"Erhalten Sie Benachrichtigungen ber Anrufstatus-nderungen",performance:"Leistungsbenachrichtigungen",performance_desc:"Benachrichtigungen ber Systemleistung",system_updates:"System-Updates und Wartung",system_updates_desc:"Wichtige Systembenachrichtigungen",billing_alerts:"Rechnungs- und Zahlungsbenachrichtigungen",billing_alerts_desc:"Zahlungserinnerungen und Rechnungen",delivery_methods:"Zustellungsmethoden",email_notifications:"E-Mail-Benachrichtigungen",email_notifications_desc:"Benachrichtigungen per E-Mail erhalten",push_notifications:"Push-Benachrichtigungen",push_notifications_desc:"Mobile und Browser-Benachrichtigungen",sms_notifications:"SMS-Benachrichtigungen",sms_notifications_desc:"Kritische Benachrichtigungen per SMS",quiet_hours:"Ruhezeiten",quiet_hours_desc:"Nicht-kritische Benachrichtigungen pausieren",start_time:"Startzeit",end_time:"Endzeit",test_notifications:"Benachrichtigungen testen",test_notifications_desc:"Testen Sie verschiedene Benachrichtigungstypen mit Ihren aktuellen Einstellungen",send_test_email:"Test-E-Mail senden"},IPe={title:"Darstellungseinstellungen",description:"Passen Sie das Aussehen der Plattform an",theme:"Design",accent_color:"Akzentfarbe",compact_mode:"Kompakter Modus",compact_mode_desc:"Abstnde reduzieren fr mehr Inhaltsdichte"},DPe={title:"Passwort ndern",description:"Aktualisieren Sie Ihr Kontopasswort fr erhhte Sicherheit",current_password:"Aktuelles Passwort",new_password:"Neues Passwort",confirm_password:"Neues Passwort besttigen",requirements:"Passwort-Anforderungen:",min_length:"Mindestens 8 Zeichen",uppercase:"Ein Grobuchstabe",lowercase:"Ein Kleinbuchstabe",number:"Eine Zahl",special:"Ein Sonderzeichen",recommended:"12+ Zeichen (empfohlen)",strength:"Passwort-Strke",weak:"Schwach",medium:"Mittel",strong:"Stark",passwords_match:"Passwrter stimmen berein",passwords_no_match:"Passwrter stimmen nicht berein",update_password:"Passwort aktualisieren"},$Pe="nderungen speichern",LPe="Wird gespeichert...",zPe="Einstellungen erfolgreich gespeichert",FPe="Fehler beim Speichern der Einstellungen. Bitte versuchen Sie es erneut.",UPe={title:TPe,description:OPe,profile:RPe,notifications:MPe,appearance:IPe,password:DPe,save_changes:$Pe,saving:LPe,saved_successfully:zPe,save_error:FPe},BPe={dashboard:"Dashboard",campaigns:"Kampagnen",crm:"CRM",analytics:"Analysen",settings:"Einstellungen",phone_numbers:"Telefonnummern",team_management:"Team-Verwaltung",billing:"Abrechnung",support:"Support"},WPe={good_morning:"Guten Morgen, {{name}}!",good_afternoon:"Guten Tag, {{name}}!",good_evening:"Guten Abend, {{name}}!",account_overview:"Kontobersicht",sync:"Synchronisieren",total_credits:"Gesamtguthaben",total_calls:"Gesamtanrufe",vapi_status:"VAPI-Status",connected:"Verbunden",syncing:"Synchronisiere...",connection_error:"Verbindungsfehler",disconnected:"Getrennt",last_sync:"Letzte Synchronisation",connected_accounts:"Verbundene VAPI-Konten",api_keys:"API-Schlssel",billing_credits:"Abrechnung & Guthaben",platform_admin:"Plattform-Admin",security_health:"Sicherheit & Systemzustand",settings:"Einstellungen",sign_out:"Abmelden",apex_platform:"Apex AI Plattform",docs:"Dokumentation",profile:"Profil",billing:"Abrechnung",support:"Support"},VPe={title:"Benachrichtigungen",new_notifications:"{{count}} neue Benachrichtigung",new_notifications_plural:"{{count}} neue Benachrichtigungen",all_caught_up:"Alles erledigt!",mark_all_read:"Alle als gelesen markieren",clear_all:"Alle lschen",notification_settings:"Benachrichtigungseinstellungen",search_placeholder:"Benachrichtigungen suchen...",filter_all:"alle",filter_unread:"ungelesen",filter_read:"gelesen",mark_as_read:"Als gelesen markieren",mark_as_unread:"Als ungelesen markieren",remove:"Entfernen",no_matching:"Keine passenden Benachrichtigungen",all_clear:"Alles klar!",try_adjusting:"Versuchen Sie, Ihre Suchbegriffe oder Filter anzupassen",no_new_right_now:"Derzeit keine neuen Benachrichtigungen. Wir benachrichtigen Sie, wenn etwas Wichtiges passiert.",last_updated:"Zuletzt aktualisiert",shown:"angezeigt",total:"gesamt",view_all_notifications:"Alle Benachrichtigungen anzeigen"},qPe={placeholder:"Suchen...",no_results:"Keine Ergebnisse gefunden",searching:"Suche luft..."},HPe={no_data:"Keine Daten verfgbar",loading:"Daten werden geladen...",rows_per_page:"Zeilen pro Seite",of:"von",page:"Seite",previous:"Vorherige",next:"Nchste"},KPe={required:"Dieses Feld ist erforderlich",invalid_email:"Bitte geben Sie eine gltige E-Mail-Adresse ein",invalid_phone:"Bitte geben Sie eine gltige Telefonnummer ein",min_length:"Muss mindestens {{count}} Zeichen lang sein",max_length:"Darf hchstens {{count}} Zeichen lang sein"},GPe={navigation:BPe,user_dropdown:WPe,notifications:VPe,search:qPe,table:HPe,forms:KPe},YPe="Dashboard",JPe="Plattform-bersicht",XPe="Organisationen",ZPe="Benutzerverwaltung",QPe="Plattform-Analysen",eEe="Support-Tickets",tEe="Systemgesundheit",rEe="Sicherheit & Audit",sEe="Agentur-Dashboard",aEe="Kundenverwaltung",nEe="Kampagnen",iEe="Analysen",oEe="Team",lEe="Abrechnung",cEe="Einstellungen",dEe="CRM",uEe="Alle Anrufe",mEe="Live-Monitor",hEe="Kostenanalyse",fEe="Team",pEe="Organisation",gEe="Sprach-Plattform",xEe={dashboard:YPe,platform_overview:JPe,organizations:XPe,user_management:ZPe,platform_analytics:QPe,support_tickets:eEe,system_health:tEe,security_audit:rEe,agency_dashboard:sEe,client_management:aEe,campaigns:nEe,analytics:iEe,team:oEe,billing:lEe,settings:cEe,crm:dEe,all_calls:uEe,live_monitor:mEe,cost_analytics:hEe,team_management:fEe,organization:pEe,voice_platform:gEe},yEe="Kundenbeziehungsmanagement",vEe="Verwalten Sie Leads, Kontakte und Verkaufs-Pipeline",bEe={leads:"Leads",contacts:"Kontakte",pipeline:"Verkaufs-Pipeline",activities:"Aktivitten",reports:"Berichte",settings:"CRM-Einstellungen"},wEe={title:"Lead",new_lead:"Neuer Lead",edit_lead:"Lead bearbeiten",lead_details:"Lead-Details",lead_source:"Lead-Quelle",lead_status:"Lead-Status",lead_owner:"Lead-Besitzer",lead_score:"Lead-Bewertung",qualification_status:"Qualifizierungsstatus",contact_attempts:"Kontaktversuche",last_contact:"Letzter Kontakt",next_follow_up:"Nchste Nachfassung",conversion_probability:"Umwandlungswahrscheinlichkeit",estimated_value:"Geschtzter Wert",expected_close_date:"Erwartetes Abschlussdatum",lead_temperature:"Lead-Temperatur"},jEe={title:"Kontakt",new_contact:"Neuer Kontakt",edit_contact:"Kontakt bearbeiten",contact_details:"Kontaktdetails",primary_contact:"Hauptkontakt",decision_maker:"Entscheidungstrger",contact_method:"Bevorzugte Kontaktmethode",time_zone:"Zeitzone",best_time_to_call:"Beste Anrufzeit",do_not_call:"Nicht anrufen",email_opt_out:"E-Mail-Abmeldung",communication_preferences:"Kommunikationsprferenzen"},NEe={title:"Unternehmen",company_name:"Firmenname",company_size:"Unternehmensgre",industry:"Branche",annual_revenue:"Jahresumsatz",website:"Website",headquarters:"Hauptsitz",number_of_employees:"Anzahl Mitarbeiter",company_type:"Unternehmenstyp"},_Ee={first_name:"Vorname",last_name:"Nachname",full_name:"Vollstndiger Name",email:"E-Mail-Adresse",phone:"Telefonnummer",mobile:"Mobilnummer",address:"Adresse",city:"Stadt",state:"Bundesland/Provinz",postal_code:"Postleitzahl",country:"Land",job_title:"Berufsbezeichnung",department:"Abteilung",linkedin:"LinkedIn-Profil",notes:"Notizen",tags:"Tags",custom_fields:"Benutzerdefinierte Felder"},SEe={new:"Neu",contacted:"Kontaktiert",qualified:"Qualifiziert",proposal:"Angebot gesendet",negotiation:"In Verhandlung",closed_won:"Gewonnen",closed_lost:"Verloren",unqualified:"Nicht qualifiziert",nurturing:"Pflege",follow_up:"Nachfassung erforderlich",converted:"Umgewandelt",dead:"Toter Lead"},CEe={website:"Website",social_media:"Soziale Medien",email_campaign:"E-Mail-Kampagne",cold_call:"Kaltakquise",referral:"Empfehlung",trade_show:"Messe",webinar:"Webinar",content_download:"Content-Download",advertisement:"Werbung",partner:"Partner",other:"Sonstiges"},kEe={hot:"Hei",warm:"Warm",cold:"Kalt"},AEe={stage:"Pipeline-Stufe",stages:"Pipeline-Stufen",probability:"Gewinnwahrscheinlichkeit",value:"Deal-Wert",weighted_value:"Gewichteter Wert",expected_close:"Erwarteter Abschluss",days_in_stage:"Tage in Stufe",time_to_close:"Zeit bis Abschluss",move_to_stage:"Zu Stufe verschieben",stage_history:"Stufenverlauf"},PEe={title:"Aktivitten",new_activity:"Neue Aktivitt",activity_type:"Aktivittstyp",activity_date:"Aktivittsdatum",activity_time:"Aktivittszeit",duration:"Dauer",outcome:"Ergebnis",follow_up_required:"Nachfassung erforderlich",completed:"Abgeschlossen",scheduled:"Geplant",overdue:"berfllig",today:"Heute",this_week:"Diese Woche",next_week:"Nchste Woche"},EEe={call:"Telefonanruf",email:"E-Mail",meeting:"Besprechung",demo:"Produktdemo",proposal:"Angebot",follow_up:"Nachfassung",research:"Recherche",task:"Aufgabe",note:"Notiz"},TEe={import_leads:"Leads importieren",export_leads:"Leads exportieren",import_contacts:"Kontakte importieren",export_contacts:"Kontakte exportieren",file_format:"Dateiformat",csv_file:"CSV-Datei",excel_file:"Excel-Datei",mapping:"Feldzuordnung",preview:"Import-Vorschau",import_success:"Import erfolgreich abgeschlossen",import_error:"Import fehlgeschlagen",records_imported:"{{count}} Datenstze importiert",records_updated:"{{count}} Datenstze aktualisiert",duplicate_handling:"Duplikat-Behandlung",skip_duplicates:"Duplikate berspringen",update_duplicates:"Duplikate aktualisieren",create_duplicates:"Duplikate erstellen"},OEe={filter_by:"Filtern nach",lead_status:"Lead-Status",lead_source:"Lead-Quelle",date_range:"Datumsbereich",owner:"Besitzer",score_range:"Bewertungsbereich",temperature:"Temperatur",industry:"Branche",company_size:"Unternehmensgre",tags:"Tags",custom_filter:"Benutzerdefinierter Filter",saved_filters:"Gespeicherte Filter",clear_filters:"Filter lschen",apply_filters:"Filter anwenden"},REe={title:"Massenaktionen",select_all:"Alle auswhlen",select_none:"Keine auswhlen",change_status:"Status ndern",assign_owner:"Besitzer zuweisen",add_tags:"Tags hinzufgen",remove_tags:"Tags entfernen",delete_selected:"Ausgewhlte lschen",export_selected:"Ausgewhlte exportieren",send_email:"E-Mail senden",create_campaign:"Kampagne erstellen",merge_duplicates:"Duplikate zusammenfhren"},MEe={lead_scoring:"Lead-Bewertung",score:"Bewertung",score_breakdown:"Bewertungsaufschlsselung",demographic_score:"Demografische Bewertung",behavioural_score:"Verhaltensbewertung",engagement_score:"Engagement-Bewertung",fit_score:"Passgenauigkeits-Bewertung",recalculate:"Bewertung neu berechnen",scoring_rules:"Bewertungsregeln",auto_scoring:"Automatische Bewertung"},IEe={communication_history:"Kommunikationsverlauf",send_email:"E-Mail senden",make_call:"Anrufen",schedule_meeting:"Besprechung planen",send_sms:"SMS senden",add_note:"Notiz hinzufgen",email_sent:"E-Mail gesendet",call_made:"Anruf gettigt",meeting_scheduled:"Besprechung geplant",sms_sent:"SMS gesendet",note_added:"Notiz hinzugefgt",last_email:"Letzte E-Mail",last_call:"Letzter Anruf",last_meeting:"Letzte Besprechung",response_rate:"Antwortrate",engagement_level:"Engagement-Level"},DEe={title:"Berichte",lead_reports:"Lead-Berichte",conversion_reports:"Umwandlungsberichte",activity_reports:"Aktivittsberichte",performance_reports:"Leistungsberichte",pipeline_reports:"Pipeline-Berichte",forecast_reports:"Prognoseberichte",source_analysis:"Quellenanalyse",roi_analysis:"ROI-Analyse",time_to_conversion:"Zeit bis Umwandlung",lead_velocity:"Lead-Geschwindigkeit",win_rate:"Gewinnrate",average_deal_size:"Durchschnittliche Deal-Gre",sales_cycle:"Verkaufszyklus-Lnge"},$Ee={lead_created:"Lead erfolgreich erstellt",lead_updated:"Lead erfolgreich aktualisiert",lead_deleted:"Lead erfolgreich gelscht",contact_created:"Kontakt erfolgreich erstellt",contact_updated:"Kontakt erfolgreich aktualisiert",contact_deleted:"Kontakt erfolgreich gelscht",activity_scheduled:"Aktivitt erfolgreich geplant",activity_completed:"Aktivitt als abgeschlossen markiert",email_sent:"E-Mail erfolgreich gesendet",call_logged:"Anruf erfolgreich protokolliert",note_saved:"Notiz erfolgreich gespeichert",status_updated:"Status erfolgreich aktualisiert",assignment_changed:"Zuweisung erfolgreich gendert",tags_updated:"Tags erfolgreich aktualisiert",duplicate_found:"Mgliches Duplikat gefunden",merge_completed:"Datenstze erfolgreich zusammengefhrt",no_leads_selected:"Bitte whlen Sie mindestens einen Lead aus",no_contacts_selected:"Bitte whlen Sie mindestens einen Kontakt aus",confirm_delete:"Sind Sie sicher, dass Sie die ausgewhlten Datenstze lschen mchten?",confirm_merge:"Sind Sie sicher, dass Sie diese Datenstze zusammenfhren mchten?",operation_cancelled:"Vorgang abgebrochen",permission_denied:"Sie haben keine Berechtigung, diese Aktion auszufhren"},LEe={required_field:"Dieses Feld ist erforderlich",invalid_email:"Bitte geben Sie eine gltige E-Mail-Adresse ein",invalid_phone:"Bitte geben Sie eine gltige Telefonnummer ein",invalid_url:"Bitte geben Sie eine gltige URL ein",invalid_date:"Bitte geben Sie ein gltiges Datum ein",invalid_number:"Bitte geben Sie eine gltige Zahl ein",duplicate_email:"Diese E-Mail-Adresse existiert bereits",duplicate_phone:"Diese Telefonnummer existiert bereits",max_length:"Maximal {{max}} Zeichen erlaubt",min_length:"Mindestens {{min}} Zeichen erforderlich",invalid_format:"Ungltiges Format"},zEe={title:yEe,subtitle:vEe,sections:bEe,lead:wEe,contact:jEe,company:NEe,fields:_Ee,status:SEe,sources:CEe,temperature:kEe,pipeline:AEe,activities:PEe,activity_types:EEe,import_export:TEe,filters:OEe,bulk_actions:REe,scoring:MEe,communication:IEe,reports:DEe,messages:$Ee,validation:LEe},FEe="Analytik & Berichte",UEe="Leistung verfolgen und Erkenntnisse gewinnen",BEe={overview:"bersicht",performance:"Leistung",campaigns:"Kampagnen-Analytik",revenue:"Umsatz-Analytik",users:"Benutzer-Analytik",calls:"Anruf-Analytik",conversion:"Conversion-Analytik",forecasting:"Prognosen",custom:"Benutzerdefinierte Berichte"},WEe={overview:"bersicht",calls:"Anrufe",campaigns:"Kampagnen",revenue:"Umsatz",conversion:"Conversion",performance:"Leistung",trends:"Trends",forecasts:"Prognosen"},VEe={total_revenue:"Gesamtumsatz",monthly_revenue:"Monatsumsatz",revenue_growth:"Umsatzwachstum",total_users:"Benutzer gesamt",active_users:"Aktive Benutzer",new_users:"Neue Benutzer",user_growth:"Benutzerwachstum",total_calls:"Anrufe gesamt",successful_calls:"Erfolgreiche Anrufe",call_volume:"Anrufvolumen",call_growth:"Anrufwachstum",conversion_rate:"Conversion-Rate",lead_conversion:"Lead-Conversion",sales_conversion:"Verkaufs-Conversion",churn_rate:"Abwanderungsrate",retention_rate:"Bindungsrate",lifetime_value:"Customer Lifetime Value",acquisition_cost:"Kundenakquisitionskosten",roi:"Return on Investment",profit_margin:"Gewinnspanne",average_deal_size:"Durchschnittliche Deal-Gre",sales_cycle_length:"Verkaufszyklus-Lnge",win_rate:"Gewinnrate",pipeline_value:"Pipeline-Wert",forecast_accuracy:"Prognosegenauigkeit"},qEe={value:"Wert",change:"nderung",percentage:"Prozentsatz",growth:"Wachstum",decline:"Rckgang",target:"Ziel",actual:"Ist",variance:"Abweichung",trend:"Trend",benchmark:"Benchmark",goal:"Ziel",achievement:"Erreichung",performance:"Leistung"},HEe={today:"Heute",yesterday:"Gestern",this_week:"Diese Woche",last_week:"Letzte Woche",this_month:"Dieser Monat",last_month:"Letzter Monat",this_quarter:"Dieses Quartal",last_quarter:"Letztes Quartal",this_year:"Dieses Jahr",last_year:"Letztes Jahr",last_7_days:"Letzte 7 Tage",last_30_days:"Letzte 30 Tage",last_90_days:"Letzte 90 Tage",last_365_days:"Letzte 365 Tage",custom_range:"Benutzerdefinierter Bereich",date_range:"Datumsbereich",from:"Von",to:"Bis",compare_to:"Vergleichen mit",previous_period:"Vorheriger Zeitraum",same_period_last_year:"Gleicher Zeitraum letztes Jahr"},KEe={line_chart:"Liniendiagramm",bar_chart:"Balkendiagramm",pie_chart:"Kreisdiagramm",area_chart:"Flchendiagramm",donut_chart:"Donut-Diagramm",scatter_plot:"Streudiagramm",heatmap:"Heatmap",funnel_chart:"Trichterdiagramm",gauge_chart:"Messgert-Diagramm",table_view:"Tabellenansicht",card_view:"Kartenansicht",chart_type:"Diagrammtyp",data_points:"Datenpunkte",no_data:"Keine Daten fr den ausgewhlten Zeitraum verfgbar",loading_data:"Daten werden geladen...",chart_options:"Diagrammoptionen",show_legend:"Legende anzeigen",show_grid:"Gitter anzeigen",show_values:"Werte anzeigen",chart_title:"Diagrammtitel",x_axis:"X-Achse",y_axis:"Y-Achse"},GEe={filter_by:"Filtern nach",date_range:"Datumsbereich",campaign:"Kampagne",user:"Benutzer",team:"Team",department:"Abteilung",region:"Region",country:"Land",source:"Quelle",channel:"Kanal",device:"Gert",platform:"Plattform",status:"Status",type:"Typ",category:"Kategorie",segment:"Segment",cohort:"Kohorte",custom_filter:"Benutzerdefinierter Filter",saved_filters:"Gespeicherte Filter",apply_filters:"Filter anwenden",clear_filters:"Filter lschen",save_filter:"Filter speichern",filter_name:"Filtername"},YEe={title:"Anruf-Analytik",total_calls:"Anrufe gesamt",answered_calls:"Beantwortete Anrufe",missed_calls:"Verpasste Anrufe",voicemail_calls:"Mailbox-Anrufe",busy_calls:"Besetzte Anrufe",failed_calls:"Fehlgeschlagene Anrufe",answer_rate:"Antwortrate",call_duration:"Anrufdauer",average_duration:"Durchschnittliche Dauer",total_duration:"Gesamtdauer",call_outcome:"Anrufergebnis",call_quality:"Anrufqualitt",call_cost:"Anrufkosten",cost_per_call:"Kosten pro Anruf",calls_by_hour:"Anrufe nach Stunde",calls_by_day:"Anrufe nach Tag",calls_by_agent:"Anrufe nach Agent",peak_hours:"Spitzenzeiten",call_volume_trend:"Anrufvolumen-Trend",success_rate:"Erfolgsrate",contact_rate:"Kontaktrate",conversion_by_call:"Conversion pro Anruf",follow_up_rate:"Nachfassungsrate"},JEe={title:"Kampagnen-Analytik",campaign_performance:"Kampagnenleistung",campaign_roi:"Kampagnen-ROI",campaign_reach:"Kampagnenreichweite",campaign_engagement:"Kampagnen-Engagement",leads_generated:"Generierte Leads",leads_qualified:"Qualifizierte Leads",leads_converted:"Konvertierte Leads",cost_per_lead:"Kosten pro Lead",cost_per_acquisition:"Kosten pro Akquisition",campaign_budget:"Kampagnenbudget",budget_utilisation:"Budgetausnutzung",remaining_budget:"Verbleibendes Budget",campaign_duration:"Kampagnendauer",active_campaigns:"Aktive Kampagnen",completed_campaigns:"Abgeschlossene Kampagnen",campaign_comparison:"Kampagnenvergleich",best_performing:"Beste Leistung",worst_performing:"Schlechteste Leistung",campaign_trends:"Kampagnen-Trends"},XEe={title:"Umsatz-Analytik",gross_revenue:"Bruttoumsatz",net_revenue:"Nettoumsatz",recurring_revenue:"Wiederkehrender Umsatz",one_time_revenue:"Einmaliger Umsatz",revenue_by_source:"Umsatz nach Quelle",revenue_by_product:"Umsatz nach Produkt",revenue_by_region:"Umsatz nach Region",revenue_forecast:"Umsatzprognose",revenue_target:"Umsatzziel",revenue_variance:"Umsatzabweichung",monthly_recurring_revenue:"Monatlich wiederkehrender Umsatz",annual_recurring_revenue:"Jhrlich wiederkehrender Umsatz",revenue_per_user:"Umsatz pro Benutzer",revenue_per_call:"Umsatz pro Anruf",revenue_growth_rate:"Umsatzwachstumsrate",revenue_concentration:"Umsatzkonzentration",lost_revenue:"Verlorener Umsatz",potential_revenue:"Potenzieller Umsatz"},ZEe={title:"Conversion-Analytik",conversion_funnel:"Conversion-Trichter",funnel_stages:"Trichterstufen",stage_conversion:"Stufen-Conversion",drop_off_rate:"Abbruchrate",funnel_analysis:"Trichteranalyse",lead_to_customer:"Lead zu Kunde",visitor_to_lead:"Besucher zu Lead",trial_to_paid:"Testversion zu Bezahlt",micro_conversions:"Mikro-Conversions",macro_conversions:"Makro-Conversions",conversion_path:"Conversion-Pfad",attribution_model:"Attributionsmodell",first_touch:"Erste Berhrung",last_touch:"Letzte Berhrung",multi_touch:"Multi-Touch",time_to_conversion:"Zeit bis Conversion",conversion_velocity:"Conversion-Geschwindigkeit",assisted_conversions:"Untersttzte Conversions"},QEe={title:"Benutzer-Analytik",user_acquisition:"Benutzerakquisition",user_retention:"Benutzerbindung",user_engagement:"Benutzer-Engagement",user_behaviour:"Benutzerverhalten",user_segmentation:"Benutzersegmentierung",user_lifetime_value:"Benutzer-Lifetime-Value",user_churn:"Benutzer-Abwanderung",active_users_daily:"Tglich aktive Benutzer",active_users_weekly:"Wchentlich aktive Benutzer",active_users_monthly:"Monatlich aktive Benutzer",new_user_growth:"Neues Benutzerwachstum",returning_users:"Wiederkehrende Benutzer",user_satisfaction:"Benutzerzufriedenheit",user_feedback:"Benutzer-Feedback",user_demographics:"Benutzerdemografie",user_geography:"Benutzergeografie",user_devices:"Benutzergerte"},eTe={title:"Berichte",generate_report:"Bericht erstellen",custom_report:"Benutzerdefinierter Bericht",scheduled_reports:"Geplante Berichte",report_builder:"Berichts-Builder",report_template:"Berichtsvorlage",save_report:"Bericht speichern",export_report:"Bericht exportieren",share_report:"Bericht teilen",report_frequency:"Berichtshufigkeit",daily_report:"Tglicher Bericht",weekly_report:"Wchentlicher Bericht",monthly_report:"Monatlicher Bericht",quarterly_report:"Quartalsbericht",annual_report:"Jahresbericht",executive_summary:"Zusammenfassung fr Fhrungskrfte",detailed_report:"Detaillierter Bericht",report_format:"Berichtsformat",pdf_report:"PDF-Bericht",excel_report:"Excel-Bericht",csv_report:"CSV-Bericht"},tTe={overview_dashboard:"bersichts-Dashboard",custom_dashboard:"Benutzerdefiniertes Dashboard",dashboard_widgets:"Dashboard-Widgets",add_widget:"Widget hinzufgen",remove_widget:"Widget entfernen",widget_settings:"Widget-Einstellungen",widget_size:"Widget-Gre",widget_position:"Widget-Position",refresh_rate:"Aktualisierungsrate",auto_refresh:"Automatische Aktualisierung",manual_refresh:"Manuelle Aktualisierung",last_updated:"Zuletzt aktualisiert",real_time:"Echtzeit",dashboard_layout:"Dashboard-Layout",save_layout:"Layout speichern",reset_layout:"Layout zurcksetzen",fullscreen:"Vollbild",exit_fullscreen:"Vollbild verlassen"},rTe={performance_alerts:"Leistungs-Alerts",set_alert:"Alert setzen",alert_conditions:"Alert-Bedingungen",alert_threshold:"Alert-Schwellenwert",above_threshold:"ber Schwellenwert",below_threshold:"Unter Schwellenwert",alert_frequency:"Alert-Hufigkeit",immediate:"Sofort",hourly:"Stndlich",daily:"Tglich",weekly:"Wchentlich",alert_recipients:"Alert-Empfnger",email_alerts:"E-Mail-Alerts",sms_alerts:"SMS-Alerts",in_app_alerts:"In-App-Alerts",alert_triggered:"Alert ausgelst",alert_resolved:"Alert gelst",snooze_alert:"Alert schlummern",dismiss_alert:"Alert verwerfen"},sTe={compare_periods:"Zeitrume vergleichen",period_comparison:"Zeitraumvergleich",year_over_year:"Jahr ber Jahr",month_over_month:"Monat ber Monat",week_over_week:"Woche ber Woche",day_over_day:"Tag ber Tag",vs_previous:"vs Vorherig",vs_target:"vs Ziel",vs_benchmark:"vs Benchmark",percentage_change:"Prozentuale nderung",absolute_change:"Absolute nderung",relative_change:"Relative nderung",improvement:"Verbesserung",deterioration:"Verschlechterung",no_change:"Keine nderung"},aTe={forecast:"Prognose",prediction:"Vorhersage",trend_analysis:"Trendanalyse",seasonal_analysis:"Saisonanalyse",forecast_accuracy:"Prognosegenauigkeit",confidence_interval:"Konfidenzintervall",forecast_model:"Prognosemodell",linear_trend:"Linearer Trend",exponential_trend:"Exponentieller Trend",seasonal_trend:"Saisonaler Trend",forecast_period:"Prognosezeitraum",next_month:"Nchster Monat",next_quarter:"Nchstes Quartal",next_year:"Nchstes Jahr",scenario_analysis:"Szenarioanalyse",best_case:"Bester Fall",worst_case:"Schlechtester Fall",most_likely:"Wahrscheinlichster Fall"},nTe={data_updated:"Daten erfolgreich aktualisiert",report_generated:"Bericht erfolgreich erstellt",report_saved:"Bericht erfolgreich gespeichert",report_shared:"Bericht erfolgreich geteilt",alert_created:"Alert erfolgreich erstellt",alert_updated:"Alert erfolgreich aktualisiert",dashboard_saved:"Dashboard erfolgreich gespeichert",export_completed:"Export erfolgreich abgeschlossen",no_data_available:"Keine Daten fr die ausgewhlten Kriterien verfgbar",loading_analytics:"Analytikdaten werden geladen...",error_loading_data:"Fehler beim Laden der Daten. Bitte versuchen Sie es erneut.",insufficient_data:"Unzureichende Daten fr die Analyse",calculation_in_progress:"Berechnung luft...",forecast_updated:"Prognose erfolgreich aktualisiert",benchmark_set:"Benchmark erfolgreich gesetzt"},iTe={title:FEe,subtitle:UEe,sections:BEe,tabs:WEe,kpis:VEe,metrics:qEe,time_periods:HEe,charts:KEe,filters:GEe,call_analytics:YEe,campaign_analytics:JEe,revenue_analytics:XEe,conversion_analytics:ZEe,user_analytics:QEe,reports:eTe,export:{export_data:"Daten exportieren",export_chart:"Diagramm exportieren",export_report:"Bericht exportieren",file_format:"Dateiformat",csv:"CSV",excel:"Excel",pdf:"PDF",png:"PNG",svg:"SVG",include_charts:"Diagramme einschlieen",include_data:"Daten einschlieen",date_range:"Datumsbereich",export_options:"Exportoptionen",download:"Herunterladen",email_report:"Bericht per E-Mail",schedule_export:"Export planen",export_successful:"Export erfolgreich abgeschlossen",export_failed:"Export fehlgeschlagen",generating_export:"Export wird erstellt..."},dashboard:tTe,alerts:rTe,comparisons:sTe,forecasting:aTe,messages:nTe},oTe={common:nPe,dashboard:wPe,campaigns:EPe,settings:UPe,components:GPe,navigation:xEe,crm:zEe,analytics:iTe},lTe="Bentornato, {{name}}!",cTe="Caricamento...",dTe="Salva",uTe="Annulla",mTe="Modifica",hTe="Conferma",fTe="Successo",pTe="Errore",gTe="Avviso",xTe="Informazione",yTe="S",vTe="No",bTe="Indietro",wTe="Avanti",jTe="Precedente",NTe="Cerca",_Te="Filtra",STe="Aggiorna",CTe="Chiudi",kTe="Apri",ATe="Aggiungi",PTe="Crea",ETe="Aggiorna",TTe="Rimuovi",OTe="Visualizza",RTe="Gestisci",MTe="Impostazioni",ITe="Profilo",DTe="Disconnetti",$Te="Accedi",LTe="Registrati",zTe={welcome:lTe,loading:cTe,save:dTe,cancel:uTe,edit:mTe,delete:"Elimina",confirm:hTe,success:fTe,error:pTe,warning:gTe,info:xTe,yes:yTe,no:vTe,back:bTe,next:wTe,previous:jTe,search:NTe,filter:_Te,export:"Esporta",import:"Importa",refresh:STe,close:CTe,open:kTe,add:ATe,create:PTe,update:ETe,remove:TTe,view:OTe,manage:RTe,settings:MTe,profile:ITe,logout:DTe,login:$Te,signup:LTe},FTe="Dashboard",UTe="Panoramica",BTe="Analisi",WTe={title:"Campagne",active:"Campagne Attive",total:"Campagne Totali",running:"In Esecuzione",paused:"In Pausa",completed:"Completate",create_new:"Crea Nuova Campagna"},VTe={title:"Chiamate",total:"Chiamate Totali",successful:"Riuscite",failed:"Fallite",in_progress:"In Corso",success_rate:"Tasso di Successo"},qTe={title:"Lead",qualified:"Lead Qualificati",total:"Lead Totali",conversion_rate:"Tasso di Conversione",review_queue:"Coda di Revisione"},HTe={today:"Oggi",this_week:"Questa Settimana",this_month:"Questo Mese",all_time:"Tutto il Tempo"},KTe={title:FTe,overview:UTe,analytics:BTe,campaigns:WTe,calls:VTe,leads:qTe,quick_stats:HTe},GTe="Campagne",YTe="Crea Campagna",JTe="Procedura Guidata Campagna",XTe="Impostazioni Campagna",ZTe="Nome Campagna",QTe={active:"Attivo",paused:"In Pausa",completed:"Completato",draft:"Bozza"},e5e={calls_made:"Chiamate Effettuate",success_rate:"Tasso di Successo",leads_qualified:"Lead Qualificati",cost_per_lead:"Costo per Lead",total_cost:"Costo Totale",duration:"Durata",contacts_called:"Contatti Chiamati",avg_call_duration:"Durata Media Chiamata"},t5e={start:"Avvia",pause:"Pausa",resume:"Riprendi",stop:"Ferma",edit:"Modifica",duplicate:"Duplica",archive:"Archivia",view_details:"Visualizza Dettagli"},r5e={title:GTe,create_campaign:YTe,campaign_wizard:JTe,campaign_settings:XTe,campaign_name:ZTe,status:QTe,analytics:e5e,actions:t5e},s5e="Impostazioni",a5e="Configura le preferenze e le integrazioni della piattaforma",n5e={title:"Informazioni Profilo",description:"Aggiorna le tue informazioni personali e aziendali",full_name:"Nome Completo",email:"Indirizzo Email",company:"Azienda",timezone:"Fuso Orario",language:"Lingua",language_region:"Lingua e Regione",enter_full_name:"Inserisci il tuo nome completo"},i5e={title:"Preferenze Notifiche",description:"Scegli come e quando vuoi essere notificato",call_alerts:"Avvisi Chiamate",call_alerts_desc:"Ricevi notifiche sui cambi di stato delle chiamate",performance:"Notifiche prestazioni",performance_desc:"Avvisi sulle prestazioni del sistema",system_updates:"Aggiornamenti e manutenzione del sistema",system_updates_desc:"Notifiche importanti del sistema",billing_alerts:"Avvisi fatturazione e pagamenti",billing_alerts_desc:"Promemoria pagamenti e fatture",delivery_methods:"Metodi di Consegna",email_notifications:"Notifiche email",email_notifications_desc:"Ricevi notifiche via email",push_notifications:"Notifiche push",push_notifications_desc:"Notifiche mobile e browser",sms_notifications:"Notifiche SMS",sms_notifications_desc:"Avvisi critici via messaggio",quiet_hours:"Ore Silenziose",quiet_hours_desc:"Pausa notifiche non critiche",start_time:"Ora Inizio",end_time:"Ora Fine",test_notifications:"Test Notifiche",test_notifications_desc:"Testa diversi tipi di notifiche per vedere come funzionano con le tue impostazioni attuali",send_test_email:"Invia Email di Test"},o5e={title:"Impostazioni Aspetto",description:"Personalizza l'aspetto della piattaforma",theme:"Tema",accent_color:"Colore Accento",compact_mode:"Modalit Compatta",compact_mode_desc:"Riduci la spaziatura per pi densit di contenuto"},l5e={title:"Cambia Password",description:"Aggiorna la password del tuo account per maggiore sicurezza",current_password:"Password Attuale",new_password:"Nuova Password",confirm_password:"Conferma Nuova Password",requirements:"Requisiti Password:",min_length:"Almeno 8 caratteri",uppercase:"Una lettera maiuscola",lowercase:"Una lettera minuscola",number:"Un numero",special:"Un carattere speciale",recommended:"12+ caratteri (raccomandato)",strength:"Forza Password",weak:"Debole",medium:"Media",strong:"Forte",passwords_match:"Le password corrispondono",passwords_no_match:"Le password non corrispondono",update_password:"Aggiorna Password"},c5e="Salva Modifiche",d5e="Salvataggio...",u5e="Impostazioni salvate con successo",m5e={title:s5e,description:a5e,profile:n5e,notifications:i5e,appearance:o5e,password:l5e,save_changes:c5e,saving:d5e,saved_successfully:u5e},h5e={dashboard:"Dashboard",campaigns:"Campagne",crm:"CRM",analytics:"Analisi",settings:"Impostazioni",phone_numbers:"Numeri di Telefono",team_management:"Gestione Team",billing:"Fatturazione",support:"Supporto"},f5e={profile:"Profilo",settings:"Impostazioni",billing:"Fatturazione",support:"Supporto",sign_out:"Disconnetti"},p5e={mark_all_read:"Segna tutto come letto",no_notifications:"Nessuna nuova notifica",view_all:"Visualizza tutte le notifiche"},g5e={placeholder:"Cerca...",no_results:"Nessun risultato trovato",searching:"Ricerca in corso..."},x5e={no_data:"Nessun dato disponibile",loading:"Caricamento dati...",rows_per_page:"Righe per pagina",of:"di",page:"Pagina",previous:"Precedente",next:"Successivo"},y5e={required:"Questo campo  obbligatorio",invalid_email:"Inserisci un indirizzo email valido",invalid_phone:"Inserisci un numero di telefono valido",min_length:"Deve essere di almeno {{count}} caratteri",max_length:"Deve essere di massimo {{count}} caratteri"},v5e={navigation:h5e,user_dropdown:f5e,notifications:p5e,search:g5e,table:x5e,forms:y5e},b5e="Dashboard",w5e="Panoramica Piattaforma",j5e="Organizzazioni",N5e="Gestione Utenti",_5e="Analitiche Piattaforma",S5e="Ticket di Supporto",C5e="Salute del Sistema",k5e="Sicurezza e Audit",A5e="Dashboard Agenzia",P5e="Gestione Clienti",E5e="Campagne",T5e="Analitiche",O5e="Team",R5e="Fatturazione",M5e="Impostazioni",I5e="CRM",D5e="Tutte le Chiamate",$5e="Monitor Live",L5e="Analitiche Costi",z5e="Team",F5e="Organizzazione",U5e="Piattaforma Vocale",B5e={dashboard:b5e,platform_overview:w5e,organizations:j5e,user_management:N5e,platform_analytics:_5e,support_tickets:S5e,system_health:C5e,security_audit:k5e,agency_dashboard:A5e,client_management:P5e,campaigns:E5e,analytics:T5e,team:O5e,billing:R5e,settings:M5e,crm:I5e,all_calls:D5e,live_monitor:$5e,cost_analytics:L5e,team_management:z5e,organization:F5e,voice_platform:U5e},W5e={common:zTe,dashboard:KTe,campaigns:r5e,settings:m5e,components:v5e,navigation:B5e},V5e="Bon retour, {{name}} !",q5e="Chargement...",H5e="Enregistrer",K5e="Annuler",G5e="Modifier",Y5e="Confirmer",J5e="Succs",X5e="Erreur",Z5e="Attention",Q5e="Information",eOe="Oui",tOe="Non",rOe="Retour",sOe="Suivant",aOe="Prcdent",nOe="Rechercher",iOe="Filtrer",oOe="Actualiser",lOe="Fermer",cOe="Ouvrir",dOe="Ajouter",uOe="Crer",mOe="Mettre  jour",hOe="Retirer",fOe="Voir",pOe="Grer",gOe="Paramtres",xOe="Profil",yOe="Se dconnecter",vOe="Se connecter",bOe="S'inscrire",wOe={welcome:V5e,loading:q5e,save:H5e,cancel:K5e,edit:G5e,delete:"Supprimer",confirm:Y5e,success:J5e,error:X5e,warning:Z5e,info:Q5e,yes:eOe,no:tOe,back:rOe,next:sOe,previous:aOe,search:nOe,filter:iOe,export:"Exporter",import:"Importer",refresh:oOe,close:lOe,open:cOe,add:dOe,create:uOe,update:mOe,remove:hOe,view:fOe,manage:pOe,settings:gOe,profile:xOe,logout:yOe,login:vOe,signup:bOe},jOe="Tableau de bord",NOe="Aperu",_Oe="Analytiques",SOe={title:"Campagnes",active:"Campagnes actives",total:"Total des campagnes",running:"En cours",paused:"En pause",completed:"Termines",create_new:"Crer une nouvelle campagne"},COe={title:"Appels",total:"Total des appels",successful:"Russis",failed:"chous",in_progress:"En cours",success_rate:"Taux de russite"},kOe={title:"Prospects",qualified:"Prospects qualifis",total:"Total des prospects",conversion_rate:"Taux de conversion",review_queue:"File d'attente de rvision"},AOe={today:"Aujourd'hui",this_week:"Cette semaine",this_month:"Ce mois",all_time:"Tout le temps"},POe={title:jOe,overview:NOe,analytics:_Oe,campaigns:SOe,calls:COe,leads:kOe,quick_stats:AOe},EOe="Campagnes",TOe="Crer une campagne",OOe="Assistant de campagne",ROe="Paramtres de campagne",MOe="Nom de la campagne",IOe={active:"Active",paused:"En pause",completed:"Termine",draft:"Brouillon"},DOe={calls_made:"Appels effectus",success_rate:"Taux de russite",leads_qualified:"Prospects qualifis",cost_per_lead:"Cot par prospect",total_cost:"Cot total",duration:"Dure",contacts_called:"Contacts appels",avg_call_duration:"Dure moyenne d'appel"},$Oe={start:"Dmarrer",pause:"Pause",resume:"Reprendre",stop:"Arrter",edit:"Modifier",duplicate:"Dupliquer",archive:"Archiver",view_details:"Voir les dtails"},LOe={title:EOe,create_campaign:TOe,campaign_wizard:OOe,campaign_settings:ROe,campaign_name:MOe,status:IOe,analytics:DOe,actions:$Oe},zOe="Paramtres",FOe="Configurez vos prfrences de plateforme et intgrations",UOe={title:"Informations du profil",description:"Mettez  jour vos informations personnelles et d'entreprise",full_name:"Nom complet",email:"Adresse e-mail",company:"Entreprise",timezone:"Fuseau horaire",language:"Langue",language_region:"Langue et rgion",enter_full_name:"Entrez votre nom complet"},BOe={title:"Prfrences de notification",description:"Choisissez comment et quand vous souhaitez tre notifi",call_alerts:"Alertes d'appel",call_alerts_desc:"tre notifi des changements de statut d'appel",performance:"Notifications de performance",performance_desc:"Alertes sur la performance du systme",system_updates:"Mises  jour systme et maintenance",system_updates_desc:"Notifications systme importantes",billing_alerts:"Alertes de facturation et paiement",billing_alerts_desc:"Rappels de paiement et factures",delivery_methods:"Mthodes de livraison",email_notifications:"Notifications par e-mail",email_notifications_desc:"Recevoir des notifications par e-mail",push_notifications:"Notifications push",push_notifications_desc:"Notifications mobiles et navigateur",sms_notifications:"Notifications SMS",sms_notifications_desc:"Alertes critiques par message texte",quiet_hours:"Heures silencieuses",quiet_hours_desc:"Suspendre les notifications non critiques",start_time:"Heure de dbut",end_time:"Heure de fin",test_notifications:"Tester les notifications",test_notifications_desc:"Testez diffrents types de notifications pour voir comment ils fonctionnent avec vos paramtres actuels",send_test_email:"Envoyer un e-mail de test"},WOe={title:"Paramtres d'apparence",description:"Personnalisez l'apparence de la plateforme",theme:"Thme",accent_color:"Couleur d'accent",compact_mode:"Mode compact",compact_mode_desc:"Rduire l'espacement pour plus de densit de contenu"},VOe={title:"Changer le mot de passe",description:"Mettez  jour votre mot de passe de compte pour une scurit renforce",current_password:"Mot de passe actuel",new_password:"Nouveau mot de passe",confirm_password:"Confirmer le nouveau mot de passe",requirements:"Exigences du mot de passe :",min_length:"Au moins 8 caractres",uppercase:"Une lettre majuscule",lowercase:"Une lettre minuscule",number:"Un chiffre",special:"Un caractre spcial",recommended:"12+ caractres (recommand)",strength:"Force du mot de passe",weak:"Faible",medium:"Moyen",strong:"Fort",passwords_match:"Les mots de passe correspondent",passwords_no_match:"Les mots de passe ne correspondent pas",update_password:"Mettre  jour le mot de passe"},qOe="Enregistrer les modifications",HOe="Enregistrement...",KOe="Paramtres enregistrs avec succs",GOe={title:zOe,description:FOe,profile:UOe,notifications:BOe,appearance:WOe,password:VOe,save_changes:qOe,saving:HOe,saved_successfully:KOe},YOe={dashboard:"Tableau de bord",campaigns:"Campagnes",crm:"CRM",analytics:"Analytiques",settings:"Paramtres",phone_numbers:"Numros de tlphone",team_management:"Gestion d'quipe",billing:"Facturation",support:"Support"},JOe={profile:"Profil",settings:"Paramtres",billing:"Facturation",support:"Support",sign_out:"Se dconnecter"},XOe={mark_all_read:"Tout marquer comme lu",no_notifications:"Aucune nouvelle notification",view_all:"Voir toutes les notifications"},ZOe={placeholder:"Rechercher...",no_results:"Aucun rsultat trouv",searching:"Recherche en cours..."},QOe={no_data:"Aucune donne disponible",loading:"Chargement des donnes...",rows_per_page:"Lignes par page",of:"de",page:"Page",previous:"Prcdent",next:"Suivant"},eRe={required:"Ce champ est requis",invalid_email:"Veuillez entrer une adresse e-mail valide",invalid_phone:"Veuillez entrer un numro de tlphone valide",min_length:"Doit contenir au moins {{count}} caractres",max_length:"Ne doit pas dpasser {{count}} caractres"},tRe={navigation:YOe,user_dropdown:JOe,notifications:XOe,search:ZOe,table:QOe,forms:eRe},rRe="Tableau de Bord",sRe="Aperu de la Plateforme",aRe="Organisations",nRe="Gestion des Utilisateurs",iRe="Analytiques de la Plateforme",oRe="Tickets de Support",lRe="Sant du Systme",cRe="Scurit et Audit",dRe="Tableau de Bord Agence",uRe="Gestion des Clients",mRe="Campagnes",hRe="Analytiques",fRe="quipe",pRe="Facturation",gRe="Paramtres",xRe="CRM",yRe="Tous les Appels",vRe="Moniteur en Direct",bRe="Analytiques des Cots",wRe="quipe",jRe="Organisation",NRe="Plateforme Vocale",_Re={dashboard:rRe,platform_overview:sRe,organizations:aRe,user_management:nRe,platform_analytics:iRe,support_tickets:oRe,system_health:lRe,security_audit:cRe,agency_dashboard:dRe,client_management:uRe,campaigns:mRe,analytics:hRe,team:fRe,billing:pRe,settings:gRe,crm:xRe,all_calls:yRe,live_monitor:vRe,cost_analytics:bRe,team_management:wRe,organization:jRe,voice_platform:NRe},SRe={common:wOe,dashboard:POe,campaigns:LOe,settings:GOe,components:tRe,navigation:_Re},CRe="Bienvenido de nuevo, {{name}}!",kRe="Cargando...",ARe="Guardar",PRe="Cancelar",ERe="Editar",TRe="Confirmar",ORe="xito",RRe="Error",MRe="Advertencia",IRe="Informacin",DRe="S",$Re="No",LRe="Atrs",zRe="Siguiente",FRe="Anterior",URe="Buscar",BRe="Filtrar",WRe="Actualizar",VRe="Cerrar",qRe="Abrir",HRe="Agregar",KRe="Crear",GRe="Actualizar",YRe="Quitar",JRe="Ver",XRe="Gestionar",ZRe="Configuracin",QRe="Perfil",eMe="Cerrar sesin",tMe="Iniciar sesin",rMe="Registrarse",sMe={welcome:CRe,loading:kRe,save:ARe,cancel:PRe,edit:ERe,delete:"Eliminar",confirm:TRe,success:ORe,error:RRe,warning:MRe,info:IRe,yes:DRe,no:$Re,back:LRe,next:zRe,previous:FRe,search:URe,filter:BRe,export:"Exportar",import:"Importar",refresh:WRe,close:VRe,open:qRe,add:HRe,create:KRe,update:GRe,remove:YRe,view:JRe,manage:XRe,settings:ZRe,profile:QRe,logout:eMe,login:tMe,signup:rMe},aMe="Panel de control",nMe="Resumen",iMe="Anlisis",oMe={title:"Campaas",active:"Campaas activas",total:"Total de campaas",running:"En ejecucin",paused:"Pausadas",completed:"Completadas",create_new:"Crear nueva campaa"},lMe={title:"Llamadas",total:"Total de llamadas",successful:"Exitosas",failed:"Fallidas",in_progress:"En progreso",success_rate:"Tasa de xito"},cMe={title:"Prospectos",qualified:"Prospectos calificados",total:"Total de prospectos",conversion_rate:"Tasa de conversin",review_queue:"Cola de revisin"},dMe={today:"Hoy",this_week:"Esta semana",this_month:"Este mes",all_time:"Todo el tiempo"},uMe={title:aMe,overview:nMe,analytics:iMe,campaigns:oMe,calls:lMe,leads:cMe,quick_stats:dMe},mMe="Campaas",hMe="Crear campaa",fMe="Asistente de campaa",pMe="Configuracin de campaa",gMe="Nombre de la campaa",xMe={active:"Activa",paused:"Pausada",completed:"Completada",draft:"Borrador"},yMe={calls_made:"Llamadas realizadas",success_rate:"Tasa de xito",leads_qualified:"Prospectos calificados",cost_per_lead:"Costo por prospecto",total_cost:"Costo total",duration:"Duracin",contacts_called:"Contactos llamados",avg_call_duration:"Duracin promedio de llamada"},vMe={start:"Iniciar",pause:"Pausar",resume:"Reanudar",stop:"Detener",edit:"Editar",duplicate:"Duplicar",archive:"Archivar",view_details:"Ver detalles"},bMe={title:mMe,create_campaign:hMe,campaign_wizard:fMe,campaign_settings:pMe,campaign_name:gMe,status:xMe,analytics:yMe,actions:vMe},wMe="Configuracin",jMe="Configure sus preferencias de plataforma e integraciones",NMe={title:"Informacin del perfil",description:"Actualice su informacin personal y empresarial",full_name:"Nombre completo",email:"Direccin de correo electrnico",company:"Empresa",timezone:"Zona horaria",language:"Idioma",language_region:"Idioma y regin",enter_full_name:"Ingrese su nombre completo"},_Me={title:"Preferencias de notificacin",description:"Elija cmo y cundo desea ser notificado",call_alerts:"Alertas de llamadas",call_alerts_desc:"Recibir notificaciones sobre cambios de estado de llamadas",performance:"Notificaciones de rendimiento",performance_desc:"Alertas sobre el rendimiento del sistema",system_updates:"Actualizaciones del sistema y mantenimiento",system_updates_desc:"Notificaciones importantes del sistema",billing_alerts:"Alertas de facturacin y pago",billing_alerts_desc:"Recordatorios de pago y facturas",delivery_methods:"Mtodos de entrega",email_notifications:"Notificaciones por correo electrnico",email_notifications_desc:"Recibir notificaciones por correo electrnico",push_notifications:"Notificaciones push",push_notifications_desc:"Notificaciones mviles y del navegador",sms_notifications:"Notificaciones SMS",sms_notifications_desc:"Alertas crticas por mensaje de texto",quiet_hours:"Horas silenciosas",quiet_hours_desc:"Pausar notificaciones no crticas",start_time:"Hora de inicio",end_time:"Hora de fin",test_notifications:"Probar notificaciones",test_notifications_desc:"Pruebe diferentes tipos de notificaciones para ver cmo funcionan con su configuracin actual",send_test_email:"Enviar correo de prueba"},SMe={title:"Configuracin de apariencia",description:"Personalice cmo se ve y se siente la plataforma",theme:"Tema",accent_color:"Color de acento",compact_mode:"Modo compacto",compact_mode_desc:"Reducir el espaciado para mayor densidad de contenido"},CMe={title:"Cambiar contrasea",description:"Actualice su contrasea de cuenta para mayor seguridad",current_password:"Contrasea actual",new_password:"Nueva contrasea",confirm_password:"Confirmar nueva contrasea",requirements:"Requisitos de contrasea:",min_length:"Al menos 8 caracteres",uppercase:"Una letra mayscula",lowercase:"Una letra minscula",number:"Un nmero",special:"Un carcter especial",recommended:"12+ caracteres (recomendado)",strength:"Fortaleza de la contrasea",weak:"Dbil",medium:"Medio",strong:"Fuerte",passwords_match:"Las contraseas coinciden",passwords_no_match:"Las contraseas no coinciden",update_password:"Actualizar contrasea"},kMe="Guardar cambios",AMe="Guardando...",PMe="Configuracin guardada exitosamente",EMe={title:wMe,description:jMe,profile:NMe,notifications:_Me,appearance:SMe,password:CMe,save_changes:kMe,saving:AMe,saved_successfully:PMe},TMe={dashboard:"Panel de control",campaigns:"Campaas",crm:"CRM",analytics:"Anlisis",settings:"Configuracin",phone_numbers:"Nmeros de telfono",team_management:"Gestin de equipo",billing:"Facturacin",support:"Soporte"},OMe={profile:"Perfil",settings:"Configuracin",billing:"Facturacin",support:"Soporte",sign_out:"Cerrar sesin"},RMe={mark_all_read:"Marcar todo como ledo",no_notifications:"No hay nuevas notificaciones",view_all:"Ver todas las notificaciones"},MMe={placeholder:"Buscar...",no_results:"No se encontraron resultados",searching:"Buscando..."},IMe={no_data:"No hay datos disponibles",loading:"Cargando datos...",rows_per_page:"Filas por pgina",of:"de",page:"Pgina",previous:"Anterior",next:"Siguiente"},DMe={required:"Este campo es obligatorio",invalid_email:"Por favor ingrese una direccin de correo electrnico vlida",invalid_phone:"Por favor ingrese un nmero de telfono vlido",min_length:"Debe tener al menos {{count}} caracteres",max_length:"No debe exceder {{count}} caracteres"},$Me={navigation:TMe,user_dropdown:OMe,notifications:RMe,search:MMe,table:IMe,forms:DMe},LMe="Panel de Control",zMe="Resumen de la Plataforma",FMe="Organizaciones",UMe="Gestin de Usuarios",BMe="Analticas de la Plataforma",WMe="Tickets de Soporte",VMe="Salud del Sistema",qMe="Seguridad y Auditora",HMe="Panel de la Agencia",KMe="Gestin de Clientes",GMe="Campaas",YMe="Analticas",JMe="Equipo",XMe="Facturacin",ZMe="Configuracin",QMe="CRM",e3e="Todas las Llamadas",t3e="Monitor en Vivo",r3e="Analticas de Costos",s3e="Equipo",a3e="Organizacin",n3e="Plataforma de Voz",i3e={dashboard:LMe,platform_overview:zMe,organizations:FMe,user_management:UMe,platform_analytics:BMe,support_tickets:WMe,system_health:VMe,security_audit:qMe,agency_dashboard:HMe,client_management:KMe,campaigns:GMe,analytics:YMe,team:JMe,billing:XMe,settings:ZMe,crm:QMe,all_calls:e3e,live_monitor:t3e,cost_analytics:r3e,team_management:s3e,organization:a3e,voice_platform:n3e},o3e={common:sMe,dashboard:uMe,campaigns:bMe,settings:EMe,components:$Me,navigation:i3e},l3e=" , {{name}}!",c3e="...",d3e="",u3e="",m3e="",h3e="",f3e="",p3e="",g3e="",x3e="",y3e="",v3e="",b3e="",w3e="",j3e="",N3e="",_3e="",S3e="",C3e="",k3e="",A3e="",P3e="",E3e="",T3e="",O3e="",R3e="",M3e="",I3e="",D3e="",$3e="",L3e="",z3e={welcome:l3e,loading:c3e,save:d3e,cancel:u3e,edit:m3e,delete:"",confirm:h3e,success:f3e,error:p3e,warning:g3e,info:x3e,yes:y3e,no:v3e,back:b3e,next:w3e,previous:j3e,search:N3e,filter:_3e,export:"",import:"",refresh:S3e,close:C3e,open:k3e,add:A3e,create:P3e,update:E3e,remove:T3e,view:O3e,manage:R3e,settings:M3e,profile:I3e,logout:D3e,login:$3e,signup:L3e},F3e=" ",U3e="",B3e="",W3e={title:"",active:" ",total:" ",running:"",paused:"",completed:"",create_new:"  "},V3e={title:"",total:" ",successful:"",failed:"",in_progress:" ",success_rate:" "},q3e={title:"",qualified:" ",total:" ",conversion_rate:" ",review_queue:"  "},H3e={today:"",this_week:"  ",this_month:"  ",all_time:"  "},K3e={title:F3e,overview:U3e,analytics:B3e,campaigns:W3e,calls:V3e,leads:q3e,quick_stats:H3e},G3e="",Y3e=" ",J3e=" ",X3e=" ",Z3e=" ",Q3e={active:"",paused:"",completed:"",draft:""},eIe={calls_made:" ",success_rate:" ",leads_qualified:" ",cost_per_lead:"  ",total_cost:" ",duration:"",contacts_called:" ",avg_call_duration:"  "},tIe={start:"",pause:"",resume:"",stop:"",edit:"",duplicate:"",archive:"",view_details:" "},rIe={title:G3e,create_campaign:Y3e,campaign_wizard:J3e,campaign_settings:X3e,campaign_name:Z3e,status:Q3e,analytics:eIe,actions:tIe},sIe="",aIe="    ",nIe={title:"  ",description:"    ",full_name:" ",email:"  ",company:"",timezone:" ",language:"",language_region:"  ",enter_full_name:"  "},iIe={title:" ",description:",       ",call_alerts:"  ",call_alerts_desc:"     ",performance:"  ",performance_desc:"   ",system_updates:"   ",system_updates_desc:"  ",billing_alerts:"    ",billing_alerts_desc:"    ",delivery_methods:" ",email_notifications:"   ",email_notifications_desc:"    ",push_notifications:"Push-",push_notifications_desc:"   ",sms_notifications:"SMS-",sms_notifications_desc:"   SMS",quiet_hours:" ",quiet_hours_desc:"  ",start_time:" ",end_time:" ",test_notifications:" ",test_notifications_desc:"       ",send_test_email:"  "},oIe={title:"  ",description:"   ",theme:"",accent_color:" ",compact_mode:" ",compact_mode_desc:"     "},lIe={title:" ",description:"       ",current_password:" ",new_password:" ",confirm_password:"  ",requirements:"  :",min_length:" 8 ",uppercase:"  ",lowercase:"  ",number:" ",special:"  ",recommended:"12+  ()",strength:" ",weak:"",medium:"",strong:"",passwords_match:" ",passwords_no_match:"  ",update_password:" "},cIe=" ",dIe="...",uIe="  ",mIe={title:sIe,description:aIe,profile:nIe,notifications:iIe,appearance:oIe,password:lIe,save_changes:cIe,saving:dIe,saved_successfully:uIe},hIe={dashboard:" ",campaigns:"",crm:"CRM",analytics:"",settings:"",phone_numbers:" ",team_management:" ",billing:"",support:""},fIe={profile:"",settings:"",billing:"",support:"",sign_out:""},pIe={mark_all_read:"   ",no_notifications:"  ",view_all:"  "},gIe={placeholder:"...",no_results:"  ",searching:"..."},xIe={no_data:" ",loading:" ...",rows_per_page:"  ",of:"",page:"",previous:"",next:""},yIe={required:"  ",invalid_email:",     ",invalid_phone:",    ",min_length:"   {{count}} ",max_length:"   {{count}} "},vIe={navigation:hIe,user_dropdown:fIe,notifications:pIe,search:gIe,table:xIe,forms:yIe},bIe=" ",wIe=" ",jIe="",NIe=" ",_Ie=" ",SIe=" ",CIe=" ",kIe="  ",AIe=" ",PIe=" ",EIe="",TIe="",OIe="",RIe=" ",MIe="",IIe="CRM",DIe=" ",$Ie="   ",LIe=" ",zIe="",FIe="",UIe=" ",BIe={dashboard:bIe,platform_overview:wIe,organizations:jIe,user_management:NIe,platform_analytics:_Ie,support_tickets:SIe,system_health:CIe,security_audit:kIe,agency_dashboard:AIe,client_management:PIe,campaigns:EIe,analytics:TIe,team:OIe,billing:RIe,settings:MIe,crm:IIe,all_calls:DIe,live_monitor:$Ie,cost_analytics:LIe,team_management:zIe,organization:FIe,voice_platform:UIe},WIe={common:z3e,dashboard:K3e,campaigns:rIe,settings:mIe,components:vIe,navigation:BIe},VIe="  , {{name}}!",qIe="...",HIe="",KIe="",GIe="",YIe="",JIe="",XIe="",ZIe="",QIe="",eDe="",tDe="",rDe="",sDe="",aDe="",nDe="",iDe="",oDe="",lDe="",cDe="",dDe="",uDe="",mDe="",hDe="",fDe="",pDe="",gDe="",xDe="",yDe=" ",vDe=" ",bDe=" ",wDe={welcome:VIe,loading:qIe,save:HIe,cancel:KIe,edit:GIe,delete:"",confirm:YIe,success:JIe,error:XIe,warning:ZIe,info:QIe,yes:eDe,no:tDe,back:rDe,next:sDe,previous:aDe,search:nDe,filter:iDe,export:"",import:"",refresh:oDe,close:lDe,open:cDe,add:dDe,create:uDe,update:mDe,remove:hDe,view:fDe,manage:pDe,settings:gDe,profile:xDe,logout:yDe,login:vDe,signup:bDe},jDe=" ",NDe="",_De="",SDe={title:"",active:" ",total:" ",running:" ",paused:"",completed:"",create_new:"  "},CDe={title:"",total:" ",successful:"",failed:"",in_progress:" ",success_rate:" "},kDe={title:" ",qualified:" ",total:" ",conversion_rate:" ",review_queue:"  "},ADe={today:"",this_week:" ",this_month:" ",all_time:""},PDe={title:jDe,overview:NDe,analytics:_De,campaigns:SDe,calls:CDe,leads:kDe,quick_stats:ADe},EDe="",TDe=" ",ODe="  ",RDe=" ",MDe=" ",IDe={active:"",paused:"",completed:"",draft:""},DDe={calls_made:" ",success_rate:" ",leads_qualified:" ",cost_per_lead:"  ",total_cost:" ",duration:"",contacts_called:" ",avg_call_duration:"  "},$De={start:"",pause:"",resume:"",stop:"",edit:"",duplicate:"",archive:"",view_details:" "},LDe={title:EDe,create_campaign:TDe,campaign_wizard:ODe,campaign_settings:RDe,campaign_name:MDe,status:IDe,analytics:DDe,actions:$De},zDe="",FDe="    ",UDe={title:"  ",description:"    ",full_name:" ",email:"- ",company:"",timezone:" ",language:"",language_region:"  ",enter_full_name:"  "},BDe={title:" ",description:"       ",call_alerts:"  ",call_alerts_desc:"     ",performance:"  ",performance_desc:"   ",system_updates:"   ",system_updates_desc:"  ",billing_alerts:"    ",billing_alerts_desc:"    ",delivery_methods:" ",email_notifications:"  -",email_notifications_desc:"   -",push_notifications:"Push ",push_notifications_desc:"   ",sms_notifications:"SMS ",sms_notifications_desc:"    ",quiet_hours:" ",quiet_hours_desc:"  ",start_time:" ",end_time:" ",test_notifications:" ",test_notifications_desc:"      ",send_test_email:"  -"},WDe={title:" ",description:"  ",theme:"",accent_color:" ",compact_mode:" ",compact_mode_desc:"     "},VDe={title:" ",description:"     ",current_password:" ",new_password:" ",confirm_password:"  ",requirements:"  :",min_length:" 8 ",uppercase:"  ",lowercase:"  ",number:" ",special:"  ",recommended:"12+  ()",strength:" ",weak:"",medium:"",strong:"",passwords_match:"  ",passwords_no_match:"   ",update_password:" "},qDe=" ",HDe="...",KDe="  ",GDe={title:zDe,description:FDe,profile:UDe,notifications:BDe,appearance:WDe,password:VDe,save_changes:qDe,saving:HDe,saved_successfully:KDe},YDe={dashboard:" ",campaigns:"",crm:"CRM",analytics:"",settings:"",phone_numbers:" ",team_management:" ",billing:"",support:""},JDe={profile:"",settings:"",billing:"",support:"",sign_out:" "},XDe={mark_all_read:"   ",no_notifications:"  ",view_all:"  "},ZDe={placeholder:"...",no_results:"   ",searching:"..."},QDe={no_data:"  ",loading:" ...",rows_per_page:"  ",of:"",page:"",previous:"",next:""},e$e={required:"   ",invalid_email:"   - ",invalid_phone:"    ",min_length:"   {{count}} ",max_length:"   {{count}} "},t$e={navigation:YDe,user_dropdown:JDe,notifications:XDe,search:ZDe,table:QDe,forms:e$e},r$e=" ",s$e=" ",a$e="",n$e=" ",i$e=" ",o$e=" ",l$e=" ",c$e="  ",d$e=" ",u$e=" ",m$e="",h$e="",f$e="",p$e="",g$e="",x$e="CRM",y$e=" ",v$e=" ",b$e=" ",w$e="",j$e="",N$e=" ",_$e={dashboard:r$e,platform_overview:s$e,organizations:a$e,user_management:n$e,platform_analytics:i$e,support_tickets:o$e,system_health:l$e,security_audit:c$e,agency_dashboard:d$e,client_management:u$e,campaigns:m$e,analytics:h$e,team:f$e,billing:p$e,settings:g$e,crm:x$e,all_calls:y$e,live_monitor:v$e,cost_analytics:b$e,team_management:w$e,organization:j$e,voice_platform:N$e},S$e={common:wDe,dashboard:PDe,campaigns:LDe,settings:GDe,components:t$e,navigation:_$e},C$e="Merba lura, {{name}}!",k$e="Qed titella'...",A$e="adem",P$e="Ikkanella",E$e="Editja",T$e="Ikkonferma",O$e="Suess",R$e="ball",M$e="Twissija",I$e="Informazzjoni",D$e="Iva",$$e="Le",L$e="Lura",z$e="Li jmiss",F$e="Ta' qabel",U$e="Fittex",B$e="Filtru",W$e="edded",V$e="Aglaq",q$e="Ifta",H$e="id",K$e="Oloq",G$e="Aorna",Y$e="Nei",J$e="Ara",X$e="Immexxi",Z$e="Settings",Q$e="Profil",eLe="Oro",tLe="Idol",rLe="Irreistra",sLe={welcome:C$e,loading:k$e,save:A$e,cancel:P$e,edit:E$e,delete:"assar",confirm:T$e,success:O$e,error:R$e,warning:M$e,info:I$e,yes:D$e,no:$$e,back:L$e,next:z$e,previous:F$e,search:U$e,filter:B$e,export:"Esporta",import:"Importa",refresh:W$e,close:V$e,open:q$e,add:H$e,create:K$e,update:G$e,remove:Y$e,view:J$e,manage:X$e,settings:Z$e,profile:Q$e,logout:eLe,login:tLe,signup:rLe},aLe="Dashboard",nLe="Veduta enerali",iLe="Analitika",oLe={title:"Kampanji",active:"Kampanji attivi",total:"Total tal-kampanji",running:"Qed jimxu",paused:"Ippawati",completed:"Kompletati",create_new:"Oloq kampanja dida"},lLe={title:"empja",total:"Total ta-empja",successful:"Ta' suess",failed:"Fallew",in_progress:"F'progress",success_rate:"Rata ta' suess"},cLe={title:"Leads",qualified:"Leads kwalifikati",total:"Total ta' leads",conversion_rate:"Rata ta' konverjoni",review_queue:"Kju tar-revijoni"},dLe={today:"Illum",this_week:"Din il-imga",this_month:"Dan ix-xahar",all_time:"Kull in"},uLe={title:aLe,overview:nLe,analytics:iLe,campaigns:oLe,calls:lLe,leads:cLe,quick_stats:dLe},mLe="Kampanji",hLe="Oloq kampanja",fLe="Wizard tal-kampanja",pLe="Settings tal-kampanja",gLe="Isem tal-kampanja",xLe={active:"Attiva",paused:"Ippawata",completed:"Kompletata",draft:"Abbozz"},yLe={calls_made:"empja magmula",success_rate:"Rata ta' suess",leads_qualified:"Leads kwalifikati",cost_per_lead:"Kost gal kull lead",total_cost:"Kost totali",duration:"Tul ta' mien",contacts_called:"Kuntatti empja",avg_call_duration:"Tul medju ta-empja"},vLe={start:"Ibda",pause:"Pawa",resume:"Ikompli",stop:"Ieqaf",edit:"Editja",duplicate:"Duplika",archive:"Arkvja",view_details:"Ara d-dettalji"},bLe={title:mLe,create_campaign:hLe,campaign_wizard:fLe,campaign_settings:pLe,campaign_name:gLe,status:xLe,analytics:yLe,actions:vLe},wLe="Settings",jLe="Ikkonfigura l-preferenzi tal-pjattaforma u l-integrazzjonijiet",NLe={title:"Informazzjoni tal-profil",description:"Aorna l-informazzjoni personali u tal-kumpanija",full_name:"Isem si",email:"Indirizz tal-email",company:"Kumpanija",timezone:"ona tal-in",language:"Lingwa",language_region:"Lingwa u rejun",enter_full_name:"Daal l-isem si"},_Le={title:"Preferenzi tan-notifiki",description:"Agel kif u meta trid tii nnotifikat",call_alerts:"Allerti ta-empja",call_alerts_desc:"Ii nnotifikat dwar bidliet fl-istatus ta-empja",performance:"Notifiki tal-prestazzjoni",performance_desc:"Allerti dwar il-prestazzjoni tas-sistema",system_updates:"Aornamenti tas-sistema u manuar",system_updates_desc:"Notifiki importanti tas-sistema",billing_alerts:"Allerti tal-fatturar u las",billing_alerts_desc:"Tfakkira tal-las u fatturi",delivery_methods:"Metodi ta' kunsinna",email_notifications:"Notifiki bl-email",email_notifications_desc:"Ii notifiki bl-email",push_notifications:"Notifiki push",push_notifications_desc:"Notifiki tal-mowbajl u tal-browser",sms_notifications:"Notifiki SMS",sms_notifications_desc:"Allerti kritii permezz ta' messa tat-test",quiet_hours:"Siegat kwjeti",quiet_hours_desc:"Pawa notifiki mhux kritii",start_time:"in tal-bidu",end_time:"in tat-tmiem",test_notifications:"Ittestja notifiki",test_notifications_desc:"Ittestja tipi differenti ta' notifiki biex tara kif jadmu mas-settings attwali",send_test_email:"Ibgat email ta' test"},SLe={title:"Settings tal-dehra",description:"Ippersonalizza kif tidher u toss il-pjattaforma",theme:"Tema",accent_color:"Kulur tal-aent",compact_mode:"Modalit kompatta",compact_mode_desc:"Naqqas l-ispazjar gal densit aktar tal-kontenut"},CLe={title:"Biddel il-password",description:"Aorna l-password tal-kont tiegek gal sigurt metiea",current_password:"Password attwali",new_password:"Password dida",confirm_password:"Ikkonferma password dida",requirements:"Rekwiiti tal-password:",min_length:"Mill-inqas 8 karattri",uppercase:"Ittra wada kbira",lowercase:"Ittra wada gira",number:"Numru wieed",special:"Karattru spejali wieed",recommended:"12+ karattri (rakkomandat)",strength:"Saa tal-password",weak:"Dgajfa",medium:"Medja",strong:"B'saitha",passwords_match:"Il-passwords jaqblu",passwords_no_match:"Il-passwords ma jaqblux",update_password:"Aorna l-password"},kLe="adem il-bidliet",ALe="Qed jii salvat...",PLe="Settings ew salvati b'suess",ELe={title:wLe,description:jLe,profile:NLe,notifications:_Le,appearance:SLe,password:CLe,save_changes:kLe,saving:ALe,saved_successfully:PLe},TLe={dashboard:"Dashboard",campaigns:"Kampanji",crm:"CRM",analytics:"Analitika",settings:"Settings",phone_numbers:"Numri tat-telefown",team_management:"Immanijar tat-tim",billing:"Fatturar",support:"Appogg"},OLe={profile:"Profil",settings:"Settings",billing:"Fatturar",support:"Appogg",sign_out:"Oro"},RLe={mark_all_read:"Immarka kollha bala mqrajja",no_notifications:"Ebda notifika dida",view_all:"Ara n-notifiki kollha"},MLe={placeholder:"Fittex...",no_results:"Ebda riultat ma nstab",searching:"Qed ifittex..."},ILe={no_data:"Ebda data disponibbli",loading:"Qed titella' d-data...",rows_per_page:"Ringieli gal kull pana",of:"ta'",page:"Pana",previous:"Ta' qabel",next:"Li jmiss"},DLe={required:"Dan il-qasam huwa metie",invalid_email:"Jekk jobok daal indirizz email validu",invalid_phone:"Jekk jobok daal numru tat-telefown validu",min_length:"Gandu jkun mill-inqas {{count}} karattri",max_length:"Ma gandux ikun aktar minn {{count}} karattri"},$Le={navigation:TLe,user_dropdown:OLe,notifications:RLe,search:MLe,table:ILe,forms:DLe},LLe="Dashboard",zLe="arsa enerali tal-pjattaforma",FLe="Organizzazzjonijiet",ULe="estjoni tal-utenti",BLe="Analitii tal-pjattaforma",WLe="Biljetti tas-sapport",VLe="Saa tas-sistema",qLe="Sigurt u awditjar",HLe="Dashboard tal-aenzija",KLe="estjoni tal-klijenti",GLe="Kampanji",YLe="Analitii",JLe="Tim",XLe="Fatturar",ZLe="Settings",QLe="CRM",eze="empel kollu",tze="Monitor live",rze="Analitii tal-ispejje",sze="Tim",aze="Organizzazzjoni",nze="Pjattaforma tal-vui",ize={dashboard:LLe,platform_overview:zLe,organizations:FLe,user_management:ULe,platform_analytics:BLe,support_tickets:WLe,system_health:VLe,security_audit:qLe,agency_dashboard:HLe,client_management:KLe,campaigns:GLe,analytics:YLe,team:JLe,billing:XLe,settings:ZLe,crm:QLe,all_calls:eze,live_monitor:tze,cost_analytics:rze,team_management:sze,organization:aze,voice_platform:nze},oze={common:sLe,dashboard:uLe,campaigns:bLe,settings:ELe,components:$Le,navigation:ize},lze={"en-US":N2e,"en-GB":pAe,de:oTe,it:W5e,fr:SRe,es:o3e,ru:WIe,sr:S$e,mt:oze};Na.use(i9).use(UNe).init({resources:lze,fallbackLng:"en-GB",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"apex-language"},interpolation:{escapeValue:!1},defaultNS:"common",ns:["common","dashboard","campaigns","settings","components","navigation","crm","analytics"]});console.log("main.tsx: Starting application initialization");console.log("main.tsx: Environment:",{NODE_ENV:"production",VITE_CLERK_KEY:"Present",VITE_API_URL:"/api",VITE_SUPABASE_URL:"https://twigokrtbvigiqnaybfy.supabase.co"});const cze="pk_test_dW5pdGVkLWNob3ctMTMuY2xlcmsuYWNjb3VudHMuZGV2JA";console.log("main.tsx: Clerk key configured:","Yes");function dze(){console.log("main.tsx: ClerkWithRouterBridge component rendering");const e=br();return r.jsx(t3,{publishableKey:cze,afterSignInUrl:"/dashboard",afterSignUpUrl:"/dashboard",signInUrl:"/login",signUpUrl:"/signup",routerPush:t=>e(t),routerReplace:t=>e(t,{replace:!0}),children:r.jsx(pZ,{children:r.jsx(G_e,{})})})}class uze extends de.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return console.error("ErrorBoundary caught error:",t),{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error details:",t,s)}render(){var t;return this.state.hasError?r.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#0a0a0a"},children:[r.jsx("h1",{children:"Application Error"}),r.jsx("pre",{style:{color:"red"},children:(t=this.state.error)==null?void 0:t.toString()}),r.jsx("p",{children:"Check the browser console for details."})]}):this.props.children}}function mze(){return r.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#0a0a0a",fontFamily:"monospace"},children:[r.jsx("h1",{children:"Trinity Labs AI - Diagnostic Mode"}),r.jsx("p",{children:"React is running but there may be an initialization issue."}),r.jsx("h2",{children:"Environment Variables:"}),r.jsx("pre",{children:JSON.stringify({MODE:"production",CLERK_KEY:"Present",API_URL:"/api",SUPABASE_URL:"https://twigokrtbvigiqnaybfy.supabase.co",BACKEND_URL:"Missing",USE_DEV_AUTH:"false"},null,2)}),r.jsx("h2",{children:"Attempting to load main app..."})]})}console.log("main.tsx: Looking for root element");const f0=document.getElementById("root");if(!f0)console.error("main.tsx: Root element not found!"),document.body.innerHTML='<div style="color: white; padding: 20px;">Error: Root element not found in DOM</div>';else{console.log("main.tsx: Root element found, creating React root");try{const e=JA.createRoot(f0);console.log("main.tsx: React root created, attempting render"),e.render(r.jsx(de.StrictMode,{children:r.jsx(uze,{children:r.jsx(BK,{children:r.jsx(dze,{})})})})),console.log("main.tsx: Render method called successfully")}catch(e){console.error("main.tsx: Fatal error during render:",e);try{JA.createRoot(f0).render(r.jsx(mze,{})),console.log("main.tsx: Rendered diagnostic app")}catch(t){console.error("main.tsx: Even diagnostic app failed:",t),f0.innerHTML=`<div style="color: white; padding: 20px;">
        <h1>Critical Error</h1>
        <p>Failed to initialize React application</p>
        <pre>${t}</pre>
      </div>`}}}console.log("main.tsx: Script execution completed");
